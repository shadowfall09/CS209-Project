{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1643081827,"post_id":70842992,"comment_id":125239639,"body_markdown":"It&#39;s in the `lib` subfolder.","body":"It&#39;s in the <code>lib</code> subfolder."}],"answers":[{"tags":[],"owner":{"account_id":23780557,"reputation":73,"user_id":17793299,"display_name":"Arthur_Morgan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1643104355,"creation_date":1643081615,"answer_id":70843129,"question_id":70842992,"body_markdown":"Maybe this is what you want：[jdk-17][1]\r\n\r\n\r\n-----------------------------------\r\nUPDATE  ：\r\n1. Download &#39;[oracle linux jdk][2]&#39;, and you can find `src.zip` via path `jdk-17_linux-x64_bin\\jdk-17.0.2\\lib\\src.zip` ;\r\n2. This link [jdk-17][1] stores the decompressed files of `src.zip`. Since it&#39;s not officially certified, we&#39;d better ignore it even if it&#39;s official source code.\r\n\r\n\r\n  [1]: https://github.com/zxiaofan/JDK/tree/master/jdk-17/src\r\n  [2]: https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz","title":"Can&#39;t get the src.zip for jdk-17","body":"<p>Maybe this is what you want：<a href=\"https://github.com/zxiaofan/JDK/tree/master/jdk-17/src\" rel=\"nofollow noreferrer\">jdk-17</a></p>\n<hr />\n<p>UPDATE  ：</p>\n<ol>\n<li>Download '<a href=\"https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">oracle linux jdk</a>', and you can find <code>src.zip</code> via path <code>jdk-17_linux-x64_bin\\jdk-17.0.2\\lib\\src.zip</code> ;</li>\n<li>This link <a href=\"https://github.com/zxiaofan/JDK/tree/master/jdk-17/src\" rel=\"nofollow noreferrer\">jdk-17</a> stores the decompressed files of <code>src.zip</code>. Since it's not officially certified, we'd better ignore it even if it's official source code.</li>\n</ol>\n"}],"owner":{"account_id":3911786,"reputation":521,"user_id":3236879,"accept_rate":14,"display_name":"user3236879"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1643134392,"accepted_answer_id":70843129,"answer_count":1,"score":1,"last_activity_date":1648949142,"creation_date":1643080078,"question_id":70842992,"body_markdown":"I downloaded the jdk-17 from below link: https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\r\n\r\nBut I can&#39;t find the src.zip in the jdk folder, which should contain source code. From where can I download that?\r\n","title":"Can&#39;t get the src.zip for jdk-17","body":"<p>I downloaded the jdk-17 from below link: <a href=\"https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz\" rel=\"nofollow noreferrer\">https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.tar.gz</a></p>\n<p>But I can't find the src.zip in the jdk folder, which should contain source code. From where can I download that?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648948558,"creation_date":1648948558,"answer_id":71722285,"question_id":71721941,"body_markdown":"As far as I can tell, your `GPS` node has three child nodes. One is the `GPSData` node with two properties under it, and then two nodes (`f_latitude` and `f_longitude`) with numeric values. \r\n\r\nSince you&#39;re reading `GPS` and then looping over its children with `for(DataSnapshot dataSnapshot : snapshot.getChildren())`, the `dataSnapshot` will point to each of these three child nodes (`GPSData`, `f_latitude` and `f_longitude`) in turn. And while the values under `GPSData` match with your `Data_Model` class, the other two nodes are simple numeric values so can&#39;t be converted to a `Data_Model` object. That&#39;s what the error message tells you.\r\n\r\nTo make the current code work, move the `f_latitude` and `f_longitude` under the `GPSData` node.","title":"Can&#39;t convert object of type java.lang.Double to type com.newapp.elephantapplication.Data_Model","body":"<p>As far as I can tell, your <code>GPS</code> node has three child nodes. One is the <code>GPSData</code> node with two properties under it, and then two nodes (<code>f_latitude</code> and <code>f_longitude</code>) with numeric values.</p>\n<p>Since you're reading <code>GPS</code> and then looping over its children with <code>for(DataSnapshot dataSnapshot : snapshot.getChildren())</code>, the <code>dataSnapshot</code> will point to each of these three child nodes (<code>GPSData</code>, <code>f_latitude</code> and <code>f_longitude</code>) in turn. And while the values under <code>GPSData</code> match with your <code>Data_Model</code> class, the other two nodes are simple numeric values so can't be converted to a <code>Data_Model</code> object. That's what the error message tells you.</p>\n<p>To make the current code work, move the <code>f_latitude</code> and <code>f_longitude</code> under the <code>GPSData</code> node.</p>\n"}],"owner":{"account_id":13544510,"reputation":9,"user_id":9771253,"display_name":"Sudarshana Atapattu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71722285,"answer_count":1,"score":0,"last_activity_date":1648948558,"creation_date":1648942817,"question_id":71721941,"body_markdown":"I&#39;m trying to connect my app to a Firebase Database, but whenever I launch the code that problem shows up\r\n\r\nthat&#39;s my &quot;LiveLocationActivity&quot; activity\r\n\r\n    public class LiveLocationActivity extends AppCompatActivity implements OnMapReadyCallback {    \r\n        RecyclerView recyclerView ;\r\n        DatabaseReference db;\r\n        Data_Adapter data_adapter ;\r\n        ArrayList&lt;Data_Model&gt; list ;\r\n    \r\n        private GoogleMap mMap;\r\n        private ActivityMapsBinding binding;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_live_location_acivity);\r\n    \r\n            recyclerView = findViewById(R.id.eleList);\r\n            db = FirebaseDatabase.getInstance().getReference(&quot;GPS&quot;);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            MapFragment mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map_frag);\r\n            mapFragment.getMapAsync(this);    \r\n    \r\n            list = new ArrayList&lt;&gt;();\r\n            data_adapter  = new  Data_Adapter(this,list);\r\n            recyclerView.setAdapter(data_adapter);\r\n            db.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for(DataSnapshot dataSnapshot : snapshot.getChildren())\r\n                    {\r\n                        Data_Model data_model = dataSnapshot.getValue(Data_Model.class);\r\n                        list.add(data_model);\r\n                    }\r\n                    data_adapter.notifyDataSetChanged();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {    \r\n                }\r\n            });    \r\n        }\r\n    \r\n        @Override\r\n        public void onMapReady(@NonNull GoogleMap googleMap) {\r\n            mMap = googleMap;\r\n    \r\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;GPS&quot;);\r\n    \r\n            ValueEventListener listener = databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n                    Double f_latitude = snapshot.child(&quot;f_latitude&quot;).getValue(Double.class);\r\n                    Double f_longitude = snapshot.child(&quot;f_longitude&quot;).getValue(Double.class);\r\n    \r\n    //                Double f_latitude = 28.6139391;\r\n    //                Double f_longitude = 77.2068325 ;\r\n    \r\n                    LatLng location = new LatLng(f_latitude,f_longitude);\r\n    \r\n                    mMap.addMarker(new MarkerOptions().position(location).title(&quot;ELE00001&quot;));\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(location));\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nthat&#39;s my Data Model class\r\n\r\n    public class Data_Model {\r\n        String IdElephant,Daily_Log_Date;\r\n        long f_latitude,f_longitude;\r\n    \r\n        public Data_Model(String idElephant, String daily_Log_Date, long f_latitude, long f_longitude) {\r\n            IdElephant = idElephant;\r\n            Daily_Log_Date = daily_Log_Date;\r\n            this.f_latitude = f_latitude;\r\n            this.f_longitude = f_longitude;\r\n        }\r\n    \r\n        public String getIdElephant() {\r\n            return IdElephant;\r\n        }\r\n    \r\n        public String getDaily_Log_Date() {\r\n            return Daily_Log_Date;\r\n        }\r\n    \r\n        public long getF_latitude() {\r\n            return f_latitude;\r\n        }\r\n    \r\n        public long getF_longitude() {\r\n            return f_longitude;\r\n        }\r\n    \r\n        public void setIdElephant(String idElephant) {\r\n            IdElephant = idElephant;\r\n        }\r\n    \r\n        public void setDaily_Log_Date(String daily_Log_Date) {\r\n            Daily_Log_Date = daily_Log_Date;\r\n        }\r\n    \r\n        public void setF_latitude(long f_latitude) {\r\n            this.f_latitude = f_latitude;\r\n        }\r\n    \r\n        public void setF_longitude(long f_longitude) {\r\n            this.f_longitude = f_longitude;\r\n        }\r\n    \r\n        public  Data_Model (){\r\n        }\r\n    }\r\n\r\n![*Firebase Database*][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7g7s9.png\r\n\r\n\r\nand my log error\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.newapp.elephantapplication, PID: 31757\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.Double to type com.newapp.elephantapplication.Data_Model\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.newapp.elephantapplication.LiveLocationActivity$1.onDataChange(LiveLocationActivity.java:58)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:739)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:158)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7224)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\r\n\r\nIt&#39;s my first time using Firebase; I&#39;ve seen other questions on the subject, but I&#39;m having trouble figuring out how to get it to work; I&#39;m hoping you can assist me.\r\n","title":"Can&#39;t convert object of type java.lang.Double to type com.newapp.elephantapplication.Data_Model","body":"<p>I'm trying to connect my app to a Firebase Database, but whenever I launch the code that problem shows up</p>\n<p>that's my &quot;LiveLocationActivity&quot; activity</p>\n<pre><code>public class LiveLocationActivity extends AppCompatActivity implements OnMapReadyCallback {    \n    RecyclerView recyclerView ;\n    DatabaseReference db;\n    Data_Adapter data_adapter ;\n    ArrayList&lt;Data_Model&gt; list ;\n\n    private GoogleMap mMap;\n    private ActivityMapsBinding binding;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_live_location_acivity);\n\n        recyclerView = findViewById(R.id.eleList);\n        db = FirebaseDatabase.getInstance().getReference(&quot;GPS&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        MapFragment mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map_frag);\n        mapFragment.getMapAsync(this);    \n\n        list = new ArrayList&lt;&gt;();\n        data_adapter  = new  Data_Adapter(this,list);\n        recyclerView.setAdapter(data_adapter);\n        db.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot : snapshot.getChildren())\n                {\n                    Data_Model data_model = dataSnapshot.getValue(Data_Model.class);\n                    list.add(data_model);\n                }\n                data_adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {    \n            }\n        });    \n    }\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;GPS&quot;);\n\n        ValueEventListener listener = databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                Double f_latitude = snapshot.child(&quot;f_latitude&quot;).getValue(Double.class);\n                Double f_longitude = snapshot.child(&quot;f_longitude&quot;).getValue(Double.class);\n\n//                Double f_latitude = 28.6139391;\n//                Double f_longitude = 77.2068325 ;\n\n                LatLng location = new LatLng(f_latitude,f_longitude);\n\n                mMap.addMarker(new MarkerOptions().position(location).title(&quot;ELE00001&quot;));\n                mMap.moveCamera(CameraUpdateFactory.newLatLng(location));\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {    \n            }\n        });\n    }\n}\n</code></pre>\n<p>that's my Data Model class</p>\n<pre><code>public class Data_Model {\n    String IdElephant,Daily_Log_Date;\n    long f_latitude,f_longitude;\n\n    public Data_Model(String idElephant, String daily_Log_Date, long f_latitude, long f_longitude) {\n        IdElephant = idElephant;\n        Daily_Log_Date = daily_Log_Date;\n        this.f_latitude = f_latitude;\n        this.f_longitude = f_longitude;\n    }\n\n    public String getIdElephant() {\n        return IdElephant;\n    }\n\n    public String getDaily_Log_Date() {\n        return Daily_Log_Date;\n    }\n\n    public long getF_latitude() {\n        return f_latitude;\n    }\n\n    public long getF_longitude() {\n        return f_longitude;\n    }\n\n    public void setIdElephant(String idElephant) {\n        IdElephant = idElephant;\n    }\n\n    public void setDaily_Log_Date(String daily_Log_Date) {\n        Daily_Log_Date = daily_Log_Date;\n    }\n\n    public void setF_latitude(long f_latitude) {\n        this.f_latitude = f_latitude;\n    }\n\n    public void setF_longitude(long f_longitude) {\n        this.f_longitude = f_longitude;\n    }\n\n    public  Data_Model (){\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/7g7s9.png\" alt=\"Firebase Database\" /></p>\n<p>and my log error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.newapp.elephantapplication, PID: 31757\ncom.google.firebase.database.DatabaseException: Can't convert object of type java.lang.Double to type com.newapp.elephantapplication.Data_Model\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n    at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n    at com.newapp.elephantapplication.LiveLocationActivity$1.onDataChange(LiveLocationActivity.java:58)\n    at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n    at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n    at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:158)\n    at android.app.ActivityThread.main(ActivityThread.java:7224)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n</code></pre>\n<p>It's my first time using Firebase; I've seen other questions on the subject, but I'm having trouble figuring out how to get it to work; I'm hoping you can assist me.</p>\n"},{"tags":["java","spring-boot","spring-test"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1645085037,"post_id":71154294,"comment_id":125777988,"body_markdown":"Does this answer your question? [spring boot test unable to inject TestRestTemplate and MockMvc](https://stackoverflow.com/questions/39213531/spring-boot-test-unable-to-inject-testresttemplate-and-mockmvc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39213531/spring-boot-test-unable-to-inject-testresttemplate-and-mockmvc\">spring boot test unable to inject TestRestTemplate and MockMvc</a>"},{"owner":{"account_id":2589371,"reputation":3454,"user_id":3655069,"accept_rate":25,"display_name":"Sun"},"score":0,"creation_date":1645090205,"post_id":71154294,"comment_id":125779887,"body_markdown":"I already check same issue. A changed accordingly, but no luck.","body":"I already check same issue. A changed accordingly, but no luck."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1645096171,"post_id":71154294,"comment_id":125782425,"body_markdown":"Have you tried adding `@RunWith(SpringRunner.class)`?","body":"Have you tried adding <code>@RunWith(SpringRunner.class)</code>?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1648948149,"post_id":71154294,"comment_id":126751686,"body_markdown":"Please refrain from adding &quot;Please help&quot; or &quot;Need help&quot; or other such statements to your posts. This is implied by your posting a question.","body":"Please refrain from adding &quot;Please help&quot; or &quot;Need help&quot; or other such statements to your posts. This is implied by your posting a question."}],"answers":[{"tags":[],"owner":{"account_id":10743627,"reputation":655,"user_id":7905787,"display_name":"Adnan Bashir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645086232,"creation_date":1645086232,"answer_id":71154596,"question_id":71154294,"body_markdown":"try this template \r\n```\r\npublic ArrayList&lt;ABC&gt; lovApi(LovsRequestDto reqObj) {\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\nHttpEntity&lt;ABCDto&gt; entity = new HttpEntity&lt;ABCDto&gt;(reqObj, headers);\r\n\r\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n\r\nString postUrl = &quot;http://80.111.23.23.33333.....&quot;;\r\n\r\nResponseEntity&lt;LovsResponse&gt; postResponse = restTemplate.exchange(postUrl, HttpMethod.POST, entity, LovsResponse.class);\r\nreturn postResponse.getBody().getLovs_response_details().getLovList();\r\n\r\n}\r\n```","title":"Spring Boot Integration Testing - TestRestTemplate null","body":"<p>try this template</p>\n<pre><code>public ArrayList&lt;ABC&gt; lovApi(LovsRequestDto reqObj) {\n\nHttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\nHttpEntity&lt;ABCDto&gt; entity = new HttpEntity&lt;ABCDto&gt;(reqObj, headers);\n\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\nRestTemplate restTemplate = new RestTemplate(requestFactory);\n\nString postUrl = &quot;http://80.111.23.23.33333.....&quot;;\n\nResponseEntity&lt;LovsResponse&gt; postResponse = restTemplate.exchange(postUrl, HttpMethod.POST, entity, LovsResponse.class);\nreturn postResponse.getBody().getLovs_response_details().getLovList();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13173045,"reputation":24,"user_id":9514691,"display_name":"shengdoushi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645089771,"creation_date":1645089771,"answer_id":71155380,"question_id":71154294,"body_markdown":"try to create a new restTemplate bean in sendOtpTest mehtods. you get null point because this.restTemplate is not be instation; wish help you;","title":"Spring Boot Integration Testing - TestRestTemplate null","body":"<p>try to create a new restTemplate bean in sendOtpTest mehtods. you get null point because this.restTemplate is not be instation; wish help you;</p>\n"}],"owner":{"account_id":2589371,"reputation":3454,"user_id":3655069,"accept_rate":25,"display_name":"Sun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648948108,"creation_date":1645084596,"question_id":71154294,"body_markdown":"I am using **Spring Boot 2.1.2** and **junit-jupiter-api-5.3.2** and I am doing integration testing.\r\n\r\nMy test case is this:\r\n\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    import com.ril.vms.hawkeye.otp.dto.SendOTPRequestDTO;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\r\n    import org.springframework.boot.test.web.client.TestRestTemplate;\r\n    import org.springframework.boot.web.server.LocalServerPort;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import org.springframework.test.context.jdbc.Sql;\r\n    import org.springframework.test.web.servlet.MvcResult;\r\n    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n    \r\n    @SpringBootTest(classes = MyApplication.class,\r\n            webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;sit&quot;)\r\n    public class OtpControllerIntegrationTest\r\n    {\r\n        @LocalServerPort\r\n        private int port;\r\n    \r\n        @Autowired\r\n        private TestRestTemplate restTemplate;\r\n    \r\n        @Test\r\n        public void sendOtpTest() throws Exception {\r\n    \r\n            SendOTPRequest otpRequest = new SendOTPRequestDTO();\r\n            otpRequest.setClientId(&quot;default2&quot;);\r\n            otpRequest.setTag(&quot;tag&quot;);\r\n            otpRequest.setMobileNumber(&quot;9999999999&quot;);\r\n            ResponseEntity&lt;String&gt; responseEntity = this.restTemplate\r\n                    .postForEntity(&quot;http://localhost:&quot; + port + &quot;/sendOtp&quot;, otpRequest, String.class);\r\n            assertEquals(201, responseEntity.getStatusCodeValue());\r\n    \r\n        }\r\n    }\r\n\r\nBut I am getting `java.lang.NullPointerException` at below line. \r\n\r\n`ResponseEntity&lt;String&gt; responseEntity = this.restTemplate ...`\r\n","title":"Spring Boot Integration Testing - TestRestTemplate null","body":"<p>I am using <strong>Spring Boot 2.1.2</strong> and <strong>junit-jupiter-api-5.3.2</strong> and I am doing integration testing.</p>\n<p>My test case is this:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport com.ril.vms.hawkeye.otp.dto.SendOTPRequestDTO;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.context.SpringBootTest.WebEnvironment;\nimport org.springframework.boot.test.web.client.TestRestTemplate;\nimport org.springframework.boot.web.server.LocalServerPort;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.jdbc.Sql;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n\n@SpringBootTest(classes = MyApplication.class,\n        webEnvironment = WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;sit&quot;)\npublic class OtpControllerIntegrationTest\n{\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private TestRestTemplate restTemplate;\n\n    @Test\n    public void sendOtpTest() throws Exception {\n\n        SendOTPRequest otpRequest = new SendOTPRequestDTO();\n        otpRequest.setClientId(&quot;default2&quot;);\n        otpRequest.setTag(&quot;tag&quot;);\n        otpRequest.setMobileNumber(&quot;9999999999&quot;);\n        ResponseEntity&lt;String&gt; responseEntity = this.restTemplate\n                .postForEntity(&quot;http://localhost:&quot; + port + &quot;/sendOtp&quot;, otpRequest, String.class);\n        assertEquals(201, responseEntity.getStatusCodeValue());\n\n    }\n}\n</code></pre>\n<p>But I am getting <code>java.lang.NullPointerException</code> at below line.</p>\n<p><code>ResponseEntity&lt;String&gt; responseEntity = this.restTemplate ...</code></p>\n"},{"tags":["java","serialization","bytebuffer","flatbuffers"],"comments":[{"owner":{"account_id":9427,"reputation":5674,"user_id":17419,"display_name":"Aardappel"},"score":1,"creation_date":1648949741,"post_id":71722193,"comment_id":126751850,"body_markdown":"There is no way to know the exact byte size of a table you haven&#39;t written yet, so your best bet indeed is to stop adding data at a conservative limit well below 2GB.","body":"There is no way to know the exact byte size of a table you haven&#39;t written yet, so your best bet indeed is to stop adding data at a conservative limit well below 2GB."},{"owner":{"account_id":7438175,"reputation":309,"user_id":5656829,"display_name":"matharumanpreet00"},"score":0,"creation_date":1648951604,"post_id":71722193,"comment_id":126752058,"body_markdown":"Thanks for the response, it makes sense to keep it simple. I&#39;ll go with that for now. If I am able to determine any size bounds on the incoming objects, then I&#39;ll look into doing some size estimation or tracking.","body":"Thanks for the response, it makes sense to keep it simple. I&#39;ll go with that for now. If I am able to determine any size bounds on the incoming objects, then I&#39;ll look into doing some size estimation or tracking."}],"owner":{"account_id":7438175,"reputation":309,"user_id":5656829,"display_name":"matharumanpreet00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648946961,"creation_date":1648946961,"question_id":71722193,"body_markdown":"I am trying to use the `FlatBufferBuilder` Java API to serialize large amount of data (\\&gt;100GB) into a sequence of size prefixed flatbuffers.\r\n\r\nIs there a way to test if next write of a compiler generated `Table` object might give an `AssertionError` tied to growing above 2GB `ByteBuffer` size limit. There is an `int offset()` method but it doesn&#39;t account for alignment.\r\n\r\nFurthermore, It&#39;s hard to extend the `FlatBufferBuilder` class since all the fields are private and only protected member is the `finish()` method\r\n\r\nDoes anyone know if its possible to perform this book-keeping to prevent possible buffer overflow ? I know we can&#39;t know size of every object beforehand but maybe a good hint can be taken from reusing some parts of this calculation\r\n\r\nOne possible simple solution could be to add a size cap of little bit less than 1GB possible using `offset()`. Since minimum alignment is the largest size of any object seen in the buffer, this would ensure it doesn&#39;t go above 1GB and total less than 2GB. I&#39;m not sure if it might actually work. This doesn&#39;t require making any changes to the builder API.\r\n\r\nI tried to do a infinite loop to write a `byte` value and it exits with an `AssertionError` tied to 2GB buffer size limit.\r\n\r\nI looked at extending the `FlatBufferBuilder` but most of the members are private.","title":"Is there a way to test if the buffer might overflow (go above 2GB) before the write happens in a FlatBufferBuilder?","body":"<p>I am trying to use the <code>FlatBufferBuilder</code> Java API to serialize large amount of data (&gt;100GB) into a sequence of size prefixed flatbuffers.</p>\n<p>Is there a way to test if next write of a compiler generated <code>Table</code> object might give an <code>AssertionError</code> tied to growing above 2GB <code>ByteBuffer</code> size limit. There is an <code>int offset()</code> method but it doesn't account for alignment.</p>\n<p>Furthermore, It's hard to extend the <code>FlatBufferBuilder</code> class since all the fields are private and only protected member is the <code>finish()</code> method</p>\n<p>Does anyone know if its possible to perform this book-keeping to prevent possible buffer overflow ? I know we can't know size of every object beforehand but maybe a good hint can be taken from reusing some parts of this calculation</p>\n<p>One possible simple solution could be to add a size cap of little bit less than 1GB possible using <code>offset()</code>. Since minimum alignment is the largest size of any object seen in the buffer, this would ensure it doesn't go above 1GB and total less than 2GB. I'm not sure if it might actually work. This doesn't require making any changes to the builder API.</p>\n<p>I tried to do a infinite loop to write a <code>byte</code> value and it exits with an <code>AssertionError</code> tied to 2GB buffer size limit.</p>\n<p>I looked at extending the <code>FlatBufferBuilder</code> but most of the members are private.</p>\n"},{"tags":["java","apache-spark","amazon-s3","dependencies"],"answers":[{"tags":[],"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590544194,"creation_date":1590488952,"answer_id":62020040,"question_id":62018790,"body_markdown":"I have faced same issue &amp; I have deleted ```.ivy2/cache```, ```ivy2/jars``` and ```.m2/repository/``` directories and executed ```spark-shell --package``` command it started working.\r\n\r\n","title":"Fail to resolving dependencies of org.apache.hadoop:hadoop-aws:2.7.6","body":"<p>I have faced same issue &amp; I have deleted <code>.ivy2/cache</code>, <code>ivy2/jars</code> and <code>.m2/repository/</code> directories and executed <code>spark-shell --package</code> command it started working.</p>\n"},{"tags":[],"owner":{"account_id":18674500,"reputation":19,"user_id":13612470,"display_name":"Hero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590542442,"creation_date":1590542442,"answer_id":62033957,"question_id":62018790,"body_markdown":"Finally I try to download the missing jar files from maven repository [maven repository][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/\r\n\r\nAnd I put them into properly repository of .m2/repository","title":"Fail to resolving dependencies of org.apache.hadoop:hadoop-aws:2.7.6","body":"<p>Finally I try to download the missing jar files from maven repository <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">maven repository</a></p>\n\n<p>And I put them into properly repository of .m2/repository</p>\n"},{"tags":[],"owner":{"account_id":421563,"reputation":731,"user_id":799873,"display_name":"Le Hai Chau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648946774,"creation_date":1648946774,"answer_id":71722175,"question_id":62018790,"body_markdown":"Deleting ~/.m2/repository in addition to ~/.ivy2/cache worked for me (from http://code.google.com/p/simple-build-tool/wiki/Troubleshooting ).","title":"Fail to resolving dependencies of org.apache.hadoop:hadoop-aws:2.7.6","body":"<p>Deleting ~/.m2/repository in addition to ~/.ivy2/cache worked for me (from <a href=\"http://code.google.com/p/simple-build-tool/wiki/Troubleshooting\" rel=\"nofollow noreferrer\">http://code.google.com/p/simple-build-tool/wiki/Troubleshooting</a> ).</p>\n"}],"owner":{"account_id":18674500,"reputation":19,"user_id":13612470,"display_name":"Hero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62033957,"answer_count":3,"score":1,"last_activity_date":1648946774,"creation_date":1590485090,"question_id":62018790,"body_markdown":"When I type following command to let my java spark to read the csv file from amazon s3\r\n```\r\nspark-submit --class myApp --packages org.apache.hadoop:hadoop-aws:2.7.6 --master local ./target/spark_pratice.jar\r\n```\r\n\r\nError Message \r\n\r\n```\r\n\r\n                ::::::::::::::::::::::::::::::::::::::::::::::\r\n\r\n                ::              FAILED DOWNLOADS            ::\r\n\r\n                :: ^ see resolution messages for details  ^ ::\r\n\r\n                ::::::::::::::::::::::::::::::::::::::::::::::\r\n\r\n                :: javax.activation#activation;1.1!activation.jar\r\n\r\n                :: asm#asm;3.2!asm.jar\r\n\r\n                :: org.apache.avro#avro;1.7.4!avro.jar\r\n\r\n                :: com.thoughtworks.paranamer#paranamer;2.3!paranamer.jar\r\n\r\n                :: org.xerial.snappy#snappy-java;1.0.4.1!snappy-java.jar(bundle)\r\n\r\n                :: io.netty#netty;3.6.2.Final!netty.jar(bundle)\r\n\r\n                ::::::::::::::::::::::::::::::::::::::::::::::\r\n:: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\r\nException in thread &quot;main&quot; java.lang.RuntimeException: [\r\n    download failed: javax.activation#activation;1.1!activation.jar, \r\n    download failed: asm#asm;3.2!asm.jar, \r\n    download failed: org.apache.avro#avro;1.7.4!avro.jar, \r\n    download failed: com.thoughtworks.paranamer#paranamer;2.3!paranamer.jar, \r\n    download failed: org.xerial.snappy#snappy-java;1.0.4.1!snappy-java.jar(bundle), \r\n    download failed: io.netty#netty;3.6.2.Final!netty.jar(bundle)\r\n]\r\n```\r\n\r\nI don&#39;t know how to resolve this problem. \r\nShould I update anything ? maven ? or something else ?  ","title":"Fail to resolving dependencies of org.apache.hadoop:hadoop-aws:2.7.6","body":"<p>When I type following command to let my java spark to read the csv file from amazon s3</p>\n\n<pre><code>spark-submit --class myApp --packages org.apache.hadoop:hadoop-aws:2.7.6 --master local ./target/spark_pratice.jar\n</code></pre>\n\n<p>Error Message </p>\n\n<pre><code>\n                ::::::::::::::::::::::::::::::::::::::::::::::\n\n                ::              FAILED DOWNLOADS            ::\n\n                :: ^ see resolution messages for details  ^ ::\n\n                ::::::::::::::::::::::::::::::::::::::::::::::\n\n                :: javax.activation#activation;1.1!activation.jar\n\n                :: asm#asm;3.2!asm.jar\n\n                :: org.apache.avro#avro;1.7.4!avro.jar\n\n                :: com.thoughtworks.paranamer#paranamer;2.3!paranamer.jar\n\n                :: org.xerial.snappy#snappy-java;1.0.4.1!snappy-java.jar(bundle)\n\n                :: io.netty#netty;3.6.2.Final!netty.jar(bundle)\n\n                ::::::::::::::::::::::::::::::::::::::::::::::\n:: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS\nException in thread \"main\" java.lang.RuntimeException: [\n    download failed: javax.activation#activation;1.1!activation.jar, \n    download failed: asm#asm;3.2!asm.jar, \n    download failed: org.apache.avro#avro;1.7.4!avro.jar, \n    download failed: com.thoughtworks.paranamer#paranamer;2.3!paranamer.jar, \n    download failed: org.xerial.snappy#snappy-java;1.0.4.1!snappy-java.jar(bundle), \n    download failed: io.netty#netty;3.6.2.Final!netty.jar(bundle)\n]\n</code></pre>\n\n<p>I don't know how to resolve this problem. \nShould I update anything ? maven ? or something else ?  </p>\n"},{"tags":["java","3d","libgdx"],"comments":[{"owner":{"account_id":1508159,"reputation":1068,"user_id":1411030,"accept_rate":52,"display_name":"ether_joe"},"score":0,"creation_date":1648919949,"post_id":71718620,"comment_id":126747102,"body_markdown":"Hello Vlad and welcome to LibGDX ! I think you&#39;ll get better luck with your question if you post some code of what you&#39;ve done to this point. I would suggest Game From Scratch tutorials as well ... awesome tutorials.","body":"Hello Vlad and welcome to LibGDX ! I think you&#39;ll get better luck with your question if you post some code of what you&#39;ve done to this point. I would suggest Game From Scratch tutorials as well ... awesome tutorials."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648946537,"creation_date":1648946537,"answer_id":71722156,"question_id":71718620,"body_markdown":"If you&#39;re using delta time from the game engine to move it each frame, there will be a probable build-up of error over time. For any long-running animation (more than a minute or so), you should use elapsed time that is calculated by subtracting the start time from the current time. Then use the elapsed time to get the current animation state. Then it will never have any error relative to the start time. \r\n\r\nI also like to divide out the time it takes for an animation to repeat before converting to a float to get the animation progress. That way we don&#39;t lose precision as time goes on. \r\n\r\nFor example:\r\n\r\n```\r\nlong startTime;\r\nlong animationRepeatTime = 24 * 60 * 60; // one rotation per 24 hours\r\n\r\n@Override\r\npublic void start() {\r\n    //...\r\n\r\n    startTime = System.currentTimeMillis();\r\n}\r\n\r\n@Override\r\npublic void render() {\r\n    // ...\r\n\r\n    long now = System.currentTimeMillis();\r\n    long elapsed = now - startTime;\r\n    long animationElapsed = elapsed % animationRepeatTime;\r\n    float animationProgress = (float)animationElapsed / (float)animationRepeatTime;\r\n\r\n    // Use animationProgress to get the current animation state.\r\n    // For a rotating planet:\r\n    float degreesRotation = animationProgress * 360f;\r\n    // use degreesRotation to rotate the planet model.\r\n}\r\n```","title":"Rotation of a sphere with certain velocity. (360 degrees in 24 hours)","body":"<p>If you're using delta time from the game engine to move it each frame, there will be a probable build-up of error over time. For any long-running animation (more than a minute or so), you should use elapsed time that is calculated by subtracting the start time from the current time. Then use the elapsed time to get the current animation state. Then it will never have any error relative to the start time.</p>\n<p>I also like to divide out the time it takes for an animation to repeat before converting to a float to get the animation progress. That way we don't lose precision as time goes on.</p>\n<p>For example:</p>\n<pre><code>long startTime;\nlong animationRepeatTime = 24 * 60 * 60; // one rotation per 24 hours\n\n@Override\npublic void start() {\n    //...\n\n    startTime = System.currentTimeMillis();\n}\n\n@Override\npublic void render() {\n    // ...\n\n    long now = System.currentTimeMillis();\n    long elapsed = now - startTime;\n    long animationElapsed = elapsed % animationRepeatTime;\n    float animationProgress = (float)animationElapsed / (float)animationRepeatTime;\n\n    // Use animationProgress to get the current animation state.\n    // For a rotating planet:\n    float degreesRotation = animationProgress * 360f;\n    // use degreesRotation to rotate the planet model.\n}\n</code></pre>\n"}],"owner":{"account_id":24799614,"reputation":1,"user_id":18682102,"display_name":"Vlad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71722156,"answer_count":1,"score":0,"last_activity_date":1648946537,"creation_date":1648911462,"question_id":71718620,"body_markdown":"I am trying to create a 3D model of solar system. For this purposes i have chosen LibGDX Framework. Currently i am puzzling over, how to rotate the earth model with certain velocity. I want it to rotate with 360 degrees in 24 hours. I made some attempts, to rotate it to some tiny delta each frame, so that in sum it gives 360 degrees after one minute (or hour).  \r\nSo my question, what would be the most convenient way to achieve it? ","title":"Rotation of a sphere with certain velocity. (360 degrees in 24 hours)","body":"<p>I am trying to create a 3D model of solar system. For this purposes i have chosen LibGDX Framework. Currently i am puzzling over, how to rotate the earth model with certain velocity. I want it to rotate with 360 degrees in 24 hours. I made some attempts, to rotate it to some tiny delta each frame, so that in sum it gives 360 degrees after one minute (or hour).<br />\nSo my question, what would be the most convenient way to achieve it?</p>\n"},{"tags":["java","email","outlook"],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648945922,"creation_date":1366908199,"answer_id":16220335,"question_id":16210013,"body_markdown":"You can use Outlook Object Model (see MailItem.SaveAs) if you have a local Outlook profile configured to access the Exchange mailbox in question.\r\n\r\nYou can also use [Redemption][1] (I am its author) to dynamically connect to an Exchange mailbox ([RDOSession][2].`LogonExchangeMailbox`), iterate through the messages and save them in the MSG format ([RDOMail][3].`SaveAs`). \r\n\r\n\r\n  [1]: http://www.dimastr.com/redemption\r\n  [2]: http://www.dimastr.com/redemption/rdosession.htm\r\n  [3]: http://www.dimastr.com/redemption/RDOMail.htm","title":"How to download email messages as .msg files","body":"<p>You can use Outlook Object Model (see MailItem.SaveAs) if you have a local Outlook profile configured to access the Exchange mailbox in question.</p>\n<p>You can also use <a href=\"http://www.dimastr.com/redemption\" rel=\"nofollow noreferrer\">Redemption</a> (I am its author) to dynamically connect to an Exchange mailbox (<a href=\"http://www.dimastr.com/redemption/rdosession.htm\" rel=\"nofollow noreferrer\">RDOSession</a>.<code>LogonExchangeMailbox</code>), iterate through the messages and save them in the MSG format (<a href=\"http://www.dimastr.com/redemption/RDOMail.htm\" rel=\"nofollow noreferrer\">RDOMail</a>.<code>SaveAs</code>).</p>\n"},{"tags":[],"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1366955005,"creation_date":1366955005,"answer_id":16229498,"question_id":16210013,"body_markdown":"The solutions received were commercial options which for me is out of scope right now.\r\nThe second part in my question was if I can save in any other format. I have figured out that I can save them as .eml file which also can be opened in Outlook. This will solve the problem for me.","title":"How to download email messages as .msg files","body":"<p>The solutions received were commercial options which for me is out of scope right now.\nThe second part in my question was if I can save in any other format. I have figured out that I can save them as .eml file which also can be opened in Outlook. This will solve the problem for me.</p>\n"}],"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":16229498,"answer_count":2,"score":1,"last_activity_date":1648945922,"creation_date":1366878881,"question_id":16210013,"body_markdown":"Programatically using Java, is it possible to download and save emails from Exchange Server as .msg files?\r\n\r\nIf not, are there any formats possible, which can be opened with Outlook\r\n","title":"How to download email messages as .msg files","body":"<p>Programatically using Java, is it possible to download and save emails from Exchange Server as .msg files?</p>\n\n<p>If not, are there any formats possible, which can be opened with Outlook</p>\n"},{"tags":["javascript","java","database"],"comments":[{"owner":{"account_id":7187874,"reputation":437,"user_id":5489257,"accept_rate":100,"display_name":"Jaxon Crosmas"},"score":0,"creation_date":1648942987,"post_id":71721929,"comment_id":126751166,"body_markdown":"Just to understand this correctly, you need your front-end code (JavaScript) to send and receive data from your backend (Java) application?","body":"Just to understand this correctly, you need your front-end code (JavaScript) to send and receive data from your backend (Java) application?"},{"owner":{"account_id":5561757,"reputation":3096,"user_id":4410674,"display_name":"Nick Bailey"},"score":3,"creation_date":1648944214,"post_id":71721929,"comment_id":126751269,"body_markdown":"My guess is what you want to google here is &#39;REST api.&#39; It&#39;s the most common approach to developing backend services that communicate with web clients, using HTTP as the protocol and generally using JSON as the data serialization format.","body":"My guess is what you want to google here is &#39;REST api.&#39; It&#39;s the most common approach to developing backend services that communicate with web clients, using HTTP as the protocol and generally using JSON as the data serialization format."},{"owner":{"account_id":17913483,"reputation":55,"user_id":14111493,"display_name":"Juan"},"score":0,"creation_date":1648945398,"post_id":71721929,"comment_id":126751395,"body_markdown":"@JaxonCrosmas, yes, that would be it!","body":"@JaxonCrosmas, yes, that would be it!"}],"owner":{"account_id":17913483,"reputation":55,"user_id":14111493,"display_name":"Juan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648945877,"creation_date":1648942679,"question_id":71721929,"body_markdown":"I&#39;m still learning programming, and for one of my assignments I need to create a web page for displaying the positions of some vehicles in a map. While I know Java and a little bit of Javascript, and I&#39;m going to use a data base that I already know (ArangoDB), I&#39;m not sure how to communicate the Java side with Javascript. On Java I created the repository for the data on the DB, with functions like insertEntity, getEntity(key), etc, and I have the structure for those entities in Java too (Vehicle class, BaseEntity class, Position class).\r\n\r\nI need to access that information inside of Java with Javascript for displaying it on the map I got (Leaflet, works using JS).\r\n\r\nI never created a complete application using different languages, so I&#39;m lost on how to proceed here. While ArangoDB has a JS driver, I wanted to use the Java driver because I like more how you can strcuture objects in that language.\r\n\r\nCurrently I created a Maven project (first time using it) and I&#39;m using ManagedBean from JSF for accessing some specific data and displaying it on a xhtml page. But I&#39;m just messing around with this, seeing what works out of the box and what doesn&#39;t.\r\n\r\nEven a reference to a resource for doing this (I&#39;m guessing this falls under web developement) would be appreciated, as until this point the only things we&#39;ve done are console programs.\r\n\r\nEdit 1:\r\nFor clarification, the information in the database is being retrived by Java (backend) and I need that information in Javascript for displaying it on the map (frontend).","title":"How to access Java information in Javascript","body":"<p>I'm still learning programming, and for one of my assignments I need to create a web page for displaying the positions of some vehicles in a map. While I know Java and a little bit of Javascript, and I'm going to use a data base that I already know (ArangoDB), I'm not sure how to communicate the Java side with Javascript. On Java I created the repository for the data on the DB, with functions like insertEntity, getEntity(key), etc, and I have the structure for those entities in Java too (Vehicle class, BaseEntity class, Position class).</p>\n<p>I need to access that information inside of Java with Javascript for displaying it on the map I got (Leaflet, works using JS).</p>\n<p>I never created a complete application using different languages, so I'm lost on how to proceed here. While ArangoDB has a JS driver, I wanted to use the Java driver because I like more how you can strcuture objects in that language.</p>\n<p>Currently I created a Maven project (first time using it) and I'm using ManagedBean from JSF for accessing some specific data and displaying it on a xhtml page. But I'm just messing around with this, seeing what works out of the box and what doesn't.</p>\n<p>Even a reference to a resource for doing this (I'm guessing this falls under web developement) would be appreciated, as until this point the only things we've done are console programs.</p>\n<p>Edit 1:\nFor clarification, the information in the database is being retrived by Java (backend) and I need that information in Javascript for displaying it on the map (frontend).</p>\n"},{"tags":["java","debugging","jar","jvm","reverse-engineering"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648817904,"post_id":71705187,"comment_id":126727034,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648809647,"creation_date":1648809296,"answer_id":71705547,"question_id":71705187,"body_markdown":"There is no supported Java SE mechanism to read / retrieve a &quot;.class&quot; that has been loaded by a classloader.  So your options would be:\r\n\r\n  - Modify the custom classloader you are using to capture the &quot;.class&quot; before (or after) the classloader calls `defineClass`.\r\n\r\n  - Burrow into the JVM data structures to try and figure out whether the entire &quot;.class&quot; stream is captured somewhere and then retrieve it.\r\n\r\n  - Modify the JVM ...\r\n\r\nAny of these *could* be feasible.  All *will* be relatively difficult.\r\n\r\n","title":"How to dump classes loaded into memory? Java","body":"<p>There is no supported Java SE mechanism to read / retrieve a &quot;.class&quot; that has been loaded by a classloader.  So your options would be:</p>\n<ul>\n<li><p>Modify the custom classloader you are using to capture the &quot;.class&quot; before (or after) the classloader calls <code>defineClass</code>.</p>\n</li>\n<li><p>Burrow into the JVM data structures to try and figure out whether the entire &quot;.class&quot; stream is captured somewhere and then retrieve it.</p>\n</li>\n<li><p>Modify the JVM ...</p>\n</li>\n</ul>\n<p>Any of these <em>could</em> be feasible.  All <em>will</em> be relatively difficult.</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648945361,"creation_date":1648945361,"answer_id":71722089,"question_id":71705187,"body_markdown":"It is possible to get loaded classes in runtime using [Dynamic Attach](https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html) and [Instrumentation API](https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html).\r\n\r\nThe idea is to inject a Java Agent into the running application.  \r\nThe agent gets an array of all loaded classes with [`Instrumentation.getAllLoadedClasses`](https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#getAllLoadedClasses()) method, then gets their bytecode using [`Instrumentation.retransformClasses`](https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#retransformClasses(java.lang.Class...)).\r\n\r\nThe working implementation can be found in the [class-file-extractor](https://github.com/apangin/class-file-extractor) project.\r\n\r\nUsage:\r\n```\r\njava -jar extractor.jar &lt;pid&gt; mainloader.jar com.mysoft.mainloader\r\n```\r\nwhere\r\n - `&lt;pid&gt;` is the process ID of the target JVM application;\r\n - `mainloader.jar` is the output file name;\r\n - `com.mysoft.mainloader` is the name prefix of the classes to extract.","title":"How to dump classes loaded into memory? Java","body":"<p>It is possible to get loaded classes in runtime using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html\" rel=\"nofollow noreferrer\">Dynamic Attach</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">Instrumentation API</a>.</p>\n<p>The idea is to inject a Java Agent into the running application.<br />\nThe agent gets an array of all loaded classes with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#getAllLoadedClasses()\" rel=\"nofollow noreferrer\"><code>Instrumentation.getAllLoadedClasses</code></a> method, then gets their bytecode using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#retransformClasses(java.lang.Class...)\" rel=\"nofollow noreferrer\"><code>Instrumentation.retransformClasses</code></a>.</p>\n<p>The working implementation can be found in the <a href=\"https://github.com/apangin/class-file-extractor\" rel=\"nofollow noreferrer\">class-file-extractor</a> project.</p>\n<p>Usage:</p>\n<pre><code>java -jar extractor.jar &lt;pid&gt; mainloader.jar com.mysoft.mainloader\n</code></pre>\n<p>where</p>\n<ul>\n<li><code>&lt;pid&gt;</code> is the process ID of the target JVM application;</li>\n<li><code>mainloader.jar</code> is the output file name;</li>\n<li><code>com.mysoft.mainloader</code> is the name prefix of the classes to extract.</li>\n</ul>\n"}],"owner":{"account_id":20139251,"reputation":93,"user_id":18377929,"display_name":"Code Base"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1822,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":71722089,"answer_count":2,"score":1,"last_activity_date":1648945361,"creation_date":1648807413,"question_id":71705187,"body_markdown":"I am trying to access a java package loaded into memory and dump it to a file. Here is how the security works: there is an exe packed with Themida that contains the java main class code to be loaded. At runtime the Themida exe loads the clean main class java code into memory. The software is structured with the loader being contained within the exe, but several external libraries can access the packages contained within the exe. So, exe contains com.mysoft.mainloader. But the clean jar library Mylib.jar can call functions within com.mysoft.mainloader. How to I dump com.mysoft.mainloader to a jar file? Can I modify Mylib.jar to dump it as it has access to the package once it is loaded as well?","title":"How to dump classes loaded into memory? Java","body":"<p>I am trying to access a java package loaded into memory and dump it to a file. Here is how the security works: there is an exe packed with Themida that contains the java main class code to be loaded. At runtime the Themida exe loads the clean main class java code into memory. The software is structured with the loader being contained within the exe, but several external libraries can access the packages contained within the exe. So, exe contains com.mysoft.mainloader. But the clean jar library Mylib.jar can call functions within com.mysoft.mainloader. How to I dump com.mysoft.mainloader to a jar file? Can I modify Mylib.jar to dump it as it has access to the package once it is loaded as well?</p>\n"},{"tags":["java","spring","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1648944182,"creation_date":1648548635,"answer_id":71660157,"question_id":71659626,"body_markdown":"I don&#39;t know how to send binary content with WebClient, but there are some other options. First there is SpringBoot own RestTemplate class which is an alternative to WebClient. Here is an comparative article about them both: [Spring WebClient vs. RestTemplate][1]. If you wish to use third party Http clients that definitely can send binary content you can look at 2 popular choices:\r\n\r\n 1. [Apache Http Client][2]\r\n 2. [OK Http Client][3]\r\n\r\nAnd finally, I wrote my own Http client that is part of Open-source MgntUtils library written and maintained by me. This Http client is very simplistic but does the job. I am actually at the process of adding the feature that allows to upload binary info. I haven&#39;t published it yet, but you can download the branch or look at the code how I do it there. The branch is located [here][4] The HttpClient class is [here][5]. See method &lt;br&gt;`public String sendHttpRequest(String requestUrl, HttpMethod callMethod, ByteBuffer data) throws IOException`&lt;br&gt; at line 162. The method with which I tested this method looks like this:\r\n\r\n    private static void testHttpClientBinaryUpload() {\r\n    \ttry {\r\n    \t\tbyte[] content = Files.readAllBytes(Paths.get(&quot;C:\\\\Michael\\\\Personal\\\\pics\\\\testPic.jpg&quot;));\r\n    \t\tHttpClient client = new HttpClient();\r\n    \t\tInteger length = content.length;\r\n    \t\tFiles.write(Paths.get(&quot;C:\\\\Michael\\\\tmp\\\\testPicOrig.jpg&quot;), content);\r\n    \t\tclient.setRequestHeader(&quot;Content-Length&quot;, length.toString());\r\n    \t\tString result = client.sendHttpRequest(&quot;http://localhost:8080/upload&quot;, HttpMethod.POST, ByteBuffer.wrap(content));\r\n    \t\tSystem.out.println(result);\r\n    \t\tSystem.out.println(&quot;HTTP &quot; + client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(TextUtils.getStacktrace(e, &quot;com.mgnt.&quot;));\r\n    \t}\r\n    }\r\n\r\nAnd server side Springboot rest controller that receives the request looks like this:\r\n\r\n     @RestController\r\n    @RequestMapping(&quot;/upload&quot;)\r\n    public class UploadTestController {\r\n        @PostMapping\r\n        public ResponseEntity&lt;String&gt; uploadTest(HttpServletRequest request) {\r\n            try {\r\n                String lengthStr = request.getHeader(&quot;content-length&quot;);\r\n                int length = TextUtils.parseStringToInt(lengthStr, -1);\r\n                if(length &gt; 0) {\r\n                    byte[] buff = new byte[length];\r\n                    ServletInputStream sis =request.getInputStream();\r\n                    int counter = 0;\r\n                    while(counter &lt; length) {\r\n                        int chunkLength = sis.available();\r\n                        byte[] chunk = new byte[chunkLength];\r\n                        sis.read(chunk);\r\n                        for(int i = counter, j= 0; i &lt; counter + chunkLength; i++, j++) {\r\n                            buff[i] = chunk[j];\r\n                        }\r\n                        counter += chunkLength;\r\n                        if(counter &lt; length) {\r\n                            TimeUtils.sleepFor(5, TimeUnit.MILLISECONDS);\r\n                        }\r\n                    }\r\n                    Files.write(Paths.get(&quot;C:\\\\Michael\\\\tmp\\\\testPic.jpg&quot;), buff);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(TextUtils.getStacktrace(e));\r\n            }\r\n            return ResponseEntity.ok(&quot;Success&quot;);\r\n        }\r\n    }\r\n\r\nI am planning to publish the new version of the library in few days and this feature will be included. In any case here is the link to [Maven Artifacts][6], [Github][7] and [Javadoc][8]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-webclient-resttemplate#:~:text=RestTemplate%20uses%20Java%20Servlet%20API,RestTemplate%20will%20still%20be%20used.\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.1.x/\r\n  [3]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [4]: https://github.com/michaelgantman/Mgnt/tree/HttpBinaryUpload\r\n  [5]: https://github.com/michaelgantman/Mgnt/blob/HttpBinaryUpload/src/main/java/com/mgnt/lifecycle/management/httpclient/HttpClient.java\r\n  [6]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [7]: https://github.com/michaelgantman/Mgnt\r\n  [8]: http://michaelgantman.github.io/Mgnt/docs/","title":"How to send a POST request that contains byte array by WebClient?","body":"<p>I don't know how to send binary content with WebClient, but there are some other options. First there is SpringBoot own RestTemplate class which is an alternative to WebClient. Here is an comparative article about them both: <a href=\"https://www.baeldung.com/spring-webclient-resttemplate#:%7E:text=RestTemplate%20uses%20Java%20Servlet%20API,RestTemplate%20will%20still%20be%20used.\" rel=\"nofollow noreferrer\">Spring WebClient vs. RestTemplate</a>. If you wish to use third party Http clients that definitely can send binary content you can look at 2 popular choices:</p>\n<ol>\n<li><a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache Http Client</a></li>\n<li><a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OK Http Client</a></li>\n</ol>\n<p>And finally, I wrote my own Http client that is part of Open-source MgntUtils library written and maintained by me. This Http client is very simplistic but does the job. I am actually at the process of adding the feature that allows to upload binary info. I haven't published it yet, but you can download the branch or look at the code how I do it there. The branch is located <a href=\"https://github.com/michaelgantman/Mgnt/tree/HttpBinaryUpload\" rel=\"nofollow noreferrer\">here</a> The HttpClient class is <a href=\"https://github.com/michaelgantman/Mgnt/blob/HttpBinaryUpload/src/main/java/com/mgnt/lifecycle/management/httpclient/HttpClient.java\" rel=\"nofollow noreferrer\">here</a>. See method <br><code>public String sendHttpRequest(String requestUrl, HttpMethod callMethod, ByteBuffer data) throws IOException</code><br> at line 162. The method with which I tested this method looks like this:</p>\n<pre><code>private static void testHttpClientBinaryUpload() {\n    try {\n        byte[] content = Files.readAllBytes(Paths.get(&quot;C:\\\\Michael\\\\Personal\\\\pics\\\\testPic.jpg&quot;));\n        HttpClient client = new HttpClient();\n        Integer length = content.length;\n        Files.write(Paths.get(&quot;C:\\\\Michael\\\\tmp\\\\testPicOrig.jpg&quot;), content);\n        client.setRequestHeader(&quot;Content-Length&quot;, length.toString());\n        String result = client.sendHttpRequest(&quot;http://localhost:8080/upload&quot;, HttpMethod.POST, ByteBuffer.wrap(content));\n        System.out.println(result);\n        System.out.println(&quot;HTTP &quot; + client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\n    } catch (Exception e) {\n        System.out.println(TextUtils.getStacktrace(e, &quot;com.mgnt.&quot;));\n    }\n}\n</code></pre>\n<p>And server side Springboot rest controller that receives the request looks like this:</p>\n<pre><code> @RestController\n@RequestMapping(&quot;/upload&quot;)\npublic class UploadTestController {\n    @PostMapping\n    public ResponseEntity&lt;String&gt; uploadTest(HttpServletRequest request) {\n        try {\n            String lengthStr = request.getHeader(&quot;content-length&quot;);\n            int length = TextUtils.parseStringToInt(lengthStr, -1);\n            if(length &gt; 0) {\n                byte[] buff = new byte[length];\n                ServletInputStream sis =request.getInputStream();\n                int counter = 0;\n                while(counter &lt; length) {\n                    int chunkLength = sis.available();\n                    byte[] chunk = new byte[chunkLength];\n                    sis.read(chunk);\n                    for(int i = counter, j= 0; i &lt; counter + chunkLength; i++, j++) {\n                        buff[i] = chunk[j];\n                    }\n                    counter += chunkLength;\n                    if(counter &lt; length) {\n                        TimeUtils.sleepFor(5, TimeUnit.MILLISECONDS);\n                    }\n                }\n                Files.write(Paths.get(&quot;C:\\\\Michael\\\\tmp\\\\testPic.jpg&quot;), buff);\n            }\n        } catch (Exception e) {\n            System.out.println(TextUtils.getStacktrace(e));\n        }\n        return ResponseEntity.ok(&quot;Success&quot;);\n    }\n}\n</code></pre>\n<p>I am planning to publish the new version of the library in few days and this feature will be included. In any case here is the link to <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven Artifacts</a>, <a href=\"https://github.com/michaelgantman/Mgnt\" rel=\"nofollow noreferrer\">Github</a> and <a href=\"http://michaelgantman.github.io/Mgnt/docs/\" rel=\"nofollow noreferrer\">Javadoc</a></p>\n"}],"owner":{"account_id":22302550,"reputation":407,"user_id":16527606,"display_name":"niddddddfier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71660157,"answer_count":1,"score":1,"last_activity_date":1648944182,"creation_date":1648546383,"question_id":71659626,"body_markdown":"I want to send a request of a file through `WebClient` by POST method, and I need to send the file as `byte[]` to get right response.\r\nI made `MultipartFile file` to `byte[]`, and then I thought I need to use `BodyInserters` \r\nto make this body contains `byte[]` but I don&#39;t know how to make that request body.\r\n\r\nHow to send a POST request that contains byte array by `WebClient`?\r\n\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    import org.springframework.web.reactive.function.BodyInserters;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    @RestController\r\n    public class ApiController {\r\n      @PostMapping(value = &quot;/update&quot;)\r\n      public String update(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(&quot;uri&quot;) String uri ) {\r\n        String result = &quot;{error : error}&quot;;\r\n        byte[] byteArr;\r\n        BodyInserters byteArrInserter;\r\n        try {\r\n          byteArr = file.getBytes();\r\n          A? publisher = B?.C?; // I don&#39;t know what will be right for those A?, B?, C?\r\n          byteArrInserter = BodyInserters.fromDataBuffers(publisher); // In fact, I&#39;m not sure this method will be good for this situation, either.\r\n        } catch (Exception e) {\r\n          System.out.println(e);\r\n        }\r\n    \r\n        WebClient client = WebClient.builder()\r\n          .codecs(configurer -&gt; configurer.defaultCodecs().maxInMemorySize( 1024*1024*1024 * 2)) // 2GB\r\n          .build();\r\n        try {\r\n          result = client\r\n            .post()\r\n            .uri(uri)\r\n            .body(byteArrInserter)\r\n            .retrieve().bodyToMono(String.class).block();\r\n        } catch (Exception e) {\r\n          System.out.println(e);\r\n        }\r\n        return result;\r\n      }\r\n    }","title":"How to send a POST request that contains byte array by WebClient?","body":"<p>I want to send a request of a file through <code>WebClient</code> by POST method, and I need to send the file as <code>byte[]</code> to get right response.\nI made <code>MultipartFile file</code> to <code>byte[]</code>, and then I thought I need to use <code>BodyInserters</code>\nto make this body contains <code>byte[]</code> but I don't know how to make that request body.</p>\n<p>How to send a POST request that contains byte array by <code>WebClient</code>?</p>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.reactive.function.BodyInserters;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@RestController\npublic class ApiController {\n  @PostMapping(value = &quot;/update&quot;)\n  public String update(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(&quot;uri&quot;) String uri ) {\n    String result = &quot;{error : error}&quot;;\n    byte[] byteArr;\n    BodyInserters byteArrInserter;\n    try {\n      byteArr = file.getBytes();\n      A? publisher = B?.C?; // I don't know what will be right for those A?, B?, C?\n      byteArrInserter = BodyInserters.fromDataBuffers(publisher); // In fact, I'm not sure this method will be good for this situation, either.\n    } catch (Exception e) {\n      System.out.println(e);\n    }\n\n    WebClient client = WebClient.builder()\n      .codecs(configurer -&gt; configurer.defaultCodecs().maxInMemorySize( 1024*1024*1024 * 2)) // 2GB\n      .build();\n    try {\n      result = client\n        .post()\n        .uri(uri)\n        .body(byteArrInserter)\n        .retrieve().bodyToMono(String.class).block();\n    } catch (Exception e) {\n      System.out.println(e);\n    }\n    return result;\n  }\n}\n</code></pre>\n"},{"tags":["java","random","non-uniform-distribution"],"comments":[{"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"score":0,"creation_date":1676417323,"post_id":5969447,"comment_id":133132209,"body_markdown":"Does this answer your question? [Data structures for loaded dice?](https://stackoverflow.com/questions/5027757/data-structures-for-loaded-dice)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5027757/data-structures-for-loaded-dice\">Data structures for loaded dice?</a>"}],"answers":[{"tags":[],"owner":{"account_id":372980,"reputation":153,"user_id":722349,"display_name":"R.K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305143108,"creation_date":1305142730,"answer_id":5969667,"question_id":5969447,"body_markdown":"The first solution that comes to mind is to use a blocked-array. Each index would specify a range of values depending on how &quot;probable&quot; you want it to be. In this case, you would use a wider range for 1, less wider for 2, and so on until you reach a small value (lets say 1) for k.\r\n\r\n    int [] indexBound = new int[k];\r\n    int prevBound =0;\r\n    for(int i=0;i&lt;k;i++){\r\n        indexBound[i] = prevBound+prob(i);\r\n        prevBound=indexBound[i];\r\n    }\r\n    int r = new Random().nextInt(prevBound);\r\n    for(int i=0;i&lt;k;i++){\r\n        if(r &gt; indexBound[i];\r\n            return i;\r\n    }\r\n    \r\n\r\nNow the problem is just finding a random number, and then mapping that number to its bucket.\r\nyou can do this for any distribution provided you can discretize the width of each interval.\r\nLet me know if i am missing something either in explaining the algorithm or its correctness. Needless to say, this needs to be optimized.","title":"Java: random integer with non-uniform distribution","body":"<p>The first solution that comes to mind is to use a blocked-array. Each index would specify a range of values depending on how \"probable\" you want it to be. In this case, you would use a wider range for 1, less wider for 2, and so on until you reach a small value (lets say 1) for k.</p>\n\n<pre><code>int [] indexBound = new int[k];\nint prevBound =0;\nfor(int i=0;i&lt;k;i++){\n    indexBound[i] = prevBound+prob(i);\n    prevBound=indexBound[i];\n}\nint r = new Random().nextInt(prevBound);\nfor(int i=0;i&lt;k;i++){\n    if(r &gt; indexBound[i];\n        return i;\n}\n</code></pre>\n\n<p>Now the problem is just finding a random number, and then mapping that number to its bucket.\nyou can do this for any distribution provided you can discretize the width of each interval.\nLet me know if i am missing something either in explaining the algorithm or its correctness. Needless to say, this needs to be optimized.</p>\n"},{"tags":[],"owner":{"account_id":239150,"reputation":8342,"user_id":508537,"accept_rate":60,"display_name":"Briguy37"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1305207567,"creation_date":1305142979,"answer_id":5969719,"question_id":5969447,"body_markdown":"This should give you what you need:\r\n\r\n    public static int getLinnearRandomNumber(int maxSize){\r\n        //Get a linearly multiplied random number\r\n        int randomMultiplier = maxSize * (maxSize + 1) / 2;\r\n        Random r=new Random();\r\n        int randomInt = r.nextInt(randomMultiplier);\r\n\r\n        //Linearly iterate through the possible values to find the correct one\r\n        int linearRandomNumber = 0;\r\n        for(int i=maxSize; randomInt &gt;= 0; i--){\r\n            randomInt -= i;\r\n            linearRandomNumber++;\r\n        }\r\n\r\n        return linearRandomNumber;\r\n    }\r\n\r\n\r\n\r\nAlso, here is a general solution for POSITIVE functions (negative functions don&#39;t really make sense) along the range from start index to stopIndex:\r\n\r\n    public static int getYourPositiveFunctionRandomNumber(int startIndex, int stopIndex) {\r\n        //Generate a random number whose value ranges from 0.0 to the sum of the values of yourFunction for all the possible integer return values from startIndex to stopIndex.\r\n        double randomMultiplier = 0;\r\n        for (int i = startIndex; i &lt;= stopIndex; i++) {\r\n            randomMultiplier += yourFunction(i);//yourFunction(startIndex) + yourFunction(startIndex + 1) + .. yourFunction(stopIndex -1) + yourFunction(stopIndex)\r\n        }\r\n        Random r = new Random();\r\n        double randomDouble = r.nextDouble() * randomMultiplier;\r\n    \r\n        //For each possible integer return value, subtract yourFunction value for that possible return value till you get below 0.  Once you get below 0, return the current value.  \r\n        int yourFunctionRandomNumber = startIndex;\r\n        randomDouble = randomDouble - yourFunction(yourFunctionRandomNumber);\r\n        while (randomDouble &gt;= 0) {\r\n            yourFunctionRandomNumber++;\r\n            randomDouble = randomDouble - yourFunction(yourFunctionRandomNumber);\r\n        }\r\n    \r\n        return yourFunctionRandomNumber;\r\n    }\r\n\r\nNote:  For functions that may return negative values, one method could be to take the absolute value of that function and apply it to the above solution for each yourFunction call.","title":"Java: random integer with non-uniform distribution","body":"<p>This should give you what you need:</p>\n\n<pre><code>public static int getLinnearRandomNumber(int maxSize){\n    //Get a linearly multiplied random number\n    int randomMultiplier = maxSize * (maxSize + 1) / 2;\n    Random r=new Random();\n    int randomInt = r.nextInt(randomMultiplier);\n\n    //Linearly iterate through the possible values to find the correct one\n    int linearRandomNumber = 0;\n    for(int i=maxSize; randomInt &gt;= 0; i--){\n        randomInt -= i;\n        linearRandomNumber++;\n    }\n\n    return linearRandomNumber;\n}\n</code></pre>\n\n<p>Also, here is a general solution for POSITIVE functions (negative functions don't really make sense) along the range from start index to stopIndex:</p>\n\n<pre><code>public static int getYourPositiveFunctionRandomNumber(int startIndex, int stopIndex) {\n    //Generate a random number whose value ranges from 0.0 to the sum of the values of yourFunction for all the possible integer return values from startIndex to stopIndex.\n    double randomMultiplier = 0;\n    for (int i = startIndex; i &lt;= stopIndex; i++) {\n        randomMultiplier += yourFunction(i);//yourFunction(startIndex) + yourFunction(startIndex + 1) + .. yourFunction(stopIndex -1) + yourFunction(stopIndex)\n    }\n    Random r = new Random();\n    double randomDouble = r.nextDouble() * randomMultiplier;\n\n    //For each possible integer return value, subtract yourFunction value for that possible return value till you get below 0.  Once you get below 0, return the current value.  \n    int yourFunctionRandomNumber = startIndex;\n    randomDouble = randomDouble - yourFunction(yourFunctionRandomNumber);\n    while (randomDouble &gt;= 0) {\n        yourFunctionRandomNumber++;\n        randomDouble = randomDouble - yourFunction(yourFunctionRandomNumber);\n    }\n\n    return yourFunctionRandomNumber;\n}\n</code></pre>\n\n<p>Note:  For functions that may return negative values, one method could be to take the absolute value of that function and apply it to the above solution for each yourFunction call.</p>\n"},{"tags":[],"owner":{"account_id":294983,"reputation":5941,"user_id":599152,"display_name":"rlibby"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305148170,"creation_date":1305143142,"answer_id":5969748,"question_id":5969447,"body_markdown":"There are lots of ways to do this, but probably the easiest is just to generate\r\n*two* random integers, one between `0` and `k`, call it `x`, one between `0` and `h`, call it `y`.  If `y &gt; mx + b` (`m` and `b` chosen appropriately...) then `\r\nk-x`, else `x`.\r\n\r\n**Edit**:  responding to comments up here so I can have a little more space.\r\n\r\nBasically my solution exploits symmetry in your original distribution, where `p(x)` is a linear function of `x`.  I responded before your edit about generalization, and this solution doesn&#39;t work in the general case (because there is no such symmetry in the general case).\r\n\r\nI imagined the problem like this:\r\n\r\n1. You have *two* right triangles, each `k x h`, with a common hypotenuse.  The composite shape is a `k x h` rectangle.\r\n2. Generate a random point that falls on each point within the rectangle with equal probability.\r\n3. Half the time it will fall in one triangle, half the time in the other.\r\n4. Suppose the point falls in the lower triangle.\r\n  * The triangle basically describes the P.M.F., and the &quot;height&quot; of the triangle over each x-value describes the probability that the point will have such an x-value.  (Remember that we&#39;re only dealing with points in the lower triangle.)  So by yield the x-value.\r\n5. Suppose the point falls in the upper triangle.\r\n  * Invert the coordinates and handle it as above with the lower triangle.\r\n\r\nYou&#39;ll have to take care of the edge cases also (I didn&#39;t bother).  E.g. I see now that your distribution starts at 1, not 0, so there&#39;s an off-by-one in there, but it&#39;s easily fixed.","title":"Java: random integer with non-uniform distribution","body":"<p>There are lots of ways to do this, but probably the easiest is just to generate\n<em>two</em> random integers, one between <code>0</code> and <code>k</code>, call it <code>x</code>, one between <code>0</code> and <code>h</code>, call it <code>y</code>.  If <code>y &gt; mx + b</code> (<code>m</code> and <code>b</code> chosen appropriately...) then <code>\nk-x</code>, else <code>x</code>.</p>\n\n<p><strong>Edit</strong>:  responding to comments up here so I can have a little more space.</p>\n\n<p>Basically my solution exploits symmetry in your original distribution, where <code>p(x)</code> is a linear function of <code>x</code>.  I responded before your edit about generalization, and this solution doesn't work in the general case (because there is no such symmetry in the general case).</p>\n\n<p>I imagined the problem like this:</p>\n\n<ol>\n<li>You have <em>two</em> right triangles, each <code>k x h</code>, with a common hypotenuse.  The composite shape is a <code>k x h</code> rectangle.</li>\n<li>Generate a random point that falls on each point within the rectangle with equal probability.</li>\n<li>Half the time it will fall in one triangle, half the time in the other.</li>\n<li>Suppose the point falls in the lower triangle.\n<ul>\n<li>The triangle basically describes the P.M.F., and the \"height\" of the triangle over each x-value describes the probability that the point will have such an x-value.  (Remember that we're only dealing with points in the lower triangle.)  So by yield the x-value.</li>\n</ul></li>\n<li>Suppose the point falls in the upper triangle.\n<ul>\n<li>Invert the coordinates and handle it as above with the lower triangle.</li>\n</ul></li>\n</ol>\n\n<p>You'll have to take care of the edge cases also (I didn't bother).  E.g. I see now that your distribution starts at 1, not 0, so there's an off-by-one in there, but it's easily fixed.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305143535,"creation_date":1305143211,"answer_id":5969761,"question_id":5969447,"body_markdown":"The simplest thing to do it to generate a list or array of all the possible values in their weights.\r\n\r\n    int k = /* possible values */\r\n    int[] results = new int[k*(k+1)/2];\r\n    for(int i=1,r=0;i&lt;=k;i++)\r\n       for(int j=0;j&lt;=k-i;j++)\r\n           results[r++] = i;\r\n    // k=4 =&gt; { 1,1,1,1,2,2,2,3,3,4 }\r\n\r\n    // to get a value with a given distribution.\r\n    int n = results[random.nextInt(results.length)];\r\n\r\nThis best works for relatively small k values.ie. k &lt; 1000. ;)\r\n\r\nFor larger numbers you can use a bucket approach \r\n\r\n    int k = \r\n    int[] buckets = new int[k+1];\r\n    for(int i=1;i&lt;k;i++)\r\n       buckets[i] = buckets[i-1] + k - i + 1;\r\n\r\n    int r = random.nextInt(buckets[buckets.length-1]);\r\n    int n = Arrays.binarySearch(buckets, r);\r\n    n = n &lt; 0 ? -n : n + 1;\r\n\r\nThe cost of the binary search is fairly small but not as efficient as a direct look up (for a small array)\r\n\r\n---\r\n\r\nFor an arbitary distrubution you can use a `double[]` for the cumlative distrubution and use a binary search to find the value.\r\n","title":"Java: random integer with non-uniform distribution","body":"<p>The simplest thing to do it to generate a list or array of all the possible values in their weights.</p>\n\n<pre><code>int k = /* possible values */\nint[] results = new int[k*(k+1)/2];\nfor(int i=1,r=0;i&lt;=k;i++)\n   for(int j=0;j&lt;=k-i;j++)\n       results[r++] = i;\n// k=4 =&gt; { 1,1,1,1,2,2,2,3,3,4 }\n\n// to get a value with a given distribution.\nint n = results[random.nextInt(results.length)];\n</code></pre>\n\n<p>This best works for relatively small k values.ie. k &lt; 1000. ;)</p>\n\n<p>For larger numbers you can use a bucket approach </p>\n\n<pre><code>int k = \nint[] buckets = new int[k+1];\nfor(int i=1;i&lt;k;i++)\n   buckets[i] = buckets[i-1] + k - i + 1;\n\nint r = random.nextInt(buckets[buckets.length-1]);\nint n = Arrays.binarySearch(buckets, r);\nn = n &lt; 0 ? -n : n + 1;\n</code></pre>\n\n<p>The cost of the binary search is fairly small but not as efficient as a direct look up (for a small array)</p>\n\n<hr>\n\n<p>For an arbitary distrubution you can use a <code>double[]</code> for the cumlative distrubution and use a binary search to find the value.</p>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305144495,"creation_date":1305144495,"answer_id":5969995,"question_id":5969447,"body_markdown":"There is no need to simulate this with arrays and such, if your distribution is such that you can compute its cumulative distribution function (cdf). Above you have a probability distribution function (pdf). h is actually determined, since the area under the curve must be 1. For simplicity of math, let me also assume you&#39;re picking a number in [0,k).\r\n\r\nThe pdf here is f(x) = (2/k) * (1 - x/k), if I read you right. The cdf is just integral of the pdf. Here, that&#39;s F(x) = (2/k) * (x - x^2 / 2k). (You can repeat this logic for any pdf function if it&#39;s integrable.)\r\n\r\nThen you need to compute the inverse of the cdf function, F^-1(x) and if I weren&#39;t lazy, I&#39;d do it for you.\r\n\r\nBut the good news is this: once you have F^-1(x), all you do is apply it to a random value distribution uniformly in [0,1] and apply the function to it. java.util.Random can provide that with some care. That&#39;s your randomly sampled value from your distribution.","title":"Java: random integer with non-uniform distribution","body":"<p>There is no need to simulate this with arrays and such, if your distribution is such that you can compute its cumulative distribution function (cdf). Above you have a probability distribution function (pdf). h is actually determined, since the area under the curve must be 1. For simplicity of math, let me also assume you're picking a number in [0,k).</p>\n\n<p>The pdf here is f(x) = (2/k) * (1 - x/k), if I read you right. The cdf is just integral of the pdf. Here, that's F(x) = (2/k) * (x - x^2 / 2k). (You can repeat this logic for any pdf function if it's integrable.)</p>\n\n<p>Then you need to compute the inverse of the cdf function, F^-1(x) and if I weren't lazy, I'd do it for you.</p>\n\n<p>But the good news is this: once you have F^-1(x), all you do is apply it to a random value distribution uniformly in [0,1] and apply the function to it. java.util.Random can provide that with some care. That's your randomly sampled value from your distribution.</p>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305145727,"creation_date":1305145727,"answer_id":5970214,"question_id":5969447,"body_markdown":"Let me try another answer too, inspired by rlibby. This particular distribution is also the distribution of the *smaller* of two values chosen uniformly and random from the same range.","title":"Java: random integer with non-uniform distribution","body":"<p>Let me try another answer too, inspired by rlibby. This particular distribution is also the distribution of the <em>smaller</em> of two values chosen uniformly and random from the same range.</p>\n"},{"tags":[],"owner":{"account_id":369,"reputation":47061,"user_id":462,"display_name":"Greg Case"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1345732848,"creation_date":1305146627,"answer_id":5970379,"question_id":5969447,"body_markdown":"So we need the following distribution, from least likely to most likely:\r\n\r\n    *\r\n    **\r\n    ***\r\n    ****\r\n    *****\r\n\r\netc.\r\n\r\nLets try mapping a uniformly distributed integer random variable to that distribution:\r\n\r\n    1\r\n    2  3\r\n    4  5  6\r\n    7  8  9  10\r\n    11 12 13 14 15\r\n\r\netc.\r\n\r\nThis way, if we generate a uniformly distributed random integer from 1 to, say, 15 in this case for &lt;code&gt;K = 5&lt;/code&gt;, we just need to figure out which bucket it fits it.  The tricky part is how to do this.\r\n\r\nNote that the numbers on the right are the triangular numbers!  This means that for randomly-generated &lt;code&gt;X&lt;/code&gt; from &lt;code&gt;1&lt;/code&gt; to &lt;code&gt;T_n&lt;/code&gt;, we just need to find &lt;code&gt;N&lt;/code&gt; such that &lt;code&gt;T_(n-1) &lt; X &lt;= T_n&lt;/code&gt;.  Fortunately there is a [well-defined formula to find the &#39;triangular root&#39; of a given number][1], which we can use as the core of our mapping from uniform distribution to bucket:\r\n\r\n    // Assume k is given, via parameter or otherwise\r\n    int k;\r\n\r\n    // Assume also that r has already been initialized as a valid Random instance\r\n    Random r = new Random();\r\n\r\n    // First, generate a number from 1 to T_k\r\n    int triangularK = k * (k + 1) / 2;\r\n\r\n    int x = r.nextInt(triangularK) + 1;\r\n\r\n    // Next, figure out which bucket x fits into, bounded by\r\n    // triangular numbers by taking the triangular root    \r\n    // We&#39;re dealing strictly with positive integers, so we can\r\n    // safely ignore the - part of the +/- in the triangular root equation\r\n    double triangularRoot = (Math.sqrt(8 * x + 1) - 1) / 2;\r\n\r\n    int bucket = (int) Math.ceil(triangularRoot);\r\n\r\n    // Buckets start at 1 as the least likely; we want k to be the least likely\r\n    int n = k - bucket + 1;\r\n\r\n&lt;code&gt;n&lt;/code&gt; should now have the specified distribution.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Triangular_number#Triangular_roots_and_tests_for_triangular_numbers","title":"Java: random integer with non-uniform distribution","body":"<p>So we need the following distribution, from least likely to most likely:</p>\n\n<pre><code>*\n**\n***\n****\n*****\n</code></pre>\n\n<p>etc.</p>\n\n<p>Lets try mapping a uniformly distributed integer random variable to that distribution:</p>\n\n<pre><code>1\n2  3\n4  5  6\n7  8  9  10\n11 12 13 14 15\n</code></pre>\n\n<p>etc.</p>\n\n<p>This way, if we generate a uniformly distributed random integer from 1 to, say, 15 in this case for <code>K = 5</code>, we just need to figure out which bucket it fits it.  The tricky part is how to do this.</p>\n\n<p>Note that the numbers on the right are the triangular numbers!  This means that for randomly-generated <code>X</code> from <code>1</code> to <code>T_n</code>, we just need to find <code>N</code> such that <code>T_(n-1) &lt; X &lt;= T_n</code>.  Fortunately there is a <a href=\"http://en.wikipedia.org/wiki/Triangular_number#Triangular_roots_and_tests_for_triangular_numbers\" rel=\"noreferrer\">well-defined formula to find the 'triangular root' of a given number</a>, which we can use as the core of our mapping from uniform distribution to bucket:</p>\n\n<pre><code>// Assume k is given, via parameter or otherwise\nint k;\n\n// Assume also that r has already been initialized as a valid Random instance\nRandom r = new Random();\n\n// First, generate a number from 1 to T_k\nint triangularK = k * (k + 1) / 2;\n\nint x = r.nextInt(triangularK) + 1;\n\n// Next, figure out which bucket x fits into, bounded by\n// triangular numbers by taking the triangular root    \n// We're dealing strictly with positive integers, so we can\n// safely ignore the - part of the +/- in the triangular root equation\ndouble triangularRoot = (Math.sqrt(8 * x + 1) - 1) / 2;\n\nint bucket = (int) Math.ceil(triangularRoot);\n\n// Buckets start at 1 as the least likely; we want k to be the least likely\nint n = k - bucket + 1;\n</code></pre>\n\n<p><code>n</code> should now have the specified distribution.</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305147629,"creation_date":1305147629,"answer_id":5970575,"question_id":5969447,"body_markdown":"Something like this....\r\n\r\n    class DiscreteDistribution\r\n    {\r\n        // cumulative distribution\r\n        final private double[] cdf;\r\n        final private int k;\r\n\r\n        public DiscreteDistribution(Function&lt;Integer, Double&gt; pdf, int k)\r\n        {\r\n            this.k = k;\r\n            this.cdf = new double[k];\r\n            double S = 0;\r\n            for (int i = 0; i &lt; k; ++i)\r\n            {\r\n                double p = pdf.apply(i+1);         \r\n                S += p;\r\n                this.cdf[i] = S;\r\n            }\r\n            for (int i = 0; i &lt; k; ++i)\r\n            {\r\n                this.cdf[i] /= S;\r\n            }\r\n        }\r\n        /**\r\n         * transform a cumulative distribution between 0 (inclusive) and 1 (exclusive)\r\n         * to an integer between 1 and k.\r\n         */\r\n        public int transform(double q)\r\n        {\r\n            // exercise for the reader:\r\n            // binary search on cdf for the lowest index i where q &lt; cdf[i]\r\n            // return this number + 1 (to get into a 1-based index.\r\n            // If q &gt;= 1, return k.\r\n        }\r\n    }\r\n","title":"Java: random integer with non-uniform distribution","body":"<p>Something like this....</p>\n\n<pre><code>class DiscreteDistribution\n{\n    // cumulative distribution\n    final private double[] cdf;\n    final private int k;\n\n    public DiscreteDistribution(Function&lt;Integer, Double&gt; pdf, int k)\n    {\n        this.k = k;\n        this.cdf = new double[k];\n        double S = 0;\n        for (int i = 0; i &lt; k; ++i)\n        {\n            double p = pdf.apply(i+1);         \n            S += p;\n            this.cdf[i] = S;\n        }\n        for (int i = 0; i &lt; k; ++i)\n        {\n            this.cdf[i] /= S;\n        }\n    }\n    /**\n     * transform a cumulative distribution between 0 (inclusive) and 1 (exclusive)\n     * to an integer between 1 and k.\n     */\n    public int transform(double q)\n    {\n        // exercise for the reader:\n        // binary search on cdf for the lowest index i where q &lt; cdf[i]\n        // return this number + 1 (to get into a 1-based index.\n        // If q &gt;= 1, return k.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user79758"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305149943,"creation_date":1305149943,"answer_id":5970940,"question_id":5969447,"body_markdown":"&lt;a href=&quot;http://en.wikipedia.org/wiki/Triangular_distribution&quot;&gt;This is called a triangular distribution&lt;/a&gt;, although yours is a degenerate case with the mode equal to the minimum value. Wikipedia has equations for how to create one given a uniformly distributed (0,1) variable.","title":"Java: random integer with non-uniform distribution","body":"<p><a href=\"http://en.wikipedia.org/wiki/Triangular_distribution\" rel=\"nofollow\">This is called a triangular distribution</a>, although yours is a degenerate case with the mode equal to the minimum value. Wikipedia has equations for how to create one given a uniformly distributed (0,1) variable.</p>\n"},{"tags":[],"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487982882,"creation_date":1487982882,"answer_id":42450520,"question_id":5969447,"body_markdown":"The Cumulative Distribution Function is `x^2` for a triangular distribution `[0,1]` with mode (highest weighted probability) of 1, as shown [here][1].\r\n\r\nTherefore, all we need to do to transform a uniform distribution (such as Java&#39;s `Random::nextDouble`) into a convenient triangular distribution weighted towards 1 is: simply take the square root `Math.sqrt(rand.nextDouble())`, which can then multiplied by any desired range.\r\n\r\nFor your example:\r\n\r\n    int a = 1; // lower bound, inclusive\r\n    int b = k; // upper bound, exclusive\r\n    double weightedRand = Math.sqrt(rand.nextDouble()); // use triangular distribution\r\n    weightedRand = 1.0 - weightedRand; // invert the distribution (greater density at bottom)\r\n    int result = (int) Math.floor((b-a) * weightedRand);\r\n    result += a; // offset by lower bound\r\n    if(result &gt;= b) result = a; // handle the edge case\t\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Triangular_distribution#Mode_at_a_bound","title":"Java: random integer with non-uniform distribution","body":"<p>The Cumulative Distribution Function is <code>x^2</code> for a triangular distribution <code>[0,1]</code> with mode (highest weighted probability) of 1, as shown <a href=\"https://en.wikipedia.org/wiki/Triangular_distribution#Mode_at_a_bound\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Therefore, all we need to do to transform a uniform distribution (such as Java's <code>Random::nextDouble</code>) into a convenient triangular distribution weighted towards 1 is: simply take the square root <code>Math.sqrt(rand.nextDouble())</code>, which can then multiplied by any desired range.</p>\n\n<p>For your example:</p>\n\n<pre><code>int a = 1; // lower bound, inclusive\nint b = k; // upper bound, exclusive\ndouble weightedRand = Math.sqrt(rand.nextDouble()); // use triangular distribution\nweightedRand = 1.0 - weightedRand; // invert the distribution (greater density at bottom)\nint result = (int) Math.floor((b-a) * weightedRand);\nresult += a; // offset by lower bound\nif(result &gt;= b) result = a; // handle the edge case \n</code></pre>\n"}],"owner":{"account_id":386453,"reputation":772,"user_id":744221,"display_name":"Leo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11667,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":5969719,"answer_count":10,"score":43,"last_activity_date":1648943696,"creation_date":1305141649,"question_id":5969447,"body_markdown":"How can I create a random integer `n` in Java, between `1` and `k` with a &quot;linear descending distribution&quot;, i.e. `1` is most likely, `2` is less likely, `3` less likely, ..., `k` least likely, and the probabilities descend linearly, like this:\r\n\r\n![enter image description here][1]\r\n\r\nI know that there are dozens of threads on this topic already, and I apologize for making a new one, but I can&#39;t seem to be able to create what I need from them. I know that using `import java.util.*;`, the code \r\n\r\n    Random r=new Random();\r\n    int n=r.nextInt(k)+1;\r\n\r\ncreates a random integer between `1` and `k`, distributed uniformly. \r\n\r\n**GENERALIZATION:** Any hints for creating an arbitrarily distributed integer, i.e. `f(n)=some function`, `P(n)=f(n)/(f(1)+...+f(k))`), would also be appreciated, for example:\r\n\r\n![enter image description here][2].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3aNYw.jpg\r\n  [2]: http://i.stack.imgur.com/1wjO1.jpg","title":"Java: random integer with non-uniform distribution","body":"<p>How can I create a random integer <code>n</code> in Java, between <code>1</code> and <code>k</code> with a &quot;linear descending distribution&quot;, i.e. <code>1</code> is most likely, <code>2</code> is less likely, <code>3</code> less likely, ..., <code>k</code> least likely, and the probabilities descend linearly, like this:</p>\n<p><img src=\"https://i.stack.imgur.com/3aNYw.jpg\" alt=\"enter image description here\" /></p>\n<p>I know that there are dozens of threads on this topic already, and I apologize for making a new one, but I can't seem to be able to create what I need from them. I know that using <code>import java.util.*;</code>, the code</p>\n<pre><code>Random r=new Random();\nint n=r.nextInt(k)+1;\n</code></pre>\n<p>creates a random integer between <code>1</code> and <code>k</code>, distributed uniformly.</p>\n<p><strong>GENERALIZATION:</strong> Any hints for creating an arbitrarily distributed integer, i.e. <code>f(n)=some function</code>, <code>P(n)=f(n)/(f(1)+...+f(k))</code>), would also be appreciated, for example:</p>\n<p><img src=\"https://i.stack.imgur.com/1wjO1.jpg\" alt=\"enter image description here\" />.</p>\n"},{"tags":["java","fonts","apache-fop"],"answers":[{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648943115,"creation_date":1648943115,"answer_id":71721961,"question_id":71649680,"body_markdown":"The [Documentation](https://xmlgraphics.apache.org/fop/trunk/fonts.html) states:\r\n\r\n&gt; Fonts found as a result of a &quot;directory&quot; tag configuration override fonts found as a result of the &quot;auto-detect&quot; tag being specified.\r\n\r\nAccordingly, a `&lt;directory&gt;` tag could be added to your config file. In order to set it programmatically, you could specify it as a placeholder:\r\n\r\n```xml\r\n&lt;fop version=&quot;1.0&quot;&gt;\r\n  &lt;fonts&gt;\r\n    &lt;directory&gt;DYNAMIC_FONTDIR&lt;/directory&gt;\r\n    &lt;auto-detect/&gt;\r\n  &lt;/fonts&gt;\r\n  &lt;!-- ... --&gt;\r\n&lt;/fop&gt;\r\n```\r\n\r\nIn order to expand the placeholder, change the code you presented as follows:\r\n\r\n```java\r\nString originalConfig = new String(configFileStream.readAllBytes(), StandardCharsets.UTF_8);\r\nString adaptedConfig = originalConfig.replace(&quot;DYNAMIC_FONTDIR&quot;, fontDir.getAbsolutePath());\r\nInputStream adaptedConfigStream = new ByteArrayInputStream(adaptedConfig.getBytes(StandardCharsets.UTF_8));\r\n\r\nFopConfParser fopConfParser = new FopConfParser(adaptedConfigStream, environmentProfile);\r\n// ...\r\n```","title":"In Apache FOP, how to prioritize fonts from custom directory over system fonts?","body":"<p>The <a href=\"https://xmlgraphics.apache.org/fop/trunk/fonts.html\" rel=\"nofollow noreferrer\">Documentation</a> states:</p>\n<blockquote>\n<p>Fonts found as a result of a &quot;directory&quot; tag configuration override fonts found as a result of the &quot;auto-detect&quot; tag being specified.</p>\n</blockquote>\n<p>Accordingly, a <code>&lt;directory&gt;</code> tag could be added to your config file. In order to set it programmatically, you could specify it as a placeholder:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fop version=&quot;1.0&quot;&gt;\n  &lt;fonts&gt;\n    &lt;directory&gt;DYNAMIC_FONTDIR&lt;/directory&gt;\n    &lt;auto-detect/&gt;\n  &lt;/fonts&gt;\n  &lt;!-- ... --&gt;\n&lt;/fop&gt;\n</code></pre>\n<p>In order to expand the placeholder, change the code you presented as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String originalConfig = new String(configFileStream.readAllBytes(), StandardCharsets.UTF_8);\nString adaptedConfig = originalConfig.replace(&quot;DYNAMIC_FONTDIR&quot;, fontDir.getAbsolutePath());\nInputStream adaptedConfigStream = new ByteArrayInputStream(adaptedConfig.getBytes(StandardCharsets.UTF_8));\n\nFopConfParser fopConfParser = new FopConfParser(adaptedConfigStream, environmentProfile);\n// ...\n</code></pre>\n"}],"owner":{"account_id":7109467,"reputation":2376,"user_id":5519485,"accept_rate":69,"display_name":"Erik Hofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71721961,"answer_count":1,"score":3,"last_activity_date":1648943115,"creation_date":1648480227,"question_id":71649680,"body_markdown":"I have an XML config that enables auto-detection of system fonts:\r\n\r\n    &lt;fop version=&quot;1.0&quot;&gt;\r\n      &lt;fonts&gt;\r\n        &lt;auto-detect/&gt;\r\n      &lt;/fonts&gt;\r\n      &lt;!-- ... --&gt;\r\n    &lt;/fop&gt;\r\n\r\nAnd I configure a custom fonts directory programmatically:\r\n\r\n    // ...\r\n    FopConfParser fopConfParser = new FopConfParser(configFileStream, environmentProfile);\r\n    FopFactoryBuilder fopFactoryBuilder = fopConfParser.getFopFactoryBuilder()\r\n    fopFactoryBuilder.getFontManager().setResourceResolver(ResourceResolverFactory.createDefaultInternalResourceResolver(fontDir.toURI()));\r\n\r\nIn principle, this works. However, if a font is present in the system fonts directory as well as in my custom directory, the sytem font is used. This seems to be changed behavior from FOP 1.x to 2.x.\r\n\r\nIs there a way to genrally prioritize fonts from custom directory over system fonts? I know that this can be solved with `embed-url` but I ideally don&#39;t want to configure this for every font explicitly.\r\n   ","title":"In Apache FOP, how to prioritize fonts from custom directory over system fonts?","body":"<p>I have an XML config that enables auto-detection of system fonts:</p>\n<pre><code>&lt;fop version=&quot;1.0&quot;&gt;\n  &lt;fonts&gt;\n    &lt;auto-detect/&gt;\n  &lt;/fonts&gt;\n  &lt;!-- ... --&gt;\n&lt;/fop&gt;\n</code></pre>\n<p>And I configure a custom fonts directory programmatically:</p>\n<pre><code>// ...\nFopConfParser fopConfParser = new FopConfParser(configFileStream, environmentProfile);\nFopFactoryBuilder fopFactoryBuilder = fopConfParser.getFopFactoryBuilder()\nfopFactoryBuilder.getFontManager().setResourceResolver(ResourceResolverFactory.createDefaultInternalResourceResolver(fontDir.toURI()));\n</code></pre>\n<p>In principle, this works. However, if a font is present in the system fonts directory as well as in my custom directory, the sytem font is used. This seems to be changed behavior from FOP 1.x to 2.x.</p>\n<p>Is there a way to genrally prioritize fonts from custom directory over system fonts? I know that this can be solved with <code>embed-url</code> but I ideally don't want to configure this for every font explicitly.</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648942804,"creation_date":1648942804,"answer_id":71721939,"question_id":71714719,"body_markdown":"This message implies that you are trying to use a default constructor for java.util.List.\r\n\r\nSomething like\r\n\r\n    new List();\r\n\r\nIf that&#39;s the case, try using ArrayList for example, because List is the interface, so you can only instanciate the implementation classes of List.","title":"Spring boot Postmapping not working for request body with List","body":"<p>This message implies that you are trying to use a default constructor for java.util.List.</p>\n<p>Something like</p>\n<pre><code>new List();\n</code></pre>\n<p>If that's the case, try using ArrayList for example, because List is the interface, so you can only instanciate the implementation classes of List.</p>\n"}],"owner":{"account_id":14047221,"reputation":61,"user_id":10147096,"display_name":"Shankar Ghimire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648942804,"creation_date":1648871334,"question_id":71714719,"body_markdown":"I am trying to send array list JSON as request body in spring boot project but it gives me error. It it working fine if i just use json object. \r\n\r\nI need to send request something like below.\r\n\r\n    [\r\n        {\r\n            &quot;name&quot;:&quot;abc&quot;\r\n    .....\r\n        }\r\n    ]\r\n\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/addr&quot;)\r\n    public List&lt;String&gt; getAddr(@RequestBody List&lt;Address&gt; addr)\r\n\r\n\r\n\r\nAddress.java\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgConstructor\r\n    public class Address {\r\n    private String name;\r\n    ....\r\n    }\r\n\r\nwhen i hit this API it gives me following error\r\nError:\r\n\r\n    No primary or default constructor found for interface java.util.List] \r\n\r\nPlease suggest how to fix?","title":"Spring boot Postmapping not working for request body with List","body":"<p>I am trying to send array list JSON as request body in spring boot project but it gives me error. It it working fine if i just use json object.</p>\n<p>I need to send request something like below.</p>\n<pre><code>[\n    {\n        &quot;name&quot;:&quot;abc&quot;\n.....\n    }\n]\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/addr&quot;)\npublic List&lt;String&gt; getAddr(@RequestBody List&lt;Address&gt; addr)\n</code></pre>\n<p>Address.java</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgConstructor\npublic class Address {\nprivate String name;\n....\n}\n</code></pre>\n<p>when i hit this API it gives me following error\nError:</p>\n<pre><code>No primary or default constructor found for interface java.util.List] \n</code></pre>\n<p>Please suggest how to fix?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648925104,"post_id":71717253,"comment_id":126748112,"body_markdown":"If this is an exercise, and you don’t want to use any helpful date-time classes, you should say so explicitly.","body":"If this is an exercise, and you don’t want to use any helpful date-time classes, you should say so explicitly."}],"answers":[{"tags":[],"owner":{"account_id":17456877,"reputation":1,"user_id":12655485,"display_name":"PranjalG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648908439,"creation_date":1648908439,"answer_id":71718237,"question_id":71717253,"body_markdown":"There are date libraries to do this. I am not very sure about the necessity of writing this code. In any case if you want to completely code the solution without using any libraries then here is the code to do that.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    \r\n    public class DateDiff {\r\n        private static final Map&lt;Integer, Integer&gt; monthsMap = new HashMap&lt;&gt;();\r\n        static {\r\n            monthsMap.put(0, 0);\r\n            monthsMap.put(1, 31);\r\n            monthsMap.put(2, 28);\r\n            monthsMap.put(3, 31);\r\n            monthsMap.put(4, 30);\r\n            monthsMap.put(5, 31);\r\n            monthsMap.put(6, 30);\r\n            monthsMap.put(7, 31);\r\n            monthsMap.put(8, 31);\r\n            monthsMap.put(9, 30);\r\n            monthsMap.put(10, 31);\r\n            monthsMap.put(11, 30);\r\n            monthsMap.put(12, 31);\r\n        }\r\n    \r\n        public static String dateChecker() {\r\n            boolean incorrectDateFormat =false;\r\n            String date;\r\n            do {\r\n                Scanner scanner = new Scanner(System.in);\r\n                date = scanner.nextLine();\r\n                if (date.charAt(2) != &#39;/&#39; || date.charAt(5) != &#39;/&#39;) {\r\n                    System.out.println(&quot;Re-enter date in the dd/mm/yyyy format&quot;);\r\n                    incorrectDateFormat =true;\r\n                } else {\r\n                    incorrectDateFormat = false;\r\n                }\r\n            } while(incorrectDateFormat);\r\n            return date;\r\n        }\r\n    \r\n        public static int daysSinceYearZero(String dateStr) {\r\n            int year = Integer.parseInt(dateStr.substring(dateStr.lastIndexOf(&quot;/&quot;)+1));\r\n            int totalNumberOfCompleteYearsSinceYear0 = year; //As year zero is also a complete year, so completed number of years will be equal given year in the date.\r\n            int leapYearCount = 0;\r\n            for(int i=1; i&lt;=totalNumberOfCompleteYearsSinceYear0; i++) { //year zero is not a leap year. so starting the loop from 4 as year 4 is the first leap year.\r\n                if((i % 4 == 0 &amp;&amp; (i % 100 != 0)) || (i % 400 == 0)) {\r\n                    leapYearCount++;\r\n                }\r\n            }\r\n            int totalNumberOfDaysInCompletedYears = totalNumberOfCompleteYearsSinceYear0*365 + leapYearCount;\r\n            int monthFromGivenDate = Integer.parseInt(dateStr.substring(dateStr.indexOf(&quot;/&quot;)+1,dateStr.lastIndexOf(&quot;/&quot;)));\r\n            int completedMonth = monthFromGivenDate - 1;\r\n            int daysForCompletedMonthsOfCurrentYear = 0;\r\n            for(int i=0; i&lt;=completedMonth;i++) {\r\n                daysForCompletedMonthsOfCurrentYear = daysForCompletedMonthsOfCurrentYear + monthsMap.get(i);\r\n                if(i==2 &amp;&amp; year%4==0) {\r\n                    daysForCompletedMonthsOfCurrentYear++;\r\n                }\r\n            }\r\n    \r\n            int numberOfDaysCompletedInCurrentMonth = Integer.parseInt(dateStr.substring(0,dateStr.indexOf(&quot;/&quot;)));\r\n    \r\n            int totalNumberOfDaysTillGivenDate = totalNumberOfDaysInCompletedYears + daysForCompletedMonthsOfCurrentYear + numberOfDaysCompletedInCurrentMonth;\r\n            return totalNumberOfDaysTillGivenDate;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Enter first date&quot;);\r\n            String date1 = dateChecker();\r\n            System.out.println(&quot;Enter second date&quot;);\r\n            String date2 = dateChecker();\r\n    \r\n            int firstDate = daysSinceYearZero(date1);\r\n            int secondDate = daysSinceYearZero(date2);\r\n    \r\n            System.out.println(&quot;First Date days since Year Zero: &quot; + firstDate);\r\n            System.out.println(&quot;Second Date days since Year Zero: &quot; + secondDate);\r\n            System.out.println(&quot;Difference: &quot; + Math.abs(firstDate-secondDate));\r\n    \r\n        }\r\n    }","title":"I am trying to figure out the difference in days between two dates manually","body":"<p>There are date libraries to do this. I am not very sure about the necessity of writing this code. In any case if you want to completely code the solution without using any libraries then here is the code to do that.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\npublic class DateDiff {\n    private static final Map&lt;Integer, Integer&gt; monthsMap = new HashMap&lt;&gt;();\n    static {\n        monthsMap.put(0, 0);\n        monthsMap.put(1, 31);\n        monthsMap.put(2, 28);\n        monthsMap.put(3, 31);\n        monthsMap.put(4, 30);\n        monthsMap.put(5, 31);\n        monthsMap.put(6, 30);\n        monthsMap.put(7, 31);\n        monthsMap.put(8, 31);\n        monthsMap.put(9, 30);\n        monthsMap.put(10, 31);\n        monthsMap.put(11, 30);\n        monthsMap.put(12, 31);\n    }\n\n    public static String dateChecker() {\n        boolean incorrectDateFormat =false;\n        String date;\n        do {\n            Scanner scanner = new Scanner(System.in);\n            date = scanner.nextLine();\n            if (date.charAt(2) != '/' || date.charAt(5) != '/') {\n                System.out.println(&quot;Re-enter date in the dd/mm/yyyy format&quot;);\n                incorrectDateFormat =true;\n            } else {\n                incorrectDateFormat = false;\n            }\n        } while(incorrectDateFormat);\n        return date;\n    }\n\n    public static int daysSinceYearZero(String dateStr) {\n        int year = Integer.parseInt(dateStr.substring(dateStr.lastIndexOf(&quot;/&quot;)+1));\n        int totalNumberOfCompleteYearsSinceYear0 = year; //As year zero is also a complete year, so completed number of years will be equal given year in the date.\n        int leapYearCount = 0;\n        for(int i=1; i&lt;=totalNumberOfCompleteYearsSinceYear0; i++) { //year zero is not a leap year. so starting the loop from 4 as year 4 is the first leap year.\n            if((i % 4 == 0 &amp;&amp; (i % 100 != 0)) || (i % 400 == 0)) {\n                leapYearCount++;\n            }\n        }\n        int totalNumberOfDaysInCompletedYears = totalNumberOfCompleteYearsSinceYear0*365 + leapYearCount;\n        int monthFromGivenDate = Integer.parseInt(dateStr.substring(dateStr.indexOf(&quot;/&quot;)+1,dateStr.lastIndexOf(&quot;/&quot;)));\n        int completedMonth = monthFromGivenDate - 1;\n        int daysForCompletedMonthsOfCurrentYear = 0;\n        for(int i=0; i&lt;=completedMonth;i++) {\n            daysForCompletedMonthsOfCurrentYear = daysForCompletedMonthsOfCurrentYear + monthsMap.get(i);\n            if(i==2 &amp;&amp; year%4==0) {\n                daysForCompletedMonthsOfCurrentYear++;\n            }\n        }\n\n        int numberOfDaysCompletedInCurrentMonth = Integer.parseInt(dateStr.substring(0,dateStr.indexOf(&quot;/&quot;)));\n\n        int totalNumberOfDaysTillGivenDate = totalNumberOfDaysInCompletedYears + daysForCompletedMonthsOfCurrentYear + numberOfDaysCompletedInCurrentMonth;\n        return totalNumberOfDaysTillGivenDate;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter first date&quot;);\n        String date1 = dateChecker();\n        System.out.println(&quot;Enter second date&quot;);\n        String date2 = dateChecker();\n\n        int firstDate = daysSinceYearZero(date1);\n        int secondDate = daysSinceYearZero(date2);\n\n        System.out.println(&quot;First Date days since Year Zero: &quot; + firstDate);\n        System.out.println(&quot;Second Date days since Year Zero: &quot; + secondDate);\n        System.out.println(&quot;Difference: &quot; + Math.abs(firstDate-secondDate));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648936337,"creation_date":1648909722,"answer_id":71718391,"question_id":71717253,"body_markdown":"Since you didn&#39;t explain any requirements or limitations you can do it like this. \r\n```\r\nLocalDate earliest = LocalDate.parse(&quot;2012-05-17&quot;);\r\nLocalDate latest = LocalDate.parse(&quot;2022-06-22&quot;);\r\nSystem.out.println(latest.toEpochDay()-earliest.toEpochDay());\r\n```\r\nprints\r\n```\r\n3688 (exclusive of the latest date day)\r\n```\r\nHowever, here is one way to home grow it.  I used lambdas to facilitate the process.  And no loops were required in the calculation.  So this runs in constant time.\r\n\r\n-  First I created an `IntTrinaryOperator` interface.\r\n```\r\ninterface IntTrinaryOperator {\r\n\tpublic int applyAsInt(int a, int b, int c);\r\n}\r\n```\r\nThen an array of month days was created (leap years are handled later) the first cell is ignored but required for the following operation.\r\n```\r\nint daysPerMonth[] =\r\n\t\t{ 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\r\nint monthSums[] = daysPerMonth.clone();\r\n// this creates a running sum\r\n// looks like [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365]\r\n// the last cell is not used. \r\nArrays.parallelPrefix(monthSums, (a, b) -&gt; a + b);\r\n```\r\nA leap year function\r\n```\r\nFunction&lt;Integer, Boolean&gt; isLeapYear =\r\n\t\ta -&gt; a % 400 == 0 || (a % 100 != 0 &amp;&amp; a % 4 == 0);\r\n```\r\nAnd the defined Trinary to be used for the actual calculation.\r\n- `(y-1)*365-(y-1)/100+(y-1)/4 +(y-1)/400` - computes total leap years starting from previous year.\r\n   - first total days using 365 days per year\r\n   - then subtract century years\r\n   - then add years divisible by 400 back in.\r\n-  `monthSums[m-1]+d` - adds days for this year\r\n- `((m &gt; 2) &amp;&amp; isLeapYear.apply(y) ? 1 : 0) - 1` - adds one more day if after `February` but subtracts `1` to exclude current day (as in most ranges in Java)\r\n```\r\nIntTrinaryOperator daysToEpoch = (y, m, d) -&gt; (y - 1) * 365\r\n\t\t- (y - 1) / 100 + (y - 1) / 4 + (y - 1) / 400 +\r\n\t\t+ monthSums[m - 1] + d\r\n\t\t+ ((m &gt; 2) &amp;&amp; isLeapYear.apply(y) ? 1 : 0) - 1;\r\n```\r\n**Testing**\r\n- generate some dates.  Dates are not chronological so the days could be negative, hence the `Math.abs()`\r\n```\r\nRandom r = new Random();\r\n\r\nfor (int i = 0; i &lt; 10; i++) {\r\n\tint eYear = r.nextInt(2022) + 1;\r\n\tint eMonth = r.nextInt(12) + 1;\r\n\tint eDay = r.nextInt(daysPerMonth[eMonth])\r\n\t\t\t+ (eMonth == 2 &amp;&amp; isLeapYear.apply(eYear) ? 1 :\r\n\t\t\t\t\t0);\r\n\t\r\n\tint sYear = r.nextInt(2022) + 1;\r\n\tint sMonth = r.nextInt(12) + 1;\r\n\tint sDay = r.nextInt(daysPerMonth[sMonth])\r\n\t\t\t+ (sMonth == 2 &amp;&amp; isLeapYear.apply(sYear) ? 1 :\r\n\t\t\t\t\t0);\r\n\t\r\n\tint eDaysToEpoch =\r\n\t\t\tdaysToEpoch.applyAsInt(eYear, eMonth, eDay);\r\n\tint sDaysToEpoch =\r\n\t\t\tdaysToEpoch.applyAsInt(sYear, sMonth, sDay);\r\n\t\r\n\tSystem.out.printf(&quot;%02d/%02d/%04d - %02d/%02d/%04d - %,9d total days%n&quot;,\r\n\t\t\teMonth, eDay, eYear, sMonth, sDay, sYear, Math.abs(eDaysToEpoch-sDaysToEpoch));\r\n}\r\n```\r\nAnd the original dates\r\n```\r\nSystem.out.println(daysToEpoch.applyAsInt(2022, 6, 22)- \r\n                   daysToEpoch.applyAsInt(2012, 5, 17));\r\n```\r\nprints something like.\r\n```\r\n04/10/1377 - 12/03/1486 -    40,048 total days\r\n02/12/0727 - 03/27/0196 -   193,899 total days\r\n11/26/0457 - 12/09/0307 -    54,775 total days\r\n02/25/0691 - 10/23/1596 -   330,785 total days\r\n03/28/0404 - 01/16/1567 -   424,705 total days\r\n10/18/0372 - 01/15/1316 -   344,512 total days\r\n08/01/1374 - 01/23/1484 -    39,986 total days\r\n03/21/0622 - 07/24/0495 -    46,260 total days\r\n02/05/1167 - 08/05/1558 -   142,991 total days\r\n12/02/1824 - 07/21/0976 -   309,859 total days\r\n3688\r\n```\r\nThis has been tested using the API method first shown above. With over 1M random tests there were no discrepancies.\r\n\r\nHere is a date validation method.  It checks for leap years and days against months.  It also allows single digits for month and day.  It does not produce detailed error messages. I continues to re-prompt until a valid date is entered.  Otherwise the day, month, and year are returned in an array.\r\n```\r\npublic static int[] getDate(Scanner scanner) {\r\n\tString stringDate = &quot;\\\\d\\\\d?/\\\\d\\\\d?/\\\\d{4}&quot;;\r\n\t\r\n\twhile (true) {\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;Please enter date in dd/mm/yyyy format.&quot;);\r\n\t\tString date = scanner.nextLine();\r\n\t\tif (date.matches(stringDate)) {\r\n\t\t\tint[] dmy = Arrays.stream(date.split(&quot;/&quot;))\r\n\t\t\t\t\t.mapToInt(Integer::parseInt).toArray();\r\n\t\t\tSystem.out.println(Arrays.toString(dmy));\r\n\t\t\tint d = dmy[0];\r\n\t\t\tint m = dmy[1];\r\n\t\t\tint y = dmy[2];\r\n\t\t\tif (d &gt; 0 &amp;&amp; m &gt; 0 &amp;&amp; m &lt; 13 &amp;&amp; y &gt; 0) {\r\n\t\t\t\tboolean isLeap = isLeapYear.apply(y);\r\n\t\t\t\tif (isLeap &amp;&amp; d &lt;= 29 &amp;&amp; m == 2) {\r\n\t\t\t\t\treturn dmy;\r\n\t\t\t\t}\r\n\t\t\t\tif (d &lt;= daysPerMonth[m]) {\r\n\t\t\t\t\treturn dmy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Illegal date: &quot;);\r\n\t}\r\n}","title":"I am trying to figure out the difference in days between two dates manually","body":"<p>Since you didn't explain any requirements or limitations you can do it like this.</p>\n<pre><code>LocalDate earliest = LocalDate.parse(&quot;2012-05-17&quot;);\nLocalDate latest = LocalDate.parse(&quot;2022-06-22&quot;);\nSystem.out.println(latest.toEpochDay()-earliest.toEpochDay());\n</code></pre>\n<p>prints</p>\n<pre><code>3688 (exclusive of the latest date day)\n</code></pre>\n<p>However, here is one way to home grow it.  I used lambdas to facilitate the process.  And no loops were required in the calculation.  So this runs in constant time.</p>\n<ul>\n<li>First I created an <code>IntTrinaryOperator</code> interface.</li>\n</ul>\n<pre><code>interface IntTrinaryOperator {\n    public int applyAsInt(int a, int b, int c);\n}\n</code></pre>\n<p>Then an array of month days was created (leap years are handled later) the first cell is ignored but required for the following operation.</p>\n<pre><code>int daysPerMonth[] =\n        { 0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 };\nint monthSums[] = daysPerMonth.clone();\n// this creates a running sum\n// looks like [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365]\n// the last cell is not used. \nArrays.parallelPrefix(monthSums, (a, b) -&gt; a + b);\n</code></pre>\n<p>A leap year function</p>\n<pre><code>Function&lt;Integer, Boolean&gt; isLeapYear =\n        a -&gt; a % 400 == 0 || (a % 100 != 0 &amp;&amp; a % 4 == 0);\n</code></pre>\n<p>And the defined Trinary to be used for the actual calculation.</p>\n<ul>\n<li><code>(y-1)*365-(y-1)/100+(y-1)/4 +(y-1)/400</code> - computes total leap years starting from previous year.\n<ul>\n<li>first total days using 365 days per year</li>\n<li>then subtract century years</li>\n<li>then add years divisible by 400 back in.</li>\n</ul>\n</li>\n<li><code>monthSums[m-1]+d</code> - adds days for this year</li>\n<li><code>((m &gt; 2) &amp;&amp; isLeapYear.apply(y) ? 1 : 0) - 1</code> - adds one more day if after <code>February</code> but subtracts <code>1</code> to exclude current day (as in most ranges in Java)</li>\n</ul>\n<pre><code>IntTrinaryOperator daysToEpoch = (y, m, d) -&gt; (y - 1) * 365\n        - (y - 1) / 100 + (y - 1) / 4 + (y - 1) / 400 +\n        + monthSums[m - 1] + d\n        + ((m &gt; 2) &amp;&amp; isLeapYear.apply(y) ? 1 : 0) - 1;\n</code></pre>\n<p><strong>Testing</strong></p>\n<ul>\n<li>generate some dates.  Dates are not chronological so the days could be negative, hence the <code>Math.abs()</code></li>\n</ul>\n<pre><code>Random r = new Random();\n\nfor (int i = 0; i &lt; 10; i++) {\n    int eYear = r.nextInt(2022) + 1;\n    int eMonth = r.nextInt(12) + 1;\n    int eDay = r.nextInt(daysPerMonth[eMonth])\n            + (eMonth == 2 &amp;&amp; isLeapYear.apply(eYear) ? 1 :\n                    0);\n    \n    int sYear = r.nextInt(2022) + 1;\n    int sMonth = r.nextInt(12) + 1;\n    int sDay = r.nextInt(daysPerMonth[sMonth])\n            + (sMonth == 2 &amp;&amp; isLeapYear.apply(sYear) ? 1 :\n                    0);\n    \n    int eDaysToEpoch =\n            daysToEpoch.applyAsInt(eYear, eMonth, eDay);\n    int sDaysToEpoch =\n            daysToEpoch.applyAsInt(sYear, sMonth, sDay);\n    \n    System.out.printf(&quot;%02d/%02d/%04d - %02d/%02d/%04d - %,9d total days%n&quot;,\n            eMonth, eDay, eYear, sMonth, sDay, sYear, Math.abs(eDaysToEpoch-sDaysToEpoch));\n}\n</code></pre>\n<p>And the original dates</p>\n<pre><code>System.out.println(daysToEpoch.applyAsInt(2022, 6, 22)- \n                   daysToEpoch.applyAsInt(2012, 5, 17));\n</code></pre>\n<p>prints something like.</p>\n<pre><code>04/10/1377 - 12/03/1486 -    40,048 total days\n02/12/0727 - 03/27/0196 -   193,899 total days\n11/26/0457 - 12/09/0307 -    54,775 total days\n02/25/0691 - 10/23/1596 -   330,785 total days\n03/28/0404 - 01/16/1567 -   424,705 total days\n10/18/0372 - 01/15/1316 -   344,512 total days\n08/01/1374 - 01/23/1484 -    39,986 total days\n03/21/0622 - 07/24/0495 -    46,260 total days\n02/05/1167 - 08/05/1558 -   142,991 total days\n12/02/1824 - 07/21/0976 -   309,859 total days\n3688\n</code></pre>\n<p>This has been tested using the API method first shown above. With over 1M random tests there were no discrepancies.</p>\n<p>Here is a date validation method.  It checks for leap years and days against months.  It also allows single digits for month and day.  It does not produce detailed error messages. I continues to re-prompt until a valid date is entered.  Otherwise the day, month, and year are returned in an array.</p>\n<pre><code>public static int[] getDate(Scanner scanner) {\n    String stringDate = &quot;\\\\d\\\\d?/\\\\d\\\\d?/\\\\d{4}&quot;;\n    \n    while (true) {\n        System.out.println(\n                &quot;Please enter date in dd/mm/yyyy format.&quot;);\n        String date = scanner.nextLine();\n        if (date.matches(stringDate)) {\n            int[] dmy = Arrays.stream(date.split(&quot;/&quot;))\n                    .mapToInt(Integer::parseInt).toArray();\n            System.out.println(Arrays.toString(dmy));\n            int d = dmy[0];\n            int m = dmy[1];\n            int y = dmy[2];\n            if (d &gt; 0 &amp;&amp; m &gt; 0 &amp;&amp; m &lt; 13 &amp;&amp; y &gt; 0) {\n                boolean isLeap = isLeapYear.apply(y);\n                if (isLeap &amp;&amp; d &lt;= 29 &amp;&amp; m == 2) {\n                    return dmy;\n                }\n                if (d &lt;= daysPerMonth[m]) {\n                    return dmy;\n                }\n            }\n        }\n        System.out.print(&quot;Illegal date: &quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14158729,"reputation":167,"user_id":10228623,"display_name":"Kyle Sharp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71718391,"answer_count":2,"score":2,"last_activity_date":1648942078,"creation_date":1648899945,"question_id":71717253,"body_markdown":"I have used these two websites to measure how close my code gets.\r\n\r\n - [Difference](https://www.timeanddate.com/date/duration.html) \r\n- [Days\r\n   since year\r\n   zero](https://www.epochconverter.com/seconds-days-since-y0#:~:text=Days%20Since%200001%2D01%2D01,since%20January%201%2C%201%20AD.)\r\n\r\nI use days since year zero to normalise the two entered dates, then I find the difference between those dates. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class DateDiff {\r\n    private static final int[] monthsDay = {31,28,31,30,31,30,31,31,30,31,30,31};\r\n\r\n    public static String dateChecker() {\r\n        boolean b = true;\r\n        int dateC = 0;\r\n        String date = &quot;&quot;;\r\n\r\n        do {\r\n            Scanner scanner = new Scanner(System.in);\r\n            date = scanner.nextLine();\r\n            try {\r\n                if (date.charAt(2) == &#39;/&#39; &amp;&amp; date.charAt(5) == &#39;/&#39;) {\r\n                    date = date.replace(&quot;/&quot;, &quot;&quot;);\r\n                    dateC = Integer.parseInt(date);\r\n                    b = false;\r\n                } else {\r\n                    System.out.println(&quot;Reenter date in the dd/mm/yyyy format&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Reenter date in the dd/mm/yyyy format&quot;);\r\n            }\r\n\r\n        } while (b);\r\n\r\n        return date;\r\n    }\r\n\r\n    public static int daysForMonth(int months, int year) {\r\n\r\n        int days = 0;\r\n\r\n        for (int i = 0; i &lt; months; i++)\r\n            if (i == 1)\r\n                days += ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0)\r\n                        ? monthsDay[i] + 1\r\n                        : monthsDay[i];\r\n            else\r\n                days += monthsDay[i];\r\n\r\n        return days;\r\n    }\r\n\r\n    public static int daysForYears(int year) {\r\n\r\n        int days = 0;\r\n\r\n        for (int i = 0; i &lt; year; i++)\r\n            if ((i % 4 == 0 &amp;&amp; (i % 100 != 0)) || (i % 400 == 0))\r\n                days += 366;\r\n            else\r\n                days += 365;\r\n\r\n        return days;\r\n    }\r\n\r\n    public static int daysSinceYearZero(String date) {\r\n        int day = Integer.parseInt(date.substring(0,2));\r\n        int month = Integer.parseInt(date.substring(2,4));\r\n        int year = Integer.parseInt(date.substring(4,8));\r\n\r\n        int daysMonth = daysForMonth(month-1, year);\r\n        int daysYear = daysForYears(year);\r\n\r\n        return day + daysMonth + daysYear;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter first date&quot;);\r\n        String date1 = dateChecker();\r\n        System.out.println(&quot;Enter second date&quot;);\r\n        String date2 = dateChecker();\r\n\r\n        int firstDate = daysSinceYearZero(date1);\r\n        int secondDate = daysSinceYearZero(date2);\r\n\r\n        System.out.println(&quot;First Date days since Year Zero: &quot; + firstDate);\r\n        System.out.println(&quot;Second Date days since Year Zero: &quot; + secondDate);\r\n        System.out.println(&quot;Difference: &quot; + Math.abs(firstDate-secondDate));\r\n\r\n    }\r\n}\r\n```\r\nMy code gets close, but always seems to miss by a few days and I can&#39;t figure out why. I have confirmed the days and daysMonth are correct, but do not understand where I am going wrong in calculating the number of days since year zero using years (the daysYear variable)\r\n\r\nEdit: No libraries are allowed to be used. Scanner is fine however as that is just for user input.\r\n","title":"I am trying to figure out the difference in days between two dates manually","body":"<p>I have used these two websites to measure how close my code gets.</p>\n<ul>\n<li><a href=\"https://www.timeanddate.com/date/duration.html\" rel=\"nofollow noreferrer\">Difference</a></li>\n<li><a href=\"https://www.epochconverter.com/seconds-days-since-y0#:%7E:text=Days%20Since%200001%2D01%2D01,since%20January%201%2C%201%20AD.\" rel=\"nofollow noreferrer\">Days\nsince year\nzero</a></li>\n</ul>\n<p>I use days since year zero to normalise the two entered dates, then I find the difference between those dates.</p>\n<pre><code>import java.util.Scanner;\n\npublic class DateDiff {\n    private static final int[] monthsDay = {31,28,31,30,31,30,31,31,30,31,30,31};\n\n    public static String dateChecker() {\n        boolean b = true;\n        int dateC = 0;\n        String date = &quot;&quot;;\n\n        do {\n            Scanner scanner = new Scanner(System.in);\n            date = scanner.nextLine();\n            try {\n                if (date.charAt(2) == '/' &amp;&amp; date.charAt(5) == '/') {\n                    date = date.replace(&quot;/&quot;, &quot;&quot;);\n                    dateC = Integer.parseInt(date);\n                    b = false;\n                } else {\n                    System.out.println(&quot;Reenter date in the dd/mm/yyyy format&quot;);\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Reenter date in the dd/mm/yyyy format&quot;);\n            }\n\n        } while (b);\n\n        return date;\n    }\n\n    public static int daysForMonth(int months, int year) {\n\n        int days = 0;\n\n        for (int i = 0; i &lt; months; i++)\n            if (i == 1)\n                days += ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0)\n                        ? monthsDay[i] + 1\n                        : monthsDay[i];\n            else\n                days += monthsDay[i];\n\n        return days;\n    }\n\n    public static int daysForYears(int year) {\n\n        int days = 0;\n\n        for (int i = 0; i &lt; year; i++)\n            if ((i % 4 == 0 &amp;&amp; (i % 100 != 0)) || (i % 400 == 0))\n                days += 366;\n            else\n                days += 365;\n\n        return days;\n    }\n\n    public static int daysSinceYearZero(String date) {\n        int day = Integer.parseInt(date.substring(0,2));\n        int month = Integer.parseInt(date.substring(2,4));\n        int year = Integer.parseInt(date.substring(4,8));\n\n        int daysMonth = daysForMonth(month-1, year);\n        int daysYear = daysForYears(year);\n\n        return day + daysMonth + daysYear;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter first date&quot;);\n        String date1 = dateChecker();\n        System.out.println(&quot;Enter second date&quot;);\n        String date2 = dateChecker();\n\n        int firstDate = daysSinceYearZero(date1);\n        int secondDate = daysSinceYearZero(date2);\n\n        System.out.println(&quot;First Date days since Year Zero: &quot; + firstDate);\n        System.out.println(&quot;Second Date days since Year Zero: &quot; + secondDate);\n        System.out.println(&quot;Difference: &quot; + Math.abs(firstDate-secondDate));\n\n    }\n}\n</code></pre>\n<p>My code gets close, but always seems to miss by a few days and I can't figure out why. I have confirmed the days and daysMonth are correct, but do not understand where I am going wrong in calculating the number of days since year zero using years (the daysYear variable)</p>\n<p>Edit: No libraries are allowed to be used. Scanner is fine however as that is just for user input.</p>\n"},{"tags":["java","swing","focus","jpopupmenu"],"answers":[{"tags":[],"owner":{"account_id":6297385,"reputation":208,"user_id":5430796,"display_name":"Ed Brook"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533920277,"creation_date":1533920277,"answer_id":51791002,"question_id":51790771,"body_markdown":"You could call `menu.setVisible(false);` after `System.out.println(&quot;Button Pressed&quot;);` in the Action Listener. e.g:\r\n\r\n    JToggleButton jTbutton = new JToggleButton(&quot;Click Me&quot;);\r\n    jTbutton.setToolTipText(&quot;Test Buttons&quot;);\r\n    jTbutton.addActionListener(new ActionListener() {\r\n      public void actionPerformed(ActionEvent e) {\r\n        System.out.println(&quot;Button Pressed&quot;);\r\n        menu.setVisible(false);\r\n      }\r\n    });","title":"How to lose focus with JMenuItem or close JPopupMenu","body":"<p>You could call <code>menu.setVisible(false);</code> after <code>System.out.println(\"Button Pressed\");</code> in the Action Listener. e.g:</p>\n\n<pre><code>JToggleButton jTbutton = new JToggleButton(\"Click Me\");\njTbutton.setToolTipText(\"Test Buttons\");\njTbutton.addActionListener(new ActionListener() {\n  public void actionPerformed(ActionEvent e) {\n    System.out.println(\"Button Pressed\");\n    menu.setVisible(false);\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648941452,"creation_date":1533919268,"question_id":51790771,"body_markdown":"The following example generates a popup menu.\r\n\r\nThe popup menu contains 2 items. \r\n\r\nOne is a JLabel and the other is a JTextField.\r\n\r\nWhen either item is clicked, a simple statement is printed.\r\n\r\nWhen the JLabel menu item is clicked, the popup menu goes away.\r\nWhen the JButton menu item is clicked, the popup menu remains. \r\n\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\r\n\timport javax.swing.JDialog;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JMenuItem;\r\n\timport javax.swing.JPopupMenu;\r\n\timport javax.swing.JToggleButton;\r\n\r\n\r\n\r\n\tpublic class JPopupExample1 {\r\n\t  public static void main(String[] argv) throws Exception \r\n\t  {\r\n\t\tfinal JPopupMenu menu = new JPopupMenu();\r\n\t\tJFrame frame = new JFrame(&quot;PopupSample Example&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tJMenuItem item = new JMenuItem(&quot;Item Label&quot;);\r\n\t\titem.addActionListener(new ActionListener()\r\n\t\t{public void actionPerformed(ActionEvent e)\r\n\t\t\t{ System.out.println(&quot;Label Pressed&quot;); }});\r\n\r\n\t\tmenu.add(item);\r\n\t\t\r\n\t\tJToggleButton jTbutton = new JToggleButton(&quot;Click Me&quot;);\r\n\t\tjTbutton.setToolTipText(&quot;Test Buttons&quot;);\r\n\t\tjTbutton.addActionListener(new ActionListener()\r\n\t\t\t{public void actionPerformed(ActionEvent e)\r\n\t\t\t\t{System.out.println(&quot;Button Pressed&quot;);} \t});\r\n\t\t\r\n\t\tmenu.add(jTbutton);\r\n\r\n\t\tframe.setLayout(null);\r\n\t\tJLabel label = new JLabel(&quot;Right Click here for popup menu&quot;);\r\n\t\tlabel.setLocation(10, 10);\r\n\t\tlabel.setSize(250, 50);\r\n\t\tframe.add(label);\r\n\t\tlabel.setComponentPopupMenu(menu);\r\n\t\tframe.setSize(350, 250);\r\n\t\tframe.setVisible(true);\r\n\t  }\r\n\t}\r\n\r\nIs there a simple way to lose focus (without sending it to another Component) after clicking the JButton so the Popup menu goes away?\r\n","title":"How to lose focus with JMenuItem or close JPopupMenu","body":"<p>The following example generates a popup menu.</p>\n\n<p>The popup menu contains 2 items. </p>\n\n<p>One is a JLabel and the other is a JTextField.</p>\n\n<p>When either item is clicked, a simple statement is printed.</p>\n\n<p>When the JLabel menu item is clicked, the popup menu goes away.\nWhen the JButton menu item is clicked, the popup menu remains. </p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JToggleButton;\n\n\n\npublic class JPopupExample1 {\n  public static void main(String[] argv) throws Exception \n  {\n    final JPopupMenu menu = new JPopupMenu();\n    JFrame frame = new JFrame(\"PopupSample Example\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    JMenuItem item = new JMenuItem(\"Item Label\");\n    item.addActionListener(new ActionListener()\n    {public void actionPerformed(ActionEvent e)\n        { System.out.println(\"Label Pressed\"); }});\n\n    menu.add(item);\n\n    JToggleButton jTbutton = new JToggleButton(\"Click Me\");\n    jTbutton.setToolTipText(\"Test Buttons\");\n    jTbutton.addActionListener(new ActionListener()\n        {public void actionPerformed(ActionEvent e)\n            {System.out.println(\"Button Pressed\");}     });\n\n    menu.add(jTbutton);\n\n    frame.setLayout(null);\n    JLabel label = new JLabel(\"Right Click here for popup menu\");\n    label.setLocation(10, 10);\n    label.setSize(250, 50);\n    frame.add(label);\n    label.setComponentPopupMenu(menu);\n    frame.setSize(350, 250);\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n\n<p>Is there a simple way to lose focus (without sending it to another Component) after clicking the JButton so the Popup menu goes away?</p>\n"},{"tags":["java","swing","jpopupmenu"],"comments":[{"owner":{"display_name":"user2670200"},"score":0,"creation_date":1596615192,"post_id":63260856,"comment_id":111864875,"body_markdown":"It works as you coded...What do you expect ?","body":"It works as you coded...What do you expect ?"},{"owner":{"account_id":13008907,"reputation":49,"user_id":9402616,"display_name":"PIC-Nico"},"score":0,"creation_date":1596615969,"post_id":63260856,"comment_id":111865214,"body_markdown":"Hi @Joe as I wrote: I would expect that if I am hovering e.g. over the menu item &quot;A&quot; or &quot;B&quot; that this one is highlighted. I&#39;ve updated my question.","body":"Hi @Joe as I wrote: I would expect that if I am hovering e.g. over the menu item &quot;A&quot; or &quot;B&quot; that this one is highlighted. I&#39;ve updated my question."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1596622118,"creation_date":1596622118,"answer_id":63262895,"question_id":63260856,"body_markdown":"You need to use the `JPopupMenu` `show` method, rather than the `setVisible` method.\r\n\r\nHere&#39;s the code I tested with.  I&#39;m running Windows 10 and using the Java JDK 13.0.2 with Java 8 compliance. I get the highlight on the mouse over.\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JPopupMenuTest implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JPopupMenuTest());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \r\n    \t\tJPanel pane = new JPanel();\r\n    \t\tpane.setPreferredSize(new Dimension(300, 300));\r\n    \t\tpane.addMouseListener(new MouseAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void mousePressed(MouseEvent e) {\r\n    \t\t\t\tif (SwingUtilities.isRightMouseButton(e)) {\r\n    \t\t\t\t\tJPopupMenu popup = new JPopupMenu();\r\n    \t\t\t\t\tpopup.add(new JMenuItem(&quot;A&quot;));\r\n    \t\t\t\t\tpopup.add(new JMenuItem(&quot;B&quot;));\r\n    \r\n    \t\t\t\t\tpopup.show(e.getComponent(), e.getX(), e.getY());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tframe.setTitle(&quot;JPopupMenu Test&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(pane);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"JPopupMenu appears but seems to not react","body":"<p>You need to use the <code>JPopupMenu</code> <code>show</code> method, rather than the <code>setVisible</code> method.</p>\n<p>Here's the code I tested with.  I'm running Windows 10 and using the Java JDK 13.0.2 with Java 8 compliance. I get the highlight on the mouse over.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\nimport javax.swing.SwingUtilities;\n\npublic class JPopupMenuTest implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JPopupMenuTest());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n\n        JPanel pane = new JPanel();\n        pane.setPreferredSize(new Dimension(300, 300));\n        pane.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                if (SwingUtilities.isRightMouseButton(e)) {\n                    JPopupMenu popup = new JPopupMenu();\n                    popup.add(new JMenuItem(&quot;A&quot;));\n                    popup.add(new JMenuItem(&quot;B&quot;));\n\n                    popup.show(e.getComponent(), e.getX(), e.getY());\n                }\n            }\n        });\n\n        frame.setTitle(&quot;JPopupMenu Test&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(pane);\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13008907,"reputation":49,"user_id":9402616,"display_name":"PIC-Nico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63262895,"answer_count":1,"score":2,"last_activity_date":1648941432,"creation_date":1596614578,"question_id":63260856,"body_markdown":"I&#39;ve problems to get a JPopupMenu working correctly.\r\n\r\n**What I expect**\r\n\r\nThe menu should pop up once I do a right click with my mouse. Then I can select an item from the menu and do whatever I want..\r\n\r\n**What I actually get**\r\n\r\nThe menu appears once I do a right click but after that I can not select a menu item or at least I am missing the well known mouse hover highlight effect (I would expect that the item I am currently hovering is highlighted, like it is the case in the normal menu).\r\n\r\nThe see problem here (no highlight on hover):\r\n\r\n[![enter image description here][1]][1] \r\n\r\nHere is my example code:\r\n\r\n    package com.mycompany.mavenproject2;\r\n    \r\n    import java.awt.Dimension;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class PopupMenuTest {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame();\r\n            JPanel pane = new JPanel();\r\n            JPopupMenu popup = new JPopupMenu();\r\n            \r\n            popup.add(new JMenuItem(&quot;A&quot;));\r\n            popup.add(new JMenuItem(&quot;B&quot;));\r\n            \r\n            pane.setSize(300,300);\r\n            pane.add(popup);\r\n            pane.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    if(SwingUtilities.isRightMouseButton(e)) {\r\n                        popup.setLocation(e.getXOnScreen(), e.getYOnScreen());\r\n                        popup.setVisible(true);\r\n                    }\r\n                }\r\n             });\r\n            \r\n            frame.setTitle(&quot;Test&quot;);\r\n            frame.add(pane);\r\n            frame.setPreferredSize(new Dimension(300,300));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n\r\n**Edit**\r\n\r\nCompare to a &quot;normal&quot; menu with working hovering:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Edit #2**\r\n\r\nPlease see the current (unexpected) behaviour:\r\n\r\n[![][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J5bxZ.png\r\n  [2]: https://i.stack.imgur.com/86VOB.png\r\n  [3]: https://i.stack.imgur.com/h8NYF.gif","title":"JPopupMenu appears but seems to not react","body":"<p>I've problems to get a JPopupMenu working correctly.</p>\n<p><strong>What I expect</strong></p>\n<p>The menu should pop up once I do a right click with my mouse. Then I can select an item from the menu and do whatever I want..</p>\n<p><strong>What I actually get</strong></p>\n<p>The menu appears once I do a right click but after that I can not select a menu item or at least I am missing the well known mouse hover highlight effect (I would expect that the item I am currently hovering is highlighted, like it is the case in the normal menu).</p>\n<p>The see problem here (no highlight on hover):</p>\n<p><a href=\"https://i.stack.imgur.com/J5bxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J5bxZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my example code:</p>\n<pre><code>package com.mycompany.mavenproject2;\n\nimport java.awt.Dimension;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\nimport javax.swing.SwingUtilities;\n\npublic class PopupMenuTest {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        JPanel pane = new JPanel();\n        JPopupMenu popup = new JPopupMenu();\n        \n        popup.add(new JMenuItem(&quot;A&quot;));\n        popup.add(new JMenuItem(&quot;B&quot;));\n        \n        pane.setSize(300,300);\n        pane.add(popup);\n        pane.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                if(SwingUtilities.isRightMouseButton(e)) {\n                    popup.setLocation(e.getXOnScreen(), e.getYOnScreen());\n                    popup.setVisible(true);\n                }\n            }\n         });\n        \n        frame.setTitle(&quot;Test&quot;);\n        frame.add(pane);\n        frame.setPreferredSize(new Dimension(300,300));\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Compare to a &quot;normal&quot; menu with working hovering:</p>\n<p><a href=\"https://i.stack.imgur.com/86VOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/86VOB.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit #2</strong></p>\n<p>Please see the current (unexpected) behaviour:</p>\n<p><a href=\"https://i.stack.imgur.com/h8NYF.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8NYF.gif\" alt=\"\" /></a></p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1648945066,"post_id":71721835,"comment_id":126751370,"body_markdown":"Whenever you get the message about `Type X does not match expected type X` where both `x`es are the same type, your issue is that you are getting two instances of the same class loaded by different classloaders.  Two classes with the same name but loaded by different classloaders are not compatible.","body":"Whenever you get the message about <code>Type X does not match expected type X</code> where both <code>x</code>es are the same type, your issue is that you are getting two instances of the same class loaded by different classloaders.  Two classes with the same name but loaded by different classloaders are not compatible."},{"owner":{"account_id":5074053,"reputation":45,"user_id":4367326,"display_name":"Medelwr"},"score":0,"creation_date":1648980942,"post_id":71721835,"comment_id":126755885,"body_markdown":"@JimGarrison this was very helpful. Do you have a solution? I have searched around and can&#39;t find a consensus on how to use ParellelStreams without this issue.","body":"@JimGarrison this was very helpful. Do you have a solution? I have searched around and can&#39;t find a consensus on how to use ParellelStreams without this issue."}],"owner":{"account_id":5074053,"reputation":45,"user_id":4367326,"display_name":"Medelwr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648941354,"creation_date":1648941354,"question_id":71721835,"body_markdown":"I have seen similar questions answered multiple times but I have yet to come across one exactly like the issue I&#39;m facing.\r\n\r\nI am trying to find entity using Hibernate and CrudRepository\r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public interface MyOtherCRUDRepository extends CrudRepository&lt;MyOtherEntity, Long&gt; {\r\n    \r\n    \tOptional&lt;MyOtherEntity&gt; findFirstByMyEntity(MyEntity myEntity);\r\n    }\r\n\r\n**MyEntity**\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Table(\r\n    \t\tname = &quot;mytable&quot;,\r\n    \t\tuniqueConstraints = {@UniqueConstraint(columnNames = {&quot;field1&quot;, &quot;field2&quot;})}\r\n    )\r\n    @Entity\r\n    public class MyEntity implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(updatable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@NotBlank\r\n    \tprivate String field1;\r\n    \r\n    \t@NotNull\r\n    \t@Enumerated(EnumType.STRING)\r\n    \t@Column(name = &quot;field2&quot;)\r\n    \tprivate Field2 field2;\r\n    \r\n    \tpublic MyEntity(String field1 ) {\r\n    \t\tthis.field1 = field1 ;\r\n    \t}\r\n    \r\n    \tpublic MyEntity(String field1, Field2 field2) {\r\n    \t\tthis.field1 = field1 ;\r\n    \t\tthis.field2 = field2;\r\n    \t}\r\n    }\r\n\r\n\r\n**MyOtherEntity**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @Table(\r\n    \t\tname = &quot;myothertable&quot;,\r\n    \t\tuniqueConstraints = {@UniqueConstraint(columnNames = {&quot;field1&quot;, &quot;timestamp&quot;, &quot;my_entity_id&quot;})}\r\n    )\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class MyOtherEntity implements Serializable {\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(updatable = false)\r\n        private Long id;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;my_entity_id&quot;)\r\n    \t@NotNull\r\n    \tprivate MyEntity myEntity;\r\n    \r\n    \t@Enumerated(value = EnumType.STRING)\r\n    \t@Column(name = &quot;field1&quot;)\r\n    \t@NotNull\r\n    \tprivate Field1 field1;\r\n    \r\n    \t@NotNull\r\n    \tprivate LocalDateTime timestamp;\r\n    \r\n    \t@NotNull\r\n    \tprivate LocalDateTime fetchedTimestamp;\r\n    \r\n    \tprivate Double fieldX;\r\n    \tprivate Double fieldY;\r\n    \tprivate Double fiedlZ;\r\n    }\r\n\r\n\r\nThere can be hundreds of thousands of MyOtherEntity.\r\nWhen I run through in the debugger the MyEntity being passed to the repository is perfectly formed and the id exists etc. The full object is there but when evaluating the findLast.. it throws the error \r\n\r\n    Parameter value [com.mypackage.entity.MyEntity@202a30a9] did not match expected type [[com.mypackage.entity.MyEntity (n/a)]\r\n\r\nThe function finding the last element and using it is being ran inside parallelStream() (Java 8). The list of MyEntity is being passed from the parallelStream as a lambda param.\r\n\r\n    List&lt;MyEntity&gt; allMyEntities = myEntityService.findAll();\r\n    List&lt;MyEntity&gt; myEntityPartitions = partition(allMyEntities, 100);\r\n    \r\n    myEntityPartitions.parallelStream().forEach(myEntities -&gt; {\r\n        myEntities.forEach(myEntity -&gt; {\r\n            Optional&lt;MyOtherEntity&gt; lastMyOtherEntity = myOtherCRUDRepository.findFirstByMyEntity(MyEntity)\r\n    ...\r\n        });\r\n    }\r\n\r\n*Note: The real code needs the partitions for an API call and then processes individually from the result. This example is simplified.*\r\n\r\n","title":"Parameter value [com.mypackage.entity.MyEntity@202a30a9] did not match expected type [[com.mypackage.entity.MyEntity (n/a)]","body":"<p>I have seen similar questions answered multiple times but I have yet to come across one exactly like the issue I'm facing.</p>\n<p>I am trying to find entity using Hibernate and CrudRepository</p>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface MyOtherCRUDRepository extends CrudRepository&lt;MyOtherEntity, Long&gt; {\n\n    Optional&lt;MyOtherEntity&gt; findFirstByMyEntity(MyEntity myEntity);\n}\n</code></pre>\n<p><strong>MyEntity</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Table(\n        name = &quot;mytable&quot;,\n        uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;field1&quot;, &quot;field2&quot;})}\n)\n@Entity\npublic class MyEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(updatable = false)\n    private Long id;\n\n    @NotBlank\n    private String field1;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;field2&quot;)\n    private Field2 field2;\n\n    public MyEntity(String field1 ) {\n        this.field1 = field1 ;\n    }\n\n    public MyEntity(String field1, Field2 field2) {\n        this.field1 = field1 ;\n        this.field2 = field2;\n    }\n}\n</code></pre>\n<p><strong>MyOtherEntity</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(\n        name = &quot;myothertable&quot;,\n        uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;field1&quot;, &quot;timestamp&quot;, &quot;my_entity_id&quot;})}\n)\n@EntityListeners(AuditingEntityListener.class)\npublic class MyOtherEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(updatable = false)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;my_entity_id&quot;)\n    @NotNull\n    private MyEntity myEntity;\n\n    @Enumerated(value = EnumType.STRING)\n    @Column(name = &quot;field1&quot;)\n    @NotNull\n    private Field1 field1;\n\n    @NotNull\n    private LocalDateTime timestamp;\n\n    @NotNull\n    private LocalDateTime fetchedTimestamp;\n\n    private Double fieldX;\n    private Double fieldY;\n    private Double fiedlZ;\n}\n</code></pre>\n<p>There can be hundreds of thousands of MyOtherEntity.\nWhen I run through in the debugger the MyEntity being passed to the repository is perfectly formed and the id exists etc. The full object is there but when evaluating the findLast.. it throws the error</p>\n<pre><code>Parameter value [com.mypackage.entity.MyEntity@202a30a9] did not match expected type [[com.mypackage.entity.MyEntity (n/a)]\n</code></pre>\n<p>The function finding the last element and using it is being ran inside parallelStream() (Java 8). The list of MyEntity is being passed from the parallelStream as a lambda param.</p>\n<pre><code>List&lt;MyEntity&gt; allMyEntities = myEntityService.findAll();\nList&lt;MyEntity&gt; myEntityPartitions = partition(allMyEntities, 100);\n\nmyEntityPartitions.parallelStream().forEach(myEntities -&gt; {\n    myEntities.forEach(myEntity -&gt; {\n        Optional&lt;MyOtherEntity&gt; lastMyOtherEntity = myOtherCRUDRepository.findFirstByMyEntity(MyEntity)\n...\n    });\n}\n</code></pre>\n<p><em>Note: The real code needs the partitions for an API call and then processes individually from the result. This example is simplified.</em></p>\n"},{"tags":["java","oop","inheritance","reflection","pojo"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1648935185,"post_id":71721280,"comment_id":126750038,"body_markdown":"You can implement arbitrary constraints on the APIs of your project with tools like [Error Prone](https://errorprone.info/).","body":"You can implement arbitrary constraints on the APIs of your project with tools like <a href=\"https://errorprone.info/\" rel=\"nofollow noreferrer\">Error Prone</a>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1648940265,"post_id":71721280,"comment_id":126750801,"body_markdown":"How would this help? The bytecode to invoke both the static and the instance method are nearly identical (pushing the same objects on the stack).","body":"How would this help? The bytecode to invoke both the static and the instance method are nearly identical (pushing the same objects on the stack)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648945115,"post_id":71721280,"comment_id":126751373,"body_markdown":"Please explain how your static class is used. It isn&#39;t clear to me how it helps you.","body":"Please explain how your static class is used. It isn&#39;t clear to me how it helps you."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648941353,"creation_date":1648941353,"answer_id":71721834,"question_id":71721280,"body_markdown":"Yes... sort of. It&#39;s very complicated.\r\n\r\nAnnotation Processors are compiler plugins that run at certain times during the compilation process. It gets complex fast - IDEs and build tools are &#39;incremental&#39; (they don&#39;t want to recompile your entire code base everytime you change a single character, of course), for example.\r\n\r\nAnnotation processors can do a few things:\r\n* They can run as part of the compilation processes. This can be done automatically - they just need to be on the classpath, is all\r\n* They can be triggered due to the presence of an annotation.\r\n* They can read the _signatures_ of existing files (the names of fields and methods, the parameter names, parameter types, return type, and `throws` clause, and the type of fields, and the `extends` and `implements` clauses, and the param names and types of the constructors). They can&#39;t read the _body_ content (initializing expressions, method and constructor bodies). But I think you just need the signatures here.\r\n* They can make _new_ files. They can even make new java files which will then automatically get compiled along with the rest.\r\n\r\nThus, you have a route here: Make an annotation, then make an annotation processor. For example, you could set it up so that you manually write:\r\n\r\n```\r\n@com.foo.Hossmeister.Singletonify\r\nclass Example {\r\n  void foo1() {}\r\n  String foo2(String arg) throws IOException {}\r\n}\r\n```\r\n\r\nand have an Annotation Processor (which also has that `com.foo.Hossmeister.Singletonify` annotation), which, if it is on the classpath, automatically generates and ensures that all other code can automatically see this file:\r\n\r\n```\r\n// Generated\r\nclass ExampleSingleton {\r\n  private ExampleSingleton() {}\r\n  private static final Example INSTANCE = new Example();\r\n\r\n  public void foo1() {\r\n    INSTANCE.foo1();\r\n  }\r\n\r\n  public static String foo2(String arg) throws IOException {\r\n    return INSTANCE.foo2(arg);\r\n  }\r\n}\r\n```\r\n\r\nBut, annotation processors are tricky beasts to write, and they can be quite a drag on the compilation process. Still, that&#39;s the only way to get what you want. Now you have something to search the web for / read up on :)\r\n\r\nYou start by making a separate project that defines the annotation, has the annotation processor (a class that extends `AbstractProcessor`), pack that into a jar, and make sure the manifest includes an SPI file that tells java that your class that extends AbstractProcessor is an annotation processor, and then it&#39;ll be picked up automatically. I&#39;ll give you the annotation definition:\r\n\r\nIn a file named `Singletonify.java`:\r\n\r\n```\r\n@Retention(RetentionPolicy.CLASS)\r\n@Target(ElementType.TYPE)\r\npublic @interface Singletonify {}\r\n```\r\n\r\n## But... wait!\r\n\r\nThe concept of singletons is often problematic. Singletons should be &#39;stateless&#39; - and if they are stateless, why isn&#39;t your `Foo` class just filled with entirely `static` methods, obviating the need for your &quot;static mirror class&quot;? If it is stateful, you now have global state which is a virtually universally decried anti-pattern. You don&#39;t want global state, it makes reasoning about control flow impossible.\r\n\r\nA second problem is testability - because static stuff doesn&#39;t &#39;do&#39; inheritance, you can&#39;t (easily) make test implementations of static methods. With non-static stuff this is much easier.\r\n\r\nThis problem is more generally solved by so-called Dependency Injection frameworks such as Dagger, Guice, or Spring. They let you write code that just &#39;gets&#39; an instance of your `Foo` class, without callers having to actually figure out where to get this instance from: The Dependency Injection framework takes care of it. It lets you do things like &quot;Have a singleton of this object... _per_ web session&quot;. Which is pretty powerful stuff.\r\n\r\nI think what you probably want is a DI system. You may want to investigate a bit before spending the 2 weeks writing that annotation processor.\r\n","title":"Java: make static methods of one class mirror instance methods of another class","body":"<p>Yes... sort of. It's very complicated.</p>\n<p>Annotation Processors are compiler plugins that run at certain times during the compilation process. It gets complex fast - IDEs and build tools are 'incremental' (they don't want to recompile your entire code base everytime you change a single character, of course), for example.</p>\n<p>Annotation processors can do a few things:</p>\n<ul>\n<li>They can run as part of the compilation processes. This can be done automatically - they just need to be on the classpath, is all</li>\n<li>They can be triggered due to the presence of an annotation.</li>\n<li>They can read the <em>signatures</em> of existing files (the names of fields and methods, the parameter names, parameter types, return type, and <code>throws</code> clause, and the type of fields, and the <code>extends</code> and <code>implements</code> clauses, and the param names and types of the constructors). They can't read the <em>body</em> content (initializing expressions, method and constructor bodies). But I think you just need the signatures here.</li>\n<li>They can make <em>new</em> files. They can even make new java files which will then automatically get compiled along with the rest.</li>\n</ul>\n<p>Thus, you have a route here: Make an annotation, then make an annotation processor. For example, you could set it up so that you manually write:</p>\n<pre><code>@com.foo.Hossmeister.Singletonify\nclass Example {\n  void foo1() {}\n  String foo2(String arg) throws IOException {}\n}\n</code></pre>\n<p>and have an Annotation Processor (which also has that <code>com.foo.Hossmeister.Singletonify</code> annotation), which, if it is on the classpath, automatically generates and ensures that all other code can automatically see this file:</p>\n<pre><code>// Generated\nclass ExampleSingleton {\n  private ExampleSingleton() {}\n  private static final Example INSTANCE = new Example();\n\n  public void foo1() {\n    INSTANCE.foo1();\n  }\n\n  public static String foo2(String arg) throws IOException {\n    return INSTANCE.foo2(arg);\n  }\n}\n</code></pre>\n<p>But, annotation processors are tricky beasts to write, and they can be quite a drag on the compilation process. Still, that's the only way to get what you want. Now you have something to search the web for / read up on :)</p>\n<p>You start by making a separate project that defines the annotation, has the annotation processor (a class that extends <code>AbstractProcessor</code>), pack that into a jar, and make sure the manifest includes an SPI file that tells java that your class that extends AbstractProcessor is an annotation processor, and then it'll be picked up automatically. I'll give you the annotation definition:</p>\n<p>In a file named <code>Singletonify.java</code>:</p>\n<pre><code>@Retention(RetentionPolicy.CLASS)\n@Target(ElementType.TYPE)\npublic @interface Singletonify {}\n</code></pre>\n<h2>But... wait!</h2>\n<p>The concept of singletons is often problematic. Singletons should be 'stateless' - and if they are stateless, why isn't your <code>Foo</code> class just filled with entirely <code>static</code> methods, obviating the need for your &quot;static mirror class&quot;? If it is stateful, you now have global state which is a virtually universally decried anti-pattern. You don't want global state, it makes reasoning about control flow impossible.</p>\n<p>A second problem is testability - because static stuff doesn't 'do' inheritance, you can't (easily) make test implementations of static methods. With non-static stuff this is much easier.</p>\n<p>This problem is more generally solved by so-called Dependency Injection frameworks such as Dagger, Guice, or Spring. They let you write code that just 'gets' an instance of your <code>Foo</code> class, without callers having to actually figure out where to get this instance from: The Dependency Injection framework takes care of it. It lets you do things like &quot;Have a singleton of this object... <em>per</em> web session&quot;. Which is pretty powerful stuff.</p>\n<p>I think what you probably want is a DI system. You may want to investigate a bit before spending the 2 weeks writing that annotation processor.</p>\n"}],"owner":{"account_id":13002594,"reputation":166,"user_id":9916399,"display_name":"Hossmeister"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71721834,"answer_count":1,"score":0,"last_activity_date":1648941353,"creation_date":1648934709,"question_id":71721280,"body_markdown":"I have a POJO like this:\r\n\r\n    public class Foo {\r\n        private String bar1;\r\n        private String bar2;\r\n        //...\r\n\r\n        public String getBar1() { return bar1; } \r\n        public void setBar1(String bar1) { this.bar1 = bar1; }\r\n        public String getBar2() { return bar2; } \r\n        public void setBar2(String bar2) { this.bar2 = bar2; }\r\n        //...\r\n    }\r\n\r\nAs an alternative to Java reflection (which is quite slow in general), I would like to define a class with static methods like this:\r\n\r\n    public class FooStatic {\r\n\r\n        public static String getBar1(Foo foo) { return foo.getBar1(); } \r\n        public static void setBar1(Foo foo, String bar1) { foo.setBar1(bar1); }\r\n        public static String getBar2(Foo foo) { return foo.getBar2(); } \r\n        public static void setBar2(Foo foo, String bar2) { foo.setBar2(bar2); }\r\n        //...\r\n    }\r\n\r\nwhich enforces the creation/deprecation of a static method every time the Foo class is updated. For example, if the field `bar2` is deleted in `FooStatic`, then the static methods `getBar2()` and `setBar2()` in `FooStatic` should be identified by the compiler to be removed. If a new variable `bar3` is added to `Foo` with getters and setters, the compiler should enforce the creation of new static methods `getBar3()` and `setBar3()` in `FooStatic`. Moreover, I have multiple POJOs, and would like a solution which scales. Is this possible?","title":"Java: make static methods of one class mirror instance methods of another class","body":"<p>I have a POJO like this:</p>\n<pre><code>public class Foo {\n    private String bar1;\n    private String bar2;\n    //...\n\n    public String getBar1() { return bar1; } \n    public void setBar1(String bar1) { this.bar1 = bar1; }\n    public String getBar2() { return bar2; } \n    public void setBar2(String bar2) { this.bar2 = bar2; }\n    //...\n}\n</code></pre>\n<p>As an alternative to Java reflection (which is quite slow in general), I would like to define a class with static methods like this:</p>\n<pre><code>public class FooStatic {\n\n    public static String getBar1(Foo foo) { return foo.getBar1(); } \n    public static void setBar1(Foo foo, String bar1) { foo.setBar1(bar1); }\n    public static String getBar2(Foo foo) { return foo.getBar2(); } \n    public static void setBar2(Foo foo, String bar2) { foo.setBar2(bar2); }\n    //...\n}\n</code></pre>\n<p>which enforces the creation/deprecation of a static method every time the Foo class is updated. For example, if the field <code>bar2</code> is deleted in <code>FooStatic</code>, then the static methods <code>getBar2()</code> and <code>setBar2()</code> in <code>FooStatic</code> should be identified by the compiler to be removed. If a new variable <code>bar3</code> is added to <code>Foo</code> with getters and setters, the compiler should enforce the creation of new static methods <code>getBar3()</code> and <code>setBar3()</code> in <code>FooStatic</code>. Moreover, I have multiple POJOs, and would like a solution which scales. Is this possible?</p>\n"},{"tags":["java","domain-driven-design","inner-classes","clean-architecture","hexagonal-architecture"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648934190,"creation_date":1648934190,"answer_id":71721227,"question_id":71720104,"body_markdown":"A static nested class seems a better choice to me because there&#39;s not really a reason for the domain events to have a reference to the `this` of your aggregate root (which is what they&#39;d get if they were nested classes).  It&#39;s better to be explicit that the domain events have a field explicitly identifying what they are events for (which doesn&#39;t necessarily have to be an aggregate).","title":"What nested class type is best suitable for Domain Events?","body":"<p>A static nested class seems a better choice to me because there's not really a reason for the domain events to have a reference to the <code>this</code> of your aggregate root (which is what they'd get if they were nested classes).  It's better to be explicit that the domain events have a field explicitly identifying what they are events for (which doesn't necessarily have to be an aggregate).</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648941231,"creation_date":1648939985,"answer_id":71721729,"question_id":71720104,"body_markdown":"**The main difference between nested classes types**\r\n&lt;br&gt;- *non-static* nested class has full access to the members and methods of the class within which it is nested. It has reference to the outer class instance. \r\n&lt;br&gt;- *static* nested class does not have a reference to a nesting instance, so a static nested class cannot invoke non-static methods or access non-static fields of an instance of the class within which it is nested.\r\n\r\nSo if we will define `Domain Event` as a non-static nested class it will have full access to the instance of `Aggregate`. This violates the main `Domain Event` characteristics.\r\n\r\n**Immutability**\r\n&lt;br&gt;`Domain Event` must be immutable,  attaching the whole `Aggregate` state violates immutability. It should not have the whole state of the concept, only the copy of contextual information that might be useful for someone who subscribes to this event.\r\n\r\n**Domain Event doesn&#39;t have business logic**\r\n&lt;br&gt;Besides `Aggregate` can encapsulate business constraints. If `Domain Event` has an instance of aggregate, it has access to the business logic.\r\n\r\n**As result,** we need to use only *static* nested class.\r\n\r\nPlease note `Domain Events` may be consumed by the local, and foreign, Bounded Contexts, but `Aggregate` is limited by one context. In this case, better move `Domain Events` to a separate class. There may be exclusions \r\nhttps://stackoverflow.com/questions/29728001/bounded-contexts-sharing-a-same-aggregate\r\n","title":"What nested class type is best suitable for Domain Events?","body":"<p><strong>The main difference between nested classes types</strong>\n<br>- <em>non-static</em> nested class has full access to the members and methods of the class within which it is nested. It has reference to the outer class instance.\n<br>- <em>static</em> nested class does not have a reference to a nesting instance, so a static nested class cannot invoke non-static methods or access non-static fields of an instance of the class within which it is nested.</p>\n<p>So if we will define <code>Domain Event</code> as a non-static nested class it will have full access to the instance of <code>Aggregate</code>. This violates the main <code>Domain Event</code> characteristics.</p>\n<p><strong>Immutability</strong>\n<br><code>Domain Event</code> must be immutable,  attaching the whole <code>Aggregate</code> state violates immutability. It should not have the whole state of the concept, only the copy of contextual information that might be useful for someone who subscribes to this event.</p>\n<p><strong>Domain Event doesn't have business logic</strong>\n<br>Besides <code>Aggregate</code> can encapsulate business constraints. If <code>Domain Event</code> has an instance of aggregate, it has access to the business logic.</p>\n<p><strong>As result,</strong> we need to use only <em>static</em> nested class.</p>\n<p>Please note <code>Domain Events</code> may be consumed by the local, and foreign, Bounded Contexts, but <code>Aggregate</code> is limited by one context. In this case, better move <code>Domain Events</code> to a separate class. There may be exclusions\n<a href=\"https://stackoverflow.com/questions/29728001/bounded-contexts-sharing-a-same-aggregate\">Bounded contexts sharing a same aggregate</a></p>\n"}],"owner":{"account_id":10672328,"reputation":897,"user_id":7857035,"accept_rate":100,"display_name":"simplelenz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71721729,"answer_count":2,"score":1,"last_activity_date":1648941231,"creation_date":1648923707,"question_id":71720104,"body_markdown":"I am following Domain Driven Design and Clean/ Hexagonal architecture in my Java microservice. I have domain events declared in my aggregate root class as non-static nested classes. My question is whether these classes should be static nested classes or non-static nested classes(inner classes)?\r\n\r\nI used non-static nested classes but IntelliJ IDEA suggests to make them static. According to the Hardcore Java book by Robert Simmons,\r\n\r\n&gt; an inner class is instance-scoped and a static nested class is class-scoped.\r\n\r\nAs I understood in the Domain Driven Design, without an aggregate instance, it doesn&#39;t make any sense to have domain events instances. This is the reason why I chose to go with non-static nested classes. Can someone explain this? Thanks.","title":"What nested class type is best suitable for Domain Events?","body":"<p>I am following Domain Driven Design and Clean/ Hexagonal architecture in my Java microservice. I have domain events declared in my aggregate root class as non-static nested classes. My question is whether these classes should be static nested classes or non-static nested classes(inner classes)?</p>\n<p>I used non-static nested classes but IntelliJ IDEA suggests to make them static. According to the Hardcore Java book by Robert Simmons,</p>\n<blockquote>\n<p>an inner class is instance-scoped and a static nested class is class-scoped.</p>\n</blockquote>\n<p>As I understood in the Domain Driven Design, without an aggregate instance, it doesn't make any sense to have domain events instances. This is the reason why I chose to go with non-static nested classes. Can someone explain this? Thanks.</p>\n"},{"tags":["java","opc-ua","opc","milo"],"answers":[{"tags":[],"owner":{"account_id":31322,"reputation":6570,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648905708,"creation_date":1648901707,"answer_id":71717451,"question_id":71715503,"body_markdown":"It looks like you’re trying to get the Session but nothing has called `SessionFsm::openSession`. You’ll have to share some code, because this is normally done by the SDK if you are using `OpcUaClient`.\r\n\r\nDid you call `OpcUaClient::connect` before using it?","title":"UaException: status=Bad_SessionClosed, message=The session was closed by the client","body":"<p>It looks like you’re trying to get the Session but nothing has called <code>SessionFsm::openSession</code>. You’ll have to share some code, because this is normally done by the SDK if you are using <code>OpcUaClient</code>.</p>\n<p>Did you call <code>OpcUaClient::connect</code> before using it?</p>\n"}],"owner":{"account_id":24794176,"reputation":11,"user_id":18677003,"display_name":"无人岛旅行"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648940993,"creation_date":1648882605,"question_id":71715503,"body_markdown":"Something happened when I used Milo,I do not know why it happened:\r\n\r\n&gt;  UaException: status=Bad_SessionClosed, message=The session was closed\r\n&gt; by the client. \tat\r\n&gt; org.eclipse.milo.opcua.sdk.client.session.SessionFsmFactory.lambda$null$1(SessionFsmFactory.java:159)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O06cG.png","title":"UaException: status=Bad_SessionClosed, message=The session was closed by the client","body":"<p>Something happened when I used Milo,I do not know why it happened:</p>\n<blockquote>\n<p>UaException: status=Bad_SessionClosed, message=The session was closed\nby the client.    at\norg.eclipse.milo.opcua.sdk.client.session.SessionFsmFactory.lambda$null$1(SessionFsmFactory.java:159)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n<p><img src=\"https://i.stack.imgur.com/O06cG.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","xml","jackson","xml-deserialization","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":20200740,"reputation":1,"user_id":14816503,"display_name":"tia tamera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648936937,"creation_date":1648936937,"answer_id":71721486,"question_id":71721206,"body_markdown":"Fixed! For this I simply added `@JsonIgnoreProperties({&quot;&quot;})` in the start of the classes Month and Day.","title":"UnrecognizedPropertyException for a ghost attribute in XML","body":"<p>Fixed! For this I simply added <code>@JsonIgnoreProperties({&quot;&quot;})</code> in the start of the classes Month and Day.</p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648940481,"creation_date":1648940481,"answer_id":71721768,"question_id":71721206,"body_markdown":"Using `@JsonIgnoreProperties({&quot;&quot;})`\r\non the `Month`  and `Day` classes\r\n(as written in your own answer) surely works.\r\n\r\nAnother (and in my opinion better) way would be to annotate\r\nthe `month` property of class `Month` and the `day` property of class `Day`\r\nwith `@JacksonXmlText` instead of `@JacksonXmlProperty(...)`.\r\nBy doing so these properties would actually\r\nreceive the day and month number from XML.","title":"UnrecognizedPropertyException for a ghost attribute in XML","body":"<p>Using <code>@JsonIgnoreProperties({&quot;&quot;})</code>\non the <code>Month</code>  and <code>Day</code> classes\n(as written in your own answer) surely works.</p>\n<p>Another (and in my opinion better) way would be to annotate\nthe <code>month</code> property of class <code>Month</code> and the <code>day</code> property of class <code>Day</code>\nwith <code>@JacksonXmlText</code> instead of <code>@JacksonXmlProperty(...)</code>.\nBy doing so these properties would actually\nreceive the day and month number from XML.</p>\n"}],"owner":{"account_id":20200740,"reputation":1,"user_id":14816503,"display_name":"tia tamera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648940481,"creation_date":1648933984,"question_id":71721206,"body_markdown":"I&#39;m currently writing a program to display weather data from the MSC. I&#39;m using Jackson 2.9.6 (as a different library didn&#39;t work on other versions) and the [XML extension](https://github.com/FasterXML/jackson-dataformat-xml) (also in Jackson 2.9.6) to access and display the data provided online, which is in XML format.\r\n\r\nI&#39;m running into problems with representing the times given from the API. My code works until it hits the month, it seems.\r\n\r\nThis is what the test date data looks like.\r\n\r\n```\r\n&lt;dateTime name=&quot;xmlCreation&quot; zone=&quot;UTC&quot; UTCOffset=&quot;0&quot;&gt;\r\n        &lt;year&gt;2022&lt;/year&gt;\r\n        &lt;month name=&quot;April&quot;&gt;04&lt;/month&gt;\r\n        &lt;day name=&quot;Saturday&quot;&gt;02&lt;/day&gt;\r\n        &lt;hour&gt;20&lt;/hour&gt;\r\n        &lt;minute&gt;50&lt;/minute&gt;\r\n        &lt;timeStamp&gt;20220402205000&lt;/timeStamp&gt;\r\n        &lt;textSummary&gt;Saturday April 02, 2022 at 20:50 UTC&lt;/textSummary&gt;\r\n&lt;/dateTime&gt;\r\n```\r\n\r\nAnd this is what my POJO class for the data looks like.\r\n\r\n```\r\npackage city_weather;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.*;\r\n\r\npublic class DateTime {\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String name;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String zone;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String UTCOffset;\r\n    @JacksonXmlProperty(localName = &quot;year&quot;)\r\n    private int year;\r\n    @JacksonXmlProperty(localName = &quot;month&quot;)\r\n    private Month month;\r\n    @JacksonXmlProperty(localName = &quot;day&quot;)\r\n    private Day day;\r\n    private int hour;\r\n    private int minute;\r\n    private String timeStamp;\r\n    private String textSummary;\r\n}\r\n\r\nclass Month {\r\n    @JacksonXmlProperty(localName = &quot;month&quot;)\r\n    public int month;\r\n    public String name;\r\n\r\n}\r\n\r\nclass Day {\r\n    @JacksonXmlProperty(localName = &quot;day&quot;)\r\n    public int day;\r\n    public String name;\r\n}\r\n```\r\n\r\nI tried to add the tags and annotations across the code, but it didn&#39;t seem to work. Also, my first few attempts featured the month/day not as separate classes but as variables Month, Day, MonthName, and DayName. I&#39;m not sure how I&#39;m supposed to ignore these attributes and just carry on.\r\n\r\nWhen I run my code (which is just using the XMLMapper to map the XML file to an instance of that DateTime class), it doesn&#39;t work.\r\nHere&#39;s the error it produced :\r\n\r\n```\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;&quot; (class city.weather.Month), not marked as ignorable (2 known properties: &quot;month&quot;, &quot;name&quot;])\r\n at [Source: (File); line: 3, column: 35] (through reference chain: city.weather.DateTime[&quot;month&quot;]-&gt;city.weather.Month[&quot;&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:60)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:822)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1152)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1589)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1567)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:294)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n\tat com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:136)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2902)\r\n\tat Tester.main(Tester.java:8)\r\n```\r\n\r\nThis stumped me because clearly you can see that there isn&#39;t any attributes listed (just a &quot;&quot; field, which tells me nothing). I tried to find documentation but there wasn&#39;t much I could find. ","title":"UnrecognizedPropertyException for a ghost attribute in XML","body":"<p>I'm currently writing a program to display weather data from the MSC. I'm using Jackson 2.9.6 (as a different library didn't work on other versions) and the <a href=\"https://github.com/FasterXML/jackson-dataformat-xml\" rel=\"nofollow noreferrer\">XML extension</a> (also in Jackson 2.9.6) to access and display the data provided online, which is in XML format.</p>\n<p>I'm running into problems with representing the times given from the API. My code works until it hits the month, it seems.</p>\n<p>This is what the test date data looks like.</p>\n<pre><code>&lt;dateTime name=&quot;xmlCreation&quot; zone=&quot;UTC&quot; UTCOffset=&quot;0&quot;&gt;\n        &lt;year&gt;2022&lt;/year&gt;\n        &lt;month name=&quot;April&quot;&gt;04&lt;/month&gt;\n        &lt;day name=&quot;Saturday&quot;&gt;02&lt;/day&gt;\n        &lt;hour&gt;20&lt;/hour&gt;\n        &lt;minute&gt;50&lt;/minute&gt;\n        &lt;timeStamp&gt;20220402205000&lt;/timeStamp&gt;\n        &lt;textSummary&gt;Saturday April 02, 2022 at 20:50 UTC&lt;/textSummary&gt;\n&lt;/dateTime&gt;\n</code></pre>\n<p>And this is what my POJO class for the data looks like.</p>\n<pre><code>package city_weather;\nimport com.fasterxml.jackson.dataformat.xml.annotation.*;\n\npublic class DateTime {\n    @JacksonXmlProperty(isAttribute = true)\n    private String name;\n    @JacksonXmlProperty(isAttribute = true)\n    private String zone;\n    @JacksonXmlProperty(isAttribute = true)\n    private String UTCOffset;\n    @JacksonXmlProperty(localName = &quot;year&quot;)\n    private int year;\n    @JacksonXmlProperty(localName = &quot;month&quot;)\n    private Month month;\n    @JacksonXmlProperty(localName = &quot;day&quot;)\n    private Day day;\n    private int hour;\n    private int minute;\n    private String timeStamp;\n    private String textSummary;\n}\n\nclass Month {\n    @JacksonXmlProperty(localName = &quot;month&quot;)\n    public int month;\n    public String name;\n\n}\n\nclass Day {\n    @JacksonXmlProperty(localName = &quot;day&quot;)\n    public int day;\n    public String name;\n}\n</code></pre>\n<p>I tried to add the tags and annotations across the code, but it didn't seem to work. Also, my first few attempts featured the month/day not as separate classes but as variables Month, Day, MonthName, and DayName. I'm not sure how I'm supposed to ignore these attributes and just carry on.</p>\n<p>When I run my code (which is just using the XMLMapper to map the XML file to an instance of that DateTime class), it doesn't work.\nHere's the error it produced :</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;&quot; (class city.weather.Month), not marked as ignorable (2 known properties: &quot;month&quot;, &quot;name&quot;])\n at [Source: (File); line: 3, column: 35] (through reference chain: city.weather.DateTime[&quot;month&quot;]-&gt;city.weather.Month[&quot;&quot;])\n    at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:60)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:822)\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1152)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1589)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1567)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:294)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\n    at com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:136)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2902)\n    at Tester.main(Tester.java:8)\n</code></pre>\n<p>This stumped me because clearly you can see that there isn't any attributes listed (just a &quot;&quot; field, which tells me nothing). I tried to find documentation but there wasn't much I could find.</p>\n"},{"tags":["java","swing","jpopupmenu"],"answers":[{"tags":[],"owner":{"account_id":20666270,"reputation":108,"user_id":15173048,"display_name":"tmslpm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615168455,"creation_date":1615167785,"answer_id":66523349,"question_id":66382489,"body_markdown":"Your popup is never visible, call the `show​(Component invoker, int x, int y)` method to display the `JPopupMenu` class.\r\n\r\n&gt; Displays the popup menu at the position x,y in the coordinate space of the component invoker[...][docShow]\r\n\r\n```java\r\n      JPopupMenu popup = new JPopupMenu();\r\n      JMenuItem item = new JMenuItem(&quot;Item&quot;);\r\n      popup.add(item);\r\n      popup.show(frame, frame.getWidth()/2, frame.getHeight()/2);\r\n```\r\n\r\nor you can also call the `JPopupMenu.setVisible(boolean b)` method. \r\n\r\nsee **[JPopupMenu#show][docShow]**,  **[JPopupMenu#setVisible][docVisible]**\r\n\r\n\r\n[docVisible]: https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/JPopupMenu.html#setVisible(boolean)\r\n[docShow]: https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\r\n\r\n\r\n-----------\r\n\r\n### To customize\r\n\r\nFor rounded border, you can use `new LineBorder(Color.black, 2, true)`. [LineBorder doc](https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/border/LineBorder.html)\r\n\r\nIf you want big customization, i recommend you to use/write a look and feel. See [tutorial|uiswing](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/)\r\n\r\nHere is my test:\r\n\r\n```java\r\n    public class Test {\r\n    \r\n    \tprivate static void createAndShowGUI() {\r\n    \t\tJFrame frame = new JFrame(&quot;HelloWorldSwing&quot;);\r\n    \t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJButton button = new JButton(&quot;Test&quot;);\r\n    \r\n    \t\tJPopupMenu popup = new JPopupMenu();\r\n    \t\tpopup.setBorder(new LineBorder(Color.black, 2, true));\r\n    \r\n    \t\t{\r\n    \t\t\tJMenuItem item = new JMenuItem(&quot;Cut&quot;);\r\n    \t\t\titem.setForeground(Color.ORANGE);\r\n    \t\t\tpopup.add(item);\r\n    \t\t}\r\n    \r\n    \t\t{\r\n    \t\t\tJMenuItem item = new JMenuItem(&quot;Copy&quot;);\r\n    \t\t\titem.setBackground(Color.RED);\r\n    \t\t\tpopup.add(item);\r\n    \t\t}\r\n    \r\n    \t\t{\r\n    \t\t\tJMenuItem item = new JMenuItem(&quot;Paste&quot;);\r\n    \t\t\tpopup.add(item);\r\n    \t\t}\r\n    \r\n    \t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tpopup.show(frame, frame.getWidth() / 2, frame.getHeight() / 2);\r\n    \t\t\t\tSystem.out.println(&quot;perfome&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tframe.getContentPane().add(button);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tcreateAndShowGUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8TRT3.png","title":"Modify JPopupMenu/JMenuItem look and feel","body":"<p>Your popup is never visible, call the <code>show​(Component invoker, int x, int y)</code> method to display the <code>JPopupMenu</code> class.</p>\n<blockquote>\n<p>Displays the popup menu at the position x,y in the coordinate space of the component invoker<a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\" rel=\"nofollow noreferrer\">...</a></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>      JPopupMenu popup = new JPopupMenu();\n      JMenuItem item = new JMenuItem(&quot;Item&quot;);\n      popup.add(item);\n      popup.show(frame, frame.getWidth()/2, frame.getHeight()/2);\n</code></pre>\n<p>or you can also call the <code>JPopupMenu.setVisible(boolean b)</code> method.</p>\n<p>see <strong><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\" rel=\"nofollow noreferrer\">JPopupMenu#show</a></strong>,  <strong><a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/JPopupMenu.html#setVisible(boolean)\" rel=\"nofollow noreferrer\">JPopupMenu#setVisible</a></strong></p>\n<hr />\n<h3>To customize</h3>\n<p>For rounded border, you can use <code>new LineBorder(Color.black, 2, true)</code>. <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.desktop/javax/swing/border/LineBorder.html\" rel=\"nofollow noreferrer\">LineBorder doc</a></p>\n<p>If you want big customization, i recommend you to use/write a look and feel. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/\" rel=\"nofollow noreferrer\">tutorial|uiswing</a></p>\n<p>Here is my test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Test {\n    \n        private static void createAndShowGUI() {\n            JFrame frame = new JFrame(&quot;HelloWorldSwing&quot;);\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    \n            JButton button = new JButton(&quot;Test&quot;);\n    \n            JPopupMenu popup = new JPopupMenu();\n            popup.setBorder(new LineBorder(Color.black, 2, true));\n    \n            {\n                JMenuItem item = new JMenuItem(&quot;Cut&quot;);\n                item.setForeground(Color.ORANGE);\n                popup.add(item);\n            }\n    \n            {\n                JMenuItem item = new JMenuItem(&quot;Copy&quot;);\n                item.setBackground(Color.RED);\n                popup.add(item);\n            }\n    \n            {\n                JMenuItem item = new JMenuItem(&quot;Paste&quot;);\n                popup.add(item);\n            }\n    \n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    popup.show(frame, frame.getWidth() / 2, frame.getHeight() / 2);\n                    System.out.println(&quot;perfome&quot;);\n                }\n            });\n    \n            frame.getContentPane().add(button);\n            frame.pack();\n            frame.setVisible(true);\n        }\n    \n        public static void main(String[] args) {\n            SwingUtilities.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    createAndShowGUI();\n                }\n            });\n        }\n    \n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8TRT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8TRT3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648940367,"creation_date":1614328198,"question_id":66382489,"body_markdown":"I am trying to create a custom JPopupMenu that has a different color and rounded borders. I tried the following code but there had been no changes to the way the PopupMenu look.\r\n\r\n    JButton button = new JButton(&quot;Test&quot;);\r\n    button.addActionListener(new ActionListener() {\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e){\r\n    \t\tTPopupMenu popup = new TPopupMenu();\r\n    \t\tJMenuItem item1 = new JMenuItem(&quot;Item 1&quot;);\r\n    \t\tJMenuItem item2 = new JMenuItem(&quot;Item 2&quot;);\r\n    \t\tpopup.add(item1);\r\n    \t\tpopup.add(item2);\r\n    \t}\r\n    }\r\n\r\nCustom PopupMenu\r\n\r\n    public class TPopupMenu extends JPopupMenu{\r\n    \r\n    \tpublic TPopupMenu(){\r\n    \t\tsuper();\r\n    \t\tsuper.setOpaque(false);\r\n    \t\tinit();\r\n    \t}\r\n    \t\r\n    \tprivate void init(){\r\n    \t\tsetBackground(Color.green);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g){\r\n    \t\tsuper.paintComponent(g);\r\n    \t\t\r\n    \t\tg.setColor(Color.pink);\r\n    \t\t\r\n    \t\tint w = getWidth();\r\n    \t\tint h = getHeight();\r\n    \t\tGraphics2D g2 = (Graphics2D) g;\r\n    \t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTILIAS_ON);\r\n    \t\t\r\n    \t\tg2.fillRoundRect(0,0,w-1, h-1, 10, 10);\r\n    \t\tg2.drawRoundRect(0,0,w-1, h-1, 10, 10);\r\n    \t\t\r\n    \t\tg2.setBackground(Color.red);\r\n    \t\tg2.setColor(Color.green);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is what i am hoping for my rounded popup menu to look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a3lf3.png\r\n\r\nAm i doing something wrong in my paintComponent method?","title":"Modify JPopupMenu/JMenuItem look and feel","body":"<p>I am trying to create a custom JPopupMenu that has a different color and rounded borders. I tried the following code but there had been no changes to the way the PopupMenu look.</p>\n<pre><code>JButton button = new JButton(&quot;Test&quot;);\nbutton.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e){\n        TPopupMenu popup = new TPopupMenu();\n        JMenuItem item1 = new JMenuItem(&quot;Item 1&quot;);\n        JMenuItem item2 = new JMenuItem(&quot;Item 2&quot;);\n        popup.add(item1);\n        popup.add(item2);\n    }\n}\n</code></pre>\n<p>Custom PopupMenu</p>\n<pre><code>public class TPopupMenu extends JPopupMenu{\n\n    public TPopupMenu(){\n        super();\n        super.setOpaque(false);\n        init();\n    }\n    \n    private void init(){\n        setBackground(Color.green);\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g){\n        super.paintComponent(g);\n        \n        g.setColor(Color.pink);\n        \n        int w = getWidth();\n        int h = getHeight();\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTILIAS_ON);\n        \n        g2.fillRoundRect(0,0,w-1, h-1, 10, 10);\n        g2.drawRoundRect(0,0,w-1, h-1, 10, 10);\n        \n        g2.setBackground(Color.red);\n        g2.setColor(Color.green);\n    }\n\n}\n</code></pre>\n<p>This is what i am hoping for my rounded popup menu to look like:</p>\n<p><a href=\"https://i.stack.imgur.com/a3lf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a3lf3.png\" alt=\"enter image description here\" /></a></p>\n<p>Am i doing something wrong in my paintComponent method?</p>\n"},{"tags":["java","multidimensional-array","datainputstream"],"answers":[{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648939885,"creation_date":1648939885,"answer_id":71721724,"question_id":71721686,"body_markdown":" Of course if you never make an assignment\r\n\r\n    grid[i][j] = &quot;*&quot;;\r\n\r\nthe values will still be their default, `null`.","title":"Inputting multiple 2D array elements at the same time","body":"<p>Of course if you never make an assignment</p>\n<pre><code>grid[i][j] = &quot;*&quot;;\n</code></pre>\n<p>the values will still be their default, <code>null</code>.</p>\n"}],"owner":{"display_name":"user18543051"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71721724,"answer_count":1,"score":0,"last_activity_date":1648939885,"creation_date":1648939429,"question_id":71721686,"body_markdown":"I am trying to create a program that will create an mxm grid using a 2D array. I want each of the elements within the array to be a &quot;*&quot;. The problem is that I don&#39;t want to have to write a line of code to individually change each element within the grid. The m is going to be variable as the user is going to assign a value to it. This is the code I have so far:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class trial {\r\n    \r\n    public static void main(String[] args) {\r\n    \t\r\n    \tScanner sc = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;What size array would you like? &quot;);\r\n    \tint m = sc.nextInt();\r\n    \t\r\n    \tString[][] grid = new String[m][m];\r\n\r\n    \tfor(int i=0; i&lt;grid.length; i++) {\r\n    \t\t\r\n    \t\tfor(int j=0; j&lt;grid[i].length; j++) {\r\n    \t\t\t\tStdOut.print(grid[i][j]);\r\n    \t\t\t}\r\n    \t\t\tStdOut.println();\r\n    \t\t}\t\r\n    \t\t}\r\n    }\r\nIf m =3 It would give the output:\r\n\r\n    nullnullnull\r\n    nullnullnull\r\n    nullnullnull\r\n\r\nHowever, I want the output to be:\r\n\r\n    ***\r\n    ***\r\n    ***\r\nIs there a way to do this in Java?\r\n","title":"Inputting multiple 2D array elements at the same time","body":"<p>I am trying to create a program that will create an mxm grid using a 2D array. I want each of the elements within the array to be a &quot;*&quot;. The problem is that I don't want to have to write a line of code to individually change each element within the grid. The m is going to be variable as the user is going to assign a value to it. This is the code I have so far:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class trial {\n\npublic static void main(String[] args) {\n    \n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;What size array would you like? &quot;);\n    int m = sc.nextInt();\n    \n    String[][] grid = new String[m][m];\n\n    for(int i=0; i&lt;grid.length; i++) {\n        \n        for(int j=0; j&lt;grid[i].length; j++) {\n                StdOut.print(grid[i][j]);\n            }\n            StdOut.println();\n        }   \n        }\n}\n</code></pre>\n<p>If m =3 It would give the output:</p>\n<pre><code>nullnullnull\nnullnullnull\nnullnullnull\n</code></pre>\n<p>However, I want the output to be:</p>\n<pre><code>***\n***\n***\n</code></pre>\n<p>Is there a way to do this in Java?</p>\n"},{"tags":["java","math","integer"],"comments":[{"owner":{"account_id":24794185,"reputation":1,"user_id":18677012,"display_name":"Pattyschmidt"},"score":0,"creation_date":1648883225,"post_id":71715547,"comment_id":126740681,"body_markdown":"sorry for the bad formatting, it&#39;s my first time using this website","body":"sorry for the bad formatting, it&#39;s my first time using this website"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648889223,"post_id":71715547,"comment_id":126741528,"body_markdown":"You haven&#39;t explained what your question is.","body":"You haven&#39;t explained what your question is."},{"owner":{"account_id":24794185,"reputation":1,"user_id":18677012,"display_name":"Pattyschmidt"},"score":0,"creation_date":1648928245,"post_id":71715547,"comment_id":126748808,"body_markdown":"I want the score to continuously add up everytime I roll the dice. The problem is that right now the program only adds up the score to a certain amount. Currently I have to make a new variable everytime the dice is rolled so that the score increases. I need help looping the variables in a way, so that  I don&#39;t have to keep making a new variable every single time.","body":"I want the score to continuously add up everytime I roll the dice. The problem is that right now the program only adds up the score to a certain amount. Currently I have to make a new variable everytime the dice is rolled so that the score increases. I need help looping the variables in a way, so that  I don&#39;t have to keep making a new variable every single time."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648939660,"post_id":71715547,"comment_id":126750713,"body_markdown":"I&#39;ve formatted your code for you, but please learn how to use your IDE to do that, it will make your life better.","body":"I&#39;ve formatted your code for you, but please learn how to use your IDE to do that, it will make your life better."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648939767,"post_id":71715547,"comment_id":126750729,"body_markdown":"Why don&#39;t you simply add `roll1` and `roll2` to `added`? And remove `added2` and `added3`?","body":"Why don&#39;t you simply add <code>roll1</code> and <code>roll2</code> to <code>added</code>? And remove <code>added2</code> and <code>added3</code>?"}],"owner":{"account_id":24794185,"reputation":1,"user_id":18677012,"display_name":"Pattyschmidt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648939621,"creation_date":1648883162,"question_id":71715547,"body_markdown":"I am coding a pig game in Java, and I need help adding up the score. The game&#39;s goal is to roll two dice, and the values of those two dice are added together, and the player who gets to 100 first wins. I want to loop the values (which I called &quot;Added&quot;) so that it continuously adds up by themselves.\r\nThank you in advance\r\nBy the way, I&#39;m hardly done most of the game, so mind the gaps, lol.\r\n\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Pig {\r\n\r\n    static int player, Continue, roll1, roll2;\r\n\r\n    public static void main(String[] args) {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        Random r = new Random();\r\n        Random r2 = new Random();\r\n\r\n        System.out.print(&quot;Enter 1 to play against computer\\nEnter 2 to play against another person\\n&quot;);\r\n        player = keyboard.nextInt();\r\n\r\n\r\n        if (player == 1) {\r\n            System.out.println(&quot;\\nPlaying against the computer...&quot;);\r\n            roll1 = r.nextInt(6) + 1;\r\n            System.out.println(&quot;\\nYour first roll is a &quot; + roll1);\r\n            roll2 = r.nextInt(6) + 1;\r\n            System.out.println(&quot;\\nYour second roll is a &quot; + roll2);\r\n            int added = roll1 + roll2;\r\n            System.out.println(&quot;\\nYour total is &quot; + added);\r\n            if ((roll1 == 1) || (roll2 == 1)) {\r\n                System.out.println(&quot;\\nYou rolled a 1, you lose all your points!&quot;);\r\n            }\r\n\r\n            System.out.print(&quot;\\nEnter 1 to continue rolling\\nEnter 2 to give up the dice\\n&quot;);\r\n            Continue = keyboard.nextInt();\r\n            if (Continue == 1) {\r\n                do {\r\n                    roll1 = r.nextInt(6) + 1;\r\n                    System.out.println(&quot;\\nYour first roll is a &quot; + roll1);\r\n                    roll2 = r.nextInt(6) + 1;\r\n                    System.out.println(&quot;\\nYour second roll is a &quot; + roll2);\r\n                    int added2 = roll1 + roll2;\r\n                    int added3 = added + added2;\r\n                    added = added2;\r\n                    added2 = added3;\r\n                    System.out.println(&quot;\\nYour total is &quot; + added3);\r\n                    if ((roll1 == 1) || (roll2 == 1)) {\r\n                        System.out.println(&quot;\\nYou rolled a 1, you lose all your points!&quot;);\r\n                    }\r\n                    System.out.print(&quot;\\nEnter 1 to continue rolling\\nEnter 2 to give up the dice\\n&quot;);\r\n                    Continue = keyboard.nextInt();\r\n                } while (Continue == 1);\r\n            }\r\n\r\n\r\n        } else {\r\n            System.out.print(&quot;Bye&quot;);\r\n\r\n        }\r\n                   \r\n                    /*if (player == 2){\r\n                   System.out.println(&quot;Playing against another person...&quot;);\r\n                      }\r\n                    else {\r\n                          System.out.print(&quot;Bye&quot;);\r\n                          count++;\r\n                     */\r\n    }\r\n\r\n\r\n}     \r\n```                                                                                        \r\n\r\n\r\n\r\n","title":"Java. Need assistance with adding up the numbers for pig game","body":"<p>I am coding a pig game in Java, and I need help adding up the score. The game's goal is to roll two dice, and the values of those two dice are added together, and the player who gets to 100 first wins. I want to loop the values (which I called &quot;Added&quot;) so that it continuously adds up by themselves.\nThank you in advance\nBy the way, I'm hardly done most of the game, so mind the gaps, lol.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Pig {\n\n    static int player, Continue, roll1, roll2;\n\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        Random r = new Random();\n        Random r2 = new Random();\n\n        System.out.print(&quot;Enter 1 to play against computer\\nEnter 2 to play against another person\\n&quot;);\n        player = keyboard.nextInt();\n\n\n        if (player == 1) {\n            System.out.println(&quot;\\nPlaying against the computer...&quot;);\n            roll1 = r.nextInt(6) + 1;\n            System.out.println(&quot;\\nYour first roll is a &quot; + roll1);\n            roll2 = r.nextInt(6) + 1;\n            System.out.println(&quot;\\nYour second roll is a &quot; + roll2);\n            int added = roll1 + roll2;\n            System.out.println(&quot;\\nYour total is &quot; + added);\n            if ((roll1 == 1) || (roll2 == 1)) {\n                System.out.println(&quot;\\nYou rolled a 1, you lose all your points!&quot;);\n            }\n\n            System.out.print(&quot;\\nEnter 1 to continue rolling\\nEnter 2 to give up the dice\\n&quot;);\n            Continue = keyboard.nextInt();\n            if (Continue == 1) {\n                do {\n                    roll1 = r.nextInt(6) + 1;\n                    System.out.println(&quot;\\nYour first roll is a &quot; + roll1);\n                    roll2 = r.nextInt(6) + 1;\n                    System.out.println(&quot;\\nYour second roll is a &quot; + roll2);\n                    int added2 = roll1 + roll2;\n                    int added3 = added + added2;\n                    added = added2;\n                    added2 = added3;\n                    System.out.println(&quot;\\nYour total is &quot; + added3);\n                    if ((roll1 == 1) || (roll2 == 1)) {\n                        System.out.println(&quot;\\nYou rolled a 1, you lose all your points!&quot;);\n                    }\n                    System.out.print(&quot;\\nEnter 1 to continue rolling\\nEnter 2 to give up the dice\\n&quot;);\n                    Continue = keyboard.nextInt();\n                } while (Continue == 1);\n            }\n\n\n        } else {\n            System.out.print(&quot;Bye&quot;);\n\n        }\n                   \n                    /*if (player == 2){\n                   System.out.println(&quot;Playing against another person...&quot;);\n                      }\n                    else {\n                          System.out.print(&quot;Bye&quot;);\n                          count++;\n                     */\n    }\n\n\n}     \n</code></pre>\n"},{"tags":["java","api","rest","unirest","unirest-java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648940048,"post_id":71721680,"comment_id":126750766,"body_markdown":"Put a breakpoint at `return endPointResponse.getBody();` and have a look at `endPointResponse`.","body":"Put a breakpoint at <code>return endPointResponse.getBody();</code> and have a look at <code>endPointResponse</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648940094,"post_id":71721680,"comment_id":126750771,"body_markdown":"`String baseURL = &quot;baseURL&quot;` is unlikely to work.","body":"<code>String baseURL = &quot;baseURL&quot;</code> is unlikely to work."},{"owner":{"account_id":8020346,"reputation":192,"user_id":6049180,"accept_rate":25,"display_name":"Taimoor Pasha"},"score":0,"creation_date":1648942888,"post_id":71721680,"comment_id":126751158,"body_markdown":"@tgdavies you do know that I have to kept that confidential.","body":"@tgdavies you do know that I have to kept that confidential."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648944480,"post_id":71721680,"comment_id":126751303,"body_markdown":"See http://kong.github.io/unirest-java/#errors-in-object-or-json-parsing That&#39;s probably why your body is bull","body":"See <a href=\"http://kong.github.io/unirest-java/#errors-in-object-or-json-parsing\" rel=\"nofollow noreferrer\">kong.github.io/unirest-java/#errors-in-object-or-json-parsin&zwnj;&#8203;g</a> That&#39;s probably why your body is bull"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648948691,"post_id":71721680,"comment_id":126751734,"body_markdown":"typo, I mean:    *null*","body":"typo, I mean:    <i>null</i>"}],"owner":{"account_id":8020346,"reputation":192,"user_id":6049180,"accept_rate":25,"display_name":"Taimoor Pasha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648981281,"answer_count":0,"score":0,"last_activity_date":1648939286,"creation_date":1648939286,"question_id":71721680,"body_markdown":"My JSON is like following : \r\n\r\n    [\r\n        {\r\n            &quot;start_time&quot;: &quot;06:00:00&quot;,\r\n            &quot;end_time&quot;: &quot;21:00:00&quot;,\r\n            &quot;id&quot;: 1845,\r\n            &quot;number&quot;: &quot;&quot;,\r\n            &quot;name&quot;: &quot;Default Store&quot;,\r\n            &quot;companyId&quot;: 731,\r\n            &quot;address&quot;: null,\r\n            &quot;phone1&quot;: null,\r\n            &quot;phone2&quot;: null,\r\n            &quot;fax1&quot;: null,\r\n            &quot;fax2&quot;: null,\r\n            &quot;city&quot;: &quot;Abbeville&quot;,\r\n            &quot;zipcode&quot;: null,\r\n            &quot;time_zone&quot;: &quot;America/New_York&quot;,\r\n            &quot;meal_break_length&quot;: null,\r\n            &quot;consecutive_minutes&quot;: null,\r\n            &quot;minHoursBetweenShifts&quot;: null,\r\n            &quot;task_delay&quot;: null,\r\n            &quot;maxShiftsPerDay&quot;: null,\r\n            &quot;start_day&quot;: 1,\r\n            &quot;notes&quot;: null,\r\n            &quot;isActive&quot;: 1,\r\n            &quot;countryId&quot;: 184,\r\n            &quot;state&quot;: &quot;AL&quot;,\r\n            &quot;rsstoreid&quot;: null,\r\n            &quot;use_override&quot;: null,\r\n            &quot;forecast_override_cashier&quot;: null,\r\n            &quot;forecast_override_customer_coordinator&quot;: null,\r\n            &quot;forecast_override_sales_associate&quot;: null,\r\n            &quot;vendorId&quot;: null,\r\n            &quot;fdId&quot;: null,\r\n            &quot;dashboardPin&quot;: &quot;D3FFS6RW&quot;,\r\n            &quot;dropSwapDeadlineHours&quot;: null,\r\n            &quot;openShiftDeadlineHours&quot;: 24,\r\n            &quot;country&quot;: &quot;US&quot;\r\n        },\r\n        {\r\n            &quot;start_time&quot;: &quot;06:00:00&quot;,\r\n            &quot;end_time&quot;: &quot;21:00:00&quot;,\r\n            &quot;id&quot;: 1846,\r\n            &quot;number&quot;: &quot;&quot;,\r\n            &quot;name&quot;: &quot;Testing Store 001&quot;,\r\n            &quot;companyId&quot;: 731,\r\n            &quot;address&quot;: null,\r\n            &quot;phone1&quot;: null,\r\n            &quot;phone2&quot;: null,\r\n            &quot;fax1&quot;: null,\r\n            &quot;fax2&quot;: null,\r\n            &quot;city&quot;: &quot;Abbeville&quot;,\r\n            &quot;zipcode&quot;: null,\r\n            &quot;time_zone&quot;: &quot;America/New_York&quot;,\r\n            &quot;meal_break_length&quot;: null,\r\n            &quot;consecutive_minutes&quot;: null,\r\n            &quot;minHoursBetweenShifts&quot;: null,\r\n            &quot;task_delay&quot;: null,\r\n            &quot;maxShiftsPerDay&quot;: null,\r\n            &quot;start_day&quot;: 1,\r\n            &quot;notes&quot;: null,\r\n            &quot;isActive&quot;: 1,\r\n            &quot;countryId&quot;: 184,\r\n            &quot;state&quot;: &quot;AL&quot;,\r\n            &quot;rsstoreid&quot;: null,\r\n            &quot;use_override&quot;: null,\r\n            &quot;forecast_override_cashier&quot;: null,\r\n            &quot;forecast_override_customer_coordinator&quot;: null,\r\n            &quot;forecast_override_sales_associate&quot;: null,\r\n            &quot;vendorId&quot;: null,\r\n            &quot;fdId&quot;: null,\r\n            &quot;dashboardPin&quot;: &quot;A33FUNJL&quot;,\r\n            &quot;dropSwapDeadlineHours&quot;: null,\r\n            &quot;openShiftDeadlineHours&quot;: 24,\r\n            &quot;country&quot;: &quot;US&quot;\r\n        },\r\n        {\r\n            &quot;start_time&quot;: &quot;06:00:00&quot;,\r\n            &quot;end_time&quot;: &quot;21:00:00&quot;,\r\n            &quot;id&quot;: 1847,\r\n            &quot;number&quot;: &quot;&quot;,\r\n            &quot;name&quot;: &quot;Testing Store 002&quot;,\r\n            &quot;companyId&quot;: 731,\r\n            &quot;address&quot;: null,\r\n            &quot;phone1&quot;: null,\r\n            &quot;phone2&quot;: null,\r\n            &quot;fax1&quot;: null,\r\n            &quot;fax2&quot;: null,\r\n            &quot;city&quot;: &quot;Abbeville&quot;,\r\n            &quot;zipcode&quot;: null,\r\n            &quot;time_zone&quot;: &quot;America/New_York&quot;,\r\n            &quot;meal_break_length&quot;: null,\r\n            &quot;consecutive_minutes&quot;: null,\r\n            &quot;minHoursBetweenShifts&quot;: null,\r\n            &quot;task_delay&quot;: null,\r\n            &quot;maxShiftsPerDay&quot;: null,\r\n            &quot;start_day&quot;: 1,\r\n            &quot;notes&quot;: null,\r\n            &quot;isActive&quot;: 1,\r\n            &quot;countryId&quot;: 184,\r\n            &quot;state&quot;: &quot;AL&quot;,\r\n            &quot;rsstoreid&quot;: null,\r\n            &quot;use_override&quot;: null,\r\n            &quot;forecast_override_cashier&quot;: null,\r\n            &quot;forecast_override_customer_coordinator&quot;: null,\r\n            &quot;forecast_override_sales_associate&quot;: null,\r\n            &quot;vendorId&quot;: null,\r\n            &quot;fdId&quot;: null,\r\n            &quot;dashboardPin&quot;: &quot;5KMKTJ7M&quot;,\r\n            &quot;dropSwapDeadlineHours&quot;: null,\r\n            &quot;openShiftDeadlineHours&quot;: 24,\r\n            &quot;country&quot;: &quot;US&quot;\r\n        }\r\n    ]\r\n\r\nNow from this array, there are objects, which have key of &#39;id&#39;, I need to get all these ID&#39;s, like:\r\n\r\n    [1845, 1846, 1847]\r\n\r\nI am using following technique:\r\n\r\n    private static JsonNode getResponseBody(String baseURL, String overTimeRulesPath) throws IOException {\r\n        String url = baseURL + overTimeRulesPath;\r\n        String token = getToken(&quot;username&quot;, &quot;password&quot;);\r\n        HttpResponse&lt;JsonNode&gt; endPointResponse;\r\n        try{\r\n            endPointResponse = Unirest.get(url).header(&quot;x-access-token&quot;, token).asJson();\r\n        }catch (UnirestException e) {\r\n            throw new IOException(e);\r\n        }\r\n        return endPointResponse.getBody();\r\n    }\r\n    \r\n    public static JSONArray getStores() throws IOException {\r\n        int companyID = getCompanyID(&quot;username&quot;, &quot;password&quot;);\r\n        String baseURL = &quot;baseURL&quot;;\r\n        String storesPath = &quot;company/&quot;+companyID+&quot;/Stores&quot;;\r\n        JSONObject responseJson = getResponseBody(baseURL, storesPath).getObject();\r\n        return responseJson.getJSONArray(&quot;id&quot;);\r\n    }\r\n\r\nand I am getting nullPointerException at my return line, which is \r\nreturn responseJson.getJSONArray(&quot;id&quot;); on that line.\r\n\r\nWhat possibly, could have gone wrong.\r\n","title":"Get List of all ids using unirest in Java","body":"<p>My JSON is like following :</p>\n<pre><code>[\n    {\n        &quot;start_time&quot;: &quot;06:00:00&quot;,\n        &quot;end_time&quot;: &quot;21:00:00&quot;,\n        &quot;id&quot;: 1845,\n        &quot;number&quot;: &quot;&quot;,\n        &quot;name&quot;: &quot;Default Store&quot;,\n        &quot;companyId&quot;: 731,\n        &quot;address&quot;: null,\n        &quot;phone1&quot;: null,\n        &quot;phone2&quot;: null,\n        &quot;fax1&quot;: null,\n        &quot;fax2&quot;: null,\n        &quot;city&quot;: &quot;Abbeville&quot;,\n        &quot;zipcode&quot;: null,\n        &quot;time_zone&quot;: &quot;America/New_York&quot;,\n        &quot;meal_break_length&quot;: null,\n        &quot;consecutive_minutes&quot;: null,\n        &quot;minHoursBetweenShifts&quot;: null,\n        &quot;task_delay&quot;: null,\n        &quot;maxShiftsPerDay&quot;: null,\n        &quot;start_day&quot;: 1,\n        &quot;notes&quot;: null,\n        &quot;isActive&quot;: 1,\n        &quot;countryId&quot;: 184,\n        &quot;state&quot;: &quot;AL&quot;,\n        &quot;rsstoreid&quot;: null,\n        &quot;use_override&quot;: null,\n        &quot;forecast_override_cashier&quot;: null,\n        &quot;forecast_override_customer_coordinator&quot;: null,\n        &quot;forecast_override_sales_associate&quot;: null,\n        &quot;vendorId&quot;: null,\n        &quot;fdId&quot;: null,\n        &quot;dashboardPin&quot;: &quot;D3FFS6RW&quot;,\n        &quot;dropSwapDeadlineHours&quot;: null,\n        &quot;openShiftDeadlineHours&quot;: 24,\n        &quot;country&quot;: &quot;US&quot;\n    },\n    {\n        &quot;start_time&quot;: &quot;06:00:00&quot;,\n        &quot;end_time&quot;: &quot;21:00:00&quot;,\n        &quot;id&quot;: 1846,\n        &quot;number&quot;: &quot;&quot;,\n        &quot;name&quot;: &quot;Testing Store 001&quot;,\n        &quot;companyId&quot;: 731,\n        &quot;address&quot;: null,\n        &quot;phone1&quot;: null,\n        &quot;phone2&quot;: null,\n        &quot;fax1&quot;: null,\n        &quot;fax2&quot;: null,\n        &quot;city&quot;: &quot;Abbeville&quot;,\n        &quot;zipcode&quot;: null,\n        &quot;time_zone&quot;: &quot;America/New_York&quot;,\n        &quot;meal_break_length&quot;: null,\n        &quot;consecutive_minutes&quot;: null,\n        &quot;minHoursBetweenShifts&quot;: null,\n        &quot;task_delay&quot;: null,\n        &quot;maxShiftsPerDay&quot;: null,\n        &quot;start_day&quot;: 1,\n        &quot;notes&quot;: null,\n        &quot;isActive&quot;: 1,\n        &quot;countryId&quot;: 184,\n        &quot;state&quot;: &quot;AL&quot;,\n        &quot;rsstoreid&quot;: null,\n        &quot;use_override&quot;: null,\n        &quot;forecast_override_cashier&quot;: null,\n        &quot;forecast_override_customer_coordinator&quot;: null,\n        &quot;forecast_override_sales_associate&quot;: null,\n        &quot;vendorId&quot;: null,\n        &quot;fdId&quot;: null,\n        &quot;dashboardPin&quot;: &quot;A33FUNJL&quot;,\n        &quot;dropSwapDeadlineHours&quot;: null,\n        &quot;openShiftDeadlineHours&quot;: 24,\n        &quot;country&quot;: &quot;US&quot;\n    },\n    {\n        &quot;start_time&quot;: &quot;06:00:00&quot;,\n        &quot;end_time&quot;: &quot;21:00:00&quot;,\n        &quot;id&quot;: 1847,\n        &quot;number&quot;: &quot;&quot;,\n        &quot;name&quot;: &quot;Testing Store 002&quot;,\n        &quot;companyId&quot;: 731,\n        &quot;address&quot;: null,\n        &quot;phone1&quot;: null,\n        &quot;phone2&quot;: null,\n        &quot;fax1&quot;: null,\n        &quot;fax2&quot;: null,\n        &quot;city&quot;: &quot;Abbeville&quot;,\n        &quot;zipcode&quot;: null,\n        &quot;time_zone&quot;: &quot;America/New_York&quot;,\n        &quot;meal_break_length&quot;: null,\n        &quot;consecutive_minutes&quot;: null,\n        &quot;minHoursBetweenShifts&quot;: null,\n        &quot;task_delay&quot;: null,\n        &quot;maxShiftsPerDay&quot;: null,\n        &quot;start_day&quot;: 1,\n        &quot;notes&quot;: null,\n        &quot;isActive&quot;: 1,\n        &quot;countryId&quot;: 184,\n        &quot;state&quot;: &quot;AL&quot;,\n        &quot;rsstoreid&quot;: null,\n        &quot;use_override&quot;: null,\n        &quot;forecast_override_cashier&quot;: null,\n        &quot;forecast_override_customer_coordinator&quot;: null,\n        &quot;forecast_override_sales_associate&quot;: null,\n        &quot;vendorId&quot;: null,\n        &quot;fdId&quot;: null,\n        &quot;dashboardPin&quot;: &quot;5KMKTJ7M&quot;,\n        &quot;dropSwapDeadlineHours&quot;: null,\n        &quot;openShiftDeadlineHours&quot;: 24,\n        &quot;country&quot;: &quot;US&quot;\n    }\n]\n</code></pre>\n<p>Now from this array, there are objects, which have key of 'id', I need to get all these ID's, like:</p>\n<pre><code>[1845, 1846, 1847]\n</code></pre>\n<p>I am using following technique:</p>\n<pre><code>private static JsonNode getResponseBody(String baseURL, String overTimeRulesPath) throws IOException {\n    String url = baseURL + overTimeRulesPath;\n    String token = getToken(&quot;username&quot;, &quot;password&quot;);\n    HttpResponse&lt;JsonNode&gt; endPointResponse;\n    try{\n        endPointResponse = Unirest.get(url).header(&quot;x-access-token&quot;, token).asJson();\n    }catch (UnirestException e) {\n        throw new IOException(e);\n    }\n    return endPointResponse.getBody();\n}\n\npublic static JSONArray getStores() throws IOException {\n    int companyID = getCompanyID(&quot;username&quot;, &quot;password&quot;);\n    String baseURL = &quot;baseURL&quot;;\n    String storesPath = &quot;company/&quot;+companyID+&quot;/Stores&quot;;\n    JSONObject responseJson = getResponseBody(baseURL, storesPath).getObject();\n    return responseJson.getJSONArray(&quot;id&quot;);\n}\n</code></pre>\n<p>and I am getting nullPointerException at my return line, which is\nreturn responseJson.getJSONArray(&quot;id&quot;); on that line.</p>\n<p>What possibly, could have gone wrong.</p>\n"},{"tags":["java","android","android-9.0-pie","xiaomi"],"comments":[{"owner":{"account_id":17329941,"reputation":1926,"user_id":12553303,"display_name":"Wini"},"score":0,"creation_date":1577975229,"post_id":59564962,"comment_id":105297690,"body_markdown":"check this out --&gt; https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted","body":"check this out --&gt; <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\" title=\"android 8 cleartext http traffic not permitted\">stackoverflow.com/questions/45940861/&hellip;</a>"},{"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"score":0,"creation_date":1577975534,"post_id":59564962,"comment_id":105297843,"body_markdown":"Hi Wini, I already checked it, but we have different problems. His issue is about android  8. And the accepted solution is already implemented in my app, yet the issue is still there only with Xiaomi devices which has Android 9. Other than Xiaomi devices, the app works perfectly.","body":"Hi Wini, I already checked it, but we have different problems. His issue is about android  8. And the accepted solution is already implemented in my app, yet the issue is still there only with Xiaomi devices which has Android 9. Other than Xiaomi devices, the app works perfectly."},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1577976298,"post_id":59564962,"comment_id":105298192,"body_markdown":"_&quot;What is strange is that my server domain is thebondnews.com but in the log, it says internet.vodafone.com.eg&quot;_ Maybe related to advertisements? Does the site not have an API you can send requests to instead of trying to scrape its contents?","body":"<i>&quot;What is strange is that my server domain is thebondnews.com but in the log, it says internet.vodafone.com.eg&quot;</i> Maybe related to advertisements? Does the site not have an API you can send requests to instead of trying to scrape its contents?"},{"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"score":0,"creation_date":1577976743,"post_id":59564962,"comment_id":105298433,"body_markdown":"This is because **The internet package of that user has finished and the operator try to redirect him to internet package page**","body":"This is because <b>The internet package of that user has finished and the operator try to redirect him to internet package page</b>"},{"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"score":0,"creation_date":1577982508,"post_id":59564962,"comment_id":105301255,"body_markdown":"Hi Michael, I only use AdMob ads with no mediation, and the links seem to be related to Telecom companies.","body":"Hi Michael, I only use AdMob ads with no mediation, and the links seem to be related to Telecom companies."},{"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"score":0,"creation_date":1577982698,"post_id":59564962,"comment_id":105301337,"body_markdown":"Hi  Md. Asaduzzaman, hmm That is a reasonable answer. I think that is the issue as the links are related to Telecom company and internet providers. However, my users claimed that pictures in the app are not loading. I guess they are not aware of the truth that their internet package has finished or maybe is limited to specific websites. Like there is a facebook or WhatsApp internet packages... could that be a reason as well?","body":"Hi  Md. Asaduzzaman, hmm That is a reasonable answer. I think that is the issue as the links are related to Telecom company and internet providers. However, my users claimed that pictures in the app are not loading. I guess they are not aware of the truth that their internet package has finished or maybe is limited to specific websites. Like there is a facebook or WhatsApp internet packages... could that be a reason as well?"},{"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"score":0,"creation_date":1577984549,"post_id":59564962,"comment_id":105302240,"body_markdown":"I also think so, It&#39;s totally related to internet package I believe","body":"I also think so, It&#39;s totally related to internet package I believe"},{"owner":{"account_id":3357201,"reputation":3355,"user_id":2819864,"accept_rate":44,"display_name":"RominaV"},"score":0,"creation_date":1593701326,"post_id":59564962,"comment_id":110877717,"body_markdown":"Were you able to find a solution?","body":"Were you able to find a solution?"},{"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"score":0,"creation_date":1593723786,"post_id":59564962,"comment_id":110888226,"body_markdown":"RominaV, It turns out that some Carriers proxy the connection, so I used a custom HurlStack which take into account when the user is connected to a proxy and add it to Volley. Also, my server is connecting with Cloudflare and Cloudflare seemed to block many of the proxied connections. So, I disabled security from Cloudflare and make custom firewall rules.","body":"RominaV, It turns out that some Carriers proxy the connection, so I used a custom HurlStack which take into account when the user is connected to a proxy and add it to Volley. Also, my server is connecting with Cloudflare and Cloudflare seemed to block many of the proxied connections. So, I disabled security from Cloudflare and make custom firewall rules."}],"answers":[{"tags":[],"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648937427,"creation_date":1648937427,"answer_id":71721540,"question_id":59564962,"body_markdown":"As Md. Asaduzzaman said in the comments. \r\n\r\n&gt; The internet package of that user has finished and the operator tries to redirect him to the internet package page.\r\n\r\nSo it was not an issue with the app. However, some users have a limited internet package with limited access to things like Facebook, WhatsApp, Instagram..etc.\r\n\r\nThus, when my app tries to connect to the server, it is being redirected by the internet provider to block the traffic.","title":"Android 9: Cleartext HTTP traffic not permitted although having cleartextTrafficPermitted=&quot;true&quot;","body":"<p>As Md. Asaduzzaman said in the comments.</p>\n<blockquote>\n<p>The internet package of that user has finished and the operator tries to redirect him to the internet package page.</p>\n</blockquote>\n<p>So it was not an issue with the app. However, some users have a limited internet package with limited access to things like Facebook, WhatsApp, Instagram..etc.</p>\n<p>Thus, when my app tries to connect to the server, it is being redirected by the internet provider to block the traffic.</p>\n"}],"owner":{"account_id":14724375,"reputation":126,"user_id":10633906,"display_name":"AbdulelahAGR"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71721540,"answer_count":1,"score":0,"last_activity_date":1648937427,"creation_date":1577975074,"question_id":59564962,"body_markdown":"I have a strange issue. My app is using http to connect to a server. It works fine in many devices. However, in Xiaomi devices which has Android 9, it gives me this error:\r\n\r\n    Caused by java.io.IOException: Cleartext HTTP traffic to internet.vodafone.com.eg not permitted\r\n           at com.android.okhttp.HttpHandler$CleartextURLFilter.checkURLPermitted(HttpHandler.java:142)\r\n           at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:469)\r\n           at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:418)\r\n           at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:549)\r\n           at com.google.firebase.perf.network.zzd.getResponseCode(zzd.java:81)\r\n           at com.google.firebase.perf.network.zzb.getResponseCode(zzb.java:14)\r\n           at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:96)\r\n           at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:123)\r\n           at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:131)\r\n           at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\r\n           at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\r\n\r\nIn the AndroidManifest.xml I have this:\r\n\r\n     &lt;application\r\n            ...\r\n            android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n            ...\r\n      &lt;/application&gt;\r\n\r\n\r\nMy network_security_config.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;thebondnews.com&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    &lt;/network-security-config&gt;\r\n\r\n\r\nAlso, I have all the permission to connect to the internet. It works fine in Many devices with android 9 Like Samsung galaxy s9/s9+ and Samsung galaxy s8/s8+ and many others.\r\n\r\nThe error message was copied from Firebase Crashlatics. What is strange is that my server domain is thebondnews.com but in the log, it says `internet.vodafone.com.eg` or sometimes `notification.etisalat.com.eg` and `10.10.10.1`. It is like there is kinda redirection in their devices.\r\n\r\nCan anyone help me how to solve it? or what shall I do?\r\n\r\nUpdate 1:\r\nCould it be that I am only allowing my domain in **network_security_config.xml**\r\nand because of the redirection caused by their providers the connection fails?","title":"Android 9: Cleartext HTTP traffic not permitted although having cleartextTrafficPermitted=&quot;true&quot;","body":"<p>I have a strange issue. My app is using http to connect to a server. It works fine in many devices. However, in Xiaomi devices which has Android 9, it gives me this error:</p>\n\n<pre><code>Caused by java.io.IOException: Cleartext HTTP traffic to internet.vodafone.com.eg not permitted\n       at com.android.okhttp.HttpHandler$CleartextURLFilter.checkURLPermitted(HttpHandler.java:142)\n       at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:469)\n       at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:418)\n       at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:549)\n       at com.google.firebase.perf.network.zzd.getResponseCode(zzd.java:81)\n       at com.google.firebase.perf.network.zzb.getResponseCode(zzb.java:14)\n       at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:96)\n       at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:123)\n       at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:131)\n       at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\n       at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\n</code></pre>\n\n<p>In the AndroidManifest.xml I have this:</p>\n\n<pre><code> &lt;application\n        ...\n        android:networkSecurityConfig=\"@xml/network_security_config\"\n        ...\n  &lt;/application&gt;\n</code></pre>\n\n<p>My network_security_config.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;thebondnews.com&lt;/domain&gt;\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>Also, I have all the permission to connect to the internet. It works fine in Many devices with android 9 Like Samsung galaxy s9/s9+ and Samsung galaxy s8/s8+ and many others.</p>\n\n<p>The error message was copied from Firebase Crashlatics. What is strange is that my server domain is thebondnews.com but in the log, it says <code>internet.vodafone.com.eg</code> or sometimes <code>notification.etisalat.com.eg</code> and <code>10.10.10.1</code>. It is like there is kinda redirection in their devices.</p>\n\n<p>Can anyone help me how to solve it? or what shall I do?</p>\n\n<p>Update 1:\nCould it be that I am only allowing my domain in <strong>network_security_config.xml</strong>\nand because of the redirection caused by their providers the connection fails?</p>\n"},{"tags":["java","arrays","validation"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1648936311,"post_id":71721412,"comment_id":126750208,"body_markdown":"You can use a `for` loop: `for (int i = 0; i &lt; result; i++) { /* get name */ }`","body":"You can use a <code>for</code> loop: <code>for (int i = 0; i &lt; result; i++) { &#47;* get name *&#47; }</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1648936334,"post_id":71721412,"comment_id":126750214,"body_markdown":"Also, there&#39;s no need to create a second `Scanner`.","body":"Also, there&#39;s no need to create a second <code>Scanner</code>."}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648937226,"creation_date":1648937226,"answer_id":71721513,"question_id":71721412,"body_markdown":"You need to have the entire code in a while loop whose condition should depend on number of incorrect attempts ( count). Since you have not mentioned what needs to be done if the user enters the correct input  ( say 3) ,i&#39;m assuming it will take 3 names input and end ( in case you want to continue taking the names, remove the break condition mentioned in my code. \r\n\r\n    public class Lab7 {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int result;\r\n            int count = 0;\r\n    \r\n            while (count &lt; 3) {\r\n                System.out.println(&quot;Enter number of students (Must be between 1-10)&quot;);\r\n                result = in.nextInt();\r\n                // in.next();\r\n                if (result &lt; 0 || result &gt; 10) {\r\n                    count++;\r\n                } else {\r\n                    System.out.println(&quot;Thank you, Please enter the names for the &quot; + result + &quot; Students&quot;);\r\n                    int nameCount = 0;\r\n                    while (nameCount &lt; result) {\r\n    \r\n                        System.out.println(&quot;Enter Full Name: &quot;);\r\n                        String s1 = in.next();\r\n                        System.out.println(&quot;The students name is&quot; + &quot; &quot; + s1);\r\n                        nameCount++;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nand the output is : \r\n\r\n    Enter number of students (Must be between 1-10)\r\n    2\r\n    Thank you, Please enter the names for the 2 Students\r\n    Enter Full Name:\r\n    john\r\n    The students name is john\r\n    Enter Full Name:\r\n    jacob\r\n    The students name is jacob","title":"Enter a number within a certain range, and then get the system to prompt me to input names for that number that has been entered?","body":"<p>You need to have the entire code in a while loop whose condition should depend on number of incorrect attempts ( count). Since you have not mentioned what needs to be done if the user enters the correct input  ( say 3) ,i'm assuming it will take 3 names input and end ( in case you want to continue taking the names, remove the break condition mentioned in my code.</p>\n<pre><code>public class Lab7 {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int result;\n        int count = 0;\n\n        while (count &lt; 3) {\n            System.out.println(&quot;Enter number of students (Must be between 1-10)&quot;);\n            result = in.nextInt();\n            // in.next();\n            if (result &lt; 0 || result &gt; 10) {\n                count++;\n            } else {\n                System.out.println(&quot;Thank you, Please enter the names for the &quot; + result + &quot; Students&quot;);\n                int nameCount = 0;\n                while (nameCount &lt; result) {\n\n                    System.out.println(&quot;Enter Full Name: &quot;);\n                    String s1 = in.next();\n                    System.out.println(&quot;The students name is&quot; + &quot; &quot; + s1);\n                    nameCount++;\n                }\n                break;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>and the output is :</p>\n<pre><code>Enter number of students (Must be between 1-10)\n2\nThank you, Please enter the names for the 2 Students\nEnter Full Name:\njohn\nThe students name is john\nEnter Full Name:\njacob\nThe students name is jacob\n</code></pre>\n"}],"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71721513,"answer_count":1,"score":-1,"last_activity_date":1648937226,"creation_date":1648936111,"question_id":71721412,"body_markdown":"I am trying to input a number between 1-10, if a number is entered which out of this range 3 consecutive times, the system should terminate. If the number is within the range, it should then prompt the user to enter names, which should match the number that was initially added. (So if 3 was inputted initially, the system to allow for 3 names to be added). May you direct me where I am going wrong?\r\n\r\n    import java.util.Scanner;\r\n    public class Lab7{\r\n    \tpublic static void main(String []args){\r\n    \t    Scanner in = new Scanner(System.in);\r\n    \t    int result;\r\n    \t    int count = 0;\r\n    \t    \r\n    \t   do {\r\n    \t       System.out.println(&quot;Enter number of students (Must be between 1-10)&quot;);\r\n    \t       result = in.nextInt();\r\n    \t   } while(result &lt; 0 || result &gt; 10);\r\n    \t   {\r\n    \t   \t    \r\n    \t    System.out.println(&quot;Thank you, Please enter the names for the &quot;+ result + &quot; Students&quot;);\r\n    \t   }\r\n    \t   \r\n          try (Scanner input = new Scanner(System.in)) {\r\n    \t\tSystem.out.print(&quot;Enter Full Name: &quot;);\r\n    \t\t   String s1 = input.next();\r\n    \t\t   System.out.print(&quot;The students name is&quot; + &quot; &quot; + s1);\r\n    \t}\r\n    \t   \r\n    \t   while(!(result &lt; 0 || result &gt; 10));\r\n    \t   {\r\n    \t    System.out.println(&quot;wrong input&quot;);\r\n    \r\n    \t    count = count + 1;\r\n    \t       if (count == 3)\r\n    \t       {\r\n    \t    \t   System.out.println(&quot;The maximum number of attempts exceeded&quot;);\r\n    \t           System.exit(count);\r\n    \t       }\r\n    \t   }\t      \r\n    \t   \r\n    \t}\r\n    \t\r\n    }","title":"Enter a number within a certain range, and then get the system to prompt me to input names for that number that has been entered?","body":"<p>I am trying to input a number between 1-10, if a number is entered which out of this range 3 consecutive times, the system should terminate. If the number is within the range, it should then prompt the user to enter names, which should match the number that was initially added. (So if 3 was inputted initially, the system to allow for 3 names to be added). May you direct me where I am going wrong?</p>\n<pre><code>import java.util.Scanner;\npublic class Lab7{\n    public static void main(String []args){\n        Scanner in = new Scanner(System.in);\n        int result;\n        int count = 0;\n        \n       do {\n           System.out.println(&quot;Enter number of students (Must be between 1-10)&quot;);\n           result = in.nextInt();\n       } while(result &lt; 0 || result &gt; 10);\n       {\n            \n        System.out.println(&quot;Thank you, Please enter the names for the &quot;+ result + &quot; Students&quot;);\n       }\n       \n      try (Scanner input = new Scanner(System.in)) {\n        System.out.print(&quot;Enter Full Name: &quot;);\n           String s1 = input.next();\n           System.out.print(&quot;The students name is&quot; + &quot; &quot; + s1);\n    }\n       \n       while(!(result &lt; 0 || result &gt; 10));\n       {\n        System.out.println(&quot;wrong input&quot;);\n\n        count = count + 1;\n           if (count == 3)\n           {\n               System.out.println(&quot;The maximum number of attempts exceeded&quot;);\n               System.exit(count);\n           }\n       }          \n       \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","crm","infusionsoft","xmlrpcclient"],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1510455873,"creation_date":1510210410,"answer_id":47195653,"question_id":47171118,"body_markdown":"I just came to know from [infusionsoft community post][1] made by @Nicholas_Trecina , added **CompletionDate** field and made some changes to my code. And it works.\r\n\r\n\r\n  [1]: https://community.infusionsoft.com/t/creating-appointment-using-rest/8094/7?u=dipu_roy\r\n\r\n editedVersion:\r\n  \r\n\r\n    List params = new ArrayList();\t\t\r\n\tMap noteData = new HashMap();\r\n\r\n\tnoteData.put(&quot;ContactId&quot;, contactId);\r\n\tnoteData.put(&quot;ActionDescription&quot;, &quot;My Note Title&quot;);\r\n\tnoteData.put(&quot;isAppointment&quot;, 0);\r\n\tnoteData.put(&quot;ActionDate&quot;,&quot;20170803T08:00:00&quot;);\r\n\tnoteData.put(&quot;CompletionDate&quot;,&quot;20171109&quot;);\r\n\tnoteData.put(&quot;CreationNotes&quot;, &quot;Note data- what i want to save as note: bla bla bla..&quot;);\r\n\r\n    params.add(api_key);\t\t\r\n\tparams.add(&quot;ContactAction&quot;);\t\t\t\r\n\tparams.add(noteData);\r\n    \r\n    Integer responseCode = (Integer) client.execute(\r\n\t\t\t\t\t&quot;DataService.add&quot;, params);","title":"How to add Notes of a contact with Infusionsoft CRM API in Java","body":"<p>I just came to know from <a href=\"https://community.infusionsoft.com/t/creating-appointment-using-rest/8094/7?u=dipu_roy\" rel=\"nofollow noreferrer\">infusionsoft community post</a> made by @Nicholas_Trecina , added <strong>CompletionDate</strong> field and made some changes to my code. And it works.</p>\n\n<p>editedVersion:</p>\n\n<pre><code>List params = new ArrayList();      \nMap noteData = new HashMap();\n\nnoteData.put(\"ContactId\", contactId);\nnoteData.put(\"ActionDescription\", \"My Note Title\");\nnoteData.put(\"isAppointment\", 0);\nnoteData.put(\"ActionDate\",\"20170803T08:00:00\");\nnoteData.put(\"CompletionDate\",\"20171109\");\nnoteData.put(\"CreationNotes\", \"Note data- what i want to save as note: bla bla bla..\");\n\nparams.add(api_key);        \nparams.add(\"ContactAction\");            \nparams.add(noteData);\n\nInteger responseCode = (Integer) client.execute(\n                \"DataService.add\", params);\n</code></pre>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47195653,"answer_count":1,"score":0,"last_activity_date":1648936689,"creation_date":1510111767,"question_id":47171118,"body_markdown":"In Infusionsoft CRM, there is a field of a contact named as &quot;Notes&quot; to add note for a contact. I was able to create a contact, search or update using xml-rpc protocol, Java. I tried to add notes in the following way (my code below) but couldn&#39;t.\r\n\r\nHow to add Notes for a contact using their api in Java ?\r\n\r\nMy approach:\r\n\r\n    XmlRpcClientConfigImpl config = new XmlRpcClientConfigImpl();\r\n\tXmlRpcClient client = new XmlRpcClient();\r\n    config.setServerURL(new URL(uri)); //my app uri\r\n    client.setConfig(config);\r\n    \r\n    List params=new ArrayList();\r\n\tList customField=new ArrayList();\r\n    customField.add(&quot;this is new text1\\n&quot;);\r\n\tcustomField.add(&quot;this is text2\\n&quot;);\r\n\tcustomField.add(&quot;text3\\n&quot;);\r\n\tcustomField.add(&quot;text4\\n&quot;);\r\n\t\t\r\n\tparams.add(api_key);\t\t\r\n\tparams.add(&quot;ContactNotes&quot;);//found from contact Table-schema\r\n\tparams.add(customField);\r\n\tparams.add(contactId); //suppose that was an known contactId Integer.\r\n    Integer responseCode=(Integer) client.execute(&quot;ContactService.add&quot;, params);\r\n\r\nExecuting the code, it gives this error: \r\n\r\n    org.apache.xmlrpc.XmlRpcException: No method matching arguments: java.lang.String, java.lang.String, [Ljava.lang.Object;, java.lang.Integer\r\n\tat org.apache.xmlrpc.client.XmlRpcStreamTransport.readResponse(XmlRpcStreamTransport.java:197)\r\n\tat org.apache.xmlrpc.client.XmlRpcStreamTransport.sendRequest(XmlRpcStreamTransport.java:156)\r\n\tat org.apache.xmlrpc.client.XmlRpcHttpTransport.sendRequest(XmlRpcHttpTransport.java:143)\r\n\tat org.apache.xmlrpc.client.XmlRpcSunHttpTransport.sendRequest(XmlRpcSunHttpTransport.java:69)\r\n\tat org.apache.xmlrpc.client.XmlRpcClientWorker.execute(XmlRpcClientWorker.java:56)\r\n\tat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:167)\r\n\tat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:158)\r\n\tat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:147)\r\n\tat infusionsoft.ContactOperation.addNote(ContactOperation.java:123)\r\n\tat infusionsoft.Main.main(Main.java:80)","title":"How to add Notes of a contact with Infusionsoft CRM API in Java","body":"<p>In Infusionsoft CRM, there is a field of a contact named as &quot;Notes&quot; to add note for a contact. I was able to create a contact, search or update using xml-rpc protocol, Java. I tried to add notes in the following way (my code below) but couldn't.</p>\n<p>How to add Notes for a contact using their api in Java ?</p>\n<p>My approach:</p>\n<pre><code>XmlRpcClientConfigImpl config = new XmlRpcClientConfigImpl();\nXmlRpcClient client = new XmlRpcClient();\nconfig.setServerURL(new URL(uri)); //my app uri\nclient.setConfig(config);\n\nList params=new ArrayList();\nList customField=new ArrayList();\ncustomField.add(&quot;this is new text1\\n&quot;);\ncustomField.add(&quot;this is text2\\n&quot;);\ncustomField.add(&quot;text3\\n&quot;);\ncustomField.add(&quot;text4\\n&quot;);\n    \nparams.add(api_key);        \nparams.add(&quot;ContactNotes&quot;);//found from contact Table-schema\nparams.add(customField);\nparams.add(contactId); //suppose that was an known contactId Integer.\nInteger responseCode=(Integer) client.execute(&quot;ContactService.add&quot;, params);\n</code></pre>\n<p>Executing the code, it gives this error:</p>\n<pre><code>org.apache.xmlrpc.XmlRpcException: No method matching arguments: java.lang.String, java.lang.String, [Ljava.lang.Object;, java.lang.Integer\nat org.apache.xmlrpc.client.XmlRpcStreamTransport.readResponse(XmlRpcStreamTransport.java:197)\nat org.apache.xmlrpc.client.XmlRpcStreamTransport.sendRequest(XmlRpcStreamTransport.java:156)\nat org.apache.xmlrpc.client.XmlRpcHttpTransport.sendRequest(XmlRpcHttpTransport.java:143)\nat org.apache.xmlrpc.client.XmlRpcSunHttpTransport.sendRequest(XmlRpcSunHttpTransport.java:69)\nat org.apache.xmlrpc.client.XmlRpcClientWorker.execute(XmlRpcClientWorker.java:56)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:167)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:158)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:147)\nat infusionsoft.ContactOperation.addNote(ContactOperation.java:123)\nat infusionsoft.Main.main(Main.java:80)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-integration","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646068725,"creation_date":1646068725,"answer_id":71298711,"question_id":71280457,"body_markdown":"The `IntegrationFlows.from(somePublisher)` start a ractive stream for the provided `Publisher`. The rest of the flow is done against every single event in the source `Publisher`. So, your `.handle(flux -&gt;)` is going to work only if that event from the source is a `Flux`. \r\n\r\nIf your idea to apply that `buffer()` for the source `Publisher` and go on, then consider to use a `reactive()` customizer: https://docs.spring.io/spring-integration/docs/current/reference/html/reactive-streams.html#fluxmessagechannel-and-reactivestreamsconsumer.\r\n\r\nSo, instead of that `handle()` I would use:\r\n\r\n    .bridge(e -&gt; e.reactive(flux -&gt; flux.buffer(Duration.ofMillis(200)))\r\n\r\nThe next `handle(writeToS3)` is going to be performed against buffered `List` result, so be careful what you are doing and expecting in your `writeToS3`.","title":"How to access a flux in the middle of a Spring Integration flow?","body":"<p>The <code>IntegrationFlows.from(somePublisher)</code> start a ractive stream for the provided <code>Publisher</code>. The rest of the flow is done against every single event in the source <code>Publisher</code>. So, your <code>.handle(flux -&gt;)</code> is going to work only if that event from the source is a <code>Flux</code>.</p>\n<p>If your idea to apply that <code>buffer()</code> for the source <code>Publisher</code> and go on, then consider to use a <code>reactive()</code> customizer: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/reactive-streams.html#fluxmessagechannel-and-reactivestreamsconsumer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/reactive-streams.html#fluxmessagechannel-and-reactivestreamsconsumer</a>.</p>\n<p>So, instead of that <code>handle()</code> I would use:</p>\n<pre><code>.bridge(e -&gt; e.reactive(flux -&gt; flux.buffer(Duration.ofMillis(200)))\n</code></pre>\n<p>The next <code>handle(writeToS3)</code> is going to be performed against buffered <code>List</code> result, so be careful what you are doing and expecting in your <code>writeToS3</code>.</p>\n"},{"tags":[],"owner":{"account_id":24235744,"reputation":55,"user_id":18188898,"display_name":"ukrwine10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648936286,"creation_date":1648936286,"answer_id":71721424,"question_id":71280457,"body_markdown":"Artem&#39;s answer is great and correct, but what I was exactly looking for was:\r\n```java\r\n.fluxTransform(messageFlux -&gt; messageFlux.buffer(Duration.ofMillis(200)))\r\n```","title":"How to access a flux in the middle of a Spring Integration flow?","body":"<p>Artem's answer is great and correct, but what I was exactly looking for was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.fluxTransform(messageFlux -&gt; messageFlux.buffer(Duration.ofMillis(200)))\n</code></pre>\n"}],"owner":{"account_id":24235744,"reputation":55,"user_id":18188898,"display_name":"ukrwine10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648936286,"creation_date":1645911277,"question_id":71280457,"body_markdown":"I try to access the flux object in Spring Integration without splitting the flow declaration to two functions. I wonder how can I perform the following:\r\n\r\n```java\r\n@Bean\r\npublic IntegrationFlow mainFlow() {\r\n   return IntegrationFlows.from(somePublisher)\r\n      // Access publisher here to perform something like:\r\n      .handle(flux -&gt; flux.buffer(Duration.ofMillis(200))\r\n      .handle(writeToS3)\r\n      .get();\r\n}\r\n```\r\n\r\nI don&#39;t mind moving the flux operation that I&#39;m talking about in the comments to another class (maybe for being some kind of a gateway), but it&#39;s obviously very important to me to start and the flow from the same `mainFlow` function, so it will be super clear and readable to understand what I&#39;m doing in my application. I saw [the documentation of gateways with Monos](https://docs.spring.io/spring-integration/reference/html/gateway.html#reactor-mono), but the example code is not even possible (they talk about Flux that is not inside a function and it&#39;s super hard for me as a beginner to understand what&#39;s going on there).","title":"How to access a flux in the middle of a Spring Integration flow?","body":"<p>I try to access the flux object in Spring Integration without splitting the flow declaration to two functions. I wonder how can I perform the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic IntegrationFlow mainFlow() {\n   return IntegrationFlows.from(somePublisher)\n      // Access publisher here to perform something like:\n      .handle(flux -&gt; flux.buffer(Duration.ofMillis(200))\n      .handle(writeToS3)\n      .get();\n}\n</code></pre>\n<p>I don't mind moving the flux operation that I'm talking about in the comments to another class (maybe for being some kind of a gateway), but it's obviously very important to me to start and the flow from the same <code>mainFlow</code> function, so it will be super clear and readable to understand what I'm doing in my application. I saw <a href=\"https://docs.spring.io/spring-integration/reference/html/gateway.html#reactor-mono\" rel=\"nofollow noreferrer\">the documentation of gateways with Monos</a>, but the example code is not even possible (they talk about Flux that is not inside a function and it's super hard for me as a beginner to understand what's going on there).</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1648781582,"post_id":71700836,"comment_id":126717019,"body_markdown":"If your code doesn&#39;t do what you want it to do, then naturally, there is something wrong. The way to get an answer, however, is not to dump your code and expect strangers to spend their time learning your entire project and fix it for you. Rather, you should be identifying where your code goes wrong and developing some idea as to the nature of the failure and then ask about that specific issue. Remember, you&#39;re asking strangers to help you for free. If you don&#39;t make it easy for people to help, you probably won&#39;t get any help.","body":"If your code doesn&#39;t do what you want it to do, then naturally, there is something wrong. The way to get an answer, however, is not to dump your code and expect strangers to spend their time learning your entire project and fix it for you. Rather, you should be identifying where your code goes wrong and developing some idea as to the nature of the failure and then ask about that specific issue. Remember, you&#39;re asking strangers to help you for free. If you don&#39;t make it easy for people to help, you probably won&#39;t get any help."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648936079,"creation_date":1648933325,"answer_id":71721134,"question_id":71700836,"body_markdown":"You have an issue with the line:-\r\n\r\n    Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=&quot;+word,null,null,null,null);\r\n\r\n\r\nThe resultant query generated will be, assuming `word` evaluates to the text *`myword`* :-\r\n\r\n    SELECT word,meaning FROM allwords_table WHERE word = myword;\r\n\r\n\r\nThe issue is that as the value *`myword`* is not enclosed in single quotes, and that it is then, in this context, considered as a column name (unless it is a numeric value).\r\n\r\n- *A string constant is formed by enclosing the string in single quotes (&#39;). A single quote within the string can be encoded by putting two single quotes in a row - as in Pascal. C-style escapes using the backslash character are not supported because they are not standard SQL.* \r\n- https://sqlite.org/lang_expr.html#literal_values_constants_\r\n- Note that the following section, section 4, is relevant to using a parameterised query, as is strongly suggested below.\r\n\r\nTo correct this you could use \r\n\r\n    Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=&#39;&quot;+&quot;&#39;&quot;+word,null,null,null,null);\r\n\r\n**BUT this is not considered good practice as it is open to SQL injection.**\r\n\r\nThe recommended way is to utilise the `selectionArgs` parameter of the `query` method. This will replace coded **`?`**&#39;s, one by one, with the correctly enclosed value.\r\n\r\n- https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String)\r\n\r\n**So the recommended way would be to use :-**\r\n\r\n    cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=?&quot;,new String[]{word},null,null,null);\r\n\r\n\r\nFurthermore, you have some needles code checking a Cursor for null as it will never be null. If the Cursor is empty then a Cursor with now rows will be returned. You are also not closing the Cursor which if there are too many unclosed Cursors will result in an exception.\r\n\r\nAs such it is suggested that you consider using:-\r\n\r\n    public String findMeaning(String word) {\r\n        String rv = null;\r\n        db=this.getReadableDatabase();\r\n        String[] columns=new String[]{COL_WORD,COL_MEANING};\r\n        Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=?&quot;,new String[]{word},null,null,null);\r\n        if(cursor.moveToFirst(){\r\n            rv =cursor.getString(1);\r\n        }\r\n        cursor.close();\r\n        return rv;\r\n    }\r\n\r\n- As can be seen this will\r\n\r\n    - properly enclose the word to be searched for by passing it as a parameter to SQLite\r\n    - not undertake the useless check for a null Cursor\r\n    - close the Cursor whether or not a row was returned\r\n    - will return null if the word was not found.\r\n\r\n\r\n","title":"SQLite don&#39;t filter records correctly","body":"<p>You have an issue with the line:-</p>\n<pre><code>Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=&quot;+word,null,null,null,null);\n</code></pre>\n<p>The resultant query generated will be, assuming <code>word</code> evaluates to the text <em><code>myword</code></em> :-</p>\n<pre><code>SELECT word,meaning FROM allwords_table WHERE word = myword;\n</code></pre>\n<p>The issue is that as the value <em><code>myword</code></em> is not enclosed in single quotes, and that it is then, in this context, considered as a column name (unless it is a numeric value).</p>\n<ul>\n<li><em>A string constant is formed by enclosing the string in single quotes ('). A single quote within the string can be encoded by putting two single quotes in a row - as in Pascal. C-style escapes using the backslash character are not supported because they are not standard SQL.</em></li>\n<li><a href=\"https://sqlite.org/lang_expr.html#literal_values_constants\" rel=\"nofollow noreferrer\">https://sqlite.org/lang_expr.html#literal_values_constants</a>_</li>\n<li>Note that the following section, section 4, is relevant to using a parameterised query, as is strongly suggested below.</li>\n</ul>\n<p>To correct this you could use</p>\n<pre><code>Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;='&quot;+&quot;'&quot;+word,null,null,null,null);\n</code></pre>\n<p><strong>BUT this is not considered good practice as it is open to SQL injection.</strong></p>\n<p>The recommended way is to utilise the <code>selectionArgs</code> parameter of the <code>query</code> method. This will replace coded <strong><code>?</code></strong>'s, one by one, with the correctly enclosed value.</p>\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String%5B%5D,%20java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String)</a></li>\n</ul>\n<p><strong>So the recommended way would be to use :-</strong></p>\n<pre><code>cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=?&quot;,new String[]{word},null,null,null);\n</code></pre>\n<p>Furthermore, you have some needles code checking a Cursor for null as it will never be null. If the Cursor is empty then a Cursor with now rows will be returned. You are also not closing the Cursor which if there are too many unclosed Cursors will result in an exception.</p>\n<p>As such it is suggested that you consider using:-</p>\n<pre><code>public String findMeaning(String word) {\n    String rv = null;\n    db=this.getReadableDatabase();\n    String[] columns=new String[]{COL_WORD,COL_MEANING};\n    Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=?&quot;,new String[]{word},null,null,null);\n    if(cursor.moveToFirst(){\n        rv =cursor.getString(1);\n    }\n    cursor.close();\n    return rv;\n}\n</code></pre>\n<ul>\n<li><p>As can be seen this will</p>\n<ul>\n<li>properly enclose the word to be searched for by passing it as a parameter to SQLite</li>\n<li>not undertake the useless check for a null Cursor</li>\n<li>close the Cursor whether or not a row was returned</li>\n<li>will return null if the word was not found.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":24766512,"reputation":1,"user_id":18650321,"display_name":"Shahid Habibi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1648936079,"creation_date":1648777039,"question_id":71700836,"body_markdown":"I&#39;m developing a dictionary app, i want to store words in a database and if user enters a word, it should be searched in the database and the meaning of it should be displayed. Here is my Activity_Main.xml file:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;16dp&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/word&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Word&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:inputType=&quot;text&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/meaning&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Meaning&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:inputType=&quot;text&quot;/&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/search&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;search&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:backgroundTint=&quot;@color/colorPrimary&quot;\r\n        android:textColor=&quot;@android:color/white&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\nAnd my MainActivity.java:\r\n```lang-java\r\npackage com.msh.dbms;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity{\r\n\r\n    DbHelper db;\r\n    EditText word ,meaning;\r\n    Button search;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        db=new DbHelper(this);\r\n        db.insertWord(&quot;apple&quot;,&quot;seeb&quot;);\r\n        db.insertWord(&quot;banana&quot;,&quot;kela&quot;);\r\n        db.insertWord(&quot;cherry&quot;,&quot;alobalo&quot;);\r\n        Toast.makeText(this,db.getData(),Toast.LENGTH_SHORT).show();\r\n        word = findViewById(R.id.word);\r\n        meaning = findViewById(R.id.meaning);\r\n        search = findViewById(R.id.search);\r\n        search.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    meaning.setText(db.findMeaning(word.getText().toString()));\r\n                    Toast.makeText(getApplicationContext(), &quot;searched successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nAnd my DbHelper.java:\r\n```lang-java\r\npackage com.msh.dbms;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\n\r\npublic class DbHelper extends SQLiteOpenHelper {\r\n\r\n    SQLiteDatabase db;\r\n\r\n    private static final String DATABASE_NAME=&quot;englishwords.db&quot;;\r\n    private static final int DATABASE_VERSION=1;\r\n\r\n    private static final String TABLE_WORDS=&quot;allwords_table&quot;;\r\n\r\n    private static final  String COL_WORD=&quot;word&quot;;\r\n    private static final  String COL_MEANING=&quot;meaning&quot;;\r\n\r\n    public DbHelper(Context context) {\r\n        super(context, DATABASE_NAME, null,DATABASE_VERSION);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db){\r\n        String Query_Table=&quot; CREATE TABLE &quot; +TABLE_WORDS+ &quot;(&quot;\r\n                +COL_WORD+ &quot; TEXT PRIMARY KEY, &quot; +COL_MEANING+ &quot; TEXT);&quot;;\r\n        db.execSQL(Query_Table);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE_WORDS);\r\n        onCreate(db);\r\n\r\n    }\r\n\r\n    public void insertWord(String word, String meaning) {\r\n        db=this.getWritableDatabase();\r\n        ContentValues values=new ContentValues();\r\n        values.put(COL_WORD,word);\r\n        values.put(COL_MEANING,meaning);\r\n        db.insert(TABLE_WORDS,null,values);\r\n    }\r\n\r\n    public String getData() {\r\n        db=this.getReadableDatabase();\r\n        String[] columns=new String[] {COL_WORD,COL_MEANING};\r\n        Cursor cursor=db.query(TABLE_WORDS,columns,null,null,null,null,null);\r\n        int iName= cursor.getColumnIndex(COL_WORD);\r\n        int iEmail= cursor.getColumnIndex(COL_MEANING);\r\n        String result=&quot;&quot;;\r\n\r\n        for(cursor.moveToFirst(); !cursor.isAfterLast(); cursor.moveToNext()){\r\n            result=result+\r\n                    &quot;Name: &quot; +cursor.getString(iName)+&quot;\\n&quot;+\r\n                    &quot;Email: &quot; +cursor.getString(iEmail)+ &quot;\\n\\n&quot;;\r\n        }\r\n        db.close();\r\n        return result;\r\n    }\r\n    public String findMeaning(String word) {\r\n        db=this.getReadableDatabase();\r\n        String[] columns=new String[]{COL_WORD,COL_MEANING};\r\n        Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=&quot;+word,null,null,null,null);\r\n        if(cursor!=null){\r\n            cursor.moveToFirst();\r\n            String name=cursor.getString(1);\r\n            return name;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nI have `insertWord()` function that adds new word to the database every time `onCreate()` is called and i have `findMeaning()` function that searches the database for the word and returns it&#39;s meaning but if i run this app, the meaning is not displayed so am i doing something wrong","title":"SQLite don&#39;t filter records correctly","body":"<p>I'm developing a dictionary app, i want to store words in a database and if user enters a word, it should be searched in the database and the meaning of it should be displayed. Here is my Activity_Main.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;16dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/word&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Word&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:inputType=&quot;text&quot;/&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/meaning&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Meaning&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:inputType=&quot;text&quot;/&gt;\n    &lt;Button\n        android:id=&quot;@+id/search&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;search&quot;\n        android:textSize=&quot;18sp&quot;\n        android:backgroundTint=&quot;@color/colorPrimary&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:layout_marginTop=&quot;20dp&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And my MainActivity.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.msh.dbms;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity{\n\n    DbHelper db;\n    EditText word ,meaning;\n    Button search;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        db=new DbHelper(this);\n        db.insertWord(&quot;apple&quot;,&quot;seeb&quot;);\n        db.insertWord(&quot;banana&quot;,&quot;kela&quot;);\n        db.insertWord(&quot;cherry&quot;,&quot;alobalo&quot;);\n        Toast.makeText(this,db.getData(),Toast.LENGTH_SHORT).show();\n        word = findViewById(R.id.word);\n        meaning = findViewById(R.id.meaning);\n        search = findViewById(R.id.search);\n        search.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                try {\n                    meaning.setText(db.findMeaning(word.getText().toString()));\n                    Toast.makeText(getApplicationContext(), &quot;searched successfully&quot;, Toast.LENGTH_SHORT).show();\n                }\n                catch (Exception e)\n                {\n                    Toast.makeText(getApplicationContext(), e.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>And my DbHelper.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.msh.dbms;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DbHelper extends SQLiteOpenHelper {\n\n    SQLiteDatabase db;\n\n    private static final String DATABASE_NAME=&quot;englishwords.db&quot;;\n    private static final int DATABASE_VERSION=1;\n\n    private static final String TABLE_WORDS=&quot;allwords_table&quot;;\n\n    private static final  String COL_WORD=&quot;word&quot;;\n    private static final  String COL_MEANING=&quot;meaning&quot;;\n\n    public DbHelper(Context context) {\n        super(context, DATABASE_NAME, null,DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db){\n        String Query_Table=&quot; CREATE TABLE &quot; +TABLE_WORDS+ &quot;(&quot;\n                +COL_WORD+ &quot; TEXT PRIMARY KEY, &quot; +COL_MEANING+ &quot; TEXT);&quot;;\n        db.execSQL(Query_Table);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot;+TABLE_WORDS);\n        onCreate(db);\n\n    }\n\n    public void insertWord(String word, String meaning) {\n        db=this.getWritableDatabase();\n        ContentValues values=new ContentValues();\n        values.put(COL_WORD,word);\n        values.put(COL_MEANING,meaning);\n        db.insert(TABLE_WORDS,null,values);\n    }\n\n    public String getData() {\n        db=this.getReadableDatabase();\n        String[] columns=new String[] {COL_WORD,COL_MEANING};\n        Cursor cursor=db.query(TABLE_WORDS,columns,null,null,null,null,null);\n        int iName= cursor.getColumnIndex(COL_WORD);\n        int iEmail= cursor.getColumnIndex(COL_MEANING);\n        String result=&quot;&quot;;\n\n        for(cursor.moveToFirst(); !cursor.isAfterLast(); cursor.moveToNext()){\n            result=result+\n                    &quot;Name: &quot; +cursor.getString(iName)+&quot;\\n&quot;+\n                    &quot;Email: &quot; +cursor.getString(iEmail)+ &quot;\\n\\n&quot;;\n        }\n        db.close();\n        return result;\n    }\n    public String findMeaning(String word) {\n        db=this.getReadableDatabase();\n        String[] columns=new String[]{COL_WORD,COL_MEANING};\n        Cursor cursor=db.query(TABLE_WORDS,columns,COL_WORD+&quot;=&quot;+word,null,null,null,null);\n        if(cursor!=null){\n            cursor.moveToFirst();\n            String name=cursor.getString(1);\n            return name;\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I have <code>insertWord()</code> function that adds new word to the database every time <code>onCreate()</code> is called and i have <code>findMeaning()</code> function that searches the database for the word and returns it's meaning but if i run this app, the meaning is not displayed so am i doing something wrong</p>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":5284809,"reputation":11024,"user_id":4219144,"display_name":"eckig"},"score":0,"creation_date":1419190499,"post_id":27585668,"comment_id":43609582,"body_markdown":"Why not use the solution you found? You can modify it to post a tab of 4 characters. Or do you need to use `\\t`?","body":"Why not use the solution you found? You can modify it to post a tab of 4 characters. Or do you need to use <code>\\t</code>?"},{"owner":{"account_id":1929103,"reputation":13972,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"score":0,"creation_date":1419191987,"post_id":27585668,"comment_id":43610032,"body_markdown":"@eckig My desire is to leave the tab characters in the source.  For example, I may wish to load the String from an external source, modify it and write it back.  I don&#39;t want to &quot;replace&quot; the \\t (tab character) with spaces.  Instead, I want to be able to specify (only for TextArea visualization) the tab position.  I am also getting the impression that in the TextArea, it isn&#39;t just that tabs are replaced with 8 spaces ... it seems that a tab visualizes data at the NEXT multiple of 8 spaces.  I want to change &quot;8&quot; to &quot;4&quot; (for example).","body":"@eckig My desire is to leave the tab characters in the source.  For example, I may wish to load the String from an external source, modify it and write it back.  I don&#39;t want to &quot;replace&quot; the \\t (tab character) with spaces.  Instead, I want to be able to specify (only for TextArea visualization) the tab position.  I am also getting the impression that in the TextArea, it isn&#39;t just that tabs are replaced with 8 spaces ... it seems that a tab visualizes data at the NEXT multiple of 8 spaces.  I want to change &quot;8&quot; to &quot;4&quot; (for example)."}],"answers":[{"tags":[],"owner":{"account_id":1929103,"reputation":13972,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1419207405,"creation_date":1419207405,"answer_id":27595205,"question_id":27585668,"body_markdown":"I decided to grunge through the source code of JavaFX to see if I could find an answer and, although I am not an expert in examining such a large amount of code, I seem to have found that the answer is that the tab size is hard-coded to be 8 characters!!\r\n\r\nI found the source file called:\r\n\r\n`com.sun.javafx.text.PrismTextLayout.java`\r\n\r\nwhich has a method called `getTabAdvance` which returns a fixed value of &quot;8&quot;.  See the following:\r\n\r\n![enter image description here][1]\r\n\r\nThis is most disappointing to me but it is what it is.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/d0A4B.png","title":"Setting the tab spacing/size visualization for a JavaFX TextArea","body":"<p>I decided to grunge through the source code of JavaFX to see if I could find an answer and, although I am not an expert in examining such a large amount of code, I seem to have found that the answer is that the tab size is hard-coded to be 8 characters!!</p>\n\n<p>I found the source file called:</p>\n\n<p><code>com.sun.javafx.text.PrismTextLayout.java</code></p>\n\n<p>which has a method called <code>getTabAdvance</code> which returns a fixed value of \"8\".  See the following:</p>\n\n<p><img src=\"https://i.stack.imgur.com/d0A4B.png\" alt=\"enter image description here\"></p>\n\n<p>This is most disappointing to me but it is what it is.</p>\n"},{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648862451,"creation_date":1607293196,"answer_id":65173675,"question_id":27585668,"body_markdown":"After the implementation of [JDK-8130738][1] in JavaFX 14, you can now change the advance of a tab character to any multiple of &#39;spaceAdvance&#39;.  `Text` and `TextFlow` now have a `tabSize` property and the CSS supports `-fx-tab-size`\r\n\r\nSince [`TextAreaSkin`][2] implements the `TextArea` using `Text` nodes, you can change the tab size of the `TextArea` with CSS.\r\n\r\nExample:\r\n\r\n```\r\npackage example.stackoverflow;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.StandardOpenOption;\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class TextAreaTabs extends Application {\r\n    private Scene scene;\r\n    private File cssFile;\r\n    \r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        var slider = new Slider(1, 50, 8);\r\n        slider.valueProperty().addListener((obs, old, newValue) -&gt; {\r\n            try {\r\n                updateTabSize(newValue.intValue());\r\n            } catch (IOException ex) {\r\n                System.err.println(&quot;Can&#39;t write CSS file.&quot;);\r\n            }\r\n        });\r\n        var ta = new TextArea(&quot;This is a test\\n\\tafter a tab\\n\\t1\\t2\\n&quot;);\r\n        ta.setFont(Font.font(&quot;Monospaced&quot;));\r\n        var vbox = new VBox(8,new HBox(8,new Label(&quot;Tab size:&quot;),slider),ta);\r\n        vbox.setPadding(new Insets(8));\r\n        scene = new Scene(vbox);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;TextArea Tab Experiment&quot;);\r\n        primaryStage.show();\r\n    }\r\n\r\n    private void updateTabSize(int spaces) throws IOException {\r\n        File oldFile = cssFile;\r\n        cssFile = File.createTempFile(&quot;textareatabs&quot;, &quot;.css&quot;);\r\n        cssFile.deleteOnExit();\r\n        Files.writeString(cssFile.toPath(), &quot;&quot;&quot;\r\n                Text {\r\n                  -fx-tab-size: %d;\r\n                }\r\n                &quot;&quot;&quot;.formatted(spaces), StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\r\n        String confStyleSheet = cssFile.toURI().toString();\r\n        scene.getStylesheets().setAll(confStyleSheet);\r\n        if (oldFile != null) {\r\n            oldFile.delete();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8130738\r\n  [2]: https://github.com/openjdk/jfx/blob/b0f2521219efc1b0d0c45088736d5105712bc2c9/modules/javafx.controls/src/main/java/javafx/scene/control/skin/TextAreaSkin.java#L1038","title":"Setting the tab spacing/size visualization for a JavaFX TextArea","body":"<p>After the implementation of <a href=\"https://bugs.openjdk.java.net/browse/JDK-8130738\" rel=\"nofollow noreferrer\">JDK-8130738</a> in JavaFX 14, you can now change the advance of a tab character to any multiple of 'spaceAdvance'.  <code>Text</code> and <code>TextFlow</code> now have a <code>tabSize</code> property and the CSS supports <code>-fx-tab-size</code></p>\n<p>Since <a href=\"https://github.com/openjdk/jfx/blob/b0f2521219efc1b0d0c45088736d5105712bc2c9/modules/javafx.controls/src/main/java/javafx/scene/control/skin/TextAreaSkin.java#L1038\" rel=\"nofollow noreferrer\"><code>TextAreaSkin</code></a> implements the <code>TextArea</code> using <code>Text</code> nodes, you can change the tab size of the <code>TextArea</code> with CSS.</p>\n<p>Example:</p>\n<pre><code>package example.stackoverflow;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.StandardOpenOption;\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class TextAreaTabs extends Application {\n    private Scene scene;\n    private File cssFile;\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        var slider = new Slider(1, 50, 8);\n        slider.valueProperty().addListener((obs, old, newValue) -&gt; {\n            try {\n                updateTabSize(newValue.intValue());\n            } catch (IOException ex) {\n                System.err.println(&quot;Can't write CSS file.&quot;);\n            }\n        });\n        var ta = new TextArea(&quot;This is a test\\n\\tafter a tab\\n\\t1\\t2\\n&quot;);\n        ta.setFont(Font.font(&quot;Monospaced&quot;));\n        var vbox = new VBox(8,new HBox(8,new Label(&quot;Tab size:&quot;),slider),ta);\n        vbox.setPadding(new Insets(8));\n        scene = new Scene(vbox);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;TextArea Tab Experiment&quot;);\n        primaryStage.show();\n    }\n\n    private void updateTabSize(int spaces) throws IOException {\n        File oldFile = cssFile;\n        cssFile = File.createTempFile(&quot;textareatabs&quot;, &quot;.css&quot;);\n        cssFile.deleteOnExit();\n        Files.writeString(cssFile.toPath(), &quot;&quot;&quot;\n                Text {\n                  -fx-tab-size: %d;\n                }\n                &quot;&quot;&quot;.formatted(spaces), StandardOpenOption.CREATE, StandardOpenOption.TRUNCATE_EXISTING);\n        String confStyleSheet = cssFile.toURI().toString();\n        scene.getStylesheets().setAll(confStyleSheet);\n        if (oldFile != null) {\n            oldFile.delete();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648936023,"creation_date":1648935490,"answer_id":71721347,"question_id":27585668,"body_markdown":"Here&#39;s a version of Scotts Proggy adapted to use the new JavaFX 17 Data-URI&#39;s:\r\n\r\nP.S. I use the Azul Zulu openJDK 17 JavaFX Runtime Bundle&lt;br&gt;\r\nYou can get that here:&lt;br&gt;\r\nhttps://www.azul.com/downloads/?package=jdk#download-openjdk\r\n\r\n    package example.stackoverflow;\r\n    \r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    \r\n    import java.util.Base64;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.text.Font;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TextAreaTabs extends Application {\r\n    \r\n    \tprivate static final String CSS_TABSIZE_N  = &quot;Text {-fx-tab-size: %d}&quot;;\r\n    \r\n    \tprivate static final char   TAB            = &#39;\\t&#39;;\r\n    \tprivate static final char   NEWLINE        = &#39;\\n&#39;;\r\n    \r\n    \tprivate static final String TABBED_TEXT    = &quot;This is a test&quot; + NEWLINE + TAB + &quot;after a tab&quot; + NEWLINE + TAB + &quot;1&quot; + TAB + &quot;2&quot;;\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    \tprivate Scene scene;\r\n    \r\n    \t@Override\r\n    \tpublic void start(final Stage primaryStage) {\r\n    \r\n    \t\tfinal var sliderLabel = new Label(&quot;Tab size:&quot;);\r\n    \r\n    \t\tfinal var slider      = new Slider(1, 50, 8);\r\n    \t\t;         slider.valueProperty().addListener((obs, old, newValue) -&gt; updateTabSize(newValue.intValue()));\r\n    \r\n    \t\tfinal var textArea = new TextArea(TABBED_TEXT);\r\n    \t\t;         textArea.setFont(Font.font(&quot;Monospaced&quot;));\r\n    \r\n    \t\tfinal var vBox = new VBox(8, new HBox(8, sliderLabel, slider), textArea);\r\n    \t\t;         vBox.setPadding(new Insets(8));\r\n    \r\n    \t\tscene = new Scene(vBox);\r\n    \r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.setTitle(&quot;TextArea Tab Experiment&quot;);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \r\n    \tprivate void updateTabSize(final int tabSize) {\r\n    \r\n    \t\tfinal var styleText   = CSS_TABSIZE_N.formatted(tabSize);\r\n    \t\tfinal var styleBase64 = Base64.getUrlEncoder().encodeToString(styleText.getBytes(UTF_8));\r\n    \t\tfinal var url         = &quot;data:text/css;charset=UTF-8;base64,&quot; + styleBase64;\r\n    \r\n    \t\tSystem.out.println(styleText + TAB + &quot; -&gt; &quot; + url);\r\n    \r\n    \t\tscene.getStylesheets().setAll(url);\r\n    \t}\r\n    }\r\n\r\n","title":"Setting the tab spacing/size visualization for a JavaFX TextArea","body":"<p>Here's a version of Scotts Proggy adapted to use the new JavaFX 17 Data-URI's:</p>\n<p>P.S. I use the Azul Zulu openJDK 17 JavaFX Runtime Bundle<br>\nYou can get that here:<br>\n<a href=\"https://www.azul.com/downloads/?package=jdk#download-openjdk\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?package=jdk#download-openjdk</a></p>\n<pre><code>package example.stackoverflow;\n\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\nimport java.util.Base64;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class TextAreaTabs extends Application {\n\n    private static final String CSS_TABSIZE_N  = &quot;Text {-fx-tab-size: %d}&quot;;\n\n    private static final char   TAB            = '\\t';\n    private static final char   NEWLINE        = '\\n';\n\n    private static final String TABBED_TEXT    = &quot;This is a test&quot; + NEWLINE + TAB + &quot;after a tab&quot; + NEWLINE + TAB + &quot;1&quot; + TAB + &quot;2&quot;;\n\n    public static void main(final String[] args) {\n        launch(args);\n    }\n\n    private Scene scene;\n\n    @Override\n    public void start(final Stage primaryStage) {\n\n        final var sliderLabel = new Label(&quot;Tab size:&quot;);\n\n        final var slider      = new Slider(1, 50, 8);\n        ;         slider.valueProperty().addListener((obs, old, newValue) -&gt; updateTabSize(newValue.intValue()));\n\n        final var textArea = new TextArea(TABBED_TEXT);\n        ;         textArea.setFont(Font.font(&quot;Monospaced&quot;));\n\n        final var vBox = new VBox(8, new HBox(8, sliderLabel, slider), textArea);\n        ;         vBox.setPadding(new Insets(8));\n\n        scene = new Scene(vBox);\n\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;TextArea Tab Experiment&quot;);\n        primaryStage.show();\n    }\n\n    private void updateTabSize(final int tabSize) {\n\n        final var styleText   = CSS_TABSIZE_N.formatted(tabSize);\n        final var styleBase64 = Base64.getUrlEncoder().encodeToString(styleText.getBytes(UTF_8));\n        final var url         = &quot;data:text/css;charset=UTF-8;base64,&quot; + styleBase64;\n\n        System.out.println(styleText + TAB + &quot; -&gt; &quot; + url);\n\n        scene.getStylesheets().setAll(url);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1929103,"reputation":13972,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2278,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27595205,"answer_count":3,"score":4,"last_activity_date":1648936023,"creation_date":1419121462,"question_id":27585668,"body_markdown":"I am using JavaFX 8 and specifically the TextArea control.  In that control I can enter free form text including &quot;tab&quot; characters.  When I enter a tab, the data is spaced in units of 8 characters.  For example.  In the following, the `!` character is where I enter a tab:\r\n\r\n    1234567890123456789012345678901234567890\r\n    !       Data here\r\n    ABC!    Data here\r\n    !!              Data Here\r\n\r\nMy puzzle is how to change the tab spacing/sizing for the visual so that instead of the tab size being 8 characters it will only be 4 characters.\r\n\r\nTo further illustrate, here is an actual screen shot showing tabs in my text area:\r\n\r\n![enter image description here][1]\r\n\r\nI want to leave the data as containing tab characters and not replace tabs with spaces.\r\n\r\nThis Stack Exchange question does not apply as it talks exclusively about changing tabs to space:\r\n\r\nhttps://stackoverflow.com/questions/13773483/javafx-textarea-how-to-set-tabulation-width\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MRae1.png","title":"Setting the tab spacing/size visualization for a JavaFX TextArea","body":"<p>I am using JavaFX 8 and specifically the TextArea control.  In that control I can enter free form text including \"tab\" characters.  When I enter a tab, the data is spaced in units of 8 characters.  For example.  In the following, the <code>!</code> character is where I enter a tab:</p>\n\n<pre><code>1234567890123456789012345678901234567890\n!       Data here\nABC!    Data here\n!!              Data Here\n</code></pre>\n\n<p>My puzzle is how to change the tab spacing/sizing for the visual so that instead of the tab size being 8 characters it will only be 4 characters.</p>\n\n<p>To further illustrate, here is an actual screen shot showing tabs in my text area:</p>\n\n<p><img src=\"https://i.stack.imgur.com/MRae1.png\" alt=\"enter image description here\"></p>\n\n<p>I want to leave the data as containing tab characters and not replace tabs with spaces.</p>\n\n<p>This Stack Exchange question does not apply as it talks exclusively about changing tabs to space:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13773483/javafx-textarea-how-to-set-tabulation-width\">JavaFX TextArea: how to set tabulation width</a></p>\n"},{"tags":["java","lua"],"answers":[{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648935731,"creation_date":1648935731,"answer_id":71721378,"question_id":71721315,"body_markdown":"You appear to be using LuaJ. First, Lua &quot;chunks&quot; are just special functions which get their arguments in the `...` vararg. `hello.lua` might look as follows:\r\n\r\n```lua\r\nlocal arg1, arg2 = ...\r\nprint(&quot;arg1&quot;, arg1, &quot;arg2&quot;, arg2)\r\n```\r\n\r\nUsing Lua&#39;s `loadfile`, you could pass arguments simply as function arguments when executing the loaded chunk:\r\n\r\n```lua\r\nlocal chunk = assert(loadfile&quot;hello.lua&quot;) -- compile &amp; load the file, do not run it\r\nchunk(&quot;first arg&quot;, &quot;second arg&quot;) -- run the file with two args\r\n```\r\n\r\nYour current Java code calls `chunk.call()` without any arguments, which would be equivalent to `chunk()` in Lua. You can use the [`invoke`](http://luaj.org/luaj/3.0/api/org/luaj/vm2/LuaValue.html#invoke(org.luaj.vm2.LuaValue[])) method to pass a list of `LuaValue` arguments:\r\n\r\nJust replace `chunk.call();` with\r\n```java\r\nchunk.invoke(new LuaValue[] {LuaValue.valueOf(&quot;first argument&quot;), LuaValue.valueOf(&quot;second argument&quot;)});\r\n```\r\n\r\nto invoke the chunk with two arguments equivalent to the invokation in the above Lua example.","title":"Pass command line arguments in lua using java","body":"<p>You appear to be using LuaJ. First, Lua &quot;chunks&quot; are just special functions which get their arguments in the <code>...</code> vararg. <code>hello.lua</code> might look as follows:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>local arg1, arg2 = ...\nprint(&quot;arg1&quot;, arg1, &quot;arg2&quot;, arg2)\n</code></pre>\n<p>Using Lua's <code>loadfile</code>, you could pass arguments simply as function arguments when executing the loaded chunk:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>local chunk = assert(loadfile&quot;hello.lua&quot;) -- compile &amp; load the file, do not run it\nchunk(&quot;first arg&quot;, &quot;second arg&quot;) -- run the file with two args\n</code></pre>\n<p>Your current Java code calls <code>chunk.call()</code> without any arguments, which would be equivalent to <code>chunk()</code> in Lua. You can use the <a href=\"http://luaj.org/luaj/3.0/api/org/luaj/vm2/LuaValue.html#invoke(org.luaj.vm2.LuaValue%5B%5D)\" rel=\"nofollow noreferrer\"><code>invoke</code></a> method to pass a list of <code>LuaValue</code> arguments:</p>\n<p>Just replace <code>chunk.call();</code> with</p>\n<pre class=\"lang-java prettyprint-override\"><code>chunk.invoke(new LuaValue[] {LuaValue.valueOf(&quot;first argument&quot;), LuaValue.valueOf(&quot;second argument&quot;)});\n</code></pre>\n<p>to invoke the chunk with two arguments equivalent to the invokation in the above Lua example.</p>\n"}],"owner":{"account_id":3904357,"reputation":76,"user_id":3231408,"accept_rate":50,"display_name":"praveen0894"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71721378,"answer_count":1,"score":0,"last_activity_date":1648935731,"creation_date":1648935029,"question_id":71721315,"body_markdown":"I am trying to trigger lua script from java using below code and it is working fine.\r\n\r\n    Globals globals = JsePlatform.standardGlobals();\r\n    LuaValue chunk = globals.loadfile(&quot;com/example/hello.lua&quot;);\r\n    chunk.call();\r\n\r\nNow I want to pass command line arguments to my lua script, can someone help mw with the code how to pass command line argument to lua file from java.","title":"Pass command line arguments in lua using java","body":"<p>I am trying to trigger lua script from java using below code and it is working fine.</p>\n<pre><code>Globals globals = JsePlatform.standardGlobals();\nLuaValue chunk = globals.loadfile(&quot;com/example/hello.lua&quot;);\nchunk.call();\n</code></pre>\n<p>Now I want to pass command line arguments to my lua script, can someone help mw with the code how to pass command line argument to lua file from java.</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":2991803,"reputation":1270,"user_id":2539243,"accept_rate":12,"display_name":"Apurva Kolapkar"},"score":1,"creation_date":1624761599,"post_id":68147519,"comment_id":120444344,"body_markdown":"Can you please share crash report here?","body":"Can you please share crash report here?"}],"answers":[{"tags":[],"owner":{"account_id":6697492,"reputation":1213,"user_id":5165107,"display_name":"CodeWithVikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624762573,"creation_date":1624762238,"answer_id":68147593,"question_id":68147519,"body_markdown":"You must be getting compile time error\r\n\r\n `onClick handler method name cannot contain the character &#39;(&#39;` in line `android:onClick=&quot;submit()&quot;`.\r\n\r\nAnd you might be getting you UI not visible as  `setContentView(R.layout.main)` inside button click callback. \r\n  \r\n\r\n    public void submit(View view){\r\n            setContentView(R.layout.main);\r\n            TextView tv1 = (TextView)findViewById(R.id.mainTextView);\r\n            tv1.setText(&quot;Clicked&quot;);\r\n        }\r\n\r\nYou must set this in  a proper Activity lifecycle method viz in `OnCreateView()`.Something like this :\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n        }\r\n\r\n***Happy Coding***","title":"Android button onclick method isn&#39;t working","body":"<p>You must be getting compile time error</p>\n<p><code>onClick handler method name cannot contain the character '('</code> in line <code>android:onClick=&quot;submit()&quot;</code>.</p>\n<p>And you might be getting you UI not visible as  <code>setContentView(R.layout.main)</code> inside button click callback.</p>\n<pre><code>public void submit(View view){\n        setContentView(R.layout.main);\n        TextView tv1 = (TextView)findViewById(R.id.mainTextView);\n        tv1.setText(&quot;Clicked&quot;);\n    }\n</code></pre>\n<p>You must set this in  a proper Activity lifecycle method viz in <code>OnCreateView()</code>.Something like this :</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    }\n</code></pre>\n<p><em><strong>Happy Coding</strong></em></p>\n"},{"tags":[],"owner":{"account_id":17443340,"reputation":641,"user_id":12645199,"display_name":"Anirudhdhsinh Jadeja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624763178,"creation_date":1624763178,"answer_id":68147648,"question_id":68147519,"body_markdown":"The `onClick` Attribute can&#39;t parse the values which contains special characters. You have used the &#39;(&#39; and &#39;)&#39;. which is valid java. It cannot be used in XML Attributes. \r\n\r\nwrite only clear name in xml attritube like,\r\n```\r\n...\r\nandroid:onClick=&quot;submit&quot;\r\n...\r\n```\r\nAnd then create a method inside the `MainActivity.java`. you can press ALT+ENTER on the method name in XML attribute`&quot;submit&quot;`, which will create  method for you.\r\n\r\nif this is not working then confirm that your button is initialized. App crash happens because of unintialized components too.\r\n\r\nOr you can use `setOnClickListener` method in java file .\r\n\r\n```\r\n...\r\nButton btn; // This variable can be global or local as per your need\r\n\r\nbtn = findViewById(R.id.submitButton);\r\n\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(&quot;Button&quot;,&quot;CLicked..&quot;);\r\n            }\r\n        });\r\n\r\n...\r\n```\r\n\r\n","title":"Android button onclick method isn&#39;t working","body":"<p>The <code>onClick</code> Attribute can't parse the values which contains special characters. You have used the '(' and ')'. which is valid java. It cannot be used in XML Attributes.</p>\n<p>write only clear name in xml attritube like,</p>\n<pre><code>...\nandroid:onClick=&quot;submit&quot;\n...\n</code></pre>\n<p>And then create a method inside the <code>MainActivity.java</code>. you can press ALT+ENTER on the method name in XML attribute<code>&quot;submit&quot;</code>, which will create  method for you.</p>\n<p>if this is not working then confirm that your button is initialized. App crash happens because of unintialized components too.</p>\n<p>Or you can use <code>setOnClickListener</code> method in java file .</p>\n<pre><code>...\nButton btn; // This variable can be global or local as per your need\n\nbtn = findViewById(R.id.submitButton);\n\nbtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.d(&quot;Button&quot;,&quot;CLicked..&quot;);\n            }\n        });\n\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624765286,"creation_date":1624765286,"answer_id":68147786,"question_id":68147519,"body_markdown":"First, move your `setContentView` inside the `onCreate`:\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n        }\r\n\r\nSecond, write your submit method inside the class:\r\n\r\n    public void submit(View view) {\r\n            TextView tv1 = (TextView)findViewById(R.id.mainTextView);\r\n            tv1.setText(&quot;Clicked&quot;);\r\n        }","title":"Android button onclick method isn&#39;t working","body":"<p>First, move your <code>setContentView</code> inside the <code>onCreate</code>:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    }\n</code></pre>\n<p>Second, write your submit method inside the class:</p>\n<pre><code>public void submit(View view) {\n        TextView tv1 = (TextView)findViewById(R.id.mainTextView);\n        tv1.setText(&quot;Clicked&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648935426,"creation_date":1648934883,"answer_id":71721300,"question_id":68147519,"body_markdown":"In your code , \r\n\r\n    &lt;Button \r\n            android:id=&quot;@+id/submitButton&quot;\r\n            android:textColor=&quot;@color/colorPrimary&quot;\r\n            android:text=&quot;Click&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; \r\n            android:onClick=&quot;submit()&quot;/&gt;\r\nyou can see a red line under **submit()**, if you keep mouse on it, you can see the description : \r\n\r\n`onClick handler method name cannot contain the character &#39;(&#39;`\r\n\r\n\r\nafter removing them, maybe again see a **warning message**:\r\n\r\n    Use databinding or explicit wiring of click listener in code\r\n\r\nyou have 3 options, first  `tools:ignore=&quot;UsingOnClickInXml&quot;` or use `setOnClickListener` in your activity and the last one `data binding`\r\n\r\n \r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n          name=&quot;listener&quot;\r\n          type=&quot;android.view.View.OnClickListener&quot; /&gt;\r\n    &lt;/data&gt;\r\n\r\n","title":"Android button onclick method isn&#39;t working","body":"<p>In your code ,</p>\n<pre><code>&lt;Button \n        android:id=&quot;@+id/submitButton&quot;\n        android:textColor=&quot;@color/colorPrimary&quot;\n        android:text=&quot;Click&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; \n        android:onClick=&quot;submit()&quot;/&gt;\n</code></pre>\n<p>you can see a red line under <strong>submit()</strong>, if you keep mouse on it, you can see the description :</p>\n<p><code>onClick handler method name cannot contain the character '('</code></p>\n<p>after removing them, maybe again see a <strong>warning message</strong>:</p>\n<pre><code>Use databinding or explicit wiring of click listener in code\n</code></pre>\n<p>you have 3 options, first  <code>tools:ignore=&quot;UsingOnClickInXml&quot;</code> or use <code>setOnClickListener</code> in your activity and the last one <code>data binding</code></p>\n<pre><code>&lt;data&gt;\n    &lt;variable\n      name=&quot;listener&quot;\n      type=&quot;android.view.View.OnClickListener&quot; /&gt;\n&lt;/data&gt;\n</code></pre>\n"}],"owner":{"account_id":20725358,"reputation":165,"user_id":15218722,"display_name":"Sunlight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1648935426,"creation_date":1624761241,"question_id":68147519,"body_markdown":"I have the following piece of code&lt;br&gt;\r\n**Xml**:\r\n```\r\n&lt;TextView\r\n\t\tandroid:id=&quot;@+id/mainTextView&quot;\r\n\t\tandroid:textSize=&quot;30sp&quot;\r\n        android:text=&quot;@string/hello_msg&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n&lt;Button \r\n\t\tandroid:id=&quot;@+id/submitButton&quot;\r\n\t\tandroid:textColor=&quot;@color/colorPrimary&quot;\r\n\t\tandroid:text=&quot;Click&quot;\r\n\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot; \r\n\t\tandroid:onClick=&quot;submit()&quot;/&gt;\r\n```\r\n**Java:**\r\n```\r\npublic void submit(View view){\r\n\t\tsetContentView(R.layout.main);\r\n\t\tTextView tv1 = (TextView)findViewById(R.id.mainTextView);\r\n\t\ttv1.setText(&quot;Clicked&quot;);\r\n\t}\r\n```\r\n\r\nEvery time I tap the button my app crashes. How to fix it now?\r\n","title":"Android button onclick method isn&#39;t working","body":"<p>I have the following piece of code<br>\n<strong>Xml</strong>:</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/mainTextView&quot;\n        android:textSize=&quot;30sp&quot;\n        android:text=&quot;@string/hello_msg&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;Button \n        android:id=&quot;@+id/submitButton&quot;\n        android:textColor=&quot;@color/colorPrimary&quot;\n        android:text=&quot;Click&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; \n        android:onClick=&quot;submit()&quot;/&gt;\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>public void submit(View view){\n        setContentView(R.layout.main);\n        TextView tv1 = (TextView)findViewById(R.id.mainTextView);\n        tv1.setText(&quot;Clicked&quot;);\n    }\n</code></pre>\n<p>Every time I tap the button my app crashes. How to fix it now?</p>\n"},{"tags":["java","eclipse","maven","jar","runnable"],"comments":[{"owner":{"account_id":523089,"reputation":71,"user_id":3529752,"display_name":"kow"},"score":0,"creation_date":1411819640,"post_id":26074463,"comment_id":40853800,"body_markdown":"http://stackoverflow.com/questions/15749192/how-do-i-load-a-file-from-resource-folder may perhaps help you?","body":"<a href=\"http://stackoverflow.com/questions/15749192/how-do-i-load-a-file-from-resource-folder\" title=\"how do i load a file from resource folder\">stackoverflow.com/questions/15749192/&hellip;</a> may perhaps help you?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1411820397,"post_id":26074463,"comment_id":40853995,"body_markdown":"[This answer](http://stackoverflow.com/a/26058779/2587435) doesn&#39;t use maven, but you are experiencing the same problem. It gives a decent explanation and solutions","body":"<a href=\"http://stackoverflow.com/a/26058779/2587435\">This answer</a> doesn&#39;t use maven, but you are experiencing the same problem. It gives a decent explanation and solutions"}],"answers":[{"tags":[],"owner":{"account_id":3200719,"reputation":7061,"user_id":2702809,"display_name":"Smrutiranjan Sahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411821928,"creation_date":1411821928,"answer_id":26074818,"question_id":26074463,"body_markdown":"Use maven-assembly-plugin:\r\nReference:\r\nhttps://stackoverflow.com/questions/2022032/building-a-runnable-jar-with-maven-2\r\nhttp://www.javavids.com/video/how-to-create-runnable-jar-file-with-maven.html","title":"How to create runnable jar with resources in Eclipse from Maven project","body":"<p>Use maven-assembly-plugin:\nReference:\n<a href=\"https://stackoverflow.com/questions/2022032/building-a-runnable-jar-with-maven-2\">Building a runnable jar with Maven 2</a>\n<a href=\"http://www.javavids.com/video/how-to-create-runnable-jar-file-with-maven.html\" rel=\"nofollow noreferrer\">http://www.javavids.com/video/how-to-create-runnable-jar-file-with-maven.html</a></p>\n"},{"tags":[],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648934781,"creation_date":1648934781,"answer_id":71721293,"question_id":26074463,"body_markdown":"Maven&#39;s default strategy is to copy resources in a separate &quot;resources&quot; folder and to add that folder to the class path.\r\n\r\nWhen you import a Maven project, Eclipse is configured to treat the “project/src/main/resources” folder as a source folder but to exclude everything from being exported **. The temporary output folder is “project/target/classes”. You can see this in the java build path.\r\nSo, when you are inside Eclipse, resources are copied to the right temporary folder and everything works fine.\r\nWhen you ask Eclipse to build a runnable JAR, it copies resources to the “resources” folder but does not add this folder to the classpath. You can see this if you open the JAR. \r\n\r\nYou have three solutions (from better to worst): \r\n1)\tUse maven to build your runnable JAR. See: https://stackoverflow.com/questions/2022032/building-a-runnable-jar-with-maven-2 \r\n2)\tEdit Eclipse’s build path to remove the “**” exclusion. This change will be overwritten every time you sync with Maven\r\n3)\tMove your resources. See: https://stackoverflow.com/questions/43431705/change-mavens-export-resource-directory \r\n","title":"How to create runnable jar with resources in Eclipse from Maven project","body":"<p>Maven's default strategy is to copy resources in a separate &quot;resources&quot; folder and to add that folder to the class path.</p>\n<p>When you import a Maven project, Eclipse is configured to treat the “project/src/main/resources” folder as a source folder but to exclude everything from being exported **. The temporary output folder is “project/target/classes”. You can see this in the java build path.\nSo, when you are inside Eclipse, resources are copied to the right temporary folder and everything works fine.\nWhen you ask Eclipse to build a runnable JAR, it copies resources to the “resources” folder but does not add this folder to the classpath. You can see this if you open the JAR.</p>\n<p>You have three solutions (from better to worst):</p>\n<ol>\n<li>Use maven to build your runnable JAR. See: <a href=\"https://stackoverflow.com/questions/2022032/building-a-runnable-jar-with-maven-2\">Building a runnable jar with Maven 2</a></li>\n<li>Edit Eclipse’s build path to remove the “**” exclusion. This change will be overwritten every time you sync with Maven</li>\n<li>Move your resources. See: <a href=\"https://stackoverflow.com/questions/43431705/change-mavens-export-resource-directory\">Change maven&#39;s export resource directory</a></li>\n</ol>\n"}],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4344,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1648934781,"creation_date":1411819317,"question_id":26074463,"body_markdown":"I am trying to package a Java project into a runnable jar using Eclipse (version Kepler SR2). The project is using Maven (which has been fored onto me and I don&#39;t know much about it). The problem is that the project runs fine within Eclipse, but after export to Jar it doesn&#39;t find any of the required resources anymore. \r\n\r\nHere is the folder structure: \r\n\r\n    +src\r\n      +main\r\n         +java\r\n           &lt;packages with source code&gt;\r\n         +resources\r\n           &lt;folders with static resources&gt;\r\n      +test\r\n         +java\r\n           &lt;unit test classes&gt;\r\n\r\nI have also added the resource folder to the build path. \r\n\r\nThe resources are loaded using \r\n\r\n    File myFile = new File(getClass().getClassLoader().getResource(&quot;resourcePath&quot;).getPath());\r\n\r\nThis line works perfectly fine when executing the program from Eclipse, but it fails with an NPE when using the executable jar that I created with &quot;Export&gt;Java&gt;Runnable Jar&quot;. \r\n\r\nI have already to use the standard Jar export with the options &quot;Export generated class files and resources&quot; and &quot;Add directory entries&quot; checked. This leads to the same problem, though. \r\n\r\nWhat do I need to do in order to correctly export the resources into the Jar? \r\n\r\nThanks!\r\n\r\nMartin","title":"How to create runnable jar with resources in Eclipse from Maven project","body":"<p>I am trying to package a Java project into a runnable jar using Eclipse (version Kepler SR2). The project is using Maven (which has been fored onto me and I don't know much about it). The problem is that the project runs fine within Eclipse, but after export to Jar it doesn't find any of the required resources anymore. </p>\n\n<p>Here is the folder structure: </p>\n\n<pre><code>+src\n  +main\n     +java\n       &lt;packages with source code&gt;\n     +resources\n       &lt;folders with static resources&gt;\n  +test\n     +java\n       &lt;unit test classes&gt;\n</code></pre>\n\n<p>I have also added the resource folder to the build path. </p>\n\n<p>The resources are loaded using </p>\n\n<pre><code>File myFile = new File(getClass().getClassLoader().getResource(\"resourcePath\").getPath());\n</code></pre>\n\n<p>This line works perfectly fine when executing the program from Eclipse, but it fails with an NPE when using the executable jar that I created with \"Export>Java>Runnable Jar\". </p>\n\n<p>I have already to use the standard Jar export with the options \"Export generated class files and resources\" and \"Add directory entries\" checked. This leads to the same problem, though. </p>\n\n<p>What do I need to do in order to correctly export the resources into the Jar? </p>\n\n<p>Thanks!</p>\n\n<p>Martin</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1648935346,"post_id":71721207,"comment_id":126750065,"body_markdown":"In general, the Javadoc tool doesn&#39;t allow you to do this.","body":"In general, the Javadoc tool doesn&#39;t allow you to do this."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648934403,"creation_date":1648934403,"answer_id":71721252,"question_id":71721207,"body_markdown":"Java type erasure is going to require you pass a `Class&lt;T&gt;` somewhere in order to get a new `T` instance. Java class names start with a capital letter. As for your Javadoc, you could do something like `@returns a new T instance`. For example,\r\n\r\n\tpublic class MyClass&lt;T&gt; {\r\n\t\tprivate Class&lt;T&gt; cls;\r\n\t\tpublic MyClass(Class&lt;T&gt; cls) {\r\n\t\t\tthis.cls = cls;\r\n\t\t}\r\n\t\t\r\n\t    /**\r\n\t     * @returns a new T instance.\r\n\t     * @throws IllegalAccessException \r\n\t     * @throws InstantiationException \r\n\t     * @throws SecurityException \r\n\t     * @throws NoSuchMethodException \r\n\t     * @throws InvocationTargetException \r\n\t     * @throws IllegalArgumentException \r\n\t    */\r\n\t    public T getT() throws InstantiationException, \r\n\t    \t    IllegalAccessException, IllegalArgumentException, \r\n\t    \t    InvocationTargetException, NoSuchMethodException, \r\n\t    \t    SecurityException {\r\n\t        return cls.getConstructor().newInstance();\r\n\t    }\r\n\t}","title":"How do I include the name of type parameter T in the summary of a generic method?","body":"<p>Java type erasure is going to require you pass a <code>Class&lt;T&gt;</code> somewhere in order to get a new <code>T</code> instance. Java class names start with a capital letter. As for your Javadoc, you could do something like <code>@returns a new T instance</code>. For example,</p>\n<pre><code>public class MyClass&lt;T&gt; {\n    private Class&lt;T&gt; cls;\n    public MyClass(Class&lt;T&gt; cls) {\n        this.cls = cls;\n    }\n    \n    /**\n     * @returns a new T instance.\n     * @throws IllegalAccessException \n     * @throws InstantiationException \n     * @throws SecurityException \n     * @throws NoSuchMethodException \n     * @throws InvocationTargetException \n     * @throws IllegalArgumentException \n    */\n    public T getT() throws InstantiationException, \n            IllegalAccessException, IllegalArgumentException, \n            InvocationTargetException, NoSuchMethodException, \n            SecurityException {\n        return cls.getConstructor().newInstance();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13554576,"reputation":31,"user_id":9778464,"display_name":"SteptimusHeap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648934403,"creation_date":1648933986,"question_id":71721207,"body_markdown":"I want to do something like:\r\n\r\n    public class myClass&lt;T&gt; {\r\n        /**\r\n        returns a {class name of T}\r\n        */\r\n        public T getT() {\r\n            return new T();\r\n        }\r\n    }\r\n\r\nI would like to replace &quot;{Class Name of T}&quot; with whatever T&#39;s classname is when the description shows up in vscode or another IDE like this:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ReXAI.png","title":"How do I include the name of type parameter T in the summary of a generic method?","body":"<p>I want to do something like:</p>\n<pre><code>public class myClass&lt;T&gt; {\n    /**\n    returns a {class name of T}\n    */\n    public T getT() {\n        return new T();\n    }\n}\n</code></pre>\n<p>I would like to replace &quot;{Class Name of T}&quot; with whatever T's classname is when the description shows up in vscode or another IDE like this:<a href=\"https://i.stack.imgur.com/ReXAI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ReXAI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","combinations"],"comments":[{"owner":{"account_id":12025237,"reputation":376,"user_id":8797413,"display_name":"Aditya Rastogi"},"score":3,"creation_date":1648927523,"post_id":71720479,"comment_id":126748660,"body_markdown":"Does the order matter?","body":"Does the order matter?"},{"owner":{"account_id":1645920,"reputation":1039,"user_id":1517476,"accept_rate":69,"display_name":"Madeline"},"score":0,"creation_date":1648927726,"post_id":71720479,"comment_id":126748699,"body_markdown":"Yes it does. Combinations should always be in the same order as the input string.","body":"Yes it does. Combinations should always be in the same order as the input string."},{"owner":{"account_id":12025237,"reputation":376,"user_id":8797413,"display_name":"Aditya Rastogi"},"score":1,"creation_date":1648927890,"post_id":71720479,"comment_id":126748732,"body_markdown":"I meant, does it matter whether I print a bcd before ab cd or not?","body":"I meant, does it matter whether I print a bcd before ab cd or not?"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":1,"creation_date":1648928652,"post_id":71720479,"comment_id":126748889,"body_markdown":"Looks to me like you want to generate a power set i. e. the set of all sets. Here is a [blog post](https://www.baeldung.com/java-power-set-of-a-set) for an algorithm to get the power set. In order to print `a` before `b` as that information will be lost when using a set you could use Map to map the positions.","body":"Looks to me like you want to generate a power set i. e. the set of all sets. Here is a <a href=\"https://www.baeldung.com/java-power-set-of-a-set\" rel=\"nofollow noreferrer\">blog post</a> for an algorithm to get the power set. In order to print <code>a</code> before <code>b</code> as that information will be lost when using a set you could use Map to map the positions."},{"owner":{"account_id":1645920,"reputation":1039,"user_id":1517476,"accept_rate":69,"display_name":"Madeline"},"score":0,"creation_date":1648929321,"post_id":71720479,"comment_id":126749026,"body_markdown":"@AdityaRastogi, it should always be in the right order as abcd, a bcd, a b cd, a bc d and so on. The letter &#39;a&#39; will always be the first letter, and &#39;b&#39; the second letter and so on.","body":"@AdityaRastogi, it should always be in the right order as abcd, a bcd, a b cd, a bc d and so on. The letter &#39;a&#39; will always be the first letter, and &#39;b&#39; the second letter and so on."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1648929618,"post_id":71720479,"comment_id":126749073,"body_markdown":"(1) `ab` has `a b`. (2) `abcd` has `a b c d`. (3) `abcde` has `a b c d e`. (4) Why does `abc` NOT have `a b c`? Is this an editing error, or is there some other algorithm/logic going on here?","body":"(1) <code>ab</code> has <code>a b</code>. (2) <code>abcd</code> has <code>a b c d</code>. (3) <code>abcde</code> has <code>a b c d e</code>. (4) Why does <code>abc</code> NOT have <code>a b c</code>? Is this an editing error, or is there some other algorithm/logic going on here?"},{"owner":{"account_id":1645920,"reputation":1039,"user_id":1517476,"accept_rate":69,"display_name":"Madeline"},"score":0,"creation_date":1648929659,"post_id":71720479,"comment_id":126749084,"body_markdown":"@Mushroomator, I don&#39;t think I can use sets. As you mentioned I will loose the order by using sets. It has to be in order &#39;a&#39; as a first letter, &#39;b&#39; as second and so on.","body":"@Mushroomator, I don&#39;t think I can use sets. As you mentioned I will loose the order by using sets. It has to be in order &#39;a&#39; as a first letter, &#39;b&#39; as second and so on."},{"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"score":1,"creation_date":1648930163,"post_id":71720479,"comment_id":126749199,"body_markdown":"@Madeline I guess your expected output is wrong.","body":"@Madeline I guess your expected output is wrong."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":1,"creation_date":1648930390,"post_id":71720479,"comment_id":126749243,"body_markdown":"@Madeline [this algorithm](https://www.geeksforgeeks.org/power-set/) to generate the power set should work (and it&#39;s surprisingly simple). It will preserve the order of the characters.","body":"@Madeline <a href=\"https://www.geeksforgeeks.org/power-set/\" rel=\"nofollow noreferrer\">this algorithm</a> to generate the power set should work (and it&#39;s surprisingly simple). It will preserve the order of the characters."},{"owner":{"account_id":1645920,"reputation":1039,"user_id":1517476,"accept_rate":69,"display_name":"Madeline"},"score":0,"creation_date":1648930629,"post_id":71720479,"comment_id":126749285,"body_markdown":"@Idle_Mind, it is recursive relations in combinatorics. You want for example create a list of combination from input=abcd, a list as following:\nabcd\na;bc;d\na;bcd\na;b;cd\na;b;c;d\nab;cd\nab;c;d\nabc;d\nspace, semicolon or komma doesn&#39;t matter \ntotal 8 combinatoins because &#119886;&#119899;=&#119886;&#119899;−1+...+&#119886;1+1 which make 2^(n-1). In this case n is 4.","body":"@Idle_Mind, it is recursive relations in combinatorics. You want for example create a list of combination from input=abcd, a list as following: abcd a;bc;d a;bcd a;b;cd a;b;c;d ab;cd ab;c;d abc;d space, semicolon or komma doesn&#39;t matter  total 8 combinatoins because 𝑎𝑛=𝑎𝑛−1+...+𝑎1+1 which make 2^(n-1). In this case n is 4."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1648930750,"post_id":71720479,"comment_id":126749302,"body_markdown":"Okay. You didn&#39;t answer the question. Should `abc` then produce `a b c`? It doesn&#39;t in your expected output, so we can&#39;t jump to the conclusion that this is a &quot;recursive relations in combinatorics&quot;.","body":"Okay. You didn&#39;t answer the question. Should <code>abc</code> then produce <code>a b c</code>? It doesn&#39;t in your expected output, so we can&#39;t jump to the conclusion that this is a &quot;recursive relations in combinatorics&quot;."},{"owner":{"account_id":1645920,"reputation":1039,"user_id":1517476,"accept_rate":69,"display_name":"Madeline"},"score":0,"creation_date":1648931099,"post_id":71720479,"comment_id":126749366,"body_markdown":"@Idle_Mind, I just found an error in my first text listing combintions. I changed it. Yes, abc should produce a b c.","body":"@Idle_Mind, I just found an error in my first text listing combintions. I changed it. Yes, abc should produce a b c."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1648931574,"post_id":71720479,"comment_id":126749439,"body_markdown":"If the order matters, then you need to eliminate the inconsistencies in the output, like `a bc d` is followed by the `a bcd`; `ab cd e` goes before the `ab c de` and `ab c d e`. Seems like their order need to be the opposite.","body":"If the order matters, then you need to eliminate the inconsistencies in the output, like <code>a bc d</code> is followed by the <code>a bcd</code>; <code>ab cd e</code> goes before the <code>ab c de</code> and <code>ab c d e</code>. Seems like their order need to be the opposite."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648933989,"creation_date":1648933989,"answer_id":71721208,"question_id":71720479,"body_markdown":"The binary counting approach from the link will work, but instead you&#39;ll use the 1s and 0s to determine if a space should be present or not between letters.\r\n\r\nWe count in decimal from zero up to `2^(numLetters - 1) - 1`. When we convert the decimal number to binary, we left pad using zeroes for a total length of `numLetters - 1`.\r\n\r\nFor example, here&#39;s the &quot;correct order&quot; that I&#39;d expect to get the combinations in for `abcde`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWould generating the combinations in this order be acceptable? If so, I&#39;ll post some example code to accomplish this.\r\n\r\n  [1]: https://i.stack.imgur.com/Ckgcx.png","title":"Java or pseudocode for creating text combination","body":"<p>The binary counting approach from the link will work, but instead you'll use the 1s and 0s to determine if a space should be present or not between letters.</p>\n<p>We count in decimal from zero up to <code>2^(numLetters - 1) - 1</code>. When we convert the decimal number to binary, we left pad using zeroes for a total length of <code>numLetters - 1</code>.</p>\n<p>For example, here's the &quot;correct order&quot; that I'd expect to get the combinations in for <code>abcde</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/Ckgcx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ckgcx.png\" alt=\"enter image description here\" /></a></p>\n<p>Would generating the combinations in this order be acceptable? If so, I'll post some example code to accomplish this.</p>\n"}],"owner":{"account_id":1645920,"reputation":1039,"user_id":1517476,"accept_rate":69,"display_name":"Madeline"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1648933989,"creation_date":1648926630,"question_id":71720479,"body_markdown":"I am trying to break a string into combinations as following:\r\n\r\n    If input = ab\r\n    Result of all combinations:\r\n    ab\r\n    a b\r\n    \r\n    If input = abc\r\n    Result of all combinations:\r\n    abc \r\n    a bc\r\n    ab c\r\n    a b c\r\n    \r\n    If input = abcd\r\n    Reslut of all combinations:\r\n    abcd\r\n    a bc d\r\n    a bcd\r\n    a b cd\r\n    a b c d\r\n    ab cd\r\n    ab c d\r\n    abc d\r\n    \r\n    If input = abcde\r\n    Reslut of alla combinations:\r\n    abcde\r\n    a bcde\r\n    a b cde\r\n    a b c de\r\n    a b cd e\r\n    a b c d e\r\n    a bc de\r\n    a bc d e\r\n    a bcd e\r\n    ab cde\r\n    ab cd e\r\n    ab c de\r\n    ab c d e\r\n    abc de\r\n    abc d e\r\n    abcd e\r\n\r\nThis will be very hard manually if the string is as long as abcdefghijklm. Do you have any idea how I can do this programmatically? \r\n\r\n","title":"Java or pseudocode for creating text combination","body":"<p>I am trying to break a string into combinations as following:</p>\n<pre><code>If input = ab\nResult of all combinations:\nab\na b\n\nIf input = abc\nResult of all combinations:\nabc \na bc\nab c\na b c\n\nIf input = abcd\nReslut of all combinations:\nabcd\na bc d\na bcd\na b cd\na b c d\nab cd\nab c d\nabc d\n\nIf input = abcde\nReslut of alla combinations:\nabcde\na bcde\na b cde\na b c de\na b cd e\na b c d e\na bc de\na bc d e\na bcd e\nab cde\nab cd e\nab c de\nab c d e\nabc de\nabc d e\nabcd e\n</code></pre>\n<p>This will be very hard manually if the string is as long as abcdefghijklm. Do you have any idea how I can do this programmatically?</p>\n"},{"tags":["java","android","android-studio","android-tv","screen-rotation"],"comments":[{"owner":{"account_id":485226,"reputation":1434,"user_id":901410,"display_name":"zen_of_kermit"},"score":0,"creation_date":1648932675,"post_id":71720945,"comment_id":126749618,"body_markdown":"Share your XML layout and other source code. Why are you using an Android TV emulator? Android TV always displays in landscape mode.","body":"Share your XML layout and other source code. Why are you using an Android TV emulator? Android TV always displays in landscape mode."},{"owner":{"account_id":19722456,"reputation":103,"user_id":14439683,"display_name":"Alex Advent"},"score":0,"creation_date":1648932737,"post_id":71720945,"comment_id":126749628,"body_markdown":"I have designed app for tv in which I need rotation to portrait mode","body":"I have designed app for tv in which I need rotation to portrait mode"},{"owner":{"account_id":485226,"reputation":1434,"user_id":901410,"display_name":"zen_of_kermit"},"score":0,"creation_date":1648933183,"post_id":71720945,"comment_id":126749690,"body_markdown":"I suggest you read the developer training page on building [Android TV layouts](https://developer.android.com/training/tv/start/layouts). It clearly states that Android TV always displays in landscape mode.","body":"I suggest you read the developer training page on building <a href=\"https://developer.android.com/training/tv/start/layouts\" rel=\"nofollow noreferrer\">Android TV layouts</a>. It clearly states that Android TV always displays in landscape mode."},{"owner":{"account_id":19722456,"reputation":103,"user_id":14439683,"display_name":"Alex Advent"},"score":0,"creation_date":1648934241,"post_id":71720945,"comment_id":126749860,"body_markdown":"is there any way to rotate it to potrait?","body":"is there any way to rotate it to potrait?"},{"owner":{"account_id":9880027,"reputation":383,"user_id":7316430,"display_name":"khushbu"},"score":0,"creation_date":1680082794,"post_id":71720945,"comment_id":133835455,"body_markdown":"Google play console will be reject the app due to the portrait mode added in the any of the screen in the tv application","body":"Google play console will be reject the app due to the portrait mode added in the any of the screen in the tv application"},{"owner":{"account_id":20968916,"reputation":201,"user_id":15406491,"display_name":"Syed Hasan"},"score":0,"creation_date":1689682549,"post_id":71720945,"comment_id":135245573,"body_markdown":"any one got this answer? please help me, stuck in this for above a week.","body":"any one got this answer? please help me, stuck in this for above a week."},{"owner":{"account_id":19722456,"reputation":103,"user_id":14439683,"display_name":"Alex Advent"},"score":0,"creation_date":1689768753,"post_id":71720945,"comment_id":135259519,"body_markdown":"I got the answer Instead of rotating the screen rotate the layout this solve the issue","body":"I got the answer Instead of rotating the screen rotate the layout this solve the issue"}],"owner":{"account_id":19722456,"reputation":103,"user_id":14439683,"display_name":"Alex Advent"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648933572,"creation_date":1648931264,"question_id":71720945,"body_markdown":"I am rotating the screen from landscape to portrait but the screen works abnormally when I do this. The screen size gets small. \r\n\r\nThe app is working fine in android API version 23 but with 29 this issue is occurring.\r\n\r\nhere is my code:\r\n```\r\nsetRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT);\r\n```\r\nBefore Rotation\r\n[![enter image description here][1]][1]\r\n\r\nAfter Rotation\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere is my XML file I am using this app on android tv\r\n\r\n  [1]: https://i.stack.imgur.com/lecpC.png\r\n  [2]: https://i.stack.imgur.com/NFkGZ.png\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;ai.sard.player&quot;&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.software.leanback&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.touchscreen&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:banner=&quot;@mipmap/ic_banner&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;false&quot;\r\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ServerActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.yourActivityRunOnStartup&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.yourActivityRunOnStartup&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.InternetActivity&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;landscape&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.DownloadActivity&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;landscape&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.DisplayActivity&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n        &lt;!--            android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;--&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.PinActivity&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;landscape&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;landscape&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LEANBACK_LAUNCHER&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"Screen get abnormal when I rotate screen using java on Android TV api 29","body":"<p>I am rotating the screen from landscape to portrait but the screen works abnormally when I do this. The screen size gets small.</p>\n<p>The app is working fine in android API version 23 but with 29 this issue is occurring.</p>\n<p>here is my code:</p>\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_REVERSE_PORTRAIT);\n</code></pre>\n<p>Before Rotation\n<a href=\"https://i.stack.imgur.com/lecpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lecpC.png\" alt=\"enter image description here\" /></a></p>\n<p>After Rotation\n<a href=\"https://i.stack.imgur.com/NFkGZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NFkGZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my XML file I am using this app on android tv</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;uses-feature\n    android:name=&quot;android.software.leanback&quot;\n    android:required=&quot;false&quot; /&gt;\n&lt;uses-feature\n    android:name=&quot;android.hardware.touchscreen&quot;\n    android:required=&quot;false&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.DISABLE_KEYGUARD&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:banner=&quot;@mipmap/ic_banner&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;false&quot;\n    android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n    &lt;activity\n        android:name=&quot;.ServerActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n\n    &lt;receiver\n        android:name=&quot;.yourActivityRunOnStartup&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;activity\n        android:name=&quot;.yourActivityRunOnStartup&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.InternetActivity&quot;\n        android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;landscape&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.DownloadActivity&quot;\n        android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;landscape&quot;/&gt;\n    &lt;activity\n        android:name=&quot;.DisplayActivity&quot;\n        android:exported=&quot;false&quot;/&gt;\n    &lt;!--            android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;--&gt;\n\n    &lt;activity\n        android:name=&quot;.PinActivity&quot;\n        android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;landscape&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:configChanges=&quot;orientation|screenSize|keyboardHidden&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;landscape&quot;\n        android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LEANBACK_LAUNCHER&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;meta-data\n        android:name=&quot;preloaded_fonts&quot;\n        android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n\n"},{"tags":["java","spring","spring-boot","testing","junit"],"comments":[{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1557400297,"post_id":56055970,"comment_id":98756650,"body_markdown":"For integration test, you would need the app running, right? Hence you would require the web environment for the spring boot app to run. Or am I not understanding your query right?","body":"For integration test, you would need the app running, right? Hence you would require the web environment for the spring boot app to run. Or am I not understanding your query right?"},{"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1557400838,"post_id":56055970,"comment_id":98756948,"body_markdown":"But repositories does not require the web app. I think I only need to pass an ApplicationContext, but I don&#39;t know how.","body":"But repositories does not require the web app. I think I only need to pass an ApplicationContext, but I don&#39;t know how."},{"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1557411748,"post_id":56055970,"comment_id":98763291,"body_markdown":"@MadhuBhat I updated the question","body":"@MadhuBhat I updated the question"},{"owner":{"account_id":4148736,"reputation":2613,"user_id":3401778,"display_name":"nortontgueno"},"score":0,"creation_date":1557412079,"post_id":56055970,"comment_id":98763474,"body_markdown":"What is the reason for `java.lang.IllegalStateException: Failed to load ApplicationContext`? Have you configured a test datasource and in memory database or something?","body":"What is the reason for <code>java.lang.IllegalStateException: Failed to load ApplicationContext</code>? Have you configured a test datasource and in memory database or something?"},{"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1557412239,"post_id":56055970,"comment_id":98763577,"body_markdown":"@ngueno Yes I configured a test datasource in a test application.config, but it&#39;s not an in memory db (unluckily...). The message disappear when I use a web environment...","body":"@ngueno Yes I configured a test datasource in a test application.config, but it&#39;s not an in memory db (unluckily...). The message disappear when I use a web environment..."}],"answers":[{"tags":[],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648933399,"creation_date":1648911523,"answer_id":71718626,"question_id":56055970,"body_markdown":"Finally I found out the problem is using @EnableSwagger2.Check the following link.\r\n\r\n[https://stackoverflow.com/questions/71718334/spring-boot-service-layer-integration-test-with-webenvironment-none-not-working][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71718334/spring-boot-service-layer-integration-test-with-webenvironment-none-not-working","title":"Integration tests on Spring Boot: webEnvironment required?","body":"<p>Finally I found out the problem is using @EnableSwagger2.Check the following link.</p>\n<p><a href=\"https://stackoverflow.com/questions/71718334/spring-boot-service-layer-integration-test-with-webenvironment-none-not-working\">Spring boot service layer integration test with WebEnvironment.NONE not working</a></p>\n"}],"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648933399,"creation_date":1557392918,"question_id":56055970,"body_markdown":"# EDIT\nI also tried to add\n\n    @ContextConfiguration(loader=AnnotationConfigContextLoader.class)\n\nas suggested in [this official Spring Blog page][1], but nothing\n\n---\n\nI created some integration tests, that tests methods of some repositories. I found that without:\n\n\n    @SpringBootTest(\n        webEnvironment = SpringBootTest.WebEnvironment.MOCK,\n        classes = ********.class\n    )\n\nthe tests don&#39;t run. I tried also with `WebEnvironment.NONE`, but I get \n\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\n\nI don&#39;t understand why the web environment is required. Is there not a way to run an integration test on repositories without running the web environment? \n\n\n  [1]: https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles","title":"Integration tests on Spring Boot: webEnvironment required?","body":"<h1>EDIT</h1>\n<p>I also tried to add</p>\n<pre><code>@ContextConfiguration(loader=AnnotationConfigContextLoader.class)\n</code></pre>\n<p>as suggested in <a href=\"https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles\" rel=\"nofollow noreferrer\">this official Spring Blog page</a>, but nothing</p>\n<hr />\n<p>I created some integration tests, that tests methods of some repositories. I found that without:</p>\n<pre><code>@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.MOCK,\n    classes = ********.class\n)\n</code></pre>\n<p>the tests don't run. I tried also with <code>WebEnvironment.NONE</code>, but I get</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext</p>\n</blockquote>\n<p>I don't understand why the web environment is required. Is there not a way to run an integration test on repositories without running the web environment?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1648933361,"post_id":71721084,"comment_id":126749721,"body_markdown":"You can&#39;t pass variables into the method the way you want, only return output out.","body":"You can&#39;t pass variables into the method the way you want, only return output out."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648976830,"post_id":71721084,"comment_id":126755168,"body_markdown":"By the way, the terrible `Calendar` class was years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"By the way, the terrible <code>Calendar</code> class was years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648976900,"post_id":71721084,"comment_id":126755188,"body_markdown":"When posting here, try to strip away as much extraneous code as possible, to focus on your core issue.","body":"When posting here, try to strip away as much extraneous code as possible, to focus on your core issue."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648933398,"creation_date":1648933398,"answer_id":71721145,"question_id":71721084,"body_markdown":"You don&#39;t need to pass `Scanner` to your method. In general we need to make our methods as agnostic to the input as possible, yet, if you pass `Scanner`, then you assume that a `Scanner` is being used. Instead, declare your method as\r\n\r\n    static String promptInsuredName(String insured, String input) {\r\n\r\nand pass the result of `input.nextLine()` to it. This way your method will work even if the input is not generated by `Scanner` and CLI. In general, you need to separate the input from its parsing.","title":"Passing variables into methods","body":"<p>You don't need to pass <code>Scanner</code> to your method. In general we need to make our methods as agnostic to the input as possible, yet, if you pass <code>Scanner</code>, then you assume that a <code>Scanner</code> is being used. Instead, declare your method as</p>\n<pre><code>static String promptInsuredName(String insured, String input) {\n</code></pre>\n<p>and pass the result of <code>input.nextLine()</code> to it. This way your method will work even if the input is not generated by <code>Scanner</code> and CLI. In general, you need to separate the input from its parsing.</p>\n"}],"owner":{"account_id":24409298,"reputation":11,"user_id":18337008,"display_name":"Echoooo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648933398,"creation_date":1648932711,"question_id":71721084,"body_markdown":"I have a program that is asking for a name of an insured person. I am making a method called promptInsuredName and want to know the best way to pass those variables into the method.\r\n\r\n``` import java.util.Scanner;\r\nimport java.util.Calendar;\r\n\r\npublic class BurtonLavato002PA2 {\r\n\r\n    String message = &quot;&quot;, coverage = &quot;&quot;;\r\n    double payout = 0.0, deductible = 0.0;\r\n    boolean repeat;\r\n\r\n    public static void main(String[] args){\r\n        Scanner input = new Scanner(System.in);\r\n        char cont = &#39; &#39;, correct = &#39; &#39;, another = &#39; &#39;;\r\n        String insured = &quot; &quot;;\r\n        double homeInsVal = &#39; &#39;, richter = &#39; &#39;;\r\n        Calendar dateTime = Calendar.getInstance();\r\n\r\n\r\n        System.out.println(&quot;MUTUALLY ACCIDENTAL, INC.&quot;);\r\n        System.out.printf(&quot;%nDo you want an analysis of earthquake coverage for your property? Enter &#39;Y&#39; or &#39;N&#39;:  &quot;);\r\n        cont = input.next().charAt(0);\r\n        input.nextLine();\r\n\r\n        while(cont == &#39;Y&#39; || cont == &#39;y&#39;){\r\n            promptInsuredName(insured, input);\r\n\r\n            \r\n\r\n            }// END OF WHILE\r\n\r\n\r\n        }// END OF MAIN\r\n\r\n    static String promptInsuredName(String insured, Scanner input) {\r\n        System.out.printf(&quot;%nMUTUALLY ACCIDENTAL, INC.&quot;);    //Header for the prompt\r\n        System.out.printf(&quot;%nEarthquake Coverage Analyzer&quot;);\r\n\r\n        System.out.printf(&quot;%n%nPlease enter your name:  &quot;);\r\n        insured = input.nextLine(); // Take input under the Scanner stdin to read insured name.\r\n        return insured;\r\n    } // END OF promptInsuredName\r\n\r\n\r\n    }// END OF CLASS\r\n\r\n\r\n```\r\n\r\nInsured and scanner input are passed into the promptInsuredName method","title":"Passing variables into methods","body":"<p>I have a program that is asking for a name of an insured person. I am making a method called promptInsuredName and want to know the best way to pass those variables into the method.</p>\n<pre><code>import java.util.Calendar;\n\npublic class BurtonLavato002PA2 {\n\n    String message = &quot;&quot;, coverage = &quot;&quot;;\n    double payout = 0.0, deductible = 0.0;\n    boolean repeat;\n\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        char cont = ' ', correct = ' ', another = ' ';\n        String insured = &quot; &quot;;\n        double homeInsVal = ' ', richter = ' ';\n        Calendar dateTime = Calendar.getInstance();\n\n\n        System.out.println(&quot;MUTUALLY ACCIDENTAL, INC.&quot;);\n        System.out.printf(&quot;%nDo you want an analysis of earthquake coverage for your property? Enter 'Y' or 'N':  &quot;);\n        cont = input.next().charAt(0);\n        input.nextLine();\n\n        while(cont == 'Y' || cont == 'y'){\n            promptInsuredName(insured, input);\n\n            \n\n            }// END OF WHILE\n\n\n        }// END OF MAIN\n\n    static String promptInsuredName(String insured, Scanner input) {\n        System.out.printf(&quot;%nMUTUALLY ACCIDENTAL, INC.&quot;);    //Header for the prompt\n        System.out.printf(&quot;%nEarthquake Coverage Analyzer&quot;);\n\n        System.out.printf(&quot;%n%nPlease enter your name:  &quot;);\n        insured = input.nextLine(); // Take input under the Scanner stdin to read insured name.\n        return insured;\n    } // END OF promptInsuredName\n\n\n    }// END OF CLASS\n\n\n</code></pre>\n<p>Insured and scanner input are passed into the promptInsuredName method</p>\n"},{"tags":["java","oop","average"],"comments":[{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1648928468,"post_id":71720584,"comment_id":126748848,"body_markdown":"`findMaximum()` should be very similar to your existing `findMinimum()`, just working in the other direction. For the average, though, what do you have available to you in the `Weight` class to retrieve the weight that it represents? That class obviously has a `toString()` method. What else does it have?...maybe a `getWeight()` method?","body":"<code>findMaximum()</code> should be very similar to your existing <code>findMinimum()</code>, just working in the other direction. For the average, though, what do you have available to you in the <code>Weight</code> class to retrieve the weight that it represents? That class obviously has a <code>toString()</code> method. What else does it have?...maybe a <code>getWeight()</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":14975284,"reputation":15,"user_id":13131124,"display_name":"Julian M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648928218,"creation_date":1648928218,"answer_id":71720678,"question_id":71720584,"body_markdown":"Your logic should simply be:\r\n\r\n    findMaximum(w1, w2, w3) {\r\n        if (w1 &gt; w2 and w1 &gt; w3) {\r\n            return w1\r\n        }\r\n        if (w2 &gt; w1 and w2 &gt; w3) {\r\n            return w2\r\n        }\r\n        if (w3 &gt; w1 and w3 &gt; w2) {\r\n            return w3\r\n        }\r\n    }\r\n\r\n    \r\n    findAverage(w1, w2, w3) {\r\n        return (w1+w2+w3) / 3\r\n    }\r\n","title":"How do I find the maximum and the average for 3 weights (pounds,ounces) I have a program that compares weights","body":"<p>Your logic should simply be:</p>\n<pre><code>findMaximum(w1, w2, w3) {\n    if (w1 &gt; w2 and w1 &gt; w3) {\n        return w1\n    }\n    if (w2 &gt; w1 and w2 &gt; w3) {\n        return w2\n    }\n    if (w3 &gt; w1 and w3 &gt; w2) {\n        return w3\n    }\n}\n\n\nfindAverage(w1, w2, w3) {\n    return (w1+w2+w3) / 3\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648933280,"creation_date":1648933280,"answer_id":71721131,"question_id":71720584,"body_markdown":"For min and max, first create a function that compares Weight:\r\n\r\n    public class WeightComparator implements Comparator&lt;Weight&gt; {\r\n        int compare(Weight w1, Weight w2) {\r\n            // return -1 if w1 is higher\r\n            // return 0 if they are equal\r\n            // return 1 if w2 is higher\r\n        }\r\n    }\r\n\r\nWith that you can start sorting your weights. For example, put them in a collection and use sort:\r\n\r\n    ArrayList&lt;Weight&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new Weight(...));\r\n    list.add(new Weight(...));\r\n    list.add(new Weight(...));\r\n    Collections.sort(list, new WeightComparator());\r\n\r\nOnce done, the min is the first element, the max the last element of your list.\r\n\r\nFor the average, just sum up all the elements, then divide by their count.\r\n\r\n    public Weight getAverage(List&lt;Weight&gt; list) {\r\n        int pounds = 0;\r\n        int ounces = 0;\r\n    \r\n        for (Weight w: list) {\r\n            pounds += w.getPounds();\r\n            ounces += w.getOunces();\r\n        }\r\n\r\n        return new Weight(pounds / list.size(), ounces / list.size);\r\n    }","title":"How do I find the maximum and the average for 3 weights (pounds,ounces) I have a program that compares weights","body":"<p>For min and max, first create a function that compares Weight:</p>\n<pre><code>public class WeightComparator implements Comparator&lt;Weight&gt; {\n    int compare(Weight w1, Weight w2) {\n        // return -1 if w1 is higher\n        // return 0 if they are equal\n        // return 1 if w2 is higher\n    }\n}\n</code></pre>\n<p>With that you can start sorting your weights. For example, put them in a collection and use sort:</p>\n<pre><code>ArrayList&lt;Weight&gt; list = new ArrayList&lt;&gt;();\nlist.add(new Weight(...));\nlist.add(new Weight(...));\nlist.add(new Weight(...));\nCollections.sort(list, new WeightComparator());\n</code></pre>\n<p>Once done, the min is the first element, the max the last element of your list.</p>\n<p>For the average, just sum up all the elements, then divide by their count.</p>\n<pre><code>public Weight getAverage(List&lt;Weight&gt; list) {\n    int pounds = 0;\n    int ounces = 0;\n\n    for (Weight w: list) {\n        pounds += w.getPounds();\n        ounces += w.getOunces();\n    }\n\n    return new Weight(pounds / list.size(), ounces / list.size);\n}\n</code></pre>\n"}],"owner":{"account_id":24802232,"reputation":1,"user_id":18684525,"display_name":"Jspearman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648933280,"creation_date":1648927451,"question_id":71720584,"body_markdown":"I need help figuring out how to find the average and the maximum weight. Down below you will see the methods templates I have created; However, I can&#39;t figure out how to find the max and average weight.\r\n\r\n    public static void main(String[] args) {\r\n    \tWeight weight1 = new Weight(4, 13);\r\n    \tWeight weight2 = new Weight(4, 1);\r\n    \tWeight weight3 = new Weight(14, 10); // 14 lbs 10 ounces\r\n    \r\n    \tSystem.out.println(weight1 + &quot;, &quot; + weight2 + &quot;, &quot; + weight3);\r\n    \tSystem.out.println(&quot;Minimum: &quot; + findMinimum(weight1, weight2, weight3));\r\n    \tSystem.out.println(&quot;Average: &quot; + findAverage(weight1, weight2, weight3));    \r\n    }\r\n\r\n    private static Weight findMinimum(Weight weight1, Weight weight2, Weight weight3) {\r\n    \tif(weight1.lessThan(weight2)) {\r\n    \t\tif (weight1.lessThan(weight3)) {\r\n\t\t\t\treturn weight1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn weight3;\r\n\t\t\t}\r\n    \t}\r\n\t\telse {\r\n    \t\tif(weight2.lessThan(weight3)) {\r\n    \t\t\treturn weight2;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn weight3;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\t\r\n    private static Weight findMaximum(Weight weight1, Weight weight2, Weight weight3) {\r\n    \t\r\n\t}\r\n    \t\r\n    private static Weight findAverage(Weight weight1, Weight weight2, Weight weight3){\r\n    \tWeight results=new Weight(0,0);\r\n    \tresults= +weight1;\r\n    }\r\n","title":"How do I find the maximum and the average for 3 weights (pounds,ounces) I have a program that compares weights","body":"<p>I need help figuring out how to find the average and the maximum weight. Down below you will see the methods templates I have created; However, I can't figure out how to find the max and average weight.</p>\n<pre><code>public static void main(String[] args) {\n    Weight weight1 = new Weight(4, 13);\n    Weight weight2 = new Weight(4, 1);\n    Weight weight3 = new Weight(14, 10); // 14 lbs 10 ounces\n\n    System.out.println(weight1 + &quot;, &quot; + weight2 + &quot;, &quot; + weight3);\n    System.out.println(&quot;Minimum: &quot; + findMinimum(weight1, weight2, weight3));\n    System.out.println(&quot;Average: &quot; + findAverage(weight1, weight2, weight3));    \n}\n\nprivate static Weight findMinimum(Weight weight1, Weight weight2, Weight weight3) {\n    if(weight1.lessThan(weight2)) {\n        if (weight1.lessThan(weight3)) {\n            return weight1;\n        }\n        else {\n            return weight3;\n        }\n    }\n    else {\n        if(weight2.lessThan(weight3)) {\n            return weight2;\n        }\n        else {\n            return weight3;\n        }\n    }\n}\n\nprivate static Weight findMaximum(Weight weight1, Weight weight2, Weight weight3) {\n    \n}\n    \nprivate static Weight findAverage(Weight weight1, Weight weight2, Weight weight3){\n    Weight results=new Weight(0,0);\n    results= +weight1;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform","app-engine-flexible"],"comments":[{"owner":{"account_id":13923383,"reputation":2398,"user_id":10053276,"display_name":"Methkal Khalawi"},"score":0,"creation_date":1586252685,"post_id":61045648,"comment_id":108053804,"body_markdown":"hey @dune98, does [this solve your issue](https://stackoverflow.com/questions/37342403/firebaseapp-with-name-default-doesnt-exist)? if not, can you provide me with an explanation of how your app is structured, is it [something like this](https://cloud.google.com/solutions/mobile/mobile-firebase-app-engine-flexible)? can you also provide me with the full exception logs?","body":"hey @dune98, does <a href=\"https://stackoverflow.com/questions/37342403/firebaseapp-with-name-default-doesnt-exist\">this solve your issue</a>? if not, can you provide me with an explanation of how your app is structured, is it <a href=\"https://cloud.google.com/solutions/mobile/mobile-firebase-app-engine-flexible\" rel=\"nofollow noreferrer\">something like this</a>? can you also provide me with the full exception logs?"},{"owner":{"account_id":10338467,"reputation":167,"user_id":7625726,"display_name":"dune98"},"score":1,"creation_date":1586603007,"post_id":61045648,"comment_id":108189696,"body_markdown":"Locally works, only if deployed on remote server not work","body":"Locally works, only if deployed on remote server not work"},{"owner":{"account_id":13923383,"reputation":2398,"user_id":10053276,"display_name":"Methkal Khalawi"},"score":0,"creation_date":1586762991,"post_id":61045648,"comment_id":108237165,"body_markdown":"hey @dune98 , I understand that your app doesn&#39;t work when you deploy it on App Engine Flex. Can you edit your post with the logs related to this issue from your Stackdriver logging? [check here on how to view logging](https://cloud.google.com/logging/docs/view/overview). I would like that you post your app.yaml file and tell me how are you deploying your app.","body":"hey @dune98 , I understand that your app doesn&#39;t work when you deploy it on App Engine Flex. Can you edit your post with the logs related to this issue from your Stackdriver logging? <a href=\"https://cloud.google.com/logging/docs/view/overview\" rel=\"nofollow noreferrer\">check here on how to view logging</a>. I would like that you post your app.yaml file and tell me how are you deploying your app."}],"answers":[{"tags":[],"owner":{"account_id":20706183,"reputation":71,"user_id":15204001,"display_name":"Kwuasimoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648933238,"creation_date":1648933238,"answer_id":71721124,"question_id":61045648,"body_markdown":"*This may not apply to Android. I&#39;ll update this when I get there. if I get there*\r\n\r\nTo rule off some possibilities:\r\n\r\n(&quot;For Web Apps specifically&quot;)\r\nAs per their documentation, and contrary to many stack overflow responses, the runtimeOnly dependency &quot;com.google.gms:google-services:4.3.10&quot; is not needed as of version 8.x.x...\r\n\r\nOne thing I noticed, is after specifying a name for the app, and trying to FirebaseApp.getInstance(name), it was still not recognizing that the app was instantiated. \r\n\r\n*Another caveat* I noticed, if you improperly supply the GoogleCredentials to the application using .getApplicationDefault(), the Spring app will still build itself. But trying to fetch the services will break because the Firebase service itself wasn&#39;t built. It apparently has its own built-in exception handling even if the service *internally* goes kaplooe... It&#39;s a good safe check to sout your cred&#39;s to make sure they&#39;re instantiated.\r\n\r\n**The Fix: @DependsOn**\r\nhttps://www.baeldung.com/spring-depends-on\r\n\r\n*NOTE: How you load your credentials doesn&#39;t matter, as long as it finds them*\r\n\r\nWrite a bean that initializes Firebase and yeets it with IoC. Provide the &quot;dataSource&quot; name for the Service Annotation, and a name attribute for the Bean itself.\r\n\r\n```kotlin\r\n@Service(&quot;dataSource&quot;)\r\nclass GCP {\r\n\r\n    @Bean(name = [&quot;Firebase&quot;])\r\n    fun initializeFirebase() {\r\n\r\n        val opts = FirebaseOptions.builder()\r\n            .setCredentials(GoogleCredentials.fromStream(\r\n                this::class.java.getResourceAsStream(System.getenv(&quot;GCP&quot;))\r\n            ))\r\n            .build()\r\n\r\n        FirebaseApp.initializeApp(opts)\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow where ever you use FirestoreClient.getFirestore() (Or a diff service), make sure you take advantage of the @DependsOn Annotation to wait and make sure that Firebase was instantiated. \r\n\r\n```kotlin\r\n@Service\r\n@DependsOn(value = [&quot;Firebase&quot;])\r\nclass UserService(\r\n    private val firestore: Firestore = FirestoreClient.getFirestore()\r\n)\r\n```\r\n","title":"FirebaseApp with name [DEFAULT] doesn&#39;t exist. Hosted with App Engine. (Spring boot)","body":"<p><em>This may not apply to Android. I'll update this when I get there. if I get there</em></p>\n<p>To rule off some possibilities:</p>\n<p>(&quot;For Web Apps specifically&quot;)\nAs per their documentation, and contrary to many stack overflow responses, the runtimeOnly dependency &quot;com.google.gms:google-services:4.3.10&quot; is not needed as of version 8.x.x...</p>\n<p>One thing I noticed, is after specifying a name for the app, and trying to FirebaseApp.getInstance(name), it was still not recognizing that the app was instantiated.</p>\n<p><em>Another caveat</em> I noticed, if you improperly supply the GoogleCredentials to the application using .getApplicationDefault(), the Spring app will still build itself. But trying to fetch the services will break because the Firebase service itself wasn't built. It apparently has its own built-in exception handling even if the service <em>internally</em> goes kaplooe... It's a good safe check to sout your cred's to make sure they're instantiated.</p>\n<p><strong>The Fix: @DependsOn</strong>\n<a href=\"https://www.baeldung.com/spring-depends-on\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-depends-on</a></p>\n<p><em>NOTE: How you load your credentials doesn't matter, as long as it finds them</em></p>\n<p>Write a bean that initializes Firebase and yeets it with IoC. Provide the &quot;dataSource&quot; name for the Service Annotation, and a name attribute for the Bean itself.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service(&quot;dataSource&quot;)\nclass GCP {\n\n    @Bean(name = [&quot;Firebase&quot;])\n    fun initializeFirebase() {\n\n        val opts = FirebaseOptions.builder()\n            .setCredentials(GoogleCredentials.fromStream(\n                this::class.java.getResourceAsStream(System.getenv(&quot;GCP&quot;))\n            ))\n            .build()\n\n        FirebaseApp.initializeApp(opts)\n    }\n}\n\n</code></pre>\n<p>Now where ever you use FirestoreClient.getFirestore() (Or a diff service), make sure you take advantage of the @DependsOn Annotation to wait and make sure that Firebase was instantiated.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\n@DependsOn(value = [&quot;Firebase&quot;])\nclass UserService(\n    private val firestore: Firestore = FirestoreClient.getFirestore()\n)\n</code></pre>\n"}],"owner":{"account_id":10338467,"reputation":167,"user_id":7625726,"display_name":"dune98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648933238,"creation_date":1586103581,"question_id":61045648,"body_markdown":"Firebase config class : \r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;firebase&quot;)\r\n    public class FirebaseConfig {\r\n\r\n\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n\r\n        try {\r\n            FirebaseApp.getInstance();\r\n        } catch (IllegalStateException e) {\r\n            try {\r\n                FileInputStream inputStream = new FileInputStream(&quot;json-file-path&quot;);\r\n                try {\r\n                    FirebaseOptions options = new FirebaseOptions.Builder()\r\n                            .setCredentials(GoogleCredentials.fromStream(inputStream)).build();\r\n\r\n                    FirebaseApp.initializeApp(options);\r\n                } catch (IOException ioE) {\r\n                    ioE.printStackTrace();\r\n                }\r\n            } catch (NullPointerException nullE) {\r\n                nullE.printStackTrace();\r\n            } catch (FileNotFoundException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\nI also tried to use a class like this:\r\n\r\n    public class FirebaseCredentialsHelper {\r\n\r\n      public String type= &quot;&quot;;\r\n      public String project_id= &quot;&quot;;\r\n      public String private_key_id= &quot;&quot;;\r\n      public String private_key= &quot;&quot;;\r\n      public String client_email= &quot;&quot;;\r\n      public String client_id= &quot;&quot;;\r\n      public String auth_uri= &quot;&quot;;\r\n      public String token_uri= &quot;&quot;;\r\n      public String auth_provider_x509_cert_url= &quot;&quot;;\r\n      public String client_x509_cert_url= &quot;&quot;;\r\n\r\n    }\r\n\r\nUnfortunately when I build the app the error &quot; FirebaseApp with name [DEFAULT] doesn&#39;t exist.&quot; comes out.\r\nIn local works fine.\r\nps: It&#39;s set up flexible","title":"FirebaseApp with name [DEFAULT] doesn&#39;t exist. Hosted with App Engine. (Spring boot)","body":"<p>Firebase config class : </p>\n\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = \"firebase\")\npublic class FirebaseConfig {\n\n\n\n@PostConstruct\npublic void init() {\n\n    try {\n        FirebaseApp.getInstance();\n    } catch (IllegalStateException e) {\n        try {\n            FileInputStream inputStream = new FileInputStream(\"json-file-path\");\n            try {\n                FirebaseOptions options = new FirebaseOptions.Builder()\n                        .setCredentials(GoogleCredentials.fromStream(inputStream)).build();\n\n                FirebaseApp.initializeApp(options);\n            } catch (IOException ioE) {\n                ioE.printStackTrace();\n            }\n        } catch (NullPointerException nullE) {\n            nullE.printStackTrace();\n        } catch (FileNotFoundException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>I also tried to use a class like this:</p>\n\n<pre><code>public class FirebaseCredentialsHelper {\n\n  public String type= \"\";\n  public String project_id= \"\";\n  public String private_key_id= \"\";\n  public String private_key= \"\";\n  public String client_email= \"\";\n  public String client_id= \"\";\n  public String auth_uri= \"\";\n  public String token_uri= \"\";\n  public String auth_provider_x509_cert_url= \"\";\n  public String client_x509_cert_url= \"\";\n\n}\n</code></pre>\n\n<p>Unfortunately when I build the app the error \" FirebaseApp with name [DEFAULT] doesn't exist.\" comes out.\nIn local works fine.\nps: It's set up flexible</p>\n"},{"tags":["java","json","resteasy","postman"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1433491113,"creation_date":1433491113,"answer_id":30661324,"question_id":30660951,"body_markdown":"You have not set the `Content-Type` header. Don&#39;t remember what the default is, but you can look in the Chrome developer tools to see the full request with headers. \r\n\r\nThe &lt;kbd&gt;JSON&lt;/kbd&gt; value in the drop-down is only for syntax highlighting. It doesn&#39;t actually set the header. So just add the header\r\n\r\n    Content-Type   -&gt;&gt;   application/json","title":"HTTP Status 415 - Cannot consume content type","body":"<p>You have not set the <code>Content-Type</code> header. Don't remember what the default is, but you can look in the Chrome developer tools to see the full request with headers. </p>\n\n<p>The <kbd>JSON</kbd> value in the drop-down is only for syntax highlighting. It doesn't actually set the header. So just add the header</p>\n\n<pre><code>Content-Type   -&gt;&gt;   application/json\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11193209,"reputation":242,"user_id":8212847,"display_name":"Taehyun Hwang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648933198,"creation_date":1648933198,"answer_id":71721121,"question_id":30660951,"body_markdown":"You should check your Content-Type Header. If Content-type is missing or is different required from server, this problem has occurred.","title":"HTTP Status 415 - Cannot consume content type","body":"<p>You should check your Content-Type Header. If Content-type is missing or is different required from server, this problem has occurred.</p>\n"}],"owner":{"account_id":1253249,"reputation":343,"user_id":1213223,"accept_rate":57,"display_name":"AvenashKrish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55103,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":30661324,"answer_count":2,"score":22,"last_activity_date":1648933198,"creation_date":1433489865,"question_id":30660951,"body_markdown":"POST operation to the REST service with JSON body returning \r\n\r\n&gt; org.jboss.resteasy.spi.UnsupportedMediaTypeException\r\n&gt; \r\n&gt;  : Cannot consume content type exception\r\n\r\nBoth `@Consumes(MediaType.APPLICATION_JSON)` and `@Consumes(&quot;application/json&quot;)` returned same exception. \r\n\r\nI tried calling the service using Postman API client. \r\n\r\n![image][1]\r\n\r\n\r\n    @RolesAllowed(&quot;admin&quot;)\r\n    @POST\t\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/auth&quot;)\r\n    public Response login(UserCl usr){\r\n    \t\t\t\r\n    \tif(usr.getUsername().compareTo(&quot;user&quot;) == 0 &amp;&amp; \r\n                    usr.getPassword().compareTo(&quot;pass&quot;) == 0){\t\t\t\t\t\t\r\n    \t\treturn Response.status(200).build(); \r\n    \t}\r\n    \telse{\r\n    \t\treturn Response.status(401).build();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n    12:44:07,322 WARN  [org.jboss.resteasy.core.SynchronousDispatcher] (http-localhost-127.0.0.1-8080-1) Failed executing POST user-service/auth: org.jboss.resteasy.spi.UnsupportedMediaTypeException: Cannot consume content type\r\n    \tat org.jboss.resteasy.core.registry.Segment.match(Segment.java:117) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.registry.SimpleSegment.matchSimple(SimpleSegment.java:33) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.registry.RootSegment.matchChildren(RootSegment.java:327) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.registry.SimpleSegment.matchSimple(SimpleSegment.java:44) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.registry.RootSegment.matchChildren(RootSegment.java:327) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.registry.RootSegment.matchRoot(RootSegment.java:374) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.registry.RootSegment.matchRoot(RootSegment.java:367) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.ResourceMethodRegistry.getResourceInvoker(ResourceMethodRegistry.java:307) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.getInvoker(SynchronousDispatcher.java:173) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:118) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:208) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50) [resteasy-jaxrs-2.3.2.Final.jar:]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\r\n    \tat java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_79]\r\n\r\n[1]: http://i.stack.imgur.com/OjmF6.png","title":"HTTP Status 415 - Cannot consume content type","body":"<p>POST operation to the REST service with JSON body returning </p>\n\n<blockquote>\n  <p>org.jboss.resteasy.spi.UnsupportedMediaTypeException</p>\n  \n  <p>: Cannot consume content type exception</p>\n</blockquote>\n\n<p>Both <code>@Consumes(MediaType.APPLICATION_JSON)</code> and <code>@Consumes(\"application/json\")</code> returned same exception. </p>\n\n<p>I tried calling the service using Postman API client. </p>\n\n<p><img src=\"https://i.stack.imgur.com/OjmF6.png\" alt=\"image\"></p>\n\n<pre><code>@RolesAllowed(\"admin\")\n@POST   \n@Consumes(MediaType.APPLICATION_JSON)\n@Path(\"/auth\")\npublic Response login(UserCl usr){\n\n    if(usr.getUsername().compareTo(\"user\") == 0 &amp;&amp; \n                usr.getPassword().compareTo(\"pass\") == 0){                      \n        return Response.status(200).build(); \n    }\n    else{\n        return Response.status(401).build();\n    }\n\n}\n\n12:44:07,322 WARN  [org.jboss.resteasy.core.SynchronousDispatcher] (http-localhost-127.0.0.1-8080-1) Failed executing POST user-service/auth: org.jboss.resteasy.spi.UnsupportedMediaTypeException: Cannot consume content type\n    at org.jboss.resteasy.core.registry.Segment.match(Segment.java:117) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.registry.SimpleSegment.matchSimple(SimpleSegment.java:33) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.registry.RootSegment.matchChildren(RootSegment.java:327) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.registry.SimpleSegment.matchSimple(SimpleSegment.java:44) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.registry.RootSegment.matchChildren(RootSegment.java:327) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.registry.RootSegment.matchRoot(RootSegment.java:374) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.registry.RootSegment.matchRoot(RootSegment.java:367) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.ResourceMethodRegistry.getResourceInvoker(ResourceMethodRegistry.java:307) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.SynchronousDispatcher.getInvoker(SynchronousDispatcher.java:173) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:118) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:208) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50) [resteasy-jaxrs-2.3.2.Final.jar:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_79]\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1492696927,"creation_date":1317047292,"answer_id":7556674,"question_id":7556465,"body_markdown":"You&#39;re not using BlockingQueue in the way it&#39;s intended to be used.\r\n\r\nA BlockingQueue is used to implement the [producer consumer pattern][1]. Producer thread(s) put items on the queue via the blocking [put()][2] method, while consumer thread(s) take items from the queue via the blocking [take()][3] method. \r\n\r\n`put()` blocks - meaning if the queue is full, it waits until a consumer has taken an item from the queue before adding it, then returns.\r\n\r\n`take()` blocks - meaning if the queue is empty, it waits until a producer has put an item on the queue before taking it and returning it.\r\n\r\nThis pattern completely disconnects the producers from consumers, except that they share the queue.\r\n\r\nTry using the queue like that: Have an executor run some threads that act as producers and some that act as consumers.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Producer-consumer_problem\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#put%28E%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#take%28%29","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<p>You're not using BlockingQueue in the way it's intended to be used.</p>\n\n<p>A BlockingQueue is used to implement the <a href=\"http://en.wikipedia.org/wiki/Producer-consumer_problem\" rel=\"nofollow noreferrer\">producer consumer pattern</a>. Producer thread(s) put items on the queue via the blocking <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#put%28E%29\" rel=\"nofollow noreferrer\">put()</a> method, while consumer thread(s) take items from the queue via the blocking <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/BlockingQueue.html#take%28%29\" rel=\"nofollow noreferrer\">take()</a> method. </p>\n\n<p><code>put()</code> blocks - meaning if the queue is full, it waits until a consumer has taken an item from the queue before adding it, then returns.</p>\n\n<p><code>take()</code> blocks - meaning if the queue is empty, it waits until a producer has put an item on the queue before taking it and returning it.</p>\n\n<p>This pattern completely disconnects the producers from consumers, except that they share the queue.</p>\n\n<p>Try using the queue like that: Have an executor run some threads that act as producers and some that act as consumers.</p>\n"},{"tags":[],"owner":{"account_id":14116,"reputation":39820,"user_id":28760,"accept_rate":93,"display_name":"Kiril"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1317218430,"creation_date":1317051171,"answer_id":7557521,"question_id":7556465,"body_markdown":"The problem occurs because you&#39;re task queue is too small and this is indicated by the documentation of the [execute][1] method:\r\n\r\n&gt; Executes the given task sometime in the future. The task may execute in a new thread or in an existing pooled thread. If the task cannot be submitted for execution, either because this executor has been shutdown or because its capacity has been reached, the task is handled by the current RejectedExecutionHandler. \r\n\r\nSo the first problem is that you&#39;re setting your queue size to a very small number:\r\n\r\n    int poolSize = 2;\r\n    int maxPoolSize = 3;\r\n    ArrayBlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(2);\r\n\r\nAnd then you state &quot;If [I] try 7th, 8th... task&quot; then you would get a `RejectedExecutionException` because you&#39;re past the capacity of the queue. There are two ways to resolve your problem (I would recommend doing both):\r\n\r\n 1. Increase the size of the queue.\r\n 2. Catch the exception and re-try adding the task.\r\n\r\nYou should have something along the lines of this:\r\n\r\n    public void ExecuteTask(MyRunnableTask task) {\r\n        bool taskAdded = false;\r\n        while(!taskAdded) {\r\n            try {\r\n                executor.execute(task);\r\n                taskAdded = true;\r\n            } catch (RejectedExecutionException ex) {\r\n                taskAdded = false;\r\n            }\r\n        }   \r\n    }\r\n\r\nNow, to address your other questions...\r\n\r\n&gt; Here then what is the role of BlockingQueue if it is missing the tasks?  \r\n\r\nThe role of the `BlockingQueue` is to complete the Producer/Consumer pattern and if it&#39;s large enough, then you shouldn&#39;t see the issues you&#39;re encountering. As I mentioned above, you need to increase the queue size and catch the exception then retry executing the task.\r\n\r\n&gt; Why cant we go for linkedlist?  \r\n\r\nA linked list is neither thread safe, nor is it blocking. The Producer/Consumer pattern tends to work best with a blocking queue.\r\n\r\nUpdate\r\n---\r\nPlease don&#39;t be offended by the following statements, I&#39;m intentionally using more stringent language in order to put *emphasis* on the fact that your first assumption should never be that there is something wrong with the library you&#39;re using (unless you wrote the library yourself and you know that there is a specific problem in it)!\r\n\r\nSo let&#39;s put this concern to rest right now: **neither the `ThreadPoolExecutor` nor the Java library are the problem here.** It&#39;s entirely your (mis)use of the library that&#39;s causing the problem. Javmex has a [great tutorial][2] explaining the exact situation you&#39;re seeing.\r\n\r\nThere could be several reasons why you&#39;re filling up the queue faster than you&#39;re emptying it:\r\n\r\n 1. The thread that&#39;s adding tasks for executing is adding them too fast.\r\n 2. The tasks are taking too long to execute.\r\n 3. Your queue is too small.\r\n 4. Any combination of the above 3.\r\n\r\nThere are a bunch of other reasons too, but I think the above would be the most common.\r\n\r\nI would give you a [simple solution with an unbounded queue][3], but it would NOT resolve your (mis)use of the library. **So before we go blaming the Java library, let&#39;s see a concise example that demonstrates the exact problem you&#39;re encountering.**\r\n\r\nUpdate 2.0\r\n---\r\nHere are a couple of other questions addressing the specific problem:\r\n\r\n 1. https://stackoverflow.com/questions/3446011/threadpoolexecutor-block-when-queue-is-full\r\n 2. https://stackoverflow.com/questions/2001086/how-to-make-threadpoolexecutors-submit-method-block-if-it-is-saturated\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#execute%28java.lang.Runnable%29\r\n  [2]: http://www.javamex.com/tutorials/threads/thread_pools_queues.shtml\r\n  [3]: http://www.javamex.com/tutorials/threads/ThreadPoolExecutor.shtml#executors","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<p>The problem occurs because you're task queue is too small and this is indicated by the documentation of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#execute%28java.lang.Runnable%29\" rel=\"noreferrer\">execute</a> method:</p>\n\n<blockquote>\n  <p>Executes the given task sometime in the future. The task may execute in a new thread or in an existing pooled thread. If the task cannot be submitted for execution, either because this executor has been shutdown or because its capacity has been reached, the task is handled by the current RejectedExecutionHandler. </p>\n</blockquote>\n\n<p>So the first problem is that you're setting your queue size to a very small number:</p>\n\n<pre><code>int poolSize = 2;\nint maxPoolSize = 3;\nArrayBlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(2);\n</code></pre>\n\n<p>And then you state \"If [I] try 7th, 8th... task\" then you would get a <code>RejectedExecutionException</code> because you're past the capacity of the queue. There are two ways to resolve your problem (I would recommend doing both):</p>\n\n<ol>\n<li>Increase the size of the queue.</li>\n<li>Catch the exception and re-try adding the task.</li>\n</ol>\n\n<p>You should have something along the lines of this:</p>\n\n<pre><code>public void ExecuteTask(MyRunnableTask task) {\n    bool taskAdded = false;\n    while(!taskAdded) {\n        try {\n            executor.execute(task);\n            taskAdded = true;\n        } catch (RejectedExecutionException ex) {\n            taskAdded = false;\n        }\n    }   \n}\n</code></pre>\n\n<p>Now, to address your other questions...</p>\n\n<blockquote>\n  <p>Here then what is the role of BlockingQueue if it is missing the tasks?  </p>\n</blockquote>\n\n<p>The role of the <code>BlockingQueue</code> is to complete the Producer/Consumer pattern and if it's large enough, then you shouldn't see the issues you're encountering. As I mentioned above, you need to increase the queue size and catch the exception then retry executing the task.</p>\n\n<blockquote>\n  <p>Why cant we go for linkedlist?  </p>\n</blockquote>\n\n<p>A linked list is neither thread safe, nor is it blocking. The Producer/Consumer pattern tends to work best with a blocking queue.</p>\n\n<h2>Update</h2>\n\n<p>Please don't be offended by the following statements, I'm intentionally using more stringent language in order to put <em>emphasis</em> on the fact that your first assumption should never be that there is something wrong with the library you're using (unless you wrote the library yourself and you know that there is a specific problem in it)!</p>\n\n<p>So let's put this concern to rest right now: <strong>neither the <code>ThreadPoolExecutor</code> nor the Java library are the problem here.</strong> It's entirely your (mis)use of the library that's causing the problem. Javmex has a <a href=\"http://www.javamex.com/tutorials/threads/thread_pools_queues.shtml\" rel=\"noreferrer\">great tutorial</a> explaining the exact situation you're seeing.</p>\n\n<p>There could be several reasons why you're filling up the queue faster than you're emptying it:</p>\n\n<ol>\n<li>The thread that's adding tasks for executing is adding them too fast.</li>\n<li>The tasks are taking too long to execute.</li>\n<li>Your queue is too small.</li>\n<li>Any combination of the above 3.</li>\n</ol>\n\n<p>There are a bunch of other reasons too, but I think the above would be the most common.</p>\n\n<p>I would give you a <a href=\"http://www.javamex.com/tutorials/threads/ThreadPoolExecutor.shtml#executors\" rel=\"noreferrer\">simple solution with an unbounded queue</a>, but it would NOT resolve your (mis)use of the library. <strong>So before we go blaming the Java library, let's see a concise example that demonstrates the exact problem you're encountering.</strong></p>\n\n<h2>Update 2.0</h2>\n\n<p>Here are a couple of other questions addressing the specific problem:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/3446011/threadpoolexecutor-block-when-queue-is-full\">ThreadPoolExecutor Block When Queue Is Full?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2001086/how-to-make-threadpoolexecutors-submit-method-block-if-it-is-saturated\">How to make ThreadPoolExecutor&#39;s submit() method block if it is saturated?</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1317558561,"creation_date":1317558561,"answer_id":7626307,"question_id":7556465,"body_markdown":"The blocking queue is mainly for the Consumers (threads in the pool).  The threads can wait for new tasks to become available on the queue, they will be automatically woken up.  A plain linked list would not serve that purpose.\r\n\r\nOn the producer side the default behavior is to  throw an exception in case the queue is full. This can be easily customized by implementing your own [RejectedExceptionHandler][1]. In your handler you can get hold of the queue and call the put method that will block till more space becomes available.\r\n\r\nBut this is not a good thing to do -  the reason is that if there is a problem in this executor (deadlock , slow processing) it would cause a ripple effect on the rest of the system.  For example if you are calling the execute method from a servlet - if the execute method blocks then all the containers threads will be held up and your application will come to a halt.  That is probably the reason why the default behavior is to throw an exception and not to wait.  Also there is no implementation of the RejectedExceptionHandler that does this - to discourage people from using it.\r\n\r\nThere is an option ([CallersRunPolicy][2]) to execute in the calling thread which can be another option if you want the processing to happen.\r\n\r\nThe general rule is - it is better to fail processing of one request, rather than bring the whole system down. You might want to read about the [circuit-breaker][3] pattern.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/RejectedExecutionHandler.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html\r\n  [3]: http://davybrion.com/blog/2008/05/the-circuit-breaker/","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<p>The blocking queue is mainly for the Consumers (threads in the pool).  The threads can wait for new tasks to become available on the queue, they will be automatically woken up.  A plain linked list would not serve that purpose.</p>\n\n<p>On the producer side the default behavior is to  throw an exception in case the queue is full. This can be easily customized by implementing your own <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/RejectedExecutionHandler.html\" rel=\"noreferrer\">RejectedExceptionHandler</a>. In your handler you can get hold of the queue and call the put method that will block till more space becomes available.</p>\n\n<p>But this is not a good thing to do -  the reason is that if there is a problem in this executor (deadlock , slow processing) it would cause a ripple effect on the rest of the system.  For example if you are calling the execute method from a servlet - if the execute method blocks then all the containers threads will be held up and your application will come to a halt.  That is probably the reason why the default behavior is to throw an exception and not to wait.  Also there is no implementation of the RejectedExceptionHandler that does this - to discourage people from using it.</p>\n\n<p>There is an option (<a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.CallerRunsPolicy.html\" rel=\"noreferrer\">CallersRunPolicy</a>) to execute in the calling thread which can be another option if you want the processing to happen.</p>\n\n<p>The general rule is - it is better to fail processing of one request, rather than bring the whole system down. You might want to read about the <a href=\"http://davybrion.com/blog/2008/05/the-circuit-breaker/\" rel=\"noreferrer\">circuit-breaker</a> pattern.</p>\n"},{"tags":[],"owner":{"account_id":1074685,"reputation":11,"user_id":1073092,"display_name":"Steve Chew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498640432,"creation_date":1498640432,"answer_id":44798053,"question_id":7556465,"body_markdown":"From your setting, the request maybe rejected if concurrent more than 5. Because the sequence order will be pool size -&gt; queue -&gt; max pool size. \r\n\r\n 1. Inital two threads will be created\r\n 2. Afterward if request more than 2 are coming, the subsequence request will be put into queue. \r\n 3. If the queue are full(Which you are set 2), new thread will be created but will not exceed max pool size(Which you are set 3).\r\n 4. If more request are coming, and all thread/worker are busy and queue are full then request will be rejected(Subject to your rejectPolicy config).\r\n\r\nMore detail can read from here: https://dzone.com/articles/scalable-java-thread-pool-executor","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<p>From your setting, the request maybe rejected if concurrent more than 5. Because the sequence order will be pool size -> queue -> max pool size. </p>\n\n<ol>\n<li>Inital two threads will be created</li>\n<li>Afterward if request more than 2 are coming, the subsequence request will be put into queue. </li>\n<li>If the queue are full(Which you are set 2), new thread will be created but will not exceed max pool size(Which you are set 3).</li>\n<li>If more request are coming, and all thread/worker are busy and queue are full then request will be rejected(Subject to your rejectPolicy config).</li>\n</ol>\n\n<p>More detail can read from here: <a href=\"https://dzone.com/articles/scalable-java-thread-pool-executor\" rel=\"nofollow noreferrer\">https://dzone.com/articles/scalable-java-thread-pool-executor</a></p>\n"},{"tags":[],"owner":{"account_id":4304651,"reputation":9315,"user_id":3517383,"accept_rate":41,"display_name":"gabrielgiussi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521814730,"creation_date":1521814730,"answer_id":49451747,"question_id":7556465,"body_markdown":"&gt; The problem occurs because you&#39;re task queue is too small\r\n\r\nIMHO this doesn&#39;t answers the OP question (although Kiril gives more detail after that) because the size of a queue being *too small* is totally subjective. For example he may be protecting an external resource that can&#39;t handle more than two concurrent requests (besides that I think 2 was for make a quick test). Also, what size we could say that is not to small? 1000? What if the execution tries to execute 5000 tasks? The scenario remains because the true question is **why the procuder or caller thread is not being blocked if the ThreadPoolExecutor uses a LinkedBlockingQueue?**\r\n\r\n&gt; The role of the BlockingQueue is to complete the Producer/Consumer pattern and if it&#39;s large enough, then you shouldn&#39;t see the issues you&#39;re encountering. As I mentioned above, **you need to increase the queue size** and catch the exception then retry executing the task.\r\n\r\nThis is true if you know the maximum number of tasks that could be queued in runtime and you can allocate enough heap for that, but this isn&#39;t always the case. The benefit of using bounded queues is that you cant protect yourself against `OutOfMemoryError`.\r\n\r\nThe correct answer should be the one from @gkamal. \r\n&gt; The blocking queue is **mainly for the Consumers** (threads in the pool). The threads can wait for new tasks to become available on the queue, they will be automatically woken up. A plain linked list would not serve that purpose.\r\n\r\nMy two cents:\r\n\r\nDevelopers could have decided that consumer won&#39;t block neither and in that case a BlockingQueue will no longer needed (although you still need to use a concurrent collection or handle synchronization manually), but in this case when the worker tries to **poll** a task from a empty collection you must\r\n\r\n 1. Kill the thread (an handle new task creating fresh threads), or\r\n 2. Do a busy waiting wasting cpu\r\n\r\nSince creating new threads is an expensive task (that is way we are using thread pools after all) and do a busy waiting to, the best option is to block that consumer and notify later when a task is available.\r\n\r\nActually, there is a special case where workers won&#39;t block (at least not indefinitely), when there are more threads than the configured `corePoolSize`.\r\n\r\n&gt;      * @param keepAliveTime when the number of threads is greater than\r\n     *        the core, this is the maximum time that excess idle threads\r\n     *        will wait for new tasks before terminating.\r\n\r\nWe can see these two scenarios in ThreadPoolExecutor (java 1.8)\r\n\r\n    /**\r\n         * Performs blocking or timed wait for a task, depending on\r\n         * current configuration settings, or returns null if this worker\r\n         * must exit because of any of:\r\n         * 1. There are more than maximumPoolSize workers (due to\r\n         *    a call to setMaximumPoolSize).\r\n         * 2. The pool is stopped.\r\n         * 3. The pool is shutdown and the queue is empty.\r\n         * 4. This worker timed out waiting for a task, and timed-out\r\n         *    workers are subject to termination (that is,\r\n         *    {@code allowCoreThreadTimeOut || workerCount &gt; corePoolSize})\r\n         *    both before and after the timed wait, and if the queue is\r\n         *    non-empty, this worker is not the last thread in the pool.\r\n         *\r\n         * @return task, or null if the worker must exit, in which case\r\n         *         workerCount is decremented\r\n         */\r\n        private Runnable getTask() {\r\n            boolean timedOut = false; // Did the last poll() time out?\r\n    \r\n            for (;;) {\r\n                int c = ctl.get();\r\n                int rs = runStateOf(c);\r\n    \r\n                // Check if queue empty only if necessary.\r\n                if (rs &gt;= SHUTDOWN &amp;&amp; (rs &gt;= STOP || workQueue.isEmpty())) {\r\n                    decrementWorkerCount();\r\n                    return null;\r\n                }\r\n    \r\n                int wc = workerCountOf(c);\r\n    \r\n                // Are workers subject to culling?\r\n                boolean timed = allowCoreThreadTimeOut || wc &gt; corePoolSize;\r\n    \r\n                if ((wc &gt; maximumPoolSize || (timed &amp;&amp; timedOut))\r\n                    &amp;&amp; (wc &gt; 1 || workQueue.isEmpty())) {\r\n                    if (compareAndDecrementWorkerCount(c))\r\n                        return null;\r\n                    continue;\r\n                }\r\n    \r\n                try {\r\n                    Runnable r = timed ?\r\n                        workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) : // &lt;---- wait at most keepAliveTime\r\n                        workQueue.take(); // &lt;---- if there are no tasks, it awaits on notEmpty.await();\r\n                    if (r != null)\r\n                        return r;\r\n                    timedOut = true;\r\n                } catch (InterruptedException retry) {\r\n                    timedOut = false;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<blockquote>\n  <p>The problem occurs because you're task queue is too small</p>\n</blockquote>\n\n<p>IMHO this doesn't answers the OP question (although Kiril gives more detail after that) because the size of a queue being <em>too small</em> is totally subjective. For example he may be protecting an external resource that can't handle more than two concurrent requests (besides that I think 2 was for make a quick test). Also, what size we could say that is not to small? 1000? What if the execution tries to execute 5000 tasks? The scenario remains because the true question is <strong>why the procuder or caller thread is not being blocked if the ThreadPoolExecutor uses a LinkedBlockingQueue?</strong></p>\n\n<blockquote>\n  <p>The role of the BlockingQueue is to complete the Producer/Consumer pattern and if it's large enough, then you shouldn't see the issues you're encountering. As I mentioned above, <strong>you need to increase the queue size</strong> and catch the exception then retry executing the task.</p>\n</blockquote>\n\n<p>This is true if you know the maximum number of tasks that could be queued in runtime and you can allocate enough heap for that, but this isn't always the case. The benefit of using bounded queues is that you cant protect yourself against <code>OutOfMemoryError</code>.</p>\n\n<p>The correct answer should be the one from @gkamal. </p>\n\n<blockquote>\n  <p>The blocking queue is <strong>mainly for the Consumers</strong> (threads in the pool). The threads can wait for new tasks to become available on the queue, they will be automatically woken up. A plain linked list would not serve that purpose.</p>\n</blockquote>\n\n<p>My two cents:</p>\n\n<p>Developers could have decided that consumer won't block neither and in that case a BlockingQueue will no longer needed (although you still need to use a concurrent collection or handle synchronization manually), but in this case when the worker tries to <strong>poll</strong> a task from a empty collection you must</p>\n\n<ol>\n<li>Kill the thread (an handle new task creating fresh threads), or</li>\n<li>Do a busy waiting wasting cpu</li>\n</ol>\n\n<p>Since creating new threads is an expensive task (that is way we are using thread pools after all) and do a busy waiting to, the best option is to block that consumer and notify later when a task is available.</p>\n\n<p>Actually, there is a special case where workers won't block (at least not indefinitely), when there are more threads than the configured <code>corePoolSize</code>.</p>\n\n<blockquote>\n<pre><code> * @param keepAliveTime when the number of threads is greater than\n *        the core, this is the maximum time that excess idle threads\n *        will wait for new tasks before terminating.\n</code></pre>\n</blockquote>\n\n<p>We can see these two scenarios in ThreadPoolExecutor (java 1.8)</p>\n\n<pre><code>/**\n     * Performs blocking or timed wait for a task, depending on\n     * current configuration settings, or returns null if this worker\n     * must exit because of any of:\n     * 1. There are more than maximumPoolSize workers (due to\n     *    a call to setMaximumPoolSize).\n     * 2. The pool is stopped.\n     * 3. The pool is shutdown and the queue is empty.\n     * 4. This worker timed out waiting for a task, and timed-out\n     *    workers are subject to termination (that is,\n     *    {@code allowCoreThreadTimeOut || workerCount &gt; corePoolSize})\n     *    both before and after the timed wait, and if the queue is\n     *    non-empty, this worker is not the last thread in the pool.\n     *\n     * @return task, or null if the worker must exit, in which case\n     *         workerCount is decremented\n     */\n    private Runnable getTask() {\n        boolean timedOut = false; // Did the last poll() time out?\n\n        for (;;) {\n            int c = ctl.get();\n            int rs = runStateOf(c);\n\n            // Check if queue empty only if necessary.\n            if (rs &gt;= SHUTDOWN &amp;&amp; (rs &gt;= STOP || workQueue.isEmpty())) {\n                decrementWorkerCount();\n                return null;\n            }\n\n            int wc = workerCountOf(c);\n\n            // Are workers subject to culling?\n            boolean timed = allowCoreThreadTimeOut || wc &gt; corePoolSize;\n\n            if ((wc &gt; maximumPoolSize || (timed &amp;&amp; timedOut))\n                &amp;&amp; (wc &gt; 1 || workQueue.isEmpty())) {\n                if (compareAndDecrementWorkerCount(c))\n                    return null;\n                continue;\n            }\n\n            try {\n                Runnable r = timed ?\n                    workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) : // &lt;---- wait at most keepAliveTime\n                    workQueue.take(); // &lt;---- if there are no tasks, it awaits on notEmpty.await();\n                if (r != null)\n                    return r;\n                timedOut = true;\n            } catch (InterruptedException retry) {\n                timedOut = false;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1095015,"reputation":4315,"user_id":1088790,"accept_rate":77,"display_name":"haelix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648933020,"creation_date":1648933020,"answer_id":71721112,"question_id":7556465,"body_markdown":"Your question is perfectly legitimate and in this case you should ignore &quot;go read the docs&quot; or other superior comments you received.\r\n\r\n&gt; Here then what is the role of BlockingQueue if it is missing the\r\n&gt; tasks? Means why it is not waiting?\r\n\r\nAs the 2nd voted answer (not the accepted one) tells you, the use of a BlockingQueue is consistent with the need of **consumers** to block for work to be available (items in the queue). The blocking nature of the queue is seemingly not used on the enqueue side, and you are right, this is unintuitive and AFAIK undocumented.\r\n\r\nA legitimate use-case for the Executor is to have a fixed number of threads (e.g. 1 or 2 or as many as the number of cores of your machine), and yet never drop incoming work items, **AND** don&#39;t accumulate them in the queue. This use-case would be solved with a fixed number of core threads, and a bounded blocking queue that __blocks__ when full. Thereby the system putting backpressure onto upstream systems. This is a perfectly reasonable design decision.","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<p>Your question is perfectly legitimate and in this case you should ignore &quot;go read the docs&quot; or other superior comments you received.</p>\n<blockquote>\n<p>Here then what is the role of BlockingQueue if it is missing the\ntasks? Means why it is not waiting?</p>\n</blockquote>\n<p>As the 2nd voted answer (not the accepted one) tells you, the use of a BlockingQueue is consistent with the need of <strong>consumers</strong> to block for work to be available (items in the queue). The blocking nature of the queue is seemingly not used on the enqueue side, and you are right, this is unintuitive and AFAIK undocumented.</p>\n<p>A legitimate use-case for the Executor is to have a fixed number of threads (e.g. 1 or 2 or as many as the number of cores of your machine), and yet never drop incoming work items, <strong>AND</strong> don't accumulate them in the queue. This use-case would be solved with a fixed number of core threads, and a bounded blocking queue that <strong>blocks</strong> when full. Thereby the system putting backpressure onto upstream systems. This is a perfectly reasonable design decision.</p>\n"}],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35320,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":7557521,"answer_count":6,"score":25,"last_activity_date":1648933020,"creation_date":1317046574,"question_id":7556465,"body_markdown":"I have tried creating and executing ThreadPoolExecutor with&lt;BR&gt;\r\n\r\n    int poolSize = 2;\r\n    int maxPoolSize = 3;\r\n    ArrayBlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(2);\r\n\r\nIf i try 7th,8th... task continuously &lt;BR&gt;\r\n\r\n      threadPool.execute(task);  \r\n\r\nafter the queue reached maximum size&lt;BR&gt; it is start throwing &quot;RejectedExecutionException&quot;. Means i lost of adding those tasks.\r\n\r\nHere then what is the role of BlockingQueue if it is missing the tasks? Means why it is not waiting?\r\n\r\nFrom the definition of BlockingQueue\r\n\r\n&gt; A Queue that additionally supports operations that wait for the queue\r\n&gt; to become non-empty when retrieving an element, and wait for space to\r\n&gt; become available in the queue when storing an element.\r\n\r\n&lt;BR&gt; Why cant we go for linkedlist (normal queue implementation instead of blocking queue)?\r\n","title":"Why ThreadPoolExecutor has BlockingQueue as its argument?","body":"<p>I have tried creating and executing ThreadPoolExecutor with<BR></p>\n\n<pre><code>int poolSize = 2;\nint maxPoolSize = 3;\nArrayBlockingQueue&lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;Runnable&gt;(2);\n</code></pre>\n\n<p>If i try 7th,8th... task continuously <BR></p>\n\n<pre><code>  threadPool.execute(task);  \n</code></pre>\n\n<p>after the queue reached maximum size<BR> it is start throwing \"RejectedExecutionException\". Means i lost of adding those tasks.</p>\n\n<p>Here then what is the role of BlockingQueue if it is missing the tasks? Means why it is not waiting?</p>\n\n<p>From the definition of BlockingQueue</p>\n\n<blockquote>\n  <p>A Queue that additionally supports operations that wait for the queue\n  to become non-empty when retrieving an element, and wait for space to\n  become available in the queue when storing an element.</p>\n</blockquote>\n\n<p><BR> Why cant we go for linkedlist (normal queue implementation instead of blocking queue)?</p>\n"},{"tags":["java","weka"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648932310,"creation_date":1648932310,"answer_id":71721042,"question_id":71720683,"body_markdown":"The `setClassIndex` method only tells the dataset which attribute is acting as the class attribute. It doesn&#39;t change the dataset structure. Algorithms then check which attribute is the class attribute and act accordingly.\r\n\r\nAny attribute (of any type) in a dataset can function as class attribute.","title":"csv to arff and setclassindex","body":"<p>The <code>setClassIndex</code> method only tells the dataset which attribute is acting as the class attribute. It doesn't change the dataset structure. Algorithms then check which attribute is the class attribute and act accordingly.</p>\n<p>Any attribute (of any type) in a dataset can function as class attribute.</p>\n"}],"owner":{"account_id":10448483,"reputation":11,"user_id":7702863,"display_name":"robbyzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648932310,"creation_date":1648928276,"question_id":71720683,"body_markdown":"I have this csv\r\n\r\n    5.1,3.5,1.4,0.2,0\r\n    4.9,3,1.4,0.2,0\r\n    4.6,3.1,1.5,0.2,0\r\n    ...............\r\n\r\nI read csv in weka java and convert it to arff. I set the class (last field) \r\nwith setClassIndex. In the arff file the 5th field is set @attribute att5 numeric, it should be @attribute class 0. Why ? Is it correct ?  \r\n\r\n```\r\n@relation 1\r\n\r\n@attribute att1 numeric\r\n@attribute att2 numeric\r\n@attribute att3 numeric\r\n@attribute att4 numeric\r\n@attribute att5 numeric\r\n\r\n@data\r\n5.1,3.5,1.4,0.2,0\r\n4.9,3,1.4,0.2,0\r\n4.6,3.1,1.5,0.2,0\r\n..........\r\n```\r\nHere the java code :\r\n\r\n    loader.setSource(csvFiles);\r\n    Instances data = loader.getDataSet();\r\n    data.setClassIndex(data.numAttributes() - 1);\r\n    ArffSaver saver = new ArffSaver();\r\n    saver.setInstances(data);\r\n    saver.setFile(new File(filePath, &quot;my.arff&quot;));\r\n    saver.writeBatch();\r\n    \r\n\r\n","title":"csv to arff and setclassindex","body":"<p>I have this csv</p>\n<pre><code>5.1,3.5,1.4,0.2,0\n4.9,3,1.4,0.2,0\n4.6,3.1,1.5,0.2,0\n...............\n</code></pre>\n<p>I read csv in weka java and convert it to arff. I set the class (last field)\nwith setClassIndex. In the arff file the 5th field is set @attribute att5 numeric, it should be @attribute class 0. Why ? Is it correct ?</p>\n<pre><code>@relation 1\n\n@attribute att1 numeric\n@attribute att2 numeric\n@attribute att3 numeric\n@attribute att4 numeric\n@attribute att5 numeric\n\n@data\n5.1,3.5,1.4,0.2,0\n4.9,3,1.4,0.2,0\n4.6,3.1,1.5,0.2,0\n..........\n</code></pre>\n<p>Here the java code :</p>\n<pre><code>loader.setSource(csvFiles);\nInstances data = loader.getDataSet();\ndata.setClassIndex(data.numAttributes() - 1);\nArffSaver saver = new ArffSaver();\nsaver.setInstances(data);\nsaver.setFile(new File(filePath, &quot;my.arff&quot;));\nsaver.writeBatch();\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1647405298,"post_id":71491781,"comment_id":126360180,"body_markdown":"Problem #1: ***`Cabin` does not extend `Passenger`***. A cabin is not a passenger, it _contains_ passengers.","body":"Problem #1: <b><i><code>Cabin</code> does not extend <code>Passenger</code></i></b>. A cabin is not a passenger, it <i>contains</i> passengers."}],"answers":[{"tags":[],"owner":{"account_id":15159660,"reputation":1770,"user_id":10939204,"display_name":"Traian GEICU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647665050,"creation_date":1647406205,"answer_id":71491930,"question_id":71491781,"body_markdown":"`Cabin` should contain a data-structure which holds passengers.(association 1-n, from 1_cabin-N_passengers) You could also restrict the no. of passengers regarding to cabin type (up to 2-3-n passengers) and also check not to add n-times the same passenger in the same cabin for a specific time. Same logic with `Ship` which have `Cabins`.\r\n\r\n    class Cabin\r\n    {\r\n      ... etc ... as u did \r\n      List&lt;Passenger&gt; listP = new ArrayList&lt;Passenger&gt;();\r\n    }\r\n    listP.add(new Passenger(...));\r\n\r\n    class Ship\r\n    {\r\n       ...\r\n       List&lt;Cabin&gt; listC = new ArrayList&lt;Cabin&gt;();\r\n    }\r\n    listC.add(new Cabin(...));\r\n    //get a specific cabin from the ship and add a new Passenger\r\n    //note maybe it&#39;s better to do your custom methods for add,get_Ship, Cabin (based on the requiremts). \r\n    //Standard List Methods usually do not fit exactly custom requirements, so need to be enhanced \r\n    ship.getlistC().get(i_specificCabin).listP.add(new Passenger(...)); \r\n\r\nBe carefully not to mix semantics, think how in real world things works (see @Jim Garrison). \r\n\r\nNote: Maybe a `Map&lt;String/Integer,CustomObject&gt;` can fit well for ease of access based on key(id).","title":"How to store only multiple passengers inside the cabin class?","body":"<p><code>Cabin</code> should contain a data-structure which holds passengers.(association 1-n, from 1_cabin-N_passengers) You could also restrict the no. of passengers regarding to cabin type (up to 2-3-n passengers) and also check not to add n-times the same passenger in the same cabin for a specific time. Same logic with <code>Ship</code> which have <code>Cabins</code>.</p>\n<pre><code>class Cabin\n{\n  ... etc ... as u did \n  List&lt;Passenger&gt; listP = new ArrayList&lt;Passenger&gt;();\n}\nlistP.add(new Passenger(...));\n\nclass Ship\n{\n   ...\n   List&lt;Cabin&gt; listC = new ArrayList&lt;Cabin&gt;();\n}\nlistC.add(new Cabin(...));\n//get a specific cabin from the ship and add a new Passenger\n//note maybe it's better to do your custom methods for add,get_Ship, Cabin (based on the requiremts). \n//Standard List Methods usually do not fit exactly custom requirements, so need to be enhanced \nship.getlistC().get(i_specificCabin).listP.add(new Passenger(...)); \n</code></pre>\n<p>Be carefully not to mix semantics, think how in real world things works (see @Jim Garrison).</p>\n<p>Note: Maybe a <code>Map&lt;String/Integer,CustomObject&gt;</code> can fit well for ease of access based on key(id).</p>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647411712,"creation_date":1647411379,"answer_id":71492527,"question_id":71491781,"body_markdown":"Your relationship become as per your code is `1 Cabin have multiple Passager` so relationship is `OneToMany`. The best and easiest way to solve your problem is [**Composition**][1] in java. You are working with `Inheritance`, It has `IS-A` relationship but `Compostion` has `HAS-A` relationship. Composition is best to worked on relationship.\r\n\r\nHere down is code that solved your problem using `Composition Technique:\r\n\r\n**Passenger.java**\r\n```\r\npublic class Passenger {\r\n    String firstName;\r\n    String surName;\r\n    int expenses;\r\n\r\n    // No argument constructor\r\n    public Passenger() {\r\n\t\t\r\n\t}\r\n    \r\n    // All argument constructor\r\n    public Passenger(String firstName, String surName, int expenses) {\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.surName = surName;\r\n\t\tthis.expenses = expenses;\r\n\t}\r\n    \r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n    \r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n    \r\n    public String getSurName() {\r\n        return surName;\r\n    }\r\n    \r\n    public void setSurName(String surName) {\r\n        this.surName = surName;\r\n    }\r\n    \r\n    public int getExpenses() {\r\n        return expenses;\r\n    }\r\n    \r\n    public void setExpenses(int expenses) {\r\n        this.expenses = expenses;\r\n    }\r\n}\r\n```\r\n\r\n**Cabin.java**\r\n```\r\npublic class Cabin {\r\n\r\n    int cabinNumber;\r\n    String cabinName;\r\n    \r\n    List&lt;Passenger&gt; passenger = new ArrayList&lt;&gt;();\r\n    \r\n    // No argument constructor\r\n    public Cabin() {\r\n\t\t\r\n\t}\r\n    \r\n    // All argument constructor\r\n    public Cabin(int cabinNumber, String cabinName, List&lt;Passenger&gt; passenger) {\r\n\t\tthis.cabinNumber = cabinNumber;\r\n\t\tthis.cabinName = cabinName;\r\n\t\tthis.passenger = passenger;\r\n\t}\r\n    \r\n    public String getCabinName() {\r\n        return cabinName;\r\n    }\r\n    \r\n    public void setCabinName(String cabinName) {\r\n        this.cabinName = cabinName;\r\n    }\r\n    \r\n    public int getCabinNumber() {\r\n        return cabinNumber;\r\n    }\r\n    \r\n    public void setCabinNumber(int cabinNumber) {\r\n        this.cabinNumber = cabinNumber;\r\n    }\r\n    \r\n    public List&lt;Passenger&gt; getPassenger() {\r\n        return passenger;\r\n    }\r\n    \r\n    public void setPassenger(List&lt;Passenger&gt; passenger) {\r\n        this.passenger = passenger;\r\n    }\r\n}\r\n```\r\n\r\nHere down is `Main` class which insert record in `Passanger` and `Cabin` with relationship.\r\n```\r\npublic static void main (String[] args) {\r\n        Cabin cabin = new Cabin();\r\n        \r\n        // Insert and Put all Passanger in ArrayList\r\n        List&lt;Passenger&gt; passenger = new ArrayList&lt;&gt;();\r\n        passenger.add(new Passenger(&quot;Jack&quot;, &quot;Crawly&quot;, 1000));\r\n        passenger.add(new Passenger(&quot;Michel&quot;, &quot;Jordan&quot;, 2000));\r\n        passenger.add(new Passenger(&quot;Tim&quot;, &quot;Leach&quot;, 3000));\r\n        \r\n        if(cabin.getCabinName() == null)\r\n        {\r\n            // Insert Cabin with all Passenger\r\n            cabin = new Cabin(1, &quot;Cabin1&quot;, passenger);   \r\n        }\r\n        \r\n        // Get all Passangers with Cabin\r\n        List&lt;Passenger&gt; passengers = cabin.getPassenger();   \r\n        for (Passenger psg : passengers) {\r\n            System.out.println(&quot;Cabin Number : &quot; + cabin.getCabinNumber());\r\n            System.out.println(&quot;FirstName : &quot; + psg.getFirstName());\r\n            System.out.println(&quot;LastName : &quot; + psg.getSurName());\r\n            System.out.println();\r\n        }   \r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/composition-in-java/","title":"How to store only multiple passengers inside the cabin class?","body":"<p>Your relationship become as per your code is <code>1 Cabin have multiple Passager</code> so relationship is <code>OneToMany</code>. The best and easiest way to solve your problem is <a href=\"https://www.geeksforgeeks.org/composition-in-java/\" rel=\"nofollow noreferrer\"><strong>Composition</strong></a> in java. You are working with <code>Inheritance</code>, It has <code>IS-A</code> relationship but <code>Compostion</code> has <code>HAS-A</code> relationship. Composition is best to worked on relationship.</p>\n<p>Here down is code that solved your problem using `Composition Technique:</p>\n<p><strong>Passenger.java</strong></p>\n<pre><code>public class Passenger {\n    String firstName;\n    String surName;\n    int expenses;\n\n    // No argument constructor\n    public Passenger() {\n        \n    }\n    \n    // All argument constructor\n    public Passenger(String firstName, String surName, int expenses) {\n        this.firstName = firstName;\n        this.surName = surName;\n        this.expenses = expenses;\n    }\n    \n    public String getFirstName() {\n        return firstName;\n    }\n    \n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    \n    public String getSurName() {\n        return surName;\n    }\n    \n    public void setSurName(String surName) {\n        this.surName = surName;\n    }\n    \n    public int getExpenses() {\n        return expenses;\n    }\n    \n    public void setExpenses(int expenses) {\n        this.expenses = expenses;\n    }\n}\n</code></pre>\n<p><strong>Cabin.java</strong></p>\n<pre><code>public class Cabin {\n\n    int cabinNumber;\n    String cabinName;\n    \n    List&lt;Passenger&gt; passenger = new ArrayList&lt;&gt;();\n    \n    // No argument constructor\n    public Cabin() {\n        \n    }\n    \n    // All argument constructor\n    public Cabin(int cabinNumber, String cabinName, List&lt;Passenger&gt; passenger) {\n        this.cabinNumber = cabinNumber;\n        this.cabinName = cabinName;\n        this.passenger = passenger;\n    }\n    \n    public String getCabinName() {\n        return cabinName;\n    }\n    \n    public void setCabinName(String cabinName) {\n        this.cabinName = cabinName;\n    }\n    \n    public int getCabinNumber() {\n        return cabinNumber;\n    }\n    \n    public void setCabinNumber(int cabinNumber) {\n        this.cabinNumber = cabinNumber;\n    }\n    \n    public List&lt;Passenger&gt; getPassenger() {\n        return passenger;\n    }\n    \n    public void setPassenger(List&lt;Passenger&gt; passenger) {\n        this.passenger = passenger;\n    }\n}\n</code></pre>\n<p>Here down is <code>Main</code> class which insert record in <code>Passanger</code> and <code>Cabin</code> with relationship.</p>\n<pre><code>public static void main (String[] args) {\n        Cabin cabin = new Cabin();\n        \n        // Insert and Put all Passanger in ArrayList\n        List&lt;Passenger&gt; passenger = new ArrayList&lt;&gt;();\n        passenger.add(new Passenger(&quot;Jack&quot;, &quot;Crawly&quot;, 1000));\n        passenger.add(new Passenger(&quot;Michel&quot;, &quot;Jordan&quot;, 2000));\n        passenger.add(new Passenger(&quot;Tim&quot;, &quot;Leach&quot;, 3000));\n        \n        if(cabin.getCabinName() == null)\n        {\n            // Insert Cabin with all Passenger\n            cabin = new Cabin(1, &quot;Cabin1&quot;, passenger);   \n        }\n        \n        // Get all Passangers with Cabin\n        List&lt;Passenger&gt; passengers = cabin.getPassenger();   \n        for (Passenger psg : passengers) {\n            System.out.println(&quot;Cabin Number : &quot; + cabin.getCabinNumber());\n            System.out.println(&quot;FirstName : &quot; + psg.getFirstName());\n            System.out.println(&quot;LastName : &quot; + psg.getSurName());\n            System.out.println();\n        }   \n}\n</code></pre>\n"}],"owner":{"account_id":8826140,"reputation":39,"user_id":16999008,"display_name":"Vinula Senarathne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71492527,"answer_count":2,"score":2,"last_activity_date":1648932102,"creation_date":1647404728,"question_id":71491781,"body_markdown":"I have three classes in my program. `Ship.java`, `Cabin.java` and `Passenger.java`. According to the program a single cabin should hold up to 3 passengers only. But I&#39;m stuck on how to do this. I have created an array of cabin objects in my `Ship.java` class. I can only add one passenger into a cabin with below mentioned `addCustomer` method\r\n\r\n    Cabin[] cruiseShip = new Cabin[12];\r\n    for (int i = 0; i &lt; cruiseShip.length; i++) {\r\n        cruiseShip[i] = new Cabin();\r\n    }\r\n\r\n    public static void addCustomer(Cabin[] cruiseShip, String firstName, String surName, int expenses, int cabinNumber){\r\n        if (cruiseShip[cabinNumber].getCabinName().equals(&quot;empty&quot;)){\r\n            cruiseShip[cabinNumber].setFirstName(firstName);\r\n            cruiseShip[cabinNumber].setSurName(surName);\r\n            cruiseShip[cabinNumber].setExpenses(expenses);\r\n            cruiseShip[cabinNumber].setCabinName(&quot;not empty&quot;);\r\n\r\n            System.out.println(&quot;Cabin number &quot; + cruiseShip[cabinNumber].getCabinNumber() + &quot; is occupied by &quot; + cruiseShip[cabinNumber].getFirstName() + &quot; &quot; + cruiseShip[cabinNumber].getSurName() );\r\n        }\r\n    }\r\n\r\n\r\nThis is how `Cabin.java` looks :\r\n\r\n    public class Cabin extends Passenger {\r\n        int cabinNumber;\r\n        String cabinName;\r\n\r\n        public String getCabinName() {\r\n            return cabinName;\r\n        }\r\n\r\n        public void setCabinName(String cabinName) {\r\n            this.cabinName = cabinName;\r\n        }\r\n\r\n        public int getCabinNumber() {\r\n            return cabinNumber;\r\n        }\r\n\r\n        public void setCabinNumber(int cabinNumber) {\r\n            this.cabinNumber = cabinNumber;\r\n        }\r\n    }\r\n\r\n\r\nThis is how `Passenger.java` looks : \r\n\r\n    public class Passenger {\r\n        String firstName;\r\n        String surName;\r\n        int expenses;\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n\r\n        public String getSurName() {\r\n            return surName;\r\n        }\r\n\r\n        public void setSurName(String surName) {\r\n            this.surName = surName;\r\n        }\r\n\r\n        public int getExpenses() {\r\n            return expenses;\r\n        }\r\n\r\n        public void setExpenses(int expenses) {\r\n            this.expenses = expenses;\r\n        }\r\n    }\r\n\r\n","title":"How to store only multiple passengers inside the cabin class?","body":"<p>I have three classes in my program. <code>Ship.java</code>, <code>Cabin.java</code> and <code>Passenger.java</code>. According to the program a single cabin should hold up to 3 passengers only. But I'm stuck on how to do this. I have created an array of cabin objects in my <code>Ship.java</code> class. I can only add one passenger into a cabin with below mentioned <code>addCustomer</code> method</p>\n<pre><code>Cabin[] cruiseShip = new Cabin[12];\nfor (int i = 0; i &lt; cruiseShip.length; i++) {\n    cruiseShip[i] = new Cabin();\n}\n\npublic static void addCustomer(Cabin[] cruiseShip, String firstName, String surName, int expenses, int cabinNumber){\n    if (cruiseShip[cabinNumber].getCabinName().equals(&quot;empty&quot;)){\n        cruiseShip[cabinNumber].setFirstName(firstName);\n        cruiseShip[cabinNumber].setSurName(surName);\n        cruiseShip[cabinNumber].setExpenses(expenses);\n        cruiseShip[cabinNumber].setCabinName(&quot;not empty&quot;);\n\n        System.out.println(&quot;Cabin number &quot; + cruiseShip[cabinNumber].getCabinNumber() + &quot; is occupied by &quot; + cruiseShip[cabinNumber].getFirstName() + &quot; &quot; + cruiseShip[cabinNumber].getSurName() );\n    }\n}\n</code></pre>\n<p>This is how <code>Cabin.java</code> looks :</p>\n<pre><code>public class Cabin extends Passenger {\n    int cabinNumber;\n    String cabinName;\n\n    public String getCabinName() {\n        return cabinName;\n    }\n\n    public void setCabinName(String cabinName) {\n        this.cabinName = cabinName;\n    }\n\n    public int getCabinNumber() {\n        return cabinNumber;\n    }\n\n    public void setCabinNumber(int cabinNumber) {\n        this.cabinNumber = cabinNumber;\n    }\n}\n</code></pre>\n<p>This is how <code>Passenger.java</code> looks :</p>\n<pre><code>public class Passenger {\n    String firstName;\n    String surName;\n    int expenses;\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getSurName() {\n        return surName;\n    }\n\n    public void setSurName(String surName) {\n        this.surName = surName;\n    }\n\n    public int getExpenses() {\n        return expenses;\n    }\n\n    public void setExpenses(int expenses) {\n        this.expenses = expenses;\n    }\n}\n</code></pre>\n"},{"tags":["java","ip"],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648931839,"creation_date":1648931535,"answer_id":71720963,"question_id":71720840,"body_markdown":"Because that&#39;s how IPv6 addresses are conventionally represented, and in fact are required to be represented in some contexts.\r\n\r\nIt&#39;s not an array.\r\n\r\nThe rationale appears when you consider &#39;address:port&#39; notation.\r\n\r\n  1:2::3:4  is an IP address\r\n\r\n  [1:2::3]:4 is an IP address and port\r\n\r\nThe brackets are also required when an address is used in a URI. What type is your &#39;request&#39;?  If it is something related to HTTP, there&#39;s your answer.\r\n\r\n","title":"why is request.getRemoteAddr() returning square brackets like this: &quot;[0:0:0:0:0:0:0:1]&quot; instead of just &quot;0:0:0:0:0:0:0:1&quot;","body":"<p>Because that's how IPv6 addresses are conventionally represented, and in fact are required to be represented in some contexts.</p>\n<p>It's not an array.</p>\n<p>The rationale appears when you consider 'address:port' notation.</p>\n<p>1:2::3:4  is an IP address</p>\n<p>[1:2::3]:4 is an IP address and port</p>\n<p>The brackets are also required when an address is used in a URI. What type is your 'request'?  If it is something related to HTTP, there's your answer.</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648931839,"creation_date":1648930175,"question_id":71720840,"body_markdown":"This code:\r\n\r\n       ipAddress = request.getRemoteAddr();\r\n       log.debug(&quot;getIP remoteAddr &gt;&quot; +ipAddress + &quot;&lt;&quot;);\r\n\r\noutputs this:\r\n\r\n     getIP remoteAddr &gt;[0:0:0:0:0:0:0:1]&lt;\r\n\r\nIts returning a string of an array!  However its only doing this running java locally.\r\n\r\nAccording to all the java examples in stackoverflow, getRemoteAddr() should return the IP, not an ip in an array!\r\n\r\ni have not found an example of code to get the callers ip which removes the square brackets, so this appears to be an anomaly?\r\n\r\nShould we look for, and remove &quot;[&quot; and &quot;]&quot; from anything returned by getRemoteAddr to get the desired IP?","title":"why is request.getRemoteAddr() returning square brackets like this: &quot;[0:0:0:0:0:0:0:1]&quot; instead of just &quot;0:0:0:0:0:0:0:1&quot;","body":"<p>This code:</p>\n<pre><code>   ipAddress = request.getRemoteAddr();\n   log.debug(&quot;getIP remoteAddr &gt;&quot; +ipAddress + &quot;&lt;&quot;);\n</code></pre>\n<p>outputs this:</p>\n<pre><code> getIP remoteAddr &gt;[0:0:0:0:0:0:0:1]&lt;\n</code></pre>\n<p>Its returning a string of an array!  However its only doing this running java locally.</p>\n<p>According to all the java examples in stackoverflow, getRemoteAddr() should return the IP, not an ip in an array!</p>\n<p>i have not found an example of code to get the callers ip which removes the square brackets, so this appears to be an anomaly?</p>\n<p>Should we look for, and remove &quot;[&quot; and &quot;]&quot; from anything returned by getRemoteAddr to get the desired IP?</p>\n"},{"tags":["java","spring","jdbc"],"answers":[{"tags":[],"owner":{"account_id":11498247,"reputation":102,"user_id":8426801,"display_name":"Piyush Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648931100,"creation_date":1648931100,"answer_id":71720937,"question_id":71720875,"body_markdown":"Since you are using Liquibase dependency in your pom.xml file, you need to make a **db.changelog-master.yaml** file in order to store all the information related to making new Liquibase scripts and updating or deleting the existing Liquibase scripts. You can create this file in the **resources folder** of your project. Also if you need you have the option to choose between **yaml** and **xml** for creating this file.","title":"Setting up JdbcTemplate in IDEA Community. Liquibase failure","body":"<p>Since you are using Liquibase dependency in your pom.xml file, you need to make a <strong>db.changelog-master.yaml</strong> file in order to store all the information related to making new Liquibase scripts and updating or deleting the existing Liquibase scripts. You can create this file in the <strong>resources folder</strong> of your project. Also if you need you have the option to choose between <strong>yaml</strong> and <strong>xml</strong> for creating this file.</p>\n"}],"owner":{"account_id":24697636,"reputation":61,"user_id":18589379,"display_name":"surleversant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71720937,"answer_count":1,"score":1,"last_activity_date":1648931100,"creation_date":1648930526,"question_id":71720875,"body_markdown":"I have working program with JDBC API and want to implement JDBC Template (free version IDEA Community).\r\n\r\nIn my SpringConfig I add 2 Beans (no other changes) and right after that I receive Errror, when trying to launch the program. The error:\r\n\r\n*Liquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;.\r\nAction:\r\nMake sure a Liquibase changelog is present at the configured path.*\r\n\r\n[tree structure][1]\r\n\r\n**What&#39;s wrong with it?** \r\n\r\nI do not do any another changes. Nothing add to application.properties (as far as I understand it is not necessary).\r\nIn my pom.xml I have: liquibase-core, spring-boot-starter-data-jpa, mysql-connector-java\r\n\r\nthe SpringConfig:\r\n\r\n    @Configuration\r\n    @ComponentScan (&quot;com.ko&quot;)\r\n    @EnableWebMvc\r\n    public class SpringConfig implements WebMvcConfigurer  {\r\n    \r\n        private final ApplicationContext applicationContext;\r\n    \r\n        @Autowired\r\n        public SpringConfig(ApplicationContext applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        @Bean //filter for _method\r\n        public FilterRegistrationBean HiddenHttpMethodFilter (){\r\n            FilterRegistrationBean filterRegBean = new FilterRegistrationBean(new HiddenHttpMethodFilter());\r\n            filterRegBean.setUrlPatterns(Arrays.asList(&quot;/*&quot;));\r\n            return filterRegBean;\r\n        }\r\n    /*\r\n        @Bean //first variant\r\n        public DataSource datasSource(){\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/javastudy&quot;);\r\n            dataSource.setUsername(&quot;root&quot;);\r\n            dataSource.setPassword(&quot;root&quot;);\r\n            return dataSource;\r\n        }*/\r\n    \r\n        @Bean //second variant\r\n        public DataSource datasource() {\r\n            return DataSourceBuilder.create()\r\n                    .driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;)\r\n                    .url(&quot;jdbc:mysql://localhost:3306/javastudy&quot;)\r\n                    .username(&quot;root&quot;)\r\n                    .password(&quot;root&quot;)\r\n                    .build();\r\n        }\r\n        @Bean \r\n        public JdbcTemplate jdbcTemplate(){\r\n            return new JdbcTemplate(datasource());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R2Som.png","title":"Setting up JdbcTemplate in IDEA Community. Liquibase failure","body":"<p>I have working program with JDBC API and want to implement JDBC Template (free version IDEA Community).</p>\n<p>In my SpringConfig I add 2 Beans (no other changes) and right after that I receive Errror, when trying to launch the program. The error:</p>\n<p><em>Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.\nAction:\nMake sure a Liquibase changelog is present at the configured path.</em></p>\n<p><a href=\"https://i.stack.imgur.com/R2Som.png\" rel=\"nofollow noreferrer\">tree structure</a></p>\n<p><strong>What's wrong with it?</strong></p>\n<p>I do not do any another changes. Nothing add to application.properties (as far as I understand it is not necessary).\nIn my pom.xml I have: liquibase-core, spring-boot-starter-data-jpa, mysql-connector-java</p>\n<p>the SpringConfig:</p>\n<pre><code>@Configuration\n@ComponentScan (&quot;com.ko&quot;)\n@EnableWebMvc\npublic class SpringConfig implements WebMvcConfigurer  {\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean //filter for _method\n    public FilterRegistrationBean HiddenHttpMethodFilter (){\n        FilterRegistrationBean filterRegBean = new FilterRegistrationBean(new HiddenHttpMethodFilter());\n        filterRegBean.setUrlPatterns(Arrays.asList(&quot;/*&quot;));\n        return filterRegBean;\n    }\n/*\n    @Bean //first variant\n    public DataSource datasSource(){\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/javastudy&quot;);\n        dataSource.setUsername(&quot;root&quot;);\n        dataSource.setPassword(&quot;root&quot;);\n        return dataSource;\n    }*/\n\n    @Bean //second variant\n    public DataSource datasource() {\n        return DataSourceBuilder.create()\n                .driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;)\n                .url(&quot;jdbc:mysql://localhost:3306/javastudy&quot;)\n                .username(&quot;root&quot;)\n                .password(&quot;root&quot;)\n                .build();\n    }\n    @Bean \n    public JdbcTemplate jdbcTemplate(){\n        return new JdbcTemplate(datasource());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1450077032,"post_id":34261466,"comment_id":56264335,"body_markdown":"One solution is using regex: `str.matches(&quot;[a-zA-Z]+&quot;);`.. There are many other solutions, please try to think about one and post it if you will have problems.","body":"One solution is using regex: <code>str.matches(&quot;[a-zA-Z]+&quot;);</code>.. There are many other solutions, please try to think about one and post it if you will have problems."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1450077360,"post_id":34261466,"comment_id":56264491,"body_markdown":"Split each line on space (google for &quot;how to split a String in Java&quot;). The first element is the int, the second is the word.","body":"Split each line on space (google for &quot;how to split a String in Java&quot;). The first element is the int, the second is the word."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1450077365,"post_id":34261466,"comment_id":56264494,"body_markdown":"Is the file tab-separated, or are those spaces? Can each line have multiple words in?","body":"Is the file tab-separated, or are those spaces? Can each line have multiple words in?"}],"answers":[{"tags":[],"owner":{"account_id":5191806,"reputation":740,"user_id":4779852,"accept_rate":76,"display_name":"Jeet Parekh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450078204,"creation_date":1450078204,"answer_id":34261756,"question_id":34261466,"body_markdown":"Use `split(String regex)` in `String` class. Set the regex to search for whitespaces OR digits. It will return a `String[]` which contains words.\r\n\r\nIf you are analyzing it line by line, you would want another `String[]` in which you would append all the words from the new lines.","title":"How to extract ONLY words from a txt file in Java","body":"<p>Use <code>split(String regex)</code> in <code>String</code> class. Set the regex to search for whitespaces OR digits. It will return a <code>String[]</code> which contains words.</p>\n\n<p>If you are analyzing it line by line, you would want another <code>String[]</code> in which you would append all the words from the new lines.</p>\n"},{"tags":[],"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450079291,"creation_date":1450079291,"answer_id":34261992,"question_id":34261466,"body_markdown":"plz, follow the code.\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class HorseFeed {\r\n    \r\n        public static void main(String[] args) throws FileNotFoundException, IOException {\r\n    \r\n            List&lt;String&gt; lineList = new ArrayList&lt;String&gt;();\r\n            BufferedReader br = new BufferedReader(new FileReader(new File(&quot;C:\\\\Users\\\\Patric\\\\Desktop\\\\HorseWork.txt&quot;)));\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    Pattern pattern = Pattern.compile(&quot;[0-9]+&quot;);\r\n                    Matcher matcher = pattern.matcher(line);\r\n                    if( pattern.matcher(line).matches()){  \r\n                        while(matcher.find()){\r\n                            lineList.add(matcher.group());\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n\r\nhere lineList contains your integer.","title":"How to extract ONLY words from a txt file in Java","body":"<p>plz, follow the code.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class HorseFeed {\n\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n\n        List&lt;String&gt; lineList = new ArrayList&lt;String&gt;();\n        BufferedReader br = new BufferedReader(new FileReader(new File(\"C:\\\\Users\\\\Patric\\\\Desktop\\\\HorseWork.txt\")));\n            String line;\n            while ((line = br.readLine()) != null) {\n                Pattern pattern = Pattern.compile(\"[0-9]+\");\n                Matcher matcher = pattern.matcher(line);\n                if( pattern.matcher(line).matches()){  \n                    while(matcher.find()){\n                        lineList.add(matcher.group());\n                    }\n\n                }\n            }\n        }\n\n    }\n</code></pre>\n\n<p>here lineList contains your integer.</p>\n"},{"tags":[],"owner":{"account_id":6272780,"reputation":86,"user_id":4876485,"display_name":"Serkan &#214;zal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450080981,"creation_date":1450080981,"answer_id":34262355,"question_id":34261466,"body_markdown":"This should work:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n        \r\n    public class HorseFeed {\r\n    \r\n        public static void main(String[] args) throws FileNotFoundException {\r\n    \t\tList&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\r\n    \t\tList&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n            Scanner sc = new Scanner(new File(&quot;C:\\\\Users\\\\Patric\\\\Desktop\\\\HorseWork.txt&quot;));\r\n            while (sc.hasNextLine()) {\r\n    \t\t\tString line = sc.nextLine();\r\n    \t\t\tString[] lineParts = line.split(&quot;\\\\s+&quot;);\r\n    \t\t\tInteger intValue = Integer.parseInt(lineParts[0]);\r\n    \t\t\tString strValue = lineParts[1];\r\n    \t\t\tintList.add(intValue);\r\n    \t\t\tstrList.add(strValue);\r\n            }\r\n    \r\n    \t\tSystem.out.println(&quot;Values: &quot;);\r\n            for(int i = 0; i &lt; intList.size(); i++) {\r\n                System.out.print(&quot;\\t&quot; + intList.get(i) + &quot;: &quot; + strList.get(i));\r\n            }\r\n        }\r\n    \t\r\n    }\t\r\n\r\n","title":"How to extract ONLY words from a txt file in Java","body":"<p>This should work:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class HorseFeed {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\n        List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\n\n        Scanner sc = new Scanner(new File(\"C:\\\\Users\\\\Patric\\\\Desktop\\\\HorseWork.txt\"));\n        while (sc.hasNextLine()) {\n            String line = sc.nextLine();\n            String[] lineParts = line.split(\"\\\\s+\");\n            Integer intValue = Integer.parseInt(lineParts[0]);\n            String strValue = lineParts[1];\n            intList.add(intValue);\n            strList.add(strValue);\n        }\n\n        System.out.println(\"Values: \");\n        for(int i = 0; i &lt; intList.size(); i++) {\n            System.out.print(\"\\t\" + intList.get(i) + \": \" + strList.get(i));\n        }\n    }\n\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1864268,"reputation":101,"user_id":1688176,"accept_rate":50,"display_name":"achan1989"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648930707,"creation_date":1450081173,"answer_id":34262391,"question_id":34261466,"body_markdown":"First extract all text of file and stored it into String . then use replaceall method of string class with pattern to remove digits from it.\r\n\r\nExample:\r\n\r\n    String fileText = new String(&quot;welcome 2 java&quot;);\r\n    ss = fileText.replaceAll(&quot;-?\\\\d+&quot;, &quot;&quot;);\r\n    System.out.println(ss);","title":"How to extract ONLY words from a txt file in Java","body":"<p>First extract all text of file and stored it into String . then use replaceall method of string class with pattern to remove digits from it.</p>\n<p>Example:</p>\n<pre><code>String fileText = new String(&quot;welcome 2 java&quot;);\nss = fileText.replaceAll(&quot;-?\\\\d+&quot;, &quot;&quot;);\nSystem.out.println(ss);\n</code></pre>\n"}],"owner":{"account_id":7332361,"reputation":31,"user_id":5584825,"display_name":"Patric Bernard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7114,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1648930707,"creation_date":1450076923,"question_id":34261466,"body_markdown":"So I have to extract data from a text file.\r\n\r\nThe text file is set up like this.\r\n\r\n    3400      Moderate\r\n    310       Light\r\n    etc.\r\n\r\nI need to extract the numbers, store them in one array, and the strings, and store them in another array so I can do calculations to the numbers based on whats written in the array, and then output that to a file. I&#39;ve got the last part down, I just cant figure out how to separate the ints from the strings when I extract the data from the txt. file.\r\n\r\nHere is what I have now, but it&#39;s just extracting the int and the word as a `String`.\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class HorseFeed {\r\n\tpublic static void main(String[] args){\r\n\t\t\r\n\t\tScanner sc = null;\r\n\t\ttry {\r\n\t\t\tsc = new Scanner(new File(&quot;C:\\\\Users\\\\Patric\\\\Desktop\\\\HorseWork.txt&quot;));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\t\twhile (sc.hasNextLine()) {\r\n\t\t  lines.add(sc.nextLine());\r\n\t\t}\r\n\r\n\t\tString[] arr = lines.toArray(new String[0]);\r\n\t\t\r\n\t\tfor(int i = 0; i&lt; 100; i++){\r\n\t\t\tSystem.out.print(arr[i]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n    }","title":"How to extract ONLY words from a txt file in Java","body":"<p>So I have to extract data from a text file.</p>\n\n<p>The text file is set up like this.</p>\n\n<pre><code>3400      Moderate\n310       Light\netc.\n</code></pre>\n\n<p>I need to extract the numbers, store them in one array, and the strings, and store them in another array so I can do calculations to the numbers based on whats written in the array, and then output that to a file. I've got the last part down, I just cant figure out how to separate the ints from the strings when I extract the data from the txt. file.</p>\n\n<p>Here is what I have now, but it's just extracting the int and the word as a <code>String</code>.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class HorseFeed {\npublic static void main(String[] args){\n\n    Scanner sc = null;\n    try {\n        sc = new Scanner(new File(\"C:\\\\Users\\\\Patric\\\\Desktop\\\\HorseWork.txt\"));\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    while (sc.hasNextLine()) {\n      lines.add(sc.nextLine());\n    }\n\n    String[] arr = lines.toArray(new String[0]);\n\n    for(int i = 0; i&lt; 100; i++){\n        System.out.print(arr[i]);\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1534190839,"post_id":51829782,"comment_id":90613986,"body_markdown":"If you work with `Channel` there&#39;s `isOpen()`.","body":"If you work with <code>Channel</code> there&#39;s <code>isOpen()</code>."},{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":1,"creation_date":1534191181,"post_id":51829782,"comment_id":90614130,"body_markdown":"`InputStream` is an abstract class. In the subclass you&#39;re using, you should override the method `available()`, as is explained in [this](https://docs.oracle.com/javase/10/docs/api/java/io/InputStream.html#available()) API doc...","body":"<code>InputStream</code> is an abstract class. In the subclass you&#39;re using, you should override the method <code>available()</code>, as is explained in <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\">this</a> API doc..."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1534192237,"post_id":51829782,"comment_id":90614568,"body_markdown":"@zlakad I have a method that takes an `InputStream` argument, to which the caller can pass any subclass of `InputStream` they wish (just edited my question to reflect that).","body":"@zlakad I have a method that takes an <code>InputStream</code> argument, to which the caller can pass any subclass of <code>InputStream</code> they wish (just edited my question to reflect that)."},{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":0,"creation_date":1534192492,"post_id":51829782,"comment_id":90614676,"body_markdown":"Well, the last part of @erickson answer explains your problem.","body":"Well, the last part of @erickson answer explains your problem."}],"answers":[{"tags":[],"owner":{"account_id":5270019,"reputation":559,"user_id":4208588,"display_name":"Jose Romero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534191482,"creation_date":1534191482,"answer_id":51829957,"question_id":51829782,"body_markdown":"I think the cleanest way to do this is add a custom class which extends any sort of InputStream that you want to use. Add it to your utils package or something. And have in that class a value called:\r\n\r\n    private boolean isClosed = false;\r\n\r\nSo when you call close you can do something like:\r\n\r\n    @Override\r\n    public void close() throws IOException {\r\n        if(!isClosed){\r\n            super.close();\r\n            isClosed = true;\r\n        }\r\n    }\r\n\r\n    public boolean isClosed() {\r\n        return isClosed;\r\n    } \r\n\r\nIt&#39;d be the cleanest way for your specific requirement in my opinion. Also you can manage the error in a way that you can return a specific custom error on different scenarios.","title":"Find out whether an InputStream is closed","body":"<p>I think the cleanest way to do this is add a custom class which extends any sort of InputStream that you want to use. Add it to your utils package or something. And have in that class a value called:</p>\n\n<pre><code>private boolean isClosed = false;\n</code></pre>\n\n<p>So when you call close you can do something like:</p>\n\n<pre><code>@Override\npublic void close() throws IOException {\n    if(!isClosed){\n        super.close();\n        isClosed = true;\n    }\n}\n\npublic boolean isClosed() {\n    return isClosed;\n} \n</code></pre>\n\n<p>It'd be the cleanest way for your specific requirement in my opinion. Also you can manage the error in a way that you can return a specific custom error on different scenarios.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534195934,"creation_date":1534192248,"answer_id":51830113,"question_id":51829782,"body_markdown":"No. There&#39;s no API for determining whether a stream has been closed.\r\n\r\nApplications should be (and generally *are*) designed so it isn&#39;t necessary to track the state of a stream explicitly. Streams should be opened and reliably closed in an ARM block, and inside the block, it should be safe to assume that the stream is open. When an an ARM block is used idiomatically, it naturally scopes the reference to a stream so that no one can access it after it&#39;s closed. \r\n\r\nThere are a number of ways that streams can be logically &quot;closed&quot;, and many stream implementations will not detect this until a `read()` call is made. For example, if a server closes a socket, the internal state of the socket object in your client is unlikely to asynchronously reflect this; instead, the next call to read data will detect the closure and update the state. In this example, if the socket was closed cleanly, the `read()` call would return EOF to signal to the application that all data was safely received. If the connection was terminated abnormally, the call would throw an exception to indicate some data may have been lost.\r\n\r\nIt is reasonable to assume that a stream that has thrown an `IOException` is dead, and further attempts to read from it will continue to fail. If you could have detected this condition *before* making the call to `read()`, you&#39;d presumably still handle it in the same way.\r\n\r\nThe exception to this approach is that some streams support a read timeout, where an exception is raised if no input is received for some time, but the stream remains valid. It would only make sense for a caller to pass such a stream to a method that explicitly supports retrying reads.","title":"Find out whether an InputStream is closed","body":"<p>No. There's no API for determining whether a stream has been closed.</p>\n\n<p>Applications should be (and generally <em>are</em>) designed so it isn't necessary to track the state of a stream explicitly. Streams should be opened and reliably closed in an ARM block, and inside the block, it should be safe to assume that the stream is open. When an an ARM block is used idiomatically, it naturally scopes the reference to a stream so that no one can access it after it's closed. </p>\n\n<p>There are a number of ways that streams can be logically \"closed\", and many stream implementations will not detect this until a <code>read()</code> call is made. For example, if a server closes a socket, the internal state of the socket object in your client is unlikely to asynchronously reflect this; instead, the next call to read data will detect the closure and update the state. In this example, if the socket was closed cleanly, the <code>read()</code> call would return EOF to signal to the application that all data was safely received. If the connection was terminated abnormally, the call would throw an exception to indicate some data may have been lost.</p>\n\n<p>It is reasonable to assume that a stream that has thrown an <code>IOException</code> is dead, and further attempts to read from it will continue to fail. If you could have detected this condition <em>before</em> making the call to <code>read()</code>, you'd presumably still handle it in the same way.</p>\n\n<p>The exception to this approach is that some streams support a read timeout, where an exception is raised if no input is received for some time, but the stream remains valid. It would only make sense for a caller to pass such a stream to a method that explicitly supports retrying reads.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648930408,"creation_date":1648930408,"answer_id":71720862,"question_id":51829782,"body_markdown":"True, an IOException could have other causes besides the `InputStream` being  closed, and true, there is nothing in the interface contract stating whether an error condition is permanent or transient, but: in the vast majority of cases, and certainly in all cases I have ever come across, once an I/O object throws an exception, it is over: there is pretty much nothing else you can do with it other than close it. The only problem that may go away in the future is the availability or not of bytes to read, but when bytes are not available you get &quot;zero bytes read&quot;, you do not get an exception.\r\n\r\nIt is entirely unclear to me what your &quot;function which runs in its own thread&quot; is trying to accomplish, and how it is trying to accomplish it, and why it cannot know whether the `InputStream` is open or closed.  Closing an object places it &quot;past its end-of-life&quot;, so doing anything whatsoever with an object once it has been closed is a serious bug, so it should never be possible to get into that situation. This in turn means that the only reason for which you might want to check whether a file is closed or not is to `assert` that it is closed, never to base conditional logic upon this check. For example, you may want to `assert` that you did not forget to close the file, or that somebody else did not forget to close it as they were supposed to.\r\n\r\nThis function will check whether a `RandomAccessFile` is closed. You can just as easily writeone which works on an `InputStream`.\r\n\r\n\tprivate static boolean isClosed( RandomAccessFile randomAccessFile )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\trandomAccessFile.read();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tcatch( IOException e )\r\n\t\t{\r\n\t\t\t/**\r\n\t\t\t * PEARL: An IOException does not contain any information about the specific kind of I/O error that happened.\r\n\t\t\t *        So, unless we are willing to parse the message of the exception, (it will be &quot;Stream Closed&quot; or something,) we cannot be\r\n\t\t\t *        sure whether the exception was thrown due to the file being closed or due to something else.\r\n\t\t\t */\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n","title":"Find out whether an InputStream is closed","body":"<p>True, an IOException could have other causes besides the <code>InputStream</code> being  closed, and true, there is nothing in the interface contract stating whether an error condition is permanent or transient, but: in the vast majority of cases, and certainly in all cases I have ever come across, once an I/O object throws an exception, it is over: there is pretty much nothing else you can do with it other than close it. The only problem that may go away in the future is the availability or not of bytes to read, but when bytes are not available you get &quot;zero bytes read&quot;, you do not get an exception.</p>\n<p>It is entirely unclear to me what your &quot;function which runs in its own thread&quot; is trying to accomplish, and how it is trying to accomplish it, and why it cannot know whether the <code>InputStream</code> is open or closed.  Closing an object places it &quot;past its end-of-life&quot;, so doing anything whatsoever with an object once it has been closed is a serious bug, so it should never be possible to get into that situation. This in turn means that the only reason for which you might want to check whether a file is closed or not is to <code>assert</code> that it is closed, never to base conditional logic upon this check. For example, you may want to <code>assert</code> that you did not forget to close the file, or that somebody else did not forget to close it as they were supposed to.</p>\n<p>This function will check whether a <code>RandomAccessFile</code> is closed. You can just as easily writeone which works on an <code>InputStream</code>.</p>\n<pre><code>private static boolean isClosed( RandomAccessFile randomAccessFile )\n{\n    try\n    {\n        randomAccessFile.read();\n        return false;\n    }\n    catch( IOException e )\n    {\n        /**\n         * PEARL: An IOException does not contain any information about the specific kind of I/O error that happened.\n         *        So, unless we are willing to parse the message of the exception, (it will be &quot;Stream Closed&quot; or something,) we cannot be\n         *        sure whether the exception was thrown due to the file being closed or due to something else.\n         */\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17624,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1648930408,"creation_date":1534190529,"question_id":51829782,"body_markdown":"Does Java have any reliable way of determining whether a `java.io.InputStream` is closed before I attempt to read from it?\r\n\r\nMy use case is that I have a method that takes an `InputStream` argument and reads from it. The method runs in its own thread, and I want to terminate the thread if the input stream is closed.\r\n\r\n`InputStream` implements `Closeable`, which provides a `close()` method but apparently no way to query if the instance has already been closed.\r\n\r\nAttempting to read from  closed `InputStream` will throw an `IOException`, but that could have other causes, and there is nothing in the interface contract stating whether this condition is permanent or if, under some circumstances, there is a chance it will go away sometime.\r\n\r\nCallers of my method can supply any subclass of `InputStream` they wish, so relying on specific subclass behavior is not an option.\r\n\r\nAny other ideas?","title":"Find out whether an InputStream is closed","body":"<p>Does Java have any reliable way of determining whether a <code>java.io.InputStream</code> is closed before I attempt to read from it?</p>\n\n<p>My use case is that I have a method that takes an <code>InputStream</code> argument and reads from it. The method runs in its own thread, and I want to terminate the thread if the input stream is closed.</p>\n\n<p><code>InputStream</code> implements <code>Closeable</code>, which provides a <code>close()</code> method but apparently no way to query if the instance has already been closed.</p>\n\n<p>Attempting to read from  closed <code>InputStream</code> will throw an <code>IOException</code>, but that could have other causes, and there is nothing in the interface contract stating whether this condition is permanent or if, under some circumstances, there is a chance it will go away sometime.</p>\n\n<p>Callers of my method can supply any subclass of <code>InputStream</code> they wish, so relying on specific subclass behavior is not an option.</p>\n\n<p>Any other ideas?</p>\n"},{"tags":["java","c#","arraylist","multidimensional-array","webservice-client"],"comments":[{"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1648758063,"post_id":71698688,"comment_id":126712882,"body_markdown":"Network socket between 2 programs","body":"Network socket between 2 programs"},{"owner":{"account_id":5244151,"reputation":7425,"user_id":4190402,"display_name":"JuanR"},"score":0,"creation_date":1648767593,"post_id":71698688,"comment_id":126715114,"body_markdown":"This will most likely deserialize to an array of an array of strings. Debug, inspect and cast accordingly. I am no Java guy but I imagine this must be easy to handle once you look at the underlying type.","body":"This will most likely deserialize to an array of an array of strings. Debug, inspect and cast accordingly. I am no Java guy but I imagine this must be easy to handle once you look at the underlying type."}],"answers":[{"tags":[],"owner":{"account_id":2122167,"reputation":798,"user_id":1885199,"accept_rate":100,"display_name":"CthenB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648758795,"creation_date":1648758795,"answer_id":71698846,"question_id":71698688,"body_markdown":"Your C# method is being deserialized and reserialized in the background. Java does not know what a `List&lt;List&lt;String&gt;&gt;` is, so it makes it into a list of objects. You then cast that list of objects. There are probably faster/better ways to do this, but I&#39;m not a Java expert and this should be good enough:\r\n\r\n    for (i = 0; i &lt; myArr.length; i++) {\r\n       var x = ar[i];\r\n       rowList.Add((List&lt;String&gt;)x;\r\n    }","title":"How do I consume c# WebMethod that returns List&lt;List&lt;string&gt;&gt; through my java client?","body":"<p>Your C# method is being deserialized and reserialized in the background. Java does not know what a <code>List&lt;List&lt;String&gt;&gt;</code> is, so it makes it into a list of objects. You then cast that list of objects. There are probably faster/better ways to do this, but I'm not a Java expert and this should be good enough:</p>\n<pre><code>for (i = 0; i &lt; myArr.length; i++) {\n   var x = ar[i];\n   rowList.Add((List&lt;String&gt;)x;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15388329,"reputation":19,"user_id":11101820,"display_name":"dkajo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648930329,"creation_date":1648930329,"answer_id":71720851,"question_id":71698688,"body_markdown":"I found a way to solve my problem. I changed the List&lt;List&lt;String&gt;&gt; into a C# jagged array which seems to be basically the same as a multidimensional array in Java. I tried the solution with a C# multidimensional array but I got an error messaage that said multidimensional arrays where not supported(unfortunately I don&#39;t have a copy of the error msg).\r\nBy properly reading the Documentaion I figured out how to use the jagged array which made the code very simple.\r\n\r\n    public class ProgAss5WebService : System.Web.Services.WebService\r\n            {\r\n                [WebMethod]\r\n                public string[][] GetKeys()\r\n                {\r\n                    return dal.GetKeysList();\r\n                }\r\n    } //End of C# WebService class\r\n    \r\n    public class Controller { //Java client\r\n    public void getKeys() {\r\n            ArrayList&lt;String[]&gt; rowList = new ArrayList&lt;String[]&gt;();\r\n            try {\r\n    //This works\r\n    String[][] = proxy.GetKeys(); //Before, the proxy method would be of the wrong type\r\n\r\n            //Then I parse the 2D string array to an ArrayList&lt;String[]&gt;    \r\n    \t\tfor (int rowIndex = 0; rowIndex &lt; stringArr[0].length; rowIndex++) { // loops through the rows of the 2d stringArr\r\n    \r\n    \t\t\tString[] row = new String[stringArr.length];// For each row it creates a new string array containing the values\r\n    \r\n    \t\t\tfor (int columnIndex = 0; columnIndex &lt; stringArr.length; columnIndex++) { // loops through the cells of each row\r\n    \t\t\t\trow[columnIndex] = stringArr[columnIndex][rowIndex].toString(); // casts the values of 2d stringArr\r\n    \t\t\t}\r\n    \t\t\trowList.add(row); // adds the String[] to the arrayList\r\n    \t\t}\r\n    \r\n    \t\treturn rowList;\r\n    \t}\r\n    }//End of Controller class\r\n\r\n\r\n \r\n","title":"How do I consume c# WebMethod that returns List&lt;List&lt;string&gt;&gt; through my java client?","body":"<p>I found a way to solve my problem. I changed the List&lt;List&gt; into a C# jagged array which seems to be basically the same as a multidimensional array in Java. I tried the solution with a C# multidimensional array but I got an error messaage that said multidimensional arrays where not supported(unfortunately I don't have a copy of the error msg).\nBy properly reading the Documentaion I figured out how to use the jagged array which made the code very simple.</p>\n<pre><code>public class ProgAss5WebService : System.Web.Services.WebService\n        {\n            [WebMethod]\n            public string[][] GetKeys()\n            {\n                return dal.GetKeysList();\n            }\n} //End of C# WebService class\n\npublic class Controller { //Java client\npublic void getKeys() {\n        ArrayList&lt;String[]&gt; rowList = new ArrayList&lt;String[]&gt;();\n        try {\n//This works\nString[][] = proxy.GetKeys(); //Before, the proxy method would be of the wrong type\n\n        //Then I parse the 2D string array to an ArrayList&lt;String[]&gt;    \n        for (int rowIndex = 0; rowIndex &lt; stringArr[0].length; rowIndex++) { // loops through the rows of the 2d stringArr\n\n            String[] row = new String[stringArr.length];// For each row it creates a new string array containing the values\n\n            for (int columnIndex = 0; columnIndex &lt; stringArr.length; columnIndex++) { // loops through the cells of each row\n                row[columnIndex] = stringArr[columnIndex][rowIndex].toString(); // casts the values of 2d stringArr\n            }\n            rowList.add(row); // adds the String[] to the arrayList\n        }\n\n        return rowList;\n    }\n}//End of Controller class\n</code></pre>\n"}],"owner":{"account_id":15388329,"reputation":19,"user_id":11101820,"display_name":"dkajo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1648930329,"creation_date":1648757898,"question_id":71698688,"body_markdown":"I have an asmx webservice in C# where the webmethod `GetKeys()` returns a `List&lt;List&lt;string&gt;&gt;` however when I consume the webmethod in my java client through my proxy `GetKeys()` is of the type `Object[]`. Because of this I cannot figure out a way to access the strings. Ideally I would like to parse the C# `List&lt;List&lt;string&gt;&gt;` to an ArrayList&lt;String[]&gt; but I am open to easier solutions. I need to display the contents in a JTable.\r\n\r\nAny help with this or tips on how I could solve this another way would be much appreciated.\r\n\r\nHere are the relevant methods:\r\n\r\n        public class ProgAss5WebService : System.Web.Services.WebService\r\n            {\r\n                [WebMethod]\r\n                public List&lt;List&lt;string&gt;&gt; GetKeys()\r\n                {\r\n                    return dal.GetKeysList();\r\n                }\r\n    } //End of C# WebService class\r\n\r\n    public class Controller { //Java client\r\n    public void getKeys() {\r\n    \t\tArrayList&lt;String[]&gt; rowList = new ArrayList&lt;String[]&gt;();\r\n    \t\ttry {\r\n    \t\t\t//This works\r\n    \t\t\tObject[] myArr = proxy.getKeys();\r\n    \t\t\t\r\n    \t\t\t//This does not\r\n    \t\t\trowList = proxy.getKeys();\r\n    \t\t\t\r\n    \t\t}catch(RemoteException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }//End of Controller class\r\n\r\nI am still learning the proper way of SO so please tell me if more information is needed and correct any mistakes in my question. Thank you!","title":"How do I consume c# WebMethod that returns List&lt;List&lt;string&gt;&gt; through my java client?","body":"<p>I have an asmx webservice in C# where the webmethod <code>GetKeys()</code> returns a <code>List&lt;List&lt;string&gt;&gt;</code> however when I consume the webmethod in my java client through my proxy <code>GetKeys()</code> is of the type <code>Object[]</code>. Because of this I cannot figure out a way to access the strings. Ideally I would like to parse the C# <code>List&lt;List&lt;string&gt;&gt;</code> to an ArrayList&lt;String[]&gt; but I am open to easier solutions. I need to display the contents in a JTable.</p>\n<p>Any help with this or tips on how I could solve this another way would be much appreciated.</p>\n<p>Here are the relevant methods:</p>\n<pre><code>    public class ProgAss5WebService : System.Web.Services.WebService\n        {\n            [WebMethod]\n            public List&lt;List&lt;string&gt;&gt; GetKeys()\n            {\n                return dal.GetKeysList();\n            }\n} //End of C# WebService class\n\npublic class Controller { //Java client\npublic void getKeys() {\n        ArrayList&lt;String[]&gt; rowList = new ArrayList&lt;String[]&gt;();\n        try {\n            //This works\n            Object[] myArr = proxy.getKeys();\n            \n            //This does not\n            rowList = proxy.getKeys();\n            \n        }catch(RemoteException e) {\n            e.printStackTrace();\n        }\n    }\n}//End of Controller class\n</code></pre>\n<p>I am still learning the proper way of SO so please tell me if more information is needed and correct any mistakes in my question. Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3733537,"reputation":425,"user_id":8559107,"accept_rate":70,"display_name":"Ilgiz Mustafin"},"score":0,"creation_date":1440840826,"post_id":32291814,"comment_id":52461019,"body_markdown":"@peeskillet thanks for the `Timer` but that didn&#39;t help. Still the same behaviour.","body":"@peeskillet thanks for the <code>Timer</code> but that didn&#39;t help. Still the same behaviour."},{"owner":{"account_id":3733537,"reputation":425,"user_id":8559107,"accept_rate":70,"display_name":"Ilgiz Mustafin"},"score":0,"creation_date":1440840975,"post_id":32291814,"comment_id":52461020,"body_markdown":"@peeskillet sorry. I asked a stupid question. I will post an answer now","body":"@peeskillet sorry. I asked a stupid question. I will post an answer now"}],"answers":[{"tags":[],"owner":{"account_id":3733537,"reputation":425,"user_id":8559107,"accept_rate":70,"display_name":"Ilgiz Mustafin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1440843778,"creation_date":1440841421,"answer_id":32291815,"question_id":32291814,"body_markdown":"Don&#39;t trust guides on the internet. Think yourself sometimes.\r\n\r\nIt was the guide with mistake. The problem is that the algorithm is wrong.  We just have to draw more frequently than update our world.\n\nHere is a stupid implementation of this. It should may be really wrong in terms of concurrency.\n\r\n\r\n\r\n    Timer timer1 = new Timer(1, new ActionListener() {\r\n\t\t\t\r\n\t    @Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tgame.repaint();\r\n\t\t}\r\n\t});\r\n\ttimer1.start();\r\n\r\n\tTimer timer2 = new Timer(10, new ActionListener() {\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tgame.move();\r\n\t\t}\r\n\t});\r\n\ttimer2.start();","title":"Java Swing or AWT repaint frequency","body":"<p>Don't trust guides on the internet. Think yourself sometimes.</p>\n\n<p>It was the guide with mistake. The problem is that the algorithm is wrong.  We just have to draw more frequently than update our world.</p>\n\n<p>Here is a stupid implementation of this. It should may be really wrong in terms of concurrency.</p>\n\n<pre><code>Timer timer1 = new Timer(1, new ActionListener() {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        game.repaint();\n    }\n});\ntimer1.start();\n\nTimer timer2 = new Timer(10, new ActionListener() {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        game.move();\n    }\n});\ntimer2.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648928907,"creation_date":1648928907,"answer_id":71720734,"question_id":32291814,"body_markdown":"I had exactly the same problem. Two timers didn&#39;t work for me. I managed to move an object smoothly by adding rendering hints and drawing an empty rectangle before my main object:\r\n\r\n```java\r\npublic void paintComponent(Graphics g) {\r\n    g2d = (Graphics2D) g;\r\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    g2d.setColor(Color.WHITE)\r\n    g2d.fillRect(0, 0, getWidth, getHeight)\r\n\r\n    // paint your object here   \r\n}\r\n```","title":"Java Swing or AWT repaint frequency","body":"<p>I had exactly the same problem. Two timers didn't work for me. I managed to move an object smoothly by adding rendering hints and drawing an empty rectangle before my main object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void paintComponent(Graphics g) {\n    g2d = (Graphics2D) g;\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    g2d.setColor(Color.WHITE)\n    g2d.fillRect(0, 0, getWidth, getHeight)\n\n    // paint your object here   \n}\n</code></pre>\n"}],"owner":{"account_id":3733537,"reputation":425,"user_id":8559107,"accept_rate":70,"display_name":"Ilgiz Mustafin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32291815,"answer_count":2,"score":2,"last_activity_date":1648928907,"creation_date":1440838533,"question_id":32291814,"body_markdown":"I tried to make a simple game in Java and ended up with this code\r\n\r\n    @Override\r\n\tpublic void paint(Graphics g) {\r\n\t\tsuper.paint(g);\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tball.paint(g2d);\r\n\t}\r\n\r\n    ...\r\n\r\n    while (true) {\r\n        repaint();\r\n        Thread.sleep(10);\r\n    }\r\n\r\n\r\nIt redraws not frequently enough. But if I move my mouse on top of the window it starts to repaint much more frequently. Pressing buttons on keyboard speeds up too.\r\n\r\nI&#39;m using Arch with `i3wm`.\r\n\r\n[![Window][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9br6X.gif","title":"Java Swing or AWT repaint frequency","body":"<p>I tried to make a simple game in Java and ended up with this code</p>\n\n<pre><code>@Override\npublic void paint(Graphics g) {\n    super.paint(g);\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n            RenderingHints.VALUE_ANTIALIAS_ON);\n    ball.paint(g2d);\n}\n\n...\n\nwhile (true) {\n    repaint();\n    Thread.sleep(10);\n}\n</code></pre>\n\n<p>It redraws not frequently enough. But if I move my mouse on top of the window it starts to repaint much more frequently. Pressing buttons on keyboard speeds up too.</p>\n\n<p>I'm using Arch with <code>i3wm</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9br6X.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9br6X.gif\" alt=\"Window\"></a></p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":24241266,"reputation":71,"user_id":18193599,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648922472,"creation_date":1648922472,"answer_id":71719945,"question_id":71719838,"body_markdown":"As the `targetSdkVersion` =&lt; 12, the `&lt;activity&gt;` in the **AndroidManifest.xml** must contain the parameter `android:exported`. This can be set to either true or false.","title":"Gradle problem Android 12 Manifest Merger Failed","body":"<p>As the <code>targetSdkVersion</code> =&lt; 12, the <code>&lt;activity&gt;</code> in the <strong>AndroidManifest.xml</strong> must contain the parameter <code>android:exported</code>. This can be set to either true or false.</p>\n"}],"owner":{"account_id":24712232,"reputation":1,"user_id":18602314,"display_name":"Nicolae Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648928771,"creation_date":1648921486,"question_id":71719838,"body_markdown":"Manifest merger failed : android:exported needs to be explicitly specified for \\&lt;activity\\&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\r\n\r\nHere is my build.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &#39;30.0.3&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.lipova.taxi&quot;\r\n            minSdkVersion 21\r\n            //noinspection OldTargetApi\r\n            targetSdkVersion 31\r\n            versionCode 1\r\n            versionName &quot;2.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            multiDexEnabled true\r\n            useLibrary &#39;org.apache.http.legacy&#39;\r\n            manifestPlaceholders = [onesignal_app_id               : &#39;onesignal_app_id&#39;,\r\n                                    onesignal_google_project_number: &#39;REMOTE&#39;]\r\n        }\r\n        buildTypes {\r\n            release {\r\n    \r\n                multiDexKeepFile file(&#39;multidex-config.txt&#39;)\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        compileOptions {\r\n            sourceCompatibility &#39;1.8&#39;\r\n            targetCompatibility &#39;1.8&#39;\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    }\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.1.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n    \r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.0.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:20.0.1&#39;\r\n        implementation &#39;com.firebase:geofire-android:3.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-maps:18.0.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-places:17.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n        implementation &#39;com.google.android.gms:play-services-gcm:17.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:20.1.0&#39;\r\n        implementation &#39;com.facebook.android:facebook-login:8.1.0&#39;\r\n    \r\n        implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;com.stripe:stripe-android:16.1.1&#39;\r\n    \r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;com.akexorcist:googledirectionlibrary:1.1.1&#39;\r\n    \r\n        implementation &#39;com.onesignal:OneSignal:3.15.4&#39;\r\n        implementation &#39;com.google.android.libraries.places:places:2.6.0&#39;\r\n    \r\n        implementation &quot;com.github.addisonelliott:SegmentedButton:3.1.5&quot;\r\n    \r\n        implementation &#39;com.paypal.sdk:paypal-android-sdk:2.16.0&#39;\r\n        implementation &#39;com.google.android.libraries.places:places:2.6.0&#39;\r\n        implementation &#39;com.github.rtchagas:pingplacepicker:1.1.2&#39;\r\n    \r\n        implementation &#39;com.github.ybq:Android-SpinKit:1.4.0&#39;\r\n    \r\n    \r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    \r\n    \r\n        /* Needed for RxAndroid */\r\n        implementation &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n        implementation &#39;io.reactivex:rxjava:1.3.8&#39;\r\n        implementation &#39;io.reactivex.rxjava2:rxjava:2.2.10&#39;\r\n    \r\n    \r\n        /* Needed for Rx Bindings on views */\r\n        implementation &#39;com.jakewharton.rxbinding:rxbinding:1.0.1&#39;\r\n    \r\n    \r\n        annotationProcessor &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    \r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39; //Proguard\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39; //Proguard\r\n        implementation &#39;com.squareup.retrofit2:converter-scalars:2.9.0&#39; //Proguard\r\n    \r\n        /* Used for server calls */\r\n        implementation &#39;com.squareup.okio:okio:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    \r\n        /* Used to make Retrofit easier and GSON &amp; Rx-compatible*/\r\n        implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n        implementation &#39;com.squareup.retrofit2:adapter-rxjava:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    \r\n        /* Used to debug your Retrofit connections */\r\n        implementation &#39;com.squareup.okhttp3:logging-interceptor:4.9.0&#39;\r\n    \r\n        implementation &quot;com.yuyakaido.android:card-stack-view:2.3.4&quot;\r\n        implementation &#39;com.lorentzos.swipecards:library:1.0.9&#39;\r\n        implementation &#39;com.mikhaellopez:circularprogressbar:3.0.3&#39;\r\n        implementation &#39;com.github.tintinscorpion:Dual-color-Polyline-Animation:1.0&#39;\r\n    \r\n        implementation &#39;com.shreyaspatil:MaterialDialog:2.1&#39;\r\n    \r\n        // Material Design Library\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    \r\n        implementation &#39;com.ncorti:slidetoact:0.7.0&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n    }\r\n    \r\n    \r\n\r\n---\r\n\r\ni already set...\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.lipova.taxi.Login.LauncherActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;","title":"Gradle problem Android 12 Manifest Merger Failed","body":"<p>Manifest merger failed : android:exported needs to be explicitly specified for &lt;activity&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details.</p>\n<p>Here is my build.gradle</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '30.0.3'\n    defaultConfig {\n        applicationId &quot;com.lipova.taxi&quot;\n        minSdkVersion 21\n        //noinspection OldTargetApi\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;2.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n        useLibrary 'org.apache.http.legacy'\n        manifestPlaceholders = [onesignal_app_id               : 'onesignal_app_id',\n                                onesignal_google_project_number: 'REMOTE']\n    }\n    buildTypes {\n        release {\n\n            multiDexKeepFile file('multidex-config.txt')\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility '1.8'\n        targetCompatibility '1.8'\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestImplementation('androidx.test.espresso:espresso-core:3.1.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    //noinspection GradleCompatible\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.firebase:firebase-database:20.0.4'\n    implementation 'com.google.firebase:firebase-auth:21.0.3'\n    implementation 'com.google.firebase:firebase-storage:20.0.1'\n    implementation 'com.firebase:geofire-android:3.0.0'\n    implementation 'com.google.android.gms:play-services-maps:18.0.2'\n    implementation 'com.google.android.gms:play-services-places:17.0.0'\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n    implementation 'com.google.android.gms:play-services-gcm:17.0.0'\n    implementation 'com.google.android.gms:play-services-auth:20.1.0'\n    implementation 'com.facebook.android:facebook-login:8.1.0'\n\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.stripe:stripe-android:16.1.1'\n\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.akexorcist:googledirectionlibrary:1.1.1'\n\n    implementation 'com.onesignal:OneSignal:3.15.4'\n    implementation 'com.google.android.libraries.places:places:2.6.0'\n\n    implementation &quot;com.github.addisonelliott:SegmentedButton:3.1.5&quot;\n\n    implementation 'com.paypal.sdk:paypal-android-sdk:2.16.0'\n    implementation 'com.google.android.libraries.places:places:2.6.0'\n    implementation 'com.github.rtchagas:pingplacepicker:1.1.2'\n\n    implementation 'com.github.ybq:Android-SpinKit:1.4.0'\n\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n\n    /* Needed for RxAndroid */\n    implementation 'io.reactivex:rxandroid:1.2.1'\n    implementation 'io.reactivex:rxjava:1.3.8'\n    implementation 'io.reactivex.rxjava2:rxjava:2.2.10'\n\n\n    /* Needed for Rx Bindings on views */\n    implementation 'com.jakewharton.rxbinding:rxbinding:1.0.1'\n\n\n    annotationProcessor 'com.jakewharton:butterknife:10.2.3'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0' //Proguard\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0' //Proguard\n    implementation 'com.squareup.retrofit2:converter-scalars:2.9.0' //Proguard\n\n    /* Used for server calls */\n    implementation 'com.squareup.okio:okio:2.9.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n\n    /* Used to make Retrofit easier and GSON &amp; Rx-compatible*/\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'com.squareup.retrofit2:adapter-rxjava:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n\n    /* Used to debug your Retrofit connections */\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.9.0'\n\n    implementation &quot;com.yuyakaido.android:card-stack-view:2.3.4&quot;\n    implementation 'com.lorentzos.swipecards:library:1.0.9'\n    implementation 'com.mikhaellopez:circularprogressbar:3.0.3'\n    implementation 'com.github.tintinscorpion:Dual-color-Polyline-Animation:1.0'\n\n    implementation 'com.shreyaspatil:MaterialDialog:2.1'\n\n    // Material Design Library\n    implementation 'com.google.android.material:material:1.5.0'\n\n    implementation 'com.ncorti:slidetoact:0.7.0'\n\n    testImplementation 'junit:junit:4.13.2'\n}\n</code></pre>\n<hr />\n<p>i already set...</p>\n<pre><code>    &lt;activity\n        android:name=&quot;com.lipova.taxi.Login.LauncherActivity&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;portrait&quot;&gt;\n</code></pre>\n"},{"tags":["java","passwords"],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648927032,"creation_date":1648927032,"answer_id":71720530,"question_id":71720478,"body_markdown":"The reason is that your counter is not updated and stays at `0` so that `if` never triggers. \r\nJust use `count++;` instead of `count = count++;` in your while loop and it will work like you expect it to. ","title":"How can I get the system to exit if incorrect password is entered 3 consecutive times?","body":"<p>The reason is that your counter is not updated and stays at <code>0</code> so that <code>if</code> never triggers.\nJust use <code>count++;</code> instead of <code>count = count++;</code> in your while loop and it will work like you expect it to.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648927375,"creation_date":1648927375,"answer_id":71720576,"question_id":71720478,"body_markdown":"`count++` is java for &#39;increment `count`, and then this expression resolves to the value of `count` before it incremented&#39;.\r\n\r\nSo, when you write:\r\n\r\n```\r\ncount = count++;\r\n```\r\n\r\nand, let&#39;s say count is 5, then this code first increments `count` (it is now 6), then the expression resolves as &#39;5&#39;, and then you assign that to be the new value of `count`. So, now, count is __still 5__.\r\n\r\nThe right way to increment is just `count++`. not `count = count++`. If you insist on using `=`, you&#39;d write `count = count + 1`, or `count += 1` - it&#39;s all identical.\r\n\r\n\r\n","title":"How can I get the system to exit if incorrect password is entered 3 consecutive times?","body":"<p><code>count++</code> is java for 'increment <code>count</code>, and then this expression resolves to the value of <code>count</code> before it incremented'.</p>\n<p>So, when you write:</p>\n<pre><code>count = count++;\n</code></pre>\n<p>and, let's say count is 5, then this code first increments <code>count</code> (it is now 6), then the expression resolves as '5', and then you assign that to be the new value of <code>count</code>. So, now, count is <strong>still 5</strong>.</p>\n<p>The right way to increment is just <code>count++</code>. not <code>count = count++</code>. If you insist on using <code>=</code>, you'd write <code>count = count + 1</code>, or <code>count += 1</code> - it's all identical.</p>\n"},{"tags":[],"owner":{"account_id":20709805,"reputation":422,"user_id":15206696,"display_name":"Rajan Gautam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648927933,"creation_date":1648927933,"answer_id":71720651,"question_id":71720478,"body_markdown":"It&#39;s not a right way to increment variable. \r\n\r\nYou can follow the following ways to increment or decrement variables:\r\nLet&#39;s say you have an integer count. \r\n\r\n**First Way:**\r\n\r\n - count++;\r\n\r\n**Second Way**\r\n\r\n - count = count + 1;\r\n\r\n**Third Way**\r\n\r\n - count += 1;","title":"How can I get the system to exit if incorrect password is entered 3 consecutive times?","body":"<p>It's not a right way to increment variable.</p>\n<p>You can follow the following ways to increment or decrement variables:\nLet's say you have an integer count.</p>\n<p><strong>First Way:</strong></p>\n<ul>\n<li>count++;</li>\n</ul>\n<p><strong>Second Way</strong></p>\n<ul>\n<li>count = count + 1;</li>\n</ul>\n<p><strong>Third Way</strong></p>\n<ul>\n<li>count += 1;</li>\n</ul>\n"}],"owner":{"account_id":6830909,"reputation":457,"user_id":5254942,"accept_rate":58,"display_name":"Kivan Ilangakoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71720651,"answer_count":3,"score":0,"last_activity_date":1648928076,"creation_date":1648926628,"question_id":71720478,"body_markdown":"I am trying to insert a count method, where if the user input a password that doesn&#39;t match the required criteria in 3 attempts, the system will exit. I have tried to put a count function, where each time the password is incorrect 1 is added to the count, and when count == 3, system.exit. Can I get some advice why this is not working for me. The password conditions are, at least 10 characters, at least 1 upper case, either 2 or 3 numbers and only 1 special Character.\r\n\r\n\r\n        \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Test2 {\r\n    public static void main(String[] args) {\r\n    \t\tint count = 0;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Welcome to Humber College&quot;);\r\n    \t\tSystem.out.println(&quot; &quot;);\r\n    \t\tSystem.out.println(&quot; &quot;);\r\n    \t\t\r\n    \t\t Scanner in = new Scanner(System.in);\r\n    \t\t    System.out.print(&quot;Please enter a given  password : &quot;);\r\n    \t\t    String password = in.nextLine();\r\n    \t\t    \r\n    \r\n    \t\t    List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t    while (!isValid(password,  errorList)) {\r\n    \t\t        System.out.println(&quot;The password entered here  is invalid&quot;);\r\n    \t\t        count = count++;\r\n    \t\t        if (count == 3)\r\n    \t\t        {\r\n    \t\t        \tSystem.exit(count);\r\n    \t\t        }\r\n    \t\t        \r\n    \t\t        for (String error : errorList) {\r\n    \t\t            System.out.println(error);\r\n    \t\t        }\r\n    \r\n    \t\t        System.out.print(&quot;Please enter a given  password : &quot;);\r\n    \t\t        password = in.nextLine();\r\n    \t\t        \r\n    \t\t        \r\n    \t\t    }\r\n    \t\t    System.out.println(&quot;your password is: &quot; + password);\r\n    \r\n    \t\t}\r\n    \r\n    \t\tpublic static boolean isValid(String password, List&lt;String&gt; errorList) {\r\n    \r\n    \t\t    Pattern specailCharPatten = Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n    \t\t    Pattern UpperCasePatten = Pattern.compile(&quot;[A-Z ]&quot;);\r\n    \t\t    Pattern digitCasePatten = Pattern.compile(&quot;[0-9 ]&quot;);\r\n    \t\t    errorList.clear();\r\n                \r\n    \t\t    \r\n    \t\t    boolean flag=true;\r\n    \r\n    \t\t \r\n    \t\t    if (password.length() &lt; 11) {\r\n    \t\t        errorList.add(&quot;Password should not be less than 10 characters&quot;);\r\n    \t\t        System.out.println(&quot; &quot;);\r\n    \t\t        flag=false;\r\n    \t\t    }\r\n    \t\t    if (!UpperCasePatten.matcher(password).find()) {\r\n    \t\t        errorList.add(&quot;Password must have atleast one uppercase character&quot;);\r\n    \t\t        System.out.println(&quot; &quot;);\r\n    \t\t        flag=false;\r\n    \t\t    }\r\n    \t\t    if (!digitCasePatten.matcher(password).find()) {\r\n    \t\t        errorList.add(&quot;Password should contain 2 or 3 numbers&quot;);\r\n    \t\t        System.out.println(&quot; &quot;);\r\n    \t\t        flag=false;\r\n    \t\t    }\r\n    \t\t    if (!specailCharPatten.matcher(password).find()) {\r\n    \t\t        errorList.add(&quot;Password must have 1 speacial character&quot;);\r\n    \t\t        flag=false;\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t   \r\n    \t\t    return flag;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How can I get the system to exit if incorrect password is entered 3 consecutive times?","body":"<p>I am trying to insert a count method, where if the user input a password that doesn't match the required criteria in 3 attempts, the system will exit. I have tried to put a count function, where each time the password is incorrect 1 is added to the count, and when count == 3, system.exit. Can I get some advice why this is not working for me. The password conditions are, at least 10 characters, at least 1 upper case, either 2 or 3 numbers and only 1 special Character.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n\npublic class Test2 {\npublic static void main(String[] args) {\n        int count = 0;\n        \n        System.out.println(&quot;Welcome to Humber College&quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot; &quot;);\n        \n         Scanner in = new Scanner(System.in);\n            System.out.print(&quot;Please enter a given  password : &quot;);\n            String password = in.nextLine();\n            \n\n            List&lt;String&gt; errorList = new ArrayList&lt;String&gt;();\n\n            while (!isValid(password,  errorList)) {\n                System.out.println(&quot;The password entered here  is invalid&quot;);\n                count = count++;\n                if (count == 3)\n                {\n                    System.exit(count);\n                }\n                \n                for (String error : errorList) {\n                    System.out.println(error);\n                }\n\n                System.out.print(&quot;Please enter a given  password : &quot;);\n                password = in.nextLine();\n                \n                \n            }\n            System.out.println(&quot;your password is: &quot; + password);\n\n        }\n\n        public static boolean isValid(String password, List&lt;String&gt; errorList) {\n\n            Pattern specailCharPatten = Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\n            Pattern UpperCasePatten = Pattern.compile(&quot;[A-Z ]&quot;);\n            Pattern digitCasePatten = Pattern.compile(&quot;[0-9 ]&quot;);\n            errorList.clear();\n            \n            \n            boolean flag=true;\n\n         \n            if (password.length() &lt; 11) {\n                errorList.add(&quot;Password should not be less than 10 characters&quot;);\n                System.out.println(&quot; &quot;);\n                flag=false;\n            }\n            if (!UpperCasePatten.matcher(password).find()) {\n                errorList.add(&quot;Password must have atleast one uppercase character&quot;);\n                System.out.println(&quot; &quot;);\n                flag=false;\n            }\n            if (!digitCasePatten.matcher(password).find()) {\n                errorList.add(&quot;Password should contain 2 or 3 numbers&quot;);\n                System.out.println(&quot; &quot;);\n                flag=false;\n            }\n            if (!specailCharPatten.matcher(password).find()) {\n                errorList.add(&quot;Password must have 1 speacial character&quot;);\n                flag=false;\n            }\n            \n           \n            return flag;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":12025237,"reputation":376,"user_id":8797413,"display_name":"Aditya Rastogi"},"score":0,"creation_date":1648925425,"post_id":71720282,"comment_id":126748191,"body_markdown":"The way you are accessing on the if userInput(i) line is wrong I believe, strings should not be accessed with ( but instead use the charAt function","body":"The way you are accessing on the if userInput(i) line is wrong I believe, strings should not be accessed with ( but instead use the charAt function"},{"owner":{"account_id":12025237,"reputation":376,"user_id":8797413,"display_name":"Aditya Rastogi"},"score":0,"creation_date":1648925640,"post_id":71720282,"comment_id":126748248,"body_markdown":"You are also missing a bracket on the if","body":"You are also missing a bracket on the if"},{"owner":{"account_id":12025237,"reputation":376,"user_id":8797413,"display_name":"Aditya Rastogi"},"score":0,"creation_date":1648925721,"post_id":71720282,"comment_id":126748268,"body_markdown":"if (userInput.charAt(i) == &#39;,&#39;)\nTry this","body":"if (userInput.charAt(i) == &#39;,&#39;) Try this"}],"answers":[{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648925749,"creation_date":1648925749,"answer_id":71720367,"question_id":71720282,"body_markdown":"Your code asks for some user input in an infinite loop and only breaks from it when the user types `q`. It means that your `userInput` will always be `q` when you start the `for` loop.\r\n\r\nIn addition to that your code does not even compile as a Java code because of other errors already described by others.","title":"Separating Strings by a comma","body":"<p>Your code asks for some user input in an infinite loop and only breaks from it when the user types <code>q</code>. It means that your <code>userInput</code> will always be <code>q</code> when you start the <code>for</code> loop.</p>\n<p>In addition to that your code does not even compile as a Java code because of other errors already described by others.</p>\n"},{"tags":[],"owner":{"account_id":17456877,"reputation":1,"user_id":12655485,"display_name":"PranjalG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648926358,"creation_date":1648926358,"answer_id":71720445,"question_id":71720282,"body_markdown":"Based on my understanding of your question, I believe you would like to keep entering names with comma and let the program separate the *userInput* using comma into two names- *name1* and *name2* respectively. When you are done, you would press *q* to exit the program.\r\nHere is a cleaner code snippet to do the job instead of using a for loop-\r\n\r\n \r\n\r\n    while(true) {\r\n                Scanner scanner = new Scanner(System.in);\r\n                System.out.println(&quot;Enter Name with comma OR type q to Quit:&quot;);\r\n                String userInput = scanner.nextLine();\r\n                userInput = userInput.trim();\r\n                if (userInput.equals(&quot;q&quot;)) {\r\n                    System.out.println(&quot;Stopped.&quot;);\r\n                    return;\r\n                }\r\n                String[] nameSplitByComma = userInput.split(&quot;,&quot;);\r\n                if (nameSplitByComma.length &lt; 2) {\r\n                    System.out.println(&quot;Error: No comma in string.&quot;);\r\n                } else {\r\n                    String name1 = nameSplitByComma[0];\r\n                    String name2 = nameSplitByComma[1];\r\n                    System.out.println(&quot;First word:&quot; + name1);\r\n                    System.out.println(&quot;Second words:&quot; + name2);\r\n                }\r\n            }\r\n\r\n\r\n","title":"Separating Strings by a comma","body":"<p>Based on my understanding of your question, I believe you would like to keep entering names with comma and let the program separate the <em>userInput</em> using comma into two names- <em>name1</em> and <em>name2</em> respectively. When you are done, you would press <em>q</em> to exit the program.\nHere is a cleaner code snippet to do the job instead of using a for loop-</p>\n<pre><code>while(true) {\n            Scanner scanner = new Scanner(System.in);\n            System.out.println(&quot;Enter Name with comma OR type q to Quit:&quot;);\n            String userInput = scanner.nextLine();\n            userInput = userInput.trim();\n            if (userInput.equals(&quot;q&quot;)) {\n                System.out.println(&quot;Stopped.&quot;);\n                return;\n            }\n            String[] nameSplitByComma = userInput.split(&quot;,&quot;);\n            if (nameSplitByComma.length &lt; 2) {\n                System.out.println(&quot;Error: No comma in string.&quot;);\n            } else {\n                String name1 = nameSplitByComma[0];\n                String name2 = nameSplitByComma[1];\n                System.out.println(&quot;First word:&quot; + name1);\n                System.out.println(&quot;Second words:&quot; + name2);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648926358,"creation_date":1648925118,"question_id":71720282,"body_markdown":"I have to separate a string with a comma into two names. So if the input is Sarah, Low: then the first name is Sarah and the second name is Low. But to figure that out, it uses a comma. My code doesn&#39;t run and I am confused why. I think that the error is in the nested if statement, but I don&#39;t know what else to do. Any help would be much appreciated. \r\n\r\nCode: \r\n\r\n      String userInput; \r\n      String name1; \r\n      String name2; \r\n      \r\n      while (true) { \r\n         System.out.println(&quot;Enter input string:&quot;); \r\n         userInput = scnr.nextLine(); \r\n         userInput = userInput.trim(); \r\n         if (userInput.equals(&quot;q&quot;)) { \r\n            break; \r\n         } \r\n      } \r\n      for (int i = 0; i &lt; userInput.length(); i++) { \r\n         if (userInput(i).equals(&quot;,&quot;) {\r\n            name1 = userInput.substring(0, userInput.indexOf(&quot;,&quot;)); \r\n            name2 = userInput.substring(userInput.indexOf(&quot;,&quot;) + 1, userInput.length()); \r\n            System.out.println(&quot;First word:&quot; + name1); \r\n            System.out.println(&quot;Second words:&quot; + name2); \r\n         } \r\n         else { \r\n            System.out.println(&quot;Error: No comma in string.&quot;); \r\n         } \r\n      } ","title":"Separating Strings by a comma","body":"<p>I have to separate a string with a comma into two names. So if the input is Sarah, Low: then the first name is Sarah and the second name is Low. But to figure that out, it uses a comma. My code doesn't run and I am confused why. I think that the error is in the nested if statement, but I don't know what else to do. Any help would be much appreciated.</p>\n<p>Code:</p>\n<pre><code>  String userInput; \n  String name1; \n  String name2; \n  \n  while (true) { \n     System.out.println(&quot;Enter input string:&quot;); \n     userInput = scnr.nextLine(); \n     userInput = userInput.trim(); \n     if (userInput.equals(&quot;q&quot;)) { \n        break; \n     } \n  } \n  for (int i = 0; i &lt; userInput.length(); i++) { \n     if (userInput(i).equals(&quot;,&quot;) {\n        name1 = userInput.substring(0, userInput.indexOf(&quot;,&quot;)); \n        name2 = userInput.substring(userInput.indexOf(&quot;,&quot;) + 1, userInput.length()); \n        System.out.println(&quot;First word:&quot; + name1); \n        System.out.println(&quot;Second words:&quot; + name2); \n     } \n     else { \n        System.out.println(&quot;Error: No comma in string.&quot;); \n     } \n  } \n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1648928286,"post_id":71720300,"comment_id":126748815,"body_markdown":"There should be some more info (deep down the stack trace) telling what the exact issue with the query is","body":"There should be some more info (deep down the stack trace) telling what the exact issue with the query is"},{"owner":{"account_id":22615747,"reputation":124,"user_id":16795292,"display_name":"don"},"score":0,"creation_date":1648932184,"post_id":71720300,"comment_id":126749535,"body_markdown":"Since I do not know the details, I can not say for sure, but maybe try this: &quot;SELECT r FROM Release r LEFT JOIN FETCH r.releaseProjects rp where rp.project.id = :projectId&quot;.","body":"Since I do not know the details, I can not say for sure, but maybe try this: &quot;SELECT r FROM Release r LEFT JOIN FETCH r.releaseProjects rp where rp.project.id = :projectId&quot;."}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648925225,"creation_date":1648925225,"question_id":71720300,"body_markdown":"I have the following Spring Data query:\r\n\r\n    @Query(&quot;from Release r join r.releaseProjects rp where rp.project.id = :projectId&quot;)\r\n    List&lt;Release&gt; getReleasesByProject(Long projectId);\r\n\r\nI&#39;m getting the following error message:\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nRelease is a JPA entity with a List&lt;ReleaseProject&gt; releaseProjects inside it.","title":"Spring Data join list with where clause","body":"<p>I have the following Spring Data query:</p>\n<pre><code>@Query(&quot;from Release r join r.releaseProjects rp where rp.project.id = :projectId&quot;)\nList&lt;Release&gt; getReleasesByProject(Long projectId);\n</code></pre>\n<p>I'm getting the following error message:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n<p>Release is a JPA entity with a List releaseProjects inside it.</p>\n"},{"tags":["java","multithreading","vert.x","vertx-verticle","vertx4"],"answers":[{"tags":[],"owner":{"account_id":21601994,"reputation":51,"user_id":15929981,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621313459,"creation_date":1621311974,"answer_id":67579971,"question_id":67572503,"body_markdown":"The Vert.x documentation has this paragraph:\r\n\r\n&gt; Verticles are chunks of code that get deployed and run by Vert.x. A Vert.x instance maintains N event loop threads (where N by default is core*2) by default. \r\n\r\nIf you wanted to utilize all of your cores, you would deploy 2 verticles per core.\r\n\r\n&gt; Standard verticles are assigned an event loop thread when they are created and the start method is called with that event loop. When you call any other methods that takes a handler on a core API from an event loop then Vert.x will guarantee that those handlers, when called, will be executed on the same event loop.\r\n\r\n&gt; This means we can guarantee that all the code in your verticle instance is always executed on the same event loop (as long as you don’t create your own threads and call it!).\r\n\r\nWhen you deploy a verticle, it gets assigned an event loop thread. That means that the execution of *any* code written inside a verticle will always be executed on the same event loop that the verticle was deployed on. This allows you to scale nicely across the available threads.\r\n\r\n","title":"What are Vert.x verticle &quot;instances&quot;, and what is their relation to threads?","body":"<p>The Vert.x documentation has this paragraph:</p>\n<blockquote>\n<p>Verticles are chunks of code that get deployed and run by Vert.x. A Vert.x instance maintains N event loop threads (where N by default is core*2) by default.</p>\n</blockquote>\n<p>If you wanted to utilize all of your cores, you would deploy 2 verticles per core.</p>\n<blockquote>\n<p>Standard verticles are assigned an event loop thread when they are created and the start method is called with that event loop. When you call any other methods that takes a handler on a core API from an event loop then Vert.x will guarantee that those handlers, when called, will be executed on the same event loop.</p>\n</blockquote>\n<blockquote>\n<p>This means we can guarantee that all the code in your verticle instance is always executed on the same event loop (as long as you don’t create your own threads and call it!).</p>\n</blockquote>\n<p>When you deploy a verticle, it gets assigned an event loop thread. That means that the execution of <em>any</em> code written inside a verticle will always be executed on the same event loop that the verticle was deployed on. This allows you to scale nicely across the available threads.</p>\n"},{"tags":[],"owner":{"account_id":5513216,"reputation":526,"user_id":4378843,"display_name":"Tomek Samcik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648924968,"creation_date":1647445702,"answer_id":71500132,"question_id":67572503,"body_markdown":"You are right about the clarity of documentation, I posted a related question [here][1]\r\n\r\nHere&#39;s what documentation says -\r\n\r\n&gt; Vert.x works differently here. Instead of a single event loop, each\r\n&gt; Vertx instance maintains several event loops. By default we choose the\r\n&gt; number based on the number of available cores on the machine, but this\r\n&gt; can be overridden.\r\n\r\n&gt; Even though a Vertx instance maintains multiple event loops, any\r\n&gt; particular handler will never be executed concurrently, and in most\r\n&gt; cases (with the exception of worker verticles) will always be called\r\n&gt; using the exact same event loop.\r\n\r\nAnd here&#39;s how I get it -\r\n\r\n- Each Vert.x instance will run a number of event loops that equals the number of available cores.\r\n\r\n- On a single Vert.x instance you can deploy multiple Veriticles that includes deploying multiple instances of the same Verticle that can run concurrently on different threads.\r\n\r\n- Although documentation says that a particular handler only ever gets executed on a single event loop, I think what they mean by a &quot;particular handler&quot; is an object instance of a given Verticle, which doesn&#39;t mean that another object instance of this same Verticle can&#39;t run on another event loop on the same Vert.x.\r\n\r\n- Even if this same Verticle runs concurrently on many event loops on the same Vert.x, instances are not sharing any state so are thread-safe.\r\n\r\nIf you deploy 4 instances of a Verticle on Vert.x running on a 2-cpu machine you will end up with 2 event loops running 2 instances each and each instance will host its own state if I get it right.\r\n\r\n  [1]: https://stackoverflow.com/questions/71496716/can-vert-x-run-multiple-verticles-on-a-single-vert-x-instance-are-those-vertic","title":"What are Vert.x verticle &quot;instances&quot;, and what is their relation to threads?","body":"<p>You are right about the clarity of documentation, I posted a related question <a href=\"https://stackoverflow.com/questions/71496716/can-vert-x-run-multiple-verticles-on-a-single-vert-x-instance-are-those-vertic\">here</a></p>\n<p>Here's what documentation says -</p>\n<blockquote>\n<p>Vert.x works differently here. Instead of a single event loop, each\nVertx instance maintains several event loops. By default we choose the\nnumber based on the number of available cores on the machine, but this\ncan be overridden.</p>\n</blockquote>\n<blockquote>\n<p>Even though a Vertx instance maintains multiple event loops, any\nparticular handler will never be executed concurrently, and in most\ncases (with the exception of worker verticles) will always be called\nusing the exact same event loop.</p>\n</blockquote>\n<p>And here's how I get it -</p>\n<ul>\n<li><p>Each Vert.x instance will run a number of event loops that equals the number of available cores.</p>\n</li>\n<li><p>On a single Vert.x instance you can deploy multiple Veriticles that includes deploying multiple instances of the same Verticle that can run concurrently on different threads.</p>\n</li>\n<li><p>Although documentation says that a particular handler only ever gets executed on a single event loop, I think what they mean by a &quot;particular handler&quot; is an object instance of a given Verticle, which doesn't mean that another object instance of this same Verticle can't run on another event loop on the same Vert.x.</p>\n</li>\n<li><p>Even if this same Verticle runs concurrently on many event loops on the same Vert.x, instances are not sharing any state so are thread-safe.</p>\n</li>\n</ul>\n<p>If you deploy 4 instances of a Verticle on Vert.x running on a 2-cpu machine you will end up with 2 event loops running 2 instances each and each instance will host its own state if I get it right.</p>\n"}],"owner":{"account_id":246951,"reputation":5102,"user_id":521361,"accept_rate":70,"display_name":"RobinJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1648924968,"creation_date":1621264718,"question_id":67572503,"body_markdown":"When deploying a verticle in a Vert.x application, the documentation appears to be painstakingly unclear about what a verticle &quot;instance&quot; actually is, and how it relates to threads and thread pools. In fact, it&#39;s rather unclear about anything relating to the actual threading model...\r\n\r\nFrom the documentation;\r\n&gt; Vert.x works differently here. Instead of a single event loop, each Vertx instance maintains several event loops. By default we choose the number based on the number of available cores on the machine, but this can be overridden.\r\n\r\nAlso from the documentation;\r\n&gt; The number of instances of the verticle to instantiate in the Vert.x server. Each verticle instance is strictly single threaded so to scale your application across available cores you might want to deploy more than one instance. If omitted a single instance will be deployed. We&#39;ll talk more about scaling later on in this user manual.\r\n\r\nLet&#39;s assume I want to deploy a simple REST API that is written as a single Verticle, and I would like to have it scale efficiently across available CPU cores. What should I do?\r\n\r\n- Do I deploy one instance of the verticle per CPU core?\r\n- Do I deploy a single instance of the verticle, as according to at least one part of documentation a single verticle instance will alread maintain several event loops (as I assume 1 event loop = 1 thread)?\r\n- If I deploy 4 instances of a verticle, what threads and/or thread pools will actually be created/used?","title":"What are Vert.x verticle &quot;instances&quot;, and what is their relation to threads?","body":"<p>When deploying a verticle in a Vert.x application, the documentation appears to be painstakingly unclear about what a verticle &quot;instance&quot; actually is, and how it relates to threads and thread pools. In fact, it's rather unclear about anything relating to the actual threading model...</p>\n<p>From the documentation;</p>\n<blockquote>\n<p>Vert.x works differently here. Instead of a single event loop, each Vertx instance maintains several event loops. By default we choose the number based on the number of available cores on the machine, but this can be overridden.</p>\n</blockquote>\n<p>Also from the documentation;</p>\n<blockquote>\n<p>The number of instances of the verticle to instantiate in the Vert.x server. Each verticle instance is strictly single threaded so to scale your application across available cores you might want to deploy more than one instance. If omitted a single instance will be deployed. We'll talk more about scaling later on in this user manual.</p>\n</blockquote>\n<p>Let's assume I want to deploy a simple REST API that is written as a single Verticle, and I would like to have it scale efficiently across available CPU cores. What should I do?</p>\n<ul>\n<li>Do I deploy one instance of the verticle per CPU core?</li>\n<li>Do I deploy a single instance of the verticle, as according to at least one part of documentation a single verticle instance will alread maintain several event loops (as I assume 1 event loop = 1 thread)?</li>\n<li>If I deploy 4 instances of a verticle, what threads and/or thread pools will actually be created/used?</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","mybatis"],"answers":[{"tags":[],"owner":{"account_id":1509736,"reputation":582,"user_id":1412161,"accept_rate":86,"display_name":"grange"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648832507,"creation_date":1648832507,"answer_id":71710484,"question_id":71710314,"body_markdown":"Unfortunately the stacktrace is not helpful if your snippet doesn&#39;t contain line numbers too.\r\n\r\nHow is your userService defined that you&#39;re using in the controller? Check if the instance is null, maybe it&#39;s not autowired.\r\n","title":"NULL Pointer Exception in Spring Controller","body":"<p>Unfortunately the stacktrace is not helpful if your snippet doesn't contain line numbers too.</p>\n<p>How is your userService defined that you're using in the controller? Check if the instance is null, maybe it's not autowired.</p>\n"},{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648842949,"creation_date":1648842949,"answer_id":71712181,"question_id":71710314,"body_markdown":"It might throw NullPointerException because Spring isn&#39;t able to inject Authentication object into getHomePage() method. \r\n\r\nIs Authentication Object annotated with annotations like \r\n@Component, @Service, etc.. or some other stereotype annotation ?","title":"NULL Pointer Exception in Spring Controller","body":"<p>It might throw NullPointerException because Spring isn't able to inject Authentication object into getHomePage() method.</p>\n<p>Is Authentication Object annotated with annotations like\n@Component, @Service, etc.. or some other stereotype annotation ?</p>\n"},{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648924528,"creation_date":1648924528,"answer_id":71720200,"question_id":71710314,"body_markdown":"The problem is not related neither with Controller nor Service classes.\r\n\r\nA not-null `Authentication` instance is successfully injected into the controller. Otherwise a NullPointerException would be thrown in the `userService.getLoggedinUser(...)` method at the moment it does `auth.getName()`.\r\n\r\n`UserMapper` might return null in two cases:\r\n- The `Authentication.getName()`&#39;s method call returns `null`\r\n  - Why? If `UserMapper.getUser(...)` receives a `null` username as argument, the query will try to match using that null. Then, unless one user has `null` as username, the `UserMapper` will return null since the database returns an empty ResulSet.\r\n- There&#39;s no user in database that matches the given username.\r\n\r\nI hope it might help!","title":"NULL Pointer Exception in Spring Controller","body":"<p>The problem is not related neither with Controller nor Service classes.</p>\n<p>A not-null <code>Authentication</code> instance is successfully injected into the controller. Otherwise a NullPointerException would be thrown in the <code>userService.getLoggedinUser(...)</code> method at the moment it does <code>auth.getName()</code>.</p>\n<p><code>UserMapper</code> might return null in two cases:</p>\n<ul>\n<li>The <code>Authentication.getName()</code>'s method call returns <code>null</code>\n<ul>\n<li>Why? If <code>UserMapper.getUser(...)</code> receives a <code>null</code> username as argument, the query will try to match using that null. Then, unless one user has <code>null</code> as username, the <code>UserMapper</code> will return null since the database returns an empty ResulSet.</li>\n</ul>\n</li>\n<li>There's no user in database that matches the given username.</li>\n</ul>\n<p>I hope it might help!</p>\n"}],"owner":{"account_id":18376408,"reputation":183,"user_id":13385412,"display_name":"Mohammed Elbagoury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2958,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71720200,"answer_count":3,"score":-2,"last_activity_date":1648924528,"creation_date":1648831560,"question_id":71710314,"body_markdown":"I am learning backend with Java and I am new to Spring, ORM, template engines, and all these things. I use Spring with Mybatis, H2, and Thymeleaf. I use IntelliJ IDEA if it matters. In my home Controller, there is a NULL pointer exception that I don&#39;t know why it happens. Here is my code that I think relates to this bug. The ``HomeController``:\r\n```\r\n@GetMapping\r\n    public String getHomePage(\r\n            Authentication authentication, @ModelAttribute(&quot;newFile&quot;) FileForm newFile,\r\n            @ModelAttribute(&quot;newNote&quot;) NoteForm newNote, @ModelAttribute(&quot;newCredential&quot;) CredentialForm newCredential,\r\n            Model model) {\r\n        User user = userService.getLoggedinUser(authentication); // I think the problem originates here\r\n        int userId = user.getUserid(); // NULL pointer here\r\n        model.addAttribute(&quot;files&quot;, fileService.getAllUserFiles(userId));\r\n        model.addAttribute(&quot;notes&quot;, noteService.getAllUserNotes(userId));\r\n        model.addAttribute(&quot;credentials&quot;, credentialService.getAllUserCredentials(userId));\r\n        model.addAttribute(&quot;encryptionService&quot;, encryptionService);\r\n\r\n        return &quot;home&quot;;\r\n    }\r\n```\r\nThe exception happens in the 2 lines where I try to get the currently logged-in user id. Here is my ``UserService`` Code:\r\n```\r\npublic User getUser(String username) {\r\n        return userMapper.getUser(username);\r\n    }\r\n\r\n    public User getLoggedinUser(Authentication auth){ return getUser(auth.getName()); }\r\n```\r\nAnd my ``UserMapper``:\r\n```\r\n@Select(&quot;SELECT * FROM USERS WHERE username = #{username}&quot;)\r\n    User getUser(String username);\r\n```\r\nAnd my ``User`` POJO:\r\n```\r\npublic class User {\r\n    private int userid;\r\n    private String username;\r\n    private String salt;\r\n    private String password;\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    // constructor and setters and getters\r\n}\r\n```\r\nand my SQL schema:\r\n```\r\nCREATE TABLE IF NOT EXISTS USERS (\r\n  userid INT PRIMARY KEY auto_increment,\r\n  username VARCHAR(20),\r\n  salt VARCHAR,\r\n  password VARCHAR,\r\n  firstname VARCHAR(20),\r\n  lastname VARCHAR(20)\r\n);\r\n```\r\nFinally here is the error stack trace:\r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.udacity.jwdnd.course1.cloudstorage.controllers.HomeController.getHomePage(HomeController.java:35) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n```\r\nI can&#39;t find why this happens or how to solve it.","title":"NULL Pointer Exception in Spring Controller","body":"<p>I am learning backend with Java and I am new to Spring, ORM, template engines, and all these things. I use Spring with Mybatis, H2, and Thymeleaf. I use IntelliJ IDEA if it matters. In my home Controller, there is a NULL pointer exception that I don't know why it happens. Here is my code that I think relates to this bug. The <code>HomeController</code>:</p>\n<pre><code>@GetMapping\n    public String getHomePage(\n            Authentication authentication, @ModelAttribute(&quot;newFile&quot;) FileForm newFile,\n            @ModelAttribute(&quot;newNote&quot;) NoteForm newNote, @ModelAttribute(&quot;newCredential&quot;) CredentialForm newCredential,\n            Model model) {\n        User user = userService.getLoggedinUser(authentication); // I think the problem originates here\n        int userId = user.getUserid(); // NULL pointer here\n        model.addAttribute(&quot;files&quot;, fileService.getAllUserFiles(userId));\n        model.addAttribute(&quot;notes&quot;, noteService.getAllUserNotes(userId));\n        model.addAttribute(&quot;credentials&quot;, credentialService.getAllUserCredentials(userId));\n        model.addAttribute(&quot;encryptionService&quot;, encryptionService);\n\n        return &quot;home&quot;;\n    }\n</code></pre>\n<p>The exception happens in the 2 lines where I try to get the currently logged-in user id. Here is my <code>UserService</code> Code:</p>\n<pre><code>public User getUser(String username) {\n        return userMapper.getUser(username);\n    }\n\n    public User getLoggedinUser(Authentication auth){ return getUser(auth.getName()); }\n</code></pre>\n<p>And my <code>UserMapper</code>:</p>\n<pre><code>@Select(&quot;SELECT * FROM USERS WHERE username = #{username}&quot;)\n    User getUser(String username);\n</code></pre>\n<p>And my <code>User</code> POJO:</p>\n<pre><code>public class User {\n    private int userid;\n    private String username;\n    private String salt;\n    private String password;\n    private String firstName;\n    private String lastName;\n\n    // constructor and setters and getters\n}\n</code></pre>\n<p>and my SQL schema:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS USERS (\n  userid INT PRIMARY KEY auto_increment,\n  username VARCHAR(20),\n  salt VARCHAR,\n  password VARCHAR,\n  firstname VARCHAR(20),\n  lastname VARCHAR(20)\n);\n</code></pre>\n<p>Finally here is the error stack trace:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.udacity.jwdnd.course1.cloudstorage.controllers.HomeController.getHomePage(HomeController.java:35) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n\n</code></pre>\n<p>I can't find why this happens or how to solve it.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648924281,"creation_date":1648924281,"answer_id":71720169,"question_id":71720044,"body_markdown":"Static just means the variable is not tied to a specific instance of the class - if your service/app/task is stopped the static variable will still be garbage collected. If you make a non-static class member variable and set it in `onServiceConnected` you can be guaranteed that it will be valid for any method called in that class after `onServiceConnected`. \r\n\r\nEven if the service is stopped and restarted, once it calls `onServiceConnected` on the new instance the class variable will be valid again.","title":"Should you make a variable static to protect it from getting deleted over the long term?","body":"<p>Static just means the variable is not tied to a specific instance of the class - if your service/app/task is stopped the static variable will still be garbage collected. If you make a non-static class member variable and set it in <code>onServiceConnected</code> you can be guaranteed that it will be valid for any method called in that class after <code>onServiceConnected</code>.</p>\n<p>Even if the service is stopped and restarted, once it calls <code>onServiceConnected</code> on the new instance the class variable will be valid again.</p>\n"}],"owner":{"account_id":8024474,"reputation":552,"user_id":13709246,"display_name":"User104163"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71720169,"answer_count":1,"score":-1,"last_activity_date":1648924391,"creation_date":1648923281,"question_id":71720044,"body_markdown":"Say your android app has an accessibility service with a variable that it should always be able to use. The variable in this case is called `sharedPreferences`. It gets assigned a value only once in its lifetime in the `onServiceConnected()`. Will this non-static variable retain its value after 5 months of not being touched or will it somehow get emptied? Am I misunderstanding what static and non-static is?\r\n\r\n    public class MyAccessibilityService extends AccessibilityService {\r\n    \r\n        SharedPreferences sharedPreferences;\r\n    \r\n        @Override\r\n        protected void onServiceConnected() {\r\n            super.onServiceConnected();\r\n    \r\n            AccessibilityServiceInfo configuration = new AccessibilityServiceInfo();\r\n            configuration.eventTypes = AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED;\r\n            configuration.feedbackType = AccessibilityServiceInfo.FEEDBACK_GENERIC;\r\n            setServiceInfo(configuration);\r\n    \r\n            sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onAccessibilityEvent(AccessibilityEvent event) {\r\n        \r\n            if (event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED) {\r\n                if (some kind of rare event) {\r\n                    String string = sharedPreferences.getString(&quot;key&quot;, &quot;default&quot;);\r\n                    ...\r\n                }\r\n            }\r\n        }\r\n    \r\n    }","title":"Should you make a variable static to protect it from getting deleted over the long term?","body":"<p>Say your android app has an accessibility service with a variable that it should always be able to use. The variable in this case is called <code>sharedPreferences</code>. It gets assigned a value only once in its lifetime in the <code>onServiceConnected()</code>. Will this non-static variable retain its value after 5 months of not being touched or will it somehow get emptied? Am I misunderstanding what static and non-static is?</p>\n<pre><code>public class MyAccessibilityService extends AccessibilityService {\n\n    SharedPreferences sharedPreferences;\n\n    @Override\n    protected void onServiceConnected() {\n        super.onServiceConnected();\n\n        AccessibilityServiceInfo configuration = new AccessibilityServiceInfo();\n        configuration.eventTypes = AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED;\n        configuration.feedbackType = AccessibilityServiceInfo.FEEDBACK_GENERIC;\n        setServiceInfo(configuration);\n\n        sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);\n\n    }\n\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\n    \n        if (event.getEventType() == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED) {\n            if (some kind of rare event) {\n                String string = sharedPreferences.getString(&quot;key&quot;, &quot;default&quot;);\n                ...\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","c++"],"comments":[{"owner":{"account_id":16123273,"reputation":36407,"user_id":11638718,"display_name":"康桓瑋"},"score":0,"creation_date":1648924446,"post_id":71720168,"comment_id":126747965,"body_markdown":"This is not C++.","body":"This is not C++."},{"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"score":0,"creation_date":1648924482,"post_id":71720168,"comment_id":126747976,"body_markdown":"env-&gt;FindClass it&#39;s JNI and JNI is related to c++","body":"env-&gt;FindClass it&#39;s JNI and JNI is related to c++"}],"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648924281,"creation_date":1648924281,"question_id":71720168,"body_markdown":"I&#39;m trying to execute method `getVmArguments0` from class `sun.management.VMManagementImpl` using JNI, but when i&#39;m using \r\n```\r\njclass klass = env-&gt;FindClass(&quot;sun/management/VMManagementImpl&quot;);\r\n```\r\ni&#39;m getting an error (Class not found)\r\n\r\nHow could i execute that native method?\r\n\r\nPS I know that correct way is like that:\r\n```\r\nRuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\r\nList&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\r\n```\r\nBut i don&#39;t want to use that method because of security reasons, also is there any other options how to get java input arguments over JNI without executing java methods?","title":"Execute public native method getVmArguments0() from sun.management","body":"<p>I'm trying to execute method <code>getVmArguments0</code> from class <code>sun.management.VMManagementImpl</code> using JNI, but when i'm using</p>\n<pre><code>jclass klass = env-&gt;FindClass(&quot;sun/management/VMManagementImpl&quot;);\n</code></pre>\n<p>i'm getting an error (Class not found)</p>\n<p>How could i execute that native method?</p>\n<p>PS I know that correct way is like that:</p>\n<pre><code>RuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\nList&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\n</code></pre>\n<p>But i don't want to use that method because of security reasons, also is there any other options how to get java input arguments over JNI without executing java methods?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2605303,"reputation":744,"user_id":2256575,"display_name":"Mannekenpix"},"score":0,"creation_date":1648893527,"post_id":71716071,"comment_id":126742112,"body_markdown":"Add the code where you call the save(). And also please post the stacktrace.","body":"Add the code where you call the save(). And also please post the stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648901132,"creation_date":1648901132,"answer_id":71717391,"question_id":71716071,"body_markdown":"maybe you should add `@GeneratedValue(strategy = GenerationType.IDENTITY)` to your both classes \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n    \r\nmaybe this https://stackoverflow.com/questions/16142071/hibernate-ids-for-this-class-must-be-manually-assigned-before-calling-save can also help","title":"Hibernate error: ids for this class must be manually assigned before calling save()","body":"<p>maybe you should add <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> to your both classes</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nLong id;\n</code></pre>\n<p>maybe this <a href=\"https://stackoverflow.com/questions/16142071/hibernate-ids-for-this-class-must-be-manually-assigned-before-calling-save\">Hibernate: ids for this class must be manually assigned before calling save()</a> can also help</p>\n"},{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648922802,"creation_date":1648922802,"answer_id":71719986,"question_id":71716071,"body_markdown":"Although hkmaarouf&#39;s answer would fix the problem, It will only apply in case the responsibility of generating the ID is given to the database.\r\n\r\nThe other approach is to generate the ids before the entities are persisted.\r\nThe following example shows one way of doing it for one of your entities:\r\n```\r\nCustomerOrder customerOrder = ...; // Obtain an instance of your entity\r\ncustomerOrder.setId(getNextId()); // getNextId() returns the potencial entity ID\r\ncustomerOrderRepository.save(customerOrder);\r\n```","title":"Hibernate error: ids for this class must be manually assigned before calling save()","body":"<p>Although hkmaarouf's answer would fix the problem, It will only apply in case the responsibility of generating the ID is given to the database.</p>\n<p>The other approach is to generate the ids before the entities are persisted.\nThe following example shows one way of doing it for one of your entities:</p>\n<pre><code>CustomerOrder customerOrder = ...; // Obtain an instance of your entity\ncustomerOrder.setId(getNextId()); // getNextId() returns the potencial entity ID\ncustomerOrderRepository.save(customerOrder);\n</code></pre>\n"}],"owner":{"account_id":10146758,"reputation":15,"user_id":7968394,"display_name":"Paramsmit Sanghani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2830,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648922802,"creation_date":1648889114,"question_id":71716071,"body_markdown":"I am new to hibernate and spring in general. And trying to create a food delivery application. I&#39;ve two classes as below Restaurant and CustomerOrder mapped with oneToOne Association. \r\n\r\nCustomerOrder.java\r\n\r\n```\r\n@Entity\r\n@Table\r\n@Getter\r\n@Setter\r\npublic class CustomerOrder {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;restaurant_id&quot;, nullable = false)\r\n    Restaurant restaurant;\r\n}\r\n\r\n```\r\n\r\nRestaurant.java\r\n\r\n```\r\n@Entity\r\n@Table\r\n@Getter\r\n@Setter\r\npublic class Restaurant {\r\n\r\n    @Id\r\n    Long id;\r\n    String name;\r\n    String address;\r\n    \r\n    @OneToOne(mappedBy = &quot;restaurant&quot;)\r\n    CustomerOrder customerOrder;\r\n}\r\n```\r\n\r\ni have pre populated postgres database. I am using import.sql for it, which loads the values in the database at the boot time of the app. \r\n\r\nimport.sql\r\n\r\n```\r\ninsert into customer(&quot;id&quot;, &quot;location&quot;, &quot;name&quot;) values (1, &#39;cg road&#39;, &#39;kunal&#39;);\r\ninsert into customer(&quot;id&quot;, &quot;location&quot;, &quot;name&quot;) values (2, &#39;delux avenue&#39;, &#39;tirth&#39;);\r\ninsert into customer(&quot;id&quot;, &quot;location&quot;, &quot;name&quot;) values (3, &#39;sp road&#39;, &#39;parth&#39;);\r\n\r\ninsert into restaurant(&quot;id&quot;, &quot;address&quot;, &quot;name&quot;) values(1, &#39;divine circle&#39;, &#39;grand thaker&#39;);\r\ninsert into restaurant(&quot;id&quot;, &quot;address&quot;, &quot;name&quot;) values(2, &#39;alpha mall&#39;, &#39;honest&#39;);\r\ninsert into restaurant(&quot;id&quot;, &quot;address&quot;, &quot;name&quot;) values(3, &#39;acropolish mall&#39;, &#39;starbucks&#39;);\r\n\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/zomato1?createDatabaseIfNotExist=true\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\n\r\nwhen i do the post request to create the new entry for CustomerOrder with the body\r\n\r\n```\r\n{\r\n&quot;id&quot; : 1,\r\n&quot;restaurant_id&quot; : 2\r\n}\r\n```\r\n\r\nI am getting the above error. \r\n","title":"Hibernate error: ids for this class must be manually assigned before calling save()","body":"<p>I am new to hibernate and spring in general. And trying to create a food delivery application. I've two classes as below Restaurant and CustomerOrder mapped with oneToOne Association.</p>\n<p>CustomerOrder.java</p>\n<pre><code>@Entity\n@Table\n@Getter\n@Setter\npublic class CustomerOrder {\n\n    @Id\n    Long id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;restaurant_id&quot;, nullable = false)\n    Restaurant restaurant;\n}\n\n</code></pre>\n<p>Restaurant.java</p>\n<pre><code>@Entity\n@Table\n@Getter\n@Setter\npublic class Restaurant {\n\n    @Id\n    Long id;\n    String name;\n    String address;\n    \n    @OneToOne(mappedBy = &quot;restaurant&quot;)\n    CustomerOrder customerOrder;\n}\n</code></pre>\n<p>i have pre populated postgres database. I am using import.sql for it, which loads the values in the database at the boot time of the app.</p>\n<p>import.sql</p>\n<pre><code>insert into customer(&quot;id&quot;, &quot;location&quot;, &quot;name&quot;) values (1, 'cg road', 'kunal');\ninsert into customer(&quot;id&quot;, &quot;location&quot;, &quot;name&quot;) values (2, 'delux avenue', 'tirth');\ninsert into customer(&quot;id&quot;, &quot;location&quot;, &quot;name&quot;) values (3, 'sp road', 'parth');\n\ninsert into restaurant(&quot;id&quot;, &quot;address&quot;, &quot;name&quot;) values(1, 'divine circle', 'grand thaker');\ninsert into restaurant(&quot;id&quot;, &quot;address&quot;, &quot;name&quot;) values(2, 'alpha mall', 'honest');\ninsert into restaurant(&quot;id&quot;, &quot;address&quot;, &quot;name&quot;) values(3, 'acropolish mall', 'starbucks');\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/zomato1?createDatabaseIfNotExist=true\nspring.datasource.username=\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>when i do the post request to create the new entry for CustomerOrder with the body</p>\n<pre><code>{\n&quot;id&quot; : 1,\n&quot;restaurant_id&quot; : 2\n}\n</code></pre>\n<p>I am getting the above error.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":1,"creation_date":1648896479,"post_id":71716843,"comment_id":126742576,"body_markdown":"how do you receive the bloc durations? is it already a list, do you get it per endpoint, etc","body":"how do you receive the bloc durations? is it already a list, do you get it per endpoint, etc"},{"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"score":0,"creation_date":1648897506,"post_id":71716843,"comment_id":126742742,"body_markdown":"i receive blocs always in the good order : bloc1 with its duration, then bloc2, then bloc3..","body":"i receive blocs always in the good order : bloc1 with its duration, then bloc2, then bloc3.."},{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1648920591,"post_id":71716843,"comment_id":126747203,"body_markdown":"can you please add your data input source - how you get the durations? have you measured it by yourself and you put them in the list by hand? maybe you could use some kind of a file?","body":"can you please add your data input source - how you get the durations? have you measured it by yourself and you put them in the list by hand? maybe you could use some kind of a file?"}],"answers":[{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648897554,"creation_date":1648897554,"answer_id":71716986,"question_id":71716843,"body_markdown":" - Depending on what you intend to do with the bloc durations, instead of `int` it could be smart to use `java.time.Duration` that comes with [a lot of functionality](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html).\r\n - If the bloc durations are collected in a non-continuous manner (say bloc 3 should be processed before the first bloc), it could be smart to use a `Map&lt;Integer, Duration&gt;` instead of a `List`.","title":"Better way to model that?","body":"<ul>\n<li>Depending on what you intend to do with the bloc durations, instead of <code>int</code> it could be smart to use <code>java.time.Duration</code> that comes with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\">a lot of functionality</a>.</li>\n<li>If the bloc durations are collected in a non-continuous manner (say bloc 3 should be processed before the first bloc), it could be smart to use a <code>Map&lt;Integer, Duration&gt;</code> instead of a <code>List</code>.</li>\n</ul>\n"}],"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648922359,"creation_date":1648896183,"question_id":71716843,"body_markdown":"This is not an issue but I wonder if my practice is the best.\r\nI have to model a list of `blocs`, ordered from 1 to n, with a duration for each bloc.\r\nsomething like that. \r\n\r\n    bloc 1    duration 452\r\n    bloc 2    duration 12\r\n    bloc 3    duration 12585\r\n    bloc 4    duration 1\r\n    bloc 5    duration 1442\r\n    bloc 6    duration 1274\r\n\r\nthe way I found is something like that. \r\n\r\n    private List&lt;Integer&gt; blocDurations = new ArrayList&lt;&gt;();\r\n\r\nthen, to persist durations, i do : \r\n\r\n    blocDurations.add(452);\r\n    blocDurations.add(12);\r\n    blocDurations.add(12585);\r\n\r\nand to get duration of bloc n, i do : \r\n\r\n\tprivate int getDurationForBlocNumber(int blocN) {\r\n\t\treturn blocDurations.get(blocN - 1);\r\n\t}\r\n\r\nall is well but.\r\nis there a better way to do that?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Better way to model that?","body":"<p>This is not an issue but I wonder if my practice is the best.\nI have to model a list of <code>blocs</code>, ordered from 1 to n, with a duration for each bloc.\nsomething like that.</p>\n<pre><code>bloc 1    duration 452\nbloc 2    duration 12\nbloc 3    duration 12585\nbloc 4    duration 1\nbloc 5    duration 1442\nbloc 6    duration 1274\n</code></pre>\n<p>the way I found is something like that.</p>\n<pre><code>private List&lt;Integer&gt; blocDurations = new ArrayList&lt;&gt;();\n</code></pre>\n<p>then, to persist durations, i do :</p>\n<pre><code>blocDurations.add(452);\nblocDurations.add(12);\nblocDurations.add(12585);\n</code></pre>\n<p>and to get duration of bloc n, i do :</p>\n<pre><code>private int getDurationForBlocNumber(int blocN) {\n    return blocDurations.get(blocN - 1);\n}\n</code></pre>\n<p>all is well but.\nis there a better way to do that?</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1648839087,"post_id":71711538,"comment_id":126734603,"body_markdown":"You&#39;re using it as Size, but the class is Capacity.","body":"You&#39;re using it as Size, but the class is Capacity."},{"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"score":0,"creation_date":1648839532,"post_id":71711538,"comment_id":126734697,"body_markdown":"I tried @Capacity(min=0, max=5) private List&lt;Integer&gt; numbersList14; too and it also doesn&#39;t work.","body":"I tried @Capacity(min=0, max=5) private List&lt;Integer&gt; numbersList14; too and it also doesn&#39;t work."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1648899941,"post_id":71711538,"comment_id":126743191,"body_markdown":"Do you have `spring-boot-starter-validation` as a dependency? Don&#39;t use the plain `hibernate-validator` as you probaly try to use version 7 which isn&#39;t compatible (it is for JakartaEE not JavaEE).","body":"Do you have <code>spring-boot-starter-validation</code> as a dependency? Don&#39;t use the plain <code>hibernate-validator</code> as you probaly try to use version 7 which isn&#39;t compatible (it is for JakartaEE not JavaEE)."},{"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"score":0,"creation_date":1648921831,"post_id":71711538,"comment_id":126747415,"body_markdown":"I have spring-boot-starter-validation as a dependency and i had hibernate-validator too. I deleted hibernate-validator from my pom.xml and `@Capacity` is  working now, but it&#39;s showing errors only in console and not Thymeleaf. All oother annotations like `@NotNull `or `@PositiveOrZero` are showing errors in both - console and Thymeleaf.  Why is this happening?","body":"I have spring-boot-starter-validation as a dependency and i had hibernate-validator too. I deleted hibernate-validator from my pom.xml and <code>@Capacity</code> is  working now, but it&#39;s showing errors only in console and not Thymeleaf. All oother annotations like <code>@NotNull </code>or <code>@PositiveOrZero</code> are showing errors in both - console and Thymeleaf.  Why is this happening?"}],"answers":[{"tags":[],"owner":{"account_id":4247426,"reputation":627,"user_id":3475672,"accept_rate":100,"display_name":"Montassar El B&#233;hi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648847992,"creation_date":1648847159,"answer_id":71712749,"question_id":71711538,"body_markdown":"@Size do work with Collection, and this is the proof (I use lombok in this example):\r\n\r\n    @Builder\r\n    @Validated\r\n    @Getter\r\n    class Dummy {\r\n    \r\n        @Size(min = 1, max = 1)\r\n        private List&lt;Integer&gt; intList;\r\n    }\r\n\r\nAssuming you have a validtion implementation on your classpath let&#39;s say hibernate-validator maven dependency, you can check it by a simple junit test :\r\n\r\n    @Test\r\n        public void test() {\r\n            List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n            integerList.add(1);\r\n    \r\n            Dummy dummy = Dummy.builder().intList(integerList).build();\r\n    \r\n            ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n            Validator validator = factory.getValidator();\r\n    \r\n            Set&lt;ConstraintViolation&lt;Dummy&gt;&gt; violations = validator.validate(dummy);\r\n    \r\n            Assertions.assertThat(violations.isEmpty());\r\n    \r\n            dummy.getIntList().add(2);\r\n    \r\n            Set&lt;ConstraintViolation&lt;Dummy&gt;&gt; violations2 = validator.validate(dummy);\r\n    \r\n            Assertions.assertThat(violations2.isEmpty()).isFalse();\r\n            for (ConstraintViolation&lt;Dummy&gt; violation : violations2) {\r\n               System.err.println (violation.getMessage());\r\n            }\r\n        }\r\n\r\nAnd, you should use **@Valid** to validate the param, not @Validated.","title":"Bean Valiation @Size or something custom similar to it for List&lt;Integer&gt;","body":"<p>@Size do work with Collection, and this is the proof (I use lombok in this example):</p>\n<pre><code>@Builder\n@Validated\n@Getter\nclass Dummy {\n\n    @Size(min = 1, max = 1)\n    private List&lt;Integer&gt; intList;\n}\n</code></pre>\n<p>Assuming you have a validtion implementation on your classpath let's say hibernate-validator maven dependency, you can check it by a simple junit test :</p>\n<pre><code>@Test\n    public void test() {\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n        integerList.add(1);\n\n        Dummy dummy = Dummy.builder().intList(integerList).build();\n\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        Validator validator = factory.getValidator();\n\n        Set&lt;ConstraintViolation&lt;Dummy&gt;&gt; violations = validator.validate(dummy);\n\n        Assertions.assertThat(violations.isEmpty());\n\n        dummy.getIntList().add(2);\n\n        Set&lt;ConstraintViolation&lt;Dummy&gt;&gt; violations2 = validator.validate(dummy);\n\n        Assertions.assertThat(violations2.isEmpty()).isFalse();\n        for (ConstraintViolation&lt;Dummy&gt; violation : violations2) {\n           System.err.println (violation.getMessage());\n        }\n    }\n</code></pre>\n<p>And, you should use <strong>@Valid</strong> to validate the param, not @Validated.</p>\n"}],"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648922092,"creation_date":1648838863,"question_id":71711538,"body_markdown":"I have a field `private List&lt;Integer&gt; numbersList14;` and i need to validate size of this list. \r\n\r\nThis list must be empty or it must contain exactly 5 elements.\r\nI tried to do this like that: \r\n```lang-java\r\n  @Size(min=5, max=5)\r\n            private List&lt;Integer&gt; numbersList14;\r\n\r\nor\r\n\r\n  @Capacity(min=0, max=5)\r\n           private List&lt;Integer&gt; numbersList14; \r\n```\r\n@Capacity is a custom validator which i&#39;ve written, but neither @Size nor @Capacity is working. \r\n\r\n\r\n\r\nHere is @PostMapping in Conroller:\r\n```lang-java\r\n  @PostMapping(&quot;/validate_regon&quot;)\r\n    public String submitRegon(@Validated @ModelAttribute(&quot;numbersList&quot;) Regon regon, BindingResult bindingResult)  {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            System.out.println(&quot;There were errors&quot;);\r\n            bindingResult.getAllErrors().forEach(error -&gt; {\r\n                System.out.println(error.getObjectName() + &quot; &quot; + error.getDefaultMessage());\r\n            });\r\n            return &quot;regon_form&quot;;\r\n\r\n\r\n        }else {\r\n\r\n            return &quot;/regon_validated&quot;;\r\n\r\n        }\r\n    }\r\n```\r\n\r\nHere is my @interface Capacity.java\r\n```lang-java\r\n@Documented\r\n@Constraint(validatedBy = CapacityValidator.class)\r\n@Target( {ElementType.TYPE_USE, ElementType.METHOD, ElementType.FIELD })\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Capacity {\r\n\r\n    String message() default &quot;All fields must be filled or all of them must be empty!&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n    int min();\r\n    int max();\r\n}\r\n```\r\n\r\nAnd here is CapacityValidator.java\r\n```lang-java\r\npublic class CapacityValidator implements ConstraintValidator&lt;Capacity, List&lt;Integer&gt;&gt; {\r\n\r\n    private int min;\r\n    private int max;\r\n\r\n\r\n    @Override\r\n    public void initialize(Capacity constraintAnnotation) {\r\n        this.min = constraintAnnotation.min();\r\n        this.max = constraintAnnotation.max();\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean isValid(List&lt;Integer&gt; list, ConstraintValidatorContext constraintValidatorContext) {\r\n        return list.size() == this.max || list.size() == this.min;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Edit:**\r\nI deleted hibernate-validator from my pom.xml and `@Capacity` is  working now, but it&#39;s showing errors only in console and not Thymeleaf. \r\nAll oother annotations like `@NotNull `or `@PositiveOrZero` are showing errors in both - console and Thymeleaf.  \r\nWhy is this happening?","title":"Bean Valiation @Size or something custom similar to it for List&lt;Integer&gt;","body":"<p>I have a field <code>private List&lt;Integer&gt; numbersList14;</code> and i need to validate size of this list.</p>\n<p>This list must be empty or it must contain exactly 5 elements.\nI tried to do this like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Size(min=5, max=5)\n            private List&lt;Integer&gt; numbersList14;\n\nor\n\n  @Capacity(min=0, max=5)\n           private List&lt;Integer&gt; numbersList14; \n</code></pre>\n<p>@Capacity is a custom validator which i've written, but neither @Size nor @Capacity is working.</p>\n<p>Here is @PostMapping in Conroller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostMapping(&quot;/validate_regon&quot;)\n    public String submitRegon(@Validated @ModelAttribute(&quot;numbersList&quot;) Regon regon, BindingResult bindingResult)  {\n\n        if (bindingResult.hasErrors()) {\n            System.out.println(&quot;There were errors&quot;);\n            bindingResult.getAllErrors().forEach(error -&gt; {\n                System.out.println(error.getObjectName() + &quot; &quot; + error.getDefaultMessage());\n            });\n            return &quot;regon_form&quot;;\n\n\n        }else {\n\n            return &quot;/regon_validated&quot;;\n\n        }\n    }\n</code></pre>\n<p>Here is my @interface Capacity.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Constraint(validatedBy = CapacityValidator.class)\n@Target( {ElementType.TYPE_USE, ElementType.METHOD, ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Capacity {\n\n    String message() default &quot;All fields must be filled or all of them must be empty!&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    int min();\n    int max();\n}\n</code></pre>\n<p>And here is CapacityValidator.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CapacityValidator implements ConstraintValidator&lt;Capacity, List&lt;Integer&gt;&gt; {\n\n    private int min;\n    private int max;\n\n\n    @Override\n    public void initialize(Capacity constraintAnnotation) {\n        this.min = constraintAnnotation.min();\n        this.max = constraintAnnotation.max();\n    }\n\n\n    @Override\n    public boolean isValid(List&lt;Integer&gt; list, ConstraintValidatorContext constraintValidatorContext) {\n        return list.size() == this.max || list.size() == this.min;\n    }\n\n}\n</code></pre>\n<p><strong>Edit:</strong>\nI deleted hibernate-validator from my pom.xml and <code>@Capacity</code> is  working now, but it's showing errors only in console and not Thymeleaf.\nAll oother annotations like <code>@NotNull </code>or <code>@PositiveOrZero</code> are showing errors in both - console and Thymeleaf.<br />\nWhy is this happening?</p>\n"},{"tags":["java","spring-boot","jpa","entitylisteners"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1547560099,"post_id":54200138,"comment_id":95226894,"body_markdown":"It&#39;s not a system property, it&#39;s part of Spring&#39;s environment. Use `@Value` or autowire `Environment` instead: https://stackoverflow.com/questions/9267799/how-do-you-get-current-active-default-environment-profile-programmatically-in-sp","body":"It&#39;s not a system property, it&#39;s part of Spring&#39;s environment. Use <code>@Value</code> or autowire <code>Environment</code> instead: <a href=\"https://stackoverflow.com/questions/9267799/how-do-you-get-current-active-default-environment-profile-programmatically-in-sp\" title=\"how do you get current active default environment profile programmatically in sp\">stackoverflow.com/questions/9267799/&hellip;</a>"},{"owner":{"account_id":6505941,"reputation":63,"user_id":5034835,"accept_rate":75,"display_name":"Ninja"},"score":0,"creation_date":1547649310,"post_id":54200138,"comment_id":95264333,"body_markdown":"@BackSlash, You are right. But in JPA EntityListener `@Value` or `Environment` does not work. As @Karol Dowbecki mentioned I have to explicitly need to inject the Dependency in my Listener class.","body":"@BackSlash, You are right. But in JPA EntityListener <code>@Value</code> or <code>Environment</code> does not work. As @Karol Dowbecki mentioned I have to explicitly need to inject the Dependency in my Listener class."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547563924,"creation_date":1547560371,"answer_id":54200269,"question_id":54200138,"body_markdown":"You should use [`Environment`][1] bean while injecting it as described in [this answer][2]. [`SpringBeanAutowiringSupport`][3] will work if you are building a web application:\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @PostUpdate\r\n    public void methodInvoked afterUpdate(Example example) {\r\n      SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n      String[] activeProfile = env.getActiveProfiles();\r\n      \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html\r\n  [2]: https://stackoverflow.com/questions/12155632/injecting-a-spring-dependency-into-a-jpa-entitylistener\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html","title":"System.getproperty(&quot;spring.profiles.active&quot;) always getting Null in JPA Entity Listeners","body":"<p>You should use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html\" rel=\"nofollow noreferrer\"><code>Environment</code></a> bean while injecting it as described in <a href=\"https://stackoverflow.com/questions/12155632/injecting-a-spring-dependency-into-a-jpa-entitylistener\">this answer</a>. <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/support/SpringBeanAutowiringSupport.html\" rel=\"nofollow noreferrer\"><code>SpringBeanAutowiringSupport</code></a> will work if you are building a web application:</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n\n@PostUpdate\npublic void methodInvoked afterUpdate(Example example) {\n  SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n  String[] activeProfile = env.getActiveProfiles();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547563677,"creation_date":1547563677,"answer_id":54201232,"question_id":54200138,"body_markdown":"Inject the Environment into your code and then call the getActiveProfiles() method on Environment. This returns an array of Strings of all the active profiles.\r\n\r\nSee\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getActiveProfiles--\r\n\r\nDon&#39;t rely on the &quot;spring.profiles.active&quot; as this may not be set - this property is used to set values via a property, and it&#39;s value does not reflect which profiles are active, as these may have been set programmatically.\r\n\r\n","title":"System.getproperty(&quot;spring.profiles.active&quot;) always getting Null in JPA Entity Listeners","body":"<p>Inject the Environment into your code and then call the getActiveProfiles() method on Environment. This returns an array of Strings of all the active profiles.</p>\n\n<p>See</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getActiveProfiles--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/Environment.html#getActiveProfiles--</a></p>\n\n<p>Don't rely on the \"spring.profiles.active\" as this may not be set - this property is used to set values via a property, and it's value does not reflect which profiles are active, as these may have been set programmatically.</p>\n"},{"tags":[],"owner":{"account_id":47422,"reputation":73,"user_id":140424,"display_name":"Michael O&#39;Cleirigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610748651,"creation_date":1610748651,"answer_id":65744200,"question_id":54200138,"body_markdown":"Use boolean Environment.acceptsProfiles(String ...profiles) instead.\r\n\r\nJavadoc:\r\n\r\n&gt; Return whether one or more of the given profiles is active or, in the case of no explicit active profiles, whether one or more of the given profiles is included in the set of default profiles. If a profile begins with &#39;!&#39; the logic is inverted, i.e. the method will return true if the given profile is not active. For example,\r\nenv.acceptsProfiles(&quot;p1&quot;, &quot;!p2&quot;)\r\n\r\n&gt; will return true if profile &#39;p1&#39; is active or &#39;p2&#39; is not active.\r\n\r\nIt rationalizes the *spring.profiles.active* and *spring.profiles.default* lists.  This means that if **my-profile** is in the default list but **!my-profile** is in the active list when you ask if it accepts **my-profile** it will return **false**.\r\n\r\nThis is done mostly through the protected AbstractEnvironment.isProfileActive(profile) method which you can use if you make a custom Environment.","title":"System.getproperty(&quot;spring.profiles.active&quot;) always getting Null in JPA Entity Listeners","body":"<p>Use boolean Environment.acceptsProfiles(String ...profiles) instead.</p>\n<p>Javadoc:</p>\n<blockquote>\n<p>Return whether one or more of the given profiles is active or, in the case of no explicit active profiles, whether one or more of the given profiles is included in the set of default profiles. If a profile begins with '!' the logic is inverted, i.e. the method will return true if the given profile is not active. For example,\nenv.acceptsProfiles(&quot;p1&quot;, &quot;!p2&quot;)</p>\n</blockquote>\n<blockquote>\n<p>will return true if profile 'p1' is active or 'p2' is not active.</p>\n</blockquote>\n<p>It rationalizes the <em>spring.profiles.active</em> and <em>spring.profiles.default</em> lists.  This means that if <strong>my-profile</strong> is in the default list but <strong>!my-profile</strong> is in the active list when you ask if it accepts <strong>my-profile</strong> it will return <strong>false</strong>.</p>\n<p>This is done mostly through the protected AbstractEnvironment.isProfileActive(profile) method which you can use if you make a custom Environment.</p>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641219794,"creation_date":1641219794,"answer_id":70567183,"question_id":54200138,"body_markdown":"I found a solution because I needed to know the currently active profile in my entities and it is bad practice to inject bean Environment there, so i registered event listener:\r\n\r\n```java\r\npublic class PropertySettingListener {\r\n\r\n    private final Environment environment;\r\n\r\n    @Autowired\r\n    public PropertySettingListener(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @EventListener\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n\r\n        String[] profiles = environment.getActiveProfiles();\r\n        for (String profile : profiles) {\r\n            if (&quot;springldaptest&quot;.equals(profile)) {\r\n                System.setProperty(&quot;ldap.profiles.active&quot;, profile);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nIt will set property regarding the current profile and you can just use System.getProperty() wherever you want.","title":"System.getproperty(&quot;spring.profiles.active&quot;) always getting Null in JPA Entity Listeners","body":"<p>I found a solution because I needed to know the currently active profile in my entities and it is bad practice to inject bean Environment there, so i registered event listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PropertySettingListener {\n\n    private final Environment environment;\n\n    @Autowired\n    public PropertySettingListener(Environment environment) {\n        this.environment = environment;\n    }\n\n    @EventListener\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n\n        String[] profiles = environment.getActiveProfiles();\n        for (String profile : profiles) {\n            if (&quot;springldaptest&quot;.equals(profile)) {\n                System.setProperty(&quot;ldap.profiles.active&quot;, profile);\n            }\n        }\n    }\n}\n</code></pre>\n<p>It will set property regarding the current profile and you can just use System.getProperty() wherever you want.</p>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648921168,"creation_date":1648921168,"answer_id":71719806,"question_id":54200138,"body_markdown":"That&#39;s how I got it:\r\n\r\n```lang-java\r\n  @Autowired\r\n  private Environment environment;\r\n  \r\n  public void getActiveProfiles() {\r\n    getActiveProfiles();\r\n    System.out.println((isProfileActive(&quot;test-dev-std&quot;)));\r\n  }\r\n\r\n  private void getActiveProfiles() {\r\n\r\n    for (String profileName : environment.getActiveProfiles()) {\r\n      System.out.println(&quot;Currently active profile - &quot; + profileName);\r\n    }\r\n  }\r\n\r\n  private boolean isProfileActive(String profile) {\r\n\r\n    final String[] profiles = environment.getActiveProfiles();\r\n\r\n    return Arrays.stream(profiles).anyMatch(str -&gt; str.equals(profile));\r\n\r\n  }\r\n\r\n```\r\n\r\nThe log is:\r\n\r\n&gt; Currently active profile - test-dev-std\r\n&gt; \r\n&gt; Currently active profile - log\r\n&gt; \r\n&gt; Currently active profile - dev-standalone \r\n&gt;\r\n&gt; true\r\n\r\n\r\n","title":"System.getproperty(&quot;spring.profiles.active&quot;) always getting Null in JPA Entity Listeners","body":"<p>That's how I got it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Autowired\n  private Environment environment;\n  \n  public void getActiveProfiles() {\n    getActiveProfiles();\n    System.out.println((isProfileActive(&quot;test-dev-std&quot;)));\n  }\n\n  private void getActiveProfiles() {\n\n    for (String profileName : environment.getActiveProfiles()) {\n      System.out.println(&quot;Currently active profile - &quot; + profileName);\n    }\n  }\n\n  private boolean isProfileActive(String profile) {\n\n    final String[] profiles = environment.getActiveProfiles();\n\n    return Arrays.stream(profiles).anyMatch(str -&gt; str.equals(profile));\n\n  }\n\n</code></pre>\n<p>The log is:</p>\n<blockquote>\n<p>Currently active profile - test-dev-std</p>\n<p>Currently active profile - log</p>\n<p>Currently active profile - dev-standalone</p>\n<p>true</p>\n</blockquote>\n"}],"owner":{"account_id":6505941,"reputation":63,"user_id":5034835,"accept_rate":75,"display_name":"Ninja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15196,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":54200269,"answer_count":5,"score":4,"last_activity_date":1648921168,"creation_date":1547559951,"question_id":54200138,"body_markdown":"I am trying to get Spring active profile in `JPA` Entity Listener using `System.getproperty(&quot;spring.profiles.active&quot;)`. But it is always returning Null profile. However I have checked on server and profile is correctly configured.\r\n\r\nI have tried to get Spring active profile using Environment but in the listener, I am unable to `@Autowired` Environment also. \r\n\r\n        @PostUpdate\r\n\r\n        public void methodInvoked afterUpdate(Example example){\r\n       \r\n        String activeProfile = System.getproperty(&quot;spring.profiles.active&quot;);  \r\n        \r\n        }\r\n\r\n\r\nAny guidance please !\r\n\r\n","title":"System.getproperty(&quot;spring.profiles.active&quot;) always getting Null in JPA Entity Listeners","body":"<p>I am trying to get Spring active profile in <code>JPA</code> Entity Listener using <code>System.getproperty(\"spring.profiles.active\")</code>. But it is always returning Null profile. However I have checked on server and profile is correctly configured.</p>\n\n<p>I have tried to get Spring active profile using Environment but in the listener, I am unable to <code>@Autowired</code> Environment also. </p>\n\n<pre><code>    @PostUpdate\n\n    public void methodInvoked afterUpdate(Example example){\n\n    String activeProfile = System.getproperty(\"spring.profiles.active\");  \n\n    }\n</code></pre>\n\n<p>Any guidance please !</p>\n"},{"tags":["java","arrays","loops","display"],"comments":[{"owner":{"account_id":18050250,"reputation":359,"user_id":13120083,"display_name":"Vishal Singh"},"score":1,"creation_date":1648920922,"post_id":71719697,"comment_id":126747263,"body_markdown":"It is because you are trying to loop for each element of each array. That is why instead of getting the output just 25 times. You&#39;re getting it 25*25*25 times","body":"It is because you are trying to loop for each element of each array. That is why instead of getting the output just 25 times. You&#39;re getting it 25*25*25 times"}],"answers":[{"tags":[],"owner":{"account_id":15589207,"reputation":434,"user_id":11246801,"display_name":"T.K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648920729,"creation_date":1648920729,"answer_id":71719742,"question_id":71719697,"body_markdown":"You made too many for you just need one \r\n```   \r\n \tpublic static void main(String args[]) throws Exception {\r\n\t    \r\n\t    double[] array1 = new double[25];\r\n\t    double[] array2 = new double[25];\r\n\t    double[] array3 = new double[25];\r\n\t    \r\n\t    \r\n\t    for (int i = 0; i &lt; array1.length; i++) {\r\n\t        array1[i] = i + 1.0;\r\n\t        array2[i] = array1[i] * array1[i];\r\n\t        array3[i] = array1[i] + array2[i];\r\n\t        System.out.println(array1[i] + &quot; + &quot; + array2[i] + &quot; + &quot; + &quot; = &quot; + array3[i] + &quot; &quot;);\r\n\t    }\r\n\r\n\t}\r\n}","title":"How to display 3 arrays using the format: element + element = element in Java?","body":"<p>You made too many for you just need one</p>\n<pre><code>    public static void main(String args[]) throws Exception {\n        \n        double[] array1 = new double[25];\n        double[] array2 = new double[25];\n        double[] array3 = new double[25];\n        \n        \n        for (int i = 0; i &lt; array1.length; i++) {\n            array1[i] = i + 1.0;\n            array2[i] = array1[i] * array1[i];\n            array3[i] = array1[i] + array2[i];\n            System.out.println(array1[i] + &quot; + &quot; + array2[i] + &quot; + &quot; + &quot; = &quot; + array3[i] + &quot; &quot;);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648920759,"creation_date":1648920759,"answer_id":71719746,"question_id":71719697,"body_markdown":"You don&#39;t need three nested loops, just a single loop over the shared length:\r\n\r\n    for (int i = 0; i &lt; array1.length; i++) {\r\n        array1[i] = i + 1.0;\r\n        array2[j] = array1[i] * array1[i];\r\n        array3[k] = array1[i] + array2[j];\r\n        System.out.println(array1[i] + &quot; + &quot; + array2[j] + &quot; + &quot; + &quot; = &quot; + array3[k] + &quot; &quot;);\r\n    }","title":"How to display 3 arrays using the format: element + element = element in Java?","body":"<p>You don't need three nested loops, just a single loop over the shared length:</p>\n<pre><code>for (int i = 0; i &lt; array1.length; i++) {\n    array1[i] = i + 1.0;\n    array2[j] = array1[i] * array1[i];\n    array3[k] = array1[i] + array2[j];\n    System.out.println(array1[i] + &quot; + &quot; + array2[j] + &quot; + &quot; + &quot; = &quot; + array3[k] + &quot; &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648920792,"creation_date":1648920792,"answer_id":71719757,"question_id":71719697,"body_markdown":"You have overcomplicated the problem, you&#39;re repeating each squaring 25 times, and each addition 625 times, you need only one loop. That can be seen by looking at each arrays at the end, their filled with the last iteration, everywhere\r\n\r\n\r\n    [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0, 25.0]\r\n    [625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0]\r\n    [650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0]\r\n\r\nOne loop is enough, one index is enough:\r\n\r\n    for (int i = 0; i &lt; array1.length; i++) {\r\n        array1[i] = i + 1.0;\r\n        array2[i] = array1[i] * array1[i];\r\n        array3[i] = array1[i] + array2[i];\r\n        System.out.println(array1[i] + &quot; + &quot; + array2[i] + &quot; = &quot; + array3[i]);\r\n    }\r\n\r\nNote that if you don&#39;t need the values after the loop, don&#39;t store them\r\n\r\n    for (int i = 1; i &lt; array1.length + 1; i++) {\r\n        System.out.println(i + &quot; + &quot; + (i * i) + &quot; = &quot; + (i + i * i));\r\n    }\r\n\r\n","title":"How to display 3 arrays using the format: element + element = element in Java?","body":"<p>You have overcomplicated the problem, you're repeating each squaring 25 times, and each addition 625 times, you need only one loop. That can be seen by looking at each arrays at the end, their filled with the last iteration, everywhere</p>\n<pre><code>[1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0, 25.0]\n[625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0, 625.0]\n[650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0, 650.0]\n</code></pre>\n<p>One loop is enough, one index is enough:</p>\n<pre><code>for (int i = 0; i &lt; array1.length; i++) {\n    array1[i] = i + 1.0;\n    array2[i] = array1[i] * array1[i];\n    array3[i] = array1[i] + array2[i];\n    System.out.println(array1[i] + &quot; + &quot; + array2[i] + &quot; = &quot; + array3[i]);\n}\n</code></pre>\n<p>Note that if you don't need the values after the loop, don't store them</p>\n<pre><code>for (int i = 1; i &lt; array1.length + 1; i++) {\n    System.out.println(i + &quot; + &quot; + (i * i) + &quot; = &quot; + (i + i * i));\n}\n</code></pre>\n"}],"owner":{"account_id":22314914,"reputation":19,"user_id":16538401,"display_name":"Kyle Molyneaux"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1648920882,"creation_date":1648920408,"question_id":71719697,"body_markdown":"Like the title suggests, I am trying to display elements from multiple arrays in the format above. I needed to create 3 arrays with a length of 25. The first is filled using the loop counter, the second is the loop counter squared and the 3rd array is filled with the sum of array 1 and 2. I have all three arrays filled but when I compile and run it, it seems to output what I want but loops way more times then I need it to.\r\n\r\n\tpublic static void main(String args[]) throws Exception {\r\n\t\t\r\n\t\tdouble[] array1 = new double[25];\r\n\t\tdouble[] array2 = new double[25];\r\n\t\tdouble[] array3 = new double[25];\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; array1.length; i++) {\r\n\t\t\tarray1[i] = i + 1.0;\r\n\t\t\tfor (int j = 0; j &lt; array2.length; j++) {\r\n\t\t\t\tarray2[j] = array1[i] * array1[i];\r\n\t\t\t\tfor (int k = 0; k &lt; array3.length; k++) {\r\n\t\t\t\t\tarray3[k] = array1[i] + array2[j];\r\n\t\t\t\t\tSystem.out.println(array1[i] + &quot; + &quot; + array2[j] + &quot; + &quot; + &quot; = &quot; + array3[k] + &quot; &quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"How to display 3 arrays using the format: element + element = element in Java?","body":"<p>Like the title suggests, I am trying to display elements from multiple arrays in the format above. I needed to create 3 arrays with a length of 25. The first is filled using the loop counter, the second is the loop counter squared and the 3rd array is filled with the sum of array 1 and 2. I have all three arrays filled but when I compile and run it, it seems to output what I want but loops way more times then I need it to.</p>\n<pre><code>public static void main(String args[]) throws Exception {\n    \n    double[] array1 = new double[25];\n    double[] array2 = new double[25];\n    double[] array3 = new double[25];\n    \n    \n    for (int i = 0; i &lt; array1.length; i++) {\n        array1[i] = i + 1.0;\n        for (int j = 0; j &lt; array2.length; j++) {\n            array2[j] = array1[i] * array1[i];\n            for (int k = 0; k &lt; array3.length; k++) {\n                array3[k] = array1[i] + array2[j];\n                System.out.println(array1[i] + &quot; + &quot; + array2[j] + &quot; + &quot; + &quot; = &quot; + array3[k] + &quot; &quot;);\n                \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648919891,"creation_date":1648919891,"answer_id":71719640,"question_id":71719095,"body_markdown":"I feel that a significant part of the code is missing, and as far as I can see the problem should be in that part of the code. You should include into your question the code of the class `className` (which seems to be an error by itself).\r\n\r\nIn addition to that, I see some minor coding style mistakes in your code. You did not ask for such advice, but let me note that `anyBooleanVariable == true` is just the same as `anyBooleanVariable`.\r\n\r\nAlso `validateNumber` is the name of a method and the same time the name of a local variable inside the same named method. It is possible, but this is confusing and not a recommended practice.","title":"Input from a method gets stuck in java","body":"<p>I feel that a significant part of the code is missing, and as far as I can see the problem should be in that part of the code. You should include into your question the code of the class <code>className</code> (which seems to be an error by itself).</p>\n<p>In addition to that, I see some minor coding style mistakes in your code. You did not ask for such advice, but let me note that <code>anyBooleanVariable == true</code> is just the same as <code>anyBooleanVariable</code>.</p>\n<p>Also <code>validateNumber</code> is the name of a method and the same time the name of a local variable inside the same named method. It is possible, but this is confusing and not a recommended practice.</p>\n"}],"owner":{"account_id":24409298,"reputation":11,"user_id":18337008,"display_name":"Echoooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648919891,"creation_date":1648915174,"question_id":71719095,"body_markdown":"In this method, it prompts the user to enter the value of their insured home. For some reason, it is getting stuck when the user inputs\r\n\r\n```\r\nstatic double promptHomeInsVal(){\r\n        double homeInsVal;\r\n        className promptHomeInsVal = new className();\r\n        do{\r\n            do{\r\n                System.out.printf(&quot;%nPlease enter the insured value of your home:  &quot;);\r\n                homeInsVal = promptHomeInsVal.input.nextDouble();\r\n                validateNumber(!promptHomeInsVal.input.hasNextDouble());\r\n            }while(promptHomeInsVal.repeat == true);\r\n            homeInsVal = promptHomeInsVal.input.nextDouble();\r\n            if(homeInsVal &lt;= 0){\r\n                System.out.println(&quot;The insured value of your home cannot be less than or equal to 0. &quot;);\r\n                promptHomeInsVal.repeat = true;\r\n            }\r\n            else{\r\n                promptHomeInsVal.repeat = false;\r\n                System.out.println(&quot;Home insurance value == &quot; + homeInsVal);\r\n            }\r\n        }while(promptHomeInsVal.repeat == true);\r\n\r\n        return homeInsVal;\r\n    }\r\n```\r\n\r\nHere is validateNumber()\r\n\r\n```\r\nstatic void validateNumber(boolean repeat){\r\n        className validateNumber = new className();\r\n        if(repeat == true){\r\n            System.out.println(&quot;Warning:  You entered an invalid integer or floating-point value. &quot;);\r\n        }\r\n    }\r\n```\r\n\r\nWhen the prompt comes up &quot;Please enter the insured value of your home: &quot; it is suppose to take the input and move on. Right now, it is getting stuck","title":"Input from a method gets stuck in java","body":"<p>In this method, it prompts the user to enter the value of their insured home. For some reason, it is getting stuck when the user inputs</p>\n<pre><code>static double promptHomeInsVal(){\n        double homeInsVal;\n        className promptHomeInsVal = new className();\n        do{\n            do{\n                System.out.printf(&quot;%nPlease enter the insured value of your home:  &quot;);\n                homeInsVal = promptHomeInsVal.input.nextDouble();\n                validateNumber(!promptHomeInsVal.input.hasNextDouble());\n            }while(promptHomeInsVal.repeat == true);\n            homeInsVal = promptHomeInsVal.input.nextDouble();\n            if(homeInsVal &lt;= 0){\n                System.out.println(&quot;The insured value of your home cannot be less than or equal to 0. &quot;);\n                promptHomeInsVal.repeat = true;\n            }\n            else{\n                promptHomeInsVal.repeat = false;\n                System.out.println(&quot;Home insurance value == &quot; + homeInsVal);\n            }\n        }while(promptHomeInsVal.repeat == true);\n\n        return homeInsVal;\n    }\n</code></pre>\n<p>Here is validateNumber()</p>\n<pre><code>static void validateNumber(boolean repeat){\n        className validateNumber = new className();\n        if(repeat == true){\n            System.out.println(&quot;Warning:  You entered an invalid integer or floating-point value. &quot;);\n        }\n    }\n</code></pre>\n<p>When the prompt comes up &quot;Please enter the insured value of your home: &quot; it is suppose to take the input and move on. Right now, it is getting stuck</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1648852730,"post_id":71713209,"comment_id":126737490,"body_markdown":"Why is `loginframe` (apparently) another `JFrame`? Normally applications have just one `JFrame` and any other window is just a `Window`, IIRC. Also, why does `login` begin with a lower case L when in Java classes normally begin with upper case? Also, I don&#39;t see anywhere where you&#39;re doing anything to close the `JFrame`. You just set the default close operation, but that is only related to what happens when the user clicks the X to close it.","body":"Why is <code>loginframe</code> (apparently) another <code>JFrame</code>? Normally applications have just one <code>JFrame</code> and any other window is just a <code>Window</code>, IIRC. Also, why does <code>login</code> begin with a lower case L when in Java classes normally begin with upper case? Also, I don&#39;t see anywhere where you&#39;re doing anything to close the <code>JFrame</code>. You just set the default close operation, but that is only related to what happens when the user clicks the X to close it."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648859365,"creation_date":1648851370,"answer_id":71713263,"question_id":71713209,"body_markdown":"    package stackoverflow;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.WindowConstants;\r\n    \r\n    public class ExitFrame {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal JFrame f = new JFrame();\r\n    \r\n    \t\t// this will do nothing, thus not react to the user trying to close the window\r\n    \t\tf.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\r\n    \r\n    \t\t// this will only hide the window, as if fsetVisible(false) was called\r\n    \t\tf.setDefaultCloseOperation(WindowConstants.HIDE_ON_CLOSE);\r\n    \r\n    \t\t// this will actually dispose the window, as if f.dispose() was called\r\n    \t\tf.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n    \r\n    \t\t// this will shut down the whole JVM, ending your program, as if System.exit(0); was called\r\n    \t\tf.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nTo help you on your actual problem:\r\n\r\nFor blocking access to the calling (parent) Window, you should use Dialogs, like the JDialog, set it to modal mode, and give the parent window was parameter.\r\n\r\n\r\n\t\tfinal JDialog d = new JDialog(f);\r\n\t\td.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n\t\td.setModal(true);\r\n\t\t// add elements\r\n\t\td.setVisible(true); // will block until d gets hidden or disposed.\r\n\t\t\r\n\t\t// code will resume here\r\n\r\n\r\n\r\nYou can also just have `class MyDialog extends JDialog`, like you do with JFrame in your code.\r\n\r\n\r\nAn even more advanced method \r\n=\r\nis not to implement stuff on JFrames or JDialogs, but simply as JPanel. Why? Because you then can add it anywhere you like, and dont have to worry about the &#39;external&#39; behaviour.\r\n\r\nYou can then add that Panel to a JFrame, JWindow, JDialog, another JPanel, and even the JOptionPane with message dialogs etc.\r\n\r\nIt is a bit harder to implement, because you need to attach the &#39;external&#39; events of the parent to the JPanel somehow, but once you figure that out it&#39;s easy as pie.\r\n\r\n\r\nFull program example:\r\n= \r\n\r\nI&#39;ve just implemented a login demo in Swing to show you how I would do it. This serves this question and another one, where I&#39;ll post a link to here.\r\n\r\nDemoWindow\r\n\r\n    package stackoverflow.userlogin;\r\n    \r\n    import java.awt.BorderLayout;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JTextField;\r\n    \r\n    import stackoverflow.userlogin.UserLoginPanel.UserCredentials;\r\n    \r\n    public class DemoWindow extends JFrame {\r\n    \tprivate static final long serialVersionUID = -5431874284425397696L;\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tnew DemoWindow();\r\n    \t}\r\n    \r\n    \r\n    \tprivate final JTextField\tgTxtStatus\t= new JTextField();\r\n    \tprivate final JButton\t\tgBtnLogin\t= new JButton(&quot;Log in!&quot;);\r\n    \r\n    \tprivate User mCurrentUser = null;\r\n    \r\n    \tpublic DemoWindow() {\r\n    \t\tsetTitle(&quot;Logging in...&quot;);\r\n    \t\tsetBounds(100, 100, 200, 200);\r\n    \t\tsetDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \t\tsetLayout(new BorderLayout());\r\n    \r\n    \t\tadd(new JLabel(&quot;Status:&quot;), BorderLayout.NORTH);\r\n    \r\n    \t\tgTxtStatus.setText(&quot;Not logged in!&quot;);\r\n    \t\tadd(gTxtStatus);\r\n    \r\n    \t\tgBtnLogin.addActionListener(al -&gt; runLogin());\r\n    \t\tadd(gBtnLogin, BorderLayout.SOUTH);\r\n    \r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate void runLogin() {\r\n    \t\ttry {\r\n    \t\t\tUserCredentials uc = null;\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tuc = UserLoginPanel.getUserCredentials(this, uc);\r\n    \t\t\t\tif (uc == null) {\r\n    \t\t\t\t\tgTxtStatus.setText(&quot;User login aborted.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tfinal User user = UserManager.getUserByName(uc.mUsername);\r\n    \t\t\t\tif (user == null) {\r\n    \t\t\t\t\tgTxtStatus.setText(&quot;No user with name [&quot; + uc.mUsername + &quot;] found!&quot;);\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tfinal String hashedPassword = PasswordHasher.hashPassword(uc.mPasswordChars);\r\n    \t\t\t\tfinal boolean passwordOK = user.matchesPasswordHash(hashedPassword);\r\n    \t\t\t\tif (!passwordOK) {\r\n    \t\t\t\t\tgTxtStatus.setText(&quot;Password mismatch!&quot;);\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tmCurrentUser = user;\r\n    \t\t\t\tgTxtStatus.setText(&quot;User logged in: [&quot; + mCurrentUser + &quot;]&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tJOptionPane.showMessageDialog(this, &quot;Error: &quot; + e, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nPasswordHasher\r\n\r\n    package stackoverflow.userlogin;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.CharBuffer;\r\n    import java.nio.charset.Charset;\r\n    import java.security.MessageDigest;\r\n    import java.util.Arrays;\r\n    \r\n    public class PasswordHasher {\r\n    \r\n    \tstatic public final String MY_APP_SALT = PasswordHasher.class.getPackageName();\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \t\ttry (final BufferedReader buffer = new BufferedReader(new InputStreamReader(System.in));) {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter password. Enter empy line to end app.&quot;);\r\n    \t\t\t\tfinal String line = buffer.readLine();\r\n    \t\t\t\tif (line == null || line.trim().length() &lt; 1) break;\r\n    \r\n    \t\t\t\tfinal String hash = hashPassword(line.toCharArray());\r\n    \t\t\t\tSystem.out.println(&quot;Password: &quot; + line);\r\n    \t\t\t\tSystem.out.println(&quot;Hash: &quot; + hash);\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\nApp ended.&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic public String hashPassword(final char[] pPasswordChars) {\r\n    \t\ttry {\r\n    \t\t\tfinal MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\r\n    \t\t\tmd.reset();\r\n    \r\n    \t\t\tfinal byte[] saltBuffer = MY_APP_SALT.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tmd.update(saltBuffer);\r\n    \r\n    \t\t\tfinal byte[] passwordBuffer = charsToBytes(pPasswordChars);\r\n    \t\t\tmd.update(passwordBuffer);\r\n    \r\n    \t\t\tfinal byte[] digest = md.digest();\r\n    \t\t\tString hexStr = &quot;&quot;;\r\n    \t\t\tfor (int i = 0; i &lt; digest.length; i++) {\r\n    \t\t\t\thexStr += Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1);\r\n    \t\t\t}\r\n    \t\t\treturn hexStr;\r\n    \r\n    \t\t} catch (final Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \tstatic public byte[] charsToBytes(final char[] pChars) {\r\n    \t\tfinal CharBuffer charBuffer = CharBuffer.wrap(pChars);\r\n    \t\tfinal ByteBuffer byteBuffer = Charset.forName(&quot;UTF-8&quot;).encode(charBuffer);\r\n    \t\tfinal byte[] bytes = Arrays.copyOfRange(byteBuffer.array(), byteBuffer.position(), byteBuffer.limit());\r\n    \t\tArrays.fill(byteBuffer.array(), (byte) 0); // clear sensitive data\r\n    \t\treturn bytes;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nUser\r\n\r\n    package stackoverflow.userlogin;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class User {\r\n    \tprivate final String\tmUsername;\r\n    \tprivate final String\tmPasswordHash;\r\n    \r\n    \tpublic User(final String pUsername, final String pPasswordHash) {\r\n    \t\tmUsername = pUsername;\r\n    \t\tmPasswordHash = pPasswordHash;\r\n    \t}\r\n    \r\n    \tpublic User(final String pLine) {\r\n    \t\tfinal String[] args = pLine.split(&quot;,&quot;);\r\n    \t\tmUsername = args[0];\r\n    \t\tmPasswordHash = args[1];\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn mUsername;\r\n    \t}\r\n    \tpublic boolean matchesUsername(final String pUsername) {\r\n    \t\treturn stringMatches(mUsername, pUsername);\r\n    \t}\r\n    \tpublic boolean matchesPasswordHash(final String pPasswordHash) {\r\n    \t\treturn stringMatches(mPasswordHash, pPasswordHash);\r\n    \t}\r\n    \tstatic public boolean stringMatches(final String pString1, final String pString2) {\r\n    \t\tfinal String s1 = pString1 == null ? null : pString1.trim().toLowerCase();\r\n    \t\tfinal String s2 = pString2 == null ? null : pString2.trim().toLowerCase();\r\n    \t\treturn Objects.equals(s1, s2);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Override public String toString() {\r\n    \t\treturn mUsername;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nUserLoginPanel\r\n\r\n    package stackoverflow.userlogin;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Window;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class UserLoginPanel extends JPanel {\r\n    \tprivate static final long serialVersionUID = -2478650783143301888L;\r\n    \r\n    \r\n    \r\n    \tstatic public class UserCredentials {\r\n    \t\tpublic final String\tmUsername;\r\n    \t\tpublic final char[]\tmPasswordChars;\r\n    \t\tpublic UserCredentials(final String pUsername, final char[] pPasswordChar) {\r\n    \t\t\tmUsername = pUsername;\r\n    \t\t\tmPasswordChars = pPasswordChar;\r\n    \t\t}\r\n    \t\tpublic void clearPassword() {\r\n    \t\t\tfor (int i = 0; i &lt; mPasswordChars.length; i++) {\r\n    \t\t\t\tmPasswordChars[i] = 0;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic public UserCredentials getUserCredentials(final Window pParent, final UserCredentials pDefaultCredentials) {\r\n    \t\tfinal JDialog d = new JDialog(pParent);\r\n    \t\td.setTitle(&quot;Please log in&quot;);\r\n    \t\tfinal UserLoginPanel panel = new UserLoginPanel(ae -&gt; d.dispose(), pDefaultCredentials);\r\n    \t\td.setModal(true);\r\n    \t\td.add(panel);\r\n    \t\td.pack();\r\n    \t\td.setVisible(true);\r\n    \t\td.dispose();\r\n    \t\treturn panel.getReturnValue();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate final JTextField\t\tgTxtUsername\t= new JTextField();\r\n    \tprivate final JPasswordField\tgTxtPassword\t= new JPasswordField();\r\n    \tprivate final JButton\t\t\tgBtnCancel\t\t= new JButton(&quot;Cancel&quot;);\r\n    \tprivate final JButton\t\t\tgBtnOK\t\t\t= new JButton(&quot;OK&quot;);\r\n    \r\n    \tprivate final ActionListener mActionListener;\r\n    \r\n    \tprivate UserCredentials mReturnValue = null;\r\n    \r\n    \tpublic UserLoginPanel(final ActionListener pActionListener, final UserCredentials pDefaultCredentials) {\r\n    \t\tmActionListener = pActionListener;\r\n    \t\tmReturnValue = pDefaultCredentials;\r\n    \r\n    \r\n    \r\n    \t\tsetLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n    \r\n    \t\tadd(new JLabel(&quot;Username:&quot;));\r\n    \t\tif (mReturnValue != null) gTxtUsername.setText(mReturnValue.mUsername);\r\n    \t\tadd(gTxtUsername);\r\n    \r\n    \t\tadd(new JLabel(&quot;Password:&quot;));\r\n    \t\tif (mReturnValue != null) gTxtPassword.setText(new String(mReturnValue.mPasswordChars));\r\n    \t\tadd(gTxtPassword);\r\n    \r\n    \t\t{\r\n    \t\t\tfinal JPanel hor = new JPanel();\r\n    \r\n    \t\t\tgBtnCancel.addActionListener(al -&gt; gBtnCancel_click());\r\n    \t\t\thor.add(gBtnCancel, BorderLayout.WEST);\r\n    \r\n    \t\t\tgBtnOK.addActionListener(al -&gt; gBtnOK_click());\r\n    \t\t\thor.add(gBtnOK, BorderLayout.EAST);\r\n    \r\n    \t\t\tadd(hor);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate void gBtnOK_click() {\r\n    \t\tmReturnValue = new UserCredentials(gTxtUsername.getText(), gTxtPassword.getPassword());\r\n    \t\tmActionListener.actionPerformed(new ActionEvent(this, 0, &quot;ok&quot;));\r\n    \t}\r\n    \r\n    \tprivate void gBtnCancel_click() {\r\n    \t\tmReturnValue = null;\r\n    \t\tmActionListener.actionPerformed(new ActionEvent(this, -1, &quot;cancel&quot;));\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic UserCredentials getReturnValue() {\r\n    \t\treturn mReturnValue;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nUserManager\r\n\r\n    package stackoverflow.userlogin;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class UserManager {\r\n    \r\n    \r\n    \r\n    \tstatic public final String USER_DB_FILENAME = &quot;user-database.txt&quot;;\r\n    \r\n    \r\n    \r\n    \tstatic private List&lt;User&gt; sLoadedUsers;\r\n    \r\n    \r\n    \tstatic public List&lt;User&gt; getAllUsers() throws IOException {\r\n    \t\tif (sLoadedUsers == null) {\r\n    \t\t\tfinal Path file = Paths.get(USER_DB_FILENAME);\r\n    \t\t\ttry {\r\n    \t\t\t\tsLoadedUsers = Files.lines(file)\r\n    \t\t\t\t\t\t.filter(p -&gt; p != null &amp;&amp; !p.isEmpty() &amp;&amp; p.contains(&quot;,&quot;))\r\n    \t\t\t\t\t\t.map(p -&gt; new User(p))\r\n    \t\t\t\t\t\t.collect(Collectors.toList());\r\n    \t\t\t} catch (final Exception e) {\r\n    \t\t\t\tFiles.write(file, &quot;username,passwordhash&quot;.getBytes()); // create default file\r\n    \t\t\t\tthrow e;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn sLoadedUsers;\r\n    \t}\r\n    \tstatic public User getUserByName(final String pUsername) throws IOException {\r\n    \t\tfor (final User user : getAllUsers()) {\r\n    \t\t\tif (user.matchesUsername(pUsername)) return user;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nMy `user-database.txt` file:\r\n\r\n    Peter,744ed63cee96b0542fcde52b63410ef6a9b8ae63\r\n\r\ncontains the user &#39;Peter&#39; with the password &#39;Lustig&#39;.\r\n\r\n\r\nSteps to run: \r\n1. Run the DemoWindow once. Click on &quot;Log in!&quot; and then in the dialog &quot;OK&quot;. An error will occur and the user database file `user-database.txt` will be created.\r\n2. Run the PasswordHasher, and generate a hash. Past that hash into the user database file.\r\n3. Run DemoWindow again. This time play with several things, like enetering no username, no password, wrong username, wrong password, proper stuff.\r\n","title":"Java Swing login window not closing","body":"<pre><code>package stackoverflow;\n\nimport javax.swing.JFrame;\nimport javax.swing.WindowConstants;\n\npublic class ExitFrame {\n\n\n\n    public static void main(final String[] args) {\n        final JFrame f = new JFrame();\n\n        // this will do nothing, thus not react to the user trying to close the window\n        f.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);\n\n        // this will only hide the window, as if fsetVisible(false) was called\n        f.setDefaultCloseOperation(WindowConstants.HIDE_ON_CLOSE);\n\n        // this will actually dispose the window, as if f.dispose() was called\n        f.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n\n        // this will shut down the whole JVM, ending your program, as if System.exit(0); was called\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    }\n\n\n\n}\n</code></pre>\n<p>To help you on your actual problem:</p>\n<p>For blocking access to the calling (parent) Window, you should use Dialogs, like the JDialog, set it to modal mode, and give the parent window was parameter.</p>\n<pre><code>    final JDialog d = new JDialog(f);\n    d.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    d.setModal(true);\n    // add elements\n    d.setVisible(true); // will block until d gets hidden or disposed.\n    \n    // code will resume here\n</code></pre>\n<p>You can also just have <code>class MyDialog extends JDialog</code>, like you do with JFrame in your code.</p>\n<h1>An even more advanced method</h1>\n<p>is not to implement stuff on JFrames or JDialogs, but simply as JPanel. Why? Because you then can add it anywhere you like, and dont have to worry about the 'external' behaviour.</p>\n<p>You can then add that Panel to a JFrame, JWindow, JDialog, another JPanel, and even the JOptionPane with message dialogs etc.</p>\n<p>It is a bit harder to implement, because you need to attach the 'external' events of the parent to the JPanel somehow, but once you figure that out it's easy as pie.</p>\n<h1>Full program example:</h1>\n<p>I've just implemented a login demo in Swing to show you how I would do it. This serves this question and another one, where I'll post a link to here.</p>\n<p>DemoWindow</p>\n<pre><code>package stackoverflow.userlogin;\n\nimport java.awt.BorderLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JTextField;\n\nimport stackoverflow.userlogin.UserLoginPanel.UserCredentials;\n\npublic class DemoWindow extends JFrame {\n    private static final long serialVersionUID = -5431874284425397696L;\n\n    public static void main(final String[] args) {\n        new DemoWindow();\n    }\n\n\n    private final JTextField    gTxtStatus  = new JTextField();\n    private final JButton       gBtnLogin   = new JButton(&quot;Log in!&quot;);\n\n    private User mCurrentUser = null;\n\n    public DemoWindow() {\n        setTitle(&quot;Logging in...&quot;);\n        setBounds(100, 100, 200, 200);\n        setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n        setLayout(new BorderLayout());\n\n        add(new JLabel(&quot;Status:&quot;), BorderLayout.NORTH);\n\n        gTxtStatus.setText(&quot;Not logged in!&quot;);\n        add(gTxtStatus);\n\n        gBtnLogin.addActionListener(al -&gt; runLogin());\n        add(gBtnLogin, BorderLayout.SOUTH);\n\n        setVisible(true);\n    }\n\n\n\n    private void runLogin() {\n        try {\n            UserCredentials uc = null;\n            while (true) {\n                uc = UserLoginPanel.getUserCredentials(this, uc);\n                if (uc == null) {\n                    gTxtStatus.setText(&quot;User login aborted.&quot;);\n                    break;\n                }\n\n                final User user = UserManager.getUserByName(uc.mUsername);\n                if (user == null) {\n                    gTxtStatus.setText(&quot;No user with name [&quot; + uc.mUsername + &quot;] found!&quot;);\n                    continue;\n                }\n\n                final String hashedPassword = PasswordHasher.hashPassword(uc.mPasswordChars);\n                final boolean passwordOK = user.matchesPasswordHash(hashedPassword);\n                if (!passwordOK) {\n                    gTxtStatus.setText(&quot;Password mismatch!&quot;);\n                    continue;\n                }\n\n                mCurrentUser = user;\n                gTxtStatus.setText(&quot;User logged in: [&quot; + mCurrentUser + &quot;]&quot;);\n                break;\n            }\n        } catch (final Exception e) {\n            JOptionPane.showMessageDialog(this, &quot;Error: &quot; + e, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>PasswordHasher</p>\n<pre><code>package stackoverflow.userlogin;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.Charset;\nimport java.security.MessageDigest;\nimport java.util.Arrays;\n\npublic class PasswordHasher {\n\n    static public final String MY_APP_SALT = PasswordHasher.class.getPackageName();\n\n\n\n    public static void main(final String[] args) throws IOException {\n        try (final BufferedReader buffer = new BufferedReader(new InputStreamReader(System.in));) {\n            while (true) {\n                System.out.println(&quot;Enter password. Enter empy line to end app.&quot;);\n                final String line = buffer.readLine();\n                if (line == null || line.trim().length() &lt; 1) break;\n\n                final String hash = hashPassword(line.toCharArray());\n                System.out.println(&quot;Password: &quot; + line);\n                System.out.println(&quot;Hash: &quot; + hash);\n                System.out.println();\n            }\n        }\n        System.out.println(&quot;\\nApp ended.&quot;);\n    }\n\n\n\n    static public String hashPassword(final char[] pPasswordChars) {\n        try {\n            final MessageDigest md = MessageDigest.getInstance(&quot;SHA1&quot;);\n            md.reset();\n\n            final byte[] saltBuffer = MY_APP_SALT.getBytes(&quot;UTF-8&quot;);\n            md.update(saltBuffer);\n\n            final byte[] passwordBuffer = charsToBytes(pPasswordChars);\n            md.update(passwordBuffer);\n\n            final byte[] digest = md.digest();\n            String hexStr = &quot;&quot;;\n            for (int i = 0; i &lt; digest.length; i++) {\n                hexStr += Integer.toString((digest[i] &amp; 0xff) + 0x100, 16).substring(1);\n            }\n            return hexStr;\n\n        } catch (final Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n    static public byte[] charsToBytes(final char[] pChars) {\n        final CharBuffer charBuffer = CharBuffer.wrap(pChars);\n        final ByteBuffer byteBuffer = Charset.forName(&quot;UTF-8&quot;).encode(charBuffer);\n        final byte[] bytes = Arrays.copyOfRange(byteBuffer.array(), byteBuffer.position(), byteBuffer.limit());\n        Arrays.fill(byteBuffer.array(), (byte) 0); // clear sensitive data\n        return bytes;\n    }\n\n\n\n}\n</code></pre>\n<p>User</p>\n<pre><code>package stackoverflow.userlogin;\n\nimport java.util.Objects;\n\npublic class User {\n    private final String    mUsername;\n    private final String    mPasswordHash;\n\n    public User(final String pUsername, final String pPasswordHash) {\n        mUsername = pUsername;\n        mPasswordHash = pPasswordHash;\n    }\n\n    public User(final String pLine) {\n        final String[] args = pLine.split(&quot;,&quot;);\n        mUsername = args[0];\n        mPasswordHash = args[1];\n    }\n\n\n\n    public String getUsername() {\n        return mUsername;\n    }\n    public boolean matchesUsername(final String pUsername) {\n        return stringMatches(mUsername, pUsername);\n    }\n    public boolean matchesPasswordHash(final String pPasswordHash) {\n        return stringMatches(mPasswordHash, pPasswordHash);\n    }\n    static public boolean stringMatches(final String pString1, final String pString2) {\n        final String s1 = pString1 == null ? null : pString1.trim().toLowerCase();\n        final String s2 = pString2 == null ? null : pString2.trim().toLowerCase();\n        return Objects.equals(s1, s2);\n    }\n\n\n\n    @Override public String toString() {\n        return mUsername;\n    }\n\n\n\n}\n</code></pre>\n<p>UserLoginPanel</p>\n<pre><code>package stackoverflow.userlogin;\n\nimport java.awt.BorderLayout;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class UserLoginPanel extends JPanel {\n    private static final long serialVersionUID = -2478650783143301888L;\n\n\n\n    static public class UserCredentials {\n        public final String mUsername;\n        public final char[] mPasswordChars;\n        public UserCredentials(final String pUsername, final char[] pPasswordChar) {\n            mUsername = pUsername;\n            mPasswordChars = pPasswordChar;\n        }\n        public void clearPassword() {\n            for (int i = 0; i &lt; mPasswordChars.length; i++) {\n                mPasswordChars[i] = 0;\n            }\n        }\n    }\n\n\n\n    static public UserCredentials getUserCredentials(final Window pParent, final UserCredentials pDefaultCredentials) {\n        final JDialog d = new JDialog(pParent);\n        d.setTitle(&quot;Please log in&quot;);\n        final UserLoginPanel panel = new UserLoginPanel(ae -&gt; d.dispose(), pDefaultCredentials);\n        d.setModal(true);\n        d.add(panel);\n        d.pack();\n        d.setVisible(true);\n        d.dispose();\n        return panel.getReturnValue();\n    }\n\n\n\n    private final JTextField        gTxtUsername    = new JTextField();\n    private final JPasswordField    gTxtPassword    = new JPasswordField();\n    private final JButton           gBtnCancel      = new JButton(&quot;Cancel&quot;);\n    private final JButton           gBtnOK          = new JButton(&quot;OK&quot;);\n\n    private final ActionListener mActionListener;\n\n    private UserCredentials mReturnValue = null;\n\n    public UserLoginPanel(final ActionListener pActionListener, final UserCredentials pDefaultCredentials) {\n        mActionListener = pActionListener;\n        mReturnValue = pDefaultCredentials;\n\n\n\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n\n        add(new JLabel(&quot;Username:&quot;));\n        if (mReturnValue != null) gTxtUsername.setText(mReturnValue.mUsername);\n        add(gTxtUsername);\n\n        add(new JLabel(&quot;Password:&quot;));\n        if (mReturnValue != null) gTxtPassword.setText(new String(mReturnValue.mPasswordChars));\n        add(gTxtPassword);\n\n        {\n            final JPanel hor = new JPanel();\n\n            gBtnCancel.addActionListener(al -&gt; gBtnCancel_click());\n            hor.add(gBtnCancel, BorderLayout.WEST);\n\n            gBtnOK.addActionListener(al -&gt; gBtnOK_click());\n            hor.add(gBtnOK, BorderLayout.EAST);\n\n            add(hor);\n        }\n    }\n\n\n\n    private void gBtnOK_click() {\n        mReturnValue = new UserCredentials(gTxtUsername.getText(), gTxtPassword.getPassword());\n        mActionListener.actionPerformed(new ActionEvent(this, 0, &quot;ok&quot;));\n    }\n\n    private void gBtnCancel_click() {\n        mReturnValue = null;\n        mActionListener.actionPerformed(new ActionEvent(this, -1, &quot;cancel&quot;));\n    }\n\n\n\n    public UserCredentials getReturnValue() {\n        return mReturnValue;\n    }\n\n\n\n}\n</code></pre>\n<p>UserManager</p>\n<pre><code>package stackoverflow.userlogin;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class UserManager {\n\n\n\n    static public final String USER_DB_FILENAME = &quot;user-database.txt&quot;;\n\n\n\n    static private List&lt;User&gt; sLoadedUsers;\n\n\n    static public List&lt;User&gt; getAllUsers() throws IOException {\n        if (sLoadedUsers == null) {\n            final Path file = Paths.get(USER_DB_FILENAME);\n            try {\n                sLoadedUsers = Files.lines(file)\n                        .filter(p -&gt; p != null &amp;&amp; !p.isEmpty() &amp;&amp; p.contains(&quot;,&quot;))\n                        .map(p -&gt; new User(p))\n                        .collect(Collectors.toList());\n            } catch (final Exception e) {\n                Files.write(file, &quot;username,passwordhash&quot;.getBytes()); // create default file\n                throw e;\n            }\n        }\n        return sLoadedUsers;\n    }\n    static public User getUserByName(final String pUsername) throws IOException {\n        for (final User user : getAllUsers()) {\n            if (user.matchesUsername(pUsername)) return user;\n        }\n        return null;\n    }\n\n\n\n}\n</code></pre>\n<p>My <code>user-database.txt</code> file:</p>\n<pre><code>Peter,744ed63cee96b0542fcde52b63410ef6a9b8ae63\n</code></pre>\n<p>contains the user 'Peter' with the password 'Lustig'.</p>\n<p>Steps to run:</p>\n<ol>\n<li>Run the DemoWindow once. Click on &quot;Log in!&quot; and then in the dialog &quot;OK&quot;. An error will occur and the user database file <code>user-database.txt</code> will be created.</li>\n<li>Run the PasswordHasher, and generate a hash. Past that hash into the user database file.</li>\n<li>Run DemoWindow again. This time play with several things, like enetering no username, no password, wrong username, wrong password, proper stuff.</li>\n</ol>\n"}],"owner":{"account_id":19922097,"reputation":61,"user_id":14597676,"display_name":"dl784"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71713263,"answer_count":1,"score":-1,"last_activity_date":1648919724,"creation_date":1648850942,"question_id":71713209,"body_markdown":"so I&#39;m new to swing on java and I&#39;m trying to make a login window as a precursor to a program. The login window is quite standard, it has a password and user input, a login button, and an x on the top right. However, I&#39;m trying to make it so that the user cannot interact with the main program until they&#39;ve inputted the correct login data. However, while the setenabled(false) function has allowed me to prevent access to the main program, after the user enters the correct info, nothing happens and the login screen remains. \r\n\r\n\r\n\r\nin my login class I have an loggedin boolean that is true if the right input is detected. however, the setenabled(true) doesn&#39;t seem to be executing, and the login window doesn&#39;t seem to be closing after the right input is entered. This is my actionperformed method from my login class: \r\n\r\n\r\n\r\nDoes anyone know why this is? Is my this.setDefaultCloseOperation(this.EXIT_ON_CLOSE); not doing what I think it should be doing? Does it not just close the current window (the login window) thus giving the user access to the main program? \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Swing login window not closing","body":"<p>so I'm new to swing on java and I'm trying to make a login window as a precursor to a program. The login window is quite standard, it has a password and user input, a login button, and an x on the top right. However, I'm trying to make it so that the user cannot interact with the main program until they've inputted the correct login data. However, while the setenabled(false) function has allowed me to prevent access to the main program, after the user enters the correct info, nothing happens and the login screen remains.</p>\n<p>in my login class I have an loggedin boolean that is true if the right input is detected. however, the setenabled(true) doesn't seem to be executing, and the login window doesn't seem to be closing after the right input is entered. This is my actionperformed method from my login class:</p>\n<p>Does anyone know why this is? Is my this.setDefaultCloseOperation(this.EXIT_ON_CLOSE); not doing what I think it should be doing? Does it not just close the current window (the login window) thus giving the user access to the main program?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":341492,"reputation":1861,"user_id":672135,"accept_rate":88,"display_name":"HectorLector"},"score":6,"creation_date":1360757999,"post_id":14853402,"comment_id":20817950,"body_markdown":"check File.exists() and File.canRead()","body":"check File.exists() and File.canRead()"},{"owner":{"account_id":2118345,"reputation":12755,"user_id":1882149,"display_name":"Achintya Jha"},"score":1,"creation_date":1360758126,"post_id":14853402,"comment_id":20818000,"body_markdown":"May be path you are providing is incorrect .","body":"May be path you are providing is incorrect ."},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":3,"creation_date":1360758154,"post_id":14853402,"comment_id":20818009,"body_markdown":"`File.isDirectory()` **should** return **false** on files. Another thing, what is that `.` after the file extension?","body":"<code>File.isDirectory()</code> <b>should</b> return <b>false</b> on files. Another thing, what is that <code>.</code> after the file extension?"},{"owner":{"account_id":396857,"reputation":265,"user_id":760658,"accept_rate":0,"display_name":"user760658"},"score":1,"creation_date":1360758287,"post_id":14853402,"comment_id":20818089,"body_markdown":"Path is correct, i am not able to read file name","body":"Path is correct, i am not able to read file name"},{"owner":{"account_id":396857,"reputation":265,"user_id":760658,"accept_rate":0,"display_name":"user760658"},"score":0,"creation_date":1360758339,"post_id":14853402,"comment_id":20818113,"body_markdown":"file name is 21750_070503 - Sondeng&#228;ngigkeit.xls","body":"file name is 21750_070503 - Sondeng&#228;ngigkeit.xls"},{"owner":{"account_id":8185,"reputation":74392,"user_id":14606,"accept_rate":70,"display_name":"MusiGenesis"},"score":1,"creation_date":1360758414,"post_id":14853402,"comment_id":20818155,"body_markdown":"It may be the umlaut in your file name. See: http://stackoverflow.com/questions/1455369/java-io-filenotfoundexception-when-retrieving-a-url-with-umlauts-in-the-filename","body":"It may be the umlaut in your file name. See: <a href=\"http://stackoverflow.com/questions/1455369/java-io-filenotfoundexception-when-retrieving-a-url-with-umlauts-in-the-filename\" title=\"java io filenotfoundexception when retrieving a url with umlauts in the filename\">stackoverflow.com/questions/1455369/&hellip;</a>"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1360758656,"post_id":14853402,"comment_id":20818276,"body_markdown":"Did you try to change the file name, and check again? And make sure that your OS doesn&#39;t hide the extension, so maybe the real file name is `21750_070503 - Sondeng&#228;ngigkeit.xls.xls` in this case..","body":"Did you try to change the file name, and check again? And make sure that your OS doesn&#39;t hide the extension, so maybe the real file name is <code>21750_070503 - Sondeng&#228;ngigkeit.xls.xls</code> in this case.."},{"owner":{"account_id":1394549,"reputation":1296,"user_id":1324595,"accept_rate":65,"display_name":"David K"},"score":0,"creation_date":1360761577,"post_id":14853402,"comment_id":20819895,"body_markdown":"It could be the spaces in the name.  I know command line doesn&#39;t handle spaces without a &#39;\\&#39; in front, so it depends how isFile() works.  Try renaming without spaces and see if it works.","body":"It could be the spaces in the name.  I know command line doesn&#39;t handle spaces without a &#39;\\&#39; in front, so it depends how isFile() works.  Try renaming without spaces and see if it works."},{"owner":{"account_id":112746,"reputation":4008,"user_id":297257,"accept_rate":89,"display_name":"Shashank Shekhar"},"score":0,"creation_date":1383244830,"post_id":14853402,"comment_id":29286956,"body_markdown":"possible duplicate of [File returns always false for isDirectory and isFile in Java](http://stackoverflow.com/questions/9775659/file-returns-always-false-for-isdirectory-and-isfile-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/9775659/file-returns-always-false-for-isdirectory-and-isfile-in-java\">File returns always false for isDirectory and isFile in Java</a>"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1523540369,"post_id":14853402,"comment_id":86610733,"body_markdown":"could also be a symlink ? at first glance the &#228; seems possibly problematic. did you try another file name?","body":"could also be a symlink ? at first glance the &#228; seems possibly problematic. did you try another file name?"}],"answers":[{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1360758300,"creation_date":1360758300,"answer_id":14853523,"question_id":14853402,"body_markdown":"Please try the following code example\r\n\r\n    if(!pFile.exists()){\r\n       throw new FileNotFoundException();\r\n    }\r\n    \r\n    boolean isDir = pFile.isDirectory();\r\n    \r\n    boolean isFile = pfile.isFile();\r\n\r\n\r\nthe file is not a file\r\n\r\n&gt; if it is not a directory and, in addition, satisfies other system-dependent criteria\r\n\r\n\r\nif the exception is thrown, you have to check the file path.","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>Please try the following code example</p>\n\n<pre><code>if(!pFile.exists()){\n   throw new FileNotFoundException();\n}\n\nboolean isDir = pFile.isDirectory();\n\nboolean isFile = pfile.isFile();\n</code></pre>\n\n<p>the file is not a file</p>\n\n<blockquote>\n  <p>if it is not a directory and, in addition, satisfies other system-dependent criteria</p>\n</blockquote>\n\n<p>if the exception is thrown, you have to check the file path.</p>\n"},{"tags":[],"owner":{"account_id":1290209,"reputation":994,"user_id":1242461,"display_name":"stan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360835165,"creation_date":1360835165,"answer_id":14871880,"question_id":14853402,"body_markdown":"Check the permissions of the parent directories of this file. Some of these directories may not have **execute** permission for the current user.\r\n\r\n - The execute bit of directory allows the affected user to enter it and access files and directories inside","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>Check the permissions of the parent directories of this file. Some of these directories may not have <strong>execute</strong> permission for the current user.</p>\n\n<ul>\n<li>The execute bit of directory allows the affected user to enter it and access files and directories inside</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1408687095,"creation_date":1390173904,"answer_id":21224032,"question_id":14853402,"body_markdown":"According to the [documentation][1]:\r\n\r\n&gt;    public boolean isFile()\r\n&gt; \r\n&gt; &lt;b&gt;Returns:&lt;/b&gt;\r\n&gt;     true if and only if the file denoted by this abstract pathname &lt;i&gt;exists&lt;/i&gt; and is\r\n&gt;     a &lt;i&gt;normal&lt;/i&gt; file; false otherwise.\r\n\r\nFrom this basis, your file either doesn&#39;t exist or is not a normal file.\r\n\r\nPossible reasons of the 1st:\r\n\r\n 1. file doesn&#39;t exist;\r\n 2. file can&#39;t be accessed;\r\n 3. file name is mistyped;\r\n 4. the character encoding used in your program isn&#39;t the\r\nsame as that used when you created the file.\r\n\r\nPossible reasons of the 2nd:\r\n\r\n - it&#39;s not a [regular file][2].\r\n\r\nOr it&#39;s a bug in JVM. It&#39;s also possible though unlikely. For example at once I had problems with an exclamation mark in path names - [Bug 4523159][3].\r\n\r\nIf you want to access the file in any way, consider calling [`dir.listFiles()`][4] and work with its return value.\r\n ---\r\n&lt;sub&gt;(answer is partially based on [this thread][5])&lt;/sub&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile%28%29\r\n  [2]: https://stackoverflow.com/q/6858452/1429387\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4523159\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles%28%29\r\n  [5]: http://www.velocityreviews.com/forums/t388123-file-isfile-returns-false-on-special-character-files.html\r\n\r\n","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile%28%29\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>public boolean isFile()</p>\n<p><b>Returns:</b>\ntrue if and only if the file denoted by this abstract pathname <i>exists</i> and is\na <i>normal</i> file; false otherwise.</p>\n</blockquote>\n<p>From this basis, your file either doesn't exist or is not a normal file.</p>\n<p>Possible reasons of the 1st:</p>\n<ol>\n<li>file doesn't exist;</li>\n<li>file can't be accessed;</li>\n<li>file name is mistyped;</li>\n<li>the character encoding used in your program isn't the\nsame as that used when you created the file.</li>\n</ol>\n<p>Possible reasons of the 2nd:</p>\n<ul>\n<li>it's not a <a href=\"https://stackoverflow.com/q/6858452/1429387\">regular file</a>.</li>\n</ul>\n<p>Or it's a bug in JVM. It's also possible though unlikely. For example at once I had problems with an exclamation mark in path names - <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4523159\" rel=\"nofollow noreferrer\">Bug 4523159</a>.</p>\n<h2>If you want to access the file in any way, consider calling <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles%28%29\" rel=\"nofollow noreferrer\"><code>dir.listFiles()</code></a> and work with its return value.</h2>\n<p><sub>(answer is partially based on <a href=\"http://www.velocityreviews.com/forums/t388123-file-isfile-returns-false-on-special-character-files.html\" rel=\"nofollow noreferrer\">this thread</a>)</sub></p>\n"},{"tags":[],"owner":{"account_id":1594932,"reputation":9031,"user_id":1477353,"accept_rate":82,"display_name":"Stemkoski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480263552,"creation_date":1480263552,"answer_id":40831057,"question_id":14853402,"body_markdown":"I&#39;ve also had problems with `file.isFile()` returning `false` on files, presumably because the file is not &quot;regular&quot;, as noted in other responses to this question. As a workaround, I use `file.listFiles() != null`, which seems to provide the functionality I need. According to the [Java File API][1]:\r\n\r\n&gt; If this abstract pathname does not denote a directory, then this method returns null. Otherwise an array of File objects is returned.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles()","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>I've also had problems with <code>file.isFile()</code> returning <code>false</code> on files, presumably because the file is not \"regular\", as noted in other responses to this question. As a workaround, I use <code>file.listFiles() != null</code>, which seems to provide the functionality I need. According to the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles()\" rel=\"nofollow noreferrer\">Java File API</a>:</p>\n\n<blockquote>\n  <p>If this abstract pathname does not denote a directory, then this method returns null. Otherwise an array of File objects is returned.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6541746,"reputation":133,"user_id":5059028,"display_name":"David Concha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523540253,"creation_date":1523540253,"answer_id":49798052,"question_id":14853402,"body_markdown":"I got same error when i was testing isFile() on a `.txt` file.\r\nThe problem was the file i created had `something.txt` with `.txt` on the name.\r\nThen i renamed `something.txt` to `something`\r\n\r\nI was really mad with myself ","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>I got same error when i was testing isFile() on a <code>.txt</code> file.\nThe problem was the file i created had <code>something.txt</code> with <code>.txt</code> on the name.\nThen i renamed <code>something.txt</code> to <code>something</code></p>\n\n<p>I was really mad with myself </p>\n"},{"tags":[],"owner":{"account_id":6712951,"reputation":115,"user_id":5175726,"accept_rate":67,"display_name":"Anubis  Lockward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527692551,"creation_date":1527692551,"answer_id":50607945,"question_id":14853402,"body_markdown":"I know that this question was asked five years ago, in fact, I got to it because I had the same problem, I am creating a List&lt;String&gt; of all the files in a given path, like this:\r\n\r\n    File files = Paths.get(path).toFile();\t\t\r\n    List&lt;String&gt; filenames = Arrays.asList(files.list());\r\n\r\nThe thing is, that *path* contains a directory which is called *testing_testing*, which is being returned as part of the list.\r\n\r\nThen when I do the following test:\r\n\r\n    for (String filename : filenames) {\r\n    \tif (Files.isDirectory(Paths.get(filename))) {\r\n    \t\tSystem.out.println(filename + &quot; is a directory.&quot;);\r\n    \t} else {\r\n    \t\tif(filename.equals(&quot;testing_testing&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;Is this a directory?: &quot; + Files.isDirectory(Paths.get(filename)));\r\n    \t\t\tSystem.out.println(&quot;Does the file exists?: &quot; + Files.exists(Paths.get(filename)));\r\n    \t\t\tSystem.out.println(&quot;Is this a regular file?: &quot; + Files.isRegularFile(Paths.get(filename)));\r\n    \t\t\tSystem.out.println(&quot;Is this a symbolic link?: &quot; + Files.isSymbolicLink(Paths.get(filename)));\t\t\t\t\t\t\r\n    \t\t}\t\t\t\t\t\r\n    \t}\r\n    }\r\n\r\nIt is returning false for `Files.isDirectory()` and for `Files.exists()`.\r\n\r\nTinkering around for a bit, I noticed that I was only getting the filenames, without the full path to them, which meant that I was only passing *testing_testing* to `Paths.get()` instead of passing the full path to get to it, that&#39;s why it didn&#39;t exists and returned false for both scenarios.\r\n\r\nI changed the code to:\r\n\r\n    Paths.get(&quot;C:\\test&quot;, filename);\r\n\r\nAnd now the tests return the proper values. I don&#39;t know if you&#39;ve already figured this out, because it&#39;s been five years since you asked. But for anyone with the same problem, make sure that you&#39;re passing the correct path to your files, and then try the other things suggested in previous answers on this same question.\r\n\r\n","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>I know that this question was asked five years ago, in fact, I got to it because I had the same problem, I am creating a List of all the files in a given path, like this:</p>\n\n<pre><code>File files = Paths.get(path).toFile();      \nList&lt;String&gt; filenames = Arrays.asList(files.list());\n</code></pre>\n\n<p>The thing is, that <em>path</em> contains a directory which is called <em>testing_testing</em>, which is being returned as part of the list.</p>\n\n<p>Then when I do the following test:</p>\n\n<pre><code>for (String filename : filenames) {\n    if (Files.isDirectory(Paths.get(filename))) {\n        System.out.println(filename + \" is a directory.\");\n    } else {\n        if(filename.equals(\"testing_testing\")) {\n            System.out.println(\"Is this a directory?: \" + Files.isDirectory(Paths.get(filename)));\n            System.out.println(\"Does the file exists?: \" + Files.exists(Paths.get(filename)));\n            System.out.println(\"Is this a regular file?: \" + Files.isRegularFile(Paths.get(filename)));\n            System.out.println(\"Is this a symbolic link?: \" + Files.isSymbolicLink(Paths.get(filename)));                       \n        }                   \n    }\n}\n</code></pre>\n\n<p>It is returning false for <code>Files.isDirectory()</code> and for <code>Files.exists()</code>.</p>\n\n<p>Tinkering around for a bit, I noticed that I was only getting the filenames, without the full path to them, which meant that I was only passing <em>testing_testing</em> to <code>Paths.get()</code> instead of passing the full path to get to it, that's why it didn't exists and returned false for both scenarios.</p>\n\n<p>I changed the code to:</p>\n\n<pre><code>Paths.get(\"C:\\test\", filename);\n</code></pre>\n\n<p>And now the tests return the proper values. I don't know if you've already figured this out, because it's been five years since you asked. But for anyone with the same problem, make sure that you're passing the correct path to your files, and then try the other things suggested in previous answers on this same question.</p>\n"},{"tags":[],"owner":{"account_id":9307912,"reputation":4091,"user_id":6910868,"accept_rate":58,"display_name":"Maxim Masiutin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643856069,"creation_date":1643856069,"answer_id":70965318,"question_id":14853402,"body_markdown":"The character encoding used by Java in your case is different from the character encoding in the source file, so the symbol &quot;&#228;&quot; in the file name cannot be properly decoded by Java, resulting in a different file name. That&#39;s why Java cannot find the file. Therefore, the file manipulation functions over this file return &quot;False&quot;. \r\n\r\nAs the safest way to work properly in different build environments, to avoid setting Java character encoding option and also make handling source files easier, use US-ASCII only (7-bit) characters in the source code. As for the other characters, use their Unicode numbers, e.g., instead of &quot;&#228;&quot; use &quot;\\u00e4&quot;. So, your filename would become &quot;aaa\\u00e4aa.xls&quot;.","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>The character encoding used by Java in your case is different from the character encoding in the source file, so the symbol &quot;ä&quot; in the file name cannot be properly decoded by Java, resulting in a different file name. That's why Java cannot find the file. Therefore, the file manipulation functions over this file return &quot;False&quot;.</p>\n<p>As the safest way to work properly in different build environments, to avoid setting Java character encoding option and also make handling source files easier, use US-ASCII only (7-bit) characters in the source code. As for the other characters, use their Unicode numbers, e.g., instead of &quot;ä&quot; use &quot;\\u00e4&quot;. So, your filename would become &quot;aaa\\u00e4aa.xls&quot;.</p>\n"},{"tags":[],"owner":{"account_id":14787806,"reputation":27,"user_id":10679564,"display_name":"Jia Xuan Ng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648919643,"creation_date":1648919643,"answer_id":71719616,"question_id":14853402,"body_markdown":"I&#39;ve had this issue several times and if everything has been tried then it might be that you have issues with pathing. Any space character is replaced by %20, and it results in an issue.\r\n\r\nTherefore, whereas this doesn&#39;t work:\r\n```java\r\nFile file = new File(Objects.requireNonNull(getClass().getResource(/path/to/file).getPath());\r\n```\r\n\r\nThis actually does:\r\n```java\r\nFile file = new File(Objects.requireNonNull(getClass().getResource(/path/to/file).getPath().replace(&quot;%20&quot;, &quot; &quot;));\r\n```","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>I've had this issue several times and if everything has been tried then it might be that you have issues with pathing. Any space character is replaced by %20, and it results in an issue.</p>\n<p>Therefore, whereas this doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(Objects.requireNonNull(getClass().getResource(/path/to/file).getPath());\n</code></pre>\n<p>This actually does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(Objects.requireNonNull(getClass().getResource(/path/to/file).getPath().replace(&quot;%20&quot;, &quot; &quot;));\n</code></pre>\n"}],"owner":{"account_id":396857,"reputation":265,"user_id":760658,"accept_rate":0,"display_name":"user760658"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30424,"favorite_count":0,"down_vote_count":2,"up_vote_count":17,"answer_count":8,"score":15,"last_activity_date":1648919643,"creation_date":1360757870,"question_id":14853402,"body_markdown":"I have a file with name  &quot;aaa&#228;aa.xls&quot;\r\n\r\nFor this, `File.isFile()` and `File.isDirectory()` is returning `false`? why it is returning `false` in `Linux`?","title":"both File.isFile() and File.isDirectory() is returning false","body":"<p>I have a file with name  \"aaaäaa.xls\"</p>\n\n<p>For this, <code>File.isFile()</code> and <code>File.isDirectory()</code> is returning <code>false</code>? why it is returning <code>false</code> in <code>Linux</code>?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648917132,"post_id":71718347,"comment_id":126746573,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1648937553,"post_id":71718347,"comment_id":126750401,"body_markdown":"Try the accepted answer to [Accessing members of items in a JsonArray](https://stackoverflow.com/q/1568762/16653700).","body":"Try the accepted answer to <a href=\"https://stackoverflow.com/q/1568762/16653700\">Accessing members of items in a JsonArray</a>."}],"owner":{"account_id":24760966,"reputation":1,"user_id":18645382,"display_name":"stef_axel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648919596,"creation_date":1648909302,"question_id":71718347,"body_markdown":"I&#39;m using a threaded server to get data out of an SQLite database, I have created in this case Drivers to get the various strings and ints from the database. On the server I&#39;m creating a HashMap.\r\n\r\nThe HashMap is sent to a client handler where I create a Json Object and then override the run method to send it to the client.\r\n\r\nOn the client I&#39;m using swing and creating buttons and tables for a GUI. When a button is pressed it calls this method which parses the reply into a Json object:\r\n\r\n```\r\nprivate void showDrivers() {\r\n        if (printWriter != null &amp;&amp; bufferedReader != null) {\r\n            String toSend = &quot;get&quot;;\r\n\r\n            printWriter.println(toSend);\r\n\r\n            String reply = null;\r\n\r\n            statusLabel.setText(&quot;Status: wait for server to reply&quot;);\r\n            try {\r\n                reply = bufferedReader.readLine();\r\n                statusLabel.setText(&quot;Status: received reply from server&quot;);\r\nJsonParser.parseString(reply).getAsJsonObject();\r\n            } catch (IOException ex) {\r\n                statusLabel.setText(&quot;IOException &quot; + ex);\r\n            }\r\n            System.out.println(jsonDriver);\r\n\r\n            JsonObject jsonReply = JsonParser.parseString(reply).getAsJsonObject();\r\n\r\n            JsonArray jsonDriverArray = jsonReply.getAsJsonArray(&quot;driverId&quot;);\r\n\r\n            System.out.println(jsonDriverArray);\r\n     }\r\n}\r\n``` \r\n\r\nI&#39;m trying to get all the members from the array and then place them in a table, using the console to check that I&#39;m actually getting the data from the array.\r\n\r\nI have run everything in the debugger, making sure that I&#39;m actually sending the data to the client, which I am. I expected that by using this:\r\n\r\n```\r\nJsonArray jsonDriverArray = jsonReply.getAsJsonArray(&quot;driverId&quot;);\r\n```\r\nIt should get driverId 1, 2, 3, etc printing out to the console\r\n\r\n```\r\nSystem.out.println(jsonDriverArray);\r\n```\r\nReturns null, I thought that by using driverId as the member name it would get all the driverIds, likwise if I changed it to forenames it should get all the forenames. \r\n\r\nIn the debugger I get this which is stored in jsonReply:\r\n\r\n    1 -&gt; {JsonObject@3072} &quot;{&quot;driverId&quot;:1,&quot;driverRef&quot;:&quot;hamilton&quot;,&quot;number&quot;:&quot;44&quot;,&quot;code&quot;:&quot;HAM&quot;,&quot;forename&quot;:&quot;Lewis&quot;,&quot;surname&quot;:&quot;Hamilton&quot;,&quot;dob&quot;:&quot;07/01/1985&quot;,&quot;nationality&quot;:&quot;British&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Lewis_Hamilton&quot;}&quot;\r\n    2 -&gt; {JsonObject@3074} &quot;{&quot;driverId&quot;:2,&quot;driverRef&quot;:&quot;heidfeld&quot;,&quot;number&quot;:&quot;&quot;,&quot;code&quot;:&quot;HEI&quot;,&quot;forename&quot;:&quot;Nick&quot;,&quot;surname&quot;:&quot;Heidfeld&quot;,&quot;dob&quot;:&quot;10/05/1977&quot;,&quot;nationality&quot;:&quot;German&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Nick_Heidfeld&quot;}&quot;\r\n    3 -&gt; {JsonObject@3076} &quot;{&quot;driverId&quot;:3,&quot;driverRef&quot;:&quot;rosberg&quot;,&quot;number&quot;:&quot;6&quot;,&quot;code&quot;:&quot;ROS&quot;,&quot;forename&quot;:&quot;Nico&quot;,&quot;surname&quot;:&quot;Rosberg&quot;,&quot;dob&quot;:&quot;27/06/1985&quot;,&quot;nationality&quot;:&quot;German&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Nico_Rosberg&quot;}&quot;\r\n    4 -&gt; {JsonObject@3078} &quot;{&quot;driverId&quot;:4,&quot;driverRef&quot;:&quot;alonso&quot;,&quot;number&quot;:&quot;14&quot;,&quot;code&quot;:&quot;ALO&quot;,&quot;forename&quot;:&quot;Fernando&quot;,&quot;surname&quot;:&quot;Alonso&quot;,&quot;dob&quot;:&quot;29/07/1981&quot;,&quot;nationality&quot;:&quot;Spanish&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Fernando_Alonso&quot;}&quot;","title":"Getting membername from JsonObject","body":"<p>I'm using a threaded server to get data out of an SQLite database, I have created in this case Drivers to get the various strings and ints from the database. On the server I'm creating a HashMap.</p>\n<p>The HashMap is sent to a client handler where I create a Json Object and then override the run method to send it to the client.</p>\n<p>On the client I'm using swing and creating buttons and tables for a GUI. When a button is pressed it calls this method which parses the reply into a Json object:</p>\n<pre><code>private void showDrivers() {\n        if (printWriter != null &amp;&amp; bufferedReader != null) {\n            String toSend = &quot;get&quot;;\n\n            printWriter.println(toSend);\n\n            String reply = null;\n\n            statusLabel.setText(&quot;Status: wait for server to reply&quot;);\n            try {\n                reply = bufferedReader.readLine();\n                statusLabel.setText(&quot;Status: received reply from server&quot;);\nJsonParser.parseString(reply).getAsJsonObject();\n            } catch (IOException ex) {\n                statusLabel.setText(&quot;IOException &quot; + ex);\n            }\n            System.out.println(jsonDriver);\n\n            JsonObject jsonReply = JsonParser.parseString(reply).getAsJsonObject();\n\n            JsonArray jsonDriverArray = jsonReply.getAsJsonArray(&quot;driverId&quot;);\n\n            System.out.println(jsonDriverArray);\n     }\n}\n</code></pre>\n<p>I'm trying to get all the members from the array and then place them in a table, using the console to check that I'm actually getting the data from the array.</p>\n<p>I have run everything in the debugger, making sure that I'm actually sending the data to the client, which I am. I expected that by using this:</p>\n<pre><code>JsonArray jsonDriverArray = jsonReply.getAsJsonArray(&quot;driverId&quot;);\n</code></pre>\n<p>It should get driverId 1, 2, 3, etc printing out to the console</p>\n<pre><code>System.out.println(jsonDriverArray);\n</code></pre>\n<p>Returns null, I thought that by using driverId as the member name it would get all the driverIds, likwise if I changed it to forenames it should get all the forenames.</p>\n<p>In the debugger I get this which is stored in jsonReply:</p>\n<pre><code>1 -&gt; {JsonObject@3072} &quot;{&quot;driverId&quot;:1,&quot;driverRef&quot;:&quot;hamilton&quot;,&quot;number&quot;:&quot;44&quot;,&quot;code&quot;:&quot;HAM&quot;,&quot;forename&quot;:&quot;Lewis&quot;,&quot;surname&quot;:&quot;Hamilton&quot;,&quot;dob&quot;:&quot;07/01/1985&quot;,&quot;nationality&quot;:&quot;British&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Lewis_Hamilton&quot;}&quot;\n2 -&gt; {JsonObject@3074} &quot;{&quot;driverId&quot;:2,&quot;driverRef&quot;:&quot;heidfeld&quot;,&quot;number&quot;:&quot;&quot;,&quot;code&quot;:&quot;HEI&quot;,&quot;forename&quot;:&quot;Nick&quot;,&quot;surname&quot;:&quot;Heidfeld&quot;,&quot;dob&quot;:&quot;10/05/1977&quot;,&quot;nationality&quot;:&quot;German&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Nick_Heidfeld&quot;}&quot;\n3 -&gt; {JsonObject@3076} &quot;{&quot;driverId&quot;:3,&quot;driverRef&quot;:&quot;rosberg&quot;,&quot;number&quot;:&quot;6&quot;,&quot;code&quot;:&quot;ROS&quot;,&quot;forename&quot;:&quot;Nico&quot;,&quot;surname&quot;:&quot;Rosberg&quot;,&quot;dob&quot;:&quot;27/06/1985&quot;,&quot;nationality&quot;:&quot;German&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Nico_Rosberg&quot;}&quot;\n4 -&gt; {JsonObject@3078} &quot;{&quot;driverId&quot;:4,&quot;driverRef&quot;:&quot;alonso&quot;,&quot;number&quot;:&quot;14&quot;,&quot;code&quot;:&quot;ALO&quot;,&quot;forename&quot;:&quot;Fernando&quot;,&quot;surname&quot;:&quot;Alonso&quot;,&quot;dob&quot;:&quot;29/07/1981&quot;,&quot;nationality&quot;:&quot;Spanish&quot;,&quot;url&quot;:&quot;http://en.wikipedia.org/wiki/Fernando_Alonso&quot;}&quot;\n</code></pre>\n"},{"tags":["java","android-studio","button"],"answers":[{"tags":[],"owner":{"account_id":9197483,"reputation":2049,"user_id":6835732,"display_name":"Primož Ivančič"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648828895,"creation_date":1648828895,"answer_id":71709805,"question_id":71709688,"body_markdown":"Every time you release a button (any button), call a method that checks if all the buttons are released. If they are, send `0`.\r\n\r\nThere is also a possibility to count the pressed buttons: every time you press a button, you increase the counter and vice versa. If the counter is zero, send `0`.","title":"Check if multiple buttons are released android studio/java","body":"<p>Every time you release a button (any button), call a method that checks if all the buttons are released. If they are, send <code>0</code>.</p>\n<p>There is also a possibility to count the pressed buttons: every time you press a button, you increase the counter and vice versa. If the counter is zero, send <code>0</code>.</p>\n"},{"tags":[],"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648919070,"creation_date":1648829387,"answer_id":71709903,"question_id":71709688,"body_markdown":"I made Boolean for each button to check if it&#39;s pressed or not when I press it will be true and when I release it will turn false. Instead of sending 0 when I release it will check if every button is not pressed (check that all the Boolean are false) and only then send a 0.\r\n\r\n\r\n    @Override\r\n        public boolean onTouch(View view, MotionEvent motionEvent) {\r\n            switch (view.getId()){\r\n                case R.id.commend1B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        commend1BHold = true;\r\n                        Log.i(&quot;sending&quot;, &quot;sending 1&quot;);\r\n                        bluetooth.write(&quot;1#&quot;);\r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        commend1BHold = false;\r\n                        send0();\r\n    \r\n                    }\r\n                    break;\r\n                case R.id.commend2B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        commend2BHold = true;\r\n                        Log.i(&quot;sending&quot;, &quot;sending 2&quot;);\r\n                        bluetooth.write(&quot;2#&quot;);\r\n    \r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        commend2BHold = false;\r\n                        send0();\r\n                    }\r\n                    break;\r\n                case R.id.commend3B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        commend3BHold = true;\r\n                        Log.i(&quot;sending&quot;, &quot;sending 3&quot;);\r\n                        bluetooth.write(&quot;3#&quot;);\r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        commend3BHold = false;\r\n                        send0();\r\n                    }\r\n                    break;\r\n                case R.id.commend4B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        commend4BHold = true;\r\n                        Log.i(&quot;sending&quot;, &quot;sending 4&quot;);\r\n                        bluetooth.write(&quot;4#&quot;);\r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        commend4BHold = false;\r\n                        send0();\r\n                    }\r\n                    break;\r\n    \r\n    \r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + view.getId());\r\n            }\r\n    \r\n            return false;\r\n        }\r\n        public void send0(){\r\n            if(!commend1BHold &amp;&amp;!commend2BHold &amp;&amp; !commend3BHold &amp;&amp; !commend4BHold){\r\n                Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                bluetooth.write(&quot;0#&quot;);\r\n            }\r\n        }","title":"Check if multiple buttons are released android studio/java","body":"<p>I made Boolean for each button to check if it's pressed or not when I press it will be true and when I release it will turn false. Instead of sending 0 when I release it will check if every button is not pressed (check that all the Boolean are false) and only then send a 0.</p>\n<pre><code>@Override\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        switch (view.getId()){\n            case R.id.commend1B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    commend1BHold = true;\n                    Log.i(&quot;sending&quot;, &quot;sending 1&quot;);\n                    bluetooth.write(&quot;1#&quot;);\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    commend1BHold = false;\n                    send0();\n\n                }\n                break;\n            case R.id.commend2B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    commend2BHold = true;\n                    Log.i(&quot;sending&quot;, &quot;sending 2&quot;);\n                    bluetooth.write(&quot;2#&quot;);\n\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    commend2BHold = false;\n                    send0();\n                }\n                break;\n            case R.id.commend3B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    commend3BHold = true;\n                    Log.i(&quot;sending&quot;, &quot;sending 3&quot;);\n                    bluetooth.write(&quot;3#&quot;);\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    commend3BHold = false;\n                    send0();\n                }\n                break;\n            case R.id.commend4B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    commend4BHold = true;\n                    Log.i(&quot;sending&quot;, &quot;sending 4&quot;);\n                    bluetooth.write(&quot;4#&quot;);\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    commend4BHold = false;\n                    send0();\n                }\n                break;\n\n\n            default:\n                throw new IllegalStateException(&quot;Unexpected value: &quot; + view.getId());\n        }\n\n        return false;\n    }\n    public void send0(){\n        if(!commend1BHold &amp;&amp;!commend2BHold &amp;&amp; !commend3BHold &amp;&amp; !commend4BHold){\n            Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n            bluetooth.write(&quot;0#&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71709805,"answer_count":2,"score":0,"last_activity_date":1648919070,"creation_date":1648828333,"question_id":71709688,"body_markdown":"I want my program to send 0 only if all buttons are released. \r\nThe code now sends 0 when i release the button, but if i hold to button and release one of them it will send 0 but i dont want it to do that i only want when all of the button are released.\r\nThanks.\r\n\r\n    @Override\r\n        public boolean onTouch(View view, MotionEvent motionEvent) {\r\n            switch (view.getId()){\r\n                case R.id.commend1B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        commend1BHold = true;\r\n                        Log.i(&quot;sending&quot;, &quot;sending 1&quot;);\r\n                        bluetooth.write(&quot;1#&quot;);\r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                        bluetooth.write(&quot;0#&quot;);\r\n                    }\r\n                    break;\r\n                case R.id.commend2B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        Log.i(&quot;sending&quot;, &quot;sending 2&quot;);\r\n                        bluetooth.write(&quot;2#&quot;);\r\n    \r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                        bluetooth.write(&quot;0#&quot;);\r\n                    }\r\n                    break;\r\n                case R.id.commend3B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        Log.i(&quot;sending&quot;, &quot;sending 3&quot;);\r\n                        bluetooth.write(&quot;3#&quot;);\r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                        bluetooth.write(&quot;0#&quot;);\r\n                    }\r\n                    break;\r\n                case R.id.commend4B:\r\n                    if (motionEvent.getAction() == ACTION_DOWN) {\r\n                        Log.i(&quot;sending&quot;, &quot;sending 4&quot;);\r\n                        bluetooth.write(&quot;4#&quot;);\r\n                    } else if (motionEvent.getAction() == ACTION_UP){\r\n                        Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                        bluetooth.write(&quot;0#&quot;);\r\n                    }\r\n                    break;\r\n    \r\n    \r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + view.getId());\r\n            }\r\n    \r\n            return false;\r\n        }","title":"Check if multiple buttons are released android studio/java","body":"<p>I want my program to send 0 only if all buttons are released.\nThe code now sends 0 when i release the button, but if i hold to button and release one of them it will send 0 but i dont want it to do that i only want when all of the button are released.\nThanks.</p>\n<pre><code>@Override\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        switch (view.getId()){\n            case R.id.commend1B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    commend1BHold = true;\n                    Log.i(&quot;sending&quot;, &quot;sending 1&quot;);\n                    bluetooth.write(&quot;1#&quot;);\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n                    bluetooth.write(&quot;0#&quot;);\n                }\n                break;\n            case R.id.commend2B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    Log.i(&quot;sending&quot;, &quot;sending 2&quot;);\n                    bluetooth.write(&quot;2#&quot;);\n\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n                    bluetooth.write(&quot;0#&quot;);\n                }\n                break;\n            case R.id.commend3B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    Log.i(&quot;sending&quot;, &quot;sending 3&quot;);\n                    bluetooth.write(&quot;3#&quot;);\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n                    bluetooth.write(&quot;0#&quot;);\n                }\n                break;\n            case R.id.commend4B:\n                if (motionEvent.getAction() == ACTION_DOWN) {\n                    Log.i(&quot;sending&quot;, &quot;sending 4&quot;);\n                    bluetooth.write(&quot;4#&quot;);\n                } else if (motionEvent.getAction() == ACTION_UP){\n                    Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n                    bluetooth.write(&quot;0#&quot;);\n                }\n                break;\n\n\n            default:\n                throw new IllegalStateException(&quot;Unexpected value: &quot; + view.getId());\n        }\n\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","java-io"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1648917100,"post_id":71719275,"comment_id":126746565,"body_markdown":"In code I have that works, a leading slash is used on the path.  Problems like this are always that you don&#39;t have the path quite right.  I think you want `/main/resources/dir1/file1`.","body":"In code I have that works, a leading slash is used on the path.  Problems like this are always that you don&#39;t have the path quite right.  I think you want <code>&#47;main&#47;resources&#47;dir1&#47;file1</code>."},{"owner":{"account_id":24800369,"reputation":3,"user_id":18682807,"display_name":"Piotr S"},"score":0,"creation_date":1648918641,"post_id":71719275,"comment_id":126746844,"body_markdown":"Path is ok, it works with &#39;/&#39; but does not work with &#39;\\&#39; as path separator. In library jar dir1 is on root path, so I don&#39;t need to add &#39;/main/resources...&#39; etc.","body":"Path is ok, it works with &#39;/&#39; but does not work with &#39;\\&#39; as path separator. In library jar dir1 is on root path, so I don&#39;t need to add &#39;/main/resources...&#39; etc."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1648919489,"post_id":71719275,"comment_id":126747012,"body_markdown":"The API is [documented](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ClassLoader.html#getResource(java.lang.String)) to use `/` as the separator, not ``\\``. You mention you can&#39;t just switch to using the former because &quot;I&#39;m not controlling string which is passed to getResourceAsStream&quot;. But I assume you are allowed to process the string before passing it as an argument, no? Because if you can, then one option is to do `path = path.replace(&#39;\\\\&#39;, &#39;/&#39;)` to change the back slashes to forward slashes.","body":"The API is <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ClassLoader.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">documented</a> to use <code>&#47;</code> as the separator, not <code>\\</code>. You mention you can&#39;t just switch to using the former because &quot;I&#39;m not controlling string which is passed to getResourceAsStream&quot;. But I assume you are allowed to process the string before passing it as an argument, no? Because if you can, then one option is to do <code>path = path.replace(&#39;\\\\&#39;, &#39;&#47;&#39;)</code> to change the back slashes to forward slashes."},{"owner":{"account_id":24800369,"reputation":3,"user_id":18682807,"display_name":"Piotr S"},"score":0,"creation_date":1648919883,"post_id":71719275,"comment_id":126747088,"body_markdown":"Yes I can, but I thought that it should work also with &#39;\\&#39;. Thank you for your answers and reffering to the documentation. You saved my day :)","body":"Yes I can, but I thought that it should work also with &#39;\\&#39;. Thank you for your answers and reffering to the documentation. You saved my day :)"}],"answers":[{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648918500,"creation_date":1648918500,"answer_id":71719483,"question_id":71719275,"body_markdown":"When referring to `file1,` it is a physical file in your application, and I assume that you run your code on Windows. The file `file1` is in the Windows file system.\r\n\r\nWhen referring to `file2`, it is inside a JAR file. That is not a windows file system, it is a JAR file.\r\n\r\nUnless you know that the file is a physical file, it is safer to use the forward slash. The `\\` is a residue from the old 32-bit windows before Windows NT. Windows NT inside (I am not sure if I remember it correctly) uses `/`, and the command processor only uses the `\\`.\r\n\r\n\r\n","title":"Java ClassLoader.getResourceAsStream(path) return null when resource is inside nested jar","body":"<p>When referring to <code>file1,</code> it is a physical file in your application, and I assume that you run your code on Windows. The file <code>file1</code> is in the Windows file system.</p>\n<p>When referring to <code>file2</code>, it is inside a JAR file. That is not a windows file system, it is a JAR file.</p>\n<p>Unless you know that the file is a physical file, it is safer to use the forward slash. The <code>\\</code> is a residue from the old 32-bit windows before Windows NT. Windows NT inside (I am not sure if I remember it correctly) uses <code>/</code>, and the command processor only uses the <code>\\</code>.</p>\n"}],"owner":{"account_id":24800369,"reputation":3,"user_id":18682807,"display_name":"Piotr S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71719483,"answer_count":1,"score":0,"last_activity_date":1648918500,"creation_date":1648916693,"question_id":71719275,"body_markdown":"My springboot project (project A) has dependency to library (library B) which is jar file (it&#39;s also my project, but source code is not present during compilation project A). Inside jar I have directory dir1 with one file file2.\r\n\r\nProject structure:\r\n\r\n    - project A\r\n    -- src/main/java/com/test/ResourcesUtils.java\r\n    -- src/main/resources/dir1/file1\r\n    \r\n    - library B\r\n    -- src/main/resources/dir1/file2\r\n\r\nWhen I try to get resource from project A everything works fine for example:\r\n\r\n    InputStream is1 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1\\\\file1);\r\n    InputStream is2 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1/file1);\r\n\r\nBoth (is1, is2) are not null.\r\n\r\nWhen I try to get resource from library B using the same method it does not work\r\n\r\n    InputStream is1 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1\\\\file2);\r\n    InputStream is2 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1/file2);\r\n\r\nVariable is1 is null, is2 is not null.\r\n\r\nAm I doing something wrong? Why it works different for resource from main jar than from dependent jar?\r\n\r\nI can&#39;t just switch to second version (with &#39;/&#39;, because I&#39;m not controlling string which is passed to getResourceAsStream)\r\n\r\n\r\n    public static boolean existsInResource(Path path) {\r\n    \r\n    try (InputStream is = ResourcesUtils.class.getClassLoader().getResourceAsStream(path.toString())) {\r\n          return is != null;\r\n        } catch (final IOException e) {\r\n          // handle exception\r\n        }\r\n      }","title":"Java ClassLoader.getResourceAsStream(path) return null when resource is inside nested jar","body":"<p>My springboot project (project A) has dependency to library (library B) which is jar file (it's also my project, but source code is not present during compilation project A). Inside jar I have directory dir1 with one file file2.</p>\n<p>Project structure:</p>\n<pre><code>- project A\n-- src/main/java/com/test/ResourcesUtils.java\n-- src/main/resources/dir1/file1\n\n- library B\n-- src/main/resources/dir1/file2\n</code></pre>\n<p>When I try to get resource from project A everything works fine for example:</p>\n<pre><code>InputStream is1 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1\\\\file1);\nInputStream is2 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1/file1);\n</code></pre>\n<p>Both (is1, is2) are not null.</p>\n<p>When I try to get resource from library B using the same method it does not work</p>\n<pre><code>InputStream is1 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1\\\\file2);\nInputStream is2 = ResourcesUtils.class.getClassLoader().getResourceAsStream(&quot;dir1/file2);\n</code></pre>\n<p>Variable is1 is null, is2 is not null.</p>\n<p>Am I doing something wrong? Why it works different for resource from main jar than from dependent jar?</p>\n<p>I can't just switch to second version (with '/', because I'm not controlling string which is passed to getResourceAsStream)</p>\n<pre><code>public static boolean existsInResource(Path path) {\n\ntry (InputStream is = ResourcesUtils.class.getClassLoader().getResourceAsStream(path.toString())) {\n      return is != null;\n    } catch (final IOException e) {\n      // handle exception\n    }\n  }\n</code></pre>\n"},{"tags":["java","list","loops","concurrentmodificationexception"],"answers":[{"tags":[],"owner":{"account_id":6586288,"reputation":91,"user_id":5088963,"display_name":"Sathiya prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646334721,"creation_date":1646334721,"answer_id":71342553,"question_id":71342479,"body_markdown":"You can use Set instead of list which will satisfy your need and implement the comparator or comparable interface for person comparison","title":"Iterate through list and add to list without incurring ConcurrentModificationException - Java","body":"<p>You can use Set instead of list which will satisfy your need and implement the comparator or comparable interface for person comparison</p>\n"},{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646336569,"creation_date":1646335034,"answer_id":71342608,"question_id":71342479,"body_markdown":"Without changing your code too much:\r\n\r\n```\r\n  public void addPerson(Person person) {\r\n    // The guard is more or less a premature optimization and should be removed.\r\n    if (persons.isEmpty()) {\r\n      persons.add(person);\r\n      return;\r\n    }\r\n\r\n    for (Person anotherPerson : persons) {\r\n      if (anotherPerson.getFirstName().equals(person.getFirstName())) {\r\n        System.out.println(&quot;The Person &quot; + person.getFirstName() +\r\n            &quot; is already entered in the list&quot;);\r\n        return;\r\n      }\r\n    }\r\n    persons.add(person);\r\n  }\r\n```\r\n\r\nThis would exit the method when a match is found, if there are no matches the `person` is simply added after the loop. Note the `return` in the first check.\r\n\r\nOptimizations of this code could be using a `Map` or `Set` to speed up the contains check; also just using [anyMatch][1] on `persons` would lead to a more elegant solution.\r\n\r\n&gt; The duplicates are caused by your `for` loop and it&#39;s `else` condition. If `Bob` and `Jan` is in your collection and you add a second `Bob` then `Jan` won&#39;t be equal to `Bob` and your `else` path is executed adding a duplicate to your final `persons` `List`. \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-","title":"Iterate through list and add to list without incurring ConcurrentModificationException - Java","body":"<p>Without changing your code too much:</p>\n<pre><code>  public void addPerson(Person person) {\n    // The guard is more or less a premature optimization and should be removed.\n    if (persons.isEmpty()) {\n      persons.add(person);\n      return;\n    }\n\n    for (Person anotherPerson : persons) {\n      if (anotherPerson.getFirstName().equals(person.getFirstName())) {\n        System.out.println(&quot;The Person &quot; + person.getFirstName() +\n            &quot; is already entered in the list&quot;);\n        return;\n      }\n    }\n    persons.add(person);\n  }\n</code></pre>\n<p>This would exit the method when a match is found, if there are no matches the <code>person</code> is simply added after the loop. Note the <code>return</code> in the first check.</p>\n<p>Optimizations of this code could be using a <code>Map</code> or <code>Set</code> to speed up the contains check; also just using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">anyMatch</a> on <code>persons</code> would lead to a more elegant solution.</p>\n<blockquote>\n<p>The duplicates are caused by your <code>for</code> loop and it's <code>else</code> condition. If <code>Bob</code> and <code>Jan</code> is in your collection and you add a second <code>Bob</code> then <code>Jan</code> won't be equal to <code>Bob</code> and your <code>else</code> path is executed adding a duplicate to your final <code>persons</code> <code>List</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":11275370,"reputation":9,"user_id":8269570,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71342608,"answer_count":2,"score":0,"last_activity_date":1648918182,"creation_date":1646334223,"question_id":71342479,"body_markdown":"Apologies, this has been done to death but I am really struggling to implement a solution to this problem and I am quite new to Java.\r\n\r\nI need to be able to call a method which basically allows a Person object to be added to a list.\r\n\r\nThe main problem I have encountered whilst trying to implement a solution is a &#39;ConcurrentModificationException&#39; which is understandable given I have been trying to update the list whilst in the middle of a for each loop.\r\n\r\nSo, I have come up with the following solution which prevents the &#39;ConcurrentModificationException&#39; but my solution doesn&#39;t work properly and seems overcomplicated - see following code snippet of method:\r\n\r\n    public void addPerson(Person aPerson) {\r\n        // tempPersons list for temporarily storing Person objects\r\n        tempPersons = new ArrayList&lt;&gt;();\r\n\r\n        // if persons list is initially empty, add aPerson object to it\r\n        if (persons.isEmpty()) {\r\n            persons.add(aPerson);\r\n        }\r\n        // if persons list is not initially empty\r\n        if (!persons.isEmpty()) {\r\n            // loop through persons list\r\n            for (Person anotherPerson : persons) {\r\n                // if persons list anotherPerson first name is the same as the aPerson first name, print message\r\n                if (anotherPerson.getFirstName().equals(aPerson.getFirstName())) {\r\n                    System.out.println(&quot;The Person &quot; + aPerson.getFirstName() +\r\n                            &quot; is already entered in the list&quot;);\r\n                }\r\n                // otherwise add the aPerson object to the tempPersons list\r\n                else {\r\n                    tempPersons.add(aPerson);\r\n                }\r\n            }\r\n            // once out of loop, add the tempPersons list to the persons list\r\n            persons.addAll(tempPersons);\r\n            // create new tempPersons2 list based on a hashset of the persons list so there are no duplicates\r\n            List&lt;Person&gt; tempPersons2 = new ArrayList&lt;&gt;(\r\n                    new HashSet&lt;&gt;(persons));\r\n            // assign tempPersons2 list without duplicates to persons list\r\n            persons = tempPersons2;\r\n        }\r\n    }\r\n\r\nSo, if for example I call the above addPerson method 4 separate times with a mixture of unique and duplicate objects (aPerson param), the method correctly identifies that there is already an object with the same first name in there but the persons list always seems to end up with a duplicate object (first name) in there e.g. if I have the following objects:\r\n\r\nPerson1\r\nFirstName = Bob\r\n\r\nPerson2\r\nFirstName = Jan\r\n\r\nPerson3\r\nFirsName = Bob\r\n\r\nPerson4 \r\nFirstName = Ann\r\n\r\nThen I make the following method call 4 separate times:\r\n\r\naddPerson(Person1);\r\n\r\naddPerson(Person2);\r\n\r\naddPerson(Person3);\r\n\r\naddPerson(Person4);\r\n\r\nWhen I call a print method, I get the following output:\r\n\r\nThe Person Bob is already entered in the list\r\n\r\nJan\r\n\r\nAnn\r\n\r\nBob\r\n\r\nBob\r\n\r\nI would expect the following:\r\n\r\nThe Person Bob is already present\r\n\r\nJan\r\n\r\nAnn\r\n\r\nBob\r\n\r\nApologies for all the waffle and what is probably a really simple solution to most of you but I have been stuck on this for a couple of days.\r\n\r\nSimilar article can be found here but I am still struggling.\r\n\r\nhttps://stackoverflow.com/questions/993025/adding-elements-to-a-collection-during-iteration","title":"Iterate through list and add to list without incurring ConcurrentModificationException - Java","body":"<p>Apologies, this has been done to death but I am really struggling to implement a solution to this problem and I am quite new to Java.</p>\n<p>I need to be able to call a method which basically allows a Person object to be added to a list.</p>\n<p>The main problem I have encountered whilst trying to implement a solution is a 'ConcurrentModificationException' which is understandable given I have been trying to update the list whilst in the middle of a for each loop.</p>\n<p>So, I have come up with the following solution which prevents the 'ConcurrentModificationException' but my solution doesn't work properly and seems overcomplicated - see following code snippet of method:</p>\n<pre><code>public void addPerson(Person aPerson) {\n    // tempPersons list for temporarily storing Person objects\n    tempPersons = new ArrayList&lt;&gt;();\n\n    // if persons list is initially empty, add aPerson object to it\n    if (persons.isEmpty()) {\n        persons.add(aPerson);\n    }\n    // if persons list is not initially empty\n    if (!persons.isEmpty()) {\n        // loop through persons list\n        for (Person anotherPerson : persons) {\n            // if persons list anotherPerson first name is the same as the aPerson first name, print message\n            if (anotherPerson.getFirstName().equals(aPerson.getFirstName())) {\n                System.out.println(&quot;The Person &quot; + aPerson.getFirstName() +\n                        &quot; is already entered in the list&quot;);\n            }\n            // otherwise add the aPerson object to the tempPersons list\n            else {\n                tempPersons.add(aPerson);\n            }\n        }\n        // once out of loop, add the tempPersons list to the persons list\n        persons.addAll(tempPersons);\n        // create new tempPersons2 list based on a hashset of the persons list so there are no duplicates\n        List&lt;Person&gt; tempPersons2 = new ArrayList&lt;&gt;(\n                new HashSet&lt;&gt;(persons));\n        // assign tempPersons2 list without duplicates to persons list\n        persons = tempPersons2;\n    }\n}\n</code></pre>\n<p>So, if for example I call the above addPerson method 4 separate times with a mixture of unique and duplicate objects (aPerson param), the method correctly identifies that there is already an object with the same first name in there but the persons list always seems to end up with a duplicate object (first name) in there e.g. if I have the following objects:</p>\n<p>Person1\nFirstName = Bob</p>\n<p>Person2\nFirstName = Jan</p>\n<p>Person3\nFirsName = Bob</p>\n<p>Person4\nFirstName = Ann</p>\n<p>Then I make the following method call 4 separate times:</p>\n<p>addPerson(Person1);</p>\n<p>addPerson(Person2);</p>\n<p>addPerson(Person3);</p>\n<p>addPerson(Person4);</p>\n<p>When I call a print method, I get the following output:</p>\n<p>The Person Bob is already entered in the list</p>\n<p>Jan</p>\n<p>Ann</p>\n<p>Bob</p>\n<p>Bob</p>\n<p>I would expect the following:</p>\n<p>The Person Bob is already present</p>\n<p>Jan</p>\n<p>Ann</p>\n<p>Bob</p>\n<p>Apologies for all the waffle and what is probably a really simple solution to most of you but I have been stuck on this for a couple of days.</p>\n<p>Similar article can be found here but I am still struggling.</p>\n<p><a href=\"https://stackoverflow.com/questions/993025/adding-elements-to-a-collection-during-iteration\">Adding elements to a collection during iteration</a></p>\n"},{"tags":["java","xhtml","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":1,"creation_date":1648932063,"post_id":71717513,"comment_id":126749517,"body_markdown":"The numbering inaccuracies are likely due to the differing page layout models (ie FO versus Word).  An alternative is to use Word, via https://github.com/plutext/docx4j/blob/master/docx4j-samples-documents4j-local/src/main/java/org/docx4j/samples/documents4j/local/TocOperations.java","body":"The numbering inaccuracies are likely due to the differing page layout models (ie FO versus Word).  An alternative is to use Word, via <a href=\"https://github.com/plutext/docx4j/blob/master/docx4j-samples-documents4j-local/src/main/java/org/docx4j/samples/documents4j/local/TocOperations.java\" rel=\"nofollow noreferrer\">github.com/plutext/docx4j/blob/master/&hellip;</a>"},{"owner":{"account_id":14003473,"reputation":97,"user_id":10114335,"display_name":"Prashant"},"score":0,"creation_date":1649042656,"post_id":71717513,"comment_id":126767517,"body_markdown":"Thanks @JasonPlutext it&#39;s working for me on my local windows machine. But i am getting following error when deployed to the linux server.  org.zeroturnaround.exec.ProcessInitException: Could not execute [cmd, /S, /C, &quot;&quot;/root/temp_documents4j_local/word_start1923523066.vbs&quot;&quot;] in /root/temp_documents4j_local. Error=2, No such file or directory","body":"Thanks @JasonPlutext it&#39;s working for me on my local windows machine. But i am getting following error when deployed to the linux server.  org.zeroturnaround.exec.ProcessInitException: Could not execute [cmd, /S, /C, &quot;&quot;/root/temp_documents4j_local/word_start1923523066.vbs&quot;&quot;] in /root/temp_documents4j_local. Error=2, No such file or directory"},{"owner":{"account_id":14003473,"reputation":97,"user_id":10114335,"display_name":"Prashant"},"score":0,"creation_date":1649043901,"post_id":71717513,"comment_id":126767671,"body_markdown":"I think the reason of this exception is that VBS scripts is not available on linux. Is there some way to make it working on linux.","body":"I think the reason of this exception is that VBS scripts is not available on linux. Is there some way to make it working on linux."},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":1,"creation_date":1649106543,"post_id":71717513,"comment_id":126787878,"body_markdown":"documents4j local must run on a Windows machine (because it runs Word).  You can run documents4j on a remote Windows machine; see https://github.com/plutext/docx4j/tree/master/docx4j-samples-documents4j-remote but you will have to build into the vbs the necessary stuff for TOC generation.","body":"documents4j local must run on a Windows machine (because it runs Word).  You can run documents4j on a remote Windows machine; see <a href=\"https://github.com/plutext/docx4j/tree/master/docx4j-samples-documents4j-remote\" rel=\"nofollow noreferrer\">github.com/plutext/docx4j/tree/master/&hellip;</a> but you will have to build into the vbs the necessary stuff for TOC generation."},{"owner":{"account_id":14003473,"reputation":97,"user_id":10114335,"display_name":"Prashant"},"score":0,"creation_date":1649128565,"post_id":71717513,"comment_id":126791591,"body_markdown":"So there is no way to fix it without using the documents4j ?? I mean can&#39;t i fix it with docx4j and export-fo ?","body":"So there is no way to fix it without using the documents4j ?? I mean can&#39;t i fix it with docx4j and export-fo ?"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1649187541,"post_id":71717513,"comment_id":126811408,"body_markdown":"You have the docx4j source code, so you can dig into it to understand your issue better and potentially solve it.","body":"You have the docx4j source code, so you can dig into it to understand your issue better and potentially solve it."}],"owner":{"account_id":14003473,"reputation":97,"user_id":10114335,"display_name":"Prashant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648917955,"creation_date":1648902301,"question_id":71717513,"body_markdown":"I&#39;m using docxj4 for generating Word documents, and now I need to generate a table of contents. I am using docx4j-export-fo library for that purpose. But it produces the wrong numbering. \r\nI need to start the toc from page number 4 and pass the start index accordingly to the toc generator method. But still, I am getting the wrong page numbers into the TOC.\r\nAny suggestion to solve it.\r\nThanks\r\n\r\n```\r\nTocGenerator tocGenerator = new TocGenerator(wordMLPackage);\r\ntocGenerator.generateToc(PASS_SOME_INDEX_HERE, TocHelper.DEFAULT_TOC_INSTRUCTION, false);\r\n```","title":"Docx4j TOC generation getting wrong page number","body":"<p>I'm using docxj4 for generating Word documents, and now I need to generate a table of contents. I am using docx4j-export-fo library for that purpose. But it produces the wrong numbering.\nI need to start the toc from page number 4 and pass the start index accordingly to the toc generator method. But still, I am getting the wrong page numbers into the TOC.\nAny suggestion to solve it.\nThanks</p>\n<pre><code>TocGenerator tocGenerator = new TocGenerator(wordMLPackage);\ntocGenerator.generateToc(PASS_SOME_INDEX_HERE, TocHelper.DEFAULT_TOC_INSTRUCTION, false);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648917002,"post_id":71719003,"comment_id":126746547,"body_markdown":"Int64 if available?","body":"Int64 if available?"},{"owner":{"account_id":22906648,"reputation":5,"user_id":17044614,"display_name":"Alessandro"},"score":0,"creation_date":1648929732,"post_id":71719003,"comment_id":126749101,"body_markdown":"I tried, but I was not successful.","body":"I tried, but I was not successful."}],"answers":[{"tags":[],"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648916568,"creation_date":1648916568,"answer_id":71719255,"question_id":71719003,"body_markdown":"3832745171 is the value if you could use unsigned integer, but it&#39;s not a valid value of a signed integer. \r\nIt differs from -462222125 by `Math.pow(2,32)`\r\n\r\nFrom the example in http://www.java2s.com/example/java/java.nio/get-unsigned-int-from-bytebuffer.html it seems possible to use a value in &quot;long&quot; to store the &quot;Unsigned Integer&quot; value.\r\n\r\nCombining the logic in the link with your code, it would be like\r\n`long serialNumber = ( java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt() &amp; 0xFFFFFFFFL)`","title":"How to convert byte array to int/long","body":"<p>3832745171 is the value if you could use unsigned integer, but it's not a valid value of a signed integer.\nIt differs from -462222125 by <code>Math.pow(2,32)</code></p>\n<p>From the example in <a href=\"http://www.java2s.com/example/java/java.nio/get-unsigned-int-from-bytebuffer.html\" rel=\"nofollow noreferrer\">http://www.java2s.com/example/java/java.nio/get-unsigned-int-from-bytebuffer.html</a> it seems possible to use a value in &quot;long&quot; to store the &quot;Unsigned Integer&quot; value.</p>\n<p>Combining the logic in the link with your code, it would be like\n<code>long serialNumber = ( java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt() &amp; 0xFFFFFFFFL)</code></p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648917582,"creation_date":1648917582,"answer_id":71719382,"question_id":71719003,"body_markdown":"```\r\nbyte[] serial = {-45, 12, 115, -28};\r\nint serialNumber = java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n```\r\n\r\nThis gives you the only representable equivalent of that in a Java `int`.\r\n\r\nIf you want it as an unsigned value, it will only be able to fit in a `long`, but you can write\r\n\r\n```\r\nInteger.toUnsignedLong(serialNumber)\r\n```\r\n\r\n(That said, you _can_ just store it in an int.  It&#39;s still the same value, it just does math differently and prints differently; you can convert it only when necessary.)","title":"How to convert byte array to int/long","body":"<pre><code>byte[] serial = {-45, 12, 115, -28};\nint serialNumber = java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt();\n</code></pre>\n<p>This gives you the only representable equivalent of that in a Java <code>int</code>.</p>\n<p>If you want it as an unsigned value, it will only be able to fit in a <code>long</code>, but you can write</p>\n<pre><code>Integer.toUnsignedLong(serialNumber)\n</code></pre>\n<p>(That said, you <em>can</em> just store it in an int.  It's still the same value, it just does math differently and prints differently; you can convert it only when necessary.)</p>\n"}],"owner":{"account_id":22906648,"reputation":5,"user_id":17044614,"display_name":"Alessandro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71719255,"answer_count":2,"score":0,"last_activity_date":1648917582,"creation_date":1648914440,"question_id":71719003,"body_markdown":"I have these byte arrays:\r\n![Byte Arrays](https://i.stack.imgur.com/uC77h.png)\r\n\r\nI have to order to little endian before to convert.\r\n\r\nIn first case, I do the conversion easyly:\r\n```\r\nbyte[] serial = {-91, -101, 62, 55};\r\nint serialNumber = java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n//serialNumber == 926849957 //Nice, works!!!!\r\n```\r\n\r\nIn second case, the conversion doesn&#39;t works:\r\n```\r\nbyte[] serial = {-45, 12, 115, -28};\r\nint serialNumber = java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n//serialNumber == -462222125 //Wrong conversion. The right answer is 3832745171.\r\n```\r\nThe number 3832745171 is larger than `Integer.MAX_VALUE`, but if I try to convert to long I got a problem too.\r\n\r\nHow can I do this?\r\nThanks.\r\n\r\nTry to convert byte arrays to int/long types.","title":"How to convert byte array to int/long","body":"<p>I have these byte arrays:\n<img src=\"https://i.stack.imgur.com/uC77h.png\" alt=\"Byte Arrays\" /></p>\n<p>I have to order to little endian before to convert.</p>\n<p>In first case, I do the conversion easyly:</p>\n<pre><code>byte[] serial = {-91, -101, 62, 55};\nint serialNumber = java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt();\n//serialNumber == 926849957 //Nice, works!!!!\n</code></pre>\n<p>In second case, the conversion doesn't works:</p>\n<pre><code>byte[] serial = {-45, 12, 115, -28};\nint serialNumber = java.nio.ByteBuffer.wrap(serial).order(ByteOrder.LITTLE_ENDIAN).getInt();\n//serialNumber == -462222125 //Wrong conversion. The right answer is 3832745171.\n</code></pre>\n<p>The number 3832745171 is larger than <code>Integer.MAX_VALUE</code>, but if I try to convert to long I got a problem too.</p>\n<p>How can I do this?\nThanks.</p>\n<p>Try to convert byte arrays to int/long types.</p>\n"},{"tags":["java","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1473566405,"post_id":39432699,"comment_id":66188481,"body_markdown":"Unclear what you&#39;re asking. What don&#39;t you understand about &#39;computed before it can be added&#39;? or &#39;conceptually fixed data structure&#39;? It&#39;s also unclear whether you&#39;re asking about the meanings of these terms, as per your question, or the difference between colelctions and streams, as per your title, which is even more trivial.","body":"Unclear what you&#39;re asking. What don&#39;t you understand about &#39;computed before it can be added&#39;? or &#39;conceptually fixed data structure&#39;? It&#39;s also unclear whether you&#39;re asking about the meanings of these terms, as per your question, or the difference between colelctions and streams, as per your title, which is even more trivial."},{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1540731660,"post_id":39432699,"comment_id":92964057,"body_markdown":"The purpose of both are different. Fundamentally, the objective of a collection is to manage its elements like add, remove, add at particular index etc... And, the objective of a stream is to process such elements like find any element matching a condition, filter elements basing on a condition etc...","body":"The purpose of both are different. Fundamentally, the objective of a collection is to manage its elements like add, remove, add at particular index etc... And, the objective of a stream is to process such elements like find any element matching a condition, filter elements basing on a condition etc..."},{"owner":{"account_id":6797655,"reputation":975,"user_id":5232255,"display_name":"Jason Law"},"score":0,"creation_date":1580220072,"post_id":39432699,"comment_id":106020634,"body_markdown":"The quote is from *[Java 8 in Action](https://www.manning.com/books/java-8-in-action)* &quot;4.3. Streams vs. collections&quot;.","body":"The quote is from <i><a href=\"https://www.manning.com/books/java-8-in-action\" rel=\"nofollow noreferrer\">Java 8 in Action</a></i> &quot;4.3. Streams vs. collections&quot;."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1473569084,"creation_date":1473569084,"answer_id":39432937,"question_id":39432699,"body_markdown":"You didn&#39;t provide the source of your quote, so let me quote the [javadoc][1] to you:\n\n &gt;  Streams differ from collections in several ways:\n &gt;\n &gt; - **No storage**. A stream is not a data structure that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.\n &gt; - **Functional in nature**. An operation on a stream produces a result, but does not modify its source. For example, filtering a `Stream` obtained from a collection produces a new `Stream` without the filtered elements, rather than removing elements from the source collection.\n &gt; - **Laziness-seeking**. Many stream operations, such as filtering, mapping, or duplicate removal, can be implemented lazily, exposing opportunities for optimization. For example, &quot;find the first `String` with three consecutive vowels&quot; need not examine all the input strings. Stream operations are divided into intermediate (`Stream`-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.\n &gt; - **Possibly unbounded**. While collections have a finite size, streams need not. Short-circuiting operations such as `limit(n)` or `findFirst()` can allow computations on infinite streams to complete in finite time.\n &gt; - **Consumable**. The elements of a stream are only visited once during the life of a stream. Like an `Iterator`, a new stream must be generated to revisit the same elements of the source.\n\nIn contrast, a [`Collection`][2] is a *container* of objects (elements). You can&#39;t get (retrieve) an object from a collection unless the object was previously added to the collection.\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html","title":"What is the difference between Streams and Collections in Java 8","body":"<p>You didn't provide the source of your quote, so let me quote the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description\" rel=\"noreferrer\">javadoc</a> to you:</p>\n<blockquote>\n<p>Streams differ from collections in several ways:</p>\n<ul>\n<li><strong>No storage</strong>. A stream is not a data structure that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.</li>\n<li><strong>Functional in nature</strong>. An operation on a stream produces a result, but does not modify its source. For example, filtering a <code>Stream</code> obtained from a collection produces a new <code>Stream</code> without the filtered elements, rather than removing elements from the source collection.</li>\n<li><strong>Laziness-seeking</strong>. Many stream operations, such as filtering, mapping, or duplicate removal, can be implemented lazily, exposing opportunities for optimization. For example, &quot;find the first <code>String</code> with three consecutive vowels&quot; need not examine all the input strings. Stream operations are divided into intermediate (<code>Stream</code>-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.</li>\n<li><strong>Possibly unbounded</strong>. While collections have a finite size, streams need not. Short-circuiting operations such as <code>limit(n)</code> or <code>findFirst()</code> can allow computations on infinite streams to complete in finite time.</li>\n<li><strong>Consumable</strong>. The elements of a stream are only visited once during the life of a stream. Like an <code>Iterator</code>, a new stream must be generated to revisit the same elements of the source.</li>\n</ul>\n</blockquote>\n<p>In contrast, a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html\" rel=\"noreferrer\"><code>Collection</code></a> is a <em>container</em> of objects (elements). You can't get (retrieve) an object from a collection unless the object was previously added to the collection.</p>\n"},{"tags":[],"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648916729,"creation_date":1648915725,"answer_id":71719155,"question_id":39432699,"body_markdown":"Some basic differences are \r\n\r\n[![Difference between Collection and Stream][1]][1]\r\n\r\nBut these are some finite differences , you have to explore to know more. Collections are like CD/DVD and stream&#39;s are the movies. Streams can be stateless and statefull.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OEdiv.png","title":"What is the difference between Streams and Collections in Java 8","body":"<p>Some basic differences are</p>\n<p><a href=\"https://i.stack.imgur.com/OEdiv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEdiv.png\" alt=\"Difference between Collection and Stream\" /></a></p>\n<p>But these are some finite differences , you have to explore to know more. Collections are like CD/DVD and stream's are the movies. Streams can be stateless and statefull.</p>\n"}],"owner":{"account_id":3416746,"reputation":873,"user_id":2865414,"accept_rate":56,"display_name":"Tea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30421,"favorite_count":0,"down_vote_count":6,"up_vote_count":44,"accepted_answer_id":39432937,"answer_count":2,"score":38,"last_activity_date":1648916729,"creation_date":1473566169,"question_id":39432699,"body_markdown":"I&#39;m learning about Streams in Java 8. I got confused about this concept:\r\n\r\n&gt; A collection is an in-memory data structure, which holds all the values that the data structure currently has—every element in the collection has to be computed before it can be added to the collection. In contrast, a stream is a conceptually fixed data structure in which elements are computed on demand.\r\n\r\nI don&#39;t understand, how can a Collection only hold values that must have been computed before they can be added to the collection? And also, what is meant by the comparison of a Stream with a fixed data structure?","title":"What is the difference between Streams and Collections in Java 8","body":"<p>I'm learning about Streams in Java 8. I got confused about this concept:</p>\n<blockquote>\n<p>A collection is an in-memory data structure, which holds all the values that the data structure currently has—every element in the collection has to be computed before it can be added to the collection. In contrast, a stream is a conceptually fixed data structure in which elements are computed on demand.</p>\n</blockquote>\n<p>I don't understand, how can a Collection only hold values that must have been computed before they can be added to the collection? And also, what is meant by the comparison of a Stream with a fixed data structure?</p>\n"},{"tags":["java","gitlab","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":10504403,"reputation":1,"user_id":7742102,"display_name":"Robert Labuda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648916598,"creation_date":1648916598,"answer_id":71719260,"question_id":71718272,"body_markdown":"I resolved my problem. Add refs instead only.","title":"Gitlab CI problem with merge request and multiple modules on JAVA project","body":"<p>I resolved my problem. Add refs instead only.</p>\n"}],"owner":{"account_id":10504403,"reputation":1,"user_id":7742102,"display_name":"Robert Labuda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648916598,"creation_date":1648908734,"question_id":71718272,"body_markdown":"I&#39;ve problem with Gitlab CI pipeline if I commit and push like below. My pipeline run build, test exactly that module what I modified, but after merge pipeline runs package and deploy all modules, even these modules which have nothing new in repository.\r\n\r\nRob\r\n\r\n.gitlab-ci.yml\r\n\r\n```\r\nvariables:\r\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2&quot;\r\n  MAVEN_CLI_OPTS: &quot;--batch-mode --errors --fail-at-end --show-version&quot;\r\n\r\ncache:\r\n  paths:\r\n    - /root/.m2/\r\n\r\nstages:\r\n  - build\r\n  - test\r\n  - package\r\n  - deploy\r\n\r\ninclude:\r\n  - local: root/.gitlab-ci.yml\r\n  - local: abreg/.gitlab-ci.yml\r\n\r\n.build-module:\r\n  stage: build\r\n  script:\r\n    - echo &quot;Building $MODULE&quot;\r\n    - mvn -pl $MODULE clean compile --also-make\r\n  artifacts:\r\n    expire_in: 10 min\r\n    paths:\r\n      - &quot;*/target&quot;\r\n\r\n.test-module:\r\n  stage: test\r\n  script:\r\n    - echo &quot;Testing $MODULE&quot;\r\n    - mvn $MAVEN_CLI_OPTS -pl $MODULE test --also-make\r\n\r\n.package-module:\r\n  stage: package\r\n  script:\r\n    - echo &quot;Packing $MODULE &quot;\r\n    - mvn -pl $MODULE package -U --also-make\r\n  artifacts:\r\n     expire_in: 10 min\r\n     paths:\r\n       - &quot;*/target/*.war&quot;\r\n  only:\r\n    - merge_requests\r\n\r\n.deploy-module:\r\n  stage: deploy\r\n  before_script:\r\n    - &#39;command -v ssh-agent &gt;/dev/null || ( apt-get update -y &amp;&amp; apt-get install openssh-client -y )&#39;\r\n    - eval $(ssh-agent -s)\r\n    - echo &quot;$SSH_PRIVATE_KEY&quot; | tr -d &#39;\\r&#39; | ssh-add -\r\n    - mkdir -p ~/.ssh\r\n    - chmod 700 ~/.ssh\r\n    - ssh-keyscan 172.18.0.23 &gt;&gt; ~/.ssh/known_hosts\r\n    - chmod 644 ~/.ssh/known_hosts\r\n  script:\r\n   - scp -o StrictHostKeyChecking=no */target/*.war root@172.18.0.23:/test\r\n  only:\r\n    - merge_requests\r\n\r\n#BUILD JOBS\r\n\r\nbuild-root-module:\r\n  extends:\r\n    - .root-module\r\n    - .build-module\r\n\r\nbuild-abreg-module:\r\n  extends:\r\n    - .abreg-module\r\n    - .build-module\r\n\r\n#TEST JOBS\r\n\r\ntest-root-module:\r\n  extends:\r\n    - .root-module\r\n    - .test-module\r\n\r\ntest-abreg-module:\r\n  extends:\r\n    - .abreg-module\r\n    - .test-module\r\n\r\n#PACKAGE JOBS\r\n\r\npackage-root-module:\r\n  extends:\r\n    - .root-module\r\n    - .package-module\r\n\r\npackage-abreg-module:\r\n  extends:\r\n    - .abreg-module\r\n    - .package-module\r\n\r\n#DEPLOY JOBS\r\n\r\ndeploy-root-module:\r\n  extends:\r\n    - .root-module\r\n    - .deploy-module\r\n\r\ndeploy-abreg-module:\r\n  extends:\r\n    - .abreg-module\r\n    - .deploy-module\r\n```\r\n\r\nin root module .gitlab-ci.yml\r\n\r\n```\r\n.root-module:\r\n  variables:\r\n    MODULE: &quot;root&quot;\r\n  only:\r\n    changes:\r\n      - &quot;root/**/*&quot;\r\n```\r\n\r\nin abreg module .gitlab-ci.yml\r\n\r\n```\r\n.abreg-module:\r\n  variables:\r\n    MODULE: &quot;abreg&quot;\r\n  only:\r\n    changes:\r\n      - &quot;abreg/**/*&quot;\r\n```\r\n\r\n![Package and deploy stages runs module, before I modify only root module](https://i.stack.imgur.com/KZepc.png)\r\n\r\nHow can I modify my .gitlab-ci.yml file to achive pipeline which run only these modules which I surerly changed?","title":"Gitlab CI problem with merge request and multiple modules on JAVA project","body":"<p>I've problem with Gitlab CI pipeline if I commit and push like below. My pipeline run build, test exactly that module what I modified, but after merge pipeline runs package and deploy all modules, even these modules which have nothing new in repository.</p>\n<p>Rob</p>\n<p>.gitlab-ci.yml</p>\n<pre><code>variables:\n  MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2&quot;\n  MAVEN_CLI_OPTS: &quot;--batch-mode --errors --fail-at-end --show-version&quot;\n\ncache:\n  paths:\n    - /root/.m2/\n\nstages:\n  - build\n  - test\n  - package\n  - deploy\n\ninclude:\n  - local: root/.gitlab-ci.yml\n  - local: abreg/.gitlab-ci.yml\n\n.build-module:\n  stage: build\n  script:\n    - echo &quot;Building $MODULE&quot;\n    - mvn -pl $MODULE clean compile --also-make\n  artifacts:\n    expire_in: 10 min\n    paths:\n      - &quot;*/target&quot;\n\n.test-module:\n  stage: test\n  script:\n    - echo &quot;Testing $MODULE&quot;\n    - mvn $MAVEN_CLI_OPTS -pl $MODULE test --also-make\n\n.package-module:\n  stage: package\n  script:\n    - echo &quot;Packing $MODULE &quot;\n    - mvn -pl $MODULE package -U --also-make\n  artifacts:\n     expire_in: 10 min\n     paths:\n       - &quot;*/target/*.war&quot;\n  only:\n    - merge_requests\n\n.deploy-module:\n  stage: deploy\n  before_script:\n    - 'command -v ssh-agent &gt;/dev/null || ( apt-get update -y &amp;&amp; apt-get install openssh-client -y )'\n    - eval $(ssh-agent -s)\n    - echo &quot;$SSH_PRIVATE_KEY&quot; | tr -d '\\r' | ssh-add -\n    - mkdir -p ~/.ssh\n    - chmod 700 ~/.ssh\n    - ssh-keyscan 172.18.0.23 &gt;&gt; ~/.ssh/known_hosts\n    - chmod 644 ~/.ssh/known_hosts\n  script:\n   - scp -o StrictHostKeyChecking=no */target/*.war root@172.18.0.23:/test\n  only:\n    - merge_requests\n\n#BUILD JOBS\n\nbuild-root-module:\n  extends:\n    - .root-module\n    - .build-module\n\nbuild-abreg-module:\n  extends:\n    - .abreg-module\n    - .build-module\n\n#TEST JOBS\n\ntest-root-module:\n  extends:\n    - .root-module\n    - .test-module\n\ntest-abreg-module:\n  extends:\n    - .abreg-module\n    - .test-module\n\n#PACKAGE JOBS\n\npackage-root-module:\n  extends:\n    - .root-module\n    - .package-module\n\npackage-abreg-module:\n  extends:\n    - .abreg-module\n    - .package-module\n\n#DEPLOY JOBS\n\ndeploy-root-module:\n  extends:\n    - .root-module\n    - .deploy-module\n\ndeploy-abreg-module:\n  extends:\n    - .abreg-module\n    - .deploy-module\n</code></pre>\n<p>in root module .gitlab-ci.yml</p>\n<pre><code>.root-module:\n  variables:\n    MODULE: &quot;root&quot;\n  only:\n    changes:\n      - &quot;root/**/*&quot;\n</code></pre>\n<p>in abreg module .gitlab-ci.yml</p>\n<pre><code>.abreg-module:\n  variables:\n    MODULE: &quot;abreg&quot;\n  only:\n    changes:\n      - &quot;abreg/**/*&quot;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/KZepc.png\" alt=\"Package and deploy stages runs module, before I modify only root module\" /></p>\n<p>How can I modify my .gitlab-ci.yml file to achive pipeline which run only these modules which I surerly changed?</p>\n"},{"tags":["java","exception","integer","try-catch","java.util.scanner"],"comments":[{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1648916539,"post_id":71719059,"comment_id":126746457,"body_markdown":"In addition to not surrounding the first `number = chooseNumber.nextInt();` by the try/catch exception handling, you are also not saving the result of the 2nd instance, so the loop can never exit.","body":"In addition to not surrounding the first <code>number = chooseNumber.nextInt();</code> by the try/catch exception handling, you are also not saving the result of the 2nd instance, so the loop can never exit."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648914941,"creation_date":1648914941,"answer_id":71719071,"question_id":71719059,"body_markdown":"The first call to `number = chooseNumber.nextInt();` is not in the `try` block, so the exception isn&#39;t caught. Move the beginning of the `try` block above it and you should be fine.","title":"Handle InputMismatchException exception but doesn&#39;t catch it Java","body":"<p>The first call to <code>number = chooseNumber.nextInt();</code> is not in the <code>try</code> block, so the exception isn't caught. Move the beginning of the <code>try</code> block above it and you should be fine.</p>\n"},{"tags":[],"owner":{"account_id":14451927,"reputation":167,"user_id":10439146,"display_name":"Dylech30th"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648915065,"creation_date":1648915065,"answer_id":71719083,"question_id":71719059,"body_markdown":"Because this exception is thrown at line 18, which is `number = chooseNumber.nextInt();` above `while (true)`, and it is not covered by the try-catch block, try:\r\n```java\r\npackage mainpackage;\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class CreateUsers {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Scanner chooseNumber = new Scanner(System.in);\r\n        int number;\r\n        \r\n        System.out.println(&quot;Welcome to UniStudents Application!\\n&quot;\r\n                + &quot;Please select how to Log in: \\n&quot;\r\n                + &quot;1. Log in as a Student \\n&quot;\r\n                + &quot;2. Log in as a Professor \\n&quot;\r\n                + &quot;3. Log in as a Secretary \\n&quot;\r\n                + &quot;To choose an action, please write the number of the action: &quot;);  \r\n        try {\r\n            number = chooseNumber.nextInt();\r\n        \r\n            while(true) {\r\n                if(number &gt; 3 || number &lt; 1) {\r\n                    System.out.println(&quot;The number of the action does not exist.\\n&quot;\r\n                            +&quot;Please try again: &quot;);\r\n                    chooseNumber.nextInt();\r\n                }\r\n                else {\r\n                    System.out.println(&quot;ok&quot;);\r\n                    chooseNumber.close();\r\n                    break;\r\n                }   \r\n            }\r\n            chooseNumber.nextInt();\r\n        } catch (InputMismatchException e) {\r\n             \r\n            System.out.println(&quot;Please write the number of the action you want to choose \\n&quot;\r\n                    + &quot;Please select how to Log in: \\n&quot;\r\n                    + &quot;1. Log in as a Student \\n&quot;\r\n                    + &quot;2. Log in as a Professor\\n&quot;\r\n                    + &quot;3. Log in as a Secretary\\n&quot;);\r\n        }\r\n```","title":"Handle InputMismatchException exception but doesn&#39;t catch it Java","body":"<p>Because this exception is thrown at line 18, which is <code>number = chooseNumber.nextInt();</code> above <code>while (true)</code>, and it is not covered by the try-catch block, try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mainpackage;\nimport java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class CreateUsers {\n    \n    public static void main(String[] args) {\n        \n        Scanner chooseNumber = new Scanner(System.in);\n        int number;\n        \n        System.out.println(&quot;Welcome to UniStudents Application!\\n&quot;\n                + &quot;Please select how to Log in: \\n&quot;\n                + &quot;1. Log in as a Student \\n&quot;\n                + &quot;2. Log in as a Professor \\n&quot;\n                + &quot;3. Log in as a Secretary \\n&quot;\n                + &quot;To choose an action, please write the number of the action: &quot;);  \n        try {\n            number = chooseNumber.nextInt();\n        \n            while(true) {\n                if(number &gt; 3 || number &lt; 1) {\n                    System.out.println(&quot;The number of the action does not exist.\\n&quot;\n                            +&quot;Please try again: &quot;);\n                    chooseNumber.nextInt();\n                }\n                else {\n                    System.out.println(&quot;ok&quot;);\n                    chooseNumber.close();\n                    break;\n                }   \n            }\n            chooseNumber.nextInt();\n        } catch (InputMismatchException e) {\n             \n            System.out.println(&quot;Please write the number of the action you want to choose \\n&quot;\n                    + &quot;Please select how to Log in: \\n&quot;\n                    + &quot;1. Log in as a Student \\n&quot;\n                    + &quot;2. Log in as a Professor\\n&quot;\n                    + &quot;3. Log in as a Secretary\\n&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":17809904,"reputation":37,"user_id":12934750,"display_name":"Tonia Giannoulaki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648915714,"creation_date":1648914836,"question_id":71719059,"body_markdown":"For some unknown reason, when the user input is a string or special characters it doesn&#39;t catch my exception (the scanner accepts only integers and from 1 to 3). The code is the below:\r\n```java\r\npackage mainpackage;\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class CreateUsers {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner chooseNumber = new Scanner(System.in);\r\n\t\tint number;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Welcome to UniStudents Application!\\n&quot;\r\n\t\t\t\t+ &quot;Please select how to Log in: \\n&quot;\r\n\t\t\t\t+ &quot;1. Log in as a Student \\n&quot;\r\n\t\t\t\t+ &quot;2. Log in as a Professor \\n&quot;\r\n\t\t\t\t+ &quot;3. Log in as a Secretary \\n&quot;\r\n\t\t\t\t+ &quot;To choose an action, please write the number of the action: &quot;);\t\r\n\t\tnumber = chooseNumber.nextInt();\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tif(number &gt; 3 || number &lt; 1) {\r\n\t\t\t\tSystem.out.println(&quot;The number of the action does not exist.\\n&quot;\r\n\t\t\t\t\t\t+&quot;Please try again: &quot;);\r\n\t\t\t\tchooseNumber.nextInt();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;ok&quot;);\r\n\t\t\t\tchooseNumber.close();\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\r\n\t\t}\r\n\t\ttry{\r\n\t\t\tchooseNumber.nextInt();\r\n\t\t}\r\n\t\tcatch(InputMismatchException e) {\r\n\t\t\t \r\n\t\t\tSystem.out.println(&quot;Please write the number of the action you want to choose \\n&quot;\r\n\t\t\t\t\t+ &quot;Please select how to Log in: \\n&quot;\r\n\t\t\t\t\t+ &quot;1. Log in as a Student \\n&quot;\r\n\t\t\t\t\t+ &quot;2. Log in as a Professor\\n&quot;\r\n\t\t\t\t\t+ &quot;3. Log in as a Secretary\\n&quot;);\r\n\t\t}\r\n```\r\nThe result of the code is that:\r\n```\r\n1. Log in as a Student \r\n2. Log in as a Professor \r\n3. Log in as a Secretary \r\nTo choose an action, please write the number of the action: \r\n$^&amp;*\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\tat JavaBasics/mainpackage.CreateUsers.main(CreateUsers.java:18)\r\n```\r\nI can&#39;t figure it out","title":"Handle InputMismatchException exception but doesn&#39;t catch it Java","body":"<p>For some unknown reason, when the user input is a string or special characters it doesn't catch my exception (the scanner accepts only integers and from 1 to 3). The code is the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mainpackage;\nimport java.util.InputMismatchException;\nimport java.util.Scanner;\n\npublic class CreateUsers {\n    \n    public static void main(String[] args) {\n        \n        Scanner chooseNumber = new Scanner(System.in);\n        int number;\n        \n        System.out.println(&quot;Welcome to UniStudents Application!\\n&quot;\n                + &quot;Please select how to Log in: \\n&quot;\n                + &quot;1. Log in as a Student \\n&quot;\n                + &quot;2. Log in as a Professor \\n&quot;\n                + &quot;3. Log in as a Secretary \\n&quot;\n                + &quot;To choose an action, please write the number of the action: &quot;);  \n        number = chooseNumber.nextInt();\n        \n        while(true) {\n            if(number &gt; 3 || number &lt; 1) {\n                System.out.println(&quot;The number of the action does not exist.\\n&quot;\n                        +&quot;Please try again: &quot;);\n                chooseNumber.nextInt();\n            }\n            else {\n                System.out.println(&quot;ok&quot;);\n                chooseNumber.close();\n                break;\n            }   \n        }\n        try{\n            chooseNumber.nextInt();\n        }\n        catch(InputMismatchException e) {\n             \n            System.out.println(&quot;Please write the number of the action you want to choose \\n&quot;\n                    + &quot;Please select how to Log in: \\n&quot;\n                    + &quot;1. Log in as a Student \\n&quot;\n                    + &quot;2. Log in as a Professor\\n&quot;\n                    + &quot;3. Log in as a Secretary\\n&quot;);\n        }\n</code></pre>\n<p>The result of the code is that:</p>\n<pre><code>1. Log in as a Student \n2. Log in as a Professor \n3. Log in as a Secretary \nTo choose an action, please write the number of the action: \n$^&amp;*\nException in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at JavaBasics/mainpackage.CreateUsers.main(CreateUsers.java:18)\n</code></pre>\n<p>I can't figure it out</p>\n"},{"tags":["java","tomcat","intellij-idea","java-web-start"],"comments":[{"owner":{"account_id":8008050,"reputation":337,"user_id":6040762,"display_name":"rehnoj"},"score":0,"creation_date":1648895120,"post_id":71716619,"comment_id":126742331,"body_markdown":"What other filepaths did you try? It&#39;s good to mention this. Have you tried just `druid.properties`?","body":"What other filepaths did you try? It&#39;s good to mention this. Have you tried just <code>druid.properties</code>?"},{"owner":{"account_id":24793733,"reputation":11,"user_id":18676588,"display_name":"kayai"},"score":0,"creation_date":1648907490,"post_id":71716619,"comment_id":126744613,"body_markdown":"I also used src/druid.properties and absolute path, none of them work.I use the System.getProperty (&quot;user.dir&quot;) method in the static code block, it show that path is /Users/{UserName}/Library/tomcat/bin","body":"I also used src/druid.properties and absolute path, none of them work.I use the System.getProperty (&quot;user.dir&quot;) method in the static code block, it show that path is /Users/{UserName}/Library/tomcat/bin"},{"owner":{"account_id":8008050,"reputation":337,"user_id":6040762,"display_name":"rehnoj"},"score":0,"creation_date":1648909140,"post_id":71716619,"comment_id":126744984,"body_markdown":"If `druid.properties` is in the same package as `JDBCUtil `, u can try with just `druid.properties`, or maybe `/druid.properties`","body":"If <code>druid.properties</code> is in the same package as <code>JDBCUtil </code>, u can try with just <code>druid.properties</code>, or maybe <code>&#47;druid.properties</code>"},{"owner":{"account_id":24793733,"reputation":11,"user_id":18676588,"display_name":"kayai"},"score":0,"creation_date":1648909941,"post_id":71716619,"comment_id":126745117,"body_markdown":"thx, I copy `druid.properties` to same package as `JDBCUtil` and tried the two paths you mentioned, but it still doesn&#39;t work.@rehnoj","body":"thx, I copy <code>druid.properties</code> to same package as <code>JDBCUtil</code> and tried the two paths you mentioned, but it still doesn&#39;t work.@rehnoj"},{"owner":{"account_id":8008050,"reputation":337,"user_id":6040762,"display_name":"rehnoj"},"score":0,"creation_date":1648913877,"post_id":71716619,"comment_id":126745913,"body_markdown":"Okey, maybe this is your problem: https://stackoverflow.com/questions/25869884/different-behavior-of-classloader-getsystemclassloader-getresource-in-servle","body":"Okey, maybe this is your problem: <a href=\"https://stackoverflow.com/questions/25869884/different-behavior-of-classloader-getsystemclassloader-getresource-in-servle\" title=\"different behavior of classloader getsystemclassloader getresource in servle\">stackoverflow.com/questions/25869884/&hellip;</a>"},{"owner":{"account_id":24793733,"reputation":11,"user_id":18676588,"display_name":"kayai"},"score":0,"creation_date":1648914898,"post_id":71716619,"comment_id":126746128,"body_markdown":"Thanks you! This is right, it is working now!@rehnoj","body":"Thanks you! This is right, it is working now!@rehnoj"},{"owner":{"account_id":8008050,"reputation":337,"user_id":6040762,"display_name":"rehnoj"},"score":0,"creation_date":1648916541,"post_id":71716619,"comment_id":126746458,"body_markdown":"Good to hear (:","body":"Good to hear (:"}],"answers":[{"tags":[],"owner":{"account_id":24793733,"reputation":11,"user_id":18676588,"display_name":"kayai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648915467,"creation_date":1648915467,"answer_id":71719128,"question_id":71716619,"body_markdown":"This problem has been solved.Thank for [rehnoj](https://stackoverflow.com/users/6040762/rehnoj)&#39;s help.   \r\n\r\nThe answer in https://stackoverflow.com/questions/25869884/different-behavior-of-classloader-getsystemclassloader-getresource-in-servle.   \r\n   \r\nThe correct code\r\n```\r\npublic class JDBCUtil {\r\n    private static DataSource druidSource;\r\n    static {\r\n        Properties props = new Properties();\r\n        InputStream is = JDBCUtil.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);\r\n        try {\r\n            props.load(is);\r\n            druidSource = DruidDataSourceFactory.createDataSource(props);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static Connection getConnection() throws SQLException {\r\n        return druidSource.getConnection();\r\n    }\r\n}\r\n```","title":"I can&#39;t read .properties when I run tomcat with idea","body":"<p>This problem has been solved.Thank for <a href=\"https://stackoverflow.com/users/6040762/rehnoj\">rehnoj</a>'s help.</p>\n<p>The answer in <a href=\"https://stackoverflow.com/questions/25869884/different-behavior-of-classloader-getsystemclassloader-getresource-in-servle\">Different behavior of ClassLoader.getSystemClassLoader().getResource() in servlet container and test environment</a>.</p>\n<p>The correct code</p>\n<pre><code>public class JDBCUtil {\n    private static DataSource druidSource;\n    static {\n        Properties props = new Properties();\n        InputStream is = JDBCUtil.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);\n        try {\n            props.load(is);\n            druidSource = DruidDataSourceFactory.createDataSource(props);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    public static Connection getConnection() throws SQLException {\n        return druidSource.getConnection();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24793733,"reputation":11,"user_id":18676588,"display_name":"kayai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71719128,"answer_count":1,"score":0,"last_activity_date":1648915467,"creation_date":1648894350,"question_id":71716619,"body_markdown":"I&#39;m learning JavaWeb and deploying local tomcat9 in idea. An exception occurred when I tried to connect to the database by reading the properties file. It should be that my properties file was not found.\r\n\r\nI tried to change the file path but it didn&#39;t work. What should I do?\r\n\r\n\r\nThis is my method to connect to the database and message\r\n```\r\npublic class JDBCUtil {\r\n    private static DataSource druidSource;\r\n    static {\r\n        Properties props = new Properties();\r\n        InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;production/begin/druid.properties&quot;);\r\n        try {\r\n            props.load(is);\r\n            druidSource = DruidDataSourceFactory.createDataSource(props);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static Connection getConnection() throws SQLException {\r\n        return druidSource.getConnection();\r\n    }\r\n}\r\n```\r\n```\r\njava.lang.NullPointerException: inStream parameter is null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:233)\r\n\tat java.base/java.util.Properties.load(Properties.java:407)\r\n\tat DAO.util.JDBCUtil.&lt;clinit&gt;(JDBCUtil.java:24)\r\n\tat servlets.AddServlet.doPost(AddServlet.java:39)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n```\r\n\r\nThis is my [directory][1]\r\n\r\nOperating environment:MacOS12, idea2021.3.3, tomcat9.0.62, Java16.0.1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3735a.jpg","title":"I can&#39;t read .properties when I run tomcat with idea","body":"<p>I'm learning JavaWeb and deploying local tomcat9 in idea. An exception occurred when I tried to connect to the database by reading the properties file. It should be that my properties file was not found.</p>\n<p>I tried to change the file path but it didn't work. What should I do?</p>\n<p>This is my method to connect to the database and message</p>\n<pre><code>public class JDBCUtil {\n    private static DataSource druidSource;\n    static {\n        Properties props = new Properties();\n        InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;production/begin/druid.properties&quot;);\n        try {\n            props.load(is);\n            druidSource = DruidDataSourceFactory.createDataSource(props);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    public static Connection getConnection() throws SQLException {\n        return druidSource.getConnection();\n    }\n}\n</code></pre>\n<pre><code>java.lang.NullPointerException: inStream parameter is null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:233)\n    at java.base/java.util.Properties.load(Properties.java:407)\n    at DAO.util.JDBCUtil.&lt;clinit&gt;(JDBCUtil.java:24)\n    at servlets.AddServlet.doPost(AddServlet.java:39)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n<p>This is my <a href=\"https://i.stack.imgur.com/3735a.jpg\" rel=\"nofollow noreferrer\">directory</a></p>\n<p>Operating environment:MacOS12, idea2021.3.3, tomcat9.0.62, Java16.0.1</p>\n"},{"tags":["java","unit-testing","junit","jmeter","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636443678,"creation_date":1636443678,"answer_id":69894432,"question_id":69894099,"body_markdown":" 1. JUnit is an [XUnit testing framework][1], it supports everything you write in Java, however you will need to implement the logic, concurrency, results analysis, etc. yourself, JUnit only provides API to configure and run tests and to define pass/fail criteria \r\n 2. [JMeter][2] is a multi-protocol load testing tool, concurrency, metrics and results you have out of the box, for web applications load testing you have [HTTP Reques][3]t sampler and the cookies are automatically handled using [HTTP Cookie Manager][4] (it&#39;s possible to add cookies manually as well)\r\n\r\nSo if you need to setup everything quickly JMeter should fit your needs as writing a browser-like HTTP client will take immense effort and time. \r\n\r\nMore information:\r\n\r\n - [Building a Web Test Plan][5]\r\n - [Building an Advanced Web Test Plan][6]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XUnit\r\n  [2]: https://jmeter.apache.org/\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [4]: https://www.blazemeter.com/blog/http-cookie-manager-advanced-usage-a-guide\r\n  [5]: https://jmeter.apache.org/usermanual/build-web-test-plan.html\r\n  [6]: https://jmeter.apache.org/usermanual/build-adv-web-test-plan.html","title":"JUnit or JMeter for a WebApp user creation and Login using session cookies test scenario?","body":"<ol>\n<li>JUnit is an <a href=\"https://en.wikipedia.org/wiki/XUnit\" rel=\"nofollow noreferrer\">XUnit testing framework</a>, it supports everything you write in Java, however you will need to implement the logic, concurrency, results analysis, etc. yourself, JUnit only provides API to configure and run tests and to define pass/fail criteria</li>\n<li><a href=\"https://jmeter.apache.org/\" rel=\"nofollow noreferrer\">JMeter</a> is a multi-protocol load testing tool, concurrency, metrics and results you have out of the box, for web applications load testing you have <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Reques</a>t sampler and the cookies are automatically handled using <a href=\"https://www.blazemeter.com/blog/http-cookie-manager-advanced-usage-a-guide\" rel=\"nofollow noreferrer\">HTTP Cookie Manager</a> (it's possible to add cookies manually as well)</li>\n</ol>\n<p>So if you need to setup everything quickly JMeter should fit your needs as writing a browser-like HTTP client will take immense effort and time.</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/build-web-test-plan.html\" rel=\"nofollow noreferrer\">Building a Web Test Plan</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/build-adv-web-test-plan.html\" rel=\"nofollow noreferrer\">Building an Advanced Web Test Plan</a></li>\n</ul>\n"}],"owner":{"account_id":23280018,"reputation":1,"user_id":17363597,"display_name":"ATAT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69894432,"answer_count":1,"score":-1,"last_activity_date":1648915042,"creation_date":1636441809,"question_id":69894099,"body_markdown":"I would like to ask which would be the best tool to test 1. (multiple) user creations and 2. login using session cookies in a WebApp? \r\n\r\nDo both JUnit and JMeter support such testing?\r\n\r\n","title":"JUnit or JMeter for a WebApp user creation and Login using session cookies test scenario?","body":"<p>I would like to ask which would be the best tool to test 1. (multiple) user creations and 2. login using session cookies in a WebApp?</p>\n<p>Do both JUnit and JMeter support such testing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1646723336,"post_id":71391170,"comment_id":126188115,"body_markdown":"In which way does the code you show not work? Pleas provide a [mre] which demonstrates that.","body":"In which way does the code you show not work? Pleas provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates that."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1646723414,"post_id":71391170,"comment_id":126188135,"body_markdown":"Does this answer your question? [How do I generate random integers within a specific range in Java?](https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java\">How do I generate random integers within a specific range in Java?</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user18682247"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648914340,"creation_date":1648914340,"answer_id":71718996,"question_id":71391170,"body_markdown":"To generate positive integer numbers you simply need the Random class and invoke the nextInt(int bound) method. This method will return an integer value between 0 and bound-1. If you need a value between a and b, then you can simply add &lt;i&gt;a&lt;/i&gt; as an offset of the nextInt result and use &lt;i&gt;(b - a)&lt;/i&gt; as the upper bound.\r\n\r\nFor example:\r\n\r\n```\r\nRandom rand = new Random();\r\nint x = rand.nextInt(10);       //returns an integer between 0 and 9\r\nint y = rand.nextInt(10) + 10;  //returns an integer between 10 and 19\r\n```","title":"how can i generate a number of round in random number gucessing game, how can i improve my code","body":"<p>To generate positive integer numbers you simply need the Random class and invoke the nextInt(int bound) method. This method will return an integer value between 0 and bound-1. If you need a value between a and b, then you can simply add <i>a</i> as an offset of the nextInt result and use <i>(b - a)</i> as the upper bound.</p>\n<p>For example:</p>\n<pre><code>Random rand = new Random();\nint x = rand.nextInt(10);       //returns an integer between 0 and 9\nint y = rand.nextInt(10) + 10;  //returns an integer between 10 and 19\n</code></pre>\n"}],"owner":{"account_id":23805296,"reputation":1,"user_id":18405430,"display_name":"krishna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648914340,"creation_date":1646723174,"question_id":71391170,"body_markdown":"    int number_of_rounds = (int)(Math.abs(Math.log10(ma-mi+1)/Math.log10(2)));\r\n\r\nhow can i generate positive integer value, I am new here so if i do any mistake please guide me \r\n","title":"how can i generate a number of round in random number gucessing game, how can i improve my code","body":"<pre><code>int number_of_rounds = (int)(Math.abs(Math.log10(ma-mi+1)/Math.log10(2)));\n</code></pre>\n<p>how can i generate positive integer value, I am new here so if i do any mistake please guide me</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":1,"creation_date":1499949852,"post_id":3204955,"comment_id":77134408,"body_markdown":"**tl;dr answer:** new File(&quot;my/path&quot;).getCanonicalPath()","body":"<b>tl;dr answer:</b> new File(&quot;my/path&quot;).getCanonicalPath()"}],"answers":[{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1278605895,"creation_date":1278601666,"answer_id":3205019,"question_id":3204955,"body_markdown":"If I get your problem right, you could do something like this:\r\n\r\n    File a = new File(&quot;/some/abs/path&quot;);\r\n    File parentFolder = new File(a.getParent());\r\n    File b = new File(parentFolder, &quot;../some/relative/path&quot;);\r\n    String absolute = b.getCanonicalPath(); // may throw IOException","title":"Converting Relative Paths to Absolute Paths","body":"<p>If I get your problem right, you could do something like this:</p>\n\n<pre><code>File a = new File(\"/some/abs/path\");\nFile parentFolder = new File(a.getParent());\nFile b = new File(parentFolder, \"../some/relative/path\");\nString absolute = b.getCanonicalPath(); // may throw IOException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119123,"reputation":5183,"user_id":310613,"accept_rate":96,"display_name":"Kyra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498892103,"creation_date":1278601694,"answer_id":3205029,"question_id":3204955,"body_markdown":"I know it isn&#39;t the best solution but can&#39;t you just combine the substring of fileA&#39;s path from 0 to the `lastIndexOf(&quot;\\&quot;)` with fileB&#39;s path. \r\n\r\nExample A:\r\n\r\n* `C:\\projects\\project1\\module7\\submodule5\\fileA`\r\n\r\nExample Bs:\r\n\r\n* `..\\..\\module3\\submodule9\\subsubmodule32\\fileB`\r\n\r\n`C:\\projects\\project1\\module7\\submodule5\\..\\..\\module3\\submodule9\\subsubmodule32\\fileB`\r\n\r\nIf you don&#39;t want the `..` in there then, it would take longer, but I recommend going through the path for `fileB` and keep taking the substring from 0 to the first index of `\\`. Then check the substring. If it is `..` then remove the substring from there and remove the substring from `fileA&#39;s` path from `lastIndexOf(\\)` to length. Then repeat. That way you are removing the folders you don&#39;t need and the `..s`.\r\n\r\nSo : \r\n\r\nExample A:\r\n\r\n* `C:\\projects\\project1\\module7\\submodule5\\fileA`\r\n\r\nExample Bs:\r\n\r\n* `..\\..\\module3\\submodule9\\subsubmodule32\\fileB`\r\n\r\n   --&gt; `C:\\projects\\project1\\module3\\submodule9\\subsubmodule32\\fileB`","title":"Converting Relative Paths to Absolute Paths","body":"<p>I know it isn't the best solution but can't you just combine the substring of fileA's path from 0 to the <code>lastIndexOf(\"\\\")</code> with fileB's path. </p>\n\n<p>Example A:</p>\n\n<ul>\n<li><code>C:\\projects\\project1\\module7\\submodule5\\fileA</code></li>\n</ul>\n\n<p>Example Bs:</p>\n\n<ul>\n<li><code>..\\..\\module3\\submodule9\\subsubmodule32\\fileB</code></li>\n</ul>\n\n<p><code>C:\\projects\\project1\\module7\\submodule5\\..\\..\\module3\\submodule9\\subsubmodule32\\fileB</code></p>\n\n<p>If you don't want the <code>..</code> in there then, it would take longer, but I recommend going through the path for <code>fileB</code> and keep taking the substring from 0 to the first index of <code>\\</code>. Then check the substring. If it is <code>..</code> then remove the substring from there and remove the substring from <code>fileA's</code> path from <code>lastIndexOf(\\)</code> to length. Then repeat. That way you are removing the folders you don't need and the <code>..s</code>.</p>\n\n<p>So : </p>\n\n<p>Example A:</p>\n\n<ul>\n<li><code>C:\\projects\\project1\\module7\\submodule5\\fileA</code></li>\n</ul>\n\n<p>Example Bs:</p>\n\n<ul>\n<li><p><code>..\\..\\module3\\submodule9\\subsubmodule32\\fileB</code></p>\n\n<p>--> <code>C:\\projects\\project1\\module3\\submodule9\\subsubmodule32\\fileB</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2342625,"reputation":312,"user_id":2053583,"display_name":"iviorel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360314596,"creation_date":1360313295,"answer_id":14768774,"question_id":3204955,"body_markdown":"Here is the sample code that works for me.\r\n\r\n     public String absolutePath(String relative, String absoluteTo)\r\n        {\t\t\r\n    \t\tString[] absoluteDirectories = relative.split(&quot;\\\\\\\\&quot;);\r\n    \t\tString[] relativeDirectories = absoluteTo.split(&quot;\\\\\\\\&quot;);\r\n    \t\tint relativeLength = relativeDirectories.length;\r\n    \t\tint absoluteLength = absoluteDirectories.length; \r\n    \t\tint lastCommonRoot = 0;\r\n            int index;\r\n            for (index = 0; index &lt; relativeLength; index++)\r\n                if (relativeDirectories[index].equals(&quot;..\\\\\\\\&quot;))\r\n                \tlastCommonRoot = index;\r\n                else\r\n                    break;\r\n            StringBuilder absolutePath = new StringBuilder();\r\n            for (index = 0; index &lt; absoluteLength - lastCommonRoot; index++)\r\n            {  \r\n            \t if (absoluteDirectories[index].length() &gt; 0) \r\n            \t\t absolutePath.append(absoluteDirectories[index] + &quot;\\\\\\\\&quot;);        \t\t        \t\r\n            }\r\n            for (index = lastCommonRoot; index &lt; relativeLength  - lastCommonRoot; \r\n                                                                   index++)\r\n            {  \r\n            \t if (relativeDirectories[index].length() &gt; 0) \r\n            \t\t absolutePath.append(relativeDirectories[index] + &quot;\\\\\\\\&quot;);        \t\t        \t\r\n            }\r\n            return absolutePath.toString();\t\t         \r\n        }\r\n\r\n\r\n\r\nAlso I the conversion to relative:\r\n\r\n    public String relativePath(String absolute, String relativeTo) throws Exception\r\n        {\t\t\r\n    \t\tString[] absoluteDirectories = absolute.split(&quot;\\\\\\\\&quot;);\r\n    \t\tString[] relativeDirectories = relativeTo.split(&quot;\\\\\\\\&quot;);\r\n            int length = absoluteDirectories.length &lt; relativeDirectories.length ?\r\n                            absoluteDirectories.length : relativeDirectories.length;\r\n            int lastCommonRoot = -1;\r\n            int index;\r\n            for (index = 0; index &lt; length; index++)\r\n                if (absoluteDirectories[index].equals(relativeDirectories[index]))\r\n                    lastCommonRoot = index;\r\n                else\r\n                    break;\r\n            if (lastCommonRoot &gt; -1){\r\n                StringBuilder relativePath = new StringBuilder();\r\n                for (index = lastCommonRoot + 1; index &lt;absoluteDirectories.length;\r\n                                                                             index++)\r\n                    if (absoluteDirectories[index].length() &gt; 0)\r\n                        relativePath.append(&quot;..\\\\\\\\&quot;);\r\n                for (index = lastCommonRoot + 1; index &lt;relativeDirectories.length-1;\r\n                                                                             index++)\r\n                    relativePath.append(relativeDirectories[index] + &quot;\\\\\\\\&quot;);\r\n                relativePath.append(relativeDirectories[relativeDirectories.length - 1]);\r\n                return relativePath.toString();       \t\r\n            }\r\n            else{\r\n            \tthrow new Exception(&quot;No common root found between working direcotry and filename&quot;);\r\n            }            \r\n        }\r\n\r\n","title":"Converting Relative Paths to Absolute Paths","body":"<p>Here is the sample code that works for me.</p>\n\n<pre><code> public String absolutePath(String relative, String absoluteTo)\n    {       \n        String[] absoluteDirectories = relative.split(\"\\\\\\\\\");\n        String[] relativeDirectories = absoluteTo.split(\"\\\\\\\\\");\n        int relativeLength = relativeDirectories.length;\n        int absoluteLength = absoluteDirectories.length; \n        int lastCommonRoot = 0;\n        int index;\n        for (index = 0; index &lt; relativeLength; index++)\n            if (relativeDirectories[index].equals(\"..\\\\\\\\\"))\n                lastCommonRoot = index;\n            else\n                break;\n        StringBuilder absolutePath = new StringBuilder();\n        for (index = 0; index &lt; absoluteLength - lastCommonRoot; index++)\n        {  \n             if (absoluteDirectories[index].length() &gt; 0) \n                 absolutePath.append(absoluteDirectories[index] + \"\\\\\\\\\");                          \n        }\n        for (index = lastCommonRoot; index &lt; relativeLength  - lastCommonRoot; \n                                                               index++)\n        {  \n             if (relativeDirectories[index].length() &gt; 0) \n                 absolutePath.append(relativeDirectories[index] + \"\\\\\\\\\");                          \n        }\n        return absolutePath.toString();              \n    }\n</code></pre>\n\n<p>Also I the conversion to relative:</p>\n\n<pre><code>public String relativePath(String absolute, String relativeTo) throws Exception\n    {       \n        String[] absoluteDirectories = absolute.split(\"\\\\\\\\\");\n        String[] relativeDirectories = relativeTo.split(\"\\\\\\\\\");\n        int length = absoluteDirectories.length &lt; relativeDirectories.length ?\n                        absoluteDirectories.length : relativeDirectories.length;\n        int lastCommonRoot = -1;\n        int index;\n        for (index = 0; index &lt; length; index++)\n            if (absoluteDirectories[index].equals(relativeDirectories[index]))\n                lastCommonRoot = index;\n            else\n                break;\n        if (lastCommonRoot &gt; -1){\n            StringBuilder relativePath = new StringBuilder();\n            for (index = lastCommonRoot + 1; index &lt;absoluteDirectories.length;\n                                                                         index++)\n                if (absoluteDirectories[index].length() &gt; 0)\n                    relativePath.append(\"..\\\\\\\\\");\n            for (index = lastCommonRoot + 1; index &lt;relativeDirectories.length-1;\n                                                                         index++)\n                relativePath.append(relativeDirectories[index] + \"\\\\\\\\\");\n            relativePath.append(relativeDirectories[relativeDirectories.length - 1]);\n            return relativePath.toString();         \n        }\n        else{\n            throw new Exception(\"No common root found between working direcotry and filename\");\n        }            \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1629106424,"creation_date":1378582995,"answer_id":18677207,"question_id":3204955,"body_markdown":"Try [`FilenameUtils.normalize()`](http://commons.apache.org/proper/commons-io/javadocs/api-1.4/org/apache/commons/io/FilenameUtils.html#normalize(java.lang.String)) from Apache [commons-io](http://commons.apache.org/proper/commons-io/)","title":"Converting Relative Paths to Absolute Paths","body":"<p>Try <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-1.4/org/apache/commons/io/FilenameUtils.html#normalize(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FilenameUtils.normalize()</code></a> from Apache <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">commons-io</a></p>\n"},{"tags":[],"owner":{"account_id":226331,"reputation":381,"user_id":487321,"accept_rate":75,"display_name":"onlyhuman"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1438583000,"creation_date":1383311536,"answer_id":19727447,"question_id":3204955,"body_markdown":"In **Java 7** you can also use the [Path][1] interface:\r\n\r\n    Path basePath = FileSystems.getDefault().getPath(&quot;C:\\\\projects\\\\project1\\\\module7\\\\submodule5\\\\fileA&quot;);\r\n    Path resolvedPath = basePath.getParent().resolve(&quot;..\\\\..\\\\module3\\\\submodule9\\\\subsubmodule32\\\\fileB&quot;); // use getParent() if basePath is a file (not a directory) \r\n    Path abolutePath = resolvedPath.normalize();\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html","title":"Converting Relative Paths to Absolute Paths","body":"<p>In <strong>Java 7</strong> you can also use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\">Path</a> interface:</p>\n\n<pre><code>Path basePath = FileSystems.getDefault().getPath(\"C:\\\\projects\\\\project1\\\\module7\\\\submodule5\\\\fileA\");\nPath resolvedPath = basePath.getParent().resolve(\"..\\\\..\\\\module3\\\\submodule9\\\\subsubmodule32\\\\fileB\"); // use getParent() if basePath is a file (not a directory) \nPath abolutePath = resolvedPath.normalize();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463754859,"creation_date":1463754859,"answer_id":37349486,"question_id":3204955,"body_markdown":"What&#39;s better than just creating a utility that converts relative paths to absolute paths is to create a utility that converts any path passed to it into an absolute path so that you don&#39;t have to check on the client-side.\r\n\r\nThe below code works for me in both cases and I&#39;ve used the `String` type at the signature of the method (both parameter and return value):\r\n\r\n    public static String toAbsolutePath(String maybeRelative) {\r\n        Path path = Paths.get(maybeRelative);\r\n        Path effectivePath = path;\r\n        if (!path.isAbsolute()) {\r\n            Path base = Paths.get(&quot;&quot;);\r\n            effectivePath = base.resolve(path).toAbsolutePath();\r\n        }\r\n        return effectivePath.normalize().toString();\r\n    }\r\n\r\nChanging the above code to expose `Path` types on the signature of the method is trivial (and actually easier) but I think that using `String` on the signature gives more flexibility.\r\n","title":"Converting Relative Paths to Absolute Paths","body":"<p>What's better than just creating a utility that converts relative paths to absolute paths is to create a utility that converts any path passed to it into an absolute path so that you don't have to check on the client-side.</p>\n\n<p>The below code works for me in both cases and I've used the <code>String</code> type at the signature of the method (both parameter and return value):</p>\n\n<pre><code>public static String toAbsolutePath(String maybeRelative) {\n    Path path = Paths.get(maybeRelative);\n    Path effectivePath = path;\n    if (!path.isAbsolute()) {\n        Path base = Paths.get(\"\");\n        effectivePath = base.resolve(path).toAbsolutePath();\n    }\n    return effectivePath.normalize().toString();\n}\n</code></pre>\n\n<p>Changing the above code to expose <code>Path</code> types on the signature of the method is trivial (and actually easier) but I think that using <code>String</code> on the signature gives more flexibility.</p>\n"},{"tags":[],"owner":{"account_id":9070980,"reputation":1,"user_id":6754211,"display_name":"Ravi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1498892022,"creation_date":1472068142,"answer_id":39131922,"question_id":3204955,"body_markdown":"Windows path to full Java path.&lt;br/&gt;\r\n\t\r\n    String winPath = downloadPath+&quot;\\\\&quot;+dir_contents[i].getName();\r\n\tString absPath = winPath.replace(&quot;\\\\&quot;,&quot;\\\\\\\\&quot;);","title":"Converting Relative Paths to Absolute Paths","body":"<p>Windows path to full Java path.<br/></p>\n\n<pre><code>String winPath = downloadPath+\"\\\\\"+dir_contents[i].getName();\nString absPath = winPath.replace(\"\\\\\",\"\\\\\\\\\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9482724,"reputation":271,"user_id":7050087,"display_name":"rssdev10"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1563604214,"creation_date":1476995268,"answer_id":40163941,"question_id":3204955,"body_markdown":"```java\r\nString absolutePath = FileSystems.getDefault().getPath(mayBeRelativePath).normalize().toAbsolutePath().toString();\r\n```","title":"Converting Relative Paths to Absolute Paths","body":"<pre class=\"lang-java prettyprint-override\"><code>String absolutePath = FileSystems.getDefault().getPath(mayBeRelativePath).normalize().toAbsolutePath().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1792369,"reputation":1931,"user_id":1632479,"accept_rate":62,"display_name":"U.Swap"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520441133,"creation_date":1520441133,"answer_id":49157135,"question_id":3204955,"body_markdown":"&gt; From your question, if i could get it right, you are looking to get abolute path from relative path, then you can do following.\r\n\r\n    File b = new File(&quot;../some/relative/path&quot;);\r\n    String absolute = b.getCanonicalPath(); // may throw IOException\r\n\r\nor shorthand notation can be,\r\n\r\n    String absolute = new File(&quot;../some/relative/path&quot;).getCanonicalPath();","title":"Converting Relative Paths to Absolute Paths","body":"<blockquote>\n  <p>From your question, if i could get it right, you are looking to get abolute path from relative path, then you can do following.</p>\n</blockquote>\n\n<pre><code>File b = new File(\"../some/relative/path\");\nString absolute = b.getCanonicalPath(); // may throw IOException\n</code></pre>\n\n<p>or shorthand notation can be,</p>\n\n<pre><code>String absolute = new File(\"../some/relative/path\").getCanonicalPath();\n</code></pre>\n"}],"owner":{"account_id":63188,"reputation":19454,"user_id":187206,"accept_rate":90,"display_name":"Tom Tresansky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67558,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":3205019,"answer_count":9,"score":47,"last_activity_date":1648913340,"creation_date":1278601296,"question_id":3204955,"body_markdown":"I have an absolute path to file A.\r\n\r\nI have a relative path to file B from file A&#39;s directory.  This path may and will use &quot;..&quot; to go up the directory structure in arbitrarily complex ways.\r\n\r\nExample A:\r\n\r\n - `C:\\projects\\project1\\module7\\submodule5\\fileA`\r\n\r\nExample Bs:\r\n\r\n - `..\\..\\module3\\submodule9\\subsubmodule32\\fileB`\r\n - `..\\submodule5\\fileB`\r\n - `..\\..\\module7\\..\\module4\\submodule1\\fileB`\r\n - `fileB`\r\n\r\nHow do I combine the two in order to get **the simplest possible** absolute path to file B?","title":"Converting Relative Paths to Absolute Paths","body":"<p>I have an absolute path to file A.</p>\n\n<p>I have a relative path to file B from file A's directory.  This path may and will use \"..\" to go up the directory structure in arbitrarily complex ways.</p>\n\n<p>Example A:</p>\n\n<ul>\n<li><code>C:\\projects\\project1\\module7\\submodule5\\fileA</code></li>\n</ul>\n\n<p>Example Bs:</p>\n\n<ul>\n<li><code>..\\..\\module3\\submodule9\\subsubmodule32\\fileB</code></li>\n<li><code>..\\submodule5\\fileB</code></li>\n<li><code>..\\..\\module7\\..\\module4\\submodule1\\fileB</code></li>\n<li><code>fileB</code></li>\n</ul>\n\n<p>How do I combine the two in order to get <strong>the simplest possible</strong> absolute path to file B?</p>\n"},{"tags":["java","android","android-studio","text-to-speech","google-text-to-speech"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1648921381,"post_id":71718617,"comment_id":126747331,"body_markdown":"Does the PDF actually have any text data in it to get? Some PDFs just store a picture of the text not actually text as text. Can you share/link the PDF you are testing with? Or use other PDF tools to confirm it has selectable text not just a picture of text.","body":"Does the PDF actually have any text data in it to get? Some PDFs just store a picture of the text not actually text as text. Can you share/link the PDF you are testing with? Or use other PDF tools to confirm it has selectable text not just a picture of text."},{"owner":{"account_id":19794591,"reputation":1,"user_id":14496801,"display_name":"danfabros"},"score":0,"creation_date":1648987483,"post_id":71718617,"comment_id":126757049,"body_markdown":"Hi. Yes it has text data. I can confirm that this because my outputTextView.setText(parsedText) displayed the extracted text from the PDF. It&#39;s just the Google Text-to-Speech is not reading the data extracted by the PDFBox TextStripper and displays on the debug terminal that &quot;Set connection to compenent(com.google.android.tts)&quot;","body":"Hi. Yes it has text data. I can confirm that this because my outputTextView.setText(parsedText) displayed the extracted text from the PDF. It&#39;s just the Google Text-to-Speech is not reading the data extracted by the PDFBox TextStripper and displays on the debug terminal that &quot;Set connection to compenent(com.google.android.tts)&quot;"}],"owner":{"account_id":19794591,"reputation":1,"user_id":14496801,"display_name":"danfabros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648911403,"creation_date":1648911403,"question_id":71718617,"body_markdown":"I use PDFBox to extract text from a document and display it, I also want the text extracted available to Text-to-Speech so it can dictate it but it does not work. I tried different methods from different forums on Stackoverflow and other websites. Unfortunately all of those doesn&#39;t work neither. It&#39;s been long since this problem is still unresolved. I appreciate y&#39;all! My code is written in Java.\r\n\r\n```\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.speech.tts.TextToSpeech;\r\nimport android.text.method.ScrollingMovementMethod;\r\nimport android.util.Log;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.tom_roush.pdfbox.android.PDFBoxResourceLoader;\r\nimport com.tom_roush.pdfbox.pdmodel.PDDocument;\r\nimport com.tom_roush.pdfbox.text.PDFTextStripper;\r\n\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class ReadPDF extends AppCompatActivity {\r\n\r\n    TextToSpeech tts;\r\n    TextView outputTextView;\r\n    private static final int READ_REQUEST_CODE = 42;\r\n    Uri fileUri;\r\n    Intent intentOpenFile;\r\n\r\n    String googleTtsPackage = &quot;com.google.android.tts.service.GoogleTTSService&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.content_main);\r\n        outputTextView = findViewById(R.id.output_text);\r\n        outputTextView.setMovementMethod(new ScrollingMovementMethod());\r\n\r\n        intentOpenFile = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intentOpenFile.setType(&quot;application/pdf&quot;);\r\n        startActivityForResult(intentOpenFile, READ_REQUEST_CODE);\r\n\r\n        tts = new TextToSpeech(this, status -&gt; {\r\n            tts.setLanguage(Locale.forLanguageTag(&quot;fil-PH&quot;));\r\n            tts.setSpeechRate(0.8F);\r\n            tts.setPitch(0.8F);\r\n            Locale[] locales = Locale.getAvailableLocales();\r\n            List&lt;Locale&gt; localeList = new ArrayList&lt;&gt;();\r\n            for (Locale locale : locales) {\r\n                int res = tts.isLanguageAvailable(locale);\r\n                if (res == TextToSpeech.LANG_COUNTRY_AVAILABLE) {\r\n                    localeList.add(locale);\r\n                } else {\r\n                    tts.setLanguage(Locale.US);\r\n                }\r\n            }\r\n            if(status != TextToSpeech.ERROR){\r\n                if(!isPackageInstalled(getPackageManager(), googleTtsPackage))\r\n                    confirmDialog();\r\n                else tts.setEngineByPackageName(googleTtsPackage);\r\n            }\r\n        });\r\n\r\n        PDFBoxResourceLoader.init(getApplicationContext());\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent resultData) {\r\n        super.onActivityResult(requestCode, resultCode, resultData);\r\n        if (requestCode == READ_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            if (resultData != null) {\r\n                fileUri = resultData.getData();\r\n                readPDFFile(fileUri);\r\n                Toast.makeText(this, &quot;Loaded successfully&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void readPDFFile(Uri uri) {\r\n        PDDocument document = null;\r\n        String parsedText = null;\r\n        try {\r\n            InputStream inputStream = this.getContentResolver().openInputStream(uri);\r\n            document = PDDocument.load(inputStream);\r\n            PDFTextStripper pdfStripper = new PDFTextStripper();\r\n            pdfStripper.setStartPage(1);\r\n            pdfStripper.setEndPage(20);\r\n            parsedText = pdfStripper.getText(document);\r\n            outputTextView.setText(parsedText);\r\n            tts.speak(parsedText, TextToSpeech.QUEUE_ADD, null, null);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n        @Override\r\n    public void onPause(){\r\n        super.onPause();\r\n        tts.stop();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy(){\r\n        super.onDestroy();\r\n        tts.shutdown();\r\n    }\r\n\r\n    private void confirmDialog(){\r\n        Intent installVoice = new Intent(TextToSpeech.Engine.ACTION_INSTALL_TTS_DATA);\r\n        startActivity(installVoice);\r\n    }\r\n\r\n    public static boolean isPackageInstalled(PackageManager pm, String packageName) {\r\n        try {\r\n            pm.getPackageInfo(packageName, 0);\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}```\r\n\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\nXML Activity is this..\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/output_text&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot;\r\n        tools:visibility=&quot;visible&quot; /&gt;\r\n\r\nI did try\r\n\r\n```\r\npublic void readPDFFile(Uri uri) { \r\nPDDocument document = null;\r\nString parsedText = null;\r\ntry { \r\nInputStream inputStream = this.getContentResolver().openInputStream(uri);\r\ndocument = PDDocument.load(inputStream);\r\nPDFTextStripper pdfStripper = new PDFTextStripper();\r\npdfStripper.setStartPage(1);\r\npdfStripper.setEndPage(20);\r\nparsedText = pdfStripper.getText(document);\r\noutputTextView.setText(parsedText);\r\ntts.speak(parsedText, TextToSpeech.QUEUE_ADD, null, null);\r\n} catch (IOException e) { e.printStackTrace(); } }\r\n```\r\n\r\n    and I expected it to give me Text-to-Speech output.","title":"Google Android Text-to-Speech is not working with PDFBox on Android","body":"<p>I use PDFBox to extract text from a document and display it, I also want the text extracted available to Text-to-Speech so it can dictate it but it does not work. I tried different methods from different forums on Stackoverflow and other websites. Unfortunately all of those doesn't work neither. It's been long since this problem is still unresolved. I appreciate y'all! My code is written in Java.</p>\n<pre><code>import android.app.Activity;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.speech.tts.TextToSpeech;\nimport android.text.method.ScrollingMovementMethod;\nimport android.util.Log;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.tom_roush.pdfbox.android.PDFBoxResourceLoader;\nimport com.tom_roush.pdfbox.pdmodel.PDDocument;\nimport com.tom_roush.pdfbox.text.PDFTextStripper;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class ReadPDF extends AppCompatActivity {\n\n    TextToSpeech tts;\n    TextView outputTextView;\n    private static final int READ_REQUEST_CODE = 42;\n    Uri fileUri;\n    Intent intentOpenFile;\n\n    String googleTtsPackage = &quot;com.google.android.tts.service.GoogleTTSService&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.content_main);\n        outputTextView = findViewById(R.id.output_text);\n        outputTextView.setMovementMethod(new ScrollingMovementMethod());\n\n        intentOpenFile = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intentOpenFile.setType(&quot;application/pdf&quot;);\n        startActivityForResult(intentOpenFile, READ_REQUEST_CODE);\n\n        tts = new TextToSpeech(this, status -&gt; {\n            tts.setLanguage(Locale.forLanguageTag(&quot;fil-PH&quot;));\n            tts.setSpeechRate(0.8F);\n            tts.setPitch(0.8F);\n            Locale[] locales = Locale.getAvailableLocales();\n            List&lt;Locale&gt; localeList = new ArrayList&lt;&gt;();\n            for (Locale locale : locales) {\n                int res = tts.isLanguageAvailable(locale);\n                if (res == TextToSpeech.LANG_COUNTRY_AVAILABLE) {\n                    localeList.add(locale);\n                } else {\n                    tts.setLanguage(Locale.US);\n                }\n            }\n            if(status != TextToSpeech.ERROR){\n                if(!isPackageInstalled(getPackageManager(), googleTtsPackage))\n                    confirmDialog();\n                else tts.setEngineByPackageName(googleTtsPackage);\n            }\n        });\n\n        PDFBoxResourceLoader.init(getApplicationContext());\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent resultData) {\n        super.onActivityResult(requestCode, resultCode, resultData);\n        if (requestCode == READ_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            if (resultData != null) {\n                fileUri = resultData.getData();\n                readPDFFile(fileUri);\n                Toast.makeText(this, &quot;Loaded successfully&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    public void readPDFFile(Uri uri) {\n        PDDocument document = null;\n        String parsedText = null;\n        try {\n            InputStream inputStream = this.getContentResolver().openInputStream(uri);\n            document = PDDocument.load(inputStream);\n            PDFTextStripper pdfStripper = new PDFTextStripper();\n            pdfStripper.setStartPage(1);\n            pdfStripper.setEndPage(20);\n            parsedText = pdfStripper.getText(document);\n            outputTextView.setText(parsedText);\n            tts.speak(parsedText, TextToSpeech.QUEUE_ADD, null, null);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n        @Override\n    public void onPause(){\n        super.onPause();\n        tts.stop();\n    }\n\n    @Override\n    public void onDestroy(){\n        super.onDestroy();\n        tts.shutdown();\n    }\n\n    private void confirmDialog(){\n        Intent installVoice = new Intent(TextToSpeech.Engine.ACTION_INSTALL_TTS_DATA);\n        startActivity(installVoice);\n    }\n\n    public static boolean isPackageInstalled(PackageManager pm, String packageName) {\n        try {\n            pm.getPackageInfo(packageName, 0);\n        } catch (PackageManager.NameNotFoundException e) {\n            return false;\n        }\n        return true;\n    }\n}```\n\n\n</code></pre>\n\n<p>XML Activity is this..</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/output_text&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:scrollbars=&quot;vertical&quot;\n    android:text=&quot;&quot;\n    android:textColor=&quot;#000000&quot;\n    android:visibility=&quot;visible&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    tools:ignore=&quot;SpeakableTextPresentCheck&quot;\n    tools:visibility=&quot;visible&quot; /&gt;\n</code></pre>\n<p>I did try</p>\n<pre><code>public void readPDFFile(Uri uri) { \nPDDocument document = null;\nString parsedText = null;\ntry { \nInputStream inputStream = this.getContentResolver().openInputStream(uri);\ndocument = PDDocument.load(inputStream);\nPDFTextStripper pdfStripper = new PDFTextStripper();\npdfStripper.setStartPage(1);\npdfStripper.setEndPage(20);\nparsedText = pdfStripper.getText(document);\noutputTextView.setText(parsedText);\ntts.speak(parsedText, TextToSpeech.QUEUE_ADD, null, null);\n} catch (IOException e) { e.printStackTrace(); } }\n</code></pre>\n<pre><code>and I expected it to give me Text-to-Speech output.\n</code></pre>\n"},{"tags":["java","arrays","methods","return"],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648910936,"creation_date":1648910936,"answer_id":71718541,"question_id":71718451,"body_markdown":"Three things:\r\n\r\n1.  You can&#39;t &quot;pass a variable&quot;, you can only pass the value of a variable.\r\n\r\n2.  The variable &quot;arr&quot; is not the array, it has a value which is a reference to the array.\r\n\r\n3.  And therefore the variable &quot;data&quot; gets a copy of the value of &quot;arr&quot;, which is a reference to **the same array**.\r\n\r\nYou should allocate a new array for the output, something like \r\n\r\n    String[] outData = new String[data.length];\r\n\r\n","title":"Java method changes the variable which was passed to it","body":"<p>Three things:</p>\n<ol>\n<li><p>You can't &quot;pass a variable&quot;, you can only pass the value of a variable.</p>\n</li>\n<li><p>The variable &quot;arr&quot; is not the array, it has a value which is a reference to the array.</p>\n</li>\n<li><p>And therefore the variable &quot;data&quot; gets a copy of the value of &quot;arr&quot;, which is a reference to <strong>the same array</strong>.</p>\n</li>\n</ol>\n<p>You should allocate a new array for the output, something like</p>\n<pre><code>String[] outData = new String[data.length];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24752674,"reputation":86,"user_id":18637952,"display_name":"batteryduck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648910968,"creation_date":1648910968,"answer_id":71718551,"question_id":71718451,"body_markdown":"When you invoke `encryption(arr)` you are passing the value of the *reference* for that object through, which means you end up directly mutating it. If you did not return `data` and declared `encryption` as `void` return, your input array would still be &quot;encrypted.&quot;\r\n\r\nIf you&#39;d like to solely return a new array without modifying the input, you can initialise a new, empty `String[]` of the same length as the input, and assign elements to it in your for loop.\r\n\r\nFor example,\r\n\r\n```java\r\n    public static String[] encryption(String[]  data) {\r\n        String[] encrypted = new String[data.length];\r\n        for (int i = 0; i &lt; data.length; i++) { // get each element of data\r\n            String encodedString = Base64.getEncoder().encodeToString(data[i].getBytes()); // encryption\r\n            encrypted[i] = encodedString; // reassign\r\n        }\r\n        return encrypted;\r\n    }\r\n\r\n```\r\n \r\nPlease see https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value for a thorough explanation of what&#39;s going on under the hood when you pass in your `data` argument.","title":"Java method changes the variable which was passed to it","body":"<p>When you invoke <code>encryption(arr)</code> you are passing the value of the <em>reference</em> for that object through, which means you end up directly mutating it. If you did not return <code>data</code> and declared <code>encryption</code> as <code>void</code> return, your input array would still be &quot;encrypted.&quot;</p>\n<p>If you'd like to solely return a new array without modifying the input, you can initialise a new, empty <code>String[]</code> of the same length as the input, and assign elements to it in your for loop.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String[] encryption(String[]  data) {\n        String[] encrypted = new String[data.length];\n        for (int i = 0; i &lt; data.length; i++) { // get each element of data\n            String encodedString = Base64.getEncoder().encodeToString(data[i].getBytes()); // encryption\n            encrypted[i] = encodedString; // reassign\n        }\n        return encrypted;\n    }\n\n</code></pre>\n<p>Please see <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a> for a thorough explanation of what's going on under the hood when you pass in your <code>data</code> argument.</p>\n"}],"owner":{"account_id":21776054,"reputation":53,"user_id":16078455,"display_name":"Entl_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":71718551,"answer_count":2,"score":0,"last_activity_date":1648911129,"creation_date":1648910217,"question_id":71718451,"body_markdown":"I was trying to implement encryption in my program and ran into some difficulties with methods. I have a unencrypted array, which should stay unencrypted and another array which I would like to encrypt. However, when I call the method it encrypts both arrays.\r\n\r\n    import java.util.Base64;\r\n    \r\n    public class test {\r\n        public static void main(String[] args) {\r\n            String[] arr = {&quot;1&quot;, &quot;2&quot;};\r\n            String[] arrEncrypted = encryption(arr);\r\n            System.out.println(arr[0]);\r\n            System.out.println(arrEncrypted[0]);\r\n        }\r\n        public static String[] encryption(String[]  data) {\r\n            for (int i = 0; i &lt; data.length; i++) { // get each element of data\r\n                String encodedString = Base64.getEncoder().encodeToString(data[i].getBytes()); // encryption\r\n                data[i] = encodedString; // reassign\r\n            }\r\n            return data;\r\n        }\r\n    }\r\n\r\nI cannot find out an issue because in my understanding I return encrypted data and assign it to another array, but for some reason an array which I passed changes too.\r\n\r\nHere is the output\r\n\r\n    MQ== //has to be 1\r\n    MQ== //correct\r\nThanks in advance for the help!","title":"Java method changes the variable which was passed to it","body":"<p>I was trying to implement encryption in my program and ran into some difficulties with methods. I have a unencrypted array, which should stay unencrypted and another array which I would like to encrypt. However, when I call the method it encrypts both arrays.</p>\n<pre><code>import java.util.Base64;\n\npublic class test {\n    public static void main(String[] args) {\n        String[] arr = {&quot;1&quot;, &quot;2&quot;};\n        String[] arrEncrypted = encryption(arr);\n        System.out.println(arr[0]);\n        System.out.println(arrEncrypted[0]);\n    }\n    public static String[] encryption(String[]  data) {\n        for (int i = 0; i &lt; data.length; i++) { // get each element of data\n            String encodedString = Base64.getEncoder().encodeToString(data[i].getBytes()); // encryption\n            data[i] = encodedString; // reassign\n        }\n        return data;\n    }\n}\n</code></pre>\n<p>I cannot find out an issue because in my understanding I return encrypted data and assign it to another array, but for some reason an array which I passed changes too.</p>\n<p>Here is the output</p>\n<pre><code>MQ== //has to be 1\nMQ== //correct\n</code></pre>\n<p>Thanks in advance for the help!</p>\n"},{"tags":["java","mysql","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648902428,"creation_date":1648893798,"answer_id":71716564,"question_id":71716462,"body_markdown":"You just need to add one more join\r\n\r\n    @Query(value = &quot;SELECT usr.* &quot; +\r\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\r\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\r\n            &quot;AND that.track_id = this.track_id &quot;+\r\n            &quot;JOIN user as usr on  that.user_id = usr.id&quot;\r\n             &quot;WHERE this.user_id = ?1 &quot; +\r\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2&quot;, User.class )\r\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\r\n\r\nBut I think you can also use JPQL","title":"How to query a list of users that share N number of records in a join table with one user","body":"<p>You just need to add one more join</p>\n<pre><code>@Query(value = &quot;SELECT usr.* &quot; +\n        &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\n        &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\n        &quot;AND that.track_id = this.track_id &quot;+\n        &quot;JOIN user as usr on  that.user_id = usr.id&quot;\n         &quot;WHERE this.user_id = ?1 &quot; +\n        &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2&quot;, User.class )\nList&lt;User&gt; getMatches(String userId, int matchingTracks);\n</code></pre>\n<p>But I think you can also use JPQL</p>\n"},{"tags":[],"owner":{"account_id":17562819,"reputation":19,"user_id":12740393,"display_name":"GodLike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648910698,"creation_date":1648910698,"answer_id":71718503,"question_id":71716462,"body_markdown":"I ended up doing this and it&#39;s working fine.\r\nIf i find any better solutions i&#39;ll update it.\r\n```java\r\n    @Query(value =&quot;SELECT * from user where id IN (&quot;+\r\n            &quot;SELECT that.user_id &quot; +\r\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\r\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\r\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\r\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2 )&quot;, nativeQuery = true)\r\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\r\n```","title":"How to query a list of users that share N number of records in a join table with one user","body":"<p>I ended up doing this and it's working fine.\nIf i find any better solutions i'll update it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value =&quot;SELECT * from user where id IN (&quot;+\n            &quot;SELECT that.user_id &quot; +\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2 )&quot;, nativeQuery = true)\n    List&lt;User&gt; getMatches(String userId, int matchingTracks);\n</code></pre>\n"}],"owner":{"account_id":17562819,"reputation":19,"user_id":12740393,"display_name":"GodLike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648910698,"creation_date":1648892839,"question_id":71716462,"body_markdown":"I have an entity (user) that has a List&lt;String&gt; of tracks. I&#39;d like to query all users that share N number of tracks with one user using his id. I&#39;m using Spring Data JPA for my data layer.\r\nI already have a native query that is doing what I want but it&#39;s returning a List&lt;String&gt; of ids for the users. I would like to get List&lt;User&gt; instead.\r\nThis is my user entity:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    private String id;\r\n\r\n    private String email;\r\n\r\n    private String country;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;user_top_tracks&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @Column(name = &quot;track_id&quot;)\r\n    @JsonIgnore\r\n    private List&lt;String&gt; tracks;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;user_top_artists&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @Column(name = &quot;artist_id&quot;)\r\n    @JsonIgnore\r\n    private List&lt;String&gt; artists;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;matches&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    @Column(name = &quot;match&quot;)\r\n    @JsonIgnore\r\n    private List&lt;String&gt; matches;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    @PrimaryKeyJoinColumn\r\n    private Token token;\r\n}\r\n\r\n```\r\nThe query I have right now (returning List&lt;String&gt;):\r\n```\r\n @Query(value = &quot;SELECT that.user_id &quot; +\r\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\r\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\r\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\r\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2&quot;, nativeQuery = true)\r\n    List&lt;String&gt; getMatches(String userId, int matchingTracks);\r\n```\r\n\r\n\r\n[Database schema][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2tE8.png\r\n\r\nRight now I wrote a method that goes over the return list of ids, fetches them and then adds them to a List of users. It&#39;s working fine but I&#39;d like to just make it return a List of users instead. ","title":"How to query a list of users that share N number of records in a join table with one user","body":"<p>I have an entity (user) that has a List of tracks. I'd like to query all users that share N number of tracks with one user using his id. I'm using Spring Data JPA for my data layer.\nI already have a native query that is doing what I want but it's returning a List of ids for the users. I would like to get List instead.\nThis is my user entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    private String id;\n\n    private String email;\n\n    private String country;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;user_top_tracks&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @Column(name = &quot;track_id&quot;)\n    @JsonIgnore\n    private List&lt;String&gt; tracks;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;user_top_artists&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @Column(name = &quot;artist_id&quot;)\n    @JsonIgnore\n    private List&lt;String&gt; artists;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;matches&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    @Column(name = &quot;match&quot;)\n    @JsonIgnore\n    private List&lt;String&gt; matches;\n\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private Token token;\n}\n\n</code></pre>\n<p>The query I have right now (returning List):</p>\n<pre><code> @Query(value = &quot;SELECT that.user_id &quot; +\n            &quot;FROM user_top_tracks AS this INNER JOIN user_top_tracks &quot; +\n            &quot;AS that ON that.user_id &lt;&gt; this.user_id &quot; +\n            &quot;AND that.track_id = this.track_id WHERE this.user_id = ?1 &quot; +\n            &quot;GROUP BY that.user_id HAVING COUNT(*) &gt;= ?2&quot;, nativeQuery = true)\n    List&lt;String&gt; getMatches(String userId, int matchingTracks);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/k2tE8.png\" rel=\"nofollow noreferrer\">Database schema</a></p>\n<p>Right now I wrote a method that goes over the return list of ids, fetches them and then adds them to a List of users. It's working fine but I'd like to just make it return a List of users instead.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1647013022,"post_id":71440960,"comment_id":126273286,"body_markdown":"Typically, people make use of a build system (ANT, Maven, Gradle, etc). These systems allow you to specify an internet-served copy of any libraries you want to, which won&#39;t require explicitly downloading them.","body":"Typically, people make use of a build system (ANT, Maven, Gradle, etc). These systems allow you to specify an internet-served copy of any libraries you want to, which won&#39;t require explicitly downloading them."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1647017852,"post_id":71440960,"comment_id":126275284,"body_markdown":"If someone needs to deal with source code anyway, you could share a git or subversion repository.","body":"If someone needs to deal with source code anyway, you could share a git or subversion repository."}],"answers":[{"tags":[],"owner":{"display_name":"user18681794"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648910420,"creation_date":1648910420,"answer_id":71718474,"question_id":71440960,"body_markdown":"You should define all your dependencies (libraries, etc.) with tools such as maven or gradle.\r\n\r\nWhile project sharing should be performed via a VCS tool like git to keep track and merge the changes both of you will make and a remote repository on GitHub or similar platforms to share and store the project.","title":"How can I send a java project including all referenced libraries to a friend so that they can run it and edit the source in their Eclipse?","body":"<p>You should define all your dependencies (libraries, etc.) with tools such as maven or gradle.</p>\n<p>While project sharing should be performed via a VCS tool like git to keep track and merge the changes both of you will make and a remote repository on GitHub or similar platforms to share and store the project.</p>\n"}],"owner":{"account_id":24528323,"reputation":1,"user_id":18440501,"display_name":"andrew z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648910420,"creation_date":1647012872,"question_id":71440960,"body_markdown":"I am trying to send a project that uses Selenium libraries to a friend so they can run it and edit the source code in their Eclipse IDE. From what I understand, they won&#39;t be able to edit the source if I send them a JAR file, and if I send them an archive file they&#39;d need to import the referenced libraries themselves. Is there a workaround?","title":"How can I send a java project including all referenced libraries to a friend so that they can run it and edit the source in their Eclipse?","body":"<p>I am trying to send a project that uses Selenium libraries to a friend so they can run it and edit the source code in their Eclipse IDE. From what I understand, they won't be able to edit the source if I send them a JAR file, and if I send them an archive file they'd need to import the referenced libraries themselves. Is there a workaround?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1648933488,"post_id":71718299,"comment_id":126749736,"body_markdown":"Not just through the drawables setup, it seems. The default `ImageView` that the icon goes into has an exact width and height set, so it won&#39;t collapse on its own. You&#39;ll need something else, like possibly a custom tab `View`.","body":"Not just through the drawables setup, it seems. The default <code>ImageView</code> that the icon goes into has an exact width and height set, so it won&#39;t collapse on its own. You&#39;ll need something else, like possibly a custom tab <code>View</code>."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1648952209,"post_id":71718299,"comment_id":126752116,"body_markdown":"If a custom `View` solution is acceptable, it turns out that we can do it relatively simply: https://drive.google.com/file/d/11DhxDQxWgNnubO7NHr8rR8oATshNnnvn/view?usp=sharing. That&#39;s the same `ImageView` and `TextView` setup as in the default tabs. Unfortunately it won&#39;t work out of box with `setupWithViewPager()` and similar functionalities, but that&#39;s just how it is for any custom tab `View`.","body":"If a custom <code>View</code> solution is acceptable, it turns out that we can do it relatively simply: <a href=\"https://drive.google.com/file/d/11DhxDQxWgNnubO7NHr8rR8oATshNnnvn/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/11DhxDQxWgNnubO7NHr8rR8oATshNnnvn/&hellip;</a>. That&#39;s the same <code>ImageView</code> and <code>TextView</code> setup as in the default tabs. Unfortunately it won&#39;t work out of box with <code>setupWithViewPager()</code> and similar functionalities, but that&#39;s just how it is for any custom tab <code>View</code>."}],"owner":{"account_id":15156081,"reputation":53,"user_id":10936838,"display_name":"GAMING INC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648908948,"creation_date":1648908948,"question_id":71718299,"body_markdown":"I&#39;m working on tablayout and I have created a drawable i.e. show logo for selected tabitem only and hide for rest. Since, drawable isn&#39;t loosing the dimension and @android:color/transparent still taking space which makes tablayout messy in terms of UX.\r\n\r\nbelow is my drawable code.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@drawable/selected_tab_icon&quot; /&gt;\r\n    &lt;item android:drawable=&quot;@android:color/transparent&quot; android:state_selected=&quot;false&quot; /&gt;\r\n&lt;/selector&gt;\r\n```\r\n\r\nIs there is any way by which I can hide those unselected tabs vacant spaces of transparent drawable?","title":"Tab icon should only be displayed when it is selected","body":"<p>I'm working on tablayout and I have created a drawable i.e. show logo for selected tabitem only and hide for rest. Since, drawable isn't loosing the dimension and @android:color/transparent still taking space which makes tablayout messy in terms of UX.</p>\n<p>below is my drawable code.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_selected=&quot;true&quot; android:drawable=&quot;@drawable/selected_tab_icon&quot; /&gt;\n    &lt;item android:drawable=&quot;@android:color/transparent&quot; android:state_selected=&quot;false&quot; /&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>Is there is any way by which I can hide those unselected tabs vacant spaces of transparent drawable?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":18365379,"reputation":117,"user_id":13376540,"display_name":"OneKe"},"score":0,"creation_date":1648883399,"post_id":71715322,"comment_id":126740704,"body_markdown":"You need to iterate through each position index of your Model. It only gets the last one or the first one in your case.\nAnd are your sure your push() method for random int is working properly?","body":"You need to iterate through each position index of your Model. It only gets the last one or the first one in your case. And are your sure your push() method for random int is working properly?"},{"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"score":0,"creation_date":1648883679,"post_id":71715322,"comment_id":126740740,"body_markdown":"Yes it is, which is the number beside Mark-Styles on the image. I put random numbers to avoid overriding it.  Can you give me more info or even a clue on how to iterate?","body":"Yes it is, which is the number beside Mark-Styles on the image. I put random numbers to avoid overriding it.  Can you give me more info or even a clue on how to iterate?"},{"owner":{"account_id":18365379,"reputation":117,"user_id":13376540,"display_name":"OneKe"},"score":0,"creation_date":1648885311,"post_id":71715322,"comment_id":126740969,"body_markdown":"You can declare the model as a List&lt;&gt; and use a for loop on your model. You can find more info on how to do it in the internet.","body":"You can declare the model as a List&lt;&gt; and use a for loop on your model. You can find more info on how to do it in the internet."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1648908965,"post_id":71715322,"comment_id":126744941,"body_markdown":"I&#39;m not sure I understand the problem. If you run this code in a debugger and step through it, which is the first line that doesn&#39;t do what you want it to do?","body":"I&#39;m not sure I understand the problem. If you run this code in a debugger and step through it, which is the first line that doesn&#39;t do what you want it to do?"},{"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"score":0,"creation_date":1648955116,"post_id":71715322,"comment_id":126752358,"body_markdown":"(Please Checked only the first name disregard the numbers and last name) \n\n\nWhat I did was I retrieve all children under info, which is John and Mark (Shows on the image above) to Firebase Recycler Adapter. Then I added some data on the Firebase Recycler Adapter (on the info data Mark and John), then I put the value under record, as you notice it shows only Mark. John wasn&#39;t added.","body":"(Please Checked only the first name disregard the numbers and last name)    What I did was I retrieve all children under info, which is John and Mark (Shows on the image above) to Firebase Recycler Adapter. Then I added some data on the Firebase Recycler Adapter (on the info data Mark and John), then I put the value under record, as you notice it shows only Mark. John wasn&#39;t added."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649061911,"post_id":71715322,"comment_id":126771860,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"score":0,"creation_date":1649064460,"post_id":71715322,"comment_id":126772761,"body_markdown":"The radio button selection is not working properly radioButtonAttendance()\n\nWhenever I use the radio button it will only affect the last item of the recyclerView.","body":"The radio button selection is not working properly radioButtonAttendance()  Whenever I use the radio button it will only affect the last item of the recyclerView."}],"owner":{"account_id":24511643,"reputation":29,"user_id":18425894,"display_name":"Rho"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648908677,"creation_date":1648880424,"question_id":71715322,"body_markdown":"I am working on an attendance app. Basically, I have already made the database of all the info needed and I can retrieve it to the firebase adapter. However, every time I tried to set the value on the attendance and send it to the other database it will only show one data.\r\n\r\nRecord show&#39;s only Mark (no John):\r\n![Record show&#39;s only Mark (no John)][1]\r\n\r\n[This is the attendance radio button][2]\r\n\r\n\r\n\r\n \r\n\r\n       optionAttendanceData = new FirebaseRecyclerOptions.Builder&lt;AttendanceCustom&gt;()\r\n        .setQuery(mQueryAttendanceData, AttendanceCustom.class).build();\r\n    \r\n        firebaseRecyclerAdapterAttendanceData = new FirebaseRecyclerAdapter&lt;AttendanceCustom, AttendanceDataCustomViewHolder&gt;(optionAttendanceData) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull AttendanceDataCustomViewHolder holder, int position, @NonNull AttendanceCustom model) {\r\n                \r\n                holder.setDetails(model.getFirstName(), model.getLastName());\r\n                firstName = model.getFirstName();\r\n                lastName = model.getLastName();\r\n                attendance = model.getAttendance();\r\n                description = model.getDesctiption();\r\n                date = model.getDate();\r\n                \r\n            }\r\n    \r\n            @NonNull\r\n            @Override\r\n            public AttendanceDataCustomViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                mViewAttendanceData = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_attendance_data, parent, false);\r\n                return new AttendanceDataCustomViewHolder(mViewAttendanceData);\r\n            }\r\n        };\r\n    \r\n        mRecyclerViewAttendanceData.setAdapter(firebaseRecyclerAdapterAttendanceData);\r\n        firebaseRecyclerAdapterAttendanceData.startListening();\r\n        firebaseRecyclerAdapterAttendanceData.notifyDataSetChanged();    \r\n    }\r\n    \r\n    public class AttendanceDataCustomViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        public AttendanceDataCustomViewHolder(View itemView) {\r\n            super(itemView);\r\n            mViewAttendanceData = itemView;            \r\n        }\r\n    \r\n        private void setDetails(String first, String last) {\r\n            TextView tv_first = mViewAttendanceData.findViewById(R.id.tv_attendance_data_first_name);\r\n            TextView tv_last = mViewAttendanceData.findViewById(R.id.tv_attendance_data_last_name);\r\n    \r\n            tv_first.setText(first);\r\n            tv_last.setText(last);\r\n            radioButtonAttendance();    \r\n        }\r\n    \r\n        public void sendData(){\r\n            randomNumber = random.nextInt(10000);\r\n            DatabaseReference dataRefAttendance = FirebaseDatabase.getInstance().getReference(&quot;Attendance&quot;).child(&quot;Record&quot;);\r\n            AttendanceCustom attendanceCustom = new AttendanceCustom(firstName, lastName, date, description, attendance, numberDate);\r\n            newKey = dataRefAttendance.child(&quot;Attendance&quot;).child(&quot;record&quot;).push().getKey();\r\n            dataRefAttendance.child(firstName + &quot;-&quot; + lastName + &quot;-&quot; + randomNumber).setValue(attendanceCustom);\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/TZ27b.png\r\n  [2]: https://i.stack.imgur.com/RC1Ko.png\r\n","title":"Is there any way to retrieve all data to the firebase Recycler Adapter, edit it then write it to another database?","body":"<p>I am working on an attendance app. Basically, I have already made the database of all the info needed and I can retrieve it to the firebase adapter. However, every time I tried to set the value on the attendance and send it to the other database it will only show one data.</p>\n<p>Record show's only Mark (no John):\n<img src=\"https://i.stack.imgur.com/TZ27b.png\" alt=\"Record show's only Mark (no John)\" /></p>\n<p><a href=\"https://i.stack.imgur.com/RC1Ko.png\" rel=\"nofollow noreferrer\">This is the attendance radio button</a></p>\n<pre><code>   optionAttendanceData = new FirebaseRecyclerOptions.Builder&lt;AttendanceCustom&gt;()\n    .setQuery(mQueryAttendanceData, AttendanceCustom.class).build();\n\n    firebaseRecyclerAdapterAttendanceData = new FirebaseRecyclerAdapter&lt;AttendanceCustom, AttendanceDataCustomViewHolder&gt;(optionAttendanceData) {\n        @Override\n        protected void onBindViewHolder(@NonNull AttendanceDataCustomViewHolder holder, int position, @NonNull AttendanceCustom model) {\n            \n            holder.setDetails(model.getFirstName(), model.getLastName());\n            firstName = model.getFirstName();\n            lastName = model.getLastName();\n            attendance = model.getAttendance();\n            description = model.getDesctiption();\n            date = model.getDate();\n            \n        }\n\n        @NonNull\n        @Override\n        public AttendanceDataCustomViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            mViewAttendanceData = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_attendance_data, parent, false);\n            return new AttendanceDataCustomViewHolder(mViewAttendanceData);\n        }\n    };\n\n    mRecyclerViewAttendanceData.setAdapter(firebaseRecyclerAdapterAttendanceData);\n    firebaseRecyclerAdapterAttendanceData.startListening();\n    firebaseRecyclerAdapterAttendanceData.notifyDataSetChanged();    \n}\n\npublic class AttendanceDataCustomViewHolder extends RecyclerView.ViewHolder {\n\n    public AttendanceDataCustomViewHolder(View itemView) {\n        super(itemView);\n        mViewAttendanceData = itemView;            \n    }\n\n    private void setDetails(String first, String last) {\n        TextView tv_first = mViewAttendanceData.findViewById(R.id.tv_attendance_data_first_name);\n        TextView tv_last = mViewAttendanceData.findViewById(R.id.tv_attendance_data_last_name);\n\n        tv_first.setText(first);\n        tv_last.setText(last);\n        radioButtonAttendance();    \n    }\n\n    public void sendData(){\n        randomNumber = random.nextInt(10000);\n        DatabaseReference dataRefAttendance = FirebaseDatabase.getInstance().getReference(&quot;Attendance&quot;).child(&quot;Record&quot;);\n        AttendanceCustom attendanceCustom = new AttendanceCustom(firstName, lastName, date, description, attendance, numberDate);\n        newKey = dataRefAttendance.child(&quot;Attendance&quot;).child(&quot;record&quot;).push().getKey();\n        dataRefAttendance.child(firstName + &quot;-&quot; + lastName + &quot;-&quot; + randomNumber).setValue(attendanceCustom);\n    }\n</code></pre>\n"},{"tags":["java","associations","aggregation"],"answers":[{"tags":[],"owner":{"display_name":"user18681550"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648908384,"creation_date":1648908384,"answer_id":71718233,"question_id":71441823,"body_markdown":"Not really. Aggregation is defined as a relationship between two objects where an object A &quot;uses&quot; an object B. A and B can exist independently. Furthermore, if A uses B, B can still be used by other objects. The aggregation relationship does not constitute an  exclusive binding between the used object and its user. Aggregation is usually presented in all those scenarios where an object provides a service and any other object can ask for it.\r\n\r\nOn the other hand, composition is defined as the relationship where an object A owns an Object B. In fact, B cannot exist without being &quot;owned&quot; by A; therefore it cannot live on its own (or it does not make sense to exist on its own). Composition describes all those situations where an object appears as another object&#39;s attribute.","title":"Is aggregatin include define that child ojbect can not belong to another parent object?","body":"<p>Not really. Aggregation is defined as a relationship between two objects where an object A &quot;uses&quot; an object B. A and B can exist independently. Furthermore, if A uses B, B can still be used by other objects. The aggregation relationship does not constitute an  exclusive binding between the used object and its user. Aggregation is usually presented in all those scenarios where an object provides a service and any other object can ask for it.</p>\n<p>On the other hand, composition is defined as the relationship where an object A owns an Object B. In fact, B cannot exist without being &quot;owned&quot; by A; therefore it cannot live on its own (or it does not make sense to exist on its own). Composition describes all those situations where an object appears as another object's attribute.</p>\n"}],"owner":{"account_id":18062525,"reputation":3,"user_id":13129676,"display_name":"theUnbrakableDiamond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71718233,"answer_count":1,"score":0,"last_activity_date":1648908384,"creation_date":1647016893,"question_id":71441823,"body_markdown":"I find difine aggregation as &quot;We call aggregation those relationships whose objects have an independent lifecycle, but there are ownership, and child object can not belong to another parent object.&quot; &lt;br&gt;\r\nAnd i interested about &quot;child object can not belong to another parent object&quot;, is that true ?\r\n\r\nLink on defenition: https://github.com/learning-zone/java-interview-questions#:~:text=What%20is%20the%20difference%20between%20aggregation%20and%20composition%3F","title":"Is aggregatin include define that child ojbect can not belong to another parent object?","body":"<p>I find difine aggregation as &quot;We call aggregation those relationships whose objects have an independent lifecycle, but there are ownership, and child object can not belong to another parent object.&quot; <br>\nAnd i interested about &quot;child object can not belong to another parent object&quot;, is that true ?</p>\n<p>Link on defenition: <a href=\"https://github.com/learning-zone/java-interview-questions#:%7E:text=What%20is%20the%20difference%20between%20aggregation%20and%20composition%3F\" rel=\"nofollow noreferrer\">https://github.com/learning-zone/java-interview-questions#:~:text=What%20is%20the%20difference%20between%20aggregation%20and%20composition%3F</a></p>\n"},{"tags":["java","docker","maven","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1648907329,"post_id":71718045,"comment_id":126744591,"body_markdown":"That error says to me that some `acs/target/something.jar` file exists on the host, but there is not an `acs/target/dependency/` directory (both relative to the directory argument of `docker build`, frequently the directory containing the Dockerfile).  Do you need to run some sort of build step outside of Docker?","body":"That error says to me that some <code>acs&#47;target&#47;something.jar</code> file exists on the host, but there is not an <code>acs&#47;target&#47;dependency&#47;</code> directory (both relative to the directory argument of <code>docker build</code>, frequently the directory containing the Dockerfile).  Do you need to run some sort of build step outside of Docker?"},{"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"score":0,"creation_date":1648907556,"post_id":71718045,"comment_id":126744632,"body_markdown":"Well, no. It is supposed to work just like that. @DavidMaze","body":"Well, no. It is supposed to work just like that. @DavidMaze"}],"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648908547,"answer_count":0,"score":0,"last_activity_date":1648907187,"creation_date":1648906877,"question_id":71718045,"body_markdown":"I have a Java Maven application which I used to be able to successfully build with a dockerfile but somehow now it does not work and gives me this exception: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n     &gt; [14/14] COPY acs/target/dependency/ /src/lib:\r\n    ------\r\n    failed to compute cache key: &quot;/acs/target/dependency&quot; not found: not found\r\n\r\n\r\nHere is my Dockerfile: \r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    #Required\r\n    FROM eclipse-temurin:16\r\n\r\n    # The jar file that will be run. This is a result of the build process\r\n    ARG JAR_FILE=target/*.jar\r\n\r\n    # The dependencies folder for all maven dependencies\r\n    ARG DEPENDENCIES=target/dependency/\r\n\r\n    # Make a directory for the jar\r\n    RUN mkdir /src\r\n\r\n    # Make a directory for the dependencies\r\n    RUN mkdir /src/lib\r\n\r\n    RUN echo &quot;$PWD&quot;\r\n\r\n    #Make a directoryfor the ServerConfig file \r\n    RUN mkdir -p /src/main/resources\r\n    #Echo Jar File\r\n    RUN echo $JAR_FILE\r\n\r\n    # Copy the jar from it&#39;s original location to the docker container\r\n    COPY acs/${JAR_FILE} /src/jar/\r\n    #Echo Jar File\r\n    RUN echo $(ls -1 /src/jar/)\r\n\r\n\r\n    RUN echo pwd\r\n\r\n    # Copy all of the dependencies of the jar to the docker container\r\n    COPY acs/${DEPENDENCIES} /src/lib\r\n\r\n    # The entry point is the command the docker container will run when it start, so in this case it will start the jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/src/jar/acs-latest.jar&quot;]\r\n\r\nCould you tell me why this happens? ","title":"How to resolve &quot;failed to compute cache key: not found&quot; in docker?","body":"<p>I have a Java Maven application which I used to be able to successfully build with a dockerfile but somehow now it does not work and gives me this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code> &gt; [14/14] COPY acs/target/dependency/ /src/lib:\n------\nfailed to compute cache key: &quot;/acs/target/dependency&quot; not found: not found\n</code></pre>\n<p>Here is my Dockerfile:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#Required\nFROM eclipse-temurin:16\n\n# The jar file that will be run. This is a result of the build process\nARG JAR_FILE=target/*.jar\n\n# The dependencies folder for all maven dependencies\nARG DEPENDENCIES=target/dependency/\n\n# Make a directory for the jar\nRUN mkdir /src\n\n# Make a directory for the dependencies\nRUN mkdir /src/lib\n\nRUN echo &quot;$PWD&quot;\n\n#Make a directoryfor the ServerConfig file \nRUN mkdir -p /src/main/resources\n#Echo Jar File\nRUN echo $JAR_FILE\n\n# Copy the jar from it's original location to the docker container\nCOPY acs/${JAR_FILE} /src/jar/\n#Echo Jar File\nRUN echo $(ls -1 /src/jar/)\n\n\nRUN echo pwd\n\n# Copy all of the dependencies of the jar to the docker container\nCOPY acs/${DEPENDENCIES} /src/lib\n\n# The entry point is the command the docker container will run when it start, so in this case it will start the jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/src/jar/acs-latest.jar&quot;]\n</code></pre>\n<p>Could you tell me why this happens?</p>\n"},{"tags":["java","swing","icons","jtableheader"],"comments":[{"owner":{"account_id":1886487,"reputation":396557,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":0,"creation_date":1412152485,"post_id":26137199,"comment_id":40968176,"body_markdown":"Show us what code you have so far. Try to post an [MCVE](https://stackoverflow.com/help/mcve).","body":"Show us what code you have so far. Try to post an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1412152738,"post_id":26137199,"comment_id":40968307,"body_markdown":"Can set the default `TableCellRenderer` used by the `JTable`&#39;s `JTableHeader` which will affect all the columns, or you can specify the `TableCellRenderer` for a give `TableColumn` via the `setHeaderRenderer` method, your choice...","body":"Can set the default <code>TableCellRenderer</code> used by the <code>JTable</code>&#39;s <code>JTableHeader</code> which will affect all the columns, or you can specify the <code>TableCellRenderer</code> for a give <code>TableColumn</code> via the <code>setHeaderRenderer</code> method, your choice..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1412153039,"post_id":26137199,"comment_id":40968454,"body_markdown":"Are the images you use in the classpath?","body":"Are the images you use in the classpath?"},{"owner":{"account_id":3981068,"reputation":75,"user_id":3282936,"accept_rate":40,"display_name":"Alessandro"},"score":0,"creation_date":1412153155,"post_id":26137199,"comment_id":40968509,"body_markdown":"@icza , I tried the code in my original post&#39;s link.","body":"@icza , I tried the code in my original post&#39;s link."},{"owner":{"account_id":3981068,"reputation":75,"user_id":3282936,"accept_rate":40,"display_name":"Alessandro"},"score":0,"creation_date":1412153203,"post_id":26137199,"comment_id":40968529,"body_markdown":"@Jens , yes they are","body":"@Jens , yes they are"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1412153313,"post_id":26137199,"comment_id":40968589,"body_markdown":"@Bellic93 If you try to open the file in a `FileInputStream` is that file found?","body":"@Bellic93 If you try to open the file in a <code>FileInputStream</code> is that file found?"},{"owner":{"account_id":3981068,"reputation":75,"user_id":3282936,"accept_rate":40,"display_name":"Alessandro"},"score":0,"creation_date":1412153740,"post_id":26137199,"comment_id":40968780,"body_markdown":"@Jens absolutely yes. I&#39;m using a lot of .png in my project and they are all found by the program. I think that the `TableCellRenderer` linked in my post is wrong.","body":"@Jens absolutely yes. I&#39;m using a lot of .png in my project and they are all found by the program. I think that the <code>TableCellRenderer</code> linked in my post is wrong."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1412153870,"post_id":26137199,"comment_id":40968855,"body_markdown":"@Bellic93 I have tried the example by my own and it works fine. So the renderer should be ok.","body":"@Bellic93 I have tried the example by my own and it works fine. So the renderer should be ok."}],"answers":[{"tags":[],"owner":{"account_id":4946843,"reputation":99,"user_id":3981973,"display_name":"Shomeis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1412251196,"creation_date":1412251196,"answer_id":26160328,"question_id":26137199,"body_markdown":"Your link is good code , but in fact when you load a picture using absolute path or relative path , this code is not portable .So it is better to load picture from a class. Levels :\r\n1) Create a empty class with this name : ImageResources\r\n2) Please copy your picture \r\n3) Please find ImageResources class in package explorer (in eclipse)  and do right click on it (ImageResources) and press &quot;Paste&quot; menuItem.\r\n4) Finally you need a small change in your code like this\r\n\r\n    ImageIcon blueIcon = new ImageIcon(ImageResources.class.getResource(yourPictureName));\r\n\r\n \r\nIt is working :)\r\n\t","title":"JTable, how can I put icons in the header?","body":"<p>Your link is good code , but in fact when you load a picture using absolute path or relative path , this code is not portable .So it is better to load picture from a class. Levels :\n1) Create a empty class with this name : ImageResources\n2) Please copy your picture \n3) Please find ImageResources class in package explorer (in eclipse)  and do right click on it (ImageResources) and press \"Paste\" menuItem.\n4) Finally you need a small change in your code like this</p>\n\n<pre><code>ImageIcon blueIcon = new ImageIcon(ImageResources.class.getResource(yourPictureName));\n</code></pre>\n\n<p>It is working :)</p>\n"},{"tags":[],"owner":{"account_id":2679536,"reputation":667,"user_id":2315166,"display_name":"garish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596781489,"creation_date":1596781489,"answer_id":63296337,"question_id":26137199,"body_markdown":" Below method worked for me.\r\n \r\n   \r\n\r\n     MyTable.getColumn(&quot;ColumnName&quot;).setHeaderRenderer(new TableCellRenderer() {\r\n            @Override\r\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                   return new JLabel(new ImageIcon(getClass().getResource(&quot;/project/img/ImgName.png&quot;)));\r\n            }\r\n        });","title":"JTable, how can I put icons in the header?","body":"<p>Below method worked for me.</p>\n<pre><code> MyTable.getColumn(&quot;ColumnName&quot;).setHeaderRenderer(new TableCellRenderer() {\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n               return new JLabel(new ImageIcon(getClass().getResource(&quot;/project/img/ImgName.png&quot;)));\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8593536,"reputation":301,"user_id":6437347,"display_name":"F. Weise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648906937,"creation_date":1648906937,"answer_id":71718055,"question_id":26137199,"body_markdown":"The question is a bit older, but I was only now faced with the same question.\r\n\r\nAnother approach is to override the TableModel&#39;s `getColumnName` function. **HTML formatted text is supported**.\r\n\r\n[![Example][1]][1]\r\n\r\nHere is the sample code:\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.WindowConstants;\r\n    import javax.swing.table.AbstractTableModel;\r\n    import javax.swing.table.TableModel;\r\n    \r\n    public class TableColumnHeaderIcon {\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n               \r\n                TableModel tableModel = new AbstractTableModel() {\r\n                    \r\n                    @Override\r\n                    public String getColumnName(int columnIndex) {\r\n                        \r\n                        // Build the html formatted text\r\n                        StringBuilder sb = new StringBuilder();           \r\n                        sb.append(&quot;&lt;html&gt;&quot;);\r\n                            sb.append(&quot;&lt;img src=\\&quot;https://via.placeholder.com/16/007AAE/\\&quot;&gt;&quot;);\r\n                            sb.append(&quot;&amp;nbsp;Column Title&quot;);\r\n                        sb.append(&quot;&lt;/html&gt;&quot;);\r\n                        \r\n                        return sb.toString();\r\n                    }\r\n                    \r\n                    @Override\r\n                    public int getColumnCount() {\r\n                        return 1;\r\n                    }\r\n                    \r\n                    @Override\r\n                    public int getRowCount() {\r\n                        return 0; // No data required\r\n                    }                \r\n    \r\n                    @Override\r\n                    public Object getValueAt(int i, int i1) {\r\n                        return null; // No data required\r\n                    }\r\n                };\r\n                \r\n                // Setup UI\r\n                \r\n                JScrollPane scrollPaneTable = new JScrollPane();\r\n                JTable table = new JTable(tableModel);\r\n                scrollPaneTable.setViewportView(table);\r\n                \r\n                JFrame mdi = new JFrame(&quot;Test JTable Column Header with Icon&quot;);\r\n                mdi.setSize(600, 400);\r\n                mdi.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n                mdi.add(scrollPaneTable);\r\n                \r\n                mdi.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/ljZqL.png","title":"JTable, how can I put icons in the header?","body":"<p>The question is a bit older, but I was only now faced with the same question.</p>\n<p>Another approach is to override the TableModel's <code>getColumnName</code> function. <strong>HTML formatted text is supported</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/ljZqL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ljZqL.png\" alt=\"Example\" /></a></p>\n<p>Here is the sample code:</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\nimport javax.swing.table.AbstractTableModel;\nimport javax.swing.table.TableModel;\n\npublic class TableColumnHeaderIcon {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n           \n            TableModel tableModel = new AbstractTableModel() {\n                \n                @Override\n                public String getColumnName(int columnIndex) {\n                    \n                    // Build the html formatted text\n                    StringBuilder sb = new StringBuilder();           \n                    sb.append(&quot;&lt;html&gt;&quot;);\n                        sb.append(&quot;&lt;img src=\\&quot;https://via.placeholder.com/16/007AAE/\\&quot;&gt;&quot;);\n                        sb.append(&quot;&amp;nbsp;Column Title&quot;);\n                    sb.append(&quot;&lt;/html&gt;&quot;);\n                    \n                    return sb.toString();\n                }\n                \n                @Override\n                public int getColumnCount() {\n                    return 1;\n                }\n                \n                @Override\n                public int getRowCount() {\n                    return 0; // No data required\n                }                \n\n                @Override\n                public Object getValueAt(int i, int i1) {\n                    return null; // No data required\n                }\n            };\n            \n            // Setup UI\n            \n            JScrollPane scrollPaneTable = new JScrollPane();\n            JTable table = new JTable(tableModel);\n            scrollPaneTable.setViewportView(table);\n            \n            JFrame mdi = new JFrame(&quot;Test JTable Column Header with Icon&quot;);\n            mdi.setSize(600, 400);\n            mdi.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            mdi.add(scrollPaneTable);\n            \n            mdi.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3981068,"reputation":75,"user_id":3282936,"accept_rate":40,"display_name":"Alessandro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26160328,"answer_count":3,"score":0,"last_activity_date":1648906937,"creation_date":1412152220,"question_id":26137199,"body_markdown":"i&#39;m trying to render some icons in a JTable header without success. I&#39;ve already tried something like this: http://www.java2s.com/Tutorial/Java/0240__Swing/CustomizingColumnHeaderswithIcons.htm\r\nbut it doesn&#39;t show any icon in the header. How can I reach this goal?","title":"JTable, how can I put icons in the header?","body":"<p>i'm trying to render some icons in a JTable header without success. I've already tried something like this: <a href=\"http://www.java2s.com/Tutorial/Java/0240__Swing/CustomizingColumnHeaderswithIcons.htm\" rel=\"nofollow\">http://www.java2s.com/Tutorial/Java/0240__Swing/CustomizingColumnHeaderswithIcons.htm</a>\nbut it doesn't show any icon in the header. How can I reach this goal?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648906877,"creation_date":1648906877,"answer_id":71718044,"question_id":71717916,"body_markdown":"You will need to read all objects from the original file and then write a new file containing only the objects you want to retain or update.\r\n\r\nThe Java serialized object stream format is not an archive file format like ZIP, JAR, TAR and so on.  It is just a sequence of serialized objects.  There is no &quot;index&quot; that would facilitate updating or deleting objects.\r\n\r\nThis is one reason why serialized objects are not a good way to implement data persistence.  This is what databases are designed for.\r\n","title":"Update Serialized Object in Java","body":"<p>You will need to read all objects from the original file and then write a new file containing only the objects you want to retain or update.</p>\n<p>The Java serialized object stream format is not an archive file format like ZIP, JAR, TAR and so on.  It is just a sequence of serialized objects.  There is no &quot;index&quot; that would facilitate updating or deleting objects.</p>\n<p>This is one reason why serialized objects are not a good way to implement data persistence.  This is what databases are designed for.</p>\n"}],"owner":{"account_id":19950366,"reputation":77,"user_id":14620176,"display_name":"Joseph Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648906877,"creation_date":1648905794,"question_id":71717916,"body_markdown":"Is there a way to read a serialized object from a .ser file and update or delete one of the objects that have been serialized?\r\n\r\nThe following is my code which read&#39;s in objects of type &#39;Driver&#39;:\r\n\r\n\tpublic boolean checkPassword(String userName, String password, String depot) throws IOException {\t\t\r\n\t\tFileInputStream fileIn = new FileInputStream(&quot;Drivers.ser&quot;);\r\n        ObjectInputStream in = new ObjectInputStream(fileIn);\r\n                   \r\n        try\r\n        {       \t\r\n\t        while (true) {\t        \t\r\n\t        \tDriver d = (Driver) in.readObject();\r\n\t        \t\r\n\t        \tif (d.userName.equals(userName) &amp;&amp; d.password.equals(password) &amp;&amp; d.depot.equals(depot)) \r\n\t        \t{\r\n\t        \t\tthis.isManager = d.isManager;\r\n\t        \t\tvalidAccount = true;\r\n\t        \t}\r\n\t        }\r\n        }\r\n        catch (Exception e) {}  \r\n        \r\n        return validAccount;\r\n\t}","title":"Update Serialized Object in Java","body":"<p>Is there a way to read a serialized object from a .ser file and update or delete one of the objects that have been serialized?</p>\n<p>The following is my code which read's in objects of type 'Driver':</p>\n<pre><code>public boolean checkPassword(String userName, String password, String depot) throws IOException {       \n    FileInputStream fileIn = new FileInputStream(&quot;Drivers.ser&quot;);\n    ObjectInputStream in = new ObjectInputStream(fileIn);\n               \n    try\n    {           \n        while (true) {              \n            Driver d = (Driver) in.readObject();\n            \n            if (d.userName.equals(userName) &amp;&amp; d.password.equals(password) &amp;&amp; d.depot.equals(depot)) \n            {\n                this.isManager = d.isManager;\n                validAccount = true;\n            }\n        }\n    }\n    catch (Exception e) {}  \n    \n    return validAccount;\n}\n</code></pre>\n"},{"tags":["java","memory-mapping"],"comments":[{"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"score":3,"creation_date":1245668974,"post_id":1023200,"comment_id":836443,"body_markdown":"benchmark and post the results, even if an expert can point you in one direction that direction might not work for your situation. Benchmark!!!!","body":"benchmark and post the results, even if an expert can point you in one direction that direction might not work for your situation. Benchmark!!!!"}],"answers":[{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245564284,"creation_date":1245564284,"answer_id":1023303,"question_id":1023200,"body_markdown":"Using the ByteBuffer.wrap() functionality does not impose a high burden.  It allocates a simple object and initializes a few integers.  Writing your algorithm against ByteBuffer is thus your best bet if you need to work with read only files.","title":"Memory-mapped files in Java","body":"<p>Using the ByteBuffer.wrap() functionality does not impose a high burden.  It allocates a simple object and initializes a few integers.  Writing your algorithm against ByteBuffer is thus your best bet if you need to work with read only files.</p>\n"},{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245564480,"creation_date":1245564480,"answer_id":1023304,"question_id":1023200,"body_markdown":"Wrapping byte[] won&#39;t slow things down...there won&#39;t be any huge array copies or other little performance evils.  From the JavaDocs: [java.nio.ByteBuffer\r\n.wrap()][1]\r\n\r\n&gt; Wraps a byte array into a buffer.\r\n&gt; \r\n&gt; **The new buffer will be backed by the the given byte array;** that is,\r\n&gt; modifications to the buffer will cause\r\n&gt; the array to be modified and vice\r\n&gt; versa. The new buffer&#39;s capacity and\r\n&gt; limit will be array.length, its\r\n&gt; position will be zero, and its mark\r\n&gt; will be undefined. Its backing array\r\n&gt; will be the given array, and its array\r\n&gt; offset will be zero.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/nio/ByteBuffer.html#wrap(byte[])","title":"Memory-mapped files in Java","body":"<p>Wrapping byte[] won't slow things down...there won't be any huge array copies or other little performance evils.  From the JavaDocs: <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/nio/ByteBuffer.html#wrap(byte[])\" rel=\"nofollow noreferrer\">java.nio.ByteBuffer\n.wrap()</a></p>\n\n<blockquote>\n  <p>Wraps a byte array into a buffer.</p>\n  \n  <p><strong>The new buffer will be backed by the the given byte array;</strong> that is,\n  modifications to the buffer will cause\n  the array to be modified and vice\n  versa. The new buffer's capacity and\n  limit will be array.length, its\n  position will be zero, and its mark\n  will be undefined. Its backing array\n  will be the given array, and its array\n  offset will be zero.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":42000,"reputation":744,"user_id":122221,"accept_rate":93,"display_name":"Gaurav Saini"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1245667859,"creation_date":1245565883,"answer_id":1023322,"question_id":1023200,"body_markdown":"Its always good not to reinvent the wheels.\r\nApache has provided a beautiful library for performing I/O operations. Take a look at  [http://commons.apache.org/io/description.html][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/io/description.html\r\n\r\nHere&#39;s the scenario it serves. Suppose you have some data that you&#39;d\r\nprefer to keep in memory, but you don&#39;t know ahead of time how much data\r\nthere is going to be. If there&#39;s too much, you want to write it to disk\r\ninstead of hogging memory, but you don&#39;t want to write to disk until you\r\nneed to, because disk is slow and is a resource that needs tracking for\r\ncleanup.\r\n\r\nSo you create a temporary buffer and start writing to that. If / when you\r\nreach the threshold for what you want to keep in memory, you&#39;ll need to\r\ncreate a file, write out what&#39;s in the buffer to that file, and write all\r\nsubsequent data to the file instead of the buffer.\r\n\r\nThat&#39;s what ***DeferredOutputStream*** does for you. It hides all the messing\r\naround at the point of switch-over. All you need to do is create the\r\ndeferred stream in the first place, configure the threshold, and then just\r\nwrite away to your heart&#39;s content.\r\n\r\nEDIT: I just did a small re-search using google and found this link:\r\nhttp://lists.apple.com/archives/java-dev/2004/Apr/msg00086.html\r\n(Lightning fast file read/write). Very impressive.","title":"Memory-mapped files in Java","body":"<p>Its always good not to reinvent the wheels.\nApache has provided a beautiful library for performing I/O operations. Take a look at  <a href=\"http://commons.apache.org/io/description.html\" rel=\"noreferrer\">http://commons.apache.org/io/description.html</a></p>\n\n<p>Here's the scenario it serves. Suppose you have some data that you'd\nprefer to keep in memory, but you don't know ahead of time how much data\nthere is going to be. If there's too much, you want to write it to disk\ninstead of hogging memory, but you don't want to write to disk until you\nneed to, because disk is slow and is a resource that needs tracking for\ncleanup.</p>\n\n<p>So you create a temporary buffer and start writing to that. If / when you\nreach the threshold for what you want to keep in memory, you'll need to\ncreate a file, write out what's in the buffer to that file, and write all\nsubsequent data to the file instead of the buffer.</p>\n\n<p>That's what <strong><em>DeferredOutputStream</em></strong> does for you. It hides all the messing\naround at the point of switch-over. All you need to do is create the\ndeferred stream in the first place, configure the threshold, and then just\nwrite away to your heart's content.</p>\n\n<p>EDIT: I just did a small re-search using google and found this link:\n<a href=\"http://lists.apple.com/archives/java-dev/2004/Apr/msg00086.html\" rel=\"noreferrer\">http://lists.apple.com/archives/java-dev/2004/Apr/msg00086.html</a>\n(Lightning fast file read/write). Very impressive.</p>\n"},{"tags":[],"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1247689645,"creation_date":1247689645,"answer_id":1133799,"question_id":1023200,"body_markdown":"Did anyone actually check to see if `ByteBuffers` created by memory mapping support invoking `.array()` in the first place, regardless of readonly/readwrite?\r\n\r\nFrom my poking around, as far as I can tell, the answer is **NO**.  A `ByteBuffer`&#39;s ability to return a direct `byte[]` array via `ByteBuffer.array()` is goverened by the presence of `ByteBuffer.hb` (`byte[]`), which is always set to null when a `MappedByteBuffer` is created.\r\n\r\nWhich kinda sucks for me, because I was hoping to do something similar to what the question author wanted to do.\r\n","title":"Memory-mapped files in Java","body":"<p>Did anyone actually check to see if <code>ByteBuffers</code> created by memory mapping support invoking <code>.array()</code> in the first place, regardless of readonly/readwrite?</p>\n\n<p>From my poking around, as far as I can tell, the answer is <strong>NO</strong>.  A <code>ByteBuffer</code>'s ability to return a direct <code>byte[]</code> array via <code>ByteBuffer.array()</code> is goverened by the presence of <code>ByteBuffer.hb</code> (<code>byte[]</code>), which is always set to null when a <code>MappedByteBuffer</code> is created.</p>\n\n<p>Which kinda sucks for me, because I was hoping to do something similar to what the question author wanted to do.</p>\n"}],"owner":{"account_id":21138,"reputation":28710,"user_id":51167,"accept_rate":90,"display_name":"vy32"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26449,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":1133799,"answer_count":4,"score":8,"last_activity_date":1648905981,"creation_date":1245558443,"question_id":1023200,"body_markdown":"I&#39;ve been trying to write some very fast Java code that has to do a lot of I/O. I&#39;m using a memory mapped file that returns a ByteBuffer:\r\n\r\n    public static ByteBuffer byteBufferForFile(String fname){\r\n        FileChannel vectorChannel;\r\n        ByteBuffer vector;\r\n        try {\r\n            vectorChannel = new FileInputStream(fname).getChannel();\r\n        } catch (FileNotFoundException e1) {\r\n            e1.printStackTrace();\r\n            return null;\r\n        }\r\n        try {\r\n            vector = vectorChannel.map(MapMode.READ_ONLY,0,vectorChannel.size());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return vector;\r\n    }\r\n\r\nThe problem that I&#39;m having is that the `ByteBuffer` `.array()` method (which should return a `byte[]` array) doesn&#39;t work for read-only files. I want to write my code so that it will work with both memory buffers constructed in memory and buffers read from the disk. But I don&#39;t want to wrap all of my buffers a `ByteBuffer.wrap()` function because I&#39;m worried that this will slow things down. So I&#39;ve been writing two versions of everything, one that takes a `byte[]`, the other that takes a `ByteBuffer`.\r\n\r\nShould I just wrap everything? Or should I double-write everything?\r\n","title":"Memory-mapped files in Java","body":"<p>I've been trying to write some very fast Java code that has to do a lot of I/O. I'm using a memory mapped file that returns a ByteBuffer:</p>\n<pre><code>public static ByteBuffer byteBufferForFile(String fname){\n    FileChannel vectorChannel;\n    ByteBuffer vector;\n    try {\n        vectorChannel = new FileInputStream(fname).getChannel();\n    } catch (FileNotFoundException e1) {\n        e1.printStackTrace();\n        return null;\n    }\n    try {\n        vector = vectorChannel.map(MapMode.READ_ONLY,0,vectorChannel.size());\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n    return vector;\n}\n</code></pre>\n<p>The problem that I'm having is that the <code>ByteBuffer</code> <code>.array()</code> method (which should return a <code>byte[]</code> array) doesn't work for read-only files. I want to write my code so that it will work with both memory buffers constructed in memory and buffers read from the disk. But I don't want to wrap all of my buffers a <code>ByteBuffer.wrap()</code> function because I'm worried that this will slow things down. So I've been writing two versions of everything, one that takes a <code>byte[]</code>, the other that takes a <code>ByteBuffer</code>.</p>\n<p>Should I just wrap everything? Or should I double-write everything?</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":0,"creation_date":1647698565,"post_id":71538658,"comment_id":126438716,"body_markdown":"Hi, I don&#39; t know if this is the good way (i need to see all the code). I see that you are using mySql. By default mySql can handle up to 151 connections. If you want to know more about MAX_CONNECTIONS and how to modify them, check [this](https://ubiq.co/database-blog/how-to-increase-max-connections-in-mysql/#:~:text=How%20Many%20Connections%20can%20MySQL,in%20server%20variable%20called%20max_connections)","body":"Hi, I don&#39; t know if this is the good way (i need to see all the code). I see that you are using mySql. By default mySql can handle up to 151 connections. If you want to know more about MAX_CONNECTIONS and how to modify them, check <a href=\"https://ubiq.co/database-blog/how-to-increase-max-connections-in-mysql/#:~:text=How%20Many%20Connections%20can%20MySQL,in%20server%20variable%20called%20max_connections\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user18681091"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648905927,"creation_date":1648905927,"answer_id":71717933,"question_id":71538658,"body_markdown":"The DBMS cannot accept infinite number of connections. In your installation folder there surely is a configuration file where you can establish the maximum number of connections. \r\n\r\nFor example, PostgreSQL stores its config under &quot;C:\\Program Files\\PostgreSQL\\&lt;version&gt;\\data\\postgresql.conf&quot; on Windows. The parameter in question is called &quot;max_connections&quot; and the PostgreSQL service needs to be restarted after changing the file.\r\n\r\nFurthermore, as you mentioned in your question, most connections in idle will be terminated before accepting a new one, resulting in your count variable to overflow at some point.","title":"How many times can I disconnect without database operation after JDBC connection","body":"<p>The DBMS cannot accept infinite number of connections. In your installation folder there surely is a configuration file where you can establish the maximum number of connections.</p>\n<p>For example, PostgreSQL stores its config under &quot;C:\\Program Files\\PostgreSQL&lt;version&gt;\\data\\postgresql.conf&quot; on Windows. The parameter in question is called &quot;max_connections&quot; and the PostgreSQL service needs to be restarted after changing the file.</p>\n<p>Furthermore, as you mentioned in your question, most connections in idle will be terminated before accepting a new one, resulting in your count variable to overflow at some point.</p>\n"}],"owner":{"account_id":24611277,"reputation":1,"user_id":18512837,"display_name":"runoob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648905927,"creation_date":1647697560,"question_id":71538658,"body_markdown":"    int count = 0;\r\n    while(true) {\r\n        try{\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n            Connection conn = (Connection)DriverManager.getConnection(url);\r\n              \r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        count++;\r\n    }\r\n\r\nI try to use this code to measure the maximum number of connections to the database, but the the Threads_connected of database increases first and then decreases. I found that when Threads_connected reaches a number, it suddenly becomes 0, then increases, so count will always increase. Why?","title":"How many times can I disconnect without database operation after JDBC connection","body":"<pre><code>int count = 0;\nwhile(true) {\n    try{\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n        Connection conn = (Connection)DriverManager.getConnection(url);\n          \n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n    count++;\n}\n</code></pre>\n<p>I try to use this code to measure the maximum number of connections to the database, but the the Threads_connected of database increases first and then decreases. I found that when Threads_connected reaches a number, it suddenly becomes 0, then increases, so count will always increase. Why?</p>\n"},{"tags":["java","algorithm","time","time-complexity"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1648776050,"post_id":71700630,"comment_id":126716327,"body_markdown":"It&#39;s hard to see why you think it *wouldn&#39;t* be O(N) time.","body":"It&#39;s hard to see why you think it <i>wouldn&#39;t</i> be O(N) time."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648779064,"post_id":71700630,"comment_id":126716717,"body_markdown":"Remember that O(N+M) *is* O(N)","body":"Remember that O(N+M) <i>is</i> O(N)"},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1648800215,"post_id":71700630,"comment_id":126720830,"body_markdown":"&quot;isSubstring runs in O(N+M) time&quot; means &quot;isSubstring(s, t) runs in O(len(s) + len(t)) time&quot;. I think you&#39;re confused because you&#39;re using N to mean two different things: the length of the input strings if they&#39;re equal), but also the length of an argument to isSubstring.","body":"&quot;isSubstring runs in O(N+M) time&quot; means &quot;isSubstring(s, t) runs in O(len(s) + len(t)) time&quot;. I think you&#39;re confused because you&#39;re using N to mean two different things: the length of the input strings if they&#39;re equal), but also the length of an argument to isSubstring."}],"answers":[{"tags":[],"owner":{"account_id":22225881,"reputation":198,"user_id":16462842,"display_name":"korzck"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648905476,"creation_date":1648905476,"answer_id":71717880,"question_id":71700630,"body_markdown":"Usually when we say linear it means that with really really big number of basic operations our algorithm still performs in *O(n)*. According to time complexity calculation of [sublinear][1] function like *O(n+m)* complexity gets pretty randomized but behaves like linear with large N. So generally we can say *O(n)~O(n+m)*.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Time_complexity#Sub-linear_time\r\n  [2]: https://i.stack.imgur.com/WBmKA.png","title":"Time complexity of isRotation algorithm","body":"<p>Usually when we say linear it means that with really really big number of basic operations our algorithm still performs in <em>O(n)</em>. According to time complexity calculation of <a href=\"https://en.wikipedia.org/wiki/Time_complexity#Sub-linear_time\" rel=\"nofollow noreferrer\">sublinear</a> function like <em>O(n+m)</em> complexity gets pretty randomized but behaves like linear with large N. So generally we can say <em>O(n)~O(n+m)</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/WBmKA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WBmKA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15787188,"reputation":21,"user_id":18650099,"display_name":"Steven S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648905476,"creation_date":1648774259,"question_id":71700630,"body_markdown":"This common code is said to run in O(N) time assuming isSubstring runs in O(N+M) time. \r\nHow do we get O(N) time complexity from this?\r\n```\r\n\tpublic static boolean isRotation(String s1, String s2) {\r\n\t    int len = s1.length();\r\n\t    if (len == s2.length() &amp;&amp; len &gt; 0) { \r\n\t    \tString s1s1 = s1 + s1;\r\n\t    \treturn isSubstring(s1s1, s2);\r\n\t    }\r\n\t    return false;\r\n\t}\r\n```","title":"Time complexity of isRotation algorithm","body":"<p>This common code is said to run in O(N) time assuming isSubstring runs in O(N+M) time.\nHow do we get O(N) time complexity from this?</p>\n<pre><code>    public static boolean isRotation(String s1, String s2) {\n        int len = s1.length();\n        if (len == s2.length() &amp;&amp; len &gt; 0) { \n            String s1s1 = s1 + s1;\n            return isSubstring(s1s1, s2);\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","oop","inheritance","overriding"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1648904796,"post_id":71717772,"comment_id":126744056,"body_markdown":"You need generics. `BaseRepository&lt;T extend Entity&gt;` and `save(T entity)`.","body":"You need generics. <code>BaseRepository&lt;T extend Entity&gt;</code> and <code>save(T entity)</code>."},{"owner":{"account_id":24529372,"reputation":320,"user_id":18441431,"display_name":"Rob"},"score":0,"creation_date":1648904949,"post_id":71717772,"comment_id":126744086,"body_markdown":"Try to remove &#39;@Override&#39; tag","body":"Try to remove &#39;@Override&#39; tag"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1648905091,"post_id":71717772,"comment_id":126744114,"body_markdown":"@Rob that could work, but you can&#39;t call `save` on a `BaseRepository` reference . And you still need to implement `save(Entity)` because the interface still declares it.","body":"@Rob that could work, but you can&#39;t call <code>save</code> on a <code>BaseRepository</code> reference . And you still need to implement <code>save(Entity)</code> because the interface still declares it."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648904904,"creation_date":1648904904,"answer_id":71717814,"question_id":71717772,"body_markdown":"An overriding method must:\r\n* have the exact same name\r\n* have the exact same argument types; sub types won&#39;t work!\r\n* have a visibility that is the same or broader (so protected -&gt; public is allowed, protected -&gt; private isn&#39;t)\r\n* have a return type that is the same or a sub type\r\n\r\nYou&#39;re violating the second rule here. Fortunately, you can use generics to fix this:\r\n\r\n    interface BaseRepository&lt;E extends Entity&gt; {\r\n        public void save(E entiy);\r\n    }\r\n\r\n    class StudentRepository implements BaseRepository&lt;Student&gt; {\r\n        @Override\r\n        public void save(Student student) {\r\n            // student validation code\r\n            // save the entity\r\n        }\r\n    }\r\n    class CourseRepository implements BaseRepository&lt;Course&gt; {\r\n        @Override\r\n        public void save(Course course) {\r\n            // course validation code\r\n            // save the entity\r\n        }\r\n   }\r\n\r\nNow, the method that a `BaseRepository&lt;Student&gt;` should override is not `public void save(Entity)` but `public void save(Student)`. Similarly, the method that a `BaseRepository&lt;Course&gt;` should override is not `public void save(Entity)` but `public void save(Course)`. ","title":"Method overriding error with base class as an argument","body":"<p>An overriding method must:</p>\n<ul>\n<li>have the exact same name</li>\n<li>have the exact same argument types; sub types won't work!</li>\n<li>have a visibility that is the same or broader (so protected -&gt; public is allowed, protected -&gt; private isn't)</li>\n<li>have a return type that is the same or a sub type</li>\n</ul>\n<p>You're violating the second rule here. Fortunately, you can use generics to fix this:</p>\n<pre><code>interface BaseRepository&lt;E extends Entity&gt; {\n    public void save(E entiy);\n}\n\nclass StudentRepository implements BaseRepository&lt;Student&gt; {\n    @Override\n    public void save(Student student) {\n        // student validation code\n        // save the entity\n    }\n}\nclass CourseRepository implements BaseRepository&lt;Course&gt; {\n    @Override\n    public void save(Course course) {\n        // course validation code\n        // save the entity\n    }\n</code></pre>\n<p>}</p>\n<p>Now, the method that a <code>BaseRepository&lt;Student&gt;</code> should override is not <code>public void save(Entity)</code> but <code>public void save(Student)</code>. Similarly, the method that a <code>BaseRepository&lt;Course&gt;</code> should override is not <code>public void save(Entity)</code> but <code>public void save(Course)</code>.</p>\n"}],"owner":{"account_id":15860671,"reputation":35,"user_id":11443864,"display_name":"i_know_what"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71717814,"answer_count":1,"score":0,"last_activity_date":1648904904,"creation_date":1648904562,"question_id":71717772,"body_markdown":"I have the following code:\r\n```\r\ninterface Entity {\r\n    \r\n}\r\nclass Student implements Entity{\r\n    \r\n}\r\nclass Course implements Entity{\r\n    \r\n}\r\n\r\ninterface BaseRepository {\r\n    public void save(Entity entiy);\r\n}\r\n\r\nclass StudentRepository implements BaseRepository {\r\n    @Override\r\n    public void save(Student student) {\r\n        // student validation code\r\n        // save the entity\r\n    }\r\n}\r\nclass CourseRepository implements BaseRepository {\r\n    @Override\r\n    public void save(Course course) {\r\n        // course validation code\r\n        // save the entity\r\n    }\r\n}\r\n```\r\nWhen I try to compile it, gives me the following error:\r\n```StudentRepository is not abstract and does not override abstract method save(Entity) in BaseRepository```\r\n\r\nDoesn&#39;t java accept a &#39;Base&#39; class as an argument? What is the reason?\r\nIs there any alternate way to write the code?","title":"Method overriding error with base class as an argument","body":"<p>I have the following code:</p>\n<pre><code>interface Entity {\n    \n}\nclass Student implements Entity{\n    \n}\nclass Course implements Entity{\n    \n}\n\ninterface BaseRepository {\n    public void save(Entity entiy);\n}\n\nclass StudentRepository implements BaseRepository {\n    @Override\n    public void save(Student student) {\n        // student validation code\n        // save the entity\n    }\n}\nclass CourseRepository implements BaseRepository {\n    @Override\n    public void save(Course course) {\n        // course validation code\n        // save the entity\n    }\n}\n</code></pre>\n<p>When I try to compile it, gives me the following error:\n<code>StudentRepository is not abstract and does not override abstract method save(Entity) in BaseRepository</code></p>\n<p>Doesn't java accept a 'Base' class as an argument? What is the reason?\nIs there any alternate way to write the code?</p>\n"},{"tags":["java","image","ms-word","apache-poi","pdf-generation"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1648822507,"post_id":71707706,"comment_id":126728968,"body_markdown":"Please show the relevant parts of the code, specifically how you work out the position of the old image, and how you size/insert the new image.","body":"Please show the relevant parts of the code, specifically how you work out the position of the old image, and how you size/insert the new image."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648904173,"creation_date":1648823163,"answer_id":71708516,"question_id":71707706,"body_markdown":"In Office Open XML documents (`*.xlsx`, `*.docx`, `*.pptx`, ...) picture shapes are linked to picture data in media directory of the Office Open XML ZIP archive. The shape is anchored on the sheet, the document, the slide, ... Additionally the anchor determines the size. But the picture data contains the bytes of the picture which shall be shown. So if position and size shall stay but only the shown picture shall change, then only replacing the picture data is needed.\r\n\r\nFollowing code shows this for `XWPF`. It replaces all picture data of JPEG-type pictures in all headers with given `stackoverflowLogo.jpg`. Then it saves the resulting `*.docx` file. Then it converts to PDF using [XDocReport](https://github.com/opensagres/xdocreport). \r\n\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.util.IOUtils;\r\n    \r\n    import java.io.*;\r\n    \r\n    import fr.opensagres.xdocreport.converter.Options;\r\n    import fr.opensagres.xdocreport.converter.IConverter;\r\n    import fr.opensagres.xdocreport.converter.ConverterRegistry;\r\n    import fr.opensagres.xdocreport.converter.ConverterTypeTo;\r\n    import fr.opensagres.xdocreport.core.document.DocumentKind;\r\n    \r\n    class WordReplacePictures {\r\n        \r\n     static void replacePictureData(XWPFPictureData source, byte[] data) {\r\n      try ( ByteArrayInputStream in = new ByteArrayInputStream(data); \r\n            OutputStream out = source.getPackagePart().getOutputStream();\r\n           ) {\r\n       byte[] buffer = new byte[2048];\r\n       int length;\r\n       while ((length = in.read(buffer)) &gt; 0) {\r\n        out.write(buffer, 0, length);\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n      String docPathTemplate = &quot;./WordHavingPictureTemplateInHeader.docx&quot;;\r\n      String docPathAfterReplacing = &quot;./WordResult.docx&quot;;\r\n      String pdfPath = &quot;./WordDocument.pdf&quot;;\r\n         \r\n      // replacde picture dara in headers   \r\n      try (XWPFDocument document = new XWPFDocument(new FileInputStream(docPathTemplate));\r\n           FileOutputStream out = new FileOutputStream(docPathAfterReplacing);\r\n          ) {\r\n       for (XWPFHeader header : document.getHeaderList()) {\r\n        for (XWPFPictureData pictureData : header.getAllPictures()) {\r\n         String fileName = \tpictureData.getFileName();\r\n         System.out.println(fileName);\r\n         if (pictureData.getPictureType() == Document.PICTURE_TYPE_JPEG) {\r\n          FileInputStream is = new FileInputStream(&quot;./stackoverflowLogo.jpg&quot;);\r\n          byte[] bytes = IOUtils.toByteArray(is);\r\n          replacePictureData(pictureData, bytes);\r\n          System.out.println(fileName + &quot; replaced by stackoverflowLogo.jpg&quot;);\r\n         }\r\n        }\r\n       }  \r\n       document.write(out);\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      } \r\n      \r\n      //convert to PDF\r\n      try (InputStream in = new FileInputStream(new File(docPathAfterReplacing));\r\n           OutputStream out = new FileOutputStream(new File(pdfPath));\r\n          ) {\r\n       Options options = Options.getFrom(DocumentKind.DOCX).to(ConverterTypeTo.PDF);\r\n       IConverter converter = ConverterRegistry.getRegistry().getConverter(options);\r\n       converter.convert(in, out, options);\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      } \r\n    \r\n     }\r\n    }\r\n\r\n\r\nThis code is tested and works using `apache poi 4.1.2` in combination with `XDocReport` version `2.0.2`. It also is tested and works using `apache poi 5.2.2` in combination with `XDocReport` version `2.0.3`.\r\n\r\n\r\nSee https://stackoverflow.com/questions/71334254/how-to-replace-an-image-with-another-image-in-excel-using-poi/71339028#71339028 for the same using `XSSF` (Excel).\r\n\r\n\r\n","title":"Replace image on a word docx document header using Java Apache POI XWPF","body":"<p>In Office Open XML documents (<code>*.xlsx</code>, <code>*.docx</code>, <code>*.pptx</code>, ...) picture shapes are linked to picture data in media directory of the Office Open XML ZIP archive. The shape is anchored on the sheet, the document, the slide, ... Additionally the anchor determines the size. But the picture data contains the bytes of the picture which shall be shown. So if position and size shall stay but only the shown picture shall change, then only replacing the picture data is needed.</p>\n<p>Following code shows this for <code>XWPF</code>. It replaces all picture data of JPEG-type pictures in all headers with given <code>stackoverflowLogo.jpg</code>. Then it saves the resulting <code>*.docx</code> file. Then it converts to PDF using <a href=\"https://github.com/opensagres/xdocreport\" rel=\"nofollow noreferrer\">XDocReport</a>.</p>\n<pre><code>import org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.util.IOUtils;\n\nimport java.io.*;\n\nimport fr.opensagres.xdocreport.converter.Options;\nimport fr.opensagres.xdocreport.converter.IConverter;\nimport fr.opensagres.xdocreport.converter.ConverterRegistry;\nimport fr.opensagres.xdocreport.converter.ConverterTypeTo;\nimport fr.opensagres.xdocreport.core.document.DocumentKind;\n\nclass WordReplacePictures {\n    \n static void replacePictureData(XWPFPictureData source, byte[] data) {\n  try ( ByteArrayInputStream in = new ByteArrayInputStream(data); \n        OutputStream out = source.getPackagePart().getOutputStream();\n       ) {\n   byte[] buffer = new byte[2048];\n   int length;\n   while ((length = in.read(buffer)) &gt; 0) {\n    out.write(buffer, 0, length);\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }\n }\n \n public static void main(String[] args) throws Exception {\n  String docPathTemplate = &quot;./WordHavingPictureTemplateInHeader.docx&quot;;\n  String docPathAfterReplacing = &quot;./WordResult.docx&quot;;\n  String pdfPath = &quot;./WordDocument.pdf&quot;;\n     \n  // replacde picture dara in headers   \n  try (XWPFDocument document = new XWPFDocument(new FileInputStream(docPathTemplate));\n       FileOutputStream out = new FileOutputStream(docPathAfterReplacing);\n      ) {\n   for (XWPFHeader header : document.getHeaderList()) {\n    for (XWPFPictureData pictureData : header.getAllPictures()) {\n     String fileName =  pictureData.getFileName();\n     System.out.println(fileName);\n     if (pictureData.getPictureType() == Document.PICTURE_TYPE_JPEG) {\n      FileInputStream is = new FileInputStream(&quot;./stackoverflowLogo.jpg&quot;);\n      byte[] bytes = IOUtils.toByteArray(is);\n      replacePictureData(pictureData, bytes);\n      System.out.println(fileName + &quot; replaced by stackoverflowLogo.jpg&quot;);\n     }\n    }\n   }  \n   document.write(out);\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  } \n  \n  //convert to PDF\n  try (InputStream in = new FileInputStream(new File(docPathAfterReplacing));\n       OutputStream out = new FileOutputStream(new File(pdfPath));\n      ) {\n   Options options = Options.getFrom(DocumentKind.DOCX).to(ConverterTypeTo.PDF);\n   IConverter converter = ConverterRegistry.getRegistry().getConverter(options);\n   converter.convert(in, out, options);\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  } \n\n }\n}\n</code></pre>\n<p>This code is tested and works using <code>apache poi 4.1.2</code> in combination with <code>XDocReport</code> version <code>2.0.2</code>. It also is tested and works using <code>apache poi 5.2.2</code> in combination with <code>XDocReport</code> version <code>2.0.3</code>.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/71334254/how-to-replace-an-image-with-another-image-in-excel-using-poi/71339028#71339028\">how to replace an image with another image in excel using POI</a> for the same using <code>XSSF</code> (Excel).</p>\n"}],"owner":{"account_id":24745924,"reputation":1,"user_id":18632101,"display_name":"developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648904173,"creation_date":1648819810,"question_id":71707706,"body_markdown":"I am trying to generate pdf from word document templates using Apache POI - XWPF. There is an image on the header of the docx template that needs to be replaced with a new image. The new image should be exactly at the same position as the old image. The generated pdf would have the new image. I am able to see the new image on the generated pdf but could not be sure if it is placed at the position where it should be. I would appreciate if you can help me on this issue. Thanks","title":"Replace image on a word docx document header using Java Apache POI XWPF","body":"<p>I am trying to generate pdf from word document templates using Apache POI - XWPF. There is an image on the header of the docx template that needs to be replaced with a new image. The new image should be exactly at the same position as the old image. The generated pdf would have the new image. I am able to see the new image on the generated pdf but could not be sure if it is placed at the position where it should be. I would appreciate if you can help me on this issue. Thanks</p>\n"},{"tags":["java","ubuntu","tomcat","dspace"],"answers":[{"tags":[],"owner":{"account_id":4626303,"reputation":552,"user_id":3750035,"display_name":"Tim Donohue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648850076,"creation_date":1648850076,"answer_id":71713098,"question_id":71712261,"body_markdown":"The main error appears to be:\r\n```\r\nCircular placeholder reference &#39;dspace.dir&#39; in property definitions at ...\r\n```\r\n\r\nUsually a &quot;circular reference&quot; in a DSpace configuration (which uses Apache Commons Configuration) means that you have a configuration which somehow references itself.  \r\n\r\nSo, something like `dspace.dir = ${dspace.dir}` would create a &quot;circular reference&quot; error. A &quot;circular reference&quot; can also occur via two separate configurations that reference each other, like setting `dspace.dir = ${my.custom.dir}` and `my.custom.dir = ${dspace.dir}`.\r\n\r\nBasically, you should double check that you actually have a string value set for `dspace.dir` in your `local.cfg` file. It sounds like DSpace cannot figure out your `dspace.dir` setting, hence the error.","title":"DSpace 7.2 with Tomcat 9.0 - Circular placeholder reference &#39;dspace.dir&#39; in property definitions","body":"<p>The main error appears to be:</p>\n<pre><code>Circular placeholder reference 'dspace.dir' in property definitions at ...\n</code></pre>\n<p>Usually a &quot;circular reference&quot; in a DSpace configuration (which uses Apache Commons Configuration) means that you have a configuration which somehow references itself.</p>\n<p>So, something like <code>dspace.dir = ${dspace.dir}</code> would create a &quot;circular reference&quot; error. A &quot;circular reference&quot; can also occur via two separate configurations that reference each other, like setting <code>dspace.dir = ${my.custom.dir}</code> and <code>my.custom.dir = ${dspace.dir}</code>.</p>\n<p>Basically, you should double check that you actually have a string value set for <code>dspace.dir</code> in your <code>local.cfg</code> file. It sounds like DSpace cannot figure out your <code>dspace.dir</code> setting, hence the error.</p>\n"}],"owner":{"account_id":21339390,"reputation":3,"user_id":15710104,"display_name":"hhuntercu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71713098,"answer_count":1,"score":0,"last_activity_date":1648903984,"creation_date":1648843478,"question_id":71712261,"body_markdown":"I&#39;m  struggling with DSpace, I tried to install it on Ubuntu 18.04.6 LTS using https://wiki.lyrasis.org/display/DSDOC7x/Installing+DSpace guide, but only made it as far as step 11, then I got this errors on Tomcat logs, I&#39;ve searched on google but so far no luck. Thanks in advance\r\n\r\n \r\n\r\n    java.lang.IllegalStateException: Error starting child\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\r\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n            at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:631)\r\n            at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1832)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\r\n            at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:526)\r\n            at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:425)\r\n            at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1577)\r\n            at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n            at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:424)\r\n            at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:367)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:929)\r\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\r\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            at org.apache.catalina.startup.Catalina.start(Catalina.java:638)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:350)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:496)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/dspace-conf]]\r\n            at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\r\n            ... 37 more\r\n    Caused by: java.lang.IllegalArgumentException: Circular placeholder reference &#39;dspace.dir&#39; in property definitions\r\n            at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:145)\r\n            at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:166)\r\n            at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)\r\n            at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)\r\n            at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)\r\n            at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:227)\r\n            at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:88)\r\n            at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:62)\r\n            at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:535)\r\n            at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:311)\r\n            at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:288)\r\n            at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n            at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n            at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n            at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:152)\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:132)\r\n            at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:92)\r\n            at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n            ... 38 more","title":"DSpace 7.2 with Tomcat 9.0 - Circular placeholder reference &#39;dspace.dir&#39; in property definitions","body":"<p>I'm  struggling with DSpace, I tried to install it on Ubuntu 18.04.6 LTS using <a href=\"https://wiki.lyrasis.org/display/DSDOC7x/Installing+DSpace\" rel=\"nofollow noreferrer\">https://wiki.lyrasis.org/display/DSDOC7x/Installing+DSpace</a> guide, but only made it as far as step 11, then I got this errors on Tomcat logs, I've searched on google but so far no luck. Thanks in advance</p>\n<pre><code>java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:631)\n        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1832)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:118)\n        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:526)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:425)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1577)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:424)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:367)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:929)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:831)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1377)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1367)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:902)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:423)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:928)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:638)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:350)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:496)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/dspace-conf]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:441)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\n        ... 37 more\nCaused by: java.lang.IllegalArgumentException: Circular placeholder reference 'dspace.dir' in property definitions\n        at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:145)\n        at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:166)\n        at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124)\n        at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)\n        at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)\n        at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:227)\n        at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:88)\n        at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:62)\n        at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:535)\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:311)\n        at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:288)\n        at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n        at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:152)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:132)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:92)\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5125)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 38 more\n</code></pre>\n"},{"tags":["java","android","view","listener"],"answers":[{"tags":[],"owner":{"account_id":19222693,"reputation":108,"user_id":14046156,"display_name":"Nikul Boharwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599066570,"creation_date":1599066570,"answer_id":63710413,"question_id":63710349,"body_markdown":"You can use Butterknife library\r\n\r\ncheck this library=https://github.com/JakeWharton/butterknife","title":"How to create onClick method for multiple buttons using View Binding in Android studio?","body":"<p>You can use Butterknife library</p>\n<p>check this library=https://github.com/JakeWharton/butterknife</p>\n"},{"tags":[],"owner":{"account_id":14874655,"reputation":126,"user_id":10741152,"display_name":"Shulkmaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648903949,"creation_date":1599068222,"answer_id":63710849,"question_id":63710349,"body_markdown":"**TD LR** implement listeners for each view instead\r\n\r\nFrom the [Android docs][1] here you will see that what view binding actually does is to create a class for your bind layout. That means that if you have a layout with 3 textviews for instance, your binding class will have 3 properties named after their ids\r\n\r\n - textview1\r\n - textview2\r\n - textview3\r\n\r\neach of which is already cast to the correct type (textView). basically eliminating the need for doing the code you post above, because if you think about it, what you are doing is getting the id of the view and the you do the cast but as I said the binding class has already done all that work for you.\r\n\r\nhowever if what you are trying to do is implement the same code in multiple views then I will suggest to abstract the shared code to a separate function and set that function on the views click listener.\r\n\r\n    binding.textview1.setOnClickListener { sharedFunction() }\r\n    binding.textview2.setOnClickListener { sharedFunction() }\r\n    binding.textview3.setOnClickListener { sharedFunction() }\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding","title":"How to create onClick method for multiple buttons using View Binding in Android studio?","body":"<p><strong>TD LR</strong> implement listeners for each view instead</p>\n<p>From the <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">Android docs</a> here you will see that what view binding actually does is to create a class for your bind layout. That means that if you have a layout with 3 textviews for instance, your binding class will have 3 properties named after their ids</p>\n<ul>\n<li>textview1</li>\n<li>textview2</li>\n<li>textview3</li>\n</ul>\n<p>each of which is already cast to the correct type (textView). basically eliminating the need for doing the code you post above, because if you think about it, what you are doing is getting the id of the view and the you do the cast but as I said the binding class has already done all that work for you.</p>\n<p>however if what you are trying to do is implement the same code in multiple views then I will suggest to abstract the shared code to a separate function and set that function on the views click listener.</p>\n<pre><code>binding.textview1.setOnClickListener { sharedFunction() }\nbinding.textview2.setOnClickListener { sharedFunction() }\nbinding.textview3.setOnClickListener { sharedFunction() }\n</code></pre>\n"}],"owner":{"account_id":18515190,"reputation":79,"user_id":13567243,"display_name":"Alxa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63710849,"answer_count":2,"score":2,"last_activity_date":1648903949,"creation_date":1599066376,"question_id":63710349,"body_markdown":"This is simple to create onClick through view.getId()\r\n```\r\npublic void buttonOnClick(View view)\r\n{\r\n switch(view.getId())\r\n {\r\n  case R.id.button1:\r\n  // Code for button 1 click\r\n  break;\r\n\r\n  case R.id.button2:\r\n  // Code for button 2 click\r\n  break;\r\n\r\n  case R.id.button3:\r\n  // Code for button 3 click\r\n  break;\r\n }\r\n}\r\n```\r\nBut is it possible to create it using view binding or I may as well implement listeners for each view instead?\r\n\r\nP.S By view binding I mean using a new way of declaration of views\r\n```\r\nprivate ResultProfileBinding binding;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    binding = ResultProfileBinding.inflate(getLayoutInflater());\r\n    View view = binding.getRoot();\r\n    setContentView(view);\r\n}\r\n```","title":"How to create onClick method for multiple buttons using View Binding in Android studio?","body":"<p>This is simple to create onClick through view.getId()</p>\n<pre><code>public void buttonOnClick(View view)\n{\n switch(view.getId())\n {\n  case R.id.button1:\n  // Code for button 1 click\n  break;\n\n  case R.id.button2:\n  // Code for button 2 click\n  break;\n\n  case R.id.button3:\n  // Code for button 3 click\n  break;\n }\n}\n</code></pre>\n<p>But is it possible to create it using view binding or I may as well implement listeners for each view instead?</p>\n<p>P.S By view binding I mean using a new way of declaration of views</p>\n<pre><code>private ResultProfileBinding binding;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ResultProfileBinding.inflate(getLayoutInflater());\n    View view = binding.getRoot();\n    setContentView(view);\n}\n</code></pre>\n"},{"tags":["java","debugging","visual-studio-code","vscode-debugger"],"comments":[{"owner":{"account_id":18028832,"reputation":155,"user_id":13104055,"display_name":"No_Name"},"score":0,"creation_date":1613843390,"post_id":66291689,"comment_id":117203841,"body_markdown":"Check your &quot;args&quot;: [&quot; &quot;] in launch.json file. Usually, if the file name is empty or different, it doesn&#39;t run or runs a different program.","body":"Check your &quot;args&quot;: [&quot; &quot;] in launch.json file. Usually, if the file name is empty or different, it doesn&#39;t run or runs a different program."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1613983588,"post_id":66291689,"comment_id":117234586,"body_markdown":"Can you post the whole code if convenient? The code you post is not enough for me to reproduce your question.","body":"Can you post the whole code if convenient? The code you post is not enough for me to reproduce your question."}],"answers":[{"tags":[],"owner":{"account_id":13434236,"reputation":29,"user_id":9693138,"display_name":"Bivatan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1632925785,"creation_date":1631028894,"answer_id":69091010,"question_id":66291689,"body_markdown":"\r\nYou must change region, Data and Time to English format.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PKtMX.png\r\n  [2]: https://i.stack.imgur.com/SMNQD.png","title":"java debugger not working in visual sudio code","body":"<p>You must change region, Data and Time to English format.\n<a href=\"https://i.stack.imgur.com/PKtMX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKtMX.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SMNQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMNQD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21712568,"reputation":53,"user_id":16046765,"display_name":"dawidl022"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648903329,"creation_date":1648903329,"answer_id":71717620,"question_id":66291689,"body_markdown":"This happened to me too. It seemed that another VSCode extension was interfering with the Java debugger. More specifically, this extension&#39;s popup was preventing the debugger from starting ([screenshot of popup][1]). Simply closing the popup fixed the issue in my case.\r\n\r\nSo I would try disabling any extensions you installed recently to see if it helps, and also check the VSCode notifications tray in the bottom right of the VSCode window to see if there are any hanging notifications and handle them appropriately.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cvwg7.png","title":"java debugger not working in visual sudio code","body":"<p>This happened to me too. It seemed that another VSCode extension was interfering with the Java debugger. More specifically, this extension's popup was preventing the debugger from starting (<a href=\"https://i.stack.imgur.com/cvwg7.png\" rel=\"nofollow noreferrer\">screenshot of popup</a>). Simply closing the popup fixed the issue in my case.</p>\n<p>So I would try disabling any extensions you installed recently to see if it helps, and also check the VSCode notifications tray in the bottom right of the VSCode window to see if there are any hanging notifications and handle them appropriately.</p>\n"}],"owner":{"account_id":6242105,"reputation":135,"user_id":4855374,"display_name":"ibrahim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648903329,"creation_date":1613825207,"question_id":66291689,"body_markdown":"I have installed the debugger extension \r\nand I created launch.json file and I added breakpoint in the main function but when I click on run nothing happens and when I click on debug\r\nit keeps loading without response I tried to reinstall the extension\r\nand restart vscode but the issue still happens\r\nthis is the class where i added breakpoint :\r\n```\r\nimport java.util.*;\r\n\r\npublic class CaeserCipher {\r\n\tint key;\r\n\tString message;\r\n\r\n\tpublic CaeserCipher(String plaintext, int secret) {\r\n\t\tmessage = plaintext;\r\n\t\tkey = secret;\r\n\t}\r\n\r\n\tprivate String preprocess(String text) {\r\n\t\treturn (text.toLowerCase()).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n\t}\r\n\r\n\tprotected String encrypt() {\r\n\t\tmessage = preprocess(message);\r\n\t\tint n = message.length();\r\n\t\tString cipherText = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tchar temp = message.charAt(i);\r\n\t\t\ttemp += key;\r\n\t\t\tif (temp &gt; &#39;z&#39;)\r\n\t\t\t\ttemp -= 26;\r\n\t\t\tcipherText += temp + &quot;&quot;;\r\n\t\t}\r\n\t\treturn cipherText;\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tCaeserCipherDemo test = new CaeserCipherDemo();\r\n\t\ttest.run();\r\n\t}\r\n}\r\n```\r\nthis is a screenshot from vscode when I run debug :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0G4h8.png","title":"java debugger not working in visual sudio code","body":"<p>I have installed the debugger extension\nand I created launch.json file and I added breakpoint in the main function but when I click on run nothing happens and when I click on debug\nit keeps loading without response I tried to reinstall the extension\nand restart vscode but the issue still happens\nthis is the class where i added breakpoint :</p>\n<pre><code>import java.util.*;\n\npublic class CaeserCipher {\n    int key;\n    String message;\n\n    public CaeserCipher(String plaintext, int secret) {\n        message = plaintext;\n        key = secret;\n    }\n\n    private String preprocess(String text) {\n        return (text.toLowerCase()).replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n    }\n\n    protected String encrypt() {\n        message = preprocess(message);\n        int n = message.length();\n        String cipherText = &quot;&quot;;\n        for (int i = 0; i &lt; n; i++) {\n            char temp = message.charAt(i);\n            temp += key;\n            if (temp &gt; 'z')\n                temp -= 26;\n            cipherText += temp + &quot;&quot;;\n        }\n        return cipherText;\n    }\n\n    public static void main(String args[]) {\n        CaeserCipherDemo test = new CaeserCipherDemo();\n        test.run();\n    }\n}\n</code></pre>\n<p>this is a screenshot from vscode when I run debug :\n<a href=\"https://i.stack.imgur.com/0G4h8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0G4h8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":113485,"reputation":9218,"user_id":298870,"accept_rate":89,"display_name":"abson"},"score":6,"creation_date":1338471679,"post_id":10834262,"comment_id":14106612,"body_markdown":"Thanks for both the answers, what I got from here is that Maven in itself is a build tool while Jenkins is a Continuos Integration tool which can be configured to make automated builds through Maven or Ant files","body":"Thanks for both the answers, what I got from here is that Maven in itself is a build tool while Jenkins is a Continuos Integration tool which can be configured to make automated builds through Maven or Ant files"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1515680386,"creation_date":1338469800,"answer_id":10834318,"question_id":10834262,"body_markdown":"Maven is a build tool that manages dependencies and the application life cycle.  It also had a plug in design that allows you to add other tasks to the standard compile/test/package/install/deploy tasks.\r\n\r\nJenkins is a continuous integration suite that checks your code out of a repository, builds and packages it, and dumps it out to a server so you can test it - all hands-off.  It can use Maven or Ant as its build tool.\r\n\r\nIn summary, Jenkins can use Maven as its build tool for continuous integration.  You can use Maven without Jenkins if you choose not to do CI.\r\n\r\n\r\n","title":"What is the difference between Maven and Jenkins?","body":"<p>Maven is a build tool that manages dependencies and the application life cycle.  It also had a plug in design that allows you to add other tasks to the standard compile/test/package/install/deploy tasks.</p>\n\n<p>Jenkins is a continuous integration suite that checks your code out of a repository, builds and packages it, and dumps it out to a server so you can test it - all hands-off.  It can use Maven or Ant as its build tool.</p>\n\n<p>In summary, Jenkins can use Maven as its build tool for continuous integration.  You can use Maven without Jenkins if you choose not to do CI.</p>\n"},{"tags":[],"owner":{"account_id":371004,"reputation":5445,"user_id":719278,"accept_rate":75,"display_name":"Junchen Liu"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1481713420,"creation_date":1338470483,"answer_id":10834500,"question_id":10834262,"body_markdown":"Maven is building tool/environment.  Jenkins is a CI (continuous integration) tool.\r\n\r\nMaven is more like a replacement for Ant. \r\n\r\n 1. It assists building of the project through [plugins][1] e.g build and version control, JUnit tests, etc... \r\n 2. It manages [dependencies][2] of your project.\r\nyou define how a project should be built(plugins), and what libraries are needed (dependencies) in a pom.xml file.\r\n\r\nJenkins as a smart job scheduler, can not assists you with tasks like version control or JUnit test, however it can indirectly assists you with all this, by making calls to the pom.xml file in your project. And **Jenkins gives you the power to decide when to call the pom.xml file, based on what condition to call, and what you want to do with the outcome.** and Jenkins can listen to different events, e.g svn commit, current time is midnight etc..\r\n\r\nThis is a powerful idea. For example, you can ask Jenkins to trigger a build or run through all JUnit tests whenever a new code is committed and then, if the unit tests are passed, deploy on a target machine. or schedule heavy tasks at midnight e.g unit tests.This is the basic idea of auto deployment or AKA continuous integration. CI for short if you like.\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/\r\n  [2]: https://repo1.maven.org/maven2/","title":"What is the difference between Maven and Jenkins?","body":"<p>Maven is building tool/environment.  Jenkins is a CI (continuous integration) tool.</p>\n\n<p>Maven is more like a replacement for Ant. </p>\n\n<ol>\n<li>It assists building of the project through <a href=\"https://maven.apache.org/plugins/\" rel=\"noreferrer\">plugins</a> e.g build and version control, JUnit tests, etc... </li>\n<li>It manages <a href=\"https://repo1.maven.org/maven2/\" rel=\"noreferrer\">dependencies</a> of your project.\nyou define how a project should be built(plugins), and what libraries are needed (dependencies) in a pom.xml file.</li>\n</ol>\n\n<p>Jenkins as a smart job scheduler, can not assists you with tasks like version control or JUnit test, however it can indirectly assists you with all this, by making calls to the pom.xml file in your project. And <strong>Jenkins gives you the power to decide when to call the pom.xml file, based on what condition to call, and what you want to do with the outcome.</strong> and Jenkins can listen to different events, e.g svn commit, current time is midnight etc..</p>\n\n<p>This is a powerful idea. For example, you can ask Jenkins to trigger a build or run through all JUnit tests whenever a new code is committed and then, if the unit tests are passed, deploy on a target machine. or schedule heavy tasks at midnight e.g unit tests.This is the basic idea of auto deployment or AKA continuous integration. CI for short if you like.</p>\n"},{"tags":[],"owner":{"account_id":2710140,"reputation":2180,"user_id":2338792,"accept_rate":88,"display_name":"DavidS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1408014970,"creation_date":1408014970,"answer_id":25306707,"question_id":10834262,"body_markdown":"The first paragraph of the [Jenkins Maven plugin wiki page][1] explains the interaction between Jenkins and Maven:\r\n\r\n&gt; &quot;Managing Jenkins jobs is not easy when there are many of them, especially if certain parameters should be identical among many jobs. &quot;jenkins-maven-plugin&quot; allows to generate Jenkins jobs, one &quot;config.xml&quot; per job, from a simple Maven POM. This way we can have all Jenkins jobs controlled in one place, reusing any amount of configuration between them.&quot;\r\n\r\n\r\n  [1]: http://evgeny-goldin.com/wiki/Jenkins-maven-plugin","title":"What is the difference between Maven and Jenkins?","body":"<p>The first paragraph of the <a href=\"http://evgeny-goldin.com/wiki/Jenkins-maven-plugin\" rel=\"nofollow\">Jenkins Maven plugin wiki page</a> explains the interaction between Jenkins and Maven:</p>\n\n<blockquote>\n  <p>\"Managing Jenkins jobs is not easy when there are many of them, especially if certain parameters should be identical among many jobs. \"jenkins-maven-plugin\" allows to generate Jenkins jobs, one \"config.xml\" per job, from a simple Maven POM. This way we can have all Jenkins jobs controlled in one place, reusing any amount of configuration between them.\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3717992,"reputation":316,"user_id":3093672,"accept_rate":0,"display_name":"Preetham R U"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433498666,"creation_date":1433498666,"answer_id":30663795,"question_id":10834262,"body_markdown":"Maven is a build tool, in short a successor of ant. It helps in build and version control. \r\n\r\nHowever Jenkins is continuous integration system, where in maven is used for build. Jenkins can be used to automate the deployment process. When ever the new code is committed, automatically run all Junit test cases and if they&#39;re passed, package and deploy the project to the specific location. ","title":"What is the difference between Maven and Jenkins?","body":"<p>Maven is a build tool, in short a successor of ant. It helps in build and version control. </p>\n\n<p>However Jenkins is continuous integration system, where in maven is used for build. Jenkins can be used to automate the deployment process. When ever the new code is committed, automatically run all Junit test cases and if they're passed, package and deploy the project to the specific location. </p>\n"}],"owner":{"account_id":113485,"reputation":9218,"user_id":298870,"accept_rate":89,"display_name":"abson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96843,"favorite_count":0,"down_vote_count":4,"up_vote_count":71,"accepted_answer_id":10834500,"answer_count":4,"score":67,"last_activity_date":1648902855,"creation_date":1338469610,"question_id":10834262,"body_markdown":"What is the difference between Maven and Jenkins? \r\n\r\nBoth support automated builds and automated execution of JUnits.\r\n\r\nIf so, are they complimentary, or mutually exclusive? When should onebe used over the other?","title":"What is the difference between Maven and Jenkins?","body":"<p>What is the difference between Maven and Jenkins?</p>\n<p>Both support automated builds and automated execution of JUnits.</p>\n<p>If so, are they complimentary, or mutually exclusive? When should onebe used over the other?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648902606,"creation_date":1648902606,"answer_id":71717538,"question_id":71716678,"body_markdown":"You are correct, you have to decide if you want to use a single autogenerated Id or a composite key, you can&#39;t have both at the same time. And if your API can&#39;t handle a single Id you are probably better of doing as you are thinking in your extended question; creating a composite key and when updating rows check for a row that match your three values.","title":"Spring Boot JPA how to handle @Id if I use composite key","body":"<p>You are correct, you have to decide if you want to use a single autogenerated Id or a composite key, you can't have both at the same time. And if your API can't handle a single Id you are probably better of doing as you are thinking in your extended question; creating a composite key and when updating rows check for a row that match your three values.</p>\n"}],"owner":{"display_name":"user15676007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71717538,"answer_count":1,"score":1,"last_activity_date":1648902606,"creation_date":1648894820,"question_id":71716678,"body_markdown":"I am running a Spring Boot application were I use JPA. I am using Postgresql as DB.\r\n\r\nI get some data from an api where there is no Id for each row. So I have to use @Id and @GeneratedValue. But my problem is that when I request this data again I might get the exact same rows or some of them again. I can make a composite key that consist of 3 of the columns but then how do I do with the Id that I would like to keep (autogenerated value). If I understand correct, I can&#180;t use composite primary key and a generate @Id at the same time?\r\n\r\nAn extension of this question is that sometimes a column in each row are updated. Then I would like to update only this column and not create a new row in the DB. \r\nI could make a modified query that checks if the three column (composite key) already exist then I update that row if any change or if row is missing just save. Or is their any other option that I have missed so I do not have to write any query myself?","title":"Spring Boot JPA how to handle @Id if I use composite key","body":"<p>I am running a Spring Boot application were I use JPA. I am using Postgresql as DB.</p>\n<p>I get some data from an api where there is no Id for each row. So I have to use @Id and @GeneratedValue. But my problem is that when I request this data again I might get the exact same rows or some of them again. I can make a composite key that consist of 3 of the columns but then how do I do with the Id that I would like to keep (autogenerated value). If I understand correct, I can´t use composite primary key and a generate @Id at the same time?</p>\n<p>An extension of this question is that sometimes a column in each row are updated. Then I would like to update only this column and not create a new row in the DB.\nI could make a modified query that checks if the three column (composite key) already exist then I update that row if any change or if row is missing just save. Or is their any other option that I have missed so I do not have to write any query myself?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8527,"page":1465,"page_size":100}
