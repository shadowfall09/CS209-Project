{"items":[{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679860033,"creation_date":1679860033,"answer_id":75850171,"question_id":75849154,"body_markdown":"Not sure exactly what is going on in your case, but note the following:\r\n\r\n1. It is the `writeDescriptor` method of the `BluetoothGatt` object that actually sends the notification/indication setting to the remote device. If you use the overload that takes a byte array, that is the value to be sent. If you use the overload that takes no byte array, the value set previously using `setValue` will be used.\r\n\r\n2. The `setCharacteristicNotification` method tells the bluetooth stack on the local device to forward notifications and indications to the app, if they are received from the remote device.\r\n\r\n3. Not sure what your `Thread.sleep` calls are supposed to do. It&#39;s generally better to use a Handler and schedule work in the future than blocking a thread in case you want to do something in the future.\r\n\r\n4. It appears from the flow in your code that you don&#39;t follow the (undocumented) rules that only one GATT operation can be in progress at a time, per `BluetoothGatt` object. It seems that, when the line `mBTLE_Service.writeCharacteristic(characteristic_fourth);` is called, the earlier `writeDescriptor` call is still pending. You must wait for the `onDescriptorWrite` callback before you can send another GATT operation.\r\n\r\n5. Make sure the remote device actually sends an indication. You can inspect the packet logs to see what&#39;s going on.","title":"Android studio BLE indication does not work (but notification is working)","body":"<p>Not sure exactly what is going on in your case, but note the following:</p>\n<ol>\n<li><p>It is the <code>writeDescriptor</code> method of the <code>BluetoothGatt</code> object that actually sends the notification/indication setting to the remote device. If you use the overload that takes a byte array, that is the value to be sent. If you use the overload that takes no byte array, the value set previously using <code>setValue</code> will be used.</p>\n</li>\n<li><p>The <code>setCharacteristicNotification</code> method tells the bluetooth stack on the local device to forward notifications and indications to the app, if they are received from the remote device.</p>\n</li>\n<li><p>Not sure what your <code>Thread.sleep</code> calls are supposed to do. It's generally better to use a Handler and schedule work in the future than blocking a thread in case you want to do something in the future.</p>\n</li>\n<li><p>It appears from the flow in your code that you don't follow the (undocumented) rules that only one GATT operation can be in progress at a time, per <code>BluetoothGatt</code> object. It seems that, when the line <code>mBTLE_Service.writeCharacteristic(characteristic_fourth);</code> is called, the earlier <code>writeDescriptor</code> call is still pending. You must wait for the <code>onDescriptorWrite</code> callback before you can send another GATT operation.</p>\n</li>\n<li><p>Make sure the remote device actually sends an indication. You can inspect the packet logs to see what's going on.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28111620,"reputation":1,"user_id":21494809,"display_name":"Даниил Белковский"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679860033,"creation_date":1679848990,"question_id":75849154,"body_markdown":"I am writing a project that works with the device, when the notification is connected, the data arrives perfectly and everything works, but when the indication is connected, the program does not even enter onCharacteristicChanged\r\n\r\nStart indication or notification:\r\n```\r\npublic void setCharacteristicNotification(BluetoothGattCharacteristic characteristic, boolean enabled) {\r\n\r\n        Log.d(TAG, &quot;I was in notificator&quot;);\r\n\r\n        if (mBluetoothAdapter == null || mBluetoothGatt == null) {\r\n            Log.w(TAG, &quot;BluetoothAdapter not initialized&quot;);\r\n            return;\r\n        }\r\n\r\n        BluetoothGattDescriptor descriptor = characteristic.getDescriptor(\r\n                UUID.fromString(getString(R.string.CLIENT_CHARACTERISTIC_CONFIG)));\r\n\r\n        int properties_local = characteristic.getProperties();\r\n        if (Utils.hasIndicateProperty(properties_local) != 0) {\r\n            Log.d(TAG, &quot;Indication on this characteristic&quot;);\r\n        }\r\n        if (Utils.hasNotifyProperty(properties_local) != 0) {\r\n            Log.d(TAG, &quot;Notification on this characteristic&quot;);\r\n        }\r\n        else Log.d(TAG, &quot;Notification are NOT on this characteristic&quot;);\r\n        byte [] indi = BluetoothGattDescriptor.ENABLE_INDICATION_VALUE;\r\n        byte [] noti = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\r\n\r\n        if (Activity_BTLE_Services.SWITCHED == 0) {\r\n            if (enabled) {\r\n                boolean a = descriptor.setValue(BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\r\n                Log.d(TAG, &quot;ENABLE INDICATION &quot; + a);\r\n            }\r\n            else {\r\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\r\n            }\r\n        }\r\n\r\n        else {\r\n            if (enabled) {\r\n                descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n            }\r\n\r\n            else {\r\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\r\n            }\r\n        }\r\n\r\n        boolean answer = mBluetoothGatt.setCharacteristicNotification(characteristic, enabled);\r\n        Log.d(TAG, String.valueOf(answer));\r\n\r\n        try {\r\n            Thread.sleep(10000);\r\n        } catch (InterruptedException e) {\r\n            Log.d(TAG, &quot;To short time&quot;);\r\n        }\r\n\r\n        /*try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n            Log.d(TAG, &quot;To short time&quot;);\r\n        }*/\r\n\r\n        mBluetoothGatt.writeDescriptor(descriptor, BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\r\n    }\r\n```\r\n\r\nWe connect the notification, and then we give a command to another characteristic of the device to change the data (pauses are needed so that the device has time to process the data)\r\n```\r\nelse {\r\n                    BluetoothGattCharacteristic characteristic_fourth = characteristics_ArrayList.get(2);\r\n                    BluetoothGattCharacteristic characteristic_fifth = characteristics_ArrayList.get(3);\r\n                    btn_scan = findViewById(R.id.btn_scan);\r\n                    image_view = findViewById(R.id.imageView4);\r\n                    GraphView graph = (GraphView) (findViewById(R.id.graph));\r\n                    graph.removeAllSeries();\r\n                    list.clear();\r\n                    mBTLE_Service.setCharacteristicNotification(characteristic_fifth, true);\r\n\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        Log.d(TAG, &quot;To short time&quot;);\r\n                    }\r\n                    byte[] data_local = {11, 0};\r\n                    characteristic_fourth.setValue(data_local);\r\n                    mBTLE_Service.writeCharacteristic(characteristic_fourth);\r\n                    btn_scan.setImageResource(R.drawable.baseline_pause_24);\r\n                    image_view.setVisibility(View.VISIBLE);\r\n                }\r\n```\r\n\r\n[An example of how it works in nrf connect](https://i.stack.imgur.com/cfuDp.jpg)","title":"Android studio BLE indication does not work (but notification is working)","body":"<p>I am writing a project that works with the device, when the notification is connected, the data arrives perfectly and everything works, but when the indication is connected, the program does not even enter onCharacteristicChanged</p>\n<p>Start indication or notification:</p>\n<pre><code>public void setCharacteristicNotification(BluetoothGattCharacteristic characteristic, boolean enabled) {\n\n        Log.d(TAG, &quot;I was in notificator&quot;);\n\n        if (mBluetoothAdapter == null || mBluetoothGatt == null) {\n            Log.w(TAG, &quot;BluetoothAdapter not initialized&quot;);\n            return;\n        }\n\n        BluetoothGattDescriptor descriptor = characteristic.getDescriptor(\n                UUID.fromString(getString(R.string.CLIENT_CHARACTERISTIC_CONFIG)));\n\n        int properties_local = characteristic.getProperties();\n        if (Utils.hasIndicateProperty(properties_local) != 0) {\n            Log.d(TAG, &quot;Indication on this characteristic&quot;);\n        }\n        if (Utils.hasNotifyProperty(properties_local) != 0) {\n            Log.d(TAG, &quot;Notification on this characteristic&quot;);\n        }\n        else Log.d(TAG, &quot;Notification are NOT on this characteristic&quot;);\n        byte [] indi = BluetoothGattDescriptor.ENABLE_INDICATION_VALUE;\n        byte [] noti = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\n\n        if (Activity_BTLE_Services.SWITCHED == 0) {\n            if (enabled) {\n                boolean a = descriptor.setValue(BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\n                Log.d(TAG, &quot;ENABLE INDICATION &quot; + a);\n            }\n            else {\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\n            }\n        }\n\n        else {\n            if (enabled) {\n                descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n            }\n\n            else {\n                descriptor.setValue(BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE);\n            }\n        }\n\n        boolean answer = mBluetoothGatt.setCharacteristicNotification(characteristic, enabled);\n        Log.d(TAG, String.valueOf(answer));\n\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            Log.d(TAG, &quot;To short time&quot;);\n        }\n\n        /*try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n            Log.d(TAG, &quot;To short time&quot;);\n        }*/\n\n        mBluetoothGatt.writeDescriptor(descriptor, BluetoothGattDescriptor.ENABLE_INDICATION_VALUE);\n    }\n</code></pre>\n<p>We connect the notification, and then we give a command to another characteristic of the device to change the data (pauses are needed so that the device has time to process the data)</p>\n<pre><code>else {\n                    BluetoothGattCharacteristic characteristic_fourth = characteristics_ArrayList.get(2);\n                    BluetoothGattCharacteristic characteristic_fifth = characteristics_ArrayList.get(3);\n                    btn_scan = findViewById(R.id.btn_scan);\n                    image_view = findViewById(R.id.imageView4);\n                    GraphView graph = (GraphView) (findViewById(R.id.graph));\n                    graph.removeAllSeries();\n                    list.clear();\n                    mBTLE_Service.setCharacteristicNotification(characteristic_fifth, true);\n\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        Log.d(TAG, &quot;To short time&quot;);\n                    }\n                    byte[] data_local = {11, 0};\n                    characteristic_fourth.setValue(data_local);\n                    mBTLE_Service.writeCharacteristic(characteristic_fourth);\n                    btn_scan.setImageResource(R.drawable.baseline_pause_24);\n                    image_view.setVisibility(View.VISIBLE);\n                }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cfuDp.jpg\" rel=\"nofollow noreferrer\">An example of how it works in nrf connect</a></p>\n"},{"tags":["java","html","spring","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679846493,"post_id":75848146,"comment_id":133790041,"body_markdown":"You are using Thymeleaf&#39;s `${source}` syntax in some places (which looks correct, given your use of `th:each=&quot;source,iter...`), but `*{source}` in others (which does not look correct, given your use of `th:object=&quot;${userAlignmentDTO}&quot;`).","body":"You are using Thymeleaf&#39;s <code>${source}</code> syntax in some places (which looks correct, given your use of <code>th:each=&quot;source,iter...</code>), but <code>*{source}</code> in others (which does not look correct, given your use of <code>th:object=&quot;${userAlignmentDTO}&quot;</code>)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679846959,"post_id":75848146,"comment_id":133790131,"body_markdown":"In case it helps, see also: [Difference between *, $, and #](https://stackoverflow.com/q/57511424/12567365)","body":"In case it helps, see also: <a href=\"https://stackoverflow.com/q/57511424/12567365\">Difference between *, $, and #</a>"},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1679858687,"post_id":75848146,"comment_id":133792059,"body_markdown":"Thanks @andrewJames . I definitely have some doubts about those, but as far as i can tell my code matches the article I referenced.","body":"Thanks @andrewJames . I definitely have some doubts about those, but as far as i can tell my code matches the article I referenced."},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1679859358,"post_id":75848146,"comment_id":133792177,"body_markdown":"By the way @andrewJames I edited the Thymeleaf template just now and error message to make it more clear.","body":"By the way @andrewJames I edited the Thymeleaf template just now and error message to make it more clear."}],"answers":[{"tags":[],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679859986,"creation_date":1679859986,"answer_id":75850163,"question_id":75848146,"body_markdown":"Looks like I was missing the proper NoArgs constructor for Thymeleaf.\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n```\r\n\r\nFrom chatGPT: \r\n\r\n&gt; Based on the error message, it looks like there is no default\r\n&gt; constructor for the UserAlignmentSourceDTO2 class. That means that\r\n&gt; Thymeleaf is unable to create an instance of this class when it tries\r\n&gt; to bind form data to a UserAlignmentDTO object.\r\n\r\n","title":"How to bind fields in a list to a Thymeleaf form? [Bean property is not readable]","body":"<p>Looks like I was missing the proper NoArgs constructor for Thymeleaf.</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n</code></pre>\n<p>From chatGPT:</p>\n<blockquote>\n<p>Based on the error message, it looks like there is no default\nconstructor for the UserAlignmentSourceDTO2 class. That means that\nThymeleaf is unable to create an instance of this class when it tries\nto bind form data to a UserAlignmentDTO object.</p>\n</blockquote>\n"}],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75850163,"answer_count":1,"score":0,"last_activity_date":1679859986,"creation_date":1679838383,"question_id":75848146,"body_markdown":"I have an object that can either have two or three repeating sets of fields. It seems like the easiest way to handle that is with a list and a form that will expand or contract with the size of the list.\r\n\r\nUnfortunately, I keep getting an error suggesting that Thymeleaf doesn&#39;t recognize the variables I&#39;m trying to bind to the main form object. This problem is solved in [this article](https://www.baeldung.com/thymeleaf-list), but for some reason I am not able to get the same results.\r\n\r\n# What I tried\r\n\r\n## DTO\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignment;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Data\r\n@Builder\r\npublic class UserAlignmentDTO {\r\n    private UnitsEnum units;\r\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources;\r\n\r\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\r\n        Set&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\r\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\r\n                .collect(Collectors.toSet());\r\n\r\n        UserAlignment userAlignment = UserAlignment.builder()\r\n                .preAlignment(preAlignment)\r\n                .userAlignmentSources(userAlignmentSourceList)\r\n                .distanceUnit(units)\r\n                .build();\r\n\r\n        return userAlignment;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\n@Data\r\n@Builder\r\npublic class UserAlignmentSourceDTO2 {\r\n\r\n    private String modelName;\r\n    private Integer count;\r\n    private Float distance;\r\n\r\n    public UserAlignmentSource toUserAlignmentSource() {\r\n\r\n        UserAlignmentSource userAlignmentSource = UserAlignmentSource.builder()\r\n//                .speaker(speaker)\r\n                .count(count)\r\n                .distance(distance)\r\n                .build();\r\n\r\n        return userAlignmentSource;\r\n    }\r\n}\r\n```\r\n\r\n## Controller\r\n\r\n```\r\npackage nathanLively.subAlignerjava.Controllers;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO2;\r\nimport nathanLively.subAlignerjava.Models.*;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Services.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.*;\r\n\r\n@Controller\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/align&quot;)\r\npublic class AlignController {\r\n\r\n    @Autowired\r\n    private final BrandService brandService;\r\n\r\n    @Autowired\r\n    private final SpeakerModelService speakerModelService;\r\n\r\n    @Autowired\r\n    private final DspPresetService dspPresetService;\r\n\r\n    @Autowired\r\n    private final UserAlignmentService userAlignmentService;\r\n\r\n    @Autowired\r\n    private final SpeakerService speakerService;\r\n\r\n    @Autowired\r\n    private final PreAlignmentService preAlignmentService;\r\n\r\n    // Show pre-alignments\r\n    @GetMapping(&quot;/pre-alignments&quot;)\r\n    public String showPreAlignments(Model model) {\r\n\r\n        // Show pre-alignments in model\r\n        model.addAttribute(&quot;preAlignments&quot;, preAlignmentService.findAll());\r\n\r\n        return &quot;pre-alignments&quot;;\r\n    }\r\n\r\n    // Add pre-alignment to user alignment\r\n    @GetMapping(&quot;/pre-alignment/{id}&quot;)\r\n    public String showUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, Model model) {\r\n\r\n        // Find pre-alignment and add to model\r\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\r\n        model.addAttribute(&quot;preAlignment&quot;, preAlignment);\r\n\r\n        // Initialize UserAlignmentSourceDTO2\r\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\r\n        List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSourceDTO2s = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\r\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\r\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\r\n                    .build();\r\n            userAlignmentSourceDTO2s.add(userAlignmentSourceDTO2);\r\n        }\r\n\r\n        // Initialize UserAlignmentDTO and add to model\r\n        UserAlignmentDTO userAlignmentDTO = UserAlignmentDTO.builder()\r\n                .userAlignmentSources(userAlignmentSourceDTO2s)\r\n                .build();\r\n        model.addAttribute(&quot;userAlignmentDTO&quot;, userAlignmentDTO);\r\n\r\n        // Show distance units in model\r\n        model.addAttribute(&quot;units&quot;, List.of(UnitsEnum.METERS, UnitsEnum.FEET));\r\n\r\n        return &quot;user-alignment&quot;;\r\n    }\r\n\r\n    // Create UserAlignment and calculate result\r\n    @PostMapping(&quot;/calculate/{id}&quot;)\r\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO, Model model) {\r\n\r\n        // Find pre-alignment\r\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\r\n//        preAlignment.getPreAlignmentSources().get(0)\r\n\r\n        // Convert UserAlignmentDTO to UserAlignment\r\n        UserAlignment userAlignment = userAlignmentDTO.toUserAlignment(preAlignment);\r\n\r\n        // Calculate result\r\n//        userAlignment.calculateResult();\r\n\r\n        // Save user alignment\r\n        userAlignmentService.save(userAlignment);\r\n\r\n        // Show result\r\n        model.addAttribute(&quot;userAlignment&quot;, userAlignment);\r\n\r\n        return &quot;result&quot;;\r\n    }\r\n```\r\n\r\n## Thymeleaf template\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{layout/layout}&quot;\r\n      th:with=&quot;activeMenuItem=&#39;align&#39;&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;User Alignment&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\r\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\r\n    &lt;form id=&quot;source-form&quot;\r\n          th:object=&quot;${userAlignmentDTO}&quot;\r\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\r\n            &lt;label th:text=&quot;${iter.index + 1} + &#39;.&#39;&quot;&gt;&lt;/label&gt;\r\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\r\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;label&gt;Unit&lt;/label&gt;\r\n        &lt;select th:field=&quot;*{units}&quot;&gt;\r\n            &lt;option th:each=&quot;unit : ${units}&quot;\r\n                    th:text=&quot;${unit.fullName}&quot;\r\n                    th:value=&quot;${unit}&quot;&gt;meters\r\n            &lt;/option&gt;\r\n        &lt;/select&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n# Expectation\r\n\r\nMy expectation is that when the user clicks the Align button, the form will post to the endpoint and be persisted to the database.\r\n\r\n# Error\r\n\r\n```\r\nInvalid property &#39;userAlignmentSources[0]&#39; of bean class [nathanLively.subAlignerjava.DTO.UserAlignmentDTO]: Illegal attempt to get property &#39;userAlignmentSources&#39; threw exception\r\n```","title":"How to bind fields in a list to a Thymeleaf form? [Bean property is not readable]","body":"<p>I have an object that can either have two or three repeating sets of fields. It seems like the easiest way to handle that is with a list and a form that will expand or contract with the size of the list.</p>\n<p>Unfortunately, I keep getting an error suggesting that Thymeleaf doesn't recognize the variables I'm trying to bind to the main form object. This problem is solved in <a href=\"https://www.baeldung.com/thymeleaf-list\" rel=\"nofollow noreferrer\">this article</a>, but for some reason I am not able to get the same results.</p>\n<h1>What I tried</h1>\n<h2>DTO</h2>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignment;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Data\n@Builder\npublic class UserAlignmentDTO {\n    private UnitsEnum units;\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources;\n\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\n        Set&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\n                .collect(Collectors.toSet());\n\n        UserAlignment userAlignment = UserAlignment.builder()\n                .preAlignment(preAlignment)\n                .userAlignmentSources(userAlignmentSourceList)\n                .distanceUnit(units)\n                .build();\n\n        return userAlignment;\n    }\n}\n</code></pre>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\n@Data\n@Builder\npublic class UserAlignmentSourceDTO2 {\n\n    private String modelName;\n    private Integer count;\n    private Float distance;\n\n    public UserAlignmentSource toUserAlignmentSource() {\n\n        UserAlignmentSource userAlignmentSource = UserAlignmentSource.builder()\n//                .speaker(speaker)\n                .count(count)\n                .distance(distance)\n                .build();\n\n        return userAlignmentSource;\n    }\n}\n</code></pre>\n<h2>Controller</h2>\n<pre><code>package nathanLively.subAlignerjava.Controllers;\n\nimport lombok.RequiredArgsConstructor;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentSourceDTO2;\nimport nathanLively.subAlignerjava.Models.*;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Services.*;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.*;\n\n@Controller\n@RequiredArgsConstructor\n@RequestMapping(&quot;/align&quot;)\npublic class AlignController {\n\n    @Autowired\n    private final BrandService brandService;\n\n    @Autowired\n    private final SpeakerModelService speakerModelService;\n\n    @Autowired\n    private final DspPresetService dspPresetService;\n\n    @Autowired\n    private final UserAlignmentService userAlignmentService;\n\n    @Autowired\n    private final SpeakerService speakerService;\n\n    @Autowired\n    private final PreAlignmentService preAlignmentService;\n\n    // Show pre-alignments\n    @GetMapping(&quot;/pre-alignments&quot;)\n    public String showPreAlignments(Model model) {\n\n        // Show pre-alignments in model\n        model.addAttribute(&quot;preAlignments&quot;, preAlignmentService.findAll());\n\n        return &quot;pre-alignments&quot;;\n    }\n\n    // Add pre-alignment to user alignment\n    @GetMapping(&quot;/pre-alignment/{id}&quot;)\n    public String showUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, Model model) {\n\n        // Find pre-alignment and add to model\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\n        model.addAttribute(&quot;preAlignment&quot;, preAlignment);\n\n        // Initialize UserAlignmentSourceDTO2\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\n        List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSourceDTO2s = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\n                    .build();\n            userAlignmentSourceDTO2s.add(userAlignmentSourceDTO2);\n        }\n\n        // Initialize UserAlignmentDTO and add to model\n        UserAlignmentDTO userAlignmentDTO = UserAlignmentDTO.builder()\n                .userAlignmentSources(userAlignmentSourceDTO2s)\n                .build();\n        model.addAttribute(&quot;userAlignmentDTO&quot;, userAlignmentDTO);\n\n        // Show distance units in model\n        model.addAttribute(&quot;units&quot;, List.of(UnitsEnum.METERS, UnitsEnum.FEET));\n\n        return &quot;user-alignment&quot;;\n    }\n\n    // Create UserAlignment and calculate result\n    @PostMapping(&quot;/calculate/{id}&quot;)\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId, @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO, Model model) {\n\n        // Find pre-alignment\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\n//        preAlignment.getPreAlignmentSources().get(0)\n\n        // Convert UserAlignmentDTO to UserAlignment\n        UserAlignment userAlignment = userAlignmentDTO.toUserAlignment(preAlignment);\n\n        // Calculate result\n//        userAlignment.calculateResult();\n\n        // Save user alignment\n        userAlignmentService.save(userAlignment);\n\n        // Show result\n        model.addAttribute(&quot;userAlignment&quot;, userAlignment);\n\n        return &quot;result&quot;;\n    }\n</code></pre>\n<h2>Thymeleaf template</h2>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;~{layout/layout}&quot;\n      th:with=&quot;activeMenuItem='align'&quot;\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;User Alignment&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\n    &lt;form id=&quot;source-form&quot;\n          th:object=&quot;${userAlignmentDTO}&quot;\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\n          method=&quot;post&quot;&gt;\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\n            &lt;label th:text=&quot;${iter.index + 1} + '.'&quot;&gt;&lt;/label&gt;\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\n        &lt;/th:block&gt;\n        &lt;label&gt;Unit&lt;/label&gt;\n        &lt;select th:field=&quot;*{units}&quot;&gt;\n            &lt;option th:each=&quot;unit : ${units}&quot;\n                    th:text=&quot;${unit.fullName}&quot;\n                    th:value=&quot;${unit}&quot;&gt;meters\n            &lt;/option&gt;\n        &lt;/select&gt;\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\n    &lt;/form&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1>Expectation</h1>\n<p>My expectation is that when the user clicks the Align button, the form will post to the endpoint and be persisted to the database.</p>\n<h1>Error</h1>\n<pre><code>Invalid property 'userAlignmentSources[0]' of bean class [nathanLively.subAlignerjava.DTO.UserAlignmentDTO]: Illegal attempt to get property 'userAlignmentSources' threw exception\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","exception"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679859896,"post_id":75850137,"comment_id":133792246,"body_markdown":"The last `caused by` is generally the most important one. It sounds like you are either [A] missing some hibernate jars, or [B] running your java app with a different version of hibernate than what you use when building it.","body":"The last <code>caused by</code> is generally the most important one. It sounds like you are either [A] missing some hibernate jars, or [B] running your java app with a different version of hibernate than what you use when building it."},{"owner":{"account_id":22705497,"reputation":1,"user_id":16872280,"display_name":"Gregory Shanin"},"score":1,"creation_date":1679860077,"post_id":75850137,"comment_id":133792282,"body_markdown":"@rzwitserlootq yeah, i found a mistake at my pom.xml.. thanks!","body":"@rzwitserlootq yeah, i found a mistake at my pom.xml.. thanks!"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1694746331,"post_id":75850137,"comment_id":135934837,"body_markdown":"@GregoryShanin What was the mistake? Having the same problem.","body":"@GregoryShanin What was the mistake? Having the same problem."}],"owner":{"account_id":22705497,"reputation":1,"user_id":16872280,"display_name":"Gregory Shanin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679859735,"creation_date":1679859735,"question_id":75850137,"body_markdown":"Using last version of Spring Boot, see that.. What could be the reason?\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\r\n\tat ......\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\r\n\tat io.hypersistence.utils.hibernate.type.HibernateTypesContributor.contribute(HibernateTypesContributor.java:61) ~[hypersistence-utils-hibernate-62-3.3.0.jar:na]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.converter.spi.EnumValueConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 31 common frames omitted\r\n```\r\n\r\nI want to write models with OneToMany relations to PostgreSQL","title":"EnumValueConverter ClassNotFoundException","body":"<p>Using last version of Spring Boot, see that.. What could be the reason?</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\n    at ......\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/converter/spi/EnumValueConverter\n    at io.hypersistence.utils.hibernate.type.HibernateTypesContributor.contribute(HibernateTypesContributor.java:61) ~[hypersistence-utils-hibernate-62-3.3.0.jar:na]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 19 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.converter.spi.EnumValueConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 31 common frames omitted\n</code></pre>\n<p>I want to write models with OneToMany relations to PostgreSQL</p>\n"},{"tags":["java","jackson","fasterxml"],"answers":[{"comments":[{"owner":{"account_id":12718802,"reputation":127,"user_id":9239937,"display_name":"MedMahmoud"},"score":0,"creation_date":1679858141,"post_id":75846585,"comment_id":133791976,"body_markdown":"This seems to be the right way to do it but I am having this error now : `Caused&#160;by:&#160;java.lang.NoSuchMethodError:&#160;\n\tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory._createContentReference(Ljava/lang/Object;)\n\tLcom/fasterxml/jackson/core/io/ContentReference; at&#160;\n\tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.createParser(JavaPropsFactory.java:157) at&#160;\n\tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:107) at&#160;\n\tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:141) at&#160;`","body":"This seems to be the right way to do it but I am having this error now : <code>Caused by: java.lang.NoSuchMethodError:  \tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.&zwnj;&#8203;_createContentRefere&zwnj;&#8203;nce(Ljava&#47;lang&#47;Objec&zwnj;&#8203;t;) \tLcom&#47;fasterxml&#47;jackson&#47;core&#47;io&#47;ContentReference; at  \tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.&zwnj;&#8203;createParser(JavaPro&zwnj;&#8203;psFactory.java:157) at  \tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.r&zwnj;&#8203;eadPropertiesAs(Java&zwnj;&#8203;PropsMapper.java:107&zwnj;&#8203;) at  \tcom.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.r&zwnj;&#8203;eadPropertiesAs(Java&zwnj;&#8203;PropsMapper.java:141&zwnj;&#8203;) at </code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680168989,"post_id":75846585,"comment_id":133853563,"body_markdown":"This looks like a problem with other dependencies. I answered your question - please accept my answer and ask another question.","body":"This looks like a problem with other dependencies. I answered your question - please accept my answer and ask another question."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679820799,"creation_date":1679818189,"answer_id":75846585,"question_id":75845001,"body_markdown":"Use \r\n```\r\npublic &lt;T&gt; T readPropertiesAs(Properties props,\r\n                     Class&lt;T&gt; valueType)\r\n                   throws IOException\r\n```\r\n\r\n[`Full example`][1]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-dataformats-text/javadoc/properties/2.9/com/fasterxml/jackson/dataformat/javaprop/JavaPropsMapper.html#readPropertiesAs(java.util.Properties,%20java.lang.Class)","title":"JavaPropsMapper in com.fasterxml.jackson version 2.14.2","body":"<p>Use</p>\n<pre><code>public &lt;T&gt; T readPropertiesAs(Properties props,\n                     Class&lt;T&gt; valueType)\n                   throws IOException\n</code></pre>\n<p><a href=\"https://fasterxml.github.io/jackson-dataformats-text/javadoc/properties/2.9/com/fasterxml/jackson/dataformat/javaprop/JavaPropsMapper.html#readPropertiesAs(java.util.Properties,%20java.lang.Class)\" rel=\"nofollow noreferrer\"><code>Full example</code></a></p>\n"}],"owner":{"account_id":12718802,"reputation":127,"user_id":9239937,"display_name":"MedMahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846585,"answer_count":1,"score":0,"last_activity_date":1679858991,"creation_date":1679785269,"question_id":75845001,"body_markdown":"I did an upgrade of `com.fasterxml.jackson` from `2.8.8` to `2.14.2` but I noticed that the following code will not work in version `2.14.2` :\r\n\r\n     //where javaPropsMapper is an instance of com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper;\r\n     // and Properties is from java.util.Properties\r\n\r\n     Properties prop = new Properties();\r\n     properties.setProperty(&quot;a.key&quot;, &quot;value&quot;);\r\n     JsonNode result = javaPropsMapper.readValue(prop, JsonNode.class);\r\n\r\nthe above code in version 2.14.2 does not compile because there is no method javaPropsMapper.readValue that accepts these arguments anymore.\r\n\r\nIn version 2.8.8 the output would be a JsonNode like this: `{&quot;a&quot;:{&quot;key&quot;:&quot;value&quot;}}`\r\n\r\nPlease let me know if you have any hints/info or an alternative way to do it.\r\nThanks a lot  ","title":"JavaPropsMapper in com.fasterxml.jackson version 2.14.2","body":"<p>I did an upgrade of <code>com.fasterxml.jackson</code> from <code>2.8.8</code> to <code>2.14.2</code> but I noticed that the following code will not work in version <code>2.14.2</code> :</p>\n<pre><code> //where javaPropsMapper is an instance of com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper;\n // and Properties is from java.util.Properties\n\n Properties prop = new Properties();\n properties.setProperty(&quot;a.key&quot;, &quot;value&quot;);\n JsonNode result = javaPropsMapper.readValue(prop, JsonNode.class);\n</code></pre>\n<p>the above code in version 2.14.2 does not compile because there is no method javaPropsMapper.readValue that accepts these arguments anymore.</p>\n<p>In version 2.8.8 the output would be a JsonNode like this: <code>{&quot;a&quot;:{&quot;key&quot;:&quot;value&quot;}}</code></p>\n<p>Please let me know if you have any hints/info or an alternative way to do it.\nThanks a lot</p>\n"},{"tags":["java","spring","spring-boot","jakarta-ee","shiro"],"answers":[{"comments":[{"owner":{"account_id":24887490,"reputation":47,"user_id":18759913,"display_name":"kentoto"},"score":0,"creation_date":1679889603,"post_id":75840507,"comment_id":133795769,"body_markdown":"Thank you so much for the solution. I tried and it work. Just wondering if I added exclusions, would it eliminate/disable some functionalities provided by Shiro?","body":"Thank you so much for the solution. I tried and it work. Just wondering if I added exclusions, would it eliminate/disable some functionalities provided by Shiro?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1679910232,"post_id":75840507,"comment_id":133799246,"body_markdown":"I don&#39;t believe so. The exclusions are replacing the standard variant of a dependency with its jakarta equivalent. This should result in the same functionality, but using jakarta.servlet rather than javax.servlet.","body":"I don&#39;t believe so. The exclusions are replacing the standard variant of a dependency with its jakarta equivalent. This should result in the same functionality, but using jakarta.servlet rather than javax.servlet."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679858640,"creation_date":1679733164,"answer_id":75840507,"question_id":75838823,"body_markdown":"Spring Boot 3.0 requires Servlet 5.0 where the classes moved from `javax.servlet` to `jakarta.servlet`. Shiro provides dependencies that are Servlet 5.0-compatible. They have a `jakarta` classifier as described [here](https://shiro.apache.org/jakarta-ee.html).\r\n\r\nUnfortunately, some of Shiro&#39;s Jakarta-classified dependencies depend on the non-jakarta variant of some modules so you have to do some juggling with exclusions. Something like this:\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n  \t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  \t\t\t&lt;version&gt;1.11.0&lt;/version&gt;\r\n  \t\t\t&lt;exclusions&gt;\r\n  \t\t\t\t&lt;exclusion&gt;\r\n  \t\t\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n  \t\t\t\t&lt;/exclusion&gt;\r\n  \t\t\t\t&lt;exclusion&gt;\r\n  \t\t\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n  \t\t\t\t&lt;/exclusion&gt;\r\n  \t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n  \t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  \t\t\t&lt;version&gt;1.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n  \t\t\t&lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n  \t\t\t&lt;version&gt;1.11.0&lt;/version&gt;\r\n  \t\t\t&lt;exclusions&gt;\r\n  \t\t\t\t&lt;exclusion&gt;\r\n  \t\t\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n  \t\t\t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n  \t\t\t\t&lt;/exclusion&gt;\r\n  \t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Apache Shiro encountering java.lang.NoClassDefFoundError: javax/servlet/Filter with SpringBoot 3.0","body":"<p>Spring Boot 3.0 requires Servlet 5.0 where the classes moved from <code>javax.servlet</code> to <code>jakarta.servlet</code>. Shiro provides dependencies that are Servlet 5.0-compatible. They have a <code>jakarta</code> classifier as described <a href=\"https://shiro.apache.org/jakarta-ee.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Unfortunately, some of Shiro's Jakarta-classified dependencies depend on the non-jakarta variant of some modules so you have to do some juggling with exclusions. Something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n                    &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n                    &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\n            &lt;version&gt;1.11.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n                    &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24887490,"reputation":47,"user_id":18759913,"display_name":"kentoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679858640,"creation_date":1679700629,"question_id":75838823,"body_markdown":"I am currently using Java 17 with SpringBoot 3.0 and Apache Shiro ver 1.10.0. I was trying to use ShiroConfig to add some basic filters for api access(both `/update` and `/add`).\r\n\r\nI keep encountering the folllowing exceptions:\r\n```\r\njava.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n\tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n\tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n\tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n\tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.4.jar:6.0.4]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$FactoryBeanMethodTypeFinder.doWith(AbstractAutowireCapableBeanFactory.java:1935) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:366) ~[spring-core-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBeanFromMethod(AbstractAutowireCapableBeanFactory.java:935) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:874) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:619) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:572) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerSyntheticBeanIfMissing(ServletWebServerFactoryAutoConfiguration.java:147) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerBeanDefinitions(ServletWebServerFactoryAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n\tat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat book.demo.java.Application.main(Application.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 81 common frames omitted\r\n```\r\n\r\n\r\nHere is my `pom.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;book.demo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;book.demo.java&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;book.demo.java&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nSo I tried to add the following dependency, but then the filter is not working at all:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nMy `ShiroConfig` class:\r\n\r\n```\r\npackage book.demo.java.shiro;\r\n\r\nimport org.apache.shiro.spring.web.ShiroFilterFactoryBean;\r\nimport org.apache.shiro.web.mgt.DefaultWebSecurityManager;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class ShiroConfig {\r\n\r\n    @Bean(name = &quot;shiroFilterFactoryBean&quot;)\r\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(&quot;defaultWebSecurityManager&quot;) DefaultWebSecurityManager securityManager) {\r\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\r\n\r\n        shiroFilterFactoryBean.setSecurityManager(securityManager);\r\n\r\n        Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;String, String&gt;();\r\n\r\n        filterMap.put(&quot;/update&quot;, &quot;anon&quot;);\r\n\r\n        filterMap.put(&quot;/add&quot;, &quot;authc&quot;);\r\n\r\n        filterMap.put(&quot;/*&quot;, &quot;authc&quot;);\r\n\r\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterMap);\r\n        return shiroFilterFactoryBean;\r\n    }\r\n\r\n    @Bean(name = &quot;defaultWebSecurityManager&quot;)\r\n    public DefaultWebSecurityManager getDefaultWebSecurityManager(@Qualifier(&quot;userRealm&quot;) UserRealm userRealm) {\r\n\r\n        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager();\r\n\r\n        securityManager.setRealm(userRealm);\r\n        return securityManager;\r\n    }\r\n\r\n    @Bean(name = &quot;userRealm&quot;)\r\n    public UserRealm getRealm() {\r\n        return new UserRealm();\r\n    }\r\n}\r\n```\r\n\r\nI tried switching to Java 1.8 and SpringBoot 2.2.4.RELEASE without javax dependency, then it works. Is it something to do with dependency versions and is there a workaround for using Java 17 with Apache Shiro? Thank you!\r\n","title":"Apache Shiro encountering java.lang.NoClassDefFoundError: javax/servlet/Filter with SpringBoot 3.0","body":"<p>I am currently using Java 17 with SpringBoot 3.0 and Apache Shiro ver 1.10.0. I was trying to use ShiroConfig to add some basic filters for api access(both <code>/update</code> and <code>/add</code>).</p>\n<p>I keep encountering the folllowing exceptions:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/servlet/Filter\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:488) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1243) ~[na:na]\n    at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$FactoryBeanMethodTypeFinder.doWith(AbstractAutowireCapableBeanFactory.java:1935) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:366) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBeanFromMethod(AbstractAutowireCapableBeanFactory.java:935) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:874) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:619) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:572) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerSyntheticBeanIfMissing(ServletWebServerFactoryAutoConfiguration.java:147) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration$BeanPostProcessorsRegistrar.registerBeanDefinitions(ServletWebServerFactoryAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.4.jar:6.0.4]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:372) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at book.demo.java.Application.main(Application.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 81 common frames omitted\n</code></pre>\n<p>Here is my <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;book.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;book.demo.java&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;book.demo.java&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n            &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>So I tried to add the following dependency, but then the filter is not working at all:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My <code>ShiroConfig</code> class:</p>\n<pre><code>package book.demo.java.shiro;\n\nimport org.apache.shiro.spring.web.ShiroFilterFactoryBean;\nimport org.apache.shiro.web.mgt.DefaultWebSecurityManager;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\n@Configuration\npublic class ShiroConfig {\n\n    @Bean(name = &quot;shiroFilterFactoryBean&quot;)\n    public ShiroFilterFactoryBean getShiroFilterFactoryBean(@Qualifier(&quot;defaultWebSecurityManager&quot;) DefaultWebSecurityManager securityManager) {\n        ShiroFilterFactoryBean shiroFilterFactoryBean = new ShiroFilterFactoryBean();\n\n        shiroFilterFactoryBean.setSecurityManager(securityManager);\n\n        Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;String, String&gt;();\n\n        filterMap.put(&quot;/update&quot;, &quot;anon&quot;);\n\n        filterMap.put(&quot;/add&quot;, &quot;authc&quot;);\n\n        filterMap.put(&quot;/*&quot;, &quot;authc&quot;);\n\n        shiroFilterFactoryBean.setFilterChainDefinitionMap(filterMap);\n        return shiroFilterFactoryBean;\n    }\n\n    @Bean(name = &quot;defaultWebSecurityManager&quot;)\n    public DefaultWebSecurityManager getDefaultWebSecurityManager(@Qualifier(&quot;userRealm&quot;) UserRealm userRealm) {\n\n        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager();\n\n        securityManager.setRealm(userRealm);\n        return securityManager;\n    }\n\n    @Bean(name = &quot;userRealm&quot;)\n    public UserRealm getRealm() {\n        return new UserRealm();\n    }\n}\n</code></pre>\n<p>I tried switching to Java 1.8 and SpringBoot 2.2.4.RELEASE without javax dependency, then it works. Is it something to do with dependency versions and is there a workaround for using Java 17 with Apache Shiro? Thank you!</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679858027,"creation_date":1679858027,"question_id":75850000,"body_markdown":"I have a set of pre-generated entity beans and they are mapped to tables with some columns not having a matching bean property. During the generation of the entity beans the final DB schema is unknown. I want to add a single property of the type `Map&lt;String, Object&gt;` to load these extra columns from the tables and of course persist them back to the tables. \r\n\r\nThe entity beans are unannotated. Instead I generate a mapping XML when the final DB schema is already known. I read that if you omit the `class` attribute in the `&lt;entity&gt;` element then Hibernate will instantiate a regular Map, but I need a mixture of a java bean and a map.","title":"load unmapped columns into a map field in the entity bean (like @JsonAnySetter)","body":"<p>I have a set of pre-generated entity beans and they are mapped to tables with some columns not having a matching bean property. During the generation of the entity beans the final DB schema is unknown. I want to add a single property of the type <code>Map&lt;String, Object&gt;</code> to load these extra columns from the tables and of course persist them back to the tables.</p>\n<p>The entity beans are unannotated. Instead I generate a mapping XML when the final DB schema is already known. I read that if you omit the <code>class</code> attribute in the <code>&lt;entity&gt;</code> element then Hibernate will instantiate a regular Map, but I need a mixture of a java bean and a map.</p>\n"},{"tags":["java","terminal","telnet","ansi-escape"],"answers":[{"tags":[],"owner":{"account_id":5719288,"reputation":51945,"user_id":4518274,"display_name":"Thomas Dickey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463742817,"creation_date":1463742817,"answer_id":37345236,"question_id":37342223,"body_markdown":"Conventional applications pay attention to `TERM`, so that `dumb` (which does *not* use color) would do what you want.  However, there are a number of hardcoded applications (no comment needed).\r\n\r\nSome of those will suppress color if you redirect the output of your program to a file, e.g.\r\n\r\n    foo &gt;bar\r\n\r\nbut many (probably the majority of the misbehaving programs) ignore even that.  To work around those, you have to *filter* the results, either by a `sed` script or similar program, or by (for example) capturing the output of your command by redirecting or using `script` and then *post-processing* the result.  For instance, you could do this with a script something like\r\n\r\n    #!/bin/sh\r\n    myscript=$(mktemp)\r\n    trap &quot;sed -f $myscript typescript; rm -f $myscript typescript&quot; EXIT INT QUIT HUP\r\n    cat &gt;$myscript &lt;&lt;&quot;EOF&quot;\r\n    s/^[[[][&lt;=&gt;?]\\{0,1\\}[;0-9]*[@-~]//g\r\n    xample:\r\n    s/^[[]][^^[]*^[//g\r\n    s/^[[]][^^[]*^[\\\\//g\r\n    :loop\r\n    s/[^^[]^[\\(.\\)/\\1/g\r\n    t loop\r\n    s/  *$//g\r\n    s/^.* //g\r\n    s/^[[^[]//g\r\n    /\\1/g\r\n    EOF\r\n    script -c &quot;$*&quot; &gt;/dev/null\r\n\r\nwhich illustrates the approach.  Most of the `^[` pairs in the example are literal ASCII escape characters, which you won&#39;t be able to select/paste.  The original sed script is here: [script2log][1]\r\n\r\nThe point of the script is that it runs the command normally and then echoes the filter results.\r\n\r\n\r\n  [1]: http://invisible-island.net/scripts/readme.html#item:script2log","title":"TelnetClient output - ANSI disable","body":"<p>Conventional applications pay attention to <code>TERM</code>, so that <code>dumb</code> (which does <em>not</em> use color) would do what you want.  However, there are a number of hardcoded applications (no comment needed).</p>\n\n<p>Some of those will suppress color if you redirect the output of your program to a file, e.g.</p>\n\n<pre><code>foo &gt;bar\n</code></pre>\n\n<p>but many (probably the majority of the misbehaving programs) ignore even that.  To work around those, you have to <em>filter</em> the results, either by a <code>sed</code> script or similar program, or by (for example) capturing the output of your command by redirecting or using <code>script</code> and then <em>post-processing</em> the result.  For instance, you could do this with a script something like</p>\n\n<pre><code>#!/bin/sh\nmyscript=$(mktemp)\ntrap \"sed -f $myscript typescript; rm -f $myscript typescript\" EXIT INT QUIT HUP\ncat &gt;$myscript &lt;&lt;\"EOF\"\ns/^[[[][&lt;=&gt;?]\\{0,1\\}[;0-9]*[@-~]//g\nxample:\ns/^[[]][^^[]*^[//g\ns/^[[]][^^[]*^[\\\\//g\n:loop\ns/[^^[]^[\\(.\\)/\\1/g\nt loop\ns/  *$//g\ns/^.* //g\ns/^[[^[]//g\n/\\1/g\nEOF\nscript -c \"$*\" &gt;/dev/null\n</code></pre>\n\n<p>which illustrates the approach.  Most of the <code>^[</code> pairs in the example are literal ASCII escape characters, which you won't be able to select/paste.  The original sed script is here: <a href=\"http://invisible-island.net/scripts/readme.html#item:script2log\" rel=\"nofollow\">script2log</a></p>\n\n<p>The point of the script is that it runs the command normally and then echoes the filter results.</p>\n"}],"owner":{"account_id":6710833,"reputation":11,"user_id":5219633,"display_name":"Banjić Medina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679857683,"creation_date":1463734344,"question_id":37342223,"body_markdown":"I have seen similar question and answers on stackoverflow.com\r\n\r\nUnfortunately, this is not working for me. I have the same code as the example given in previous questions like this, but the &quot;dumb&quot; terminal type (TelnetClient telnet = new TelnetClient(&quot;dumb&quot;) was he solution for others ) is not filtering ANSI chars so I get this:\r\n\r\nLast login: Fri May 20 10:09:21 from 172.20.22.244\r\n\r\n[01;33mteltest@vivadev[00m:[01;34m~[00m$ ls ls testing [01;33mteltest@vivadev[00m:[01;34m~[00m$ cd testing cd testing [01;33mteltest@vivadev[00m:[01;34m~/testing[00m$ ls\r\n\r\nand I need a readable file. Is there any other solution known, as encoding outputStream, anything?\r\n\r\nThank you.","title":"TelnetClient output - ANSI disable","body":"<p>I have seen similar question and answers on stackoverflow.com</p>\n\n<p>Unfortunately, this is not working for me. I have the same code as the example given in previous questions like this, but the \"dumb\" terminal type (TelnetClient telnet = new TelnetClient(\"dumb\") was he solution for others ) is not filtering ANSI chars so I get this:</p>\n\n<p>Last login: Fri May 20 10:09:21 from 172.20.22.244</p>\n\n<p>[01;33mteltest@vivadev[00m:[01;34m~[00m$ ls ls testing [01;33mteltest@vivadev[00m:[01;34m~[00m$ cd testing cd testing [01;33mteltest@vivadev[00m:[01;34m~/testing[00m$ ls</p>\n\n<p>and I need a readable file. Is there any other solution known, as encoding outputStream, anything?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","colors","ansi-escape","jansi"],"comments":[{"owner":{"display_name":"user784540"},"score":0,"creation_date":1431251234,"post_id":30149910,"comment_id":48407470,"body_markdown":"have you seen these links? https://code.google.com/p/jlibs/wiki/AnsiColoring and http://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","body":"have you seen these links? <a href=\"https://code.google.com/p/jlibs/wiki/AnsiColoring\" rel=\"nofollow noreferrer\">code.google.com/p/jlibs/wiki/AnsiColoring</a> and <a href=\"http://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\" title=\"how to print color in console using system out println\">stackoverflow.com/questions/5762491/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1431255499,"post_id":30149910,"comment_id":48408552,"body_markdown":"&#39;Did not work&#39; is not a problem description. Neither is &#39;could not find the method&#39;. No code provided. &#39;Website was down&#39; isn&#39;t relevant to questions here. Unanwerable as is.","body":"&#39;Did not work&#39; is not a problem description. Neither is &#39;could not find the method&#39;. No code provided. &#39;Website was down&#39; isn&#39;t relevant to questions here. Unanwerable as is."},{"owner":{"account_id":5862697,"reputation":143,"user_id":4617817,"accept_rate":69,"display_name":"Daan Meijer"},"score":0,"creation_date":1431359562,"post_id":30149910,"comment_id":48450439,"body_markdown":"@RafaelOsipov yes i did but it does not recoginze Ansi ansi = new Ansi ansi = new Ansi(Ansi.Attribute.BRIGHT, Ansi.Color.BLUE, Ansi.Color.WHITE);","body":"@RafaelOsipov yes i did but it does not recoginze Ansi ansi = new Ansi ansi = new Ansi(Ansi.Attribute.BRIGHT, Ansi.Color.BLUE, Ansi.Color.WHITE);"}],"owner":{"account_id":5862697,"reputation":143,"user_id":4617817,"accept_rate":69,"display_name":"Daan Meijer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679857582,"creation_date":1431250984,"question_id":30149910,"body_markdown":"I am trying to send coloured messages in the console with ANSI. I added the jasni 1.9 to my jar and I tried to use the methods of ansi but that did not work. \r\nThe second thing I have tried was to go to the jansi website but the website was down. \r\nAnd the third thing I tried was to go to youtube and google but I could not find any tutorials to install jansi.\r\nWhat happens when I add it to my build path and try 1 of the methods it say that I could not find the method.\r\nWhat did I do wrong or how do I install it else?  \r\n","title":"Java - How to use ANSI in java","body":"<p>I am trying to send coloured messages in the console with ANSI. I added the jasni 1.9 to my jar and I tried to use the methods of ansi but that did not work. \nThe second thing I have tried was to go to the jansi website but the website was down. \nAnd the third thing I tried was to go to youtube and google but I could not find any tutorials to install jansi.\nWhat happens when I add it to my build path and try 1 of the methods it say that I could not find the method.\nWhat did I do wrong or how do I install it else?  </p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver"],"answers":[{"comments":[{"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"score":0,"creation_date":1491304024,"post_id":43205351,"comment_id":73482364,"body_markdown":"I have edited code once again. Please check. @Kushal, how do I identify the value for allAmountValues?","body":"I have edited code once again. Please check. @Kushal, how do I identify the value for allAmountValues?"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1491304236,"post_id":43205351,"comment_id":73482510,"body_markdown":"you have to run this again  `List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(//table[@width=760][@cellspacing=1])[2]/tbody/tr/td[8]/div&quot;));`","body":"you have to run this again  <code>List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(&#47;&#47;table[@width=760][@cellspac&zwnj;&#8203;ing=1])[2]&#47;tbody&#47;tr&#47;&zwnj;&#8203;td[8]&#47;div&quot;));</code>"},{"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"score":0,"creation_date":1491304608,"post_id":43205351,"comment_id":73482758,"body_markdown":"I am afraid, I do not understand. Cause it&#39;s in the loop. Could you please show me how to do it?","body":"I am afraid, I do not understand. Cause it&#39;s in the loop. Could you please show me how to do it?"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1491304766,"post_id":43205351,"comment_id":73482870,"body_markdown":"add `List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(//table[@width=760][@cellspac‌​ing=1])[2]/tbody/tr/‌​td[8]/div&quot;));` as first statement in for loop","body":"add <code>List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(&#47;&#47;table[@width=760][@cellspac&zwnj;&#8203;‌​ing=1])[2]&#47;tbody&#47;t&zwnj;&#8203;r&#47;‌​td[8]&#47;div&quot;));</code> as first statement in for loop"},{"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"score":0,"creation_date":1491306950,"post_id":43205351,"comment_id":73484409,"body_markdown":"I have received same error as &#39;stale Element Exception&#39;  on same position","body":"I have received same error as &#39;stale Element Exception&#39;  on same position"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1491307276,"post_id":43205351,"comment_id":73484641,"body_markdown":"does your code looks like `for (int i1 =1; i1&lt;allAmountValues.size();i1++) {\n\n    List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(//table[@width=760][@cellspac‌​ing=1])[2]/tbody/tr/‌​td[8]/div&quot;));\n\n                    String amount = allAmountValues.get(i1+1).getText().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);`","body":"does your code looks like <code>for (int i1 =1; i1&lt;allAmountValues.size();i1++) {      List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(&#47;&#47;table[@width=760][@cellspac&zwnj;&#8203;‌​ing=1])[2]&#47;tbody&#47;t&zwnj;&#8203;r&#47;‌​td[8]&#47;div&quot;));                      String amount = allAmountValues.get(i1+1).getText().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);</code>"},{"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"score":0,"creation_date":1491307517,"post_id":43205351,"comment_id":73484831,"body_markdown":"Yes! it&#39;s the same. I have added to it to first line inside the for loop","body":"Yes! it&#39;s the same. I have added to it to first line inside the for loop"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1491310334,"post_id":43205351,"comment_id":73486981,"body_markdown":"Where does the flow go when you click `clickNext.click();`","body":"Where does the flow go when you click <code>clickNext.click();</code>"},{"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"score":0,"creation_date":1491818239,"post_id":43205351,"comment_id":73704364,"body_markdown":"It goes to the next page(Only if test value ==100000 is not found) and again searches for the specified test value. This cycle goes on till web driver find the test value. Above code execute successfully when there is a test value on the first page but if it is on the second page then stale element exception will appear as an error.","body":"It goes to the next page(Only if test value ==100000 is not found) and again searches for the specified test value. This cycle goes on till web driver find the test value. Above code execute successfully when there is a test value on the first page but if it is on the second page then stale element exception will appear as an error."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1491818628,"post_id":43205351,"comment_id":73704632,"body_markdown":"is it possible for you to share your URL?","body":"is it possible for you to share your URL?"},{"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"score":0,"creation_date":1491827422,"post_id":43205351,"comment_id":73710512,"body_markdown":"I wish I could but it&#39;s internal application limited to my organization. Not visible outside.","body":"I wish I could but it&#39;s internal application limited to my organization. Not visible outside."}],"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491303709,"creation_date":1491303709,"answer_id":43205351,"question_id":43205160,"body_markdown":"**Cause:**\r\n\r\n`allAmountValues` is stored initially so when you move between pages, yoou try  to use the same elements stored earlier; hgence causing you `StaleElementException`\r\n\r\n**Solution:**\r\n\r\nYou have to identify `allAmountValues`again after each time you leave a page and go back to original page.","title":"Stale Element Reference Exception: How to solve?","body":"<p><strong>Cause:</strong></p>\n\n<p><code>allAmountValues</code> is stored initially so when you move between pages, yoou try  to use the same elements stored earlier; hgence causing you <code>StaleElementException</code></p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You have to identify <code>allAmountValues</code>again after each time you leave a page and go back to original page.</p>\n"},{"tags":[],"owner":{"account_id":9166757,"reputation":121,"user_id":6816011,"display_name":"CodeGreen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679857099,"creation_date":1679857099,"answer_id":75849899,"question_id":43205160,"body_markdown":"Selenium keeps a track of all elements in form of a Reference as and when findElement/findElements is used. And while reusing the element, selenium uses that Reference instead of finding the element again in the DOM. But sometimes due the AJAX request and responses this reference is no longer fresh, hence StaleElementReferenceException is thrown.\r\n\r\nWe will have to create a separate click method and pass the element to be clicked as a parameter. The idea is to re-initialize the element and finding it again.\r\n\r\n    public void clickElement(WebElement element) {\r\n    try {\r\n        element.click();\r\n    } catch (StaleElementReferenceException stale) {\r\n        System.out.println(&quot;Element is stale. Clicking again&quot;);\r\n        element = reInitializeStaleElement(element);\r\n        element.click();\r\n    }\r\n    }\r\n    // method to re-initialize the stale element\r\n    public WebElement reInitializeStaleElement(WebElement ) {\r\n    // lets convert element to string, so we can get it&#39;s locator\r\n    String elementStr = element.toString();\r\n    elementStr = elementStr.split(&quot;-&gt;&quot;)[1];\r\n    String byType = elementStr.split(&quot;:&quot;)[0].trim();\r\n    String locator = elementStr.split(&quot;:&quot;)[1].trim();\r\n    locator = locator.substring(0, locator.length() - 1);\r\n    switch (byType) {\r\n        case &quot;xpath&quot;:\r\n            return DRIVER.findElement(By.xpath(locator));\r\n        case &quot;css&quot;:\r\n            return DRIVER.findElement(By.cssSelector(locator));\r\n        case &quot;id&quot;:\r\n            return DRIVER.findElement(By.id(locator));\r\n        case &quot;name&quot;:\r\n            return DRIVER.findElement(By.name(locator));\r\n    }\r\n    }","title":"Stale Element Reference Exception: How to solve?","body":"<p>Selenium keeps a track of all elements in form of a Reference as and when findElement/findElements is used. And while reusing the element, selenium uses that Reference instead of finding the element again in the DOM. But sometimes due the AJAX request and responses this reference is no longer fresh, hence StaleElementReferenceException is thrown.</p>\n<p>We will have to create a separate click method and pass the element to be clicked as a parameter. The idea is to re-initialize the element and finding it again.</p>\n<pre><code>public void clickElement(WebElement element) {\ntry {\n    element.click();\n} catch (StaleElementReferenceException stale) {\n    System.out.println(&quot;Element is stale. Clicking again&quot;);\n    element = reInitializeStaleElement(element);\n    element.click();\n}\n}\n// method to re-initialize the stale element\npublic WebElement reInitializeStaleElement(WebElement ) {\n// lets convert element to string, so we can get it's locator\nString elementStr = element.toString();\nelementStr = elementStr.split(&quot;-&gt;&quot;)[1];\nString byType = elementStr.split(&quot;:&quot;)[0].trim();\nString locator = elementStr.split(&quot;:&quot;)[1].trim();\nlocator = locator.substring(0, locator.length() - 1);\nswitch (byType) {\n    case &quot;xpath&quot;:\n        return DRIVER.findElement(By.xpath(locator));\n    case &quot;css&quot;:\n        return DRIVER.findElement(By.cssSelector(locator));\n    case &quot;id&quot;:\n        return DRIVER.findElement(By.id(locator));\n    case &quot;name&quot;:\n        return DRIVER.findElement(By.name(locator));\n}\n}\n</code></pre>\n"}],"owner":{"account_id":10347015,"reputation":59,"user_id":7631649,"accept_rate":50,"display_name":"Akki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3744,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679857099,"creation_date":1491303164,"question_id":43205160,"body_markdown":"**Problem Statement:** I am getting Stale Element Exception when for loop executes the second time. \r\n\r\n**Description:**\r\n\r\nI am using for loop to handle table elements. In the first iteration, it will search for the required element on the page. If the element is not available on that page then it will go and search on the second page.  Webdriver successfully finds the element if its available on the first page but if it&#39;s not available on the first page then it will look for the element on the second page. But here for loop fails with the exception called &#39;Stale Element Exception.\r\n\r\nError Message:\r\n\r\n&gt; Exception in thread &quot;main&quot; org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document\r\n\r\n\r\n**Code:**\r\n        \r\n     List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(&quot;(//table[@width=760][@cellspacing=1])[2]/tbody/tr/td[8]/div&quot;));\r\n    \t\r\n    \t for(int i =0;i&lt;allAmountValues.size();i++){\r\n    \t   System.out.println(&quot;Value are : &quot;+allAmountValues.get(i).getText().replaceAll(&quot;\\\\s+&quot;, &quot; &quot;));\r\n    \t }\r\n\r\n \r\n\r\n    String testValue = &quot;100000&quot;;\r\n     System.out.println(&quot;No.of Rows in the Table : &quot;+allAmountValues.size());   \t\t     \r\n    \t           \r\n    \t\t       for (int i1 =1; i1&lt;allAmountValues.size();i1++) {\r\n    \t\t        \r\n    \t\t    \t  \r\n    \t\t    \t    String amount = allAmountValues.get(i1+1).getText().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n    \t\t    \t    //System.out.println(&quot;amount Values : &quot;+amount);\r\n    \t\t    \t    System.out.println(&quot;Value are : &quot; + allAmountValues.get(i1).getText() + &quot;== Corresponding link is : &quot; + clicklinks.get(i1).getText());\r\n    \t\t    \t   \r\n    \t\t    \t    if (amount.equalsIgnoreCase(testValue)) {\r\n    \t\t    \t    \tSystem.out.println(&quot;Found:&quot; +testValue);\r\n    \t\t    \t    \r\n    \t\t    \t        clicklinks.get(i1).click();\r\n    \t\t    \t        waitDriver();\r\n    \t\t    \t        driver.navigate().back();\r\n    \t\t    \t        \r\n    \t\t    \t      break;\r\n    \t\t    \t    }\r\n    \t\t    \t    else\r\n    \t\t    \t    {\r\n    \t\t    \t    \tWebElement clickNext = driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;Next&#39;)]&quot;));\r\n    \t\t    \t    \tclickNext.click();\r\n    \t\t    \t    \t\r\n    \t\t    \t    \t\r\n    \t\t    \t    }\r\n    \t\t       \r\n    \t\t       \r\n    \t\t       }\r\n    \t\t    \t\r\n    \t\t       \r\n    \t\t\t\tfor(int rw=2;rw&lt;allAmountValues.size();rw++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tWebElement a1 = driver.findElement(By.xpath(&quot;(//table[@width=760][@cellspacing=1])[2]/tbody/tr[&quot;+rw+&quot;]/td[8]/div/span&quot;));\r\n    \t\t\t\t\t String amm = a1.getText().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    \t\t\t\t\t System.out.println(&quot;Current value is:&quot; +amm);\r\n    \t\t\t\t\t if(amm.equalsIgnoreCase(&quot;100000&quot;))\r\n    \t\t\t\t\t {\r\n    \t\t\t\t\t\t WebElement a2 = driver.findElement(By.xpath(&quot;/html/body/form/div/table/tbody/tr/td/table/tbody/tr[5]/td/table/tbody/tr[&quot;+rw+&quot;]/td[1]/div/input[6]&quot;));\r\n    \t\t\t\t\t\t a2.click();\r\n    \t\t\t\t\t\t break;\r\n    \t\t\t\t\t }\r\n    \t\t\t\t}\r\n    \t\t    \t   WebElement authoriseButton = driver.findElement(By.xpath(&quot;//input[@name=&#39;btnAuthorise&#39;]&quot;));\r\n    \t\t\t\t  if(authoriseButton.isEnabled())\r\n    \t\t\t\t  {\r\n    \t\t\t\t\t  authoriseButton.click();\r\n    \t\t\t\t  }\r\n    \t\t\t\t  else\r\n    \t\t\t\t  {\r\n    \t\t\t\t\t  System.out.println(&quot;Authorise Button is not enabled&quot;);\r\n    \t\t\t\t  }\r\n    \t\t    \t        \r\n    \t\t    \t    \r\n    \t\t }\r\n\t\t \r\n\t\r\nI am facing stale element error exception on : \r\n`String amount = allAmountValues.get(i1+1).getText().replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);` this line.\r\nAny help would be appreciated.","title":"Stale Element Reference Exception: How to solve?","body":"<p><strong>Problem Statement:</strong> I am getting Stale Element Exception when for loop executes the second time. </p>\n\n<p><strong>Description:</strong></p>\n\n<p>I am using for loop to handle table elements. In the first iteration, it will search for the required element on the page. If the element is not available on that page then it will go and search on the second page.  Webdriver successfully finds the element if its available on the first page but if it's not available on the first page then it will look for the element on the second page. But here for loop fails with the exception called 'Stale Element Exception.</p>\n\n<p>Error Message:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document</p>\n</blockquote>\n\n<p><strong>Code:</strong></p>\n\n<pre><code> List &lt;WebElement&gt; allAmountValues = driver.findElements(By.xpath(\"(//table[@width=760][@cellspacing=1])[2]/tbody/tr/td[8]/div\"));\n\n     for(int i =0;i&lt;allAmountValues.size();i++){\n       System.out.println(\"Value are : \"+allAmountValues.get(i).getText().replaceAll(\"\\\\s+\", \" \"));\n     }\n\n\n\nString testValue = \"100000\";\n System.out.println(\"No.of Rows in the Table : \"+allAmountValues.size());                \n\n               for (int i1 =1; i1&lt;allAmountValues.size();i1++) {\n\n\n                    String amount = allAmountValues.get(i1+1).getText().replaceAll(\"\\\\s+\",\"\");\n                    //System.out.println(\"amount Values : \"+amount);\n                    System.out.println(\"Value are : \" + allAmountValues.get(i1).getText() + \"== Corresponding link is : \" + clicklinks.get(i1).getText());\n\n                    if (amount.equalsIgnoreCase(testValue)) {\n                        System.out.println(\"Found:\" +testValue);\n\n                        clicklinks.get(i1).click();\n                        waitDriver();\n                        driver.navigate().back();\n\n                      break;\n                    }\n                    else\n                    {\n                        WebElement clickNext = driver.findElement(By.xpath(\"//a[contains(text(), 'Next')]\"));\n                        clickNext.click();\n\n\n                    }\n\n\n               }\n\n\n                for(int rw=2;rw&lt;allAmountValues.size();rw++)\n                {\n                    WebElement a1 = driver.findElement(By.xpath(\"(//table[@width=760][@cellspacing=1])[2]/tbody/tr[\"+rw+\"]/td[8]/div/span\"));\n                     String amm = a1.getText().replaceAll(\"\\\\s+\", \"\");\n                     System.out.println(\"Current value is:\" +amm);\n                     if(amm.equalsIgnoreCase(\"100000\"))\n                     {\n                         WebElement a2 = driver.findElement(By.xpath(\"/html/body/form/div/table/tbody/tr/td/table/tbody/tr[5]/td/table/tbody/tr[\"+rw+\"]/td[1]/div/input[6]\"));\n                         a2.click();\n                         break;\n                     }\n                }\n                   WebElement authoriseButton = driver.findElement(By.xpath(\"//input[@name='btnAuthorise']\"));\n                  if(authoriseButton.isEnabled())\n                  {\n                      authoriseButton.click();\n                  }\n                  else\n                  {\n                      System.out.println(\"Authorise Button is not enabled\");\n                  }\n\n\n         }\n</code></pre>\n\n<p>I am facing stale element error exception on : \n<code>String amount = allAmountValues.get(i1+1).getText().replaceAll(\"\\\\s+\",\"\");</code> this line.\nAny help would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679857405,"post_id":75849881,"comment_id":133791867,"body_markdown":"*how to avoid the rounding problem in the future* use a type with arbitrary precision like [`BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html)","body":"<i>how to avoid the rounding problem in the future</i> use a type with arbitrary precision like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679865108,"post_id":75849881,"comment_id":133793026,"body_markdown":"or accept that it exists and format your output to show an acceptable appearing result: `System.out.printf(&quot;%.4f%n&quot;, d1);`","body":"or accept that it exists and format your output to show an acceptable appearing result: <code>System.out.printf(&quot;%.4f%n&quot;, d1);</code>"}],"owner":{"account_id":14799883,"reputation":189,"user_id":10688444,"display_name":"Elias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679857351,"answer_count":0,"score":0,"last_activity_date":1679856982,"creation_date":1679856982,"question_id":75849881,"body_markdown":"\r\nI write the following code with a for loop.\r\n```\r\ndouble d1 = 0;\r\nfor (int i = 1; i &lt;= 8; i++) {\r\n    d1 += 0.1;\r\n }\r\n\r\nSystem.out.println(d1);\r\n```\r\nThe output is 0.7999999999999999. It is supposed to be 0.8. but I don&#39;t understand what causes it and how to avoid the rounding problem in the future.","title":"the output got rounded after for loop","body":"<p>I write the following code with a for loop.</p>\n<pre><code>double d1 = 0;\nfor (int i = 1; i &lt;= 8; i++) {\n    d1 += 0.1;\n }\n\nSystem.out.println(d1);\n</code></pre>\n<p>The output is 0.7999999999999999. It is supposed to be 0.8. but I don't understand what causes it and how to avoid the rounding problem in the future.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1361946502,"post_id":15105556,"comment_id":21253062,"body_markdown":"What have you searched on the net? You want us to give you a detailed explanation of how can you run a JUnit 4 test case? (Hint: there&#39;s this `JUnit4.class` in your code)","body":"What have you searched on the net? You want us to give you a detailed explanation of how can you run a JUnit 4 test case? (Hint: there&#39;s this <code>JUnit4.class</code> in your code)"},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1361946503,"post_id":15105556,"comment_id":21253063,"body_markdown":"http://www.vogella.com/articles/JUnit/article.html","body":"<a href=\"http://www.vogella.com/articles/JUnit/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/JUnit/article.html</a>"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":1,"creation_date":1361946512,"post_id":15105556,"comment_id":21253068,"body_markdown":"you need to add junit jar file to the project . You can use junit-dep-4.8.2.jar. Then you can right click and choose run as junit test case","body":"you need to add junit jar file to the project . You can use junit-dep-4.8.2.jar. Then you can right click and choose run as junit test case"},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":2,"creation_date":1361946517,"post_id":15105556,"comment_id":21253069,"body_markdown":"Have you added jUnit&#39;s jar file to your build path in eclipse?","body":"Have you added jUnit&#39;s jar file to your build path in eclipse?"},{"owner":{"account_id":1811887,"reputation":3845,"user_id":1647763,"accept_rate":64,"display_name":"SKLAK"},"score":0,"creation_date":1361946714,"post_id":15105556,"comment_id":21253137,"body_markdown":"Just did, I should have just googled this question. Thanks for the help.","body":"Just did, I should have just googled this question. Thanks for the help."},{"owner":{"account_id":6849288,"reputation":71,"user_id":5266921,"display_name":"Vaibhav Verma"},"score":0,"creation_date":1445169659,"post_id":15105556,"comment_id":54200370,"body_markdown":"Can you Post the entire java file?","body":"Can you Post the entire java file?"},{"owner":{"account_id":10801150,"reputation":127,"user_id":7945066,"display_name":"pellucidcoder"},"score":0,"creation_date":1508880223,"post_id":15105556,"comment_id":80788063,"body_markdown":"Anyone know what to do if you&#39;re still getting this error even if JUnit4 *is* on the build path?","body":"Anyone know what to do if you&#39;re still getting this error even if JUnit4 <i>is</i> on the build path?"}],"answers":[{"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1361946647,"post_id":15105580,"comment_id":21253109,"body_markdown":"Not just the jar, OP should run it as a JUnit test (maybe OP will ask how to run the Java class if it doesn&#39;t have a `public static void main(String[] args)`","body":"Not just the jar, OP should run it as a JUnit test (maybe OP will ask how to run the Java class if it doesn&#39;t have a <code>public static void main(String[] args)</code>"},{"owner":{"account_id":1811887,"reputation":3845,"user_id":1647763,"accept_rate":64,"display_name":"SKLAK"},"score":0,"creation_date":1361946664,"post_id":15105580,"comment_id":21253115,"body_markdown":"Didn&#39;t know how to link the JUnit. I figured it out. Right click the project name, and link JUnit. Thanks.","body":"Didn&#39;t know how to link the JUnit. I figured it out. Right click the project name, and link JUnit. Thanks."}],"tags":[],"owner":{"account_id":1271613,"reputation":812,"user_id":1227732,"accept_rate":67,"display_name":"zaffargachal"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1655989699,"creation_date":1361946544,"answer_id":15105580,"question_id":15105556,"body_markdown":"Seems that the JUnit `.jar` file is not in the path. Also, make sure you are using JDK1.5 or above.","title":"The import org.junit cannot be resolved","body":"<p>Seems that the JUnit <code>.jar</code> file is not in the path. Also, make sure you are using JDK1.5 or above.</p>\n"},{"comments":[{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":2,"creation_date":1506335457,"post_id":15105590,"comment_id":79763244,"body_markdown":"@NishantShreshth how to add this in a `maven` project?","body":"@NishantShreshth how to add this in a <code>maven</code> project?"},{"owner":{"account_id":1661090,"reputation":14873,"user_id":1728830,"accept_rate":85,"display_name":"Thomas W"},"score":0,"creation_date":1516022836,"post_id":15105590,"comment_id":83510722,"body_markdown":"I added JUnit 4 via Properties -&gt; Java Build Path, but every now and then Eclipse still shows me this error, though running the tests is possible without problems. Restarting Eclipse resolves the problem - for a while. Any explanation for this?","body":"I added JUnit 4 via Properties -&gt; Java Build Path, but every now and then Eclipse still shows me this error, though running the tests is possible without problems. Restarting Eclipse resolves the problem - for a while. Any explanation for this?"},{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1575895325,"post_id":15105590,"comment_id":104708014,"body_markdown":"Does not work for me. As soon as the project is modular, all the buttons in the Libraries tab are grey. (With eclipse 2019-09 and java 11.0.4).","body":"Does not work for me. As soon as the project is modular, all the buttons in the Libraries tab are grey. (With eclipse 2019-09 and java 11.0.4)."}],"tags":[],"owner":{"display_name":"user2030471"},"comment_count":3,"down_vote_count":0,"up_vote_count":214,"is_accepted":true,"score":214,"last_activity_date":1655989707,"creation_date":1361946565,"answer_id":15105590,"question_id":15105556,"body_markdown":"You need to add `JUnit` library to the classpath of your project. There are several choices to achieve it depending on your development setup.\r\n\r\n 1. **Command line**: In the case of command-line invocations, you will have to add `junit.jar` to the classpath of your application with `java -cp /path/to/junit.jar`. Take a look at the answers [here][1].\r\n \r\n 2. **Using eclipse**: Eclipse distributions are bundled with this library and this is how you can use it for your project. Right-click on the eclipse project and navigate:\r\n\r\n&gt; Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\r\n&gt; JUnit 3/4\r\n\r\nIn the scenarios where you want to use a different version of the jar, instead of clicking on **Add Library** above, you should click on **Add External Jar** and locate the library on the file system.\r\n\r\n  [1]: https://stackoverflow.com/q/2235276/2030471","title":"The import org.junit cannot be resolved","body":"<p>You need to add <code>JUnit</code> library to the classpath of your project. There are several choices to achieve it depending on your development setup.</p>\n<ol>\n<li><p><strong>Command line</strong>: In the case of command-line invocations, you will have to add <code>junit.jar</code> to the classpath of your application with <code>java -cp /path/to/junit.jar</code>. Take a look at the answers <a href=\"https://stackoverflow.com/q/2235276/2030471\">here</a>.</p>\n</li>\n<li><p><strong>Using eclipse</strong>: Eclipse distributions are bundled with this library and this is how you can use it for your project. Right-click on the eclipse project and navigate:</p>\n</li>\n</ol>\n<blockquote>\n<p>Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\nJUnit 3/4</p>\n</blockquote>\n<p>In the scenarios where you want to use a different version of the jar, instead of clicking on <strong>Add Library</strong> above, you should click on <strong>Add External Jar</strong> and locate the library on the file system.</p>\n"},{"tags":[],"owner":{"account_id":3072235,"reputation":169,"user_id":2602601,"display_name":"fastforward"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1655979665,"creation_date":1377882162,"answer_id":18538069,"question_id":15105556,"body_markdown":"Right-click on the eclipse project and navigate to\r\n\r\n&gt; Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\r\n&gt; JUnit 3/4\r\n\r\nIt works for me.","title":"The import org.junit cannot be resolved","body":"<p>Right-click on the eclipse project and navigate to</p>\n<blockquote>\n<p>Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt;\nJUnit 3/4</p>\n</blockquote>\n<p>It works for me.</p>\n"},{"comments":[{"owner":{"account_id":308611,"reputation":412,"user_id":620600,"display_name":"猫IT"},"score":3,"creation_date":1539301690,"post_id":36763917,"comment_id":92463098,"body_markdown":"This does not solve it in my situation. JUnit is perfectly in the path but it keeps on showing the error.","body":"This does not solve it in my situation. JUnit is perfectly in the path but it keeps on showing the error."},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1576629324,"post_id":36763917,"comment_id":104959749,"body_markdown":"Works for me ^^","body":"Works for me ^^"}],"tags":[],"owner":{"account_id":4840330,"reputation":1681,"user_id":3905529,"display_name":"anion"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1655981676,"creation_date":1461227257,"answer_id":36763917,"question_id":15105556,"body_markdown":"You can easily search for a line like `@Test` and then use the quick-fix `add JUnit 4 library to the build path` at this line. I think this is faster than adding JUnit manually to the project.","title":"The import org.junit cannot be resolved","body":"<p>You can easily search for a line like <code>@Test</code> and then use the quick-fix <code>add JUnit 4 library to the build path</code> at this line. I think this is faster than adding JUnit manually to the project.</p>\n"},{"comments":[{"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"score":3,"creation_date":1544942840,"post_id":47791424,"comment_id":94449144,"body_markdown":"@VigneshrajSekarbabu Because people usually set `junit`&#39;s scope as `test`, which means they will only work in the test folder.","body":"@VigneshrajSekarbabu Because people usually set <code>junit</code>&#39;s scope as <code>test</code>, which means they will only work in the test folder."},{"owner":{"account_id":13289042,"reputation":231,"user_id":9594102,"display_name":"Vigneshraj Sekarbabu"},"score":0,"creation_date":1544950435,"post_id":47791424,"comment_id":94450197,"body_markdown":"Thank you @searene.. I tried to have my TestBase in the src/main/java but then was not able to get the testNG annotations. so moved to src/test/java.  But now, i am trying to create a RetryAnalyzer in src/main/java and IRetrAnalyzer is in org.testng which i am not able to get in src/main/java classes. any idea what could solve this ?","body":"Thank you @searene.. I tried to have my TestBase in the src/main/java but then was not able to get the testNG annotations. so moved to src/test/java.  But now, i am trying to create a RetryAnalyzer in src/main/java and IRetrAnalyzer is in org.testng which i am not able to get in src/main/java classes. any idea what could solve this ?"},{"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"score":0,"creation_date":1544957672,"post_id":47791424,"comment_id":94451676,"body_markdown":"@VigneshrajSekarbabu One way is to check your test-related dependencies&#39; scope, make sure they are not `test`, so that you could use everything inside `/src/main/java`.","body":"@VigneshrajSekarbabu One way is to check your test-related dependencies&#39; scope, make sure they are not <code>test</code>, so that you could use everything inside <code>&#47;src&#47;main&#47;java</code>."}],"tags":[],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1513162883,"creation_date":1513162883,"answer_id":47791424,"question_id":15105556,"body_markdown":"If you use maven and this piece of code is located in the `main` folder, try relocating it to the `test` folder.","title":"The import org.junit cannot be resolved","body":"<p>If you use maven and this piece of code is located in the <code>main</code> folder, try relocating it to the <code>test</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":12895322,"reputation":21,"user_id":9325841,"display_name":"Dharu Ravi"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1517986151,"creation_date":1517986151,"answer_id":48657612,"question_id":15105556,"body_markdown":"In case you want to create your own Test Class. In Eclipse go to **File** -&gt; **New** -&gt; **J Unit Test Case**. You can then choose all your paths and testing class setup within the wizard pop-up. \r\n\r\n","title":"The import org.junit cannot be resolved","body":"<p>In case you want to create your own Test Class. In Eclipse go to <strong>File</strong> -> <strong>New</strong> -> <strong>J Unit Test Case</strong>. You can then choose all your paths and testing class setup within the wizard pop-up. </p>\n"},{"comments":[{"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"score":0,"creation_date":1544616210,"post_id":50508174,"comment_id":94337750,"body_markdown":"For me this only worked. I was performing remote debugging of my web application, so eclipse had some issues with integrating junit.  With regard to maven, yes maven imports junit and will run the tests when we&#39;ll run mvn clean install. Not an expert, but this is what I think that happens or atleast happened with me.","body":"For me this only worked. I was performing remote debugging of my web application, so eclipse had some issues with integrating junit.  With regard to maven, yes maven imports junit and will run the tests when we&#39;ll run mvn clean install. Not an expert, but this is what I think that happens or atleast happened with me."}],"tags":[],"owner":{"account_id":9439654,"reputation":470,"user_id":7266331,"display_name":"sarthakgupta072"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556958725,"creation_date":1527161150,"answer_id":50508174,"question_id":15105556,"body_markdown":"If you are using eclipse and working on a maven project, then also the above steps work. \r\n  \r\nRight-click on your root folder.  \r\n\r\n    Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt; Junit 3/4\r\n\r\n[Step By Step Instructions here][1]\r\n\r\n\r\n  [1]: https://www.toddlahman.com/import-org-junit-cannot-resolved-eclipse/","title":"The import org.junit cannot be resolved","body":"<p>If you are using eclipse and working on a maven project, then also the above steps work. </p>\n\n<p>Right-click on your root folder.  </p>\n\n<pre><code>Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add Library -&gt; JUnit -&gt; Junit 3/4\n</code></pre>\n\n<p><a href=\"https://www.toddlahman.com/import-org-junit-cannot-resolved-eclipse/\" rel=\"noreferrer\">Step By Step Instructions here</a></p>\n"},{"tags":[],"owner":{"account_id":7370021,"reputation":21,"user_id":5610485,"display_name":"oshan Viduranga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531662976,"creation_date":1531641962,"answer_id":51346507,"question_id":15105556,"body_markdown":"In starting code line copy past &#39;Junit&#39; or &#39;TestNG&#39; elements will show with Error till you import library with the Project File.\r\n\r\nTo import Libraries in to project:\r\n\r\n`Right Click on the Project --&gt; Properties --&gt; Java Build Path --&gt; Libraries -&gt; Add Library -&gt; &#39;Junit&#39; or &#39;TestNG&#39;`\r\n\r\n![Add Junit Libraries][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FF9Oh.png","title":"The import org.junit cannot be resolved","body":"<p>In starting code line copy past 'Junit' or 'TestNG' elements will show with Error till you import library with the Project File.</p>\n\n<p>To import Libraries in to project:</p>\n\n<p><code>Right Click on the Project --&gt; Properties --&gt; Java Build Path --&gt; Libraries -&gt; Add Library -&gt; 'Junit' or 'TestNG'</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/FF9Oh.png\" alt=\"Add Junit Libraries\"></p>\n"},{"comments":[{"owner":{"account_id":308611,"reputation":412,"user_id":620600,"display_name":"猫IT"},"score":0,"creation_date":1539303258,"post_id":51716634,"comment_id":92463420,"body_markdown":"i&#39;m pretty sure the issue I face which is the same as the original question is linked to this new module mechanism. Now i did add this line to my existing module-info.java and there is no more red cross in the package explorer but in the source everything remains the same.","body":"i&#39;m pretty sure the issue I face which is the same as the original question is linked to this new module mechanism. Now i did add this line to my existing module-info.java and there is no more red cross in the package explorer but in the source everything remains the same."}],"tags":[],"owner":{"account_id":2899295,"reputation":1426,"user_id":2486401,"accept_rate":79,"display_name":"janDro"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533595962,"creation_date":1533595962,"answer_id":51716634,"question_id":15105556,"body_markdown":"If you are using Java 9 or above you may need to require the junit dependency in your module-info.java \r\n\r\n    module myModule {\r\n\t    requires junit;\r\n    }","title":"The import org.junit cannot be resolved","body":"<p>If you are using Java 9 or above you may need to require the junit dependency in your module-info.java </p>\n\n<pre><code>module myModule {\n    requires junit;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7317059,"reputation":10251,"user_id":6501141,"accept_rate":94,"display_name":"LightCC"},"score":0,"creation_date":1545419713,"post_id":52381321,"comment_id":94626404,"body_markdown":"this answer would be better with more details on how to do that - i.e. what code to paste, how to figure out the latest version, how to search for the code online to get the right text, etc.","body":"this answer would be better with more details on how to do that - i.e. what code to paste, how to figure out the latest version, how to search for the code online to get the right text, etc."}],"tags":[],"owner":{"account_id":9699817,"reputation":27,"user_id":7195157,"display_name":"RKM"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1537256342,"creation_date":1537256342,"answer_id":52381321,"question_id":15105556,"body_markdown":"Update to latest JUnit version in pom.xml. It works for me.","title":"The import org.junit cannot be resolved","body":"<p>Update to latest JUnit version in pom.xml. It works for me.</p>\n"},{"comments":[{"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"score":0,"creation_date":1561190203,"post_id":56713557,"comment_id":99989773,"body_markdown":"Kindly consider putting such suggestions as comments.","body":"Kindly consider putting such suggestions as comments."}],"tags":[],"owner":{"account_id":16183558,"reputation":11,"user_id":11684368,"display_name":"Ajay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561188840,"creation_date":1561188840,"answer_id":56713557,"question_id":15105556,"body_markdown":"When you add TestNG to your Maven dependencies , Change scope from test to compile.Hope this would solve your issue..\r\n","title":"The import org.junit cannot be resolved","body":"<p>When you add TestNG to your Maven dependencies , Change scope from test to compile.Hope this would solve your issue..</p>\n"},{"comments":[{"owner":{"account_id":5175809,"reputation":1052,"user_id":4142984,"accept_rate":83,"display_name":"Gyro Gearloose"},"score":0,"creation_date":1575895069,"post_id":57209988,"comment_id":104707879,"body_markdown":"When I do this, module-info.java is filled with errors and lambdas are not recognized. Eclipse/maven have reverted the library and java version to 1.5, and I do have &lt;plugin&gt;\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n\t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\n\t\t\t\t\t&lt;configuration&gt;\n\t\t\t\t\t\t&lt;release&gt;11&lt;/release&gt; \n\t\t\t\t\t&lt;/configuration&gt;\n\t\t\t\t&lt;/plugin&gt; in my pom","body":"When I do this, module-info.java is filled with errors and lambdas are not recognized. Eclipse/maven have reverted the library and java version to 1.5, and I do have &lt;plugin&gt; \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt; \t\t\t\t\t&lt;configuration&gt; \t\t\t\t\t\t&lt;release&gt;11&lt;/release&gt;  \t\t\t\t\t&lt;/configuration&gt; \t\t\t\t&lt;/plugin&gt; in my pom"}],"tags":[],"owner":{"account_id":1370556,"reputation":1047,"user_id":1305875,"accept_rate":67,"display_name":"ABC123"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564088059,"creation_date":1564088059,"answer_id":57209988,"question_id":15105556,"body_markdown":"If using Maven you can context click and run &#39;Maven/Update Project...&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IlnmG.png","title":"The import org.junit cannot be resolved","body":"<p>If using Maven you can context click and run 'Maven/Update Project...'</p>\n\n<p><a href=\"https://i.stack.imgur.com/IlnmG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IlnmG.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":12883653,"reputation":2815,"user_id":10030693,"display_name":"Gilbert"},"score":0,"creation_date":1608304010,"post_id":59797602,"comment_id":115549986,"body_markdown":"Thanks. Also the version can be left out","body":"Thanks. Also the version can be left out"}],"tags":[],"owner":{"account_id":17556073,"reputation":61,"user_id":12735493,"display_name":"Veera Reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1579322729,"creation_date":1579322729,"answer_id":59797602,"question_id":15105556,"body_markdown":"you need to add Junit dependency in pom.xml file, it means you need to update with latest version.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; \r\n\r\n","title":"The import org.junit cannot be resolved","body":"<p>you need to add Junit dependency in pom.xml file, it means you need to update with latest version.</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619774253,"creation_date":1619774253,"answer_id":67331288,"question_id":15105556,"body_markdown":"I had the same problem right now. My solution: add JUnit to the pom.xml AND remove JUnit from the eclipse project properties (Java Build Path/Libraries).","title":"The import org.junit cannot be resolved","body":"<p>I had the same problem right now. My solution: add JUnit to the pom.xml AND remove JUnit from the eclipse project properties (Java Build Path/Libraries).</p>\n"},{"tags":[],"owner":{"account_id":2359873,"reputation":9,"user_id":2066798,"display_name":"Hiran Kariyawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644720218,"creation_date":1644719515,"answer_id":71097458,"question_id":15105556,"body_markdown":"If you use Maven with Eclipse then You need to follow the below steps.\r\n\r\n1). Add Junit dependency to the pom.xml file\r\n\r\n\t&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nNote : Please get the latest from the following link\r\nhttps://mvnrepository.com/artifact/junit/junit\r\n\r\n2).On your test class (Ex. AdditionTest.class), you need to annotate with **@Test** on your test method (Ex. testAdd() )\r\n\r\nNote :  The Test annotation tells JUnit that the public void method to which it is attached can be run as a test case.\r\n\r\npublic class AdditionTest {\r\n\r\n\t@Test\r\n\tpublic void testAdd()\r\n\t{\r\n\t\r\n// Test code here...\r\n\t\t\r\n\t}\r\nThe moment/ the first time you annotate as **&quot;@Test&quot;** the IDE asks whether you need to Add Junit jar files to Class path. Once you accept this it will add the   Junit jar file into the class path.\r\n\r\nWith this you can achieve the following imports\r\n**import org.junit.Test;\r\nimport static org.junit.Assert.*;**\r\nRegards\r\n\r\n\r\n\r\n\r\n\r\n","title":"The import org.junit cannot be resolved","body":"<p>If you use Maven with Eclipse then You need to follow the below steps.</p>\n<p>1). Add Junit dependency to the pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n&lt;version&gt;4.0.1&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note : Please get the latest from the following link\n<a href=\"https://mvnrepository.com/artifact/junit/junit\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/junit/junit</a></p>\n<p>2).On your test class (Ex. AdditionTest.class), you need to annotate with <strong>@Test</strong> on your test method (Ex. testAdd() )</p>\n<p>Note :  The Test annotation tells JUnit that the public void method to which it is attached can be run as a test case.</p>\n<p>public class AdditionTest {</p>\n<pre><code>@Test\npublic void testAdd()\n{\n</code></pre>\n<p>// Test code here...</p>\n<pre><code>}\n</code></pre>\n<p>The moment/ the first time you annotate as <strong>&quot;@Test&quot;</strong> the IDE asks whether you need to Add Junit jar files to Class path. Once you accept this it will add the   Junit jar file into the class path.</p>\n<p>With this you can achieve the following imports\n<strong>import org.junit.Test;\nimport static org.junit.Assert.*;</strong>\nRegards</p>\n"},{"tags":[],"owner":{"account_id":22364393,"reputation":43,"user_id":16580442,"display_name":"holvold"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679856498,"creation_date":1679856498,"answer_id":75849842,"question_id":15105556,"body_markdown":"### VSCode 2023 (Java v17.0.3 &amp; junit v4.12)\r\nFor anyone having this issue in VSCode, I recommend checking this short video on how you perform *Testing Java with Visual Studio Code*:\r\n[code.visualstudio.com/docs/java/java-testing/enable-tests][1]\r\n\r\n\r\nFor full documentation check out the official VSCode documentation: [code.visualstudio.com/docs/java/java-testing][2]\r\n\r\n...and don&#39;t forget to add/enable the Java extension in VSCode\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-testing/enable-tests.mp4\r\n  [2]: https://code.visualstudio.com/docs/java/java-testing","title":"The import org.junit cannot be resolved","body":"<h3>VSCode 2023 (Java v17.0.3 &amp; junit v4.12)</h3>\n<p>For anyone having this issue in VSCode, I recommend checking this short video on how you perform <em>Testing Java with Visual Studio Code</em>:\n<a href=\"https://code.visualstudio.com/docs/java/java-testing/enable-tests.mp4\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-testing/enable-tests</a></p>\n<p>For full documentation check out the official VSCode documentation: <a href=\"https://code.visualstudio.com/docs/java/java-testing\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-testing</a></p>\n<p>...and don't forget to add/enable the Java extension in VSCode</p>\n"}],"owner":{"account_id":1811887,"reputation":3845,"user_id":1647763,"accept_rate":64,"display_name":"SKLAK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399680,"favorite_count":0,"down_vote_count":0,"up_vote_count":140,"accepted_answer_id":15105590,"answer_count":16,"score":140,"last_activity_date":1679856498,"creation_date":1361946434,"question_id":15105556,"body_markdown":"I need to solve a Java problem for an interview, and they have sent me the test class. It starts with \r\n\r\n    import org.junit.Before;\r\n\r\nand also has the following syntax at places:\r\n\r\n    @RunWith(JUnit4.class)\r\n    ...\r\n    @Before\r\n    ...\r\n    @Test\r\n\r\nI haven&#39;t used Java for a while, so this confuses me a little. I downloaded eclipse and when I tried to compile this test file, there are errors at the import and at the &#39;@&#39; signs. The import error throws: \r\n\r\n    The import org.junit cannot be resolved.\r\n\r\nAnd the @RunWith is not even recognized, as it tries to resolve it to a type.","title":"The import org.junit cannot be resolved","body":"<p>I need to solve a Java problem for an interview, and they have sent me the test class. It starts with</p>\n<pre><code>import org.junit.Before;\n</code></pre>\n<p>and also has the following syntax at places:</p>\n<pre><code>@RunWith(JUnit4.class)\n...\n@Before\n...\n@Test\n</code></pre>\n<p>I haven't used Java for a while, so this confuses me a little. I downloaded eclipse and when I tried to compile this test file, there are errors at the import and at the '@' signs. The import error throws:</p>\n<pre><code>The import org.junit cannot be resolved.\n</code></pre>\n<p>And the @RunWith is not even recognized, as it tries to resolve it to a type.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679855219,"post_id":75849632,"comment_id":133791520,"body_markdown":"Because the listener is autowired (injected) by Spring. It is a proxy and not an instance of the class. Only the public methods are exposed not the fields.","body":"Because the listener is autowired (injected) by Spring. It is a proxy and not an instance of the class. Only the public methods are exposed not the fields."},{"owner":{"account_id":16787693,"reputation":197,"user_id":12136222,"display_name":"NewbieToCoding"},"score":0,"creation_date":1679857024,"post_id":75849632,"comment_id":133791820,"body_markdown":"But it works when I change it back to a synchronous method (removing the @Async and CountDownLatch).","body":"But it works when I change it back to a synchronous method (removing the @Async and CountDownLatch)."}],"owner":{"account_id":16787693,"reputation":197,"user_id":12136222,"display_name":"NewbieToCoding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679854074,"creation_date":1679854074,"question_id":75849632,"body_markdown":"```\r\n@Service\r\npublic class Listener {\r\n    public ConcurrentHashMap&lt;String, String&gt; bars;\r\n\r\n    public Listener() {\r\n        bars = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    public ConcurrentHashMap&lt;String, String&gt; getBars() {\r\n        return bars;\r\n    }\r\n\r\n    @Async\r\n    public void addBars(CountDownLatch counter) {\r\n        bars.put(&quot;hello&quot;, &quot;world&quot;);\r\n        counter.countDown();\r\n    }\r\n}\r\n\r\n@RestController\r\npublic class Controller {\r\n    @Autowired\r\n    Listener listener;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String trial() throws InterruptedException {\r\n        CountDownLatch counter = new CountDownLatch(1);\r\n        listener.addBars(counter);\r\n        counter.await();\r\n        return listener.bars.get(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhy does this throw `NullPointerException` error (when I directly access `bars`), but when I access it via `getBars()` method (i.e., changing it from `listener.bars.get(&quot;hello&quot;);` to `listener.getBars().get(&quot;hello&quot;);`, it runs successfully?","title":"Spring Boot @Async NullPointerException error","body":"<pre><code>@Service\npublic class Listener {\n    public ConcurrentHashMap&lt;String, String&gt; bars;\n\n    public Listener() {\n        bars = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    public ConcurrentHashMap&lt;String, String&gt; getBars() {\n        return bars;\n    }\n\n    @Async\n    public void addBars(CountDownLatch counter) {\n        bars.put(&quot;hello&quot;, &quot;world&quot;);\n        counter.countDown();\n    }\n}\n\n@RestController\npublic class Controller {\n    @Autowired\n    Listener listener;\n\n    @GetMapping(&quot;/&quot;)\n    public String trial() throws InterruptedException {\n        CountDownLatch counter = new CountDownLatch(1);\n        listener.addBars(counter);\n        counter.await();\n        return listener.bars.get(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>Why does this throw <code>NullPointerException</code> error (when I directly access <code>bars</code>), but when I access it via <code>getBars()</code> method (i.e., changing it from <code>listener.bars.get(&quot;hello&quot;);</code> to <code>listener.getBars().get(&quot;hello&quot;);</code>, it runs successfully?</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"score":0,"creation_date":1679039924,"post_id":75762157,"comment_id":133652780,"body_markdown":"using this query I am getting data which doestnot belongs the the branchCode I am sending in parameter","body":"using this query I am getting data which doestnot belongs the the branchCode I am sending in parameter"}],"tags":[],"owner":{"account_id":23109863,"reputation":28,"user_id":17217944,"display_name":"Rohat Can"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679005452,"creation_date":1679005452,"answer_id":75762157,"question_id":75761339,"body_markdown":"You cannot do left join by using method queries, you can look at what you can do here [Spring Data JPA Docs][1].\r\n\r\nIf you want to use left join you can use @Query annotation something like this will work:\r\n```\r\n@Query(value = &quot;SELECT u FROM Post p LEFT JOIN p.user u WHERE p IS NULL&quot;);\r\n@Query(\r\n    &quot;SELECT tm&quot; +\r\n    &quot;FROM TrainingMaster tm&quot; +\r\n    &quot;LEFT JOIN TblBranchTraining tb ON tm.id = tb.trainingId&quot; +\r\n    &quot;WHERE tb.branchCode = branchCode&quot; +\r\n    &quot;OR tb.branchCode IS NULL&quot;\r\n List&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(@Param(&quot;branchCode&quot;) String branchCode);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"jpa method to query by joined column","body":"<p>You cannot do left join by using method queries, you can look at what you can do here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">Spring Data JPA Docs</a>.</p>\n<p>If you want to use left join you can use @Query annotation something like this will work:</p>\n<pre><code>@Query(value = &quot;SELECT u FROM Post p LEFT JOIN p.user u WHERE p IS NULL&quot;);\n@Query(\n    &quot;SELECT tm&quot; +\n    &quot;FROM TrainingMaster tm&quot; +\n    &quot;LEFT JOIN TblBranchTraining tb ON tm.id = tb.trainingId&quot; +\n    &quot;WHERE tb.branchCode = branchCode&quot; +\n    &quot;OR tb.branchCode IS NULL&quot;\n List&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(@Param(&quot;branchCode&quot;) String branchCode);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19501442,"reputation":2332,"user_id":14267427,"display_name":"Tyler2P"},"score":1,"creation_date":1679853972,"post_id":75767085,"comment_id":133791320,"body_markdown":"Your answer could be improved by adding more information on how the proposed solution solves the problem and how it helps the OP.","body":"Your answer could be improved by adding more information on how the proposed solution solves the problem and how it helps the OP."}],"tags":[],"owner":{"account_id":17940262,"reputation":11,"user_id":13035685,"display_name":"Vifieh"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679853962,"creation_date":1679052644,"answer_id":75767085,"question_id":75761339,"body_markdown":"```\r\n@Repository\r\npublic interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\r\n  List&lt;TrainingMaster&gt; findAllByTblBranchTraining_branchCode(String branchCode);\r\n}\r\n```","title":"jpa method to query by joined column","body":"<pre><code>@Repository\npublic interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\n  List&lt;TrainingMaster&gt; findAllByTblBranchTraining_branchCode(String branchCode);\n}\n</code></pre>\n"}],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679853962,"creation_date":1678998395,"question_id":75761339,"body_markdown":"I want a query something like this\r\n\r\n    select tm ,tb\r\n    from TrainingMaster tm \r\n    left join TblBranchTraining tb on tm.id = tb.trainingId \r\n    where (tb.branchCode = :branchCode OR tb.branchCode is null) ;\r\n\r\nHere are my entity classes\r\n\r\n    public class TrainingMaster implements Serializable{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;training_name&quot;)\r\n    \tprivate String trainingName;\r\n    \t\r\n    \t@OneToOne(cascade= CascadeType.ALL)\r\n    \t@JoinColumn(nullable = false,name = &quot;id&quot;,referencedColumnName = &quot;training_id&quot;)\r\n    \tprivate TblBranchTraining branchTraining;\r\n    }\r\n\r\nAnd \r\n\r\n    public class TblBranchTraining implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;training_id&quot;)\r\n    \tprivate Integer trainingId;\r\n    \t \r\n    \t\r\n    \tprivate String status;\r\n    \t\r\n    \tprivate String date;\r\n    \t\t\r\n    \t@Column(name = &quot;branch_code&quot;)\r\n    \tprivate String branchCode;\r\n    \r\n    }\r\n\r\nAnd here is my Repository Method\r\n\r\n    @Repository\r\n    public interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\r\n    \r\n    \tList&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(String branchCode);\r\n    \r\n    }\r\n\r\n\r\nbut this JPA method is not generating the query what I want. which is `OR tb.branchCode is null`\r\n\r\nI tried creating query (which is posted above) but that is giving all records which belongs to other branchCode\r\n\r\nAny help would be appreciated. \r\n\r\n","title":"jpa method to query by joined column","body":"<p>I want a query something like this</p>\n<pre><code>select tm ,tb\nfrom TrainingMaster tm \nleft join TblBranchTraining tb on tm.id = tb.trainingId \nwhere (tb.branchCode = :branchCode OR tb.branchCode is null) ;\n</code></pre>\n<p>Here are my entity classes</p>\n<pre><code>public class TrainingMaster implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name=&quot;training_name&quot;)\n    private String trainingName;\n    \n    @OneToOne(cascade= CascadeType.ALL)\n    @JoinColumn(nullable = false,name = &quot;id&quot;,referencedColumnName = &quot;training_id&quot;)\n    private TblBranchTraining branchTraining;\n}\n</code></pre>\n<p>And</p>\n<pre><code>public class TblBranchTraining implements Serializable{\n    \n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;training_id&quot;)\n    private Integer trainingId;\n     \n    \n    private String status;\n    \n    private String date;\n        \n    @Column(name = &quot;branch_code&quot;)\n    private String branchCode;\n\n}\n</code></pre>\n<p>And here is my Repository Method</p>\n<pre><code>@Repository\npublic interface TrainingMasterRepository extends JpaRepository&lt;TrainingMaster, Integer&gt; {\n\n    List&lt;TrainingMaster&gt; findByAllTrainingMasters_branchCode(String branchCode);\n\n}\n</code></pre>\n<p>but this JPA method is not generating the query what I want. which is <code>OR tb.branchCode is null</code></p>\n<p>I tried creating query (which is posted above) but that is giving all records which belongs to other branchCode</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","xml"],"answers":[{"comments":[{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1273838157,"post_id":2833473,"comment_id":2875141,"body_markdown":"thank you for your answer, `((Node) contento.item(0)).getAttributes()` returns null,","body":"thank you for your answer, <code>((Node) contento.item(0)).getAttributes()</code> returns null,"},{"owner":{"account_id":50565,"reputation":6912,"user_id":150882,"display_name":"Paul Butcher"},"score":0,"creation_date":1273840557,"post_id":2833473,"comment_id":2875366,"body_markdown":"In which case, you are almost certainly picking up the child text node. Try `((Node) contento.item(1)).getAttributes()` instead, and if that is successful, then refactor it to make your intent clearer (probably using getNodeType).","body":"In which case, you are almost certainly picking up the child text node. Try <code>((Node) contento.item(1)).getAttributes()</code> instead, and if that is successful, then refactor it to make your intent clearer (probably using getNodeType)."}],"tags":[],"owner":{"account_id":50565,"reputation":6912,"user_id":150882,"display_name":"Paul Butcher"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273834597,"creation_date":1273833706,"answer_id":2833473,"question_id":2833281,"body_markdown":"Use [Element.getAttribute][1]  and Element.setAttribute\r\n\r\n\r\nIn your example, `((Node) content.item(0)).getFirstChild().getAttributes()`.  Assuming that `content` is a typo, and you mean `contento`, getFirstChild is correctly returning NULL as contento has no children.   Try: `((Node) contento.item(0)).getAttributes()` instead.\r\n\r\nAnother issue is that by using `getFirstChild` and `getChildNodes()[0]` without checking the return value, you are running the risk of picking up child text nodes, instead of the element you want.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Element.html#getAttribute(java.lang.String)\r\n","title":"XML child node attribute value","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/org/w3c/dom/Element.html#getAttribute(java.lang.String)\" rel=\"nofollow noreferrer\">Element.getAttribute</a>  and Element.setAttribute</p>\n\n<p>In your example, <code>((Node) content.item(0)).getFirstChild().getAttributes()</code>.  Assuming that <code>content</code> is a typo, and you mean <code>contento</code>, getFirstChild is correctly returning NULL as contento has no children.   Try: <code>((Node) contento.item(0)).getAttributes()</code> instead.</p>\n\n<p>Another issue is that by using <code>getFirstChild</code> and <code>getChildNodes()[0]</code> without checking the return value, you are running the risk of picking up child text nodes, instead of the element you want.</p>\n"},{"comments":[{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274173962,"post_id":2855803,"comment_id":2899448,"body_markdown":"@Pascal Thivent I did look at the rome, I get xml as string in my case from other method. Would it be better to do this with Rome? is is possible to create something more generic than this? I mean is this the way its done generally? +1","body":"@Pascal Thivent I did look at the rome, I get xml as string in my case from other method. Would it be better to do this with Rome? is is possible to create something more generic than this? I mean is this the way its done generally? +1"},{"owner":{"account_id":35656,"reputation":11324,"user_id":101059,"accept_rate":50,"display_name":"seanmonstar"},"score":1,"creation_date":1274174253,"post_id":2855803,"comment_id":2899466,"body_markdown":"Why would you do `getAttributes().item(0)`? This will result in the wrong attribute if the xml element ever had the placement of its attributes swapped. `node.getAttribute(&#39;madeIn&#39;)` seems to work fine...","body":"Why would you do <code>getAttributes().item(0)</code>? This will result in the wrong attribute if the xml element ever had the placement of its attributes swapped. <code>node.getAttribute(&#39;madeIn&#39;)</code> seems to work fine..."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274174321,"post_id":2855803,"comment_id":2899475,"body_markdown":"@seanmonstar it does work fine and yes that is what I meant by saying &quot;more generic&quot;","body":"@seanmonstar it does work fine and yes that is what I meant by saying &quot;more generic&quot;"},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1274174588,"post_id":2855803,"comment_id":2899489,"body_markdown":"@c0mrade: The `String` is not a problem, Rome can take an `InputStream`. I wanted at least to mention it because I consider Rome as the de facto standard to parse/aggregate/generate feeds and it provides a nice and clean API. Depending on what you want to do exactly, Rome might be indeed the standard choice.","body":"@c0mrade: The <code>String</code> is not a problem, Rome can take an <code>InputStream</code>. I wanted at least to mention it because I consider Rome as the de facto standard to parse/aggregate/generate feeds and it provides a nice and clean API. Depending on what you want to do exactly, Rome might be indeed the standard choice."},{"owner":{"account_id":3062,"reputation":45069,"user_id":4332,"accept_rate":88,"display_name":"Adrian Mouat"},"score":0,"creation_date":1274174690,"post_id":2855803,"comment_id":2899502,"body_markdown":"Also, remember that the order of attributes isn&#39;t considered significant in XML - a processor could validly return the list of attributes in any order.","body":"Also, remember that the order of attributes isn&#39;t considered significant in XML - a processor could validly return the list of attributes in any order."},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1274174728,"post_id":2855803,"comment_id":2899507,"body_markdown":"@seanmonstar @Adrian You are both right. But the requirements are not crystal clear and my first intention was to point out the problem in the actual code. But I&#39;ll fix that to avoid more confusion.","body":"@seanmonstar @Adrian You are both right. But the requirements are not crystal clear and my first intention was to point out the problem in the actual code. But I&#39;ll fix that to avoid more confusion."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274178425,"post_id":2855803,"comment_id":2899899,"body_markdown":"@Pascal Thivent `the requirements are not crystal clear` Take a look at my edit pls","body":"@Pascal Thivent <code>the requirements are not crystal clear</code> Take a look at my edit pls"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274180228,"post_id":2855803,"comment_id":2900095,"body_markdown":"@Pascal Thivent I&#39;ve tried Rome, its actually quite nice, I managed to loop trough entries, and to get title and id, how do I get custom named tags?","body":"@Pascal Thivent I&#39;ve tried Rome, its actually quite nice, I managed to loop trough entries, and to get title and id, how do I get custom named tags?"},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1274195651,"post_id":2855803,"comment_id":2902389,"body_markdown":"@c0mrade Are you parsing a real rss or atom feed?","body":"@c0mrade Are you parsing a real rss or atom feed?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274259399,"post_id":2855803,"comment_id":2908711,"body_markdown":"@Pascal Thivent I&#39;m parsing atom feed","body":"@Pascal Thivent I&#39;m parsing atom feed"}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274178690,"creation_date":1274173465,"answer_id":2855803,"question_id":2833281,"body_markdown":"As pointed out, `&lt;contento&gt;` doesn&#39;t have any child so instead of:\r\n\r\n    (contento.item(0)).getFirstChild().getAttributes()\r\n\r\nYou should treat the Node as Element and use getAttribute(String), something like this:\r\n\r\n    ((Element)contento.item(0)).getAttribute(&quot;madeIn&quot;)\r\n\r\nHere is a modified version of your code (it&#39;s not the most robust code I&#39;ve written): \r\n\r\n    InputStream inputStream = new ByteArrayInputStream(xml.getBytes());\r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    Document doc = db.parse(inputStream);\r\n    doc.getDocumentElement().normalize();\r\n    System.out.println(&quot;Root element &quot; + doc.getDocumentElement().getNodeName());\r\n    NodeList nodeLst = doc.getElementsByTagName(&quot;entry&quot;);\r\n    System.out.println(&quot;Information of all entries&quot;);\r\n\r\n    for (int s = 0; s &lt; nodeLst.getLength(); s++) {\r\n\r\n        Node fstNode = nodeLst.item(s);\r\n\r\n        if (fstNode.getNodeType() == Node.ELEMENT_NODE) {\r\n\r\n            Element fstElmnt = (Element) fstNode;\r\n\r\n            NodeList title = fstElmnt.getElementsByTagName(&quot;title&quot;).item(0).getChildNodes();\r\n            System.out.println(&quot;Title : &quot; + (title.item(0)).getNodeValue());\r\n\r\n            NodeList id = fstElmnt.getElementsByTagName(&quot;id&quot;).item(0).getChildNodes();\r\n            System.out.println(&quot;Id: &quot; + (id.item(0)).getNodeValue());\r\n\r\n            Node tempiNode = fstElmnt.getElementsByTagName(&quot;tempi&quot;).item(0);\r\n            System.out.println(&quot;Type : &quot; + ((Element) tempiNode).getAttribute(&quot;type&quot;));\r\n\r\n            Node contento = tempiNode.getChildNodes().item(0);\r\n            System.out.println(&quot;Made in : &quot; + ((Element) contento).getAttribute(&quot;madeIn&quot;));\r\n        }\r\n    }\r\n\r\nRunning it on your XML snippet produces the following output:\r\n\r\n&lt;pre&gt;\r\nRoot element entry\r\nInformation of all entries\r\nTitle : FEED TITLE\r\nId: 5467sdad98787ad3149878sasda\r\nType : application/xml\r\nMade in : USA\r\n&lt;/pre&gt;\r\n\r\nBy the way, did you consider using something like [Rome][1] instead?\r\n\r\n\r\n  [1]: https://rome.dev.java.net/","title":"XML child node attribute value","body":"<p>As pointed out, <code>&lt;contento&gt;</code> doesn't have any child so instead of:</p>\n\n<pre><code>(contento.item(0)).getFirstChild().getAttributes()\n</code></pre>\n\n<p>You should treat the Node as Element and use getAttribute(String), something like this:</p>\n\n<pre><code>((Element)contento.item(0)).getAttribute(\"madeIn\")\n</code></pre>\n\n<p>Here is a modified version of your code (it's not the most robust code I've written): </p>\n\n<pre><code>InputStream inputStream = new ByteArrayInputStream(xml.getBytes());\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(inputStream);\ndoc.getDocumentElement().normalize();\nSystem.out.println(\"Root element \" + doc.getDocumentElement().getNodeName());\nNodeList nodeLst = doc.getElementsByTagName(\"entry\");\nSystem.out.println(\"Information of all entries\");\n\nfor (int s = 0; s &lt; nodeLst.getLength(); s++) {\n\n    Node fstNode = nodeLst.item(s);\n\n    if (fstNode.getNodeType() == Node.ELEMENT_NODE) {\n\n        Element fstElmnt = (Element) fstNode;\n\n        NodeList title = fstElmnt.getElementsByTagName(\"title\").item(0).getChildNodes();\n        System.out.println(\"Title : \" + (title.item(0)).getNodeValue());\n\n        NodeList id = fstElmnt.getElementsByTagName(\"id\").item(0).getChildNodes();\n        System.out.println(\"Id: \" + (id.item(0)).getNodeValue());\n\n        Node tempiNode = fstElmnt.getElementsByTagName(\"tempi\").item(0);\n        System.out.println(\"Type : \" + ((Element) tempiNode).getAttribute(\"type\"));\n\n        Node contento = tempiNode.getChildNodes().item(0);\n        System.out.println(\"Made in : \" + ((Element) contento).getAttribute(\"madeIn\"));\n    }\n}\n</code></pre>\n\n<p>Running it on your XML snippet produces the following output:</p>\n\n<pre>\nRoot element entry\nInformation of all entries\nTitle : FEED TITLE\nId: 5467sdad98787ad3149878sasda\nType : application/xml\nMade in : USA\n</pre>\n\n<p>By the way, did you consider using something like <a href=\"https://rome.dev.java.net/\" rel=\"nofollow noreferrer\">Rome</a> instead?</p>\n"},{"comments":[{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274183092,"post_id":2856812,"comment_id":2900444,"body_markdown":"@polygenelubricants I saw that approach here http://java.sun.com/developer/technicalArticles/xml/mapping/ but wasn&#39;t really sure how to implement it. So suggest that I create Entry class with fields title, id, tempi ? I&#39;m not following you how would I use that instead of map&lt;string,string&gt; and how would I get tags attributes with this approach ?","body":"@polygenelubricants I saw that approach here <a href=\"http://java.sun.com/developer/technicalArticles/xml/mapping/\" rel=\"nofollow noreferrer\">java.sun.com/developer/technicalArticles/xml/mapping</a> but wasn&#39;t really sure how to implement it. So suggest that I create Entry class with fields title, id, tempi ? I&#39;m not following you how would I use that instead of map&lt;string,string&gt; and how would I get tags attributes with this approach ?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1274184233,"post_id":2856812,"comment_id":2900600,"body_markdown":"@c0mrade: The issue is how to _represent_ the data, not how to _get _them. You can still get the values using XPath as I&#39;ve shown above, but instead of storing them into a `Map&lt;String,String&gt;`, you&#39;d want to use a `class Entry` that has `getId()`, `getTitle()`, `getCountryOfOrigin()`, etc. This is your own `class Entry`, so you can define what the fields should be called and what they mean.","body":"@c0mrade: The issue is how to <i>represent</i> the data, not how to _get _them. You can still get the values using XPath as I&#39;ve shown above, but instead of storing them into a <code>Map&lt;String,String&gt;</code>, you&#39;d want to use a <code>class Entry</code> that has <code>getId()</code>, <code>getTitle()</code>, <code>getCountryOfOrigin()</code>, etc. This is your own <code>class Entry</code>, so you can define what the fields should be called and what they mean."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1274234124,"post_id":2856812,"comment_id":2906854,"body_markdown":"@c0mrade: I&#39;ve modified the sample to use `class Entry` instead of `Map&lt;String,String&gt;`. The main point is the use of XPath, though.","body":"@c0mrade: I&#39;ve modified the sample to use <code>class Entry</code> instead of <code>Map&lt;String,String&gt;</code>. The main point is the use of XPath, though."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274271901,"post_id":2856812,"comment_id":2909941,"body_markdown":"@polygenelubricants excellent thank you this is what I&#39;ve been after, I&#39;ve created seperate Entry class and created method inside printFeed() and just pasted return of your toString method. This is great thank you, should I wait for more time or accept the bounty now?","body":"@polygenelubricants excellent thank you this is what I&#39;ve been after, I&#39;ve created seperate Entry class and created method inside printFeed() and just pasted return of your toString method. This is great thank you, should I wait for more time or accept the bounty now?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1274272780,"post_id":2856812,"comment_id":2910077,"body_markdown":"@c0mrade: when to accept is entirely up to you. It&#39;s your right to accept now, later, or (gulp!) never.","body":"@c0mrade: when to accept is entirely up to you. It&#39;s your right to accept now, later, or (gulp!) never."},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1274277410,"post_id":2856812,"comment_id":2910802,"body_markdown":"@polygenelubricants I thought of leaving it so you can collect many more vote up, cause this really looks simple and just answers the question 100 % accurate but I accepted so I won&#39;t forget later. tnx","body":"@polygenelubricants I thought of leaving it so you can collect many more vote up, cause this really looks simple and just answers the question 100 % accurate but I accepted so I won&#39;t forget later. tnx"}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679853135,"creation_date":1274182560,"answer_id":2856812,"question_id":2833281,"body_markdown":"The best solution for this is to use XPath. Let&#39;s say we have the following `feed.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;entries&gt;\r\n    &lt;entry&gt;\r\n        &lt;title&gt;FEED TITLE 1&lt;/title&gt;\r\n        &lt;id&gt;id1&lt;/id&gt;\r\n        &lt;tempi type=&quot;type1&quot;&gt;\r\n          &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn1&quot; /&gt;\r\n        &lt;/tempi&gt;\r\n    &lt;/entry&gt;\r\n    &lt;entry&gt;\r\n        &lt;title&gt;FEED TITLE 2&lt;/title&gt;\r\n        &lt;id&gt;id2&lt;/id&gt;\r\n        &lt;tempi type=&quot;type2&quot;&gt;\r\n          &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn2&quot; /&gt;\r\n        &lt;/tempi&gt;\r\n    &lt;/entry&gt;\r\n    &lt;entry&gt;\r\n        &lt;id&gt;id3&lt;/id&gt;\r\n    &lt;/entry&gt;\r\n    &lt;/entries&gt;\r\n\r\nHere&#39;s a short but compile-and-runnable proof-of-concept (with `feed.xml` file in the same directory).\r\n\r\n    import javax.xml.xpath.*;\r\n    import javax.xml.parsers.*;\r\n    import org.w3c.dom.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class XPathTest {\r\n    \tstatic class Entry {\r\n    \t\tfinal String title, id, origin, type;\r\n            Entry(String title, String id, String origin, String type) {\r\n                this.title = title;\r\n                this.id = id;\r\n                this.origin = origin;\r\n                this.type = type;\r\n            }\r\n    \t\t@Override public String toString() {\r\n    \t\t\treturn String.format(&quot;%s:%s(%s)[%s]&quot;, id, title, origin, type);\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfinal static XPath xpath = XPathFactory.newInstance().newXPath();\r\n    \tstatic String evalString(Node context, String path) throws XPathExpressionException {\r\n    \t\treturn (String) xpath.evaluate(path, context, XPathConstants.STRING);\r\n    \t}\r\n\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile file = new File(&quot;feed.xml&quot;);\r\n    \t\tDocument document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);\r\n    \t\tNodeList entriesNodeList = (NodeList) xpath.evaluate(&quot;//entry&quot;, document, XPathConstants.NODESET);\r\n\r\n    \t\tList&lt;Entry&gt; entries = new ArrayList&lt;Entry&gt;();\r\n    \t\tfor (int i = 0; i &lt; entriesNodeList.getLength(); i++) {\r\n    \t\t\tNode entryNode = entriesNodeList.item(i);\r\n    \t\t\tentries.add(new Entry(\r\n    \t\t\t\tevalString(entryNode, &quot;title&quot;),\r\n    \t\t\t\tevalString(entryNode, &quot;id&quot;),\r\n    \t\t\t\tevalString(entryNode, &quot;tempi/conento/@madeIn&quot;),\r\n    \t\t\t\tevalString(entryNode, &quot;tempi/@type&quot;)\r\n    \t\t\t));\r\n    \t\t}\r\n    \t\tfor (Entry entry : entries) {\r\n    \t\t\tSystem.out.println(entry);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis produces the following output:\r\n\r\n    id1:FEED TITLE 1(MadeIn1)[type1]\r\n    id2:FEED TITLE 2(MadeIn2)[type2]\r\n    id3:()[]\r\n\r\nNote how using XPath makes the value retrieval very simple, intuitive, readable, and straightforward, and &quot;missing&quot; values are also gracefully handled.\r\n\r\n### API links\r\n\r\n* [`package javax.xml.xpath`](http://java.sun.com/j2se/1.6.0/docs/api/javax/xml/xpath/package-summary.html)\r\n* http://www.w3.org/TR/xpath\r\n* [Wikipedia/XPath](http://en.wikipedia.org/wiki/XPath)\r\n\r\n","title":"XML child node attribute value","body":"<p>The best solution for this is to use XPath. Let's say we have the following <code>feed.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;entries&gt;\n&lt;entry&gt;\n    &lt;title&gt;FEED TITLE 1&lt;/title&gt;\n    &lt;id&gt;id1&lt;/id&gt;\n    &lt;tempi type=&quot;type1&quot;&gt;\n      &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn1&quot; /&gt;\n    &lt;/tempi&gt;\n&lt;/entry&gt;\n&lt;entry&gt;\n    &lt;title&gt;FEED TITLE 2&lt;/title&gt;\n    &lt;id&gt;id2&lt;/id&gt;\n    &lt;tempi type=&quot;type2&quot;&gt;\n      &lt;conento xmlns=&quot;dontcare?&quot; madeIn=&quot;MadeIn2&quot; /&gt;\n    &lt;/tempi&gt;\n&lt;/entry&gt;\n&lt;entry&gt;\n    &lt;id&gt;id3&lt;/id&gt;\n&lt;/entry&gt;\n&lt;/entries&gt;\n</code></pre>\n<p>Here's a short but compile-and-runnable proof-of-concept (with <code>feed.xml</code> file in the same directory).</p>\n<pre><code>import javax.xml.xpath.*;\nimport javax.xml.parsers.*;\nimport org.w3c.dom.*;\nimport java.io.*;\nimport java.util.*;\n\npublic class XPathTest {\n    static class Entry {\n        final String title, id, origin, type;\n        Entry(String title, String id, String origin, String type) {\n            this.title = title;\n            this.id = id;\n            this.origin = origin;\n            this.type = type;\n        }\n        @Override public String toString() {\n            return String.format(&quot;%s:%s(%s)[%s]&quot;, id, title, origin, type);\n        }\n    }\n\n    final static XPath xpath = XPathFactory.newInstance().newXPath();\n    static String evalString(Node context, String path) throws XPathExpressionException {\n        return (String) xpath.evaluate(path, context, XPathConstants.STRING);\n    }\n\n    public static void main(String[] args) throws Exception {\n        File file = new File(&quot;feed.xml&quot;);\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);\n        NodeList entriesNodeList = (NodeList) xpath.evaluate(&quot;//entry&quot;, document, XPathConstants.NODESET);\n\n        List&lt;Entry&gt; entries = new ArrayList&lt;Entry&gt;();\n        for (int i = 0; i &lt; entriesNodeList.getLength(); i++) {\n            Node entryNode = entriesNodeList.item(i);\n            entries.add(new Entry(\n                evalString(entryNode, &quot;title&quot;),\n                evalString(entryNode, &quot;id&quot;),\n                evalString(entryNode, &quot;tempi/conento/@madeIn&quot;),\n                evalString(entryNode, &quot;tempi/@type&quot;)\n            ));\n        }\n        for (Entry entry : entries) {\n            System.out.println(entry);\n        }\n    }\n}\n</code></pre>\n<p>This produces the following output:</p>\n<pre><code>id1:FEED TITLE 1(MadeIn1)[type1]\nid2:FEED TITLE 2(MadeIn2)[type2]\nid3:()[]\n</code></pre>\n<p>Note how using XPath makes the value retrieval very simple, intuitive, readable, and straightforward, and &quot;missing&quot; values are also gracefully handled.</p>\n<h3>API links</h3>\n<ul>\n<li><a href=\"http://java.sun.com/j2se/1.6.0/docs/api/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\"><code>package javax.xml.xpath</code></a></li>\n<li><a href=\"http://www.w3.org/TR/xpath\" rel=\"nofollow noreferrer\">http://www.w3.org/TR/xpath</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">Wikipedia/XPath</a></li>\n</ul>\n"}],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8916,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2856812,"answer_count":3,"score":3,"last_activity_date":1679853135,"creation_date":1273831603,"question_id":2833281,"body_markdown":"I&#39;m trying to read XML file, ex :\r\n\r\n    &lt;entry&gt;\r\n        &lt;title&gt;FEED TITLE&lt;/title&gt;\r\n        &lt;id&gt;5467sdad98787ad3149878sasda&lt;/id&gt;\r\n        &lt;tempi type=&quot;application/xml&quot;&gt;\r\n          &lt;conento xmlns=&quot;http://mydomainname.com/xsd/radiofeed.xsd&quot; madeIn=&quot;USA&quot; /&gt;\r\n        &lt;/tempi&gt;\r\n    &lt;/entry&gt;\r\n\r\nHere is the code I have so far: http://pastebin.com/huKP4KED\r\n\r\nHere is what I need, concerning XML above:\r\n\r\n- I need to get value of title, id\r\n- attribute value of tempi as well as madeIn attribute value of contento\r\n\r\nWhat is the best way to do this ?\r\n\r\nEdit\r\n---\r\n\r\n@Pascal Thivent\r\n\r\nMaybe creating method would be good idea like public String getValue(String xml, Element elementname), where you specify tag name, the method returns tag value or tag attribute (maybe give it name as additional method argument) if the value is not available\r\n\r\nWhat I really want to get certain tag value or attribute if tag value(s) is not available, so I&#39;m in the process of thinking what is the best way to do so since I&#39;ve never done it before.\r\n","title":"XML child node attribute value","body":"<p>I'm trying to read XML file, ex :</p>\n<pre><code>&lt;entry&gt;\n    &lt;title&gt;FEED TITLE&lt;/title&gt;\n    &lt;id&gt;5467sdad98787ad3149878sasda&lt;/id&gt;\n    &lt;tempi type=&quot;application/xml&quot;&gt;\n      &lt;conento xmlns=&quot;http://mydomainname.com/xsd/radiofeed.xsd&quot; madeIn=&quot;USA&quot; /&gt;\n    &lt;/tempi&gt;\n&lt;/entry&gt;\n</code></pre>\n<p>Here is the code I have so far: <a href=\"http://pastebin.com/huKP4KED\" rel=\"nofollow noreferrer\">http://pastebin.com/huKP4KED</a></p>\n<p>Here is what I need, concerning XML above:</p>\n<ul>\n<li>I need to get value of title, id</li>\n<li>attribute value of tempi as well as madeIn attribute value of contento</li>\n</ul>\n<p>What is the best way to do this ?</p>\n<h2>Edit</h2>\n<p>@Pascal Thivent</p>\n<p>Maybe creating method would be good idea like public String getValue(String xml, Element elementname), where you specify tag name, the method returns tag value or tag attribute (maybe give it name as additional method argument) if the value is not available</p>\n<p>What I really want to get certain tag value or attribute if tag value(s) is not available, so I'm in the process of thinking what is the best way to do so since I've never done it before.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1288155006,"post_id":4030032,"comment_id":4323417,"body_markdown":"It&#39;s complaining about a missing } to terminate the class - is that in? Also, your formatting is broken - you&#39;re mixing tabs and spaces. Look at it, it doesn&#39;t look right at all.","body":"It&#39;s complaining about a missing } to terminate the class - is that in? Also, your formatting is broken - you&#39;re mixing tabs and spaces. Look at it, it doesn&#39;t look right at all."},{"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"score":0,"creation_date":1288155084,"post_id":4030032,"comment_id":4323424,"body_markdown":"the formatting got all screwy when i tried to copy and paste code, but have it stay in the &quot;insert code here&quot; area in this window.","body":"the formatting got all screwy when i tried to copy and paste code, but have it stay in the &quot;insert code here&quot; area in this window."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1288155198,"post_id":4030032,"comment_id":4323441,"body_markdown":"can you provide the exact error messages from the compiler?","body":"can you provide the exact error messages from the compiler?"},{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":0,"creation_date":1288155250,"post_id":4030032,"comment_id":4323447,"body_markdown":"Would this be Karel the Robot? on Android? :)","body":"Would this be Karel the Robot? on Android? :)"}],"answers":[{"comments":[{"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"score":0,"creation_date":1288155332,"post_id":4030048,"comment_id":4323457,"body_markdown":"in my actual code, the formatting/indentation is perfect (i think...). I just had trouble transferring that code correctly to here.","body":"in my actual code, the formatting/indentation is perfect (i think...). I just had trouble transferring that code correctly to here."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":1,"creation_date":1288155702,"post_id":4030048,"comment_id":4323490,"body_markdown":"Using Eclipse, try Ctrl+Shift+F (you may want to save a backup copy if the source is not under version control) which should format the source code.  Presumably any errors should crop up there (I don&#39;t use Eclipse so not sure what it will do if there are issues with the code).","body":"Using Eclipse, try Ctrl+Shift+F (you may want to save a backup copy if the source is not under version control) which should format the source code.  Presumably any errors should crop up there (I don&#39;t use Eclipse so not sure what it will do if there are issues with the code)."},{"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"score":0,"creation_date":1288156203,"post_id":4030048,"comment_id":4323518,"body_markdown":"Syntax error, insert &quot;}&quot; to complete ClassBody. I&#39;m confused. Why is it even referring to it as a class? Isn&#39;t a method?","body":"Syntax error, insert &quot;}&quot; to complete ClassBody. I&#39;m confused. Why is it even referring to it as a class? Isn&#39;t a method?"},{"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":1,"creation_date":1288158742,"post_id":4030048,"comment_id":4323753,"body_markdown":"Eclipse is CTRL+SHIFT+P by default. Look under Navigate -&gt; Goto -&gt; Matching Bracket. It&#39;s called ClassBody because it&#39;s the BODY of the CLASS. The missing bracket is for the &quot;class&quot;, not for any of its methods. (It&#39;s implicit since one of your methods is missing a &#39;}&#39;, so the final &#39;}&#39; that is supposed to terminate the class just terminates a method.)","body":"Eclipse is CTRL+SHIFT+P by default. Look under Navigate -&gt; Goto -&gt; Matching Bracket. It&#39;s called ClassBody because it&#39;s the BODY of the CLASS. The missing bracket is for the &quot;class&quot;, not for any of its methods. (It&#39;s implicit since one of your methods is missing a &#39;}&#39;, so the final &#39;}&#39; that is supposed to terminate the class just terminates a method.)"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1288193047,"post_id":4030048,"comment_id":4329353,"body_markdown":"If you are on a Unix type machine (Linux, OSX, etc) or on Windows with Cygwin (which is free) do this: cat YourFileName.java | awk &#39;{ for ( i=1; i&lt;=length; i++ ) arr[substr($0, i, 1)]++ }END{ for ( i in arr ) { print i, arr[i] } }&#39; | grep [{}] replace the YourFileName.java with the actual file name.  This will tell you how many { and } there are... if the number isn&#39;t the same then you are missing one :-)","body":"If you are on a Unix type machine (Linux, OSX, etc) or on Windows with Cygwin (which is free) do this: cat YourFileName.java | awk &#39;{ for ( i=1; i&lt;=length; i++ ) arr[substr($0, i, 1)]++ }END{ for ( i in arr ) { print i, arr[i] } }&#39; | grep [{}] replace the YourFileName.java with the actual file name.  This will tell you how many { and } there are... if the number isn&#39;t the same then you are missing one :-)"},{"owner":{"account_id":74686,"reputation":726,"user_id":214477,"accept_rate":27,"display_name":"k.honsali"},"score":1,"creation_date":1368434387,"post_id":4030048,"comment_id":23715674,"body_markdown":"You may have the indentation right, but a problem in the comments (any extra */ will cause that error in Eclipse)","body":"You may have the indentation right, but a problem in the comments (any extra */ will cause that error in Eclipse)"}],"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1288155081,"creation_date":1288155081,"answer_id":4030048,"question_id":4030032,"body_markdown":"You really want to go to the top of your file and do proper and consistent indention all the way to the bottom.\r\n\r\nFor example...\r\n\r\n    private void putThreeBeepers() \r\n    {\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            putBeeper();\r\n            move();\r\n        }\r\n    \r\n        putBeeper();\r\n    }\r\n    \r\n    private void backUp() \r\n    {\r\n        turnAround();\r\n        move();\r\n        turnAround();\r\n    }\r\n\r\nOdds are, somewhere along the line, you are missing a }.  Your description isn&#39;t super clear, but if the code you posted is how you actually have it formatted in your file then odds are you just missed something somewhere... and poor indentation makes it very hard to spot.\r\n\r\nThe fact that the message is changing is confusing, but it is the sort of thing you see in these cases.","title":"syntax error: insert } to complete ClassBody","body":"<p>You really want to go to the top of your file and do proper and consistent indention all the way to the bottom.</p>\n\n<p>For example...</p>\n\n<pre><code>private void putThreeBeepers() \n{\n    for (int i = 0; i &lt; 2; i++) {\n        putBeeper();\n        move();\n    }\n\n    putBeeper();\n}\n\nprivate void backUp() \n{\n    turnAround();\n    move();\n    turnAround();\n}\n</code></pre>\n\n<p>Odds are, somewhere along the line, you are missing a }.  Your description isn't super clear, but if the code you posted is how you actually have it formatted in your file then odds are you just missed something somewhere... and poor indentation makes it very hard to spot.</p>\n\n<p>The fact that the message is changing is confusing, but it is the sort of thing you see in these cases.</p>\n"},{"comments":[{"owner":{"account_id":2160663,"reputation":679,"user_id":1914881,"accept_rate":75,"display_name":"Sean DiZazzo"},"score":0,"creation_date":1405016743,"post_id":12958788,"comment_id":38272797,"body_markdown":"In jsp look for unbalanced &lt;!-- and --&gt; too!","body":"In jsp look for unbalanced &lt;!-- and --&gt; too!"}],"tags":[],"owner":{"account_id":1953250,"reputation":141,"user_id":1756891,"display_name":"Jhenry"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350576407,"creation_date":1350575920,"answer_id":12958788,"question_id":4030032,"body_markdown":"the error might be misleading. In my case i had incorrect/incomplete comment statements such as below which is broken lead to this error:\r\n\r\n    /*\r\n    //  */\r\n    */\r\n\r\nFixing the comments fixed the error. Hope this helps. Thanks.","title":"syntax error: insert } to complete ClassBody","body":"<p>the error might be misleading. In my case i had incorrect/incomplete comment statements such as below which is broken lead to this error:</p>\n\n<pre><code>/*\n//  */\n*/\n</code></pre>\n\n<p>Fixing the comments fixed the error. Hope this helps. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":2063265,"reputation":31,"user_id":1839365,"display_name":"TomHanrath"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355066973,"creation_date":1355066973,"answer_id":13788809,"question_id":4030032,"body_markdown":"I think this can be caused by a number of different problems. :(\r\n\r\nIn my case it was that I have forgotten to specify the type of two parameters in one of my methods declareations.\r\nTo fix I had to change this:\r\n onUpgrade(SQLiteDatabase pDb, pOldVersion, pNewVersion)\r\n{\r\n\r\n}\r\nto this:\r\n onUpgrade(SQLiteDatabase pDb, int pOldVersion, int pNewVersion)\r\n","title":"syntax error: insert } to complete ClassBody","body":"<p>I think this can be caused by a number of different problems. :(</p>\n\n<p>In my case it was that I have forgotten to specify the type of two parameters in one of my methods declareations.\nTo fix I had to change this:\n onUpgrade(SQLiteDatabase pDb, pOldVersion, pNewVersion)\n{</p>\n\n<p>}\nto this:\n onUpgrade(SQLiteDatabase pDb, int pOldVersion, int pNewVersion)</p>\n"},{"tags":[],"owner":{"account_id":336146,"reputation":3517,"user_id":663645,"accept_rate":67,"display_name":"Cullen SUN"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363856382,"creation_date":1363856382,"answer_id":15543078,"question_id":4030032,"body_markdown":"It might be due to invisible Chars when copying code from PDF ebook.\r\nBe careful of the little red dot &#39;.&#39; &lt;br/&gt;\r\n\r\nChoose &#39;Select First Character&#39; -&gt; then delete it.\r\n\r\n\r\n![Invisible Chars when copying code from PDF ebook][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KVeoA.png","title":"syntax error: insert } to complete ClassBody","body":"<p>It might be due to invisible Chars when copying code from PDF ebook.\nBe careful of the little red dot '.' <br/></p>\n\n<p>Choose 'Select First Character' -> then delete it.</p>\n\n<p><img src=\"https://i.stack.imgur.com/KVeoA.png\" alt=\"Invisible Chars when copying code from PDF ebook\"></p>\n"},{"tags":[],"owner":{"account_id":322361,"reputation":857,"user_id":641738,"accept_rate":84,"display_name":"jwBurnside"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363919846,"creation_date":1363919846,"answer_id":15561794,"question_id":4030032,"body_markdown":"Also, the same error might occur if you accidentally write an if-statement outside of a method. I kept overlooking it since I was looking at the bracket-matching only.","title":"syntax error: insert } to complete ClassBody","body":"<p>Also, the same error might occur if you accidentally write an if-statement outside of a method. I kept overlooking it since I was looking at the bracket-matching only.</p>\n"},{"tags":[],"owner":{"account_id":3844588,"reputation":1,"user_id":3186579,"display_name":"Jane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389497410,"creation_date":1389497410,"answer_id":21070967,"question_id":4030032,"body_markdown":"I just simply add another&quot;}&quot;,makes as &quot;}}&quot;,then problem solved\r\n\r\nI didnt have to put anther &quot;}&quot; for my other java code exercise.\r\n\r\nIm a java beginner,I&#39;ve come across same problem so I searched online found this thread.Hope this help","title":"syntax error: insert } to complete ClassBody","body":"<p>I just simply add another\"}\",makes as \"}}\",then problem solved</p>\n\n<p>I didnt have to put anther \"}\" for my other java code exercise.</p>\n\n<p>Im a java beginner,I've come across same problem so I searched online found this thread.Hope this help</p>\n"},{"tags":[],"owner":{"account_id":2108978,"reputation":21,"user_id":1874629,"display_name":"Balaji Sankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402326366,"creation_date":1402326366,"answer_id":24123140,"question_id":4030032,"body_markdown":"Had the same problem. Turned out to be a very fundamental oversight.\r\nI was having the properties of a class declared like this:\r\n\r\n    private Texture foo;\r\n    private Sprite bar;\r\n    foo = new Texture();\r\n    bar = new Sprite();\r\n\r\nThe mistake was i had been instantiating the foo and bar variables outside the functions \r\nof the class. When I put the \r\n\r\n    foo = new Texture();\r\n    bar = new Sprite();\r\n\r\ninto their proper functions (like below), the error went away.\r\n\r\n    private Texture foo;\r\n    private Sprite bar;\r\n    // function\r\n    public void instantiateVariables(){\r\n    foo = new Texture();\r\n    bar = new Sprite();\r\n    }","title":"syntax error: insert } to complete ClassBody","body":"<p>Had the same problem. Turned out to be a very fundamental oversight.\nI was having the properties of a class declared like this:</p>\n\n<pre><code>private Texture foo;\nprivate Sprite bar;\nfoo = new Texture();\nbar = new Sprite();\n</code></pre>\n\n<p>The mistake was i had been instantiating the foo and bar variables outside the functions \nof the class. When I put the </p>\n\n<pre><code>foo = new Texture();\nbar = new Sprite();\n</code></pre>\n\n<p>into their proper functions (like below), the error went away.</p>\n\n<pre><code>private Texture foo;\nprivate Sprite bar;\n// function\npublic void instantiateVariables(){\nfoo = new Texture();\nbar = new Sprite();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482510193,"creation_date":1482510193,"answer_id":41304755,"question_id":4030032,"body_markdown":"I got this error due to a missing `&lt;%`.","title":"syntax error: insert } to complete ClassBody","body":"<p>I got this error due to a missing <code>&lt;%</code>.</p>\n"},{"comments":[{"owner":{"account_id":7131643,"reputation":161,"user_id":5452653,"display_name":"Mamun Kayum"},"score":0,"creation_date":1570467248,"post_id":46266454,"comment_id":102914640,"body_markdown":"kind of wired things, but worked for me. I used notepad++ though","body":"kind of wired things, but worked for me. I used notepad++ though"}],"tags":[],"owner":{"account_id":6185749,"reputation":19,"user_id":4819914,"display_name":"Dharmendra Pawar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505667655,"creation_date":1505666539,"answer_id":46266454,"question_id":4030032,"body_markdown":"Here are the steps.\r\n\r\n1. Just copy paste your code in notepad \r\n2. Remove copy from Java file\r\n3. Again copy notepad and paste into Java file.\r\n4. An error will be gone.\r\n\r\n","title":"syntax error: insert } to complete ClassBody","body":"<p>Here are the steps.</p>\n\n<ol>\n<li>Just copy paste your code in notepad </li>\n<li>Remove copy from Java file</li>\n<li>Again copy notepad and paste into Java file.</li>\n<li>An error will be gone.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2357300,"reputation":453,"user_id":2064841,"accept_rate":42,"display_name":"Manohar Ch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610124444,"creation_date":1610124118,"answer_id":65632947,"question_id":4030032,"body_markdown":"This question have already accepted answer but still there are some other problems where it occurs (like even though all statements are there correctly sometimes we will get this issue) and there are solutions too.\r\n\r\nRecently I came across like this situation in eclipse workspace. \r\n\r\nThe solution is\r\n1) Take the back up of that java file. \r\n2) Remove the java file from that location and do the build/compile\r\n3) Paste the file in the same location and do the build/compile\r\n4) If the above step 3 does not work create new file and paste the content/code from backup file and do the build/compile\r\n5) If the above step 3&amp;4 both are not working then type the code of that file manually end-to-end and do the build/compile\n","title":"syntax error: insert } to complete ClassBody","body":"<p>This question have already accepted answer but still there are some other problems where it occurs (like even though all statements are there correctly sometimes we will get this issue) and there are solutions too.</p>\n<p>Recently I came across like this situation in eclipse workspace.</p>\n<p>The solution is</p>\n<ol>\n<li>Take the back up of that java file.</li>\n<li>Remove the java file from that location and do the build/compile</li>\n<li>Paste the file in the same location and do the build/compile</li>\n<li>If the above step 3 does not work create new file and paste the content/code from backup file and do the build/compile</li>\n<li>If the above step 3&amp;4 both are not working then type the code of that file manually end-to-end and do the build/compile</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632390711,"creation_date":1632390711,"answer_id":69297747,"question_id":4030032,"body_markdown":"If this error comes in jsp, look for the braces. if open or close braces are missing, we will get this error.","title":"syntax error: insert } to complete ClassBody","body":"<p>If this error comes in jsp, look for the braces. if open or close braces are missing, we will get this error.</p>\n"},{"comments":[{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1680267975,"post_id":75849518,"comment_id":133873863,"body_markdown":"be sure to read the other answers to this question. Top answer already revealed a missing curly bracket. It would be helpful for others if you expanded your answer and revealed where you added the {{ and }}","body":"be sure to read the other answers to this question. Top answer already revealed a missing curly bracket. It would be helpful for others if you expanded your answer and revealed where you added the {{ and }}"}],"tags":[],"owner":{"display_name":"user17302177"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679852953,"creation_date":1679852953,"answer_id":75849518,"question_id":4030032,"body_markdown":"I have just added {{ and }} to make it work \r\nI dont know why it happed but it suck","title":"syntax error: insert } to complete ClassBody","body":"<p>I have just added {{ and }} to make it work\nI dont know why it happed but it suck</p>\n"}],"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102825,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":4030048,"answer_count":12,"score":4,"last_activity_date":1679852953,"creation_date":1288154687,"question_id":4030032,"body_markdown":"I created a method and keep getting an error that I need to include a } at the end of my method. I put the } in and the error is still there! If I then delete that } the same error will pop up on a prior method; and that error wasn&#39;t there before. in other words, if i type the } on my most recent method then the error stays there and only there. if i delete it, it duplicates that error on my prior method. \r\n\r\n   \r\n\r\n    private void putThreeBeepers() {\r\n\tfor (int i = 0; i &lt; 2; i++) {\r\n\t\tputBeeper();\r\n\t\tmove();\r\n\t}\r\n\tputBeeper();\r\n\t}\r\n    private void backUp() {\r\n\tturnAround();\r\n\tmove();\r\n\tturnAround();\r\n       }\r\n\r\n\r\n\r\n  \r\n\r\n","title":"syntax error: insert } to complete ClassBody","body":"<p>I created a method and keep getting an error that I need to include a } at the end of my method. I put the } in and the error is still there! If I then delete that } the same error will pop up on a prior method; and that error wasn't there before. in other words, if i type the } on my most recent method then the error stays there and only there. if i delete it, it duplicates that error on my prior method. </p>\n\n<pre><code>private void putThreeBeepers() {\nfor (int i = 0; i &lt; 2; i++) {\n    putBeeper();\n    move();\n}\nputBeeper();\n}\nprivate void backUp() {\nturnAround();\nmove();\nturnAround();\n   }\n</code></pre>\n"},{"tags":["java","javafx","controller"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679789383,"post_id":75845209,"comment_id":133783932,"body_markdown":"I would be more appropriate for `ExtraClass` to generate events that the controller &quot;observed&quot; and made appreciate updates - think about it, why would `ExtraClass` be responsible for updating the UI in the first place?  Creating another instance of `HelloController` would simply disconnect the `ExtraClass` from the UI anyway.  Part of the job of `FXMLLoader` is to load the fxml and bind it to the controller, which you&#39;ve simply curumvented","body":"I would be more appropriate for <code>ExtraClass</code> to generate events that the controller &quot;observed&quot; and made appreciate updates - think about it, why would <code>ExtraClass</code> be responsible for updating the UI in the first place?  Creating another instance of <code>HelloController</code> would simply disconnect the <code>ExtraClass</code> from the UI anyway.  Part of the job of <code>FXMLLoader</code> is to load the fxml and bind it to the controller, which you&#39;ve simply curumvented"},{"owner":{"account_id":26302394,"reputation":21,"user_id":19967527,"display_name":"Mikołaj"},"score":0,"creation_date":1679790222,"post_id":75845209,"comment_id":133784012,"body_markdown":"if i would like to notify my subscriber aka controller i think i would still need somehow to call this controller @MadProgrammer","body":"if i would like to notify my subscriber aka controller i think i would still need somehow to call this controller @MadProgrammer"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679790414,"post_id":75845209,"comment_id":133784032,"body_markdown":"No, you wouldn’t - or, at least, not directly. You’d provide a mechanism for the interested party to register/subscribe for events and then through that mechanism, generate events. Your ExtraClass would not care who they are notifying - think of a button - it doesn’t care who it’s notifying, it just notifies registered observers","body":"No, you wouldn’t - or, at least, not directly. You’d provide a mechanism for the interested party to register/subscribe for events and then through that mechanism, generate events. Your ExtraClass would not care who they are notifying - think of a button - it doesn’t care who it’s notifying, it just notifies registered observers"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679790494,"post_id":75845209,"comment_id":133784036,"body_markdown":"So, instead, your controller would register itself as an observer to the ExtraClass","body":"So, instead, your controller would register itself as an observer to the ExtraClass"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1679809361,"post_id":75845209,"comment_id":133785258,"body_markdown":"The duplicate demonstrates how to implement MadProgrammer&#39;s suggestions.","body":"The duplicate demonstrates how to implement MadProgrammer&#39;s suggestions."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1679835209,"post_id":75845209,"comment_id":133788234,"body_markdown":"The premise of the question is odd.  &quot;I tried passing a controller...but I want an approach without that.&quot;  If you want to access a member function of an object from another object, you have to pass a reference to the first object to the second object.  This is just basic programming and you can&#39;t avoid it.","body":"The premise of the question is odd.  &quot;I tried passing a controller...but I want an approach without that.&quot;  If you want to access a member function of an object from another object, you have to pass a reference to the first object to the second object.  This is just basic programming and you can&#39;t avoid it."}],"owner":{"account_id":26302394,"reputation":21,"user_id":19967527,"display_name":"Mikołaj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679789354,"answer_count":0,"score":0,"last_activity_date":1679852266,"creation_date":1679789067,"question_id":75845209,"body_markdown":"I have three classes: `HelloApplication`, `HelloController` and `ExtraClass`.\r\n\r\n`HelloApplication`: (basic boilerplate)\r\n\r\n```\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        URL fxml = getClass().getResource(&quot;hello-view.fxml&quot;);\r\n        FXMLLoader loader = new FXMLLoader(fxml);\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        ExtraClass extraClass = new\r\n        extraClass.marketRate(100);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`HelloController`:\r\n\r\n```\r\npublic class HelloController {\r\n    public Button welcomeButton;\r\n    \r\n    @FXML\r\n    private Label welcomeText;\r\n\r\n    @FXML\r\n    public void setText(String string) {\r\n        welcomeText.setText(string);\r\n    }\r\n}\r\n```\r\n\r\n`ExtraClass`:\r\n\r\n```\r\npublic class ExtraClass {\r\n    public void marketRate(int currentPrice) {\r\n        String s = String.valueOf(currentPrice \\* 1.05);\r\n        HelloController helloController = new HelloController();\r\n        helloController.setText(s);\r\n    }\r\n}\r\n```\r\n\r\nNow I get an error saying that `this.welcomeText` is `null`.\r\n\r\nI understand that if I make a new controller it isnt the right one, it doesnt have the fxml loaded.\r\n\r\nHow can I make it work?\r\n\r\nI&#39;ve tried passing a controller to the `ExtraClass` and it works, but I want an approach without that.","title":"Call a controller function in a seprate class in javafx","body":"<p>I have three classes: <code>HelloApplication</code>, <code>HelloController</code> and <code>ExtraClass</code>.</p>\n<p><code>HelloApplication</code>: (basic boilerplate)</p>\n<pre><code>public class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        URL fxml = getClass().getResource(&quot;hello-view.fxml&quot;);\n        FXMLLoader loader = new FXMLLoader(fxml);\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n        ExtraClass extraClass = new\n        extraClass.marketRate(100);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p><code>HelloController</code>:</p>\n<pre><code>public class HelloController {\n    public Button welcomeButton;\n    \n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    public void setText(String string) {\n        welcomeText.setText(string);\n    }\n}\n</code></pre>\n<p><code>ExtraClass</code>:</p>\n<pre><code>public class ExtraClass {\n    public void marketRate(int currentPrice) {\n        String s = String.valueOf(currentPrice \\* 1.05);\n        HelloController helloController = new HelloController();\n        helloController.setText(s);\n    }\n}\n</code></pre>\n<p>Now I get an error saying that <code>this.welcomeText</code> is <code>null</code>.</p>\n<p>I understand that if I make a new controller it isnt the right one, it doesnt have the fxml loaded.</p>\n<p>How can I make it work?</p>\n<p>I've tried passing a controller to the <code>ExtraClass</code> and it works, but I want an approach without that.</p>\n"},{"tags":["java","gradle","gradle-kotlin-dsl"],"answers":[{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1663552915,"post_id":73040854,"comment_id":130259594,"body_markdown":"Illegal syntax according to Gradle 7.5.1 in a Kotlin project. Or I need to import variantOf from somewhere, and just have no idea where.","body":"Illegal syntax according to Gradle 7.5.1 in a Kotlin project. Or I need to import variantOf from somewhere, and just have no idea where."},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1687295667,"post_id":73040854,"comment_id":134916095,"body_markdown":"@Hakanai works for me in Gradle 8.x &#175;\\_(ツ)_/&#175;","body":"@Hakanai works for me in Gradle 8.x &#175;_(ツ)_/&#175;"},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":4,"creation_date":1687584878,"post_id":73040854,"comment_id":134960614,"body_markdown":"@spamove nice. here, I found this arm on the ground, it might be yours: `\\\\` .","body":"@spamove nice. here, I found this arm on the ground, it might be yours: `\\` ."}],"tags":[],"owner":{"account_id":4820860,"reputation":1747,"user_id":3901701,"display_name":"Kolargol00"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658249917,"creation_date":1658249917,"answer_id":73040854,"question_id":71485996,"body_markdown":"There is nothing in the version catalog to specify classifiers. You have to put the classifier in the dependency declaration:\r\n\r\n    implementation(variantOf(libs.netty-epoll-linux) { classifier(&quot;linux-x86_64&quot;) })\r\n\r\n[Frequently asked questions about version catalogs](https://melix.github.io/blog/2021/03/version-catalogs-faq.html#_why_cant_i_use_excludes_or_classifiers) explains this design choice:\r\n&gt; By design, version catalogs talk about dependency coordinates only. The choice of applying excludes is on the consumer side: for example, for a specific project, you might need to exclude a transitive dependency because you don’t use the code path which exercises this dependency, but this might not be the case for all places. Similarly, a classifier falls into the category of variant selectors: for the same dependency coordinates, one might want classifier X, another classifier Y, and it’s not necessarily allowed to have both in the same graph. Therefore, classifiers need to be declared on the dependency declaration site.","title":"How to specify classifier when using a gradle version catalog?","body":"<p>There is nothing in the version catalog to specify classifiers. You have to put the classifier in the dependency declaration:</p>\n<pre><code>implementation(variantOf(libs.netty-epoll-linux) { classifier(&quot;linux-x86_64&quot;) })\n</code></pre>\n<p><a href=\"https://melix.github.io/blog/2021/03/version-catalogs-faq.html#_why_cant_i_use_excludes_or_classifiers\" rel=\"noreferrer\">Frequently asked questions about version catalogs</a> explains this design choice:</p>\n<blockquote>\n<p>By design, version catalogs talk about dependency coordinates only. The choice of applying excludes is on the consumer side: for example, for a specific project, you might need to exclude a transitive dependency because you don’t use the code path which exercises this dependency, but this might not be the case for all places. Similarly, a classifier falls into the category of variant selectors: for the same dependency coordinates, one might want classifier X, another classifier Y, and it’s not necessarily allowed to have both in the same graph. Therefore, classifiers need to be declared on the dependency declaration site.</p>\n</blockquote>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1325,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1679852024,"creation_date":1647362929,"question_id":71485996,"body_markdown":"Where do I have to put the dependency classifier when declaring a dependency using a Gradle Version Catalog?\r\nE.g. `io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64`\r\nUsing vanilla implementation function:\r\n\r\n    implementation(&quot;io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64&quot;)\r\n\r\nand it works, but how to do the same using catalog:\r\n\r\n    netty-epoll-linux = { group = &quot;io.netty&quot;, name = &quot;netty-transport-native-epoll&quot;, version = &quot;4.1.74.Final&quot;, ????? classifier=&quot;linux-x86_64&quot; - doesn&#39;t work }\r\n\r\n","title":"How to specify classifier when using a gradle version catalog?","body":"<p>Where do I have to put the dependency classifier when declaring a dependency using a Gradle Version Catalog?\nE.g. <code>io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64</code>\nUsing vanilla implementation function:</p>\n<pre><code>implementation(&quot;io.netty:netty-transport-native-epoll:4.1.74.Final:linux-x86_64&quot;)\n</code></pre>\n<p>and it works, but how to do the same using catalog:</p>\n<pre><code>netty-epoll-linux = { group = &quot;io.netty&quot;, name = &quot;netty-transport-native-epoll&quot;, version = &quot;4.1.74.Final&quot;, ????? classifier=&quot;linux-x86_64&quot; - doesn't work }\n</code></pre>\n"},{"tags":["java","mysql","database","jdbc","mysql-workbench"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679850296,"post_id":75849131,"comment_id":133790698,"body_markdown":"Basically the connection string will be similar. Just replace localhost with the IP address of your computer. BTW please don&#39;t insert screenshots. Just copy and paste the relevant part of code. It will be easier for us to read and analyse.","body":"Basically the connection string will be similar. Just replace localhost with the IP address of your computer. BTW please don&#39;t insert screenshots. Just copy and paste the relevant part of code. It will be easier for us to read and analyse."},{"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"score":0,"creation_date":1679851300,"post_id":75849131,"comment_id":133790878,"body_markdown":"@Mar-Z I&#39;ve tried this before but I get the following error: java.sql.SQLException: null,  message from server: &quot;Host &#39;*Hostname placeholder example*&#39; is not allowed to connect to this MySQL server&quot;","body":"@Mar-Z I&#39;ve tried this before but I get the following error: java.sql.SQLException: null,  message from server: &quot;Host &#39;<i>Hostname placeholder example</i>&#39; is not allowed to connect to this MySQL server&quot;"},{"owner":{"account_id":4100745,"reputation":902,"user_id":3366355,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1679856878,"post_id":75849131,"comment_id":133791796,"body_markdown":"possible duplicate of https://stackoverflow.com/questions/35942508/change-mysql-listening-bind-address-on-windows","body":"possible duplicate of <a href=\"https://stackoverflow.com/questions/35942508/change-mysql-listening-bind-address-on-windows\" title=\"change mysql listening bind address on windows\">stackoverflow.com/questions/35942508/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"score":0,"creation_date":1679851767,"post_id":75849389,"comment_id":133790959,"body_markdown":"I appreciate the insight, so knowing that configuration directive isn&#39;t present how would I go about solving the error seen in my response to Mar-Z&#39;s solution?","body":"I appreciate the insight, so knowing that configuration directive isn&#39;t present how would I go about solving the error seen in my response to Mar-Z&#39;s solution?"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1679852111,"post_id":75849389,"comment_id":133791018,"body_markdown":"You must use GRANT to allow users to connect. See https://stackoverflow.com/q/19101243/20860","body":"You must use GRANT to allow users to connect. See <a href=\"https://stackoverflow.com/q/19101243/20860\">stackoverflow.com/q/19101243/20860</a>"},{"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"score":0,"creation_date":1679853363,"post_id":75849389,"comment_id":133791213,"body_markdown":"I&#39;ve tried this and there is no error on my local machine, I will test now on another laptop and come back with updates. I really do appreciate the help as this will really be a great detail in my IB computer science IA project.","body":"I&#39;ve tried this and there is no error on my local machine, I will test now on another laptop and come back with updates. I really do appreciate the help as this will really be a great detail in my IB computer science IA project."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1679854099,"post_id":75849389,"comment_id":133791333,"body_markdown":"You can also test locally by using &quot;127.0.0.1&quot; as the hostname instead of &quot;localhost&quot; in your JDBC URL. This will force the client (i.e. your Java app) to connect via TCP/IP even though it is local. This requires that you have created a root user that is allowed it to connect via TCP/IP, something like `CREATE USER &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;testPass&#39;;`","body":"You can also test locally by using &quot;127.0.0.1&quot; as the hostname instead of &quot;localhost&quot; in your JDBC URL. This will force the client (i.e. your Java app) to connect via TCP/IP even though it is local. This requires that you have created a root user that is allowed it to connect via TCP/IP, something like <code>CREATE USER &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;testPass&#39;;</code>"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1679854168,"post_id":75849389,"comment_id":133791345,"body_markdown":"It may be unexpected but `&#39;root&#39;@&#39;localhost&#39;` and `&#39;root&#39;@&#39;%&#39;` and `&#39;root&#39;@&#39;192.168.%&#39;` (or other IP address) are literally different users to MySQL. They can even have different privileges and different passwords.","body":"It may be unexpected but <code>&#39;root&#39;@&#39;localhost&#39;</code> and <code>&#39;root&#39;@&#39;%&#39;</code> and <code>&#39;root&#39;@&#39;192.168.%&#39;</code> (or other IP address) are literally different users to MySQL. They can even have different privileges and different passwords."},{"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"score":1,"creation_date":1679859306,"post_id":75849389,"comment_id":133792172,"body_markdown":"Everything worked tested on all the computers here at home, thanks for the advice.","body":"Everything worked tested on all the computers here at home, thanks for the advice."}],"tags":[],"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679851525,"creation_date":1679851525,"answer_id":75849389,"question_id":75849131,"body_markdown":"&gt;  I apparently need to comment out this bind-address line, but I can&#39;t find it in my my.ini file.\r\n\r\nThe instructions you are reading are taking for granted that you have prior knowledge that commenting out a line is the same as deleting that line, or if the line was never in the file. The goal is that the configuration directive is not active.\r\n\r\nMySQL config files typically do not have every configuration directive (there are hundreds). So it&#39;s not surprising that the `bind-address` directive is not present in the current file. \r\n\r\nIf a directive is not in the file, or if it&#39;s commented out, it uses a built-in default value in the MySQL Server. The default value for `bind_address` is `*` according to the manual: https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address\r\n\r\nRemember if you edit the config file, you must restart MySQL Server for the change to take effect, because it reads the config file only during startup.","title":"My my.ini file does not contain a bind-address line to comment out and allow a remote connection - using windows","body":"<blockquote>\n<p>I apparently need to comment out this bind-address line, but I can't find it in my my.ini file.</p>\n</blockquote>\n<p>The instructions you are reading are taking for granted that you have prior knowledge that commenting out a line is the same as deleting that line, or if the line was never in the file. The goal is that the configuration directive is not active.</p>\n<p>MySQL config files typically do not have every configuration directive (there are hundreds). So it's not surprising that the <code>bind-address</code> directive is not present in the current file.</p>\n<p>If a directive is not in the file, or if it's commented out, it uses a built-in default value in the MySQL Server. The default value for <code>bind_address</code> is <code>*</code> according to the manual: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_bind_address</a></p>\n<p>Remember if you edit the config file, you must restart MySQL Server for the change to take effect, because it reads the config file only during startup.</p>\n"}],"owner":{"account_id":20232024,"reputation":15,"user_id":14838317,"display_name":"Nicholas C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75849389,"answer_count":1,"score":1,"last_activity_date":1679851525,"creation_date":1679848787,"question_id":75849131,"body_markdown":"I&#39;m trying to make a java program for a library management systems that uses a mySQL database. My current code allows for myself to access the database freely because it&#39;s the same computer hosting the database. I&#39;m trying to make it so any computer on my same network running the application can access the database. I&#39;ve done some research and found that I apparently need to comment out this bind-address line, but I can&#39;t find it in my my.ini file. I don&#39;t know if it will help because i&#39;m fairly new to this but I&#39;ll leave here the current code im using to connect to the database in java. Overall im hoping to edit this code and configuration file to allow users on the same network to access this databse im hosting from my laptop.\r\n\r\n    package librarymanagement;\r\n    \r\n    import java.sql.*;\r\n    \r\n    \r\n    public class ConnectionDB {\r\n        final String dbURL = &quot;jdbc:mysql://localhost:3306/library?useSSL=false&quot;;\r\n        final String dbUser = &quot;root&quot;;\r\n        final String dbPassword = &quot;testPass&quot;;\r\n        \r\n        public Connection connectDB(){\r\n                Connection con = null;\r\n            try {    \r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                con = DriverManager.getConnection(dbURL,dbUser,dbPassword);\r\n                \r\n            //Multi catch statement that handles SQL exceptions \r\n            //and ptints which line the error has occurred at\r\n                \r\n            } catch (ClassNotFoundException | SQLException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return con;\r\n        }\r\n    \r\n\r\n\r\n\r\nWhat should I do as that bind-address line is not in the my.ini file.\r\n\r\nI&#39;ve already through the my.ini file throughroughly yet still cant find the bind-address line.","title":"My my.ini file does not contain a bind-address line to comment out and allow a remote connection - using windows","body":"<p>I'm trying to make a java program for a library management systems that uses a mySQL database. My current code allows for myself to access the database freely because it's the same computer hosting the database. I'm trying to make it so any computer on my same network running the application can access the database. I've done some research and found that I apparently need to comment out this bind-address line, but I can't find it in my my.ini file. I don't know if it will help because i'm fairly new to this but I'll leave here the current code im using to connect to the database in java. Overall im hoping to edit this code and configuration file to allow users on the same network to access this databse im hosting from my laptop.</p>\n<pre><code>package librarymanagement;\n\nimport java.sql.*;\n\n\npublic class ConnectionDB {\n    final String dbURL = &quot;jdbc:mysql://localhost:3306/library?useSSL=false&quot;;\n    final String dbUser = &quot;root&quot;;\n    final String dbPassword = &quot;testPass&quot;;\n    \n    public Connection connectDB(){\n            Connection con = null;\n        try {    \n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(dbURL,dbUser,dbPassword);\n            \n        //Multi catch statement that handles SQL exceptions \n        //and ptints which line the error has occurred at\n            \n        } catch (ClassNotFoundException | SQLException ex) {\n            ex.printStackTrace();\n        }\n        return con;\n    }\n</code></pre>\n<p>What should I do as that bind-address line is not in the my.ini file.</p>\n<p>I've already through the my.ini file throughroughly yet still cant find the bind-address line.</p>\n"},{"tags":["java","spring-boot","rest","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679851411,"creation_date":1679851411,"answer_id":75849385,"question_id":75848936,"body_markdown":"The solution is called gRPC-JSON transcoding.\r\n\r\nEnvoy provides an [implementation](https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter) as does Google with [Cloud Endpoints](https://cloud.google.com/endpoints/docs/grpc/transcoding) if you&#39;re deploying to Google Cloud.","title":"How to call a java gRPC service using HTTP/1.x request","body":"<p>The solution is called gRPC-JSON transcoding.</p>\n<p>Envoy provides an <a href=\"https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/grpc_json_transcoder_filter\" rel=\"nofollow noreferrer\">implementation</a> as does Google with <a href=\"https://cloud.google.com/endpoints/docs/grpc/transcoding\" rel=\"nofollow noreferrer\">Cloud Endpoints</a> if you're deploying to Google Cloud.</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679851411,"creation_date":1679846900,"question_id":75848936,"body_markdown":"I have a gRPC service written in Java. I want to call that service using a RESTful web service. From my searches I have come to know that gRPC uses HTTP/2.x and I would need a reverse proxy server; but I don&#39;t know how to implement it. I am looking for a wrapper which can consume a gRPC service using REST APIs.","title":"How to call a java gRPC service using HTTP/1.x request","body":"<p>I have a gRPC service written in Java. I want to call that service using a RESTful web service. From my searches I have come to know that gRPC uses HTTP/2.x and I would need a reverse proxy server; but I don't know how to implement it. I am looking for a wrapper which can consume a gRPC service using REST APIs.</p>\n"},{"tags":["java","openjpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1679838939,"post_id":75848172,"comment_id":133788880,"body_markdown":"He who never tries anything remains clueless.","body":"He who never tries anything remains clueless."},{"owner":{"account_id":3480622,"reputation":139,"user_id":3091468,"display_name":"Marco"},"score":0,"creation_date":1679839339,"post_id":75848172,"comment_id":133788959,"body_markdown":"He who fails after a few days of trying should ask a question :-)","body":"He who fails after a few days of trying should ask a question :-)"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1679839737,"post_id":75848172,"comment_id":133789030,"body_markdown":"I don&#39;t see says of trying here.","body":"I don&#39;t see says of trying here."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679842619,"post_id":75848172,"comment_id":133789321,"body_markdown":"In the entity class you can implement a method annotated with PostLoad. Check the rang and load parent if relevant.","body":"In the entity class you can implement a method annotated with PostLoad. Check the rang and load parent if relevant."},{"owner":{"account_id":3480622,"reputation":139,"user_id":3091468,"display_name":"Marco"},"score":0,"creation_date":1679847128,"post_id":75848172,"comment_id":133790167,"body_markdown":"Had not come across this. I tried it and it worked. If you make an answer out of it the I will accept it so you get rewarded.","body":"Had not come across this. I tried it and it worked. If you make an answer out of it the I will accept it so you get rewarded."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679851142,"creation_date":1679847635,"answer_id":75849020,"question_id":75848172,"body_markdown":"In the entity class you can implement a method annotated with @PostLoad. Check the rang and load parent if relevant.\r\n\r\nLike this:\r\n\r\n\r\n    private TaxonDto getPostLoadTaxon() {\r\n      return parent;\r\n    }\r\n\r\n    @PostLoad\r\n    private void onPostLoad() {\r\n      if (getRang().equals(&quot;oso&quot;)) {\r\n        getPostLoadTaxon();\r\n      }\r\n    }\r\n","title":"Fetch only 1 level in a OneToOne relation with same table","body":"<p>In the entity class you can implement a method annotated with @PostLoad. Check the rang and load parent if relevant.</p>\n<p>Like this:</p>\n<pre><code>private TaxonDto getPostLoadTaxon() {\n  return parent;\n}\n\n@PostLoad\nprivate void onPostLoad() {\n  if (getRang().equals(&quot;oso&quot;)) {\n    getPostLoadTaxon();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3480622,"reputation":139,"user_id":3091468,"display_name":"Marco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75849020,"answer_count":1,"score":1,"last_activity_date":1679851142,"creation_date":1679838627,"question_id":75848172,"body_markdown":"I searched on the web but cannot filter out the solution. I get pointed to Spring and Hibernate but I am only interested in the solution with `OpenJPA`.\r\n\r\nI have a table in which I store the taxonomy tree. The key is the `TAXON_ID` and it is linked with its parent through the `PARENT_ID`. I created the following `DTO` named `TaxonDto` (I left out the fields that are of no importance):\r\n\r\n    @Column(name=&quot;PARENT_ID&quot;)\r\n    private Long      parentId;\r\n    @Column(name=&quot;RANG&quot;, length=3, nullable=false)\r\n    private String    rang;\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;TAXON_ID&quot;, nullable=false, unique=true, updatable=false)\r\n    private Long      taxonId;\r\n  \r\n    @OneToOne(cascade=CascadeType.ALL, fetch=FetchType.LAZY, targetEntity=TaxonDto.class, orphanRemoval=true)\r\n    @JoinColumn(name=&quot;PARENT_ID&quot;, referencedColumnName=&quot;TAXON_ID&quot;, updatable=false, insertable=false)\r\n    private TaxonDto  parent;\r\n\r\nMy problem lies in the `@OneToOne`. I did a test with `FetchType.EAGER` but then the size of the returned data is 3x bigger as with `FetchType.LAZY` since I get all parents below the taxon. What I want is that the parent is fetched when the rang is a specific value namely `oso`. I can live with a solution where the parent is not recursively filled, the parent of the parent should not be returned.\r\n\r\nIs this possible and if so how can I do this? I have seen *discriminators*, *fetchgroup* and *subclass `DTO`* but it leaves me clueless.\r\n","title":"Fetch only 1 level in a OneToOne relation with same table","body":"<p>I searched on the web but cannot filter out the solution. I get pointed to Spring and Hibernate but I am only interested in the solution with <code>OpenJPA</code>.</p>\n<p>I have a table in which I store the taxonomy tree. The key is the <code>TAXON_ID</code> and it is linked with its parent through the <code>PARENT_ID</code>. I created the following <code>DTO</code> named <code>TaxonDto</code> (I left out the fields that are of no importance):</p>\n<pre><code>@Column(name=&quot;PARENT_ID&quot;)\nprivate Long      parentId;\n@Column(name=&quot;RANG&quot;, length=3, nullable=false)\nprivate String    rang;\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;TAXON_ID&quot;, nullable=false, unique=true, updatable=false)\nprivate Long      taxonId;\n\n@OneToOne(cascade=CascadeType.ALL, fetch=FetchType.LAZY, targetEntity=TaxonDto.class, orphanRemoval=true)\n@JoinColumn(name=&quot;PARENT_ID&quot;, referencedColumnName=&quot;TAXON_ID&quot;, updatable=false, insertable=false)\nprivate TaxonDto  parent;\n</code></pre>\n<p>My problem lies in the <code>@OneToOne</code>. I did a test with <code>FetchType.EAGER</code> but then the size of the returned data is 3x bigger as with <code>FetchType.LAZY</code> since I get all parents below the taxon. What I want is that the parent is fetched when the rang is a specific value namely <code>oso</code>. I can live with a solution where the parent is not recursively filled, the parent of the parent should not be returned.</p>\n<p>Is this possible and if so how can I do this? I have seen <em>discriminators</em>, <em>fetchgroup</em> and <em>subclass <code>DTO</code></em> but it leaves me clueless.</p>\n"},{"tags":["java","android","android-studio","crash","start-activity"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1679851074,"post_id":75849344,"comment_id":133790843,"body_markdown":"In your `MainActivity`, did you try moving `FirebaseDatabase.getInstance().setPersistenceEnabled(true);` before `FirebaseApp.initializeApp(this);`?","body":"In your <code>MainActivity</code>, did you try moving <code>FirebaseDatabase.getInstance().setPersistenceEnabled(true);</code> before <code>FirebaseApp.initializeApp(this);</code>?"},{"owner":{"account_id":28130495,"reputation":1,"user_id":21495148,"display_name":"Voon Kok Wei"},"score":0,"creation_date":1679875356,"post_id":75849344,"comment_id":133794354,"body_markdown":"Thanks, but it is still the same error. I believe something wrong with the startActivity(). I have tried including and excluding the startActivity(); when including, the app crash but when excluding the startActivity, it run well as the app will go through logout only just not bringing user back to the Login activity.\nFor example, when I place the Toast.makeText() in it and remove the startActivity(), the code has been executed well.","body":"Thanks, but it is still the same error. I believe something wrong with the startActivity(). I have tried including and excluding the startActivity(); when including, the app crash but when excluding the startActivity, it run well as the app will go through logout only just not bringing user back to the Login activity. For example, when I place the Toast.makeText() in it and remove the startActivity(), the code has been executed well."},{"owner":{"account_id":28130495,"reputation":1,"user_id":21495148,"display_name":"Voon Kok Wei"},"score":0,"creation_date":1679880468,"post_id":75849344,"comment_id":133794880,"body_markdown":"@dan1st thanks I found the way to do so.\n[link]https://stackoverflow.com/questions/37753991/com-google-firebase-database-databaseexception-calls-to-setpersistenceenabled.\nI thought it is the startActivity() as I exclude it, the entire code works well, then i to try rearrange the class see whether or not I have the application class in it, eventually found that class isn&#39;t there.","body":"@dan1st thanks I found the way to do so. [link]<a href=\"https://stackoverflow.com/questions/37753991/com-google-firebase-database-databaseexception-calls-to-setpersistenceenabled\" title=\"com google firebase database databaseexception calls to setpersistenceenabled\">stackoverflow.com/questions/37753991/&hellip;</a>. I thought it is the startActivity() as I exclude it, the entire code works well, then i to try rearrange the class see whether or not I have the application class in it, eventually found that class isn&#39;t there."}],"owner":{"account_id":28130495,"reputation":1,"user_id":21495148,"display_name":"Voon Kok Wei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679884797,"answer_count":0,"score":0,"last_activity_date":1679851023,"creation_date":1679851023,"question_id":75849344,"body_markdown":"I am quite new to Android Studio and also Java. The app that I currently developing is crashing when the user click on the &quot;Logout&quot;. I have edited my code several times. I have no idea now. I hope can get someone who is genius in programming to help.\r\n\r\nThis is my code for the drawer_menu:\r\n```\r\npackage com.example.sample_app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class MainActivity  extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private DrawerLayout drawer;\r\n\r\n    private FirebaseUser user;\r\n    private DatabaseReference reference;\r\n\r\n    private String userID;\r\n\r\n    private TextView EmailTxtView, UIDTxtView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.sliding_nav);\r\n\r\n        // Initialize Firebase\r\n        FirebaseApp.initializeApp(this);\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        drawer = findViewById(R.id.drawer_layout);\r\n\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\r\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        // Get the header view from the NavigationView\r\n        View headerView = navigationView.getHeaderView(0);\r\n\r\n        //Initialised the parameter for Firebase\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n        userID = user.getUid();\r\n\r\n        // Find the TextViews by their IDs\r\n        EmailTxtView = headerView.findViewById(R.id.email_username);\r\n        UIDTxtView = headerView.findViewById (R.id.uid);\r\n\r\n        reference.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                User userProfile = snapshot.getValue(User.class);\r\n\r\n                if (userProfile != null) {\r\n\r\n                    String email = userProfile.email;\r\n                    String UID = userProfile.username;\r\n\r\n                    EmailTxtView.setText(email);\r\n                    UIDTxtView.setText(UID);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n            drawer.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int itemId = item.getItemId();\r\n        if (itemId == R.id.tracking) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentTracking()).commit();\r\n        } else if (itemId == R.id.profile) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentProfile()).commit();\r\n        } else if (itemId == R.id.settings) {\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentSetting()).commit();\r\n        } else if (itemId == R.id.logout) {\r\n            Intent intent = new Intent(MainActivity.this,LoginUser.class);\r\n//            intent.putExtra(&quot;LOGOUT&quot;, true);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n[The image shows drawer with logout, when user click on it. the app crash.](https://i.stack.imgur.com/CFUm8.png)\r\n\r\n**and this is the error message.**\r\n\r\n```\r\nE  FATAL EXCEPTION: main\r\nProcess: com.example.sample_app, PID: 18145\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sample_app/com.example.sample_app.LoginUser}: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    at android.os.Looper.loop(Looper.java:164)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\nCaused by: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\r\n    at com.google.firebase.database.FirebaseDatabase.assertUnfrozen(FirebaseDatabase.java:332)\r\n    at com.google.firebase.database.FirebaseDatabase.setPersistenceEnabled(FirebaseDatabase.java:285)\r\n    at com.example.sample_app.LoginUser.onCreate(LoginUser.java:37)\r\n    at android.app.Activity.performCreate(Activity.java:7009)\r\n    at android.app.Activity.performCreate(Activity.java:7000)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \r\n    at android.app.ActivityThread.-wrap11(Unknown Source:0) \r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \r\n    at android.os.Handler.dispatchMessage(Handler.java:106) \r\n    at android.os.Looper.loop(Looper.java:164) \r\n    at android.app.ActivityThread.main(ActivityThread.java:6494) \r\n    at java.lang.reflect.Method.invoke(Native Method) \r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n```\r\nThe other selection of fragment is working well only when the user starts to press on the Logout then the app crash\r\n\r\nI have also try with the &quot;startActivity(new Intent())&quot; method but still the same.\r\n\r\n\r\nThank you, for your effort is much appreciated. If you wish to have more details about the error, just let me know\r\n\r\nI have tried this:\r\n```\r\npublic class MyApp extends Application {\r\n    \r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        \r\n        // Enable Firebase database persistence\r\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n    }\r\n}\r\n\r\n//I have set this in my login screen\r\n\r\n```\r\nThis is because the error message did mention about the setPersistenceEnabled()\r\nShould I remove that or any other measures?","title":"App Crash when User Click on Logout in Emulator","body":"<p>I am quite new to Android Studio and also Java. The app that I currently developing is crashing when the user click on the &quot;Logout&quot;. I have edited my code several times. I have no idea now. I hope can get someone who is genius in programming to help.</p>\n<p>This is my code for the drawer_menu:</p>\n<pre><code>package com.example.sample_app;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class MainActivity  extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n\n    private DrawerLayout drawer;\n\n    private FirebaseUser user;\n    private DatabaseReference reference;\n\n    private String userID;\n\n    private TextView EmailTxtView, UIDTxtView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sliding_nav);\n\n        // Initialize Firebase\n        FirebaseApp.initializeApp(this);\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        drawer = findViewById(R.id.drawer_layout);\n\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        // Get the header view from the NavigationView\n        View headerView = navigationView.getHeaderView(0);\n\n        //Initialised the parameter for Firebase\n        user = FirebaseAuth.getInstance().getCurrentUser();\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n        userID = user.getUid();\n\n        // Find the TextViews by their IDs\n        EmailTxtView = headerView.findViewById(R.id.email_username);\n        UIDTxtView = headerView.findViewById (R.id.uid);\n\n        reference.child(userID).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                User userProfile = snapshot.getValue(User.class);\n\n                if (userProfile != null) {\n\n                    String email = userProfile.email;\n                    String UID = userProfile.username;\n\n                    EmailTxtView.setText(email);\n                    UIDTxtView.setText(UID);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(MainActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        int itemId = item.getItemId();\n        if (itemId == R.id.tracking) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentTracking()).commit();\n        } else if (itemId == R.id.profile) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentProfile()).commit();\n        } else if (itemId == R.id.settings) {\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, new FragmentSetting()).commit();\n        } else if (itemId == R.id.logout) {\n            Intent intent = new Intent(MainActivity.this,LoginUser.class);\n//            intent.putExtra(&quot;LOGOUT&quot;, true);\n            startActivity(intent);\n            finish();\n        }\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CFUm8.png\" rel=\"nofollow noreferrer\">The image shows drawer with logout, when user click on it. the app crash.</a></p>\n<p><strong>and this is the error message.</strong></p>\n<pre><code>E  FATAL EXCEPTION: main\nProcess: com.example.sample_app, PID: 18145\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sample_app/com.example.sample_app.LoginUser}: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\nCaused by: com.google.firebase.database.DatabaseException: Calls to setPersistenceEnabled() must be made before any other usage of FirebaseDatabase instance.\n    at com.google.firebase.database.FirebaseDatabase.assertUnfrozen(FirebaseDatabase.java:332)\n    at com.google.firebase.database.FirebaseDatabase.setPersistenceEnabled(FirebaseDatabase.java:285)\n    at com.example.sample_app.LoginUser.onCreate(LoginUser.java:37)\n    at android.app.Activity.performCreate(Activity.java:7009)\n    at android.app.Activity.performCreate(Activity.java:7000)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n    at android.app.ActivityThread.-wrap11(Unknown Source:0) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6494) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n<p>The other selection of fragment is working well only when the user starts to press on the Logout then the app crash</p>\n<p>I have also try with the &quot;startActivity(new Intent())&quot; method but still the same.</p>\n<p>Thank you, for your effort is much appreciated. If you wish to have more details about the error, just let me know</p>\n<p>I have tried this:</p>\n<pre><code>public class MyApp extends Application {\n    \n    @Override\n    public void onCreate() {\n        super.onCreate();\n        \n        // Enable Firebase database persistence\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n    }\n}\n\n//I have set this in my login screen\n\n</code></pre>\n<p>This is because the error message did mention about the setPersistenceEnabled()\nShould I remove that or any other measures?</p>\n"},{"tags":["java","selenium-webdriver","appium-android","appium-java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679852322,"post_id":75849320,"comment_id":133791047,"body_markdown":"1) Your `getMobileAppDriver();` returns a value. Why don&#39;t you use that value in your `startDriver`? 2) Where does exception happen exactly? 3) And obvious question: don&#39;t you use your driver after calling `quit()`?","body":"1) Your <code>getMobileAppDriver();</code> returns a value. Why don&#39;t you use that value in your <code>startDriver</code>? 2) Where does exception happen exactly? 3) And obvious question: don&#39;t you use your driver after calling <code>quit()</code>?"},{"owner":{"account_id":25867958,"reputation":3,"user_id":19599273,"display_name":"Chandan Dash"},"score":0,"creation_date":1680001913,"post_id":75849320,"comment_id":133818524,"body_markdown":"Hi @AlexeyR. Thank you for your valuable time. Actually I&#39;m fresher in this field. Can you please help me with some line of code statement. I didn&#39;t get your point.","body":"Hi @AlexeyR. Thank you for your valuable time. Actually I&#39;m fresher in this field. Can you please help me with some line of code statement. I didn&#39;t get your point."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1680003344,"post_id":75849320,"comment_id":133818872,"body_markdown":"Well the problem is that the code you provided does not let us judge what the reason is. Since the error message is pretty much self-explanatory I suggest you first of all to check if you really use your driver after you have quit it. Try to put more logs so that you could test if the order of your logic parts is actually what you expect","body":"Well the problem is that the code you provided does not let us judge what the reason is. Since the error message is pretty much self-explanatory I suggest you first of all to check if you really use your driver after you have quit it. Try to put more logs so that you could test if the order of your logic parts is actually what you expect"}],"owner":{"account_id":25867958,"reputation":3,"user_id":19599273,"display_name":"Chandan Dash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679850854,"creation_date":1679850854,"question_id":75849320,"body_markdown":"I am getting the following error when using Selenium:\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\nBuild info: version: &#39;4.8.2&#39;, revision: &#39;826dbfc730&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.2.1&#39;, java.version: &#39;1.8.0_362&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, findElement {using=xpath, value=//*[@text=&#39;Enter PIN&#39;]}]\r\nCapabilities {appium:app: /Users/chandan/Desktop/mobi..., appium:appActivity: com.comviva.mobiquityconsum..., appium:appPackage: com.comviva.mobiquity.consu..., appium:autoGrantPermissions: true, appium:automationName: UiAutomator2, appium:clearDeviceLogsOnStart: true, appium:databaseEnabled: false, appium:desired: {app: /Users/chandan/Desktop/mobi..., appActivity: com.comviva.mobiquityconsum..., appPackage: com.comviva.mobiquity.consu..., autoGrantPermissions: true, automationName: UiAutomator2, clearDeviceLogsOnStart: true, deviceName: Pixel5, eventTimings: true, ignoreHiddenApiPolicyError: true, newCommandTimeout: 30000, noReset: false, platformName: android, platformVersion: 12, udid: emulator-5554}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_arm64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2340, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:ignoreHiddenApiPolicyError: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 30000, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 12, appium:statBarHeight: 145, appium:takesScreenshot: true, appium:udid: emulator-5554, appium:viewportRect: {height: 1927, left: 0, top: 145, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\n```\r\n\r\nThis is my Test Class:\r\n\r\n\r\n       @AfterMethod\r\n        public void tearDown(){\r\n            DriverFactory.quitDriver();\r\n        }\r\n\r\n        @BeforeMethod\r\n        public void startDriver(){\r\n            DriverFactory.getMobileAppDriver();\r\n        }\r\n\r\n        @Test(priority = 1)\r\n        public void  InvalidLogin(){\r\n            ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_07&quot;));\r\n            startPositveTest();\r\n            login.login(DataDriven.getUserByStatus(&quot;Y&quot;),&quot;1234&quot;);\r\n        }\r\n\r\n        @Test(priority = 2)\r\n        public  void  ElectricBill(){\r\n            ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_02&quot;));\r\n            startPositveTest();\r\n            login.enterPin(DataDriven.getUserPinByStatus(&quot;Y&quot;));\r\n            billPay.electricityBillPay(&quot;50&quot;,&quot;OD23432123&quot;,DataDriven.getUserPinByStatus(&quot;Y&quot;));\r\n        }\r\n\r\n\r\nThis is my Driver Factory:\r\n\r\n```java\r\npublic class DriverFactory {\r\n\r\n    private static WebDriver driver;\r\n    private static AppiumDriver mobileDriver;\r\n    private static final Logger logger = LoggerFactory.getLogger(DriverFactory.class);\r\n\r\n\r\n\r\n    public static AppiumDriver getMobileAppDriver(){\r\n       try{\r\n           if(mobileDriver != null){\r\n               return mobileDriver;\r\n           }\r\n\r\n           if (MobileProperties.getProperty(&quot;device.platform&quot;).equalsIgnoreCase(&quot;android&quot;)) {\r\n               mobileDriver = MobileDriver.getAndroidDriver();\r\n               logger.info(&quot;Info :  &quot;);\r\n           }\r\n           else {\r\n               mobileDriver = MobileDriver.getIOSDriver();\r\n           }\r\n       }\r\n        catch (Exception e){\r\n           e.printStackTrace();\r\n        }\r\n        return mobileDriver;\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void quitDriver() {\r\n        if (mobileDriver == null) {\r\n            return;\r\n        }\r\n        mobileDriver.quit();\r\n        mobileDriver = null;\r\n    }\r\n}\r\n```","title":"Getting Session ID is null. Using WebDriver after calling quit()?","body":"<p>I am getting the following error when using Selenium:</p>\n<pre><code>org.openqa.selenium.WebDriverException: org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\nBuild info: version: '4.8.2', revision: '826dbfc730'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.2.1', java.version: '1.8.0_362'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, findElement {using=xpath, value=//*[@text='Enter PIN']}]\nCapabilities {appium:app: /Users/chandan/Desktop/mobi..., appium:appActivity: com.comviva.mobiquityconsum..., appium:appPackage: com.comviva.mobiquity.consu..., appium:autoGrantPermissions: true, appium:automationName: UiAutomator2, appium:clearDeviceLogsOnStart: true, appium:databaseEnabled: false, appium:desired: {app: /Users/chandan/Desktop/mobi..., appActivity: com.comviva.mobiquityconsum..., appPackage: com.comviva.mobiquity.consu..., autoGrantPermissions: true, automationName: UiAutomator2, clearDeviceLogsOnStart: true, deviceName: Pixel5, eventTimings: true, ignoreHiddenApiPolicyError: true, newCommandTimeout: 30000, noReset: false, platformName: android, platformVersion: 12, udid: emulator-5554}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_arm64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 440, appium:deviceScreenSize: 1080x2340, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:ignoreHiddenApiPolicyError: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:newCommandTimeout: 30000, appium:noReset: false, appium:pixelRatio: 2.75, appium:platformVersion: 12, appium:statBarHeight: 145, appium:takesScreenshot: true, appium:udid: emulator-5554, appium:viewportRect: {height: 1927, left: 0, top: 145, width: 1080}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\n</code></pre>\n<p>This is my Test Class:</p>\n<pre><code>   @AfterMethod\n    public void tearDown(){\n        DriverFactory.quitDriver();\n    }\n\n    @BeforeMethod\n    public void startDriver(){\n        DriverFactory.getMobileAppDriver();\n    }\n\n    @Test(priority = 1)\n    public void  InvalidLogin(){\n        ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_07&quot;));\n        startPositveTest();\n        login.login(DataDriven.getUserByStatus(&quot;Y&quot;),&quot;1234&quot;);\n    }\n\n    @Test(priority = 2)\n    public  void  ElectricBill(){\n        ExtentManager.startTestFromProperty(pNode, TestCases.getTestCase(&quot;SMOKE_TC_02&quot;));\n        startPositveTest();\n        login.enterPin(DataDriven.getUserPinByStatus(&quot;Y&quot;));\n        billPay.electricityBillPay(&quot;50&quot;,&quot;OD23432123&quot;,DataDriven.getUserPinByStatus(&quot;Y&quot;));\n    }\n</code></pre>\n<p>This is my Driver Factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DriverFactory {\n\n    private static WebDriver driver;\n    private static AppiumDriver mobileDriver;\n    private static final Logger logger = LoggerFactory.getLogger(DriverFactory.class);\n\n\n\n    public static AppiumDriver getMobileAppDriver(){\n       try{\n           if(mobileDriver != null){\n               return mobileDriver;\n           }\n\n           if (MobileProperties.getProperty(&quot;device.platform&quot;).equalsIgnoreCase(&quot;android&quot;)) {\n               mobileDriver = MobileDriver.getAndroidDriver();\n               logger.info(&quot;Info :  &quot;);\n           }\n           else {\n               mobileDriver = MobileDriver.getIOSDriver();\n           }\n       }\n        catch (Exception e){\n           e.printStackTrace();\n        }\n        return mobileDriver;\n    }\n\n\n\n\n    public static void quitDriver() {\n        if (mobileDriver == null) {\n            return;\n        }\n        mobileDriver.quit();\n        mobileDriver = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","boot"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1679846577,"post_id":75848808,"comment_id":133790059,"body_markdown":"What you describe sounds like business logic, not database constraint. It belongs to the service layer, not the database.","body":"What you describe sounds like business logic, not database constraint. It belongs to the service layer, not the database."}],"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679850164,"creation_date":1679845540,"question_id":75848808,"body_markdown":"Simply, in one of my entities I want to require an attribute to be null if another attribute is null and reverse.\r\n\r\nSpecifically, I want a timeslot to require an employee if the activity is not null. And reverse, if there&#39;s no activity, employee should be null. \r\n\r\nAfter I saw that you can require uniqueness based on two attributes instead of one with:\r\n\r\n`@Table(uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;customer&quot;, &quot;timeslot&quot;})})\r\n`\r\n\r\nI thought it must be possible to do what I want to do as well. \r\n\r\nI just don&#39;t know how I specify it in JPA. ","title":"How to require an attribute to be null if another attribute is not, and require one to be not null if another is not null?","body":"<p>Simply, in one of my entities I want to require an attribute to be null if another attribute is null and reverse.</p>\n<p>Specifically, I want a timeslot to require an employee if the activity is not null. And reverse, if there's no activity, employee should be null.</p>\n<p>After I saw that you can require uniqueness based on two attributes instead of one with:</p>\n<p><code>@Table(uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;customer&quot;, &quot;timeslot&quot;})}) </code></p>\n<p>I thought it must be possible to do what I want to do as well.</p>\n<p>I just don't know how I specify it in JPA.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3290197,"reputation":8796,"user_id":3682067,"accept_rate":93,"display_name":"Saeed Masoumi"},"score":1,"creation_date":1431512935,"post_id":30212163,"comment_id":48528465,"body_markdown":"Did you add `android.permission.READ_PHONE_STATE` permission ?","body":"Did you add <code>android.permission.READ_PHONE_STATE</code> permission ?"},{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":0,"creation_date":1431513135,"post_id":30212163,"comment_id":48528580,"body_markdown":"try `mTelephonyMgr.getDeviceId();` ...","body":"try <code>mTelephonyMgr.getDeviceId();</code> ..."},{"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"score":0,"creation_date":1431513290,"post_id":30212163,"comment_id":48528672,"body_markdown":"`getDeviceID()` returns the IMEI, but I need the imsi","body":"<code>getDeviceID()</code> returns the IMEI, but I need the imsi"}],"answers":[{"comments":[{"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"score":1,"creation_date":1431513034,"post_id":30212196,"comment_id":48528524,"body_markdown":"yeah i added the permission, i also edited the question, but thank you","body":"yeah i added the permission, i also edited the question, but thank you"},{"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"score":0,"creation_date":1431513369,"post_id":30212196,"comment_id":48528723,"body_markdown":"is there an import for the `android.os.SystemProperties` ?","body":"is there an import for the <code>android.os.SystemProperties</code> ?"},{"owner":{"account_id":1674650,"reputation":5804,"user_id":1540456,"accept_rate":64,"display_name":"Atlas91"},"score":0,"creation_date":1431513545,"post_id":30212196,"comment_id":48528836,"body_markdown":"here&#39;s the class https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java take a look.","body":"here&#39;s the class <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/c&zwnj;&#8203;ore/&hellip;</a> take a look."}],"tags":[],"owner":{"account_id":1674650,"reputation":5804,"user_id":1540456,"accept_rate":64,"display_name":"Atlas91"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431513597,"creation_date":1431512967,"answer_id":30212196,"question_id":30212163,"body_markdown":"Did you add this permission in the manifest?\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\r\nEdit:\r\nok, try use this one:\r\n\r\n    String myIMSI =\r\n    android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\r\n\r\nSystemProperties it&#39;s an hidden class. try to check here: https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java","title":"How to programmatically get the IMSI-Number in Android","body":"<p>Did you add this permission in the manifest?</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n</code></pre>\n\n<p>Edit:\nok, try use this one:</p>\n\n<pre><code>String myIMSI =\nandroid.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\n</code></pre>\n\n<p>SystemProperties it's an hidden class. try to check here: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java\" rel=\"nofollow\">https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/SystemProperties.java</a></p>\n"},{"comments":[{"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"score":0,"creation_date":1431513135,"post_id":30212203,"comment_id":48528578,"body_markdown":"thanks, but how can i add the android.os.SystemProperties? This cannot be resolved","body":"thanks, but how can i add the android.os.SystemProperties? This cannot be resolved"},{"owner":{"account_id":3980435,"reputation":3673,"user_id":3282461,"accept_rate":75,"display_name":"Ankit Kumar"},"score":0,"creation_date":1431513575,"post_id":30212203,"comment_id":48528854,"body_markdown":"http://stackoverflow.com/questions/10409664/how-to-import-android-os-systemproperties u can reffer this answer","body":"<a href=\"http://stackoverflow.com/questions/10409664/how-to-import-android-os-systemproperties\" title=\"how to import android os systemproperties\">stackoverflow.com/questions/10409664/&hellip;</a> u can reffer this answer"},{"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"score":0,"creation_date":1431532459,"post_id":30212203,"comment_id":48543465,"body_markdown":"I think the refelction method does not work, or did i use it wrong? `String imsi = get(getApplicationContext(), &quot;android.telephony.TelephonyProperties.PROPERTY_IMSI&quot;);`\nI still get an empty string for the imsi","body":"I think the refelction method does not work, or did i use it wrong? <code>String imsi = get(getApplicationContext(), &quot;android.telephony.TelephonyProperties.PROPERTY_IMSI&quot;);</code> I still get an empty string for the imsi"},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":0,"creation_date":1487350968,"post_id":30212203,"comment_id":71761933,"body_markdown":"I was unable to find any mentions of class `android.telephony.TelephonyProperties`, only `com.android.internal.telephony.TelephonyProperties`, but there is no PROPERTY_IMSI constant there.","body":"I was unable to find any mentions of class <code>android.telephony.TelephonyProperties</code>, only <code>com.android.internal.telephony.TelephonyProperties</code>, but there is no PROPERTY_IMSI constant there."}],"tags":[],"owner":{"account_id":3980435,"reputation":3673,"user_id":3282461,"accept_rate":75,"display_name":"Ankit Kumar"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431521497,"creation_date":1431512984,"answer_id":30212203,"question_id":30212163,"body_markdown":"    String imei = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\r\n\r\nwith permission \r\n\r\n     android.permission.READ_PHONE_STATE\r\n\r\nSince SystemProperties is a hidden class in Android, you can access it with reflection:\r\n\r\n    /**\r\n     * Get the value for the given key.\r\n     * @return an empty string if the key isn&#39;t found\r\n     */\r\n    public static String get(Context context, String key) {\r\n        String ret = &quot;&quot;;\r\n\r\n        try {\r\n            ClassLoader cl = context.getClassLoader(); \r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Class SystemProperties = cl.loadClass(&quot;android.os.SystemProperties&quot;);\r\n\r\n            //Parameters Types\r\n            @SuppressWarnings(&quot;rawtypes&quot;)\r\n            Class[] paramTypes= new Class[1];\r\n            paramTypes[0]= String.class;\r\n\r\n            Method get = SystemProperties.getMethod(&quot;get&quot;, paramTypes);\r\n\r\n            //Parameters\r\n            Object[] params = new Object[1];\r\n            params[0] = new String(key);\r\n\r\n            ret = (String) get.invoke(SystemProperties, params);\r\n        } catch(Exception e) {\r\n            ret = &quot;&quot;;\r\n            //TODO : Error handling\r\n        }\r\n\r\n        return ret;\r\n    }","title":"How to programmatically get the IMSI-Number in Android","body":"<pre><code>String imei = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);\n</code></pre>\n\n<p>with permission </p>\n\n<pre><code> android.permission.READ_PHONE_STATE\n</code></pre>\n\n<p>Since SystemProperties is a hidden class in Android, you can access it with reflection:</p>\n\n<pre><code>/**\n * Get the value for the given key.\n * @return an empty string if the key isn't found\n */\npublic static String get(Context context, String key) {\n    String ret = \"\";\n\n    try {\n        ClassLoader cl = context.getClassLoader(); \n        @SuppressWarnings(\"rawtypes\")\n        Class SystemProperties = cl.loadClass(\"android.os.SystemProperties\");\n\n        //Parameters Types\n        @SuppressWarnings(\"rawtypes\")\n        Class[] paramTypes= new Class[1];\n        paramTypes[0]= String.class;\n\n        Method get = SystemProperties.getMethod(\"get\", paramTypes);\n\n        //Parameters\n        Object[] params = new Object[1];\n        params[0] = new String(key);\n\n        ret = (String) get.invoke(SystemProperties, params);\n    } catch(Exception e) {\n        ret = \"\";\n        //TODO : Error handling\n    }\n\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13777272,"reputation":1,"user_id":9943311,"display_name":"djukazg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679848435,"creation_date":1679848435,"answer_id":75849093,"question_id":30212163,"body_markdown":"The following solution works only for system applications:\r\n```\r\n    private String getIMSI(){\r\n        telephonyManager = (TelephonyManager) getSystemService(this.TELEPHONY_SERVICE);\r\n        return telephonyManager.getSubscriberId();\r\n    }\r\n```\r\nIn AndroidManifest.xml add permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\r\n```\r\nThe second permission is marked as system\r\n\r\nWorks in Android 9 (API 28).\r\n\r\n","title":"How to programmatically get the IMSI-Number in Android","body":"<p>The following solution works only for system applications:</p>\n<pre><code>    private String getIMSI(){\n        telephonyManager = (TelephonyManager) getSystemService(this.TELEPHONY_SERVICE);\n        return telephonyManager.getSubscriberId();\n    }\n</code></pre>\n<p>In AndroidManifest.xml add permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>The second permission is marked as system</p>\n<p>Works in Android 9 (API 28).</p>\n"}],"owner":{"account_id":3137094,"reputation":391,"user_id":2653396,"accept_rate":77,"display_name":"AndyB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14438,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30212203,"answer_count":3,"score":4,"last_activity_date":1679848435,"creation_date":1431512855,"question_id":30212163,"body_markdown":"I tried the following code: \r\n\r\n    private String getImsi() {\r\n       TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n       return mTelephonyMgr.getSubscriberId();\r\n    }\r\n\r\n    &lt;uses-permission android:name=&#39;android.permission.READ_PHONE_STATE&#39; /&gt;\r\n\r\nBut it only returns null.&lt;br&gt;&lt;br&gt;\r\nIs there any other way to obtain the IMSI with java in android?\r\n","title":"How to programmatically get the IMSI-Number in Android","body":"<p>I tried the following code: </p>\n\n<pre><code>private String getImsi() {\n   TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n   return mTelephonyMgr.getSubscriberId();\n}\n\n&lt;uses-permission android:name='android.permission.READ_PHONE_STATE' /&gt;\n</code></pre>\n\n<p>But it only returns null.<br><br>\nIs there any other way to obtain the IMSI with java in android?</p>\n"},{"tags":["java","regex","spring-boot","spring-cloud","spring-cloud-gateway"],"answers":[{"comments":[{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1679128887,"post_id":75747583,"comment_id":133668518,"body_markdown":"that&#39;s my service name and is used to communicate with Eureka and can not be deleted!!!   Even the code won&#39;t get compiled successfully with lb://","body":"that&#39;s my service name and is used to communicate with Eureka and can not be deleted!!!   Even the code won&#39;t get compiled successfully with lb://"}],"tags":[],"owner":{"account_id":304453,"reputation":2007,"user_id":613960,"accept_rate":64,"display_name":"kishoredbn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678898116,"creation_date":1678898116,"answer_id":75747583,"question_id":75705715,"body_markdown":"Check the route URI configuration. \r\n\r\nYou have this:\r\n\r\n    uri: lb://admin\r\n\r\nchenge it to this:\r\n\r\n    uri: lb://","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>Check the route URI configuration.</p>\n<p>You have this:</p>\n<pre><code>uri: lb://admin\n</code></pre>\n<p>chenge it to this:</p>\n<pre><code>uri: lb://\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1679821593,"post_id":75799818,"comment_id":133786418,"body_markdown":"I can not remove &quot;servlet.context-path&quot; property as I need it to call my services APIs internally, And I don&#39;t want my gateway route my internal service calls!!","body":"I can not remove &quot;servlet.context-path&quot; property as I need it to call my services APIs internally, And I don&#39;t want my gateway route my internal service calls!!"}],"tags":[],"owner":{"account_id":87488,"reputation":743,"user_id":242587,"display_name":"stmi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679393795,"creation_date":1679393449,"answer_id":75799818,"question_id":75705715,"body_markdown":"The API gateway does a match on url prefix in this case `admin` and then redirects call to specified service which does a match on remaining url. `SpringCloudGateway` is unaware of internal routing of your service. You could replace `context-path: /admin` with `context-path: /tomato` and then you&#39;d need to inlcude `tomato` in url.\r\n\r\nSolution would be to drop the `admin` prefix on the implementing service configuration. From what you&#39;ve described it&#39;s intended to be used via API Gateway anyway, so service mappings without `admin` wouldn&#39;t be accessible anyway to consumers. Since default value is `/` just remove property `servlet.context-path` from `application.yaml`\r\n\r\nAs per Eureka discovery your service reports its name via following\r\nproperties (excerpt from documentation)\r\n\r\n&gt; The default application name\r\n&gt; (that is, the service ID), virtual host, and non-secure port (taken\r\n&gt; from the Environment) are ${spring.application.name},\r\n&gt; ${spring.application.name} and ${server.port}, respectively.\r\n\r\nhttps://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>The API gateway does a match on url prefix in this case <code>admin</code> and then redirects call to specified service which does a match on remaining url. <code>SpringCloudGateway</code> is unaware of internal routing of your service. You could replace <code>context-path: /admin</code> with <code>context-path: /tomato</code> and then you'd need to inlcude <code>tomato</code> in url.</p>\n<p>Solution would be to drop the <code>admin</code> prefix on the implementing service configuration. From what you've described it's intended to be used via API Gateway anyway, so service mappings without <code>admin</code> wouldn't be accessible anyway to consumers. Since default value is <code>/</code> just remove property <code>servlet.context-path</code> from <code>application.yaml</code></p>\n<p>As per Eureka discovery your service reports its name via following\nproperties (excerpt from documentation)</p>\n<blockquote>\n<p>The default application name\n(that is, the service ID), virtual host, and non-secure port (taken\nfrom the Environment) are ${spring.application.name},\n${spring.application.name} and ${server.port}, respectively.</p>\n</blockquote>\n<p><a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-netflix/multi/multi__service_discovery_eureka_clients.html</a></p>\n"},{"comments":[{"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"score":0,"creation_date":1679825286,"post_id":75847019,"comment_id":133786826,"body_markdown":"Wow, you really saved me!!! it works fine, but &quot;pom.xml&quot; does not need to be changed in &lt;name&gt; tag as it is only used for maven to load the project.\nchanging &quot;aplication.name&quot; in application.yml is enough and works fine!!\nThanks for your help and complete answer","body":"Wow, you really saved me!!! it works fine, but &quot;pom.xml&quot; does not need to be changed in &lt;name&gt; tag as it is only used for maven to load the project. changing &quot;aplication.name&quot; in application.yml is enough and works fine!! Thanks for your help and complete answer"}],"tags":[],"owner":{"account_id":17951472,"reputation":89,"user_id":16237195,"display_name":"Hazhir Ahmadzadeh"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679831438,"creation_date":1679824792,"answer_id":75847019,"question_id":75705715,"body_markdown":"Firstly, you should alter the name of your admin service in both the `pom.xml` and `application.yml` files. Consider choosing a name like `admin-service` or something distinct from the name `admin`.\r\n\r\nAfter you have made this change, you should update the service name in the gateway to match the new name you have chosen for the admin service. By doing so, you will ensure that the predicate and service uri are distinct from one another.\r\n\r\nOnce you have made these changes, your gateway should be able to successfully route requests.\r\n\r\n##### admin service application.yml:\r\n\r\n```yaml\r\n    spring:\r\n      application:\r\n        name: admin-service\r\n```\r\n\r\n##### gateway service application.yml:\r\n\r\n```yaml\r\n    spring:\r\n      application:\r\n        name: gateway\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n              lower-case-service-id: true\r\n          routes:\r\n            - id: admin_route\r\n            uri: lb://admin-service\r\n            predicates:\r\n              - Path=/admin/**\r\n```","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>Firstly, you should alter the name of your admin service in both the <code>pom.xml</code> and <code>application.yml</code> files. Consider choosing a name like <code>admin-service</code> or something distinct from the name <code>admin</code>.</p>\n<p>After you have made this change, you should update the service name in the gateway to match the new name you have chosen for the admin service. By doing so, you will ensure that the predicate and service uri are distinct from one another.</p>\n<p>Once you have made these changes, your gateway should be able to successfully route requests.</p>\n<h5>admin service application.yml:</h5>\n<pre class=\"lang-yaml prettyprint-override\"><code>    spring:\n      application:\n        name: admin-service\n</code></pre>\n<h5>gateway service application.yml:</h5>\n<pre class=\"lang-yaml prettyprint-override\"><code>    spring:\n      application:\n        name: gateway\n      cloud:\n        gateway:\n          discovery:\n            locator:\n              enabled: true\n              lower-case-service-id: true\n          routes:\n            - id: admin_route\n            uri: lb://admin-service\n            predicates:\n              - Path=/admin/**\n</code></pre>\n"},{"comments":[{"owner":{"account_id":87488,"reputation":743,"user_id":242587,"display_name":"stmi"},"score":1,"creation_date":1679907130,"post_id":75849090,"comment_id":133798476,"body_markdown":"That&#39;s a nice solution! After info provided in my answer I was thinking about manual configuration of PathRewrite, but didn&#39;t know there&#39;s a config flag just for that.","body":"That&#39;s a nice solution! After info provided in my answer I was thinking about manual configuration of PathRewrite, but didn&#39;t know there&#39;s a config flag just for that."}],"tags":[],"owner":{"account_id":16287950,"reputation":1194,"user_id":11762199,"display_name":"mhrsalehi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679848401,"creation_date":1679848401,"answer_id":75849090,"question_id":75705715,"body_markdown":"the culprit is this config:\r\n\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n\r\nfrom [docs][1]:\r\n\r\n&gt; 8.2 DiscoveryClient Route Definition Locator The Gateway can be configured to create routes based on services registered with a\r\n&gt; DiscoveryClient compatible service registry.\r\n&gt; \r\n&gt; To enable this, set\r\n&gt; spring.cloud.gateway.discovery.locator.enabled=true and make sure a\r\n&gt; DiscoveryClient implementation is on the classpath and enabled (such\r\n&gt; as Netflix Eureka, Consul or Zookeeper).\r\n&gt; \r\n&gt; 8.2.1 Configuring Predicates and Filters For DiscoveryClient Routes By default the Gateway defines a single predicate and filter for routes\r\n&gt; created via a DiscoveryClient.\r\n&gt; \r\n&gt; The default predicate is a path predicate defined with the pattern\r\n&gt; /serviceId/**, where serviceId is the id of the service from the\r\n&gt; DiscoveryClient.\r\n&gt; \r\n&gt; The default filter is rewrite path filter with the regex\r\n&gt; /serviceId/(?&lt;remaining&gt;.*) and the replacement /${remaining}. This\r\n&gt; just strips the service id from the path before the request is sent\r\n&gt; downstream.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html#_discoveryclient_route_definition_locator\r\n\r\nso when you call the following URL:\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check \r\n\r\nthe gateway rewrite the path to `/system/employee/check`, because `admin` is the service name.\r\n\r\nwhen you call :\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \r\n\r\nthe gateway rewrite the path to `/admin/system/employee/check`, which is the correct one.","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>the culprit is this config:</p>\n<pre><code>  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n</code></pre>\n<p>from <a href=\"https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html#_discoveryclient_route_definition_locator\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>8.2 DiscoveryClient Route Definition Locator The Gateway can be configured to create routes based on services registered with a\nDiscoveryClient compatible service registry.</p>\n<p>To enable this, set\nspring.cloud.gateway.discovery.locator.enabled=true and make sure a\nDiscoveryClient implementation is on the classpath and enabled (such\nas Netflix Eureka, Consul or Zookeeper).</p>\n<p>8.2.1 Configuring Predicates and Filters For DiscoveryClient Routes By default the Gateway defines a single predicate and filter for routes\ncreated via a DiscoveryClient.</p>\n<p>The default predicate is a path predicate defined with the pattern\n/serviceId/**, where serviceId is the id of the service from the\nDiscoveryClient.</p>\n<p>The default filter is rewrite path filter with the regex\n/serviceId/(?.*) and the replacement /${remaining}. This\njust strips the service id from the path before the request is sent\ndownstream.</p>\n</blockquote>\n<p>so when you call the following URL:</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check \n</code></pre>\n<p>the gateway rewrite the path to <code>/system/employee/check</code>, because <code>admin</code> is the service name.</p>\n<p>when you call :</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \n</code></pre>\n<p>the gateway rewrite the path to <code>/admin/system/employee/check</code>, which is the correct one.</p>\n"}],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75849090,"answer_count":4,"score":3,"last_activity_date":1679848401,"creation_date":1678546003,"question_id":75705715,"body_markdown":"I&#39;m trying to implement a `API-Gateway` service over our project using `Spring-Cloud-Gateway`.\r\n\r\nConsider that I have a service named `admin` and I&#39;m trying to configure it&#39;s route as below:\r\n\r\n    spring:\r\n      application:\r\n        name: gateway\r\n      cloud:\r\n        gateway:\r\n          discovery:\r\n            locator:\r\n              enabled: true\r\n              lower-case-service-id: true\r\n          routes:\r\n            - id: admin_route\r\n              uri: lb://admin\r\n              predicates:\r\n                - Path=/admin/**\r\nIt compiles successfully but there is just a problem!!\r\n\r\nI have an API on `admin` service with a URL like below that works fine without a gateway:\r\n\r\n    http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\r\n\r\nBut when I want to call this API through `gateway` service, I have to duplicate the `admin` in the URL, like below, so that it works fine:\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \r\n\r\nDoes anybody have any idea or clue how to resolve this issue?\r\n\r\nAny help would be appreciated!!\r\n\r\n**Note: Spring-Boot 2.7.0,\r\nSoring-Cloud 2021.0.3,\r\nJava 1.8**\r\n\r\n\r\n******************** UPDATE ************************\r\n\r\nI have set `servlet-context-path` and `apllication.name` in admin&#39;s `application.yml` as below:\r\n\r\n    spring:\r\n      application:\r\n        name: admin\r\n    server:\r\n      port: &lt;ADMIN_PORT&gt;\r\n      servlet:\r\n        context-path: /admin\r\n\r\nI think that it is the reason why I need to duplicate the service name in the URL, But I couldn&#39;t find any configuration on `SpringCloudGateway` related to this topic!!\r\n\r\n******************** ATTENTION ************************\r\n\r\nI am not allowed to remove `servlet-context-path` which has been set to `/admin` from admin&#39;s `application.yml`, because I need them to call my services internally without getting help from `Gateway`!!\r\n\r\nSo I need the following URL:\r\n\r\n    http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check\r\n\r\nto be routed to the following address:\r\n\r\n    http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\r\n\r\nwithout `/admin` getting removed after routing!!\r\n\r\nStill, any help would be appreciated!!! :)) \r\n","title":"SpringCloudGateway - routing issue with duplicate service name in URL","body":"<p>I'm trying to implement a <code>API-Gateway</code> service over our project using <code>Spring-Cloud-Gateway</code>.</p>\n<p>Consider that I have a service named <code>admin</code> and I'm trying to configure it's route as below:</p>\n<pre><code>spring:\n  application:\n    name: gateway\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n      routes:\n        - id: admin_route\n          uri: lb://admin\n          predicates:\n            - Path=/admin/**\n</code></pre>\n<p>It compiles successfully but there is just a problem!!</p>\n<p>I have an API on <code>admin</code> service with a URL like below that works fine without a gateway:</p>\n<pre><code>http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\n</code></pre>\n<p>But when I want to call this API through <code>gateway</code> service, I have to duplicate the <code>admin</code> in the URL, like below, so that it works fine:</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/admin/system/employee/check \n</code></pre>\n<p>Does anybody have any idea or clue how to resolve this issue?</p>\n<p>Any help would be appreciated!!</p>\n<p><strong>Note: Spring-Boot 2.7.0,\nSoring-Cloud 2021.0.3,\nJava 1.8</strong></p>\n<p>******************** UPDATE ************************</p>\n<p>I have set <code>servlet-context-path</code> and <code>apllication.name</code> in admin's <code>application.yml</code> as below:</p>\n<pre><code>spring:\n  application:\n    name: admin\nserver:\n  port: &lt;ADMIN_PORT&gt;\n  servlet:\n    context-path: /admin\n</code></pre>\n<p>I think that it is the reason why I need to duplicate the service name in the URL, But I couldn't find any configuration on <code>SpringCloudGateway</code> related to this topic!!</p>\n<p>******************** ATTENTION ************************</p>\n<p>I am not allowed to remove <code>servlet-context-path</code> which has been set to <code>/admin</code> from admin's <code>application.yml</code>, because I need them to call my services internally without getting help from <code>Gateway</code>!!</p>\n<p>So I need the following URL:</p>\n<pre><code>http://localhost:&lt;GATEWAY_PORT&gt;/admin/system/employee/check\n</code></pre>\n<p>to be routed to the following address:</p>\n<pre><code>http://localhost:&lt;ADMIN_PORT&gt;/admin/system/employee/check\n</code></pre>\n<p>without <code>/admin</code> getting removed after routing!!</p>\n<p>Still, any help would be appreciated!!! :))</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":1,"creation_date":1679723723,"post_id":75838293,"comment_id":133775728,"body_markdown":"Can you please share the build.gradle file?","body":"Can you please share the build.gradle file?"},{"owner":{"account_id":22651,"reputation":13651,"user_id":56076,"accept_rate":72,"display_name":"Don Branson"},"score":0,"creation_date":1680013645,"post_id":75838293,"comment_id":133821950,"body_markdown":"I see the same issue. The app seems to run, but with this error message. There&#39;s a [Closed issue](https://github.com/koreader/koreader/issues/9891) which has a link to this [Open issue](https://github.com/koreader/koreader/issues/9867).","body":"I see the same issue. The app seems to run, but with this error message. There&#39;s a <a href=\"https://github.com/koreader/koreader/issues/9891\" rel=\"nofollow noreferrer\">Closed issue</a> which has a link to this <a href=\"https://github.com/koreader/koreader/issues/9867\" rel=\"nofollow noreferrer\">Open issue</a>."},{"owner":{"account_id":1395119,"reputation":780,"user_id":1325048,"accept_rate":33,"display_name":"d.aemon"},"score":0,"creation_date":1682590291,"post_id":75838293,"comment_id":134241278,"body_markdown":"@Bob please don&#39;t use links to resources that no longer exist. If you need an answer to your question, helpers should be able to reach all the information you provide. The link to build.gradle no longer works.","body":"@Bob please don&#39;t use links to resources that no longer exist. If you need an answer to your question, helpers should be able to reach all the information you provide. The link to build.gradle no longer works."}],"owner":{"account_id":28117997,"reputation":41,"user_id":21484738,"display_name":"Bob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2683,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1679848158,"creation_date":1679693810,"question_id":75838293,"body_markdown":"I created an application in android studio, the strange part is that the application works perfectly on the emulator, but when I press a certain button, the application crashes on the real phone.\r\n\r\nLogcat:\r\n\r\n&gt; E/BufferQueueProducer: Unable to open libpenguin.so: dlopen failed: library &quot;libpenguin.so&quot; not found.\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\r\nThank you in advance!","title":"App works on emulator but crashes on real phone","body":"<p>I created an application in android studio, the strange part is that the application works perfectly on the emulator, but when I press a certain button, the application crashes on the real phone.</p>\n<p>Logcat:</p>\n<blockquote>\n<p>E/BufferQueueProducer: Unable to open libpenguin.so: dlopen failed: library &quot;libpenguin.so&quot; not found.\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0</p>\n</blockquote>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","hibernate","transient"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679848429,"post_id":75848989,"comment_id":133790374,"body_markdown":"What is this use case like? Because if it is a business logic then it belongs in the service class rather then the entity.","body":"What is this use case like? Because if it is a business logic then it belongs in the service class rather then the entity."}],"owner":{"account_id":13249424,"reputation":61,"user_id":9567391,"display_name":"PankajTekwani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679847429,"creation_date":1679847429,"question_id":75848989,"body_markdown":"I have an usecase where I want to do some processing before inserting data into DB via hibernate. This metadata I dont want to persist in DB but is required for processing just before inserting.\r\n\r\nUsually we do it through two ways:\r\n1. @PrePersist Callback\r\n2. Hibernate Interceptor OnSave()\r\n\r\nI tried to annotate the attribute with @Transient to make it not persistent in DB but that attribute value becomes null in callback or interceptor (may be because Serialization process removes them).\r\n\r\nThese are my classes:\r\n\r\n```\r\nclass Entity {\r\n\r\n@Id\r\nprivate int id;\r\n\r\n@Column\r\nprivate String name;\r\n\r\n@Transient\r\nprivate Metadata metadata;\r\n\r\n\r\n@PrePersist\r\nvoid onCreate() {\r\n        log.info(&quot;create&quot;);\r\n//      Some Processing required based on metadata. But this field is null because its \r\n//      marked as Transient (which is required because I dont want to persist it). I cant\r\n//      make it static either, because its value will differ for each instance.\r\n}\r\n\r\n\r\n```\r\n\r\nSame thing happens in hibernate interceptor, this metadata comes out to be null in onSave() method.","title":"To pass data to entity lifecycle callbacks or interceptor","body":"<p>I have an usecase where I want to do some processing before inserting data into DB via hibernate. This metadata I dont want to persist in DB but is required for processing just before inserting.</p>\n<p>Usually we do it through two ways:</p>\n<ol>\n<li>@PrePersist Callback</li>\n<li>Hibernate Interceptor OnSave()</li>\n</ol>\n<p>I tried to annotate the attribute with @Transient to make it not persistent in DB but that attribute value becomes null in callback or interceptor (may be because Serialization process removes them).</p>\n<p>These are my classes:</p>\n<pre><code>class Entity {\n\n@Id\nprivate int id;\n\n@Column\nprivate String name;\n\n@Transient\nprivate Metadata metadata;\n\n\n@PrePersist\nvoid onCreate() {\n        log.info(&quot;create&quot;);\n//      Some Processing required based on metadata. But this field is null because its \n//      marked as Transient (which is required because I dont want to persist it). I cant\n//      make it static either, because its value will differ for each instance.\n}\n\n\n</code></pre>\n<p>Same thing happens in hibernate interceptor, this metadata comes out to be null in onSave() method.</p>\n"},{"tags":["java","if-statement","combinations"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679779423,"post_id":75844593,"comment_id":133782878,"body_markdown":"Please post code as text, not images.","body":"Please post code as text, not images."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1679779673,"post_id":75844593,"comment_id":133782912,"body_markdown":"First thing that comes to mind: don&#39;t use `== true` or `== false`. Directly check `if (thicknessIsGood)` or `if (!thicknessIsGood)`.","body":"First thing that comes to mind: don&#39;t use <code>== true</code> or <code>== false</code>. Directly check <code>if (thicknessIsGood)</code> or <code>if (!thicknessIsGood)</code>."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1679780266,"post_id":75844593,"comment_id":133782986,"body_markdown":"There are a number of possibilities here. You could use a switch statement (or expression) rather than if statements.  You can use a `Function ` for each “test”, store the functions in a list and stream through the list using a filter with each input value.","body":"There are a number of possibilities here. You could use a switch statement (or expression) rather than if statements.  You can use a <code>Function </code> for each “test”, store the functions in a list and stream through the list using a filter with each input value."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679793605,"post_id":75844593,"comment_id":133784248,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679779897,"creation_date":1679779897,"answer_id":75844639,"question_id":75844593,"body_markdown":"This doesn&#39;t produce the exact same output, but you could report each dimension that doesn&#39;t meet the standards.\r\n\r\n```java\r\nif (thicknessIsGood &amp;&amp; widthIsGood &amp;&amp; lengthIsGood) {\r\n\tlumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\r\n} else {\r\n\tlumberReport = &quot;Lumber dimensions are not within tolerance.&quot;;\r\n\tif (!thicknessIsGood) lumberReport += &quot; Thickness exceeds tolerance of 0.03125 inches.&quot;;\r\n\tif (!widthIsGood) lumberReport += &quot; Width exceeds tolerance of 0.03125 inches.&quot;;\r\n\tif (!lengthIsGood) lumberReport += &quot; Length exceeds tolerance of 0.03125 inches.&quot;;\r\n}\r\n```","title":"Better technique for this?","body":"<p>This doesn't produce the exact same output, but you could report each dimension that doesn't meet the standards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (thicknessIsGood &amp;&amp; widthIsGood &amp;&amp; lengthIsGood) {\n    lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\n} else {\n    lumberReport = &quot;Lumber dimensions are not within tolerance.&quot;;\n    if (!thicknessIsGood) lumberReport += &quot; Thickness exceeds tolerance of 0.03125 inches.&quot;;\n    if (!widthIsGood) lumberReport += &quot; Width exceeds tolerance of 0.03125 inches.&quot;;\n    if (!lengthIsGood) lumberReport += &quot; Length exceeds tolerance of 0.03125 inches.&quot;;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679780731,"post_id":75844664,"comment_id":133783054,"body_markdown":"I&#39;d go a little further and code a statically-initialized 8-element array to map the number to a report string.","body":"I&#39;d go a little further and code a statically-initialized 8-element array to map the number to a report string."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1679781242,"post_id":75844664,"comment_id":133783103,"body_markdown":"If it were Groovy I&#39;d definitely go for a map-literal, but for java...","body":"If it were Groovy I&#39;d definitely go for a map-literal, but for java..."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679781678,"post_id":75844664,"comment_id":133783155,"body_markdown":"It&#39;s not much more verbose in Java these days. At least not for a small number of elements. Just do `var map = Map.of(0, &quot;a&quot;, 1, &quot;b&quot;, ...);`. Or just do what Arfur Narf suggested: `String[] values = {&quot;a&quot;, &quot;b&quot;, ...}`. Arrays are already essentially an integer-to-value map.","body":"It&#39;s not much more verbose in Java these days. At least not for a small number of elements. Just do <code>var map = Map.of(0, &quot;a&quot;, 1, &quot;b&quot;, ...);</code>. Or just do what Arfur Narf suggested: <code>String[] values = {&quot;a&quot;, &quot;b&quot;, ...}</code>. Arrays are already essentially an integer-to-value map."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679781872,"post_id":75844664,"comment_id":133783191,"body_markdown":"Also, note you could use a switch expression if you&#39;re on a recent enough version of Java. It would look like: `lumberReport = switch (mask) { case 0 -&gt; &quot;a&quot;; case 1 -&gt; &quot;b&quot;; ... };`.","body":"Also, note you could use a switch expression if you&#39;re on a recent enough version of Java. It would look like: <code>lumberReport = switch (mask) { case 0 -&gt; &quot;a&quot;; case 1 -&gt; &quot;b&quot;; ... };</code>."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1679837130,"post_id":75844664,"comment_id":133788546,"body_markdown":"The OP might well be asking about Java 11 or even 8.","body":"The OP might well be asking about Java 11 or even 8."}],"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679780206,"creation_date":1679780206,"answer_id":75844664,"question_id":75844593,"body_markdown":"I would use a number as a bitmap where 1 and 0 stand for `true` and `false` respectively and respective constants in a switch-case:\r\n\r\n```\r\nint mask = ( thicknessIsGood ? 4 : 0 ) | ( widthIsGood ? 2 : 0 ) | ( lengthIsGood ? 1 : 0 );\r\n\r\nswitch( mask ){\r\n  case 7: // 111 binary\r\n   lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\r\n   break;\r\n\r\n  case 0: // 000 bin\r\n    lumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\r\n    break;\r\n  \r\n  case 3: // 011 bin\r\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\r\n    break;\r\n\r\n  // other cases\r\n\r\n  default:\r\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;   \r\n}\r\n```","title":"Better technique for this?","body":"<p>I would use a number as a bitmap where 1 and 0 stand for <code>true</code> and <code>false</code> respectively and respective constants in a switch-case:</p>\n<pre><code>int mask = ( thicknessIsGood ? 4 : 0 ) | ( widthIsGood ? 2 : 0 ) | ( lengthIsGood ? 1 : 0 );\n\nswitch( mask ){\n  case 7: // 111 binary\n   lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\n   break;\n\n  case 0: // 000 bin\n    lumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\n    break;\n  \n  case 3: // 011 bin\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\n    break;\n\n  // other cases\n\n  default:\n    lumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679847124,"creation_date":1679783195,"answer_id":75844865,"question_id":75844593,"body_markdown":"With a little rearranging you can report which dimensions are not met.\r\n- first store the messages in an array.\r\n- then set the index to 0.\r\n- set to 1 if width is bad\r\n- add 2 if length is bad\r\n- add 4 if thickness is bad.\r\n\r\nHere is how the index sums up.\r\n```\r\n// goodWidth + goodLength + goodthickness == 0\r\n// badWidth  + goodLength + goodthickness == 1\r\n// goodWidth + badLength  + goodthickness == 2\r\n// badWidth  + badLength  + goodthickness == 3\r\n// goodWidth + goodLength + badthickness  == 4\r\n// badWidth  + goodLength + badthickness  == 5\r\n// goodWidth + badLength  + badthickness  == 6\r\n// badWidth  + badLength  + badthickness  == 7\r\n```\r\nYou have eight messages and the values in various combinations will create the appropriate index for the message and return it.\r\n```\r\n private static String[] msgs = {\r\n         &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nWidth exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nLength exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and length exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nThickness exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and thickness exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nLength and thickness exceeds tolerance of 0.03125 inches.&quot;,\r\n         &quot;Lumber dimensions are not within tolerance.\\nAll dimensions exceed tolerance of 0.03125 inches.&quot;};\r\n\r\nSystem.out.println(getMessage(true, false, false));\r\n```\r\nprints\r\n```\r\nLumber dimensions are not within tolerance.\r\nLength and thickness exceeds tolerance of 0.03125 inches.\r\n```\r\nThe method\r\n```\r\npublic static String getMessage(boolean widthIsGood, boolean lengthIsGood, boolean thicknessIsGood) {\r\n    int index = widthIsGood ? 0 : 1;\r\n    if (!lengthIsGood) {\r\n        index +=2;\r\n    }\r\n    if(!thicknessIsGood) {\r\n        index += 4;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Better technique for this?","body":"<p>With a little rearranging you can report which dimensions are not met.</p>\n<ul>\n<li>first store the messages in an array.</li>\n<li>then set the index to 0.</li>\n<li>set to 1 if width is bad</li>\n<li>add 2 if length is bad</li>\n<li>add 4 if thickness is bad.</li>\n</ul>\n<p>Here is how the index sums up.</p>\n<pre><code>// goodWidth + goodLength + goodthickness == 0\n// badWidth  + goodLength + goodthickness == 1\n// goodWidth + badLength  + goodthickness == 2\n// badWidth  + badLength  + goodthickness == 3\n// goodWidth + goodLength + badthickness  == 4\n// badWidth  + goodLength + badthickness  == 5\n// goodWidth + badLength  + badthickness  == 6\n// badWidth  + badLength  + badthickness  == 7\n</code></pre>\n<p>You have eight messages and the values in various combinations will create the appropriate index for the message and return it.</p>\n<pre><code> private static String[] msgs = {\n         &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nWidth exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nLength exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and length exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nThickness exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nWidth and thickness exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nLength and thickness exceeds tolerance of 0.03125 inches.&quot;,\n         &quot;Lumber dimensions are not within tolerance.\\nAll dimensions exceed tolerance of 0.03125 inches.&quot;};\n\nSystem.out.println(getMessage(true, false, false));\n</code></pre>\n<p>prints</p>\n<pre><code>Lumber dimensions are not within tolerance.\nLength and thickness exceeds tolerance of 0.03125 inches.\n</code></pre>\n<p>The method</p>\n<pre><code>public static String getMessage(boolean widthIsGood, boolean lengthIsGood, boolean thicknessIsGood) {\n    int index = widthIsGood ? 0 : 1;\n    if (!lengthIsGood) {\n        index +=2;\n    }\n    if(!thicknessIsGood) {\n        index += 4;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15249039,"reputation":1,"user_id":11003058,"display_name":"fourth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1679847124,"creation_date":1679779407,"question_id":75844593,"body_markdown":"I have a Java program and I use Eclipse. My program takes in 3 values and has 3 expected values, and it decides which values are out of tolerance. I need to print which values are out of tolerance. It could be just value 1, all of them, etc. Right now I have a bunch of else if statements to cover all combinations of values that are out of tolerance. \r\nIs there a better way to do this?\r\nThx!\r\n\r\nThis program works just fine the way it is. It just seems like bad code.\r\n\r\nCurrent code:\r\n\r\n\t\tif (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\r\n\t\t}\r\n\t\t//check if all dimensions are within tolerance\r\n\t\telse if (thicknessIsGood == false &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == false) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//check if thickness is bad\r\n\t\telse if (thicknessIsGood == false &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//check if width is bad\r\n\t\telse if (thicknessIsGood == true &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == true) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Width exceeds tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//check if length is bad\r\n\t\telse if (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == false) {\r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Length exceeds tolerance of 0.03125 inches.&quot;;\r\n\t\t}\r\n\t\t//to cover all bases in lieu of 6 more else if statements (if this is wrong, please let me know\r\n\t\telse { \r\n\t\t\tlumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;\r\n\t\t}","title":"Better technique for this?","body":"<p>I have a Java program and I use Eclipse. My program takes in 3 values and has 3 expected values, and it decides which values are out of tolerance. I need to print which values are out of tolerance. It could be just value 1, all of them, etc. Right now I have a bunch of else if statements to cover all combinations of values that are out of tolerance.\nIs there a better way to do this?\nThx!</p>\n<p>This program works just fine the way it is. It just seems like bad code.</p>\n<p>Current code:</p>\n<pre><code>    if (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\n        lumberReport = &quot;Lumber dimensions meet tolerance standards of 0.03125 inches&quot;;\n    }\n    //check if all dimensions are within tolerance\n    else if (thicknessIsGood == false &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == false) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. All dimensions exceed tolerance of 0.03125 inches.&quot;;\n    }\n    //check if thickness is bad\n    else if (thicknessIsGood == false &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == true) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. Thickness exceeds tolerance of 0.03125 inches.&quot;;\n    }\n    //check if width is bad\n    else if (thicknessIsGood == true &amp;&amp; widthIsGood == false &amp;&amp; lengthIsGood == true) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. Width exceeds tolerance of 0.03125 inches.&quot;;\n    }\n    //check if length is bad\n    else if (thicknessIsGood == true &amp;&amp; widthIsGood == true &amp;&amp; lengthIsGood == false) {\n        lumberReport = &quot;Lumber dimensions are not within tolerance. Length exceeds tolerance of 0.03125 inches.&quot;;\n    }\n    //to cover all bases in lieu of 6 more else if statements (if this is wrong, please let me know\n    else { \n        lumberReport = &quot;Lumber dimensions are not within tolerance. Two dimensions exceed tolerance of 0.03125 inches.&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":11568164,"reputation":11,"user_id":8475704,"display_name":"Akovi W."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679846987,"creation_date":1679846355,"question_id":75848882,"body_markdown":"Sessions appear to remain active after logout. I&#39;m using Spring 5 and I defined my security configuration as:\r\n```\r\n &lt;session-management invalid-session-url=&quot;/invalid-session&quot; session-fixation-protection=&quot;none&quot;&gt;\r\n      &lt;concurrency-control max-sessions=&quot;1&quot; error-if-maximum-exceeded=&quot;true&quot; \r\n         expired-url=&quot;/expired-session&quot; session-registry-alias=&quot;sessionRegistry&quot;/&gt;\r\n  &lt;/session-management&gt;\r\n        \r\n  &lt;logout logout-url=&quot;/logout&quot;\r\n           delete-cookies=&quot;JSESSIONID&quot; \r\n           logout-success-url=&quot;/index&quot;\r\n           invalidate-session=&quot;true&quot;/&gt;\r\n```\r\nThe logout button in my application is targeting /logout which appears to work fine. The logic returning the active sessions in my controller is:\r\n\r\n```\r\nsessionRegistry.getAllPrincipals().stream()\r\n      .filter(p -&gt; p instanceof PrincipalImpl)\r\n      .filter(p -&gt; !sessionRegistry.getAllSessions(p, false).isEmpty())\r\n      .map(Object::toString)\r\n      .collect(Collectors.toList());\r\n```\r\nAs result, sessions appear to remain active after logout even after many days.\r\n\r\nI spent many days and weeks trying to solve it reading different kind of Spring security tutorials.","title":"Spring mvc sessions remained active after logout","body":"<p>Sessions appear to remain active after logout. I'm using Spring 5 and I defined my security configuration as:</p>\n<pre><code> &lt;session-management invalid-session-url=&quot;/invalid-session&quot; session-fixation-protection=&quot;none&quot;&gt;\n      &lt;concurrency-control max-sessions=&quot;1&quot; error-if-maximum-exceeded=&quot;true&quot; \n         expired-url=&quot;/expired-session&quot; session-registry-alias=&quot;sessionRegistry&quot;/&gt;\n  &lt;/session-management&gt;\n        \n  &lt;logout logout-url=&quot;/logout&quot;\n           delete-cookies=&quot;JSESSIONID&quot; \n           logout-success-url=&quot;/index&quot;\n           invalidate-session=&quot;true&quot;/&gt;\n</code></pre>\n<p>The logout button in my application is targeting /logout which appears to work fine. The logic returning the active sessions in my controller is:</p>\n<pre><code>sessionRegistry.getAllPrincipals().stream()\n      .filter(p -&gt; p instanceof PrincipalImpl)\n      .filter(p -&gt; !sessionRegistry.getAllSessions(p, false).isEmpty())\n      .map(Object::toString)\n      .collect(Collectors.toList());\n</code></pre>\n<p>As result, sessions appear to remain active after logout even after many days.</p>\n<p>I spent many days and weeks trying to solve it reading different kind of Spring security tutorials.</p>\n"},{"tags":["java","swing","mdi","jinternalframe","jdesktoppane"],"answers":[{"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1324096943,"post_id":8542622,"comment_id":10583026,"body_markdown":"Note that [JDesktopPane.getAllFrames()](http://docs.oracle.com/javase/7/docs/api/javax/swing/JDesktopPane.html#getAllFrames()) returns an array, so you might as well just iterate the array (instead of using a list).","body":"Note that <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JDesktopPane.html#getAllFrames()\" rel=\"nofollow noreferrer\">JDesktopPane.getAllFrames()</a> returns an array, so you might as well just iterate the array (instead of using a list)."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1324099389,"post_id":8542622,"comment_id":10583253,"body_markdown":"-1 for reinventing the wheel. Either getSelectedFrame() or getAllFrames() would be used.","body":"-1 for reinventing the wheel. Either getSelectedFrame() or getAllFrames() would be used."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1679846861,"creation_date":1324096693,"answer_id":8542622,"question_id":8542609,"body_markdown":"Make a `List&lt;JInternalFrame&gt;` and check [`isSelected()`][1] as you iterate though it.\r\n\r\nAddendum: See also these [examples][2] that use `Action` to select an internal frame from a menu.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JInternalFrame.html#isSelected%28%29\r\n  [2]: https://stackoverflow.com/search?q=user%3A230513+%5Bswing%5D+Action+JInternalFrame","title":"JDesktopPane - how to get active frame","body":"<p>Make a <code>List&lt;JInternalFrame&gt;</code> and check <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JInternalFrame.html#isSelected%28%29\" rel=\"nofollow noreferrer\"><code>isSelected()</code></a> as you iterate though it.</p>\n<p>Addendum: See also these <a href=\"https://stackoverflow.com/search?q=user%3A230513+%5Bswing%5D+Action+JInternalFrame\">examples</a> that use <code>Action</code> to select an internal frame from a menu.</p>\n"},{"comments":[{"owner":{"account_id":1040810,"reputation":655,"user_id":1046871,"accept_rate":75,"display_name":"Dariusz G. Jagielski"},"score":1,"creation_date":1324098781,"post_id":8542629,"comment_id":10583184,"body_markdown":"Thanks. You really helped me. I looked for something like getActiveFrame or getFocusedFram and overlooked getSelectedFrame ;)","body":"Thanks. You really helped me. I looked for something like getActiveFrame or getFocusedFram and overlooked getSelectedFrame ;)"}],"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1324096836,"creation_date":1324096836,"answer_id":8542629,"question_id":8542609,"body_markdown":"Use [JDekstopPane.getSelectedFrame()][1]  method (*From doc: currently active JInternalFrame in this JDesktopPane, or null if no JInternalFrame is currently active.*) or  `JDesktopPane.getAllFrames()` to get list of all `JInternalFrames` currently displayed in the desktop and check `isSelected()` method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/JDesktopPane.html","title":"JDesktopPane - how to get active frame","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JDesktopPane.html\" rel=\"noreferrer\">JDekstopPane.getSelectedFrame()</a>  method (<em>From doc: currently active JInternalFrame in this JDesktopPane, or null if no JInternalFrame is currently active.</em>) or  <code>JDesktopPane.getAllFrames()</code> to get list of all <code>JInternalFrames</code> currently displayed in the desktop and check <code>isSelected()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1324098058,"post_id":8542659,"comment_id":10583121,"body_markdown":"@trashgod it&#39;s pretty straightforward, as `JInternalFrames` are created an `InternalFrameListener` is attached to each that keeps track of which frame is active and which is not.  I&#39;ve updated my answer a bit in case the poster doesn&#39;t care for events - `JDesktopPane` has the method `getSelectedFrame`.","body":"@trashgod it&#39;s pretty straightforward, as <code>JInternalFrames</code> are created an <code>InternalFrameListener</code> is attached to each that keeps track of which frame is active and which is not.  I&#39;ve updated my answer a bit in case the poster doesn&#39;t care for events - <code>JDesktopPane</code> has the method <code>getSelectedFrame</code>."},{"owner":{"account_id":1040810,"reputation":655,"user_id":1046871,"accept_rate":75,"display_name":"Dariusz G. Jagielski"},"score":0,"creation_date":1324098908,"post_id":8542659,"comment_id":10583197,"body_markdown":"&gt; In your code you need an InternalFrameListener (API) (Tutorial) and listen to activate/deactivate events.  \n&gt; Activated means the internal frame was brought to the top; deactivated means it&#39;s no longer on top.  \n&gt; Since JDesktopPane extends JLayeredPane you can also set the z-order of components added to it.&quot;  \n  \nIn other words another tip on &quot;How to make your code more confusing and less straightforward&quot;. Thank you, though I&#39;ll keep my code so simple that even if you never used Java you&#39;d understand it.","body":"&gt; In your code you need an InternalFrameListener (API) (Tutorial) and listen to activate/deactivate events.   &gt; Activated means the internal frame was brought to the top; deactivated means it&#39;s no longer on top.   &gt; Since JDesktopPane extends JLayeredPane you can also set the z-order of components added to it.&quot;      In other words another tip on &quot;How to make your code more confusing and less straightforward&quot;. Thank you, though I&#39;ll keep my code so simple that even if you never used Java you&#39;d understand it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1324099606,"post_id":8542659,"comment_id":10583275,"body_markdown":"-1 for reinventing the wheel. getSelectedFrame() was mentioned earlier.","body":"-1 for reinventing the wheel. getSelectedFrame() was mentioned earlier."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1324099714,"post_id":8542659,"comment_id":10583294,"body_markdown":"@camickr Polling the UI and listening for UI events are two completely different ways of handling the problem. Since you&#39;re not familiar with the difference here&#39;s an example. Let&#39;s say you have `java.swing.Action`s that back menu items and toolbar buttons. The `Action` (and thus the items and buttons) should only be enabled when certain frames are on top. Would you rather run a timer asking the `JDesktopPane` who&#39;s on top or just listen for events? Reinventing the wheel would be iterating over all the frames looking for `isSelected` when `getSelectedFrame` has been around since Java 1.3.","body":"@camickr Polling the UI and listening for UI events are two completely different ways of handling the problem. Since you&#39;re not familiar with the difference here&#39;s an example. Let&#39;s say you have <code>java.swing.Action</code>s that back menu items and toolbar buttons. The <code>Action</code> (and thus the items and buttons) should only be enabled when certain frames are on top. Would you rather run a timer asking the <code>JDesktopPane</code> who&#39;s on top or just listen for events? Reinventing the wheel would be iterating over all the frames looking for <code>isSelected</code> when <code>getSelectedFrame</code> has been around since Java 1.3."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1324099786,"post_id":8542659,"comment_id":10583300,"body_markdown":"@DariuszG.Jagielski, see my response to camickr, and good luck responding to changes in the UI.","body":"@DariuszG.Jagielski, see my response to camickr, and good luck responding to changes in the UI."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1324100017,"post_id":8542659,"comment_id":10583328,"body_markdown":"The question asked &quot;how to get the active frame&quot;, not &quot;how to track frame activation/deactivation&quot;. Your suggestion to use a listener and handle events to track the active frame is reinventing the wheel since a method exists to do this already. Agreed it is a solution for a different problem, just not this problem.","body":"The question asked &quot;how to get the active frame&quot;, not &quot;how to track frame activation/deactivation&quot;. Your suggestion to use a listener and handle events to track the active frame is reinventing the wheel since a method exists to do this already. Agreed it is a solution for a different problem, just not this problem."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1324100072,"post_id":8542659,"comment_id":10583336,"body_markdown":"@camickr: I rolled back my careless edit; Paul had already linked to `InternalFrameListener`, which seems like a good use of the API. Edit: Sorry if I adversely influenced your appraisal.","body":"@camickr: I rolled back my careless edit; Paul had already linked to <code>InternalFrameListener</code>, which seems like a good use of the API. Edit: Sorry if I adversely influenced your appraisal."}],"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"comment_count":7,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1324099948,"creation_date":1324097304,"answer_id":8542659,"question_id":8542609,"body_markdown":"Have you looked at the Java tutorial titled [How to Use Internal Frames][1]?  In your code you need an `InternalFrameListener` ([API][2]) ([Tutorial][3]) and listen to activate/deactivate events.  Activated means the internal frame was brought to the top; deactivated means it&#39;s no longer on top.  Since `JDesktopPane` extends `JLayeredPane` you can also set the z-order of components added to it. \r\n\r\nDon&#39;t iterate over all the panes - use events.\r\n\r\nIf for some reason you prefer to poll your UI rather than use an event-driven approach you can call `getSelectedFrame` which returns the active `JInternalFrame`.  I&#39;m not sure why no one else mentioned it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/event/InternalFrameListener.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/uiswing/events/internalframelistener.html","title":"JDesktopPane - how to get active frame","body":"<p>Have you looked at the Java tutorial titled <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow\">How to Use Internal Frames</a>?  In your code you need an <code>InternalFrameListener</code> (<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/event/InternalFrameListener.html\" rel=\"nofollow\">API</a>) (<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/internalframelistener.html\" rel=\"nofollow\">Tutorial</a>) and listen to activate/deactivate events.  Activated means the internal frame was brought to the top; deactivated means it's no longer on top.  Since <code>JDesktopPane</code> extends <code>JLayeredPane</code> you can also set the z-order of components added to it. </p>\n\n<p>Don't iterate over all the panes - use events.</p>\n\n<p>If for some reason you prefer to poll your UI rather than use an event-driven approach you can call <code>getSelectedFrame</code> which returns the active <code>JInternalFrame</code>.  I'm not sure why no one else mentioned it.</p>\n"}],"owner":{"account_id":1040810,"reputation":655,"user_id":1046871,"accept_rate":75,"display_name":"Dariusz G. Jagielski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9259,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":8542629,"answer_count":3,"score":9,"last_activity_date":1679846861,"creation_date":1324096419,"question_id":8542609,"body_markdown":"How to get active (having focus) frame (JInternalFrame) that is inside JDesktopPane? I need it for my MDI notepad (not that anybody would use that, just a training project). Looking at api, I see only functions to get all JInternalFrames, not active one.","title":"JDesktopPane - how to get active frame","body":"<p>How to get active (having focus) frame (JInternalFrame) that is inside JDesktopPane? I need it for my MDI notepad (not that anybody would use that, just a training project). Looking at api, I see only functions to get all JInternalFrames, not active one.</p>\n"},{"tags":["java","animation","3d","processing"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1679846058,"post_id":75848639,"comment_id":133789961,"body_markdown":"You are using `java` not `javascript`","body":"You are using <code>java</code> not <code>javascript</code>"}],"answers":[{"comments":[{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1679847928,"post_id":75848878,"comment_id":133790296,"body_markdown":"That&#39;s whatI was missing, thanks! So the Matrix operations keep the translations local?","body":"That&#39;s whatI was missing, thanks! So the Matrix operations keep the translations local?"},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1679848051,"post_id":75848878,"comment_id":133790322,"body_markdown":"https://processing.org/reference/pushMatrix_.html `pushMatrix` is like - &quot;hey processing, save current transformations for me&quot; and `popMatrix` is like - &quot;hey processing, load the transformations that I asked you to save before please&quot;","body":"<a href=\"https://processing.org/reference/pushMatrix_.html\" rel=\"nofollow noreferrer\">processing.org/reference/pushMatrix_.html</a> <code>pushMatrix</code> is like - &quot;hey processing, save current transformations for me&quot; and <code>popMatrix</code> is like - &quot;hey processing, load the transformations that I asked you to save before please&quot;"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1679865885,"post_id":75848878,"comment_id":133793145,"body_markdown":"@BenDelany Check out the [2D Transformations tutorial](https://processing.org/tutorials/transform2d): the same applies in 3D. \nKonrad: nice consice answer (+1)","body":"@BenDelany Check out the <a href=\"https://processing.org/tutorials/transform2d\" rel=\"nofollow noreferrer\">2D Transformations tutorial</a>: the same applies in 3D.  Konrad: nice consice answer (+1)"}],"tags":[],"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679846328,"creation_date":1679846328,"answer_id":75848878,"question_id":75848639,"body_markdown":"`translate` is a global operation, you have to use `pushMatrix` and `popMatrix` to not mess up every other spheres\r\n\r\n```\r\npublic void update() {\r\n  pushMatrix();\r\n  colorMode(RGB);\r\n  fill(col);\r\n  sphereDetail(180);\r\n  stroke(255);\r\n  noStroke();\r\n  translate(this.x,this.y,this.z);\r\n  sphere(this.size);\r\n  popMatrix();\r\n}\r\n```","title":"Drawing spheres Processing","body":"<p><code>translate</code> is a global operation, you have to use <code>pushMatrix</code> and <code>popMatrix</code> to not mess up every other spheres</p>\n<pre><code>public void update() {\n  pushMatrix();\n  colorMode(RGB);\n  fill(col);\n  sphereDetail(180);\n  stroke(255);\n  noStroke();\n  translate(this.x,this.y,this.z);\n  sphere(this.size);\n  popMatrix();\n}\n</code></pre>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75848878,"answer_count":1,"score":1,"last_activity_date":1679846328,"creation_date":1679843925,"question_id":75848639,"body_markdown":"I&#39;m working on a sketch where I&#39;ll need to draw a lot. of spheres, but I think I&#39;m missing something about how their coordinates work. In this example I&#39;m trying to draw a line of spheres, equally distant apart on the x-axis. I can draw the spheres starting at 0, between I try to shift them tone centered around the origin, I get strange results.\r\n\r\nMain Program\r\n\r\n        import peasy.*;\r\n    \r\n    ArrayList&lt;Sphere&gt; spheres = new ArrayList&lt;Sphere&gt;();\r\n    \r\n    int r = int(random(0, 256));\r\n    int g = int(random(0, 256));\r\n    int b = int(random(0, 256));\r\n    \r\n    PeasyCam cam;\r\n    \r\n    void setup ()\r\n    {\r\n      size(430, 760, P3D);\r\n      frameRate(60);\r\n      orientation(LANDSCAPE);\r\n        \r\n      for(int i = 0; i &lt; 6; i++){\r\n        spheres.add(new Sphere(color(r, g, b), 25, ((i*5) + 75), 0, 0));\r\n      }\r\n      \r\n      \r\n      for(int i = 0; i &lt; 6; i++){\r\n        spheres.get(i).shiftx();\r\n      }\r\n    \r\n      \r\n      cam = new PeasyCam(this, 0, 0, 0, 1500);\r\n    \r\n    }\r\n    \r\n    void reset(){\r\n    \r\n      \r\n    }\r\n    \r\n    void draw ()\r\n    { \r\n      background(0);\r\n      ambientLight(255, 255, 255);\r\n      directionalLight(0, 255, 255, 1, -1, 0);\r\n      \r\n      for(int i = 0; i &lt; spheres.size(); i++){\r\n        spheres.get(i).update();\r\n      }\r\n      \r\n      \r\n    }\r\n\r\nSphere class\r\n\r\n    class Sphere {\r\n    \r\n      int size;\r\n      color col;\r\n      float x;\r\n      float y;\r\n      float z;\r\n      \r\n      Sphere(color  col, int size, float x, float y, float z){\r\n        this.size = size;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.col = col;\r\n        \r\n        println(this.x,this.y, this.z);\r\n        \r\n      }\r\n      \r\n      public void shiftx(){\r\n        this.x -= 85;\r\n        println(this.x,this.y, this.z);\r\n      }\r\n      \r\n      public void update() {\r\n        //colorMode(RGB);\r\n        fill(col);\r\n        sphereDetail(180);\r\n        //stroke(255);\r\n        noStroke();\r\n        translate(this.x,this.y,this.z);\r\n        sphere(this.size);\r\n      }   \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the result when I draw the spheres starting at the origin and increase their x value accordingly.\r\n[![enter image description here][2]][2]\r\n\r\nBut this is what happens when I shift every sphere to the left by the same amount. If the are equidistant, and then shifted left (negative on the x axis)by the same amount, why are they suddenly drawn on top of each other?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ezhgL.png\r\n  [2]: https://i.stack.imgur.com/LA6sb.png","title":"Drawing spheres Processing","body":"<p>I'm working on a sketch where I'll need to draw a lot. of spheres, but I think I'm missing something about how their coordinates work. In this example I'm trying to draw a line of spheres, equally distant apart on the x-axis. I can draw the spheres starting at 0, between I try to shift them tone centered around the origin, I get strange results.</p>\n<p>Main Program</p>\n<pre><code>    import peasy.*;\n\nArrayList&lt;Sphere&gt; spheres = new ArrayList&lt;Sphere&gt;();\n\nint r = int(random(0, 256));\nint g = int(random(0, 256));\nint b = int(random(0, 256));\n\nPeasyCam cam;\n\nvoid setup ()\n{\n  size(430, 760, P3D);\n  frameRate(60);\n  orientation(LANDSCAPE);\n    \n  for(int i = 0; i &lt; 6; i++){\n    spheres.add(new Sphere(color(r, g, b), 25, ((i*5) + 75), 0, 0));\n  }\n  \n  \n  for(int i = 0; i &lt; 6; i++){\n    spheres.get(i).shiftx();\n  }\n\n  \n  cam = new PeasyCam(this, 0, 0, 0, 1500);\n\n}\n\nvoid reset(){\n\n  \n}\n\nvoid draw ()\n{ \n  background(0);\n  ambientLight(255, 255, 255);\n  directionalLight(0, 255, 255, 1, -1, 0);\n  \n  for(int i = 0; i &lt; spheres.size(); i++){\n    spheres.get(i).update();\n  }\n  \n  \n}\n</code></pre>\n<p>Sphere class</p>\n<pre><code>class Sphere {\n\n  int size;\n  color col;\n  float x;\n  float y;\n  float z;\n  \n  Sphere(color  col, int size, float x, float y, float z){\n    this.size = size;\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.col = col;\n    \n    println(this.x,this.y, this.z);\n    \n  }\n  \n  public void shiftx(){\n    this.x -= 85;\n    println(this.x,this.y, this.z);\n  }\n  \n  public void update() {\n    //colorMode(RGB);\n    fill(col);\n    sphereDetail(180);\n    //stroke(255);\n    noStroke();\n    translate(this.x,this.y,this.z);\n    sphere(this.size);\n  }   \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ezhgL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ezhgL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the result when I draw the spheres starting at the origin and increase their x value accordingly.\n<a href=\"https://i.stack.imgur.com/LA6sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LA6sb.png\" alt=\"enter image description here\" /></a></p>\n<p>But this is what happens when I shift every sphere to the left by the same amount. If the are equidistant, and then shifted left (negative on the x axis)by the same amount, why are they suddenly drawn on top of each other?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":20441485,"reputation":366,"user_id":14998237,"display_name":"Andrey Grigoriev"},"score":0,"creation_date":1679845344,"post_id":75848605,"comment_id":133789826,"body_markdown":"Spring has no idea what it should pass as an input parameter of the method gitHubWebClientWithBaseUrl(String url). If it is a value from configuration, you can mark it with @Value annotation, like gitHubWebClientWithBaseUrl(@Value(&quot;${some.configuration.value}&quot;) String url)","body":"Spring has no idea what it should pass as an input parameter of the method gitHubWebClientWithBaseUrl(String url). If it is a value from configuration, you can mark it with @Value annotation, like gitHubWebClientWithBaseUrl(@Value(&quot;${some.configuration.valu&zwnj;&#8203;e}&quot;) String url)"}],"answers":[{"tags":[],"owner":{"account_id":27542061,"reputation":316,"user_id":21018639,"display_name":"josephjacobmorris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679845849,"creation_date":1679845849,"answer_id":75848841,"question_id":75848605,"body_markdown":"\r\nSpring f/w is not sure what to pass in as value for `url` this can be resolved by either defining a bean named `url` like below :\r\n```java\r\n   @Bean\r\n    public String url() {\r\n        return  &quot;www.example.com&quot;;\r\n    }\r\n\r\n    @Bean\r\n    public WebClient gitHubWebClientWithBaseUrl(String url) {\r\n        return WebClient.builder()\r\n                .baseUrl(url)\r\n                .build();\r\n    }\r\n``` \r\n**Or**\r\n \r\nby adding your baseUrl value in `application.properties` like below\r\n```properties\r\nbase.url=www.example.com\r\n```\r\nand editing your config class like below\r\n```java\r\n    @Bean\r\n    public WebClient gitHubWebClientWithBaseUrl(@Value(&quot;${base.url}&quot;) String url) {\r\n        return WebClient.builder()\r\n                .baseUrl(url)\r\n                .build();\r\n    }\r\n```","title":"Bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Spring f/w is not sure what to pass in as value for <code>url</code> this can be resolved by either defining a bean named <code>url</code> like below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Bean\n    public String url() {\n        return  &quot;www.example.com&quot;;\n    }\n\n    @Bean\n    public WebClient gitHubWebClientWithBaseUrl(String url) {\n        return WebClient.builder()\n                .baseUrl(url)\n                .build();\n    }\n</code></pre>\n<p><strong>Or</strong></p>\n<p>by adding your baseUrl value in <code>application.properties</code> like below</p>\n<pre><code>base.url=www.example.com\n</code></pre>\n<p>and editing your config class like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public WebClient gitHubWebClientWithBaseUrl(@Value(&quot;${base.url}&quot;) String url) {\n        return WebClient.builder()\n                .baseUrl(url)\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679845849,"creation_date":1679843701,"question_id":75848605,"body_markdown":"I am developing web client for github. I need to register web client as bean and have opportunity to specify baseUrl. \r\n\r\nCode:\r\n\r\n    public class ClientConfiguration {\r\n    \r\n        private static final String GITHUB_BASE_URL = &quot;https://api.github.com/&quot;;\r\n    \r\n        private final ApplicationConfig applicationConfig;\r\n    \r\n        @Autowired\r\n        public ClientConfiguration(ApplicationConfig applicationConfig) {\r\n            this.applicationConfig = applicationConfig;\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public WebClient gitHubWebClient() {\r\n            return WebClient.builder()\r\n                    .baseUrl(GITHUB_BASE_URL)\r\n                    .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\r\n                    .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\r\n                    .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebClient gitHubWebClientWithBaseUrl(String url) {\r\n            return WebClient.builder()\r\n                    .baseUrl(url)\r\n                    .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\r\n                    .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\r\n                    .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\nWhen I start the app, here is exception:\r\n\r\n\r\n    Parameter 0 of method gitHubWebClientWithBaseUrl in ru.example.edu.java.scrapper.configuration.ClientConfiguration required a bean of type &#39;java.lang.String&#39; that could not be found.","title":"Bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I am developing web client for github. I need to register web client as bean and have opportunity to specify baseUrl.</p>\n<p>Code:</p>\n<pre><code>public class ClientConfiguration {\n\n    private static final String GITHUB_BASE_URL = &quot;https://api.github.com/&quot;;\n\n    private final ApplicationConfig applicationConfig;\n\n    @Autowired\n    public ClientConfiguration(ApplicationConfig applicationConfig) {\n        this.applicationConfig = applicationConfig;\n    }\n\n    @Primary\n    @Bean\n    public WebClient gitHubWebClient() {\n        return WebClient.builder()\n                .baseUrl(GITHUB_BASE_URL)\n                .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\n                .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\n                .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\n                .build();\n    }\n\n    @Bean\n    public WebClient gitHubWebClientWithBaseUrl(String url) {\n        return WebClient.builder()\n                .baseUrl(url)\n                .defaultHeader(&quot;Accept&quot;, &quot;application/vnd.github+json&quot;)\n                .defaultHeader(&quot;X-GitHub-Api-Version&quot;, &quot;2022-11-28&quot;)\n                .defaultHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, applicationConfig.gitHubToken()))\n                .build();\n    }\n\n}\n</code></pre>\n<p>When I start the app, here is exception:</p>\n<pre><code>Parameter 0 of method gitHubWebClientWithBaseUrl in ru.example.edu.java.scrapper.configuration.ClientConfiguration required a bean of type 'java.lang.String' that could not be found.\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679845100,"post_id":75848763,"comment_id":133789784,"body_markdown":"That looks like the return is an empty list, meaning that there is none with quantity larger than zero. You could also use filter() to filter based on the inventory.getQuantity() as well, then map to the InventoryResponse","body":"That looks like the return is an empty list, meaning that there is none with quantity larger than zero. You could also use filter() to filter based on the inventory.getQuantity() as well, then map to the InventoryResponse"}],"owner":{"account_id":8247162,"reputation":21,"user_id":6202897,"display_name":"Tim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679845837,"creation_date":1679845027,"question_id":75848763,"body_markdown":"I would like to check whether databases contains any data that its quantity is larger than zero and the input and output should be a list. but following code return [ ]. Can I know how to do that? Thanks in advance\r\n```\r\n       return inventoryRepository.findBySkuCodeIn(skuCode).stream()\r\n                .map(inventory -&gt;\r\n                        InventoryResponse.builder()\r\n                                .skuCode(inventory.getSkuCode())\r\n                                .isInStock(inventory.getQuantity() &gt; 0)\r\n                                .build()\r\n                ).toList();\r\n```\r\n","title":"Return [ ] instead of item that is inside database Spring boot","body":"<p>I would like to check whether databases contains any data that its quantity is larger than zero and the input and output should be a list. but following code return [ ]. Can I know how to do that? Thanks in advance</p>\n<pre><code>       return inventoryRepository.findBySkuCodeIn(skuCode).stream()\n                .map(inventory -&gt;\n                        InventoryResponse.builder()\n                                .skuCode(inventory.getSkuCode())\n                                .isInStock(inventory.getQuantity() &gt; 0)\n                                .build()\n                ).toList();\n</code></pre>\n"},{"tags":["javascript","java","image","frontend","spark-java"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1679844320,"post_id":75848622,"comment_id":133789643,"body_markdown":"What does this have to do with java?","body":"What does this have to do with java?"},{"owner":{"account_id":19806991,"reputation":15,"user_id":14506732,"display_name":"auf keinsten"},"score":0,"creation_date":1679845189,"post_id":75848622,"comment_id":133789798,"body_markdown":"The rendering of the image on the backend is done in Java (first code block) and I&#39;m not entirely certain if the creation of the response is correct.","body":"The rendering of the image on the backend is done in Java (first code block) and I&#39;m not entirely certain if the creation of the response is correct."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1679845365,"post_id":75848622,"comment_id":133789829,"body_markdown":"Right, but either the problem is with java (which you test by directly pointing a browser, or curl or something) at its URL and check whether the response is a real image, and if it&#39;s not: this is just a java question, no need for anything else. Or if it works fine, this has nothing to do with java, and it&#39;s a question about that fetch block. So: _test that now_ because you&#39;re still the one driving. Fire up your browser and try to load whatever url you have in `RENDER_URL`. Does it work? Cool, you know the problem is on the JS side now. Does it not? Cool, it&#39;s on the Java side.","body":"Right, but either the problem is with java (which you test by directly pointing a browser, or curl or something) at its URL and check whether the response is a real image, and if it&#39;s not: this is just a java question, no need for anything else. Or if it works fine, this has nothing to do with java, and it&#39;s a question about that fetch block. So: <i>test that now</i> because you&#39;re still the one driving. Fire up your browser and try to load whatever url you have in <code>RENDER_URL</code>. Does it work? Cool, you know the problem is on the JS side now. Does it not? Cool, it&#39;s on the Java side."},{"owner":{"account_id":19806991,"reputation":15,"user_id":14506732,"display_name":"auf keinsten"},"score":0,"creation_date":1679846726,"post_id":75848622,"comment_id":133790082,"body_markdown":"Gotcha, thank you for your time and effort","body":"Gotcha, thank you for your time and effort"}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679845506,"creation_date":1679845206,"answer_id":75848778,"question_id":75848622,"body_markdown":"You&#39;re going to at the very least need to fix that JS, because if you&#39;re using `then` on a promise, _all the code_ that has to subsequently kick in has to either be inside that `then` handler, or be in function(s) that are called from inside that `then` handler, or be somewhere in the subsequent `then` chain. The following code does not work:\r\n\r\n```\r\nlet data;\r\n\r\nresponse.blob().then(blobResponse =&gt; {\r\n  data = blobResponse;\r\n})\r\n\r\nurl = URL.createObjectURL(data);\r\n```\r\n\r\nbecause your `url = ...` doesn&#39;t wait for anything: `response.blob()` is a promise, and so we immediately move on to `url = ...` without waiting, and at _some unknown time in the future_, that `then` handler will kick in.\r\n\r\nSo: give the MDN [&quot;Using Promises&quot;](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises) a read, and move all the code that depends on the result of that `then` _into_ the handler. Or, alternatively, mark your context as `async` so that you can use the `await` keyword instead of having to chain `then` handlers.","title":"Rendering an image on a Java-Backend then displaying it in the Frontend","body":"<p>You're going to at the very least need to fix that JS, because if you're using <code>then</code> on a promise, <em>all the code</em> that has to subsequently kick in has to either be inside that <code>then</code> handler, or be in function(s) that are called from inside that <code>then</code> handler, or be somewhere in the subsequent <code>then</code> chain. The following code does not work:</p>\n<pre><code>let data;\n\nresponse.blob().then(blobResponse =&gt; {\n  data = blobResponse;\n})\n\nurl = URL.createObjectURL(data);\n</code></pre>\n<p>because your <code>url = ...</code> doesn't wait for anything: <code>response.blob()</code> is a promise, and so we immediately move on to <code>url = ...</code> without waiting, and at <em>some unknown time in the future</em>, that <code>then</code> handler will kick in.</p>\n<p>So: give the MDN <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\" rel=\"nofollow noreferrer\">&quot;Using Promises&quot;</a> a read, and move all the code that depends on the result of that <code>then</code> <em>into</em> the handler. Or, alternatively, mark your context as <code>async</code> so that you can use the <code>await</code> keyword instead of having to chain <code>then</code> handlers.</p>\n"}],"owner":{"account_id":19806991,"reputation":15,"user_id":14506732,"display_name":"auf keinsten"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75848778,"answer_count":1,"score":0,"last_activity_date":1679845506,"creation_date":1679843797,"question_id":75848622,"body_markdown":"My goal is to have a node-editor in the frontend which passes information on how data is supposed to be rendered as an image to the backend, where the heavy lifting is done, resulting in an image which is then displayed in the browser again.\r\n\r\nTo achieve this, I have a Java Spark-Route looking like this:\r\n\r\n\r\n```\r\n    post(&quot;/render&quot;, (req, res) -&gt; {\r\n\r\n      Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n      ResponsePojo response = gson.fromJson(req.body(), ResponsePojo.class);\r\n\r\n      BufferedImage bi = render(response);\r\n\r\n\r\n      // Write the image data to the response output stream\r\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\r\n        ImageIO.write(bi, &quot;jpeg&quot;, baos);\r\n        res.raw().getOutputStream().write(baos.toByteArray());\r\n        res.raw().getOutputStream().flush();\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n\r\n\r\n      res.type(&quot;image/jpeg&quot;);\r\n      res.status(200);\r\n\r\n      return res;\r\n    });\r\n```\r\n\r\n\r\nCalling this route looks like this:\r\n```\r\n  // Send the request using the fetch() method\r\n  fetch(RENDER_URL, requestOptions)\r\n    .then(response =&gt; {\r\n      //const blob = streamToBlob(response.body, &#39;jpeg&#39;);\r\n\r\n      let data;\r\n      let url;\r\n\r\n      response.blob().then(blobResponse =&gt; {\r\n        data = blobResponse;\r\n      })\r\n\r\n      url = URL.createObjectURL(data);\r\n    })\r\n```\r\n\r\nThis call results in the following error:\r\n\r\n    Error occurred during request: TypeError: URL.createObjectURL: Argument 1 is not valid for any of the 1-argument overloads.\r\n\r\nI&#39;ve also taken a look at the following npm module: https://github.com/feross/stream-to-blob\r\n\r\nWhich results in the following error:\r\n```\r\nUncaught (in promise) TypeError: stream.on is not a function\r\n    streamToBlob2 index.js:13\r\n    streamToBlob2 index.js:10\r\n    sendRenderRequest index.js:95\r\n```\r\nWhat&#39;s confusing to me is that the errors suggest to me that I&#39;m not in fact working with a ReadableStream, however if I console.log() the response.body I do get:\r\n\r\n`Response.body received: ReadableStream { locked: false }`\r\n\r\n\r\nLooking forward to any and all help, thanks in advance for your time and sorry for any obvious oversights, I&#39;m still learning!","title":"Rendering an image on a Java-Backend then displaying it in the Frontend","body":"<p>My goal is to have a node-editor in the frontend which passes information on how data is supposed to be rendered as an image to the backend, where the heavy lifting is done, resulting in an image which is then displayed in the browser again.</p>\n<p>To achieve this, I have a Java Spark-Route looking like this:</p>\n<pre><code>    post(&quot;/render&quot;, (req, res) -&gt; {\n\n      Gson gson = new GsonBuilder().setPrettyPrinting().create();\n      ResponsePojo response = gson.fromJson(req.body(), ResponsePojo.class);\n\n      BufferedImage bi = render(response);\n\n\n      // Write the image data to the response output stream\n      try (ByteArrayOutputStream baos = new ByteArrayOutputStream()) {\n        ImageIO.write(bi, &quot;jpeg&quot;, baos);\n        res.raw().getOutputStream().write(baos.toByteArray());\n        res.raw().getOutputStream().flush();\n      } catch (IOException e) {\n        e.printStackTrace();\n      }\n\n\n      res.type(&quot;image/jpeg&quot;);\n      res.status(200);\n\n      return res;\n    });\n</code></pre>\n<p>Calling this route looks like this:</p>\n<pre><code>  // Send the request using the fetch() method\n  fetch(RENDER_URL, requestOptions)\n    .then(response =&gt; {\n      //const blob = streamToBlob(response.body, 'jpeg');\n\n      let data;\n      let url;\n\n      response.blob().then(blobResponse =&gt; {\n        data = blobResponse;\n      })\n\n      url = URL.createObjectURL(data);\n    })\n</code></pre>\n<p>This call results in the following error:</p>\n<pre><code>Error occurred during request: TypeError: URL.createObjectURL: Argument 1 is not valid for any of the 1-argument overloads.\n</code></pre>\n<p>I've also taken a look at the following npm module: <a href=\"https://github.com/feross/stream-to-blob\" rel=\"nofollow noreferrer\">https://github.com/feross/stream-to-blob</a></p>\n<p>Which results in the following error:</p>\n<pre><code>Uncaught (in promise) TypeError: stream.on is not a function\n    streamToBlob2 index.js:13\n    streamToBlob2 index.js:10\n    sendRenderRequest index.js:95\n</code></pre>\n<p>What's confusing to me is that the errors suggest to me that I'm not in fact working with a ReadableStream, however if I console.log() the response.body I do get:</p>\n<p><code>Response.body received: ReadableStream { locked: false }</code></p>\n<p>Looking forward to any and all help, thanks in advance for your time and sorry for any obvious oversights, I'm still learning!</p>\n"},{"tags":["java","android","libgdx","server"],"comments":[{"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":1,"creation_date":1462017504,"post_id":36954604,"comment_id":61466915,"body_markdown":"Can you post the exact exception and LibGDX version? `AndroidNet` never returns null from the method that you posted. Are you sure that you&#39;re invoking it _after_ the application is already started?","body":"Can you post the exact exception and LibGDX version? <code>AndroidNet</code> never returns null from the method that you posted. Are you sure that you&#39;re invoking it <i>after</i> the application is already started?"},{"owner":{"account_id":4066765,"reputation":153,"user_id":3341396,"accept_rate":86,"display_name":"TAsk"},"score":0,"creation_date":1462017649,"post_id":36954604,"comment_id":61466961,"body_markdown":"Ah, there is the problem, I am not starting an application at all... :P Makes sense.","body":"Ah, there is the problem, I am not starting an application at all... :P Makes sense."},{"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":1,"creation_date":1462017762,"post_id":36954604,"comment_id":61466995,"body_markdown":"`Gdx.net` is null unless you start an application - if you just want to use the networking functionalities, try creating `Net` implementation object manually, for example: `new LwjglNet().newServerSocket(...)`.","body":"<code>Gdx.net</code> is null unless you start an application - if you just want to use the networking functionalities, try creating <code>Net</code> implementation object manually, for example: <code>new LwjglNet().newServerSocket(...)</code>."}],"answers":[{"comments":[{"owner":{"account_id":4066765,"reputation":153,"user_id":3341396,"accept_rate":86,"display_name":"TAsk"},"score":0,"creation_date":1462019009,"post_id":36954739,"comment_id":61467434,"body_markdown":"Thank you, this makes sense! Right now I am getting another problem, though. In my server class, I am unable to import LwjglNet. When trying to run, Gradle says that the package com.badlogic.gdx.backends.lwjgl does not exist. However, if I try to import it in a different class, it works fine. I suspect there is a problem with the build configuration..?","body":"Thank you, this makes sense! Right now I am getting another problem, though. In my server class, I am unable to import LwjglNet. When trying to run, Gradle says that the package com.badlogic.gdx.backends.lwjgl does not exist. However, if I try to import it in a different class, it works fine. I suspect there is a problem with the build configuration..?"},{"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":0,"creation_date":1462019173,"post_id":36954739,"comment_id":61467498,"body_markdown":"You&#39;re probably trying to import this class in `core` project. Core has only, well, core dependencies: the abstractions used by other platforms. `LwjglNet` is a class specific to desktop platform. Core project simply does not have this dependency - I&#39;d suggest making a separate project with [`gdx-backend-headless`](http://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx-backend-headless) if you want a server application.","body":"You&#39;re probably trying to import this class in <code>core</code> project. Core has only, well, core dependencies: the abstractions used by other platforms. <code>LwjglNet</code> is a class specific to desktop platform. Core project simply does not have this dependency - I&#39;d suggest making a separate project with <a href=\"http://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx-backend-headless\" rel=\"nofollow noreferrer\"><code>gdx-backend-headless</code></a> if you want a server application."},{"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"score":0,"creation_date":1462020108,"post_id":36954739,"comment_id":61467812,"body_markdown":"There are several ways to solve NPE issue, it would be helpful to know what you&#39;re trying to achieve. If creating a server socket is a part of pretty much every client application, you can just wait until application is fully created and use `Gdx.net` for cross-platform API. If you want a separate &quot;global&quot; server, try headless backend.","body":"There are several ways to solve NPE issue, it would be helpful to know what you&#39;re trying to achieve. If creating a server socket is a part of pretty much every client application, you can just wait until application is fully created and use <code>Gdx.net</code> for cross-platform API. If you want a separate &quot;global&quot; server, try headless backend."}],"tags":[],"owner":{"account_id":3585651,"reputation":3049,"user_id":2992899,"accept_rate":83,"display_name":"Czyzby"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679845346,"creation_date":1462018120,"answer_id":36954739,"question_id":36954604,"body_markdown":"LibGDX static utility variables start as `null`. They are not assigned immediately (and are not final) to support different implementations on each platform. For example, `Net` implementation that you reference with `Gdx.net` is `null` unless you start an application that actually assigns this value.\r\n\r\nIf you want the server to be a part of your regular client application, try starting the application first and _then_ creating the server socket. If you want a separate server application, you can use the [`headless`](https://github.com/libgdx/libgdx/tree/master/backends/gdx-backend-headless) backend. You can also create `Net` instance manually, for example: `new HeadlessNet().newServerSocket(...)` or `new AndroidNet().newServerSocket(...)`.\r\n\r\n`Net` implementations are basically simple stateless factories on most platforms, so it&#39;s OK to have a few instances of them; even if you construct `Net` instance manually and _then_ create an application, it should cause no problems.","title":"LibGDX: newServerSocket causes null pointer exception","body":"<p>LibGDX static utility variables start as <code>null</code>. They are not assigned immediately (and are not final) to support different implementations on each platform. For example, <code>Net</code> implementation that you reference with <code>Gdx.net</code> is <code>null</code> unless you start an application that actually assigns this value.</p>\n<p>If you want the server to be a part of your regular client application, try starting the application first and <em>then</em> creating the server socket. If you want a separate server application, you can use the <a href=\"https://github.com/libgdx/libgdx/tree/master/backends/gdx-backend-headless\" rel=\"nofollow noreferrer\"><code>headless</code></a> backend. You can also create <code>Net</code> instance manually, for example: <code>new HeadlessNet().newServerSocket(...)</code> or <code>new AndroidNet().newServerSocket(...)</code>.</p>\n<p><code>Net</code> implementations are basically simple stateless factories on most platforms, so it's OK to have a few instances of them; even if you construct <code>Net</code> instance manually and <em>then</em> create an application, it should cause no problems.</p>\n"}],"owner":{"account_id":4066765,"reputation":153,"user_id":3341396,"accept_rate":86,"display_name":"TAsk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36954739,"answer_count":1,"score":0,"last_activity_date":1679845346,"creation_date":1462017325,"question_id":36954604,"body_markdown":"I am trying to start a LibGDX server. I have copied the code from this site: https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/net/PingPongSocketExample.java but I am getting a null pointer exception from the line Server server = Gdx.net.newServerSocket... What is going on?","title":"LibGDX: newServerSocket causes null pointer exception","body":"<p>I am trying to start a LibGDX server. I have copied the code from this site: <a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/net/PingPongSocketExample.java\" rel=\"nofollow\">https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests/src/com/badlogic/gdx/tests/net/PingPongSocketExample.java</a> but I am getting a null pointer exception from the line Server server = Gdx.net.newServerSocket... What is going on?</p>\n"},{"tags":["java","flutter","gradle"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1679844359,"post_id":75848674,"comment_id":133789654,"body_markdown":"try this? https://stackoverflow.com/questions/72361482/gradle-task-assembledebug-failed-with-exit-code-1-because-could-not-find-or-l","body":"try this? <a href=\"https://stackoverflow.com/questions/72361482/gradle-task-assembledebug-failed-with-exit-code-1-because-could-not-find-or-l\" title=\"gradle task assembledebug failed with exit code 1 because could not find or l\">stackoverflow.com/questions/72361482/&hellip;</a>"}],"owner":{"account_id":27819629,"reputation":11,"user_id":21240311,"display_name":"Majid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679844215,"creation_date":1679844215,"question_id":75848674,"body_markdown":"flutter run gradle error please help me\r\n\r\ngradle error i cant use emulator \r\n\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\r\nException: Gradle task assembleDebug failed with exit code 1\r\n","title":"Exception: Gradle task assembleDebug failed with exit code 1 gradle","body":"<p>flutter run gradle error please help me</p>\n<p>gradle error i cant use emulator</p>\n<p>Running Gradle task 'assembleDebug'...\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\nException: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17380095,"reputation":697,"user_id":12592517,"display_name":"Swapnil Padaya"},"score":1,"creation_date":1633994631,"post_id":69533327,"comment_id":122902964,"body_markdown":"You can have a look over here [Java Docs for FileFilter](https://docs.oracle.com/javase/6/docs/api/java/io/FilenameFilter.html) it&#39;s of form `listFiles(FilenameFilter filter)` and for naming the file you can use `for loop` to increment number if filename is already present","body":"You can have a look over here <a href=\"https://docs.oracle.com/javase/6/docs/api/java/io/FilenameFilter.html\" rel=\"nofollow noreferrer\">Java Docs for FileFilter</a> it&#39;s of form <code>listFiles(FilenameFilter filter)</code> and for naming the file you can use <code>for loop</code> to increment number if filename is already present"}],"answers":[{"comments":[{"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"score":0,"creation_date":1633995459,"post_id":69533530,"comment_id":122903085,"body_markdown":"I understand where you are coming from. I&#39;ve updated the question. You are right this algorithm will require some type of looping.","body":"I understand where you are coming from. I&#39;ve updated the question. You are right this algorithm will require some type of looping."}],"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634030535,"creation_date":1633995346,"answer_id":69533530,"question_id":69533327,"body_markdown":"A problem that seems trivial but has so many pitfalls. \r\n\r\nThe algorithm you wrote won&#39;t work for the following reasons:\r\n1. Simple if-else is not enough, you need to go through a loop to find the last index, because potentially there could be many files created already.\r\n2. Else block tries to find an index from the file name that should&#39;t have one.\r\n\r\nMoreover, there are additional questions that may raise.\r\n - What if someone deleted the intermediate indexes and now you have 1 and 4, do you want to go with 2 or 5?\r\n - Can someone delete the files from the directory except the programm? \r\n - Are nested directories possible?\r\n - How often files are created?  \r\n - Can someone manually create a file with a proper name bypassing the programm?\r\n\r\nAnd more importand question is - do you really want to stick to the strict brute-force counter on the actual files listed in a directory?\r\n\r\nIf the answer is yes, the more reasonable would be to check the files using [File.list()](https://docs.oracle.com/javase/7/docs/api/java/io/File.html#list()), sort them, take the last index and increment them instead of trying to create a file and increment on a failure.\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            File directoryPath = new File(&quot;path_to_your_dir&quot;);\r\n    \r\n            FilenameFilter filenameFilter = (dir, name) -&gt; !dir.isFile();\r\n            Integer maxIndex = Arrays.stream(directoryPath.list(filenameFilter))\r\n                    // Take numeric index from the end of the file name, beware of file extensions!\r\n                    .map(name -&gt; name.substring(&quot;word_match&quot;.length(), name.lastIndexOf(&#39;.&#39;)))\r\n                    .map(Main::parseOrDefault) // Parse it to a number\r\n                    .max(Integer::compareTo) // Define how to compare them\r\n                    .orElse(-1);\r\n            // -1 is no files, 0 if a file with no index, otherwise max index\r\n            System.out.println(maxIndex);\r\n        }\r\n    \r\n        private static Integer parseOrDefault(String integer) {\r\n            try {\r\n                return Integer.valueOf(integer);\r\n            } catch (NumberFormatException e) {\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n\r\nIf the answer is no, you can have a counter that is persisted somewhere (file system, BD) and incremented regardless every time. \r\nAnd more simple approach is establish a frequence of file creations and simply append a timestamp/date-time to the end of each file.\r\n\r\n\r\n","title":"How to write a method that increments a file name in Java","body":"<p>A problem that seems trivial but has so many pitfalls.</p>\n<p>The algorithm you wrote won't work for the following reasons:</p>\n<ol>\n<li>Simple if-else is not enough, you need to go through a loop to find the last index, because potentially there could be many files created already.</li>\n<li>Else block tries to find an index from the file name that should't have one.</li>\n</ol>\n<p>Moreover, there are additional questions that may raise.</p>\n<ul>\n<li>What if someone deleted the intermediate indexes and now you have 1 and 4, do you want to go with 2 or 5?</li>\n<li>Can someone delete the files from the directory except the programm?</li>\n<li>Are nested directories possible?</li>\n<li>How often files are created?</li>\n<li>Can someone manually create a file with a proper name bypassing the programm?</li>\n</ul>\n<p>And more importand question is - do you really want to stick to the strict brute-force counter on the actual files listed in a directory?</p>\n<p>If the answer is yes, the more reasonable would be to check the files using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#list()\" rel=\"nofollow noreferrer\">File.list()</a>, sort them, take the last index and increment them instead of trying to create a file and increment on a failure.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        File directoryPath = new File(&quot;path_to_your_dir&quot;);\n\n        FilenameFilter filenameFilter = (dir, name) -&gt; !dir.isFile();\n        Integer maxIndex = Arrays.stream(directoryPath.list(filenameFilter))\n                // Take numeric index from the end of the file name, beware of file extensions!\n                .map(name -&gt; name.substring(&quot;word_match&quot;.length(), name.lastIndexOf('.')))\n                .map(Main::parseOrDefault) // Parse it to a number\n                .max(Integer::compareTo) // Define how to compare them\n                .orElse(-1);\n        // -1 is no files, 0 if a file with no index, otherwise max index\n        System.out.println(maxIndex);\n    }\n\n    private static Integer parseOrDefault(String integer) {\n        try {\n            return Integer.valueOf(integer);\n        } catch (NumberFormatException e) {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>If the answer is no, you can have a counter that is persisted somewhere (file system, BD) and incremented regardless every time.\nAnd more simple approach is establish a frequence of file creations and simply append a timestamp/date-time to the end of each file.</p>\n"},{"comments":[{"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"score":0,"creation_date":1633998372,"post_id":69533617,"comment_id":122903476,"body_markdown":"Where are you getting Files from?","body":"Where are you getting Files from?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1633998659,"post_id":69533617,"comment_id":122903518,"body_markdown":"@harry - a good simple solution.  Personally I prefer just to add the millis on to the end, so that sorting is always good.","body":"@harry - a good simple solution.  Personally I prefer just to add the millis on to the end, so that sorting is always good."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1634001372,"post_id":69533617,"comment_id":122903905,"body_markdown":"@ScaryWombat, yes it is also a kind of pattern that can be used for file naming","body":"@ScaryWombat, yes it is also a kind of pattern that can be used for file naming"}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633996463,"creation_date":1633996463,"answer_id":69533617,"question_id":69533327,"body_markdown":"A simple approach will be count the number of files matching your file name and then increment the `numberOfFiles` to create a new file name : \r\n\r\n    Stream&lt;Path&gt; files = Files.list(Paths.get(&quot;C:\\\\your\\\\local\\\\path&quot;));\r\n    long numberOfFiles = files.map(Path.class::cast)\r\n                              .filter(path -&gt; path.getFileName().toString().startsWith(&quot;wordmatch&quot;))\r\n                              .count();\r\n\r\nAfter all you have to manage certains situations, to have a good algorithm for managing your files.","title":"How to write a method that increments a file name in Java","body":"<p>A simple approach will be count the number of files matching your file name and then increment the <code>numberOfFiles</code> to create a new file name :</p>\n<pre><code>Stream&lt;Path&gt; files = Files.list(Paths.get(&quot;C:\\\\your\\\\local\\\\path&quot;));\nlong numberOfFiles = files.map(Path.class::cast)\n                          .filter(path -&gt; path.getFileName().toString().startsWith(&quot;wordmatch&quot;))\n                          .count();\n</code></pre>\n<p>After all you have to manage certains situations, to have a good algorithm for managing your files.</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679844214,"creation_date":1633993328,"question_id":69533327,"body_markdown":"I am writing a method that takes a a string of html and writes it to a file. The method should increment the file name if the file already exists. For example, if `wordmatch.html` already exists then a new file should be created `wordmatch1.html` so and so fourth. \r\n\r\nI have created a method that writes the html to a file. I&#39;m working on the last part to incrementally change the name of a new file if the file already exists.\r\n\r\n    public void saveContent(WordMatch wordMatch){\r\n\t\tlogger.info(wordMatch);\r\n\t\ttry {\r\n\t\tFile file = new File(&quot;wordmatch0.html&quot;);\r\n\t\tString html = wordMatch.toString();\r\n\t\tString cleanedHTML = html.replace(&quot;WordMatch(content=&quot;,&quot;&quot;).replace(&quot;)&quot;,&quot;&quot;);\r\n\t\tlogger.info(cleanedHTML);\r\n\t\tif (file.createNewFile()) {\r\n\t\t\tSystem.out.println(&quot;File created: &quot; + file.getName());\r\n\t\t\ttry {\r\n\t\t\t\tFileWriter myWriter = new FileWriter(&quot;word_match.html&quot;);\r\n\t\t\t\tmyWriter.write(cleanedHTML);\r\n\t\t\t\tmyWriter.close();\r\n\t\t\t\tSystem.out.println(&quot;Successfully wrote to the file.&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tString fileName = file.getName().toString();\r\n\t\t\tString index = fileName.substring(fileName.indexOf(&quot;h&quot;) + 1);\r\n\t\t\tindex = index.substring(0, index.indexOf(&quot;.&quot;));\r\n\t\t\tInteger parsedInt = Integer.parseInt(index);\r\n\t\t\tSystem.out.println(parsedInt);\r\n\t\t\tparsedInt+=1;\r\n\t\t\tfileName = fileName.replace(index,parsedInt.toString());\r\n\t\t\tSystem.out.println(fileName);\r\n\t\t\tSystem.out.println(&quot;fileName should have been printed by now&quot;);\r\n\t\t\tfile = new File(fileName);\r\n\t\t\tFileWriter myWriter = new FileWriter(file);\r\n\t\t\tmyWriter.write(cleanedHTML);\r\n\t\t\tmyWriter.close();\r\n\t\t\t//TODO add method to write file name with new index\r\n\t\t\tSystem.out.println(&quot;File already exists.&quot;);\r\n\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nWhat can I try next?\r\n","title":"How to write a method that increments a file name in Java","body":"<p>I am writing a method that takes a a string of html and writes it to a file. The method should increment the file name if the file already exists. For example, if <code>wordmatch.html</code> already exists then a new file should be created <code>wordmatch1.html</code> so and so fourth.</p>\n<p>I have created a method that writes the html to a file. I'm working on the last part to incrementally change the name of a new file if the file already exists.</p>\n<pre><code>public void saveContent(WordMatch wordMatch){\n    logger.info(wordMatch);\n    try {\n    File file = new File(&quot;wordmatch0.html&quot;);\n    String html = wordMatch.toString();\n    String cleanedHTML = html.replace(&quot;WordMatch(content=&quot;,&quot;&quot;).replace(&quot;)&quot;,&quot;&quot;);\n    logger.info(cleanedHTML);\n    if (file.createNewFile()) {\n        System.out.println(&quot;File created: &quot; + file.getName());\n        try {\n            FileWriter myWriter = new FileWriter(&quot;word_match.html&quot;);\n            myWriter.write(cleanedHTML);\n            myWriter.close();\n            System.out.println(&quot;Successfully wrote to the file.&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n    } else {\n        String fileName = file.getName().toString();\n        String index = fileName.substring(fileName.indexOf(&quot;h&quot;) + 1);\n        index = index.substring(0, index.indexOf(&quot;.&quot;));\n        Integer parsedInt = Integer.parseInt(index);\n        System.out.println(parsedInt);\n        parsedInt+=1;\n        fileName = fileName.replace(index,parsedInt.toString());\n        System.out.println(fileName);\n        System.out.println(&quot;fileName should have been printed by now&quot;);\n        file = new File(fileName);\n        FileWriter myWriter = new FileWriter(file);\n        myWriter.write(cleanedHTML);\n        myWriter.close();\n        //TODO add method to write file name with new index\n        System.out.println(&quot;File already exists.&quot;);\n    }\n    } catch (IOException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace();\n    }\n}\n</code></pre>\n<p>What can I try next?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":1528808,"reputation":6784,"user_id":1426565,"accept_rate":29,"display_name":"Cruceo"},"score":0,"creation_date":1633886182,"post_id":69516689,"comment_id":122874114,"body_markdown":"What happens in `adapter.startListening()`? The exception is definitely in your `MainActivity`/`NoteAdapter`","body":"What happens in <code>adapter.startListening()</code>? The exception is definitely in your <code>MainActivity</code>/<code>NoteAdapter</code>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633937660,"post_id":69516689,"comment_id":122883347,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"score":0,"creation_date":1633945833,"post_id":69516689,"comment_id":122886508,"body_markdown":"I dont know which line is giving that error. It only happens when i add new data to firestore","body":"I dont know which line is giving that error. It only happens when i add new data to firestore"},{"owner":{"account_id":21414747,"reputation":1040,"user_id":15774176,"display_name":"Divyani Yadav"},"score":0,"creation_date":1633953063,"post_id":69516689,"comment_id":122889105,"body_markdown":"@caneraltuner can you refer to the link :https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in is it helpful?","body":"@caneraltuner can you refer to the link :<a href=\"https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in\" title=\"recyclerview and java lang indexoutofboundsexception inconsistency detected in\">stackoverflow.com/questions/31759171/&hellip;</a> is it helpful?"},{"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"score":0,"creation_date":1634021450,"post_id":69516689,"comment_id":122907581,"body_markdown":"@DivyaniYadav it helped me thank you.","body":"@DivyaniYadav it helped me thank you."},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682588388,"post_id":69516689,"comment_id":134240846,"body_markdown":"Though this workaround solves the original problem, it&#39;s not recommended to solve it this way. You just ignores the exception, which can lead to the inconsistent state of RecyclerView, which can lead to other crashes.","body":"Though this workaround solves the original problem, it&#39;s not recommended to solve it this way. You just ignores the exception, which can lead to the inconsistent state of RecyclerView, which can lead to other crashes."}],"answers":[{"comments":[{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":1,"creation_date":1682588362,"post_id":69536288,"comment_id":134240839,"body_markdown":"Though this workaround solves the original problem, it&#39;s not recommended to solve it this way. You just ignores the exception, which can lead to the inconsistent state of RecyclerView, which can lead to other crashes.","body":"Though this workaround solves the original problem, it&#39;s not recommended to solve it this way. You just ignores the exception, which can lead to the inconsistent state of RecyclerView, which can lead to other crashes."}],"tags":[],"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"comment_count":1,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1634073941,"creation_date":1634021876,"answer_id":69536288,"question_id":69516689,"body_markdown":"I solved my problem. The problem happens in `MainActivity`, it is caused by `RecyclerView` Data that has been modified in different thread. checking all data access and wrapping `LinearLayoutManager` would be considered as a solution. \r\n\r\nI wrote the code gave by @sakiM at first answer: https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in?page=1&amp;tab=votes#tab-top\r\nHere is the code:\r\n\r\n    public class WrapContentLinearLayoutManager extends LinearLayoutManager {\r\n        public WrapContentLinearLayoutManager(Context context) {\r\n            super(context);\r\n        }\r\n\r\n        public WrapContentLinearLayoutManager(Context context, int orientation, boolean reverseLayout) {\r\n            super(context, orientation, reverseLayout);\r\n        }\r\n\r\n        public WrapContentLinearLayoutManager(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n        }\r\n\r\n        @Override\r\n        public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\r\n            try {\r\n                super.onLayoutChildren(recycler, state);\r\n            } catch (IndexOutOfBoundsException e) {\r\n                Log.e(&quot;TAG&quot;, &quot;meet a IOOBE in RecyclerView&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n- Then i matched my `RecyclerView` to `WrapContentLinearLayoutManager` \r\n\r\nHere is the code:\r\n\r\n`RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\r\n    recyclerView.setLayoutManager(new WrapContentLinearLayoutManager(this,LinearLayoutManager.VERTICAL,false));`\r\n\r\nThank you all, have a nice day","title":"Inconsistency Detected Invalid View Holder Adapter Error","body":"<p>I solved my problem. The problem happens in <code>MainActivity</code>, it is caused by <code>RecyclerView</code> Data that has been modified in different thread. checking all data access and wrapping <code>LinearLayoutManager</code> would be considered as a solution.</p>\n<p>I wrote the code gave by @sakiM at first answer: <a href=\"https://stackoverflow.com/questions/31759171/recyclerview-and-java-lang-indexoutofboundsexception-inconsistency-detected-in?page=1&amp;tab=votes#tab-top\">RecyclerView and java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionViewHolder in Samsung devices</a>\nHere is the code:</p>\n<pre><code>public class WrapContentLinearLayoutManager extends LinearLayoutManager {\n    public WrapContentLinearLayoutManager(Context context) {\n        super(context);\n    }\n\n    public WrapContentLinearLayoutManager(Context context, int orientation, boolean reverseLayout) {\n        super(context, orientation, reverseLayout);\n    }\n\n    public WrapContentLinearLayoutManager(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n    }\n\n    @Override\n    public void onLayoutChildren(RecyclerView.Recycler recycler, RecyclerView.State state) {\n        try {\n            super.onLayoutChildren(recycler, state);\n        } catch (IndexOutOfBoundsException e) {\n            Log.e(&quot;TAG&quot;, &quot;meet a IOOBE in RecyclerView&quot;);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Then i matched my <code>RecyclerView</code> to <code>WrapContentLinearLayoutManager</code></li>\n</ul>\n<p>Here is the code:</p>\n<p><code>RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view); recyclerView.setLayoutManager(new WrapContentLinearLayoutManager(this,LinearLayoutManager.VERTICAL,false));</code></p>\n<p>Thank you all, have a nice day</p>\n"}],"owner":{"account_id":14285432,"reputation":262,"user_id":10318887,"display_name":"caneraltuner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11865,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69536288,"answer_count":1,"score":2,"last_activity_date":1679843926,"creation_date":1633880927,"question_id":69516689,"body_markdown":"I made an application running with Firestore for my school project. When I add the first query there is no problem but if I want to add the second one and go back to `MainActivity`, I get this error and the application dies.\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.caneraltuner.cepanket2, PID: 13240\r\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionNoteHolder{f9f3667 position=2 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{c64d4da VFED..... ........ 0,0-1080,1584 #7f0801de app:id/recycler_view}, adapter:com.caneraltuner.cepanket2.NoteAdapter@2549b6d, layout:androidx.recyclerview.widget.LinearLayoutManager@8af93a2, context:com.caneraltuner.cepanket2.MainActivity@c95bf4d\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6156)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6339)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4255)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4010)\r\n        at androidx.recyclerview.widget.RecyclerView.consumePendingUpdateOperations(RecyclerView.java:2028)\r\n        at androidx.recyclerview.widget.RecyclerView$1.run(RecyclerView.java:417)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:727)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n        I/Process: Sending signal. PID: 13240 SIG: 9\r\n\r\nCode in MainActivity:\r\n\r\n    package com.caneraltuner.cepanket2;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.firestore.CollectionReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.Query;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    private CollectionReference notebookRef = db.collection(&quot;Cevaplar&quot;);\r\n    private NoteAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        FloatingActionButton button = findViewById(R.id.button_add_note);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(MainActivity.this, NewNoteActivity.class));\r\n            }\r\n        });\r\n        setUpRecyclerView();\r\n    }\r\n\r\n    private void setUpRecyclerView() {\r\n        Query query = notebookRef.orderBy(&quot;priority&quot;, Query.Direction.DESCENDING);\r\n        FirestoreRecyclerOptions&lt;Note&gt; options = new FirestoreRecyclerOptions.Builder&lt;Note&gt;()\r\n                .setQuery(query, Note.class)\r\n                .build();\r\n        adapter = new NoteAdapter(options);\r\n        RecyclerView recyclerView = findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\r\n            @Override\r\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n                adapter.deleteItem(viewHolder.getAdapterPosition());\r\n            }\r\n        }).attachToRecyclerView(recyclerView);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n    }\r\n\r\nCode in NewNoteActivity:\r\n\r\n    package com.caneraltuner.cepanket2;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.MenuInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.Toast;\r\n\r\n    import com.firebase.ui.firestore.FirestoreRecyclerOptions;\r\n    import com.google.firebase.firestore.CollectionReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.Query;\r\n\r\n    public class NewNoteActivity extends AppCompatActivity {\r\n\r\n    private RadioButton radioButton, radioButton2, radioButton3, radioButton4, radioButton5, radioButton6,\r\n            radioButton7, radioButton8, radioButton9, radioButton10, radioButton11, radioButton12;\r\n    String cevap1, cevap2, cevap3, cevap4;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_note);\r\n\r\n        getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_close);\r\n        setTitle(&quot;Yeni Anket Yap&quot;);\r\n\r\n        radioButton = findViewById(R.id.radioButton);\r\n        radioButton2 = findViewById(R.id.radioButton2);\r\n        radioButton3 = findViewById(R.id.radioButton3);\r\n        radioButton4 = findViewById(R.id.radioButton4);\r\n        radioButton5 = findViewById(R.id.radioButton5);\r\n        radioButton6 = findViewById(R.id.radioButton6);\r\n        radioButton7 = findViewById(R.id.radioButton7);\r\n        radioButton8 = findViewById(R.id.radioButton8);\r\n        radioButton9 = findViewById(R.id.radioButton9);\r\n        radioButton10 = findViewById(R.id.radioButton10);\r\n        radioButton11 = findViewById(R.id.radioButton11);\r\n        radioButton12 = findViewById(R.id.radioButton12);\r\n    }\r\n\r\n    public void onRadioButtonClicked(View view) {\r\n        //RadioButton tıklama kontrol&#252;\r\n        boolean kontrol = ((RadioButton) view).isChecked();\r\n\r\n        // Hangi RadioButton&#39;ın tıklandığının kontrol&#252;\r\n        switch (view.getId()) {\r\n            case R.id.radioButton:\r\n                if (kontrol)\r\n                    cevap1 = radioButton.getText().toString();\r\n                break;\r\n            case R.id.radioButton2:\r\n                if (kontrol)\r\n                    cevap1 = radioButton2.getText().toString();\r\n                break;\r\n            case R.id.radioButton3:\r\n                if (kontrol)\r\n                    cevap1 = radioButton3.getText().toString();\r\n                break;\r\n            case R.id.radioButton4:\r\n                if (kontrol)\r\n                    cevap2 = radioButton4.getText().toString();\r\n                break;\r\n            case R.id.radioButton5:\r\n                if (kontrol)\r\n                    cevap2 = radioButton5.getText().toString();\r\n                break;\r\n            case R.id.radioButton6:\r\n                if (kontrol)\r\n                    cevap2 = radioButton6.getText().toString();\r\n                break;\r\n            case R.id.radioButton7:\r\n                if (kontrol)\r\n                    cevap3 = radioButton7.getText().toString();\r\n                break;\r\n            case R.id.radioButton8:\r\n                if (kontrol)\r\n                    cevap3 = radioButton8.getText().toString();\r\n                break;\r\n            case R.id.radioButton9:\r\n                if (kontrol)\r\n                    cevap3 = radioButton9.getText().toString();\r\n                break;\r\n            case R.id.radioButton10:\r\n                if (kontrol)\r\n                    cevap4 = radioButton10.getText().toString();\r\n                break;\r\n            case R.id.radioButton11:\r\n                if(kontrol)\r\n                    cevap4 = radioButton11.getText().toString();\r\n            case R.id.radioButton12:\r\n                if(kontrol)\r\n                    cevap4 = radioButton12.getText().toString();\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater menuInflater = getMenuInflater();\r\n        menuInflater.inflate(R.menu.new_note_menu, menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.save_note:\r\n                saveNote();\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    private void saveNote() {\r\n        String title = &quot;Anket&quot;;\r\n        int priority = 1;\r\n        if (cevap1.equals(&quot;&quot;) || cevap2.equals(&quot;&quot;) || cevap3.equals(&quot;&quot;) || cevap4.equals(&quot;&quot;)) {\r\n            Toast.makeText(this, &quot;L&#252;tfen t&#252;m cevapları eksiksiz se&#231;in&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        CollectionReference reference = FirebaseFirestore.getInstance().collection(&quot;Cevaplar&quot;);\r\n        reference.add(new Note(title, cevap1, cevap2, cevap3, cevap4, priority));\r\n        Toast.makeText(this, &quot;Cevaplar kaydedildi&quot;, Toast.LENGTH_SHORT).show();\r\n        finish();\r\n    }\r\n\r\n    }","title":"Inconsistency Detected Invalid View Holder Adapter Error","body":"<p>I made an application running with Firestore for my school project. When I add the first query there is no problem but if I want to add the second one and go back to <code>MainActivity</code>, I get this error and the application dies.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.caneraltuner.cepanket2, PID: 13240\njava.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionNoteHolder{f9f3667 position=2 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{c64d4da VFED..... ........ 0,0-1080,1584 #7f0801de app:id/recycler_view}, adapter:com.caneraltuner.cepanket2.NoteAdapter@2549b6d, layout:androidx.recyclerview.widget.LinearLayoutManager@8af93a2, context:com.caneraltuner.cepanket2.MainActivity@c95bf4d\n    at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6156)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6339)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\n    at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n    at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4255)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4010)\n    at androidx.recyclerview.widget.RecyclerView.consumePendingUpdateOperations(RecyclerView.java:2028)\n    at androidx.recyclerview.widget.RecyclerView$1.run(RecyclerView.java:417)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:796)\n    at android.view.Choreographer.doFrame(Choreographer.java:727)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n    I/Process: Sending signal. PID: 13240 SIG: 9\n</code></pre>\n<p>Code in MainActivity:</p>\n<pre><code>package com.caneraltuner.cepanket2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\npublic class MainActivity extends AppCompatActivity {\nprivate FirebaseFirestore db = FirebaseFirestore.getInstance();\nprivate CollectionReference notebookRef = db.collection(&quot;Cevaplar&quot;);\nprivate NoteAdapter adapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    FloatingActionButton button = findViewById(R.id.button_add_note);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startActivity(new Intent(MainActivity.this, NewNoteActivity.class));\n        }\n    });\n    setUpRecyclerView();\n}\n\nprivate void setUpRecyclerView() {\n    Query query = notebookRef.orderBy(&quot;priority&quot;, Query.Direction.DESCENDING);\n    FirestoreRecyclerOptions&lt;Note&gt; options = new FirestoreRecyclerOptions.Builder&lt;Note&gt;()\n            .setQuery(query, Note.class)\n            .build();\n    adapter = new NoteAdapter(options);\n    RecyclerView recyclerView = findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    recyclerView.setAdapter(adapter);\n\n    new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT | ItemTouchHelper.RIGHT) {\n        @Override\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n            return false;\n        }\n\n        @Override\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n            adapter.deleteItem(viewHolder.getAdapterPosition());\n        }\n    }).attachToRecyclerView(recyclerView);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    adapter.startListening();\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n    adapter.stopListening();\n}\n}\n</code></pre>\n<p>Code in NewNoteActivity:</p>\n<pre><code>package com.caneraltuner.cepanket2;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\nimport com.firebase.ui.firestore.FirestoreRecyclerOptions;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\npublic class NewNoteActivity extends AppCompatActivity {\n\nprivate RadioButton radioButton, radioButton2, radioButton3, radioButton4, radioButton5, radioButton6,\n        radioButton7, radioButton8, radioButton9, radioButton10, radioButton11, radioButton12;\nString cevap1, cevap2, cevap3, cevap4;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_new_note);\n\n    getSupportActionBar().setHomeAsUpIndicator(R.drawable.ic_close);\n    setTitle(&quot;Yeni Anket Yap&quot;);\n\n    radioButton = findViewById(R.id.radioButton);\n    radioButton2 = findViewById(R.id.radioButton2);\n    radioButton3 = findViewById(R.id.radioButton3);\n    radioButton4 = findViewById(R.id.radioButton4);\n    radioButton5 = findViewById(R.id.radioButton5);\n    radioButton6 = findViewById(R.id.radioButton6);\n    radioButton7 = findViewById(R.id.radioButton7);\n    radioButton8 = findViewById(R.id.radioButton8);\n    radioButton9 = findViewById(R.id.radioButton9);\n    radioButton10 = findViewById(R.id.radioButton10);\n    radioButton11 = findViewById(R.id.radioButton11);\n    radioButton12 = findViewById(R.id.radioButton12);\n}\n\npublic void onRadioButtonClicked(View view) {\n    //RadioButton tıklama kontrolü\n    boolean kontrol = ((RadioButton) view).isChecked();\n\n    // Hangi RadioButton'ın tıklandığının kontrolü\n    switch (view.getId()) {\n        case R.id.radioButton:\n            if (kontrol)\n                cevap1 = radioButton.getText().toString();\n            break;\n        case R.id.radioButton2:\n            if (kontrol)\n                cevap1 = radioButton2.getText().toString();\n            break;\n        case R.id.radioButton3:\n            if (kontrol)\n                cevap1 = radioButton3.getText().toString();\n            break;\n        case R.id.radioButton4:\n            if (kontrol)\n                cevap2 = radioButton4.getText().toString();\n            break;\n        case R.id.radioButton5:\n            if (kontrol)\n                cevap2 = radioButton5.getText().toString();\n            break;\n        case R.id.radioButton6:\n            if (kontrol)\n                cevap2 = radioButton6.getText().toString();\n            break;\n        case R.id.radioButton7:\n            if (kontrol)\n                cevap3 = radioButton7.getText().toString();\n            break;\n        case R.id.radioButton8:\n            if (kontrol)\n                cevap3 = radioButton8.getText().toString();\n            break;\n        case R.id.radioButton9:\n            if (kontrol)\n                cevap3 = radioButton9.getText().toString();\n            break;\n        case R.id.radioButton10:\n            if (kontrol)\n                cevap4 = radioButton10.getText().toString();\n            break;\n        case R.id.radioButton11:\n            if(kontrol)\n                cevap4 = radioButton11.getText().toString();\n        case R.id.radioButton12:\n            if(kontrol)\n                cevap4 = radioButton12.getText().toString();\n            break;\n    }\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater menuInflater = getMenuInflater();\n    menuInflater.inflate(R.menu.new_note_menu, menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.save_note:\n            saveNote();\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n\nprivate void saveNote() {\n    String title = &quot;Anket&quot;;\n    int priority = 1;\n    if (cevap1.equals(&quot;&quot;) || cevap2.equals(&quot;&quot;) || cevap3.equals(&quot;&quot;) || cevap4.equals(&quot;&quot;)) {\n        Toast.makeText(this, &quot;Lütfen tüm cevapları eksiksiz seçin&quot;, Toast.LENGTH_SHORT).show();\n        return;\n    }\n\n    CollectionReference reference = FirebaseFirestore.getInstance().collection(&quot;Cevaplar&quot;);\n    reference.add(new Note(title, cevap1, cevap2, cevap3, cevap4, priority));\n    Toast.makeText(this, &quot;Cevaplar kaydedildi&quot;, Toast.LENGTH_SHORT).show();\n    finish();\n}\n\n}\n</code></pre>\n"},{"tags":["java","colors","ansi-escape","jcreator"],"answers":[{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445614390,"creation_date":1445614390,"answer_id":33306253,"question_id":33306146,"body_markdown":"There is no concept of color with System.out. Its an abstraction that is used to output text to any kind of target, be it the console of an IDE, a file or a NULL target that discards the output.\r\n\r\nANSI codes are understood *only* by an ANSI compatible console, for example the windows command line prompt. So *if* you run your code from cmd (without redirecting the output), you will see the codes take effect. In your IDE&#39;s console they wont.","title":"Color in JCreator","body":"<p>There is no concept of color with System.out. Its an abstraction that is used to output text to any kind of target, be it the console of an IDE, a file or a NULL target that discards the output.</p>\n\n<p>ANSI codes are understood <em>only</em> by an ANSI compatible console, for example the windows command line prompt. So <em>if</em> you run your code from cmd (without redirecting the output), you will see the codes take effect. In your IDE's console they wont.</p>\n"}],"owner":{"account_id":7170093,"reputation":11,"user_id":5477857,"display_name":"jmm8398"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1940,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679843923,"creation_date":1445614093,"question_id":33306146,"body_markdown":"When trying to use the ANSI escape codes, it would not work. I would assume this is because `JCreator` does not support these escape codes. Is there any other way to print out color when using `System.out.println`? The ANSI codes I am using is below along with what I am trying to print as a trial. The code is inside a class and it is running properly.\r\n\r\n    final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n\tfinal String ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n    final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n    final String ANSI_GREEN = &quot;\\u001B[32m&quot;;\r\n    final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\r\n    final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\r\n    final String ANSI_PURPLE = &quot;\\u001B[35m&quot;;\r\n    final String ANSI_CYAN = &quot;\\u001B[36m&quot;;\r\n    final String ANSI_WHITE = &quot;\\u001B[37m&quot;;\r\n    System.out.println(ANSI_RED + &quot;This text is red!&quot; + ANSI_RESET);\r\n\r\n","title":"Color in JCreator","body":"<p>When trying to use the ANSI escape codes, it would not work. I would assume this is because <code>JCreator</code> does not support these escape codes. Is there any other way to print out color when using <code>System.out.println</code>? The ANSI codes I am using is below along with what I am trying to print as a trial. The code is inside a class and it is running properly.</p>\n\n<pre><code>final String ANSI_RESET = \"\\u001B[0m\";\nfinal String ANSI_BLACK = \"\\u001B[30m\";\nfinal String ANSI_RED = \"\\u001B[31m\";\nfinal String ANSI_GREEN = \"\\u001B[32m\";\nfinal String ANSI_YELLOW = \"\\u001B[33m\";\nfinal String ANSI_BLUE = \"\\u001B[34m\";\nfinal String ANSI_PURPLE = \"\\u001B[35m\";\nfinal String ANSI_CYAN = \"\\u001B[36m\";\nfinal String ANSI_WHITE = \"\\u001B[37m\";\nSystem.out.println(ANSI_RED + \"This text is red!\" + ANSI_RESET);\n</code></pre>\n"},{"tags":["java","spring-boot","grpc"],"answers":[{"tags":[],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679843783,"creation_date":1679843783,"answer_id":75848618,"question_id":75847215,"body_markdown":"My solution to the problem: I did not have a gRpc server, I tried to catch a connection with the Spring server, it turns out that I need to write it:\r\n```\r\npublic class GrpcRunner {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        Server server = ServerBuilder\r\n                .forPort(9020)\r\n                .addService(new GrpcServer()).build();\r\n\r\n        System.out.println(&quot;мы запускаемся&quot;);\r\n        server.start();\r\n        System.out.println(&quot;мы запустились&quot;);\r\n        server.awaitTermination();\r\n    }\r\n}\r\n```\r\nThere seems to be a dependency called: **grpc-spring-boot-starter**\r\nIt will allow you to run the gRpc server with spring, but unfortunately, it is not installed for me..","title":"UNAVAILABLE: Network closed for unknown reason gRpc spring boot","body":"<p>My solution to the problem: I did not have a gRpc server, I tried to catch a connection with the Spring server, it turns out that I need to write it:</p>\n<pre><code>public class GrpcRunner {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        Server server = ServerBuilder\n                .forPort(9020)\n                .addService(new GrpcServer()).build();\n\n        System.out.println(&quot;мы запускаемся&quot;);\n        server.start();\n        System.out.println(&quot;мы запустились&quot;);\n        server.awaitTermination();\n    }\n}\n</code></pre>\n<p>There seems to be a dependency called: <strong>grpc-spring-boot-starter</strong>\nIt will allow you to run the gRpc server with spring, but unfortunately, it is not installed for me..</p>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679843783,"creation_date":1679827328,"question_id":75847215,"body_markdown":"I have a problem. I want to receive a http get request on the client, and grpc will send a message to the server, where it will be logged and displayed in the console, however, when I receive a get request, I get this: **io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason**\r\n\r\nIn the client and server I have a proto folder, in the proto files it says this:\r\n``` \r\nsyntax = &quot;proto3&quot;;\r\npackage com.example;\r\noption java_multiple_files = true;\r\nmessage Hello{\r\n  string message = 1;\r\n}\r\nmessage Greet{\r\n  string message = 1;\r\n}\r\nservice Greeting {\r\n  rpc greeting(Hello) returns (Greet){}\r\n}\r\n```\r\nNow I organized the server in the service, like this:\r\n```\r\n@Service\r\n@Slf4j\r\npublic class GreetingService extends GreetingGrpc.GreetingImplBase {\r\n\r\n    @Override\r\n    public void greeting(Hello request, StreamObserver&lt;Greet&gt; responseObserver) {\r\n      log.info(&quot;I receive message : &quot; + request);\r\n\r\n      Greet grret = Greet.newBuilder()\r\n                      .setMessage(&quot;Hello to you too!&quot;)\r\n                              .build();\r\n      responseObserver.onNext(grret);\r\n      responseObserver.onCompleted();\r\n    }\r\n}\r\n```\r\nIn my understanding, we write return, for the event: *greeting*. Now, I want to send a request here, for this I wrote a controller in the client:\r\n``` \r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class GreetingController {\r\n\r\n    @GetMapping\r\n    public void greeting(){\r\n        ManagedChannel channel = ManagedChannelBuilder\r\n                .forAddress(&quot;localhost&quot;, 9000)\r\n                .usePlaintext().build();\r\n\r\n        GreetingGrpc.GreetingBlockingStub stub = GreetingGrpc.newBlockingStub(channel);\r\n        Greet greet = stub.greeting(Hello.newBuilder()\r\n                        .setMessage(&quot;Hello, World!&quot;)\r\n                .build());\r\n        channel.shutdown();\r\n    }\r\n\r\n}\r\n```\r\nBut unfortunately, when I send a GET request to localhost:9010 (my client), I get an error. I really hope for your help.\r\n\r\nMy pom.xml is in both modules(server, client)\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;server&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;server&lt;/name&gt;\r\n    &lt;description&gt;server&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;\r\n                        com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\r\n                    &lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;\r\n                        io.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\r\n                    &lt;/pluginArtifact&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"UNAVAILABLE: Network closed for unknown reason gRpc spring boot","body":"<p>I have a problem. I want to receive a http get request on the client, and grpc will send a message to the server, where it will be logged and displayed in the console, however, when I receive a get request, I get this: <strong>io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason</strong></p>\n<p>In the client and server I have a proto folder, in the proto files it says this:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.example;\noption java_multiple_files = true;\nmessage Hello{\n  string message = 1;\n}\nmessage Greet{\n  string message = 1;\n}\nservice Greeting {\n  rpc greeting(Hello) returns (Greet){}\n}\n</code></pre>\n<p>Now I organized the server in the service, like this:</p>\n<pre><code>@Service\n@Slf4j\npublic class GreetingService extends GreetingGrpc.GreetingImplBase {\n\n    @Override\n    public void greeting(Hello request, StreamObserver&lt;Greet&gt; responseObserver) {\n      log.info(&quot;I receive message : &quot; + request);\n\n      Greet grret = Greet.newBuilder()\n                      .setMessage(&quot;Hello to you too!&quot;)\n                              .build();\n      responseObserver.onNext(grret);\n      responseObserver.onCompleted();\n    }\n}\n</code></pre>\n<p>In my understanding, we write return, for the event: <em>greeting</em>. Now, I want to send a request here, for this I wrote a controller in the client:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class GreetingController {\n\n    @GetMapping\n    public void greeting(){\n        ManagedChannel channel = ManagedChannelBuilder\n                .forAddress(&quot;localhost&quot;, 9000)\n                .usePlaintext().build();\n\n        GreetingGrpc.GreetingBlockingStub stub = GreetingGrpc.newBlockingStub(channel);\n        Greet greet = stub.greeting(Hello.newBuilder()\n                        .setMessage(&quot;Hello, World!&quot;)\n                .build());\n        channel.shutdown();\n    }\n\n}\n</code></pre>\n<p>But unfortunately, when I send a GET request to localhost:9010 (my client), I get an error. I really hope for your help.</p>\n<p>My pom.xml is in both modules(server, client)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;server&lt;/name&gt;\n    &lt;description&gt;server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;protocArtifact&gt;\n                        com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\n                    &lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;\n                        io.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\n                    &lt;/pluginArtifact&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","jms","websphere","ibm-mq","classloader"],"answers":[{"tags":[],"owner":{"account_id":2022431,"reputation":349,"user_id":1808274,"accept_rate":89,"display_name":"Harshal Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679843733,"creation_date":1679843733,"answer_id":75848611,"question_id":75170388,"body_markdown":"These connection leaks are due to the long running WebSphere long running transactions causing threads to be active and in turn not closing connection handle.","title":"Websphere IBM MQ connection leaks causing blocked threads","body":"<p>These connection leaks are due to the long running WebSphere long running transactions causing threads to be active and in turn not closing connection handle.</p>\n"}],"owner":{"account_id":2022431,"reputation":349,"user_id":1808274,"accept_rate":89,"display_name":"Harshal Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679843733,"creation_date":1674121877,"question_id":75170388,"body_markdown":"Getting below MQ connection stack trace in Websphere Connection leak trace logs. Not sure why Websphere not releasing connection in within configured timeout. Took \r\n\r\nWe have MQ JMS pool connection timeout of 5 second configured in the WAS JMS pool setting.\r\n\r\nNot able to understand why still connection is in use. We are closing connection using finally code block when we read JMS message. There in no other application error logs.\r\n\r\nUsed WAS tracing string as --&gt;  *=info: JMSApi=all: JMSServer=all: Messaging=all: JMS_WASTraceAdapter=all: com.ibm.mq.*=all: jmsApi=all: ConnLeakLogic=all: com.ibm.ejs.j2c.*=all\r\n\r\n    Connection marked to be destroyed.&#160; Waiting for transaction end and connection close - MCWrapper id 53b353b3&#160; Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; credential = null\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]&#160; State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1 Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\r\n    &#160;&#160;&#160; Connection marked to be destroyed.&#160; Waiting for transaction end and connection close - MCWrapper id 270b270b&#160; Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@1c921c92\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; physical connection = com.ibm.mq.jms.MQXAQueueConnection@3c933c93\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; connectorName = JMS$MIUFACTORY$JMSManagedConnection@7\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; credential = null\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@1c2f1c2f]&#160; State:STATE_ACTIVE_INUSE Thread Id: 00000035 Thread Name: WebContainer : 2 Handle count 1 Start time inuse Wed Jan 18 15:24:28 GMT 2023 Time inuse 3629 (seconds)\r\n    &#160; Total number of connection in unshared pool: 2&#160;Connection Leak Logic Information:\r\n    &#160; MCWrapper id 53b353b3&#160; Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; credential = null\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]&#160; State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1\r\n    &#160;&#160;&#160;&#160; Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\r\n    &#160;&#160;&#160;&#160; Last allocation time Wed Jan 18 16:00:18 GMT 2023\r\n    &#160;&#160;&#160;&#160;&#160;&#160; getConnection stack trace information:\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; com.ibm.ejs.j2c.ConnectionManager.allocateConnection(ConnectionManager.java:900)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; com.ibm.ejs.jms.JMSQueueConnectionFactoryHandle.createQueueConnection(JMSQueueConnectionFactoryHandle.java:84)\r\n\r\nWebsphere verion details:\r\nVersion                  7.0.0.45\r\nMQ version:\r\nImplementation-Title: WebSphere MQ Resource Adapter\r\nImplementation-Version: 7.0.1.14\r\n\r\nEDIT:\r\nAfter analysis this connection leak is due to the failed class loading in during one of the service execution.  \r\nEven though our library is present in the EAR it is still giving error in loading ClassNotFoundException for loading class which is present in one the jar.                                     \r\n::java.lang.ClassNotFoundException: :           \r\n                               \r\n    java.net.URLClassLoader.findClass(URLClassLoader.java:457):\t\r\n    at com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:201):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:676):\t\r\n    at com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:112):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62):\t\r\n    at com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58):\t\r\n    at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:513):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):\t\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:642):\t\r\n    at ","title":"Websphere IBM MQ connection leaks causing blocked threads","body":"<p>Getting below MQ connection stack trace in Websphere Connection leak trace logs. Not sure why Websphere not releasing connection in within configured timeout. Took</p>\n<p>We have MQ JMS pool connection timeout of 5 second configured in the WAS JMS pool setting.</p>\n<p>Not able to understand why still connection is in use. We are closing connection using finally code block when we read JMS message. There in no other application error logs.</p>\n<p>Used WAS tracing string as --&gt;  <em>=info: JMSApi=all: JMSServer=all: Messaging=all: JMS_WASTraceAdapter=all: com.ibm.mq.</em>=all: jmsApi=all: ConnLeakLogic=all: com.ibm.ejs.j2c.*=all</p>\n<pre><code>Connection marked to be destroyed.  Waiting for transaction end and connection close - MCWrapper id 53b353b3  Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\n        managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\n        physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\n        connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\n        credential = null\n        open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]  State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1 Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\n    Connection marked to be destroyed.  Waiting for transaction end and connection close - MCWrapper id 270b270b  Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@1c921c92\n        managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\n        physical connection = com.ibm.mq.jms.MQXAQueueConnection@3c933c93\n        connectorName = JMS$MIUFACTORY$JMSManagedConnection@7\n        credential = null\n        open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@1c2f1c2f]  State:STATE_ACTIVE_INUSE Thread Id: 00000035 Thread Name: WebContainer : 2 Handle count 1 Start time inuse Wed Jan 18 15:24:28 GMT 2023 Time inuse 3629 (seconds)\n  Total number of connection in unshared pool: 2 Connection Leak Logic Information:\n  MCWrapper id 53b353b3  Managed connection com.ibm.ejs.jms.JMSManagedQueueConnection@29422942\n        managed connection factory = com.ibm.ejs.jms.WMQJMSRAManagedConnectionFactory@70a470a4\n        physical connection = com.ibm.mq.jms.MQXAQueueConnection@44504450\n        connectorName = JMS$MIUFACTORY$JMSManagedConnection@11\n        credential = null\n        open connection handles = [com.ibm.ejs.jms.JMSQueueConnectionHandle@655a655a]  State:STATE_ACTIVE_INUSE Thread Id: 0000005f Thread Name: WebContainer : 5 Handle count 1\n     Start time inuse Wed Jan 18 16:00:18 GMT 2023 Time inuse 1479 (seconds)\n     Last allocation time Wed Jan 18 16:00:18 GMT 2023\n       getConnection stack trace information:\n          com.ibm.ejs.j2c.ConnectionManager.allocateConnection(ConnectionManager.java:900)\n          com.ibm.ejs.jms.JMSQueueConnectionFactoryHandle.createQueueConnection(JMSQueueConnectionFactoryHandle.java:84)\n</code></pre>\n<p>Websphere verion details:\nVersion                  7.0.0.45\nMQ version:\nImplementation-Title: WebSphere MQ Resource Adapter\nImplementation-Version: 7.0.1.14</p>\n<p>EDIT:\nAfter analysis this connection leak is due to the failed class loading in during one of the service execution.<br />\nEven though our library is present in the EAR it is still giving error in loading ClassNotFoundException for loading class which is present in one the jar.<br />\n::java.lang.ClassNotFoundException: :</p>\n<pre><code>java.net.URLClassLoader.findClass(URLClassLoader.java:457): \nat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:201):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:676):   \nat com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:112):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62):   \nat com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58):   \nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:513):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:545):  \nat java.lang.ClassLoader.loadClass(ClassLoader.java:642):   \nat \n</code></pre>\n"},{"tags":["java","keycloak"],"owner":{"account_id":1811030,"reputation":1073,"user_id":1647105,"accept_rate":59,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679843509,"creation_date":1679843509,"question_id":75848591,"body_markdown":"keycloak **authorization** (not authentication) service documentation [here][1] mentions &quot;Support for custom access control mechanisms (ACMs) through a Service Provider Interface (SPI)&quot;. I take that to mean I can write my own custom java code to evaluate authorization requests. There is no documentation on creating this type of service provider interface. Can someone point me towards an example or starting point?\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/authorization_services/#_getting_started_overview","title":"where can I find a keycloak authorization SPI example?","body":"<p>keycloak <strong>authorization</strong> (not authentication) service documentation <a href=\"https://www.keycloak.org/docs/latest/authorization_services/#_getting_started_overview\" rel=\"nofollow noreferrer\">here</a> mentions &quot;Support for custom access control mechanisms (ACMs) through a Service Provider Interface (SPI)&quot;. I take that to mean I can write my own custom java code to evaluate authorization requests. There is no documentation on creating this type of service provider interface. Can someone point me towards an example or starting point?</p>\n"},{"tags":["java","redis","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679803528,"post_id":75844830,"comment_id":133784895,"body_markdown":"It&#39;s definitely a wrong way because it breaks Reactor flow. Can you show a part of the code related to the caching itself?","body":"It&#39;s definitely a wrong way because it breaks Reactor flow. Can you show a part of the code related to the caching itself?"},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1679843514,"post_id":75844830,"comment_id":133789486,"body_markdown":"I&#39;ve updated the question, if I understood you correctly. I&#39;m just doing a standard `@Cacheable` on the service class","body":"I&#39;ve updated the question, if I understood you correctly. I&#39;m just doing a standard <code>@Cacheable</code> on the service class"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679846763,"post_id":75844830,"comment_id":133790087,"body_markdown":"Ah, I see. I guess `@Cacheable` doesn&#39;t support Reactor yet. There are some discussions like https://github.com/spring-projects/spring-framework/issues/17920 but to my understanding there is no standard way yet an you have to implement caching part manually not relying on `@Cacheable`","body":"Ah, I see. I guess <code>@Cacheable</code> doesn&#39;t support Reactor yet. There are some discussions like <a href=\"https://github.com/spring-projects/spring-framework/issues/17920\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/17920</a> but to my understanding there is no standard way yet an you have to implement caching part manually not relying on <code>@Cacheable</code>"}],"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679843480,"creation_date":1679782466,"question_id":75844830,"body_markdown":"I have a `CacheConfig` where I&#39;ve setup the `ReactiveRedisConnectionFactory` and I can connect to Redis. However when I attempt to save anything into the cache it fails due to \r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.MonoFlatMapMany]\r\n\tat org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.serializer.Serializer.serializeToByteArray(Serializer.java:56) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:60) ~[spring-core-6.0.7.jar:6.0.7]\r\n```\r\n\r\nI think the problem is I can&#39;t serialize Flux/Mono objects so I&#39;ve attempted to write a custom serializer to handle this by doing it manually myself, but I don&#39;t think I&#39;m able to do that without calling `.block()` on `Flux` objects so I can get their contents into a `byte[]`. \r\n\r\nMy cache config:\r\n```java\r\n@EnableCaching\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class CacheConfig implements CachingConfigurer {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\r\n                .commandTimeout(Duration.ofSeconds(2))\r\n                .shutdownTimeout(Duration.ZERO)\r\n                .build();\r\n\r\n        RedisStandaloneConfiguration serverConfig = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n\r\n        return new LettuceConnectionFactory(serverConfig, clientConfig);\r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager() {\r\n        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(5))\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new ReactiveRedisSerializer&lt;&gt;(objectMapper)));\r\n\r\n        return RedisCacheManager.builder(redisConnectionFactory())\r\n                .cacheDefaults(cacheConfig)\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public CacheResolver cacheResolver() {\r\n        return new SimpleCacheResolver(cacheManager());\r\n    }\r\n}\r\n```\r\n\r\nAnd the code I&#39;ve got for the `ReactiveRedisSerializer` which you can see is blocking and will throw ``\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class ReactiveRedisSerializer&lt;T&gt; implements RedisSerializer&lt;T&gt; {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Override\r\n       @Override\r\n    public byte[] serialize(T t) throws SerializationException {\r\n        if (t == null) {\r\n            return null;\r\n        }\r\n\r\n        if (t instanceof Mono&lt;?&gt; mono) {\r\n            try {\r\n                return objectMapper.writeValueAsBytes(mono.toFuture().get());\r\n            } catch (JsonProcessingException | InterruptedException | ExecutionException e) {\r\n                throw new SerializationException(&quot;Failed to serialize Mono&quot;, e);\r\n            }\r\n        }\r\n\r\n        if (t instanceof Flux&lt;?&gt; flux) {\r\n            try {\r\n                List&lt;?&gt; list = flux.collectList().block(); // How to avoid doing this?\r\n                return objectMapper.writeValueAsBytes(list);\r\n            } catch (JsonProcessingException e) {\r\n                throw new SerializationException(&quot;Failed to serialize Flux&quot;, e);\r\n            }\r\n        }\r\n\r\n        try {\r\n            return objectMapper.writeValueAsString(t).getBytes(StandardCharsets.UTF_8);\r\n        } catch (JsonProcessingException e) {\r\n            throw new SerializationException(&quot;Failed to serialize object&quot;, e);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public T deserialize(byte[] bytes) throws SerializationException {\r\n        if (bytes == null) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            return (T) objectMapper.readValue(bytes, Object.class);\r\n        } catch (Exception e) {\r\n            throw new SerializationException(&quot;Failed to deserialize object&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\nThis doesn&#39;t feel like the right way to go, so is there a supported &quot;out the box&quot; approach here?\r\n\r\nEdit: \r\n\r\nI&#39;m adding data to the cache in the very standard Spring way\r\n\r\n```java\r\n@Cacheable(cacheNames = &quot;placesCache&quot;)\r\npublic Flux&lt;Place&gt; getPlaces(final PlaceRequest placeRequest) {\r\n\r\n    final String query = &quot;%s in %s&quot;.formatted(placeRequest.vendorType(), placeRequest.city());\r\n\r\n    return googleMapsService\r\n            .textSearch(query)\r\n            .flatMapMany(response -&gt; placeMapper.toPlaces(response)\r\n                    .map(place -&gt; place.withQuery(query).withVendorType(placeRequest.vendorType())));\r\n}\r\n```\r\nNothing special about this. \r\n","title":"Webflux with reactive redis cache","body":"<p>I have a <code>CacheConfig</code> where I've setup the <code>ReactiveRedisConnectionFactory</code> and I can connect to Redis. However when I attempt to save anything into the cache it fails due to</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.MonoFlatMapMany]\n    at org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.serializer.Serializer.serializeToByteArray(Serializer.java:56) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:60) ~[spring-core-6.0.7.jar:6.0.7]\n</code></pre>\n<p>I think the problem is I can't serialize Flux/Mono objects so I've attempted to write a custom serializer to handle this by doing it manually myself, but I don't think I'm able to do that without calling <code>.block()</code> on <code>Flux</code> objects so I can get their contents into a <code>byte[]</code>.</p>\n<p>My cache config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableCaching\n@Configuration\n@RequiredArgsConstructor\npublic class CacheConfig implements CachingConfigurer {\n\n    private final ObjectMapper objectMapper;\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\n                .commandTimeout(Duration.ofSeconds(2))\n                .shutdownTimeout(Duration.ZERO)\n                .build();\n\n        RedisStandaloneConfiguration serverConfig = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n\n        return new LettuceConnectionFactory(serverConfig, clientConfig);\n    }\n\n    @Bean\n    public CacheManager cacheManager() {\n        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofMinutes(5))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new ReactiveRedisSerializer&lt;&gt;(objectMapper)));\n\n        return RedisCacheManager.builder(redisConnectionFactory())\n                .cacheDefaults(cacheConfig)\n                .build();\n    }\n\n    @Override\n    public CacheResolver cacheResolver() {\n        return new SimpleCacheResolver(cacheManager());\n    }\n}\n</code></pre>\n<p>And the code I've got for the <code>ReactiveRedisSerializer</code> which you can see is blocking and will throw ``</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\npublic class ReactiveRedisSerializer&lt;T&gt; implements RedisSerializer&lt;T&gt; {\n\n    private final ObjectMapper objectMapper;\n\n    @Override\n       @Override\n    public byte[] serialize(T t) throws SerializationException {\n        if (t == null) {\n            return null;\n        }\n\n        if (t instanceof Mono&lt;?&gt; mono) {\n            try {\n                return objectMapper.writeValueAsBytes(mono.toFuture().get());\n            } catch (JsonProcessingException | InterruptedException | ExecutionException e) {\n                throw new SerializationException(&quot;Failed to serialize Mono&quot;, e);\n            }\n        }\n\n        if (t instanceof Flux&lt;?&gt; flux) {\n            try {\n                List&lt;?&gt; list = flux.collectList().block(); // How to avoid doing this?\n                return objectMapper.writeValueAsBytes(list);\n            } catch (JsonProcessingException e) {\n                throw new SerializationException(&quot;Failed to serialize Flux&quot;, e);\n            }\n        }\n\n        try {\n            return objectMapper.writeValueAsString(t).getBytes(StandardCharsets.UTF_8);\n        } catch (JsonProcessingException e) {\n            throw new SerializationException(&quot;Failed to serialize object&quot;, e);\n        }\n    }\n\n\n    @Override\n    public T deserialize(byte[] bytes) throws SerializationException {\n        if (bytes == null) {\n            return null;\n        }\n\n        try {\n            return (T) objectMapper.readValue(bytes, Object.class);\n        } catch (Exception e) {\n            throw new SerializationException(&quot;Failed to deserialize object&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>This doesn't feel like the right way to go, so is there a supported &quot;out the box&quot; approach here?</p>\n<p>Edit:</p>\n<p>I'm adding data to the cache in the very standard Spring way</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(cacheNames = &quot;placesCache&quot;)\npublic Flux&lt;Place&gt; getPlaces(final PlaceRequest placeRequest) {\n\n    final String query = &quot;%s in %s&quot;.formatted(placeRequest.vendorType(), placeRequest.city());\n\n    return googleMapsService\n            .textSearch(query)\n            .flatMapMany(response -&gt; placeMapper.toPlaces(response)\n                    .map(place -&gt; place.withQuery(query).withVendorType(placeRequest.vendorType())));\n}\n</code></pre>\n<p>Nothing special about this.</p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1679844979,"post_id":75848492,"comment_id":133789765,"body_markdown":"You did everything right **except** for writing code to actually print the resulting array.","body":"You did everything right <b>except</b> for writing code to actually print the resulting array."}],"owner":{"account_id":28129946,"reputation":1,"user_id":21494716,"display_name":"javaNewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679842993,"answer_count":0,"score":0,"last_activity_date":1679843042,"creation_date":1679842759,"question_id":75848492,"body_markdown":"Why do i only get the location and not the result when i call the method? I thought I did everything right but seems like I didn&#39;t, since the output is: [I@f6f4d33\r\n\r\n```\r\npublic class ExtremaElements {\r\n\r\n    public static int[] computeMinMax(int[] a) {\r\n        if(a.length == 0){\r\n            throw new IllegalArgumentException();\r\n        }\r\n        if(a.length == 1){\r\n           return new int[] {a[0], a[0]};\r\n        }\r\n        int min = a[0];\r\n        int max = a[1];\r\n        if(min &gt; max){\r\n            min = a[1];\r\n            max = a[0];\r\n        }\r\n        for(int i = 2; i &lt; a.length; i++){\r\n            if(a[i] &lt; min){\r\n                min = a[i];\r\n            } else if(a[i] &gt; max){\r\n                max = a[i];\r\n            }\r\n            return new int[] {min, max};\r\n\r\n        }\r\n        return new int[] {min, max};\r\n    }\r\n    public static void main (String[]args){\r\n        ExtremaElements bob = new ExtremaElements();\r\n        int[] array = {7, 9, 10, 2, 23, 17, 15};\r\n\r\n        System.out.println(bob.computeMinMax(array));\r\n    }\r\n}\r\n```\r\n\r\nI was expecting the result to be: 2, 23 ","title":"Why do i only get the location and not the result when i call the method?","body":"<p>Why do i only get the location and not the result when i call the method? I thought I did everything right but seems like I didn't, since the output is: [I@f6f4d33</p>\n<pre><code>public class ExtremaElements {\n\n    public static int[] computeMinMax(int[] a) {\n        if(a.length == 0){\n            throw new IllegalArgumentException();\n        }\n        if(a.length == 1){\n           return new int[] {a[0], a[0]};\n        }\n        int min = a[0];\n        int max = a[1];\n        if(min &gt; max){\n            min = a[1];\n            max = a[0];\n        }\n        for(int i = 2; i &lt; a.length; i++){\n            if(a[i] &lt; min){\n                min = a[i];\n            } else if(a[i] &gt; max){\n                max = a[i];\n            }\n            return new int[] {min, max};\n\n        }\n        return new int[] {min, max};\n    }\n    public static void main (String[]args){\n        ExtremaElements bob = new ExtremaElements();\n        int[] array = {7, 9, 10, 2, 23, 17, 15};\n\n        System.out.println(bob.computeMinMax(array));\n    }\n}\n</code></pre>\n<p>I was expecting the result to be: 2, 23</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-integration-ip"],"answers":[{"tags":[],"owner":{"account_id":4352142,"reputation":528,"user_id":3552082,"accept_rate":83,"display_name":"Romain-p"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679842311,"creation_date":1679842311,"answer_id":75848435,"question_id":75847515,"body_markdown":"Adding a simple component extending `ApplicationEventPublisher` solved it. Now all listeners are working as expected\r\n\r\n```kotlin\r\n@Component\r\nclass TcpController: ApplicationEventPublisher {\r\n    @EventListener\r\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\r\n        println(&quot;Opened ${event.connectionId}&quot;)\r\n        val con = event.source as TcpNioConnection\r\n        val ip = (con.socketInfo.remoteSocketAddress as InetSocketAddress).address.hostAddress\r\n        \r\n        println(&quot;IP: $ip&quot;)\r\n    }\r\n\r\n    @EventListener\r\n    fun onSocketClose(event: TcpConnectionCloseEvent) {\r\n        println(&quot;Closed ${event.connectionId}&quot;)\r\n    }\r\n\r\n    @EventListener\r\n    fun onSocketIdle(event: TcpConnectionExceptionEvent) {\r\n        println(&quot;Idle ${event.connectionId}&quot;)\r\n    }\r\n```\r\nI hope it helps!","title":"How to handle socket open/close/error events using spring boot integration ip","body":"<p>Adding a simple component extending <code>ApplicationEventPublisher</code> solved it. Now all listeners are working as expected</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass TcpController: ApplicationEventPublisher {\n    @EventListener\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\n        println(&quot;Opened ${event.connectionId}&quot;)\n        val con = event.source as TcpNioConnection\n        val ip = (con.socketInfo.remoteSocketAddress as InetSocketAddress).address.hostAddress\n        \n        println(&quot;IP: $ip&quot;)\n    }\n\n    @EventListener\n    fun onSocketClose(event: TcpConnectionCloseEvent) {\n        println(&quot;Closed ${event.connectionId}&quot;)\n    }\n\n    @EventListener\n    fun onSocketIdle(event: TcpConnectionExceptionEvent) {\n        println(&quot;Idle ${event.connectionId}&quot;)\n    }\n</code></pre>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":4352142,"reputation":528,"user_id":3552082,"accept_rate":83,"display_name":"Romain-p"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679842311,"creation_date":1679831062,"question_id":75847515,"body_markdown":"I&#39;m using spring boot and integration libraries in order to use a custom TCP/IP protocol in my application.\r\n\r\nHere the configuration:\r\n```kotlin\r\n@EnableIntegration\r\n@Configuration\r\nclass TcpServerConfiguration {\r\n    @Value(&quot;\\${tcp.server.port}&quot;)\r\n    lateinit var port: Integer\r\n\r\n    @Bean\r\n    fun inboundGateway(controller: TcpController): IntegrationFlow {\r\n        return IntegrationFlow.from(Tcp.inboundGateway(Tcp.nioServer(port.toInt())\r\n            .leaveOpen(true)\r\n            .soTimeout(TimeUnit.MILLISECONDS.convert(1L, TimeUnit.MINUTES).toInt())\r\n            .soTcpNoDelay(true)\r\n            .directBuffers(true)\r\n            .deserializer(TcpCodecs.lengthHeader4())\r\n            .serializer(TcpCodecs.lengthHeader4()).get()))\r\n            .handle(controller)\r\n            .get()\r\n    }\r\n}\r\n\r\n@Component\r\nclass TcpController {\r\n    @ServiceActivator\r\n    fun onPacketReceived(data: ByteArray) {\r\n        val readable = String(data)\r\n        println(readable)\r\n    }\r\n}\r\n```\r\n\r\nI can communicate with my server, but I would like to be able to listen on the events propagated from my TCP server.\r\nFor example, I would like to be able to send a message to an incoming connection, but I can&#39;t catch the events, I get errors like this:\r\n\r\n```\r\no.s.i.i.tcp.connection.TcpNioConnection  : No publisher available to publish TcpConnectionOpenEvent [source=TcpNioConnection:127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1], [factory=unknown, connectionId=127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1] **OPENED**\r\n```\r\n\r\nUnfortunely such handler is never reached and the error keeps going..\r\n```kotlin\r\n    @EventListener\r\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\r\n        println(&quot;welcome ${event.connectionId}&quot;)\r\n    }\r\n```","title":"How to handle socket open/close/error events using spring boot integration ip","body":"<p>I'm using spring boot and integration libraries in order to use a custom TCP/IP protocol in my application.</p>\n<p>Here the configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@EnableIntegration\n@Configuration\nclass TcpServerConfiguration {\n    @Value(&quot;\\${tcp.server.port}&quot;)\n    lateinit var port: Integer\n\n    @Bean\n    fun inboundGateway(controller: TcpController): IntegrationFlow {\n        return IntegrationFlow.from(Tcp.inboundGateway(Tcp.nioServer(port.toInt())\n            .leaveOpen(true)\n            .soTimeout(TimeUnit.MILLISECONDS.convert(1L, TimeUnit.MINUTES).toInt())\n            .soTcpNoDelay(true)\n            .directBuffers(true)\n            .deserializer(TcpCodecs.lengthHeader4())\n            .serializer(TcpCodecs.lengthHeader4()).get()))\n            .handle(controller)\n            .get()\n    }\n}\n\n@Component\nclass TcpController {\n    @ServiceActivator\n    fun onPacketReceived(data: ByteArray) {\n        val readable = String(data)\n        println(readable)\n    }\n}\n</code></pre>\n<p>I can communicate with my server, but I would like to be able to listen on the events propagated from my TCP server.\nFor example, I would like to be able to send a message to an incoming connection, but I can't catch the events, I get errors like this:</p>\n<pre><code>o.s.i.i.tcp.connection.TcpNioConnection  : No publisher available to publish TcpConnectionOpenEvent [source=TcpNioConnection:127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1], [factory=unknown, connectionId=127.0.0.1:50408:4561:672dbfcb-d560-46d2-8edb-603f5557cfc1] **OPENED**\n</code></pre>\n<p>Unfortunely such handler is never reached and the error keeps going..</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @EventListener\n    fun onSocketConnect(event: TcpConnectionOpenEvent) {\n        println(&quot;welcome ${event.connectionId}&quot;)\n    }\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1679832774,"post_id":75847461,"comment_id":133787868,"body_markdown":"are both projects using gradle?","body":"are both projects using gradle?"},{"owner":{"account_id":27454054,"reputation":11,"user_id":20945806,"display_name":"randomnamme"},"score":0,"creation_date":1679832947,"post_id":75847461,"comment_id":133787897,"body_markdown":"no, only the second one","body":"no, only the second one"}],"answers":[{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679841524,"creation_date":1679837068,"answer_id":75848016,"question_id":75847461,"body_markdown":"Seems like the only way in this case would be to build a jar in Project1 and reference it from the Project2 like so:\r\n\r\n```\r\ndependencies {\r\n    implementation files( &#39;../Project1/project1.jar&#39;)\r\n}\r\n```\r\n\r\nThe way you tried with `project( &#39;:Project1&#39; )` is only possible, if that project is also managed by gradle.\r\n\r\nUPDATE\r\n\r\nIf you use have both projects managed by Gradle, the only thing that was missing in your setup is the declaration in `Project2/settings.gradle` - NOT `build.gradle`, but `settings.gradle`\r\n\r\nProject2/settings.gradle\r\n```\r\ninclude &#39;Project1&#39;\r\nproject( &#39;:Project1&#39; ).projectDir = file &#39;../Project1&#39;\r\n```\r\n\r\nthen, the `implementation project(&quot;:Project1&quot;)` in build.gradle will work as desired.\r\n\r\nsee https://docs.gradle.org/current/userguide/fine_tuning_project_layout.html","title":"Gradle: Importing dependency from an existing module to another","body":"<p>Seems like the only way in this case would be to build a jar in Project1 and reference it from the Project2 like so:</p>\n<pre><code>dependencies {\n    implementation files( '../Project1/project1.jar')\n}\n</code></pre>\n<p>The way you tried with <code>project( ':Project1' )</code> is only possible, if that project is also managed by gradle.</p>\n<p>UPDATE</p>\n<p>If you use have both projects managed by Gradle, the only thing that was missing in your setup is the declaration in <code>Project2/settings.gradle</code> - NOT <code>build.gradle</code>, but <code>settings.gradle</code></p>\n<p>Project2/settings.gradle</p>\n<pre><code>include 'Project1'\nproject( ':Project1' ).projectDir = file '../Project1'\n</code></pre>\n<p>then, the <code>implementation project(&quot;:Project1&quot;)</code> in build.gradle will work as desired.</p>\n<p>see <a href=\"https://docs.gradle.org/current/userguide/fine_tuning_project_layout.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/fine_tuning_project_layout.html</a></p>\n"}],"owner":{"account_id":27454054,"reputation":11,"user_id":20945806,"display_name":"randomnamme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679841524,"creation_date":1679830321,"question_id":75847461,"body_markdown":"I am using IntellijIDEA and my project structure is like this:\r\n\r\nProject:\r\n\r\n   -&gt; Project1 (this is a console app module)\r\n\r\n   -&gt; Project2 (this is a javaFX module, using gradle)\r\n\r\nI want to be able to use the code from Project1 in Project2. But everything seems so complicated, and there are a lot of explanations on internet, but let me be honest, they seem VERY UNHELPFUL.\r\n\r\nI tried adding this to the dependencies part in &#39;build.gradle&#39;:\r\n\r\n\r\n```\r\ndependencies {\r\n    [...]\r\n    implementation project(&quot;:Project1&quot;)\r\n}\r\n```\r\nBut I get this error:\r\n\r\n```\r\nA problem occurred evaluating root project &#39;Project2&#39;.\r\n&gt; Project with path &#39;:Project1&#39; could not be found in root project &#39;Project2&#39;.\r\n```\r\nI also opened the Project2 module settings and added the dependency there for Project1.\r\nHow can I make this work?\r\n","title":"Gradle: Importing dependency from an existing module to another","body":"<p>I am using IntellijIDEA and my project structure is like this:</p>\n<p>Project:</p>\n<p>-&gt; Project1 (this is a console app module)</p>\n<p>-&gt; Project2 (this is a javaFX module, using gradle)</p>\n<p>I want to be able to use the code from Project1 in Project2. But everything seems so complicated, and there are a lot of explanations on internet, but let me be honest, they seem VERY UNHELPFUL.</p>\n<p>I tried adding this to the dependencies part in 'build.gradle':</p>\n<pre><code>dependencies {\n    [...]\n    implementation project(&quot;:Project1&quot;)\n}\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>A problem occurred evaluating root project 'Project2'.\n&gt; Project with path ':Project1' could not be found in root project 'Project2'.\n</code></pre>\n<p>I also opened the Project2 module settings and added the dependency there for Project1.\nHow can I make this work?</p>\n"},{"tags":["java","android","arrays"],"owner":{"account_id":28129680,"reputation":1,"user_id":21494478,"display_name":"soon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679839517,"creation_date":1679839517,"question_id":75848253,"body_markdown":"`public class HomePage extends Fragment {`\r\n\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    View view = inflater.inflate(R.layout.fragment_home_page, container, false);\r\n\r\n    Toolbar toolbar = view.findViewById(R.id.toolbar);\r\n    ((AppCompatActivity) requireActivity()).setSupportActionBar(toolbar);\r\n\r\n    textView1 = view.findViewById(R.id.home_dog_name);\r\n    textView2 = view.findViewById(R.id.home_age_view);\r\n    homeTextView1 = view.findViewById(R.id.home_gender_view);\r\n\r\n    // ViewModelProvider 생성\r\n    ViewModelProvider viewModelProvider = new        ViewModelProvider(requireActivity());\r\n    // SettingViewModel 가져오기\r\n    SettingsViewModel settingViewModel = viewModelProvider.get(SettingsViewModel.class);\r\n\r\n    // LiveData를 이용해 데이터 변경 감지\r\n    settingViewModel.getName().observe(getViewLifecycleOwner(), name -&gt; textView1.setText(name));\r\n    settingViewModel.getAge().observe(getViewLifecycleOwner(), age -&gt; textView2.setText(age));\r\n    settingViewModel.getGender().observe(getViewLifecycleOwner(), gender -&gt; homeTextView1.setText(gender));\r\n\r\n    settingViewModel.getImageBase64().observe(getViewLifecycleOwner(), imageBase64 -&gt; {\r\n        if (!imageBase64.isEmpty()) {\r\n            byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\r\n            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n            imageView1.setImageBitmap(decodedByte);\r\n        }\r\n    });\r\n\r\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    isCollected = false;\r\n\r\n    adapter = new ArrayAdapter&lt;String&gt;(getActivity(), R.layout.testview_layout, R.id.custom_text1);\r\n\r\n    homeButton = view.findViewById(R.id.home_button);\r\n    homeButton.setOnClickListener(v -&gt; {\r\n        if (checkSharedPreferences() &amp;&amp; checkBluetooth()) {\r\n            isCollected = !isCollected;\r\n            updateButton();\r\n        }\r\n    });\r\n\r\n    loadDataFromSharedPreferences();\r\n\r\n    return view;\r\n}\r\n\r\nprivate void loadDataFromSharedPreferences() {\r\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\r\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\r\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\r\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\r\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\r\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\r\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\r\n\r\n    textView1.setText(name + &quot;의&quot; + &quot;\\n&quot; + &quot;하루&quot;);\r\n    textView2.setText(age);\r\n    homeTextView1.setText(gender);\r\n\r\n    if (!imageBase64.isEmpty()) {\r\n        byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\r\n        Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\r\n        imageView1.setImageBitmap(decodedByte);\r\n    }\r\n}\r\n\r\nprivate boolean checkSharedPreferences() {\r\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\r\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\r\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\r\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\r\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\r\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\r\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\r\n\r\n    return !name.isEmpty() &amp;&amp; !age.isEmpty() &amp;&amp; !gender.isEmpty() &amp;&amp; !kg.isEmpty() &amp;&amp; !bread.isEmpty() &amp;&amp; !imageBase64.isEmpty();\r\n}\r\n\r\nprivate boolean checkBluetooth() {\r\n    BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    if (bluetoothAdapter == null) {\r\n        Toast.makeText(getActivity(), &quot;블루투스를 지원하지 않는 기기입니다.&quot;, Toast.LENGTH_SHORT).show();\r\n        return false;\r\n    }\r\n\r\n    if (!bluetoothAdapter.isEnabled()) {\r\n        Intent enableBluetoothIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n        startActivityForResult(enableBluetoothIntent, 1);\r\n        return false;\r\n    }\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n                || ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 2);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    showBluetoothDeviceList();\r\n    return true;\r\n}\r\n\r\n\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if (requestCode == 2) {\r\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            // 권한이 승인된 후 처리할 작업을 여기에 작성하세요.\r\n            showBluetoothDeviceList();\r\n        } else {\r\n            Toast.makeText(getActivity(), &quot;위치 권한이 거부되었습니다.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n\r\nprivate void updateButton () {\r\n    if (isCollected) {\r\n        homeButton.setText(&quot;수집중&quot;);\r\n        homeButton.setBackgroundResource(R.drawable.btn_radius2);\r\n    } else {\r\n        homeButton.setText(&quot;수집&quot;);\r\n        homeButton.setBackgroundResource(R.drawable.btn_radius);\r\n    }\r\n}\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate final BroadcastReceiver deviceFoundReceiver = new BroadcastReceiver() {\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n\r\n        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\r\n            BluetoothDevice device =           intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n            if (adapter != null) {\r\n                adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate final BroadcastReceiver discoveryFinishedReceiver = new BroadcastReceiver() {\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n\r\n        if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)) {\r\n            bluetoothAdapter.cancelDiscovery();\r\n        }\r\n    }\r\n};\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\nprivate void showBluetoothDeviceList() {\r\n    Dialog dialog = new Dialog(getActivity());\r\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    dialog.setContentView(R.layout.custom_spinner_item);\r\n\r\n    ListView listView = dialog.findViewById(R.id.devices_list_view);\r\n    listView.setAdapter(adapter);\r\n\r\n    Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\r\n    for (BluetoothDevice device : pairedDevices) {\r\n        adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n    }\r\n\r\n    IntentFilter filter1 = new IntentFilter(BluetoothDevice.ACTION_FOUND);\r\n    requireActivity().registerReceiver(deviceFoundReceiver, filter1);\r\n\r\n    IntentFilter filter2 = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\r\n    requireActivity().registerReceiver(discoveryFinishedReceiver, filter2);\r\n\r\n    if (bluetoothAdapter.isDiscovering()) {\r\n        bluetoothAdapter.cancelDiscovery();\r\n    }\r\n\r\n    bluetoothAdapter.startDiscovery();\r\n\r\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n            String deviceInfo = adapter.getItem(position);\r\n            String deviceAddress = deviceInfo.split(&quot;\\n&quot;)[1].trim();\r\n\r\n            // Connect to the device using the deviceAddress\r\n            // ...\r\n\r\n            dialog.dismiss();\r\n        }\r\n    });\r\n    dialog.show();\r\n}\r\n\r\n@Override\r\npublic void onDestroyView() {\r\n    super.onDestroyView();\r\n\r\n    requireActivity().unregisterReceiver(deviceFoundReceiver);\r\n    requireActivity().unregisterReceiver(discoveryFinishedReceiver);\r\n}\r\n```\r\n\r\n`}`\r\n\r\n`I am a beginner in Android Java coding. I am trying to set up 4 tabs using bottomNavigationView, and the current code is for the first tab. However, when I try to switch to the fourth tab, I keep encountering errors and I&#39;m not sure what the issue is.`\r\n\r\n`E/ArrayAdapter: You must supply a resource ID for a TextView`\r\n`D/AndroidRuntime: Shutting down VM`\r\n`E/AndroidRuntime: FATAL EXCEPTION: main`\r\n`Process: com.example.test_2, PID: 12515`\r\n`java.lang.IllegalStateException: ArrayAdapter requires the resource ID to be a TextView`\r\n`at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:446)`\r\n`at android.widget.ArrayAdapter.getView(ArrayAdapter.java:416)`\r\n`at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:206)`\r\n`at android.widget.Spinner.onMeasure(Spinner.java:614)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1204)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:723)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measureChildren(BasicMeasure.java:134)`\r\n`at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:278)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)`\r\n`at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)`\r\n`at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)`\r\n`E/AndroidRuntime:     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)`\r\n`at com.android.internal.policy.DecorView.onMeasure(DecorView.java:747)`\r\n`at android.view.View.measure(View.java:25466)`\r\n`at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)`\r\n`at android.view.Choreographer.doCallbacks(Choreographer.java:796)`\r\n`at android.view.Choreographer.doFrame(Choreographer.java:731)`\r\n`at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)`\r\n`at android.os.Handler.handleCallback(Handler.java:938)`\r\n`at android.os.Handler.dispatchMessage(Handler.java:99)`\r\n`at android.os.Looper.loop(Looper.java:223)`\r\n`at android.app.ActivityThread.main(ActivityThread.java:7656)`\r\n`at java.lang.reflect.Method.invoke(Native Method)`\r\n`at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)`\r\n`at java.lang.ClassCastException: android.widget.LinearLayout cannot be cast to android.widget.TextView`\r\n`at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:433)`\r\n`... 72 more`\r\n`To create a custom dialog xml file, I was told that I needed to make a separate TextView. So, I created an xml file called test view_layout, and the TextView has an id value of custom_text1. The layout for the custom dialog is named custom_spinner_item.`","title":"android java do not skip to another tab","body":"<p><code>public class HomePage extends Fragment {</code></p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_home_page, container, false);\n\n    Toolbar toolbar = view.findViewById(R.id.toolbar);\n    ((AppCompatActivity) requireActivity()).setSupportActionBar(toolbar);\n\n    textView1 = view.findViewById(R.id.home_dog_name);\n    textView2 = view.findViewById(R.id.home_age_view);\n    homeTextView1 = view.findViewById(R.id.home_gender_view);\n\n    // ViewModelProvider 생성\n    ViewModelProvider viewModelProvider = new        ViewModelProvider(requireActivity());\n    // SettingViewModel 가져오기\n    SettingsViewModel settingViewModel = viewModelProvider.get(SettingsViewModel.class);\n\n    // LiveData를 이용해 데이터 변경 감지\n    settingViewModel.getName().observe(getViewLifecycleOwner(), name -&gt; textView1.setText(name));\n    settingViewModel.getAge().observe(getViewLifecycleOwner(), age -&gt; textView2.setText(age));\n    settingViewModel.getGender().observe(getViewLifecycleOwner(), gender -&gt; homeTextView1.setText(gender));\n\n    settingViewModel.getImageBase64().observe(getViewLifecycleOwner(), imageBase64 -&gt; {\n        if (!imageBase64.isEmpty()) {\n            byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\n            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n            imageView1.setImageBitmap(decodedByte);\n        }\n    });\n\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    isCollected = false;\n\n    adapter = new ArrayAdapter&lt;String&gt;(getActivity(), R.layout.testview_layout, R.id.custom_text1);\n\n    homeButton = view.findViewById(R.id.home_button);\n    homeButton.setOnClickListener(v -&gt; {\n        if (checkSharedPreferences() &amp;&amp; checkBluetooth()) {\n            isCollected = !isCollected;\n            updateButton();\n        }\n    });\n\n    loadDataFromSharedPreferences();\n\n    return view;\n}\n\nprivate void loadDataFromSharedPreferences() {\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\n\n    textView1.setText(name + &quot;의&quot; + &quot;\\n&quot; + &quot;하루&quot;);\n    textView2.setText(age);\n    homeTextView1.setText(gender);\n\n    if (!imageBase64.isEmpty()) {\n        byte[] decodedString = Base64.decode(imageBase64, Base64.DEFAULT);\n        Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);\n        imageView1.setImageBitmap(decodedByte);\n    }\n}\n\nprivate boolean checkSharedPreferences() {\n    SharedPreferences sharedPreferences = requireActivity().getSharedPreferences(&quot;settings_data&quot;, Context.MODE_PRIVATE);\n    name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);\n    age = sharedPreferences.getString(&quot;age&quot;, &quot;&quot;);\n    gender = sharedPreferences.getString(&quot;gender&quot;, &quot;&quot;);\n    kg = sharedPreferences.getString(&quot;kg&quot;, &quot;&quot;);\n    bread = sharedPreferences.getString(&quot;bread&quot;, &quot;&quot;);\n    imageBase64 = sharedPreferences.getString(&quot;imageBase64&quot;, &quot;&quot;);\n\n    return !name.isEmpty() &amp;&amp; !age.isEmpty() &amp;&amp; !gender.isEmpty() &amp;&amp; !kg.isEmpty() &amp;&amp; !bread.isEmpty() &amp;&amp; !imageBase64.isEmpty();\n}\n\nprivate boolean checkBluetooth() {\n    BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (bluetoothAdapter == null) {\n        Toast.makeText(getActivity(), &quot;블루투스를 지원하지 않는 기기입니다.&quot;, Toast.LENGTH_SHORT).show();\n        return false;\n    }\n\n    if (!bluetoothAdapter.isEnabled()) {\n        Intent enableBluetoothIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        startActivityForResult(enableBluetoothIntent, 1);\n        return false;\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                || ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, 2);\n            return false;\n        }\n    }\n\n    showBluetoothDeviceList();\n    return true;\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 2) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // 권한이 승인된 후 처리할 작업을 여기에 작성하세요.\n            showBluetoothDeviceList();\n        } else {\n            Toast.makeText(getActivity(), &quot;위치 권한이 거부되었습니다.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\nprivate void updateButton () {\n    if (isCollected) {\n        homeButton.setText(&quot;수집중&quot;);\n        homeButton.setBackgroundResource(R.drawable.btn_radius2);\n    } else {\n        homeButton.setText(&quot;수집&quot;);\n        homeButton.setBackgroundResource(R.drawable.btn_radius);\n    }\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate final BroadcastReceiver deviceFoundReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        if (BluetoothDevice.ACTION_FOUND.equals(action)) {\n            BluetoothDevice device =           intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n            if (adapter != null) {\n                adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n            }\n        }\n    }\n};\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate final BroadcastReceiver discoveryFinishedReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n\n        if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)) {\n            bluetoothAdapter.cancelDiscovery();\n        }\n    }\n};\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate void showBluetoothDeviceList() {\n    Dialog dialog = new Dialog(getActivity());\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.custom_spinner_item);\n\n    ListView listView = dialog.findViewById(R.id.devices_list_view);\n    listView.setAdapter(adapter);\n\n    Set&lt;BluetoothDevice&gt; pairedDevices = bluetoothAdapter.getBondedDevices();\n    for (BluetoothDevice device : pairedDevices) {\n        adapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n    }\n\n    IntentFilter filter1 = new IntentFilter(BluetoothDevice.ACTION_FOUND);\n    requireActivity().registerReceiver(deviceFoundReceiver, filter1);\n\n    IntentFilter filter2 = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\n    requireActivity().registerReceiver(discoveryFinishedReceiver, filter2);\n\n    if (bluetoothAdapter.isDiscovering()) {\n        bluetoothAdapter.cancelDiscovery();\n    }\n\n    bluetoothAdapter.startDiscovery();\n\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            String deviceInfo = adapter.getItem(position);\n            String deviceAddress = deviceInfo.split(&quot;\\n&quot;)[1].trim();\n\n            // Connect to the device using the deviceAddress\n            // ...\n\n            dialog.dismiss();\n        }\n    });\n    dialog.show();\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n    requireActivity().unregisterReceiver(deviceFoundReceiver);\n    requireActivity().unregisterReceiver(discoveryFinishedReceiver);\n}\n</code></pre>\n<p><code>}</code></p>\n<p><code>I am a beginner in Android Java coding. I am trying to set up 4 tabs using bottomNavigationView, and the current code is for the first tab. However, when I try to switch to the fourth tab, I keep encountering errors and I'm not sure what the issue is.</code></p>\n<p><code>E/ArrayAdapter: You must supply a resource ID for a TextView</code>\n<code>D/AndroidRuntime: Shutting down VM</code>\n<code>E/AndroidRuntime: FATAL EXCEPTION: main</code>\n<code>Process: com.example.test_2, PID: 12515</code>\n<code>java.lang.IllegalStateException: ArrayAdapter requires the resource ID to be a TextView</code>\n<code>at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:446)</code>\n<code>at android.widget.ArrayAdapter.getView(ArrayAdapter.java:416)</code>\n<code>at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:206)</code>\n<code>at android.widget.Spinner.onMeasure(Spinner.java:614)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:1204)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:723)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.measureChildren(BasicMeasure.java:134)</code>\n<code>at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:278)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1552)</code>\n<code>at android.widget.LinearLayout.measureVertical(LinearLayout.java:842)</code>\n<code>at android.widget.LinearLayout.onMeasure(LinearLayout.java:721)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6957)</code>\n<code>E/AndroidRuntime:     at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)</code>\n<code>at com.android.internal.policy.DecorView.onMeasure(DecorView.java:747)</code>\n<code>at android.view.View.measure(View.java:25466)</code>\n<code>at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)</code>\n<code>at android.view.Choreographer.doCallbacks(Choreographer.java:796)</code>\n<code>at android.view.Choreographer.doFrame(Choreographer.java:731)</code>\n<code>at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)</code>\n<code>at android.os.Handler.handleCallback(Handler.java:938)</code>\n<code>at android.os.Handler.dispatchMessage(Handler.java:99)</code>\n<code>at android.os.Looper.loop(Looper.java:223)</code>\n<code>at android.app.ActivityThread.main(ActivityThread.java:7656)</code>\n<code>at java.lang.reflect.Method.invoke(Native Method)</code>\n<code>at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)</code>\n<code>at java.lang.ClassCastException: android.widget.LinearLayout cannot be cast to android.widget.TextView</code>\n<code>at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:433)</code>\n<code>... 72 more</code>\n<code>To create a custom dialog xml file, I was told that I needed to make a separate TextView. So, I created an xml file called test view_layout, and the TextView has an id value of custom_text1. The layout for the custom dialog is named custom_spinner_item.</code></p>\n"},{"tags":["java","exception","appium","appium-android","appium-java"],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679837495,"creation_date":1679837495,"answer_id":75848061,"question_id":75731476,"body_markdown":"Appium is basically HTTP server.\r\nIn order to use the webdriver/client - you need a working server.\r\nYou can start the server locally with the following code:\r\n\r\n \r\n\r\n      public static void startService_3(){\r\n            AppiumServiceBuilder appiumServiceBuilder=new AppiumServiceBuilder()\r\n                    .withAppiumJS(new File(&quot;C:\\\\Users\\\\&quot; + &quot;{user}&quot; + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\r\n                    .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;)\r\n                    .withIPAddress(&quot;127.0.0.1&quot;)\r\n                    .usingAnyFreePort()\r\n                    .withArgument(GeneralServerFlag.SHELL);\r\n            service = AppiumDriverLocalService.buildService(appiumServiceBuilder);\r\n            service.start();\r\n        } \r\n\r\nThe pom.xml I&#39;m using contains:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;7.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.141.59&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nPlease let me know if it helps you.","title":"Appium-my console shows seesion not created exception-How to resolve","body":"<p>Appium is basically HTTP server.\nIn order to use the webdriver/client - you need a working server.\nYou can start the server locally with the following code:</p>\n<pre><code>  public static void startService_3(){\n        AppiumServiceBuilder appiumServiceBuilder=new AppiumServiceBuilder()\n                .withAppiumJS(new File(&quot;C:\\\\Users\\\\&quot; + &quot;{user}&quot; + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;)\n                .withIPAddress(&quot;127.0.0.1&quot;)\n                .usingAnyFreePort()\n                .withArgument(GeneralServerFlag.SHELL);\n        service = AppiumDriverLocalService.buildService(appiumServiceBuilder);\n        service.start();\n    } \n</code></pre>\n<p>The pom.xml I'm using contains:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;7.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please let me know if it helps you.</p>\n"}],"owner":{"account_id":28012959,"reputation":1,"user_id":21395177,"display_name":"Naveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679837495,"creation_date":1678787328,"question_id":75731476,"body_markdown":"i am using Appium V1.22.3 version\r\n\r\nScript\r\n\r\n```\r\npackage appium;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\n\r\nimport com.google.common.collect.ImmutableBiMap;\r\n\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.remote.MobileCapabilityType;\r\nimport io.appium.java_client.remote.MobilePlatform;\r\n\r\npublic class appium {\r\n\tpublic static AndroidDriver driver;\r\n\r\n\tpublic static void main(String[] args) throws MalformedURLException {\r\n\t\tDesiredCapabilities cap=new DesiredCapabilities();\r\ncap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\ncap.setCapability(&quot;platformVersion&quot;, &quot;13&quot;);\r\ncap.setCapability(&quot;udid&quot;, &quot;3200c3acb4e9758b&quot;);\r\ncap.setCapability(&quot;devicemName&quot;, &quot;Galaxy M13&quot;);\r\ncap.setCapability(&quot;appPackage&quot;, &quot;com.google.android.calculator&quot;);\r\ncap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.calculator.calculator&quot;);\r\nURL url=new URL(&quot;http:0.0.0.0:4723/wd/hub/&quot;);\r\ndriver =new AndroidDriver(cap);\r\nSystem.out.println(&quot;Done&quot;);\r\n\t\t\r\n\t\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\ni have watched multiple videos in yputube but still not yet issue resolved.can anyone suggest me a solution\r\n\r\n\r\n\r\n","title":"Appium-my console shows seesion not created exception-How to resolve","body":"<p>i am using Appium V1.22.3 version</p>\n<p>Script</p>\n<pre><code>package appium;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\nimport com.google.common.collect.ImmutableBiMap;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.remote.MobileCapabilityType;\nimport io.appium.java_client.remote.MobilePlatform;\n\npublic class appium {\n    public static AndroidDriver driver;\n\n    public static void main(String[] args) throws MalformedURLException {\n        DesiredCapabilities cap=new DesiredCapabilities();\ncap.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\ncap.setCapability(&quot;platformVersion&quot;, &quot;13&quot;);\ncap.setCapability(&quot;udid&quot;, &quot;3200c3acb4e9758b&quot;);\ncap.setCapability(&quot;devicemName&quot;, &quot;Galaxy M13&quot;);\ncap.setCapability(&quot;appPackage&quot;, &quot;com.google.android.calculator&quot;);\ncap.setCapability(&quot;appActivity&quot;, &quot;com.google.android.calculator.calculator&quot;);\nURL url=new URL(&quot;http:0.0.0.0:4723/wd/hub/&quot;);\ndriver =new AndroidDriver(cap);\nSystem.out.println(&quot;Done&quot;);\n        \n        }\n\n}\n</code></pre>\n<p>i have watched multiple videos in yputube but still not yet issue resolved.can anyone suggest me a solution</p>\n"},{"tags":["java","eclipse","video","ffmpeg","runtime"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1679763425,"post_id":75843148,"comment_id":133780679,"body_markdown":"You are not consuming STDOUT+STDERR so it will freeze. Use `ProcessBuilder` and handle reading both streams before calling `waitFor()`.","body":"You are not consuming STDOUT+STDERR so it will freeze. Use <code>ProcessBuilder</code> and handle reading both streams before calling <code>waitFor()</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1679765124,"post_id":75843148,"comment_id":133780939,"body_markdown":"You might be able to simplify that to `ProcessBuilder pb = new ProcessBuilder(setCommand(args, outputFile, fileFormat));pb.inheritIO();pb.start();`","body":"You might be able to simplify that to <code>ProcessBuilder pb = new ProcessBuilder(setCommand(args, outputFile, fileFormat));pb.inheritIO();pb.start();</code>"}],"answers":[{"comments":[{"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"score":0,"creation_date":1679764164,"post_id":75843278,"comment_id":133780794,"body_markdown":"Ohh! This is my first time working with Runtime and (sub-)processes, so I didnt know this. Thank you a lot for the quick reply!","body":"Ohh! This is my first time working with Runtime and (sub-)processes, so I didnt know this. Thank you a lot for the quick reply!"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679764406,"creation_date":1679763998,"answer_id":75843278,"question_id":75843148,"body_markdown":"To reliably start a sub-process you need to handle the output streams or the process will block. Use `ProcessBuilder` to have better control of where output streams go - including redirect to `File`. \r\n\r\nHere is a simple example of how to handle launch which could be used in place of `Runtime.exec()` and sends STDOUT(/STDERR) to any stream you pass in:\r\n\r\n    // Example: start(yourCmd, null, System.out, null);\r\n    // or start(yourCmd, null, System.out, System.err);\r\n    // Don&#39;t forget to close streams you pass in - if appropriate\r\n\r\n    public static int start(String[] cmd, byte[] stdin, OutputStream stdout, OutputStream stderr)\r\n            throws IOException, InterruptedException\r\n    {\r\n        Objects.requireNonNull(cmd);\r\n        Objects.requireNonNull(stdout);\r\n        System.out.println(&quot;start &quot;+Arrays.toString(cmd));\r\n\r\n        // Launch and wait:\r\n        ProcessBuilder pb = new ProcessBuilder(cmd);\r\n        if (stderr == null) {\r\n            pb.redirectErrorStream(true);   // No STDERR =&gt; merge to STDOUT\r\n        }\r\n\r\n        Process p = pb.start();\r\n\r\n        // Consumes STDERR at same time as STDOUT, not doing this large streams can block I/O in the sub-process\r\n        Thread bg = null;\r\n        if (stderr != null) {\r\n            Runnable task = () -&gt; {\r\n                try(var from = p.getErrorStream()) {\r\n                    from.transferTo(stderr);\r\n                } catch(IOException io) {\r\n                    throw new UncheckedIOException(io);\r\n                }\r\n            };\r\n            bg = new Thread(task, &quot;STDERR&quot;);\r\n            bg.start();\r\n        }\r\n\r\n        // Send STDIN if required, and close STDIN stream\r\n        // NOTE!!! a huge input stream can lock up STDOUT/STDERR readers, you may need a background thread here too\r\n        try(OutputStream os = p.getOutputStream()) {\r\n            if (stdin != null) os.write(stdin);\r\n        }\r\n\r\n        // Move STDOUT to the output stream\r\n        try(var stdo = p.getInputStream()) {\r\n            stdo.transferTo(stdout);\r\n        }\r\n\r\n        int rc = p.waitFor();\r\n        if (bg != null) {\r\n            bg.join();\r\n        }\r\n\r\n        System.out.println(&quot;start &quot;+Arrays.toString(cmd));\r\n        System.out.println(&quot;Exit &quot;+p.pid()+&quot; CODE &quot;+rc +&#39; &#39;+(rc == 0 ? &quot;OK&quot;:&quot;**** ERROR ****&quot;)+&quot; &quot;+(stderr == null ? &quot;STDERR&gt;OUT&quot;:&quot;&quot;));\r\n        return rc;\r\n    }\r\n\r\n","title":"Runtime.exec() freezes on execution of ffmpeg Audio-replacing command that works in windows console","body":"<p>To reliably start a sub-process you need to handle the output streams or the process will block. Use <code>ProcessBuilder</code> to have better control of where output streams go - including redirect to <code>File</code>.</p>\n<p>Here is a simple example of how to handle launch which could be used in place of <code>Runtime.exec()</code> and sends STDOUT(/STDERR) to any stream you pass in:</p>\n<pre><code>// Example: start(yourCmd, null, System.out, null);\n// or start(yourCmd, null, System.out, System.err);\n// Don't forget to close streams you pass in - if appropriate\n\npublic static int start(String[] cmd, byte[] stdin, OutputStream stdout, OutputStream stderr)\n        throws IOException, InterruptedException\n{\n    Objects.requireNonNull(cmd);\n    Objects.requireNonNull(stdout);\n    System.out.println(&quot;start &quot;+Arrays.toString(cmd));\n\n    // Launch and wait:\n    ProcessBuilder pb = new ProcessBuilder(cmd);\n    if (stderr == null) {\n        pb.redirectErrorStream(true);   // No STDERR =&gt; merge to STDOUT\n    }\n\n    Process p = pb.start();\n\n    // Consumes STDERR at same time as STDOUT, not doing this large streams can block I/O in the sub-process\n    Thread bg = null;\n    if (stderr != null) {\n        Runnable task = () -&gt; {\n            try(var from = p.getErrorStream()) {\n                from.transferTo(stderr);\n            } catch(IOException io) {\n                throw new UncheckedIOException(io);\n            }\n        };\n        bg = new Thread(task, &quot;STDERR&quot;);\n        bg.start();\n    }\n\n    // Send STDIN if required, and close STDIN stream\n    // NOTE!!! a huge input stream can lock up STDOUT/STDERR readers, you may need a background thread here too\n    try(OutputStream os = p.getOutputStream()) {\n        if (stdin != null) os.write(stdin);\n    }\n\n    // Move STDOUT to the output stream\n    try(var stdo = p.getInputStream()) {\n        stdo.transferTo(stdout);\n    }\n\n    int rc = p.waitFor();\n    if (bg != null) {\n        bg.join();\n    }\n\n    System.out.println(&quot;start &quot;+Arrays.toString(cmd));\n    System.out.println(&quot;Exit &quot;+p.pid()+&quot; CODE &quot;+rc +' '+(rc == 0 ? &quot;OK&quot;:&quot;**** ERROR ****&quot;)+&quot; &quot;+(stderr == null ? &quot;STDERR&gt;OUT&quot;:&quot;&quot;));\n    return rc;\n}\n</code></pre>\n"}],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843278,"answer_count":1,"score":0,"last_activity_date":1679836873,"creation_date":1679762836,"question_id":75843148,"body_markdown":"I have been building an application to merge together videos based on data I got from the web. I was lucky enough to find this great tool ffmpeg that has saved me a lot of time and effort, but unfortunately I seem to be stuck on the following issue:\r\n\r\nIm attempting to execute a command for merging a video with audio (in the future I will also be adding hardcoded .ASS subtitles and .PNG images).\r\nMy application dynamically generates me a command based on the files its suppposed to use which works just as intended, as the command that I get works inside of my windows console (cmd).\r\nBut when I try to run it through my Java application, the code seems to &quot;freeze&quot; permanently and while the placeholder file gets created on my desktop with the filename and correct file format, it just has the default windows video icon and cant be opened (as it has not finished being created, duh).\r\nIm also using Eclipse, perhaps thats worth noting.\r\n\r\nThis is the part of the code where it freezes:\r\n\r\n\tprotected void runFFMPEG(Multimap&lt;String,String&gt; args, String outputFile, String fileFormat) throws IOException\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tRuntime.getRuntime().exec(setCommand(args, outputFile, fileFormat)).waitFor();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nas previously said, the command itself is generated correctly, but heres the code nonetheless:\r\n\r\n    private String[] setCommand(Multimap&lt;String, String&gt; args, String outputFile, String fileFormat)\r\n\t{\r\n\t\tString[] command = new String[args.size()*2+2];\r\n\t\tcommand[0] = ffmpegLocation;\r\n\t\tint[] i = new int[1];\r\n\t\ti[0] = 1;\r\n\t\targs.forEach((key, value) -&gt; { \r\n\t\t\tcommand[i[0]++] = key;\r\n\t\t\tcommand[i[0]++] = value;\r\n\t\t});\r\n\t\tcommand[i[0]] = outputFile + fileFormat;\r\n\t\treturn command;\r\n\t}\r\n\r\n\t\r\n\r\n**Note**: I used a normal string previously for **command**, but I saw another thread saying that using an array instead fixxed their issue (which it didnt for me, else i wouldnt be here...).\r\n\r\nThis is an example command that gets generated:\r\n\r\n**ffmpeg.exe -ss 00:00:00 -to 00:00:15 -i C:\\Users\\Test.mp4 -i  C:\\Users\\FINAL.mp3 -map 0 -map 1:a -c:v copy C:/Users/User/TestVideo.mp4**\r\n\r\nI also have a different command that concats the audio together into one FINAL.mp3 file, so its not like ffmpeg entirely fails to work in my application.\r\nMy guess is that it has something to do with the Runtime i get with Runtime.getRunTime(), but I cant seem to find out what the problem is.\r\nCan someone tell me what I did wrong? Thanks in advance!","title":"Runtime.exec() freezes on execution of ffmpeg Audio-replacing command that works in windows console","body":"<p>I have been building an application to merge together videos based on data I got from the web. I was lucky enough to find this great tool ffmpeg that has saved me a lot of time and effort, but unfortunately I seem to be stuck on the following issue:</p>\n<p>Im attempting to execute a command for merging a video with audio (in the future I will also be adding hardcoded .ASS subtitles and .PNG images).\nMy application dynamically generates me a command based on the files its suppposed to use which works just as intended, as the command that I get works inside of my windows console (cmd).\nBut when I try to run it through my Java application, the code seems to &quot;freeze&quot; permanently and while the placeholder file gets created on my desktop with the filename and correct file format, it just has the default windows video icon and cant be opened (as it has not finished being created, duh).\nIm also using Eclipse, perhaps thats worth noting.</p>\n<p>This is the part of the code where it freezes:</p>\n<pre><code>protected void runFFMPEG(Multimap&lt;String,String&gt; args, String outputFile, String fileFormat) throws IOException\n{\n    try\n    {\n        Runtime.getRuntime().exec(setCommand(args, outputFile, fileFormat)).waitFor();\n    }\n    catch (InterruptedException e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>as previously said, the command itself is generated correctly, but heres the code nonetheless:</p>\n<pre><code>private String[] setCommand(Multimap&lt;String, String&gt; args, String outputFile, String fileFormat)\n{\n    String[] command = new String[args.size()*2+2];\n    command[0] = ffmpegLocation;\n    int[] i = new int[1];\n    i[0] = 1;\n    args.forEach((key, value) -&gt; { \n        command[i[0]++] = key;\n        command[i[0]++] = value;\n    });\n    command[i[0]] = outputFile + fileFormat;\n    return command;\n}\n</code></pre>\n<p><strong>Note</strong>: I used a normal string previously for <strong>command</strong>, but I saw another thread saying that using an array instead fixxed their issue (which it didnt for me, else i wouldnt be here...).</p>\n<p>This is an example command that gets generated:</p>\n<p><strong>ffmpeg.exe -ss 00:00:00 -to 00:00:15 -i C:\\Users\\Test.mp4 -i  C:\\Users\\FINAL.mp3 -map 0 -map 1:a -c:v copy C:/Users/User/TestVideo.mp4</strong></p>\n<p>I also have a different command that concats the audio together into one FINAL.mp3 file, so its not like ffmpeg entirely fails to work in my application.\nMy guess is that it has something to do with the Runtime i get with Runtime.getRunTime(), but I cant seem to find out what the problem is.\nCan someone tell me what I did wrong? Thanks in advance!</p>\n"},{"tags":["java","math","collision-detection"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679622059,"post_id":75829363,"comment_id":133758652,"body_markdown":"Have you considered using parts of the `Shape` API, which already provides this kind of functionality?","body":"Have you considered using parts of the <code>Shape</code> API, which already provides this kind of functionality?"},{"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"score":0,"creation_date":1679622167,"post_id":75829363,"comment_id":133758662,"body_markdown":"I&#39;m doing this for a comp sci class and we never learned how to do that so I don&#39;t know if my teacher would like that. I can use packages and stuff that we haven&#39;t learned but I think a whole API would be too much","body":"I&#39;m doing this for a comp sci class and we never learned how to do that so I don&#39;t know if my teacher would like that. I can use packages and stuff that we haven&#39;t learned but I think a whole API would be too much"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679624422,"post_id":75829363,"comment_id":133758910,"body_markdown":"They&#39;re built in - just saying, the wheels already been invited.  If it was me, I might have a quick look at the code behind it and see if it&#39;s adaptable to your needs ;)","body":"They&#39;re built in - just saying, the wheels already been invited.  If it was me, I might have a quick look at the code behind it and see if it&#39;s adaptable to your needs ;)"},{"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"score":0,"creation_date":1679628949,"post_id":75829363,"comment_id":133759340,"body_markdown":"Ah i see, it looks like a lot of it is with rectangles and not ellipses but I&#39;ll check it out, thanks","body":"Ah i see, it looks like a lot of it is with rectangles and not ellipses but I&#39;ll check it out, thanks"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1679629041,"post_id":75829363,"comment_id":133759352,"body_markdown":"[`Ellipse2D`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Ellipse2D.html)?  You could even make you&#39;re shapes with [`Path2D`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Path2D.html)","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Ellipse2D.html\" rel=\"nofollow noreferrer\"><code>Ellipse2D</code></a>?  You could even make you&#39;re shapes with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/geom/Path2D.html\" rel=\"nofollow noreferrer\"><code>Path2D</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":1580982,"reputation":57898,"user_id":1468366,"accept_rate":78,"display_name":"MvG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679836067,"creation_date":1679834421,"answer_id":75847807,"question_id":75829363,"body_markdown":"I&#39;ll try to come up with an exact mathematical formula on whether two ellipses intersect. This answer would be easier on http://math.stackexchange.com where I would have proper mathematicall typesetting. But I&#39;ll try to be clear here as well.\r\n\r\nI assume you have a typo in your formula, and that you want `a` as one semi-axis and `b` as the other, not `a` in both cases. I assume your formula actually is\r\n\r\n    (x-h)&#178;/a&#178; + (y-k)&#178;/b&#178; = 1\r\n\r\nwhich can also be written in [matrix representation](https://en.wikipedia.org/wiki/Matrix_representation_of_conic_sections) as\r\n\r\n              ⎡ b&#178;     0         -b&#178;h      ⎤   ⎡x⎤\r\n    [x y 1] * ⎢ 0      a&#178;        -a&#178;k      ⎥ * ⎢y⎥ = 0\r\n              ⎣-b&#178;h   -a&#178;k   a&#178;k&#178;+b&#178;h&#178;-a&#178;b&#178;⎦   ⎣1⎦\r\n\r\nThe zeros in that matrix account for the fact that your ellipse is aligned with the coordinate axes. Some other readers might be dealing with rotated ellipses, in which case you would get an even more general form of this matrix, with non-zero entries everywhere but still symmetric.\r\n\r\nIf you have two different ellipses, you get two different matrices. Let&#39;s call them `M₁` and `M₂`. Then `M₁ + λM₂` is a linear combination of these two matrices. It represents a conic section which shares the same four points of intersection with the two given ellipses. (Some of these intersections might have complex coordinates, so you don&#39;t really see them.) Among these linear combinations are three special [degenerate](https://en.wikipedia.org/wiki/Degenerate_conic) cases, where the conic section turns into a pair of lines. These are characterized by `det(M₁ + λM₂) = 0`. This is a cubic (i.e. third degree) polynomial in `λ`.\r\n\r\nNow the point between the two ellipses intersecting one another and them not intersecting is a situation where they touch in a single point. That single point has algebraic multiplicity two, which means in the formulas it corresponds to two of the four points of intersection being in the same place. Which in turn means that two of the degenerate conics are in fact the same. Which means that the cubic polynomial in `λ` has a zero of multiplicit greater than 1. Which means that the [discriminant](https://en.wikipedia.org/wiki/Cubic_equation#Discriminant) of that polynomial is zero.\r\n\r\nIf the discriminant is zero at the point where the two ellipses touch, chances are that the sign of the discriminant can tell you whether the two ellipses are disjoint or whether they have more than that single point in common. A bit of experimentation should tell you which sign is which.\r\n\r\nBut there is a caveat here: the transition from two (real) points of intersection to four points of intersection again entails a touching situation, where two points are in the same location and the discriminant is zero. Moving through that situation will again change the sign of the discriminant. So while you can use the sign of the discriminant to distinguish between zero points of intersection and two points of intersection, it won&#39;t help to distinguish zero points of intersections from four points of intersection. It also won&#39;t distinguish between zero points of intersection because the ellipses don&#39;t overlap and zero points of intersection because one of the ellipses fully contains the other. If your hit boxes move so fast that they could go from no intersection to four points of intersection or full containment in a single step, this might be a problem for the approach I suggested. I&#39;ve asked a [Math StackExchange question](https://math.stackexchange.com/q/4666719/35416) of my own trying to get some ideas for how to improve this.\r\n\r\nI&#39;ll not write up the formula of the discriminant in your case, because if you go from the initial variables to that equation you&#39;d find it has total degree 32 in those variables. But if you do a careful step-by-step computation you should be able to get there within reasonable amount of effort, first to a matrix with linear terms, then to cubic terms for each part of the determinant, which you can combine to a single cubic, and then you can apply the known fixed formula `18abcd-4b&#179;d+b&#178;c&#178;-4ac&#179;-27a&#178;d&#178;` for a general cubic `aλ&#179;+bλ&#178;+cλ+d`. Keep in mind that you will get some really large numbers, so you should use double arithmetic as integer overflow is a very likely problem.","title":"How do I detect intersections with elipses in java","body":"<p>I'll try to come up with an exact mathematical formula on whether two ellipses intersect. This answer would be easier on <a href=\"http://math.stackexchange.com\">http://math.stackexchange.com</a> where I would have proper mathematicall typesetting. But I'll try to be clear here as well.</p>\n<p>I assume you have a typo in your formula, and that you want <code>a</code> as one semi-axis and <code>b</code> as the other, not <code>a</code> in both cases. I assume your formula actually is</p>\n<pre><code>(x-h)²/a² + (y-k)²/b² = 1\n</code></pre>\n<p>which can also be written in <a href=\"https://en.wikipedia.org/wiki/Matrix_representation_of_conic_sections\" rel=\"nofollow noreferrer\">matrix representation</a> as</p>\n<pre><code>          ⎡ b²     0         -b²h      ⎤   ⎡x⎤\n[x y 1] * ⎢ 0      a²        -a²k      ⎥ * ⎢y⎥ = 0\n          ⎣-b²h   -a²k   a²k²+b²h²-a²b²⎦   ⎣1⎦\n</code></pre>\n<p>The zeros in that matrix account for the fact that your ellipse is aligned with the coordinate axes. Some other readers might be dealing with rotated ellipses, in which case you would get an even more general form of this matrix, with non-zero entries everywhere but still symmetric.</p>\n<p>If you have two different ellipses, you get two different matrices. Let's call them <code>M₁</code> and <code>M₂</code>. Then <code>M₁ + λM₂</code> is a linear combination of these two matrices. It represents a conic section which shares the same four points of intersection with the two given ellipses. (Some of these intersections might have complex coordinates, so you don't really see them.) Among these linear combinations are three special <a href=\"https://en.wikipedia.org/wiki/Degenerate_conic\" rel=\"nofollow noreferrer\">degenerate</a> cases, where the conic section turns into a pair of lines. These are characterized by <code>det(M₁ + λM₂) = 0</code>. This is a cubic (i.e. third degree) polynomial in <code>λ</code>.</p>\n<p>Now the point between the two ellipses intersecting one another and them not intersecting is a situation where they touch in a single point. That single point has algebraic multiplicity two, which means in the formulas it corresponds to two of the four points of intersection being in the same place. Which in turn means that two of the degenerate conics are in fact the same. Which means that the cubic polynomial in <code>λ</code> has a zero of multiplicit greater than 1. Which means that the <a href=\"https://en.wikipedia.org/wiki/Cubic_equation#Discriminant\" rel=\"nofollow noreferrer\">discriminant</a> of that polynomial is zero.</p>\n<p>If the discriminant is zero at the point where the two ellipses touch, chances are that the sign of the discriminant can tell you whether the two ellipses are disjoint or whether they have more than that single point in common. A bit of experimentation should tell you which sign is which.</p>\n<p>But there is a caveat here: the transition from two (real) points of intersection to four points of intersection again entails a touching situation, where two points are in the same location and the discriminant is zero. Moving through that situation will again change the sign of the discriminant. So while you can use the sign of the discriminant to distinguish between zero points of intersection and two points of intersection, it won't help to distinguish zero points of intersections from four points of intersection. It also won't distinguish between zero points of intersection because the ellipses don't overlap and zero points of intersection because one of the ellipses fully contains the other. If your hit boxes move so fast that they could go from no intersection to four points of intersection or full containment in a single step, this might be a problem for the approach I suggested. I've asked a <a href=\"https://math.stackexchange.com/q/4666719/35416\">Math StackExchange question</a> of my own trying to get some ideas for how to improve this.</p>\n<p>I'll not write up the formula of the discriminant in your case, because if you go from the initial variables to that equation you'd find it has total degree 32 in those variables. But if you do a careful step-by-step computation you should be able to get there within reasonable amount of effort, first to a matrix with linear terms, then to cubic terms for each part of the determinant, which you can combine to a single cubic, and then you can apply the known fixed formula <code>18abcd-4b³d+b²c²-4ac³-27a²d²</code> for a general cubic <code>aλ³+bλ²+cλ+d</code>. Keep in mind that you will get some really large numbers, so you should use double arithmetic as integer overflow is a very likely problem.</p>\n"}],"owner":{"account_id":27128994,"reputation":11,"user_id":20671480,"display_name":"Yes 59"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679836067,"creation_date":1679621983,"question_id":75829363,"body_markdown":"I&#39;m trying to make a smash bros like game and I wanted hitboxes to be elipses since I can see where they collide better and move them in a more accurate direction and I&#39;m using the formula ((x-h)^2)/a^2) + \r\n((y-k)^2)/a^2) = 1 to do this but I can&#39;t get it to work\r\n\r\nI tried having it iterate through each x value in the domain of the first elipse and compare it to every domain value of the second elipse and if any x values were equal I had it check if they shared a y value and it works at some points but not others and I was wondering if anyone knew why\r\n\r\n```\r\npublic double[] intersects(Hitbox h1)\r\n\t{\r\n\t\tdouble d[] = {-1, -1};\r\n\t\tfor(double q = h-(a/2.0); q &lt;= h+(a/2.0); q += 10)\r\n\t\t{\r\n\t        for(double w = h1.getH()-(h1.getA()/2.0); w &lt;= h1.getH()+(h1.getA()/2.0); w += 10)\r\n\t          {\r\n\t            int ha = h1.getA();\r\n\t            int hb = h1.getB();\r\n\t            int hh = h1.getH();\r\n\t            int hk = h1.getK();\r\n\t            \r\n\t             if(Math.abs(q-w) &lt; 10)\r\n\t             {\r\n\t            \t long ab = (a*a)*(b*b);\r\n\t \t            System.out.println( q + &quot; \\t&quot; + w);\r\n\t \t            System.out.println(&quot;ab\\t&quot; + ab);\r\n\t \t            long bb = (int)((b*b)*((q-h)*(q-h)));\r\n\t \t            System.out.println(&quot;bb\\t&quot; + bb);\r\n\t \t            double y1 = k + Math.sqrt((ab-bb)/(a*a));\r\n\t \t            System.out.println(&quot;y1\\t&quot; + y1);\r\n\t \t            double negy1 = k - Math.sqrt((ab-bb)/(a*a));\r\n\t \t            System.out.println(&quot;negy1\\t&quot; + negy1);\r\n\t \t\r\n\t \t            ab = (ha*ha)*(hb*hb);\r\n\t \t            System.out.println(&quot;ab2\\t&quot; + ab);\r\n\t \t            bb = (int)((hb*hb)*((w-hh)*(w-hh)));\r\n\t \t            System.out.println(&quot;bb2\\t&quot; + bb);\r\n\t \t            double y2 = hk + Math.sqrt((ab-bb)/(ha*ha));\r\n\t \t            System.out.println(&quot;y2\\t&quot; + y2);\r\n\t \t            double negy2 = hk - Math.sqrt((ab-bb)/(ha*ha));\r\n\t \t            System.out.println(&quot;negy2\\t&quot; + negy2);\r\n\t \t            \r\n\t \t            \r\n\t \t            if(Math.abs(y2-y1) &lt; 30 ||Math.abs(negy2-y1) &lt; 30)\r\n\t \t            {\r\n\t \t              d[0] = q;\r\n\t \t              d[1] = y1;\r\n\t \t              latestIntersection = d;\r\n\t \t              System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\r\n\t \t              return d;\r\n\t \t            }\r\n\t \t            if(Math.abs(y2-negy1) &lt; 30 ||Math.abs(negy2-negy1) &lt; 30)\r\n\t \t            {\r\n\t \t              d[0] = q;\r\n\t \t              d[1] = negy1;\r\n\t \t              latestIntersection = d;\r\n\t \t              System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\r\n\t \t              return d;\r\n\t \t            }\r\n\t             }\r\n\t          }\r\n\t\t}\r\n\t\tlatestIntersection = d;\r\n        return d;\r\n\t}\r\n```\r\n\r\n\r\nedit:\r\n\r\nhere&#39;s solution\r\n\r\n  \r\n\r\n      public class Hitbox {\r\n    \r\n    \tprivate int h, k, a, b, startx, starty;\r\n    \tprivate double[] latestIntersection = {-1,-1};\r\n    \t\r\n    \tpublic Hitbox(int h, int k, int a, int b)\r\n    \t{\r\n    \t\tthis.a = a;\r\n    \t\tthis.b = b;\r\n    \t\tthis.h = h;\r\n    \t\tthis.k = k*-1;\r\n    \t}\r\n    \t\r\n    \tpublic double[] intersects(Hitbox h1)\r\n    \t{\r\n    \t\tdouble d[] = {-1, -1};\r\n    \t\tfor(double q = 1; q &lt;= 360; q+=.5)\r\n    \t\t{\r\n    \t\t\tdouble f = 0;\r\n                if(a &gt; b)\r\n                \tf = Math.sqrt((a*a)-(b*b));\r\n                else\r\n                \tf = Math.sqrt((b*b)-(a*a));\r\n                \r\n                double e = f/a;\r\n                \r\n                double top = (a*a)*(1-(e*e));\r\n                double bottom = 1-((e*e)*(Math.cos(q)*Math.cos(q)));\r\n                \r\n                double r1 = Math.sqrt(top/bottom);\r\n                \r\n                double x1 = r1*Math.cos(q);\r\n                double y1 = r1*Math.sin(q);\r\n                x1 += h;\r\n                y1 += k;\r\n                \r\n    \t        for(double w = 0; w &lt;= 360; w+=.5)\r\n    \t          {\r\n    \t        \tdouble a2 = h1.getA();\r\n    \t        \tdouble b2 = h1.getB();\r\n    \t        \t\r\n    \t        \tdouble f2 = 0;\r\n    \t        \t\r\n    \t        \tif(a2 &gt; b2)\r\n    \t            \tf2 = Math.sqrt((a2*a2)-(b2*b2));\r\n    \t            else\r\n    \t            \tf2 = Math.sqrt((b2*b2)-(a2*a2));\r\n    \t        \t\r\n    \t        \tdouble e2 = f2/a2;\r\n    \t        \t\r\n    \t            double top2 = (a2*a2)*(1-(e2*e2));\r\n    \t            double bottom2 = 1-((e2*e2)*(Math.cos(w)*Math.cos(w)));\r\n    \t            \r\n    \t            double r2 = Math.sqrt(top2/bottom2);\r\n    \t            \r\n    \t            double x2 = r2*Math.cos(w);\r\n    \t            double y2 = r2*Math.sin(w);\r\n    \t            x2 += h1.getH();\r\n    \t            y2 += h1.getK();\r\n    \t           \r\n    \t            \r\n    \t            if(Math.abs(x2-x1) &lt; 1 &amp;&amp; Math.abs(y2-y1) &lt; 1)\r\n    \t            {\r\n    \t            \td[0] = x1;\r\n    \t            \td[1] = y2;\r\n    \t            \tlatestIntersection = d;\r\n    \t            \treturn d;\r\n    \t            }\r\n    \t            \r\n    \t            \r\n    \t          }\r\n    \t\t}\r\n    \t\tlatestIntersection = d;\r\n            return d;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic double[] getOppositeInteresection()\r\n    \t{\r\n    \t\tdouble d[] = {-1,-1};\r\n    \t\tif(latestIntersection != d)\r\n    \t\t{\r\n    \t\t\tif(latestIntersection[0]-h &lt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[0] = latestIntersection[0]-h + (((latestIntersection[0]-h)*2)*-1);\r\n    \t\t\t\tSystem.out.println(d[0]);\r\n    \t\t\t\td[0] += h;\r\n    \t\t\t}\r\n    \t\t\telse if(latestIntersection[0]-h &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[0] = latestIntersection[0]-h - ((latestIntersection[0]-h)*2);\r\n    \t\t\t\tSystem.out.println(d[0]);\r\n    \t\t\t\td[0] += h;\r\n    \t\t\t}\r\n    \t\t\tif(latestIntersection[1]-k &lt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[1] = latestIntersection[1]-k + (((latestIntersection[1]-k)*2)*-1);\r\n    \t\t\t\tSystem.out.println(d[1]);\r\n    \t\t\t\td[1] += k;\r\n    \t\t\t\treturn d;\r\n    \t\t\t}\r\n    \t\t\telse if(latestIntersection[1]-k &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\td[1] = latestIntersection[1]-k - ((latestIntersection[1]-k)*2);\r\n    \t\t\t\tSystem.out.println(d[1]);\r\n    \t\t\t\td[1] += k;\r\n    \t\t\t\treturn d;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn d;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n      public int getA()\r\n      {\r\n        return a;\r\n      }\r\n      public int getB()\r\n      {\r\n        return b;\r\n      }\r\n    \r\n      public int getH()\r\n      {\r\n        return this.h;\r\n      }\r\n    \r\n      public int getK()\r\n      {\r\n        return this.k;\r\n      }\r\n    \r\n    public void setH(int h)\r\n    {\r\n    \tthis.h = h;\r\n    }\r\n    \r\n    public void setK(int k)\r\n    {\r\n    \tthis.k = k;\r\n    }\r\n    \r\n    public void setA(int a)\r\n    {\r\n    \tthis.a = a;\r\n    }\r\n    \r\n    public void setB(int b)\r\n    {\r\n    \tthis.b = b;\r\n    }\r\n      \r\n      \r\n    }\r\n\r\n","title":"How do I detect intersections with elipses in java","body":"<p>I'm trying to make a smash bros like game and I wanted hitboxes to be elipses since I can see where they collide better and move them in a more accurate direction and I'm using the formula ((x-h)^2)/a^2) +\n((y-k)^2)/a^2) = 1 to do this but I can't get it to work</p>\n<p>I tried having it iterate through each x value in the domain of the first elipse and compare it to every domain value of the second elipse and if any x values were equal I had it check if they shared a y value and it works at some points but not others and I was wondering if anyone knew why</p>\n<pre><code>public double[] intersects(Hitbox h1)\n    {\n        double d[] = {-1, -1};\n        for(double q = h-(a/2.0); q &lt;= h+(a/2.0); q += 10)\n        {\n            for(double w = h1.getH()-(h1.getA()/2.0); w &lt;= h1.getH()+(h1.getA()/2.0); w += 10)\n              {\n                int ha = h1.getA();\n                int hb = h1.getB();\n                int hh = h1.getH();\n                int hk = h1.getK();\n                \n                 if(Math.abs(q-w) &lt; 10)\n                 {\n                     long ab = (a*a)*(b*b);\n                    System.out.println( q + &quot; \\t&quot; + w);\n                    System.out.println(&quot;ab\\t&quot; + ab);\n                    long bb = (int)((b*b)*((q-h)*(q-h)));\n                    System.out.println(&quot;bb\\t&quot; + bb);\n                    double y1 = k + Math.sqrt((ab-bb)/(a*a));\n                    System.out.println(&quot;y1\\t&quot; + y1);\n                    double negy1 = k - Math.sqrt((ab-bb)/(a*a));\n                    System.out.println(&quot;negy1\\t&quot; + negy1);\n        \n                    ab = (ha*ha)*(hb*hb);\n                    System.out.println(&quot;ab2\\t&quot; + ab);\n                    bb = (int)((hb*hb)*((w-hh)*(w-hh)));\n                    System.out.println(&quot;bb2\\t&quot; + bb);\n                    double y2 = hk + Math.sqrt((ab-bb)/(ha*ha));\n                    System.out.println(&quot;y2\\t&quot; + y2);\n                    double negy2 = hk - Math.sqrt((ab-bb)/(ha*ha));\n                    System.out.println(&quot;negy2\\t&quot; + negy2);\n                    \n                    \n                    if(Math.abs(y2-y1) &lt; 30 ||Math.abs(negy2-y1) &lt; 30)\n                    {\n                      d[0] = q;\n                      d[1] = y1;\n                      latestIntersection = d;\n                      System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\n                      return d;\n                    }\n                    if(Math.abs(y2-negy1) &lt; 30 ||Math.abs(negy2-negy1) &lt; 30)\n                    {\n                      d[0] = q;\n                      d[1] = negy1;\n                      latestIntersection = d;\n                      System.out.println(&quot;fadonbhfabdfbnaodf&quot;);\n                      return d;\n                    }\n                 }\n              }\n        }\n        latestIntersection = d;\n        return d;\n    }\n</code></pre>\n<p>edit:</p>\n<p>here's solution</p>\n<pre><code>  public class Hitbox {\n\n    private int h, k, a, b, startx, starty;\n    private double[] latestIntersection = {-1,-1};\n    \n    public Hitbox(int h, int k, int a, int b)\n    {\n        this.a = a;\n        this.b = b;\n        this.h = h;\n        this.k = k*-1;\n    }\n    \n    public double[] intersects(Hitbox h1)\n    {\n        double d[] = {-1, -1};\n        for(double q = 1; q &lt;= 360; q+=.5)\n        {\n            double f = 0;\n            if(a &gt; b)\n                f = Math.sqrt((a*a)-(b*b));\n            else\n                f = Math.sqrt((b*b)-(a*a));\n            \n            double e = f/a;\n            \n            double top = (a*a)*(1-(e*e));\n            double bottom = 1-((e*e)*(Math.cos(q)*Math.cos(q)));\n            \n            double r1 = Math.sqrt(top/bottom);\n            \n            double x1 = r1*Math.cos(q);\n            double y1 = r1*Math.sin(q);\n            x1 += h;\n            y1 += k;\n            \n            for(double w = 0; w &lt;= 360; w+=.5)\n              {\n                double a2 = h1.getA();\n                double b2 = h1.getB();\n                \n                double f2 = 0;\n                \n                if(a2 &gt; b2)\n                    f2 = Math.sqrt((a2*a2)-(b2*b2));\n                else\n                    f2 = Math.sqrt((b2*b2)-(a2*a2));\n                \n                double e2 = f2/a2;\n                \n                double top2 = (a2*a2)*(1-(e2*e2));\n                double bottom2 = 1-((e2*e2)*(Math.cos(w)*Math.cos(w)));\n                \n                double r2 = Math.sqrt(top2/bottom2);\n                \n                double x2 = r2*Math.cos(w);\n                double y2 = r2*Math.sin(w);\n                x2 += h1.getH();\n                y2 += h1.getK();\n               \n                \n                if(Math.abs(x2-x1) &lt; 1 &amp;&amp; Math.abs(y2-y1) &lt; 1)\n                {\n                    d[0] = x1;\n                    d[1] = y2;\n                    latestIntersection = d;\n                    return d;\n                }\n                \n                \n              }\n        }\n        latestIntersection = d;\n        return d;\n    }\n    \n    \n    public double[] getOppositeInteresection()\n    {\n        double d[] = {-1,-1};\n        if(latestIntersection != d)\n        {\n            if(latestIntersection[0]-h &lt; 0)\n            {\n                d[0] = latestIntersection[0]-h + (((latestIntersection[0]-h)*2)*-1);\n                System.out.println(d[0]);\n                d[0] += h;\n            }\n            else if(latestIntersection[0]-h &gt; 0)\n            {\n                d[0] = latestIntersection[0]-h - ((latestIntersection[0]-h)*2);\n                System.out.println(d[0]);\n                d[0] += h;\n            }\n            if(latestIntersection[1]-k &lt; 0)\n            {\n                d[1] = latestIntersection[1]-k + (((latestIntersection[1]-k)*2)*-1);\n                System.out.println(d[1]);\n                d[1] += k;\n                return d;\n            }\n            else if(latestIntersection[1]-k &gt; 0)\n            {\n                d[1] = latestIntersection[1]-k - ((latestIntersection[1]-k)*2);\n                System.out.println(d[1]);\n                d[1] += k;\n                return d;\n            }\n        }\n        \n        return d;\n    }\n    \n    \n\n  public int getA()\n  {\n    return a;\n  }\n  public int getB()\n  {\n    return b;\n  }\n\n  public int getH()\n  {\n    return this.h;\n  }\n\n  public int getK()\n  {\n    return this.k;\n  }\n\npublic void setH(int h)\n{\n    this.h = h;\n}\n\npublic void setK(int k)\n{\n    this.k = k;\n}\n\npublic void setA(int a)\n{\n    this.a = a;\n}\n\npublic void setB(int b)\n{\n    this.b = b;\n}\n  \n  \n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679835836,"post_id":75834797,"comment_id":133788349,"body_markdown":"Maven works fine in Docker","body":"Maven works fine in Docker"}],"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679667633,"creation_date":1679667633,"answer_id":75834797,"question_id":75833022,"body_markdown":"After revised the **Dockerfile** and removing **maven** build form cqrs.core, the issue disappeared.\r\n\r\n\r\nHere is the Dockerfile shown below\r\n\r\n    FROM openjdk:17-jdk-slim\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    \r\n    COPY ${JAR_FILE} account.cmd.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/account.cmd.jar&quot;]\r\n    \r\n    EXPOSE 5000","title":"Cannot run docker-compose.yml covering mongodb, kafka, zookeper for CQRS in Spring Boot? Docker-compose Issue","body":"<p>After revised the <strong>Dockerfile</strong> and removing <strong>maven</strong> build form cqrs.core, the issue disappeared.</p>\n<p>Here is the Dockerfile shown below</p>\n<pre><code>FROM openjdk:17-jdk-slim\n\nARG JAR_FILE=target/*.jar\n\nCOPY ${JAR_FILE} account.cmd.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/account.cmd.jar&quot;]\n\nEXPOSE 5000\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75834797,"answer_count":1,"score":0,"last_activity_date":1679835845,"creation_date":1679656907,"question_id":75833022,"body_markdown":"I have a problem to run docker-compose.yml file covering mongodb, kafka, zookeper for CQRS in Spring Boot. I only focus on account-cmd to dockerize it now.\r\n\r\nWhen I try to run this command shown below, zookeeper is always pulling.\r\n\r\n    docker-compose up --build\r\n\r\nAs I get this problem, I cannot test the app running on Docker.\r\n\r\nHow can I fix it?\r\n\r\nHere is Dockerfile shown below\r\n\r\n    FROM openjdk:17-jdk-slim AS build\r\n    \r\n    COPY pom.xml mvnw ./\r\n    COPY .mvn .mvn\r\n    RUN ./mvnw dependency:resolve\r\n    \r\n    COPY src src\r\n    RUN ./mvnw package -Dmaven.test.skip\r\n    \r\n    FROM openjdk:17-jdk-slim\r\n    WORKDIR account-cmd\r\n    COPY --from=build target/*.jar account-cmd.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;account-cmd.jar&quot;]\r\n\r\nHere is docker-compose.yml shown below\r\n\r\n    version: &#39;3.9&#39;\r\n    \r\n    services:\r\n      app:\r\n        image: &#39;account-cmd:latest&#39;\r\n        build:\r\n          context: .\r\n        ports:\r\n          - &quot;5000:8080&quot;\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n          - mongodb\r\n        environment:\r\n          - kafka.producer.bootstrap-servers=broker:9092\r\n          - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n          - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n          - spring.data.mongodb.host=mongodb\r\n          - spring.data.mongodb.port=27017\r\n          - spring.data.mongodb.database=bankAccount\r\n          - server.port=5000\r\n        networks:\r\n          - bankAccount\r\n    \r\n    \r\n      mongodb:\r\n        image: &quot;mongo:latest&quot;\r\n        container_name: mongo-container\r\n        restart: always\r\n        ports:\r\n          - &quot;27017:27017&quot;\r\n        volumes:\r\n          - mongodb_data_container:/data/db\r\n        networks:\r\n          - bankAccount\r\n    \r\n      zookeeper:\r\n        image: &quot;bitnami/zookeeper&quot;\r\n        restart: always\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        volumes:\r\n          - &quot;zookeeper_data:/bitnami&quot;\r\n        environment:\r\n          - ALLOW_ANONYMOUS_LOGIN=yes\r\n        networks:\r\n          - bankAccount\r\n    \r\n      kafka:\r\n        image: &quot;bitnami/kafka&quot;\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        restart: always\r\n        volumes:\r\n          - &quot;kafka_data:/bitnami&quot;\r\n        environment:\r\n          - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\r\n          - ALLOW_PLAINTEXT_LISTENER=yes\r\n          - KAFKA_LISTENERS=PLAINTEXT://:9092\r\n          - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092\r\n        depends_on:\r\n          - zookeeper\r\n        networks:\r\n          - bankAccount\r\n    \r\n    \r\n    volumes:\r\n      mongodb_data_container:\r\n      zookeeper_data:\r\n        driver: local\r\n      kafka_data:\r\n        driver: local\r\n    \r\n    networks:\r\n      bankAccount:\r\n\r\n\r\nHere is my repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/cqrs-example","title":"Cannot run docker-compose.yml covering mongodb, kafka, zookeper for CQRS in Spring Boot? Docker-compose Issue","body":"<p>I have a problem to run docker-compose.yml file covering mongodb, kafka, zookeper for CQRS in Spring Boot. I only focus on account-cmd to dockerize it now.</p>\n<p>When I try to run this command shown below, zookeeper is always pulling.</p>\n<pre><code>docker-compose up --build\n</code></pre>\n<p>As I get this problem, I cannot test the app running on Docker.</p>\n<p>How can I fix it?</p>\n<p>Here is Dockerfile shown below</p>\n<pre><code>FROM openjdk:17-jdk-slim AS build\n\nCOPY pom.xml mvnw ./\nCOPY .mvn .mvn\nRUN ./mvnw dependency:resolve\n\nCOPY src src\nRUN ./mvnw package -Dmaven.test.skip\n\nFROM openjdk:17-jdk-slim\nWORKDIR account-cmd\nCOPY --from=build target/*.jar account-cmd.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;account-cmd.jar&quot;]\n</code></pre>\n<p>Here is docker-compose.yml shown below</p>\n<pre><code>version: '3.9'\n\nservices:\n  app:\n    image: 'account-cmd:latest'\n    build:\n      context: .\n    ports:\n      - &quot;5000:8080&quot;\n    depends_on:\n      - zookeeper\n      - kafka\n      - mongodb\n    environment:\n      - kafka.producer.bootstrap-servers=broker:9092\n      - kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\n      - kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n      - spring.data.mongodb.host=mongodb\n      - spring.data.mongodb.port=27017\n      - spring.data.mongodb.database=bankAccount\n      - server.port=5000\n    networks:\n      - bankAccount\n\n\n  mongodb:\n    image: &quot;mongo:latest&quot;\n    container_name: mongo-container\n    restart: always\n    ports:\n      - &quot;27017:27017&quot;\n    volumes:\n      - mongodb_data_container:/data/db\n    networks:\n      - bankAccount\n\n  zookeeper:\n    image: &quot;bitnami/zookeeper&quot;\n    restart: always\n    ports:\n      - &quot;2181:2181&quot;\n    volumes:\n      - &quot;zookeeper_data:/bitnami&quot;\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes\n    networks:\n      - bankAccount\n\n  kafka:\n    image: &quot;bitnami/kafka&quot;\n    ports:\n      - &quot;9092:9092&quot;\n    restart: always\n    volumes:\n      - &quot;kafka_data:/bitnami&quot;\n    environment:\n      - KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181\n      - ALLOW_PLAINTEXT_LISTENER=yes\n      - KAFKA_LISTENERS=PLAINTEXT://:9092\n      - KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092\n    depends_on:\n      - zookeeper\n    networks:\n      - bankAccount\n\n\nvolumes:\n  mongodb_data_container:\n  zookeeper_data:\n    driver: local\n  kafka_data:\n    driver: local\n\nnetworks:\n  bankAccount:\n</code></pre>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/cqrs-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679835670,"creation_date":1679835670,"answer_id":75847907,"question_id":75833401,"body_markdown":"You should have deprecated the old class and package until the producer no longer was sending those events.\r\n\r\nYour only solution now is to skip those events.\r\n\r\nOtherwise, tests shouldn&#39;t rely on existing topic data, so you&#39;d never catch this error without having both versions of the old and new packages on your classpath, which I&#39;m guessing you want to avoid. ","title":"How to write Kafka event deserialization unit test which takes event headers into consideration?","body":"<p>You should have deprecated the old class and package until the producer no longer was sending those events.</p>\n<p>Your only solution now is to skip those events.</p>\n<p>Otherwise, tests shouldn't rely on existing topic data, so you'd never catch this error without having both versions of the old and new packages on your classpath, which I'm guessing you want to avoid.</p>\n"}],"owner":{"account_id":11453004,"reputation":137,"user_id":15555049,"display_name":"Aleksei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679835670,"creation_date":1679659286,"question_id":75833401,"body_markdown":"We send events to Kafka as JSON objects and recently we had deserialization errors in prod: \r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: The class &#39;com.our.company.otherPackage.MyEventClass&#39; is not in the trusted packages: [java.util, java.lang, com.our.company.package]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n```\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: com.our.otherPackage.ImmutableMyEventClass\r\n```\r\nJust in case: events are defined with org.Immutables library, that&#39;s why we have here _Immutable_ prefix\r\n\r\nOur Kafka events have `__TypeId__` header key with value `com.our.company.package.ImmutableMyEventClass`. These headers are considered during deserialization. Kafka event class was moved to other package, and when producer started to send events with `__TypeId__` header value of `com.our.company.otherPackage.ImmutableMyEventClass`, then consumers started to get deserialization errors. \r\n\r\nConsumers look like this:\r\n\r\n```\r\n@KafkaListener(\r\n        topics = &quot;${com.our.company.topic}&quot;,\r\n        containerFactory = &quot;containerFactory&quot;)\r\nvoid onEvent(ConsumerRecord&lt;String, MyEventClass&gt; record) {\r\n\r\n}\r\n```\r\n\r\nQuestion: how to write a unit test for deserialization to cover such cases? It would be great to protect ourselves from such cases in future. \r\n\r\nI know that we can handle the problem from the other side and make changes to deserializer, \r\n\r\nAlso, I am leaving this link where with explanation that checking `__TypeId__` can be disabled. Maybe it will be useful for somebody with similar problems: https://stackoverflow.com/questions/70856954/prevent-typeid-to-be-used-in-spring-cloud-stream\r\n\r\nBut let&#39;s focus on deserialization test with event headers: it would be a useful knowledge.","title":"How to write Kafka event deserialization unit test which takes event headers into consideration?","body":"<p>We send events to Kafka as JSON objects and recently we had deserialization errors in prod:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The class 'com.our.company.otherPackage.MyEventClass' is not in the trusted packages: [java.util, java.lang, com.our.company.package]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\n</code></pre>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.our.otherPackage.ImmutableMyEventClass\n</code></pre>\n<p>Just in case: events are defined with org.Immutables library, that's why we have here <em>Immutable</em> prefix</p>\n<p>Our Kafka events have <code>__TypeId__</code> header key with value <code>com.our.company.package.ImmutableMyEventClass</code>. These headers are considered during deserialization. Kafka event class was moved to other package, and when producer started to send events with <code>__TypeId__</code> header value of <code>com.our.company.otherPackage.ImmutableMyEventClass</code>, then consumers started to get deserialization errors.</p>\n<p>Consumers look like this:</p>\n<pre><code>@KafkaListener(\n        topics = &quot;${com.our.company.topic}&quot;,\n        containerFactory = &quot;containerFactory&quot;)\nvoid onEvent(ConsumerRecord&lt;String, MyEventClass&gt; record) {\n\n}\n</code></pre>\n<p>Question: how to write a unit test for deserialization to cover such cases? It would be great to protect ourselves from such cases in future.</p>\n<p>I know that we can handle the problem from the other side and make changes to deserializer,</p>\n<p>Also, I am leaving this link where with explanation that checking <code>__TypeId__</code> can be disabled. Maybe it will be useful for somebody with similar problems: <a href=\"https://stackoverflow.com/questions/70856954/prevent-typeid-to-be-used-in-spring-cloud-stream\">Prevent __TypeId__ to be used in Spring Cloud Stream</a></p>\n<p>But let's focus on deserialization test with event headers: it would be a useful knowledge.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679792778,"post_id":75845328,"comment_id":133784186,"body_markdown":"Does this answer your question? [What is the difference between RemoteWebDriver and WebDriver?](https://stackoverflow.com/questions/57528987/what-is-the-difference-between-remotewebdriver-and-webdriver)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57528987/what-is-the-difference-between-remotewebdriver-and-webdriver\">What is the difference between RemoteWebDriver and WebDriver?</a>"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679792837,"post_id":75845328,"comment_id":133784188,"body_markdown":"Here are some more related [questions and answers](https://www.google.com/search?q=selenium+remotewebdriver+vs.+webdriver+site:stackoverflow.com) which may help, for more background.","body":"Here are some more related <a href=\"https://www.google.com/search?q=selenium+remotewebdriver+vs.+webdriver+site:stackoverflow.com\" rel=\"nofollow noreferrer\">questions and answers</a> which may help, for more background."}],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679835520,"creation_date":1679835520,"answer_id":75847894,"question_id":75845328,"body_markdown":"The short answer is that RemoteWebDriver is to run selenium on other machines.\r\n\r\nRemoteWebDriver as interface of WebDriver and few more methods.\r\n\r\non your local machine you can use both RemoteWebDriver &amp; WebDriver but if you will to run it on different machine, you will need to use RemoteWebDriver.","title":"What&#39;s the difference between WebDriver and RemoteWebDriver in selenium? When and where we use them?","body":"<p>The short answer is that RemoteWebDriver is to run selenium on other machines.</p>\n<p>RemoteWebDriver as interface of WebDriver and few more methods.</p>\n<p>on your local machine you can use both RemoteWebDriver &amp; WebDriver but if you will to run it on different machine, you will need to use RemoteWebDriver.</p>\n"}],"owner":{"account_id":23903746,"reputation":1,"user_id":17901587,"display_name":"Poseidon Greek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679835520,"creation_date":1679791804,"question_id":75845328,"body_markdown":"I haven&#39;t got a clear explanation of these two. Can anyone please explain this to me?\r\n\r\n1. What&#39;s WebDriver and RemoteWebDriver? When and where we can declare it in selenium scripts?\r\n\r\n2. In place of WebDriver can we declare the RemoteWebDriver?\r\n","title":"What&#39;s the difference between WebDriver and RemoteWebDriver in selenium? When and where we use them?","body":"<p>I haven't got a clear explanation of these two. Can anyone please explain this to me?</p>\n<ol>\n<li><p>What's WebDriver and RemoteWebDriver? When and where we can declare it in selenium scripts?</p>\n</li>\n<li><p>In place of WebDriver can we declare the RemoteWebDriver?</p>\n</li>\n</ol>\n"},{"tags":["java","methods"],"answers":[{"tags":[],"owner":{"account_id":22260,"reputation":28542,"user_id":54736,"accept_rate":59,"display_name":"Silfverstrom"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314431186,"creation_date":1314430868,"answer_id":7213185,"question_id":7213165,"body_markdown":"It&#39;s a common design patter to encapsulate the process of &quot;getting&quot; and &quot;setting&quot; variables in methods. This gives you more freedom if you ever want to change the underlying implementation.\r\n\r\nFor an example, lets say you one day want to change the parameter girlName to be an object Girl instead;\r\nIf you directly access girlName from your outer classes, you will have to change all your external code.\r\n\r\nWith a setter method, you could simply change one method and do\r\n\r\n    public void setGirlname(String name)\r\n    {\r\n       girlname = new Girl(name, some_other_data);\r\n    }\r\n\r\nOr perhaps you want to make sure girlname always is returned with uppercase.\r\n\r\n    public String getGirlname()\r\n    {\r\n        return girlName.toUpperCase();\r\n    }\r\n\r\nThus giving you a loot more flexibility in your code design.\r\n","title":"What names should getter and setter methods have","body":"<p>It's a common design patter to encapsulate the process of \"getting\" and \"setting\" variables in methods. This gives you more freedom if you ever want to change the underlying implementation.</p>\n\n<p>For an example, lets say you one day want to change the parameter girlName to be an object Girl instead;\nIf you directly access girlName from your outer classes, you will have to change all your external code.</p>\n\n<p>With a setter method, you could simply change one method and do</p>\n\n<pre><code>public void setGirlname(String name)\n{\n   girlname = new Girl(name, some_other_data);\n}\n</code></pre>\n\n<p>Or perhaps you want to make sure girlname always is returned with uppercase.</p>\n\n<pre><code>public String getGirlname()\n{\n    return girlName.toUpperCase();\n}\n</code></pre>\n\n<p>Thus giving you a loot more flexibility in your code design.</p>\n"},{"comments":[{"owner":{"account_id":461350,"reputation":426,"user_id":862993,"accept_rate":50,"display_name":"Daniel Bezden"},"score":0,"creation_date":1314431055,"post_id":7213187,"comment_id":8667508,"body_markdown":"Im kind of beginner so its not very relevant right now, but I&#39;ll remember what you said for when I start doing a little more advanced stuff, so thanks!","body":"Im kind of beginner so its not very relevant right now, but I&#39;ll remember what you said for when I start doing a little more advanced stuff, so thanks!"},{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":0,"creation_date":1314431431,"post_id":7213187,"comment_id":8667540,"body_markdown":"@Petar, shouldn&#39;t getter do *only* what its name says - get value of a field? Isn&#39;t it against convention to add logic to getters and setters (once I heard that validation should be done outside setter, for its being obvious what it does - &quot;setter must only set the arg it gets&quot;).","body":"@Petar, shouldn&#39;t getter do <i>only</i> what its name says - get value of a field? Isn&#39;t it against convention to add logic to getters and setters (once I heard that validation should be done outside setter, for its being obvious what it does - &quot;setter must only set the arg it gets&quot;)."},{"owner":{"account_id":416547,"reputation":91914,"user_id":791998,"accept_rate":80,"display_name":"Petar Ivanov"},"score":0,"creation_date":1314431921,"post_id":7213187,"comment_id":8667587,"body_markdown":"If what you are saying is true, then the only purpose of of them would have been to make a field read-only (by providing only getter) or make a filed write-only (only setter). Other than that, why not use the field directly? I thought doing some simple things (e.g. lazy initialization, default value etc.) was ok, but I&#39;m not expert...","body":"If what you are saying is true, then the only purpose of of them would have been to make a field read-only (by providing only getter) or make a filed write-only (only setter). Other than that, why not use the field directly? I thought doing some simple things (e.g. lazy initialization, default value etc.) was ok, but I&#39;m not expert..."},{"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"score":0,"creation_date":1314438378,"post_id":7213187,"comment_id":8668209,"body_markdown":"I agree with dantuch. It doesn&#39;t matter whether you want to use the field or getter and it is not a good practice to do deatult value or initialization especially if you want to use with Java Bean, Spring or ORM since they may be directly injected to the field wihtout calling the setter and getter method.","body":"I agree with dantuch. It doesn&#39;t matter whether you want to use the field or getter and it is not a good practice to do deatult value or initialization especially if you want to use with Java Bean, Spring or ORM since they may be directly injected to the field wihtout calling the setter and getter method."}],"tags":[],"owner":{"account_id":416547,"reputation":91914,"user_id":791998,"accept_rate":80,"display_name":"Petar Ivanov"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314430898,"creation_date":1314430898,"answer_id":7213187,"question_id":7213165,"body_markdown":"The point of getters and setters is that only they are meant to be used to access the private varialble, which they are getting or setting. This way you provide encapsulation and it will be much easier to refactor or modify your code later.\r\n\r\nImagine you use `girlName` instead of its getter. Then if you want to add something like a default (say the default name is &#39;Guest&#39; if it wasn&#39;t set before), then you&#39;ll have to modify both the getter and the `sayName` function.\r\n\r\nThere is no requirement for getters and setter to start with get and set - they are just normal member functions. However it&#39;s a convention to do that. (especially if you use [Java Beans][1])\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaBean","title":"What names should getter and setter methods have","body":"<p>The point of getters and setters is that only they are meant to be used to access the private varialble, which they are getting or setting. This way you provide encapsulation and it will be much easier to refactor or modify your code later.</p>\n\n<p>Imagine you use <code>girlName</code> instead of its getter. Then if you want to add something like a default (say the default name is 'Guest' if it wasn't set before), then you'll have to modify both the getter and the <code>sayName</code> function.</p>\n\n<p>There is no requirement for getters and setter to start with get and set - they are just normal member functions. However it's a convention to do that. (especially if you use <a href=\"http://en.wikipedia.org/wiki/JavaBean\" rel=\"nofollow\">Java Beans</a>)</p>\n"},{"comments":[{"owner":{"account_id":461350,"reputation":426,"user_id":862993,"accept_rate":50,"display_name":"Daniel Bezden"},"score":0,"creation_date":1314431083,"post_id":7213190,"comment_id":8667514,"body_markdown":"oh yeah if you want to use the method outside of the class... thanks a ton!","body":"oh yeah if you want to use the method outside of the class... thanks a ton!"}],"tags":[],"owner":{"account_id":539291,"reputation":3420,"user_id":907095,"accept_rate":96,"display_name":"Adnan Bhatti"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314430924,"creation_date":1314430924,"answer_id":7213190,"question_id":7213165,"body_markdown":"You can use girlName here you really don&#39;t have to call getName(). The reason you need getName() is if you you want to get the name outside of this class. For example if you create a new class and then create the above class object in the new class and assign that object a name (value for girlName) you won&#39;t be able to access girlName from new class since it is private .. so you need a public method which will get the value for you. \r\n\r\n\r\nAlso it doesn&#39;t have to be getName or setName but this just makes it easy to understand what function is doing. \r\n","title":"What names should getter and setter methods have","body":"<p>You can use girlName here you really don't have to call getName(). The reason you need getName() is if you you want to get the name outside of this class. For example if you create a new class and then create the above class object in the new class and assign that object a name (value for girlName) you won't be able to access girlName from new class since it is private .. so you need a public method which will get the value for you. </p>\n\n<p>Also it doesn't have to be getName or setName but this just makes it easy to understand what function is doing. </p>\n"},{"tags":[],"owner":{"account_id":237401,"reputation":4558,"user_id":505539,"display_name":"i100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314431047,"creation_date":1314431047,"answer_id":7213199,"question_id":7213165,"body_markdown":"This way you can inspect classes and invoke them at runtime using Reflection. See more [here][1]\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-reflection/getters-setters.html\r\n\r\nHTH\r\n\r\nIvo Stoykov","title":"What names should getter and setter methods have","body":"<p>This way you can inspect classes and invoke them at runtime using Reflection. See more <a href=\"http://tutorials.jenkov.com/java-reflection/getters-setters.html\" rel=\"nofollow\">here</a></p>\n\n<p>HTH</p>\n\n<p>Ivo Stoykov</p>\n"},{"tags":[],"owner":{"account_id":250245,"reputation":11187,"user_id":526836,"accept_rate":71,"display_name":"Kiril Kirilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314431259,"creation_date":1314431259,"answer_id":7213215,"question_id":7213165,"body_markdown":"You must first read about [abstraction][1], [encapsulation][2] and [OOP][3] to understand about accessors, mutators, immutability and data access.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Abstraction_%28computer_science%29\r\n  [2]: http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29\r\n  [3]: http://en.wikipedia.org/wiki/Object-oriented_programming","title":"What names should getter and setter methods have","body":"<p>You must first read about <a href=\"http://en.wikipedia.org/wiki/Abstraction_%28computer_science%29\" rel=\"nofollow\">abstraction</a>, <a href=\"http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29\" rel=\"nofollow\">encapsulation</a> and <a href=\"http://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow\">OOP</a> to understand about accessors, mutators, immutability and data access.</p>\n"},{"tags":[],"owner":{"account_id":110120,"reputation":4781,"user_id":291538,"accept_rate":91,"display_name":"rompetroll"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679835202,"creation_date":1314432375,"answer_id":7213302,"question_id":7213165,"body_markdown":"You absolutely can use the variable directly in your example, mostly because `sayName()` is in the same class.\r\n\r\nOther than that, I see 3 reasons for having getters and setters:\r\n\r\n 1. It&#39;s a principle of object oriented programming to keep values\r\n    (state) private and provide public methods for interaction with\r\n    other classes.\r\n\r\n 2. Classes with getters and setters often follow the Java beans design pattern. This pattern allows those objects to be used in template engines or expression languages like JSP or Spring.\r\n\r\n 3. In some cases it prevents actual errors. An example:\r\n\r\n```java\r\npublic class DateHolder {\r\n    public Date date;\r\n\r\n    public static void main(String... args) {\r\n        DateHolder holder = new DateHolder();\r\n        holder.date = new Date();\r\n        System.out.println(&quot;date in holder: &quot; + holder.date);\r\n        Date outsideDateRef = holder.date;\r\n        outsideDateRef.setTime(1l);\r\n        // will be different, although we did not change anything in the holder object.\r\n        System.out.println(&quot;date in holder: &quot; + holder.date);\r\n    }\r\n}\r\n```\r\n\r\n\r\nwrapping the date variable with getter and setter that operate only with the value, not the reference, would prevent this:\r\n\r\n```java\r\npublic class DateHolder {\r\n    private Date date;\r\n\r\n    public Date getDate() {\r\n       return (Date)this.date.clone();\r\n    }\r\n\r\n    public void setDate(Date date) {\r\n       this.date = (Date) date.clone();\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        DateHolder holder = new DateHolder();\r\n        holder.setDate( new Date() );\r\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\r\n        Date outsideDateRef = holder.getDate();\r\n        outsideDateRef.setTime(1l);\r\n        // Date in holder will not have changed\r\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\r\n    }\r\n}\r\n```","title":"What names should getter and setter methods have","body":"<p>You absolutely can use the variable directly in your example, mostly because <code>sayName()</code> is in the same class.</p>\n<p>Other than that, I see 3 reasons for having getters and setters:</p>\n<ol>\n<li><p>It's a principle of object oriented programming to keep values\n(state) private and provide public methods for interaction with\nother classes.</p>\n</li>\n<li><p>Classes with getters and setters often follow the Java beans design pattern. This pattern allows those objects to be used in template engines or expression languages like JSP or Spring.</p>\n</li>\n<li><p>In some cases it prevents actual errors. An example:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateHolder {\n    public Date date;\n\n    public static void main(String... args) {\n        DateHolder holder = new DateHolder();\n        holder.date = new Date();\n        System.out.println(&quot;date in holder: &quot; + holder.date);\n        Date outsideDateRef = holder.date;\n        outsideDateRef.setTime(1l);\n        // will be different, although we did not change anything in the holder object.\n        System.out.println(&quot;date in holder: &quot; + holder.date);\n    }\n}\n</code></pre>\n<p>wrapping the date variable with getter and setter that operate only with the value, not the reference, would prevent this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateHolder {\n    private Date date;\n\n    public Date getDate() {\n       return (Date)this.date.clone();\n    }\n\n    public void setDate(Date date) {\n       this.date = (Date) date.clone();\n    }\n\n    public static void main(String... args) {\n        DateHolder holder = new DateHolder();\n        holder.setDate( new Date() );\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\n        Date outsideDateRef = holder.getDate();\n        outsideDateRef.setTime(1l);\n        // Date in holder will not have changed\n        System.out.println(&quot;date in holder: &quot; + holder.getDate());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1600895,"reputation":11,"user_id":1481936,"display_name":"Reeta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350714069,"creation_date":1340694627,"answer_id":11202322,"question_id":7213165,"body_markdown":"We want to prevent direct access to the variable, we make the variable a private variable.\r\nWhen the variable is private, other classes are not able to access that variable.\r\nIf we create variable as public it is accessible for all.\r\n\r\nto change the actual private variable we will now need public getter() or setter().\r\nThe basic naming conventions say that we will take the name of the variable and prefix it with get and/or set.\r\n\r\nin your specific case the getGirlname would be correct.\r\n\r\nWe call this encapsulation\r\n","title":"What names should getter and setter methods have","body":"<p>We want to prevent direct access to the variable, we make the variable a private variable.\nWhen the variable is private, other classes are not able to access that variable.\nIf we create variable as public it is accessible for all.</p>\n\n<p>to change the actual private variable we will now need public getter() or setter().\nThe basic naming conventions say that we will take the name of the variable and prefix it with get and/or set.</p>\n\n<p>in your specific case the getGirlname would be correct.</p>\n\n<p>We call this encapsulation</p>\n"}],"owner":{"account_id":461350,"reputation":426,"user_id":862993,"accept_rate":50,"display_name":"Daniel Bezden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20380,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1679835202,"creation_date":1314430516,"question_id":7213165,"body_markdown":"I am still very confused about getter and setter methods. I had this code;\r\n\r\n    public class MethodsInstances {\r\n    \t\r\n    \tpublic MethodsInstances(String name){\r\n    \t\tgirlName = name;\r\n    \t}\r\n    \t\r\n    \tprivate String girlName;\r\n    \t\r\n    \tpublic String getName(){\r\n    \t\treturn girlName;\r\n    \t}\r\n    \r\n    \tpublic void sayName(){\r\n    \t\tSystem.out.printf(&quot;Your first gf was %s&quot;, getName());\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nBut for &quot;sayName&quot;, why couldnt you instead of using getName(), just type girlName? It would be the same, because getName() returns girlName, as seen in the code. Also, do the methods have to start with get and set, or can be named whatever you want?\r\n\r\nHuge thanks from the newbie coder, Dan B","title":"What names should getter and setter methods have","body":"<p>I am still very confused about getter and setter methods. I had this code;</p>\n\n<pre><code>public class MethodsInstances {\n\n    public MethodsInstances(String name){\n        girlName = name;\n    }\n\n    private String girlName;\n\n    public String getName(){\n        return girlName;\n    }\n\n    public void sayName(){\n        System.out.printf(\"Your first gf was %s\", getName());\n\n    }\n}\n</code></pre>\n\n<p>But for \"sayName\", why couldnt you instead of using getName(), just type girlName? It would be the same, because getName() returns girlName, as seen in the code. Also, do the methods have to start with get and set, or can be named whatever you want?</p>\n\n<p>Huge thanks from the newbie coder, Dan B</p>\n"},{"tags":["java","eclipse","maven","properties","application.properties"],"answers":[{"comments":[{"owner":{"account_id":13419252,"reputation":13,"user_id":9682632,"display_name":"Kinozato"},"score":0,"creation_date":1679837370,"post_id":75847866,"comment_id":133788595,"body_markdown":"Ahhh thank you so much. I spent so many hours trying to understand the behavior but I got nowhere. I tried \n\n&quot;&lt;outputDirectory&gt;${project.build.directory}/target&lt;/outputDirectory&gt; thinking that I needed to put it there but when I ran:\n\nmvn help:effective-pom\n\nI saw that the outputDirectory was:\n\n&quot;&lt;outputDirectory&gt;/Users/Eclipse Workspace/TEST/my-app/target/classes&lt;/outputDirectory&gt;&quot;\n\nI&#39;ve been very confused as I don&#39;t see classes directory. Plus, classes was already there. I need to keep reading more about Maven. Thanks again!","body":"Ahhh thank you so much. I spent so many hours trying to understand the behavior but I got nowhere. I tried   &quot;&lt;outputDirectory&gt;${project.build.directory}/target&lt;/outputD&zwnj;&#8203;irectory&gt; thinking that I needed to put it there but when I ran:  mvn help:effective-pom  I saw that the outputDirectory was:  &quot;&lt;outputDirectory&gt;/Users/Eclipse Workspace/TEST/my-app/target/classes&lt;/outputDirectory&gt;&quot;  I&#39;ve been very confused as I don&#39;t see classes directory. Plus, classes was already there. I need to keep reading more about Maven. Thanks again!"},{"owner":{"account_id":13419252,"reputation":13,"user_id":9682632,"display_name":"Kinozato"},"score":0,"creation_date":1679837449,"post_id":75847866,"comment_id":133788601,"body_markdown":"I don&#39;t have enough reputation to upvote but I selected your answer as accepted :)","body":"I don&#39;t have enough reputation to upvote but I selected your answer as accepted :)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1679837545,"post_id":75847866,"comment_id":133788615,"body_markdown":"Don&#39;t worry about upvoting - it is more important that the problem is solved and that future readers with the same problem can view it.","body":"Don&#39;t worry about upvoting - it is more important that the problem is solved and that future readers with the same problem can view it."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679835150,"creation_date":1679835150,"answer_id":75847866,"question_id":75842890,"body_markdown":"`Class#getResourceAsStream` is loading _resources_ from the class loader (where `MyApp` is loaded from).\r\n\r\nIf you include a leading `/`, it will look up the resources from the _classpath root_ (or classloader root), which would be `target/classes` (where classes and resources are copied to) or `src/main/resources`. This does NOT refer to your project root.\r\n\r\nIn order to fix it, you could try to tell Maven to move the `application.properties` to `target/classes` (where it would normally be moved to):\r\n\r\n```xml\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;copy-resources&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;&lt;!-- alternative: ${project.build.directory}/classes --&gt;\r\n                        &lt;resources&gt;\r\n                            &lt;resource&gt;\r\n                                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                            &lt;/resource&gt;\r\n                        &lt;/resources&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n```\r\n\r\nResources will also be part of the application when you package it (e.g. in a JAR).\r\n\r\n\r\n\r\nAlternatively, If you want to access files from where you are executing the project, you can use APIs for dealing with files:\r\n```java\r\nPath path=Path.of(&quot;application.properties&quot;);\r\ntry(InputStream is=new BufferedInputStream(Files.newInputStream(path)){\r\n    //use is here\r\n}\r\n```\r\nBut be warned that this approach would require the file to be present when packaging the application and it will not include anything from inside the application.","title":"Working with the right application.properties when building maven project","body":"<p><code>Class#getResourceAsStream</code> is loading <em>resources</em> from the class loader (where <code>MyApp</code> is loaded from).</p>\n<p>If you include a leading <code>/</code>, it will look up the resources from the <em>classpath root</em> (or classloader root), which would be <code>target/classes</code> (where classes and resources are copied to) or <code>src/main/resources</code>. This does NOT refer to your project root.</p>\n<p>In order to fix it, you could try to tell Maven to move the <code>application.properties</code> to <code>target/classes</code> (where it would normally be moved to):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.outputDirectory}&lt;/outputDirectory&gt;&lt;!-- alternative: ${project.build.directory}/classes --&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>Resources will also be part of the application when you package it (e.g. in a JAR).</p>\n<p>Alternatively, If you want to access files from where you are executing the project, you can use APIs for dealing with files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path=Path.of(&quot;application.properties&quot;);\ntry(InputStream is=new BufferedInputStream(Files.newInputStream(path)){\n    //use is here\n}\n</code></pre>\n<p>But be warned that this approach would require the file to be present when packaging the application and it will not include anything from inside the application.</p>\n"}],"owner":{"account_id":13419252,"reputation":13,"user_id":9682632,"display_name":"Kinozato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75847866,"answer_count":1,"score":0,"last_activity_date":1679835150,"creation_date":1679760074,"question_id":75842890,"body_markdown":"I am not that experienced with maven. I am still learning and right now I am trying to do a simple project that will build for different environments populating different paths (I am also getting some guidance from chatGPT).\r\n\r\nThis is the simple structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMy java file:\r\n\r\n    package com.example;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    public class MyApp {\r\n        public static void main(String[] args) {\r\n            try {\r\n                Properties props = new Properties();\r\n                InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);\r\n    \r\n                props.load(stream);\r\n                stream.close();\r\n                System.out.println(&quot;Path: &quot; + props.getProperty(&quot;path.oldscores&quot;));\r\n                \r\n                \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nand the pom:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n                                 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;com.example.MyApp&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    \r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;dev&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;oldscores&gt;/Users/Eclipse Workspace/TEST/my-app/oldscores.txt&lt;/oldscores&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;prod&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;env&gt;prod&lt;/env&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;test&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;env&gt;test&lt;/env&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nIf I build it &quot;mvn clean install -Pdev&quot; I see that the application.properties in the outputDirectory specified gets populated:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nmy problem is with this line from my java file: \r\n\r\n&gt; InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);\r\n\r\n\r\nto my understanding we are still invoking the application.properties from the root (which is also confusing me because /application.properties would mean that this file is in the same location as where the pom is. If I execute this java file with this configuration I get:\r\n\r\n&gt; Path: ${oldscores}\r\n\r\nit is calling the application.properties from src/main/resources:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIf I change it to:\r\n\r\n&gt; InputStream stream = MyApp.class.getResourceAsStream(&quot;/target/application.properties&quot;);\r\n\r\nwhich to me makes sense since now we are looking in root -&gt; target -&gt; and the properties file, I get:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nPlease help me understand where my confusion is and how I can extract the properties that get populated in the target folder or if this is even the correct way of doing this.\r\n \r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qz9Sh.png\r\n  [2]: https://i.stack.imgur.com/uhavT.png\r\n  [3]: https://i.stack.imgur.com/awZD0.png\r\n  [4]: https://i.stack.imgur.com/a6yFh.jpg","title":"Working with the right application.properties when building maven project","body":"<p>I am not that experienced with maven. I am still learning and right now I am trying to do a simple project that will build for different environments populating different paths (I am also getting some guidance from chatGPT).</p>\n<p>This is the simple structure:</p>\n<p><a href=\"https://i.stack.imgur.com/qz9Sh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qz9Sh.png\" alt=\"enter image description here\" /></a></p>\n<p>My java file:</p>\n<pre><code>package com.example;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class MyApp {\n    public static void main(String[] args) {\n        try {\n            Properties props = new Properties();\n            InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);\n\n            props.load(stream);\n            stream.close();\n            System.out.println(&quot;Path: &quot; + props.getProperty(&quot;path.oldscores&quot;));\n            \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>and the pom:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n  &lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;com.example.MyApp&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;dev&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;oldscores&gt;/Users/Eclipse Workspace/TEST/my-app/oldscores.txt&lt;/oldscores&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;prod&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;env&gt;prod&lt;/env&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;test&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;env&gt;test&lt;/env&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>If I build it &quot;mvn clean install -Pdev&quot; I see that the application.properties in the outputDirectory specified gets populated:</p>\n<p><a href=\"https://i.stack.imgur.com/uhavT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uhavT.png\" alt=\"enter image description here\" /></a></p>\n<p>my problem is with this line from my java file:</p>\n<blockquote>\n<p>InputStream stream = MyApp.class.getResourceAsStream(&quot;/application.properties&quot;);</p>\n</blockquote>\n<p>to my understanding we are still invoking the application.properties from the root (which is also confusing me because /application.properties would mean that this file is in the same location as where the pom is. If I execute this java file with this configuration I get:</p>\n<blockquote>\n<p>Path: ${oldscores}</p>\n</blockquote>\n<p>it is calling the application.properties from src/main/resources:</p>\n<p><a href=\"https://i.stack.imgur.com/awZD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awZD0.png\" alt=\"enter image description here\" /></a></p>\n<p>If I change it to:</p>\n<blockquote>\n<p>InputStream stream = MyApp.class.getResourceAsStream(&quot;/target/application.properties&quot;);</p>\n</blockquote>\n<p>which to me makes sense since now we are looking in root -&gt; target -&gt; and the properties file, I get:</p>\n<p><a href=\"https://i.stack.imgur.com/a6yFh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a6yFh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Please help me understand where my confusion is and how I can extract the properties that get populated in the target folder or if this is even the correct way of doing this.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","eclipse","macos","sqlite"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1421116512,"post_id":27914091,"comment_id":44227426,"body_markdown":"Where is the logcat message? Which line in the file does it refer to?","body":"Where is the logcat message? Which line in the file does it refer to?"},{"owner":{"account_id":5579737,"reputation":1,"user_id":4422027,"display_name":"P. Walch"},"score":0,"creation_date":1421116680,"post_id":27914091,"comment_id":44227469,"body_markdown":"I am honestly not sure I am new to programming android.","body":"I am honestly not sure I am new to programming android."},{"owner":{"account_id":5579737,"reputation":1,"user_id":4422027,"display_name":"P. Walch"},"score":0,"creation_date":1421116847,"post_id":27914091,"comment_id":44227508,"body_markdown":"It does not say where as far as I know.","body":"It does not say where as far as I know."}],"answers":[{"tags":[],"owner":{"account_id":20707,"reputation":30842,"user_id":49746,"display_name":"Todd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421116815,"creation_date":1421116815,"answer_id":27914142,"question_id":27914091,"body_markdown":"    SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1\r\n\r\nPut quotes around &#39;Drive Time&#39; and &#39;Time of Day&#39; or rename the columns to `Drive_Time` and `Time_Of_Day`. That&#39;s not valid SQL as written.\r\n","title":"App keeps crashing when a button is pressed","body":"<pre><code>SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1\n</code></pre>\n\n<p>Put quotes around 'Drive Time' and 'Time of Day' or rename the columns to <code>Drive_Time</code> and <code>Time_Of_Day</code>. That's not valid SQL as written.</p>\n"},{"tags":[],"owner":{"account_id":1780791,"reputation":341,"user_id":1623602,"display_name":"Abhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421119420,"creation_date":1421119420,"answer_id":27914418,"question_id":27914091,"body_markdown":"Double quotes works for column names, try it as\r\n\r\n    SELECT DISTINCT _id, &quot;Drive Time&quot;, &quot;Time of Day&quot; FROM mainTable WHERE _id=-1\r\n\r\n","title":"App keeps crashing when a button is pressed","body":"<p>Double quotes works for column names, try it as</p>\n\n<pre><code>SELECT DISTINCT _id, \"Drive Time\", \"Time of Day\" FROM mainTable WHERE _id=-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679834708,"creation_date":1421122226,"answer_id":27914746,"question_id":27914091,"body_markdown":"You need to put double quotes while describing the column names.\r\n\r\nChange your code to: \r\n\r\n    SELECT DISTINCT _id, &quot;Drive Time&quot;, &quot;Time of Day&quot; FROM mainTable WHERE _id=-1\r\n","title":"App keeps crashing when a button is pressed","body":"<p>You need to put double quotes while describing the column names.</p>\n<p>Change your code to:</p>\n<pre><code>SELECT DISTINCT _id, &quot;Drive Time&quot;, &quot;Time of Day&quot; FROM mainTable WHERE _id=-1\n</code></pre>\n"}],"owner":{"account_id":5579737,"reputation":1,"user_id":4422027,"display_name":"P. Walch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1679834779,"creation_date":1421116394,"question_id":27914091,"body_markdown":"Every time I try to run my app, it crashes when I press a button. LogCat says that the cause is in this file. Here are the LogCat messages and the file that is causing the crash supposedly.\r\n\r\nHere is the file where the error is:\r\n     \r\n    package com.example.drive.drivercorder;\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n\r\n\r\n\r\n    public class dbadapter {\r\n\r\n\tprivate static final String TAG = &quot;DBAdapter&quot;;\r\n\r\n\tpublic static final String KEY_ROWID = &quot;_id&quot;;\r\n\tpublic static final int COL_ROWID = 0;\r\n\r\n\tpublic static final String KEY_DRIVETIME = &quot;Drive Time&quot;;\r\n\tpublic static final String KEY_NIGHTORDAY = &quot;Time of Day&quot;;\r\n\r\n\t\r\n\r\n\tpublic static final int COL_DRIVETIME = 1;\r\n\tpublic static final int COL_NIGHTORDAY = 2;\r\n\r\n\r\n\t\r\n\tpublic static final String[] ALL_KEYS = new String[] {KEY_ROWID, KEY_DRIVETIME,    \r\n    KEY_NIGHTORDAY, };\r\n\t\r\n\r\n\tpublic static final String DATABASE_NAME = &quot;MyDb&quot;;\r\n\tpublic static final String DATABASE_TABLE = &quot;mainTable&quot;;\r\n\r\n\tpublic static final int DATABASE_VERSION = 2;\t\r\n\t\r\n\tprivate static final String DATABASE_CREATE_SQL = \r\n\t\t\t&quot;create table &quot; + DATABASE_TABLE \r\n\t\t\t+ &quot; (&quot; + KEY_ROWID + &quot; integer primary key autoincrement, &quot;\r\n\r\n\t\t\t+ KEY_DRIVETIME + &quot; integer not null, &quot;\r\n\t\t\t+ KEY_NIGHTORDAY + &quot; text not null &quot;\r\n\r\n\t\t\t\r\n\r\n\t\t\t+ &quot;);&quot;;\r\n\r\n\r\n    private DatabaseHelper myDBHelper;\r\n\tprivate SQLiteDatabase db;\r\n\r\n\r\n\t\r\n\tpublic dbadapter(Context ctx) {\r\n        myDBHelper = new DatabaseHelper(ctx);\r\n\t}\r\n\t\r\n\r\n\tpublic dbadapter open() {\r\n\t\tdb = myDBHelper.getWritableDatabase();\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\r\n\tpublic void close() {\r\n\t    myDBHelper.close();\r\n\t}\r\n\t\r\n\r\n\tpublic long insertRow(int drivetime, String nightorday) {\r\n\r\n\t\tContentValues initialValues = new ContentValues();\r\n\t\tinitialValues.put(KEY_DRIVETIME, drivetime);\r\n\t\tinitialValues.put(KEY_NIGHTORDAY, nightorday);\r\n\r\n\t\t\r\n\r\n\t\treturn db.insert(DATABASE_TABLE, null, initialValues);\r\n\t}\r\n\r\n\r\n\t\r\n\r\n\tpublic Cursor getAllRows() {\r\n\t\tString where = null;\r\n\t\tCursor c = \tdb.query(true, DATABASE_TABLE, ALL_KEYS, \r\n\t\t\t\t\t\t\twhere, null, null, null, null, null);\r\n\t\tif (c != null) c.moveToFirst();\r\n\t\treturn c;\r\n\t}\r\n\r\n\r\n\tpublic Cursor getRow(long rowId) {\r\n\t\tString where = KEY_ROWID + &quot;=&quot; + rowId;\r\n\t\tCursor c = \tdb.query(true, DATABASE_TABLE, ALL_KEYS, \r\n\t\t\t\t\t\twhere, null, null, null, null, null);\r\n\t\tif (c != null) {\r\n\t\t\tc.moveToFirst();\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\r\n\tpublic boolean updateRow(long rowId, int drivetime, String nightorday) {\r\n\t\tString where = KEY_ROWID + &quot;=&quot; + rowId;\r\n\r\n\t\tContentValues newValues = new ContentValues();\r\n\t\tnewValues.put(KEY_DRIVETIME, drivetime);\r\n\t\tnewValues.put(KEY_NIGHTORDAY, nightorday);\r\n\r\n\t\treturn db.update(DATABASE_TABLE, newValues, where, null) != 0;\r\n\t}\r\n\t\r\n\r\n\tprivate static class DatabaseHelper extends SQLiteOpenHelper{\r\n\t\tDatabaseHelper(Context context) {\r\n\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onCreate(SQLiteDatabase _db) {\r\n\t\t\t_db.execSQL(DATABASE_CREATE_SQL);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void onUpgrade(SQLiteDatabase _db, int oldVersion, int newVersion) {\r\n\t\t\tLog.w(TAG, &quot;Upgrading application&#39;s database from version &quot; + oldVersion\r\n\t\t\t\t\t+ &quot; to &quot; + newVersion + &quot;, which will destroy all old data!&quot;);\r\n\r\n\t\t\t_db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + DATABASE_TABLE);\r\n\t\t\t\r\n\r\n\t\t\tonCreate(_db);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAnd here are the log cat messages indicating the cause of the crash:\r\n \r\n&gt; Caused by: android.database.sqlite.SQLiteException: near &quot;Day&quot;: syntax error (code 1): , while compiling: SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1\r\n","title":"App keeps crashing when a button is pressed","body":"<p>Every time I try to run my app, it crashes when I press a button. LogCat says that the cause is in this file. Here are the LogCat messages and the file that is causing the crash supposedly.</p>\n<p>Here is the file where the error is:</p>\n<pre><code>package com.example.drive.drivercorder;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\n\n\npublic class dbadapter {\n\nprivate static final String TAG = &quot;DBAdapter&quot;;\n\npublic static final String KEY_ROWID = &quot;_id&quot;;\npublic static final int COL_ROWID = 0;\n\npublic static final String KEY_DRIVETIME = &quot;Drive Time&quot;;\npublic static final String KEY_NIGHTORDAY = &quot;Time of Day&quot;;\n\n\n\npublic static final int COL_DRIVETIME = 1;\npublic static final int COL_NIGHTORDAY = 2;\n\n\n\npublic static final String[] ALL_KEYS = new String[] {KEY_ROWID, KEY_DRIVETIME,    \nKEY_NIGHTORDAY, };\n\n\npublic static final String DATABASE_NAME = &quot;MyDb&quot;;\npublic static final String DATABASE_TABLE = &quot;mainTable&quot;;\n\npublic static final int DATABASE_VERSION = 2;   \n\nprivate static final String DATABASE_CREATE_SQL = \n        &quot;create table &quot; + DATABASE_TABLE \n        + &quot; (&quot; + KEY_ROWID + &quot; integer primary key autoincrement, &quot;\n\n        + KEY_DRIVETIME + &quot; integer not null, &quot;\n        + KEY_NIGHTORDAY + &quot; text not null &quot;\n\n        \n\n        + &quot;);&quot;;\n\n\nprivate DatabaseHelper myDBHelper;\nprivate SQLiteDatabase db;\n\n\n\npublic dbadapter(Context ctx) {\n    myDBHelper = new DatabaseHelper(ctx);\n}\n\n\npublic dbadapter open() {\n    db = myDBHelper.getWritableDatabase();\n    return this;\n}\n\n\npublic void close() {\n    myDBHelper.close();\n}\n\n\npublic long insertRow(int drivetime, String nightorday) {\n\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(KEY_DRIVETIME, drivetime);\n    initialValues.put(KEY_NIGHTORDAY, nightorday);\n\n    \n\n    return db.insert(DATABASE_TABLE, null, initialValues);\n}\n\n\n\n\npublic Cursor getAllRows() {\n    String where = null;\n    Cursor c =  db.query(true, DATABASE_TABLE, ALL_KEYS, \n                        where, null, null, null, null, null);\n    if (c != null) c.moveToFirst();\n    return c;\n}\n\n\npublic Cursor getRow(long rowId) {\n    String where = KEY_ROWID + &quot;=&quot; + rowId;\n    Cursor c =  db.query(true, DATABASE_TABLE, ALL_KEYS, \n                    where, null, null, null, null, null);\n    if (c != null) {\n        c.moveToFirst();\n    }\n    return c;\n}\n\n\npublic boolean updateRow(long rowId, int drivetime, String nightorday) {\n    String where = KEY_ROWID + &quot;=&quot; + rowId;\n\n    ContentValues newValues = new ContentValues();\n    newValues.put(KEY_DRIVETIME, drivetime);\n    newValues.put(KEY_NIGHTORDAY, nightorday);\n\n    return db.update(DATABASE_TABLE, newValues, where, null) != 0;\n}\n\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper{\n    DatabaseHelper(Context context) {\n\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase _db) {\n        _db.execSQL(DATABASE_CREATE_SQL);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase _db, int oldVersion, int newVersion) {\n        Log.w(TAG, &quot;Upgrading application's database from version &quot; + oldVersion\n                + &quot; to &quot; + newVersion + &quot;, which will destroy all old data!&quot;);\n\n        _db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + DATABASE_TABLE);\n        \n\n        onCreate(_db);\n    }\n}\n}\n</code></pre>\n<p>And here are the log cat messages indicating the cause of the crash:</p>\n<blockquote>\n<p>Caused by: android.database.sqlite.SQLiteException: near &quot;Day&quot;: syntax error (code 1): , while compiling: SELECT DISTINCT _id, Drive Time, Time of Day FROM mainTable WHERE _id=-1</p>\n</blockquote>\n"},{"tags":["java","timezone","java-time","datetime-parsing","datetimeformatter"],"comments":[{"owner":{"account_id":2165323,"reputation":17427,"user_id":1918561,"accept_rate":100,"display_name":"Gereon"},"score":0,"creation_date":1679747864,"post_id":75841656,"comment_id":133778303,"body_markdown":"`MESZ` is not in the standard list of [timezone names](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones), although it&#39;s used frequently in Germany. You&#39;ll probably have to special-case a replacement with `CEST` for it.","body":"<code>MESZ</code> is not in the standard list of <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">timezone names</a>, although it&#39;s used frequently in Germany. You&#39;ll probably have to special-case a replacement with <code>CEST</code> for it."},{"owner":{"account_id":22392775,"reputation":29,"user_id":16604539,"display_name":"Vishal "},"score":1,"creation_date":1679767403,"post_id":75841656,"comment_id":133781252,"body_markdown":"Thank you @Gereon. I also found the answer that I have to use `Locale.Germany`","body":"Thank you @Gereon. I also found the answer that I have to use <code>Locale.Germany</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679833720,"post_id":75841656,"comment_id":133787998,"body_markdown":"Do not parse into a `LocalDateTime` here. Your string contains a time zone abbreviation that you want to pick up. So use `ZonedDateTime`. You can always convert later if you need to, and take the time zone into account in that conversion, but for most purposes you will not need to.","body":"Do not parse into a <code>LocalDateTime</code> here. Your string contains a time zone abbreviation that you want to pick up. So use <code>ZonedDateTime</code>. You can always convert later if you need to, and take the time zone into account in that conversion, but for most purposes you will not need to."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679833914,"post_id":75841656,"comment_id":133788019,"body_markdown":"Does this answer your question? [java DateTimeFormatterBuilder fails on testtime](https://stackoverflow.com/questions/50526234/java-datetimeformatterbuilder-fails-on-testtime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50526234/java-datetimeformatterbuilder-fails-on-testtime\">java DateTimeFormatterBuilder fails on testtime</a>"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679834087,"post_id":75843594,"comment_id":133788044,"body_markdown":"A very nice solution. It saves us from fiddling with any format pattern string at all.","body":"A very nice solution. It saves us from fiddling with any format pattern string at all."}],"tags":[],"owner":{"account_id":22392775,"reputation":29,"user_id":16604539,"display_name":"Vishal "},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679767313,"creation_date":1679767313,"answer_id":75843594,"question_id":75841656,"body_markdown":"I found the answer. I have to use DateTimeFormatter with Locale\r\n```\r\nDateTimeFormatter FORMATTER = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.GERMANY);\r\nLocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, FORMATTER);\r\n```\r\n\r\n\r\n","title":"MESZ is not recognized in the pattern of DateTimeFormatter of Java","body":"<p>I found the answer. I have to use DateTimeFormatter with Locale</p>\n<pre><code>DateTimeFormatter FORMATTER = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.GERMANY);\nLocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, FORMATTER);\n</code></pre>\n"}],"owner":{"account_id":22392775,"reputation":29,"user_id":16604539,"display_name":"Vishal "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75843594,"answer_count":1,"score":0,"last_activity_date":1679833937,"creation_date":1679747060,"question_id":75841656,"body_markdown":"```\r\nLocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, DateTimeFormatter.ofPattern(&quot;dd. MMMM yyyy HH:mm:ss z&quot;));\r\n```\r\nTrying to parse time string as shown above. &#39;z&#39; in the pattern is not able to recognize &quot;MESZ&quot; time zone.\r\n\r\n\r\nCan someone tell me if there is any other pattern I have to use to match &quot;MESZ&quot;?","title":"MESZ is not recognized in the pattern of DateTimeFormatter of Java","body":"<pre><code>LocalDateTime time = LocalDateTime.parse(&quot;27. April 2021 00:03:50 MESZ&quot;, DateTimeFormatter.ofPattern(&quot;dd. MMMM yyyy HH:mm:ss z&quot;));\n</code></pre>\n<p>Trying to parse time string as shown above. 'z' in the pattern is not able to recognize &quot;MESZ&quot; time zone.</p>\n<p>Can someone tell me if there is any other pattern I have to use to match &quot;MESZ&quot;?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"comments":[{"owner":{"account_id":9420062,"reputation":159,"user_id":7006709,"display_name":"zzy"},"score":0,"creation_date":1680262285,"post_id":75847719,"comment_id":133872417,"body_markdown":"Thanks, actually you are right, I missed the `advertised.listeners` config","body":"Thanks, actually you are right, I missed the <code>advertised.listeners</code> config"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679833320,"creation_date":1679833320,"answer_id":75847719,"question_id":75847368,"body_markdown":"1. Add a log4j.properties file to your client to see connection issues \r\n2. Make sure `advertised.listeners=PLAINTEXT://220.220.220.220:9092` on the server\r\n3. Test first with other tools like `kafka-console-consumer` or `kcat`","title":"KafkaConsumer get empty records from remote kafka server but get records when running the same program in the kafka server machine","body":"<ol>\n<li>Add a log4j.properties file to your client to see connection issues</li>\n<li>Make sure <code>advertised.listeners=PLAINTEXT://220.220.220.220:9092</code> on the server</li>\n<li>Test first with other tools like <code>kafka-console-consumer</code> or <code>kcat</code></li>\n</ol>\n"}],"owner":{"account_id":9420062,"reputation":159,"user_id":7006709,"display_name":"zzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75847719,"answer_count":1,"score":0,"last_activity_date":1679833366,"creation_date":1679829169,"question_id":75847368,"body_markdown":"I am using Kafka server 3.3.1 and java package Kafka-Clients 3.3.1.\r\n\r\nI have a simple KafkaConsumer program as below:\r\n```\r\n        Properties consumerProperties= new Properties();\r\n        // fake ip address\r\n        consumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);\r\n\r\n        consumerProperties.put(&quot;group.id&quot;, &quot;TestConsumerGroup&quot;);\r\n        consumerProperties.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n        consumerProperties.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n\r\n        consumerProperties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\r\n        consumerProperties.put(&quot;client.id&quot;, &quot;remote1&quot;);\r\n\r\n        KafkaConsumer consumer = new KafkaConsumer(consumerProperties);\r\n\r\n        String topicName=&quot;quickstart-events&quot;;\r\n        consumer.subscribe(Collections.singletonList(topicName));\r\n\r\n        Duration duration = Duration.ofSeconds(10);\r\n        int epoch=1;\r\n        while(true){\r\n\r\n            System.out.println(epoch++);\r\n\r\n            ConsumerRecords&lt;String, String&gt; records=consumer.poll(5000);\r\n            consumer.seekToBeginning(consumer.assignment());\r\n\r\n            System.out.println(&quot;records count:&quot;+records.count());\r\n            for(var record: records){\r\n                System.out.printf(&quot;topic=%s, partition=%d, offset=%d, key=%s, value=%s\\n&quot;, record.topic(),\r\n                record.partition(), record.offset(), record.key(), record.value());\r\n            }\r\n        }\r\n\r\n```\r\n\r\nFirstly, I run this program in the machine A(this can access kafka server machien with ssh) which is a different machine with kafka server machine.\r\nconsumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);// public ip 220.220.220.220:9092 this is the kafka server machine.\r\n\r\nThen the records count always is empty no matter the timeout duration. By the way, if I call listTopics() method then I can get the result successfully in machine A.\r\n\r\nSecondly, I deploy this program in the kafka server machine. Then I can read the message records successfully.\r\n\r\nDo you know the reason? Thanks\r\nThen \r\n\r\n\r\nThe expect result is that I should get the same result with I run this program in the kafka server machine.","title":"KafkaConsumer get empty records from remote kafka server but get records when running the same program in the kafka server machine","body":"<p>I am using Kafka server 3.3.1 and java package Kafka-Clients 3.3.1.</p>\n<p>I have a simple KafkaConsumer program as below:</p>\n<pre><code>        Properties consumerProperties= new Properties();\n        // fake ip address\n        consumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);\n\n        consumerProperties.put(&quot;group.id&quot;, &quot;TestConsumerGroup&quot;);\n        consumerProperties.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        consumerProperties.put(&quot;value.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n\n        consumerProperties.put(&quot;auto.offset.reset&quot;, &quot;earliest&quot;);\n        consumerProperties.put(&quot;client.id&quot;, &quot;remote1&quot;);\n\n        KafkaConsumer consumer = new KafkaConsumer(consumerProperties);\n\n        String topicName=&quot;quickstart-events&quot;;\n        consumer.subscribe(Collections.singletonList(topicName));\n\n        Duration duration = Duration.ofSeconds(10);\n        int epoch=1;\n        while(true){\n\n            System.out.println(epoch++);\n\n            ConsumerRecords&lt;String, String&gt; records=consumer.poll(5000);\n            consumer.seekToBeginning(consumer.assignment());\n\n            System.out.println(&quot;records count:&quot;+records.count());\n            for(var record: records){\n                System.out.printf(&quot;topic=%s, partition=%d, offset=%d, key=%s, value=%s\\n&quot;, record.topic(),\n                record.partition(), record.offset(), record.key(), record.value());\n            }\n        }\n\n</code></pre>\n<p>Firstly, I run this program in the machine A(this can access kafka server machien with ssh) which is a different machine with kafka server machine.\nconsumerProperties.put(&quot;bootstrap.servers&quot;, &quot;220.220.220.220:9092&quot;);// public ip 220.220.220.220:9092 this is the kafka server machine.</p>\n<p>Then the records count always is empty no matter the timeout duration. By the way, if I call listTopics() method then I can get the result successfully in machine A.</p>\n<p>Secondly, I deploy this program in the kafka server machine. Then I can read the message records successfully.</p>\n<p>Do you know the reason? Thanks\nThen</p>\n<p>The expect result is that I should get the same result with I run this program in the kafka server machine.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679788936,"post_id":75845196,"comment_id":133783898,"body_markdown":"Please don&#39;t post photos of text. Edit your question to include your code.","body":"Please don&#39;t post photos of text. Edit your question to include your code."},{"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"score":0,"creation_date":1679789001,"post_id":75845196,"comment_id":133783901,"body_markdown":"Oh sorry, I will edit it right now.","body":"Oh sorry, I will edit it right now."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679789235,"post_id":75845196,"comment_id":133783918,"body_markdown":"Have a look at where you declare `metroMap`. You are declaring a one-dimensional array, but you are trying to set *two* dimensions.","body":"Have a look at where you declare <code>metroMap</code>. You are declaring a one-dimensional array, but you are trying to set <i>two</i> dimensions."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1679789485,"post_id":75845196,"comment_id":133783943,"body_markdown":"An `ArrayList` is a `List` which uses arrays internally. It cannot be used like an array. I suggest you read some Java tutorials, e.g. https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html and https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html","body":"An <code>ArrayList</code> is a <code>List</code> which uses arrays internally. It cannot be used like an array. I suggest you read some Java tutorials, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/interfaces/&hellip;</a>"},{"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"score":0,"creation_date":1679789517,"post_id":75845196,"comment_id":133783950,"body_markdown":"I knew that wasn&#39;t right but that was what I could think of as closest to the correct way.","body":"I knew that wasn&#39;t right but that was what I could think of as closest to the correct way."},{"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"score":0,"creation_date":1679789544,"post_id":75845196,"comment_id":133783952,"body_markdown":"Ok I will check them out thanks","body":"Ok I will check them out thanks"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1679793804,"post_id":75845196,"comment_id":133784266,"body_markdown":"You might want to consider using Java’s object-oriented features to define a class (a [record](https://openjdk.org/jeps/395), probably) to represent your data in a meaningful structure.","body":"You might want to consider using Java’s object-oriented features to define a class (a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>, probably) to represent your data in a meaningful structure."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679841970,"post_id":75845196,"comment_id":133789197,"body_markdown":"I suspect this could be the result of an [X-Y Problem](https://en.wikipedia.org/wiki/XY_problem) . The O/P might have  wanted a 10 x N x 3 String array, but wasn&#39;t familiar with how to have the middle dimension variable. So, thought of mixing arrays and `List` Objects.  If this is correct, I suggest the title be changed to &quot;Three dimension array with variable size of middle dimension&quot;, and the question body edited for clarification.","body":"I suspect this could be the result of an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X-Y Problem</a> . The O/P might have  wanted a 10 x N x 3 String array, but wasn&#39;t familiar with how to have the middle dimension variable. So, thought of mixing arrays and <code>List</code> Objects.  If this is correct, I suggest the title be changed to &quot;Three dimension array with variable size of middle dimension&quot;, and the question body edited for clarification."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679833293,"creation_date":1679796562,"answer_id":75845531,"question_id":75845196,"body_markdown":"When it was decided to add generics to Java, generics were implemented in a way that made them incompatible with arrays. So, a line like `ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];` would cause a compiler error: `Generic array creation`. \r\n\r\nWithout generics, you could have an array of `ArrayList`. And, each element in one of the `ArrayList` elements could be an array or another `List`. As you reference each element, you would want to use a cast.\r\n\r\n        List[] mapMetro = new ArrayList [12];\r\n        int stops;\r\n        ... \r\n        String [][] foo = new String [stops][3];\r\n        ... \r\n        mapMetro [0].add (foo);\r\n        ... \r\n        String [][] bitter = (String [][]) mapMetro[i].get (j);\r\n\r\nThis is generally not advised. Search for &quot;Java Don&#39;t use raw types in new code.&quot; \r\n\r\nI&#39;ve spent little time on this possibility, because I&#39;d like to suggest an alternative: Simply use a &quot;3D array&quot;.   \r\n\r\nJava doesn&#39;t have true multidimensional arrays. But, an array is a reference type. And Java allows arrays of reference types, so nested arrays are allowed. \r\n\r\nOne consequence is &quot;ragged&quot; arrays are allowed. For example, in a &quot;2D array&quot;, row zero might have 12 elements, row one might have 2 elements, row 3 might have zero elements, row 4 might have 42 elements. \r\n\r\nMore to the point: The references can be manipulated to point to other Objects of the same type.\r\n\r\n       String [][] foo = new String [10][12];\r\n       String [] roadRunner = new String [18];\r\n       ... // code to use foo and roadRunner\r\n       foo [5] = new String [] {&quot;Bugs&quot;,&quot;Daffy&quot;,&quot;Yosemite Sam&quot;};\r\n       foo [6] = roadRunner; \r\n       foo [7] = new String [7];\r\n\r\nSo, when you know `metroMap` will have `k` elements (lines), but each line has a different number of stations, you can delay declaring the number of stations until information for each line is available: \r\n\r\n       String [][][] metroMap = new String [k][][];\r\n       int stations;\r\n       ... \r\n       for (int j = 0; j &lt; metroMap.length; j++) {\r\n         // put yourcode to get number of stations for line j here\r\n         // I&#39;ll assume it is in variable &quot;stations&quot; \r\n         metroMap [j] = new String [stations][3];\r\n         // your code to fill elements of  metroMap[j] here\r\n       }\r\n\r\nYou can iterate over the array with nested loops:\r\n\r\n      for (int j = 0; j &lt; metroMap.length; j++) {\r\n           for (int k = 0; k &lt; metroMap[j].length; k++) {\r\n               for (int m = 0; m &lt; metroMap[j][k].length; m++) {\r\n                  String foo = metroMap [j][k][m];\r\n                  ...\r\n               }\r\n           }\r\n       }\r\n \r\nOr, using the enhanced for loop:\r\n\r\n       for (String [][] stops: metroMap) {\r\n           for (String [] aStation: stops) { \r\n               for (String foo: aStation) {\r\n                  ... \r\n               }\r\n           }\r\n       }\r\n\r\nComment: I neglected to mention a third possibility: Java allows nested Collections: One could code `ArrayList&lt;ArrayList&lt;ArrayList&lt;String&gt;&gt;&gt; foo;` for example. \r\n       ","title":"Can I create an array of arraylists of arrays in Java?","body":"<p>When it was decided to add generics to Java, generics were implemented in a way that made them incompatible with arrays. So, a line like <code>ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];</code> would cause a compiler error: <code>Generic array creation</code>.</p>\n<p>Without generics, you could have an array of <code>ArrayList</code>. And, each element in one of the <code>ArrayList</code> elements could be an array or another <code>List</code>. As you reference each element, you would want to use a cast.</p>\n<pre><code>    List[] mapMetro = new ArrayList [12];\n    int stops;\n    ... \n    String [][] foo = new String [stops][3];\n    ... \n    mapMetro [0].add (foo);\n    ... \n    String [][] bitter = (String [][]) mapMetro[i].get (j);\n</code></pre>\n<p>This is generally not advised. Search for &quot;Java Don't use raw types in new code.&quot;</p>\n<p>I've spent little time on this possibility, because I'd like to suggest an alternative: Simply use a &quot;3D array&quot;.</p>\n<p>Java doesn't have true multidimensional arrays. But, an array is a reference type. And Java allows arrays of reference types, so nested arrays are allowed.</p>\n<p>One consequence is &quot;ragged&quot; arrays are allowed. For example, in a &quot;2D array&quot;, row zero might have 12 elements, row one might have 2 elements, row 3 might have zero elements, row 4 might have 42 elements.</p>\n<p>More to the point: The references can be manipulated to point to other Objects of the same type.</p>\n<pre><code>   String [][] foo = new String [10][12];\n   String [] roadRunner = new String [18];\n   ... // code to use foo and roadRunner\n   foo [5] = new String [] {&quot;Bugs&quot;,&quot;Daffy&quot;,&quot;Yosemite Sam&quot;};\n   foo [6] = roadRunner; \n   foo [7] = new String [7];\n</code></pre>\n<p>So, when you know <code>metroMap</code> will have <code>k</code> elements (lines), but each line has a different number of stations, you can delay declaring the number of stations until information for each line is available:</p>\n<pre><code>   String [][][] metroMap = new String [k][][];\n   int stations;\n   ... \n   for (int j = 0; j &lt; metroMap.length; j++) {\n     // put yourcode to get number of stations for line j here\n     // I'll assume it is in variable &quot;stations&quot; \n     metroMap [j] = new String [stations][3];\n     // your code to fill elements of  metroMap[j] here\n   }\n</code></pre>\n<p>You can iterate over the array with nested loops:</p>\n<pre><code>  for (int j = 0; j &lt; metroMap.length; j++) {\n       for (int k = 0; k &lt; metroMap[j].length; k++) {\n           for (int m = 0; m &lt; metroMap[j][k].length; m++) {\n              String foo = metroMap [j][k][m];\n              ...\n           }\n       }\n   }\n</code></pre>\n<p>Or, using the enhanced for loop:</p>\n<pre><code>   for (String [][] stops: metroMap) {\n       for (String [] aStation: stops) { \n           for (String foo: aStation) {\n              ... \n           }\n       }\n   }\n</code></pre>\n<p>Comment: I neglected to mention a third possibility: Java allows nested Collections: One could code <code>ArrayList&lt;ArrayList&lt;ArrayList&lt;String&gt;&gt;&gt; foo;</code> for example.</p>\n"}],"owner":{"account_id":18326407,"reputation":7,"user_id":13345940,"display_name":"KrcnHc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1679794376,"accepted_answer_id":75845531,"answer_count":1,"score":-3,"last_activity_date":1679833293,"creation_date":1679788730,"question_id":75845196,"body_markdown":"What I want to create is a 10-element array that consist of arraylists. Also the arraylists should consist of 3-element(string) arrays. (Something like metroMap[10][?][3])\r\nI learned that arraylist of arrays and array of arraylists are possible but what about the above example?\r\n\r\nI tried creating it but I had trouble specifying the number of elements\r\n\r\n    ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];\r\n    /*\r\n    String[][] firstMetroline = new String[occurences(metrolines[0][2], &#39;,&#39;)][3]; // creating arrays with the\r\n    String[][] secondMetroline = new String[occurences(metrolines[1][2], &#39;,&#39;)][3]; // required sizes for\r\n    String[][] thirdMetroline = new String[occurences(metrolines[2][2], &#39;,&#39;)][3]; // each metroline\r\n    String[][] fourthMetroline = new String[occurences(metrolines[3][2], &#39;,&#39;)][3];\r\n    String[][] fifthMetroline = new String[occurences(metrolines[4][2], &#39;,&#39;)][3];\r\n    String[][] sixthMetroline = new String[occurences(metrolines[5][2], &#39;,&#39;)][3];\r\n    String[][] seventhMetroline = new String[occurences(metrolines[6][2], &#39;,&#39;)][3];\r\n    String[][] eighthMetroline = new String[occurences(metrolines[7][2], &#39;,&#39;)][3];\r\n    String[][] ninthMetroline = new String[occurences(metrolines[8][2], &#39;,&#39;)][3];\r\n    String[][] tenthMetroline = new String[occurences(metrolines[9][2], &#39;,&#39;)][3];\r\n    */\r\n    for (int j = 0; j &lt; 10; j++) {\r\n        String stationsString = metrolines[0][2];\r\n        for (int i = 0; i &lt; occurences(metrolines[j][2], &#39;,&#39;); i++) {\r\n            // further processing our data by storing each station and their coordinates as elements of our arrays\r\n            if (stationsString.charAt(0) == &#39;*&#39;) {\r\n                metroMap[j][i][0] = stationsString.substring(1, stationsString.indexOf(&#39; &#39;));\r\n                metroMap[j][i][2] = &quot;Visible&quot;;\r\n            } else {\r\n                metroMap[j][i][0] = stationsString.substring(0, stationsString.indexOf(&#39; &#39;));\r\n                metroMap[j][i][2] = &quot;Invisible&quot;;\r\n            }\r\n            stationsString = stationsString.substring(stationsString.indexOf(&#39; &#39;) + 1);\r\n            if (stationsString.indexOf(&#39; &#39;) != -1) {\r\n                metroMap[j][i][1] = stationsString.substring(0, stationsString.indexOf(&#39; &#39;));\r\n                stationsString = stationsString.substring(stationsString.indexOf(&#39; &#39;) + 1);\r\n            } else\r\n                metroMap[j][i][1] = stationsString;\r\n        }\r\n    }","title":"Can I create an array of arraylists of arrays in Java?","body":"<p>What I want to create is a 10-element array that consist of arraylists. Also the arraylists should consist of 3-element(string) arrays. (Something like metroMap[10][?][3])\nI learned that arraylist of arrays and array of arraylists are possible but what about the above example?</p>\n<p>I tried creating it but I had trouble specifying the number of elements</p>\n<pre><code>ArrayList&lt;String[]&gt;[] metroMap = new ArrayList&lt;String[]&gt;[10][3];\n/*\nString[][] firstMetroline = new String[occurences(metrolines[0][2], ',')][3]; // creating arrays with the\nString[][] secondMetroline = new String[occurences(metrolines[1][2], ',')][3]; // required sizes for\nString[][] thirdMetroline = new String[occurences(metrolines[2][2], ',')][3]; // each metroline\nString[][] fourthMetroline = new String[occurences(metrolines[3][2], ',')][3];\nString[][] fifthMetroline = new String[occurences(metrolines[4][2], ',')][3];\nString[][] sixthMetroline = new String[occurences(metrolines[5][2], ',')][3];\nString[][] seventhMetroline = new String[occurences(metrolines[6][2], ',')][3];\nString[][] eighthMetroline = new String[occurences(metrolines[7][2], ',')][3];\nString[][] ninthMetroline = new String[occurences(metrolines[8][2], ',')][3];\nString[][] tenthMetroline = new String[occurences(metrolines[9][2], ',')][3];\n*/\nfor (int j = 0; j &lt; 10; j++) {\n    String stationsString = metrolines[0][2];\n    for (int i = 0; i &lt; occurences(metrolines[j][2], ','); i++) {\n        // further processing our data by storing each station and their coordinates as elements of our arrays\n        if (stationsString.charAt(0) == '*') {\n            metroMap[j][i][0] = stationsString.substring(1, stationsString.indexOf(' '));\n            metroMap[j][i][2] = &quot;Visible&quot;;\n        } else {\n            metroMap[j][i][0] = stationsString.substring(0, stationsString.indexOf(' '));\n            metroMap[j][i][2] = &quot;Invisible&quot;;\n        }\n        stationsString = stationsString.substring(stationsString.indexOf(' ') + 1);\n        if (stationsString.indexOf(' ') != -1) {\n            metroMap[j][i][1] = stationsString.substring(0, stationsString.indexOf(' '));\n            stationsString = stationsString.substring(stationsString.indexOf(' ') + 1);\n        } else\n            metroMap[j][i][1] = stationsString;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven-2","maven","surefire"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1262882130,"post_id":2021771,"comment_id":1943942,"body_markdown":"Could you post your POM? That would be easier.","body":"Could you post your POM? That would be easier."},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1262883650,"post_id":2021771,"comment_id":1944146,"body_markdown":"I can&#39;t post entire POM for both legal reasons and length - it&#39;s a big project, with hundreds of lines just in the POM. I could probably post relevant part(s), but not sure what exactly can be relevant.","body":"I can&#39;t post entire POM for both legal reasons and length - it&#39;s a big project, with hundreds of lines just in the POM. I could probably post relevant part(s), but not sure what exactly can be relevant."},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1262884568,"post_id":2021771,"comment_id":1944286,"body_markdown":"Well, at least the maven-surefire-plugin configuration (if you have one or if you are inheriting one). Can you say if this problem is specific to one module? Does it happen outside the project? Are you inheriting from a corporate POM?","body":"Well, at least the maven-surefire-plugin configuration (if you have one or if you are inheriting one). Can you say if this problem is specific to one module? Does it happen outside the project? Are you inheriting from a corporate POM?"},{"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"score":0,"creation_date":1262886581,"post_id":2021771,"comment_id":1944573,"body_markdown":"Can you provide detail on what the symptoms of &quot;can&#39;t execute&quot; are?","body":"Can you provide detail on what the symptoms of &quot;can&#39;t execute&quot; are?"}],"answers":[{"comments":[{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1262883053,"post_id":2021928,"comment_id":1944050,"body_markdown":"Yes, all modules have these settings. Thanks for your input, though!","body":"Yes, all modules have these settings. Thanks for your input, though!"},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1262883189,"post_id":2021928,"comment_id":1944075,"body_markdown":"The test would fail without 1.5+ compiler level, but it would be picked up.","body":"The test would fail without 1.5+ compiler level, but it would be picked up."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1262885404,"post_id":2021928,"comment_id":1944385,"body_markdown":"I know that it&#39;s just wild guessing - I never had trouble with Junit4 tests in maven...","body":"I know that it&#39;s just wild guessing - I never had trouble with Junit4 tests in maven..."},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1262886129,"post_id":2021928,"comment_id":1944494,"body_markdown":"Me neither. I&#39;m really wondering what could cause this weird behavior.","body":"Me neither. I&#39;m really wondering what could cause this weird behavior."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520429736,"creation_date":1262882388,"answer_id":2021928,"question_id":2021771,"body_markdown":"Have you configured your maven-compile-plugin for the correct compiler level, like:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;1.5&lt;/source&gt;\r\n        &lt;target&gt;1.5&lt;/target&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nOtherwise maven will have trouble with annotations\r\n","title":"Surefire is not picking up Junit 4 tests","body":"<p>Have you configured your maven-compile-plugin for the correct compiler level, like:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.5&lt;/source&gt;\n    &lt;target&gt;1.5&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Otherwise maven will have trouble with annotations</p>\n"},{"comments":[{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1262885829,"post_id":2022150,"comment_id":1944447,"body_markdown":"I did what you suggested and indeed both tests (AppTest and my test were executed). Will try to dig this deeper tomorrow and/or post the relevant POM bits. Thanks a lot Pascal! Your method could benefit others while debugging same problem, too. Btw, can you modify your plugin mvn code - you forgot to close plugin tag at the end.","body":"I did what you suggested and indeed both tests (AppTest and my test were executed). Will try to dig this deeper tomorrow and/or post the relevant POM bits. Thanks a lot Pascal! Your method could benefit others while debugging same problem, too. Btw, can you modify your plugin mvn code - you forgot to close plugin tag at the end."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1614576819,"post_id":2022150,"comment_id":117417537,"body_markdown":"Debugging shows it pulls junit-3.8.1.jar transitively. How do I override it.","body":"Debugging shows it pulls junit-3.8.1.jar transitively. How do I override it."}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262886024,"creation_date":1262884364,"answer_id":2022150,"question_id":2021771,"body_markdown":"The verification that you&#39;ve done are good, especially checking that you are using version 2.3+ of the surefire plugin (by default, you&#39;ll get version 2.4.3 with maven 2.1 [super POM][1] so this should be ok) and checking that you not pulling the `junit-3.8.1.jar` dependency transitively. \r\n\r\nNow, just to validated that this is not a &quot;global problem&quot; (I don&#39;t think so TBH), could you create a project from scratch, for example by running:  \r\n\r\n    mvn archetype:create -DgroupId=com.mycompany.app -DartifactId=maven-junit4-testcase\r\n\r\nThen update the junit dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.7&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd configure the compiler level for 1.5+\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;1.5&lt;/source&gt;\r\n        &lt;target&gt;1.5&lt;/target&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFinally put your `SimpleTest.java` next to `AppTest.java` and run `mvn test`.\r\n\r\nIf running `mvn test` works fine for that project (and I&#39;m expecting it to run without problem), could you please update your question with the POM configuration you&#39;re using (from the project having troubles)?\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-pom.html","title":"Surefire is not picking up Junit 4 tests","body":"<p>The verification that you've done are good, especially checking that you are using version 2.3+ of the surefire plugin (by default, you'll get version 2.4.3 with maven 2.1 <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\" rel=\"nofollow noreferrer\">super POM</a> so this should be ok) and checking that you not pulling the <code>junit-3.8.1.jar</code> dependency transitively. </p>\n\n<p>Now, just to validated that this is not a \"global problem\" (I don't think so TBH), could you create a project from scratch, for example by running:  </p>\n\n<pre><code>mvn archetype:create -DgroupId=com.mycompany.app -DartifactId=maven-junit4-testcase\n</code></pre>\n\n<p>Then update the junit dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.7&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And configure the compiler level for 1.5+</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.5&lt;/source&gt;\n    &lt;target&gt;1.5&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Finally put your <code>SimpleTest.java</code> next to <code>AppTest.java</code> and run <code>mvn test</code>.</p>\n\n<p>If running <code>mvn test</code> works fine for that project (and I'm expecting it to run without problem), could you please update your question with the POM configuration you're using (from the project having troubles)?</p>\n"},{"comments":[{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1262954084,"post_id":2022420,"comment_id":1950570,"body_markdown":"Thanks for your tip to use -X, this helped me to reveal the problem (see my own answer)","body":"Thanks for your tip to use -X, this helped me to reveal the problem (see my own answer)"}],"tags":[],"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1262886970,"creation_date":1262886970,"answer_id":2022420,"question_id":2021771,"body_markdown":"I don&#39;t know what you mean by &quot;can&#39;t execute,&quot; but does it help to explicitly set the includes used by the `maven-surefire-plugin`?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlso, does running maven with the `-X` flag provide any useful information?","title":"Surefire is not picking up Junit 4 tests","body":"<p>I don't know what you mean by \"can't execute,\" but does it help to explicitly set the includes used by the <code>maven-surefire-plugin</code>?</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*Test.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Also, does running maven with the <code>-X</code> flag provide any useful information?</p>\n"},{"comments":[{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":2,"creation_date":1262955619,"post_id":2027544,"comment_id":1950735,"body_markdown":"Actually, you should accept your own answer as it is providing the whole solution to your problem:)","body":"Actually, you should accept your own answer as it is providing the whole solution to your problem:)"}],"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1262954039,"creation_date":1262954039,"answer_id":2027544,"question_id":2021771,"body_markdown":"`mvn -X` helped me to reveal the following:\r\n\r\n    ...\r\n    [INFO] [surefire:test {execution: default-test}]\r\n    [DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n    [DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3:runtime (selected for runtime)\r\n    [DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:runtime (selected for runtime)\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-booter/2.4.3/surefire-booter-2.4.3.jar\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-api/2.4.3/surefire-api-2.4.3.jar\r\n    [DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n    [DEBUG]   org.testng:testng:jar:jdk15:5.8:test (selected for test)\r\n    [DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/testng/testng/5.8/testng-5.8-jdk15.jar\r\n    [DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n    [DEBUG] dummy:dummy:jar:1.0 (selected for null)\r\n    [DEBUG] Retrieving parent-POM: org.apache.maven.surefire:surefire-providers:pom:2.4.3 for project: null:surefire-testng:jar:null from the repository.\r\n    [DEBUG] Adding managed dependencies for unknown:surefire-testng\r\n    [DEBUG]   org.apache.maven.surefire:surefire-api:jar:2.4.3\r\n    [DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3\r\n    [DEBUG]   org.codehaus.plexus:plexus-utils:jar:1.5.1\r\n    [DEBUG]   org.apache.maven.surefire:surefire-testng:jar:2.4.3:test (selected for test)\r\n    [DEBUG]     org.apache.maven:maven-artifact:jar:2.0:test (selected for test)\r\n    [DEBUG]       org.codehaus.plexus:plexus-utils:jar:1.0.4:test (selected for test)\r\n    [DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\r\n    [DEBUG]     org.testng:testng:jar:jdk15:5.7:test (selected for test)\r\n    [DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:test (selected for test)\r\n    ...\r\n    [DEBUG] Test Classpath :\r\n    ...\r\n    [DEBUG]   /home/mindas/.m2/repository/junit/junit/4.7/junit-4.7.jar\r\n\r\nSo it seems that the problem was coming from `testng` jar requiring JUnit v3.8.1. Even though `Test Classpath` was set to depend on JUnit 4, it was too late.\r\n\r\n`testng` dependency was located in my POM:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n      &lt;version&gt;5.8&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;classifier&gt;jdk15&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nImmediately after I have commented it out, tests started to execute.\r\n\r\nLessons learned:\r\n\r\n- `mvn dependency:tree` is not always enough, `mvn -X` is a friend.\r\n- surefire is not made for developer heaven (I have realized this while looking at project JIRA reports). This is especially true as there are no other alternatives if you use Maven.\r\n\r\nThanks everybody for your help. Unfortunately there is no way to split answer points between Pascal and Kaleb, but Kaleb&#39;s advice to use `mvn -X` helped me to get on the right track so correct answer points go to him.","title":"Surefire is not picking up Junit 4 tests","body":"<p><code>mvn -X</code> helped me to reveal the following:</p>\n\n<pre><code>...\n[INFO] [surefire:test {execution: default-test}]\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3:runtime (selected for runtime)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:runtime (selected for runtime)\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-booter/2.4.3/surefire-booter-2.4.3.jar\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/apache/maven/surefire/surefire-api/2.4.3/surefire-api-2.4.3.jar\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG]   org.testng:testng:jar:jdk15:5.8:test (selected for test)\n[DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/org/testng/testng/5.8/testng-5.8-jdk15.jar\n[DEBUG] Adding to surefire booter test classpath: /home/mindas/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[DEBUG] dummy:dummy:jar:1.0 (selected for null)\n[DEBUG] Retrieving parent-POM: org.apache.maven.surefire:surefire-providers:pom:2.4.3 for project: null:surefire-testng:jar:null from the repository.\n[DEBUG] Adding managed dependencies for unknown:surefire-testng\n[DEBUG]   org.apache.maven.surefire:surefire-api:jar:2.4.3\n[DEBUG]   org.apache.maven.surefire:surefire-booter:jar:2.4.3\n[DEBUG]   org.codehaus.plexus:plexus-utils:jar:1.5.1\n[DEBUG]   org.apache.maven.surefire:surefire-testng:jar:2.4.3:test (selected for test)\n[DEBUG]     org.apache.maven:maven-artifact:jar:2.0:test (selected for test)\n[DEBUG]       org.codehaus.plexus:plexus-utils:jar:1.0.4:test (selected for test)\n[DEBUG]     junit:junit:jar:3.8.1:test (selected for test)\n[DEBUG]     org.testng:testng:jar:jdk15:5.7:test (selected for test)\n[DEBUG]     org.apache.maven.surefire:surefire-api:jar:2.4.3:test (selected for test)\n...\n[DEBUG] Test Classpath :\n...\n[DEBUG]   /home/mindas/.m2/repository/junit/junit/4.7/junit-4.7.jar\n</code></pre>\n\n<p>So it seems that the problem was coming from <code>testng</code> jar requiring JUnit v3.8.1. Even though <code>Test Classpath</code> was set to depend on JUnit 4, it was too late.</p>\n\n<p><code>testng</code> dependency was located in my POM:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.testng&lt;/groupId&gt;\n  &lt;artifactId&gt;testng&lt;/artifactId&gt;\n  &lt;version&gt;5.8&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;classifier&gt;jdk15&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Immediately after I have commented it out, tests started to execute.</p>\n\n<p>Lessons learned:</p>\n\n<ul>\n<li><code>mvn dependency:tree</code> is not always enough, <code>mvn -X</code> is a friend.</li>\n<li>surefire is not made for developer heaven (I have realized this while looking at project JIRA reports). This is especially true as there are no other alternatives if you use Maven.</li>\n</ul>\n\n<p>Thanks everybody for your help. Unfortunately there is no way to split answer points between Pascal and Kaleb, but Kaleb's advice to use <code>mvn -X</code> helped me to get on the right track so correct answer points go to him.</p>\n"},{"tags":[],"owner":{"account_id":84033,"reputation":7089,"user_id":235161,"display_name":"Randall Hauch"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1302038688,"creation_date":1302038688,"answer_id":5558724,"question_id":2021771,"body_markdown":"The Surefire plugin figures out which JUnit provider should be used based upon the classpath. If there are multiple JUnit versions on the classpath, you can either correct the classpath to have only one JUnit version on the classpath (as discussed above), or you can explicitly specify which provider you want to use. For example, specifying the following in your (parent) POM forces using the newest provider (e.g., &quot;surefire-junit47&quot;):\r\n\r\n    [...]\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- Force using the latest JUnit 47 provider --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n          &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    [...]\r\n\r\nNote however that Surefire 2.7 changed the way it&#39;s determining which unit test classes are run. ***The new behavior when using Surefire 2.7 (or later) with JUnit 4 is that any test without a @Test annotation will be skipped automatically.*** This may be great if you just have JUnit 4 unit tests, but if you have a combination of JUnit 3 and 4 unit tests, using the &quot;surefire-junit47&quot; provider will not work correctly. In such cases, its best to explicitly choose the &quot;surefire-junit4&quot; provider:\r\n\r\n    [...]\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8&lt;/version&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n          &lt;!-- Use the older JUnit 4 provider --&gt;\r\n          &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    [...]\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-surefire-plugin/examples/junit.html#How_is_the_provider_chosen_","title":"Surefire is not picking up Junit 4 tests","body":"<p>The Surefire plugin figures out which JUnit provider should be used based upon the classpath. If there are multiple JUnit versions on the classpath, you can either correct the classpath to have only one JUnit version on the classpath (as discussed above), or you can explicitly specify which provider you want to use. For example, specifying the following in your (parent) POM forces using the newest provider (e.g., \"surefire-junit47\"):</p>\n\n<pre><code>[...]\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.8&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;!-- Force using the latest JUnit 47 provider --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n      &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n      &lt;version&gt;2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n[...]\n</code></pre>\n\n<p>Note however that Surefire 2.7 changed the way it's determining which unit test classes are run. <strong><em>The new behavior when using Surefire 2.7 (or later) with JUnit 4 is that any test without a @Test annotation will be skipped automatically.</em></strong> This may be great if you just have JUnit 4 unit tests, but if you have a combination of JUnit 3 and 4 unit tests, using the \"surefire-junit47\" provider will not work correctly. In such cases, its best to explicitly choose the \"surefire-junit4\" provider:</p>\n\n<pre><code>[...]\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.8&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n      &lt;!-- Use the older JUnit 4 provider --&gt;\n      &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\n      &lt;version&gt;2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n[...]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1316695171,"post_id":6925096,"comment_id":9100973,"body_markdown":"Thank you so much for this tip. I had the same issue and it was because of PowerMock. Again, big help as without this post I would have been looking in the wrong direction for some time.","body":"Thank you so much for this tip. I had the same issue and it was because of PowerMock. Again, big help as without this post I would have been looking in the wrong direction for some time."}],"tags":[],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1312367552,"creation_date":1312367552,"answer_id":6925096,"question_id":2021771,"body_markdown":"For the benefit of Googlers, when I had this issue it was because I&#39;d included a PowerMock dependency that pulled in TestNG, causing no [TestNG] tests to be detected by SureFire.\r\n\r\nI used the m2eclipse &quot;Dependency Hierarchy&quot; tab of the POM editor to find the dependency and right-clicked to generate an exclusion (see XML below).\r\n\r\nFor completeness (and for those not using m2eclipse) here&#39;s the XML that excludes the dependency - I only came across this feature of Maven by seeing these tags generated automatically:  \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n      &lt;artifactId&gt;powermock-mockito-release-full&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.9&lt;/version&gt;\r\n      &lt;classifier&gt;full&lt;/classifier&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\r\n          &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(In my case, excluding &quot;powermock-module-testng&quot; was sufficient, but you could exclude TestNG directly if it&#39;s coming in from somewhere else.)","title":"Surefire is not picking up Junit 4 tests","body":"<p>For the benefit of Googlers, when I had this issue it was because I'd included a PowerMock dependency that pulled in TestNG, causing no [TestNG] tests to be detected by SureFire.</p>\n\n<p>I used the m2eclipse \"Dependency Hierarchy\" tab of the POM editor to find the dependency and right-clicked to generate an exclusion (see XML below).</p>\n\n<p>For completeness (and for those not using m2eclipse) here's the XML that excludes the dependency - I only came across this feature of Maven by seeing these tags generated automatically:  </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n  &lt;artifactId&gt;powermock-mockito-release-full&lt;/artifactId&gt;\n  &lt;version&gt;1.4.9&lt;/version&gt;\n  &lt;classifier&gt;full&lt;/classifier&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\n      &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>(In my case, excluding \"powermock-module-testng\" was sufficient, but you could exclude TestNG directly if it's coming in from somewhere else.)</p>\n"},{"comments":[{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":1,"creation_date":1373140837,"post_id":17470083,"comment_id":25450683,"body_markdown":"No, this wasn&#39;t the case for me (see my own answer for the real cause). Anyway, thanks for the tip - might be helpful for other people.","body":"No, this wasn&#39;t the case for me (see my own answer for the real cause). Anyway, thanks for the tip - might be helpful for other people."},{"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"score":0,"creation_date":1373231614,"post_id":17470083,"comment_id":25468769,"body_markdown":"Yeah, I saw your solution. I had the same question, and for me the solution was this bug. Thats why i shared it here.","body":"Yeah, I saw your solution. I had the same question, and for me the solution was this bug. Thats why i shared it here."},{"owner":{"account_id":381695,"reputation":5348,"user_id":736508,"accept_rate":75,"display_name":"Gal"},"score":1,"creation_date":1375082901,"post_id":17470083,"comment_id":26176779,"body_markdown":"Thanks! I spent several hours debugging because of this &quot;feature&quot;.","body":"Thanks! I spent several hours debugging because of this &quot;feature&quot;."},{"owner":{"account_id":1558262,"reputation":3089,"user_id":1448767,"accept_rate":20,"display_name":"ocroquette"},"score":1,"creation_date":1475667329,"post_id":17470083,"comment_id":67032345,"body_markdown":"Updated link for SUREFIRE-587 : https://issues.apache.org/jira/browse/SUREFIRE-587 Thanks for the hint G&#225;bor.","body":"Updated link for SUREFIRE-587 : <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-587\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/SUREFIRE-587</a> Thanks for the hint G&#225;bor."}],"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475668028,"creation_date":1372940125,"answer_id":17470083,"question_id":2021771,"body_markdown":"One more possible cause can be this bug (closed with &quot;Won&#39;t fix&quot;): https://issues.apache.org/jira/browse/SUREFIRE-587\r\n\r\nShort summary: Tests extending TestCase (but not using annotations) will not be picked up if their name does not end with &quot;Test&quot;.","title":"Surefire is not picking up Junit 4 tests","body":"<p>One more possible cause can be this bug (closed with \"Won't fix\"): <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-587\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/SUREFIRE-587</a></p>\n\n<p>Short summary: Tests extending TestCase (but not using annotations) will not be picked up if their name does not end with \"Test\".</p>\n"},{"tags":[],"owner":{"account_id":2433974,"reputation":41,"user_id":2124321,"display_name":"MadhuGujjalapudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392981174,"creation_date":1392980836,"answer_id":21932697,"question_id":2021771,"body_markdown":"One small change helped me Funnily!!!\r\n\r\nI changed the class name from MyClassTest to TestMyClass, \r\nI got this idea after veryfing my parent POM.xml contains below line\r\n    \r\n    &lt;test.include.pattern&gt; **/Test*.java &lt;test.include.pattern/&gt;","title":"Surefire is not picking up Junit 4 tests","body":"<p>One small change helped me Funnily!!!</p>\n\n<p>I changed the class name from MyClassTest to TestMyClass, \nI got this idea after veryfing my parent POM.xml contains below line</p>\n\n<pre><code>&lt;test.include.pattern&gt; **/Test*.java &lt;test.include.pattern/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":67573,"reputation":3611,"user_id":197680,"accept_rate":100,"display_name":"Kushal Paudyal"},"score":1,"creation_date":1537471646,"post_id":39323386,"comment_id":91807593,"body_markdown":"This particular solution helped me !!","body":"This particular solution helped me !!"}],"tags":[],"owner":{"account_id":149002,"reputation":2739,"user_id":361172,"accept_rate":20,"display_name":"James Selvakumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1473727778,"creation_date":1473044688,"answer_id":39323386,"question_id":2021771,"body_markdown":"For some poor soul out there who is wondering why Maven doesn&#39;t pick up JUnit tests. \r\n\r\nI have both JUnit and TestNG as dependecies. But I want failsafe to run my functional tests using TestNG and surefire to run my unit tests using JUnit.\r\n\r\nHowever, I found that surefire was attempting to run my unit tests using TestNG and found nothing to run. My JUnit tests were skipped. \r\n\r\nLater I came across this [Maven issue][1] and configured surefire to run only &quot;JUnit&quot; tests like this:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;junit&lt;/name&gt;\r\n            &lt;value&gt;true&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHope this helps someone.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/SUREFIRE-377","title":"Surefire is not picking up Junit 4 tests","body":"<p>For some poor soul out there who is wondering why Maven doesn't pick up JUnit tests. </p>\n\n<p>I have both JUnit and TestNG as dependecies. But I want failsafe to run my functional tests using TestNG and surefire to run my unit tests using JUnit.</p>\n\n<p>However, I found that surefire was attempting to run my unit tests using TestNG and found nothing to run. My JUnit tests were skipped. </p>\n\n<p>Later I came across this <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-377\" rel=\"noreferrer\">Maven issue</a> and configured surefire to run only \"JUnit\" tests like this:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;properties&gt;\n      &lt;property&gt;\n        &lt;name&gt;junit&lt;/name&gt;\n        &lt;value&gt;true&lt;/value&gt;\n      &lt;/property&gt;\n    &lt;/properties&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":4809151,"reputation":557,"user_id":3883118,"display_name":"Ashutosh Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494410971,"creation_date":1494410971,"answer_id":43889426,"question_id":2021771,"body_markdown":"1.) Include following surefire plugin in pom.xml\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.20&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n2.)By default surefire plugin picks Test class from package :- src/test/java/....\r\n  \r\n So go to Build Path and include test folder in classpath like below :\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/QMIf3.png\r\n  [2]: https://i.stack.imgur.com/aS6u5.png\r\n\r\n3.) Go to --&gt; Run As --&gt;Maven Test\r\n\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.081 \r\n    s - in com.bnym.dcm.api.controller.AccountControllerTest\r\n    [INFO] Running com.bnym.dcm.api.controller.DCMApiControllerTest\r\n    [INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - \r\n    in com.bnym.dcm.api.controller.DCMApiControllerTest\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [INFO] ----------------------------------------------------------------------\r\n    --\r\n    [INFO] BUILD SUCCESS","title":"Surefire is not picking up Junit 4 tests","body":"<p>1.) Include following surefire plugin in pom.xml</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.20&lt;/version&gt;\n&lt;configuration&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>2.)By default surefire plugin picks Test class from package :- src/test/java/....</p>\n\n<p>So go to Build Path and include test folder in classpath like below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/QMIf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMIf3.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/aS6u5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aS6u5.png\" alt=\"enter image description here\"></a></p>\n\n<p>3.) Go to --> Run As -->Maven Test</p>\n\n<pre><code>[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.081 \ns - in com.bnym.dcm.api.controller.AccountControllerTest\n[INFO] Running com.bnym.dcm.api.controller.DCMApiControllerTest\n[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - \nin com.bnym.dcm.api.controller.DCMApiControllerTest\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ----------------------------------------------------------------------\n--\n[INFO] BUILD SUCCESS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9034172,"reputation":1,"user_id":6730819,"display_name":"GeeMoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495224091,"creation_date":1495224091,"answer_id":44078194,"question_id":2021771,"body_markdown":"Had a similar issue when trying to run integration tests. I had an old version of the surefire plugin which was trying to run TestNG and not jUnit. I changed the version number in the pom to 2.20 and it worked. ","title":"Surefire is not picking up Junit 4 tests","body":"<p>Had a similar issue when trying to run integration tests. I had an old version of the surefire plugin which was trying to run TestNG and not jUnit. I changed the version number in the pom to 2.20 and it worked. </p>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595970097,"creation_date":1595901774,"answer_id":63125988,"question_id":2021771,"body_markdown":"If you&#39;re using Maven, **the filename matters**.\r\n\r\nBy default, test filenames need to either start or end with &quot;Test&quot; or &quot;Tests&quot;, or they will be silently ignored when searching for tests.\r\n\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html","title":"Surefire is not picking up Junit 4 tests","body":"<p>If you're using Maven, <strong>the filename matters</strong>.</p>\n<p>By default, test filenames need to either start or end with &quot;Test&quot; or &quot;Tests&quot;, or they will be silently ignored when searching for tests.</p>\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html</a></p>\n"},{"comments":[{"owner":{"account_id":7826504,"reputation":333,"user_id":5917879,"display_name":"Visarut Sae-Pueng"},"score":0,"creation_date":1651812842,"post_id":67148219,"comment_id":127457107,"body_markdown":"Noted: I upgrade my service from 2.3.5.RELEASE to 2.6.7\n- Add dependency junit 4.13.2 and junit-vintage-engine\n- Swagger 2 change to use springdoc-openapi-ui 1.6.8\n- management.info.env.enabled=true for path /info","body":"Noted: I upgrade my service from 2.3.5.RELEASE to 2.6.7 - Add dependency junit 4.13.2 and junit-vintage-engine - Swagger 2 change to use springdoc-openapi-ui 1.6.8 - management.info.env.enabled=true for path /info"},{"owner":{"account_id":7854778,"reputation":1978,"user_id":5937022,"display_name":"TeaCoder"},"score":0,"creation_date":1662962654,"post_id":67148219,"comment_id":130118467,"body_markdown":"This helped me. We have a confusing mix of junit4 and 5 tests.","body":"This helped me. We have a confusing mix of junit4 and 5 tests."}],"tags":[],"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1618746956,"creation_date":1618746956,"answer_id":67148219,"question_id":2021771,"body_markdown":"In case you have JUnit 5 (`import org.junit.jupiter.api.Test;`) in your dependencies and you&#39;re trying to run some JUnit4 (`import org.junit.Test;`) tests, make sure you include following dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Surefire is not picking up Junit 4 tests","body":"<p>In case you have JUnit 5 (<code>import org.junit.jupiter.api.Test;</code>) in your dependencies and you're trying to run some JUnit4 (<code>import org.junit.Test;</code>) tests, make sure you include following dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77907,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2027544,"answer_count":13,"score":46,"last_activity_date":1679833284,"creation_date":1262880952,"question_id":2021771,"body_markdown":"For some reason I cannot get Maven 2 Surefire plugin to execute JUnit 4 test class.\r\n\r\n    public class SimpleTest {\r\n      @org.junit.Test\r\n      public void simple() {\r\n         System.out.println(&quot;foo&quot;);\r\n      }\r\n    }\r\n\r\nHowever if I change this class to be JUnit-3 like, such as \r\n\r\n    public class SimpleTest extends junit.framework.TestCase {\r\n      public void testBar() {\r\n         System.out.println(&quot;bar&quot;);\r\n      }\r\n\r\n      @org.junit.Test\r\n      public void simple() {\r\n         System.out.println(&quot;foo&quot;);\r\n      }\r\n    }\r\nthen it gets executed. Here&#39;s what I&#39;ve done:\r\n\r\n- verified Maven version: Apache Maven 2.2.1 (r801777; 2009-08-06 20:16:01+0100)\r\n- verified Surefire version: followed [this](https://stackoverflow.com/questions/1336379/how-do-i-configure-maven-2s-surefire-plugin-to-run-junit-4-5) advice\r\n- verified Surefire version: checked Surefire jars in my `~/.m2/repository/org/apache/maven/surefire` -- all of them are either version 2.4.2 or 2.4.3\r\n- done a `mvn dependency:tree | grep junit` to ensure I only depend on junit version 4.7\r\n\r\nThe module I am having this problem at doesn&#39;t have JUnit 3 tests.\r\n\r\nIs there anything else I am missing?","title":"Surefire is not picking up Junit 4 tests","body":"<p>For some reason I cannot get Maven 2 Surefire plugin to execute JUnit 4 test class.</p>\n\n<pre><code>public class SimpleTest {\n  @org.junit.Test\n  public void simple() {\n     System.out.println(\"foo\");\n  }\n}\n</code></pre>\n\n<p>However if I change this class to be JUnit-3 like, such as </p>\n\n<pre><code>public class SimpleTest extends junit.framework.TestCase {\n  public void testBar() {\n     System.out.println(\"bar\");\n  }\n\n  @org.junit.Test\n  public void simple() {\n     System.out.println(\"foo\");\n  }\n}\n</code></pre>\n\n<p>then it gets executed. Here's what I've done:</p>\n\n<ul>\n<li>verified Maven version: Apache Maven 2.2.1 (r801777; 2009-08-06 20:16:01+0100)</li>\n<li>verified Surefire version: followed <a href=\"https://stackoverflow.com/questions/1336379/how-do-i-configure-maven-2s-surefire-plugin-to-run-junit-4-5\">this</a> advice</li>\n<li>verified Surefire version: checked Surefire jars in my <code>~/.m2/repository/org/apache/maven/surefire</code> -- all of them are either version 2.4.2 or 2.4.3</li>\n<li>done a <code>mvn dependency:tree | grep junit</code> to ensure I only depend on junit version 4.7</li>\n</ul>\n\n<p>The module I am having this problem at doesn't have JUnit 3 tests.</p>\n\n<p>Is there anything else I am missing?</p>\n"},{"tags":["java","json","parsing","multidimensional-array"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679687210,"post_id":75837368,"comment_id":133771906,"body_markdown":"The modified object is just enclosed in a parent object and wrapped in an array, do I see that correctly? Your &quot;final objects&quot; isn&#39;t valid JSON, so it is not exactly clear what you are after","body":"The modified object is just enclosed in a parent object and wrapped in an array, do I see that correctly? Your &quot;final objects&quot; isn&#39;t valid JSON, so it is not exactly clear what you are after"},{"owner":{"account_id":27128530,"reputation":1,"user_id":20671103,"display_name":"Cn4"},"score":0,"creation_date":1679692883,"post_id":75837368,"comment_id":133772887,"body_markdown":"Yes you did see that correctly .However  thats how the api i am using was designed feels like the &quot;name&quot; i wanted as a variable of the object has it own variable for every diferent object. \n\nI am sorry if i am not being clear. But this is kinda hard to explain since my first language ain t english.","body":"Yes you did see that correctly .However  thats how the api i am using was designed feels like the &quot;name&quot; i wanted as a variable of the object has it own variable for every diferent object.   I am sorry if i am not being clear. But this is kinda hard to explain since my first language ain t english."}],"owner":{"account_id":27128530,"reputation":1,"user_id":20671103,"display_name":"Cn4"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679832460,"creation_date":1679684963,"question_id":75837368,"body_markdown":"\r\nI have a JSON file with a structure that looks something like this:\r\n\r\n```json\r\n{\r\n    &quot;ASDAS&quot;: {\r\n        &quot;g&quot;: 100,\r\n        &quot;f&quot;: {\r\n            &quot;a&quot;: false,\r\n            &quot;b&quot;: 83,\r\n            &quot;c&quot;: 8728,\r\n            &quot;d&quot;: 84,\r\n            &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\r\n        }\r\n    },\r\n    &quot;WQEQW&quot;: {\r\n        &quot;g&quot;: 80.9,\r\n        &quot;f&quot;: {\r\n            &quot;a&quot;: false,\r\n            &quot;b&quot;: 344,\r\n            &quot;c&quot;: 742,\r\n            &quot;d&quot;: 326,\r\n            &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the file is quite large and I wish to parse its data into an array of objects. In this new array, the first parameter of the structure would be something like a name. The issue I&#39;m facing is that I&#39;m struggling to parse the file correctly.\r\n\r\nI tried modifing the file into something like this :\r\n\r\n```json\r\n{\r\n    &quot;objects&quot;: [{\r\n        &quot;ASDAS&quot;: {\r\n            &quot;g&quot;: 100,\r\n            &quot;f&quot;: {\r\n                &quot;a&quot;: false,\r\n                &quot;b&quot;: 83,\r\n                &quot;c&quot;: 8728,\r\n                &quot;d&quot;: 84,\r\n                &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\r\n            }\r\n        },\r\n        &quot;WQEQW&quot;: {\r\n            &quot;g&quot;: 80.9,\r\n            &quot;f&quot;: {\r\n                &quot;a&quot;: false,\r\n                &quot;b&quot;: 344,\r\n                &quot;c&quot;: 742,\r\n                &quot;d&quot;: 326,\r\n                &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\r\n            }\r\n        }\r\n    }]\r\n}\r\n```\r\n\r\nSo, it would be easier to parse the data into the objects. One of the final objects would be nice if it looked something like this:\r\n\r\n```json\r\nobject(\r\n  name=ASDAS,\r\n  g=100,\r\n  f(a=false, b=83, c=8728, d=84, e=2023-03-24T18:36:18.861Z)\r\n);\r\n```\r\n\r\n(This would be inside an array with others.)\r\n\r\nI would appreciate an answer in either C# or Java, but if you can provide a more generic solution (links for things like this), I would not be upset either!","title":"Formating Array of json objects into array of objects in C or Java","body":"<p>I have a JSON file with a structure that looks something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;ASDAS&quot;: {\n        &quot;g&quot;: 100,\n        &quot;f&quot;: {\n            &quot;a&quot;: false,\n            &quot;b&quot;: 83,\n            &quot;c&quot;: 8728,\n            &quot;d&quot;: 84,\n            &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\n        }\n    },\n    &quot;WQEQW&quot;: {\n        &quot;g&quot;: 80.9,\n        &quot;f&quot;: {\n            &quot;a&quot;: false,\n            &quot;b&quot;: 344,\n            &quot;c&quot;: 742,\n            &quot;d&quot;: 326,\n            &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\n        }\n    }\n}\n</code></pre>\n<p>However, the file is quite large and I wish to parse its data into an array of objects. In this new array, the first parameter of the structure would be something like a name. The issue I'm facing is that I'm struggling to parse the file correctly.</p>\n<p>I tried modifing the file into something like this :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;objects&quot;: [{\n        &quot;ASDAS&quot;: {\n            &quot;g&quot;: 100,\n            &quot;f&quot;: {\n                &quot;a&quot;: false,\n                &quot;b&quot;: 83,\n                &quot;c&quot;: 8728,\n                &quot;d&quot;: 84,\n                &quot;e&quot;: &quot;2023-03-24T18:36:18.861Z&quot;\n            }\n        },\n        &quot;WQEQW&quot;: {\n            &quot;g&quot;: 80.9,\n            &quot;f&quot;: {\n                &quot;a&quot;: false,\n                &quot;b&quot;: 344,\n                &quot;c&quot;: 742,\n                &quot;d&quot;: 326,\n                &quot;e&quot;: &quot;2023-03-24T18:44:13.798Z&quot;\n            }\n        }\n    }]\n}\n</code></pre>\n<p>So, it would be easier to parse the data into the objects. One of the final objects would be nice if it looked something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>object(\n  name=ASDAS,\n  g=100,\n  f(a=false, b=83, c=8728, d=84, e=2023-03-24T18:36:18.861Z)\n);\n</code></pre>\n<p>(This would be inside an array with others.)</p>\n<p>I would appreciate an answer in either C# or Java, but if you can provide a more generic solution (links for things like this), I would not be upset either!</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1514705850,"creation_date":1514705850,"answer_id":48040821,"question_id":48040638,"body_markdown":"It has the line break already but the cell does not show it. You need setting a cell style having wrap text property set to the cell.\r\n\r\nExample:\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    class ExcelLineBreakWrapText {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      Workbook workbook = new XSSFWorkbook();\r\n      Sheet sheet = workbook.createSheet();\r\n    \r\n      CellStyle wrapStyle = workbook.createCellStyle();\r\n      wrapStyle.setWrapText(true);\r\n    \r\n      Row row = sheet.createRow(0);\r\n    \r\n      Cell cell = row.createCell(0); \r\n      cell.setCellStyle(wrapStyle);\r\n      cell.setCellValue(&quot;Consommation (cr&#233;dits)\\r\\nR&#233;alisation (produits)&quot;);\r\n    \r\n      sheet.autoSizeColumn(0);\r\n    \r\n      workbook.write(new FileOutputStream(&quot;ExcelLineBreakWrapText.xlsx&quot;));\r\n      workbook.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"How to insert a linebreak as the data of a cell using Apache POI?","body":"<p>It has the line break already but the cell does not show it. You need setting a cell style having wrap text property set to the cell.</p>\n\n<p>Example:</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\n\nclass ExcelLineBreakWrapText {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook workbook = new XSSFWorkbook();\n  Sheet sheet = workbook.createSheet();\n\n  CellStyle wrapStyle = workbook.createCellStyle();\n  wrapStyle.setWrapText(true);\n\n  Row row = sheet.createRow(0);\n\n  Cell cell = row.createCell(0); \n  cell.setCellStyle(wrapStyle);\n  cell.setCellValue(\"Consommation (crédits)\\r\\nRéalisation (produits)\");\n\n  sheet.autoSizeColumn(0);\n\n  workbook.write(new FileOutputStream(\"ExcelLineBreakWrapText.xlsx\"));\n  workbook.close();\n\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6022505,"reputation":3558,"user_id":4729203,"accept_rate":88,"display_name":"wonsuc"},"score":1,"creation_date":1605595871,"post_id":48040849,"comment_id":114691260,"body_markdown":"The link is expired :)","body":"The link is expired :)"},{"owner":{"account_id":5679156,"reputation":5433,"user_id":4491066,"display_name":"Adam"},"score":1,"creation_date":1678785813,"post_id":48040849,"comment_id":133596478,"body_markdown":"Alternative link: https://poi.apache.org/components/spreadsheet/quick-guide.html#NewLinesInCells","body":"Alternative link: <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#NewLinesInCells\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/&hellip;</a>"}],"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"comment_count":2,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1679832418,"creation_date":1514706146,"answer_id":48040849,"question_id":48040638,"body_markdown":"Try this: [here][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n    Row row = sheet.createRow(2);\r\n    Cell cell = row.createCell(2);\r\n    cell.setCellValue(&quot;Use \\n with word wrap on to create a new line&quot;);\r\n\r\n    //to enable newlines you need set a cell styles with wrap=true\r\n    CellStyle cs = wb.createCellStyle();\r\n    cs.setWrapText(true);\r\n    cell.setCellStyle(cs);\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/quick-guide.html#NewLinesInCells","title":"How to insert a linebreak as the data of a cell using Apache POI?","body":"<p>Try this: <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#NewLinesInCells\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>Row row = sheet.createRow(2);\nCell cell = row.createCell(2);\ncell.setCellValue(&quot;Use \\n with word wrap on to create a new line&quot;);\n\n//to enable newlines you need set a cell styles with wrap=true\nCellStyle cs = wb.createCellStyle();\ncs.setWrapText(true);\ncell.setCellStyle(cs);\n</code></pre>\n"}],"owner":{"account_id":1039267,"reputation":18413,"user_id":1045704,"accept_rate":78,"display_name":"pheromix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39222,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":48040849,"answer_count":2,"score":35,"last_activity_date":1679832418,"creation_date":1514703756,"question_id":48040638,"body_markdown":"I use Apache POI 3.16 to create an Excel file. I want to set the data inside a particular cell to have a linebreak :\r\n\r\n    rowConsommationEtRealisation.createCell(0).setCellValue(&quot;Consommation (cr&#233;dits)\\r\\nR&#233;alisation (produits)&quot;);\r\n\r\nWhen I open the file then the cell value does not have linebreak ! So how to create linebreak ?","title":"How to insert a linebreak as the data of a cell using Apache POI?","body":"<p>I use Apache POI 3.16 to create an Excel file. I want to set the data inside a particular cell to have a linebreak :</p>\n\n<pre><code>rowConsommationEtRealisation.createCell(0).setCellValue(\"Consommation (crédits)\\r\\nRéalisation (produits)\");\n</code></pre>\n\n<p>When I open the file then the cell value does not have linebreak ! So how to create linebreak ?</p>\n"},{"tags":["java","arrays","prefix-sum"],"answers":[{"comments":[{"owner":{"account_id":12557658,"reputation":1384,"user_id":9136709,"display_name":"Alex Leibowitz"},"score":3,"creation_date":1657913445,"post_id":68571008,"comment_id":128931322,"body_markdown":"This solution ought to be presented with the explanation that the product of the array excluding any index is equal to the product of the product of the sub-array to the left of that index and the product of the sub-array to the right of that index.  This was not initially obvious to me, at least.","body":"This solution ought to be presented with the explanation that the product of the array excluding any index is equal to the product of the product of the sub-array to the left of that index and the product of the sub-array to the right of that index.  This was not initially obvious to me, at least."},{"owner":{"account_id":15834006,"reputation":292,"user_id":11660125,"display_name":"aolsan"},"score":0,"creation_date":1669962848,"post_id":68571008,"comment_id":131766473,"body_markdown":"Not related, but it&#39;s surprising how this Java easily looks like Dart code, besides the list declarations.","body":"Not related, but it&#39;s surprising how this Java easily looks like Dart code, besides the list declarations."}],"tags":[],"owner":{"account_id":22330083,"reputation":162,"user_id":16551451,"display_name":"Vishen"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1627541111,"creation_date":1627539576,"answer_id":68571008,"question_id":68570933,"body_markdown":"i too do leetcode, it&#39;s giving you TLE, because it&#39;s not the solution they are expecting. it&#39;s correct but it will O(N*N) operations to compute, there is much better solution with O(N), \r\n```\r\npublic int[] productExceptSelf(int[] nums) {\r\n          \r\n        int output[] = new int[ nums.length];\r\n        \r\n        output[0] = 1;\r\n\r\n        // left prefix product\r\n        for(int i=1;i&lt;nums.length;i++){\r\n             output[i] = output[i-1] * nums[i-1];\r\n        }\r\n        \r\n        int product = 1;\r\n\r\n        for(int i=nums.length-1;i&gt;=0;i--){\r\n            \r\n            output[i] = output[i] * product;\r\n            \r\n            product*= nums[i];\r\n        }\r\n        \r\n        return output;\r\n}\r\n```\r\n ","title":"238.Product of Array Except Self-Leetcode","body":"<p>i too do leetcode, it's giving you TLE, because it's not the solution they are expecting. it's correct but it will O(N*N) operations to compute, there is much better solution with O(N),</p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n          \n        int output[] = new int[ nums.length];\n        \n        output[0] = 1;\n\n        // left prefix product\n        for(int i=1;i&lt;nums.length;i++){\n             output[i] = output[i-1] * nums[i-1];\n        }\n        \n        int product = 1;\n\n        for(int i=nums.length-1;i&gt;=0;i--){\n            \n            output[i] = output[i] * product;\n            \n            product*= nums[i];\n        }\n        \n        return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7557651,"reputation":51,"user_id":5736615,"display_name":"Piyush Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636382601,"creation_date":1636382269,"answer_id":69885253,"question_id":68570933,"body_markdown":"The above problem is giving TLE (Time Limit Exceeds) because the above problem is solved in O(N^2) time complexity. As mentioned in the Question, Algorithm should run in O(N) time and without using the division operator. \r\n\r\n**Approach-1**\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n\r\n        int[] leftProduct = new int[nums.length];\r\n        int[] rightProduct = new int[nums.length];\r\n        /**\r\n          calculate the left Prefix and right Suffix Product.\r\n        */\r\n        for (int i=0,j= nums.length-1; i &lt; nums.length; i++, j--) {\r\n            if (i == 0) {\r\n                leftProduct[i] = nums[i];\r\n                rightProduct[j] = nums[j];\r\n            }else {\r\n                leftProduct[i] = leftProduct[i-1] * nums[i];\r\n                rightProduct[j] = rightProduct[j+1] * nums[j];\r\n            }\r\n        }\r\n\r\n        for (int i=0; i &lt; nums.length; i++) {\r\n\r\n            if (i == 0) {\r\n                nums[i] = rightProduct[1];\r\n            }else if (i == (nums.length - 1)) {\r\n                nums[i] = leftProduct[i-1];\r\n            }else {\r\n                nums[i] = leftProduct[i-1] * rightProduct[i+1];\r\n            }\r\n        }\r\n        return nums;\r\n    }\r\n\r\n**Time Complexity: O(N)**, \r\n**Space Complexity: O(N)**\r\n\r\nThis can also be solved in O(1) space (as it&#39;s mentioned Output array does not count as  extra space.) \r\n\r\nHint: ***use the output array to store the left Prefix Product &amp; traverse the array from the right side***.\r\n","title":"238.Product of Array Except Self-Leetcode","body":"<p>The above problem is giving TLE (Time Limit Exceeds) because the above problem is solved in O(N^2) time complexity. As mentioned in the Question, Algorithm should run in O(N) time and without using the division operator.</p>\n<p><strong>Approach-1</strong></p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n\n    int[] leftProduct = new int[nums.length];\n    int[] rightProduct = new int[nums.length];\n    /**\n      calculate the left Prefix and right Suffix Product.\n    */\n    for (int i=0,j= nums.length-1; i &lt; nums.length; i++, j--) {\n        if (i == 0) {\n            leftProduct[i] = nums[i];\n            rightProduct[j] = nums[j];\n        }else {\n            leftProduct[i] = leftProduct[i-1] * nums[i];\n            rightProduct[j] = rightProduct[j+1] * nums[j];\n        }\n    }\n\n    for (int i=0; i &lt; nums.length; i++) {\n\n        if (i == 0) {\n            nums[i] = rightProduct[1];\n        }else if (i == (nums.length - 1)) {\n            nums[i] = leftProduct[i-1];\n        }else {\n            nums[i] = leftProduct[i-1] * rightProduct[i+1];\n        }\n    }\n    return nums;\n}\n</code></pre>\n<p><strong>Time Complexity: O(N)</strong>,\n<strong>Space Complexity: O(N)</strong></p>\n<p>This can also be solved in O(1) space (as it's mentioned Output array does not count as  extra space.)</p>\n<p>Hint: <em><strong>use the output array to store the left Prefix Product &amp; traverse the array from the right side</strong></em>.</p>\n"},{"comments":[{"owner":{"account_id":8788128,"reputation":51,"user_id":6569203,"display_name":"Ru Yu"},"score":0,"creation_date":1637854804,"post_id":70105042,"comment_id":123941778,"body_markdown":"sharp cut solution","body":"sharp cut solution"},{"owner":{"account_id":3305768,"reputation":663,"user_id":2780630,"display_name":"DanielV"},"score":0,"creation_date":1660322411,"post_id":70105042,"comment_id":129513631,"body_markdown":"I like that this only uses 3n + O(1) multiplications, and half of them can be done in parallel because the pairs are write/read independent.","body":"I like that this only uses 3n + O(1) multiplications, and half of them can be done in parallel because the pairs are write/read independent."}],"tags":[],"owner":{"account_id":23446303,"reputation":21,"user_id":17503073,"display_name":"AleksandrRogov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637849311,"creation_date":1637806305,"answer_id":70105042,"question_id":68570933,"body_markdown":"This solution also gives O(N) but use only 1 cycle.\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n        int[] res = new int[nums.length];\r\n        res[0] = 1;\r\n        res[nums.length-1] = 1;\r\n        int n = 1;\r\n        int k = nums.length-2;\r\n        int fromLeft = 1;\r\n        int fromRight = 1;\r\n        while(n &lt; nums.length) {\r\n            fromLeft  = nums[n-1] * fromLeft;\r\n            fromRight = nums[k+1] * fromRight;\r\n            if (n &lt; k) {\r\n                res[n] = fromLeft;\r\n                res[k] = fromRight;\r\n            } else {\r\n                if (n == k) {\r\n                    res[n] = fromLeft * fromRight;\r\n                } else {\r\n                    res[n] = fromLeft  * res[n];\r\n                    res[k] = fromRight * res[k];\r\n                }\r\n            }\r\n            n++;\r\n            k--;\r\n        }\r\n        return res;\r\n    }\r\n","title":"238.Product of Array Except Self-Leetcode","body":"<p>This solution also gives O(N) but use only 1 cycle.</p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n    int[] res = new int[nums.length];\n    res[0] = 1;\n    res[nums.length-1] = 1;\n    int n = 1;\n    int k = nums.length-2;\n    int fromLeft = 1;\n    int fromRight = 1;\n    while(n &lt; nums.length) {\n        fromLeft  = nums[n-1] * fromLeft;\n        fromRight = nums[k+1] * fromRight;\n        if (n &lt; k) {\n            res[n] = fromLeft;\n            res[k] = fromRight;\n        } else {\n            if (n == k) {\n                res[n] = fromLeft * fromRight;\n            } else {\n                res[n] = fromLeft  * res[n];\n                res[k] = fromRight * res[k];\n            }\n        }\n        n++;\n        k--;\n    }\n    return res;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":55217,"reputation":8498,"user_id":165292,"display_name":"avandeursen"},"score":1,"creation_date":1638131344,"post_id":70132347,"comment_id":124000151,"body_markdown":"Thanks for your answer, and your first one! The code however seems logically equivalent to the answer provided earlier by @Vishen. On StackOverflow such duplicate answers are typically not include. Perhaps it is better to delete this answer, and instead look for a question on StackOverflow for which there is no answer yet?","body":"Thanks for your answer, and your first one! The code however seems logically equivalent to the answer provided earlier by @Vishen. On StackOverflow such duplicate answers are typically not include. Perhaps it is better to delete this answer, and instead look for a question on StackOverflow for which there is no answer yet?"}],"tags":[],"owner":{"account_id":23467769,"reputation":1,"user_id":17521676,"display_name":"Rohit Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637991756,"creation_date":1637991756,"answer_id":70132347,"question_id":68570933,"body_markdown":"    class Solution {\r\n        public int[] productExceptSelf(int[] arr) {\r\n           int[]  res = new int[arr.length];\r\n            for(int i =0, temp =1; i &lt; arr.length;i++){ // first iteration to make res making temp inc\r\n                res[i] = temp;\r\n                temp *= arr[i];\r\n               }\r\n            for(int i = arr.length -1 , temp =1;i&gt;=0;i--){\r\n                res[i] *= temp;\r\n                temp *= arr[i];\r\n            }\r\n            return res;\r\n        }\r\n    }\r\n    \r\n    **Time Complexity O(N) Space Complexity O(N)**","title":"238.Product of Array Except Self-Leetcode","body":"<pre><code>class Solution {\n    public int[] productExceptSelf(int[] arr) {\n       int[]  res = new int[arr.length];\n        for(int i =0, temp =1; i &lt; arr.length;i++){ // first iteration to make res making temp inc\n            res[i] = temp;\n            temp *= arr[i];\n           }\n        for(int i = arr.length -1 , temp =1;i&gt;=0;i--){\n            res[i] *= temp;\n            temp *= arr[i];\n        }\n        return res;\n    }\n}\n\n**Time Complexity O(N) Space Complexity O(N)**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25910550,"reputation":1,"user_id":19634885,"display_name":"Abhinandan G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666802339,"creation_date":1666802339,"answer_id":74211325,"question_id":68570933,"body_markdown":"    class Solution:\r\n    def productExceptSelf(self, nums: List[int]) -&gt; List[int]:\r\n        l=[]\r\n        if nums.count(0)&gt;=2:\r\n            return [0]*len(nums)\r\n        if nums.count(0)==1:\r\n            index_of_zero=nums.index(0)\r\n            k=nums\r\n            s=1\r\n            k.remove(0)\r\n            for i in range(len(k)):\r\n                s=s*k[i]\r\n            l=[0]*len(k)\r\n            l.insert(index_of_zero,s)\r\n            return l\r\n        else:\r\n            s=1\r\n            for i in range(len(nums)):\r\n                s=s*nums[i]\r\n            for i in range(len(nums)):\r\n                l.append(s//nums[i])\r\n            return l","title":"238.Product of Array Except Self-Leetcode","body":"<pre><code>class Solution:\ndef productExceptSelf(self, nums: List[int]) -&gt; List[int]:\n    l=[]\n    if nums.count(0)&gt;=2:\n        return [0]*len(nums)\n    if nums.count(0)==1:\n        index_of_zero=nums.index(0)\n        k=nums\n        s=1\n        k.remove(0)\n        for i in range(len(k)):\n            s=s*k[i]\n        l=[0]*len(k)\n        l.insert(index_of_zero,s)\n        return l\n    else:\n        s=1\n        for i in range(len(nums)):\n            s=s*nums[i]\n        for i in range(len(nums)):\n            l.append(s//nums[i])\n        return l\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3245007,"reputation":2260,"user_id":2736849,"accept_rate":80,"display_name":"mfaisalhyder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674693890,"creation_date":1674693890,"answer_id":75241375,"question_id":68570933,"body_markdown":"I got this question recently.\r\n\r\nThis is how I solved it (definitely after the interview :p ) in **Java8**.\r\n\r\n```\r\nprivate static List&lt;Integer&gt; getProduct(final int[] inputs) {\r\n    int length = inputs.length;\r\n\r\n    int[] prefixArr = new int[length];\r\n    int[] suffixArr = new int[length];\r\n\r\n    //leftArr\r\n    prefixArr[0] = 1;\r\n    //rightArr\r\n    suffixArr[length - 1] = 1;\r\n\r\n    for (int index = 1; index &lt; length; index++)\r\n        prefixArr[index] = inputs[index - 1] * prefixArr[index - 1];\r\n\r\n    for (int index = (length - 2); index &gt;= 0; index--)\r\n        suffixArr[index] = inputs[index + 1] * suffixArr[index + 1];\r\n\r\n    return IntStream\r\n             .range(0, length)\r\n             .mapToObj(index -&gt; prefixArr[index] * suffixArr[index])\r\n             .collect(Collectors.toList())\r\n    ;\r\n}\r\n```\r\nThis solves the problem in 2 loops ideally and one stream iteration, hence **O(n)** is satisfied.","title":"238.Product of Array Except Self-Leetcode","body":"<p>I got this question recently.</p>\n<p>This is how I solved it (definitely after the interview :p ) in <strong>Java8</strong>.</p>\n<pre><code>private static List&lt;Integer&gt; getProduct(final int[] inputs) {\n    int length = inputs.length;\n\n    int[] prefixArr = new int[length];\n    int[] suffixArr = new int[length];\n\n    //leftArr\n    prefixArr[0] = 1;\n    //rightArr\n    suffixArr[length - 1] = 1;\n\n    for (int index = 1; index &lt; length; index++)\n        prefixArr[index] = inputs[index - 1] * prefixArr[index - 1];\n\n    for (int index = (length - 2); index &gt;= 0; index--)\n        suffixArr[index] = inputs[index + 1] * suffixArr[index + 1];\n\n    return IntStream\n             .range(0, length)\n             .mapToObj(index -&gt; prefixArr[index] * suffixArr[index])\n             .collect(Collectors.toList())\n    ;\n}\n</code></pre>\n<p>This solves the problem in 2 loops ideally and one stream iteration, hence <strong>O(n)</strong> is satisfied.</p>\n"}],"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13544,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":6,"score":0,"last_activity_date":1679832211,"creation_date":1627539099,"question_id":68570933,"body_markdown":"I have been trying out this problem on leetcode. ***[238.Product of array except self][1]*** \r\n\r\n\r\n  [1]: https://leetcode.com/problems/product-of-array-except-self/\r\n\r\n&gt; Given an integer array **nums**, return an array answer such that\r\n&gt; **answer[i]** is equal to the product of all the elements of **nums** except\r\n&gt; **nums[i]**.\r\n&gt; \r\n&gt; The product of any prefix or suffix of nums is guaranteed to fit in a\r\n&gt; 32-bit integer.\r\n&gt; \r\n&gt; You must write an algorithm that runs in **O(n)** time and without using\r\n&gt; the division operation.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;\r\n\r\n&gt; **Example 1 :**\r\n&gt;  \r\n&gt; \r\n&gt;     Input: nums = [1,2,3,4]\r\n&gt;     \r\n&gt;     Output: [24,12,8,6]\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; **Example 2:**\r\n&gt; \r\n&gt;  \r\n&gt; \r\n&gt;     Input: nums = [-1,1,0,-3,3]\r\n&gt;      \r\n&gt;      Output: [0,0,9,0,0]\r\n\r\nThis was my solution to the above-given problem.\r\n\r\n\r\n\r\n\r\n    public int[] productExceptSelf(int[] nums) {\r\n       \r\n        int answer[]=new int[nums.length];\r\n        for(int i=0;i&lt;nums.length;i++){\r\n            int prod=1;\r\n            for(int j=0;j&lt;nums.length;j++){\r\n                if(j!=i)\r\n                    \r\n                    prod=prod*nums[j];\r\n            }\r\n            answer[i]=prod;\r\n        }\r\n        return answer;\r\n    }\r\nThis is passing 19/20 test cases. There is one test case that is not working and I&#39;m getting an error ***&quot;Time limit exceeded.&quot;*** \r\n\r\nTest case which is failing is given below:\r\n\r\n \r\n\r\n&gt;     Input: [-1,-1,-1,-1,..............];\r\n&gt;      \r\n&gt;     Output: Time limit exceeded.\r\n\r\nIf someone can help me with what edition I have to do to my code?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"238.Product of Array Except Self-Leetcode","body":"<p>I have been trying out this problem on leetcode. <em><strong><a href=\"https://leetcode.com/problems/product-of-array-except-self/\" rel=\"nofollow noreferrer\">238.Product of array except self</a></strong></em></p>\n<blockquote>\n<p>Given an integer array <strong>nums</strong>, return an array answer such that\n<strong>answer[i]</strong> is equal to the product of all the elements of <strong>nums</strong> except\n<strong>nums[i]</strong>.</p>\n<p>The product of any prefix or suffix of nums is guaranteed to fit in a\n32-bit integer.</p>\n<p>You must write an algorithm that runs in <strong>O(n)</strong> time and without using\nthe division operation.</p>\n</blockquote>\n<blockquote>\n<p><strong>Example 1 :</strong></p>\n<pre><code>Input: nums = [1,2,3,4]\n\nOutput: [24,12,8,6]\n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>Input: nums = [-1,1,0,-3,3]\n \n Output: [0,0,9,0,0]\n</code></pre>\n</blockquote>\n<p>This was my solution to the above-given problem.</p>\n<pre><code>public int[] productExceptSelf(int[] nums) {\n   \n    int answer[]=new int[nums.length];\n    for(int i=0;i&lt;nums.length;i++){\n        int prod=1;\n        for(int j=0;j&lt;nums.length;j++){\n            if(j!=i)\n                \n                prod=prod*nums[j];\n        }\n        answer[i]=prod;\n    }\n    return answer;\n}\n</code></pre>\n<p>This is passing 19/20 test cases. There is one test case that is not working and I'm getting an error <em><strong>&quot;Time limit exceeded.&quot;</strong></em></p>\n<p>Test case which is failing is given below:</p>\n<blockquote>\n<pre><code>Input: [-1,-1,-1,-1,..............];\n \nOutput: Time limit exceeded.\n</code></pre>\n</blockquote>\n<p>If someone can help me with what edition I have to do to my code?</p>\n"},{"tags":["java","unit-testing","powermock"],"answers":[{"comments":[{"owner":{"account_id":2389864,"reputation":3086,"user_id":2089929,"accept_rate":0,"display_name":"aman kumar"},"score":0,"creation_date":1679841589,"post_id":75847551,"comment_id":133789140,"body_markdown":"I am using &#39;junit:junit:4.13.1&#39;","body":"I am using &#39;junit:junit:4.13.1&#39;"},{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1679843391,"post_id":75847551,"comment_id":133789460,"body_markdown":"are you sure?  the import statement org.junit.jupiter.api.Test says its junit 5","body":"are you sure?  the import statement org.junit.jupiter.api.Test says its junit 5"},{"owner":{"account_id":2389864,"reputation":3086,"user_id":2089929,"accept_rate":0,"display_name":"aman kumar"},"score":0,"creation_date":1679886066,"post_id":75847551,"comment_id":133795409,"body_markdown":"I have added in gralde the same version mention above","body":"I have added in gralde the same version mention above"},{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1679915749,"post_id":75847551,"comment_id":133800681,"body_markdown":"ok then you need to **use org.junit.Test** to run tests and make sure you also have org.junit.vintage:junit-vintage-engine:5.9.2 on the classpath","body":"ok then you need to <b>use org.junit.Test</b> to run tests and make sure you also have org.junit.vintage:junit-vintage-engine:5.9.2 on the classpath"}],"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679831430,"creation_date":1679831430,"answer_id":75847551,"question_id":75847039,"body_markdown":"Powermock has no support for junit 5. If you do the same with junit 4 it should work.","title":"Test case using powerMock in java for class new object mock","body":"<p>Powermock has no support for junit 5. If you do the same with junit 4 it should work.</p>\n"}],"owner":{"account_id":2389864,"reputation":3086,"user_id":2089929,"accept_rate":0,"display_name":"aman kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679831430,"creation_date":1679825022,"question_id":75847039,"body_markdown":"I am trying to mock the class instance of a user which is created inside another class which is `MyClass` method count.\r\n\r\nI want to write unit test case for `Myclass` method `count`\r\n\r\nBelow is sample code\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nclass User{\r\n    public int count(){\r\n        return 123;\r\n    }\r\n}\r\n\r\nclass MyClass{\r\n    public int count(){\r\n        User user = new User();\r\n        return user.count();\r\n    }\r\n}\r\n\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest( MyClass.class)\r\npublic class ServiceTestClass{\r\n  \r\n    @Test\r\n    public void testMethod() throws Exception {\r\n\r\n\r\n        User user = Mockito.mock(User.class);\r\n        when(user.count()).thenReturn(45);\r\n        whenNew(User.class).withAnyArguments().thenReturn(user);\r\n        MyClass myClass= new MyClass();\r\n        System.out.println(myClass.count());\r\n        verifyNew(User.class).withNoArguments();\r\n\r\n    }\r\n\r\n}\r\n```\r\nIdealy, `System.out.println(myClass.count());` should print `45` but it&#39;s printing `123`.\r\n\r\nCan anyone please help what i am doing wrong here?","title":"Test case using powerMock in java for class new object mock","body":"<p>I am trying to mock the class instance of a user which is created inside another class which is <code>MyClass</code> method count.</p>\n<p>I want to write unit test case for <code>Myclass</code> method <code>count</code></p>\n<p>Below is sample code</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nclass User{\n    public int count(){\n        return 123;\n    }\n}\n\nclass MyClass{\n    public int count(){\n        User user = new User();\n        return user.count();\n    }\n}\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest( MyClass.class)\npublic class ServiceTestClass{\n  \n    @Test\n    public void testMethod() throws Exception {\n\n\n        User user = Mockito.mock(User.class);\n        when(user.count()).thenReturn(45);\n        whenNew(User.class).withAnyArguments().thenReturn(user);\n        MyClass myClass= new MyClass();\n        System.out.println(myClass.count());\n        verifyNew(User.class).withNoArguments();\n\n    }\n\n}\n</code></pre>\n<p>Idealy, <code>System.out.println(myClass.count());</code> should print <code>45</code> but it's printing <code>123</code>.</p>\n<p>Can anyone please help what i am doing wrong here?</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1650040148,"post_id":71886525,"comment_id":127029932,"body_markdown":"You miss the *java* folder after *src/test*","body":"You miss the <i>java</i> folder after <i>src/test</i>"},{"owner":{"account_id":20791623,"reputation":23,"user_id":15269659,"display_name":"Dava Loper"},"score":0,"creation_date":1650040452,"post_id":71886525,"comment_id":127030037,"body_markdown":"when I tried to add java folder then I lost the visibility of the package private methods/variables. Is there a way to overcome this?","body":"when I tried to add java folder then I lost the visibility of the package private methods/variables. Is there a way to overcome this?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650195947,"post_id":71886525,"comment_id":127055322,"body_markdown":"_&quot;they are ending with Tests&quot;_, that right there could be your problem, because the pattern looks for classes ending in `Test`, not `Test**s**`. And as Jens says, make sure that your layout follows Maven conventions. Java test should normally be in `src/test/java`, not `src/test`","body":"<i>&quot;they are ending with Tests&quot;</i>, that right there could be your problem, because the pattern looks for classes ending in <code>Test</code>, not <code>Test**s**</code>. And as Jens says, make sure that your layout follows Maven conventions. Java test should normally be in <code>src&#47;test&#47;java</code>, not <code>src&#47;test</code>"}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650042825,"creation_date":1650042825,"answer_id":71886947,"question_id":71886525,"body_markdown":"Is there any reason why you configure just a certain tests? By default the surefire plugin should access all classes in testRoot and sub directories. \r\n\r\nYou could also just link a specific file like\r\n\r\n   &lt;include&gt;src/test/ArchTest.java&lt;/include&gt;\r\n\r\nto see if it is the &quot;include&quot; in your configuration or something else. I am not sure that the wildecards are working as you expect them to work. See https://stackoverflow.com/questions/13288532/maven-include-wildcard-match-on-partial-folder-name .\r\nBased on this you might try out \r\n\r\n     &lt;configuration&gt;\r\n          &lt;includes&gt;\r\n              &lt;include&gt;/**/*Test.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n      &lt;/configuration&gt;\r\n\r\n\r\n\r\n","title":"Maven surefire plugin doesn&#39;t find unit tests","body":"<p>Is there any reason why you configure just a certain tests? By default the surefire plugin should access all classes in testRoot and sub directories.</p>\n<p>You could also just link a specific file like</p>\n<p>src/test/ArchTest.java</p>\n<p>to see if it is the &quot;include&quot; in your configuration or something else. I am not sure that the wildecards are working as you expect them to work. See <a href=\"https://stackoverflow.com/questions/13288532/maven-include-wildcard-match-on-partial-folder-name\">Maven &lt;include&gt; wildcard match on partial folder name</a> .\nBased on this you might try out</p>\n<pre><code> &lt;configuration&gt;\n      &lt;includes&gt;\n          &lt;include&gt;/**/*Test.java&lt;/include&gt;\n      &lt;/includes&gt;\n  &lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17044087,"reputation":77,"user_id":12331329,"display_name":"Rohan Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679831103,"creation_date":1679831103,"answer_id":75847519,"question_id":71886525,"body_markdown":"add this for junit 5\r\n\r\n    &lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;2.22.0&lt;/version&gt;\r\n\r\n\r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                   &lt;version&gt;1.2.0&lt;/version&gt;\r\n               &lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n           &lt;configuration&gt;\r\n           \t&lt;additionalClasspathElements&gt;\r\n           \t\t&lt;additionalClasspathElement&gt;src/test/java/&lt;/additionalClasspathElement&gt;\r\n           \t&lt;/additionalClasspathElements&gt;\r\n           &lt;/configuration&gt;\r\n       &lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n\r\nadd this for junit 4\r\n\r\n\r\n    &lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.java&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/build&gt;","title":"Maven surefire plugin doesn&#39;t find unit tests","body":"<p>add this for junit 5</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n       &lt;version&gt;2.22.0&lt;/version&gt;\n\n\n           &lt;dependency&gt;\n               &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n               &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n               &lt;version&gt;1.2.0&lt;/version&gt;\n           &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n       &lt;configuration&gt;\n        &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;src/test/java/&lt;/additionalClasspathElement&gt;\n        &lt;/additionalClasspathElements&gt;\n       &lt;/configuration&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>add this for junit 4</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                &lt;artifactId&gt;surefire-junit4&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n"}],"owner":{"account_id":20791623,"reputation":23,"user_id":15269659,"display_name":"Dava Loper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71886947,"answer_count":2,"score":0,"last_activity_date":1679831103,"creation_date":1650040068,"question_id":71886525,"body_markdown":" - Yes, the Java classes which are containing the tests are named correctly. (they are ending with Tests)\r\n - Tried to add the following configuration in pom.xml:\r\n```\r\n\r\n     &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n\r\n```\r\n - Tests are located under the following structure: &lt;root&gt;/src/test/*packagename*/JavaClassTest.java where *packagename* is the same package what is under the unit test written under src/main/java path.\r\n - I&#39;m using jupiter Junit 5 and maven-surefire-plugin with 2.22.2\r\n\r\nAnd I still get the following error on mvn test:\r\n\r\n```\r\n\r\n    --- maven-surefire-plugin:2.22.2:test (default-test) @ &lt;project-name&gt; ---\r\n    [INFO] No tests to run.\r\n\r\n```\r\n\r\nWhat do I do wrong?","title":"Maven surefire plugin doesn&#39;t find unit tests","body":"<ul>\n<li>Yes, the Java classes which are containing the tests are named correctly. (they are ending with Tests)</li>\n<li>Tried to add the following configuration in pom.xml:</li>\n</ul>\n<pre><code>\n     &lt;configuration&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*Test.java&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/configuration&gt;\n\n</code></pre>\n<ul>\n<li>Tests are located under the following structure: /src/test/<em>packagename</em>/JavaClassTest.java where <em>packagename</em> is the same package what is under the unit test written under src/main/java path.</li>\n<li>I'm using jupiter Junit 5 and maven-surefire-plugin with 2.22.2</li>\n</ul>\n<p>And I still get the following error on mvn test:</p>\n<pre><code>\n    --- maven-surefire-plugin:2.22.2:test (default-test) @ &lt;project-name&gt; ---\n    [INFO] No tests to run.\n\n</code></pre>\n<p>What do I do wrong?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":1,"creation_date":1679828905,"post_id":75847278,"comment_id":133787361,"body_markdown":"your query looks quite complex, so best way would be to use your DB query as-is using @query(nativequery = true)","body":"your query looks quite complex, so best way would be to use your DB query as-is using @query(nativequery = true)"}],"answers":[{"tags":[],"owner":{"account_id":20261613,"reputation":323,"user_id":14859844,"display_name":"Shahab Ranjbary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679829682,"creation_date":1679829350,"answer_id":75847379,"question_id":75847278,"body_markdown":"You can use the @Query annotation with the nativeQuery attribute set to true. \r\n\r\n    @Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\r\n               &quot;FROM event A, &quot; +\r\n               &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\r\n               &quot; FROM event &quot; +\r\n               &quot; WHERE other_table_id IN (:ids) &quot; +\r\n               &quot; GROUP BY other_table_id) B &quot; +\r\n               &quot;WHERE A.other_table_id = B.other_table_id &quot; +\r\n               &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\r\n    List&lt;Object[]&gt; findMaxDateForID(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);\r\n\r\nit gets list of ids if you want to pass one by one id you can using:\r\n\r\n    @Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\r\n           &quot;FROM event A, &quot; +\r\n           &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\r\n           &quot; FROM event &quot; +\r\n           &quot; WHERE other_table_id=:id &quot; +\r\n           &quot; GROUP BY other_table_id) B &quot; +\r\n           &quot;WHERE A.other_table_id = B.other_table_id &quot; +\r\n           &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\r\n    List&lt;Object[]&gt; findMaxDateForID(@Param(&quot;id&quot;) Long id);","title":"Best way to fetch max date using jpa repository","body":"<p>You can use the @Query annotation with the nativeQuery attribute set to true.</p>\n<pre><code>@Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\n           &quot;FROM event A, &quot; +\n           &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\n           &quot; FROM event &quot; +\n           &quot; WHERE other_table_id IN (:ids) &quot; +\n           &quot; GROUP BY other_table_id) B &quot; +\n           &quot;WHERE A.other_table_id = B.other_table_id &quot; +\n           &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\nList&lt;Object[]&gt; findMaxDateForID(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);\n</code></pre>\n<p>it gets list of ids if you want to pass one by one id you can using:</p>\n<pre><code>@Query(value = &quot;SELECT A.other_table_id, A.update_date_time &quot; +\n       &quot;FROM event A, &quot; +\n       &quot;(SELECT other_table_id, MAX(update_date_time) AS update_date_time &quot; +\n       &quot; FROM event &quot; +\n       &quot; WHERE other_table_id=:id &quot; +\n       &quot; GROUP BY other_table_id) B &quot; +\n       &quot;WHERE A.other_table_id = B.other_table_id &quot; +\n       &quot;  AND A.update_date_time = B.update_date_time&quot;, nativeQuery = true)\nList&lt;Object[]&gt; findMaxDateForID(@Param(&quot;id&quot;) Long id);\n</code></pre>\n"}],"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75847379,"answer_count":1,"score":0,"last_activity_date":1679831085,"creation_date":1679828033,"question_id":75847278,"body_markdown":"I have a table event\r\n```sql\r\nCREATE TABLE `event` (\r\n  `otherTableId` bigint unsigned NOT NULL,\r\n  `updateDateTime` datetime NOT NULL,\r\n  KEY `otherTableId` (`otherTableId`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\r\n```\r\nI am using jpa repository, \r\nWhat is best way to replicate below query which can have multiple ids to query and need max date row for each id\r\n\r\n```sql\r\nselect \r\n    A.otherTableId, \r\n    A.updateDateTime \r\nfrom \r\n    event as A, \r\n    (\r\n      select \r\n          otherTableId, \r\n          max(updateDateTime) as updateDateTime \r\n      from \r\n          event \r\n      where \r\n          otherTableId in (5,88,77,96,10054) \r\n      group by \r\n          otherTableId) as B \r\nwhere \r\n    A.otherTableId = B.otherTableId \r\n    and A.updateDateTime=B.updateDateTime\r\n```\r\n","title":"Best way to fetch max date using jpa repository","body":"<p>I have a table event</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `event` (\n  `otherTableId` bigint unsigned NOT NULL,\n  `updateDateTime` datetime NOT NULL,\n  KEY `otherTableId` (`otherTableId`)\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\n</code></pre>\n<p>I am using jpa repository,\nWhat is best way to replicate below query which can have multiple ids to query and need max date row for each id</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select \n    A.otherTableId, \n    A.updateDateTime \nfrom \n    event as A, \n    (\n      select \n          otherTableId, \n          max(updateDateTime) as updateDateTime \n      from \n          event \n      where \n          otherTableId in (5,88,77,96,10054) \n      group by \n          otherTableId) as B \nwhere \n    A.otherTableId = B.otherTableId \n    and A.updateDateTime=B.updateDateTime\n</code></pre>\n"},{"tags":["java","pdf","itext","pdfbox","tagged-pdf"],"answers":[{"comments":[{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1566397100,"post_id":57592766,"comment_id":101644985,"body_markdown":"Ok, I adjusted my code and tried again. same result. Please see the screen shot.\nhttps://drive.google.com/file/d/1587Ih0cDDXPuxfA97EM3EZ4O-p7PKIMq/view?usp=sharing","body":"Ok, I adjusted my code and tried again. same result. Please see the screen shot. <a href=\"https://drive.google.com/file/d/1587Ih0cDDXPuxfA97EM3EZ4O-p7PKIMq/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1587Ih0cDDXPuxfA97EM3EZ4O-p7PKIMq/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1566398393,"post_id":57592766,"comment_id":101645543,"body_markdown":"Have you updated the link for the example document?","body":"Have you updated the link for the example document?"},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1566452758,"post_id":57592766,"comment_id":101661834,"body_markdown":"yeah I updated the new tagged pdf in above question link.","body":"yeah I updated the new tagged pdf in above question link."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1566479062,"post_id":57592766,"comment_id":101675324,"body_markdown":"@fascinatingcode Ok, I just realized your structure information do not contain a parent tree at all. That parent tree is required for going from content to structure, see my edited answer.","body":"@fascinatingcode Ok, I just realized your structure information do not contain a parent tree at all. That parent tree is required for going from content to structure, see my edited answer."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1566644153,"post_id":57592766,"comment_id":101726951,"body_markdown":"Apologies , I forgot to add parent parent tree to the pdf. Now I added new document link in question which contains parent tree also(please confirm, whether  it had parent tree contains or not in two pdf&#39;s).  Now instead of &quot;selection not found &quot; it is highlighting  the last &lt;P&gt; tag in parent tree. Irrespective of what what we selected. (try with select &#39; hello world&#39; and press select tag from selection in first added pdf)","body":"Apologies , I forgot to add parent parent tree to the pdf. Now I added new document link in question which contains parent tree also(please confirm, whether  it had parent tree contains or not in two pdf&#39;s).  Now instead of &quot;selection not found &quot; it is highlighting  the last &lt;P&gt; tag in parent tree. Irrespective of what what we selected. (try with select &#39; hello world&#39; and press select tag from selection in first added pdf)"},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1566828775,"post_id":57592766,"comment_id":101768575,"body_markdown":"I Added screen shot for new found issue ay help please.","body":"I Added screen shot for new found issue ay help please."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1566836837,"post_id":57592766,"comment_id":101772276,"body_markdown":"Your **ParentTree** entries are incorrect, see my edited answer.","body":"Your <b>ParentTree</b> entries are incorrect, see my edited answer."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1566909162,"post_id":57592766,"comment_id":101796541,"body_markdown":"Could you please tell me what are the tools available for to inspect pdf parent tree and structparents. \nPlease provide some links or help me to code(PDFBox) to form a parent tree structure without errors.","body":"Could you please tell me what are the tools available for to inspect pdf parent tree and structparents.  Please provide some links or help me to code(PDFBox) to form a parent tree structure without errors."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1566915074,"post_id":57592766,"comment_id":101800165,"body_markdown":"I don&#39;t know specific tools for only the structure elements. I used a generic tool to inspect PDF objects, iText RUPS; similar is PDFBox PDFDebugger; and there is a similar function in Adobe Preflight.","body":"I don&#39;t know specific tools for only the structure elements. I used a generic tool to inspect PDF objects, iText RUPS; similar is PDFBox PDFDebugger; and there is a similar function in Adobe Preflight."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":1,"creation_date":1566966580,"post_id":57592766,"comment_id":101815736,"body_markdown":"Thanks a lot both bugs are fixed. You can see my parent tree now. \nhttps://drive.google.com/file/d/1_iaoPx0sEkaNjPDEUYuRLeApmOjYr_0o/view?usp=sharing","body":"Thanks a lot both bugs are fixed. You can see my parent tree now.  <a href=\"https://drive.google.com/file/d/1_iaoPx0sEkaNjPDEUYuRLeApmOjYr_0o/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1_iaoPx0sEkaNjPDEUYuRLeApmOjYr_0o/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1566968325,"post_id":57592766,"comment_id":101816116,"body_markdown":"Great! I&#39;m glad I could help.","body":"Great! I&#39;m glad I could help."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1567073443,"post_id":57592766,"comment_id":101857847,"body_markdown":"I tested my code by remediating different documents. Some documents are working fine but some are not why. \nbelow file link passing all checks and working very well while jaws reading. \nhttps://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing\nBelow link still problems find tag selection and jaws read only current page not reading tag structure.\nhttps://drive.google.com/file/d/1KTwtyd4J1_hTx4o3xGoA-MR9GpqL8JqS/view?usp=sharing","body":"I tested my code by remediating different documents. Some documents are working fine but some are not why.  below file link passing all checks and working very well while jaws reading.  <a href=\"https://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/&hellip;</a> Below link still problems find tag selection and jaws read only current page not reading tag structure. <a href=\"https://drive.google.com/file/d/1KTwtyd4J1_hTx4o3xGoA-MR9GpqL8JqS/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1KTwtyd4J1_hTx4o3xGoA-MR9GpqL8JqS/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1567156741,"post_id":57592766,"comment_id":101888363,"body_markdown":"@fascinatingcoder In &quot;res29_08_19.pdf&quot; you forgot the entries for the MCIDs 0 and 1 and others on both pages in the **ParentTree**.","body":"@fascinatingcoder In &quot;res29_08_19.pdf&quot; you forgot the entries for the MCIDs 0 and 1 and others on both pages in the <b>ParentTree</b>."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1567159204,"post_id":57592766,"comment_id":101889549,"body_markdown":"No I used 0 and 1 Mcid&#39;s for Artifacts. So H1 is started with 2. the page no and beside text I tagged like Artifacts. see below link.\nhttps://drive.google.com/file/d/1CDKy9M3r0ryDAp5tUpARlDOEkmQIC4w9/view?usp=sharing","body":"No I used 0 and 1 Mcid&#39;s for Artifacts. So H1 is started with 2. the page no and beside text I tagged like Artifacts. see below link. <a href=\"https://drive.google.com/file/d/1CDKy9M3r0ryDAp5tUpARlDOEkmQIC4w9/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1CDKy9M3r0ryDAp5tUpARlDOEkmQIC4w9/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1567162860,"post_id":57592766,"comment_id":101891143,"body_markdown":"See the specification, in these parent tree arrays, &quot;The array element corresponding to each sequence shall be found by using the sequence’s marked-content identifier as a zero-based index into the array.&quot; Thus, the structure element for MCID 0 is referenced at position 0, the structure element for MCID 1 is referenced at position 1, .... Thus, you cannot leave them out. If you don&#39;t want structure elements for some marked content sequences, don&#39;t give MCIDs to those sequences.","body":"See the specification, in these parent tree arrays, &quot;The array element corresponding to each sequence shall be found by using the sequence’s marked-content identifier as a zero-based index into the array.&quot; Thus, the structure element for MCID 0 is referenced at position 0, the structure element for MCID 1 is referenced at position 1, .... Thus, you cannot leave them out. If you don&#39;t want structure elements for some marked content sequences, don&#39;t give MCIDs to those sequences."},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1567867714,"post_id":57592766,"comment_id":102098077,"body_markdown":"Hi @mkl, This time I tagged inline spans to &lt;p&gt; tag. Now the read single page option is not working? I don&#39;t know why. Can you please help. Parent tree is fine I think. \nhttps://drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/view?usp=sharing","body":"Hi @mkl, This time I tagged inline spans to &lt;p&gt; tag. Now the read single page option is not working? I don&#39;t know why. Can you please help. Parent tree is fine I think.  <a href=\"https://drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/&hellip;</a>"},{"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"score":0,"creation_date":1568008639,"post_id":57592766,"comment_id":102123856,"body_markdown":"At the same above pdf in first page jaws read all pages mode if read paragraph by paragraph(by just pressing P or ctrl+down arrow) after the image immediate &lt;p&gt; tag is not reading and directly going to H3. But if you read top to bottom it is reading fine.","body":"At the same above pdf in first page jaws read all pages mode if read paragraph by paragraph(by just pressing P or ctrl+down arrow) after the image immediate &lt;p&gt; tag is not reading and directly going to H3. But if you read top to bottom it is reading fine."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568107337,"post_id":57592766,"comment_id":102160481,"body_markdown":"@fascinatingcoder I&#39;ve looked a bit deeper into how your parent tree and your structure hierarchy relate, and only now I became aware that you introduced an unnecessary layer of in-between structure nodes probably confusing tagging-aware software. See the edit of my answer.","body":"@fascinatingcoder I&#39;ve looked a bit deeper into how your parent tree and your structure hierarchy relate, and only now I became aware that you introduced an unnecessary layer of in-between structure nodes probably confusing tagging-aware software. See the edit of my answer."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":18,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1568106614,"creation_date":1566393996,"answer_id":57592766,"question_id":57591441,"body_markdown":"### A nesting issue\n\n&gt;How I was tagged: Instead of extract text and tagging I am adding mcid&#39;s to the existing content stream (both open and closing ex: `/p&lt;&lt; MCID 0 &gt;&gt; BDC .. .. .. EMC`)\n\nYou&#39;re doing this incorrectly. See for example the start of the page content stream in your document:\n\n&lt;!-- language-all: lang-none --&gt;\n\n    BT\n    0 i\n    /C0_0 18 Tf\n    41.91 740.175 Td\n    /H2 &lt;&lt;/MCID  0  &gt;&gt; BDC\n    ( \\) F M M P  8 P S M E) Tj\n    ET\n    /TouchUp_TextEdit MP\n    BT\n    /C0_1 14 Tf\n    EMC \n\nFocusing on the beginning and end of text objects and marked content, we see that you have `BT ... BDC ... ET ... BT ... EMC`\n\nAccording to the specification, though:\n\n&gt;When the marked-content operators **BMC**, **BDC**, and **EMC** are combined with the text object operators **BT** and **ET** (see 9.4, “Text Objects”), each pair of matching operators (**BMC**…**EMC**, **BDC**…**EMC**, or **BT**…**ET**) shall be properly (separately) nested. Therefore, the sequences\n&gt;\n&gt;     BMC             BT\n&gt;       BT              BMC\n&gt;         …    and         …\n&gt;       ET              EMC\n&gt;     EMC             ET\n&gt;\n&gt;are valid, but\n&gt;\n&gt;     BMC             BT\n&gt;       BT              BMC\n&gt;         …    and         …\n&gt;       EMC             ET\n&gt;     BT              EMC\n&gt;\n&gt;are not valid.\n\n*(ISO 32000-1 section 14.6 &quot;Marked Content&quot;)*\n\n*This issue was fixed in the second shared PDF, `res1.pdf`.*\n\n### Missing ParentTree and StructParents\n\nThe problem your question focuses on is\n\n&gt; There is an option called &quot;Find Tag from Selection&quot; . Is not working.\n\nFinding a tag from selection essentially means that you have the **MCID** of some content stream instruction and you search the structure element in the structure tree referencing that marked content ID.\n\nHow PDF processors are expected to do this, is described in section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot; of the PDF specification ISO 32000-1 (or section 14.7.5.4 in ISO 32000-2):\n\n&gt; Because a stream cannot contain object references, there is no way for content items that are marked-content sequences to refer directly back to their parent structure elements (the ones to which they belong as content items). Instead, a different mechanism, the *structural parent tree*, shall be provided for this purpose. For consistency, content items that are entire PDF objects, such as XObjects, shall also use the parent tree to refer to their parent structure elements.\n&gt;\n&gt;The parent tree is a number tree, accessed from the **ParentTree** entry in a document’s structure tree root. The tree shall contain an entry for each object that is a content item of at least one structure element and for each content stream containing at least one marked-content sequence that is a content item.\n\nYour PDF does not have that **ParentTree** at all, and your page does not contain a **StructParents** entry to lookup in a parent tree. Thus, the prescribed way to get from *marked content* to the *structure tree* is impossible to go.\n\n*A **ParentTree** was added in the third shared PDF, `new.pdf`.*\n\n### Incorrect ParentTree entries\n\nWhile in `new.pdf` you have a **ParentTree**, its contents are clearly incorrect:\n\n[![Screenshot ParentTree][1]][1]\n\nThe **ParentTree** is a *number tree*, i.e. integers are *mapped* to something here, so there obviously must not be multiple entries for the same integer key.\n\nFurthermore, looking inside one of those values:\n\n[![Screenshot ParentTree, first entry opened][2]][2]\n\none sees that you claim that the following **StructElem** is the value for all marked content IDs:\n\n[![common value of all content IDs][3]][3]\n\nInspecting this **StructElem** further, one sees that it represents the final paragraph on the final page.\n\nThus, your observation\n\n&gt;Now instead of &quot;selection not found &quot; it is highlighting the last &amp;lt;P&gt; tag in parent tree. Irrespective of what what we selected.\n\nis what one can expect. If one expects any reasonable behavior at all, that is, with a **ParentTree** structure broken so badly.\n\n*Actually there was not only this `new.pdf` but also `res.pdf` and `tagged without altext.pdf` with **ParentTree**s, but all these **ParentTree**s were broken like the tree of `new.pdf`.*\n\nYou might want to start inspecting the structures you create when analyzing an unwanted behavior.\n\n### Another issue with parent tree entries\n\nThe previously described issue in parent trees meanwhile has been resolved, different pages now have different struct parents and the parent tree arrays now reference the struct elements for distinct MCIDs.\n\nFor some documents a different error occurs now, though, e.g. &quot;res29_08_19.pdf&quot;. Here the parent tree starts like this:\n\n[![Screenshot ParentTree][4]][4]\n\nIn particular the first entry in the array is for MCID 3, the second for MCID 4, ...\n\nThis is invalid, according to the specification\n\n&gt;The array element corresponding to each sequence shall be found by using the sequence’s marked-content identifier as a zero-based index into the array.\n\n*(ISO 32000-1 section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot;)*\n\nThus, the first entry must be for MCID 0, the second for MCID 1, ...\n\nYou objected in a comment\n\n&gt; No I used 0 and 1 Mcid&#39;s for Artifacts.\n\nBut as a corollary of the above: *Do not give MCIDs to marked content sequences you don&#39;t have a structure element for!* MCIDs are for going back and forth between the structure hierarchy and the content streams. If you mark a piece of content without having a structure element for it, don&#39;t give it a MCID.\n\n### Yet another issue with parent tree entries\n\nYou again report problems with your newest file [mathpdf.pdf][5]. And indeed, there are issues; Adobe Acrobat Preflight reports a 5 pages list of inconsistent parent tree mappings like this:\n\n[![preflight report excerpt][6]][6]\n\nIn contrast to the previous issues the cause does not become clear by looking at the parent tree alone, one also has to look at the structure hierarchy.\n\nDoing so, though, one peculiarity immediately hits the eye: In your parent tree you do not reference the actual parent structure element of the MCID but you reference a new structure tree node which claims to have the actual parent node from the structure hierarchy as its own parent (not actually being one of its kids) and also claims to have the MCID in question as kid.\n\nFor example let&#39;s look at the MCID 0 on the first page. In the structure hierarchy you have:\n\n[![structure hierarchy screen shot][7]][7]\n\nIn the parent tree you have:\n\n[![parent tree screen shot][8]][8]\n\nYou should have simply referenced object 238 (the structure hierarchy parent of MCID 0) directly from the parent tree array for page one instead of that in-between object 62 which claims to have that object 238 as parent and MCID 0 as kid.\n\nThe reported inconsistency may be due to the node referenced from the parent tree (in object 62) claims to be a **P** paragraph with a parent node (in object 238) which is a **Span**. That is not allowed, a paragraph may *contain* a span but it cannot be *contained* in one.\n\n\n\n  [1]: https://i.stack.imgur.com/AZW3h.png\n  [2]: https://i.stack.imgur.com/emykv.png\n  [3]: https://i.stack.imgur.com/IrjLR.png\n  [4]: https://i.stack.imgur.com/81cOO.png\n  [5]: https://drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/view?usp=sharing\n  [6]: https://i.stack.imgur.com/K6kwS.png\n  [7]: https://i.stack.imgur.com/tIvqa.png\n  [8]: https://i.stack.imgur.com/VV1VH.png","title":"&quot;Find Tag from Selection&quot; is not working in tagged pdf?","body":"<h3>A nesting issue</h3>\n<blockquote>\n<p>How I was tagged: Instead of extract text and tagging I am adding mcid's to the existing content stream (both open and closing ex: <code>/p&lt;&lt; MCID 0 &gt;&gt; BDC .. .. .. EMC</code>)</p>\n</blockquote>\n<p>You're doing this incorrectly. See for example the start of the page content stream in your document:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BT\n0 i\n/C0_0 18 Tf\n41.91 740.175 Td\n/H2 &lt;&lt;/MCID  0  &gt;&gt; BDC\n( \\) F M M P  8 P S M E) Tj\nET\n/TouchUp_TextEdit MP\nBT\n/C0_1 14 Tf\nEMC \n</code></pre>\n<p>Focusing on the beginning and end of text objects and marked content, we see that you have <code>BT ... BDC ... ET ... BT ... EMC</code></p>\n<p>According to the specification, though:</p>\n<blockquote>\n<p>When the marked-content operators <strong>BMC</strong>, <strong>BDC</strong>, and <strong>EMC</strong> are combined with the text object operators <strong>BT</strong> and <strong>ET</strong> (see 9.4, “Text Objects”), each pair of matching operators (<strong>BMC</strong>…<strong>EMC</strong>, <strong>BDC</strong>…<strong>EMC</strong>, or <strong>BT</strong>…<strong>ET</strong>) shall be properly (separately) nested. Therefore, the sequences</p>\n<pre class=\"lang-none prettyprint-override\"><code>BMC             BT\n  BT              BMC\n    …    and         …\n  ET              EMC\nEMC             ET\n</code></pre>\n<p>are valid, but</p>\n<pre class=\"lang-none prettyprint-override\"><code>BMC             BT\n  BT              BMC\n    …    and         …\n  EMC             ET\nBT              EMC\n</code></pre>\n<p>are not valid.</p>\n</blockquote>\n<p><em>(ISO 32000-1 section 14.6 &quot;Marked Content&quot;)</em></p>\n<p><em>This issue was fixed in the second shared PDF, <code>res1.pdf</code>.</em></p>\n<h3>Missing ParentTree and StructParents</h3>\n<p>The problem your question focuses on is</p>\n<blockquote>\n<p>There is an option called &quot;Find Tag from Selection&quot; . Is not working.</p>\n</blockquote>\n<p>Finding a tag from selection essentially means that you have the <strong>MCID</strong> of some content stream instruction and you search the structure element in the structure tree referencing that marked content ID.</p>\n<p>How PDF processors are expected to do this, is described in section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot; of the PDF specification ISO 32000-1 (or section 14.7.5.4 in ISO 32000-2):</p>\n<blockquote>\n<p>Because a stream cannot contain object references, there is no way for content items that are marked-content sequences to refer directly back to their parent structure elements (the ones to which they belong as content items). Instead, a different mechanism, the <em>structural parent tree</em>, shall be provided for this purpose. For consistency, content items that are entire PDF objects, such as XObjects, shall also use the parent tree to refer to their parent structure elements.</p>\n<p>The parent tree is a number tree, accessed from the <strong>ParentTree</strong> entry in a document’s structure tree root. The tree shall contain an entry for each object that is a content item of at least one structure element and for each content stream containing at least one marked-content sequence that is a content item.</p>\n</blockquote>\n<p>Your PDF does not have that <strong>ParentTree</strong> at all, and your page does not contain a <strong>StructParents</strong> entry to lookup in a parent tree. Thus, the prescribed way to get from <em>marked content</em> to the <em>structure tree</em> is impossible to go.</p>\n<p><em>A <strong>ParentTree</strong> was added in the third shared PDF, <code>new.pdf</code>.</em></p>\n<h3>Incorrect ParentTree entries</h3>\n<p>While in <code>new.pdf</code> you have a <strong>ParentTree</strong>, its contents are clearly incorrect:</p>\n<p><a href=\"https://i.stack.imgur.com/AZW3h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZW3h.png\" alt=\"Screenshot ParentTree\" /></a></p>\n<p>The <strong>ParentTree</strong> is a <em>number tree</em>, i.e. integers are <em>mapped</em> to something here, so there obviously must not be multiple entries for the same integer key.</p>\n<p>Furthermore, looking inside one of those values:</p>\n<p><a href=\"https://i.stack.imgur.com/emykv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emykv.png\" alt=\"Screenshot ParentTree, first entry opened\" /></a></p>\n<p>one sees that you claim that the following <strong>StructElem</strong> is the value for all marked content IDs:</p>\n<p><a href=\"https://i.stack.imgur.com/IrjLR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IrjLR.png\" alt=\"common value of all content IDs\" /></a></p>\n<p>Inspecting this <strong>StructElem</strong> further, one sees that it represents the final paragraph on the final page.</p>\n<p>Thus, your observation</p>\n<blockquote>\n<p>Now instead of &quot;selection not found &quot; it is highlighting the last &lt;P&gt; tag in parent tree. Irrespective of what what we selected.</p>\n</blockquote>\n<p>is what one can expect. If one expects any reasonable behavior at all, that is, with a <strong>ParentTree</strong> structure broken so badly.</p>\n<p><em>Actually there was not only this <code>new.pdf</code> but also <code>res.pdf</code> and <code>tagged without altext.pdf</code> with <strong>ParentTree</strong>s, but all these <strong>ParentTree</strong>s were broken like the tree of <code>new.pdf</code>.</em></p>\n<p>You might want to start inspecting the structures you create when analyzing an unwanted behavior.</p>\n<h3>Another issue with parent tree entries</h3>\n<p>The previously described issue in parent trees meanwhile has been resolved, different pages now have different struct parents and the parent tree arrays now reference the struct elements for distinct MCIDs.</p>\n<p>For some documents a different error occurs now, though, e.g. &quot;res29_08_19.pdf&quot;. Here the parent tree starts like this:</p>\n<p><a href=\"https://i.stack.imgur.com/81cOO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81cOO.png\" alt=\"Screenshot ParentTree\" /></a></p>\n<p>In particular the first entry in the array is for MCID 3, the second for MCID 4, ...</p>\n<p>This is invalid, according to the specification</p>\n<blockquote>\n<p>The array element corresponding to each sequence shall be found by using the sequence’s marked-content identifier as a zero-based index into the array.</p>\n</blockquote>\n<p><em>(ISO 32000-1 section 14.7.4.4 &quot;Finding Structure Elements from Content Items&quot;)</em></p>\n<p>Thus, the first entry must be for MCID 0, the second for MCID 1, ...</p>\n<p>You objected in a comment</p>\n<blockquote>\n<p>No I used 0 and 1 Mcid's for Artifacts.</p>\n</blockquote>\n<p>But as a corollary of the above: <em>Do not give MCIDs to marked content sequences you don't have a structure element for!</em> MCIDs are for going back and forth between the structure hierarchy and the content streams. If you mark a piece of content without having a structure element for it, don't give it a MCID.</p>\n<h3>Yet another issue with parent tree entries</h3>\n<p>You again report problems with your newest file <a href=\"https://drive.google.com/file/d/1aD1HGQsEXOovpfWdf7JRNwJhP7tX6pmy/view?usp=sharing\" rel=\"nofollow noreferrer\">mathpdf.pdf</a>. And indeed, there are issues; Adobe Acrobat Preflight reports a 5 pages list of inconsistent parent tree mappings like this:</p>\n<p><a href=\"https://i.stack.imgur.com/K6kwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6kwS.png\" alt=\"preflight report excerpt\" /></a></p>\n<p>In contrast to the previous issues the cause does not become clear by looking at the parent tree alone, one also has to look at the structure hierarchy.</p>\n<p>Doing so, though, one peculiarity immediately hits the eye: In your parent tree you do not reference the actual parent structure element of the MCID but you reference a new structure tree node which claims to have the actual parent node from the structure hierarchy as its own parent (not actually being one of its kids) and also claims to have the MCID in question as kid.</p>\n<p>For example let's look at the MCID 0 on the first page. In the structure hierarchy you have:</p>\n<p><a href=\"https://i.stack.imgur.com/tIvqa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tIvqa.png\" alt=\"structure hierarchy screen shot\" /></a></p>\n<p>In the parent tree you have:</p>\n<p><a href=\"https://i.stack.imgur.com/VV1VH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VV1VH.png\" alt=\"parent tree screen shot\" /></a></p>\n<p>You should have simply referenced object 238 (the structure hierarchy parent of MCID 0) directly from the parent tree array for page one instead of that in-between object 62 which claims to have that object 238 as parent and MCID 0 as kid.</p>\n<p>The reported inconsistency may be due to the node referenced from the parent tree (in object 62) claims to be a <strong>P</strong> paragraph with a parent node (in object 238) which is a <strong>Span</strong>. That is not allowed, a paragraph may <em>contain</em> a span but it cannot be <em>contained</em> in one.</p>\n"}],"owner":{"account_id":16547773,"reputation":269,"user_id":11956879,"display_name":"fascinating coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57592766,"answer_count":1,"score":5,"last_activity_date":1679830291,"creation_date":1566389770,"question_id":57591441,"body_markdown":"I have tagged a pdf using pdfbox. \r\n\r\nHow I was tagged:  Instead of extract text and tagging I am adding mcid&#39;s to the existing content stream (both open and closing ex: /p&lt;&lt; MCID 0 &gt;&gt; BDC .. .. .. EMC) and then I am adding that marked content to document root catalog structure.\r\n\r\nWhat working: Almost everything is working fine like completely tagged pdf. It is passing the PAC3 accessibility checker also.\r\n\r\n    //Adding tags\r\n    tokens.add(++ind, type_check(t_ype, page));\r\n    currentMarkedContentDictionary = new COSDictionary();\r\n    currentMarkedContentDictionary.setInt(COSName.MCID, mcid);\r\n    if (altText != null &amp;&amp; !altText.isEmpty()) {\r\n    \tcurrentMarkedContentDictionary.setString(COSName.ALT, altText);\r\n    }\r\n    mcid++;\r\n    tokens.add(++ind, currentMarkedContentDictionary);\r\n    tokens.add(++ind, Operator.getOperator(&quot;BDC&quot;));\r\n    \r\n    // Adding marked content to root structure\r\n    structureElement.appendKid(markedContent);\r\n    \t\t\t\t\t\t\t \r\n    currentSection.appendKid(structureElement);\t\t\t\t\r\n    \t\t\t\t\t\t\t\t \r\n   \r\n\t\t    \t\t\t\r\n\r\nWhat not working:  After tagging one future Is missing from tag structure. There is an option called &quot;Find Tag from Selection&quot; . Is not working. It is going to last tag while I select some test and press &quot; Find tag from selection&quot; in root structure. Please find the pdf in below link.\r\n\r\nhttps://drive.google.com/file/d/11Lhuj50Bb9kChvD0kL_GOHQn4RNKZ0hR/view?usp=sharing\r\n\r\nParent tree:\r\n\r\nhttps://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing\r\n\r\nextra doc with tagging and parent tree:\r\nhttps://drive.google.com/file/d/1yzZSsjkb5_dGfq1Wu3VxsH73vr3alRmC/view?usp=sharing\r\n\r\nPlease help me to solve this problem.\r\n\r\n**New Problem:**\r\nI observed that \r\n\r\nwhile Jaws reading my tagged document, I am pressing controls like ctl+shift+5 in windows machine . It will show the options like \r\ndrop down&gt;&quot;Read based on tagged structure&quot; or  &gt;&quot;Top left to bottom right&quot;\r\nand below two radio buttons \r\n&gt; Read curent page\r\n&gt; Read all pages\r\nimage you can see. Shift+CTL+5 in adobe dc\r\n[you can see image here][1]\r\n\r\nI selected &quot;read based on tagging structure and Read current page&quot; Now the jaws not reading the Tag structure. But if i use same doc for &quot;Read entire document&quot; it is reading perfect?\r\n\r\nLink to doc:\r\n\r\nhttps://drive.google.com/file/d/1CguMHa4DikFMP15VGERnPNWRq5vO3u6I/view?usp=sharing\r\n\r\nAny help?\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ALiAx.png","title":"&quot;Find Tag from Selection&quot; is not working in tagged pdf?","body":"<p>I have tagged a pdf using pdfbox. </p>\n\n<p>How I was tagged:  Instead of extract text and tagging I am adding mcid's to the existing content stream (both open and closing ex: /p&lt;&lt; MCID 0 >> BDC .. .. .. EMC) and then I am adding that marked content to document root catalog structure.</p>\n\n<p>What working: Almost everything is working fine like completely tagged pdf. It is passing the PAC3 accessibility checker also.</p>\n\n<pre><code>//Adding tags\ntokens.add(++ind, type_check(t_ype, page));\ncurrentMarkedContentDictionary = new COSDictionary();\ncurrentMarkedContentDictionary.setInt(COSName.MCID, mcid);\nif (altText != null &amp;&amp; !altText.isEmpty()) {\n    currentMarkedContentDictionary.setString(COSName.ALT, altText);\n}\nmcid++;\ntokens.add(++ind, currentMarkedContentDictionary);\ntokens.add(++ind, Operator.getOperator(\"BDC\"));\n\n// Adding marked content to root structure\nstructureElement.appendKid(markedContent);\n\ncurrentSection.appendKid(structureElement);             \n</code></pre>\n\n<p>What not working:  After tagging one future Is missing from tag structure. There is an option called \"Find Tag from Selection\" . Is not working. It is going to last tag while I select some test and press \" Find tag from selection\" in root structure. Please find the pdf in below link.</p>\n\n<p><a href=\"https://drive.google.com/file/d/11Lhuj50Bb9kChvD0kL_GOHQn4RNKZ0hR/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/11Lhuj50Bb9kChvD0kL_GOHQn4RNKZ0hR/view?usp=sharing</a></p>\n\n<p>Parent tree:</p>\n\n<p><a href=\"https://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/109xhUpqsQSFLPJB2nhXoU9ssMKnyht3G/view?usp=sharing</a></p>\n\n<p>extra doc with tagging and parent tree:\n<a href=\"https://drive.google.com/file/d/1yzZSsjkb5_dGfq1Wu3VxsH73vr3alRmC/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1yzZSsjkb5_dGfq1Wu3VxsH73vr3alRmC/view?usp=sharing</a></p>\n\n<p>Please help me to solve this problem.</p>\n\n<p><strong>New Problem:</strong>\nI observed that </p>\n\n<p>while Jaws reading my tagged document, I am pressing controls like ctl+shift+5 in windows machine . It will show the options like \ndrop down>\"Read based on tagged structure\" or  >\"Top left to bottom right\"\nand below two radio buttons </p>\n\n<blockquote>\n  <p>Read curent page\n  Read all pages\n  image you can see. Shift+CTL+5 in adobe dc\n  <a href=\"https://i.stack.imgur.com/ALiAx.png\" rel=\"nofollow noreferrer\">you can see image here</a></p>\n</blockquote>\n\n<p>I selected \"read based on tagging structure and Read current page\" Now the jaws not reading the Tag structure. But if i use same doc for \"Read entire document\" it is reading perfect?</p>\n\n<p>Link to doc:</p>\n\n<p><a href=\"https://drive.google.com/file/d/1CguMHa4DikFMP15VGERnPNWRq5vO3u6I/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1CguMHa4DikFMP15VGERnPNWRq5vO3u6I/view?usp=sharing</a></p>\n\n<p>Any help?</p>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":1,"creation_date":1698130878,"post_id":5181578,"comment_id":136362767,"body_markdown":"A great candidate for a `final` class in Java is one that only holds `public static` constants or utilities that you want your entire project to have access to! It&#39;s effectively a namespace for those constants or utilities.","body":"A great candidate for a <code>final</code> class in Java is one that only holds <code>public static</code> constants or utilities that you want your entire project to have access to! It&#39;s effectively a namespace for those constants or utilities."}],"answers":[{"comments":[{"owner":{"account_id":248551,"reputation":1347,"user_id":523980,"accept_rate":100,"display_name":"Riggy"},"score":66,"creation_date":1299161654,"post_id":5181618,"comment_id":5822012,"body_markdown":"To add to the answer, one of the principles of Effective Java is to favor composition over inheritance. The use of the final keyword also helps to enforce that principle.","body":"To add to the answer, one of the principles of Effective Java is to favor composition over inheritance. The use of the final keyword also helps to enforce that principle."},{"owner":{"account_id":480041,"reputation":3020,"user_id":893044,"accept_rate":86,"display_name":"MRA"},"score":15,"creation_date":1342181612,"post_id":5181618,"comment_id":15143531,"body_markdown":"&quot;You do it mainly for efficiency and security reasons.&quot; I hear this remark quite often (even Wikipedia states this) but I still don&#39;t understand the reasoning behind this argument. Does someone care to explain how, say, a non-final java.lang.String would have ended up either inefficient or insecure?","body":"&quot;You do it mainly for efficiency and security reasons.&quot; I hear this remark quite often (even Wikipedia states this) but I still don&#39;t understand the reasoning behind this argument. Does someone care to explain how, say, a non-final java.lang.String would have ended up either inefficient or insecure?"},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":43,"creation_date":1379694642,"post_id":5181618,"comment_id":27935970,"body_markdown":"@MRA If I create a method that accepts a String as a parameter, I assume that it&#39;s immutable, because Strings are. As a result of this, I know I can call any method on the String object safely, and not change the passed String. If I were to extend String, and change the implementation of substring to change the actual String, then the String object you expected to be immutable is no longer immutable.","body":"@MRA If I create a method that accepts a String as a parameter, I assume that it&#39;s immutable, because Strings are. As a result of this, I know I can call any method on the String object safely, and not change the passed String. If I were to extend String, and change the implementation of substring to change the actual String, then the String object you expected to be immutable is no longer immutable."},{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":4,"creation_date":1401240068,"post_id":5181618,"comment_id":36802350,"body_markdown":"@Cruncher Why not make substring `final` and leave String open for extension? This would be in keeping with the &quot;Open-Closed Principle&quot; mentioned in Sean Patrick Floyd&#39;s post.","body":"@Cruncher Why not make substring <code>final</code> and leave String open for extension? This would be in keeping with the &quot;Open-Closed Principle&quot; mentioned in Sean Patrick Floyd&#39;s post."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1401281609,"post_id":5181618,"comment_id":36821891,"body_markdown":"@Sortofabeginner because it&#39;s not just substring. String as a CONTRACT is entirely immutable. As soon as you extend it is no longer a guarantee. When you have something like this so entrenched into a language, it&#39;s best to just not let people change that...","body":"@Sortofabeginner because it&#39;s not just substring. String as a CONTRACT is entirely immutable. As soon as you extend it is no longer a guarantee. When you have something like this so entrenched into a language, it&#39;s best to just not let people change that..."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":2,"creation_date":1401281795,"post_id":5181618,"comment_id":36822020,"body_markdown":"@Sortofabeginner And as soon as  you say you want all String methods and fields to be final, just so that you can create some class with additional functionality... At that point you might as well just create a class that has-a string and create methods that operate on that string.","body":"@Sortofabeginner And as soon as  you say you want all String methods and fields to be final, just so that you can create some class with additional functionality... At that point you might as well just create a class that has-a string and create methods that operate on that string."},{"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"score":1,"creation_date":1406841402,"post_id":5181618,"comment_id":39000898,"body_markdown":"@Shay final (amongst other things) is used to make an object immutable, so I wouldn&#39;t say they have nothing to do with each other. See here http://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html","body":"@Shay final (amongst other things) is used to make an object immutable, so I wouldn&#39;t say they have nothing to do with each other. See here <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":1818317,"reputation":2716,"user_id":1652951,"accept_rate":79,"display_name":"WackGet"},"score":0,"creation_date":1595792150,"post_id":5181618,"comment_id":111589995,"body_markdown":"This answer relies on an external source to provide details. You should edit the answer and include the details in case the external URL ever goes down.","body":"This answer relies on an external source to provide details. You should edit the answer and include the details in case the external URL ever goes down."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1609836174,"post_id":5181618,"comment_id":115939251,"body_markdown":"&quot;Some classes however, should not be designed to take subclassing into account in a good way.&quot;. A nice example would be the utility class, see Lomboks [@UtilityClass](https://projectlombok.org/features/experimental/UtilityClass) for a nice implementation.","body":"&quot;Some classes however, should not be designed to take subclassing into account in a good way.&quot;. A nice example would be the utility class, see Lomboks <a href=\"https://projectlombok.org/features/experimental/UtilityClass\" rel=\"nofollow noreferrer\">@UtilityClass</a> for a nice implementation."},{"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"score":0,"creation_date":1700164581,"post_id":5181618,"comment_id":136624277,"body_markdown":"Sometime you can implement the same interface and use delegate pattern to view and change some behavior of a final class if needed.","body":"Sometime you can implement the same interface and use delegate pattern to view and change some behavior of a final class if needed."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":10,"down_vote_count":1,"up_vote_count":634,"is_accepted":true,"score":633,"last_activity_date":1583284079,"creation_date":1299160534,"answer_id":5181618,"question_id":5181578,"body_markdown":"First of all, I recommend this article: [Java: When to create a final class](http://programming.guide/java/when-to-create-a-final-class.html)\r\n\r\n----\r\n\r\n&gt; **If they do, when do they use it so I can understand it better and know when to use it.**\r\n\r\nA `final` class is simply a class that **can&#39;t be extended**.\r\n\r\n(It does not mean that all references to objects of the class would act as if they were declared as `final`.) \r\n\r\nWhen it&#39;s useful to declare a class as final is covered in the answers of this question:\r\n\r\n- https://stackoverflow.com/questions/218744/good-reasons-to-prohibit-inheritance-in-java\r\n\r\n&gt; **If Java is object oriented, and you declare a class `final`, doesn&#39;t it stop the idea of class having the characteristics of objects?**\r\n\r\nIn some sense yes.\r\n\r\nBy marking a class as final you disable a powerful and flexible feature of the language for that part of the code. Some classes however, should not (and in certain cases *can* not) be designed to take subclassing into account in a good way. In these cases it makes sense to mark the class as final, even though it limits OOP. (Remember however that a final class can still extend another non-final class.)\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>First of all, I recommend this article: <a href=\"http://programming.guide/java/when-to-create-a-final-class.html\" rel=\"noreferrer\">Java: When to create a final class</a></p>\n\n<hr>\n\n<blockquote>\n  <p><strong>If they do, when do they use it so I can understand it better and know when to use it.</strong></p>\n</blockquote>\n\n<p>A <code>final</code> class is simply a class that <strong>can't be extended</strong>.</p>\n\n<p>(It does not mean that all references to objects of the class would act as if they were declared as <code>final</code>.) </p>\n\n<p>When it's useful to declare a class as final is covered in the answers of this question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/218744/good-reasons-to-prohibit-inheritance-in-java\">Good reasons to prohibit inheritance in Java?</a></li>\n</ul>\n\n<blockquote>\n  <p><strong>If Java is object oriented, and you declare a class <code>final</code>, doesn't it stop the idea of class having the characteristics of objects?</strong></p>\n</blockquote>\n\n<p>In some sense yes.</p>\n\n<p>By marking a class as final you disable a powerful and flexible feature of the language for that part of the code. Some classes however, should not (and in certain cases <em>can</em> not) be designed to take subclassing into account in a good way. In these cases it makes sense to mark the class as final, even though it limits OOP. (Remember however that a final class can still extend another non-final class.)</p>\n"},{"comments":[{"owner":{"account_id":51939,"reputation":10195,"user_id":155201,"accept_rate":75,"display_name":"Zoidberg"},"score":0,"creation_date":1299160663,"post_id":5181626,"comment_id":5821745,"body_markdown":"Hehe, sometimes it protects Rube Goldergian developers from themselves.","body":"Hehe, sometimes it protects Rube Goldergian developers from themselves."}],"tags":[],"owner":{"account_id":294745,"reputation":793,"user_id":598798,"display_name":"javadeveloper"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1425602960,"creation_date":1299160571,"answer_id":5181626,"question_id":5181578,"body_markdown":"The best example is \r\n\r\n&gt; public final class String\r\n\r\nwhich is an immutable class and cannot be extended.\r\nOf course, there is more than just making the class final to be immutable.\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>The best example is </p>\n\n<blockquote>\n  <p>public final class String</p>\n</blockquote>\n\n<p>which is an immutable class and cannot be extended.\nOf course, there is more than just making the class final to be immutable.</p>\n"},{"tags":[],"owner":{"account_id":196355,"reputation":9114,"user_id":439751,"accept_rate":75,"display_name":"James"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299160599,"creation_date":1299160599,"answer_id":5181631,"question_id":5181578,"body_markdown":"Yes, sometimes you may want this though, either for security or speed reasons. It&#39;s done also in C++. It may not be *that* applicable for programs, but moreso for frameworks.\r\nhttp://www.glenmccl.com/perfj_025.htm","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Yes, sometimes you may want this though, either for security or speed reasons. It's done also in C++. It may not be <em>that</em> applicable for programs, but moreso for frameworks.\n<a href=\"http://www.glenmccl.com/perfj_025.htm\" rel=\"nofollow\">http://www.glenmccl.com/perfj_025.htm</a></p>\n"},{"comments":[{"owner":{"account_id":7181030,"reputation":441,"user_id":5484969,"accept_rate":82,"display_name":"Adam Lyu"},"score":1,"creation_date":1474120525,"post_id":5181643,"comment_id":66407497,"body_markdown":"What does the object properties mean? Does it mean I could modify the member variable of the class if the class is declared final? So the only purpose of final class is to prevent inheritance.","body":"What does the object properties mean? Does it mean I could modify the member variable of the class if the class is declared final? So the only purpose of final class is to prevent inheritance."}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299160666,"creation_date":1299160666,"answer_id":5181643,"question_id":5181578,"body_markdown":"If the class is marked `final`, it means that the class&#39; structure can&#39;t be modified by anything external. Where this is the most visible is when you&#39;re doing traditional polymorphic inheritance, basically `class B extends A` just won&#39;t work. It&#39;s basically a way to protect some parts of your code *(to extent)*.\r\n\r\nTo clarify, marking class `final` doesn&#39;t mark its fields as `final` and as such doesn&#39;t protect the object properties but the actual class structure instead.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>If the class is marked <code>final</code>, it means that the class' structure can't be modified by anything external. Where this is the most visible is when you're doing traditional polymorphic inheritance, basically <code>class B extends A</code> just won't work. It's basically a way to protect some parts of your code <em>(to extent)</em>.</p>\n\n<p>To clarify, marking class <code>final</code> doesn't mark its fields as <code>final</code> and as such doesn't protect the object properties but the actual class structure instead.</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":8,"creation_date":1299164733,"post_id":5181644,"comment_id":5822817,"body_markdown":"The inlining is normally only done by the just-in-time compiler at runtime. It works without final, too, but the JIT-compiler has a bit more work to do to be certain that there are no extending classes (or that these extending classes do not touch this method).","body":"The inlining is normally only done by the just-in-time compiler at runtime. It works without final, too, but the JIT-compiler has a bit more work to do to be certain that there are no extending classes (or that these extending classes do not touch this method)."},{"owner":{"account_id":83153,"reputation":940,"user_id":233334,"display_name":"Josh Hemann"},"score":0,"creation_date":1418941170,"post_id":5181644,"comment_id":43539637,"body_markdown":"A good write up on the issue of inlining and optimization can be found here: http://lemire.me/blog/archives/2014/12/17/optimizing-polymorphic-code-in-java/","body":"A good write up on the issue of inlining and optimization can be found here: <a href=\"http://lemire.me/blog/archives/2014/12/17/optimizing-polymorphic-code-in-java/\" rel=\"nofollow noreferrer\">lemire.me/blog/archives/2014/12/17/&hellip;</a>"},{"owner":{"account_id":1107950,"reputation":238,"user_id":1098953,"display_name":"premek.v"},"score":0,"creation_date":1605279244,"post_id":5181644,"comment_id":114609730,"body_markdown":"&gt; cannot be overridden by someone\n\nBy who?","body":"&gt; cannot be overridden by someone  By who?"},{"owner":{"account_id":292257,"reputation":1834,"user_id":594913,"accept_rate":86,"display_name":"Anther"},"score":0,"creation_date":1607582393,"post_id":5181644,"comment_id":115319192,"body_markdown":"I think the term security is used in an almost confusing academic sense to mean safety. Safety meaning when you work with a class you know another class hasn&#39;t extended it and is relying on the internal implementations of the base class.  I think we&#39;ve all been in situations where classes are extended in all sorts of nasty ways and it&#39;s impossible to reason about the code without taking out a good chunk of your day.","body":"I think the term security is used in an almost confusing academic sense to mean safety. Safety meaning when you work with a class you know another class hasn&#39;t extended it and is relying on the internal implementations of the base class.  I think we&#39;ve all been in situations where classes are extended in all sorts of nasty ways and it&#39;s impossible to reason about the code without taking out a good chunk of your day."}],"tags":[],"owner":{"account_id":321474,"reputation":15645,"user_id":640325,"accept_rate":62,"display_name":"Shay Rojansky"},"comment_count":4,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1431629490,"creation_date":1299160669,"answer_id":5181644,"question_id":5181578,"body_markdown":"One scenario where final is important, when you want to **prevent inheritance** of a class, for security reasons. This allows you to make sure that code you are running _cannot be overridden_ by someone.\r\n\r\nAnother scenario is for optimization: I seem to remember that the Java compiler inlines some function calls from final classes. So, if you call `a.x()` and a is declared `final`, we know at compile-time what the code will be and can inline into the calling function. I have no idea whether this is actually done, but with final it is a possibility.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>One scenario where final is important, when you want to <strong>prevent inheritance</strong> of a class, for security reasons. This allows you to make sure that code you are running <em>cannot be overridden</em> by someone.</p>\n\n<p>Another scenario is for optimization: I seem to remember that the Java compiler inlines some function calls from final classes. So, if you call <code>a.x()</code> and a is declared <code>final</code>, we know at compile-time what the code will be and can inline into the calling function. I have no idea whether this is actually done, but with final it is a possibility.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1299160790,"creation_date":1299160790,"answer_id":5181668,"question_id":5181578,"body_markdown":"If you imagine the class hierarchy as a tree (as it is in Java), abstract classes can only be branches and final classes are those that can only be leafs. Classes that fall into neither of those categories can be both branches and leafs.\r\n\r\nThere&#39;s no violation of OO principles here, final is simply providing a nice symmetry.\r\n\r\nIn practice you want to use final if you want your objects to be immutable or if you&#39;re writing an API, to signal to the users of the API that the class is just not intended for extension.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>If you imagine the class hierarchy as a tree (as it is in Java), abstract classes can only be branches and final classes are those that can only be leafs. Classes that fall into neither of those categories can be both branches and leafs.</p>\n\n<p>There's no violation of OO principles here, final is simply providing a nice symmetry.</p>\n\n<p>In practice you want to use final if you want your objects to be immutable or if you're writing an API, to signal to the users of the API that the class is just not intended for extension.</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1299160881,"creation_date":1299160881,"answer_id":5181684,"question_id":5181578,"body_markdown":"A final class is a class that can&#39;t be extended. Also methods could be declared as final to indicate that cannot be overridden by subclasses. \r\n\r\nPreventing the class from being subclassed could be particularly useful if you write APIs or libraries and want to avoid being extended to alter base behaviour.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>A final class is a class that can't be extended. Also methods could be declared as final to indicate that cannot be overridden by subclasses. </p>\n\n<p>Preventing the class from being subclassed could be particularly useful if you write APIs or libraries and want to avoid being extended to alter base behaviour.</p>\n"},{"comments":[{"owner":{"account_id":238081,"reputation":9438,"user_id":506721,"accept_rate":89,"display_name":"Goran Jovic"},"score":10,"creation_date":1299161729,"post_id":5181693,"comment_id":5822037,"body_markdown":"@Sean: Doesn&#39;t declaring it `final` make the class closed for extension rather than open? Or am I taking it too literally?","body":"@Sean: Doesn&#39;t declaring it <code>final</code> make the class closed for extension rather than open? Or am I taking it too literally?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1299161822,"post_id":5181693,"comment_id":5822056,"body_markdown":"@Goran globally applying final, yes. The key is to selectively apply final in places where you don&#39;t want modification (and of course to provide good hooks for extension)","body":"@Goran globally applying final, yes. The key is to selectively apply final in places where you don&#39;t want modification (and of course to provide good hooks for extension)"},{"owner":{"account_id":42147,"reputation":16251,"user_id":2326914,"accept_rate":33,"display_name":"Rog&#233;rio"},"score":30,"creation_date":1300199628,"post_id":5181693,"comment_id":5993688,"body_markdown":"In OCP, &quot;modification&quot; refers to modifying the source code, and &quot;extension&quot; refers to implementation inheritance. Therefore, use of `final` on a class/method declaration would not make sense if you want the implementation code to be closed for modification but open for extension by inheritance.","body":"In OCP, &quot;modification&quot; refers to modifying the source code, and &quot;extension&quot; refers to implementation inheritance. Therefore, use of <code>final</code> on a class/method declaration would not make sense if you want the implementation code to be closed for modification but open for extension by inheritance."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1300202324,"post_id":5181693,"comment_id":5994477,"body_markdown":"@Rogerio I have borrowed the reference (and the interpretation) from the [Spring Framework Reference (MVC)](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html). IMHO this makes a lot more sense than the original version.","body":"@Rogerio I have borrowed the reference (and the interpretation) from the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html\" rel=\"nofollow noreferrer\">Spring Framework Reference (MVC)</a>. IMHO this makes a lot more sense than the original version."},{"owner":{"account_id":2364906,"reputation":2700,"user_id":2070773,"display_name":"Josh Woodcock"},"score":1,"creation_date":1520914791,"post_id":5181693,"comment_id":85500012,"body_markdown":"Extension is dead. Useless. Decimated. Destroyed. I don&#39;t care about OCP. There&#39;s never an excuse to extend a class.","body":"Extension is dead. Useless. Decimated. Destroyed. I don&#39;t care about OCP. There&#39;s never an excuse to extend a class."},{"owner":{"account_id":6392843,"reputation":1977,"user_id":4958332,"accept_rate":38,"display_name":"Karan Khanna"},"score":0,"creation_date":1521725286,"post_id":5181693,"comment_id":85861315,"body_markdown":"It&#39;s to enforce that a class cannot be extended.","body":"It&#39;s to enforce that a class cannot be extended."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1521744466,"post_id":5181693,"comment_id":85874466,"body_markdown":"@KaranKhanna obviously, yes. But the reason to do that is the Open/Closed Principle.","body":"@KaranKhanna obviously, yes. But the reason to do that is the Open/Closed Principle."},{"owner":{"account_id":6392843,"reputation":1977,"user_id":4958332,"accept_rate":38,"display_name":"Karan Khanna"},"score":0,"creation_date":1521745571,"post_id":5181693,"comment_id":85875078,"body_markdown":"@SeanPatrickFloyd with final we are making the class closed for extension also and leaving no scope of improvements. A class should only be declared final when we are sure that no improvements will be required.","body":"@SeanPatrickFloyd with final we are making the class closed for extension also and leaving no scope of improvements. A class should only be declared final when we are sure that no improvements will be required."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1521747335,"post_id":5181693,"comment_id":85875961,"body_markdown":"@KaranKhanna a) this question was not only about final on class level. Making methods final can be a clear guidance on how a class is supposed to be extended. b) The OCP can apply to an entire codebase. We can prohibit the extension of specific classes (e.g. java.lang.Integer) and still provide an extendable API (java.lang.Number).\n\nAnd no, I disagree: Effective Java Item 17 says &quot;Design and document for inheritance or else prohibit it&quot;. Final classes should be the default. One of the many cases where Java sets defaults badly.","body":"@KaranKhanna a) this question was not only about final on class level. Making methods final can be a clear guidance on how a class is supposed to be extended. b) The OCP can apply to an entire codebase. We can prohibit the extension of specific classes (e.g. java.lang.Integer) and still provide an extendable API (java.lang.Number).  And no, I disagree: Effective Java Item 17 says &quot;Design and document for inheritance or else prohibit it&quot;. Final classes should be the default. One of the many cases where Java sets defaults badly."},{"owner":{"account_id":3442399,"reputation":162,"user_id":2884025,"accept_rate":83,"display_name":"RomuloPBenedetti"},"score":0,"creation_date":1675700398,"post_id":5181693,"comment_id":132980653,"body_markdown":"@JoshWoodcock Could you explain how to sensibly implement exception hierarchies without extending classes? And no, abstract is not a solution, I need to be able to instantiate both specialized and non specialized errors.","body":"@JoshWoodcock Could you explain how to sensibly implement exception hierarchies without extending classes? And no, abstract is not a solution, I need to be able to instantiate both specialized and non specialized errors."},{"owner":{"account_id":2364906,"reputation":2700,"user_id":2070773,"display_name":"Josh Woodcock"},"score":0,"creation_date":1675710467,"post_id":5181693,"comment_id":132983600,"body_markdown":"@RomuloPBenedetti Why do you want hierarchies? Is one class more important than the other class? If you want to &quot;inherit&quot; capabilities or properties from another class just create an instance of that class in &quot;subclass&quot; constructor and then access its properties.","body":"@RomuloPBenedetti Why do you want hierarchies? Is one class more important than the other class? If you want to &quot;inherit&quot; capabilities or properties from another class just create an instance of that class in &quot;subclass&quot; constructor and then access its properties."},{"owner":{"account_id":3442399,"reputation":162,"user_id":2884025,"accept_rate":83,"display_name":"RomuloPBenedetti"},"score":0,"creation_date":1675711785,"post_id":5181693,"comment_id":132983960,"body_markdown":"@JoshWoodcock I want a SpecializedError to be a instance of a GenericError, and want GenericError to be possibly trowed whet the error don&#39;t fit SpecializedError, as exceptions are, as the name say, exceptions. The same is valid for logging levels, concrete Inheritance is exactly for classes that are a subsets of another classes.","body":"@JoshWoodcock I want a SpecializedError to be a instance of a GenericError, and want GenericError to be possibly trowed whet the error don&#39;t fit SpecializedError, as exceptions are, as the name say, exceptions. The same is valid for logging levels, concrete Inheritance is exactly for classes that are a subsets of another classes."},{"owner":{"account_id":3442399,"reputation":162,"user_id":2884025,"accept_rate":83,"display_name":"RomuloPBenedetti"},"score":0,"creation_date":1675712461,"post_id":5181693,"comment_id":132984119,"body_markdown":"@JoshWoodcock if you want a more concrete example, we can have a Square inherit from Rectangle, where both can be instantiated and Square is a special case subset of Rectangle, that add some guarantees.","body":"@JoshWoodcock if you want a more concrete example, we can have a Square inherit from Rectangle, where both can be instantiated and Square is a special case subset of Rectangle, that add some guarantees."},{"owner":{"account_id":2364906,"reputation":2700,"user_id":2070773,"display_name":"Josh Woodcock"},"score":0,"creation_date":1675721626,"post_id":5181693,"comment_id":132986592,"body_markdown":"@RomuloPBenedetti Why do you want subsets? Why do you need the construct? That is my question. Why does something have to be a subset of a single thing?","body":"@RomuloPBenedetti Why do you want subsets? Why do you need the construct? That is my question. Why does something have to be a subset of a single thing?"},{"owner":{"account_id":3442399,"reputation":162,"user_id":2884025,"accept_rate":83,"display_name":"RomuloPBenedetti"},"score":0,"creation_date":1675751465,"post_id":5181693,"comment_id":132990750,"body_markdown":"@JoshWoodcock Because I need a polymorphic, hierarchical, subset behavior, so I can have many treatments partitioning for finer classification aware treatment, where those levels are all instantiable. Exceptions are the best example of this, because some times we want B, C and D type of exceptions to be manipulated as they are, or like the parent A , but exceptions some time are not so well defined, and we still want to be able to throw a A and guarantee it is not threaten as B, C and D. If A could be a interface or a abstract only, sure this is another history, it is not the case.","body":"@JoshWoodcock Because I need a polymorphic, hierarchical, subset behavior, so I can have many treatments partitioning for finer classification aware treatment, where those levels are all instantiable. Exceptions are the best example of this, because some times we want B, C and D type of exceptions to be manipulated as they are, or like the parent A , but exceptions some time are not so well defined, and we still want to be able to throw a A and guarantee it is not threaten as B, C and D. If A could be a interface or a abstract only, sure this is another history, it is not the case."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":15,"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1515441551,"creation_date":1299160906,"answer_id":5181693,"question_id":5181578,"body_markdown":"Relevant reading: [The Open-Closed Principle][1] by Bob Martin.\r\n\r\n**Key quote:**\r\n\r\n&gt; Software Entities (Classes, Modules,\r\n&gt; Functions, etc.)  should be open for\r\n&gt; Extension, but closed for\r\n&gt; Modification.\r\n\r\nThe `final` keyword is the means to enforce this in Java, whether it&#39;s used on methods or on classes.\r\n \r\n\r\n  [1]: https://www.cs.duke.edu/courses/fall07/cps108/papers/ocp.pdf","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Relevant reading: <a href=\"https://www.cs.duke.edu/courses/fall07/cps108/papers/ocp.pdf\" rel=\"nofollow noreferrer\">The Open-Closed Principle</a> by Bob Martin.</p>\n\n<p><strong>Key quote:</strong></p>\n\n<blockquote>\n  <p>Software Entities (Classes, Modules,\n  Functions, etc.)  should be open for\n  Extension, but closed for\n  Modification.</p>\n</blockquote>\n\n<p>The <code>final</code> keyword is the means to enforce this in Java, whether it's used on methods or on classes.</p>\n"},{"comments":[{"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"score":77,"creation_date":1437575654,"post_id":12335925,"comment_id":51087824,"body_markdown":"The actual question is _why_, not _what_.","body":"The actual question is <i>why</i>, not <i>what</i>."},{"owner":{"account_id":5883828,"reputation":671,"user_id":4632437,"accept_rate":80,"display_name":"Igor Soudakevitch"},"score":15,"creation_date":1466195341,"post_id":12335925,"comment_id":63234254,"body_markdown":"The statement, &quot;In Java, items with the `final` modifier cannot be changed!&quot;, is too categorical and, in fact, not entirely correct. As Grady Booch put it, &quot;An object has state, behavior, and identity&quot;. While we can&#39;t change an object&#39;s identity once its reference has been marked as final, we do have a chance to change its **state** by assigning new values to its non-`final` fields (provided, of course, it has them.) Anyone who is planning to obtain an Oracle Java Certification (such as 1Z0-808, etc.) should keep this in mind because there might be questions on this aspect on the exam...","body":"The statement, &quot;In Java, items with the <code>final</code> modifier cannot be changed!&quot;, is too categorical and, in fact, not entirely correct. As Grady Booch put it, &quot;An object has state, behavior, and identity&quot;. While we can&#39;t change an object&#39;s identity once its reference has been marked as final, we do have a chance to change its <b>state</b> by assigning new values to its non-<code>final</code> fields (provided, of course, it has them.) Anyone who is planning to obtain an Oracle Java Certification (such as 1Z0-808, etc.) should keep this in mind because there might be questions on this aspect on the exam..."}],"tags":[],"owner":{"account_id":1376767,"reputation":3185,"user_id":1310634,"accept_rate":50,"display_name":"andyqee"},"comment_count":2,"down_vote_count":26,"up_vote_count":234,"is_accepted":false,"score":208,"last_activity_date":1529252778,"creation_date":1347155270,"answer_id":12335925,"question_id":5181578,"body_markdown":"In Java, items with the `final` modifier cannot be changed!\r\n\r\nThis includes final classes, final variables, and final methods:\r\n\r\n - A final class cannot be extended by any other class\r\n - A final variable cannot be reassigned another value\r\n - A final method cannot be overridden","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>In Java, items with the <code>final</code> modifier cannot be changed!</p>\n\n<p>This includes final classes, final variables, and final methods:</p>\n\n<ul>\n<li>A final class cannot be extended by any other class</li>\n<li>A final variable cannot be reassigned another value</li>\n<li>A final method cannot be overridden</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1976384,"reputation":21,"user_id":1774086,"display_name":"skhaapioloir"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1351211567,"creation_date":1351211567,"answer_id":13079276,"question_id":5181578,"body_markdown":"Final classes cannot be extended. So if you want a class to behave a certain way and don&#39;t someone to override the methods (with possibly less efficient and more malicious code), you can declare the whole class as final or specific methods which you don&#39;t want to be changed. \r\n\r\nSince declaring a class does not prevent a class from being instantiated, it does not mean it will stop the class from having the characteristics of an object. It&#39;s just that you will have to stick to the methods just the way they are declared in the class. ","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Final classes cannot be extended. So if you want a class to behave a certain way and don't someone to override the methods (with possibly less efficient and more malicious code), you can declare the whole class as final or specific methods which you don't want to be changed. </p>\n\n<p>Since declaring a class does not prevent a class from being instantiated, it does not mean it will stop the class from having the characteristics of an object. It's just that you will have to stick to the methods just the way they are declared in the class. </p>\n"},{"tags":[],"owner":{"account_id":2003582,"reputation":878,"user_id":1794041,"accept_rate":67,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357292834,"creation_date":1357292834,"answer_id":14154684,"question_id":5181578,"body_markdown":"One advantage of keeping a class as final :-\r\n\r\nString class is kept final so that no one can override its methods and change the functionality. e.g no one can change functionality of length() method. It will always return length of a string.\r\n\r\nDeveloper of this class wanted no one to change functionality of this class, so he kept it as final.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>One advantage of keeping a class as final :-</p>\n\n<p>String class is kept final so that no one can override its methods and change the functionality. e.g no one can change functionality of length() method. It will always return length of a string.</p>\n\n<p>Developer of this class wanted no one to change functionality of this class, so he kept it as final.</p>\n"},{"tags":[],"owner":{"account_id":2485005,"reputation":11,"user_id":2163589,"display_name":"lok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385486221,"creation_date":1363143691,"answer_id":15376273,"question_id":5181578,"body_markdown":"As above told, if you want no one can change the functionality of the method then you can declare it as final.\r\n\r\nExample: Application server file path for download/upload, splitting string based on offset, such methods you can declare it Final so that these method functions will not be altered. And if you want such final methods in a separate class, then define that class as Final class. So Final class will have all final methods, where as Final method can be declared and defined in non-final class.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>As above told, if you want no one can change the functionality of the method then you can declare it as final.</p>\n\n<p>Example: Application server file path for download/upload, splitting string based on offset, such methods you can declare it Final so that these method functions will not be altered. And if you want such final methods in a separate class, then define that class as Final class. So Final class will have all final methods, where as Final method can be declared and defined in non-final class.</p>\n"},{"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1627578128,"post_id":17015476,"comment_id":121199990,"body_markdown":"That is a technique of **legacy** code, not a technique for a *new class you are writing*, which is by definition *not* legacy code.","body":"That is a technique of <b>legacy</b> code, not a technique for a <i>new class you are writing</i>, which is by definition <i>not</i> legacy code."}],"tags":[],"owner":{"account_id":952436,"reputation":403,"user_id":978314,"accept_rate":60,"display_name":"Ben Wu"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1370823358,"creation_date":1370823358,"answer_id":17015476,"question_id":5181578,"body_markdown":"Be careful when you make a class &quot;final&quot;. Because if you want to write an unit test for a final class, you cannot subclass this final class in order to use the dependency-breaking technique &quot;Subclass and Override Method&quot; described in Michael C. Feathers&#39; book &quot;Working Effectively with Legacy Code&quot;. In this book, Feathers said, &quot;Seriously, it is easy to believe that sealed and final are a wrong-headed mistake, that they should never have been added to programming languages. But the real fault lies with us. When we depend directly on libraries that are out of our control, we are just asking for trouble.&quot;","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Be careful when you make a class \"final\". Because if you want to write an unit test for a final class, you cannot subclass this final class in order to use the dependency-breaking technique \"Subclass and Override Method\" described in Michael C. Feathers' book \"Working Effectively with Legacy Code\". In this book, Feathers said, \"Seriously, it is easy to believe that sealed and final are a wrong-headed mistake, that they should never have been added to programming languages. But the real fault lies with us. When we depend directly on libraries that are out of our control, we are just asking for trouble.\"</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1371796463,"creation_date":1371794936,"answer_id":17228711,"question_id":5181578,"body_markdown":"**TO ADDRESS THE FINAL CLASS PROBLEM:**\r\n\r\nThere are two ways to make a class final. The first is to use the keyword final in the class declaration:\r\n\r\n    public final class SomeClass {\r\n      //  . . . Class contents\r\n    }\r\n\r\nThe second way to make a class final is to declare all of its constructors as private:\r\n\r\n    public class SomeClass {\r\n      public final static SOME_INSTANCE = new SomeClass(5);\r\n      private SomeClass(final int value) {\r\n      }\r\n\r\nMarking it final saves you the trouble if finding out that it is actual a final, to demonstrate look at  this Test class. looks public at first glance.\r\n\r\n    public class Test{\r\n      private Test(Class beanClass, Class stopClass, int flags)\r\n        throws Exception{\r\n        //  . . . snip . . . \r\n      }\r\n    }\r\n\r\nUnfortunately, since the only constructor of the class is private, it is impossible to extend this class. In the case of the Test class, there is no reason that the class should be final. The Test class is a good example of how implicit final classes can cause problems.\r\n\r\n**So you should mark it final when you implicitly make a class final by making it&#39;s constructor private.**\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p><strong>TO ADDRESS THE FINAL CLASS PROBLEM:</strong></p>\n\n<p>There are two ways to make a class final. The first is to use the keyword final in the class declaration:</p>\n\n<pre><code>public final class SomeClass {\n  //  . . . Class contents\n}\n</code></pre>\n\n<p>The second way to make a class final is to declare all of its constructors as private:</p>\n\n<pre><code>public class SomeClass {\n  public final static SOME_INSTANCE = new SomeClass(5);\n  private SomeClass(final int value) {\n  }\n</code></pre>\n\n<p>Marking it final saves you the trouble if finding out that it is actual a final, to demonstrate look at  this Test class. looks public at first glance.</p>\n\n<pre><code>public class Test{\n  private Test(Class beanClass, Class stopClass, int flags)\n    throws Exception{\n    //  . . . snip . . . \n  }\n}\n</code></pre>\n\n<p>Unfortunately, since the only constructor of the class is private, it is impossible to extend this class. In the case of the Test class, there is no reason that the class should be final. The Test class is a good example of how implicit final classes can cause problems.</p>\n\n<p><strong>So you should mark it final when you implicitly make a class final by making it's constructor private.</strong></p>\n"},{"tags":[],"owner":{"account_id":1804933,"reputation":5136,"user_id":1642266,"display_name":"Kingz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380142419,"creation_date":1380142419,"answer_id":19015018,"question_id":5181578,"body_markdown":"think of FINAL as the &quot;End of the line&quot; - that guy cannot produce offspring anymore. So when you see it this way, there are ton of real world scenarios that you will come across that requires you to flag an &#39;end of line&#39; marker to the class. It is Domain Driven Design - if your domain demands that a given ENTITY (class) cannot create sub-classes, then mark it as FINAL.\r\n\r\nI should note that there is nothing stopping you from inheriting a &quot;should be tagged as final&quot; class. But that is generally classified as &quot;abuse of inheritance&quot;, and done because most often you would like to inherit some function from the base class in your class.\r\n\r\nThe best approach is to look at the domain and let it dictate your design decisions.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>think of FINAL as the \"End of the line\" - that guy cannot produce offspring anymore. So when you see it this way, there are ton of real world scenarios that you will come across that requires you to flag an 'end of line' marker to the class. It is Domain Driven Design - if your domain demands that a given ENTITY (class) cannot create sub-classes, then mark it as FINAL.</p>\n\n<p>I should note that there is nothing stopping you from inheriting a \"should be tagged as final\" class. But that is generally classified as \"abuse of inheritance\", and done because most often you would like to inherit some function from the base class in your class.</p>\n\n<p>The best approach is to look at the domain and let it dictate your design decisions.</p>\n"},{"tags":[],"owner":{"account_id":676634,"reputation":454,"user_id":1812722,"display_name":"Wilhem Meignan"},"comment_count":0,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1407337452,"creation_date":1407337452,"answer_id":25163817,"question_id":5181578,"body_markdown":"Object Orientation is not about inheritance, it is about encapsulation. And inheritance breaks encapsulation.\r\n\r\nDeclaring a class final makes perfect sense in a lot of cases. Any object representing a “value” like a color or an amount of money could be final. They stand on their own.\r\n\r\nIf you are writing libraries, make your classes final unless you explicitly indent them to be derived. Otherwise, people may derive your classes and override methods, breaking your assumptions / invariants. This may have security implications as well.\r\n\r\nJoshua Bloch in “Effective Java” recommends designing explicitly for inheritance or prohibiting it and he notes that designing for inheritance is not that easy.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Object Orientation is not about inheritance, it is about encapsulation. And inheritance breaks encapsulation.</p>\n\n<p>Declaring a class final makes perfect sense in a lot of cases. Any object representing a “value” like a color or an amount of money could be final. They stand on their own.</p>\n\n<p>If you are writing libraries, make your classes final unless you explicitly indent them to be derived. Otherwise, people may derive your classes and override methods, breaking your assumptions / invariants. This may have security implications as well.</p>\n\n<p>Joshua Bloch in “Effective Java” recommends designing explicitly for inheritance or prohibiting it and he notes that designing for inheritance is not that easy.</p>\n"},{"tags":[],"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1526976448,"creation_date":1427196694,"answer_id":29231530,"question_id":5181578,"body_markdown":"**`final class` can avoid breaking the public API when you add new methods**\r\n\r\nSuppose that on version 1 of your `Base` class you do:\r\n\r\n    public class Base {}\r\n\r\nand a client does:\r\n\r\n    class Derived extends Base {\r\n        public int method() { return 1; }\r\n    }\r\n\r\nThen if in version 2 you want to add a `method` method to `Base`:\r\n\r\n    class Base {\r\n        public String method() { return null; }\r\n    }\r\n\r\nit would break the client code.\r\n\r\nIf we had used `final class Base` instead, the client wouldn&#39;t have been able to inherit, and the method addition wouldn&#39;t break the API.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p><strong><code>final class</code> can avoid breaking the public API when you add new methods</strong></p>\n\n<p>Suppose that on version 1 of your <code>Base</code> class you do:</p>\n\n<pre><code>public class Base {}\n</code></pre>\n\n<p>and a client does:</p>\n\n<pre><code>class Derived extends Base {\n    public int method() { return 1; }\n}\n</code></pre>\n\n<p>Then if in version 2 you want to add a <code>method</code> method to <code>Base</code>:</p>\n\n<pre><code>class Base {\n    public String method() { return null; }\n}\n</code></pre>\n\n<p>it would break the client code.</p>\n\n<p>If we had used <code>final class Base</code> instead, the client wouldn't have been able to inherit, and the method addition wouldn't break the API.</p>\n"},{"tags":[],"owner":{"account_id":3901380,"reputation":393,"user_id":3229161,"display_name":"jaamit"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1427445854,"creation_date":1427445854,"answer_id":29296456,"question_id":5181578,"body_markdown":"Android Looper class is a good practical example of this. \r\nhttp://developer.android.com/reference/android/os/Looper.html\r\n\r\nThe Looper class provides certain functionality which is NOT intended to be overridden by any other class. Hence, no sub-class here.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Android Looper class is a good practical example of this. \n<a href=\"http://developer.android.com/reference/android/os/Looper.html\" rel=\"nofollow\">http://developer.android.com/reference/android/os/Looper.html</a></p>\n\n<p>The Looper class provides certain functionality which is NOT intended to be overridden by any other class. Hence, no sub-class here.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1458638604,"creation_date":1435827914,"answer_id":31180174,"question_id":5181578,"body_markdown":"The keyword `final` itself means something is final and is not supposed to be modified in any way. If a class if marked `final` then it can not be extended or sub-classed. But the question is why do we mark a class `final`? IMO there are various reasons:\r\n\r\n 1. **Standardization:** Some classes perform standard functions and they are not meant to be modified e.g. classes performing various functions related to string manipulations or mathematical functions etc.\r\n 2. **Security reasons**: Sometimes we write classes which perform various authentication and password related functions and we do not want them to be altered by anyone else. \r\n\r\nI have heard that marking class `final` improves efficiency but frankly I could not find this argument to carry much weight.\r\n\r\n&gt; If Java is object oriented, and you declare a class final, doesn&#39;t it\r\n&gt; stop the idea of class having the characteristics of objects?\r\n\r\nPerhaps yes, but sometimes that is the intended purpose. Sometimes we do that to achieve bigger benefits of security etc. by sacrificing the ability of this class to be extended. But a final class can still extend one class if it needs to.\r\n\r\nOn a side note we should [prefer composition over inheritance][1] and `final` keyword actually helps in enforcing this principle.\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11343840/favor-composition-over-inheritance","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>The keyword <code>final</code> itself means something is final and is not supposed to be modified in any way. If a class if marked <code>final</code> then it can not be extended or sub-classed. But the question is why do we mark a class <code>final</code>? IMO there are various reasons:</p>\n\n<ol>\n<li><strong>Standardization:</strong> Some classes perform standard functions and they are not meant to be modified e.g. classes performing various functions related to string manipulations or mathematical functions etc.</li>\n<li><strong>Security reasons</strong>: Sometimes we write classes which perform various authentication and password related functions and we do not want them to be altered by anyone else. </li>\n</ol>\n\n<p>I have heard that marking class <code>final</code> improves efficiency but frankly I could not find this argument to carry much weight.</p>\n\n<blockquote>\n  <p>If Java is object oriented, and you declare a class final, doesn't it\n  stop the idea of class having the characteristics of objects?</p>\n</blockquote>\n\n<p>Perhaps yes, but sometimes that is the intended purpose. Sometimes we do that to achieve bigger benefits of security etc. by sacrificing the ability of this class to be extended. But a final class can still extend one class if it needs to.</p>\n\n<p>On a side note we should <a href=\"https://stackoverflow.com/questions/11343840/favor-composition-over-inheritance\">prefer composition over inheritance</a> and <code>final</code> keyword actually helps in enforcing this principle.</p>\n"},{"tags":[],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530912690,"creation_date":1530912690,"answer_id":51217859,"question_id":5181578,"body_markdown":"Let&#39;s say you have an `Employee` class that has a method `greet`. When the `greet` method is called it simply prints `Hello everyone!`. So that is the ***expected behavior*** of `greet` method\r\n\r\n    public class Employee {\r\n    \r\n    \tvoid greet() {\r\n    \t\tSystem.out.println(&quot;Hello everyone!&quot;);\r\n    \t}\r\n    }\r\nNow, let `GrumpyEmployee` subclass `Employee` and override `greet` method as shown below. \r\n\r\n    public class GrumpyEmployee extends Employee {\r\n    \r\n    \t@Override\r\n    \tvoid greet() {\r\n    \t\tSystem.out.println(&quot;Get lost!&quot;);\r\n    \t}\r\n    }\r\nNow in the below code have a look at the `sayHello` method. It takes `Employee` instance as a parameter and calls the greet method hoping that it would say *`Hello everyone!`* But what we get is *`Get lost!`*. This change in behavior is because of `Employee grumpyEmployee = new GrumpyEmployee();`\r\n\r\n\r\n    public class TestFinal {\r\n    \tstatic Employee grumpyEmployee = new GrumpyEmployee();\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTestFinal testFinal = new TestFinal();\r\n    \t\ttestFinal.sayHello(grumpyEmployee);\r\n    \t}\r\n    \t\r\n    \tprivate void sayHello(Employee employee) {\r\n    \t\temployee.greet(); //Here you would expect a warm greeting, but what you get is &quot;Get lost!&quot;\r\n    \t}\r\n    }\r\n\r\nThis situation can be ***avoided*** if the `Employee` class was made `final`. Just imagine the amount of chaos a cheeky programmer could cause if `String` Class was not declared as `final`. ","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Let's say you have an <code>Employee</code> class that has a method <code>greet</code>. When the <code>greet</code> method is called it simply prints <code>Hello everyone!</code>. So that is the <strong><em>expected behavior</em></strong> of <code>greet</code> method</p>\n\n<pre><code>public class Employee {\n\n    void greet() {\n        System.out.println(\"Hello everyone!\");\n    }\n}\n</code></pre>\n\n<p>Now, let <code>GrumpyEmployee</code> subclass <code>Employee</code> and override <code>greet</code> method as shown below. </p>\n\n<pre><code>public class GrumpyEmployee extends Employee {\n\n    @Override\n    void greet() {\n        System.out.println(\"Get lost!\");\n    }\n}\n</code></pre>\n\n<p>Now in the below code have a look at the <code>sayHello</code> method. It takes <code>Employee</code> instance as a parameter and calls the greet method hoping that it would say <em><code>Hello everyone!</code></em> But what we get is <em><code>Get lost!</code></em>. This change in behavior is because of <code>Employee grumpyEmployee = new GrumpyEmployee();</code></p>\n\n<pre><code>public class TestFinal {\n    static Employee grumpyEmployee = new GrumpyEmployee();\n\n    public static void main(String[] args) {\n        TestFinal testFinal = new TestFinal();\n        testFinal.sayHello(grumpyEmployee);\n    }\n\n    private void sayHello(Employee employee) {\n        employee.greet(); //Here you would expect a warm greeting, but what you get is \"Get lost!\"\n    }\n}\n</code></pre>\n\n<p>This situation can be <strong><em>avoided</em></strong> if the <code>Employee</code> class was made <code>final</code>. Just imagine the amount of chaos a cheeky programmer could cause if <code>String</code> Class was not declared as <code>final</code>. </p>\n"},{"tags":[],"owner":{"account_id":13244493,"reputation":77,"user_id":9564046,"display_name":"G. Raven"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549121614,"creation_date":1549121614,"answer_id":54494541,"question_id":5181578,"body_markdown":"Final class cannot be extended further. If we do not need to make a class inheritable in java,we can use this approach.\r\n\r\nIf we just need to make particular methods in a class not to be overridden, we just can put final keyword in front of them. There the class is still inheritable.\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Final class cannot be extended further. If we do not need to make a class inheritable in java,we can use this approach.</p>\n\n<p>If we just need to make particular methods in a class not to be overridden, we just can put final keyword in front of them. There the class is still inheritable.</p>\n"},{"tags":[],"owner":{"account_id":12397977,"reputation":247,"user_id":9036713,"display_name":"Kavinda Pushpitha"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1559545088,"creation_date":1559545088,"answer_id":56422429,"question_id":5181578,"body_markdown":"In java final keyword uses for below occasions.\r\n\r\n 1.  **Final Variables**\r\n 2. **Final Methods**\r\n 3. **Final Classes**\r\n\r\n&gt; In java final variables can&#39;t reassign, **final classes** can&#39;t extends and final methods can&#39;t override.\r\n\r\n","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>In java final keyword uses for below occasions.</p>\n\n<ol>\n<li><strong>Final Variables</strong></li>\n<li><strong>Final Methods</strong></li>\n<li><strong>Final Classes</strong></li>\n</ol>\n\n<blockquote>\n  <p>In java final variables can't reassign, <strong>final classes</strong> can't extends and final methods can't override.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624830047,"creation_date":1624830047,"answer_id":68155504,"question_id":5181578,"body_markdown":"I know only one actual use case: generated classes\r\n\r\nAmong the use cases of generated classes, I know one: dependency inject e.g. https://github.com/google/dagger","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>I know only one actual use case: generated classes</p>\n<p>Among the use cases of generated classes, I know one: dependency inject e.g. <a href=\"https://github.com/google/dagger\" rel=\"nofollow noreferrer\">https://github.com/google/dagger</a></p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627636218,"creation_date":1627636218,"answer_id":68588361,"question_id":5181578,"body_markdown":"The other answers have focused on what `final class` tells the compiler: do not allow another class to declare it `extends` this class, and why that is desirable. \r\n\r\nBut the compiler is not the only reader of the phrase `final class`. Every **programmer** who reads the source code also reads that. It can aid rapid program comprehension.\r\n\r\nIn general, if a programmer sees `Thing thing = that.someMethod(...);` and the programmer wants to understand the subsequent behaviour of the object accessed through the `thing` object-reference, the programmer must consider the `Thing` class hierarchy: potentially many types, scattered over many packages. But if the programmer knows, or reads, `final class Thing`, they instantly know that they do not need to search for and study so many Java files, because there are no derived classes: they need study only `Thing.java` and, perhaps, it&#39;s base classes.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>The other answers have focused on what <code>final class</code> tells the compiler: do not allow another class to declare it <code>extends</code> this class, and why that is desirable.</p>\n<p>But the compiler is not the only reader of the phrase <code>final class</code>. Every <strong>programmer</strong> who reads the source code also reads that. It can aid rapid program comprehension.</p>\n<p>In general, if a programmer sees <code>Thing thing = that.someMethod(...);</code> and the programmer wants to understand the subsequent behaviour of the object accessed through the <code>thing</code> object-reference, the programmer must consider the <code>Thing</code> class hierarchy: potentially many types, scattered over many packages. But if the programmer knows, or reads, <code>final class Thing</code>, they instantly know that they do not need to search for and study so many Java files, because there are no derived classes: they need study only <code>Thing.java</code> and, perhaps, it's base classes.</p>\n"},{"tags":[],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679830164,"creation_date":1679830164,"answer_id":75847439,"question_id":5181578,"body_markdown":"Marking a class final indicates to static analysis tools that the class could never be inherited. If a method is not throwing an exception, but the method signature says it is, the tool now has the go-ahead to warn you about it, or patch it immediately. As long as the class is not final you can say a method throws an exception even when it doesn&#39;t, since it may be that an overriding method will want to throw that exception.\r\n\r\nThe `abstract` and `final` keywords are basically achieving the same ends. I guess if they had to rewrite Java from scratch they&#39;d probably choose one of these as the default and only have the opposing modifier.","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>Marking a class final indicates to static analysis tools that the class could never be inherited. If a method is not throwing an exception, but the method signature says it is, the tool now has the go-ahead to warn you about it, or patch it immediately. As long as the class is not final you can say a method throws an exception even when it doesn't, since it may be that an overriding method will want to throw that exception.</p>\n<p>The <code>abstract</code> and <code>final</code> keywords are basically achieving the same ends. I guess if they had to rewrite Java from scratch they'd probably choose one of these as the default and only have the opposing modifier.</p>\n"}],"owner":{"account_id":249712,"reputation":14722,"user_id":525965,"accept_rate":93,"display_name":"newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586980,"favorite_count":0,"down_vote_count":1,"up_vote_count":692,"accepted_answer_id":5181618,"answer_count":25,"score":691,"last_activity_date":1679830164,"creation_date":1299160343,"question_id":5181578,"body_markdown":"I am reading a book about Java and it says that you can declare the whole class as `final`. I cannot think of anything where I&#39;d use this. \r\n\r\nI am just new to programming and I am wondering **if programmers actually use this on their programs**. If they do, when do they use it so I can understand it better and know when to use it. \r\n\r\nIf Java is object oriented, and you declare a class `final`, doesn&#39;t it stop the idea of class having the characteristics of objects?","title":"What is the point of &quot;final class&quot; in Java?","body":"<p>I am reading a book about Java and it says that you can declare the whole class as <code>final</code>. I cannot think of anything where I'd use this. </p>\n\n<p>I am just new to programming and I am wondering <strong>if programmers actually use this on their programs</strong>. If they do, when do they use it so I can understand it better and know when to use it. </p>\n\n<p>If Java is object oriented, and you declare a class <code>final</code>, doesn't it stop the idea of class having the characteristics of objects?</p>\n"},{"tags":["java","database","playframework","oracle12c","socket-timeout-exception"],"answers":[{"comments":[{"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"score":0,"creation_date":1593517433,"post_id":62641468,"comment_id":110803541,"body_markdown":"I have added DB configuration in the questions for more details. Is it advisable to keep HikariCP connection open for more than 30 mintures in production?","body":"I have added DB configuration in the questions for more details. Is it advisable to keep HikariCP connection open for more than 30 mintures in production?"}],"tags":[],"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679828275,"creation_date":1593444459,"answer_id":62641468,"question_id":62632709,"body_markdown":"You can enable TCP keepalive for JDBC - either be setting JVM directive or by adding &quot;ENABLE=BROKEN&quot; into connection string.\r\n\r\nBut:\r\n- Usually Cisco/Juniper cuts off TCP connection when it is inactive for more that on one hour.\r\n- While Linux kernel starts sending keepalive probes after two hours(tcp_keepalive_time). So if you decide to turn tcp keepalive on, you will also need root to change this kernel tunable to lower value(10-15 minutes)\r\n- Moreover HikariCP should not keep open any connection for longer than 30 minutes - by default.\r\n\r\nSo if your FW, Linux kernel and HikariCP all use default settings, then this error should not occur in your system.\r\n\r\nSee HikariCP [official documentation][1]\r\n\r\n&gt; maxLifetime:\r\n&gt; This property controls the maximum lifetime of a connection in the\r\n&gt; pool. An in-use connection will never be retired, only when it is\r\n&gt; closed will it then be removed. On a connection-by-connection basis,\r\n&gt; minor negative attenuation is applied to avoid mass-extinction in the\r\n&gt; pool. We strongly recommend setting this value, and it should be\r\n&gt; several seconds shorter than any database or infrastructure imposed\r\n&gt; connection time limit. A value of 0 indicates no maximum lifetime\r\n&gt; (infinite lifetime), subject of course to the idleTimeout setting. The\r\n&gt; minimum allowed value is 30000ms (30 seconds). Default: 1800000 (30\r\n&gt; minutes)\r\n\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP","title":"How to solve &quot;Socket read timed out&quot; when using hikari connection pool","body":"<p>You can enable TCP keepalive for JDBC - either be setting JVM directive or by adding &quot;ENABLE=BROKEN&quot; into connection string.</p>\n<p>But:</p>\n<ul>\n<li>Usually Cisco/Juniper cuts off TCP connection when it is inactive for more that on one hour.</li>\n<li>While Linux kernel starts sending keepalive probes after two hours(tcp_keepalive_time). So if you decide to turn tcp keepalive on, you will also need root to change this kernel tunable to lower value(10-15 minutes)</li>\n<li>Moreover HikariCP should not keep open any connection for longer than 30 minutes - by default.</li>\n</ul>\n<p>So if your FW, Linux kernel and HikariCP all use default settings, then this error should not occur in your system.</p>\n<p>See HikariCP <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">official documentation</a></p>\n<blockquote>\n<p>maxLifetime:\nThis property controls the maximum lifetime of a connection in the\npool. An in-use connection will never be retired, only when it is\nclosed will it then be removed. On a connection-by-connection basis,\nminor negative attenuation is applied to avoid mass-extinction in the\npool. We strongly recommend setting this value, and it should be\nseveral seconds shorter than any database or infrastructure imposed\nconnection time limit. A value of 0 indicates no maximum lifetime\n(infinite lifetime), subject of course to the idleTimeout setting. The\nminimum allowed value is 30000ms (30 seconds). Default: 1800000 (30\nminutes)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1616812434,"creation_date":1616812434,"answer_id":66827517,"question_id":62632709,"body_markdown":"I have added the below configuration for hickaricp in configuration file and it is \r\nworking fine.\r\n\r\n    ## Database Connection Pool\r\n\r\n    play.db.pool = hikaricp\r\n    play.db.prototype.hikaricp.connectionTimeout=120000\r\n    play.db.prototype.hikaricp.idleTimeout=15000\r\n    play.db.prototype.hikaricp.leakDetectionThreshold=120000\r\n    play.db.prototype.hikaricp.validationTimeout=10000\r\n    play.db.prototype.hikaricp.maxLifetime=120000","title":"How to solve &quot;Socket read timed out&quot; when using hikari connection pool","body":"<p>I have added the below configuration for hickaricp in configuration file and it is\nworking fine.</p>\n<pre><code>## Database Connection Pool\n\nplay.db.pool = hikaricp\nplay.db.prototype.hikaricp.connectionTimeout=120000\nplay.db.prototype.hikaricp.idleTimeout=15000\nplay.db.prototype.hikaricp.leakDetectionThreshold=120000\nplay.db.prototype.hikaricp.validationTimeout=10000\nplay.db.prototype.hikaricp.maxLifetime=120000\n</code></pre>\n"}],"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66827517,"answer_count":2,"score":2,"last_activity_date":1679828275,"creation_date":1593413620,"question_id":62632709,"body_markdown":"I am developing an application using play framework (version 2.8.0), java(version 1.8) with an oracle database(version 12C).\r\n\r\nThere is only zero or one hit to the database in a day, I am getting below error.\r\n\r\n    java.sql.SQLRecoverableException: IO Error: Socket read timed out\r\n        at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:919)\r\n        at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:2005)\r\n        at com.zaxxer.hikari.pool.PoolBase.quietlyCloseConnection(PoolBase.java:138)\r\n        at com.zaxxer.hikari.pool.HikariPool.lambda$closeConnection$1(HikariPool.java:447)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.SocketTimeoutException: Socket read timed out\r\n        at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:174)\r\n        at oracle.net.ns.NIOHeader.readHeaderBuffer(NIOHeader.java:82)\r\n        at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:139)\r\n        at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:101)\r\n        at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:80)\r\n        at oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98)\r\n        at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534)\r\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\r\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\r\n        at oracle.jdbc.driver.T4C7Ocommoncall.doOLOGOFF(T4C7Ocommoncall.java:62)\r\n        at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:908)\r\n        ... 6 common frames omitted\r\n\r\n    db {\r\n    default {\r\n    driver=oracle.jdbc.OracleDriver\r\n    url=&quot;jdbc:oracle:thin:@XXX.XXX.XXX.XX:XXXX/XXXXXXX&quot;\r\n    username=&quot;XXXXXXXXX&quot;\r\n    password=&quot;XXXXXXXXX&quot;\r\n    hikaricp {\r\n      dataSource {\r\n        cachePrepStmts = true\r\n        prepStmtCacheSize = 250\r\n        prepStmtCacheSqlLimit = 2048\r\n          }\r\n         }\r\n      }\r\n    }\r\n\r\nIt seems it is causing due to inactive database connection, How can I solve this?\r\nPlease let me know if any other information is required?","title":"How to solve &quot;Socket read timed out&quot; when using hikari connection pool","body":"<p>I am developing an application using play framework (version 2.8.0), java(version 1.8) with an oracle database(version 12C).</p>\n<p>There is only zero or one hit to the database in a day, I am getting below error.</p>\n<pre><code>java.sql.SQLRecoverableException: IO Error: Socket read timed out\n    at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:919)\n    at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:2005)\n    at com.zaxxer.hikari.pool.PoolBase.quietlyCloseConnection(PoolBase.java:138)\n    at com.zaxxer.hikari.pool.HikariPool.lambda$closeConnection$1(HikariPool.java:447)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.SocketTimeoutException: Socket read timed out\n    at oracle.net.nt.TimeoutSocketChannel.read(TimeoutSocketChannel.java:174)\n    at oracle.net.ns.NIOHeader.readHeaderBuffer(NIOHeader.java:82)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:139)\n    at oracle.net.ns.NIOPacket.readFromSocketChannel(NIOPacket.java:101)\n    at oracle.net.ns.NIONSDataChannel.readDataFromSocketChannel(NIONSDataChannel.java:80)\n    at oracle.jdbc.driver.T4CMAREngineNIO.prepareForReading(T4CMAREngineNIO.java:98)\n    at oracle.jdbc.driver.T4CMAREngineNIO.unmarshalUB1(T4CMAREngineNIO.java:534)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:485)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:252)\n    at oracle.jdbc.driver.T4C7Ocommoncall.doOLOGOFF(T4C7Ocommoncall.java:62)\n    at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:908)\n    ... 6 common frames omitted\n\ndb {\ndefault {\ndriver=oracle.jdbc.OracleDriver\nurl=&quot;jdbc:oracle:thin:@XXX.XXX.XXX.XX:XXXX/XXXXXXX&quot;\nusername=&quot;XXXXXXXXX&quot;\npassword=&quot;XXXXXXXXX&quot;\nhikaricp {\n  dataSource {\n    cachePrepStmts = true\n    prepStmtCacheSize = 250\n    prepStmtCacheSqlLimit = 2048\n      }\n     }\n  }\n}\n</code></pre>\n<p>It seems it is causing due to inactive database connection, How can I solve this?\nPlease let me know if any other information is required?</p>\n"},{"tags":["java","string","list","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679825187,"creation_date":1679825187,"answer_id":75847059,"question_id":75846958,"body_markdown":"Stream.distinct() only allows you to discard elements that are present multiple times **in the same collection** or **as they are iterated**.\r\n\r\nI suggest using [ListUtils.subtract](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html) from apache commons, but you can also do it with streams, like this:\r\n\r\n    List&lt;String&gt; result = list2.stream()\r\n    .filter(item -&gt; !list1.contains(item))\r\n    .collect(Collectors.toList());\r\n\r\nNotice that it&#39;s an `O(n^2)` algorithm, due to the fact that List.contains is linear.\r\nIf your lists are big, you should replace them with sets to be more efficient.\r\n","title":"Filter two lists that have same elements to only obtain a list with distinct elements using Java Stream","body":"<p>Stream.distinct() only allows you to discard elements that are present multiple times <strong>in the same collection</strong> or <strong>as they are iterated</strong>.</p>\n<p>I suggest using <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html\" rel=\"nofollow noreferrer\">ListUtils.subtract</a> from apache commons, but you can also do it with streams, like this:</p>\n<pre><code>List&lt;String&gt; result = list2.stream()\n.filter(item -&gt; !list1.contains(item))\n.collect(Collectors.toList());\n</code></pre>\n<p>Notice that it's an <code>O(n^2)</code> algorithm, due to the fact that List.contains is linear.\nIf your lists are big, you should replace them with sets to be more efficient.</p>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75847059,"answer_count":1,"score":0,"last_activity_date":1679827514,"creation_date":1679824017,"question_id":75846958,"body_markdown":"I have `list1` and `list2` like below \r\n\r\n```jave\r\nList&lt;String&gt; list1 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;);\r\nList&lt;String&gt; list2 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;, &quot;LJ48833&quot;, &quot;YTR3888&quot;);\r\n```\r\nWhat I would like to achieve is to have a list that only contains elements in list2 that are not in list1 which are unique which are `[&quot;LJ48833&quot;,&quot;YTR3888&quot;]`\r\n\r\nI would like to achieve this using Java Stream \r\n\r\nI have tried using `stream().distinct()`, but it&#39;s not working.","title":"Filter two lists that have same elements to only obtain a list with distinct elements using Java Stream","body":"<p>I have <code>list1</code> and <code>list2</code> like below</p>\n<pre><code>List&lt;String&gt; list1 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;);\nList&lt;String&gt; list2 = List.of(&quot;DX4555&quot;, &quot;DY4897&quot;, &quot;FG4333&quot;, &quot;IH09992&quot;, &quot;LJ48833&quot;, &quot;YTR3888&quot;);\n</code></pre>\n<p>What I would like to achieve is to have a list that only contains elements in list2 that are not in list1 which are unique which are <code>[&quot;LJ48833&quot;,&quot;YTR3888&quot;]</code></p>\n<p>I would like to achieve this using Java Stream</p>\n<p>I have tried using <code>stream().distinct()</code>, but it's not working.</p>\n"},{"tags":["java","android","kotlin","minify"],"answers":[{"comments":[{"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"score":0,"creation_date":1679792454,"post_id":75845132,"comment_id":133784158,"body_markdown":"I&#39;ve tried:-keep class javax.xml.** { *; }\n\n-keep class javax.xml.namespace.NamespaceContext { *; }\n-keep public class * implements javax.xml.namespace.NamespaceContext\n and a keep on my class.   None of that is working.","body":"I&#39;ve tried:-keep class javax.xml.** { *; }  -keep class javax.xml.namespace.NamespaceContext { *; } -keep public class * implements javax.xml.namespace.NamespaceContext  and a keep on my class.   None of that is working."},{"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"score":0,"creation_date":1679792570,"post_id":75845132,"comment_id":133784165,"body_markdown":"And none of explains that fact that it works without any of that when the interface is implemented in Java.","body":"And none of explains that fact that it works without any of that when the interface is implemented in Java."},{"owner":{"account_id":1025690,"reputation":1932,"user_id":1035041,"display_name":"Ajay Kumar Meher"},"score":0,"creation_date":1679946117,"post_id":75845132,"comment_id":133809044,"body_markdown":"If you can share any sample. I would love to try and help you :)","body":"If you can share any sample. I would love to try and help you :)"}],"tags":[],"owner":{"account_id":1025690,"reputation":1932,"user_id":1035041,"display_name":"Ajay Kumar Meher"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679787554,"creation_date":1679787554,"answer_id":75845132,"question_id":75844880,"body_markdown":"Try adding proguard rules as `-keep class javax.xml.** { *; }`. Once you get it executed successfully. Then, reduce the scope for more optimisation. With the error log it looks like your interface is getting minified as well.","title":"Android javax.xml.namespace.NamespaceContext in Kotlin and minifyEnabled","body":"<p>Try adding proguard rules as <code>-keep class javax.xml.** { *; }</code>. Once you get it executed successfully. Then, reduce the scope for more optimisation. With the error log it looks like your interface is getting minified as well.</p>\n"},{"tags":[],"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679826024,"creation_date":1679826024,"answer_id":75847123,"question_id":75844880,"body_markdown":"in the end, I implement the interface in place:\r\n\r\n        private val namespaceResolver = object : NamespaceContext {\r\n            override fun getNamespaceURI(prefix: String?): String {\r\n                requireNotNull(prefix) { &quot;No prefix provided!&quot; }\r\n                return when (prefix) {\r\n    ...\r\n                    else -&gt; {\r\n                        throw IllegalArgumentException(&quot;Unexpected prefix&quot;)\r\n                    }\r\n                }\r\n            }\r\n    \r\n            override fun getPrefix(namespaceURI: String?): String {\r\n                error(&quot;Not implemented&quot;)\r\n            }\r\n    \r\n            override fun getPrefixes(namespaceURI: String?): MutableIterator&lt;Any?&gt; {\r\n                error(&quot;Not implemented&quot;)\r\n            }\r\n        }\r\n\r\nWith it implemented in place, the problem went away.","title":"Android javax.xml.namespace.NamespaceContext in Kotlin and minifyEnabled","body":"<p>in the end, I implement the interface in place:</p>\n<pre><code>    private val namespaceResolver = object : NamespaceContext {\n        override fun getNamespaceURI(prefix: String?): String {\n            requireNotNull(prefix) { &quot;No prefix provided!&quot; }\n            return when (prefix) {\n...\n                else -&gt; {\n                    throw IllegalArgumentException(&quot;Unexpected prefix&quot;)\n                }\n            }\n        }\n\n        override fun getPrefix(namespaceURI: String?): String {\n            error(&quot;Not implemented&quot;)\n        }\n\n        override fun getPrefixes(namespaceURI: String?): MutableIterator&lt;Any?&gt; {\n            error(&quot;Not implemented&quot;)\n        }\n    }\n</code></pre>\n<p>With it implemented in place, the problem went away.</p>\n"}],"owner":{"account_id":4141886,"reputation":193,"user_id":3396908,"display_name":"johngray1965"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679826024,"creation_date":1679783365,"question_id":75844880,"body_markdown":"In an Android app, I implement the interface javax.xml.namespace.NamespaceContext in several places.  The interface has 3 methods, I only care about 1 (we throw an exception if either of other two are called).  The signature for the one we care about is:\r\n\r\n        String getNamespaceURI(String prefix);\r\n\r\n The implementations were in Java, now they in Kotlin.    The Kotlin implementations seemed to be working fine until last night when I started to test with &quot;minifyEnabled true&quot;. \r\n\r\nWith minifyEnabled, I get the following exception:\r\n\r\n    java.lang.IncompatibleClassChangeError: Class ‘mypackage.content.loader.EPubNamespaceResolver&#39; does not implement interface &#39;javax.xml.namespace.NamespaceContext&#39; in call to &#39;java.l\r\n                            ang.String javax.xml.namespace.NamespaceContext.getNamespaceURI(java.lang.String)&#39; (declaration of &#39;org.apache.xpath.jaxp.JAXPPrefixResolver&#39; appears in /apex/com.android.art/javalib/apache-xml.jar)\r\n                         E      at org.apache.xpath.jaxp.JAXPPrefixResolver.getNamespaceForPrefix(JAXPPrefixResolver.java:47)\r\n                         E      at org.apache.xpath.compiler.Lexer.mapNSTokens(Lexer.java:596)\r\n                         E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:365)\r\n                         E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:98)\r\n                         E      at org.apache.xpath.compiler.XPathParser.initXPath(XPathParser.java:112)\r\n                         E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:178)\r\n                         E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:266)\r\n                         E      at org.apache.xpath.jaxp.XPathImpl.eval(XPathImpl.java:195)\r\n                         E      at org.apache.xpath.jaxp.XPathImpl.evaluate(XPathImpl.java:281)\r\n\r\n\r\nI didn&#39;t have any proguard rules for it in Java, it just worked.  I tried putting proguard rules to keep it, I tried @Keep. I tried playing with whether the param and return type were nullable or not.   I just can&#39;t make it work with  minifyEnabled in Kotlin.","title":"Android javax.xml.namespace.NamespaceContext in Kotlin and minifyEnabled","body":"<p>In an Android app, I implement the interface javax.xml.namespace.NamespaceContext in several places.  The interface has 3 methods, I only care about 1 (we throw an exception if either of other two are called).  The signature for the one we care about is:</p>\n<pre><code>    String getNamespaceURI(String prefix);\n</code></pre>\n<p>The implementations were in Java, now they in Kotlin.    The Kotlin implementations seemed to be working fine until last night when I started to test with &quot;minifyEnabled true&quot;.</p>\n<p>With minifyEnabled, I get the following exception:</p>\n<pre><code>java.lang.IncompatibleClassChangeError: Class ‘mypackage.content.loader.EPubNamespaceResolver' does not implement interface 'javax.xml.namespace.NamespaceContext' in call to 'java.l\n                        ang.String javax.xml.namespace.NamespaceContext.getNamespaceURI(java.lang.String)' (declaration of 'org.apache.xpath.jaxp.JAXPPrefixResolver' appears in /apex/com.android.art/javalib/apache-xml.jar)\n                     E      at org.apache.xpath.jaxp.JAXPPrefixResolver.getNamespaceForPrefix(JAXPPrefixResolver.java:47)\n                     E      at org.apache.xpath.compiler.Lexer.mapNSTokens(Lexer.java:596)\n                     E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:365)\n                     E      at org.apache.xpath.compiler.Lexer.tokenize(Lexer.java:98)\n                     E      at org.apache.xpath.compiler.XPathParser.initXPath(XPathParser.java:112)\n                     E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:178)\n                     E      at org.apache.xpath.XPath.&lt;init&gt;(XPath.java:266)\n                     E      at org.apache.xpath.jaxp.XPathImpl.eval(XPathImpl.java:195)\n                     E      at org.apache.xpath.jaxp.XPathImpl.evaluate(XPathImpl.java:281)\n</code></pre>\n<p>I didn't have any proguard rules for it in Java, it just worked.  I tried putting proguard rules to keep it, I tried @Keep. I tried playing with whether the param and return type were nullable or not.   I just can't make it work with  minifyEnabled in Kotlin.</p>\n"},{"tags":["java","proguard"],"answers":[{"comments":[{"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"score":0,"creation_date":1503476158,"post_id":45834146,"comment_id":78625588,"body_markdown":"@xxlali then be more specific. There are only two options. use `keep` on the keyword `implements` or on the annotation. However the classes would have to be annotated then and not the interface","body":"@xxlali then be more specific. There are only two options. use <code>keep</code> on the keyword <code>implements</code> or on the annotation. However the classes would have to be annotated then and not the interface"},{"owner":{"account_id":2694134,"reputation":1006,"user_id":2326666,"accept_rate":62,"display_name":"xxlali"},"score":0,"creation_date":1503476393,"post_id":45834146,"comment_id":78625752,"body_markdown":"I want to say 2 things: First : &quot;Don&#39;t obfuscate interfaces and classes with KeepAll annotation&quot;. I know how to do that. Also you have given example of this. Second thing is: &quot;Don&#39;t obfuscate classes and interfaces which extends or implements a class or interface which have KeepAll annotation&quot;. I hope I could be more specific","body":"I want to say 2 things: First : &quot;Don&#39;t obfuscate interfaces and classes with KeepAll annotation&quot;. I know how to do that. Also you have given example of this. Second thing is: &quot;Don&#39;t obfuscate classes and interfaces which extends or implements a class or interface which have KeepAll annotation&quot;. I hope I could be more specific"}],"tags":[],"owner":{"account_id":6451300,"reputation":1733,"user_id":4998135,"accept_rate":95,"display_name":"Nico"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503476098,"creation_date":1503475781,"answer_id":45834146,"question_id":45833694,"body_markdown":"You can tell ProGuard to keep everything with an annotation like this:\r\n\r\n`-keep @com.google.inject.Singleton public interface *`\r\n\r\nThe above would keep the interface itself from obfuscation.\r\n\r\nTo get the implementations of the interface you can do something like this:\r\n\r\n    -keep public class * implements **.MainEntity \r\n\r\nSo Right now I am confused what you want to achieve. If you only annotate the interface it wont be a help for ProGuard. The classes would need this annotation.","title":"How to keep class which implement an interface with annotation","body":"<p>You can tell ProGuard to keep everything with an annotation like this:</p>\n\n<p><code>-keep @com.google.inject.Singleton public interface *</code></p>\n\n<p>The above would keep the interface itself from obfuscation.</p>\n\n<p>To get the implementations of the interface you can do something like this:</p>\n\n<pre><code>-keep public class * implements **.MainEntity \n</code></pre>\n\n<p>So Right now I am confused what you want to achieve. If you only annotate the interface it wont be a help for ProGuard. The classes would need this annotation.</p>\n"},{"tags":[],"owner":{"account_id":2694134,"reputation":1006,"user_id":2326666,"accept_rate":62,"display_name":"xxlali"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1503496129,"creation_date":1503496129,"answer_id":45841600,"question_id":45833694,"body_markdown":"After a long trial and error process I get what I want. Here is the solution \r\n\r\nKeep class names with annotation KeepAll;\r\n\r\n    -keep @com.package.name.KeepAll public class **\r\n\r\nKeep class members of classes and interface with annotation KeepAll;\r\n\r\n    -keepclassmembers @com.package.name.KeepAll class ** { public &lt;methods&gt;; &lt;fields&gt;;}\r\n\r\nKeep class members of a class which implemets a class that has KeepAll annotation. (This was what I want)\r\n\r\n    -keepclassmembers public class * implements @com.package.name.KeepAll ** { public &lt;methods&gt;; &lt;fields&gt;;}","title":"How to keep class which implement an interface with annotation","body":"<p>After a long trial and error process I get what I want. Here is the solution </p>\n\n<p>Keep class names with annotation KeepAll;</p>\n\n<pre><code>-keep @com.package.name.KeepAll public class **\n</code></pre>\n\n<p>Keep class members of classes and interface with annotation KeepAll;</p>\n\n<pre><code>-keepclassmembers @com.package.name.KeepAll class ** { public &lt;methods&gt;; &lt;fields&gt;;}\n</code></pre>\n\n<p>Keep class members of a class which implemets a class that has KeepAll annotation. (This was what I want)</p>\n\n<pre><code>-keepclassmembers public class * implements @com.package.name.KeepAll ** { public &lt;methods&gt;; &lt;fields&gt;;}\n</code></pre>\n"}],"owner":{"account_id":2694134,"reputation":1006,"user_id":2326666,"accept_rate":62,"display_name":"xxlali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2341,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":45841600,"answer_count":2,"score":4,"last_activity_date":1679825729,"creation_date":1503474450,"question_id":45833694,"body_markdown":"I defined an annotation named `@KeepAll`. \r\n\r\nI have an interface like\r\n\r\n    @KeepAll\r\n    public interface MainEntity {\r\n        //some methods\r\n    }\r\n\r\nI want to keep all classes which implement this interface from obfuscation. Is this possible on ProGuard?\r\n\r\n**NOTE** I know I can define it as \r\n\r\n    -keep public class * implements **.MainEntity \r\n\r\nBut I don&#39;t want to specify interface name but annotation name. ","title":"How to keep class which implement an interface with annotation","body":"<p>I defined an annotation named <code>@KeepAll</code>. </p>\n\n<p>I have an interface like</p>\n\n<pre><code>@KeepAll\npublic interface MainEntity {\n    //some methods\n}\n</code></pre>\n\n<p>I want to keep all classes which implement this interface from obfuscation. Is this possible on ProGuard?</p>\n\n<p><strong>NOTE</strong> I know I can define it as </p>\n\n<pre><code>-keep public class * implements **.MainEntity \n</code></pre>\n\n<p>But I don't want to specify interface name but annotation name. </p>\n"},{"tags":["java","android","android-permissions"],"comments":[{"owner":{"account_id":2530265,"reputation":3734,"user_id":2198705,"display_name":"Nghia Bui"},"score":0,"creation_date":1577760421,"post_id":59418504,"comment_id":105247923,"body_markdown":"Same question, would love to see an answer.","body":"Same question, would love to see an answer."},{"owner":{"account_id":11172407,"reputation":641,"user_id":8199030,"accept_rate":46,"display_name":"Mateen Chaudhry"},"score":0,"creation_date":1579444967,"post_id":59418504,"comment_id":105760848,"body_markdown":"Did you find any solution and can you please form which android version this behavior changed or miui version?","body":"Did you find any solution and can you please form which android version this behavior changed or miui version?"}],"answers":[{"comments":[{"owner":{"account_id":964918,"reputation":684,"user_id":988521,"accept_rate":50,"display_name":"Natan Lot&#233;rio"},"score":0,"creation_date":1587664424,"post_id":59699548,"comment_id":108607639,"body_markdown":"Good question. I&#39;m still looking for a way to check if the permission was granted","body":"Good question. I&#39;m still looking for a way to check if the permission was granted"},{"owner":{"account_id":7717947,"reputation":534,"user_id":5845027,"display_name":"Raj Gohel"},"score":0,"creation_date":1592474156,"post_id":59699548,"comment_id":110440617,"body_markdown":"@NatanLot&#233;rio are you get any solution for check permission is granted or not because i  am also looking for this solution","body":"@NatanLot&#233;rio are you get any solution for check permission is granted or not because i  am also looking for this solution"},{"owner":{"account_id":964918,"reputation":684,"user_id":988521,"accept_rate":50,"display_name":"Natan Lot&#233;rio"},"score":0,"creation_date":1594062872,"post_id":59699548,"comment_id":110989710,"body_markdown":"Hi @RajGohel sorry for the late response. No, we didn&#39;t find a good way to do this. So we are asking the user to check it manually.","body":"Hi @RajGohel sorry for the late response. No, we didn&#39;t find a good way to do this. So we are asking the user to check it manually."},{"owner":{"account_id":7717947,"reputation":534,"user_id":5845027,"display_name":"Raj Gohel"},"score":1,"creation_date":1594125316,"post_id":59699548,"comment_id":111011409,"body_markdown":"@NatanLot&#233;rio But have you find a way to check user give manually permission or not because if user give permission manually second time we should not ask user to give permission right?","body":"@NatanLot&#233;rio But have you find a way to check user give manually permission or not because if user give permission manually second time we should not ask user to give permission right?"},{"owner":{"account_id":7717947,"reputation":534,"user_id":5845027,"display_name":"Raj Gohel"},"score":0,"creation_date":1594125456,"post_id":59699548,"comment_id":111011500,"body_markdown":"I have also open dialog where user can click and move  to permission screen  and enable permission but dialog open every time how you check user give permission or not","body":"I have also open dialog where user can click and move  to permission screen  and enable permission but dialog open every time how you check user give permission or not"},{"owner":{"account_id":964918,"reputation":684,"user_id":988521,"accept_rate":50,"display_name":"Natan Lot&#233;rio"},"score":0,"creation_date":1594127234,"post_id":59699548,"comment_id":111012464,"body_markdown":"No, we check if the SO is MIUI so then, we show the settings screen sending an intent for &#39;ACTION_APPLICATION_DETAILS_SETTINGS&#39; . \nThe user must verify if the permission was granted by himself.","body":"No, we check if the SO is MIUI so then, we show the settings screen sending an intent for &#39;ACTION_APPLICATION_DETAILS_SETTINGS&#39; .  The user must verify if the permission was granted by himself."},{"owner":{"account_id":8981327,"reputation":145,"user_id":6696453,"accept_rate":75,"display_name":"Royz"},"score":0,"creation_date":1603273378,"post_id":59699548,"comment_id":113982380,"body_markdown":"Any luck of finding a way to check if this permission enabled?","body":"Any luck of finding a way to check if this permission enabled?"}],"tags":[],"owner":{"account_id":3107535,"reputation":1830,"user_id":2630035,"display_name":"Zohar"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1679825711,"creation_date":1578784876,"answer_id":59699548,"question_id":59418504,"body_markdown":"To redirect users to the &quot;other permissions&quot; screen use this code\r\n\r\n            Intent intent = new Intent(&quot;miui.intent.action.APP_PERM_EDITOR&quot;);\r\n            intent.setClassName(&quot;com.miui.securitycenter&quot;,\r\n                    &quot;com.miui.permcenter.permissions.PermissionsEditorActivity&quot;);\r\n            intent.putExtra(&quot;extra_pkgname&quot;, getPackageName());\r\n            startActivity(intent);\r\n\r\n[Source][1]\r\n\r\nStill looking for a way to tell if this option is checked or not programmatically...\r\n\r\nWhat&#39;s more interesting is, how some apps have managed to have this option checked before any user interaction... maybe there is some secret miui permission?...\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59380516/2630035","title":"Xiaomi devices permission to enable apps pop-up windows while running in the background","body":"<p>To redirect users to the &quot;other permissions&quot; screen use this code</p>\n<pre><code>        Intent intent = new Intent(&quot;miui.intent.action.APP_PERM_EDITOR&quot;);\n        intent.setClassName(&quot;com.miui.securitycenter&quot;,\n                &quot;com.miui.permcenter.permissions.PermissionsEditorActivity&quot;);\n        intent.putExtra(&quot;extra_pkgname&quot;, getPackageName());\n        startActivity(intent);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/59380516/2630035\">Source</a></p>\n<p>Still looking for a way to tell if this option is checked or not programmatically...</p>\n<p>What's more interesting is, how some apps have managed to have this option checked before any user interaction... maybe there is some secret miui permission?...</p>\n"},{"tags":[],"owner":{"account_id":3676021,"reputation":1747,"user_id":3062108,"accept_rate":71,"display_name":"BennyP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607287715,"creation_date":1607287715,"answer_id":65172936,"question_id":59418504,"body_markdown":"This permission is added automatically by Google Play and isn&#39;t granted on local builds, not even release builds\r\n\r\nif you target SDK version 30 and compile with 30, Google Play will give you the permission\r\n\r\n```\r\n   compileSdkVersion 30\r\n   targetSdkVersion 30\r\n```\r\nnote: I targeted 28 and it didn&#39;t work for me","title":"Xiaomi devices permission to enable apps pop-up windows while running in the background","body":"<p>This permission is added automatically by Google Play and isn't granted on local builds, not even release builds</p>\n<p>if you target SDK version 30 and compile with 30, Google Play will give you the permission</p>\n<pre><code>   compileSdkVersion 30\n   targetSdkVersion 30\n</code></pre>\n<p>note: I targeted 28 and it didn't work for me</p>\n"}],"owner":{"account_id":16447427,"reputation":475,"user_id":11881795,"display_name":"Mo Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7635,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":59699548,"answer_count":2,"score":12,"last_activity_date":1679825711,"creation_date":1576801520,"question_id":59418504,"body_markdown":"Xiaomi devices latest update introduced a new permission that prevents my app (custom shortcuts launcher) that works in the background from working untill users enable this permission:\r\n&quot;&quot;Display pop-up windows while running in the background&quot; \r\n\r\nThe question is, how can I show a permission prompt window for this permission, or at least how to redirect users to &quot;other permissions&quot; screen?","title":"Xiaomi devices permission to enable apps pop-up windows while running in the background","body":"<p>Xiaomi devices latest update introduced a new permission that prevents my app (custom shortcuts launcher) that works in the background from working untill users enable this permission:\n\"\"Display pop-up windows while running in the background\" </p>\n\n<p>The question is, how can I show a permission prompt window for this permission, or at least how to redirect users to \"other permissions\" screen?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":3,"creation_date":1353790576,"post_id":3914404,"comment_id":18551259,"body_markdown":"https://svn.apache.org/repos/asf/commons/dormant/feedparser/trunk/src/java/org/apache/commons/feedparser/tools/ISO8601DateParser.java","body":"<a href=\"https://svn.apache.org/repos/asf/commons/dormant/feedparser/trunk/src/java/org/apache/commons/feedparser/tools/ISO8601DateParser.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/commons/dormant/feedparser/trunk/sr&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":1479530,"reputation":6711,"user_id":1389219,"accept_rate":50,"display_name":"vegemite4me"},"score":5,"creation_date":1409906152,"post_id":3914404,"comment_id":40136907,"body_markdown":"@marcolopes Beware, that use of a `private static SimpleDateFormat` is not thread safe.","body":"@marcolopes Beware, that use of a <code>private static SimpleDateFormat</code> is not thread safe."},{"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"score":0,"creation_date":1447359769,"post_id":3914404,"comment_id":55134244,"body_markdown":"Possible duplicate of [Converting ISO 8601-compliant String to java.util.Date](http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date\">Converting ISO 8601-compliant String to java.util.Date</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1455744831,"post_id":3914404,"comment_id":58631983,"body_markdown":"Similar to [this other Question](http://stackoverflow.com/q/35453198/642706), but that one truncates to whole second whereas this Question truncates to whole minute.","body":"Similar to <a href=\"http://stackoverflow.com/q/35453198/642706\">this other Question</a>, but that one truncates to whole second whereas this Question truncates to whole minute."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1286885521,"post_id":3914444,"comment_id":4173538,"body_markdown":"And how would you produce a String formated as shown in the question?","body":"And how would you produce a String formated as shown in the question?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":4,"creation_date":1286885662,"post_id":3914444,"comment_id":4173566,"body_markdown":"I&#39;d say don&#39;t add a library-dependency for something as simple as this (which can be achieved with two lines of java-code). (Sure, if the requirements grows, it&#39;s another story.)","body":"I&#39;d say don&#39;t add a library-dependency for something as simple as this (which can be achieved with two lines of java-code). (Sure, if the requirements grows, it&#39;s another story.)"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1286885704,"post_id":3914444,"comment_id":4173575,"body_markdown":"@aioobe , if its just used in several part of app then its ok to go for default, in rest case jodatime is better.","body":"@aioobe , if its just used in several part of app then its ok to go for default, in rest case jodatime is better."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":5,"creation_date":1286885957,"post_id":3914444,"comment_id":4173611,"body_markdown":"@aioobe jodatime is better in any case, because it has `ISODateTimeFormat` -- a predefined formatter of ISO-8601.","body":"@aioobe jodatime is better in any case, because it has <code>ISODateTimeFormat</code> -- a predefined formatter of ISO-8601."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1286890177,"post_id":3914444,"comment_id":4174346,"body_markdown":"@org.life.java: which are only relevant when you can switch to Jode time properly. You won&#39;t have them, when you use only this function of Joda time.","body":"@org.life.java: which are only relevant when you can switch to Jode time properly. You won&#39;t have them, when you use only this function of Joda time."},{"owner":{"account_id":285969,"reputation":12256,"user_id":584947,"accept_rate":92,"display_name":"fIwJlxSzApHEZIl"},"score":0,"creation_date":1520554963,"post_id":3914444,"comment_id":85375173,"body_markdown":"Joda link is no longer valid unfortunately","body":"Joda link is no longer valid unfortunately"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523392156,"post_id":3914444,"comment_id":86540154,"body_markdown":"FYI, the [*Joda-Time*](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":7,"down_vote_count":9,"up_vote_count":40,"is_accepted":false,"score":31,"last_activity_date":1520555543,"creation_date":1286885114,"answer_id":3914444,"question_id":3914404,"body_markdown":"use [JodaTime][1] \r\n\r\n&gt;The ISO 8601 calendar system is the default implementation within Joda-Time  \r\n\r\n[Here][2] is the doc for JodaTime Formatter \r\n\r\nEdit:\r\n\r\nIf you don&#39;t want to add or if you don&#39;t see value of adding above library you could just use in built `SimpleDateFormat` class to format the Date to required ISO format\r\n\r\nas suggested by @Joachim Sauer\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mmZ&quot;);\r\n    String nowAsString = df.format(new Date());\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/\r\n  [2]: https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>use <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">JodaTime</a> </p>\n\n<blockquote>\n  <p>The ISO 8601 calendar system is the default implementation within Joda-Time  </p>\n</blockquote>\n\n<p><a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html\" rel=\"noreferrer\">Here</a> is the doc for JodaTime Formatter </p>\n\n<p>Edit:</p>\n\n<p>If you don't want to add or if you don't see value of adding above library you could just use in built <code>SimpleDateFormat</code> class to format the Date to required ISO format</p>\n\n<p>as suggested by @Joachim Sauer</p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mmZ\");\nString nowAsString = df.format(new Date());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":8,"creation_date":1286885885,"post_id":3914498,"comment_id":4173603,"body_markdown":"@Joachim The negative side of this &quot;standard&quot; approach is that I have to have many instances of `&quot;yyyy-MM-dd&#39;T&#39;HH:mmZ&quot;` in my application, every time I need an ISO-8601 formatted date. With JodaTime, as I see, I can use a pre-defined formatter `ISODateTimeFormat`, which does this job for me..","body":"@Joachim The negative side of this &quot;standard&quot; approach is that I have to have many instances of <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mmZ&quot;</code> in my application, every time I need an ISO-8601 formatted date. With JodaTime, as I see, I can use a pre-defined formatter <code>ISODateTimeFormat</code>, which does this job for me.."},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":9,"creation_date":1286887434,"post_id":3914498,"comment_id":4173848,"body_markdown":"@Joachim, `Z` is valid pattern in SimpleDateFormat, rather do this: `yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;`.","body":"@Joachim, <code>Z</code> is valid pattern in SimpleDateFormat, rather do this: <code>yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;</code>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1286888964,"post_id":3914498,"comment_id":4174096,"body_markdown":"@Gentleman: I know, I should have noted that. Depending on whether the expected result is always `Z` or the actual timezone (which needs some further tweakng) the `Z` in the pattern must be quoted or not.","body":"@Gentleman: I know, I should have noted that. Depending on whether the expected result is always <code>Z</code> or the actual timezone (which needs some further tweakng) the <code>Z</code> in the pattern must be quoted or not."},{"owner":{"account_id":101062,"reputation":15674,"user_id":272072,"accept_rate":86,"display_name":"Scott Rippey"},"score":34,"creation_date":1333124132,"post_id":3914498,"comment_id":12700581,"body_markdown":"-1 This gives you the date/time in the current timezone - not UTC.  Carlos&#39; answer includes the necessary UTC code.","body":"-1 This gives you the date/time in the current timezone - not UTC.  Carlos&#39; answer includes the necessary UTC code."},{"owner":{"account_id":407240,"reputation":780,"user_id":777203,"display_name":"Asaf"},"score":1,"creation_date":1367306763,"post_id":3914498,"comment_id":23324759,"body_markdown":"@TomTresansky a common approach to this is to keep the the SDF in a ThreadLocal:  \npublic static final ThreadLocal&lt;SimpleDateFormat&gt; FORMAT_TL = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n        protected SimpleDateFormat initialValue() {\n            return new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mmZ&quot;);\n        }\n    };","body":"@TomTresansky a common approach to this is to keep the the SDF in a ThreadLocal:   public static final ThreadLocal&lt;SimpleDateFormat&gt; FORMAT_TL = new ThreadLocal&lt;SimpleDateFormat&gt;() {         protected SimpleDateFormat initialValue() {             return new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mmZ&quot;);         }     };"},{"owner":{"account_id":8658,"reputation":10923,"user_id":15695,"accept_rate":81,"display_name":"BoD"},"score":21,"creation_date":1376691735,"post_id":3914498,"comment_id":26821012,"body_markdown":"I just fixed the timezone mistake - since it is the accepted answer I think it was the right thing to do.","body":"I just fixed the timezone mistake - since it is the accepted answer I think it was the right thing to do."},{"owner":{"account_id":2364908,"reputation":10925,"user_id":2070775,"accept_rate":54,"display_name":"dev4life"},"score":1,"creation_date":1403637333,"post_id":3914498,"comment_id":37732116,"body_markdown":"If you want the current time zone use TimeZone tz = TimeZone.getDefault(); instead","body":"If you want the current time zone use TimeZone tz = TimeZone.getDefault(); instead"},{"owner":{"account_id":40307,"reputation":3297,"user_id":116810,"accept_rate":80,"display_name":"Kimball Robinson"},"score":2,"creation_date":1444775205,"post_id":3914498,"comment_id":54041667,"body_markdown":"The Z needs to be quoted  like &quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;","body":"The Z needs to be quoted  like &quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;"},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1454920399,"post_id":3914498,"comment_id":58241998,"body_markdown":"@TomTresansky, so instead of global instance, have a global method that returns instances.","body":"@TomTresansky, so instead of global instance, have a global method that returns instances."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523392096,"post_id":3914498,"comment_id":86540126,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html). Specifically, see `Instant` class.","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>. Specifically, see <code>Instant</code> class."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1525477135,"post_id":3914498,"comment_id":87385961,"body_markdown":"@KimballRobinson No, if you put singe-quotes around the `Z` you are ignoring an important fact, the fact that this date-time is in UTC time zone. In other words, **your advice results in data loss**. The real solution is using modern *java.time* classes rather than these troublesome old legacy date-time classes.  `Instant.now().toString()`","body":"@KimballRobinson No, if you put singe-quotes around the <code>Z</code> you are ignoring an important fact, the fact that this date-time is in UTC time zone. In other words, <b>your advice results in data loss</b>. The real solution is using modern <i>java.time</i> classes rather than these troublesome old legacy date-time classes.  <code>Instant.now().toString()</code>"},{"owner":{"account_id":4791885,"reputation":1200,"user_id":3870855,"display_name":"heisbrandon"},"score":0,"creation_date":1536164261,"post_id":3914498,"comment_id":91328882,"body_markdown":"FYI &#39;Z&#39; is a valid timezone descriptor in ISO8601. SimpleDateFormat uses &#39;X&#39; to describe ISO8601 format timezones, so &quot;yyyy-MM-dd&#39;T&#39;HH:mmX&quot; would parse the date correctly.","body":"FYI &#39;Z&#39; is a valid timezone descriptor in ISO8601. SimpleDateFormat uses &#39;X&#39; to describe ISO8601 format timezones, so &quot;yyyy-MM-dd&#39;T&#39;HH:mmX&quot; would parse the date correctly."},{"owner":{"account_id":6692020,"reputation":631,"user_id":5161239,"display_name":"Ajithkumar_sekar"},"score":0,"creation_date":1582879499,"post_id":3914498,"comment_id":106936046,"body_markdown":"This returns date time like 2020-02-01T07:13:03Z but I want the Z to be replaced with &#39;+00:00&#39;. How to achieve this?","body":"This returns date time like 2020-02-01T07:13:03Z but I want the Z to be replaced with &#39;+00:00&#39;. How to achieve this?"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":13,"down_vote_count":23,"up_vote_count":376,"is_accepted":true,"score":353,"last_activity_date":1467216458,"creation_date":1286885425,"answer_id":3914498,"question_id":3914404,"body_markdown":"Use [`SimpleDateFormat`][1] to format any [`Date`][2] object you want:\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;); // Quoted &quot;Z&quot; to indicate UTC, no timezone offset\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n\r\nUsing a `new Date()` as shown above will format the current time.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Date.html    ","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a> to format any <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>Date</code></a> object you want:</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\"); // Quoted \"Z\" to indicate UTC, no timezone offset\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n</code></pre>\n\n<p>Using a <code>new Date()</code> as shown above will format the current time.</p>\n"},{"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1286886016,"post_id":3914546,"comment_id":4173619,"body_markdown":"@aioobe Again, string `&quot;%tFT%&lt;tRZ&quot;` is hard-coded into the application, which smells like a poor design for me. Isn&#39;t it?","body":"@aioobe Again, string <code>&quot;%tFT%&lt;tRZ&quot;</code> is hard-coded into the application, which smells like a poor design for me. Isn&#39;t it?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1286886065,"post_id":3914546,"comment_id":4173627,"body_markdown":"Just encapsulate it into a class then? Introducing dependencies for the sake of formatting todays date smells like bit rot to me.","body":"Just encapsulate it into a class then? Introducing dependencies for the sake of formatting todays date smells like bit rot to me."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1286886516,"post_id":3914546,"comment_id":4173703,"body_markdown":"@aioobe And then I have to give an access to this class to all other classes that need date/time formatting? And from other packages? Looks like re-inventing joda (or something similar), don&#39;t you think so?","body":"@aioobe And then I have to give an access to this class to all other classes that need date/time formatting? And from other packages? Looks like re-inventing joda (or something similar), don&#39;t you think so?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":26,"creation_date":1286887017,"post_id":3914546,"comment_id":4173780,"body_markdown":"Well, either you include an extra third-party library as a dependency to your project (which you may want to keep up to date, and ship with your application, hey, it&#39;s just an extra 3.2 megabytes) and do \n`DateTime dt = new DateTime(); DateTimeFormatter fmt = ISODateTimeFormat.dateTime(); String str = fmt.print(dt);`, or you do encapsulate `return String.format(&quot;%tFT%&lt;tRZ&quot;, new Date());` into a class, and do `str = Iso8601Time.now()`, where ever you need it. (It&#39;s not like the ISO format is going to change.) If it turns out that you need more than just current date in ISO format, use a lib.","body":"Well, either you include an extra third-party library as a dependency to your project (which you may want to keep up to date, and ship with your application, hey, it&#39;s just an extra 3.2 megabytes) and do  <code>DateTime dt = new DateTime(); DateTimeFormatter fmt = ISODateTimeFormat.dateTime(); String str = fmt.print(dt);</code>, or you do encapsulate <code>return String.format(&quot;%tFT%&lt;tRZ&quot;, new Date());</code> into a class, and do <code>str = Iso8601Time.now()</code>, where ever you need it. (It&#39;s not like the ISO format is going to change.) If it turns out that you need more than just current date in ISO format, use a lib."},{"owner":{"account_id":52838,"reputation":1124,"user_id":157955,"accept_rate":59,"display_name":"Patrick Linskey"},"score":11,"creation_date":1344129694,"post_id":3914546,"comment_id":15701216,"body_markdown":"`%tFT%&lt;tTZ` will include seconds; `%tFT%&lt;tTZ.%&lt;tL` will include milliseconds.","body":"<code>%tFT%&lt;tTZ</code> will include seconds; <code>%tFT%&lt;tTZ.%&lt;tL</code> will include milliseconds."},{"owner":{"account_id":537138,"reputation":9404,"user_id":905801,"accept_rate":78,"display_name":"AbdelHady"},"score":3,"creation_date":1408638508,"post_id":3914546,"comment_id":39675475,"body_markdown":"A very neat solution, should be the accepted answer by now :)","body":"A very neat solution, should be the accepted answer by now :)"},{"owner":{"account_id":178071,"reputation":722,"user_id":409813,"display_name":"sho222"},"score":4,"creation_date":1412369723,"post_id":3914546,"comment_id":41060559,"body_markdown":"@PatrickLinskey has a helpful comment for adding the seconds and milliseconds to the output, but the pattern for milliseconds has a small error. The Z should appear after the milliseconds like this `%tFT%&lt;tT.%&lt;tLZ`","body":"@PatrickLinskey has a helpful comment for adding the seconds and milliseconds to the output, but the pattern for milliseconds has a small error. The Z should appear after the milliseconds like this <code>%tFT%&lt;tT.%&lt;tLZ</code>"},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":1,"creation_date":1429310258,"post_id":3914546,"comment_id":47556723,"body_markdown":"Just to mention that since Java 8 there is the `java.time` package available, and inspired in Joda-Time","body":"Just to mention that since Java 8 there is the <code>java.time</code> package available, and inspired in Joda-Time"},{"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"score":2,"creation_date":1483389923,"post_id":3914546,"comment_id":70072005,"body_markdown":"`DateTimeFormatter` has the constant `ISO_DATE_TIME` to get an ISO-8601 date formatter, instead of explicitly writing the pattern yourself.","body":"<code>DateTimeFormatter</code> has the constant <code>ISO_DATE_TIME</code> to get an ISO-8601 date formatter, instead of explicitly writing the pattern yourself."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":9,"down_vote_count":2,"up_vote_count":133,"is_accepted":false,"score":131,"last_activity_date":1504635760,"creation_date":1286885852,"answer_id":3914546,"question_id":3914404,"body_markdown":"**Java 8:**\r\n\r\n    thisMoment = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mmX&quot;)\r\n                                  .withZone(ZoneOffset.UTC)\r\n                                  .format(Instant.now());\r\n\r\n\r\n----------\r\n\r\n\r\n**Pre Java 8:**\r\n\r\n    thisMoment = String.format(&quot;%tFT%&lt;tRZ&quot;,\r\n                               Calendar.getInstance(TimeZone.getTimeZone(&quot;Z&quot;)));\r\n\r\nFrom [the docs](http://download.oracle.com/javase/6/docs/api/java/util/Formatter.html):\r\n\r\n&gt; `&#39;R&#39;`&amp;nbsp;&amp;nbsp;&amp;nbsp; Time formatted for the 24-hour clock as &quot;%tH:%tM&quot;&lt;br/&gt;\r\n&gt; `&#39;F&#39;`&amp;nbsp;&amp;nbsp;&amp;nbsp; ISO 8601  complete date formatted as &quot;%tY-%tm-%td&quot;.\r\n","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p><strong>Java 8:</strong></p>\n\n<pre><code>thisMoment = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mmX\")\n                              .withZone(ZoneOffset.UTC)\n                              .format(Instant.now());\n</code></pre>\n\n<hr>\n\n<p><strong>Pre Java 8:</strong></p>\n\n<pre><code>thisMoment = String.format(\"%tFT%&lt;tRZ\",\n                           Calendar.getInstance(TimeZone.getTimeZone(\"Z\")));\n</code></pre>\n\n<p>From <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p><code>'R'</code>&nbsp;&nbsp;&nbsp; Time formatted for the 24-hour clock as \"%tH:%tM\"<br/>\n  <code>'F'</code>&nbsp;&nbsp;&nbsp; ISO 8601  complete date formatted as \"%tY-%tm-%td\".</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":19,"creation_date":1402440295,"post_id":3914973,"comment_id":37272161,"body_markdown":"This format isn&#39;t a constant anywhere in some built in library?","body":"This format isn&#39;t a constant anywhere in some built in library?"},{"owner":{"account_id":2364908,"reputation":10925,"user_id":2070775,"accept_rate":54,"display_name":"dev4life"},"score":1,"creation_date":1403637169,"post_id":3914973,"comment_id":37732045,"body_markdown":"There are two different packages for &#39;DateFormat&#39;, remember to use &#39;import java.text.DateFormat&#39;","body":"There are two different packages for &#39;DateFormat&#39;, remember to use &#39;import java.text.DateFormat&#39;"},{"owner":{"account_id":2364908,"reputation":10925,"user_id":2070775,"accept_rate":54,"display_name":"dev4life"},"score":3,"creation_date":1403637304,"post_id":3914973,"comment_id":37732102,"body_markdown":"If you want the current time zone use TimeZone tz = TimeZone.getDefault(); instead","body":"If you want the current time zone use TimeZone tz = TimeZone.getDefault(); instead"},{"owner":{"account_id":1821325,"reputation":7064,"user_id":1655332,"display_name":"Matt Whipple"},"score":0,"creation_date":1465843801,"post_id":3914973,"comment_id":63060221,"body_markdown":"You should *not* quote the &#39;Z&#39; in the format since that makes it logically insignificant. If the TimeZone is UTC as in the example above then an unquoted Z will only result in a Z in the output...however if the TimeZone is not UTC then the Z will still be output as a literal implying UTC when the time may not be. If a consuming system reads the Z as UTC but the time is not the time will be shifted. Conversely if a parser uses the quoted Z without setting the TimeZone it will parse UTC times as local times (again shifting). This quote isn&#39;t needed if the TZ is set but is dangerous if it isn&#39;t.","body":"You should <i>not</i> quote the &#39;Z&#39; in the format since that makes it logically insignificant. If the TimeZone is UTC as in the example above then an unquoted Z will only result in a Z in the output...however if the TimeZone is not UTC then the Z will still be output as a literal implying UTC when the time may not be. If a consuming system reads the Z as UTC but the time is not the time will be shifted. Conversely if a parser uses the quoted Z without setting the TimeZone it will parse UTC times as local times (again shifting). This quote isn&#39;t needed if the TZ is set but is dangerous if it isn&#39;t."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1465912830,"post_id":3914973,"comment_id":63092473,"body_markdown":"@MattWhipple - but if you use an unquoted Z the result will be something like `2016-06-14T13:56+0000` - the question is asking for something like `2016-06-14T13:56Z`","body":"@MattWhipple - but if you use an unquoted Z the result will be something like <code>2016-06-14T13:56+0000</code> - the question is asking for something like <code>2016-06-14T13:56Z</code>"},{"owner":{"account_id":1821325,"reputation":7064,"user_id":1655332,"display_name":"Matt Whipple"},"score":0,"creation_date":1465913203,"post_id":3914973,"comment_id":63092760,"body_markdown":"I was thinking of `X` which will deliver the desired behavior and should be preferred to ensure consistency. If for some reason it isn&#39;t due to an ancient version of Java or similar then the use of the literal should come with very prominent warnings about the necessity to set the timezone.","body":"I was thinking of <code>X</code> which will deliver the desired behavior and should be preferred to ensure consistency. If for some reason it isn&#39;t due to an ancient version of Java or similar then the use of the literal should come with very prominent warnings about the necessity to set the timezone."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1465915652,"post_id":3914973,"comment_id":63094717,"body_markdown":"@MattWhipple - ahh, but the `X` format was not available at the time this question/reply was posted - Java 6... As I remember it was included starting with Java 7 (2011?) Now it would be better to use the Date-Time API","body":"@MattWhipple - ahh, but the <code>X</code> format was not available at the time this question/reply was posted - Java 6... As I remember it was included starting with Java 7 (2011?) Now it would be better to use the Date-Time API"}],"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":7,"down_vote_count":2,"up_vote_count":236,"is_accepted":false,"score":234,"last_activity_date":1473958901,"creation_date":1286888699,"answer_id":3914973,"question_id":3914404,"body_markdown":"For systems where the default Time Zone is not UTC:  \r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n\r\nThe `SimpleDateFormat` instance may be declared as a global constant if needed frequently, but beware that this class is not thread-safe. It must be synchronized if accessed concurrently by multiple threads.  \r\n\r\nEDIT: I would prefer Joda Time if doing many different Times/Date manipulations...  \r\nEDIT2: corrected: `setTimeZone` does not accept a String (corrected by Paul)","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>For systems where the default Time Zone is not UTC:  </p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\");\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n</code></pre>\n\n<p>The <code>SimpleDateFormat</code> instance may be declared as a global constant if needed frequently, but beware that this class is not thread-safe. It must be synchronized if accessed concurrently by multiple threads.  </p>\n\n<p>EDIT: I would prefer Joda Time if doing many different Times/Date manipulations...<br>\nEDIT2: corrected: <code>setTimeZone</code> does not accept a String (corrected by Paul)</p>\n"},{"comments":[{"owner":{"account_id":179707,"reputation":192,"user_id":412540,"display_name":"Stian Soiland-Reyes"},"score":2,"creation_date":1364225501,"post_id":8590324,"comment_id":22153676,"body_markdown":"This would use dates in the wrong time zone, see answer by Carlos.","body":"This would use dates in the wrong time zone, see answer by Carlos."}],"tags":[],"owner":{"account_id":320613,"reputation":358,"user_id":638987,"display_name":"Surej"},"comment_count":1,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1324473077,"creation_date":1324473077,"answer_id":8590324,"question_id":3914404,"body_markdown":"Try This,\r\n\r\n\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSZ&quot;);\r\n    \t\tString date=sdf.format (new Date() );\r\n\r\n\r\nIts For  ISO 8601 format","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Try This,</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSSSSSZ\");\n        String date=sdf.format (new Date() );\n</code></pre>\n\n<p>Its For  ISO 8601 format</p>\n"},{"tags":[],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1341936290,"creation_date":1341936290,"answer_id":11417382,"question_id":3914404,"body_markdown":"If you don&#39;t want to include Jodatime (as nice as it is)\r\n\r\n    javax.xml.bind.DatatypeConverter.printDateTime(\r\n        Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;))\r\n    );\r\nwhich returns a string of:\r\n\r\n    2012-07-10T16:02:48.440Z\r\n\r\nwhich is slightly different to the original request but is still ISO-8601.","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>If you don't want to include Jodatime (as nice as it is)</p>\n\n<pre><code>javax.xml.bind.DatatypeConverter.printDateTime(\n    Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"))\n);\n</code></pre>\n\n<p>which returns a string of:</p>\n\n<pre><code>2012-07-10T16:02:48.440Z\n</code></pre>\n\n<p>which is slightly different to the original request but is still ISO-8601.</p>\n"},{"comments":[{"owner":{"account_id":142731,"reputation":26545,"user_id":350615,"display_name":"Juha Palom&#228;ki"},"score":9,"creation_date":1360271448,"post_id":13382014,"comment_id":20660672,"body_markdown":"Making it static may cause trouble as SimpleDateFormat is not thread safe: &quot;Date formats are not synchronized. It is recommended to create separate format instances for each thread. If multiple threads access a format concurrently, it must be synchronized externally.&quot; http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"Making it static may cause trouble as SimpleDateFormat is not thread safe: &quot;Date formats are not synchronized. It is recommended to create separate format instances for each thread. If multiple threads access a format concurrently, it must be synchronized externally.&quot; <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":168070,"reputation":1771,"user_id":393274,"display_name":"Matt Sgarlata"},"score":2,"creation_date":1413474227,"post_id":13382014,"comment_id":41465558,"body_markdown":"As @Juha Palom&#228;ki mentioned, this is not threadsafe.  If you are using Java 8 or higher, [ThreadLocal.withInitial](http://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html#withInitial-java.util.function.Supplier-) can fix that.  If you are using Java 7 or lower, create a new ThreadLocal and supply an initial value by overriding [ThreadLocal.initialValue](http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html#initialValue())","body":"As @Juha Palom&#228;ki mentioned, this is not threadsafe.  If you are using Java 8 or higher, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html#withInitial-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">ThreadLocal.withInitial</a> can fix that.  If you are using Java 7 or lower, create a new ThreadLocal and supply an initial value by overriding <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html#initialValue()\" rel=\"nofollow noreferrer\">ThreadLocal.initialValue</a>"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504634903,"post_id":13382014,"comment_id":79082254,"body_markdown":"@user393274 - if you are using Java 8 you should use `Instant`, `DateTimeFormat` and the other modern thread safe replacements","body":"@user393274 - if you are using Java 8 you should use <code>Instant</code>, <code>DateTimeFormat</code> and the other modern thread safe replacements"},{"owner":{"account_id":1874363,"reputation":1758,"user_id":1695901,"accept_rate":67,"display_name":"gilbertpilz"},"score":0,"creation_date":1517972995,"post_id":13382014,"comment_id":84308712,"body_markdown":"I&#39;m a bit puzzled by what the problem is with SimpleDateFormat not being thread safe. If two threads execute the static initializer at the same time, I can&#39;t see anything worse happening than the SimpleDateFormat constructor gets called twice but only one instant of it (the last one to finish) gets recorded as &quot;df&quot;.","body":"I&#39;m a bit puzzled by what the problem is with SimpleDateFormat not being thread safe. If two threads execute the static initializer at the same time, I can&#39;t see anything worse happening than the SimpleDateFormat constructor gets called twice but only one instant of it (the last one to finish) gets recorded as &quot;df&quot;."}],"tags":[],"owner":{"account_id":1874363,"reputation":1758,"user_id":1695901,"accept_rate":67,"display_name":"gilbertpilz"},"comment_count":4,"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1352907543,"creation_date":1352907543,"answer_id":13382014,"question_id":3914404,"body_markdown":"Here&#39;s a whole class optimized so that invoking &quot;now()&quot; doesn&#39;t do anything more that it has to do.\r\n\r\n    public class Iso8601Util\r\n    {\r\n        private static TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n        private static DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;);\r\n    \r\n        static\r\n        {\r\n            df.setTimeZone(tz);\r\n        }\r\n    \r\n        public static String now()\r\n        {\r\n            return df.format(new Date());\r\n        }\r\n    }","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Here's a whole class optimized so that invoking \"now()\" doesn't do anything more that it has to do.</p>\n\n<pre><code>public class Iso8601Util\n{\n    private static TimeZone tz = TimeZone.getTimeZone(\"UTC\");\n    private static DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm'Z'\");\n\n    static\n    {\n        df.setTimeZone(tz);\n    }\n\n    public static String now()\n    {\n        return df.format(new Date());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":376610,"reputation":646,"user_id":728177,"display_name":"babinik"},"score":5,"creation_date":1379511601,"post_id":14274358,"comment_id":27853036,"body_markdown":"More accurately, the current moment in UTC: `DateFormatUtils.format(new Date(), &quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;, TimeZone.getTimeZone(&quot;UTC&quot;));` current moment in default time zone: `DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.format(new Date())`; @yegor256 thanks for mentioning `DateFormatUtils`, having on board apache commons-lang it&#39;s worth to use the date format.","body":"More accurately, the current moment in UTC: <code>DateFormatUtils.format(new Date(), &quot;yyyy-MM-dd&#39;T&#39;HH:mm&#39;Z&#39;&quot;, TimeZone.getTimeZone(&quot;UTC&quot;));</code> current moment in default time zone: <code>DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT.format(new Date())</code>; @yegor256 thanks for mentioning <code>DateFormatUtils</code>, having on board apache commons-lang it&#39;s worth to use the date format."}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1405616017,"creation_date":1357893376,"answer_id":14274358,"question_id":3914404,"body_markdown":"[DateFormatUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateFormatUtils.html) from Apache `commons-lang3` have useful constants, for example: `DateFormatUtils.ISO_DATETIME_FORMAT`","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateFormatUtils.html\">DateFormatUtils</a> from Apache <code>commons-lang3</code> have useful constants, for example: <code>DateFormatUtils.ISO_DATETIME_FORMAT</code></p>\n"},{"tags":[],"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1396976082,"creation_date":1381288354,"answer_id":19262422,"question_id":3914404,"body_markdown":"ISO 8601 may contains seconds \r\nsee http://en.wikipedia.org/wiki/ISO_8601#Times\r\n\r\nso the code should be \r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>ISO 8601 may contains seconds \nsee <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Times\">http://en.wikipedia.org/wiki/ISO_8601#Times</a></p>\n\n<p>so the code should be </p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301761,"reputation":9652,"user_id":609707,"display_name":"d.danailov"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1396966969,"creation_date":1396966969,"answer_id":22939941,"question_id":3914404,"body_markdown":"For Java version 7\r\n\r\nYou can follow Oracle documentation: \r\nhttp://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n\r\nX - is used for ISO 8601 time zone\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;);\r\n    df.setTimeZone(tz);\r\n    String nowAsISO = df.format(new Date());\r\n    \t\t\r\n    System.out.println(nowAsISO);\r\n    \t\t\r\n    DateFormat df1 = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;);\r\n    //nowAsISO = &quot;2013-05-31T00:00:00Z&quot;;\r\n    Date finalResult = df1.parse(nowAsISO);\r\n    \r\n    System.out.println(finalResult);","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>For Java version 7</p>\n\n<p>You can follow Oracle documentation: \n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a></p>\n\n<p>X - is used for ISO 8601 time zone</p>\n\n<pre><code>TimeZone tz = TimeZone.getTimeZone(\"UTC\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\");\ndf.setTimeZone(tz);\nString nowAsISO = df.format(new Date());\n\nSystem.out.println(nowAsISO);\n\nDateFormat df1 = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\");\n//nowAsISO = \"2013-05-31T00:00:00Z\";\nDate finalResult = df1.parse(nowAsISO);\n\nSystem.out.println(finalResult);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1528407610,"creation_date":1396975717,"answer_id":22943361,"question_id":3914404,"body_markdown":"# Joda-Time\r\n\r\n**Update:** The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. For Java 6 &amp; 7, see the [*ThreeTen-Backport*][1] project, further adapted for Android in the [*ThreeTenABP*][2] project.\r\n\r\nUsing the [Joda-Time][3] library…\r\n\r\n    String output = new DateTime( DateTimeZone.UTC ).toString() ;\r\n\r\nThis is thread-safe. Joda-Time creates new [immutable objects][4] rather than changing existing objects.\r\n\r\nIf you truly intended to ask for a format without seconds, resolving to minutes, then use one of the many other built-in formatters in Joda-Time.\r\n\r\n    DateTime now = new DateTime( DateTimeZone.UTC ) ;\r\n    String output = ISODateTimeFormat.dateHourMinute.print( now ) ;\r\n\r\n# java.time\r\n\r\nFor Java 8 and later, Joda-Time continues to work. But the built-in [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework supplants Joda-Time. So migrate your code from Joda-Time to java.time as soon as is convenient.\r\n\r\nSee [my other Answer](https://stackoverflow.com/a/50184308/642706) for a modern solution.\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://www.threeten.org/threetenbp/\r\n  [2]: https://github.com/JakeWharton/ThreeTenABP\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: http://en.m.wikipedia.org/wiki/Immutable_object\r\n  [5]: https://stackoverflow.com/users/893578/sheepy","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>Joda-Time</h1>\n\n<p><strong>Update:</strong> The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. For Java 6 &amp; 7, see the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Backport</em></a> project, further adapted for Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em>ThreeTenABP</em></a> project.</p>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> library…</p>\n\n<pre><code>String output = new DateTime( DateTimeZone.UTC ).toString() ;\n</code></pre>\n\n<p>This is thread-safe. Joda-Time creates new <a href=\"http://en.m.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a> rather than changing existing objects.</p>\n\n<p>If you truly intended to ask for a format without seconds, resolving to minutes, then use one of the many other built-in formatters in Joda-Time.</p>\n\n<pre><code>DateTime now = new DateTime( DateTimeZone.UTC ) ;\nString output = ISODateTimeFormat.dateHourMinute.print( now ) ;\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>For Java 8 and later, Joda-Time continues to work. But the built-in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework supplants Joda-Time. So migrate your code from Joda-Time to java.time as soon as is convenient.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/50184308/642706\">my other Answer</a> for a modern solution.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":11,"creation_date":1455745876,"post_id":29626123,"comment_id":58632619,"body_markdown":"Good answer. Notice the good habit of *explicitly* specifying a time zone rather than relying implicitly on the JVM’s current default time zone. You may specify [a particular time zone](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) if desired, such as `ZoneId.of( &quot;America/Montreal&quot; )`.","body":"Good answer. Notice the good habit of <i>explicitly</i> specifying a time zone rather than relying implicitly on the JVM’s current default time zone. You may specify <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">a particular time zone</a> if desired, such as <code>ZoneId.of( &quot;America&#47;Montreal&quot; )</code>."},{"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"score":3,"creation_date":1510065541,"post_id":29626123,"comment_id":81270611,"body_markdown":"Instant allows to format it in ISO 8601 format by just calling .toString() method:\n`return DateTimeFormatter.ISO_INSTANT.format(this);`","body":"Instant allows to format it in ISO 8601 format by just calling .toString() method: <code>return DateTimeFormatter.ISO_INSTANT.format(this);</code>"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1522757933,"post_id":29626123,"comment_id":86266560,"body_markdown":"This is best because you avoid the default.","body":"This is best because you avoid the default."},{"owner":{"account_id":4265224,"reputation":325,"user_id":3488499,"accept_rate":71,"display_name":"jurgen"},"score":9,"creation_date":1532465841,"post_id":29626123,"comment_id":89983877,"body_markdown":"Warning: The solution for Java 8 using ISO_INSTANT has an annoying quirk. When the milliseconds happen to be 0 they are not included in the output. This is allowed according to the ISO 8601 standard but many libraries and parsers in other languages are not that forgiving. If it is necessary to always include the zeros use this instead: DateTimeFormatter ISO_8601 = ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;).withZone(UTC);","body":"Warning: The solution for Java 8 using ISO_INSTANT has an annoying quirk. When the milliseconds happen to be 0 they are not included in the output. This is allowed according to the ISO 8601 standard but many libraries and parsers in other languages are not that forgiving. If it is necessary to always include the zeros use this instead: DateTimeFormatter ISO_8601 = ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;).withZone(UTC);"},{"owner":{"account_id":2296998,"reputation":1114,"user_id":2018219,"accept_rate":10,"display_name":"DanielM"},"score":2,"creation_date":1579778971,"post_id":29626123,"comment_id":105884654,"body_markdown":"After switching from Java 8 to 11, I see `DateTimeFormatter.ISO_INSTANT` and `DateTimeFormatter.ISO_DATE_TIME` using 6 digits after the seconds, as opposed to 3, which is no longer picked up by Spring&#39;s `@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)`.","body":"After switching from Java 8 to 11, I see <code>DateTimeFormatter.ISO_INSTANT</code> and <code>DateTimeFormatter.ISO_DATE_TIME</code> using 6 digits after the seconds, as opposed to 3, which is no longer picked up by Spring&#39;s <code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)</code>."}],"tags":[],"owner":{"account_id":480372,"reputation":17424,"user_id":893578,"display_name":"Sheepy"},"comment_count":5,"down_vote_count":2,"up_vote_count":264,"is_accepted":false,"score":262,"last_activity_date":1524562241,"creation_date":1429010817,"answer_id":29626123,"question_id":3914404,"body_markdown":"# Java 8 Native\r\n\r\n[java.time][1] makes it simple since Java 8.  And thread safe.\r\n\r\n    ZonedDateTime.now( ZoneOffset.UTC ).format( DateTimeFormatter.ISO_INSTANT )\r\n\r\nResult: `2015-04-14T11:07:36.639Z`\r\n\r\n&gt; You may be tempted to use lighter `Temporal` such as `Instant` or `LocalDateTime`,\r\n&gt; but they lacks formatter support or time zone data.\r\n&gt; Only `ZonedDateTime` works out of the box.\r\n\r\nBy tuning or chaining the options / operations of [ZonedDateTime][2] and [DateTimeFormatter][3], you can easily control the [timezone][4] and [precision][5], to a certain degree:\r\n\r\n    ZonedDateTime.now( ZoneId.of( &quot;Europe/Paris&quot; ) )\r\n                 .truncatedTo( ChronoUnit.MINUTES )\r\n                 .format( DateTimeFormatter.ISO_DATE_TIME )\r\n \r\nResult: `2015-04-14T11:07:00+01:00[Europe/Paris]`\r\n\r\nRefined requirements, such as removing the seconds part, must still be served by custom formats or custom post process.\r\n\r\n    .format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ) // 2015-04-14T11:07:00\r\n    .format( DateTimeFormatter.ISO_LOCAL_DATE ) // 2015-04-14\r\n    .format( DateTimeFormatter.ISO_LOCAL_TIME ) // 11:07:00\r\n    .format( DateTimeFormatter.ofPattern( &quot;yyyy-MM-dd HH:mm&quot; ) ) // 2015-04-14 11:07\r\n\r\n&gt; For Java 6 &amp; 7, you may consider back-ports of java.time such as [ThreeTen-Backport][6], which also has an [Android port][7].\r\n&gt; Both are lighter than Joda, and has learned from Joda&#39;s [experience][8] - esp. considering that java.time is designed by Joda&#39;s author.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\r\n  [6]: http://www.threeten.org/threetenbp/\r\n  [7]: https://github.com/JakeWharton/ThreeTenABP\r\n  [8]: http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>Java 8 Native</h1>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> makes it simple since Java 8.  And thread safe.</p>\n\n<pre><code>ZonedDateTime.now( ZoneOffset.UTC ).format( DateTimeFormatter.ISO_INSTANT )\n</code></pre>\n\n<p>Result: <code>2015-04-14T11:07:36.639Z</code></p>\n\n<blockquote>\n  <p>You may be tempted to use lighter <code>Temporal</code> such as <code>Instant</code> or <code>LocalDateTime</code>,\n  but they lacks formatter support or time zone data.\n  Only <code>ZonedDateTime</code> works out of the box.</p>\n</blockquote>\n\n<p>By tuning or chaining the options / operations of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\">ZonedDateTime</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">DateTimeFormatter</a>, you can easily control the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\">timezone</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"noreferrer\">precision</a>, to a certain degree:</p>\n\n<pre><code>ZonedDateTime.now( ZoneId.of( \"Europe/Paris\" ) )\n             .truncatedTo( ChronoUnit.MINUTES )\n             .format( DateTimeFormatter.ISO_DATE_TIME )\n</code></pre>\n\n<p>Result: <code>2015-04-14T11:07:00+01:00[Europe/Paris]</code></p>\n\n<p>Refined requirements, such as removing the seconds part, must still be served by custom formats or custom post process.</p>\n\n<pre><code>.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ) // 2015-04-14T11:07:00\n.format( DateTimeFormatter.ISO_LOCAL_DATE ) // 2015-04-14\n.format( DateTimeFormatter.ISO_LOCAL_TIME ) // 11:07:00\n.format( DateTimeFormatter.ofPattern( \"yyyy-MM-dd HH:mm\" ) ) // 2015-04-14 11:07\n</code></pre>\n\n<blockquote>\n  <p>For Java 6 &amp; 7, you may consider back-ports of java.time such as <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a>, which also has an <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">Android port</a>.\n  Both are lighter than Joda, and has learned from Joda's <a href=\"http://blog.joda.org/2009/11/why-jsr-310-isn-joda-time_4941.html\" rel=\"noreferrer\">experience</a> - esp. considering that java.time is designed by Joda's author.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":24,"creation_date":1525706873,"post_id":33218689,"comment_id":87452246,"body_markdown":"This is the right answer, and it&#39;s a scandal that it hasn&#39;t been upvoted higher over all these concocted `SimpleDateFormats`.","body":"This is the right answer, and it&#39;s a scandal that it hasn&#39;t been upvoted higher over all these concocted <code>SimpleDateFormats</code>."},{"owner":{"account_id":5177003,"reputation":2721,"user_id":4821032,"accept_rate":71,"display_name":"Xan-Kun Clark-Davis"},"score":0,"creation_date":1580140911,"post_id":33218689,"comment_id":105991248,"body_markdown":"Glad I read more answers. I agree, this should be the answer now.","body":"Glad I read more answers. I agree, this should be the answer now."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1582670975,"post_id":33218689,"comment_id":106856322,"body_markdown":"And because it&#39;s `toString`, in many cases you won&#39;t even need to call it explicitly.","body":"And because it&#39;s <code>toString</code>, in many cases you won&#39;t even need to call it explicitly."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":1,"creation_date":1582747756,"post_id":33218689,"comment_id":106888078,"body_markdown":"Warning in a comment on a previous answer applies here too: &quot;Warning: The solution for Java 8 using ISO_INSTANT has an annoying quirk. When the milliseconds happen to be 0 they are not included in the output. This is allowed according to the ISO 8601 standard but many libraries and parsers in other languages are not that forgiving.&quot;","body":"Warning in a comment on a previous answer applies here too: &quot;Warning: The solution for Java 8 using ISO_INSTANT has an annoying quirk. When the milliseconds happen to be 0 they are not included in the output. This is allowed according to the ISO 8601 standard but many libraries and parsers in other languages are not that forgiving.&quot;"},{"owner":{"account_id":9306319,"reputation":3644,"user_id":6909914,"display_name":"Paolo"},"score":0,"creation_date":1644600054,"post_id":33218689,"comment_id":125657819,"body_markdown":"i would like to add that Date has a .toInstant()\nso something like: \n\nfinal Date expirationTime = new Date(System.currentTimeMillis() + SecurityConstants.EXPIRATION_TIME);\n\nexpirationTime.toInstant().toString() //outputs &quot;2022-02-21T17:19:54.667Z&quot;","body":"i would like to add that Date has a .toInstant() so something like:   final Date expirationTime = new Date(System.currentTimeMillis() + SecurityConstants.EXPIRATION_TIME);  expirationTime.toInstant().toString() //outputs &quot;2022-02-21T17:19:54.667Z&quot;"},{"owner":{"account_id":1264519,"reputation":717,"user_id":1222122,"accept_rate":100,"display_name":"Gillfish"},"score":0,"creation_date":1651185321,"post_id":33218689,"comment_id":127310632,"body_markdown":"Basil Bourque&#39;s answer is an improvement on this one in that it shows how to easily truncate the time to only include hours and minutes, which is what the OP asked for.","body":"Basil Bourque&#39;s answer is an improvement on this one in that it shows how to easily truncate the time to only include hours and minutes, which is what the OP asked for."}],"tags":[],"owner":{"account_id":6562321,"reputation":2171,"user_id":5073022,"display_name":"Владимир Зайцев"},"comment_count":6,"down_vote_count":0,"up_vote_count":207,"is_accepted":false,"score":207,"last_activity_date":1525706820,"creation_date":1445269516,"answer_id":33218689,"question_id":3914404,"body_markdown":"As of Java 8 you can simply do:\r\n\r\n    Instant.now().toString();\r\n\r\nFrom the [`java.time.Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) docs:\r\n\r\n&gt; #### [now](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--)\r\n&gt;\r\n&gt; ---\r\n&gt; \r\n&gt; `public static Instant now()`\r\n&gt;\r\n&gt; Obtains the current instant from the system clock.\r\n&gt;\r\n&gt; This will query the [system UTC clock](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--) to obtain the current instant.\r\n\r\n&amp;nbsp;\r\n\r\n&gt; #### [toString](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString)\r\n&gt;\r\n&gt; ---\r\n&gt;\r\n&gt; `public String toString()`\r\n&gt;\r\n&gt; A string representation of this instant using ISO-8601 representation.\r\n&gt;\r\n&gt; The format used is the same as [`DateTimeFormatter.ISO_INSTANT`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT).","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>As of Java 8 you can simply do:</p>\n\n<pre><code>Instant.now().toString();\n</code></pre>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>java.time.Instant</code></a> docs:</p>\n\n<blockquote>\n  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\" rel=\"noreferrer\">now</a>\n  \n  <hr>\n  \n  <p><code>public static Instant now()</code></p>\n  \n  <p>Obtains the current instant from the system clock.</p>\n  \n  <p>This will query the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\" rel=\"noreferrer\">system UTC clock</a> to obtain the current instant.</p>\n</blockquote>\n\n<p>&nbsp;</p>\n\n<blockquote>\n  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString\" rel=\"noreferrer\">toString</a>\n  \n  <hr>\n  \n  <p><code>public String toString()</code></p>\n  \n  <p>A string representation of this instant using ISO-8601 representation.</p>\n  \n  <p>The format used is the same as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"noreferrer\"><code>DateTimeFormatter.ISO_INSTANT</code></a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1446674685,"creation_date":1446674685,"answer_id":33532945,"question_id":3914404,"body_markdown":"You could use Java&#39;s [SimpleDateFormat][1] with the following pattern **`yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX`** for ISO 8601.\r\n\r\n&gt; **Sample Code:** (lists out for all the available time zones)\r\n\r\n    for (String timeZone : TimeZone.getAvailableIDs())\r\n    {\r\n    \tDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n    \tdateFormat.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n    \tString formatted = dateFormat.format(new Date());\r\n    \tSystem.out.print(formatted);\r\n    \r\n    \tif (formatted.endsWith(&quot;Z&quot;))\r\n    \t{\r\n    \t\t// These time zone&#39;s have offset of &#39;0&#39; from GMT.\r\n    \t\tSystem.out.print(&quot;\\t(&quot; + timeZone + &quot;)&quot;);\r\n    \t}\r\n    \r\n    \tSystem.out.println();\r\n    }\r\n\r\nYou could use:\r\n\r\n&gt; TimeZone.getDefault()\r\n\r\nfor the default vm timezone. More [here][2]\r\n\r\nYou might notice the date time for few time zones that end with `&#39;Z&#39;`. These time zones have offset of `&#39;0&#39;` from GMT.\r\n\r\nMore info can be found [here][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getDefault--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#iso8601timezone","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>You could use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a> with the following pattern <strong><code>yyyy-MM-dd'T'HH:mm:ssXXX</code></strong> for ISO 8601.</p>\n\n<blockquote>\n  <p><strong>Sample Code:</strong> (lists out for all the available time zones)</p>\n</blockquote>\n\n<pre><code>for (String timeZone : TimeZone.getAvailableIDs())\n{\n    DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssXXX\");\n    dateFormat.setTimeZone(TimeZone.getTimeZone(timeZone));\n    String formatted = dateFormat.format(new Date());\n    System.out.print(formatted);\n\n    if (formatted.endsWith(\"Z\"))\n    {\n        // These time zone's have offset of '0' from GMT.\n        System.out.print(\"\\t(\" + timeZone + \")\");\n    }\n\n    System.out.println();\n}\n</code></pre>\n\n<p>You could use:</p>\n\n<blockquote>\n  <p>TimeZone.getDefault()</p>\n</blockquote>\n\n<p>for the default vm timezone. More <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getDefault--\" rel=\"noreferrer\">here</a></p>\n\n<p>You might notice the date time for few time zones that end with <code>'Z'</code>. These time zones have offset of <code>'0'</code> from GMT.</p>\n\n<p>More info can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html#iso8601timezone\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3132928,"reputation":67,"user_id":2650151,"accept_rate":100,"display_name":"jo&#227;o tiago viegas"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449585877,"creation_date":1449585877,"answer_id":34158749,"question_id":3914404,"body_markdown":"Still, joda-time does only support the extended format:\r\n&quot;2015-12-09T00:22:42.930Z&quot;\r\nnot the basic:\r\n&quot;20151209T002242.930Z&quot;\r\n...we might be better off testing a list of formats with java SimpleDateFormat.","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>Still, joda-time does only support the extended format:\n\"2015-12-09T00:22:42.930Z\"\nnot the basic:\n\"20151209T002242.930Z\"\n...we might be better off testing a list of formats with java SimpleDateFormat.</p>\n"},{"tags":[],"owner":{"account_id":5030019,"reputation":362,"user_id":4040544,"display_name":"Gerardo Suarez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498235757,"creation_date":1498235444,"answer_id":44726166,"question_id":3914404,"body_markdown":"I did it in Android using Calendar and SimpleDateFormat. The following method returns a Calendar with the &quot;GMT&quot; TimeZone (This is the universal time zone). Then you can use the Calendar class to set the hour between differents time zones, using the method setTimeZone() of the Calendar class.\r\n\r\n\r\n    private static final String GMT = &quot;GMT&quot;;\r\n    private static final String DATE_FORMAT_ISO = &quot;yyyyMMdd&#39;T&#39;HHmmss&quot;;\r\n\r\n    public static Calendar isoToCalendar(final String inputDate) {\r\n        Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(GMT));\r\n        try {\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT_ISO, Locale.US);\r\n            dateFormat.setTimeZone(TimeZone.getTimeZone(GMT));\r\n            Date date = dateFormat.parse(inputDate);\r\n            calendar.setTime(date);\r\n        } catch (ParseException e) {\r\n            Log.e(&quot;TAG&quot;,e.getMessage());\r\n        }\r\n        return calendar;\r\n    }\r\n\r\nREMEMBER: \r\nThe Date class doesn&#39;t know about the TimeZone existence. By this reason, if you debug one date,you always see the date for your current timezone.","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>I did it in Android using Calendar and SimpleDateFormat. The following method returns a Calendar with the \"GMT\" TimeZone (This is the universal time zone). Then you can use the Calendar class to set the hour between differents time zones, using the method setTimeZone() of the Calendar class.</p>\n\n<pre><code>private static final String GMT = \"GMT\";\nprivate static final String DATE_FORMAT_ISO = \"yyyyMMdd'T'HHmmss\";\n\npublic static Calendar isoToCalendar(final String inputDate) {\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(GMT));\n    try {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_FORMAT_ISO, Locale.US);\n        dateFormat.setTimeZone(TimeZone.getTimeZone(GMT));\n        Date date = dateFormat.parse(inputDate);\n        calendar.setTime(date);\n    } catch (ParseException e) {\n        Log.e(\"TAG\",e.getMessage());\n    }\n    return calendar;\n}\n</code></pre>\n\n<p>REMEMBER: \nThe Date class doesn't know about the TimeZone existence. By this reason, if you debug one date,you always see the date for your current timezone.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1510746344,"post_id":46117108,"comment_id":81563343,"body_markdown":"If you want the current time, there’s no need to go through an old-fashioned `Date` object. Just do `Instant.now().toString()`. If you got a `Date` from a legacy API, your method is the best one.","body":"If you want the current time, there’s no need to go through an old-fashioned <code>Date</code> object. Just do <code>Instant.now().toString()</code>. If you got a <code>Date</code> from a legacy API, your method is the best one."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523392187,"post_id":46117108,"comment_id":86540166,"body_markdown":"As Ole V.V. commented, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"As Ole V.V. commented, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":1457300,"reputation":1699,"user_id":1372570,"display_name":"Tuncay G&#246;nc&#252;oğlu"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1504875462,"creation_date":1504875462,"answer_id":46117108,"question_id":3914404,"body_markdown":"I do believe the easiest way is to first go to instant and then to string like: \r\n\r\n    String d = new Date().toInstant().toString();\r\n\r\nWhich will result in:\r\n\r\n`2017-09-08T12:56:45.331Z`","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>I do believe the easiest way is to first go to instant and then to string like: </p>\n\n<pre><code>String d = new Date().toInstant().toString();\n</code></pre>\n\n<p>Which will result in:</p>\n\n<p><code>2017-09-08T12:56:45.331Z</code></p>\n"},{"tags":[],"owner":{"account_id":186063,"reputation":17556,"user_id":423171,"accept_rate":83,"display_name":"cprcrack"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1506583581,"creation_date":1506583581,"answer_id":46463299,"question_id":3914404,"body_markdown":"\r\n    private static String getCurrentDateIso()\r\n    {\r\n        // Returns the current date with the same format as Javascript&#39;s new Date().toJSON(), ISO 8601\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.US);\r\n        dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        return dateFormat.format(new Date());\r\n    }","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<pre><code>private static String getCurrentDateIso()\n{\n    // Returns the current date with the same format as Javascript's new Date().toJSON(), ISO 8601\n    DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", Locale.US);\n    dateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    return dateFormat.format(new Date());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522759138,"creation_date":1522759138,"answer_id":49630317,"question_id":3914404,"body_markdown":"They should have added some kind of simple way to go from Date to Instant and also a method called `toISO8601`, which is what a lot of people are looking for.\r\nAs a complement to other answers, from a java.util.Date to ISO 8601 format:\r\n\r\n    Instant.ofEpochMilli(date.getTime()).toString();\r\n\r\nIt is not really visible when using auto-completion but:\r\n`java.time.Instant.toString()`: \r\n&gt; A string representation of this instant using ISO-8601\r\n\r\n\r\n","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>They should have added some kind of simple way to go from Date to Instant and also a method called <code>toISO8601</code>, which is what a lot of people are looking for.\nAs a complement to other answers, from a java.util.Date to ISO 8601 format:</p>\n\n<pre><code>Instant.ofEpochMilli(date.getTime()).toString();\n</code></pre>\n\n<p>It is not really visible when using auto-completion but:\n<code>java.time.Instant.toString()</code>: </p>\n\n<blockquote>\n  <p>A string representation of this instant using ISO-8601</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":8950231,"reputation":2567,"user_id":6676466,"accept_rate":67,"display_name":"Vishal Chhodwani"},"score":0,"creation_date":1524806032,"post_id":50054631,"comment_id":87127746,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}],"tags":[],"owner":{"account_id":3948842,"reputation":682,"user_id":3260199,"display_name":"apen"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524798519,"creation_date":1524798519,"answer_id":50054631,"question_id":3914404,"body_markdown":"    DateTimeFormatter.ISO_DATE_TIME\r\n            .withZone(ZoneOffset.UTC)\r\n            .format(yourDateObject.toInstant())","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<pre><code>DateTimeFormatter.ISO_DATE_TIME\n        .withZone(ZoneOffset.UTC)\n        .format(yourDateObject.toInstant())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1525476975,"creation_date":1525476975,"answer_id":50184308,"question_id":3914404,"body_markdown":"# tl;dr\r\n\r\nSome of the other Answers are correct in recommending *java.time* classes but go about using unnecessary lengths for your specific needs.\r\n\r\n    Instant.now()                               // Capture the current moment in UTC with a resolution as fines nanoseconds but usually in microseconds or milliseconds.\r\n           .truncatedTo( ChronoUnit.MINUTES )   // Lop off any seconds or fractional second, to get a value in whole minutes.\r\n           .toString()                          // Generate a String in standard ISO 8601 format where a `T` separates the year-month-day from the hour-minute-second, and the `Z` on the end for “Zulu” means UTC.\r\n\r\n&gt;2018-01-23T12:34Z\r\n\r\n# `Instant::toString`\r\n\r\nThe `jav.time.Instant` class represents a moment in UTC, always in UTC. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\n&gt;instant.toString(): 2018-01-23T12:34:56.123456Z\r\n\r\nThe `Z` on the end of your example string `2010-10-12T08:50Z` is pronounced “Zulu” and means [UTC][1]. \r\n\r\nYour desired format happens to comply with the [ISO 8601][2] standard. The *java.time* classes use these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern. Just call [`Instant::toString`][3] as seen above.\r\n\r\nIf you specifically want whole minutes without second or fractional second, then truncate. Specify a unit of time via `ChronoUnit` class.\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MINUTES ) ;\r\n    String output = instant.toString();  // Generate a `String` object in standard ISO 8601 format.\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html#toString()","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>tl;dr</h1>\n\n<p>Some of the other Answers are correct in recommending <em>java.time</em> classes but go about using unnecessary lengths for your specific needs.</p>\n\n<pre><code>Instant.now()                               // Capture the current moment in UTC with a resolution as fines nanoseconds but usually in microseconds or milliseconds.\n       .truncatedTo( ChronoUnit.MINUTES )   // Lop off any seconds or fractional second, to get a value in whole minutes.\n       .toString()                          // Generate a String in standard ISO 8601 format where a `T` separates the year-month-day from the hour-minute-second, and the `Z` on the end for “Zulu” means UTC.\n</code></pre>\n\n<blockquote>\n  <p>2018-01-23T12:34Z</p>\n</blockquote>\n\n<h1><code>Instant::toString</code></h1>\n\n<p>The <code>jav.time.Instant</code> class represents a moment in UTC, always in UTC. </p>\n\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n\n<blockquote>\n  <p>instant.toString(): 2018-01-23T12:34:56.123456Z</p>\n</blockquote>\n\n<p>The <code>Z</code> on the end of your example string <code>2010-10-12T08:50Z</code> is pronounced “Zulu” and means <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. </p>\n\n<p>Your desired format happens to comply with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> standard. The <em>java.time</em> classes use these standard formats by default when parsing/generating strings. So no need to specify a formatting pattern. Just call <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html#toString()\" rel=\"noreferrer\"><code>Instant::toString</code></a> as seen above.</p>\n\n<p>If you specifically want whole minutes without second or fractional second, then truncate. Specify a unit of time via <code>ChronoUnit</code> class.</p>\n\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MINUTES ) ;\nString output = instant.toString();  // Generate a `String` object in standard ISO 8601 format.\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":7286383,"reputation":49,"user_id":5554326,"display_name":"Anton Rybochkin"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1571327977,"creation_date":1571327977,"answer_id":58436603,"question_id":3914404,"body_markdown":"If you care about performance, I created a [library](https://github.com/axibase/date-processor) which outperforms standard Java parser and formatter in manipulating with ISO8601-formatted dates. DatetimeProcessor implementations are thread-safe and can be cached in a concurrent map or static fields.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.axibase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;date-processor&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nimport com.axibase.date.DatetimeProcessor;\r\nimport com.axibase.date.PatternResolver;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport java.time.Clock;\r\nimport java.time.Instant;\r\nimport java.time.ZoneId;\r\nimport java.time.ZoneOffset;\r\n\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.core.Is.is;\r\n\r\npublic class DateFormatTest {\r\n    private Clock clock;\r\n\r\n    @Before\r\n    public void prepare() {\r\n        clock = Clock.fixed(Instant.ofEpochMilli(1571285405300L), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testIsoMillis(){\r\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(&quot;iso&quot;);\r\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(&quot;2019-10-17T04:10:05.300Z&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testIsoMillisLocalZone(){\r\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(&quot;iso&quot;);\r\n        assertThat(formatter.print(clock.millis(), clock.getZone()), is(&quot;2019-10-17T06:10:05.300+02:00&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void testIsoMinutes(){\r\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(&quot;yyyy-MM-ddTHH:mmXXX&quot;);\r\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(&quot;2019-10-17T04:10Z&quot;));\r\n    }\r\n}\r\n\r\n```","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>If you care about performance, I created a <a href=\"https://github.com/axibase/date-processor\" rel=\"nofollow noreferrer\">library</a> which outperforms standard Java parser and formatter in manipulating with ISO8601-formatted dates. DatetimeProcessor implementations are thread-safe and can be cached in a concurrent map or static fields.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.axibase&lt;/groupId&gt;\n  &lt;artifactId&gt;date-processor&lt;/artifactId&gt;\n  &lt;version&gt;1.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.axibase.date.DatetimeProcessor;\nimport com.axibase.date.PatternResolver;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.time.Clock;\nimport java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.core.Is.is;\n\npublic class DateFormatTest {\n    private Clock clock;\n\n    @Before\n    public void prepare() {\n        clock = Clock.fixed(Instant.ofEpochMilli(1571285405300L), ZoneId.of(\"Europe/Berlin\"));\n    }\n\n    @Test\n    public void testIsoMillis(){\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(\"iso\");\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(\"2019-10-17T04:10:05.300Z\"));\n    }\n\n    @Test\n    public void testIsoMillisLocalZone(){\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(\"iso\");\n        assertThat(formatter.print(clock.millis(), clock.getZone()), is(\"2019-10-17T06:10:05.300+02:00\"));\n    }\n\n    @Test\n    public void testIsoMinutes(){\n        final DatetimeProcessor formatter = PatternResolver.createNewFormatter(\"yyyy-MM-ddTHH:mmXXX\");\n        assertThat(formatter.print(clock.millis(), ZoneOffset.UTC), is(\"2019-10-17T04:10Z\"));\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18958915,"reputation":1102,"user_id":13834895,"display_name":"Andrew Chelix"},"score":0,"creation_date":1640900961,"post_id":70537012,"comment_id":124688473,"body_markdown":"This solution eliminates the problem caused by multiple time zones.","body":"This solution eliminates the problem caused by multiple time zones."}],"tags":[],"owner":{"account_id":18958915,"reputation":1102,"user_id":13834895,"display_name":"Andrew Chelix"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640900786,"creation_date":1640900786,"answer_id":70537012,"question_id":3914404,"body_markdown":"For those using **Joda Time**, here&#39;s a one-liner in the format yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;\r\n``` kotlin\r\nDateTime(timeInMillis, DateTimeZone.UTC).toString(ISODateTimeFormat.dateTimeNoMillis())\r\n```\r\n","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>For those using <strong>Joda Time</strong>, here's a one-liner in the format yyyy-MM-dd'T'HH:mm:ss'Z'</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>DateTime(timeInMillis, DateTimeZone.UTC).toString(ISODateTimeFormat.dateTimeNoMillis())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679825049,"creation_date":1679825049,"answer_id":75847045,"question_id":3914404,"body_markdown":"# Java 8+\r\n\r\nIf you are still using `SimpleDateFormat` with new `Instant` API, it will not work. Use `DateTimeFormatter` instead.\r\n\r\n```\r\nInstant ts = Instant.now();\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.000&#39;Z&#39;&quot;)\r\n                .withZone(ZoneId.systemDefault());\r\nString output = formatter.format(ts);\r\n```","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<h1>Java 8+</h1>\n<p>If you are still using <code>SimpleDateFormat</code> with new <code>Instant</code> API, it will not work. Use <code>DateTimeFormatter</code> instead.</p>\n<pre><code>Instant ts = Instant.now();\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.000'Z'&quot;)\n                .withZone(ZoneId.systemDefault());\nString output = formatter.format(ts);\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532038,"favorite_count":0,"down_vote_count":1,"up_vote_count":418,"accepted_answer_id":3914498,"answer_count":24,"score":417,"last_activity_date":1679825049,"creation_date":1286884844,"question_id":3914404,"body_markdown":"What is the most elegant way to get [ISO 8601](http://en.wikipedia.org/wiki/ISO_8601) formatted presentation of the current moment, UTC? It should look like: `2010-10-12T08:50Z`.\r\n\r\nExample: \r\n\r\n```\r\nString d = DateFormat.getDateTimeInstance(DateFormat.ISO_8601).format(date);\r\n```","title":"How to get current moment in ISO 8601 format with date, hour, and minute?","body":"<p>What is the most elegant way to get <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formatted presentation of the current moment, UTC? It should look like: <code>2010-10-12T08:50Z</code>.</p>\n<p>Example:</p>\n<pre><code>String d = DateFormat.getDateTimeInstance(DateFormat.ISO_8601).format(date);\n</code></pre>\n"},{"tags":["java","android","spotify"],"owner":{"account_id":28055050,"reputation":3,"user_id":21430227,"display_name":"Devil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679824975,"creation_date":1679820863,"question_id":75846753,"body_markdown":"in my application ive been trying to make my app able to pause or resume spotify music playback as i command it. And i found this but it isnt working out . can anybody help me with it.\r\n\r\n```\r\nIntent intent = new \r\nIntent(&quot;com.spotify.mobile.android.ui.widget.PLAY&quot;);\r\n   intent.putExtra(&quot;paused&quot;,false);\r\n   intent.setPackage(&quot;com.spotify.music&quot;);\r\n   sendBroadcast(intent);\r\n```\r\n\r\ni tried this but it didn&#39;t work. setpackage works since its able to open spotify but the INTENT ACTION i dont think it works.\r\n\r\nEDIT.\r\nIntent(&quot;com.spotify.mobile.android.ui.widget.NEXT&quot;);\r\ncan change the song to next but pause or play doest work.","title":"How to make a application pause spotify playback on command programmatically","body":"<p>in my application ive been trying to make my app able to pause or resume spotify music playback as i command it. And i found this but it isnt working out . can anybody help me with it.</p>\n<pre><code>Intent intent = new \nIntent(&quot;com.spotify.mobile.android.ui.widget.PLAY&quot;);\n   intent.putExtra(&quot;paused&quot;,false);\n   intent.setPackage(&quot;com.spotify.music&quot;);\n   sendBroadcast(intent);\n</code></pre>\n<p>i tried this but it didn't work. setpackage works since its able to open spotify but the INTENT ACTION i dont think it works.</p>\n<p>EDIT.\nIntent(&quot;com.spotify.mobile.android.ui.widget.NEXT&quot;);\ncan change the song to next but pause or play doest work.</p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1679824834,"post_id":75846984,"comment_id":133786775,"body_markdown":"Oh god How did I miss that!. Yes I should&#39;ve made the Builder class generic.","body":"Oh god How did I miss that!. Yes I should&#39;ve made the Builder class generic."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679824443,"creation_date":1679824443,"answer_id":75846984,"question_id":75846922,"body_markdown":"For a generic class, lombok will generate a *generic* builder class. After all, how would the builder know what type parameters the type it is building has, otherwise? The builder class is static, so it can&#39;t access the type parameter declared in the outer class.\r\n\r\nAs you probably know, if you declare the builder class with the matching name yourself, lombok will not generate the builder class again, and would directly inject the builder methods into the class you wrote.\r\n\r\nHowever, since your class is not generic, it fails to compile when Lombok generates methods that have a `T` in it.\r\n\r\nIntelliJ also seems to be confused about the `elementClazz(SomeClass.class)` call, since `elementClazz` is supposed to take a `Class&lt;T&gt;`, but `T` doesn&#39;t exist since the builder isn&#39;t generic. Therefore, it seems to think that `T` is not `SomeClass` but some other random type, giving you the error you see.\r\n\r\nIn short, just make the builder class generic:\r\n\r\n    public static class GenericClassBuilder&lt;T&gt; {\r\n        public GenericClassBuilder&lt;T&gt; strings(Collection&lt;String&gt; strs) {\r\n            // ...","title":"Syntax error for lombok Generic class , builder pattern and custom setter","body":"<p>For a generic class, lombok will generate a <em>generic</em> builder class. After all, how would the builder know what type parameters the type it is building has, otherwise? The builder class is static, so it can't access the type parameter declared in the outer class.</p>\n<p>As you probably know, if you declare the builder class with the matching name yourself, lombok will not generate the builder class again, and would directly inject the builder methods into the class you wrote.</p>\n<p>However, since your class is not generic, it fails to compile when Lombok generates methods that have a <code>T</code> in it.</p>\n<p>IntelliJ also seems to be confused about the <code>elementClazz(SomeClass.class)</code> call, since <code>elementClazz</code> is supposed to take a <code>Class&lt;T&gt;</code>, but <code>T</code> doesn't exist since the builder isn't generic. Therefore, it seems to think that <code>T</code> is not <code>SomeClass</code> but some other random type, giving you the error you see.</p>\n<p>In short, just make the builder class generic:</p>\n<pre><code>public static class GenericClassBuilder&lt;T&gt; {\n    public GenericClassBuilder&lt;T&gt; strings(Collection&lt;String&gt; strs) {\n        // ...\n</code></pre>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846984,"answer_count":1,"score":0,"last_activity_date":1679824443,"creation_date":1679823542,"question_id":75846922,"body_markdown":"Following are the set of classes.\r\n\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class GenericClass&lt;T&gt; {\r\n    \r\n        //Omitted other attributes for brevity.\r\n    \r\n        private Class&lt;T&gt; elementClazz;\r\n    \r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n        private Class&lt;? extends Collection&gt; collectionClazz;\r\n    \r\n        private Collection&lt;String&gt; strings;\r\n    \r\n    \r\n        /*BUILDER*/\r\n        public static class GenericClassBuilder {\r\n            public GenericClassBuilder strings(Collection&lt;String&gt; strs) {\r\n                if (strs == null)\r\n                    strs = Collections.emptyList();\r\n                this.strings = strs;\r\n                return this;\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n    @Data\r\n    class SomeClass {\r\n        private int number;\r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            GenericClass.&lt;SomeClass&gt;builder().elementClazz(SomeClass.class).collectionClazz(List.class).build();\r\n        }\r\n    }\r\n\r\n\r\nBut I see syntax error in `.elementClazz(SomeClass.class)`. However this goes away if I remove the custom setter method in builder class.\r\n\r\nHow do I make this work?\r\n","title":"Syntax error for lombok Generic class , builder pattern and custom setter","body":"<p>Following are the set of classes.</p>\n<pre><code>import lombok.Builder;\nimport lombok.Data;\n\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\n\n@Data\n@Builder\npublic class GenericClass&lt;T&gt; {\n\n    //Omitted other attributes for brevity.\n\n    private Class&lt;T&gt; elementClazz;\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    private Class&lt;? extends Collection&gt; collectionClazz;\n\n    private Collection&lt;String&gt; strings;\n\n\n    /*BUILDER*/\n    public static class GenericClassBuilder {\n        public GenericClassBuilder strings(Collection&lt;String&gt; strs) {\n            if (strs == null)\n                strs = Collections.emptyList();\n            this.strings = strs;\n            return this;\n        }\n    }\n\n\n}\n\n@Data\nclass SomeClass {\n    private int number;\n}\n\nclass Main {\n    public static void main(String[] args) {\n        GenericClass.&lt;SomeClass&gt;builder().elementClazz(SomeClass.class).collectionClazz(List.class).build();\n    }\n}\n</code></pre>\n<p>But I see syntax error in <code>.elementClazz(SomeClass.class)</code>. However this goes away if I remove the custom setter method in builder class.</p>\n<p>How do I make this work?</p>\n"},{"tags":["java","spring","spring-boot","error-handling","spring-restcontroller"],"comments":[{"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"score":0,"creation_date":1690713936,"post_id":75823252,"comment_id":135389234,"body_markdown":"@Ranjan it isn&#39;t relevant to my question","body":"@Ranjan it isn&#39;t relevant to my question"},{"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"score":0,"creation_date":1690777986,"post_id":75823252,"comment_id":135395120,"body_markdown":"Sorry, Instead of adding in another question. I added the comment here. Please Ignore.","body":"Sorry, Instead of adding in another question. I added the comment here. Please Ignore."}],"owner":{"account_id":16296427,"reputation":5,"user_id":12376717,"display_name":"Jmeter Tea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679824225,"creation_date":1679576010,"question_id":75823252,"body_markdown":"When I call my API with non numeric value as % Spring reject the request with 400 http status code\r\n\r\n     @RestController\r\n     public Controller {\r\n         @PostMapping\r\n         public MyDto api(@RequestBody API request) {\r\n         }\r\n     }\r\n\r\n     @Data\r\n     public class API { \r\n           private Integer limit;\r\n     }\r\n\r\nFor example sending:\r\n\r\n    POST http:\\\\localhost\r\n    Content-Type: application/json\r\n    \r\n     { &quot;limit&quot;: &quot;%%&quot; }\r\n\r\nHow can I control the Exception and handle it in my code? for example make limit get null value instead of rejecting request? Must I change limit to String and convert it to Integer in code?","title":"Handle non numeric value in rest controller endpoint","body":"<p>When I call my API with non numeric value as % Spring reject the request with 400 http status code</p>\n<pre><code> @RestController\n public Controller {\n     @PostMapping\n     public MyDto api(@RequestBody API request) {\n     }\n }\n\n @Data\n public class API { \n       private Integer limit;\n }\n</code></pre>\n<p>For example sending:</p>\n<pre><code>POST http:\\\\localhost\nContent-Type: application/json\n\n { &quot;limit&quot;: &quot;%%&quot; }\n</code></pre>\n<p>How can I control the Exception and handle it in my code? for example make limit get null value instead of rejecting request? Must I change limit to String and convert it to Integer in code?</p>\n"},{"tags":["java","cmd","ansi-escape","jline","jansi"],"answers":[{"tags":[],"owner":{"account_id":5656033,"reputation":431,"user_id":4923239,"display_name":"MrZoraman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432194483,"creation_date":1432194483,"answer_id":30367641,"question_id":30365817,"body_markdown":"I&#39;ve found a solution! Here&#39;s what it looks like jansi requires in order to change between dark and light colors. For example:\r\n\r\n`Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).boldOff().toString()` Dark Purple\r\n`Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).bold().toString()` Light Purple\r\n\r\nAnd so on...","title":"How do I get ANSI bright colors to work in the windows cmd?","body":"<p>I've found a solution! Here's what it looks like jansi requires in order to change between dark and light colors. For example:</p>\n\n<p><code>Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).boldOff().toString()</code> Dark Purple\n<code>Ansi.ansi().a(Attribute.RESET).fg(Ansi.Color.MAGENTA).bold().toString()</code> Light Purple</p>\n\n<p>And so on...</p>\n"}],"owner":{"account_id":5656033,"reputation":431,"user_id":4923239,"display_name":"MrZoraman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679824142,"creation_date":1432188658,"question_id":30365817,"body_markdown":"I am using java, the jline library and jansi. I have regular colors working just fine, either using `\\u001B[32m` for example, or `Ansi.ansi().fg(Ansi.Color.GREEN)`.\r\n\r\nHowever, I cannot seem to get the bright set of colors working. I&#39;ve tried both `\\u001B[92m` or `Ansi.ansi().fgBright(Ansi.Color.GREEN)`.\r\n\r\nWhen I try to use bright colors, I don&#39;t see anything strange show up in the console, but the color does not change.\r\n\r\n\r\nAdditional Info:\r\n\r\n- I&#39;m on a preview build of windows 10, but I&#39;ve tried my code on windows server 2012 R2. \r\n\r\n- jansi says that ansi is both detected and enabled.\r\n\r\n- Issuing `AnsiConsole.systemInstall();` at the beginning does not fix my issue.\r\n\r\n\r\nOne final note: my goal is to be multiplatform.","title":"How do I get ANSI bright colors to work in the windows cmd?","body":"<p>I am using java, the jline library and jansi. I have regular colors working just fine, either using <code>\\u001B[32m</code> for example, or <code>Ansi.ansi().fg(Ansi.Color.GREEN)</code>.</p>\n\n<p>However, I cannot seem to get the bright set of colors working. I've tried both <code>\\u001B[92m</code> or <code>Ansi.ansi().fgBright(Ansi.Color.GREEN)</code>.</p>\n\n<p>When I try to use bright colors, I don't see anything strange show up in the console, but the color does not change.</p>\n\n<p>Additional Info:</p>\n\n<ul>\n<li><p>I'm on a preview build of windows 10, but I've tried my code on windows server 2012 R2. </p></li>\n<li><p>jansi says that ansi is both detected and enabled.</p></li>\n<li><p>Issuing <code>AnsiConsole.systemInstall();</code> at the beginning does not fix my issue.</p></li>\n</ul>\n\n<p>One final note: my goal is to be multiplatform.</p>\n"},{"tags":["java","c","inputstream","ansi-c","server-communication"],"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":2,"creation_date":1387394809,"post_id":20666671,"comment_id":30943796,"body_markdown":"I know you said you can&#39;t use it, but _why_ can&#39;t you close the socket on the server?  If you&#39;re not willing to close it, doesn&#39;t that mean that you&#39;re going to send something else later? And if that&#39;s the case, then Java should still be able to read, right?","body":"I know you said you can&#39;t use it, but <i>why</i> can&#39;t you close the socket on the server?  If you&#39;re not willing to close it, doesn&#39;t that mean that you&#39;re going to send something else later? And if that&#39;s the case, then Java should still be able to read, right?"},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":0,"creation_date":1387395316,"post_id":20666671,"comment_id":30944105,"body_markdown":"You&#39;ll probably want to figure out ahead of time how many bytes you&#39;re going to send, and prefix your data with that number so that the client can determine when to stop reading.  It&#39;s like the [`Content-Length` header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13) in HTTP.","body":"You&#39;ll probably want to figure out ahead of time how many bytes you&#39;re going to send, and prefix your data with that number so that the client can determine when to stop reading.  It&#39;s like the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.13\" rel=\"nofollow noreferrer\"><code>Content-Length</code> header</a> in HTTP."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387395725,"post_id":20666671,"comment_id":30944359,"body_markdown":"If you need to send distinct &quot;messages&quot; over a TCP connection, that&#39;s an application-level concern that you have to implement and handle yourself. TCP doesn&#39;t really concern itself with that. (UDP does but its unreliability likely makes it unsuitable for your use case. I.e. not media streaming or P2P.)","body":"If you need to send distinct &quot;messages&quot; over a TCP connection, that&#39;s an application-level concern that you have to implement and handle yourself. TCP doesn&#39;t really concern itself with that. (UDP does but its unreliability likely makes it unsuitable for your use case. I.e. not media streaming or P2P.)"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1387395790,"post_id":20666671,"comment_id":30944407,"body_markdown":"Now, unless this is a school assignment, what I&#39;d do is get some sort of messaging middleware that *does* handle this. The simplest one I can think of that works across C and Java is probably [0MQ](http://zeromq.org). If your use case is text-based, you could also do what HTTP does where an empty line signifies the end of request headers – you&#39;d have to make sure to flush the socket explicitly after sending the message of course. When the client receives a blank line, it will go and do something else, then get back to the socket later.","body":"Now, unless this is a school assignment, what I&#39;d do is get some sort of messaging middleware that <i>does</i> handle this. The simplest one I can think of that works across C and Java is probably <a href=\"http://zeromq.org\" rel=\"nofollow noreferrer\">0MQ</a>. If your use case is text-based, you could also do what HTTP does where an empty line signifies the end of request headers – you&#39;d have to make sure to flush the socket explicitly after sending the message of course. When the client receives a blank line, it will go and do something else, then get back to the socket later."}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1387398022,"post_id":20666838,"comment_id":30945706,"body_markdown":"+1 The only thing the reciver knows is the end of the stream.  If you want it to know about &quot;messages&quot; you need to add a protocol to do this. e.g. send a 4 byte length before each message so it knows how much to reads.","body":"+1 The only thing the reciver knows is the end of the stream.  If you want it to know about &quot;messages&quot; you need to add a protocol to do this. e.g. send a 4 byte length before each message so it knows how much to reads."},{"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"score":0,"creation_date":1387719344,"post_id":20666838,"comment_id":31058218,"body_markdown":"Now I firstly send a number of lines of file, then lines themselves and client read as many times as the number says. Thanks","body":"Now I firstly send a number of lines of file, then lines themselves and client read as many times as the number says. Thanks"}],"tags":[],"owner":{"account_id":408053,"reputation":730,"user_id":778483,"display_name":"MischaNix"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1387395220,"creation_date":1387395220,"answer_id":20666838,"question_id":20666671,"body_markdown":"If you want to send intermittent data over the same TCP socket, you&#39;ll need to encode the boundaries of the information you&#39;re sending within the data you&#39;re sending.  An example of this is to send &quot;packets&quot; of data with a length-prefix, so that the receiver of a packet will read as many bytes off the socket as the length-prefix says to.","title":"How to determine end of read","body":"<p>If you want to send intermittent data over the same TCP socket, you'll need to encode the boundaries of the information you're sending within the data you're sending.  An example of this is to send \"packets\" of data with a length-prefix, so that the receiver of a packet will read as many bytes off the socket as the length-prefix says to.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387398273,"creation_date":1387398273,"answer_id":20667692,"question_id":20666671,"body_markdown":"You have two problems with your reader.  You assume you will always read a full buffer.  You cannot assume this unless you only read one byte at a time.  You also assume you will always read whole multi-byte characters, this is unlikely to be true unless you never use multi-byte characters.  \r\n\r\nSince you are writing text I suggest you send new lines between messages and read the stream as text.\r\n\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(\r\n                            Client.getCl().getInputStream(), &quot;UTF-8&quot;));\r\n    for(String line; (line = br.readLine()) != null; ) {\r\n        // process a whole line of text at once. e.g.\r\n        System.out.println(line);\r\n    }\r\n\r\nThis will decode the text, read whole lines and handle any multi-byte characters.\r\n","title":"How to determine end of read","body":"<p>You have two problems with your reader.  You assume you will always read a full buffer.  You cannot assume this unless you only read one byte at a time.  You also assume you will always read whole multi-byte characters, this is unlikely to be true unless you never use multi-byte characters.  </p>\n\n<p>Since you are writing text I suggest you send new lines between messages and read the stream as text.</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(\n                        Client.getCl().getInputStream(), \"UTF-8\"));\nfor(String line; (line = br.readLine()) != null; ) {\n    // process a whole line of text at once. e.g.\n    System.out.println(line);\n}\n</code></pre>\n\n<p>This will decode the text, read whole lines and handle any multi-byte characters.</p>\n"}],"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20666838,"answer_count":2,"score":3,"last_activity_date":1679823605,"creation_date":1387394593,"question_id":20666671,"body_markdown":"I have simple C server and Java client. I&#39;m sending text file line by line from server to client:\r\n\r\n\t\tdo {\r\n\t\t\tsend(sockfd, line, strlen(line), 0);\r\n\t\t\tprintf(&quot;%s\\n&quot;, line);\r\n\t\t} while ((fgets(line, 100, fp)) != NULL);  \r\n\r\nand read it in Java client with:  \r\n\r\n  \t\tClient.getCl().getInputStream().read(inmsg);\r\n  \t\tdo{\t  \t\t\t\r\n  \t\t\t decoded = new String(inmsg, &quot;UTF-8&quot;);\r\n\t\t\t System.out.println(decoded);\r\n  \t\t}while(Client.getCl().getInputStream().read(inmsg) &gt; 0);  \r\n\r\nMy problem is that I don&#39;t know how to send &quot;end of read&quot; from server to client. The client freezes on last read. I know that methode `read()` returns integer with number of recieving bytes and -1 when there is nothing to read and 0 when the length of buffer is zero. The only solution which returned -1 to client was to close socket on server side, but I can&#39;t use that. Also I&#39;ve tried following:  \r\n1) Send 0 length at the end of sending method to tell client, that length is zero:  \r\n\r\n    send(sockfd, NULL, NULL, 0);  \r\n2) Define flags and send:  \r\n\r\n    #define MSG_FIN 0x200\r\n    #define MSG_EOR 0x0080\r\n\r\nand again with both flags:  \r\n\r\n     send(sockfd, NULL, NULL, MSG_FIN);\r\n     send(sockfd, NULL, NULL, MSG_EOR);  \r\n\r\nAnyone please help what am I doing wrong here? Thanks","title":"How to determine end of read","body":"<p>I have simple C server and Java client. I'm sending text file line by line from server to client:</p>\n\n<pre><code>    do {\n        send(sockfd, line, strlen(line), 0);\n        printf(\"%s\\n\", line);\n    } while ((fgets(line, 100, fp)) != NULL);  \n</code></pre>\n\n<p>and read it in Java client with:  </p>\n\n<pre><code>    Client.getCl().getInputStream().read(inmsg);\n    do{             \n         decoded = new String(inmsg, \"UTF-8\");\n         System.out.println(decoded);\n    }while(Client.getCl().getInputStream().read(inmsg) &gt; 0);  \n</code></pre>\n\n<p>My problem is that I don't know how to send \"end of read\" from server to client. The client freezes on last read. I know that methode <code>read()</code> returns integer with number of recieving bytes and -1 when there is nothing to read and 0 when the length of buffer is zero. The only solution which returned -1 to client was to close socket on server side, but I can't use that. Also I've tried following:<br>\n1) Send 0 length at the end of sending method to tell client, that length is zero:  </p>\n\n<pre><code>send(sockfd, NULL, NULL, 0);  \n</code></pre>\n\n<p>2) Define flags and send:  </p>\n\n<pre><code>#define MSG_FIN 0x200\n#define MSG_EOR 0x0080\n</code></pre>\n\n<p>and again with both flags:  </p>\n\n<pre><code> send(sockfd, NULL, NULL, MSG_FIN);\n send(sockfd, NULL, NULL, MSG_EOR);  \n</code></pre>\n\n<p>Anyone please help what am I doing wrong here? Thanks</p>\n"},{"tags":["java","jsch","ansi-escape","vt100"],"comments":[{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1407442470,"post_id":25189651,"comment_id":39228374,"body_markdown":"A side comment that I have created an Expect-like library that supports filtering out the input, such as ANSI control characters, out-of-the-box. Could give it a try. Link: https://github.com/Alexey1Gavrilov/expectit","body":"A side comment that I have created an Expect-like library that supports filtering out the input, such as ANSI control characters, out-of-the-box. Could give it a try. Link: <a href=\"https://github.com/Alexey1Gavrilov/expectit\" rel=\"nofollow noreferrer\">github.com/Alexey1Gavrilov/expectit</a>"},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1407443690,"post_id":25189651,"comment_id":39228949,"body_markdown":"hey, I will surely take a look on that! it&#39;s apache 2 license, is it ok if I copy a snippet of your code and add to my solution?","body":"hey, I will surely take a look on that! it&#39;s apache 2 license, is it ok if I copy a snippet of your code and add to my solution?"},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":0,"creation_date":1407444108,"post_id":25189651,"comment_id":39229143,"body_markdown":"Sure! It is Apache 2 :-). If you have any feedback post a message to the google group: https://groups.google.com/forum/#!forum/java-expectit .","body":"Sure! It is Apache 2 :-). If you have any feedback post a message to the google group: <a href=\"https://groups.google.com/forum/#!forum/java-expectit\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!forum/java-expectit</a> ."},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1407452623,"post_id":25189651,"comment_id":39232472,"body_markdown":"I&#39;ve been working with expectJ for a year, only because the alternatives could not deal with expect interact(). I&#39;ve saw your solution briefly but it looks like a big improvement, full of interesting ideas. I wonder if the new closure syntax will allow java developers to have an even more powerful expect implementation. Thanks a bunch!","body":"I&#39;ve been working with expectJ for a year, only because the alternatives could not deal with expect interact(). I&#39;ve saw your solution briefly but it looks like a big improvement, full of interesting ideas. I wonder if the new closure syntax will allow java developers to have an even more powerful expect implementation. Thanks a bunch!"},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1407479947,"post_id":25189651,"comment_id":39239338,"body_markdown":"thanks. I have created GitHub issues to add support for interact() method and Java 8 lambdas.","body":"thanks. I have created GitHub issues to add support for interact() method and Java 8 lambdas."},{"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"score":1,"creation_date":1437728465,"post_id":25189651,"comment_id":51162916,"body_markdown":"here is a working example of the ExpectIt interact support: https://github.com/Alexey1Gavrilov/ExpectIt/blob/master/expect-java8/src/main/java/net/sf/expectit/java8/Java8Example.java","body":"here is a working example of the ExpectIt interact support: <a href=\"https://github.com/Alexey1Gavrilov/ExpectIt/blob/master/expect-java8/src/main/java/net/sf/expectit/java8/Java8Example.java\" rel=\"nofollow noreferrer\">github.com/Alexey1Gavrilov/ExpectIt/blob/master/expect-java8&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":154948,"reputation":42791,"user_id":371250,"display_name":"ninjalj"},"score":1,"creation_date":1407438270,"post_id":25189932,"comment_id":39226058,"body_markdown":"The format of Control Sequences is specified in section 5.4 of the ECMA-48 standard, which is freely available (at least the 5th edition, dated June 1991).","body":"The format of Control Sequences is specified in section 5.4 of the ECMA-48 standard, which is freely available (at least the 5th edition, dated June 1991)."},{"owner":{"account_id":154948,"reputation":42791,"user_id":371250,"display_name":"ninjalj"},"score":1,"creation_date":1407438481,"post_id":25189932,"comment_id":39226184,"body_markdown":"And it&#39;s basically `(\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]`","body":"And it&#39;s basically <code>(\\x1b\\x5b|\\x9b)[\\x30-\\x3f]*[\\x20-\\x2f]*[\\x40-\\x7e]</code>"},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1662142407,"post_id":25189932,"comment_id":129945965,"body_markdown":"most, but not all","body":"most, but not all"}],"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1407437257,"creation_date":1407437257,"answer_id":25189932,"question_id":25189651,"body_markdown":"Most ANSI VT100 sequences have the format `ESC` `[`, optionally followed by a number or by two numbers separated by `;`, followed by some character that is not a digit or `;`.  So something like\r\n\r\n    reply = reply.replaceAll(&quot;\\u001B\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);\r\n\r\nor \r\n\r\n    reply = reply.replaceAll(&quot;\\\\e\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);  // \\e matches escape character\r\n\r\nshould catch most of them, I think.  There may be other cases that you could add individually. (I have not tested this.)\r\n\r\nSome of the alternatives in the regex you posted start with `\\\\[`, rather than the escape character, which may mean that you could be deleting some text you&#39;re not supposed to delete, or deleting part of a control sequence but leaving the ESC character in.","title":"How to remove ANSI control chars (VT100) from a Java String","body":"<p>Most ANSI VT100 sequences have the format <code>ESC</code> <code>[</code>, optionally followed by a number or by two numbers separated by <code>;</code>, followed by some character that is not a digit or <code>;</code>.  So something like</p>\n\n<pre><code>reply = reply.replaceAll(\"\\u001B\\\\[[\\\\d;]*[^\\\\d;]\",\"\");\n</code></pre>\n\n<p>or </p>\n\n<pre><code>reply = reply.replaceAll(\"\\\\e\\\\[[\\\\d;]*[^\\\\d;]\",\"\");  // \\e matches escape character\n</code></pre>\n\n<p>should catch most of them, I think.  There may be other cases that you could add individually. (I have not tested this.)</p>\n\n<p>Some of the alternatives in the regex you posted start with <code>\\\\[</code>, rather than the escape character, which may mean that you could be deleting some text you're not supposed to delete, or deleting part of a control sequence but leaving the ESC character in.</p>\n"}],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5082,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25189932,"answer_count":1,"score":6,"last_activity_date":1679823517,"creation_date":1407436356,"question_id":25189651,"body_markdown":"I am working with automation and using Jsch to connect to remote boxes and automate some tasks.\r\n\r\nI am having problem parsing the command results because sometimes they come with [ANSI Control chars][1].\r\n\r\nI&#39;ve already saw [this answer][2] and [this other one][3] but it does not provide any library to do that. I don&#39;t want to reinvent the wheel, if there is any. And I don&#39;t feel confident with those answers.\r\n\r\nRight now, I am trying this, but I am not really sure it&#39;s complete enough.\r\n\r\n    reply = reply.replaceAll(&quot;\\\\[..;..[m]|\\\\[.{0,2}[m]|\\\\(Page \\\\d+\\\\)|\\u001B\\\\[[K]|\\u001B|\\u000F&quot;, &quot;&quot;);\r\n\r\nHow to remove ANSI control chars (VT100) from a Java String?\r\n\r\n  [1]: http://www.termsys.demon.co.uk/vtansi.htm\r\n  [2]: https://stackoverflow.com/questions/7205837/how-to-remove-colors-etc-from-ssh-output\r\n  [3]: https://unix.stackexchange.com/questions/14684/removing-control-chars-including-console-codes-colours-from-script-output","title":"How to remove ANSI control chars (VT100) from a Java String","body":"<p>I am working with automation and using Jsch to connect to remote boxes and automate some tasks.</p>\n\n<p>I am having problem parsing the command results because sometimes they come with <a href=\"http://www.termsys.demon.co.uk/vtansi.htm\" rel=\"nofollow noreferrer\">ANSI Control chars</a>.</p>\n\n<p>I've already saw <a href=\"https://stackoverflow.com/questions/7205837/how-to-remove-colors-etc-from-ssh-output\">this answer</a> and <a href=\"https://unix.stackexchange.com/questions/14684/removing-control-chars-including-console-codes-colours-from-script-output\">this other one</a> but it does not provide any library to do that. I don't want to reinvent the wheel, if there is any. And I don't feel confident with those answers.</p>\n\n<p>Right now, I am trying this, but I am not really sure it's complete enough.</p>\n\n<pre><code>reply = reply.replaceAll(\"\\\\[..;..[m]|\\\\[.{0,2}[m]|\\\\(Page \\\\d+\\\\)|\\u001B\\\\[[K]|\\u001B|\\u000F\", \"\");\n</code></pre>\n\n<p>How to remove ANSI control chars (VT100) from a Java String?</p>\n"},{"tags":["java","c","sockets","ansi-c"],"comments":[{"owner":{"account_id":21062,"reputation":18735,"user_id":50902,"accept_rate":100,"display_name":"kmkaplan"},"score":0,"creation_date":1357827933,"post_id":14260043,"comment_id":19791371,"body_markdown":"Do you have sender side code?","body":"Do you have sender side code?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1357827948,"post_id":14260043,"comment_id":19791378,"body_markdown":"I don&#39;t see how this happens as you are not getting `-1` for EOF either I assume. What are you getting, an Exception?","body":"I don&#39;t see how this happens as you are not getting <code>-1</code> for EOF either I assume. What are you getting, an Exception?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1357828040,"post_id":14260043,"comment_id":19791429,"body_markdown":"Did you set the size of the socket&#39;s receive buffer?","body":"Did you set the size of the socket&#39;s receive buffer?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":2,"creation_date":1357828045,"post_id":14260043,"comment_id":19791432,"body_markdown":"Not the main problem, but your loop skips the last byte, use `while(pos &lt; length)`","body":"Not the main problem, but your loop skips the last byte, use <code>while(pos &lt; length)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393623,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357827977,"creation_date":1357827977,"answer_id":14260118,"question_id":14260043,"body_markdown":"What do you mean it &quot;goes wrong&quot;? What is the output? It can&#39;t be exiting the loop before reading the full 64 KB, so what really happens?\r\n\r\nAlso, it&#39;s better to save the return value of the I/O call separately and inspect it, before assuming the I/O was successful. If that&#39;s &lt;code&gt;[DataInputStream.read()][1]&lt;/code&gt;, it returns -1 on error.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#read%28byte%5B%5D%29","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>What do you mean it \"goes wrong\"? What is the output? It can't be exiting the loop before reading the full 64 KB, so what really happens?</p>\n\n<p>Also, it's better to save the return value of the I/O call separately and inspect it, before assuming the I/O was successful. If that's <code><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/DataInputStream.html#read%28byte%5B%5D%29\" rel=\"nofollow\">DataInputStream.read()</a></code>, it returns -1 on error.</p>\n"},{"tags":[],"owner":{"display_name":"user195488"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357828138,"creation_date":1357828138,"answer_id":14260168,"question_id":14260043,"body_markdown":"`InputStream.read()` returns the number of bytes read or -1 if the end of the stream has been reached. You need to check for that error condition. Also, I suspect your `while(..)` loop is the problem. Why are you calling it `pos` as in position? You may be terminating prematurely. Also, ensure that your C code, whatever it is doing, is sending properly. You can examine the network traffic with a tool like [Wireshark][1] to be sure.\r\n\r\n\r\n  [1]: http://www.wireshark.org/","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p><code>InputStream.read()</code> returns the number of bytes read or -1 if the end of the stream has been reached. You need to check for that error condition. Also, I suspect your <code>while(..)</code> loop is the problem. Why are you calling it <code>pos</code> as in position? You may be terminating prematurely. Also, ensure that your C code, whatever it is doing, is sending properly. You can examine the network traffic with a tool like <a href=\"http://www.wireshark.org/\" rel=\"nofollow\">Wireshark</a> to be sure.</p>\n"},{"tags":[],"owner":{"account_id":2166167,"reputation":1645,"user_id":1919251,"display_name":"parsifal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1410423890,"creation_date":1357828166,"answer_id":14260180,"question_id":14260043,"body_markdown":"This is yet another case where [Jakarta Commons IOUtils](http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html) is a better choice than writing it yourself. It&#39;s one line of code, and it&#39;s fully tested. I recommend `IOUtils.readFully()` in this case.\r\n\r\nIf it does not read the entire buffer, then you know that you&#39;re not sending all the content. Perhaps you&#39;re missing a flush on the server side.","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>This is yet another case where <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html\" rel=\"nofollow\">Jakarta Commons IOUtils</a> is a better choice than writing it yourself. It's one line of code, and it's fully tested. I recommend <code>IOUtils.readFully()</code> in this case.</p>\n\n<p>If it does not read the entire buffer, then you know that you're not sending all the content. Perhaps you're missing a flush on the server side.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357851383,"creation_date":1357851383,"answer_id":14267127,"question_id":14260043,"body_markdown":"Your code is incorrect as it doesn&#39;t check for -1.\r\n\r\nThis is a case for using DataInputStream.readFully() rather than coding it yourself and getting it wrong.","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>Your code is incorrect as it doesn't check for -1.</p>\n\n<p>This is a case for using DataInputStream.readFully() rather than coding it yourself and getting it wrong.</p>\n"}],"owner":{"account_id":2215803,"reputation":470,"user_id":1956445,"accept_rate":50,"display_name":"Eernie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14260180,"answer_count":4,"score":4,"last_activity_date":1679823407,"creation_date":1357827761,"question_id":14260043,"body_markdown":"I&#39;m making a Server that gets packages at 64 kb size. \r\n\r\n            int length = 65536;\r\n            byte[] bytes = new byte[length];\r\n\r\n            int pos = 0;\r\n            while(pos &lt; length -1)\r\n            {\r\n                System.out.println(&quot;Before read&quot;);\r\n                pos += dis.read(bytes, pos, length-pos);\r\n                System.out.println(&quot;&quot;+pos+&quot; &gt;&gt; &quot;+ length);\r\n            }\r\n\r\nThis is the code I use to read all bytes from the socket. `Dis` is a `InputStream`. \r\nWhen I run the code 1 out of n goes wrong. The code only receives 52964 bytes instead of `65536` bytes.\r\n\r\nI also checked the C code and it says it send `65536` bytes.\r\n\r\nDoes someone know what I&#39;m doing wrong?","title":"Read all bytes from socket Stops at 52964 bytes","body":"<p>I'm making a Server that gets packages at 64 kb size. </p>\n\n<pre><code>        int length = 65536;\n        byte[] bytes = new byte[length];\n\n        int pos = 0;\n        while(pos &lt; length -1)\n        {\n            System.out.println(\"Before read\");\n            pos += dis.read(bytes, pos, length-pos);\n            System.out.println(\"\"+pos+\" &gt;&gt; \"+ length);\n        }\n</code></pre>\n\n<p>This is the code I use to read all bytes from the socket. <code>Dis</code> is a <code>InputStream</code>. \nWhen I run the code 1 out of n goes wrong. The code only receives 52964 bytes instead of <code>65536</code> bytes.</p>\n\n<p>I also checked the C code and it says it send <code>65536</code> bytes.</p>\n\n<p>Does someone know what I'm doing wrong?</p>\n"},{"tags":["java","android","animation","background","switch-statement"],"owner":{"account_id":26501094,"reputation":1,"user_id":20138025,"display_name":"Georgie2295"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679822963,"creation_date":1679822963,"question_id":75846888,"body_markdown":"I need your help please. \r\nI made a simple TicTacToe app and I displayed on the background an animation using PNG sequences. --&gt;until here all good. \r\n\r\nI want to implement the option that when the player press start again to display a new background animation. \r\n\r\nI have tried to use an intent and to duplicate the layout and java files  to make them  switch  by pressing a button-it did not work, the game is restarting  on the same layout. \r\nI now try to  add the 2nd animation to MainActivity.java where is also the 1st one but I am not sure  how  to make the connection. \r\n\r\n\r\nAny guidance is much appreciated!\r\n\r\nI have tried to use an intent, created new xml layout with the 2nd background and when clicking the start again button the 1st background was still displayed. \r\nI have tried to modify the MainActivity.java and now I am stuck, I have duplicated the code from the 1st background and made the modification accordingly for the 2nd background but I cannot find a way to make them switch when start again button is pressed. ","title":"Switch animations in Android Studio","body":"<p>I need your help please.\nI made a simple TicTacToe app and I displayed on the background an animation using PNG sequences. --&gt;until here all good.</p>\n<p>I want to implement the option that when the player press start again to display a new background animation.</p>\n<p>I have tried to use an intent and to duplicate the layout and java files  to make them  switch  by pressing a button-it did not work, the game is restarting  on the same layout.\nI now try to  add the 2nd animation to MainActivity.java where is also the 1st one but I am not sure  how  to make the connection.</p>\n<p>Any guidance is much appreciated!</p>\n<p>I have tried to use an intent, created new xml layout with the 2nd background and when clicking the start again button the 1st background was still displayed.\nI have tried to modify the MainActivity.java and now I am stuck, I have duplicated the code from the 1st background and made the modification accordingly for the 2nd background but I cannot find a way to make them switch when start again button is pressed.</p>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1655574917,"post_id":72670746,"comment_id":128366286,"body_markdown":"You are exposing your personal numbers here.. Please blur it out before posting it in SO","body":"You are exposing your personal numbers here.. Please blur it out before posting it in SO"},{"owner":{"account_id":19585129,"reputation":164,"user_id":14333417,"display_name":"Muhammad Farhan Arif"},"score":0,"creation_date":1655621078,"post_id":72670746,"comment_id":128371904,"body_markdown":"There is no issue in your webpage. Actually you&#39;ve to change your website. Which framework and language you&#39;ve used for website? I&#39;ve done such work in Laravel php.","body":"There is no issue in your webpage. Actually you&#39;ve to change your website. Which framework and language you&#39;ve used for website? I&#39;ve done such work in Laravel php."},{"owner":{"account_id":22688352,"reputation":11,"user_id":16857615,"display_name":"Syed Shahrose"},"score":0,"creation_date":1655661993,"post_id":72670746,"comment_id":128379606,"body_markdown":"@MuhammadFarhanArif Website is developed in Laravel PHP.\nNow tell me how I can solve it.","body":"@MuhammadFarhanArif Website is developed in Laravel PHP. Now tell me how I can solve it."}],"answers":[{"comments":[{"owner":{"account_id":22688352,"reputation":11,"user_id":16857615,"display_name":"Syed Shahrose"},"score":0,"creation_date":1655662807,"post_id":72672028,"comment_id":128379802,"body_markdown":"I appreciate your time, tried this also but still not solved.","body":"I appreciate your time, tried this also but still not solved."},{"owner":{"account_id":24812977,"reputation":46,"user_id":18694180,"display_name":"SamilYT"},"score":0,"creation_date":1655663077,"post_id":72672028,"comment_id":128379860,"body_markdown":"@SyedShahrose then check it&#39;s link entered ok","body":"@SyedShahrose then check it&#39;s link entered ok"}],"tags":[],"owner":{"account_id":24812977,"reputation":46,"user_id":18694180,"display_name":"SamilYT"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655579419,"creation_date":1655579419,"answer_id":72672028,"question_id":72670746,"body_markdown":"try to add this, i&#39;m not sure it&#39;s will work for that page but when i&#39;m using webview i always enable all to be sure\r\n```\r\nwebSettings.setLoadsImagesAutomatically(true);\r\nwebSettings.setDatabaseEnabled(true);\r\nwebSettings.setDomStorageEnabled(true);\r\nwebSettings.setJavaScriptEnabled(true);\r\nwebSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n\r\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\r\n    webSettings.setAllowFileAccessFromFileURLs(true);\r\n    webSettings.setAllowUniversalAccessFromFileURLs(true);\r\n}\r\n```","title":"WebView Failure","body":"<p>try to add this, i'm not sure it's will work for that page but when i'm using webview i always enable all to be sure</p>\n<pre><code>webSettings.setLoadsImagesAutomatically(true);\nwebSettings.setDatabaseEnabled(true);\nwebSettings.setDomStorageEnabled(true);\nwebSettings.setJavaScriptEnabled(true);\nwebSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN) {\n    webSettings.setAllowFileAccessFromFileURLs(true);\n    webSettings.setAllowUniversalAccessFromFileURLs(true);\n}\n</code></pre>\n"}],"owner":{"account_id":22688352,"reputation":11,"user_id":16857615,"display_name":"Syed Shahrose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679822356,"creation_date":1655568264,"question_id":72670746,"body_markdown":"I have created a WebView of this website https://smartfix.pk/ but in my app, WhatsApp is not working,\r\nwhen I click it gives me the error \r\n\r\n![enter image description here][1] \r\n \r\n [1]: https://i.stack.imgur.com/Vd6iS.png\r\n\r\n&gt; webpage at whatsapp://send/?phone=923005475032&amp;text=Hello%2C%20I%20have%20a%20question%20about%20SmartFix%20Services could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME\r\n\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView web;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        web = findViewById(R.id.webView);\r\n        WebSettings webSettings = web.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        web.setWebViewClient(new Callback());\r\n        web.loadUrl(&quot;https://smartfix.pk/&quot;);\r\n    }\r\n\r\n\r\n    private class Callback extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideKeyEvent(WebView view, KeyEvent event) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n","title":"WebView Failure","body":"<p>I have created a WebView of this website <a href=\"https://smartfix.pk/\" rel=\"nofollow noreferrer\">https://smartfix.pk/</a> but in my app, WhatsApp is not working,\nwhen I click it gives me the error</p>\n<p><img src=\"https://i.stack.imgur.com/Vd6iS.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p>webpage at whatsapp://send/?phone=923005475032&amp;text=Hello%2C%20I%20have%20a%20question%20about%20SmartFix%20Services could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME</p>\n</blockquote>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    WebView web;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        web = findViewById(R.id.webView);\n        WebSettings webSettings = web.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        web.setWebViewClient(new Callback());\n        web.loadUrl(&quot;https://smartfix.pk/&quot;);\n    }\n\n\n    private class Callback extends WebViewClient {\n        @Override\n        public boolean shouldOverrideKeyEvent(WebView view, KeyEvent event) {\n            return false;\n        }\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","sql-server"],"answers":[{"comments":[{"owner":{"account_id":418292,"reputation":7066,"user_id":794764,"accept_rate":80,"display_name":"Oybek"},"score":1,"creation_date":1329312311,"post_id":9294177,"comment_id":11721026,"body_markdown":"Just to exemplify the following will work `insert into YourTable (dateColumn) values (&#39;20121121 16:00:00&#39;)`","body":"Just to exemplify the following will work <code>insert into YourTable (dateColumn) values (&#39;20121121 16:00:00&#39;)</code>"},{"owner":{"account_id":13638,"reputation":424863,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"score":0,"creation_date":1329312646,"post_id":9294177,"comment_id":11721125,"body_markdown":"@Oybek: That is non-ISO and legacy SQL Server standard. See the link,","body":"@Oybek: That is non-ISO and legacy SQL Server standard. See the link,"}],"tags":[],"owner":{"account_id":13638,"reputation":424863,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329312305,"creation_date":1329311962,"answer_id":9294177,"question_id":9294100,"body_markdown":"[Use an ISO or ODBC date format][1] for all values. &lt;br&gt;\r\nOr the legacy SQL Server `yyymmdd hh:nn:ss`\r\n\r\n`MM/dd/yyyy` is not safe, neither are the the constants you gave for UPD_DT and ULDT_CRE_DT\r\n\r\n\r\n    &#39;19980223 14:23:05&#39;\r\n    {ts &#39;1998-02-23 14:23:05&#39;}\r\n    {d &#39;1998-02-23&#39;}\r\n    &#39;1998-02-23T14:23:05&#39;\r\n\r\nAnd have you heard of SQL Injection, often caused by building SQL commands with string concatenation\r\n\r\n\r\n  [1]: http://www.karaszi.com/SQLServer/info_datetime.asp#DtFormatsInput","title":"Conversion failed when converting date and/or time from character string","body":"<p><a href=\"http://www.karaszi.com/SQLServer/info_datetime.asp#DtFormatsInput\" rel=\"nofollow\">Use an ISO or ODBC date format</a> for all values. <br>\nOr the legacy SQL Server <code>yyymmdd hh:nn:ss</code></p>\n\n<p><code>MM/dd/yyyy</code> is not safe, neither are the the constants you gave for UPD_DT and ULDT_CRE_DT</p>\n\n<pre><code>'19980223 14:23:05'\n{ts '1998-02-23 14:23:05'}\n{d '1998-02-23'}\n'1998-02-23T14:23:05'\n</code></pre>\n\n<p>And have you heard of SQL Injection, often caused by building SQL commands with string concatenation</p>\n"},{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329311984,"creation_date":1329311984,"answer_id":9294182,"question_id":9294100,"body_markdown":"your date1 object will be formatted using the standard `toString()` representation of `java.lang.Date`, which is unlikely to be compatible with the various date formats supported by your JDBC drivers.\r\n\r\nRather use another SimpleDateFormat object to format `date1` into your SQL Server default date format before appending it to your query.\r\n\r\nAlso, do yourself a favour and read up on PreparedStatements and paramaterised queries; they really make this sort of stuff easier.","title":"Conversion failed when converting date and/or time from character string","body":"<p>your date1 object will be formatted using the standard <code>toString()</code> representation of <code>java.lang.Date</code>, which is unlikely to be compatible with the various date formats supported by your JDBC drivers.</p>\n\n<p>Rather use another SimpleDateFormat object to format <code>date1</code> into your SQL Server default date format before appending it to your query.</p>\n\n<p>Also, do yourself a favour and read up on PreparedStatements and paramaterised queries; they really make this sort of stuff easier.</p>\n"},{"comments":[{"owner":{"display_name":"user822535"},"score":1,"creation_date":1329313336,"post_id":9294306,"comment_id":11721388,"body_markdown":"+1 Why do Americans think `MM-DD-YYYY` makes any sense? We write numbers from biggest to smallest: 927 is 9x100 2x10 7x1... 100&#39;s 10&#39;s 1&#39;s -w e don&#39;t write it 297! And what with feet and inches??? Let it go USA! Give it up! Join the rest of the world!","body":"+1 Why do Americans think <code>MM-DD-YYYY</code> makes any sense? We write numbers from biggest to smallest: 927 is 9x100 2x10 7x1... 100&#39;s 10&#39;s 1&#39;s -w e don&#39;t write it 297! And what with feet and inches??? Let it go USA! Give it up! Join the rest of the world!"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1571152223,"creation_date":1329312579,"answer_id":9294306,"question_id":9294100,"body_markdown":"First, only American humans use `MM-DD-YYYY` format for dates - everyone/everything else, especially databases, uses the ISO format `YYYY-MM-DD`.\r\n\r\nJDBC when used correctly will handle formatting your object into your SQL for you.\r\n\r\nThirdly (and this is minor), prefer `stmt.execute()` over `stmt.executeUpdate()` for inserts - an insert is not an update, it&#39;s an insert. Although, it *will* work using either.\r\n\r\nPutting it all together, you get something like this (for example):\r\n\r\n    String sql = &quot;insert into table (int_col, date_col, boolean_col, text_col)&quot; +\r\n       &quot; values (?, ?, ?, ?)&quot;;\r\n    PreparedStatement statement = connection.prepareStatement(sql);\r\n    statement.setObject(1, 7);\r\n    statement.setObject(2, new Date());\r\n    statement.setObject(3, true);\r\n    statement.setObject(4, &quot;hello&quot;);\r\n    statement.execute();\r\n\r\nNote:\r\n\r\n- the use of placeholders `?` in the sql\r\n- the use of `statement.setObject(n, object)`\r\n- the absence of quotes around date and text placeholders\r\n \r\nThe JDBC driver will do all the necessary conversions and formatting for you for all &quot;usual&quot; java objects, especially enclosing values in quotes for you if quotes are required for that column/data type.\r\n\r\nYou can change your code around yourself to work in the way I&#39;ve demonstrated here.","title":"Conversion failed when converting date and/or time from character string","body":"<p>First, only American humans use <code>MM-DD-YYYY</code> format for dates - everyone/everything else, especially databases, uses the ISO format <code>YYYY-MM-DD</code>.</p>\n\n<p>JDBC when used correctly will handle formatting your object into your SQL for you.</p>\n\n<p>Thirdly (and this is minor), prefer <code>stmt.execute()</code> over <code>stmt.executeUpdate()</code> for inserts - an insert is not an update, it's an insert. Although, it <em>will</em> work using either.</p>\n\n<p>Putting it all together, you get something like this (for example):</p>\n\n<pre><code>String sql = \"insert into table (int_col, date_col, boolean_col, text_col)\" +\n   \" values (?, ?, ?, ?)\";\nPreparedStatement statement = connection.prepareStatement(sql);\nstatement.setObject(1, 7);\nstatement.setObject(2, new Date());\nstatement.setObject(3, true);\nstatement.setObject(4, \"hello\");\nstatement.execute();\n</code></pre>\n\n<p>Note:</p>\n\n<ul>\n<li>the use of placeholders <code>?</code> in the sql</li>\n<li>the use of <code>statement.setObject(n, object)</code></li>\n<li>the absence of quotes around date and text placeholders</li>\n</ul>\n\n<p>The JDBC driver will do all the necessary conversions and formatting for you for all \"usual\" java objects, especially enclosing values in quotes for you if quotes are required for that column/data type.</p>\n\n<p>You can change your code around yourself to work in the way I've demonstrated here.</p>\n"},{"tags":[],"owner":{"account_id":19430074,"reputation":11,"user_id":14210729,"display_name":"Otunba Sodiq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679820543,"creation_date":1679820543,"answer_id":75846729,"question_id":9294100,"body_markdown":"The above error also occur when setting upper and lower bound in spark sql\r\n\r\n&gt; conversion failed when converting date and/or time from character\r\n&gt; string. at com.microsoft.sqlserver.jdbc.sqlserverexception\r\n\r\nWhat I did was to convert the bound to date, e.g lower bound = &#39;2023-03-18&#39; and upper bound &#39;2023-03-19&#39;. Then the error disappear because it will generate the boundaries **&quot;WHERE condition&quot; with &quot;yyyy-MM-DD HH:MM:SS&quot;** without the millisecond because that is where the problem stems from.","title":"Conversion failed when converting date and/or time from character string","body":"<p>The above error also occur when setting upper and lower bound in spark sql</p>\n<blockquote>\n<p>conversion failed when converting date and/or time from character\nstring. at com.microsoft.sqlserver.jdbc.sqlserverexception</p>\n</blockquote>\n<p>What I did was to convert the bound to date, e.g lower bound = '2023-03-18' and upper bound '2023-03-19'. Then the error disappear because it will generate the boundaries <strong>&quot;WHERE condition&quot; with &quot;yyyy-MM-DD HH:MM:SS&quot;</strong> without the millisecond because that is where the problem stems from.</p>\n"}],"owner":{"account_id":1250193,"reputation":155,"user_id":1210739,"accept_rate":0,"display_name":"mani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21470,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1679820543,"creation_date":1329311585,"question_id":9294100,"body_markdown":"i want to insert the record in sql server . Table name and columns are specified in this code,   \r\n\r\n          String str_date=date;\r\n        \r\n          DateFormat formatter ; \r\n     \t\t \r\n          formatter = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n        \r\n          date1 = (Date)formatter.parse(str_date);  \r\n        \r\n          System.out.println(&quot;Today is &quot; +date1 );\r\n    \r\n \r\n\r\n-----------------------------------------------------------------------\r\n         try{\r\n        \r\n          String query=&quot;INSERT INTO BULT_DATA &quot; +\r\n     \t\t\t\t&quot;(ULDT_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_DESC&quot; +\r\n     \t\t\t\t&quot;,ULDT_DT&quot; +\r\n     \t\t\t\t&quot;,ULDT_ULTH_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_DATA_FILE&quot; +\r\n     \t\t\t\t&quot;,ULDT_MAX_ROW_NO&quot; +\r\n     \t\t\t\t&quot;,ULDT_REC_STS&quot; +\r\n     \t\t\t\t&quot;,ULDT_CRE_USER_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_CRE_DT&quot; +\r\n     \t\t\t\t&quot;,ULDT_UPD_USER_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_UPD_DT&quot; +\r\n     \t\t\t\t&quot;,ULDT_APRV_USER_ID&quot; +\r\n     \t\t\t\t&quot;,ULDT_APRV_DT)&quot; +\r\n     \t\t\t\t&quot;VALUES (&#39;&quot;+\r\n     \t\t\t\tuploadID+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tuploadDes+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tdate1+&quot;&#39;,&#39;&quot; +\r\n     \t\t\t\ttemplateID+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tdataFile+&quot;&#39;,&#39;&quot;+\r\n     \t\t\t\tnoRows+&quot;&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;N&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;admin&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;2011-12-05 18:41:50.000&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;admin&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;2011-12-05 18:41:50.000&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;NULL&#39;,&#39;&quot; +\r\n     \t\t\t\t\t\t&quot;NULL&#39;)&quot;;\r\n\r\n\r\n                System.out.println(&quot;query :: &quot;+query);\r\n     \r\n     \t\tint stmnt= stmt.executeUpdate(query);\r\n     \r\n                     }catch (Exception e) {\r\n     \t\t\r\n     \t\te.printStackTrace();\r\n     }\r\n\r\nbut i got this exception\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.\r\n","title":"Conversion failed when converting date and/or time from character string","body":"<p>i want to insert the record in sql server . Table name and columns are specified in this code,   </p>\n\n<pre><code>      String str_date=date;\n\n      DateFormat formatter ; \n\n      formatter = new SimpleDateFormat(\"MM/dd/yyyy\");\n\n      date1 = (Date)formatter.parse(str_date);  \n\n      System.out.println(\"Today is \" +date1 );\n</code></pre>\n\n<hr>\n\n<pre><code>     try{\n\n      String query=\"INSERT INTO BULT_DATA \" +\n                \"(ULDT_ID\" +\n                \",ULDT_DESC\" +\n                \",ULDT_DT\" +\n                \",ULDT_ULTH_ID\" +\n                \",ULDT_DATA_FILE\" +\n                \",ULDT_MAX_ROW_NO\" +\n                \",ULDT_REC_STS\" +\n                \",ULDT_CRE_USER_ID\" +\n                \",ULDT_CRE_DT\" +\n                \",ULDT_UPD_USER_ID\" +\n                \",ULDT_UPD_DT\" +\n                \",ULDT_APRV_USER_ID\" +\n                \",ULDT_APRV_DT)\" +\n                \"VALUES ('\"+\n                uploadID+\"','\"+\n                uploadDes+\"','\"+\n                date1+\"','\" +\n                templateID+\"','\"+\n                dataFile+\"','\"+\n                noRows+\"','\" +\n                        \"N','\" +\n                        \"admin','\" +\n                        \"2011-12-05 18:41:50.000','\" +\n                        \"admin','\" +\n                        \"2011-12-05 18:41:50.000','\" +\n                        \"NULL','\" +\n                        \"NULL')\";\n\n\n            System.out.println(\"query :: \"+query);\n\n        int stmnt= stmt.executeUpdate(query);\n\n                 }catch (Exception e) {\n\n        e.printStackTrace();\n }\n</code></pre>\n\n<p>but i got this exception</p>\n\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: Conversion failed when converting date and/or time from character string.</p>\n"},{"tags":["java","android","android-studio","timer","timertask"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679785413,"post_id":75844943,"comment_id":133783603,"body_markdown":"You need to strip out all the code that is (a) irrelevant to your problem, and (b) meaningless to us readers. And how are we to know what is `convert(teamModel.getMultiplier())`, a key argument in the key method call? Voting to close as unclear and lacking details. Also, this is almost certainly a duplicate of existing questions.","body":"You need to strip out all the code that is (a) irrelevant to your problem, and (b) meaningless to us readers. And how are we to know what is <code>convert(teamModel.getMultiplier())</code>, a key argument in the key method call? Voting to close as unclear and lacking details. Also, this is almost certainly a duplicate of existing questions."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679785512,"post_id":75844943,"comment_id":133783609,"body_markdown":"FYI, the `Timer`/`TimerTask` classes have been supplanted by the Executors framework. So noted in [the class API documentation](https://developer.android.com/reference/java/util/Timer).","body":"FYI, the <code>Timer</code>/<code>TimerTask</code> classes have been supplanted by the Executors framework. So noted in <a href=\"https://developer.android.com/reference/java/util/Timer\" rel=\"nofollow noreferrer\">the class API documentation</a>."},{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1679839392,"post_id":75844943,"comment_id":133788970,"body_markdown":"Executors framework didn&#39;t work too :(","body":"Executors framework didn&#39;t work too :("}],"answers":[{"comments":[{"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"score":0,"creation_date":1679839340,"post_id":75846693,"comment_id":133788960,"body_markdown":"Thank you. I tried ScheduledExecutorService but it don&#39;t work too. I will try JobScheduler, WorkManager and Alarm. So thank you again.","body":"Thank you. I tried ScheduledExecutorService but it don&#39;t work too. I will try JobScheduler, WorkManager and Alarm. So thank you again."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679819984,"creation_date":1679819984,"answer_id":75846693,"question_id":75844943,"body_markdown":"TimerTask won&#39;t work when the app is closed.  The TimerTask is an object within your app, if your app isn&#39;t running, the timer is no longer in memory.  If you need to be woken up to do processing every 15 minutes, your options are JobScheduler, WorkManager, or an Alarm.  Which of the 3 depends on your usecase.\r\n","title":"Timertask period don&#39;t work at the time i set","body":"<p>TimerTask won't work when the app is closed.  The TimerTask is an object within your app, if your app isn't running, the timer is no longer in memory.  If you need to be woken up to do processing every 15 minutes, your options are JobScheduler, WorkManager, or an Alarm.  Which of the 3 depends on your usecase.</p>\n"}],"owner":{"account_id":23786770,"reputation":1,"user_id":17798716,"display_name":"G&#246;kdeniz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679827806,"answer_count":1,"score":-2,"last_activity_date":1679819984,"creation_date":1679784388,"question_id":75844943,"body_markdown":"Android studio Java TimerTask don&#39;t work at the time i set. \r\nI want it to run every 15 minutes in a service class even when application is closed too.\r\n\r\nI want it to run every 15 minutes in a service class even when application is closed too. but it works like every hour instead of every 15 minutes\r\n\r\n```java\r\nhandler = new Handler();\r\n        timer = new Timer();\r\n\r\n        TimerTask timerTask = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                handler.post(() -&gt; {\r\n                    if (user.isMining() &amp; checkTime(user.getStopFrom()) &lt; 0) {\r\n                        myRef.update(&quot;Balance&quot;, FieldValue.increment(0.000001));\r\n                    }else{\r\n                        onDestroy();\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        timer.schedule(timerTask,2000,convert(teamModel.getMultiplier()));\r\n```\r\n\r\n","title":"Timertask period don&#39;t work at the time i set","body":"<p>Android studio Java TimerTask don't work at the time i set.\nI want it to run every 15 minutes in a service class even when application is closed too.</p>\n<p>I want it to run every 15 minutes in a service class even when application is closed too. but it works like every hour instead of every 15 minutes</p>\n<pre class=\"lang-java prettyprint-override\"><code>handler = new Handler();\n        timer = new Timer();\n\n        TimerTask timerTask = new TimerTask() {\n            @Override\n            public void run() {\n                handler.post(() -&gt; {\n                    if (user.isMining() &amp; checkTime(user.getStopFrom()) &lt; 0) {\n                        myRef.update(&quot;Balance&quot;, FieldValue.increment(0.000001));\n                    }else{\n                        onDestroy();\n                    }\n                });\n            }\n        };\n\n        timer.schedule(timerTask,2000,convert(teamModel.getMultiplier()));\n</code></pre>\n"},{"tags":["java","testing","out-of-memory"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1679413269,"post_id":75802969,"comment_id":133715795,"body_markdown":"Why can&#39;t you change the memory parameters for a test?  Seems like an unreasonable constraint.","body":"Why can&#39;t you change the memory parameters for a test?  Seems like an unreasonable constraint."},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1679819233,"post_id":75802969,"comment_id":133786134,"body_markdown":"Thank you for your question. The reason (1) it&#39;s not preferable to change what I&#39;m testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I&#39;m testing only for the test, I have to have another demonstration that the change doesn&#39;t affect the result of the test (i.e. `.hprof` is written properly and contains what I want to analyze the cause of `OutOfMemoryError` in the application).","body":"Thank you for your question. The reason (1) it&#39;s not preferable to change what I&#39;m testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I&#39;m testing only for the test, I have to have another demonstration that the change doesn&#39;t affect the result of the test (i.e. <code>.hprof</code> is written properly and contains what I want to analyze the cause of <code>OutOfMemoryError</code> in the application)."},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1679819237,"post_id":75802969,"comment_id":133786136,"body_markdown":"The reason (2) it is difficult to predict the appropriate size of `-Xmx` and `-Xms` for every applications. When you set `-Xmx64m`, a simple Java batch application with no frameworks will finish with no `OutOfMemoryError`. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with `-Xmx64m` and confirm the `.hprof` contains what I whant for error analyses. I have also added the answers to your question in the note of the question.","body":"The reason (2) it is difficult to predict the appropriate size of <code>-Xmx</code> and <code>-Xms</code> for every applications. When you set <code>-Xmx64m</code>, a simple Java batch application with no frameworks will finish with no <code>OutOfMemoryError</code>. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with <code>-Xmx64m</code> and confirm the <code>.hprof</code> contains what I whant for error analyses. I have also added the answers to your question in the note of the question."}],"answers":[{"comments":[{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":0,"creation_date":1679819275,"post_id":75803489,"comment_id":133786144,"body_markdown":"Of course, you can cause `OutOfMemoryError` this way, but you have to add this code to the runtime environment. Is there any way to insert this code without changing the deployed application in runtime (for example, with some JMX functions)?","body":"Of course, you can cause <code>OutOfMemoryError</code> this way, but you have to add this code to the runtime environment. Is there any way to insert this code without changing the deployed application in runtime (for example, with some JMX functions)?"}],"tags":[],"owner":{"account_id":1581458,"reputation":126,"user_id":1466762,"display_name":"polleke"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679414019,"creation_date":1679414019,"answer_id":75803489,"question_id":75802969,"body_markdown":"throw(new OutOfMemoryError(&quot;bam&quot;));","title":"Cause OutOfMemoryError intentionally without additional programs","body":"<p>throw(new OutOfMemoryError(&quot;bam&quot;));</p>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679819224,"creation_date":1679411332,"question_id":75802969,"body_markdown":"## Background\r\n\r\nI am building two Java applications:\r\n\r\n1. A Web application runs on a Tomcat\r\n2. A batch application runs on RHEL\r\n\r\nI want to test the command line options of the `java` command were set properly. For example, I want to test a heap dump file (`.hprof`) generated when an OutOfMemoryError is caused in those Java applications.\r\n\r\n## Problem\r\n\r\nI want to run those tests on a test server. According to a rule of our project, I can&#39;t add additional programs unrelated to the application business logic.\r\n\r\n## Question\r\n\r\nIs there any way to cause OutOfMemoryError intentionally without additional programs?\r\n\r\nNote:\r\n\r\n- I can&#39;t change the parameters of the `-Xmx` and `-Xms` options only for this test. The reasons are:\r\n  1. Because it&#39;s not preferable to change what I&#39;m testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I&#39;m testing only for the test, I have to have another demonstration that the change doesn&#39;t affect the result of the test (i.e. `.hprof` is written properly and contains what I want to analyze the cause of `OutOfMemoryError` in the application).\r\n  2. It is difficult to predict the appropriate size of `-Xmx` and `-Xms` for every application. When you set `-Xmx64m`, a simple Java batch application with no frameworks will finish with no `OutOfMemoryError`. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with `-Xmx64m` and confirm the `.hprof` contains what I want for error analyses.\r\n- In the web application, it is difficult to read a large test dataset and store them in memory (there are no functions that read large datasets).\r\n- In the batch application, the application handles large datasets so memory consumption is not affected by the size of the test dataset.\r\n","title":"Cause OutOfMemoryError intentionally without additional programs","body":"<h2>Background</h2>\n<p>I am building two Java applications:</p>\n<ol>\n<li>A Web application runs on a Tomcat</li>\n<li>A batch application runs on RHEL</li>\n</ol>\n<p>I want to test the command line options of the <code>java</code> command were set properly. For example, I want to test a heap dump file (<code>.hprof</code>) generated when an OutOfMemoryError is caused in those Java applications.</p>\n<h2>Problem</h2>\n<p>I want to run those tests on a test server. According to a rule of our project, I can't add additional programs unrelated to the application business logic.</p>\n<h2>Question</h2>\n<p>Is there any way to cause OutOfMemoryError intentionally without additional programs?</p>\n<p>Note:</p>\n<ul>\n<li>I can't change the parameters of the <code>-Xmx</code> and <code>-Xms</code> options only for this test. The reasons are:\n<ol>\n<li>Because it's not preferable to change what I'm testing only for the test (it is a test of the set of java command line options for this application rather than a test of a single command line option itself). If I change what I'm testing only for the test, I have to have another demonstration that the change doesn't affect the result of the test (i.e. <code>.hprof</code> is written properly and contains what I want to analyze the cause of <code>OutOfMemoryError</code> in the application).</li>\n<li>It is difficult to predict the appropriate size of <code>-Xmx</code> and <code>-Xms</code> for every application. When you set <code>-Xmx64m</code>, a simple Java batch application with no frameworks will finish with no <code>OutOfMemoryError</code>. On the other hand, a Java batch application with Spring Boot and Spring Batch will not be able to launch with <code>-Xmx64m</code> and confirm the <code>.hprof</code> contains what I want for error analyses.</li>\n</ol>\n</li>\n<li>In the web application, it is difficult to read a large test dataset and store them in memory (there are no functions that read large datasets).</li>\n<li>In the batch application, the application handles large datasets so memory consumption is not affected by the size of the test dataset.</li>\n</ul>\n"},{"tags":["java","json","jackson","option-type"],"comments":[{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1679781471,"post_id":75844408,"comment_id":133783131,"body_markdown":"Did you try to use Include.NON_NULL. That way Optional logic would still work and null values wont be included into the serialized json. But if you want to separate options you can define 2 ObjectMapper`s, one for each purpose or change the config every time you use it","body":"Did you try to use Include.NON_NULL. That way Optional logic would still work and null values wont be included into the serialized json. But if you want to separate options you can define 2 ObjectMapper`s, one for each purpose or change the config every time you use it"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679788056,"post_id":75844408,"comment_id":133783827,"body_markdown":"you seem to be doing something wrong: that is definitely bad idea to use `Optional` as object&#39;s field.","body":"you seem to be doing something wrong: that is definitely bad idea to use <code>Optional</code> as object&#39;s field."},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679815769,"post_id":75844408,"comment_id":133785757,"body_markdown":"@Yury I tried the Include.NON_NULL as well, doesn&#39;t make any difference vs Include.NON_ABSENT. It looks like the OptionalDeserializer is never invoked if a field has null literal value.","body":"@Yury I tried the Include.NON_NULL as well, doesn&#39;t make any difference vs Include.NON_ABSENT. It looks like the OptionalDeserializer is never invoked if a field has null literal value."},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679815823,"post_id":75844408,"comment_id":133785762,"body_markdown":"@AndreyB.Panfilov Oracle seems to have different opinion: https://www.oracle.com/technical-resources/articles/java/java8-optional.html","body":"@AndreyB.Panfilov Oracle seems to have different opinion: <a href=\"https://www.oracle.com/technical-resources/articles/java/java8-optional.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/java/&hellip;</a>"},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679815874,"post_id":75844408,"comment_id":133785769,"body_markdown":"@Yury btw yes, the 2 ObjectMappers is a solution I thought of and could work, however I want to avoid it if possible.","body":"@Yury btw yes, the 2 ObjectMappers is a solution I thought of and could work, however I want to avoid it if possible."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679817409,"post_id":75844408,"comment_id":133785928,"body_markdown":"@k.liakos that is not an &quot;Oracle&#39;s opinion&quot;, you just found someone&#39;s misleading blogpost under oracle.com domain. [You should almost never use it as a field of something or a method parameter](https://stackoverflow.com/a/26328555/3426309)","body":"@k.liakos that is not an &quot;Oracle&#39;s opinion&quot;, you just found someone&#39;s misleading blogpost under oracle.com domain. <a href=\"https://stackoverflow.com/a/26328555/3426309\">You should almost never use it as a field of something or a method parameter</a>"},{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679818021,"post_id":75844408,"comment_id":133785990,"body_markdown":"@AndreyB.Panfilov Well you seem to be right. However they say &quot;almost&quot; never. I want to have a tri-state value for PATCH update, in order to differentiate between a value not been provided (=don&#39;t update the field) vs provided null (=clear the field&#39;s value). And Optional seems like a nice feat for the case (Javascript has undefined+null to separate this). I could have added a custom wrapper class, but I would have to rewrite all Serializers/Deserializers and handling for JSON.","body":"@AndreyB.Panfilov Well you seem to be right. However they say &quot;almost&quot; never. I want to have a tri-state value for PATCH update, in order to differentiate between a value not been provided (=don&#39;t update the field) vs provided null (=clear the field&#39;s value). And Optional seems like a nice feat for the case (Javascript has undefined+null to separate this). I could have added a custom wrapper class, but I would have to rewrite all Serializers/Deserializers and handling for JSON."},{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1679826409,"post_id":75844408,"comment_id":133786981,"body_markdown":"another way to deal with it is to use objectMapper.readerForUpdating (https://www.logicbig.com/tutorials/misc/jackson/reader-for-updating.html). That will only update/deserialize values coming in json, and you dont have to use Optional for fields.","body":"another way to deal with it is to use objectMapper.readerForUpdating (<a href=\"https://www.logicbig.com/tutorials/misc/jackson/reader-for-updating.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/misc/jackson/reader-for-updating.htm&zwnj;&#8203;l</a>). That will only update/deserialize values coming in json, and you dont have to use Optional for fields."}],"answers":[{"comments":[{"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"score":0,"creation_date":1679817566,"post_id":75844753,"comment_id":133785947,"body_markdown":"Thanks @tgdavies, your answer pointed me to think in the right direction.","body":"Thanks @tgdavies, your answer pointed me to think in the right direction."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679781451,"creation_date":1679781451,"answer_id":75844753,"question_id":75844408,"body_markdown":"You can do this with a custom serializer:\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        var OBJECT_MAPPER = JsonMapper.builder()\r\n                .addModule(new Jdk8Module())\r\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\r\n                .build();\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(null)));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.empty())));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.of(&quot;jim&quot;))));\r\n\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, Test.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, Test.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, Test.class).toString());\r\n    }\r\n}\r\n\r\nclass Test {\r\n    @JsonSerialize(using = MyOptionalSerializer.class)\r\n    private Optional&lt;String&gt; something;\r\n\r\n    public Test() {}\r\n\r\n    Test(Optional&lt;String&gt; something) {\r\n        this.something = something;\r\n    }\r\n\r\n    public Optional&lt;String&gt; getSomething() {\r\n        return something;\r\n    }\r\n\r\n    public void setSomething(Optional&lt;String&gt; something) {\r\n        this.something = something;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Test{&quot; +\r\n                &quot;something=&quot; + something +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\nclass MyOptionalSerializer extends JsonSerializer&lt;Optional&lt;?&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(Optional&lt;?&gt; value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        if (value != null) {\r\n            if (value.isPresent()) {\r\n                gen.writeObject(value.get());\r\n            } else {\r\n                gen.writeObject(null);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to make Jackson deserialize explicit null to Optional.EMPTY, but not to serialize empty Optional as null","body":"<p>You can do this with a custom serializer:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class Main {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        var OBJECT_MAPPER = JsonMapper.builder()\n                .addModule(new Jdk8Module())\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\n                .build();\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(null)));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.empty())));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new Test(Optional.of(&quot;jim&quot;))));\n\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, Test.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, Test.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, Test.class).toString());\n    }\n}\n\nclass Test {\n    @JsonSerialize(using = MyOptionalSerializer.class)\n    private Optional&lt;String&gt; something;\n\n    public Test() {}\n\n    Test(Optional&lt;String&gt; something) {\n        this.something = something;\n    }\n\n    public Optional&lt;String&gt; getSomething() {\n        return something;\n    }\n\n    public void setSomething(Optional&lt;String&gt; something) {\n        this.something = something;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Test{&quot; +\n                &quot;something=&quot; + something +\n                '}';\n    }\n}\n\nclass MyOptionalSerializer extends JsonSerializer&lt;Optional&lt;?&gt;&gt; {\n\n    @Override\n    public void serialize(Optional&lt;?&gt; value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        if (value != null) {\n            if (value.isPresent()) {\n                gen.writeObject(value.get());\n            } else {\n                gen.writeObject(null);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679817504,"creation_date":1679817504,"answer_id":75846538,"question_id":75844408,"body_markdown":"I figured out what I was doing wrong, and it was very simple, I just got stuck: I wasn&#39;t using `readValue` for Deserialization, but instead `convertValue`.\r\n\r\nAs the javadoc of `convertValue` mentions:\r\n&gt; This method is functionally similar to first serializing given value into JSON, and then binding JSON data into value of given type\r\n\r\nSo since the `serializationInclusion` was set to skip nulls on output, the field was being removed completely in the intermediate step.\r\n\r\nReproduction example:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport org.junit.Test;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Optional;\r\n\r\npublic class JacksonOptionalTest {\r\n    @Test\r\n    public void testOptional() throws JsonProcessingException {\r\n        var OBJECT_MAPPER = JsonMapper.builder()\r\n                .addModule(new Jdk8Module())\r\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\r\n                .build();\r\n\r\n        System.out.println(&quot;writeValueAsString&quot;);\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(null)));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.empty())));\r\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.of(&quot;jim&quot;))));\r\n\r\n        System.out.println(&quot;\\nreadValue&quot;);\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, MyClass.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, MyClass.class).toString());\r\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, MyClass.class).toString());\r\n\r\n\r\n        final var map = new HashMap&lt;&gt;();\r\n        map.put(&quot;something&quot;, null);\r\n\r\n        System.out.println(&quot;\\nconvertValue&quot;);\r\n        System.out.println(OBJECT_MAPPER.convertValue(map, MyClass.class).toString());\r\n    }\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    private static class MyClass {\r\n        @JsonProperty\r\n        private Optional&lt;String&gt; something;\r\n    }\r\n}\r\n```\r\n\r\nIf you run the above test, it prints the following:\r\n```\r\nwriteValueAsString\r\n{}\r\n{}\r\n{&quot;something&quot;:&quot;jim&quot;}\r\n\r\nreadValue\r\nJacksonOptionalTest.MyClass(something=null)\r\nJacksonOptionalTest.MyClass(something=Optional.empty)\r\nJacksonOptionalTest.MyClass(something=Optional[jim])\r\n\r\nconvertValue\r\nJacksonOptionalTest.MyClass(something=null)\r\n```\r\n\r\nIn the last test with `convertValue` we can see that instead of deserializing the value to `Optional.empty`, we got null, which is expected according to what  `convertValue` does.","title":"How to make Jackson deserialize explicit null to Optional.EMPTY, but not to serialize empty Optional as null","body":"<p>I figured out what I was doing wrong, and it was very simple, I just got stuck: I wasn't using <code>readValue</code> for Deserialization, but instead <code>convertValue</code>.</p>\n<p>As the javadoc of <code>convertValue</code> mentions:</p>\n<blockquote>\n<p>This method is functionally similar to first serializing given value into JSON, and then binding JSON data into value of given type</p>\n</blockquote>\n<p>So since the <code>serializationInclusion</code> was set to skip nulls on output, the field was being removed completely in the intermediate step.</p>\n<p>Reproduction example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jdk8.Jdk8Module;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.junit.Test;\n\nimport java.util.HashMap;\nimport java.util.Optional;\n\npublic class JacksonOptionalTest {\n    @Test\n    public void testOptional() throws JsonProcessingException {\n        var OBJECT_MAPPER = JsonMapper.builder()\n                .addModule(new Jdk8Module())\n                .serializationInclusion(JsonInclude.Include.NON_ABSENT)\n                .build();\n\n        System.out.println(&quot;writeValueAsString&quot;);\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(null)));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.empty())));\n        System.out.println(OBJECT_MAPPER.writeValueAsString(new MyClass(Optional.of(&quot;jim&quot;))));\n\n        System.out.println(&quot;\\nreadValue&quot;);\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{}&quot;, MyClass.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:null}&quot;, MyClass.class).toString());\n        System.out.println(OBJECT_MAPPER.readValue(&quot;{\\&quot;something\\&quot;:\\&quot;jim\\&quot;}&quot;, MyClass.class).toString());\n\n\n        final var map = new HashMap&lt;&gt;();\n        map.put(&quot;something&quot;, null);\n\n        System.out.println(&quot;\\nconvertValue&quot;);\n        System.out.println(OBJECT_MAPPER.convertValue(map, MyClass.class).toString());\n    }\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString\n    private static class MyClass {\n        @JsonProperty\n        private Optional&lt;String&gt; something;\n    }\n}\n</code></pre>\n<p>If you run the above test, it prints the following:</p>\n<pre><code>writeValueAsString\n{}\n{}\n{&quot;something&quot;:&quot;jim&quot;}\n\nreadValue\nJacksonOptionalTest.MyClass(something=null)\nJacksonOptionalTest.MyClass(something=Optional.empty)\nJacksonOptionalTest.MyClass(something=Optional[jim])\n\nconvertValue\nJacksonOptionalTest.MyClass(something=null)\n</code></pre>\n<p>In the last test with <code>convertValue</code> we can see that instead of deserializing the value to <code>Optional.empty</code>, we got null, which is expected according to what  <code>convertValue</code> does.</p>\n"}],"owner":{"account_id":2005139,"reputation":649,"user_id":1795240,"display_name":"k.liakos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679817504,"creation_date":1679776937,"question_id":75844408,"body_markdown":"Assuming I have a POJO like this:\r\n\r\n```java\r\npublic static class Test {\r\n  private Optional&lt;String&gt; something;\r\n}\r\n```\r\n\r\nAnd a Jackson mapper like this:\r\n\r\n```java\r\nvar OBJECT_MAPPER = JsonMapper.builder()\r\n  .addModule(new Jdk8Module())\r\n  .serializationInclusion(JsonInclude.Include.NON_ABSENT)\r\n  .build();\r\n```\r\n\r\nIf I deserialize the JSON string `{&quot;something&quot;: null}`, I get a `Test` object with `something=null`. Instead of that, I want to get a Test object with `something=Optional.EMPTY`.\r\n\r\nMy desired deserialization strategy for Optional is:\r\n- null → not provided\r\n- Optional.empty() → provided null\r\n- Optional.of() → provided not null\r\n\r\nThe above can be achieved if I keep the default `serializationInclusion` (remove the `serializationInclusion(JsonInclude.Include.NON_ABSENT)` setting). This results in serializing everything and including nulls in the JSON string output, which is not what I want.\r\n\r\n```java\r\nTest test = new Test();\r\n// This should serialize to {}, not {&quot;something&quot;: null}\r\n\r\nTest test2 = new Test();\r\ntest2.setSomething(Optional.EMPTY);\r\n// This should also serialize to {}, not {&quot;something&quot;: null}\r\n```\r\n\r\nTLTR: is there a way to separate the `serializationInclusion` separately for serialization and deserialization?\r\n","title":"How to make Jackson deserialize explicit null to Optional.EMPTY, but not to serialize empty Optional as null","body":"<p>Assuming I have a POJO like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Test {\n  private Optional&lt;String&gt; something;\n}\n</code></pre>\n<p>And a Jackson mapper like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var OBJECT_MAPPER = JsonMapper.builder()\n  .addModule(new Jdk8Module())\n  .serializationInclusion(JsonInclude.Include.NON_ABSENT)\n  .build();\n</code></pre>\n<p>If I deserialize the JSON string <code>{&quot;something&quot;: null}</code>, I get a <code>Test</code> object with <code>something=null</code>. Instead of that, I want to get a Test object with <code>something=Optional.EMPTY</code>.</p>\n<p>My desired deserialization strategy for Optional is:</p>\n<ul>\n<li>null → not provided</li>\n<li>Optional.empty() → provided null</li>\n<li>Optional.of() → provided not null</li>\n</ul>\n<p>The above can be achieved if I keep the default <code>serializationInclusion</code> (remove the <code>serializationInclusion(JsonInclude.Include.NON_ABSENT)</code> setting). This results in serializing everything and including nulls in the JSON string output, which is not what I want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Test test = new Test();\n// This should serialize to {}, not {&quot;something&quot;: null}\n\nTest test2 = new Test();\ntest2.setSomething(Optional.EMPTY);\n// This should also serialize to {}, not {&quot;something&quot;: null}\n</code></pre>\n<p>TLTR: is there a way to separate the <code>serializationInclusion</code> separately for serialization and deserialization?</p>\n"},{"tags":["java",".class-file"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1679814095,"post_id":75846313,"comment_id":133785612,"body_markdown":"Are you running on Windows, by any chance? If so, the file system is case-insensitive, so you *can&#39;t* create both `A.class` and `a.class`. On a case-sensitive file-system, I&#39;d expect both files to be created.","body":"Are you running on Windows, by any chance? If so, the file system is case-insensitive, so you <i>can&#39;t</i> create both <code>A.class</code> and <code>a.class</code>. On a case-sensitive file-system, I&#39;d expect both files to be created."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679814193,"post_id":75846313,"comment_id":133785621,"body_markdown":"As a side-note, please read https://stackoverflow.com/editing-help and preview your post carefully before submitting - all your code was written as non-code, and all your non-code was written as code. (I&#39;ve fixed it for you now.)","body":"As a side-note, please read <a href=\"https://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a> and preview your post carefully before submitting - all your code was written as non-code, and all your non-code was written as code. (I&#39;ve fixed it for you now.)"}],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1679819685,"post_id":75846389,"comment_id":133786188,"body_markdown":"Downvoted because this is nonsense. Every class in Java **must be** in its own class file - the [class file format](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html) doesn&#39;t allow storing more than one class in it.","body":"Downvoted because this is nonsense. Every class in Java <b>must be</b> in its own class file - the <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">class file format</a> doesn&#39;t allow storing more than one class in it."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1679820049,"post_id":75846389,"comment_id":133786226,"body_markdown":"that is incorrect. you can have multiple classes in a file. public classes and static nested classes get their own file.","body":"that is incorrect. you can have multiple classes in a file. public classes and static nested classes get their own file."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1679820686,"post_id":75846389,"comment_id":133786301,"body_markdown":"the code the OP wrote produces only one .class file, but it will not run if any class tries to use the package protected class.","body":"the code the OP wrote produces only one .class file, but it will not run if any class tries to use the package protected class."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1679823236,"post_id":75846389,"comment_id":133786589,"body_markdown":"@ThomasKl&#228;ger+ more exactly, each toplevel class and each nested class (static, nonstatic, local, or anonymous) gets a separate file; nested classes have names like `Foo$Sub.class` and `Foo$1.class` so their files don&#39;t conflict. It&#39;s toplevel classes with different case that conflict on a case-insensitive filesystem like Windows. Also, Java itself does NOT require the _source_ file be publictoplevelname.java although this is _recommended_ and IDEs or other tools often do require it.","body":"@ThomasKl&#228;ger+ more exactly, each toplevel class and each nested class (static, nonstatic, local, or anonymous) gets a separate file; nested classes have names like <code>Foo$Sub.class</code> and <code>Foo$1.class</code> so their files don&#39;t conflict. It&#39;s toplevel classes with different case that conflict on a case-insensitive filesystem like Windows. Also, Java itself does NOT require the <i>source</i> file be publictoplevelname.java although this is <i>recommended</i> and IDEs or other tools often do require it."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1679823253,"post_id":75846389,"comment_id":133786591,"body_markdown":"You can have multiple classes in a source file (&quot;.java&quot; file), but the compiler produces as class file (&quot;.class&quot; file) for every class. In the OPs case it is the file system (Windows) that doesn&#39;t allow the two files &quot;A.class&quot; and &quot;a.class&quot; to exist at the same time - on Linux and MacOS this is allowed and works.","body":"You can have multiple classes in a source file (&quot;.java&quot; file), but the compiler produces as class file (&quot;.class&quot; file) for every class. In the OPs case it is the file system (Windows) that doesn&#39;t allow the two files &quot;A.class&quot; and &quot;a.class&quot; to exist at the same time - on Linux and MacOS this is allowed and works."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679828198,"post_id":75846389,"comment_id":133787244,"body_markdown":"@ThomasKl&#228;ger On Windows it might work as well, as you can configure NTFS to use case-sensitive filenames (this can be configured *per directory*, but the default is case-insensitive filenames.","body":"@ThomasKl&#228;ger On Windows it might work as well, as you can configure NTFS to use case-sensitive filenames (this can be configured <i>per directory</i>, but the default is case-insensitive filenames."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679828416,"post_id":75846389,"comment_id":133787281,"body_markdown":"@dave_thompson_085 Java itself actually requires the filename to have the same name as the public class defined in it, otherwise you get a _javac_ error _&quot;X.java:1: error: class Y is public, should be declared in a file named Y.java&quot;_ On the other hand, if there is no public class in a .java file, then you can name it anything you want.","body":"@dave_thompson_085 Java itself actually requires the filename to have the same name as the public class defined in it, otherwise you get a <i>javac</i> error <i>&quot;X.java:1: error: class Y is public, should be declared in a file named Y.java&quot;</i> On the other hand, if there is no public class in a .java file, then you can name it anything you want."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680175374,"post_id":75846389,"comment_id":133855244,"body_markdown":"@MarkRotteveel except when you use the feature of running a source file directly (compiling on-the-fly) via `java Source.java`. Then, the source file is allowed to contain multiple public top level classes.","body":"@MarkRotteveel except when you use the feature of running a source file directly (compiling on-the-fly) via <code>java Source.java</code>. Then, the source file is allowed to contain multiple public top level classes."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680175467,"post_id":75846389,"comment_id":133855274,"body_markdown":"@Holger Really? That sounds like a weird and unnecessary relaxation of the rules.","body":"@Holger Really? That sounds like a weird and unnecessary relaxation of the rules."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680176453,"post_id":75846389,"comment_id":133855529,"body_markdown":"@MarkRotteveel it has always been an *optional* restriction. See [the oldest specification still online](https://docs.oracle.com/javase/specs/jls/se6/html/packages.html#73491): “*When packages are stored in a file system (&#167;7.2.1), the host system **may choose** to enforce the restriction that it is a compile-time error if a type is not found in a file under a name composed of the type name plus an extension (such as .java or .jav)…*”","body":"@MarkRotteveel it has always been an <i>optional</i> restriction. See <a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/packages.html#73491\" rel=\"nofollow noreferrer\">the oldest specification still online</a>: “<i>When packages are stored in a file system (&#167;7.2.1), the host system <b>may choose</b> to enforce the restriction that it is a compile-time error if a type is not found in a file under a name composed of the type name plus an extension (such as .java or .jav)…</i>”"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680178740,"post_id":75846389,"comment_id":133856072,"body_markdown":"@Holger True that may be, but I was talking about the relaxation of the rules between `java` compared to `javac`. If you use `javac` on that same file, you&#39;ll get error _&quot;Multi.java:9: error: class Other is public, should be declared in a file named Other.java&quot;_, while `java` will just work.","body":"@Holger True that may be, but I was talking about the relaxation of the rules between <code>java</code> compared to <code>javac</code>. If you use <code>javac</code> on that same file, you&#39;ll get error <i>&quot;Multi.java:9: error: class Other is public, should be declared in a file named Other.java&quot;</i>, while <code>java</code> will just work."}],"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"comment_count":11,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1679815161,"creation_date":1679815161,"answer_id":75846389,"question_id":75846313,"body_markdown":"Historically in Java, the name (and case) of the &quot;main&quot; **public** class of the file had to match the file name. So public class A has to be in the file A.java and will compile into A.class and you will run it&#39;s main() method using &quot;java A&quot;. we have to name the class and the file the same way.\r\n\r\nThe second class in the file is not public (implicitly protected since no modifier was given) and is not nested under the A class. no one outside the package of class A will be able to use it. therefore it does not need its&#39; own class file.\r\n\r\nThat is Java&#39;s way of implementing the principle of &quot;Encapsulation&quot;. you could create classes and sub-classes in your code, and anyone who receives the compiled products of these classes will not be able to see the internal structure of your code. ","title":"Why only one .class file is created in java &amp; which is declared first?","body":"<p>Historically in Java, the name (and case) of the &quot;main&quot; <strong>public</strong> class of the file had to match the file name. So public class A has to be in the file A.java and will compile into A.class and you will run it's main() method using &quot;java A&quot;. we have to name the class and the file the same way.</p>\n<p>The second class in the file is not public (implicitly protected since no modifier was given) and is not nested under the A class. no one outside the package of class A will be able to use it. therefore it does not need its' own class file.</p>\n<p>That is Java's way of implementing the principle of &quot;Encapsulation&quot;. you could create classes and sub-classes in your code, and anyone who receives the compiled products of these classes will not be able to see the internal structure of your code.</p>\n"}],"owner":{"account_id":22617641,"reputation":1,"user_id":16796941,"display_name":"user16796941"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679815161,"creation_date":1679814004,"question_id":75846313,"body_markdown":"In Java:\r\n\r\n```java\r\nclass A{}\r\nclass a{}\r\n```\r\n\r\nafter compilation : A.class\r\n\r\n```java\r\nclass a{}\r\nclass A{}\r\n```\r\n\r\nafter compilation : a.class\r\n\r\nWhy only one class created?\r\nthe first we declared only that .class file generated\r\n\r\nPlease explain the reason in detail.\r\n","title":"Why only one .class file is created in java &amp; which is declared first?","body":"<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A{}\nclass a{}\n</code></pre>\n<p>after compilation : A.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class a{}\nclass A{}\n</code></pre>\n<p>after compilation : a.class</p>\n<p>Why only one class created?\nthe first we declared only that .class file generated</p>\n<p>Please explain the reason in detail.</p>\n"},{"tags":["java","protocol-buffers","protoc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679813948,"post_id":75846185,"comment_id":133785595,"body_markdown":"You might be able use import, i.e. create a file `myAddressBook.proto` containing `option java_package = &quot;com.example.protobuf&quot;; option java_outer_classname = &quot;AddressBookProtos&quot;; import &quot;vendorAddressBook.proto&quot;;` (I have not tried this)","body":"You might be able use import, i.e. create a file <code>myAddressBook.proto</code> containing <code>option java_package = &quot;com.example.protobuf&quot;; option java_outer_classname = &quot;AddressBookProtos&quot;; import &quot;vendorAddressBook.proto&quot;;</code> (I have not tried this)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679814072,"post_id":75846185,"comment_id":133785611,"body_markdown":"@tgdavies: No, that&#39;s not what imports in protobuf do.","body":"@tgdavies: No, that&#39;s not what imports in protobuf do."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679814212,"post_id":75846185,"comment_id":133785626,"body_markdown":"@JonSkeet So you&#39;d have to be using the `AddressBook` type in another type you defined in your own file?","body":"@JonSkeet So you&#39;d have to be using the <code>AddressBook</code> type in another type you defined in your own file?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679815728,"post_id":75846185,"comment_id":133785752,"body_markdown":"@tgdavies: Yes. But it wouldn&#39;t change the package or outer classname for anything in the imported proto.","body":"@tgdavies: Yes. But it wouldn&#39;t change the package or outer classname for anything in the imported proto."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1679853239,"post_id":75846185,"comment_id":133791200,"body_markdown":"The producer of the protos **should** include `option` for the languages that their users may need. Google does this for its services. A challenge is that `option` applies to packages and `protoc` generally compiles multiple packages requiring a way to specify multiple `xxx_out` and `xxx_opt`. That said, it&#39;s reasonable to want to be able to override these with `protoc` and take the hit when you can&#39;t update the proto sources (file feedback) or you&#39;ll have to duplicate the proto sources and amend as you&#39;re doing","body":"The producer of the protos <b>should</b> include <code>option</code> for the languages that their users may need. Google does this for its services. A challenge is that <code>option</code> applies to packages and <code>protoc</code> generally compiles multiple packages requiring a way to specify multiple <code>xxx_out</code> and <code>xxx_opt</code>. That said, it&#39;s reasonable to want to be able to override these with <code>protoc</code> and take the hit when you can&#39;t update the proto sources (file feedback) or you&#39;ll have to duplicate the proto sources and amend as you&#39;re doing"}],"owner":{"account_id":3681639,"reputation":9725,"user_id":3066467,"accept_rate":67,"display_name":"Guntram Blohm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679812255,"creation_date":1679811632,"question_id":75846185,"body_markdown":"I have some input files that contain protobuf data, with a corresponding `.proto` definition. For the sake of a minimal example (taken from [here](https://www.baeldung.com/google-protocol-buffer)), assume this .proto file looks like\r\n\r\n```\r\nmessage Person {\r\n    required string name = 1;\r\n}\r\n```\r\n\r\nAccording to every example I can find on the net, I have to specify my java package and class names in the .proto file itself, amending it with\r\n\r\n```\r\noption java_package = &quot;com.example.protobuf&quot;;\r\noption java_outer_classname = &quot;AddressBookProtos&quot;;\r\n```\r\n\r\nThe problem is - if I do that, I&#39;ll have to change my `.proto` file every time the vendor updates their definition, and of course the vendor doesn&#39;t want to add those options to their version, because a) they&#39;re not using java and b) different customers may have different requirements as to the package/class names.\r\n\r\nSo what I&#39;d like to do is to not have those options in the `.proto` file, and give them on the command line to `protoc` in a way similar to this:\r\n\r\n`protoc --java_out=. --option java_package=&quot;com.example.protobuf&quot; --option java_outer_classname=&quot;AddressBookProtos&quot; message.proto`\r\n\r\nbut I can&#39;t find any documentation if this is possible at all or which syntax to use.\r\n\r\nSo, is it possible to pass options to `protoc` in a similar way?\r\n","title":"Can I pass java options to protoc on the command line?","body":"<p>I have some input files that contain protobuf data, with a corresponding <code>.proto</code> definition. For the sake of a minimal example (taken from <a href=\"https://www.baeldung.com/google-protocol-buffer\" rel=\"nofollow noreferrer\">here</a>), assume this .proto file looks like</p>\n<pre><code>message Person {\n    required string name = 1;\n}\n</code></pre>\n<p>According to every example I can find on the net, I have to specify my java package and class names in the .proto file itself, amending it with</p>\n<pre><code>option java_package = &quot;com.example.protobuf&quot;;\noption java_outer_classname = &quot;AddressBookProtos&quot;;\n</code></pre>\n<p>The problem is - if I do that, I'll have to change my <code>.proto</code> file every time the vendor updates their definition, and of course the vendor doesn't want to add those options to their version, because a) they're not using java and b) different customers may have different requirements as to the package/class names.</p>\n<p>So what I'd like to do is to not have those options in the <code>.proto</code> file, and give them on the command line to <code>protoc</code> in a way similar to this:</p>\n<p><code>protoc --java_out=. --option java_package=&quot;com.example.protobuf&quot; --option java_outer_classname=&quot;AddressBookProtos&quot; message.proto</code></p>\n<p>but I can't find any documentation if this is possible at all or which syntax to use.</p>\n<p>So, is it possible to pass options to <code>protoc</code> in a similar way?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679823399,"post_id":75846190,"comment_id":133786612,"body_markdown":"I don&#39;t do much SQL but his query is quite descriptive ITSELF! ....Not since beep each commandline entry when I was learning it. The table syntax for selecting is also piece out badly, and only the single item brought back should be cast not with a comparison inside it&#39;s brackets.and no varchar() only the name of the column as you define it with dotting to its table.","body":"I don&#39;t do much SQL but his query is quite descriptive ITSELF! ....Not since beep each commandline entry when I was learning it. The table syntax for selecting is also piece out badly, and only the single item brought back should be cast not with a comparison inside it&#39;s brackets.and no varchar() only the name of the column as you define it with dotting to its table."}],"tags":[],"owner":{"account_id":2637276,"reputation":24,"user_id":2281641,"display_name":"Sudheep"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679811734,"creation_date":1679811734,"answer_id":75846190,"question_id":75845896,"body_markdown":"The error message is pretty descriptive. It is pointing to a incompatible comparisons between integer and char.   \r\n\r\nAs you get the same error in edit and delete I doubt the SerialNumber column. \r\nTry executing the query directly on the database query window to confirm this. \r\n\r\nTry by casting char to integer.","title":"I&#39;ve connected this program to my database, and everytime that I try to run it it shows me this error","body":"<p>The error message is pretty descriptive. It is pointing to a incompatible comparisons between integer and char.</p>\n<p>As you get the same error in edit and delete I doubt the SerialNumber column.\nTry executing the query directly on the database query window to confirm this.</p>\n<p>Try by casting char to integer.</p>\n"}],"owner":{"account_id":28126754,"reputation":1,"user_id":21492002,"display_name":"Gumban Nikki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679811734,"creation_date":1679805742,"question_id":75845896,"body_markdown":"java.sql.SQLSyntaxErrorException: Comparisons between &#39;INTEGER&#39; and &#39;CHAR (UCS_BASIC)&#39; are not supported. Types must be comparable. String types must also have matching collation. If collation does not match, a possible solution is to cast operands to force them to the default collation (e.g. SELECT tablename FROM sys.systables WHERE CAST(tablename AS VARCHAR(128)) = &#39;T1&#39;)\r\n\r\nwhen i click edit button the error shows also in my delete button here&#39;s my code\r\ncan you help me\r\n\r\nThis is the code for edit button\r\n private void UpdateBtnMouseClicked(java.awt.event.MouseEvent evt) {                                       \r\n\r\n       if(SerialNumber.getText().isEmpty()||ProductName.getText().isEmpty()||DateAcquired.getText().isEmpty()||Quantity.getText().isEmpty()||Description.getText().isEmpty())\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Missing Information&quot;);\r\n        }else {\r\n               try {\r\n                   \r\n                    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\r\n                    String UpdateQuery = &quot;Update User1.PRODUCTTBL set ProductName=&#39;&quot;+ProductName.getText()+&quot;&#39;&quot;+&quot;,DateAcquired=&#39;&quot;+DateAcquired.getText()+&quot;&#39;&quot;+&quot;,Quantity=&#39;&quot;+Quantity.getText()+&quot;&#39;&quot;+&quot;,Description=&#39;&quot;+Description.getText()+&quot;&#39;&quot;+&quot; where SerialNumber=&quot;+&quot;&#39;&quot;+SerialNumber.getText()+&quot;&#39;&quot;;\r\n                    Statement Add = Con.createStatement();\r\n                    Add.executeUpdate(UpdateQuery);\r\n                    JOptionPane.showMessageDialog(this, &quot;Product Updated Successfully&quot;);\r\n                    SelectProd();\r\n                   \r\n                   }catch(Exception e){\r\n                       \r\n                       e.printStackTrace();\r\n                       \r\n                   }\r\n              }\r\n          \r\n        \r\n    }                         \r\n\r\nThis is the code for the delete button\r\n private void DeleteBtnMouseClicked(java.awt.event.MouseEvent evt) {                                       \r\n\r\n      if(SerialNumber.getText().isEmpty())\r\n        {\r\n            \r\n           JOptionPane.showMessageDialog(this, &quot;Enter the SerialNumber to be Deleted&quot;);\r\n            \r\n        }\r\n        else\r\n        {\r\n            \r\n           try{\r\n               \r\n               Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\r\n               String ID = SerialNumber.getText();\r\n               String Query = &quot;Delete from User1.PRODUCTTBL where SERIALNUMBER=&quot;+&quot;&#39;&quot;+ID+&quot;&#39;&quot;;\r\n               Statement Add = Con.createStatement();\r\n               Add.executeUpdate(Query);\r\n               SelectProd ();\r\n               JOptionPane.showMessageDialog(this, &quot;Product Deleted Successfully&quot;);\r\n               \r\n           }catch(SQLException e)\r\n           {\r\n               \r\n               e.printStackTrace();\r\n               \r\n           }\r\n            \r\n        }\r\n        \r\n    }                  ","title":"I&#39;ve connected this program to my database, and everytime that I try to run it it shows me this error","body":"<p>java.sql.SQLSyntaxErrorException: Comparisons between 'INTEGER' and 'CHAR (UCS_BASIC)' are not supported. Types must be comparable. String types must also have matching collation. If collation does not match, a possible solution is to cast operands to force them to the default collation (e.g. SELECT tablename FROM sys.systables WHERE CAST(tablename AS VARCHAR(128)) = 'T1')</p>\n<p>when i click edit button the error shows also in my delete button here's my code\ncan you help me</p>\n<p>This is the code for edit button\nprivate void UpdateBtnMouseClicked(java.awt.event.MouseEvent evt) {</p>\n<pre><code>   if(SerialNumber.getText().isEmpty()||ProductName.getText().isEmpty()||DateAcquired.getText().isEmpty()||Quantity.getText().isEmpty()||Description.getText().isEmpty())\n    {\n        JOptionPane.showMessageDialog(this, &quot;Missing Information&quot;);\n    }else {\n           try {\n               \n                Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\n                String UpdateQuery = &quot;Update User1.PRODUCTTBL set ProductName='&quot;+ProductName.getText()+&quot;'&quot;+&quot;,DateAcquired='&quot;+DateAcquired.getText()+&quot;'&quot;+&quot;,Quantity='&quot;+Quantity.getText()+&quot;'&quot;+&quot;,Description='&quot;+Description.getText()+&quot;'&quot;+&quot; where SerialNumber=&quot;+&quot;'&quot;+SerialNumber.getText()+&quot;'&quot;;\n                Statement Add = Con.createStatement();\n                Add.executeUpdate(UpdateQuery);\n                JOptionPane.showMessageDialog(this, &quot;Product Updated Successfully&quot;);\n                SelectProd();\n               \n               }catch(Exception e){\n                   \n                   e.printStackTrace();\n                   \n               }\n          }\n      \n    \n}                         \n</code></pre>\n<p>This is the code for the delete button\nprivate void DeleteBtnMouseClicked(java.awt.event.MouseEvent evt) {</p>\n<pre><code>  if(SerialNumber.getText().isEmpty())\n    {\n        \n       JOptionPane.showMessageDialog(this, &quot;Enter the SerialNumber to be Deleted&quot;);\n        \n    }\n    else\n    {\n        \n       try{\n           \n           Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/Inventorydb&quot;,&quot;User1&quot;, &quot;1220&quot;);\n           String ID = SerialNumber.getText();\n           String Query = &quot;Delete from User1.PRODUCTTBL where SERIALNUMBER=&quot;+&quot;'&quot;+ID+&quot;'&quot;;\n           Statement Add = Con.createStatement();\n           Add.executeUpdate(Query);\n           SelectProd ();\n           JOptionPane.showMessageDialog(this, &quot;Product Deleted Successfully&quot;);\n           \n       }catch(SQLException e)\n       {\n           \n           e.printStackTrace();\n           \n       }\n        \n    }\n    \n}                  \n</code></pre>\n"},{"tags":["java","algorithm","sorting","object","quicksort"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1679779898,"post_id":75844603,"comment_id":133782941,"body_markdown":"You write that this code sorts by department, but it actually sorts by name. Can you clarify?","body":"You write that this code sorts by department, but it actually sorts by name. Can you clarify?"},{"owner":{"display_name":"user21490683"},"score":0,"creation_date":1679780338,"post_id":75844603,"comment_id":133782998,"body_markdown":"sorry, i modified it.","body":"sorry, i modified it."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1679811550,"post_id":75844603,"comment_id":133785412,"body_markdown":"Please do not remove the information that was essential to your question. I rolled back the destructive edit you made.","body":"Please do not remove the information that was essential to your question. I rolled back the destructive edit you made."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679780751,"creation_date":1679780751,"answer_id":75844706,"question_id":75844603,"body_markdown":"You could create a `compareTo` method on your `Staff` class, which performs a comparison based on `dep` and `id` (when there is a tie):\r\n\r\n```\r\n    int compareTo(Staff other) {\r\n        int res = dep.compareTo(other.dep);\r\n        return res != 0 ? res : id - other.id;\r\n    }\r\n```\r\n\r\nNow in your `quickSort` code, just compare using this method:\r\n\r\n```\r\n            Staff pivot = staffs[i];\r\n            while (j &gt; i)\r\n            {\r\n                while (staffs[i].compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i) {\r\n                    i++;\r\n                }\r\n                while (staffs[j].compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i) {\r\n                    j--;\r\n                }\r\n                if (j &gt; i)\r\n                    swap(staffs, i, j);\r\n            }\r\n```","title":"Quicksort with duplicate values in object arrays","body":"<p>You could create a <code>compareTo</code> method on your <code>Staff</code> class, which performs a comparison based on <code>dep</code> and <code>id</code> (when there is a tie):</p>\n<pre><code>    int compareTo(Staff other) {\n        int res = dep.compareTo(other.dep);\n        return res != 0 ? res : id - other.id;\n    }\n</code></pre>\n<p>Now in your <code>quickSort</code> code, just compare using this method:</p>\n<pre><code>            Staff pivot = staffs[i];\n            while (j &gt; i)\n            {\n                while (staffs[i].compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i) {\n                    i++;\n                }\n                while (staffs[j].compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i) {\n                    j--;\n                }\n                if (j &gt; i)\n                    swap(staffs, i, j);\n            }\n</code></pre>\n"}],"owner":{"display_name":"user21490683"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679811498,"creation_date":1679779522,"question_id":75844603,"body_markdown":"```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tStaff[] staffs = new Staff[10];\r\n\t\tStaff[] answer = new Staff[staffs.length];\r\n\t\tint temp = 0;\r\n\t\t\r\n\t\t\r\n\t\tstaffs[0] = new Staff(1,&quot;J&quot;,&quot;IT&quot;);\r\n\t\tstaffs[1] = new Staff(3,&quot;I&quot;,&quot;IT&quot;);\r\n\t\tstaffs[2] = new Staff(2,&quot;H&quot;,&quot;GA&quot;);\r\n\t\tstaffs[3] = new Staff(7,&quot;G&quot;,&quot;GA&quot;);\r\n\t\tstaffs[4] = new Staff(5,&quot;F&quot;,&quot;AUDIT&quot;);\r\n\t\tstaffs[5] = new Staff(6,&quot;E&quot;,&quot;AUDIT&quot;);\r\n\t\tstaffs[6] = new Staff(4,&quot;D&quot;,&quot;IT&quot;);\r\n\t\tstaffs[7] = new Staff(10,&quot;C&quot;,&quot;IT&quot;);\r\n\t\tstaffs[8] = new Staff(9,&quot;B&quot;,&quot;HR&quot;);\r\n\t\tstaffs[9] = new Staff(8,&quot;A&quot;,&quot;HR&quot;);\r\n\t\t\r\n\t\t\r\n\t\tPrintArray(staffs);\r\n\t\tquickSort(staffs, 0, staffs.length-1);\r\n\t\tPrintArray(staffs);\r\n\t}\r\n\tprivate static void quickSort(Staff[] staffs, int start, int end)\r\n\t{\r\n\r\n\t        int i = start;\r\n\t        int j = end;\r\n\t        if (j - i &gt;= 1)\r\n\t        {\r\n\t            String pivot = staffs[i].dep;\r\n\t            while (j &gt; i)\r\n\t            {\r\n\r\n\t                while (staffs[i].dep.compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i){\r\n\t                    i++;\r\n\t                }\r\n\r\n\t                while (staffs[j].dep.compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i){\r\n\t                    j--;\r\n\t                }\r\n\t                \r\n\t                if (j &gt; i)\r\n\t                    swap(staffs, i, j);\r\n\t            }\r\n\r\n\t        \r\n\t            swap(staffs, start, j);\r\n\t            quickSort(staffs, start, j - 1);\r\n\t            quickSort(staffs, j + 1, end);\r\n\t        }\r\n\t    }\r\n\r\n\t    private static void swap(Staff[] staffs, int i, int j)\r\n\t    {\r\n\t    Staff temp = staffs[i];\r\n\t    staffs[i] = staffs[j];\r\n\t    staffs[j] = temp;\r\n\t    }\r\n\tpublic static void PrintArray(Staff[] staffs) {\r\n\t\tfor(int a = 0; a&lt;staffs.length; a++) {\r\n\t\t\tSystem.out.println(staffs[a].id+&quot;, &quot;+staffs[a].name+&quot;, &quot;+staffs[a].dep);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI sorted this object array in quicksort algorithm.\r\nIt will be sorted by department value.\r\nBut the thing is there are duplicated department value.\r\nI want to code that if there is duplicate value in department column,\r\nthen sorting object by ascending order of id.\r\n\r\nHow can i handle this?","title":"Quicksort with duplicate values in object arrays","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Staff[] staffs = new Staff[10];\n        Staff[] answer = new Staff[staffs.length];\n        int temp = 0;\n        \n        \n        staffs[0] = new Staff(1,&quot;J&quot;,&quot;IT&quot;);\n        staffs[1] = new Staff(3,&quot;I&quot;,&quot;IT&quot;);\n        staffs[2] = new Staff(2,&quot;H&quot;,&quot;GA&quot;);\n        staffs[3] = new Staff(7,&quot;G&quot;,&quot;GA&quot;);\n        staffs[4] = new Staff(5,&quot;F&quot;,&quot;AUDIT&quot;);\n        staffs[5] = new Staff(6,&quot;E&quot;,&quot;AUDIT&quot;);\n        staffs[6] = new Staff(4,&quot;D&quot;,&quot;IT&quot;);\n        staffs[7] = new Staff(10,&quot;C&quot;,&quot;IT&quot;);\n        staffs[8] = new Staff(9,&quot;B&quot;,&quot;HR&quot;);\n        staffs[9] = new Staff(8,&quot;A&quot;,&quot;HR&quot;);\n        \n        \n        PrintArray(staffs);\n        quickSort(staffs, 0, staffs.length-1);\n        PrintArray(staffs);\n    }\n    private static void quickSort(Staff[] staffs, int start, int end)\n    {\n\n            int i = start;\n            int j = end;\n            if (j - i &gt;= 1)\n            {\n                String pivot = staffs[i].dep;\n                while (j &gt; i)\n                {\n\n                    while (staffs[i].dep.compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i){\n                        i++;\n                    }\n\n                    while (staffs[j].dep.compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i){\n                        j--;\n                    }\n                    \n                    if (j &gt; i)\n                        swap(staffs, i, j);\n                }\n\n            \n                swap(staffs, start, j);\n                quickSort(staffs, start, j - 1);\n                quickSort(staffs, j + 1, end);\n            }\n        }\n\n        private static void swap(Staff[] staffs, int i, int j)\n        {\n        Staff temp = staffs[i];\n        staffs[i] = staffs[j];\n        staffs[j] = temp;\n        }\n    public static void PrintArray(Staff[] staffs) {\n        for(int a = 0; a&lt;staffs.length; a++) {\n            System.out.println(staffs[a].id+&quot;, &quot;+staffs[a].name+&quot;, &quot;+staffs[a].dep);\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n}\n</code></pre>\n<p>I sorted this object array in quicksort algorithm.\nIt will be sorted by department value.\nBut the thing is there are duplicated department value.\nI want to code that if there is duplicate value in department column,\nthen sorting object by ascending order of id.</p>\n<p>How can i handle this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1378305412,"post_id":18616646,"comment_id":27403577,"body_markdown":"Why all the null handling? It seems fairly pointless - returning -1 from methods like this is almost always a bad idea, IMO. Without that, the methods would be significantly simpler - to the extent that I&#39;d quite possibly just inline them...","body":"Why all the null handling? It seems fairly pointless - returning -1 from methods like this is almost always a bad idea, IMO. Without that, the methods would be significantly simpler - to the extent that I&#39;d quite possibly just inline them..."}],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378305438,"creation_date":1378305438,"answer_id":18616770,"question_id":18616646,"body_markdown":"I wonder if you have really tried to solve it by yourself.  It is so obvious and straight forward\r\n\r\npsuedo code:\r\n\r\n    if ( monthOf(currentDate) &gt;= MARCH) then\r\n      FY =  yearOf(currentDate) + &quot;-&quot; + (yearOf(currentDate) +1);\r\n    else \r\n      FY = (yearOf(currentDate) - 1) + &quot;-&quot; + yearOf(currentDate);\r\n\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>I wonder if you have really tried to solve it by yourself.  It is so obvious and straight forward</p>\n\n<p>psuedo code:</p>\n\n<pre><code>if ( monthOf(currentDate) &gt;= MARCH) then\n  FY =  yearOf(currentDate) + \"-\" + (yearOf(currentDate) +1);\nelse \n  FY = (yearOf(currentDate) - 1) + \"-\" + yearOf(currentDate);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1378306328,"post_id":18616781,"comment_id":27404183,"body_markdown":"`getMonth()` and `getYear()` are deprecated. See: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getMonth%28%29","body":"<code>getMonth()</code> and <code>getYear()</code> are deprecated. See: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getMonth%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"}],"tags":[],"owner":{"account_id":936797,"reputation":2054,"user_id":965593,"accept_rate":67,"display_name":"pamphlet"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378305460,"creation_date":1378305460,"answer_id":18616781,"question_id":18616646,"body_markdown":"Something like:\r\n\r\n    Date d = new Date();\r\n    int y = d.getMonth() &lt; 3 ? d.getYear() - 1 : d.getYear();\r\n\r\n    System.out.println(&quot;Financial Year : &quot; + y + &quot;-&quot; + (y + 1));\r\n    System.out.println(&quot;Financial month : &quot; + d.getMonth());","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>Something like:</p>\n\n<pre><code>Date d = new Date();\nint y = d.getMonth() &lt; 3 ? d.getYear() - 1 : d.getYear();\n\nSystem.out.println(\"Financial Year : \" + y + \"-\" + (y + 1));\nSystem.out.println(\"Financial month : \" + d.getMonth());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3771723,"reputation":1296,"user_id":3133704,"accept_rate":65,"display_name":"AntiMoron"},"score":1,"creation_date":1445827719,"post_id":18616915,"comment_id":54472020,"body_markdown":"it should be ```if(month &lt; 4)``` for you&#39;ve already add the month by 1.","body":"it should be <code>if(month &lt; 4)</code> for you&#39;ve already add the month by 1."},{"owner":{"account_id":3771723,"reputation":1296,"user_id":3133704,"accept_rate":65,"display_name":"AntiMoron"},"score":0,"creation_date":1445827757,"post_id":18616915,"comment_id":54472031,"body_markdown":"fiscal year starts at March 31th.","body":"fiscal year starts at March 31th."},{"owner":{"account_id":2069423,"reputation":6560,"user_id":1844210,"accept_rate":90,"display_name":"Vivek Sehrawat"},"score":0,"creation_date":1477571371,"post_id":18616915,"comment_id":67827521,"body_markdown":"In america it starts from 1st oct","body":"In america it starts from 1st oct"}],"tags":[],"owner":{"account_id":1384417,"reputation":1467,"user_id":1316731,"accept_rate":57,"display_name":"Umang Mehta"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1378305821,"creation_date":1378305821,"answer_id":18616915,"question_id":18616646,"body_markdown":"    public static void main(String[] args) {\r\n    \r\n        int year = Calendar.getInstance().get(Calendar.YEAR);\r\n    \r\n        int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\r\n        System.out.println(&quot;Financial month : &quot; + month);\r\n        if (month &lt; 3) {\r\n            System.out.println(&quot;Financial Year : &quot; + (year - 1) + &quot;-&quot; + year);\r\n        } else {\r\n            System.out.println(&quot;Financial Year : &quot; + year + &quot;-&quot; + (year + 1));\r\n        }\r\n    }\r\n\r\nJust remove the extra functions. ","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public static void main(String[] args) {\n\n    int year = Calendar.getInstance().get(Calendar.YEAR);\n\n    int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\n    System.out.println(\"Financial month : \" + month);\n    if (month &lt; 3) {\n        System.out.println(\"Financial Year : \" + (year - 1) + \"-\" + year);\n    } else {\n        System.out.println(\"Financial Year : \" + year + \"-\" + (year + 1));\n    }\n}\n</code></pre>\n\n<p>Just remove the extra functions. </p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378306691,"creation_date":1378306220,"answer_id":18617055,"question_id":18616646,"body_markdown":"It could be beneficial to make an object for the `FiscalDate` so you can reuse it throughout an application.  I would avoid deprecated methods such as `getMonth()` and `getYear()` as others have suggested.\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    \r\n    public class FiscalDate {\r\n    \r\n    \tprivate Date actual;\r\n    \tprivate int month;\r\n    \tprivate int year;\r\n    \r\n    \tpublic FiscalDate(Date date){\r\n    \t\tthis.actual = date;\r\n    \t\tthis.init();\r\n    \t}\r\n    \t\r\n    \tprivate void init(){\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(this.actual);\r\n    \t\tthis.month = cal.get(Calendar.MONTH);\r\n    \t    int advance = (this.month &lt;= 3) ? -1:0;\r\n    \t    this.year = cal.get(Calendar.YEAR) + advance;\r\n    \t}\r\n    \r\n    \tpublic Date getActual() {\r\n    \t\treturn actual;\r\n    \t}\r\n    \r\n    \tpublic void setActual(Date actual) {\r\n    \t\tthis.actual = actual;\r\n    \t}\r\n    \r\n    \tpublic int getMonth() {\r\n    \t\treturn month;\r\n    \t}\r\n    \r\n    \tpublic void setMonth(int month) {\r\n    \t\tthis.month = month;\r\n    \t}\r\n    \r\n    \tpublic int getYear() {\r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic void setYear(int year) {\r\n    \t\tthis.year = year;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFiscalDate fDate = new FiscalDate(new Date());\r\n    \t\tSystem.out.println(fDate.getYear());\r\n    \t}\r\n    }\r\n\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>It could be beneficial to make an object for the <code>FiscalDate</code> so you can reuse it throughout an application.  I would avoid deprecated methods such as <code>getMonth()</code> and <code>getYear()</code> as others have suggested.</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\n\npublic class FiscalDate {\n\n    private Date actual;\n    private int month;\n    private int year;\n\n    public FiscalDate(Date date){\n        this.actual = date;\n        this.init();\n    }\n\n    private void init(){\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(this.actual);\n        this.month = cal.get(Calendar.MONTH);\n        int advance = (this.month &lt;= 3) ? -1:0;\n        this.year = cal.get(Calendar.YEAR) + advance;\n    }\n\n    public Date getActual() {\n        return actual;\n    }\n\n    public void setActual(Date actual) {\n        this.actual = actual;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public static void main(String[] args) {\n        FiscalDate fDate = new FiscalDate(new Date());\n        System.out.println(fDate.getYear());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":1,"creation_date":1378340777,"post_id":18621248,"comment_id":27419918,"body_markdown":"Nice touch with the fiscal month","body":"Nice touch with the fiscal month"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1378319419,"creation_date":1378319419,"answer_id":18621248,"question_id":18616646,"body_markdown":"I suspect that one of the values needed is the fiscal month.  The fiscal month is the month within the fiscal year.  For instance, if the fiscal year starts in March, then March is the 0 month of the fiscal year.  February is the 11 month of the fiscal year.\r\n\r\nHere are some test results:\r\n\r\n    Current Date : Wed Sep 04 14:23:17 EDT 2013\r\n    Fiscal Years : 2013-2014\r\n    Fiscal Month : 6\r\n     \r\n    Current Date : Fri Feb 01 00:00:00 EST 2013\r\n    Fiscal Years : 2012-2013\r\n    Fiscal Month : 11\r\n     \r\n    Current Date : Wed Jul 25 00:00:00 EDT 2012\r\n    Fiscal Years : 2012-2013\r\n    Fiscal Month : 4\r\n\r\nBorrowing from [Kevin Bowersox&#39;s answer][1], here&#39;s a FiscalDate class that gives the fiscal year and fiscal month, as well as the calendar year and calendar month.  Both month values are zero based.\r\n\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class FiscalDate {\r\n    \r\n    \tprivate static final int\tFIRST_FISCAL_MONTH\t= Calendar.MARCH;\r\n    \r\n    \tprivate Calendar\t\t\tcalendarDate;\r\n    \r\n    \tpublic FiscalDate(Calendar calendarDate) {\r\n    \t\tthis.calendarDate = calendarDate;\r\n    \t}\r\n    \r\n    \tpublic FiscalDate(Date date) {\r\n    \t\tthis.calendarDate = Calendar.getInstance();\r\n    \t\tthis.calendarDate.setTime(date);\r\n    \t}\r\n    \r\n    \tpublic int getFiscalMonth() {\r\n    \t\tint month = calendarDate.get(Calendar.MONTH);\r\n    \t\tint result = ((month - FIRST_FISCAL_MONTH - 1) % 12) + 1;\r\n    \t\tif (result &lt; 0) {\r\n    \t\t\tresult += 12;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic int getFiscalYear() {\r\n    \t\tint month = calendarDate.get(Calendar.MONTH);\r\n    \t\tint year = calendarDate.get(Calendar.YEAR);\r\n    \t\treturn (month &gt;= FIRST_FISCAL_MONTH) ? year : year - 1;\r\n    \t}\r\n    \r\n    \tpublic int getCalendarMonth() {\r\n    \t\treturn calendarDate.get(Calendar.MONTH);\r\n    \t}\r\n    \r\n    \tpublic int getCalendarYear() {\r\n    \t\treturn calendarDate.get(Calendar.YEAR);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tdisplayFinancialDate(Calendar.getInstance());\r\n    \t\tdisplayFinancialDate(setDate(2013, 1, 1));\r\n    \t\tdisplayFinancialDate(setDate(2012, 6, 25));\r\n    \t}\r\n    \r\n    \tprivate static Calendar setDate(int year, int month, int day) {\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.set(Calendar.YEAR, year);\r\n    \t\tcalendar.set(Calendar.MONTH, month);\r\n    \t\tcalendar.set(Calendar.DAY_OF_MONTH, day);\r\n    \t\tcalendar.set(Calendar.HOUR_OF_DAY, 0);\r\n    \t\tcalendar.set(Calendar.MINUTE, 0);\r\n    \t\tcalendar.set(Calendar.SECOND, 0);\r\n    \r\n    \t\treturn calendar;\r\n    \t}\r\n    \r\n    \tprivate static void displayFinancialDate(Calendar calendar) {\r\n    \t\tFiscalDate fiscalDate = new FiscalDate(calendar);\r\n    \t\tint year = fiscalDate.getFiscalYear();\r\n    \t\tSystem.out.println(&quot;Current Date : &quot; + calendar.getTime().toString());\r\n    \t\tSystem.out.println(&quot;Fiscal Years : &quot; + year + &quot;-&quot; + (year + 1));\r\n    \t\tSystem.out.println(&quot;Fiscal Month : &quot; + fiscalDate.getFiscalMonth());\r\n    \t\tSystem.out.println(&quot; &quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18617055/300257","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>I suspect that one of the values needed is the fiscal month.  The fiscal month is the month within the fiscal year.  For instance, if the fiscal year starts in March, then March is the 0 month of the fiscal year.  February is the 11 month of the fiscal year.</p>\n\n<p>Here are some test results:</p>\n\n<pre><code>Current Date : Wed Sep 04 14:23:17 EDT 2013\nFiscal Years : 2013-2014\nFiscal Month : 6\n\nCurrent Date : Fri Feb 01 00:00:00 EST 2013\nFiscal Years : 2012-2013\nFiscal Month : 11\n\nCurrent Date : Wed Jul 25 00:00:00 EDT 2012\nFiscal Years : 2012-2013\nFiscal Month : 4\n</code></pre>\n\n<p>Borrowing from <a href=\"https://stackoverflow.com/a/18617055/300257\">Kevin Bowersox's answer</a>, here's a FiscalDate class that gives the fiscal year and fiscal month, as well as the calendar year and calendar month.  Both month values are zero based.</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class FiscalDate {\n\n    private static final int    FIRST_FISCAL_MONTH  = Calendar.MARCH;\n\n    private Calendar            calendarDate;\n\n    public FiscalDate(Calendar calendarDate) {\n        this.calendarDate = calendarDate;\n    }\n\n    public FiscalDate(Date date) {\n        this.calendarDate = Calendar.getInstance();\n        this.calendarDate.setTime(date);\n    }\n\n    public int getFiscalMonth() {\n        int month = calendarDate.get(Calendar.MONTH);\n        int result = ((month - FIRST_FISCAL_MONTH - 1) % 12) + 1;\n        if (result &lt; 0) {\n            result += 12;\n        }\n        return result;\n    }\n\n    public int getFiscalYear() {\n        int month = calendarDate.get(Calendar.MONTH);\n        int year = calendarDate.get(Calendar.YEAR);\n        return (month &gt;= FIRST_FISCAL_MONTH) ? year : year - 1;\n    }\n\n    public int getCalendarMonth() {\n        return calendarDate.get(Calendar.MONTH);\n    }\n\n    public int getCalendarYear() {\n        return calendarDate.get(Calendar.YEAR);\n    }\n\n    public static void main(String[] args) {\n        displayFinancialDate(Calendar.getInstance());\n        displayFinancialDate(setDate(2013, 1, 1));\n        displayFinancialDate(setDate(2012, 6, 25));\n    }\n\n    private static Calendar setDate(int year, int month, int day) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.YEAR, year);\n        calendar.set(Calendar.MONTH, month);\n        calendar.set(Calendar.DAY_OF_MONTH, day);\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n\n        return calendar;\n    }\n\n    private static void displayFinancialDate(Calendar calendar) {\n        FiscalDate fiscalDate = new FiscalDate(calendar);\n        int year = fiscalDate.getFiscalYear();\n        System.out.println(\"Current Date : \" + calendar.getTime().toString());\n        System.out.println(\"Fiscal Years : \" + year + \"-\" + (year + 1));\n        System.out.println(\"Fiscal Month : \" + fiscalDate.getFiscalMonth());\n        System.out.println(\" \");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3563024,"reputation":61,"user_id":3540613,"display_name":"APOORVA DOSHI"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595873209,"creation_date":1498021546,"answer_id":44667211,"question_id":18616646,"body_markdown":"    int CurrentYear = Calendar.getInstance().get(Calendar.YEAR);\r\n    int CurrentMonth = (Calendar.getInstance().get(Calendar.MONTH)+1);\r\n    String financiyalYearFrom=&quot;&quot;;\r\n    String financiyalYearTo=&quot;&quot;;\r\n    if (CurrentMonth&lt;4) {\r\n        financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear-1);\r\n        financiyalYearTo=&quot;31-03-&quot;+(CurrentYear);\r\n    } else {\r\n        financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear);\r\n        financiyalYearTo=&quot;31-03-&quot;+(CurrentYear+1);\r\n    }","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>int CurrentYear = Calendar.getInstance().get(Calendar.YEAR);\nint CurrentMonth = (Calendar.getInstance().get(Calendar.MONTH)+1);\nString financiyalYearFrom=&quot;&quot;;\nString financiyalYearTo=&quot;&quot;;\nif (CurrentMonth&lt;4) {\n    financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear-1);\n    financiyalYearTo=&quot;31-03-&quot;+(CurrentYear);\n} else {\n    financiyalYearFrom=&quot;01-04-&quot;+(CurrentYear);\n    financiyalYearTo=&quot;31-03-&quot;+(CurrentYear+1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9685238,"reputation":1700,"user_id":7185314,"accept_rate":100,"display_name":"TessavWalstijn"},"score":0,"creation_date":1522830139,"post_id":49645738,"comment_id":86300203,"body_markdown":"Please read the [how to answer](https://stackoverflow.com/help/how-to-answer) due to too less information.","body":"Please read the <a href=\"https://stackoverflow.com/help/how-to-answer\">how to answer</a> due to too less information."}],"tags":[],"owner":{"account_id":309146,"reputation":1,"user_id":621443,"display_name":"nivas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522829253,"creation_date":1522828854,"answer_id":49645738,"question_id":18616646,"body_markdown":"\tpublic interface FinancialYearService {\r\n\t\t public int getFinancialYear();\r\n\t\t public int getFinancialMonth();\r\n\t\t public void generateFinancialYearMonth(int month,int year);\r\n\t}\r\n\r\n\tpublic class FinancialYearServiceImpl implements FinancialYearService {\r\n\t\t\r\n\t\tprivate int financialYear;\r\n\t\tprivate int financialMonth;\r\n\t\r\n\t\tprivate void setFinancialYear(int financialYear) {\r\n\t\t\tthis.financialYear = financialYear;\r\n\t\t}\r\n\t\r\n\t\tprivate void setFinancialMonth(int financialMonth) {\r\n\t\t\tthis.financialMonth = financialMonth;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getFinancialYear() {\r\n\t\t\t \r\n\t\t\treturn financialYear;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int getFinancialMonth() {\r\n\t\t\t\r\n\t\t\treturn financialMonth;\r\n\t\t}\r\n\t\r\n\t\t/*\r\n\t\t * (non-Javadoc)\r\n\t\t * have to send current month and year to get financial month and year \r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic void generateFinancialYearMonth(int month,int year) {\r\n\t\t\t \r\n\t\t\tif(month &lt;= 3 ){ \r\n\t\t\t\r\n\t\t\t  setFinancialMonth(month + 9);\r\n\t\t\t  setFinancialYear(year - 1); \r\n\t\t\t\r\n\t\t    }\r\n\t\t    else{\r\n\t\t\t\r\n\t\t\t  setFinancialMonth(month - 3);\r\n\t\t\t  setFinancialYear(year);\r\n\t\t\t\r\n\t\t    }\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public interface FinancialYearService {\n     public int getFinancialYear();\n     public int getFinancialMonth();\n     public void generateFinancialYearMonth(int month,int year);\n}\n\npublic class FinancialYearServiceImpl implements FinancialYearService {\n\n    private int financialYear;\n    private int financialMonth;\n\n    private void setFinancialYear(int financialYear) {\n        this.financialYear = financialYear;\n    }\n\n    private void setFinancialMonth(int financialMonth) {\n        this.financialMonth = financialMonth;\n    }\n\n    @Override\n    public int getFinancialYear() {\n\n        return financialYear;\n    }\n\n    @Override\n    public int getFinancialMonth() {\n\n        return financialMonth;\n    }\n\n    /*\n     * (non-Javadoc)\n     * have to send current month and year to get financial month and year \n     */\n    @Override\n    public void generateFinancialYearMonth(int month,int year) {\n\n        if(month &lt;= 3 ){ \n\n          setFinancialMonth(month + 9);\n          setFinancialYear(year - 1); \n\n        }\n        else{\n\n          setFinancialMonth(month - 3);\n          setFinancialYear(year);\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1269331,"reputation":1260,"user_id":1225994,"accept_rate":78,"display_name":"Dipin Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571665258,"creation_date":1571665258,"answer_id":58487572,"question_id":18616646,"body_markdown":"For those who are looking for a solution in JavaScript, here it is using [MomentJS][1] library.\r\n\r\n    let financialYear;\r\n    let today = moment();\r\n    if(today.month() &gt;= 3){\r\n        financialYear = today.format(&#39;YYYY&#39;) + &#39;-&#39; + today.add(1, &#39;years&#39;).format(&#39;YYYY&#39;)\r\n    }\r\n    else{\r\n        financialYear = today.subtract(1, &#39;years&#39;).format(&#39;YYYY&#39;) + &#39;-&#39; + today.add(1, &#39;years&#39;).format(&#39;YYYY&#39;)\r\n    }\r\n    console.log(financialYear)\r\n\r\nhttps://codepen.io/connect_dips/pen/QWWdwed\r\n\r\n  [1]: https://momentjs.com/","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>For those who are looking for a solution in JavaScript, here it is using <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">MomentJS</a> library.</p>\n\n<pre><code>let financialYear;\nlet today = moment();\nif(today.month() &gt;= 3){\n    financialYear = today.format('YYYY') + '-' + today.add(1, 'years').format('YYYY')\n}\nelse{\n    financialYear = today.subtract(1, 'years').format('YYYY') + '-' + today.add(1, 'years').format('YYYY')\n}\nconsole.log(financialYear)\n</code></pre>\n\n<p><a href=\"https://codepen.io/connect_dips/pen/QWWdwed\" rel=\"nofollow noreferrer\">https://codepen.io/connect_dips/pen/QWWdwed</a></p>\n"},{"tags":[],"owner":{"account_id":19171035,"reputation":1,"user_id":14004781,"display_name":"Raman Kansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595873005,"creation_date":1595870543,"answer_id":63120396,"question_id":18616646,"body_markdown":"This code allows you to set an anniversary date and set the fiscal year on different constructors with the given assumptions.\r\n\r\n    public class FiscalYear {\r\n\r\n        public String fyAnnualStartDate = &quot;02-01&quot;;\r\n        public Calendar fyCalStart;\r\n        public Calendar fyCalEnd;\r\n        public Date fyStartDate;\r\n        public Date fyEndDate;\r\n        public int year;\r\n        public int month;\r\n        public int day;\r\n        public String timeZone = &quot;PST&quot;;\r\n        protected  SimpleDateFormat isoSDF = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n        public  Date statusTime = null;\r\n        public  String stringTime = &quot;&quot;;\r\n        public String fyName;\r\n    \r\n        /**\r\n         * This is our lazy constructor assumes this is 02-01 for the start year and PST for the time zone\r\n         * \r\n         * Assumes that the year passed is the start of the year which assigns to the fiscal year\r\n         * \r\n         * I.E. 2020 would be fy21\r\n         * \r\n         * @param year\r\n         * @throws ParseException\r\n         */\r\n        public FiscalYear(int year) throws ParseException {\r\n            // TODO Auto-generated constructor stub\r\n            this.year = year;\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n    \r\n        public FiscalYear(int year, String zone) throws ParseException {\r\n            // TODO Auto-generated constructor stub\r\n            this.year = year;\r\n            this.timeZone = zone;\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\r\n         * @param year\r\n         * @param zone\r\n         * @param annualStartDate\r\n         * @throws ParseException\r\n         */\r\n        public FiscalYear(int year, String zone, String annualStartDate) throws ParseException {\r\n            // TODO Auto-generated constructor stub\r\n            \r\n            this.fyAnnualStartDate = annualStartDate;\r\n            this.year = year;\r\n            this.timeZone = zone;\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\r\n         * However this allows you to provide the current date or date in general to confirm the true fiscal year\r\n         * @param year\r\n         * @param zone\r\n         * @param annualStartDate\r\n         * @throws Exception\r\n         */\r\n        public FiscalYear(Date year, String zone, String annualStartDate) throws Exception {\r\n            // TODO Auto-generated constructor stub\r\n            \r\n            this.timeZone = zone;\r\n            this.fyAnnualStartDate = annualStartDate;\r\n            this.year = getActualYear(year);\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * This constructor allows you to provide the current date or date in general to confirm the true fiscal year\r\n         * Default annual start date is set in var fyAnnualStartDate\r\n         * \r\n         * @param year\r\n         * @throws Exception\r\n         */\r\n        public FiscalYear(Date year) throws Exception {\r\n            // TODO Auto-generated constructor stub\r\n            \r\n            this.year = getActualYear(year);\r\n            setYearMonth();\r\n            setDates();\r\n            setName();\r\n        }\r\n        \r\n        /**\r\n         * Gets the actual FY to be correct given the window can a Fiscal year can have two years within it\r\n         * \r\n         * This tests to figure out which FY this should instantiate to given the date you are providing based on the start date and logic that\r\n         * Fiscal Year 21 corresponds to the a lesser actual start year \r\n         * I.E. 2020 would be fy21\r\n         * @param year2\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public static int getActualYear(Date year2) throws Exception {\r\n            // TODO Auto-generated method stub\r\n            SimpleDateFormat isoSDFTest = new SimpleDateFormat(&quot;yyyy&quot;);\r\n            \r\n            FiscalYear test = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2)));\r\n            FiscalYear testBefore = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))-1);\r\n            FiscalYear testAfter = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))+1);\r\n            \r\n            if ((test.getStartDateAsDate().before(year2) &amp;&amp; test.getEndDateAsDate().after(year2)) || year2.equals(test.getStartDateAsDate()) || year2.equals(test.getEndDateAsDate())) {\r\n                return Integer.parseInt(isoSDFTest.format(test.getStartDateAsDate()));\r\n            }\r\n            \r\n            if ((testBefore.getStartDateAsDate().before(year2) &amp;&amp; testBefore.getEndDateAsDate().after(year2)) || year2.equals(testBefore.getStartDateAsDate()) || year2.equals(testBefore.getEndDateAsDate())) {\r\n                return Integer.parseInt(isoSDFTest.format(testBefore.getStartDateAsDate()));\r\n            }\r\n            \r\n            if ((testAfter.getStartDateAsDate().before(year2) &amp;&amp; testAfter.getEndDateAsDate().after(year2)) || year2.equals(testAfter.getStartDateAsDate()) || year2.equals(testAfter.getEndDateAsDate())) {\r\n                return Integer.parseInt(isoSDFTest.format(testAfter.getStartDateAsDate()));\r\n            }\r\n            \r\n            throw new Exception(&quot;Issue figuring window out&quot;);\r\n        }\r\n    \r\n        private void setName() {\r\n            // TODO Auto-generated method stub\r\n            String fy = &quot;FY&quot;;\r\n            this.fyName = fy+String.valueOf(year+1).substring(2,4);\r\n        }\r\n    \r\n        private void setYearMonth() {\r\n            // TODO Auto-generated method stub\r\n            String []  arr = fyAnnualStartDate.split(&quot;-&quot;);\r\n            month = Integer.parseInt(arr[0])-1;\r\n            day = Integer.parseInt(arr[1]);\r\n        }\r\n    \r\n        private void setDates() throws ParseException {\r\n            // TODO Auto-generated method stub\r\n            isoSDF.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n    \r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTimeZone(TimeZone.getTimeZone(timeZone));\r\n            cal.set(Calendar.YEAR, year);\r\n            cal.set(Calendar.MONTH, month);\r\n            cal.set(Calendar.DAY_OF_MONTH, day);\r\n            cal.set(Calendar.HOUR_OF_DAY,0);\r\n            cal.set(Calendar.MINUTE,0);\r\n            cal.set(Calendar.SECOND,0);\r\n            cal.set(Calendar.MILLISECOND,0);\r\n    \r\n            fyCalStart = cal;\r\n            fyStartDate = cal.getTime();\r\n    \r\n            Calendar endCal = (Calendar) cal.clone();\r\n            endCal.add(Calendar.YEAR, 1);\r\n            endCal.add(Calendar.SECOND,-1);\r\n    \r\n            fyCalEnd = endCal;\r\n            fyEndDate = endCal.getTime();\r\n    \r\n            statusTime = isoSDF.parse(isoSDF.format(new Date()));\r\n            stringTime = isoSDF.format(statusTime);\r\n        }\r\n    \r\n        public String getStartDate() {\r\n            return isoSDF.format(fyStartDate);\r\n        }\r\n    \r\n        public String getEndDate() {\r\n            return  isoSDF.format(fyEndDate);\r\n        }\r\n        \r\n        public Date getStartDateAsDate() {\r\n            return fyStartDate;\r\n        }\r\n    \r\n        public Date getEndDateAsDate() {\r\n            return  fyEndDate;\r\n        }\r\n    \r\n        public void shiftWindow(int shift) {\r\n            fyCalStart.add(Calendar.YEAR, shift);\r\n            fyCalEnd.add(Calendar.YEAR, shift);\r\n            fyStartDate = fyCalStart.getTime();\r\n            fyEndDate = fyCalEnd.getTime();\r\n            year = year + shift;\r\n            setName();\r\n        }\r\n    \r\n        public String getQuarterStartDate(int quarter) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n    \r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, 3);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, 6);\r\n            } else {\r\n                temp.add(Calendar.MONTH, 9);\r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public String getQuarterEndDate(int quarter) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n                temp.add(Calendar.MONTH, -9);\r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, -6);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, -3);\r\n            } else {\r\n    \r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public String getMonthStartDate(int quarter, int month) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n    \r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 1);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 2);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 3);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 5);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 6);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 8);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 9);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 11);\r\n                }\r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public String getMonthEndDate(int quarter, int month) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -11);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -9);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -8);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -6);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -5);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -3);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -2);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -1);\r\n                } else {\r\n    \r\n                }\r\n            }\r\n    \r\n            Date tempDate = temp.getTime();\r\n            return isoSDF.format(tempDate);\r\n        }\r\n    \r\n        public Date getQuarterStartDateAsDate(int quarter) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n    \r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, 3);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, 6);\r\n            } else {\r\n                temp.add(Calendar.MONTH, 9);\r\n            }\r\n    \r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n    \r\n        public Date getQuarterEndDateAsDate(int quarter) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n    \r\n            if (quarter==1) {\r\n                temp.add(Calendar.MONTH, -9);\r\n            } else if (quarter==2) {\r\n                temp.add(Calendar.MONTH, -6);\r\n            } else if (quarter==3) {\r\n                temp.add(Calendar.MONTH, -3);\r\n            } else {\r\n    \r\n            }\r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n    \r\n        public Date getMonthStartDateAsDate(int quarter, int month) throws Exception {\r\n            Calendar temp =  (Calendar) fyCalStart.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n    \r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 1);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 2);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 3);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 5);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 6);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 8);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, 9);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, 10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, 11);\r\n                }\r\n            }\r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n    \r\n        public Date getMonthEndDateAsDate(int quarter, int month) throws Exception {\r\n            Calendar temp = (Calendar) fyCalEnd.clone();\r\n    \r\n            quarter = validateQuarter(quarter);\r\n            month = validateMonth(month);\r\n    \r\n            if (quarter==1) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -11);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -10);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -9);\r\n                }\r\n            } else if (quarter==2) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -8);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -7);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -6);\r\n                }\r\n            } else if (quarter==3) {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -5);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -4);\r\n                } else {\r\n                    temp.add(Calendar.MONTH, -3);\r\n                }\r\n            } else {\r\n                if (month==1) {\r\n                    temp.add(Calendar.MONTH, -2);\r\n                } else if (month==2) {\r\n                    temp.add(Calendar.MONTH, -1);\r\n                } else {\r\n    \r\n                }\r\n            }\r\n            \r\n            Date tempDate = temp.getTime();\r\n            \r\n            return tempDate;\r\n        }\r\n        \r\n        /**\r\n         * Gets the current FY year based on start year\r\n         * @return\r\n         */\r\n        public String getFYName() {\r\n            return fyName;\r\n        }\r\n    \r\n        /**\r\n         * Gets a systematic name for the FY year plus quarter\r\n         * @param quarter\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public String getQuarterName(int quarter) throws Exception {\r\n            quarter=validateQuarter(quarter);\r\n            return fyName+&quot;.Q&quot;+quarter;\r\n        }\r\n    \r\n        /**\r\n         * Gets a systematic name for the FY year, quarter and month\r\n         * @param quarter\r\n         * @param month\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public String getMonthName(int quarter, int month) throws Exception {\r\n            quarter=validateQuarter(quarter);\r\n            month=validateMonth(month);\r\n            return fyName+&quot;.Q&quot;+quarter+&quot;.M&quot;+month;\r\n        }\r\n    \r\n        public int validateQuarter(int quarter) throws Exception {\r\n            int [] test = {1,2,3,4};\r\n    \r\n            for(int i:test) {\r\n                if (i==quarter) {\r\n                    return i;\r\n                }\r\n            }\r\n    \r\n            throw new Exception(&quot;Invalid Quarter&quot;);\r\n        }\r\n    \r\n        public int validateMonth(int month) throws Exception {\r\n            int [] test = {1,2,3};\r\n    \r\n            for(int i:test) {\r\n                if (i==month) {\r\n                    return i;\r\n                }\r\n            }\r\n\r\n            throw new Exception(&quot;Invalid Month&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Method tests if given a string format does it belong to the current fiscalyear\r\n         * Does not say if its a future or past just returns true or false\r\n         * @param fy\r\n         * @return\r\n         * @throws Exception \r\n         */\r\n        public static boolean inCurrentFyWindow(String fy) throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n    \r\n            if (fy.length()==8 ||fy.length()==6) {\r\n                //FY21Q1M1\r\n                String fyName = fy.split(&quot;Q&quot;)[0];\r\n    \r\n                if (test.getFYName().toLowerCase().equals(fyName.toLowerCase())) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n    \r\n            } else {\r\n                //FY21\r\n                if (test.getFYName().toLowerCase().equals(fy.toLowerCase())) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Method tests if the string for FiscalYear being passed has passed or not based on the current FiscalYear\r\n         * \r\n         * This can test FY year, FY year, quarter and finally FY year, quarter and month combinations\r\n         * \r\n         * @param fy\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public static boolean hasWindowHappenedFully(String fy) throws Exception {\r\n            Date yearTest = new Date();\r\n            \r\n            if (fy.length()==8) {\r\n                //FY21Q1M1\r\n                String fyName = &quot;20&quot; + fy.substring(2, 4);\r\n                int quarter = Integer.parseInt(fy.substring(5, 6));\r\n                int month = Integer.parseInt(fy.substring(7, 8));\r\n                \r\n                FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\r\n                \r\n                if (yearTest.after(yQM.getMonthEndDateAsDate(quarter, month))) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else if (fy.length()==6) {\r\n                //FY21Q1\r\n                String fyName = &quot;20&quot; + fy.substring(2, 4);\r\n                int quarter = Integer.parseInt(fy.substring(5, 6));\r\n    \r\n                FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\r\n    \r\n                if (yearTest.after(yQM.getQuarterEndDateAsDate(quarter))) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                //FY21\r\n                String fyName = &quot;20&quot; + fy.substring(2, 4);\r\n    \r\n                FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\r\n                \r\n                if (yearTest.after(yQM.getEndDateAsDate())) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        public static String getCurrentFiscalYear() throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n            return  test.getFYName();\r\n        }\r\n        \r\n        public static String getCurrentFiscalYearQuarter() throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getCurrentFiscalYearQuarterMonth() throws Exception {\r\n            Date yearTest = new Date();\r\n            FiscalYear test = new FiscalYear(yearTest);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getFiscalYear(Date year2) throws Exception {\r\n            FiscalYear test = new FiscalYear(year2);\r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getFiscalYearQuarter(Date year2) throws Exception {\r\n            FiscalYear test = new FiscalYear(year2);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n        \r\n        public static String getFiscalYearQuarterMonth(Date year2) throws Exception {\r\n            FiscalYear test = new FiscalYear(year2);\r\n            \r\n            for(int q=1; q&lt;=4; q++ ) {\r\n                for(int m=1; m&lt;=3; m++ )\r\n                    if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\r\n                        return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\r\n                    }\r\n                \r\n            }\r\n            \r\n            return test.getFYName();\r\n        }\r\n\r\n    }\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>This code allows you to set an anniversary date and set the fiscal year on different constructors with the given assumptions.</p>\n<pre><code>public class FiscalYear {\n\n    public String fyAnnualStartDate = &quot;02-01&quot;;\n    public Calendar fyCalStart;\n    public Calendar fyCalEnd;\n    public Date fyStartDate;\n    public Date fyEndDate;\n    public int year;\n    public int month;\n    public int day;\n    public String timeZone = &quot;PST&quot;;\n    protected  SimpleDateFormat isoSDF = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;);\n    public  Date statusTime = null;\n    public  String stringTime = &quot;&quot;;\n    public String fyName;\n\n    /**\n     * This is our lazy constructor assumes this is 02-01 for the start year and PST for the time zone\n     * \n     * Assumes that the year passed is the start of the year which assigns to the fiscal year\n     * \n     * I.E. 2020 would be fy21\n     * \n     * @param year\n     * @throws ParseException\n     */\n    public FiscalYear(int year) throws ParseException {\n        // TODO Auto-generated constructor stub\n        this.year = year;\n        setYearMonth();\n        setDates();\n        setName();\n    }\n\n    public FiscalYear(int year, String zone) throws ParseException {\n        // TODO Auto-generated constructor stub\n        this.year = year;\n        this.timeZone = zone;\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\n     * @param year\n     * @param zone\n     * @param annualStartDate\n     * @throws ParseException\n     */\n    public FiscalYear(int year, String zone, String annualStartDate) throws ParseException {\n        // TODO Auto-generated constructor stub\n        \n        this.fyAnnualStartDate = annualStartDate;\n        this.year = year;\n        this.timeZone = zone;\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * This constructor allows you to set the annualstartdate if you need to adjust the fiscal year to a new company\n     * However this allows you to provide the current date or date in general to confirm the true fiscal year\n     * @param year\n     * @param zone\n     * @param annualStartDate\n     * @throws Exception\n     */\n    public FiscalYear(Date year, String zone, String annualStartDate) throws Exception {\n        // TODO Auto-generated constructor stub\n        \n        this.timeZone = zone;\n        this.fyAnnualStartDate = annualStartDate;\n        this.year = getActualYear(year);\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * This constructor allows you to provide the current date or date in general to confirm the true fiscal year\n     * Default annual start date is set in var fyAnnualStartDate\n     * \n     * @param year\n     * @throws Exception\n     */\n    public FiscalYear(Date year) throws Exception {\n        // TODO Auto-generated constructor stub\n        \n        this.year = getActualYear(year);\n        setYearMonth();\n        setDates();\n        setName();\n    }\n    \n    /**\n     * Gets the actual FY to be correct given the window can a Fiscal year can have two years within it\n     * \n     * This tests to figure out which FY this should instantiate to given the date you are providing based on the start date and logic that\n     * Fiscal Year 21 corresponds to the a lesser actual start year \n     * I.E. 2020 would be fy21\n     * @param year2\n     * @return\n     * @throws Exception\n     */\n    public static int getActualYear(Date year2) throws Exception {\n        // TODO Auto-generated method stub\n        SimpleDateFormat isoSDFTest = new SimpleDateFormat(&quot;yyyy&quot;);\n        \n        FiscalYear test = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2)));\n        FiscalYear testBefore = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))-1);\n        FiscalYear testAfter = new FiscalYear(Integer.parseInt(isoSDFTest.format(year2))+1);\n        \n        if ((test.getStartDateAsDate().before(year2) &amp;&amp; test.getEndDateAsDate().after(year2)) || year2.equals(test.getStartDateAsDate()) || year2.equals(test.getEndDateAsDate())) {\n            return Integer.parseInt(isoSDFTest.format(test.getStartDateAsDate()));\n        }\n        \n        if ((testBefore.getStartDateAsDate().before(year2) &amp;&amp; testBefore.getEndDateAsDate().after(year2)) || year2.equals(testBefore.getStartDateAsDate()) || year2.equals(testBefore.getEndDateAsDate())) {\n            return Integer.parseInt(isoSDFTest.format(testBefore.getStartDateAsDate()));\n        }\n        \n        if ((testAfter.getStartDateAsDate().before(year2) &amp;&amp; testAfter.getEndDateAsDate().after(year2)) || year2.equals(testAfter.getStartDateAsDate()) || year2.equals(testAfter.getEndDateAsDate())) {\n            return Integer.parseInt(isoSDFTest.format(testAfter.getStartDateAsDate()));\n        }\n        \n        throw new Exception(&quot;Issue figuring window out&quot;);\n    }\n\n    private void setName() {\n        // TODO Auto-generated method stub\n        String fy = &quot;FY&quot;;\n        this.fyName = fy+String.valueOf(year+1).substring(2,4);\n    }\n\n    private void setYearMonth() {\n        // TODO Auto-generated method stub\n        String []  arr = fyAnnualStartDate.split(&quot;-&quot;);\n        month = Integer.parseInt(arr[0])-1;\n        day = Integer.parseInt(arr[1]);\n    }\n\n    private void setDates() throws ParseException {\n        // TODO Auto-generated method stub\n        isoSDF.setTimeZone(TimeZone.getTimeZone(timeZone));\n\n        Calendar cal = Calendar.getInstance();\n        cal.setTimeZone(TimeZone.getTimeZone(timeZone));\n        cal.set(Calendar.YEAR, year);\n        cal.set(Calendar.MONTH, month);\n        cal.set(Calendar.DAY_OF_MONTH, day);\n        cal.set(Calendar.HOUR_OF_DAY,0);\n        cal.set(Calendar.MINUTE,0);\n        cal.set(Calendar.SECOND,0);\n        cal.set(Calendar.MILLISECOND,0);\n\n        fyCalStart = cal;\n        fyStartDate = cal.getTime();\n\n        Calendar endCal = (Calendar) cal.clone();\n        endCal.add(Calendar.YEAR, 1);\n        endCal.add(Calendar.SECOND,-1);\n\n        fyCalEnd = endCal;\n        fyEndDate = endCal.getTime();\n\n        statusTime = isoSDF.parse(isoSDF.format(new Date()));\n        stringTime = isoSDF.format(statusTime);\n    }\n\n    public String getStartDate() {\n        return isoSDF.format(fyStartDate);\n    }\n\n    public String getEndDate() {\n        return  isoSDF.format(fyEndDate);\n    }\n    \n    public Date getStartDateAsDate() {\n        return fyStartDate;\n    }\n\n    public Date getEndDateAsDate() {\n        return  fyEndDate;\n    }\n\n    public void shiftWindow(int shift) {\n        fyCalStart.add(Calendar.YEAR, shift);\n        fyCalEnd.add(Calendar.YEAR, shift);\n        fyStartDate = fyCalStart.getTime();\n        fyEndDate = fyCalEnd.getTime();\n        year = year + shift;\n        setName();\n    }\n\n    public String getQuarterStartDate(int quarter) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, 3);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, 6);\n        } else {\n            temp.add(Calendar.MONTH, 9);\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public String getQuarterEndDate(int quarter) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n            temp.add(Calendar.MONTH, -9);\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, -6);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, -3);\n        } else {\n\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public String getMonthStartDate(int quarter, int month) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 1);\n            } else {\n                temp.add(Calendar.MONTH, 2);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 3);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 4);\n            } else {\n                temp.add(Calendar.MONTH, 5);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 6);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 7);\n            } else {\n                temp.add(Calendar.MONTH, 8);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 9);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 10);\n            } else {\n                temp.add(Calendar.MONTH, 11);\n            }\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public String getMonthEndDate(int quarter, int month) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -11);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -10);\n            } else {\n                temp.add(Calendar.MONTH, -9);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -8);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -7);\n            } else {\n                temp.add(Calendar.MONTH, -6);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -5);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -4);\n            } else {\n                temp.add(Calendar.MONTH, -3);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -2);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -1);\n            } else {\n\n            }\n        }\n\n        Date tempDate = temp.getTime();\n        return isoSDF.format(tempDate);\n    }\n\n    public Date getQuarterStartDateAsDate(int quarter) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, 3);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, 6);\n        } else {\n            temp.add(Calendar.MONTH, 9);\n        }\n\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n\n    public Date getQuarterEndDateAsDate(int quarter) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n\n        if (quarter==1) {\n            temp.add(Calendar.MONTH, -9);\n        } else if (quarter==2) {\n            temp.add(Calendar.MONTH, -6);\n        } else if (quarter==3) {\n            temp.add(Calendar.MONTH, -3);\n        } else {\n\n        }\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n\n    public Date getMonthStartDateAsDate(int quarter, int month) throws Exception {\n        Calendar temp =  (Calendar) fyCalStart.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 1);\n            } else {\n                temp.add(Calendar.MONTH, 2);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 3);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 4);\n            } else {\n                temp.add(Calendar.MONTH, 5);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 6);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 7);\n            } else {\n                temp.add(Calendar.MONTH, 8);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, 9);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, 10);\n            } else {\n                temp.add(Calendar.MONTH, 11);\n            }\n        }\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n\n    public Date getMonthEndDateAsDate(int quarter, int month) throws Exception {\n        Calendar temp = (Calendar) fyCalEnd.clone();\n\n        quarter = validateQuarter(quarter);\n        month = validateMonth(month);\n\n        if (quarter==1) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -11);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -10);\n            } else {\n                temp.add(Calendar.MONTH, -9);\n            }\n        } else if (quarter==2) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -8);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -7);\n            } else {\n                temp.add(Calendar.MONTH, -6);\n            }\n        } else if (quarter==3) {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -5);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -4);\n            } else {\n                temp.add(Calendar.MONTH, -3);\n            }\n        } else {\n            if (month==1) {\n                temp.add(Calendar.MONTH, -2);\n            } else if (month==2) {\n                temp.add(Calendar.MONTH, -1);\n            } else {\n\n            }\n        }\n        \n        Date tempDate = temp.getTime();\n        \n        return tempDate;\n    }\n    \n    /**\n     * Gets the current FY year based on start year\n     * @return\n     */\n    public String getFYName() {\n        return fyName;\n    }\n\n    /**\n     * Gets a systematic name for the FY year plus quarter\n     * @param quarter\n     * @return\n     * @throws Exception\n     */\n    public String getQuarterName(int quarter) throws Exception {\n        quarter=validateQuarter(quarter);\n        return fyName+&quot;.Q&quot;+quarter;\n    }\n\n    /**\n     * Gets a systematic name for the FY year, quarter and month\n     * @param quarter\n     * @param month\n     * @return\n     * @throws Exception\n     */\n    public String getMonthName(int quarter, int month) throws Exception {\n        quarter=validateQuarter(quarter);\n        month=validateMonth(month);\n        return fyName+&quot;.Q&quot;+quarter+&quot;.M&quot;+month;\n    }\n\n    public int validateQuarter(int quarter) throws Exception {\n        int [] test = {1,2,3,4};\n\n        for(int i:test) {\n            if (i==quarter) {\n                return i;\n            }\n        }\n\n        throw new Exception(&quot;Invalid Quarter&quot;);\n    }\n\n    public int validateMonth(int month) throws Exception {\n        int [] test = {1,2,3};\n\n        for(int i:test) {\n            if (i==month) {\n                return i;\n            }\n        }\n\n        throw new Exception(&quot;Invalid Month&quot;);\n    }\n\n    /**\n     * Method tests if given a string format does it belong to the current fiscalyear\n     * Does not say if its a future or past just returns true or false\n     * @param fy\n     * @return\n     * @throws Exception \n     */\n    public static boolean inCurrentFyWindow(String fy) throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n\n        if (fy.length()==8 ||fy.length()==6) {\n            //FY21Q1M1\n            String fyName = fy.split(&quot;Q&quot;)[0];\n\n            if (test.getFYName().toLowerCase().equals(fyName.toLowerCase())) {\n                return true;\n            } else {\n                return false;\n            }\n\n        } else {\n            //FY21\n            if (test.getFYName().toLowerCase().equals(fy.toLowerCase())) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    \n    /**\n     * Method tests if the string for FiscalYear being passed has passed or not based on the current FiscalYear\n     * \n     * This can test FY year, FY year, quarter and finally FY year, quarter and month combinations\n     * \n     * @param fy\n     * @return\n     * @throws Exception\n     */\n    public static boolean hasWindowHappenedFully(String fy) throws Exception {\n        Date yearTest = new Date();\n        \n        if (fy.length()==8) {\n            //FY21Q1M1\n            String fyName = &quot;20&quot; + fy.substring(2, 4);\n            int quarter = Integer.parseInt(fy.substring(5, 6));\n            int month = Integer.parseInt(fy.substring(7, 8));\n            \n            FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\n            \n            if (yearTest.after(yQM.getMonthEndDateAsDate(quarter, month))) {\n                return true;\n            } else {\n                return false;\n            }\n        } else if (fy.length()==6) {\n            //FY21Q1\n            String fyName = &quot;20&quot; + fy.substring(2, 4);\n            int quarter = Integer.parseInt(fy.substring(5, 6));\n\n            FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\n\n            if (yearTest.after(yQM.getQuarterEndDateAsDate(quarter))) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            //FY21\n            String fyName = &quot;20&quot; + fy.substring(2, 4);\n\n            FiscalYear yQM = new FiscalYear(Integer.parseInt(fyName)-1);\n            \n            if (yearTest.after(yQM.getEndDateAsDate())) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n    \n    public static String getCurrentFiscalYear() throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n        return  test.getFYName();\n    }\n    \n    public static String getCurrentFiscalYearQuarter() throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\n                    return test.getFYName()+&quot;.Q&quot;+q;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n    \n    public static String getCurrentFiscalYearQuarterMonth() throws Exception {\n        Date yearTest = new Date();\n        FiscalYear test = new FiscalYear(yearTest);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(yearTest) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(yearTest)) {\n                    return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n    \n    public static String getFiscalYear(Date year2) throws Exception {\n        FiscalYear test = new FiscalYear(year2);\n        return test.getFYName();\n    }\n    \n    public static String getFiscalYearQuarter(Date year2) throws Exception {\n        FiscalYear test = new FiscalYear(year2);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\n                    return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n    \n    public static String getFiscalYearQuarterMonth(Date year2) throws Exception {\n        FiscalYear test = new FiscalYear(year2);\n        \n        for(int q=1; q&lt;=4; q++ ) {\n            for(int m=1; m&lt;=3; m++ )\n                if (test.getMonthStartDateAsDate(q, m).before(year2) &amp;&amp; test.getMonthEndDateAsDate(q, m).after(year2) || year2.equals(test.getMonthStartDateAsDate(q, m)) || year2.equals(test.getMonthEndDateAsDate(q, m))) {\n                    return test.getFYName()+&quot;.Q&quot;+q+&quot;.M&quot;+m;\n                }\n            \n        }\n        \n        return test.getFYName();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326808,"reputation":11,"user_id":5446718,"display_name":"user23509"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613072615,"creation_date":1613072615,"answer_id":66161727,"question_id":18616646,"body_markdown":"Javascript\r\n\r\n        let FY = document.getElementById(&quot;fYear&quot;);\r\n        FY.innerHTML = new Date().getMonth() &lt;= 9 ? &quot;Fiscal Year &quot;+new Date().getFullYear() : &quot;Fiscal Year &quot;+new Date().getFullYear() +1;","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>Javascript</p>\n<pre><code>    let FY = document.getElementById(&quot;fYear&quot;);\n    FY.innerHTML = new Date().getMonth() &lt;= 9 ? &quot;Fiscal Year &quot;+new Date().getFullYear() : &quot;Fiscal Year &quot;+new Date().getFullYear() +1;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1641293765,"post_id":70577199,"comment_id":124762122,"body_markdown":"Can you explain how it works ? Like [edit] and add details","body":"Can you explain how it works ? Like <a href=\"https://stackoverflow.com/posts/70577199/edit\">edit</a> and add details"}],"tags":[],"owner":{"account_id":13437764,"reputation":11,"user_id":9695738,"display_name":"Shashikant"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641293749,"creation_date":1641291515,"answer_id":70577199,"question_id":18616646,"body_markdown":"Simple solution to find given date financial year in Java\r\n  \r\n    package testing;\r\n    \r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.util.Date;\r\n    \r\n    public class CurrentFinancialYear {\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tSystem.out.println(getActualFinancialYear(&quot;01-02-2022 23:10:10&quot;));\r\n    \t}    \t\r\n\r\n    \tpublic static int getActualFinancialYear(String givendate) throws ParseException {\r\n    \t\t\r\n    \t\tSimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\tDate givenDate=formatter.parse(givendate);\r\n    \t\tLocalDate localDate1 = givenDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n    \t\tint year = localDate1.getYear();\r\n    \t\tString fiscaldate = &quot;31-03-&quot; + year + &quot; 23:59:59&quot;;\r\n    \t\tDate fiscalDate = formatter.parse(fiscaldate);\r\n    \t\t\r\n    \t\tif (givenDate.before(fiscalDate)) {\r\n    \t\t\tyear = year - 1;\r\n    \t\t}\r\n    \t\treturn year;\r\n    \t}\r\n    }\r\n","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>Simple solution to find given date financial year in Java</p>\n<pre><code>package testing;\n\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.util.Date;\n\npublic class CurrentFinancialYear {\n\n    public static void main(String[] args) throws ParseException {\n        System.out.println(getActualFinancialYear(&quot;01-02-2022 23:10:10&quot;));\n    }       \n\n    public static int getActualFinancialYear(String givendate) throws ParseException {\n        \n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\n        Date givenDate=formatter.parse(givendate);\n        LocalDate localDate1 = givenDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n        int year = localDate1.getYear();\n        String fiscaldate = &quot;31-03-&quot; + year + &quot; 23:59:59&quot;;\n        Date fiscalDate = formatter.parse(fiscaldate);\n        \n        if (givenDate.before(fiscalDate)) {\n            year = year - 1;\n        }\n        return year;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6865726,"reputation":119,"user_id":5278260,"display_name":"Rajeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648732986,"creation_date":1648732986,"answer_id":71693280,"question_id":18616646,"body_markdown":"    public static int getCurrentFromFinancialYear(String inputDate) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSS&quot;);\r\n            LocalDate todayDateTime = LocalDate.parse(inputDate, formatter);\r\n            int year = todayDateTime.getYear();\r\n            String fiscalDateStr = &quot;01-04-&quot; + year + &quot; 00:00:00:000&quot;;\r\n            LocalDate fiscalDateTime = LocalDate.parse(fiscalDateStr, formatter);\r\n    \r\n            if (todayDateTime.isBefore(fiscalDateTime)) {\r\n                year = year - 1;\r\n            }\r\n            return year;\r\n        }","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public static int getCurrentFromFinancialYear(String inputDate) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss:SSS&quot;);\n        LocalDate todayDateTime = LocalDate.parse(inputDate, formatter);\n        int year = todayDateTime.getYear();\n        String fiscalDateStr = &quot;01-04-&quot; + year + &quot; 00:00:00:000&quot;;\n        LocalDate fiscalDateTime = LocalDate.parse(fiscalDateStr, formatter);\n\n        if (todayDateTime.isBefore(fiscalDateTime)) {\n            year = year - 1;\n        }\n        return year;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5958620,"reputation":3514,"user_id":4684417,"accept_rate":0,"display_name":"Abhinav Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679811486,"creation_date":1679811486,"answer_id":75846173,"question_id":18616646,"body_markdown":"    public String getFinancialYear() {\r\n        String finYear;\r\n        int year = Calendar.getInstance().get(Calendar.YEAR);\r\n        int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\r\n\r\n        if (month &lt;= 3) {\r\n            finYear = year - 1 + &quot;-&quot; + year;\r\n        } else {\r\n            finYear = year + &quot;-&quot; + (year + 1);\r\n        }\r\n        return finYear;\r\n    }","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<pre><code>public String getFinancialYear() {\n    String finYear;\n    int year = Calendar.getInstance().get(Calendar.YEAR);\n    int month = Calendar.getInstance().get(Calendar.MONTH) + 1;\n\n    if (month &lt;= 3) {\n        finYear = year - 1 + &quot;-&quot; + year;\n    } else {\n        finYear = year + &quot;-&quot; + (year + 1);\n    }\n    return finYear;\n}\n</code></pre>\n"}],"owner":{"account_id":1114418,"reputation":779,"user_id":1104121,"accept_rate":62,"display_name":"Namita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":13,"score":2,"last_activity_date":1679811486,"creation_date":1378305130,"question_id":18616646,"body_markdown":"I am trying to find out current financial year (FY - March to April) on the basis of current date in more efficient way. Here&#39;s what I have written so far\r\n\r\n    public static void main(String[] args) {\r\n        int year = getYearFromDate(new Date());\r\n        System.out.println(&quot;Financial Year : &quot; + year + &quot;-&quot; + (year+1));\r\n        System.out.println(&quot;Financial month : &quot; + getMonthFromDate(new Date()));\r\n    }\r\n    \r\n    private static int getMonthFromDate(Date date) {\r\n        int result = -1;\r\n        if (date != null) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            result = cal.get(Calendar.MONTH)+1;\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public static int getYearFromDate(Date date) {\r\n        int result = -1;\r\n        if (date != null) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            result = cal.get(Calendar.YEAR);\r\n        }\r\n        return result;\r\n    }\r\n\r\nSo if the current month is less than or equal to 3 (March) and year is 2013, FY should be = 2012-2013, if the month is 6(June) and year is 2013, FY should be = 2013-2014. \r\n\r\nHow do I achieve it?","title":"Get Current Financial Year ( YYYY-YYYY) from Current Date","body":"<p>I am trying to find out current financial year (FY - March to April) on the basis of current date in more efficient way. Here's what I have written so far</p>\n<pre><code>public static void main(String[] args) {\n    int year = getYearFromDate(new Date());\n    System.out.println(&quot;Financial Year : &quot; + year + &quot;-&quot; + (year+1));\n    System.out.println(&quot;Financial month : &quot; + getMonthFromDate(new Date()));\n}\n\nprivate static int getMonthFromDate(Date date) {\n    int result = -1;\n    if (date != null) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        result = cal.get(Calendar.MONTH)+1;\n    }\n    return result;\n}\n\npublic static int getYearFromDate(Date date) {\n    int result = -1;\n    if (date != null) {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        result = cal.get(Calendar.YEAR);\n    }\n    return result;\n}\n</code></pre>\n<p>So if the current month is less than or equal to 3 (March) and year is 2013, FY should be = 2012-2013, if the month is 6(June) and year is 2013, FY should be = 2013-2014.</p>\n<p>How do I achieve it?</p>\n"},{"tags":["java","double"],"answers":[{"tags":[],"owner":{"account_id":16157388,"reputation":1,"user_id":11664342,"display_name":"Partyush Dhiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679811284,"creation_date":1679811249,"answer_id":75846162,"question_id":75846154,"body_markdown":"The issue is with the precision.format(tot) line. The DecimalFormat object has been initialized with the format &quot;.2&quot; which means that it will format the number to two decimal places. However, in the line ed5.setText(precision.format(tot));, the formatted number is being assigned to a TextView which may have a different format or may be rounding off the number to zero decimal places.\r\n\r\nTo fix this, you can try using the String.format method to format the number to two decimal places and then set it to the TextView as a string.\r\n\r\nHere&#39;s the updated code:\r\n\r\npublic void avgcal() {\r\n    double avg = .0, tot, wg1, wg2, wg3, wg4, dq1, dq2, dq3, dq4, st1, st2, st3, st4, intot1, intot2, intot3, intot4;\r\n\r\n    // Subject grades calculator\r\n    wg1 = Double.parseDouble(ed2.getText().toString());\r\n    dq1 = Double.parseDouble(ed3.getText().toString());\r\n    st1 = Double.parseDouble(ed4.getText().toString());\r\n\r\n    wg2 = Double.parseDouble(ed8.getText().toString());\r\n    dq2 = Double.parseDouble(ed9.getText().toString());\r\n    st2 = Double.parseDouble(ed10.getText().toString());\r\n\r\n    wg3 = Double.parseDouble(ed11.getText().toString());\r\n    dq3 = Double.parseDouble(ed12.getText().toString());\r\n    st3 = Double.parseDouble(ed13.getText().toString());\r\n\r\n    wg4 = Double.parseDouble(ed19.getText().toString());\r\n    dq4 = Double.parseDouble(ed20.getText().toString());\r\n    st4 = Double.parseDouble(ed21.getText().toString());\r\n\r\n    intot1 = st1 / dq1 * wg1;\r\n    intot2 = st2 / dq2 * wg2;\r\n    intot3 = st3 / dq3 * wg3;\r\n    intot4 = st4 / dq4 * wg4;\r\n\r\n    // SUM OF ALL DATA\r\n    tot = intot1 + intot2 + intot3 + intot4;\r\n\r\n    // Format the number to two decimal places and set it to the TextView\r\n    ed5.setText(String.format(&quot;%.2f&quot;, tot));\r\n}\r\n\r\nThis code should format the number to two decimal places and set it to the TextView.","title":"java android-studio double fraction only shows .0","body":"<p>The issue is with the precision.format(tot) line. The DecimalFormat object has been initialized with the format &quot;.2&quot; which means that it will format the number to two decimal places. However, in the line ed5.setText(precision.format(tot));, the formatted number is being assigned to a TextView which may have a different format or may be rounding off the number to zero decimal places.</p>\n<p>To fix this, you can try using the String.format method to format the number to two decimal places and then set it to the TextView as a string.</p>\n<p>Here's the updated code:</p>\n<p>public void avgcal() {\ndouble avg = .0, tot, wg1, wg2, wg3, wg4, dq1, dq2, dq3, dq4, st1, st2, st3, st4, intot1, intot2, intot3, intot4;</p>\n<pre><code>// Subject grades calculator\nwg1 = Double.parseDouble(ed2.getText().toString());\ndq1 = Double.parseDouble(ed3.getText().toString());\nst1 = Double.parseDouble(ed4.getText().toString());\n\nwg2 = Double.parseDouble(ed8.getText().toString());\ndq2 = Double.parseDouble(ed9.getText().toString());\nst2 = Double.parseDouble(ed10.getText().toString());\n\nwg3 = Double.parseDouble(ed11.getText().toString());\ndq3 = Double.parseDouble(ed12.getText().toString());\nst3 = Double.parseDouble(ed13.getText().toString());\n\nwg4 = Double.parseDouble(ed19.getText().toString());\ndq4 = Double.parseDouble(ed20.getText().toString());\nst4 = Double.parseDouble(ed21.getText().toString());\n\nintot1 = st1 / dq1 * wg1;\nintot2 = st2 / dq2 * wg2;\nintot3 = st3 / dq3 * wg3;\nintot4 = st4 / dq4 * wg4;\n\n// SUM OF ALL DATA\ntot = intot1 + intot2 + intot3 + intot4;\n\n// Format the number to two decimal places and set it to the TextView\ned5.setText(String.format(&quot;%.2f&quot;, tot));\n</code></pre>\n<p>}</p>\n<p>This code should format the number to two decimal places and set it to the TextView.</p>\n"}],"owner":{"account_id":23333404,"reputation":1,"user_id":17409454,"display_name":"Ryuuu126"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679811284,"creation_date":1679811027,"question_id":75846154,"body_markdown":"Problem in my calculation system is that the output fraction of double always shows 0\r\nlike 77.3 in my calculation results but in program output it shows 77.0\r\n\r\nhere&#39;s the code of my program\r\n\r\n\r\n    public void  avgcal()\r\n    {\r\n        double avg = .0,tot,wg1,wg2,wg3,wg4,dq1,dq2,dq3,dq4,st1,st2,st3,st4,intot1,intot2,intot3,intot4;\r\n\r\n        DecimalFormat precision = new DecimalFormat(&quot;.2&quot;);\r\n\r\n        //Subject grades calculator\r\n        wg1 = Double.parseDouble(ed2.getText().toString());\r\n        dq1 = Double.parseDouble(ed3.getText().toString());\r\n        st1 = Double.parseDouble(ed4.getText().toString());\r\n\r\n        wg2 = Double.parseDouble(ed8.getText().toString());\r\n        dq2 = Double.parseDouble(ed9.getText().toString());\r\n        st2 = Double.parseDouble(ed10.getText().toString());\r\n\r\n        wg3 = Double.parseDouble(ed11.getText().toString());\r\n        dq3 = Double.parseDouble(ed12.getText().toString());\r\n        st3 = Double.parseDouble(ed13.getText().toString());\r\n\r\n        wg4 = Double.parseDouble(ed19.getText().toString());\r\n        dq4 = Double.parseDouble(ed20.getText().toString());\r\n        st4 = Double.parseDouble(ed21.getText().toString());\r\n\r\n        intot1 = st1 / dq1 * wg1;\r\n        intot2 = st2 / dq2 * wg2;\r\n        intot3 = st3 / dq3 * wg3;\r\n        intot4 = st4 / dq4 * wg4;\r\n\r\n\r\n\r\n        //SUM OF ALL DATA\r\n        tot = intot1 + intot2 + intot3 + intot4;\r\n\r\n\r\n        ed5.setText(precision.format(tot));\r\n    }\r\n}\r\n","title":"java android-studio double fraction only shows .0","body":"<p>Problem in my calculation system is that the output fraction of double always shows 0\nlike 77.3 in my calculation results but in program output it shows 77.0</p>\n<p>here's the code of my program</p>\n<pre><code>public void  avgcal()\n{\n    double avg = .0,tot,wg1,wg2,wg3,wg4,dq1,dq2,dq3,dq4,st1,st2,st3,st4,intot1,intot2,intot3,intot4;\n\n    DecimalFormat precision = new DecimalFormat(&quot;.2&quot;);\n\n    //Subject grades calculator\n    wg1 = Double.parseDouble(ed2.getText().toString());\n    dq1 = Double.parseDouble(ed3.getText().toString());\n    st1 = Double.parseDouble(ed4.getText().toString());\n\n    wg2 = Double.parseDouble(ed8.getText().toString());\n    dq2 = Double.parseDouble(ed9.getText().toString());\n    st2 = Double.parseDouble(ed10.getText().toString());\n\n    wg3 = Double.parseDouble(ed11.getText().toString());\n    dq3 = Double.parseDouble(ed12.getText().toString());\n    st3 = Double.parseDouble(ed13.getText().toString());\n\n    wg4 = Double.parseDouble(ed19.getText().toString());\n    dq4 = Double.parseDouble(ed20.getText().toString());\n    st4 = Double.parseDouble(ed21.getText().toString());\n\n    intot1 = st1 / dq1 * wg1;\n    intot2 = st2 / dq2 * wg2;\n    intot3 = st3 / dq3 * wg3;\n    intot4 = st4 / dq4 * wg4;\n\n\n\n    //SUM OF ALL DATA\n    tot = intot1 + intot2 + intot3 + intot4;\n\n\n    ed5.setText(precision.format(tot));\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1674781478,"post_id":75253160,"comment_id":132792027,"body_markdown":"Don&#39;t - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread.  I can&#39;t see how the code you&#39;ve posted would even run without generating a `NullPointerException` - consider providing a [mcve]","body":"Don&#39;t - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread.  I can&#39;t see how the code you&#39;ve posted would even run without generating a <code>NullPointerException</code> - consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1674781532,"post_id":75253160,"comment_id":132792034,"body_markdown":"Not sure what you are doing but you definitely should NOT be extending Thread to create a JFrame. Swing components should be created on the Event Dispatch Thread (EDT). Read the section from the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. The tutorial contains many basic examples to get you started.","body":"Not sure what you are doing but you definitely should NOT be extending Thread to create a JFrame. Swing components should be created on the Event Dispatch Thread (EDT). Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. The tutorial contains many basic examples to get you started."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674782323,"post_id":75253160,"comment_id":132792142,"body_markdown":"Actually, you shouldn&#39;t ever extend Thread, except in very unusual circumstances. This isn&#39;t one of those.","body":"Actually, you shouldn&#39;t ever extend Thread, except in very unusual circumstances. This isn&#39;t one of those."},{"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"score":0,"creation_date":1674784562,"post_id":75253160,"comment_id":132792457,"body_markdown":"Thanks guys! I learned this way a LONG time ago, about 5 years now, and recently needed to use Swing again and I had no idea how I&#39;d do it back in the days! Now I know I was doing it wrong! Many thanks!!","body":"Thanks guys! I learned this way a LONG time ago, about 5 years now, and recently needed to use Swing again and I had no idea how I&#39;d do it back in the days! Now I know I was doing it wrong! Many thanks!!"}],"answers":[{"tags":[],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679810771,"creation_date":1679810771,"answer_id":75846137,"question_id":75253160,"body_markdown":"As [Mad Programmer][1] said:\r\nDon&#39;t - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread. I can&#39;t see how the code you&#39;ve posted would even run without generating a NullPointerException - consider providing a [minimal reproducible example][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example","title":"Can&#39;t dispose JFrame inside Thread","body":"<p>As <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">Mad Programmer</a> said:\nDon't - Swing is not thread safe and you should be trying to create new instances of UI components outside the context of the Event Dispatching Thread. I can't see how the code you've posted would even run without generating a NullPointerException - consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></p>\n"}],"owner":{"account_id":14618034,"reputation":197,"user_id":10707177,"display_name":"Alfredo Marin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846137,"answer_count":1,"score":0,"last_activity_date":1679810771,"creation_date":1674781199,"question_id":75253160,"body_markdown":"I have a class that extends Thread and inside this class I have a JFrame. I need to dispose this JFrame without finalizing the system, like we do with `System.exit(0)`.\r\n\r\nWhen I create and initialize the frame, it has a name like &quot;frame0&quot; but then, when I call it&#39;s name on the ActionListener, it shows &quot;frame1&quot;, even if the JFrame class is final or static.\r\n\r\n    public class RegisterExercise extends Thread {\r\n\r\n    private final JFrame frame;\r\n    private JButton btnSave;\r\n    private JPanel mainPanel;\r\n    private JButton btnCancel;\r\n    private JTextField txtName;\r\n    private JTextField txtEasyName;\r\n    private JTextField txtDescription;\r\n    private JTextField txtMachineName;\r\n    private JLabel lblName;\r\n    private JLabel lblEasyName;\r\n    private JLabel lblDescription;\r\n    private JLabel lblMachineName;\r\n\r\n    public RegisterExercise() {\r\n        frame = new JFrame(&quot;Register an exercise&quot;);\r\n        btnCancel.addActionListener(e -&gt; {\r\n            System.out.println(&quot;Frame:&quot; + frame.getName());\r\n            frame.dispose();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\r\n                 UnsupportedLookAndFeelException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        initializeFrame(frame);\r\n        super.run();\r\n    }\r\n\r\n    private void initializeFrame(JFrame frame) {\r\n        frame.setContentPane(new RegisterExercise().mainPanel);\r\n        frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        System.out.println(&quot;This is frame:&quot; + frame.getName());\r\n    }\r\n    }\r\n\r\nThis class is called from another Thread that I created, I&#39;ll share here the class that calls this Thread class\r\n\r\n    public class Menu extends Thread {\r\n\r\n    private JButton btnExit;\r\n    private JPanel mainPanel;\r\n    private JButton btnRegisterExercise;\r\n    private JTable menuTable;\r\n    private JLabel lblVersion;\r\n\r\n    // JFrames\r\n\r\n    private RegisterExercise registerExercise;\r\n\r\n    public Menu() {\r\n\r\n        // Exit Button\r\n        btnExit.addActionListener(e -&gt; {\r\n            int answer = JOptionPane.showConfirmDialog(null, &quot;Do you want do leave?&quot;, &quot;Leaving&quot;, JOptionPane.YES_NO_OPTION);\r\n            if (answer == JOptionPane.YES_OPTION) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        // Register Exercise Button\r\n        btnRegisterExercise.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (registerExercise == null) {\r\n                    registerExercise = new RegisterExercise();\r\n                    registerExercise.start();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\r\n                 UnsupportedLookAndFeelException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        JFrame frame = new JFrame(&quot;My Move Gym&quot;);\r\n        frame.setContentPane(new Menu().mainPanel);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        super.run();\r\n    }\r\n    }\r\n","title":"Can&#39;t dispose JFrame inside Thread","body":"<p>I have a class that extends Thread and inside this class I have a JFrame. I need to dispose this JFrame without finalizing the system, like we do with <code>System.exit(0)</code>.</p>\n<p>When I create and initialize the frame, it has a name like &quot;frame0&quot; but then, when I call it's name on the ActionListener, it shows &quot;frame1&quot;, even if the JFrame class is final or static.</p>\n<pre><code>public class RegisterExercise extends Thread {\n\nprivate final JFrame frame;\nprivate JButton btnSave;\nprivate JPanel mainPanel;\nprivate JButton btnCancel;\nprivate JTextField txtName;\nprivate JTextField txtEasyName;\nprivate JTextField txtDescription;\nprivate JTextField txtMachineName;\nprivate JLabel lblName;\nprivate JLabel lblEasyName;\nprivate JLabel lblDescription;\nprivate JLabel lblMachineName;\n\npublic RegisterExercise() {\n    frame = new JFrame(&quot;Register an exercise&quot;);\n    btnCancel.addActionListener(e -&gt; {\n        System.out.println(&quot;Frame:&quot; + frame.getName());\n        frame.dispose();\n    });\n}\n\n@Override\npublic void run() {\n    try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\n             UnsupportedLookAndFeelException e) {\n        throw new RuntimeException(e);\n    }\n    initializeFrame(frame);\n    super.run();\n}\n\nprivate void initializeFrame(JFrame frame) {\n    frame.setContentPane(new RegisterExercise().mainPanel);\n    frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n    System.out.println(&quot;This is frame:&quot; + frame.getName());\n}\n}\n</code></pre>\n<p>This class is called from another Thread that I created, I'll share here the class that calls this Thread class</p>\n<pre><code>public class Menu extends Thread {\n\nprivate JButton btnExit;\nprivate JPanel mainPanel;\nprivate JButton btnRegisterExercise;\nprivate JTable menuTable;\nprivate JLabel lblVersion;\n\n// JFrames\n\nprivate RegisterExercise registerExercise;\n\npublic Menu() {\n\n    // Exit Button\n    btnExit.addActionListener(e -&gt; {\n        int answer = JOptionPane.showConfirmDialog(null, &quot;Do you want do leave?&quot;, &quot;Leaving&quot;, JOptionPane.YES_NO_OPTION);\n        if (answer == JOptionPane.YES_OPTION) {\n            System.exit(0);\n        }\n    });\n\n    // Register Exercise Button\n    btnRegisterExercise.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (registerExercise == null) {\n                registerExercise = new RegisterExercise();\n                registerExercise.start();\n            }\n        }\n    });\n}\n\n@Override\npublic void run() {\n    try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException |\n             UnsupportedLookAndFeelException e) {\n        throw new RuntimeException(e);\n    }\n    JFrame frame = new JFrame(&quot;My Move Gym&quot;);\n    frame.setContentPane(new Menu().mainPanel);\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n    super.run();\n}\n}\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679750516,"post_id":75841290,"comment_id":133778684,"body_markdown":"First of all, show us what you have tried and what exactly doesn&#39;t work the way you expect. Please also edit your question and add your database structure as a screenshot and indicate the exact document you want to update.","body":"First of all, show us what you have tried and what exactly doesn&#39;t work the way you expect. Please also edit your question and add your database structure as a screenshot and indicate the exact document you want to update."},{"owner":{"account_id":26322658,"reputation":2747,"user_id":20239914,"display_name":"Rohit Kharche"},"score":0,"creation_date":1681013292,"post_id":75841290,"comment_id":133989810,"body_markdown":"Did you find the below posted answer useful or are you looking for something else ?","body":"Did you find the below posted answer useful or are you looking for something else ?"}],"answers":[{"tags":[],"owner":{"account_id":26322658,"reputation":2747,"user_id":20239914,"display_name":"Rohit Kharche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679810672,"creation_date":1679810672,"answer_id":75846132,"question_id":75841290,"body_markdown":"According to [**`Create a password-based account`**](https://firebase.google.com/docs/auth/android/password-auth#create_a_password-based_account), it looks like you are using `task.isSuccessful` as a method but actually it is boolean. You are setting new User document correctly and for your \r\n\r\n&gt; I want to update the value of newvalue to that particular object. I can update the Firestore document but don&#39;t know how to refer to that particular object since in the register activity is called user.\r\n\r\nQuery you can get the User uid anywhere in application with `auth.currentUser.uid` assuming user is already logged in then you can use [**`Custom objects`**](https://firebase.google.com/docs/firestore/query-data/get-data#custom_objects) to get the user document as follows:\r\n```\r\nval db = Firebase.firestore\r\nval userId = auth.currentUser.uid;\r\nval docRef = db.collection(&quot;user&quot;).document(userId)\r\ndocRef.get().addOnSuccessListener { documentSnapshot -&gt;\r\n    val user = documentSnapshot.toObject&lt;User&gt;() // there’s your retrieved Object class\r\n}\r\n```\r\nTo update the `newValue` field you can update as follows:\r\n```\r\nval db = Firebase.firestore\r\nval userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\nval docRef = db.collection(&quot;user&quot;).document(userId)\r\ndocRef\r\n     .update(&quot;newvalue&quot;, newValue) // ⇐ you can also update the other fields \r\n     .addOnSuccessListener { Log.d(TAG, &quot;DocumentSnapshot successfully updated!&quot;) }\r\n     .addOnFailureListener { e -&gt; Log.w(TAG, &quot;Error updating document&quot;, e) }\r\n```\r\n","title":"Retrieve Object classes","body":"<p>According to <a href=\"https://firebase.google.com/docs/auth/android/password-auth#create_a_password-based_account\" rel=\"nofollow noreferrer\"><strong><code>Create a password-based account</code></strong></a>, it looks like you are using <code>task.isSuccessful</code> as a method but actually it is boolean. You are setting new User document correctly and for your</p>\n<blockquote>\n<p>I want to update the value of newvalue to that particular object. I can update the Firestore document but don't know how to refer to that particular object since in the register activity is called user.</p>\n</blockquote>\n<p>Query you can get the User uid anywhere in application with <code>auth.currentUser.uid</code> assuming user is already logged in then you can use <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#custom_objects\" rel=\"nofollow noreferrer\"><strong><code>Custom objects</code></strong></a> to get the user document as follows:</p>\n<pre><code>val db = Firebase.firestore\nval userId = auth.currentUser.uid;\nval docRef = db.collection(&quot;user&quot;).document(userId)\ndocRef.get().addOnSuccessListener { documentSnapshot -&gt;\n    val user = documentSnapshot.toObject&lt;User&gt;() // there’s your retrieved Object class\n}\n</code></pre>\n<p>To update the <code>newValue</code> field you can update as follows:</p>\n<pre><code>val db = Firebase.firestore\nval userId = FirebaseAuth.getInstance().getCurrentUser().getUid();\nval docRef = db.collection(&quot;user&quot;).document(userId)\ndocRef\n     .update(&quot;newvalue&quot;, newValue) // ⇐ you can also update the other fields \n     .addOnSuccessListener { Log.d(TAG, &quot;DocumentSnapshot successfully updated!&quot;) }\n     .addOnFailureListener { e -&gt; Log.w(TAG, &quot;Error updating document&quot;, e) }\n</code></pre>\n"}],"owner":{"account_id":27899238,"reputation":15,"user_id":21303872,"display_name":"seven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75846132,"answer_count":1,"score":0,"last_activity_date":1679810672,"creation_date":1679742466,"question_id":75841290,"body_markdown":"I have a class named User and every time user clicks on the register button in RegisterActivity.java , will use firebase authentication create userwithemailandpassword method and inside it generates a new user object using User class and stored that user object to firestore.\r\n\r\n```\r\nauth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(task -&gt; {\r\n    if(task.isSuccessful()){\r\n        Toast.makeText(SignUp.this,&quot;Sign Up successfully!&quot;,Toast.LENGTH_SHORT).show();\r\n        //store user data\r\n        userid=auth.getCurrentUser().getUid();\r\n        DocumentReference documentReference=fstore.collection(&quot;user&quot;).document(userid);\r\n        User user=new User(name,userid,&quot;user&quot;,email,newvalue);\r\n        documentReference.set(user);\r\n\r\n        Intent intent=new Intent(SignUp.this,LoginActivity.class);\r\n        startActivity(intent);\r\n    }else{\r\n        Toast.makeText(SignUp.this,&quot;SignUp Failed&quot;+task.getException().getMessage(),Toast.LENGTH_SHORT).show();\r\n    }\r\n});\r\n```\r\n\r\nNow, in another activity, I want to update the value of newvalue to that particular object. I can update to Firestore document but  don&#39;t know how to refer to that particular object since in the register activity is called user.\r\n\r\n```\r\nUser user=new User(name,userid,&quot;user&quot;,email,newvalue);\r\n```\r\n\r\nThis is my User class:\r\n\r\n```\r\npublic class User {\r\n    String username;\r\n    String role;\r\n    String email;\r\n    String userid;\r\n    String newvalue;\r\n\r\n    public User(){\r\n\r\n    }\r\n    public User(String username, String userid, String role, String email,String newvalue) {\r\n        this.username = username;\r\n        this.userid = userid;\r\n        this.role = role;\r\n        this.email = email;\r\n        this.token=token;\r\n        this.newvalue=newvalue;\r\n    }\r\n    public String getnewValue() {\r\n            return newvalue;\r\n    }\r\n\r\n    public void setnewvalue(String newvalue) {\r\n        this.newvalue = newvalue;\r\n    }\r\n\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getUserid() {\r\n        return userid;\r\n    }\r\n\r\n    public void setUserid(String userid) {\r\n        this.userid = userid;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return username;}\r\n}\r\n```","title":"Retrieve Object classes","body":"<p>I have a class named User and every time user clicks on the register button in RegisterActivity.java , will use firebase authentication create userwithemailandpassword method and inside it generates a new user object using User class and stored that user object to firestore.</p>\n<pre><code>auth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(task -&gt; {\n    if(task.isSuccessful()){\n        Toast.makeText(SignUp.this,&quot;Sign Up successfully!&quot;,Toast.LENGTH_SHORT).show();\n        //store user data\n        userid=auth.getCurrentUser().getUid();\n        DocumentReference documentReference=fstore.collection(&quot;user&quot;).document(userid);\n        User user=new User(name,userid,&quot;user&quot;,email,newvalue);\n        documentReference.set(user);\n\n        Intent intent=new Intent(SignUp.this,LoginActivity.class);\n        startActivity(intent);\n    }else{\n        Toast.makeText(SignUp.this,&quot;SignUp Failed&quot;+task.getException().getMessage(),Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>Now, in another activity, I want to update the value of newvalue to that particular object. I can update to Firestore document but  don't know how to refer to that particular object since in the register activity is called user.</p>\n<pre><code>User user=new User(name,userid,&quot;user&quot;,email,newvalue);\n</code></pre>\n<p>This is my User class:</p>\n<pre><code>public class User {\n    String username;\n    String role;\n    String email;\n    String userid;\n    String newvalue;\n\n    public User(){\n\n    }\n    public User(String username, String userid, String role, String email,String newvalue) {\n        this.username = username;\n        this.userid = userid;\n        this.role = role;\n        this.email = email;\n        this.token=token;\n        this.newvalue=newvalue;\n    }\n    public String getnewValue() {\n            return newvalue;\n    }\n\n    public void setnewvalue(String newvalue) {\n        this.newvalue = newvalue;\n    }\n\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getUserid() {\n        return userid;\n    }\n\n    public void setUserid(String userid) {\n        this.userid = userid;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n    @Override\n    public String toString() {\n        return username;}\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":20779858,"reputation":94,"user_id":15260560,"display_name":"Jitendra Kohar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675778441,"creation_date":1675778441,"answer_id":75374421,"question_id":75374348,"body_markdown":"if you want to add a listview element in the recycler view, kindly add this linear layout,listItem, and orientation in the recycler view so that you can design it.\r\n\r\n      tools:listitem=&quot;@layout/viewholder_category&quot;\r\n      android:orientation=&quot;horizontal&quot;\r\n      app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4CIL.png","title":"i am willing to design the recycler view but how do i see what my recycler view element looks?","body":"<p>if you want to add a listview element in the recycler view, kindly add this linear layout,listItem, and orientation in the recycler view so that you can design it.</p>\n<pre><code>  tools:listitem=&quot;@layout/viewholder_category&quot;\n  android:orientation=&quot;horizontal&quot;\n  app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b4CIL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4CIL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13945183,"reputation":76,"user_id":10070105,"display_name":"Tursunboy Tojiev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675856274,"creation_date":1675856274,"answer_id":75385236,"question_id":75374348,"body_markdown":"You can write like this:\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recylerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/textView12&quot;\r\n        tools:listitem=&quot;@layout/item_title&quot;\r\n        tools:itemCount=&quot;4&quot;/&gt;\r\n\r\nHere `tools:listitem` for preview of item and `tools:itemCount` for number of preview items","title":"i am willing to design the recycler view but how do i see what my recycler view element looks?","body":"<p>You can write like this:</p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recylerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/textView12&quot;\n    tools:listitem=&quot;@layout/item_title&quot;\n    tools:itemCount=&quot;4&quot;/&gt;\n</code></pre>\n<p>Here <code>tools:listitem</code> for preview of item and <code>tools:itemCount</code> for number of preview items</p>\n"}],"owner":{"account_id":20779858,"reputation":94,"user_id":15260560,"display_name":"Jitendra Kohar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676325411,"answer_count":2,"score":-3,"last_activity_date":1679810639,"creation_date":1675778132,"question_id":75374348,"body_markdown":"How can I visualize what my recycler view elements look like? my question is when we set up the recyclerView, it&#39;s a very difficult task. How should I preview my recycler view element in the layout design?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/b8iR2.png)](https://i.stack.imgur.com/b8iR2.png)\r\n\r\nI want to visualize the recycler view element so that design it","title":"i am willing to design the recycler view but how do i see what my recycler view element looks?","body":"<p>How can I visualize what my recycler view elements look like? my question is when we set up the recyclerView, it's a very difficult task. How should I preview my recycler view element in the layout design?</p>\n<p><a href=\"https://i.stack.imgur.com/b8iR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8iR2.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to visualize the recycler view element so that design it</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475530040,"post_id":39840659,"comment_id":66971119,"body_markdown":"What do you mean you are having trouble with the sum? Where is the code you have tried so far to compute the sum? Or are you just expecting us to do this part for you?","body":"What do you mean you are having trouble with the sum? Where is the code you have tried so far to compute the sum? Or are you just expecting us to do this part for you?"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475530069,"post_id":39840659,"comment_id":66971137,"body_markdown":"I&#39;m voting to close this question as off-topic because questions involving homework must show some attempt to solve the question on their own.","body":"I&#39;m voting to close this question as off-topic because questions involving homework must show some attempt to solve the question on their own."},{"owner":{"account_id":3273853,"reputation":819,"user_id":2756489,"accept_rate":84,"display_name":"Bennett Yeo"},"score":0,"creation_date":1475530107,"post_id":39840659,"comment_id":66971159,"body_markdown":"What part is stumping you specifically? It would help if you could review what you have tried. It doesn&#39;t appear as if you have code that actually attempts to sum all the items in your list.","body":"What part is stumping you specifically? It would help if you could review what you have tried. It doesn&#39;t appear as if you have code that actually attempts to sum all the items in your list."},{"owner":{"account_id":2701493,"reputation":1169,"user_id":2332121,"display_name":"Sanjeev Dhiman"},"score":0,"creation_date":1475530272,"post_id":39840659,"comment_id":66971229,"body_markdown":"While I agree on other folks to vote down, I still like to answer it based on what I understood. Hey! @Mason - In order to sum the floats, you need to sum them by yourself. Please Loop through your arraylist (which you are already doing) and add the elements yourself instead of just printing them. Something like - double sum = 0.0d;\n\t\tfor (int i=0; i&lt; L.size(); i= i+1)\n        {\n\t\t\tSystem.out.println(&quot;List contains &quot; + L.get(i));\n\t\t\tsum = sum + L.get(i);\n        }\n\t\t\n\t\tSystem.out.println(sum);","body":"While I agree on other folks to vote down, I still like to answer it based on what I understood. Hey! @Mason - In order to sum the floats, you need to sum them by yourself. Please Loop through your arraylist (which you are already doing) and add the elements yourself instead of just printing them. Something like - double sum = 0.0d; \t\tfor (int i=0; i&lt; L.size(); i= i+1)         { \t\t\tSystem.out.println(&quot;List contains &quot; + L.get(i)); \t\t\tsum = sum + L.get(i);         } \t\t \t\tSystem.out.println(sum);"},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475530960,"post_id":39840659,"comment_id":66971492,"body_markdown":"My bad everyone I had previously uploaded outdated code, I reuploaded with my most current code which is where I am having issues. @nhouser9","body":"My bad everyone I had previously uploaded outdated code, I reuploaded with my most current code which is where I am having issues. @nhouser9"},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475531433,"post_id":39840659,"comment_id":66971666,"body_markdown":"@SanjeevDhiman I have already tried that but then realized I can not add an Object and Double","body":"@SanjeevDhiman I have already tried that but then realized I can not add an Object and Double"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475531557,"post_id":39840659,"comment_id":66971722,"body_markdown":"Great you gave us the current code. That&#39;s a good first step. Now you need to tell us what the problem with it is. Give us a sample input and tell us what it outputs vs what you would expect it to output.","body":"Great you gave us the current code. That&#39;s a good first step. Now you need to tell us what the problem with it is. Give us a sample input and tell us what it outputs vs what you would expect it to output."},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475532758,"post_id":39840659,"comment_id":66972177,"body_markdown":"Well when I try running my code I currently have I can not add an object and an int together, I am completely lost on how to get the values I enter in and then add them together @nhouser9","body":"Well when I try running my code I currently have I can not add an object and an int together, I am completely lost on how to get the values I enter in and then add them together @nhouser9"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475533758,"post_id":39840659,"comment_id":66972537,"body_markdown":"@MasonSalcido Thanks for the update. I posted an answer below. If it helps please remember to upvote and accept it.","body":"@MasonSalcido Thanks for the update. I posted an answer below. If it helps please remember to upvote and accept it."}],"answers":[{"comments":[{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475534792,"post_id":39841394,"comment_id":66972882,"body_markdown":"The thing about that is I need to have the list in order to later find the MEAN of the set of number.","body":"The thing about that is I need to have the list in order to later find the MEAN of the set of number."},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475534942,"post_id":39841394,"comment_id":66972945,"body_markdown":"@MasonSalcido Seems like you might not have read my whole post... I say &quot;If you absolutely have to use an array for this lab you can use the following&quot; and then give a second example where the numbers are stored in an array.","body":"@MasonSalcido Seems like you might not have read my whole post... I say &quot;If you absolutely have to use an array for this lab you can use the following&quot; and then give a second example where the numbers are stored in an array."},{"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"score":0,"creation_date":1475535222,"post_id":39841394,"comment_id":66973028,"body_markdown":"I did not see that, but even with that I was looking over it and realized arnt you not able to convert doubles in floats?","body":"I did not see that, but even with that I was looking over it and realized arnt you not able to convert doubles in floats?"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475548473,"post_id":39841394,"comment_id":66976105,"body_markdown":"@MasonSalcido of course you can convert doubles to floats... have you even tried the code i wrote for you...?","body":"@MasonSalcido of course you can convert doubles to floats... have you even tried the code i wrote for you...?"},{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1475561331,"post_id":39841394,"comment_id":66979423,"body_markdown":"@MasonSalcido Really? I ran the second version and it worked perfectly.","body":"@MasonSalcido Really? I ran the second version and it worked perfectly."}],"tags":[],"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1475548469,"creation_date":1475533735,"answer_id":39841394,"question_id":39840659,"body_markdown":"I have fixed up the code and put the new version below.\r\n\r\nThe main problem was the way you were using `ArrayList`. What you used was called a &quot;raw type&quot;. See this link for info on why that&#39;s bad: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it. Basicaly, you should be providing `ArrayList` with a type parameter, like: `ArrayList&lt;String&gt;`.\r\n\r\nHowever, in this case the `List` was not even needed. We can simply keep a running total of the sum as each new number is entered. I changed the code to do that instead.\r\n\r\nI also renamed your variables. You should never name things like `n` or `x`. Name variables something that describes what they are used for. That makes it way easier for you, or people you are asking for help (like people on StackOverflow) to read your code. Making your code easy to understand is almost as important as making it work correctly, especially as you start working on bigger projects.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner; // load the scanner utility\r\n    \r\n    class Lab7 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            double currentNumber = 1.0;\r\n            double sum = 0.0;\r\n            Scanner input = new Scanner( System.in );  //define the scanner\r\n\r\n            // read in the floats\r\n            while ( currentNumber != 0.0 )\r\n            {\r\n                System.out.println(&quot;Please input a number&quot;);\r\n                currentNumber = input.nextFloat();\r\n                System.out.println(&quot;read in &quot; + currentNumber);\r\n                sum = sum + currentNumber;\r\n            }\r\n            System.outprintln(&quot;Sum of nunbers &quot; + sum); \r\n    \r\n        }// of main\r\n    \r\n    } // of Lab7\r\n\r\nIf you absolutely have to use an array for this lab (keep in mind that it is not needed in any way, the only reason to do it is if the lab explicitly says you must do it), you can use the following:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner; // load the scanner utility\r\n    \r\n    class Lab7 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            double currentNumber = 1.0;\r\n            double sum = 0.0;\r\n            Scanner input = new Scanner( System.in );  //define the scanner\r\n            ArrayList&lt;Float&gt; floats = new ArrayList&lt;&gt;(); //notice how we give a type argument\r\n\r\n            // read in the floats\r\n            while ( currentNumber != 0.0 )\r\n            {\r\n                System.out.println(&quot;Please input a number&quot;);\r\n                currentNumber = input.nextFloat();\r\n                System.out.println(&quot;read in &quot; + currentNumber);\r\n                floats.add((float) currentNumber);\r\n                sum = sum + currentNumber;\r\n            }\r\n            System.outprintln(&quot;Sum of nunbers &quot; + sum); \r\n    \r\n        }// of main\r\n    \r\n    } // of Lab7","title":"Taking in an input of Floats in an array then adding them together","body":"<p>I have fixed up the code and put the new version below.</p>\n\n<p>The main problem was the way you were using <code>ArrayList</code>. What you used was called a \"raw type\". See this link for info on why that's bad: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>. Basicaly, you should be providing <code>ArrayList</code> with a type parameter, like: <code>ArrayList&lt;String&gt;</code>.</p>\n\n<p>However, in this case the <code>List</code> was not even needed. We can simply keep a running total of the sum as each new number is entered. I changed the code to do that instead.</p>\n\n<p>I also renamed your variables. You should never name things like <code>n</code> or <code>x</code>. Name variables something that describes what they are used for. That makes it way easier for you, or people you are asking for help (like people on StackOverflow) to read your code. Making your code easy to understand is almost as important as making it work correctly, especially as you start working on bigger projects.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner; // load the scanner utility\n\nclass Lab7 {\n\n    public static void main(String[] args) {\n\n        double currentNumber = 1.0;\n        double sum = 0.0;\n        Scanner input = new Scanner( System.in );  //define the scanner\n\n        // read in the floats\n        while ( currentNumber != 0.0 )\n        {\n            System.out.println(\"Please input a number\");\n            currentNumber = input.nextFloat();\n            System.out.println(\"read in \" + currentNumber);\n            sum = sum + currentNumber;\n        }\n        System.outprintln(\"Sum of nunbers \" + sum); \n\n    }// of main\n\n} // of Lab7\n</code></pre>\n\n<p>If you absolutely have to use an array for this lab (keep in mind that it is not needed in any way, the only reason to do it is if the lab explicitly says you must do it), you can use the following:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner; // load the scanner utility\n\nclass Lab7 {\n\n    public static void main(String[] args) {\n\n        double currentNumber = 1.0;\n        double sum = 0.0;\n        Scanner input = new Scanner( System.in );  //define the scanner\n        ArrayList&lt;Float&gt; floats = new ArrayList&lt;&gt;(); //notice how we give a type argument\n\n        // read in the floats\n        while ( currentNumber != 0.0 )\n        {\n            System.out.println(\"Please input a number\");\n            currentNumber = input.nextFloat();\n            System.out.println(\"read in \" + currentNumber);\n            floats.add((float) currentNumber);\n            sum = sum + currentNumber;\n        }\n        System.outprintln(\"Sum of nunbers \" + sum); \n\n    }// of main\n\n} // of Lab7\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"score":3,"creation_date":1679928462,"post_id":75846119,"comment_id":133804439,"body_markdown":"While this correctly points out a syntax error it is pretty clear that this is not the actual issue the OP asks about. Looks more like a typo when posting the question.","body":"While this correctly points out a syntax error it is pretty clear that this is not the actual issue the OP asks about. Looks more like a typo when posting the question."},{"owner":{"account_id":19059270,"reputation":43,"user_id":13915725,"display_name":"clipovich"},"score":0,"creation_date":1680454392,"post_id":75846119,"comment_id":133897597,"body_markdown":"You are correct. I pointed out the syntax error for others that may be reading this post. The error tripped me up when I tried running the code myself. My intent is to make things a little easier for the next person to come along and try the code.","body":"You are correct. I pointed out the syntax error for others that may be reading this post. The error tripped me up when I tried running the code myself. My intent is to make things a little easier for the next person to come along and try the code."},{"owner":{"account_id":1297417,"reputation":41873,"user_id":1248114,"accept_rate":66,"display_name":"arkascha"},"score":2,"creation_date":1680464824,"post_id":75846119,"comment_id":133899134,"body_markdown":"Then this should have been posted as a comment to the question, not as an &quot;answer&quot;, since it does not answer anything.","body":"Then this should have been posted as a comment to the question, not as an &quot;answer&quot;, since it does not answer anything."}],"tags":[],"owner":{"account_id":19059270,"reputation":43,"user_id":13915725,"display_name":"clipovich"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679810362,"creation_date":1679810362,"answer_id":75846119,"question_id":39840659,"body_markdown":"    System.outprintln(&quot;Sum of nunbers &quot; + sum);\r\n\r\nshould be\r\n\r\n    System.out.println(&quot;Sum of numbers &quot; + sum);\r\n\r\n ","title":"Taking in an input of Floats in an array then adding them together","body":"<pre><code>System.outprintln(&quot;Sum of nunbers &quot; + sum);\n</code></pre>\n<p>should be</p>\n<pre><code>System.out.println(&quot;Sum of numbers &quot; + sum);\n</code></pre>\n"}],"owner":{"account_id":9318184,"reputation":83,"user_id":6917826,"display_name":"Mason Salcido"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1697539275,"accepted_answer_id":39841394,"answer_count":2,"score":-1,"last_activity_date":1679810362,"creation_date":1475529946,"question_id":39840659,"body_markdown":"For an assignment in my CS class I am having to take in an input of floats, save them in an array, then display them and add them together to get a sum of the floats.  Currently I am having an issue with getting the sum of the floats.\r\n\r\nAs far as I can tell the below code should work, but I get an error: &quot;can not add an object and an int&quot;.\r\n\r\nMy code is:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Scanner; // load the scanner utility\r\n    \r\n    class Lab7 {\r\n     \r\n        public static void main(String[] args) {\r\n    \r\n            double n;\r\n            double s;\r\n            Scanner input = new Scanner( System.in );  //define the scanner\r\n             \r\n            List L = new ArrayList();\r\n            s=0.0;\r\n            n=1.0;\r\n            // read in the floats\r\n            while ( n != 0.0 )\r\n              {\r\n                 System.out.println(&quot;Please input a number&quot;);\r\n                 n = input.nextFloat();\r\n                 if ( n != 0.0) L.add(n);\r\n                 System.out.println(&quot;read in &quot; + n);\r\n              \r\n              }\r\n              \r\n            for (int i=0; i&lt; L.size(); i= i+1)\r\n             {\r\n               System.out.println(&quot;List contains &quot; + L.get(i));\r\n               s = s + L.get(i);\r\n               System.outprintln(&quot;Sum of nunbers &quot; + s); \r\n             }\r\n                   \r\n                   \r\n       \r\n         }// of main\r\n         \r\n       } // of Lab7","title":"Taking in an input of Floats in an array then adding them together","body":"<p>For an assignment in my CS class I am having to take in an input of floats, save them in an array, then display them and add them together to get a sum of the floats.  Currently I am having an issue with getting the sum of the floats.</p>\n\n<p>As far as I can tell the below code should work, but I get an error: \"can not add an object and an int\".</p>\n\n<p>My code is:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Scanner; // load the scanner utility\n\nclass Lab7 {\n\n    public static void main(String[] args) {\n\n        double n;\n        double s;\n        Scanner input = new Scanner( System.in );  //define the scanner\n\n        List L = new ArrayList();\n        s=0.0;\n        n=1.0;\n        // read in the floats\n        while ( n != 0.0 )\n          {\n             System.out.println(\"Please input a number\");\n             n = input.nextFloat();\n             if ( n != 0.0) L.add(n);\n             System.out.println(\"read in \" + n);\n\n          }\n\n        for (int i=0; i&lt; L.size(); i= i+1)\n         {\n           System.out.println(\"List contains \" + L.get(i));\n           s = s + L.get(i);\n           System.outprintln(\"Sum of nunbers \" + s); \n         }\n\n\n\n     }// of main\n\n   } // of Lab7\n</code></pre>\n"},{"tags":["java","reflection","colors","awt"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1402855346,"post_id":24232438,"comment_id":37423776,"body_markdown":"It might help you [java.awt.color to java.lang.string conversion](http://stackoverflow.com/questions/6717765/java-awt-color-to-java-lang-string-conversion)","body":"It might help you <a href=\"http://stackoverflow.com/questions/6717765/java-awt-color-to-java-lang-string-conversion\">java.awt.color to java.lang.string conversion</a>"}],"answers":[{"tags":[],"owner":{"account_id":2383218,"reputation":3710,"user_id":2084774,"accept_rate":75,"display_name":"Tareq Salah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402855908,"creation_date":1402855908,"answer_id":24232612,"question_id":24232438,"body_markdown":"You can use predefined `map &lt;Color, String&gt;` to insert some predfined colors on it and then use it to get the name\r\n\r\n    HashMap&lt;Color,String&gt; hm = new HashMap &lt;Color,String&gt;();\r\n    hm.put(Color.BLACK,&quot;Black&quot;);\r\n    .\r\n    .\r\n    .\r\n    hm.get(Color.BLACK)","title":"Getting a string representing the color name from an instance of Color","body":"<p>You can use predefined <code>map &lt;Color, String&gt;</code> to insert some predfined colors on it and then use it to get the name</p>\n\n<pre><code>HashMap&lt;Color,String&gt; hm = new HashMap &lt;Color,String&gt;();\nhm.put(Color.BLACK,\"Black\");\n.\n.\n.\nhm.get(Color.BLACK)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1402953416,"creation_date":1402856877,"answer_id":24232749,"question_id":24232438,"body_markdown":"`Color` class has only few non-static fields which are \r\n\r\n    name      | type         \r\n    ----------+---------------\r\n    value     | int \r\n    frgbvalue | float[] \r\n    fvalue    | float[] \r\n    falpha    | float \r\n    cs        | java.awt.color.ColorSpace \r\n\r\nand none of this fields store color name. Also it doesn&#39;t have any method which would check if color you are using is equal to one of its predefined ones and stored in static references like \r\n\r\n    public final static Color black = new Color(0, 0, 0);\r\n    public final static Color BLACK = black;\r\n\r\nBut nothing stops you from implementing your own method which will do it for you. Such method can look like\r\n\r\n    public static Optional&lt;String&gt; colorName(Color c) {\r\n    \tfor (Field f : Color.class.getDeclaredFields()) {\r\n    \t\t//we want to test only fields of type Color\r\n    \t\tif (f.getType().equals(Color.class))\r\n    \t\t\ttry {\r\n    \t\t\t\tif (f.get(null).equals(c))\r\n    \t\t\t\t\treturn Optional.of(f.getName().toLowerCase());\r\n    \t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n    \t\t\t\t// shouldn&#39;t not be thrown, but just in case print its stacktrace\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t}\r\n    \treturn Optional.empty();\r\n    }\r\n\r\nUsage example \r\n\r\n    \r\n    System.out.println(colorName(Color.BLACK).orElse(&quot;no name found&quot;));\r\n    System.out.println(colorName(new Color(10, 20, 30)).orElse(&quot;no name found&quot;));\r\n    System.out.println(colorName(null).orElse(&quot;no name found&quot;));\r\n\r\nOutput:\r\n\r\n    black\r\n    no name found\r\n    no name found","title":"Getting a string representing the color name from an instance of Color","body":"<p><code>Color</code> class has only few non-static fields which are </p>\n\n<pre><code>name      | type         \n----------+---------------\nvalue     | int \nfrgbvalue | float[] \nfvalue    | float[] \nfalpha    | float \ncs        | java.awt.color.ColorSpace \n</code></pre>\n\n<p>and none of this fields store color name. Also it doesn't have any method which would check if color you are using is equal to one of its predefined ones and stored in static references like </p>\n\n<pre><code>public final static Color black = new Color(0, 0, 0);\npublic final static Color BLACK = black;\n</code></pre>\n\n<p>But nothing stops you from implementing your own method which will do it for you. Such method can look like</p>\n\n<pre><code>public static Optional&lt;String&gt; colorName(Color c) {\n    for (Field f : Color.class.getDeclaredFields()) {\n        //we want to test only fields of type Color\n        if (f.getType().equals(Color.class))\n            try {\n                if (f.get(null).equals(c))\n                    return Optional.of(f.getName().toLowerCase());\n            } catch (IllegalArgumentException | IllegalAccessException e) {\n                // shouldn't not be thrown, but just in case print its stacktrace\n                e.printStackTrace();\n            }\n    }\n    return Optional.empty();\n}\n</code></pre>\n\n<p>Usage example </p>\n\n<pre><code>System.out.println(colorName(Color.BLACK).orElse(\"no name found\"));\nSystem.out.println(colorName(new Color(10, 20, 30)).orElse(\"no name found\"));\nSystem.out.println(colorName(null).orElse(\"no name found\"));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>black\nno name found\nno name found\n</code></pre>\n"}],"owner":{"account_id":4146180,"reputation":402,"user_id":3399837,"accept_rate":100,"display_name":"AlexC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24232749,"answer_count":2,"score":0,"last_activity_date":1679810031,"creation_date":1402854791,"question_id":24232438,"body_markdown":"How can I get a String representing name of the color (and not the awt RGB code) from an instance of the Color class?\r\n\r\nFor example I have\r\n\r\n    Color black=Color.BLACK;\r\n\r\nand I want to get the string `&quot;Black&quot;`.\r\n\r\nI know this should be possible using Java reflection, but I&#39;m not very familiar with it. Thank you.","title":"Getting a string representing the color name from an instance of Color","body":"<p>How can I get a String representing name of the color (and not the awt RGB code) from an instance of the Color class?</p>\n\n<p>For example I have</p>\n\n<pre><code>Color black=Color.BLACK;\n</code></pre>\n\n<p>and I want to get the string <code>\"Black\"</code>.</p>\n\n<p>I know this should be possible using Java reflection, but I'm not very familiar with it. Thank you.</p>\n"},{"tags":["java","colors","rgb","tostring"],"comments":[{"owner":{"account_id":61630,"reputation":38257,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"score":0,"creation_date":1303160549,"post_id":5708830,"comment_id":6525656,"body_markdown":"where have you set this toString method?","body":"where have you set this toString method?"},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1303160652,"post_id":5708830,"comment_id":6525682,"body_markdown":"possible duplicate of [How to get name of color using Color Chooser in java](http://stackoverflow.com/questions/1654582/how-to-get-name-of-color-using-color-chooser-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1654582/how-to-get-name-of-color-using-color-chooser-in-java\">How to get name of color using Color Chooser in java</a>"},{"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"score":0,"creation_date":1303163715,"post_id":5708830,"comment_id":6526328,"body_markdown":"also see http://stackoverflow.com/questions/4126029/java-color-code-convert-to-color-name","body":"also see <a href=\"http://stackoverflow.com/questions/4126029/java-color-code-convert-to-color-name\" title=\"java color code convert to color name\">stackoverflow.com/questions/4126029/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160603,"creation_date":1303160603,"answer_id":5708869,"question_id":5708830,"body_markdown":"You can create a class which extends Color and has a String named &quot;colorName&quot;, then print it on toString.\r\n\r\nBy default, Color do not store this name, also, it&#39;s hard do identify colors by comparing these Red, Green, Blue values.","title":"Java - toString to Colour","body":"<p>You can create a class which extends Color and has a String named \"colorName\", then print it on toString.</p>\n\n<p>By default, Color do not store this name, also, it's hard do identify colors by comparing these Red, Green, Blue values.</p>\n"},{"comments":[{"owner":{"account_id":346755,"reputation":33,"user_id":680460,"display_name":"notbugfree"},"score":1,"creation_date":1303161280,"post_id":5708875,"comment_id":6525837,"body_markdown":"I can get the RGB values to work but I wanted to see if it was possible to get the name to display. What I need to do is generate a random colour for each &quot;election party&quot; and then in the arraylist add votes. I might just make an array of colours (words) and not let the number of election parties be no more then the size of the color arraylist...probably easier :P","body":"I can get the RGB values to work but I wanted to see if it was possible to get the name to display. What I need to do is generate a random colour for each &quot;election party&quot; and then in the arraylist add votes. I might just make an array of colours (words) and not let the number of election parties be no more then the size of the color arraylist...probably easier :P"}],"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160679,"creation_date":1303160679,"answer_id":5708875,"question_id":5708830,"body_markdown":"This does not exist.  Good luck with rolling your own - it would need to return one of 256 x 256 x 256 (16,777,216) distinct strings to work.  How would you distinguish all the shades of blue, for example?  Why doesn&#39;t the RGB value work for you?","title":"Java - toString to Colour","body":"<p>This does not exist.  Good luck with rolling your own - it would need to return one of 256 x 256 x 256 (16,777,216) distinct strings to work.  How would you distinguish all the shades of blue, for example?  Why doesn't the RGB value work for you?</p>\n"},{"tags":[],"owner":{"account_id":115237,"reputation":4850,"user_id":2106959,"accept_rate":83,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160843,"creation_date":1303160843,"answer_id":5708904,"question_id":5708830,"body_markdown":"You could subclass Color and override the toString method (or create a printColour method or whatever name) and then you could output a certain colour label for a certain range of RGB values.\r\n\r\nObviously your choice of the colour names and the specific range you assign them will be completely subjective.\r\n\r\n","title":"Java - toString to Colour","body":"<p>You could subclass Color and override the toString method (or create a printColour method or whatever name) and then you could output a certain colour label for a certain range of RGB values.</p>\n\n<p>Obviously your choice of the colour names and the specific range you assign them will be completely subjective.</p>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38257,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160889,"creation_date":1303160889,"answer_id":5708916,"question_id":5708830,"body_markdown":"You can subclass `Color` to either override the `toString()` method or add another method of your own to covert the RGB to a named color. Or you could have a static method somewhere that converts RGB to a named color. \r\n\r\nHowever given there are 256 * 256 * 256 =~ 16 million different RGB combinations most of your random RGB combinations will not correspond to a named color. So not sure it&#39;s worth doing.","title":"Java - toString to Colour","body":"<p>You can subclass <code>Color</code> to either override the <code>toString()</code> method or add another method of your own to covert the RGB to a named color. Or you could have a static method somewhere that converts RGB to a named color. </p>\n\n<p>However given there are 256 * 256 * 256 =~ 16 million different RGB combinations most of your random RGB combinations will not correspond to a named color. So not sure it's worth doing.</p>\n"},{"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303160976,"creation_date":1303160976,"answer_id":5708930,"question_id":5708830,"body_markdown":"This is non-trivial and rather subjective.\r\n\r\nHowever, you might want to look at http://blog.xkcd.com/2010/05/03/color-survey-results/ which attempts to answer this.","title":"Java - toString to Colour","body":"<p>This is non-trivial and rather subjective.</p>\n\n<p>However, you might want to look at <a href=\"http://blog.xkcd.com/2010/05/03/color-survey-results/\" rel=\"nofollow\">http://blog.xkcd.com/2010/05/03/color-survey-results/</a> which attempts to answer this.</p>\n"},{"tags":[],"owner":{"account_id":125128,"reputation":51999,"user_id":320700,"accept_rate":74,"display_name":"Yanick Rochon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303164067,"creation_date":1303163081,"answer_id":5709265,"question_id":5708830,"body_markdown":"I&#39;ve never really came across something you&#39;re asking for, but would this work for you? (You might need to [add more colors](http://en.wikipedia.org/wiki/List_of_colors) for your needs) :\r\n\r\n\r\n\r\n    public final class ColorUtil {\r\n    \r\n        static private HashMap&lt;String,Color&gt; KNOWNCOLORS = new HashMap&lt;String,Color&gt;();\r\n    \t\r\n        static {\r\n            KNOWNCOLORS.put(&quot;black&quot;,     Color.black);\r\n            KNOWNCOLORS.put(&quot;darkgray&quot;,  Color.darkGray);\r\n            KNOWNCOLORS.put(&quot;lightgray&quot;, Color.lightGray);\r\n            KNOWNCOLORS.put(&quot;white&quot;,     Color.white);\r\n            KNOWNCOLORS.put(&quot;red&quot;,       Color.red);\r\n            KNOWNCOLORS.put(&quot;blue&quot;,      Color.blue);\r\n            KNOWNCOLORS.put(&quot;green&quot;,     Color.green);\r\n            KNOWNCOLORS.put(&quot;pink&quot;,      Color.pink);\r\n            KNOWNCOLORS.put(&quot;cyan&quot;,      Color.cyan);\r\n            KNOWNCOLORS.put(&quot;purple&quot;,    Color.magenta);\r\n            KNOWNCOLORS.put(&quot;orange&quot;,    Color.orange);\r\n            KNOWNCOLORS.put(&quot;yellow&quot;,    Color.yellow);\r\n            // add more here\r\n        }\r\n    \t\r\n    \t\r\n        static public String getBestColorName(Color c) {\r\n            int dist, diff = Integer.MAX_VALUE;\r\n            String colorName = toHex(c);\r\n            Color c2;\r\n\t\t\r\n            for (String name : KNOWNCOLORS.keySet()) {\r\n                c2 = KNOWNCOLORS.get(name);\r\n                dist = Math.abs(c.getRed() - c2.getRed())\r\n                        + Math.abs(c.getGreen() - c2.getGreen()) \r\n                        + Math.abs(c.getBlue() - c2.getBlue())\r\n                        + Math.abs(c.getAlpha() - c2.getAlpha());\r\n\r\n                if (dist &lt; diff) {\r\n                    diff = dist;\r\n                    colorName = name; \r\n                }\r\n            }\r\n\r\n            return colorName;\r\n        }\r\n    \t\r\n        static public int getColorValue(Color c) {\r\n            return (c.getAlpha() &lt;&lt; 24) \r\n                | (c.getRed() &lt;&lt; 16)\r\n                | (c.getGreen() &lt;&lt; 8) \r\n                | (c.getBlue()); \r\n        }\r\n    \t\r\n        static public String toHex(Color c) {\r\n            StringBuilder b = new StringBuilder();\r\n            if (c.getAlpha() &lt; 255) {\r\n                b.append(padLeft(Integer.toString(c.getAlpha(), 16), 2));\r\n            }\r\n            b.append(padLeft(Integer.toString(c.getRed(), 16), 2));\r\n            b.append(padLeft(Integer.toString(c.getGreen(), 16), 2));\r\n            b.append(padLeft(Integer.toString(c.getBlue(), 16), 2));\r\n    \r\n            return b.toString();\r\n        }\r\n    \r\n        static private String padLeft(String s, int n) {\r\n            return String.format(&quot;%1$#&quot; + n + &quot;s&quot;, s).replace(&quot; &quot;, &quot;0&quot;);\r\n        }\r\n    \r\n        private ColorUtil() {}\r\n    \r\n    \r\n    \r\n        static public void main(String...args) {\r\n            Color c;\r\n    \r\n            for (String name : KNOWNCOLORS.keySet()) {\r\n                if (!name.equals(getBestColorName(KNOWNCOLORS.get(name)))) {\r\n                    System.out.println(&quot;*** ERR!! Could not match color &quot; + name);\r\n                } \r\n            }\r\n    \r\n            for (int i=0; i&lt;30; i++) {\r\n                c = new Color((int) (Math.random() * 256), (int) (Math.random() * 256), (int) (Math.random() * 256));\r\n    \r\n                System.out.println(&quot;Color &quot; + toHex(c) \r\n                     + &quot; (&quot; + c.getAlpha() + &quot;,&quot; + c.getRed() + &quot;,&quot; + c.getGreen() + &quot;,&quot; + c.getBlue() + &quot;)&quot;\r\n                     + &quot; = &quot; + getBestColorName(c));\r\n            }\r\n    \r\n            System.out.println(&quot;Done!&quot;);\r\n        }\r\n    \t\r\n    }\r\n\r\n\r\nSample output :\r\n\r\n    Color e75848 (255,231,88,72) = red\r\n    Color 6f4854 (255,111,72,84) = darkgray\r\n    Color 5dc6af (255,93,198,175) = lightgray\r\n    Color 190971 (255,25,9,113) = darkgray\r\n    Color 8ef300 (255,142,243,0) = yellow\r\n    Color c2ec5b (255,194,236,91) = lightgray\r\n    Color 998794 (255,153,135,148) = lightgray\r\n    Color 328d06 (255,50,141,6) = darkgray\r\n    Color 223d03 (255,34,61,3) = darkgray\r\n    Color 51dfea (255,81,223,234) = cyan\r\n    Color baa801 (255,186,168,1) = orange\r\n    Color 8370d4 (255,131,112,212) = lightgray\r\n    Color 7766bd (255,119,102,189) = lightgray\r\n    Color 35024b (255,53,2,75) = darkgray\r\n    Color cdbfad (255,205,191,173) = lightgray\r\n    Color 5e3a21 (255,94,58,33) = darkgray\r\n    Color 11af5d (255,17,175,93) = darkgray\r\n    Color 480995 (255,72,9,149) = darkgray\r\n    Color 04adab (255,4,173,171) = cyan\r\n    Color 98641c (255,152,100,28) = darkgray\r\n    Color 3ef68c (255,62,246,140) = cyan\r\n    Color 4d091a (255,77,9,26) = darkgray\r\n    Color 56117d (255,86,17,125) = darkgray\r\n    Color 1a00ea (255,26,0,234) = blue\r\n    Color 2ffd3e (255,47,253,62) = green\r\n    Color 9a918b (255,154,145,139) = lightgray\r\n    Color 6f8f0e (255,111,143,14) = darkgray\r\n    Color 5f3e25 (255,95,62,37) = darkgray\r\n    Color 914e79 (255,145,78,121) = darkgray\r\n    Color 57f88b (255,87,248,139) = cyan\r\n    Done!\r\n\r\n","title":"Java - toString to Colour","body":"<p>I've never really came across something you're asking for, but would this work for you? (You might need to <a href=\"http://en.wikipedia.org/wiki/List_of_colors\" rel=\"nofollow\">add more colors</a> for your needs) :</p>\n\n<pre><code>public final class ColorUtil {\n\n    static private HashMap&lt;String,Color&gt; KNOWNCOLORS = new HashMap&lt;String,Color&gt;();\n\n    static {\n        KNOWNCOLORS.put(\"black\",     Color.black);\n        KNOWNCOLORS.put(\"darkgray\",  Color.darkGray);\n        KNOWNCOLORS.put(\"lightgray\", Color.lightGray);\n        KNOWNCOLORS.put(\"white\",     Color.white);\n        KNOWNCOLORS.put(\"red\",       Color.red);\n        KNOWNCOLORS.put(\"blue\",      Color.blue);\n        KNOWNCOLORS.put(\"green\",     Color.green);\n        KNOWNCOLORS.put(\"pink\",      Color.pink);\n        KNOWNCOLORS.put(\"cyan\",      Color.cyan);\n        KNOWNCOLORS.put(\"purple\",    Color.magenta);\n        KNOWNCOLORS.put(\"orange\",    Color.orange);\n        KNOWNCOLORS.put(\"yellow\",    Color.yellow);\n        // add more here\n    }\n\n\n    static public String getBestColorName(Color c) {\n        int dist, diff = Integer.MAX_VALUE;\n        String colorName = toHex(c);\n        Color c2;\n\n        for (String name : KNOWNCOLORS.keySet()) {\n            c2 = KNOWNCOLORS.get(name);\n            dist = Math.abs(c.getRed() - c2.getRed())\n                    + Math.abs(c.getGreen() - c2.getGreen()) \n                    + Math.abs(c.getBlue() - c2.getBlue())\n                    + Math.abs(c.getAlpha() - c2.getAlpha());\n\n            if (dist &lt; diff) {\n                diff = dist;\n                colorName = name; \n            }\n        }\n\n        return colorName;\n    }\n\n    static public int getColorValue(Color c) {\n        return (c.getAlpha() &lt;&lt; 24) \n            | (c.getRed() &lt;&lt; 16)\n            | (c.getGreen() &lt;&lt; 8) \n            | (c.getBlue()); \n    }\n\n    static public String toHex(Color c) {\n        StringBuilder b = new StringBuilder();\n        if (c.getAlpha() &lt; 255) {\n            b.append(padLeft(Integer.toString(c.getAlpha(), 16), 2));\n        }\n        b.append(padLeft(Integer.toString(c.getRed(), 16), 2));\n        b.append(padLeft(Integer.toString(c.getGreen(), 16), 2));\n        b.append(padLeft(Integer.toString(c.getBlue(), 16), 2));\n\n        return b.toString();\n    }\n\n    static private String padLeft(String s, int n) {\n        return String.format(\"%1$#\" + n + \"s\", s).replace(\" \", \"0\");\n    }\n\n    private ColorUtil() {}\n\n\n\n    static public void main(String...args) {\n        Color c;\n\n        for (String name : KNOWNCOLORS.keySet()) {\n            if (!name.equals(getBestColorName(KNOWNCOLORS.get(name)))) {\n                System.out.println(\"*** ERR!! Could not match color \" + name);\n            } \n        }\n\n        for (int i=0; i&lt;30; i++) {\n            c = new Color((int) (Math.random() * 256), (int) (Math.random() * 256), (int) (Math.random() * 256));\n\n            System.out.println(\"Color \" + toHex(c) \n                 + \" (\" + c.getAlpha() + \",\" + c.getRed() + \",\" + c.getGreen() + \",\" + c.getBlue() + \")\"\n                 + \" = \" + getBestColorName(c));\n        }\n\n        System.out.println(\"Done!\");\n    }\n\n}\n</code></pre>\n\n<p>Sample output :</p>\n\n<pre><code>Color e75848 (255,231,88,72) = red\nColor 6f4854 (255,111,72,84) = darkgray\nColor 5dc6af (255,93,198,175) = lightgray\nColor 190971 (255,25,9,113) = darkgray\nColor 8ef300 (255,142,243,0) = yellow\nColor c2ec5b (255,194,236,91) = lightgray\nColor 998794 (255,153,135,148) = lightgray\nColor 328d06 (255,50,141,6) = darkgray\nColor 223d03 (255,34,61,3) = darkgray\nColor 51dfea (255,81,223,234) = cyan\nColor baa801 (255,186,168,1) = orange\nColor 8370d4 (255,131,112,212) = lightgray\nColor 7766bd (255,119,102,189) = lightgray\nColor 35024b (255,53,2,75) = darkgray\nColor cdbfad (255,205,191,173) = lightgray\nColor 5e3a21 (255,94,58,33) = darkgray\nColor 11af5d (255,17,175,93) = darkgray\nColor 480995 (255,72,9,149) = darkgray\nColor 04adab (255,4,173,171) = cyan\nColor 98641c (255,152,100,28) = darkgray\nColor 3ef68c (255,62,246,140) = cyan\nColor 4d091a (255,77,9,26) = darkgray\nColor 56117d (255,86,17,125) = darkgray\nColor 1a00ea (255,26,0,234) = blue\nColor 2ffd3e (255,47,253,62) = green\nColor 9a918b (255,154,145,139) = lightgray\nColor 6f8f0e (255,111,143,14) = darkgray\nColor 5f3e25 (255,95,62,37) = darkgray\nColor 914e79 (255,145,78,121) = darkgray\nColor 57f88b (255,87,248,139) = cyan\nDone!\n</code></pre>\n"}],"owner":{"account_id":346755,"reputation":33,"user_id":680460,"display_name":"notbugfree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1679809425,"creation_date":1303160380,"question_id":5708830,"body_markdown":"I have been trying to work this out all day.\r\n\r\nBasically I have made a for loop which adds entries into an arraylist. One of the entries is a &quot;Colour&quot; varible. I have used the `random.nextInt` to create new values for the red, green and blue parts of the colour constructor. I have also set a `toString` method so I can see the values going into the arraylist. \r\n\r\nProblem is:\r\n\r\nWhen printing out I get  :  `java.awt.Color[r=248,g=103,b=53]`\r\n\r\nand I understand why that is so, I&#39;m just wondering how I can change that so the output says the word &quot;orange&quot; or &quot;green&quot; or &quot;purple&quot; depending on what the random rgb values are. \r\n\r\nI looked on here and I found that I could possibly use the `getRGB` method and parsing and thats where I get stuck... any help would be great :)\r\n\r\n","title":"Java - toString to Colour","body":"<p>I have been trying to work this out all day.</p>\n\n<p>Basically I have made a for loop which adds entries into an arraylist. One of the entries is a \"Colour\" varible. I have used the <code>random.nextInt</code> to create new values for the red, green and blue parts of the colour constructor. I have also set a <code>toString</code> method so I can see the values going into the arraylist. </p>\n\n<p>Problem is:</p>\n\n<p>When printing out I get  :  <code>java.awt.Color[r=248,g=103,b=53]</code></p>\n\n<p>and I understand why that is so, I'm just wondering how I can change that so the output says the word \"orange\" or \"green\" or \"purple\" depending on what the random rgb values are. </p>\n\n<p>I looked on here and I found that I could possibly use the <code>getRGB</code> method and parsing and thats where I get stuck... any help would be great :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3362613,"reputation":3562,"user_id":2824087,"accept_rate":100,"display_name":"Rob Gorman"},"score":1,"creation_date":1522794842,"post_id":49640034,"comment_id":86287786,"body_markdown":"I think you need to show some code..","body":"I think you need to show some code.."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1522795170,"post_id":49640034,"comment_id":86287892,"body_markdown":"What I&#39;d do: create my own enum or Map to link Strings to Colors","body":"What I&#39;d do: create my own enum or Map to link Strings to Colors"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1522795234,"post_id":49640034,"comment_id":86287914,"body_markdown":"But having said that, there is no one-size-fits all answer. What String should be returned for `Color(130, 23, 199)`? That&#39;s why you should write your own code that links a subset of Colors to corresponding Strings. So yes, as @RobGorman suggests -- please show some code.","body":"But having said that, there is no one-size-fits all answer. What String should be returned for <code>Color(130, 23, 199)</code>? That&#39;s why you should write your own code that links a subset of Colors to corresponding Strings. So yes, as @RobGorman suggests -- please show some code."},{"owner":{"account_id":12733195,"reputation":23,"user_id":9249107,"display_name":"user7784"},"score":0,"creation_date":1522795510,"post_id":49640034,"comment_id":86287992,"body_markdown":"@RobGorman I updated with a link to the code.","body":"@RobGorman I updated with a link to the code."},{"owner":{"account_id":2761650,"reputation":2950,"user_id":2378429,"display_name":"O.O.Balance"},"score":0,"creation_date":1522795663,"post_id":49640034,"comment_id":86288018,"body_markdown":"Please don&#39;t link to code. Include it in your post, properly formatted.","body":"Please don&#39;t link to code. Include it in your post, properly formatted."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1522795674,"post_id":49640034,"comment_id":86288022,"body_markdown":"Then try to do as suggested -- link your String with your date with either a Map or an enum. Also, please post pertinent code, preferably a [Minimal, Complete, and Verifiable Example Program](http://stackoverflow.com/help/mcve), here with your question, not in a link. Links can go dead, and links may hold large programs, programs too large to ask a volunteer to review. Your compliance with this request will be greatly appreciated and will likely help you in getting better and faster help.","body":"Then try to do as suggested -- link your String with your date with either a Map or an enum. Also, please post pertinent code, preferably a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example Program</a>, here with your question, not in a link. Links can go dead, and links may hold large programs, programs too large to ask a volunteer to review. Your compliance with this request will be greatly appreciated and will likely help you in getting better and faster help."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1522796075,"post_id":49640034,"comment_id":86288127,"body_markdown":"if you simply want RED to be &quot;RED&quot; then create an enum of all the colors a guitar can be and use those and not the java.awt.Color class since you aren&#39;t using the Color class for what it&#39;s used for","body":"if you simply want RED to be &quot;RED&quot; then create an enum of all the colors a guitar can be and use those and not the java.awt.Color class since you aren&#39;t using the Color class for what it&#39;s used for"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1522796405,"post_id":49640034,"comment_id":86288216,"body_markdown":"ok but did the professor&#39;s getColor() return a Color or did it return a String??","body":"ok but did the professor&#39;s getColor() return a Color or did it return a String??"}],"answers":[{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1522855598,"creation_date":1522796845,"answer_id":49640342,"question_id":49640034,"body_markdown":"I would create a function in the guitar class that deciphers what color the guitar is and returns the `String` representation of that color and not the actual `Color` object. Try this\r\n\r\n    public String getColorOfGuitar() {\r\n\r\n\t    if(guitarColor.equals(Color.RED))\r\n\t        return &quot;RED&quot;;\r\n\t    else if(guitarColor.equals(Color.BLUE))\r\n\t    \treturn &quot;BLUE&quot;;\r\n\t    else if(guitarColor.equals(Color.YELLOW))\r\n\t    \treturn &quot;YELLOW&quot;;\r\n\t    else\r\n\t    \treturn &quot;Unknown Color&quot;;\r\n\t}\r\n\r\nNow when you call the method it will return a String representation of that Color\r\n\r\n    System.out.println(&quot;getColorOfGuitar() result: &quot; + g1.getColorOfGuitar()); //--&gt; getColor() result: RED","title":"java.awt.color return color name not RGB value","body":"<p>I would create a function in the guitar class that deciphers what color the guitar is and returns the <code>String</code> representation of that color and not the actual <code>Color</code> object. Try this</p>\n\n<pre><code>public String getColorOfGuitar() {\n\n    if(guitarColor.equals(Color.RED))\n        return \"RED\";\n    else if(guitarColor.equals(Color.BLUE))\n        return \"BLUE\";\n    else if(guitarColor.equals(Color.YELLOW))\n        return \"YELLOW\";\n    else\n        return \"Unknown Color\";\n}\n</code></pre>\n\n<p>Now when you call the method it will return a String representation of that Color</p>\n\n<pre><code>System.out.println(\"getColorOfGuitar() result: \" + g1.getColorOfGuitar()); //--&gt; getColor() result: RED\n</code></pre>\n"}],"owner":{"account_id":12733195,"reputation":23,"user_id":9249107,"display_name":"user7784"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4614,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49640342,"answer_count":1,"score":2,"last_activity_date":1679808798,"creation_date":1522794701,"question_id":49640034,"body_markdown":"Before anyone marks this as a duplicate, I read about 7 other questions that were similar and none of them had answers anywhere close to what I&#39;m looking for. I also ventured past the first two pages of Google search results and still couldn&#39;t find an answer.\r\n\r\nI don&#39;t care about all the colors in the world, I just want to use the ones that are already in the java Color class (i.e &quot;red&quot;, &quot;black&quot;, &quot;green&quot;).\r\n\r\nI&#39;m writing a program for an intro Java class and the professor said to declare &quot;a private Color data field named guitarColor that defines the color of the guitar. The default value should be Color.Red.&quot; His example output shows the color returning as &quot;getColor(): Red&quot;. So I need to use the color class to get the output in this format. \r\n\r\nWhen I use the java.awt.color class and input something like Color.RED, I want it to return &quot;Red&quot;, not &quot;java.awt.Color[r=255,g=0,b=0]&quot;. How can I do this?\r\n\r\n\r\n     \r\n    import java.awt.Color;\r\n    \r\n    public class Program\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \tGuitar g1 = new Guitar(); \r\n    \r\n    \tSystem.out.println(&quot;getColor() result: &quot; + g1.getColor());\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\n    public class Guitar {    \r\n    \r\n    \tprivate Color guitarColor;\r\n    \r\n    \tpublic Guitar () {\r\n    \t\tguitarColor = Color.RED;\r\n    \t}\r\n    \r\n       public Color getColor() {\r\n    \t   return guitarColor;\r\n       }\r\n       \r\n    \r\n    } \r\n\r\n\r\nOutput: \r\n\r\n    getColor() result: java.awt.Color[r=255,g=0,b=0]","title":"java.awt.color return color name not RGB value","body":"<p>Before anyone marks this as a duplicate, I read about 7 other questions that were similar and none of them had answers anywhere close to what I'm looking for. I also ventured past the first two pages of Google search results and still couldn't find an answer.</p>\n\n<p>I don't care about all the colors in the world, I just want to use the ones that are already in the java Color class (i.e \"red\", \"black\", \"green\").</p>\n\n<p>I'm writing a program for an intro Java class and the professor said to declare \"a private Color data field named guitarColor that defines the color of the guitar. The default value should be Color.Red.\" His example output shows the color returning as \"getColor(): Red\". So I need to use the color class to get the output in this format. </p>\n\n<p>When I use the java.awt.color class and input something like Color.RED, I want it to return \"Red\", not \"java.awt.Color[r=255,g=0,b=0]\". How can I do this?</p>\n\n<pre><code>import java.awt.Color;\n\npublic class Program\n{\n    public static void main(String[] args) {\n\n    Guitar g1 = new Guitar(); \n\n    System.out.println(\"getColor() result: \" + g1.getColor());\n\n    }\n}\n\n\npublic class Guitar {    \n\n    private Color guitarColor;\n\n    public Guitar () {\n        guitarColor = Color.RED;\n    }\n\n   public Color getColor() {\n       return guitarColor;\n   }\n\n\n} \n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>getColor() result: java.awt.Color[r=255,g=0,b=0]\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9678,"page":547,"page_size":100}
