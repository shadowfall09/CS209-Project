{"items":[{"tags":["java","object","arraylist","split"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1697558945,"post_id":77310534,"comment_id":136293892,"body_markdown":"You could use a map and the CaseNumber is the key. The value part would then be a list of senders.","body":"You could use a map and the CaseNumber is the key. The value part would then be a list of senders."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697559569,"creation_date":1697559569,"answer_id":77310681,"question_id":77310534,"body_markdown":"You can use java stream `api` to group the list. \r\n```java\r\nMap&lt;Integer, List&lt;Message&gt;&gt; groupedMessages = allMessages.stream().collect(Collectors.groupingBy(Message::getCaseNumber));\r\n``` ","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>You can use java stream <code>api</code> to group the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Message&gt;&gt; groupedMessages = allMessages.stream().collect(Collectors.groupingBy(Message::getCaseNumber));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697559764,"creation_date":1697559764,"answer_id":77310701,"question_id":77310534,"body_markdown":"You could create a `Map&lt;Integer, List&lt;String&gt;&gt;` object like\r\n\r\n```\r\nMap&lt;Integer, List&lt;String&gt;&gt; map = new HashMap&lt;Integer, List&lt;String&gt;&gt;();\r\n```\r\n\r\nand inside the `for` cycle, check whether the given number exists in the `map` and if not, create it:\r\n\r\n```\r\nif (!map.containsKey(caseNumber)) {\r\n    map.put(caseNumber, new ArrayList&lt;String&gt;());\r\n}\r\nmap.get(caseNumber).add(sender);\r\n```","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>You could create a <code>Map&lt;Integer, List&lt;String&gt;&gt;</code> object like</p>\n<pre><code>Map&lt;Integer, List&lt;String&gt;&gt; map = new HashMap&lt;Integer, List&lt;String&gt;&gt;();\n</code></pre>\n<p>and inside the <code>for</code> cycle, check whether the given number exists in the <code>map</code> and if not, create it:</p>\n<pre><code>if (!map.containsKey(caseNumber)) {\n    map.put(caseNumber, new ArrayList&lt;String&gt;());\n}\nmap.get(caseNumber).add(sender);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697561130,"creation_date":1697561130,"answer_id":77310799,"question_id":77310534,"body_markdown":"Create a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_, where the _key_ is _caseNumber_, and the value is a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ of _Messages_ objects.\r\n\r\n```java\r\nMap&lt;Integer, List&lt;Messages&gt;&gt; map = new TreeMap&lt;&gt;();\r\nfor (Messages m : getAllMessages())\r\n    if (map.containsKey(m.caseNumber)) map.get(m.caseNumber).add(m);\r\n    else map.put(m.caseNumber, new ArrayList&lt;&gt;(List.of(m)));\r\n```","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>Create a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em>, where the <em>key</em> is <em>caseNumber</em>, and the value is a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> of <em>Messages</em> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, List&lt;Messages&gt;&gt; map = new TreeMap&lt;&gt;();\nfor (Messages m : getAllMessages())\n    if (map.containsKey(m.caseNumber)) map.get(m.caseNumber).add(m);\n    else map.put(m.caseNumber, new ArrayList&lt;&gt;(List.of(m)));\n</code></pre>\n"}],"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77310681,"answer_count":3,"score":2,"last_activity_date":1697561130,"creation_date":1697558435,"question_id":77310534,"body_markdown":"I have an List of Messages objects.  My message object consist of sender and CaseNumber.  A SQL query is pulls all the messages into a list.  In this list I have multiple of the same CaseNumber.  \r\nWhat I would like to accomplish is loop though the current Messages List and split them out into their own individual list based on the CaseNumber.\r\n\r\n\r\n\r\nI&#39;ve fiddled around but I am not sure how to accomplish this within the for loop.\r\n\r\n           \r\n        public class Messages {\r\n        private String sender = &quot;&quot;;\r\n        private int caseNumber = 0\r\n\r\n         public int getCaseNumber() {\r\n  \t\treturn caseNumber;\r\n  \t}\r\n    \tpublic void setCaseNumber(int caseNumber) {\r\n\t    \tthis.caseNumber = caseNumber;\r\n    \t}\r\n\r\n     \tpublic String getSender() {\r\n\t\t  return sender;\r\n\t    }\r\n    \tpublic void setSender(String sender) {\r\n\t\tthis.sender = sender;\r\n     \t}\r\n        \r\n       }\r\n\r\n    SQL makes a call and maps the vars into a huge object.\r\n      public List&lt;Messages&gt; getAllMessages()\r\n      {\r\n       List&lt;Messages&gt; entries = null;\r\n       String sql = &quot;select sender, caseNumber from Messages&quot;;\r\n       entries = jdbcTemplate.query(sql, new MessagesMapper());\r\n       return entries;\r\n      }\r\n\r\n    //for loop in my function.\r\n    for(Messages m : allMessages)\r\n\t{\r\n\t\t//This is the part i am stumped on how to I check if case number = case number if so create a new Messages List. Then if any of the additional cases in the list, add them to this new List.  If it&#39;s a new caseNumber, create a new list.\r\n\t}\r\n\r\nI thought about changing the sql call just to pull each messages by caseNumber but I feel that I could just be hammering SQL which doesn&#39;t feel efficient. \r\n\r\nHopfully this makes sense on what i want to accomplish.  Split List of objects bases on caseNumber and create it&#39;s own List of that object.","title":"Split an List of objects based caseNumber into a new List of objects","body":"<p>I have an List of Messages objects.  My message object consist of sender and CaseNumber.  A SQL query is pulls all the messages into a list.  In this list I have multiple of the same CaseNumber.<br />\nWhat I would like to accomplish is loop though the current Messages List and split them out into their own individual list based on the CaseNumber.</p>\n<p>I've fiddled around but I am not sure how to accomplish this within the for loop.</p>\n<pre><code>    public class Messages {\n    private String sender = &quot;&quot;;\n    private int caseNumber = 0\n\n     public int getCaseNumber() {\n    return caseNumber;\n}\n    public void setCaseNumber(int caseNumber) {\n        this.caseNumber = caseNumber;\n    }\n\n    public String getSender() {\n      return sender;\n    }\n    public void setSender(String sender) {\n    this.sender = sender;\n    }\n    \n   }\n\nSQL makes a call and maps the vars into a huge object.\n  public List&lt;Messages&gt; getAllMessages()\n  {\n   List&lt;Messages&gt; entries = null;\n   String sql = &quot;select sender, caseNumber from Messages&quot;;\n   entries = jdbcTemplate.query(sql, new MessagesMapper());\n   return entries;\n  }\n\n//for loop in my function.\nfor(Messages m : allMessages)\n{\n    //This is the part i am stumped on how to I check if case number = case number if so create a new Messages List. Then if any of the additional cases in the list, add them to this new List.  If it's a new caseNumber, create a new list.\n}\n</code></pre>\n<p>I thought about changing the sql call just to pull each messages by caseNumber but I feel that I could just be hammering SQL which doesn't feel efficient.</p>\n<p>Hopfully this makes sense on what i want to accomplish.  Split List of objects bases on caseNumber and create it's own List of that object.</p>\n"},{"tags":["java","rest","spring-mvc"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1552573027,"post_id":55164703,"comment_id":97068725,"body_markdown":"Use the observer pattern. If the value is updated, replace the one in the cache with the new. And always return the one in the cache","body":"Use the observer pattern. If the value is updated, replace the one in the cache with the new. And always return the one in the cache"}],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552576028,"creation_date":1552573264,"answer_id":55164904,"question_id":55164703,"body_markdown":"No, you need to do it by yourself.\r\n\r\nYou need to annotate your &quot;fetch&quot; method with `@Cacheable`([docs][1]) and then, annotate &quot;update&quot; method with `@CacheEvict` ([docs][2]) in order to &quot;drop&quot; your cache. So when you would fetch your data next time after its modification, it will be fresh.\r\n\r\nAlternatively, you can create another method with `@CacheEvict` and manually call it from &quot;update&quot; method.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/CacheEvict.html","title":"Does @Cacheable annotated methods execute when the actual data is modified?","body":"<p>No, you need to do it by yourself.</p>\n\n<p>You need to annotate your \"fetch\" method with <code>@Cacheable</code>(<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/Cacheable.html\" rel=\"nofollow noreferrer\">docs</a>) and then, annotate \"update\" method with <code>@CacheEvict</code> (<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/annotation/CacheEvict.html\" rel=\"nofollow noreferrer\">docs</a>) in order to \"drop\" your cache. So when you would fetch your data next time after its modification, it will be fresh.</p>\n\n<p>Alternatively, you can create another method with <code>@CacheEvict</code> and manually call it from \"update\" method.</p>\n"},{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552574905,"creation_date":1552574905,"answer_id":55165503,"question_id":55164703,"body_markdown":"The cache related  annotations (`@Cacheable`, `@CacheEvict` etc) will only deal with the cache being maintained by application. Any http response header like [last-modified][1] etc has to be managed seperately. Spring MVC provides a handy way to deal with it ([docs][2]).\r\nThe logic to calculate the last modified time has to be obviously application specific.\r\n\r\nAn example of its usage would be\r\n\r\n    MyController {\r\n    \r\n        @Autowire\r\n         CacheService cacheService;\r\n        \r\n            @RequestMapping(value = &quot;/testCache&quot;, method = RequestMethod.GET)\r\n             public String myControllerMethod(WebRequest webRequest, Model model, HttpServletResponse response) {\r\n                long lastModified = // calculate as per your logic and add headers to response\r\n                if (request.checkNotModified(lastModified)) {\r\n                  // stop processing\r\n\r\n                  return null;\r\n                } else {  \r\n\r\n                  return cacheService.getData(model);\r\n                }\r\n            }\r\n            \r\n        \r\n        @Component\r\n        public class CacheService{\r\n        \r\n            @Cacheable(value = &quot;users&quot;, key = &quot;#id&quot;)\r\n            public String getData(Model model) {\r\n                //populate Model\r\n                return &quot;dataview&quot;;\r\n            }\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/request/WebRequest.html#checkNotModified-long-","title":"Does @Cacheable annotated methods execute when the actual data is modified?","body":"<p>The cache related  annotations (<code>@Cacheable</code>, <code>@CacheEvict</code> etc) will only deal with the cache being maintained by application. Any http response header like <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified\" rel=\"nofollow noreferrer\">last-modified</a> etc has to be managed seperately. Spring MVC provides a handy way to deal with it (<a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/context/request/WebRequest.html#checkNotModified-long-\" rel=\"nofollow noreferrer\">docs</a>).\nThe logic to calculate the last modified time has to be obviously application specific.</p>\n\n<p>An example of its usage would be</p>\n\n<pre><code>MyController {\n\n    @Autowire\n     CacheService cacheService;\n\n        @RequestMapping(value = \"/testCache\", method = RequestMethod.GET)\n         public String myControllerMethod(WebRequest webRequest, Model model, HttpServletResponse response) {\n            long lastModified = // calculate as per your logic and add headers to response\n            if (request.checkNotModified(lastModified)) {\n              // stop processing\n\n              return null;\n            } else {  \n\n              return cacheService.getData(model);\n            }\n        }\n\n\n    @Component\n    public class CacheService{\n\n        @Cacheable(value = \"users\", key = \"#id\")\n        public String getData(Model model) {\n            //populate Model\n            return \"dataview\";\n        }\n</code></pre>\n"}],"owner":{"account_id":10421919,"reputation":31,"user_id":7684346,"display_name":"M.Saeed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55164904,"answer_count":2,"score":1,"last_activity_date":1697560696,"creation_date":1552572744,"question_id":55164703,"body_markdown":"I am building a RESTful web service that can be consumed by a browser or another web service.\r\nI am willing to reduce the bandwidth through caching, however i want the method to be executed and send the actual data only if it&#39;s different than the last modified cache.\r\n\r\nFrom my understanding of the `@Cacheable` annotation, the method is only executed once and the output is cached until the cache expires .\r\n\r\nAlso `@CachePut` executes everytime and updates the cache but does it send the cache again even if it&#39;s not updated?\r\n\r\nSummary is: I need the client to be able to send the last modified date of it&#39;s cache and only get a new data if it has been modified.\r\n\r\nAlso how does Spring handle the client side caching and if-modified-since headers? does i need to save the last modified time or it is automatically handled?","title":"Does @Cacheable annotated methods execute when the actual data is modified?","body":"<p>I am building a RESTful web service that can be consumed by a browser or another web service.\nI am willing to reduce the bandwidth through caching, however i want the method to be executed and send the actual data only if it's different than the last modified cache.</p>\n<p>From my understanding of the <code>@Cacheable</code> annotation, the method is only executed once and the output is cached until the cache expires .</p>\n<p>Also <code>@CachePut</code> executes everytime and updates the cache but does it send the cache again even if it's not updated?</p>\n<p>Summary is: I need the client to be able to send the last modified date of it's cache and only get a new data if it has been modified.</p>\n<p>Also how does Spring handle the client side caching and if-modified-since headers? does i need to save the last modified time or it is automatically handled?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":290537,"reputation":13338,"user_id":592144,"display_name":"CSmith"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1627647019,"creation_date":1627498848,"answer_id":68566040,"question_id":68565533,"body_markdown":"Measuring image focus/blur involves iterating of the pixels of the bitmap, or at least a portion thereof.\r\n\r\nWhile you don&#39;t need OpenCV to iterate over the pixels of a bitmap on Android, its not for the faint of heart.  Doing so in a performant way would require you to drop into JNI native code, or perhaps a technology like RenderScript, as iterating over pixels in Java or Kotlin might prove too slow.\r\n\r\nThere are many algorithms and techniques for measuring focus, or sharpness, or contrast, this is one I&#39;ve used with reasonable success.\r\n\r\nLuma is the luminosity of a pixel, i.e. grayscale pixel value.  You&#39;ll want to convert each pixel to a grayscale value for this focus measure.  e.g. using the NTSC formula:\r\n\r\n    pixelLuma = (red * 0.299) + (green * 0.587) + (blue * 0.114)\r\n\r\n&gt; Here is a suggested formula to measure focus score:\r\n\r\n    FocusScore =  Max({Video_Gradient}) / {Gray_Level_Dynamic_Range} * {Pixel_Pitch}\r\n\r\n\r\n**Max{Video_Gradient}** = a measure of the *maximum* luminosity difference between adjacent pixels (x,y) across the bitmap.\r\n\r\ne.g.:\r\n\r\nhorizontally measure `pixel[x] - pixel[x+1]`\r\n\r\nvertically measure `pixel[y] - pixel[y+1]`\r\n\r\n   \r\n\r\n **{Gray_Level_Dynamic_Range}** = difference between average of N lightest pixels and N darkest pixels across the bitmap.  A typical value for N is 64, in my case working on images around 1200w x 500h.  Smaller images should use smaller N.\r\n\r\n**{Pixel_Pitch}** = 1 / DPI = 1/200 = 0.005\r\n\r\n\r\nThis will result in a score, higher values are more in focus.  You can determine a reasonable threshold.\r\n\r\nHere is a code snippet written in C:\r\n\r\n&gt;  - width = width of bitmap \r\n&gt;  - height = height of bitmap \r\n&gt;  - pixels = an array of bytes of size (width * height) holding pixel luminosity values\r\n&gt;  - VFOCUS_N = 64\r\n\r\n    int gradientHorizontal[256];\r\n    int *pGradientHorizontal = gradientHorizontal;\r\n    int gradientVertical[256];\r\n    int *pGradientVertical = gradientVertical;\r\n    int luminanceHistogram[256];\r\n    int *pLuminance = luminanceHistogram;\r\n    int maxGradient = 0;\r\n    \r\n    for (int i = 0;i &lt; 256;i++)\r\n    {\r\n        gradientHorizontal[i] = 0;\r\n        gradientVertical[i] = 0;\r\n        luminanceHistogram[i] = 0;\r\n    }\r\n    \r\n    // pixel by pixel math...\r\n    for (nRow = 0; nRow &lt; height-1; nRow++)\r\n    {\r\n        nRowOffset = nRow * width;\r\n        nNextRowOffset = (nRow+1) * width;\r\n    \r\n        for (nCol = 0; nCol &lt; width-1; nCol++)\r\n        {\r\n            int gC = pixels[nRowOffset + nCol];\r\n            int gH = abs(gC - pixels[nRowOffset + nCol + 1]);\r\n            int gV = abs(gC - pixels[nNextRowOffset + nCol]);\r\n            pLuminance[gC]++;\r\n            pGradientHorizontal[gH]++;\r\n            pGradientVertical[gV]++;\r\n        }\r\n    }\r\n    \r\n    // find max gradient\r\n    for (int i = 255;i &gt;= 0;i--)\r\n    {\r\n        // first one with a value\r\n        if ((gradientHorizontal[i] &gt; 0) || (gradientVertical[i] &gt; 0))\r\n        {\r\n            maxGradient = i;\r\n            break;\r\n        }\r\n    }\r\n    \r\n    // calculate dynamic range\r\n    int rangeLow = 0;\r\n    int rangeHi = 0;\r\n    int p;\r\n    p = 0;\r\n    for (int i = 0;i &lt; 256;i++)\r\n    {\r\n        if (luminanceHistogram[i] &gt; 0)\r\n        {\r\n            if (p + luminanceHistogram[i] &gt; VFOCUS_N)\r\n            {\r\n                rangeLow += (i * (VFOCUS_N - p));\r\n                p = VFOCUS_N;\r\n                break;\r\n            }\r\n    \r\n            p += luminanceHistogram[i];\r\n            rangeLow += (i * luminanceHistogram[i]);\r\n        }\r\n    }\r\n    if (p)\r\n        rangeLow /= p;\r\n    \r\n    p = 0;\r\n    for (int i = 255;i &gt;= 0;i--)\r\n    {\r\n        if (luminanceHistogram[i] &gt; 0)\r\n        {\r\n            if (p + luminanceHistogram[i] &gt; VFOCUS_N)\r\n            {\r\n                rangeHi += (i * (VFOCUS_N - p));\r\n                p = VFOCUS_N;\r\n                break;\r\n            }\r\n    \r\n            p += luminanceHistogram[i];\r\n            rangeHi += (i * luminanceHistogram[i]);\r\n        }\r\n    }\r\n    if (p)\r\n        rangeHi /= p;\r\n    \r\n    float mFocusScore = (float)fmin((float)maxGradient / (fabs((float)rangeHi - (float)rangeLow) * 0.005), 100.00);\r\n\r\n\r\n\r\nLow focus scores means a blurry image.  Values close to or in excess of 100 indicate a sharp image, the code above caps the score at 100.","title":"Is there any way to detect image is Blurry after capturing from Camera in Android (Except OpenCV )","body":"<p>Measuring image focus/blur involves iterating of the pixels of the bitmap, or at least a portion thereof.</p>\n<p>While you don't need OpenCV to iterate over the pixels of a bitmap on Android, its not for the faint of heart.  Doing so in a performant way would require you to drop into JNI native code, or perhaps a technology like RenderScript, as iterating over pixels in Java or Kotlin might prove too slow.</p>\n<p>There are many algorithms and techniques for measuring focus, or sharpness, or contrast, this is one I've used with reasonable success.</p>\n<p>Luma is the luminosity of a pixel, i.e. grayscale pixel value.  You'll want to convert each pixel to a grayscale value for this focus measure.  e.g. using the NTSC formula:</p>\n<pre><code>pixelLuma = (red * 0.299) + (green * 0.587) + (blue * 0.114)\n</code></pre>\n<blockquote>\n<p>Here is a suggested formula to measure focus score:</p>\n</blockquote>\n<pre><code>FocusScore =  Max({Video_Gradient}) / {Gray_Level_Dynamic_Range} * {Pixel_Pitch}\n</code></pre>\n<p><strong>Max{Video_Gradient}</strong> = a measure of the <em>maximum</em> luminosity difference between adjacent pixels (x,y) across the bitmap.</p>\n<p>e.g.:</p>\n<p>horizontally measure <code>pixel[x] - pixel[x+1]</code></p>\n<p>vertically measure <code>pixel[y] - pixel[y+1]</code></p>\n<p><strong>{Gray_Level_Dynamic_Range}</strong> = difference between average of N lightest pixels and N darkest pixels across the bitmap.  A typical value for N is 64, in my case working on images around 1200w x 500h.  Smaller images should use smaller N.</p>\n<p><strong>{Pixel_Pitch}</strong> = 1 / DPI = 1/200 = 0.005</p>\n<p>This will result in a score, higher values are more in focus.  You can determine a reasonable threshold.</p>\n<p>Here is a code snippet written in C:</p>\n<blockquote>\n<ul>\n<li>width = width of bitmap</li>\n<li>height = height of bitmap</li>\n<li>pixels = an array of bytes of size (width * height) holding pixel luminosity values</li>\n<li>VFOCUS_N = 64</li>\n</ul>\n</blockquote>\n<pre><code>int gradientHorizontal[256];\nint *pGradientHorizontal = gradientHorizontal;\nint gradientVertical[256];\nint *pGradientVertical = gradientVertical;\nint luminanceHistogram[256];\nint *pLuminance = luminanceHistogram;\nint maxGradient = 0;\n\nfor (int i = 0;i &lt; 256;i++)\n{\n    gradientHorizontal[i] = 0;\n    gradientVertical[i] = 0;\n    luminanceHistogram[i] = 0;\n}\n\n// pixel by pixel math...\nfor (nRow = 0; nRow &lt; height-1; nRow++)\n{\n    nRowOffset = nRow * width;\n    nNextRowOffset = (nRow+1) * width;\n\n    for (nCol = 0; nCol &lt; width-1; nCol++)\n    {\n        int gC = pixels[nRowOffset + nCol];\n        int gH = abs(gC - pixels[nRowOffset + nCol + 1]);\n        int gV = abs(gC - pixels[nNextRowOffset + nCol]);\n        pLuminance[gC]++;\n        pGradientHorizontal[gH]++;\n        pGradientVertical[gV]++;\n    }\n}\n\n// find max gradient\nfor (int i = 255;i &gt;= 0;i--)\n{\n    // first one with a value\n    if ((gradientHorizontal[i] &gt; 0) || (gradientVertical[i] &gt; 0))\n    {\n        maxGradient = i;\n        break;\n    }\n}\n\n// calculate dynamic range\nint rangeLow = 0;\nint rangeHi = 0;\nint p;\np = 0;\nfor (int i = 0;i &lt; 256;i++)\n{\n    if (luminanceHistogram[i] &gt; 0)\n    {\n        if (p + luminanceHistogram[i] &gt; VFOCUS_N)\n        {\n            rangeLow += (i * (VFOCUS_N - p));\n            p = VFOCUS_N;\n            break;\n        }\n\n        p += luminanceHistogram[i];\n        rangeLow += (i * luminanceHistogram[i]);\n    }\n}\nif (p)\n    rangeLow /= p;\n\np = 0;\nfor (int i = 255;i &gt;= 0;i--)\n{\n    if (luminanceHistogram[i] &gt; 0)\n    {\n        if (p + luminanceHistogram[i] &gt; VFOCUS_N)\n        {\n            rangeHi += (i * (VFOCUS_N - p));\n            p = VFOCUS_N;\n            break;\n        }\n\n        p += luminanceHistogram[i];\n        rangeHi += (i * luminanceHistogram[i]);\n    }\n}\nif (p)\n    rangeHi /= p;\n\nfloat mFocusScore = (float)fmin((float)maxGradient / (fabs((float)rangeHi - (float)rangeLow) * 0.005), 100.00);\n</code></pre>\n<p>Low focus scores means a blurry image.  Values close to or in excess of 100 indicate a sharp image, the code above caps the score at 100.</p>\n"}],"owner":{"account_id":12911776,"reputation":55,"user_id":9337248,"display_name":"Sagar Sah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697560294,"creation_date":1627496266,"question_id":68565533,"body_markdown":"I am working with Camera2 API and want to detect captured image is blurry or clear, i used OpenCV for this but result is not satisfactory and it increases APK size 3 times, So is there any way to detect blurry?","title":"Is there any way to detect image is Blurry after capturing from Camera in Android (Except OpenCV )","body":"<p>I am working with Camera2 API and want to detect captured image is blurry or clear, i used OpenCV for this but result is not satisfactory and it increases APK size 3 times, So is there any way to detect blurry?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1424245,"reputation":272173,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"score":8,"creation_date":1382849169,"post_id":19614695,"comment_id":29117250,"body_markdown":"`Math.ceil` - if you have a problem like this in the future you can read the generated JavaDoc of the relevant library. In this case Math","body":"<code>Math.ceil</code> - if you have a problem like this in the future you can read the generated JavaDoc of the relevant library. In this case Math"},{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":0,"creation_date":1382849670,"post_id":19614695,"comment_id":29117311,"body_markdown":"Even if you didn&#39;t feel like RTFM, `Math.round(yourNum+0.5)` works.","body":"Even if you didn&#39;t feel like RTFM, <code>Math.round(yourNum+0.5)</code> works."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1382858672,"post_id":19614695,"comment_id":29118676,"body_markdown":"@nhgrif Not quite as `0.0` will be rounded up to `1` this is the same as rounding down and adding 1.","body":"@nhgrif Not quite as <code>0.0</code> will be rounded up to <code>1</code> this is the same as rounding down and adding 1."}],"answers":[{"tags":[],"owner":{"account_id":2108629,"reputation":1473,"user_id":1874353,"display_name":"tabz100"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1526404286,"creation_date":1382849211,"answer_id":19614709,"question_id":19614695,"body_markdown":"You can use `Math.ceil()` method.\r\n\r\nSee JavaDoc link: https://docs.oracle.com/javase/10/docs/api/java/lang/Math.html#ceil(double)\r\n\r\nFrom the docs:\r\n\r\n**ceil**\r\n\r\n    public static double ceil(double a)\r\nReturns the smallest (closest to negative infinity) double value that is greater than or equal to the argument and is equal to a mathematical integer. Special cases:\r\n\r\n - If the argument value is already equal to a mathematical integer, then the result is the same as the argument.\r\n - If the argument is NaN or an infinity or positive zero or negative zero, then the result is the same as the argument.\r\n - If the argument value is less than zero but greater than -1.0, then the result is negative zero.\r\n\r\nNote that the value of Math.ceil(x) is exactly the value of -Math.floor(-x).\r\n\r\n**Parameters:**\r\n\r\n - a - a value.\r\n\r\n**Returns:**\r\n\r\nThe smallest (closest to negative infinity) floating-point value that is greater than or equal to the argument and is equal to a mathematical integer.","title":"Always Round UP a Double","body":"<p>You can use <code>Math.ceil()</code> method.</p>\n\n<p>See JavaDoc link: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Math.html#ceil(double)\" rel=\"noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/lang/Math.html#ceil(double)</a></p>\n\n<p>From the docs:</p>\n\n<p><strong>ceil</strong></p>\n\n<pre><code>public static double ceil(double a)\n</code></pre>\n\n<p>Returns the smallest (closest to negative infinity) double value that is greater than or equal to the argument and is equal to a mathematical integer. Special cases:</p>\n\n<ul>\n<li>If the argument value is already equal to a mathematical integer, then the result is the same as the argument.</li>\n<li>If the argument is NaN or an infinity or positive zero or negative zero, then the result is the same as the argument.</li>\n<li>If the argument value is less than zero but greater than -1.0, then the result is negative zero.</li>\n</ul>\n\n<p>Note that the value of Math.ceil(x) is exactly the value of -Math.floor(-x).</p>\n\n<p><strong>Parameters:</strong></p>\n\n<ul>\n<li>a - a value.</li>\n</ul>\n\n<p><strong>Returns:</strong></p>\n\n<p>The smallest (closest to negative infinity) floating-point value that is greater than or equal to the argument and is equal to a mathematical integer.</p>\n"},{"tags":[],"owner":{"account_id":3496365,"reputation":35,"user_id":2924441,"display_name":"Muhammad Ahmed"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1382854214,"creation_date":1382853009,"answer_id":19615083,"question_id":19614695,"body_markdown":"`Math.ceil()` will give you the closest lowest value if you want it to be rounded to largest closest values you should use `Math.floor()`","title":"Always Round UP a Double","body":"<p><code>Math.ceil()</code> will give you the closest lowest value if you want it to be rounded to largest closest values you should use <code>Math.floor()</code></p>\n"},{"tags":[],"owner":{"account_id":4675735,"reputation":1,"user_id":3786153,"display_name":"Lostkiefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403967110,"creation_date":1403967110,"answer_id":24467997,"question_id":19614695,"body_markdown":"    private int roundUP(double d){\r\n        double dAbs = Math.abs(d);\r\n        int i = (int) dAbs;\r\n        double result = dAbs - (double) i;\r\n        if(result==0.0){ \r\n            return (int) d;\r\n        }else{\r\n            return (int) d&lt;0 ? -(i+1) : i+1;          \r\n        }\r\n    }\r\n\r\n\r\nGood job ! ;)","title":"Always Round UP a Double","body":"<pre><code>private int roundUP(double d){\n    double dAbs = Math.abs(d);\n    int i = (int) dAbs;\n    double result = dAbs - (double) i;\n    if(result==0.0){ \n        return (int) d;\n    }else{\n        return (int) d&lt;0 ? -(i+1) : i+1;          \n    }\n}\n</code></pre>\n\n<p>Good job ! ;)</p>\n"},{"tags":[],"owner":{"account_id":5132802,"reputation":349,"user_id":4112413,"display_name":"maral04"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1418653675,"creation_date":1418653675,"answer_id":27486279,"question_id":19614695,"body_markdown":"In simple words, \r\n\r\n - `Math.ceil` will always **round UP** or as said above, in **excess**.  \r\n - `Math.round` will round up or down depending on the decimals.\r\n  - If the decimal is **equal or higher than 5**, then it&#39;s **rounded up**. \r\n     - decimal =&gt; 5. (1,5 = 2)\r\n  - If the decimal is **less than 5**, then it&#39;s **rounded down**. \r\n     - decimal &lt; 5. (1,45 = 1)\r\n\r\nExamples of `Math.ceil` and `Math.round`: \r\n \r\nThe code Below would return:  \r\nCost, without Ceil 2.2 and with Ceil 3 (int), 3.0 (double). If we round it: 2\r\n\r\n        int m2 = 2200;\r\n        double rate = 1000.0;\r\n        \r\n        int costceil = (int)Math.ceil(m2/rate);\r\n        double costdouble = m2/rate;\r\n        double costdoubleceil = Math.ceil(m2/rate);\r\n        int costrounded = (int)Math.round(m2/rate);\r\n        System.out.println(&quot;Cost, without Ceil &quot;+costdouble+&quot; and with Ceil &quot;+\r\n                costceil+&quot;(int), &quot;+costdoubleceil+&quot;(double). If we round it: &quot;+costrounded);\r\nIf we change the value of m2 to for example **2499**, the result would be:\r\nCost, without Ceil 2.499 and with Ceil 3 (int), 3.0 (double). If we round it: 2  \r\nIf we change the value of m2 to for example **2550**, the result would be:  \r\nCost, without Ceil 2.55 and with Ceil 3 (int), 3.0 (double). If we round it: 3\r\n\r\nHope it helps. (Information extracted from previous answers, i just wanted to make it clearer).","title":"Always Round UP a Double","body":"<p>In simple words, </p>\n\n<ul>\n<li><code>Math.ceil</code> will always <strong>round UP</strong> or as said above, in <strong>excess</strong>.  </li>\n<li><code>Math.round</code> will round up or down depending on the decimals.\n<ul>\n<li>If the decimal is <strong>equal or higher than 5</strong>, then it's <strong>rounded up</strong>. \n<ul>\n<li>decimal => 5. (1,5 = 2)</li>\n</ul></li>\n<li>If the decimal is <strong>less than 5</strong>, then it's <strong>rounded down</strong>. \n<ul>\n<li>decimal &lt; 5. (1,45 = 1)</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Examples of <code>Math.ceil</code> and <code>Math.round</code>: </p>\n\n<p>The code Below would return:<br>\nCost, without Ceil 2.2 and with Ceil 3 (int), 3.0 (double). If we round it: 2</p>\n\n<pre><code>    int m2 = 2200;\n    double rate = 1000.0;\n\n    int costceil = (int)Math.ceil(m2/rate);\n    double costdouble = m2/rate;\n    double costdoubleceil = Math.ceil(m2/rate);\n    int costrounded = (int)Math.round(m2/rate);\n    System.out.println(\"Cost, without Ceil \"+costdouble+\" and with Ceil \"+\n            costceil+\"(int), \"+costdoubleceil+\"(double). If we round it: \"+costrounded);\n</code></pre>\n\n<p>If we change the value of m2 to for example <strong>2499</strong>, the result would be:\nCost, without Ceil 2.499 and with Ceil 3 (int), 3.0 (double). If we round it: 2<br>\nIf we change the value of m2 to for example <strong>2550</strong>, the result would be:<br>\nCost, without Ceil 2.55 and with Ceil 3 (int), 3.0 (double). If we round it: 3</p>\n\n<p>Hope it helps. (Information extracted from previous answers, i just wanted to make it clearer).</p>\n"},{"tags":[],"owner":{"account_id":4531341,"reputation":3677,"user_id":3681727,"accept_rate":45,"display_name":"Tunji_D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437676768,"creation_date":1437676768,"answer_id":31595544,"question_id":19614695,"body_markdown":"My method is relatively simple, hope it works for you.\r\n\r\nIn my case I have a row of objects that can only hold 3 items and I must adjust the number of rows I have to accommodate the items.\r\n\r\nSo I have some Double numberOfRows, I then use numberOfRows.intValue() to get an int value for numberOfRows.\r\n\r\nif the int value I get is less than numberOfRows, I add 1 to numberOfRows to round it up, else the value I get from numberOfRows.intValue() is the answer I want.\r\n\r\nI wrote this simple for loop to test it out:\r\n \r\n    \tfor(int numberOfItems = 0; numberOfItems &lt; 16; numberOfItems++) {\r\n\t\t\tDouble numberOfRows = numberOfItems / 3.0;\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Number of rows are: &quot; + numberOfRows);\r\n\t\t\tSystem.out.println(&quot;Number of items are: &quot; + numberOfItems);\r\n\t\t\tif(numberOfRows.intValue() &lt; numberOfRows) {\r\n\t\t\t\tSystem.out.println(&quot;int number of rows are: &quot; + (numberOfRows.intValue() + 1));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;int value of rows are: &quot; + numberOfRows.intValue());\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println();\r\n\t\t}","title":"Always Round UP a Double","body":"<p>My method is relatively simple, hope it works for you.</p>\n\n<p>In my case I have a row of objects that can only hold 3 items and I must adjust the number of rows I have to accommodate the items.</p>\n\n<p>So I have some Double numberOfRows, I then use numberOfRows.intValue() to get an int value for numberOfRows.</p>\n\n<p>if the int value I get is less than numberOfRows, I add 1 to numberOfRows to round it up, else the value I get from numberOfRows.intValue() is the answer I want.</p>\n\n<p>I wrote this simple for loop to test it out:</p>\n\n<pre><code>    for(int numberOfItems = 0; numberOfItems &lt; 16; numberOfItems++) {\n        Double numberOfRows = numberOfItems / 3.0;\n\n        System.out.println(\"Number of rows are: \" + numberOfRows);\n        System.out.println(\"Number of items are: \" + numberOfItems);\n        if(numberOfRows.intValue() &lt; numberOfRows) {\n            System.out.println(\"int number of rows are: \" + (numberOfRows.intValue() + 1));\n        }\n        else {\n            System.out.println(\"int value of rows are: \" + numberOfRows.intValue());\n        }\n        System.out.println();\n        System.out.println();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4778916,"reputation":678,"user_id":3871673,"accept_rate":83,"display_name":"trinity420"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450700610,"creation_date":1450700216,"answer_id":34395511,"question_id":19614695,"body_markdown":"Short example without using *Math.ceil()*.\r\n\r\n    public double roundUp(double d){\r\n\t\treturn d &gt; (int)d ? (int)d + 1 : d;\r\n\t}\r\n\r\n\r\n**Exaplanation:**\r\nCompare operand to rounded down operand using typecast, if greater return rounded down argument + 1 (means round up) else unchanged operand.\r\n\r\n**Example in Pseudocode**\r\n\r\n    double x = 3.01\r\n    int roundDown = (int)x   // roundDown = 3\r\n    if(x &gt; roundDown)        // 3.01 &gt; 3\r\n        return roundDown + 1 // return 3.0 + 1.0 = 4.0\r\n    else\r\n        return x             // x equals roundDown\r\n\r\nAnyway you should use `Math.ceil()`. This is only meant to be a simple example of how you could do it by yourself.","title":"Always Round UP a Double","body":"<p>Short example without using <em>Math.ceil()</em>.</p>\n\n<pre><code>public double roundUp(double d){\n    return d &gt; (int)d ? (int)d + 1 : d;\n}\n</code></pre>\n\n<p><strong>Exaplanation:</strong>\nCompare operand to rounded down operand using typecast, if greater return rounded down argument + 1 (means round up) else unchanged operand.</p>\n\n<p><strong>Example in Pseudocode</strong></p>\n\n<pre><code>double x = 3.01\nint roundDown = (int)x   // roundDown = 3\nif(x &gt; roundDown)        // 3.01 &gt; 3\n    return roundDown + 1 // return 3.0 + 1.0 = 4.0\nelse\n    return x             // x equals roundDown\n</code></pre>\n\n<p>Anyway you should use <code>Math.ceil()</code>. This is only meant to be a simple example of how you could do it by yourself.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509341339,"creation_date":1509341339,"answer_id":47008606,"question_id":19614695,"body_markdown":"# tl;dr\r\n\r\n    BigDecimal( &quot;3.2&quot; ).setScale( 0 , RoundingMode.CEILING )\r\n\r\n&gt;4\r\n\r\n# `BigDecimal` \r\n\r\nIf you want [accuracy rather than performance][1], avoid [floating point][2] technology. That means avoiding `float`, `Float`, `double`, `Double`. For accuracy, use [`BigDecimal`][3] class.\r\n\r\nOn a `BigDecimal`, [set the scale][4], the number of digits to the right of the decimal place. If you want no decimal fraction, set scale to zero. And specify a [rounding mode][5]. To always round an fraction upwards, use [`RoundingMode.CEILING`][6], documented as:\r\n\r\n&gt; Rounding mode to round towards positive infinity. If the result is positive, behaves as for RoundingMode.UP; if negative, behaves as for RoundingMode.DOWN. Note that this rounding mode never decreases the calculated value. So for example, 1.1 becomes 2, and your 3.2 becomes 4. \r\n\r\n    BigDecimal bd = new BigDecimal( &quot;3.2&quot; ) ;\r\n    BigDecimal bdRounded = bd.setScale( 0 , RoundingMode.CEILING ) ;\r\n    String output = bdRounded.toString() ; \r\n    System.out.println( &quot;bdRounded.toString(): &quot; + bdRounded ) ;  // 4\r\n\r\n&gt;4\r\n\r\nSee this [code run live at IdeOne.com][7].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [2]: https://en.wikipedia.org/wiki/Floating-point_arithmetic\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html#CEILING\r\n  [7]: https://www.ideone.com/g1Rqxj","title":"Always Round UP a Double","body":"<h1>tl;dr</h1>\n\n<pre><code>BigDecimal( \"3.2\" ).setScale( 0 , RoundingMode.CEILING )\n</code></pre>\n\n<blockquote>\n  <p>4</p>\n</blockquote>\n\n<h1><code>BigDecimal</code></h1>\n\n<p>If you want <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"noreferrer\">accuracy rather than performance</a>, avoid <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic\" rel=\"noreferrer\">floating point</a> technology. That means avoiding <code>float</code>, <code>Float</code>, <code>double</code>, <code>Double</code>. For accuracy, use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> class.</p>\n\n<p>On a <code>BigDecimal</code>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/BigDecimal.html#setScale-int-java.math.RoundingMode-\" rel=\"noreferrer\">set the scale</a>, the number of digits to the right of the decimal place. If you want no decimal fraction, set scale to zero. And specify a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\">rounding mode</a>. To always round an fraction upwards, use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/math/RoundingMode.html#CEILING\" rel=\"noreferrer\"><code>RoundingMode.CEILING</code></a>, documented as:</p>\n\n<blockquote>\n  <p>Rounding mode to round towards positive infinity. If the result is positive, behaves as for RoundingMode.UP; if negative, behaves as for RoundingMode.DOWN. Note that this rounding mode never decreases the calculated value. So for example, 1.1 becomes 2, and your 3.2 becomes 4. </p>\n</blockquote>\n\n<pre><code>BigDecimal bd = new BigDecimal( \"3.2\" ) ;\nBigDecimal bdRounded = bd.setScale( 0 , RoundingMode.CEILING ) ;\nString output = bdRounded.toString() ; \nSystem.out.println( \"bdRounded.toString(): \" + bdRounded ) ;  // 4\n</code></pre>\n\n<blockquote>\n  <p>4</p>\n</blockquote>\n\n<p>See this <a href=\"https://www.ideone.com/g1Rqxj\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":4220877,"reputation":364,"user_id":3455701,"display_name":"Tunde Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654281866,"creation_date":1654281866,"answer_id":72493934,"question_id":19614695,"body_markdown":"```Math.ceil``` did not work for me. It keeps rounding down when I cast back to ````long````. Below is my hack:\r\n\r\n````\r\nlong pages = (userCnt % size) == 0 ? (userCnt / size) : (userCnt / size) + 1;\r\n````\r\nSimply check if ````Even```` or ````Odd```` and if ````Odd````, add ````1```` to the result.  ","title":"Always Round UP a Double","body":"<p><code>Math.ceil</code> did not work for me. It keeps rounding down when I cast back to <code>long</code>. Below is my hack:</p>\n<pre><code>long pages = (userCnt % size) == 0 ? (userCnt / size) : (userCnt / size) + 1;\n</code></pre>\n<p>Simply check if <code>Even</code> or <code>Odd</code> and if <code>Odd</code>, add <code>1</code> to the result.</p>\n"},{"tags":[],"owner":{"account_id":10647346,"reputation":5549,"user_id":7839518,"display_name":"Tonnie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697558476,"creation_date":1697558476,"answer_id":77310543,"question_id":19614695,"body_markdown":"It is even much easier in Kotlin using **`kotlin.math.ceil`** in an extension function.\r\n\r\n    fun Double.roundUpDoubleToInt(): Int {\r\n        return kotlin.math.ceil(this)\r\n                .toInt()\r\n    }\r\n\r\nThese are the various returned results:\r\n\r\n    fun main() {\r\n        val a = 3.5\r\n        val b = 3.6\r\n        val c = 3.1\r\n        val d = 3.01\r\n        val e = 3.0\r\n    \r\n        println(a.roundUpDoubleToInt()) //=&gt; 4\r\n        println(b.roundUpDoubleToInt()) //=&gt; 4\r\n        println(c.roundUpDoubleToInt()) //=&gt; 4\r\n        println(d.roundUpDoubleToInt()) //=&gt; 4\r\n        println(e.roundUpDoubleToInt()) //=&gt; 3\r\n    \r\n    }\r\n\r\nAlternatively, you can always `round-off UP` or `round-off DOWN` with **`0.5`** being the cut-off i.e. round up if **`&gt;= 0.5`** or round down if **`&lt; 0.5`**.\r\n\r\nThis is the logic written in Kotlin.\r\n\r\n    fun Double.roundOffDoubleToInt():Int  {\r\n    \r\n        val intValue = this.toInt()\r\n        val fractionValue = this - intValue\r\n    \r\n    \r\n        return if (fractionValue &gt;= 0.5) intValue +1 else intValue\r\n    \r\n    }\r\n\r\nThese are the results:\r\n\r\n    fun main() {\r\n        val a = 3.5\r\n        val b = 3.6\r\n        val c = 3.1\r\n        val d = 3.01\r\n        val e = 3.0\r\n    \r\n        println(a.roundOffDoubleToInt()) //=&gt; 4\r\n        println(b.roundOffDoubleToInt()) //=&gt; 4\r\n        println(c.roundOffDoubleToInt()) //=&gt; 3\r\n        println(d.roundOffDoubleToInt()) //=&gt; 3\r\n        println(e.roundOffDoubleToInt()) //=&gt; 3\r\n    }\r\n\r\nCheers ....\r\n","title":"Always Round UP a Double","body":"<p>It is even much easier in Kotlin using <strong><code>kotlin.math.ceil</code></strong> in an extension function.</p>\n<pre><code>fun Double.roundUpDoubleToInt(): Int {\n    return kotlin.math.ceil(this)\n            .toInt()\n}\n</code></pre>\n<p>These are the various returned results:</p>\n<pre><code>fun main() {\n    val a = 3.5\n    val b = 3.6\n    val c = 3.1\n    val d = 3.01\n    val e = 3.0\n\n    println(a.roundUpDoubleToInt()) //=&gt; 4\n    println(b.roundUpDoubleToInt()) //=&gt; 4\n    println(c.roundUpDoubleToInt()) //=&gt; 4\n    println(d.roundUpDoubleToInt()) //=&gt; 4\n    println(e.roundUpDoubleToInt()) //=&gt; 3\n\n}\n</code></pre>\n<p>Alternatively, you can always <code>round-off UP</code> or <code>round-off DOWN</code> with <strong><code>0.5</code></strong> being the cut-off i.e. round up if <strong><code>&gt;= 0.5</code></strong> or round down if <strong><code>&lt; 0.5</code></strong>.</p>\n<p>This is the logic written in Kotlin.</p>\n<pre><code>fun Double.roundOffDoubleToInt():Int  {\n\n    val intValue = this.toInt()\n    val fractionValue = this - intValue\n\n\n    return if (fractionValue &gt;= 0.5) intValue +1 else intValue\n\n}\n</code></pre>\n<p>These are the results:</p>\n<pre><code>fun main() {\n    val a = 3.5\n    val b = 3.6\n    val c = 3.1\n    val d = 3.01\n    val e = 3.0\n\n    println(a.roundOffDoubleToInt()) //=&gt; 4\n    println(b.roundOffDoubleToInt()) //=&gt; 4\n    println(c.roundOffDoubleToInt()) //=&gt; 3\n    println(d.roundOffDoubleToInt()) //=&gt; 3\n    println(e.roundOffDoubleToInt()) //=&gt; 3\n}\n</code></pre>\n<p>Cheers ....</p>\n"}],"owner":{"account_id":2753566,"reputation":1296,"user_id":2372321,"accept_rate":56,"display_name":"sparklyllama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105164,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":19614709,"answer_count":9,"score":36,"last_activity_date":1697558476,"creation_date":1382849064,"question_id":19614695,"body_markdown":"How could I always round up a `double` to an `int`, and never round it down.\r\nI know of `Math.round(double)`, but I want it to always round up.\r\nSo if it was `3.2`, it gets rounded to 4.\r\n","title":"Always Round UP a Double","body":"<p>How could I always round up a <code>double</code> to an <code>int</code>, and never round it down.\nI know of <code>Math.round(double)</code>, but I want it to always round up.\nSo if it was <code>3.2</code>, it gets rounded to 4.</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","snakeyaml"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693410193,"post_id":77005954,"comment_id":135757998,"body_markdown":"Well yeah, the dependency tree in fact tells you that `snakeyaml` 1.3.3 is a dependency of `sprint-boot-starter-validation` 3.1.1","body":"Well yeah, the dependency tree in fact tells you that <code>snakeyaml</code> 1.3.3 is a dependency of <code>sprint-boot-starter-validation</code> 3.1.1"},{"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"score":0,"creation_date":1693423101,"post_id":77005954,"comment_id":135760643,"body_markdown":"Yes, and of Swagger Code gen. The question is how i can prevent it from loading the sub dependency","body":"Yes, and of Swagger Code gen. The question is how i can prevent it from loading the sub dependency"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1693492874,"post_id":77005954,"comment_id":135771032,"body_markdown":"You can force Gradle to use a specific version.  Examples using `resolutionStrategy` can be found in various other SO question and elsewhere if you search for gradle force dependency version:  https://stackoverflow.com/questions/28444016/how-can-i-force-gradle-to-set-the-same-version-for-two-dependencies  You can also sometimes get away by importing the transitive and placing a `!` and the end of the version.  You just have to make sure your change of version doesn&#39;t break the thing including it.. that is, 1.33 -&gt; 2.0 is a breaking change in snakeyaml.  Make sure your code doesn&#39;t break!","body":"You can force Gradle to use a specific version.  Examples using <code>resolutionStrategy</code> can be found in various other SO question and elsewhere if you search for gradle force dependency version:  <a href=\"https://stackoverflow.com/questions/28444016/how-can-i-force-gradle-to-set-the-same-version-for-two-dependencies\" title=\"how can i force gradle to set the same version for two dependencies\">stackoverflow.com/questions/28444016/&hellip;</a>  You can also sometimes get away by importing the transitive and placing a <code>!</code> and the end of the version.  You just have to make sure your change of version doesn&#39;t break the thing including it.. that is, 1.33 -&gt; 2.0 is a breaking change in snakeyaml.  Make sure your code doesn&#39;t break!"}],"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697557829,"creation_date":1693381967,"question_id":77005954,"body_markdown":"The problem I have is that in my Spring Boot project snake yaml version 1.33 is still downloaded though I upgraded the snake yaml version to 2.0.\r\n\r\nI deleted the .gradle/caches folder and built my project new.\r\n\r\nHere is some information:\r\n\r\nbuild.gradle:\r\n\r\n    \r\n    plugins {\r\n        id &#39;java-platform&#39;\r\n        id &#39;org.springframework.boot&#39; version &quot;3.1.1&quot; apply false\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot; apply false\r\n        id &#39;com.gorylenko.gradle-git-properties&#39; version &#39;2.4.1&#39; apply(false)\r\n        id &#39;com.yupzip.wsdl2java&#39; version &#39;3.0.0&#39; apply false\r\n    }\r\n    \r\n    version = currentVersion\r\n    \r\n    javaPlatform {\r\n        allowDependencies()\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenLocal()\r\n            maven {\r\n                credentials {\r\n                    username = &quot;${artifactoryUser}&quot;\r\n                    password = &quot;${artifactoryPassword}&quot;\r\n                }\r\n                url &quot;${artifactoryUrl}/XYZ-maven&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    subprojects {\r\n        // java language and source defaults\r\n        apply plugin: &quot;java-library&quot;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n        sourceCompatibility = 17\r\n        targetCompatibility = 17\r\n        compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n        // jar target names\r\n        version = &quot;${currentVersion}&quot;\r\n        archivesBaseName = rootProject.getName() + it.path.replace(&quot;:&quot;, &quot;-&quot;)\r\n    \r\n        compileJava.dependsOn(processResources)\r\n    \r\n        dependencyManagement {\r\n            imports {\r\n                mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.3&quot;\r\n                mavenBom &quot;org.apache.cxf:cxf-bom:4.0.1&quot;\r\n            }\r\n        }\r\n    \r\n        bootJar {\r\n            enabled = &#39;application&#39; == it.name\r\n        }\r\n    \r\n        dependencies {\r\n            // enable referencing dependencies for the gradle scopes\r\n            implementation platform(rootProject)\r\n            testCompileOnly platform(rootProject)\r\n            annotationProcessor platform(rootProject)\r\n            testAnnotationProcessor platform(rootProject)\r\n    \r\n            compileOnly &quot;org.mapstruct:mapstruct:1.5.5.Final&quot;\r\n            compileOnly &quot;org.projectlombok:lombok&quot;\r\n    \r\n            compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    \r\n            testCompileOnly &quot;org.projectlombok:lombok&quot;\r\n            testAnnotationProcessor &quot;org.projectlombok:lombok&quot;\r\n            implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n    \r\n            annotationProcessor &quot;org.projectlombok:lombok&quot;\r\n            annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.5.Final&quot;\r\n            annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n            annotationProcessor &quot;org.hibernate.validator:hibernate-validator-annotation-processor&quot;\r\n    \r\n            api &#39;de.XYZ-framework-spring-3:23.4.11&#39;\r\n            api &quot;org.springframework.boot:spring-boot-starter&quot;\r\n            api &quot;org.springframework.boot:spring-boot-starter-json&quot;\r\n            api &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n            api &quot;org.springframework.boot:spring-boot-starter-aop&quot;\r\n            api &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n            api &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n            api &#39;org.springframework.boot:spring-boot-actuator-autoconfigure&#39;\r\n    \r\n            api &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\r\n    \r\n            // apache commons\r\n            api &#39;org.apache.commons:commons-text:1.10.0&#39;\r\n            api &#39;org.apache.commons:commons-lang3&#39;\r\n            api &#39;org.apache.commons:commons-collections4&#39;\r\n    \r\n            api &quot;com.google.code.findbugs:jsr305:3.0.2&quot;\r\n            api &#39;org.springdoc:springdoc-openapi-ui:1.6.14&#39;\r\n            api &quot;com.fasterxml.jackson.core:jackson-databind&quot;\r\n    \r\n            api &#39;com.github.vandeseer:easytable:0.8.5&#39;\r\n    \r\n            //\r\n            // TESTING\r\n            //\r\n    \r\n            // spring test without junit4\r\n            testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n        }\r\n    \r\n        configurations.configureEach {\r\n            resolutionStrategy.dependencySubstitution {\r\n                substitute module(&#39;org.yaml:snakeyaml&#39;) using module(&#39;org.yaml:snakeyaml:2.0&#39;) withoutClassifier() because(&#39;version 1.33 is vulnerable&#39;)\r\n            }\r\n        }\r\n    \r\n        clean {\r\n            delete &quot;out&quot;\r\n            delete &quot;bin&quot;\r\n        }\r\n    \r\n        // ide support\r\n        apply plugin: &#39;idea&#39;\r\n    \r\n        test {\r\n            useJUnitPlatform()\r\n        }\r\n    \r\n    }\r\n\r\nThis a part of the dependency tree:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter deleting .gradle/caches and newly generating:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo the problem is that \r\n\r\n    org.springframework.boot:spring-boot-starter:3.1.1\r\n\r\nand `io.swagger.core.v3:swagger-core:2.2.7`\r\n\r\nhave snake yaml version 1.33 as sub dependencies.\r\n\r\nI already tried excluding it some way like:\r\n\r\n    dependencies {\r\n    // Exclude snakeyaml version 1.33 from swagger-core\r\n    api(&quot;io.swagger.core.v3:swagger-core:2.2.7&quot;) {\r\n        exclude group: &#39;org.yaml&#39;, module: &#39;snakeyaml&#39;, version: &#39;1.33&#39;\r\n    }\r\n\r\n    // Exclude snakeyaml version 1.33 from spring-boot-starter\r\n    api(&quot;org.springframework.boot:spring-boot-starter:3.1.1&quot;) {\r\n        exclude group: &#39;org.yaml&#39;, module: &#39;snakeyaml&#39;, version: &#39;1.33&#39;\r\n    }\r\n\r\nbut when deleting the .gradle/caches folder and building it all new it still downloads snake version 1.33.\r\n\r\n  [1]: https://i.stack.imgur.com/2NqG5.png\r\n  [2]: https://i.stack.imgur.com/wQONh.png","title":"Snake yaml 1.33 still downloading, though changed to 2.0","body":"<p>The problem I have is that in my Spring Boot project snake yaml version 1.33 is still downloaded though I upgraded the snake yaml version to 2.0.</p>\n<p>I deleted the .gradle/caches folder and built my project new.</p>\n<p>Here is some information:</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java-platform'\n    id 'org.springframework.boot' version &quot;3.1.1&quot; apply false\n    id 'io.spring.dependency-management' version '1.1.0'\n    id &quot;org.openapi.generator&quot; version &quot;6.6.0&quot; apply false\n    id 'com.gorylenko.gradle-git-properties' version '2.4.1' apply(false)\n    id 'com.yupzip.wsdl2java' version '3.0.0' apply false\n}\n\nversion = currentVersion\n\njavaPlatform {\n    allowDependencies()\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            credentials {\n                username = &quot;${artifactoryUser}&quot;\n                password = &quot;${artifactoryPassword}&quot;\n            }\n            url &quot;${artifactoryUrl}/XYZ-maven&quot;\n        }\n    }\n}\n\nsubprojects {\n    // java language and source defaults\n    apply plugin: &quot;java-library&quot;\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'io.spring.dependency-management'\n\n    sourceCompatibility = 17\n    targetCompatibility = 17\n    compileJava.options.encoding = 'UTF-8'\n\n    // jar target names\n    version = &quot;${currentVersion}&quot;\n    archivesBaseName = rootProject.getName() + it.path.replace(&quot;:&quot;, &quot;-&quot;)\n\n    compileJava.dependsOn(processResources)\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.3&quot;\n            mavenBom &quot;org.apache.cxf:cxf-bom:4.0.1&quot;\n        }\n    }\n\n    bootJar {\n        enabled = 'application' == it.name\n    }\n\n    dependencies {\n        // enable referencing dependencies for the gradle scopes\n        implementation platform(rootProject)\n        testCompileOnly platform(rootProject)\n        annotationProcessor platform(rootProject)\n        testAnnotationProcessor platform(rootProject)\n\n        compileOnly &quot;org.mapstruct:mapstruct:1.5.5.Final&quot;\n        compileOnly &quot;org.projectlombok:lombok&quot;\n\n        compileOnly &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n\n        testCompileOnly &quot;org.projectlombok:lombok&quot;\n        testAnnotationProcessor &quot;org.projectlombok:lombok&quot;\n        implementation 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\n\n        annotationProcessor &quot;org.projectlombok:lombok&quot;\n        annotationProcessor &quot;org.mapstruct:mapstruct-processor:1.5.5.Final&quot;\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n        annotationProcessor &quot;org.hibernate.validator:hibernate-validator-annotation-processor&quot;\n\n        api 'de.XYZ-framework-spring-3:23.4.11'\n        api &quot;org.springframework.boot:spring-boot-starter&quot;\n        api &quot;org.springframework.boot:spring-boot-starter-json&quot;\n        api 'org.springframework.boot:spring-boot-starter-web'\n        api &quot;org.springframework.boot:spring-boot-starter-aop&quot;\n        api 'org.springframework.boot:spring-boot-starter-validation'\n        api 'org.springframework.boot:spring-boot-starter-actuator'\n        api 'org.springframework.boot:spring-boot-actuator-autoconfigure'\n\n        api &quot;org.springframework.cloud:spring-cloud-starter-config&quot;\n\n        // apache commons\n        api 'org.apache.commons:commons-text:1.10.0'\n        api 'org.apache.commons:commons-lang3'\n        api 'org.apache.commons:commons-collections4'\n\n        api &quot;com.google.code.findbugs:jsr305:3.0.2&quot;\n        api 'org.springdoc:springdoc-openapi-ui:1.6.14'\n        api &quot;com.fasterxml.jackson.core:jackson-databind&quot;\n\n        api 'com.github.vandeseer:easytable:0.8.5'\n\n        //\n        // TESTING\n        //\n\n        // spring test without junit4\n        testImplementation('org.springframework.boot:spring-boot-starter-test')\n    }\n\n    configurations.configureEach {\n        resolutionStrategy.dependencySubstitution {\n            substitute module('org.yaml:snakeyaml') using module('org.yaml:snakeyaml:2.0') withoutClassifier() because('version 1.33 is vulnerable')\n        }\n    }\n\n    clean {\n        delete &quot;out&quot;\n        delete &quot;bin&quot;\n    }\n\n    // ide support\n    apply plugin: 'idea'\n\n    test {\n        useJUnitPlatform()\n    }\n\n}\n</code></pre>\n<p>This a part of the dependency tree:</p>\n<p><a href=\"https://i.stack.imgur.com/2NqG5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2NqG5.png\" alt=\"enter image description here\" /></a></p>\n<p>After deleting .gradle/caches and newly generating:</p>\n<p><a href=\"https://i.stack.imgur.com/wQONh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wQONh.png\" alt=\"enter image description here\" /></a></p>\n<p>So the problem is that</p>\n<pre><code>org.springframework.boot:spring-boot-starter:3.1.1\n</code></pre>\n<p>and <code>io.swagger.core.v3:swagger-core:2.2.7</code></p>\n<p>have snake yaml version 1.33 as sub dependencies.</p>\n<p>I already tried excluding it some way like:</p>\n<pre><code>dependencies {\n// Exclude snakeyaml version 1.33 from swagger-core\napi(&quot;io.swagger.core.v3:swagger-core:2.2.7&quot;) {\n    exclude group: 'org.yaml', module: 'snakeyaml', version: '1.33'\n}\n\n// Exclude snakeyaml version 1.33 from spring-boot-starter\napi(&quot;org.springframework.boot:spring-boot-starter:3.1.1&quot;) {\n    exclude group: 'org.yaml', module: 'snakeyaml', version: '1.33'\n}\n</code></pre>\n<p>but when deleting the .gradle/caches folder and building it all new it still downloads snake version 1.33.</p>\n"},{"tags":["java","if-statement","input","while-loop","count"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697557666,"post_id":77310430,"comment_id":136293656,"body_markdown":"Also, `count++` is in the wrong place. Think about what it should do","body":"Also, <code>count++</code> is in the wrong place. Think about what it should do"}],"owner":{"account_id":27509206,"reputation":31,"user_id":20991423,"display_name":"scarz.101"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697557933,"answer_count":0,"score":0,"last_activity_date":1697557579,"creation_date":1697557579,"question_id":77310430,"body_markdown":"I have the following code in java:\r\n\r\n    public void userControlledLoop()\r\n    {\r\n        Scanner reader = new Scanner(System.in);\r\n        int total = 0;\r\n        int count = 0;\r\n        \r\n        System.out.println(&quot;Enter a number: &quot;);\r\n        int number = reader.nextInt();\r\n        total += number;\r\n        \r\n        System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\r\n        String answer = reader.next();\r\n\r\n        while (answer != &quot;n&quot;)\r\n        {\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            number = reader.nextInt();\r\n            total += number;\r\n            \r\n            System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\r\n            answer = reader.next();\r\n            \r\n            if (answer != &quot;y&quot;)\r\n            {\r\n                System.out.println(&quot;Goodbye&quot;);\r\n                break;\r\n            }\r\n        }\r\n        // Only thing missing from here is the average. In order to work out the average \r\n        // i need to keep track of the number of inputs and then divide the total by that\r\n        count++;\r\n        System.out.println(total);\r\n    }\r\n\r\nMy main goal is to ask the user to enter a number of their choice and then ask the user if they want to input another number. The user must reply with &quot;y&quot; or &quot;n&quot;. \r\n\r\nEach time the user enters their number it is added to the total variable so i can later use it to work out the average.\r\n\r\nI also have a count variable which is intended to keep track of the users input by incrementation (i saw in another stack question). However, this does not work and the function breaks after only 2 iterations. \r\n\r\nI am trying to get some advice on how i could make the code work or if people recommend i start from scratch. ","title":"getting the count of user inputs and using it to get the average in java","body":"<p>I have the following code in java:</p>\n<pre><code>public void userControlledLoop()\n{\n    Scanner reader = new Scanner(System.in);\n    int total = 0;\n    int count = 0;\n    \n    System.out.println(&quot;Enter a number: &quot;);\n    int number = reader.nextInt();\n    total += number;\n    \n    System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\n    String answer = reader.next();\n\n    while (answer != &quot;n&quot;)\n    {\n        System.out.println(&quot;Enter a number: &quot;);\n        number = reader.nextInt();\n        total += number;\n        \n        System.out.println(&quot;Would you like to enter another number type y or n: &quot;);\n        answer = reader.next();\n        \n        if (answer != &quot;y&quot;)\n        {\n            System.out.println(&quot;Goodbye&quot;);\n            break;\n        }\n    }\n    // Only thing missing from here is the average. In order to work out the average \n    // i need to keep track of the number of inputs and then divide the total by that\n    count++;\n    System.out.println(total);\n}\n</code></pre>\n<p>My main goal is to ask the user to enter a number of their choice and then ask the user if they want to input another number. The user must reply with &quot;y&quot; or &quot;n&quot;.</p>\n<p>Each time the user enters their number it is added to the total variable so i can later use it to work out the average.</p>\n<p>I also have a count variable which is intended to keep track of the users input by incrementation (i saw in another stack question). However, this does not work and the function breaks after only 2 iterations.</p>\n<p>I am trying to get some advice on how i could make the code work or if people recommend i start from scratch.</p>\n"},{"tags":["java","spring","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":5469536,"reputation":120,"user_id":4349288,"display_name":"uBreckner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697557233,"creation_date":1697557233,"answer_id":77310402,"question_id":76921381,"body_markdown":"After getting really on my nerves, i checked which version of Spring Boot was working and which wasn&#39;t. I discovered that its not only the 3.1.x branch which is suffering from this but also 3.0.x from 3.0.8 onward.&lt;br&gt;&lt;br&gt; \r\nReviewing the upgraded dependencies in this release and their respective updates the breaking change seems to be related to [this bug][1] ans should be fixed in [this MR][2] without release as of now. So for now downgrading the org.glassfish.jaxb dependencies to 4.0.2 solves the problem.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/jaxb-ri/issues/1731\r\n  [2]: https://github.com/eclipse-ee4j/jaxb-ri/pull/1752","title":"Is there a way to disable namespaces inside a complexType in a soap request?","body":"<p>After getting really on my nerves, i checked which version of Spring Boot was working and which wasn't. I discovered that its not only the 3.1.x branch which is suffering from this but also 3.0.x from 3.0.8 onward.<br><br>\nReviewing the upgraded dependencies in this release and their respective updates the breaking change seems to be related to <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1731\" rel=\"nofollow noreferrer\">this bug</a> ans should be fixed in <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1752\" rel=\"nofollow noreferrer\">this MR</a> without release as of now. So for now downgrading the org.glassfish.jaxb dependencies to 4.0.2 solves the problem.</p>\n"}],"owner":{"account_id":5469536,"reputation":120,"user_id":4349288,"display_name":"uBreckner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77310402,"answer_count":1,"score":0,"last_activity_date":1697557233,"creation_date":1692274169,"question_id":76921381,"body_markdown":"I have 2 Java Webservices talking to each other via SOAP, both are using Spring Boot 3.0.7 on JDK17. Now i updated one of the services to Spring Boot 3.1.2 and they can&#39;t communicate with each other anymore.\r\n&lt;br&gt;The exception thrown is:\r\n```org.apache.cxf.interceptor.Fault: Unmarshalling Error: unexpected element```\r\n&lt;br&gt;&lt;br&gt;\r\nAfter some digging using LoggingInterceptors I found out that the two Spring Versions are marshalling/unmarshalling the soap messages in different ways. Here examples for method calls of updateWorkflowConfiguration :&lt;br&gt;\r\nSpring 3.0.7:\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\r\n            &lt;workflowConfiguration&gt;\r\n                &lt;accountId&gt;0&lt;/accountId&gt;\r\n                &lt;comment&gt;asd&lt;/comment&gt;\r\n                &lt;dateRange&gt;0&lt;/dateRange&gt;\r\n                &lt;id&gt;1&lt;/id&gt;\r\n                &lt;systemId&gt;0&lt;/systemId&gt;\r\n            &lt;/workflowConfiguration&gt;\r\n        &lt;/ns2:updateWorkflowConfiguration&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nSpring 3.1.2:\r\n```\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\r\n            &lt;workflowConfiguration&gt;\r\n                &lt;ns2:accountId&gt;0&lt;/ns2:accountId&gt;\r\n                &lt;ns2:comment&gt;asd&lt;/ns2:comment&gt;\r\n                &lt;ns2:dateRange&gt;0&lt;/ns2:dateRange&gt;\r\n                &lt;ns2:id&gt;1&lt;/ns2:id&gt;\r\n                &lt;ns2:systemId&gt;0&lt;/ns2:systemId&gt;\r\n            &lt;/workflowConfiguration&gt;\r\n        &lt;/ns2:updateWorkflowConfiguration&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\nThe only difference is the (not) referenced namespace ```ns2``` in the bean of type ```workflowConfiguration```. The Bean is as simple as its gets with no annotations whatsoever which would influence the outcome of the SOAP Message. &lt;br&gt;\r\nThe CXF dependencies are in both cases the same:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThese two services are just the tip of the iceberg as there are close to 60 projects with dependencies on one or the other service. So a simultaneous update to the new spring version is not possible.&lt;br&gt;&lt;br&gt;\r\nUntil now i found nothing to define how the namespace is added to an element. Is there some possibility to configure or switch between the &quot;old&quot; (pre 3.1.2) and the new way? \r\n","title":"Is there a way to disable namespaces inside a complexType in a soap request?","body":"<p>I have 2 Java Webservices talking to each other via SOAP, both are using Spring Boot 3.0.7 on JDK17. Now i updated one of the services to Spring Boot 3.1.2 and they can't communicate with each other anymore.\n<br>The exception thrown is:\n<code>org.apache.cxf.interceptor.Fault: Unmarshalling Error: unexpected element</code>\n<br><br>\nAfter some digging using LoggingInterceptors I found out that the two Spring Versions are marshalling/unmarshalling the soap messages in different ways. Here examples for method calls of updateWorkflowConfiguration :<br>\nSpring 3.0.7:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\n            &lt;workflowConfiguration&gt;\n                &lt;accountId&gt;0&lt;/accountId&gt;\n                &lt;comment&gt;asd&lt;/comment&gt;\n                &lt;dateRange&gt;0&lt;/dateRange&gt;\n                &lt;id&gt;1&lt;/id&gt;\n                &lt;systemId&gt;0&lt;/systemId&gt;\n            &lt;/workflowConfiguration&gt;\n        &lt;/ns2:updateWorkflowConfiguration&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>Spring 3.1.2:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Body&gt;\n        &lt;ns2:updateWorkflowConfiguration xmlns:ns2=&quot;http://some.package.structure/&quot;&gt;\n            &lt;workflowConfiguration&gt;\n                &lt;ns2:accountId&gt;0&lt;/ns2:accountId&gt;\n                &lt;ns2:comment&gt;asd&lt;/ns2:comment&gt;\n                &lt;ns2:dateRange&gt;0&lt;/ns2:dateRange&gt;\n                &lt;ns2:id&gt;1&lt;/ns2:id&gt;\n                &lt;ns2:systemId&gt;0&lt;/ns2:systemId&gt;\n            &lt;/workflowConfiguration&gt;\n        &lt;/ns2:updateWorkflowConfiguration&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>The only difference is the (not) referenced namespace <code>ns2</code> in the bean of type <code>workflowConfiguration</code>. The Bean is as simple as its gets with no annotations whatsoever which would influence the outcome of the SOAP Message. <br>\nThe CXF dependencies are in both cases the same:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-spring-boot-starter-jaxws&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These two services are just the tip of the iceberg as there are close to 60 projects with dependencies on one or the other service. So a simultaneous update to the new spring version is not possible.<br><br>\nUntil now i found nothing to define how the namespace is added to an element. Is there some possibility to configure or switch between the &quot;old&quot; (pre 3.1.2) and the new way?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697464038,"post_id":77302472,"comment_id":136279576,"body_markdown":"From my tests it does work, it doesn&#39;t work for each exception which is then handled by the default one. You are actually using webflux and don&#39;t have regular Spring Web on the classpath?","body":"From my tests it does work, it doesn&#39;t work for each exception which is then handled by the default one. You are actually using webflux and don&#39;t have regular Spring Web on the classpath?"},{"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1697478393,"post_id":77302472,"comment_id":136282266,"body_markdown":"I am using spring-web as a dependency. It is mainly used to have access to classes like HttpStatus, UriBuilderFactory etc. I am using WebFlux, whole application is reactive and using mono/flux.","body":"I am using spring-web as a dependency. It is mainly used to have access to classes like HttpStatus, UriBuilderFactory etc. I am using WebFlux, whole application is reactive and using mono/flux."},{"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1697546300,"post_id":77302472,"comment_id":136291155,"body_markdown":"@M.Deinum For what types of exceptions does it work for you? If you have an example I can do a test myself. One example for where it does not work in my case would be when one is sending a request to an API using the incorrect HTTP method.","body":"@M.Deinum For what types of exceptions does it work for you? If you have an example I can do a test myself. One example for where it does not work in my case would be when one is sending a request to an API using the incorrect HTTP method."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697546721,"post_id":77302472,"comment_id":136291239,"body_markdown":"The sample used was for validation. Make sure you don&#39;t have anything in your code that disables auto-configuration and rendering the `spring.webflux.problemdetails.enabled`, things like `@EnableWebFlux` or importing the configuration etc. which will disable things like this.","body":"The sample used was for validation. Make sure you don&#39;t have anything in your code that disables auto-configuration and rendering the <code>spring.webflux.problemdetails.enabled</code>, things like <code>@EnableWebFlux</code> or importing the configuration etc. which will disable things like this."},{"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1697556393,"post_id":77302472,"comment_id":136293421,"body_markdown":"@M.Deinum Thanks! this actually identified the issue we had. We had `@EnableWebFlux` configured which disabled the auto configuration, so the configuration was never read.","body":"@M.Deinum Thanks! this actually identified the issue we had. We had <code>@EnableWebFlux</code> configured which disabled the auto configuration, so the configuration was never read."}],"answers":[{"tags":[],"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697556796,"creation_date":1697556796,"answer_id":77310358,"question_id":77302472,"body_markdown":"Issue was that our configuration class was annotated with `@EnableWebFlux` annotation which disabled the auto configuration. By removing `@EnableWebFlux`annotation and adding the `@EnableAutoConfiguration` annotation to our configuration class we fixed the issue.\r\n\r\nSo with this change the spring application property `spring.webflux.problemdetails.enabled` was read by spring boot auto configuration and an instance of `ProblemDetailsExceptionHandler` was available for handling exceptions which means we got proper RFC 7807 formatting for error responses.","title":"How to enable RFC 7807 error response format in spring boot 3 and WebFlux?","body":"<p>Issue was that our configuration class was annotated with <code>@EnableWebFlux</code> annotation which disabled the auto configuration. By removing <code>@EnableWebFlux</code>annotation and adding the <code>@EnableAutoConfiguration</code> annotation to our configuration class we fixed the issue.</p>\n<p>So with this change the spring application property <code>spring.webflux.problemdetails.enabled</code> was read by spring boot auto configuration and an instance of <code>ProblemDetailsExceptionHandler</code> was available for handling exceptions which means we got proper RFC 7807 formatting for error responses.</p>\n"}],"owner":{"account_id":29683727,"reputation":1,"user_id":22749825,"display_name":"Johan Sj&#246;berg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697556796,"creation_date":1697463558,"question_id":77302472,"body_markdown":"I have an issue enabling the RFC 7807 format to be used by my spring boot (v3.1.14) webflux application controllers. I am wondering what the proper way is to configure the RFC 7807 format for HTTP error responses from the two different options I have found.\r\n1.  Following spring framework documentation by implementing controller advice, https://docs.spring.io/spring-framework/reference/web/webflux/ann-rest-exceptions.html#webflux-ann-rest-exceptions-render.\r\n&gt; To enable RFC 7807 responses for Spring WebFlux exceptions and for any ErrorResponseException, extend ResponseEntityExceptionHandler and declare it as an @ControllerAdvice in Spring configuration. The handler has an @ExceptionHandler method that handles any ErrorResponse exception, which includes all built-in web exceptions. You can add more exception handling methods, and use a protected method to map any exception to a ProblemDetail.\r\n2. Using [spring.webflux.problemdetails.enabled](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled) spring boot 3 application property for WebFlux. This application property has the following description:\r\n&gt; Whether RFC 7807 Problem Details support should be enabled.\r\n\r\nThe only way I can get it to work is by following the spring framework documentation and implementing my own ExceptionHandler\r\n\r\nSo if I create a ControllerAdvice like the following:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class MyControllerExceptionHandler extends ResponseEntityExceptionHandler {}\r\n```\r\n\r\nThen I get proper RFC 7807 format for all the different failure cases I test e.g. validation errors on payload, bad method etc.\r\n\r\nWhen testing to set the [spring.webflux.problemdetails.enabled](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled) spring boot 3 application property does not seem to change anything in error response formatting though. Instead [auto configuration](https://github.com/spring-projects/spring-boot/blob/3ed1f1a064a10e53adc2ad8c0b46a4b2c148ee21/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/error/ErrorWebFluxAutoConfiguration.java#L63-L72) ensures the `DefaultErrorWebExceptionHandler` is used, which does not use RFC 7807 format.\r\n\r\nI expected that enabling `spring.webflux.problemdetails.enabled` actually would configure spring boot to use RFC 7807 format by default in all the error responses. What is `spring.webflux.problemdetails.enabled` actually used for and what is the proper way to configure RFC 7807 format for error response on a Spring Boot WebFlux application?\r\n\r\nI found a similar question already:\r\nhttps://stackoverflow.com/questions/74888192/how-to-enable-problem-details-rfc-7807-in-spring-boot-3\r\n\r\nbut from my testing enabling `spring.webflux.problemdetails.enabled` does not work and that question is for spring mvc and `spring.mvc.problemdetails.enabled`","title":"How to enable RFC 7807 error response format in spring boot 3 and WebFlux?","body":"<p>I have an issue enabling the RFC 7807 format to be used by my spring boot (v3.1.14) webflux application controllers. I am wondering what the proper way is to configure the RFC 7807 format for HTTP error responses from the two different options I have found.</p>\n<ol>\n<li>Following spring framework documentation by implementing controller advice, <a href=\"https://docs.spring.io/spring-framework/reference/web/webflux/ann-rest-exceptions.html#webflux-ann-rest-exceptions-render\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webflux/ann-rest-exceptions.html#webflux-ann-rest-exceptions-render</a>.</li>\n</ol>\n<blockquote>\n<p>To enable RFC 7807 responses for Spring WebFlux exceptions and for any ErrorResponseException, extend ResponseEntityExceptionHandler and declare it as an @ControllerAdvice in Spring configuration. The handler has an @ExceptionHandler method that handles any ErrorResponse exception, which includes all built-in web exceptions. You can add more exception handling methods, and use a protected method to map any exception to a ProblemDetail.\n2. Using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled\" rel=\"nofollow noreferrer\">spring.webflux.problemdetails.enabled</a> spring boot 3 application property for WebFlux. This application property has the following description:\nWhether RFC 7807 Problem Details support should be enabled.</p>\n</blockquote>\n<p>The only way I can get it to work is by following the spring framework documentation and implementing my own ExceptionHandler</p>\n<p>So if I create a ControllerAdvice like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class MyControllerExceptionHandler extends ResponseEntityExceptionHandler {}\n</code></pre>\n<p>Then I get proper RFC 7807 format for all the different failure cases I test e.g. validation errors on payload, bad method etc.</p>\n<p>When testing to set the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.webflux.problemdetails.enabled\" rel=\"nofollow noreferrer\">spring.webflux.problemdetails.enabled</a> spring boot 3 application property does not seem to change anything in error response formatting though. Instead <a href=\"https://github.com/spring-projects/spring-boot/blob/3ed1f1a064a10e53adc2ad8c0b46a4b2c148ee21/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/error/ErrorWebFluxAutoConfiguration.java#L63-L72\" rel=\"nofollow noreferrer\">auto configuration</a> ensures the <code>DefaultErrorWebExceptionHandler</code> is used, which does not use RFC 7807 format.</p>\n<p>I expected that enabling <code>spring.webflux.problemdetails.enabled</code> actually would configure spring boot to use RFC 7807 format by default in all the error responses. What is <code>spring.webflux.problemdetails.enabled</code> actually used for and what is the proper way to configure RFC 7807 format for error response on a Spring Boot WebFlux application?</p>\n<p>I found a similar question already:\n<a href=\"https://stackoverflow.com/questions/74888192/how-to-enable-problem-details-rfc-7807-in-spring-boot-3\">How to enable problem details (RFC 7807) in Spring Boot 3?</a></p>\n<p>but from my testing enabling <code>spring.webflux.problemdetails.enabled</code> does not work and that question is for spring mvc and <code>spring.mvc.problemdetails.enabled</code></p>\n"},{"tags":["java","android"],"owner":{"account_id":19588697,"reputation":1,"user_id":14336231,"display_name":"sebcz44k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697556622,"creation_date":1697556622,"question_id":77310330,"body_markdown":"I have the following code in java:\r\n\r\n```\r\nvolume = (SeekBar) findViewById(R.id.seekBar);\r\naudiomanager = (AudioManager) getSystemService(AUDIO_SERVICE);\r\nint maxVol = audiomanager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\r\nint currentVol = audiomanager.getStreamVolume(AudioManager.STREAM_MUSIC);\r\nvolume.setMax(maxVol);\r\nvolume.setProgress(currentVol);\r\nvolume.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean b) {\r\n                    audiomanager.setStreamVolume(AudioManager.STREAM_MUSIC, progress, 0);\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n                }\r\n            });\r\n```\r\n\r\neverything works fine, the only problem I have is I would like it not to manipulate overall phone&#39;s sounds volume. When i move the seekbar, sounds volume on the phone is changing also. Is there a way i can change volume of music playing in app, no matter what&#39;s the overall sounds volume? \r\nFor example:\r\nUser has seekbar set on maximum value but since they have muted overall phone&#39;s sounds the music will not be audible\r\n\r\n\r\n                                                                          .","title":"How can i change volume without manipulating overall phone&#39;s sounds volume","body":"<p>I have the following code in java:</p>\n<pre><code>volume = (SeekBar) findViewById(R.id.seekBar);\naudiomanager = (AudioManager) getSystemService(AUDIO_SERVICE);\nint maxVol = audiomanager.getStreamMaxVolume(AudioManager.STREAM_MUSIC);\nint currentVol = audiomanager.getStreamVolume(AudioManager.STREAM_MUSIC);\nvolume.setMax(maxVol);\nvolume.setProgress(currentVol);\nvolume.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n                @Override\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean b) {\n                    audiomanager.setStreamVolume(AudioManager.STREAM_MUSIC, progress, 0);\n\n                }\n\n                @Override\n                public void onStartTrackingTouch(SeekBar seekBar) {\n\n                }\n\n                @Override\n                public void onStopTrackingTouch(SeekBar seekBar) {\n\n                }\n            });\n</code></pre>\n<p>everything works fine, the only problem I have is I would like it not to manipulate overall phone's sounds volume. When i move the seekbar, sounds volume on the phone is changing also. Is there a way i can change volume of music playing in app, no matter what's the overall sounds volume?\nFor example:\nUser has seekbar set on maximum value but since they have muted overall phone's sounds the music will not be audible</p>\n<pre><code>                                                                      .\n</code></pre>\n"},{"tags":["java","spring","spring-boot","configurationproperties"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697556533,"creation_date":1697556533,"answer_id":77310321,"question_id":77309727,"body_markdown":"you need define StringToMapConverter\r\n\r\n   \r\n\r\n    @Component\r\n    @ConfigurationPropertiesBinding\r\n    public class StringToMapConverter implements Converter&lt;String, Map&lt;String,String&gt;&gt;{\r\n        private final ObjectMapper objectMapper = new ObjectMapper();\r\n        @Override\r\n        public Map&lt;String, String&gt; convert(String source) {\r\n            try {\r\n                return objectMapper.readValue(source,new TypeReference&lt;&gt;(){});\r\n            } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }","title":"Use @DefaultValue annotation with Map type for Spring Configuration Properties class","body":"<p>you need define StringToMapConverter</p>\n<pre><code>@Component\n@ConfigurationPropertiesBinding\npublic class StringToMapConverter implements Converter&lt;String, Map&lt;String,String&gt;&gt;{\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    @Override\n    public Map&lt;String, String&gt; convert(String source) {\n        try {\n            return objectMapper.readValue(source,new TypeReference&lt;&gt;(){});\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29692434,"reputation":3,"user_id":22756525,"display_name":"dgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77310321,"answer_count":1,"score":0,"last_activity_date":1697556533,"creation_date":1697551510,"question_id":77309727,"body_markdown":"I am creating `@ConfigurationProperties` classes for use in a Spring Boot application. We want to have immutable classes so we have no setters and we are using the `@ConstructorBinding` annotation. Within the constructor we are using the `@DefaultValue` annotation to set default property values. With simple property types this works fine. However, if the property is a Map I cannot find any way to use this annotation to set the default value. Essentially, I want to know how to put in &lt;PLACEHOLDER&gt; below:\r\n\r\n```\r\nimport lombok.Getter;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.ConstructorBinding;\r\nimport org.springframework.boot.context.properties.bind.DefaultValue;\r\n\r\nimport java.util.Map;\r\n\r\n@ConfigurationProperties(prefix = &quot;props&quot;)\r\n@ConstructorBinding\r\n@Getter\r\npublic class MyProperties {\r\n\r\n    private final Map&lt;String, String&gt; mapProperty;\r\n\r\n    public MyProperties(@DefaultValue(&lt;PLACEHOLDER&gt;) Map&lt;String, String&gt; mapProperty) {\r\n        this.mapProperty = mapProperty;\r\n    }\r\n}\r\n```\r\n\r\nI have tried using syntax similar to what would be required to populate a list, e.g. `@DefaultValue(value = {&quot;a=b&quot;, &quot;c=d&quot;})` or `@DefaultValue(value = {&quot;a:b&quot;, &quot;c:d&quot;})`. I have also tried using the Spring Expression Language for inline maps, e.g. `@DefaultValue(&quot;{a:&#39;b&#39;}&quot;)`. None of these approaches seem to work, Spring fails to bind the value to the properties object and the object is not created. \r\n\r\nIs it not possible to use this annotation to set the default value for a Map?\r\n\r\nI know that I could perform a null check in the constructor and assign a default map. I don&#39;t want to use that approach because we are using the generated metadata for documentation. ","title":"Use @DefaultValue annotation with Map type for Spring Configuration Properties class","body":"<p>I am creating <code>@ConfigurationProperties</code> classes for use in a Spring Boot application. We want to have immutable classes so we have no setters and we are using the <code>@ConstructorBinding</code> annotation. Within the constructor we are using the <code>@DefaultValue</code> annotation to set default property values. With simple property types this works fine. However, if the property is a Map I cannot find any way to use this annotation to set the default value. Essentially, I want to know how to put in  below:</p>\n<pre><code>import lombok.Getter;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.ConstructorBinding;\nimport org.springframework.boot.context.properties.bind.DefaultValue;\n\nimport java.util.Map;\n\n@ConfigurationProperties(prefix = &quot;props&quot;)\n@ConstructorBinding\n@Getter\npublic class MyProperties {\n\n    private final Map&lt;String, String&gt; mapProperty;\n\n    public MyProperties(@DefaultValue(&lt;PLACEHOLDER&gt;) Map&lt;String, String&gt; mapProperty) {\n        this.mapProperty = mapProperty;\n    }\n}\n</code></pre>\n<p>I have tried using syntax similar to what would be required to populate a list, e.g. <code>@DefaultValue(value = {&quot;a=b&quot;, &quot;c=d&quot;})</code> or <code>@DefaultValue(value = {&quot;a:b&quot;, &quot;c:d&quot;})</code>. I have also tried using the Spring Expression Language for inline maps, e.g. <code>@DefaultValue(&quot;{a:'b'}&quot;)</code>. None of these approaches seem to work, Spring fails to bind the value to the properties object and the object is not created.</p>\n<p>Is it not possible to use this annotation to set the default value for a Map?</p>\n<p>I know that I could perform a null check in the constructor and assign a default map. I don't want to use that approach because we are using the generated metadata for documentation.</p>\n"},{"tags":["elasticsearch","java"],"answers":[{"tags":[],"owner":{"account_id":8078747,"reputation":102,"user_id":6120764,"display_name":"Dunggeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537955352,"creation_date":1537955352,"answer_id":52514799,"question_id":52380110,"body_markdown":"Finally , I got the answer of my above query. The problem was due to dynamic mapping during indexing in Elasticsearch. Better use your own mapping and do sorting on **long** type field (In my case I was trying to sort on the basis of **keyword**(string) field type).","title":"Elasticsearch sorting using java API","body":"<p>Finally , I got the answer of my above query. The problem was due to dynamic mapping during indexing in Elasticsearch. Better use your own mapping and do sorting on <strong>long</strong> type field (In my case I was trying to sort on the basis of <strong>keyword</strong>(string) field type).</p>\n"},{"tags":[],"owner":{"account_id":9864184,"reputation":145,"user_id":7306175,"accept_rate":25,"display_name":"Shashank Gutha"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1537970658,"creation_date":1537956303,"answer_id":52515137,"question_id":52380110,"body_markdown":"As totalEmployee was analyzed field, elastic requries field data value as true to perform sort operation. Instead you can use totalEmployee.keyword to achieve desired results.\r\n\r\nBelow is the working code.\r\n\r\n\r\n    QueryBuilder qb = QueryBuilders.matchAllQuery();\r\n    \r\n    SearchResponse response = client.prepareSearch(&quot;index_db&quot;).setTypes(&quot;departments&quot;)\r\n                        .addSort(SortBuilders.fieldSort(&quot;totalEmployee.keyword&quot;)\r\n                        .order(SortOrder.ASC)).setQuery(qb)\r\n                        .setSize(100).execute().actionGet();\r\n    \r\n    for(SearchHit hits : response.getHits())\r\n    {\r\n         System.out.print(&quot;id = &quot; + hits.getId());\r\n         System.out.println(hits.getSourceAsString());\r\n    }","title":"Elasticsearch sorting using java API","body":"<p>As totalEmployee was analyzed field, elastic requries field data value as true to perform sort operation. Instead you can use totalEmployee.keyword to achieve desired results.</p>\n\n<p>Below is the working code.</p>\n\n<pre><code>QueryBuilder qb = QueryBuilders.matchAllQuery();\n\nSearchResponse response = client.prepareSearch(\"index_db\").setTypes(\"departments\")\n                    .addSort(SortBuilders.fieldSort(\"totalEmployee.keyword\")\n                    .order(SortOrder.ASC)).setQuery(qb)\n                    .setSize(100).execute().actionGet();\n\nfor(SearchHit hits : response.getHits())\n{\n     System.out.print(\"id = \" + hits.getId());\n     System.out.println(hits.getSourceAsString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697555981,"creation_date":1697555981,"answer_id":77310255,"question_id":52380110,"body_markdown":"You can specify sort options in the search request:\r\n\r\n```java\r\nSearchRequest request = SearchRequest.of(req -&gt; req\r\n  .index(indexName)\r\n  .query(query)\r\n  .sort(SortOptions.of(so -&gt; so\r\n    .field(f -&gt; f\r\n      .field(sortField)\r\n      .order(SortOrder.Asc)\r\n    )\r\n  ))\r\n);\r\n```","title":"Elasticsearch sorting using java API","body":"<p>You can specify sort options in the search request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchRequest request = SearchRequest.of(req -&gt; req\n  .index(indexName)\n  .query(query)\n  .sort(SortOptions.of(so -&gt; so\n    .field(f -&gt; f\n      .field(sortField)\n      .order(SortOrder.Asc)\n    )\n  ))\n);\n</code></pre>\n"}],"owner":{"account_id":8078747,"reputation":102,"user_id":6120764,"display_name":"Dunggeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15111,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52515137,"answer_count":3,"score":4,"last_activity_date":1697555981,"creation_date":1537251719,"question_id":52380110,"body_markdown":"I am trying to sort my document based on totalEmployee field, where index is **index_db** , the type is **departments** and a field is **totalEmployee** \r\n\r\n    QueryBuilder qb = QueryBuilders.matchAllQuery();\r\n    \t\t\tSearchResponse response = client.prepareSearch(&quot;index_db&quot;).setTypes(&quot;departments&quot;)\r\n    \t\t\t\t\t.addSort(SortBuilders.fieldSort(&quot;totalEmployee&quot;).order(SortOrder.ASC)).setQuery(qb)\r\n    \t\t\t\t\t.setSize(100).execute().actionGet();\r\n    \t\t\tfor(SearchHit hits :response.getHits()) {\r\n    \t\t\t\tSystem.out.print(&quot;id = &quot;+hits.getId());\r\n    \t\t\t\tSystem.out.println(hits.getSourceAsString());\r\n    \t\t\t}\r\n\r\nBut I am getting error : \r\n\r\n`Exception in thread &quot;main&quot; Failed to execute phase [query], all shards failed; shardFailures {[q9B7Qs-DSXWC14pjc5zlNg][index_db][0]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested:` \r\n\r\n`IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][index_db][1]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][2]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][3]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][4]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }`\r\n\r\n","title":"Elasticsearch sorting using java API","body":"<p>I am trying to sort my document based on totalEmployee field, where index is <strong>index_db</strong> , the type is <strong>departments</strong> and a field is <strong>totalEmployee</strong> </p>\n\n<pre><code>QueryBuilder qb = QueryBuilders.matchAllQuery();\n            SearchResponse response = client.prepareSearch(\"index_db\").setTypes(\"departments\")\n                    .addSort(SortBuilders.fieldSort(\"totalEmployee\").order(SortOrder.ASC)).setQuery(qb)\n                    .setSize(100).execute().actionGet();\n            for(SearchHit hits :response.getHits()) {\n                System.out.print(\"id = \"+hits.getId());\n                System.out.println(hits.getSourceAsString());\n            }\n</code></pre>\n\n<p>But I am getting error : </p>\n\n<p><code>Exception in thread \"main\" Failed to execute phase [query], all shards failed; shardFailures {[q9B7Qs-DSXWC14pjc5zlNg][index_db][0]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested:</code> </p>\n\n<p><code>IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][index_db][1]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][2]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][3]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }{[q9B7Qs-DSXWC14pjc5zlNg][piyush_db][4]: RemoteTransportException[[elasticsearch_node][10.64.216.92:9375][indices:data/read/search[phase/query]]]; nested: IllegalArgumentException[Fielddata is disabled on text fields by default. Set fielddata=true on [totalEmployee] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory.]; }</code></p>\n"},{"tags":["java","deb","jpackage"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1685618889,"post_id":76380876,"comment_id":134686933,"body_markdown":"Seems to be a bug in QApt: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=986010 -- you can check that the description inside the package itself is ok by taking it apart using `ar x hello.deb` and looking at the control file.","body":"Seems to be a bug in QApt: <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=986010\" rel=\"nofollow noreferrer\">bugs.debian.org/cgi-bin/bugreport.cgi?bug=986010</a> -- you can check that the description inside the package itself is ok by taking it apart using <code>ar x hello.deb</code> and looking at the control file."},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1685637890,"post_id":76380876,"comment_id":134691840,"body_markdown":"@teapot418 I noticed that several deb packages from various vendors have this issue. However, I think i found _solution_ by using multiline description. See my answer.","body":"@teapot418 I noticed that several deb packages from various vendors have this issue. However, I think i found <i>solution</i> by using multiline description. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697555779,"creation_date":1685638096,"answer_id":76384084,"question_id":76380876,"body_markdown":"A solution to this problem might be to use multi-line description. First line is then bold text and second line is below it, altough bug still remains when using single-line description.\r\n  \r\n    jpackage -t deb \\\r\n    --app-version 1.0.0 \\\r\n    --icon books256.png \\\r\n    --name hello \\\r\n    --description &#39;first line\r\n    second line&#39; \\\r\n    --dest target/jpackage_outputdir/ \\\r\n    --temp target/jpackage_tempdir \\\r\n    --input target/jpackage_inputdir \\\r\n    --main-class core.Main \\\r\n    --main-jar jarfile.jar \\\r\n    --linux-menu-group Office \\\r\n    --linux-shortcut\r\n\r\n[![solution][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wvafC.png\r\n\r\n**EDIT:**\r\n\r\nThis &quot;fix&quot; breaks desktop icon on Ubuntu (22.04). It is not shown under &quot;Show applications&quot; in gnome desktop.","title":"Description bug in DEB file created by jpackage when opened with QApt installer","body":"<p>A solution to this problem might be to use multi-line description. First line is then bold text and second line is below it, altough bug still remains when using single-line description.</p>\n<pre><code>jpackage -t deb \\\n--app-version 1.0.0 \\\n--icon books256.png \\\n--name hello \\\n--description 'first line\nsecond line' \\\n--dest target/jpackage_outputdir/ \\\n--temp target/jpackage_tempdir \\\n--input target/jpackage_inputdir \\\n--main-class core.Main \\\n--main-jar jarfile.jar \\\n--linux-menu-group Office \\\n--linux-shortcut\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wvafC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wvafC.png\" alt=\"solution\" /></a></p>\n<p><strong>EDIT:</strong></p>\n<p>This &quot;fix&quot; breaks desktop icon on Ubuntu (22.04). It is not shown under &quot;Show applications&quot; in gnome desktop.</p>\n"}],"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697555779,"creation_date":1685614589,"question_id":76380876,"body_markdown":"Adding description with `--description` while creating deb package on linux creates deb file, which when opened with `QApt package installer` (double click installation) shows defined text in description section, which seems like a *bold header* and underneath there is that description again with first character stripped:\r\n\r\n[![example][1]][1]\r\n\r\nCommand:\r\n\r\n    jpackage -t deb \\\r\n    --app-version 1.0.0 \\\r\n    --icon books256.png \\\r\n    --name hello \\\r\n    --description &#39;my testing text&#39; \\\r\n    --dest target/jpackage_outputdir/ \\\r\n    --temp target/jpackage_tempdir \\\r\n    --input target/jpackage_inputdir \\\r\n    --main-class core.Main \\\r\n    --main-jar jarfile.jar \\\r\n    --linux-menu-group Office \\\r\n    --linux-shortcut\r\n\r\nIs there a way to prevent this *unprofessional* look by finely setting *bold header* and text underneath separately or at least by removing this duplication in description section?\r\n\r\nUsing Kubuntu 23.0.4, JDK - openjdk 17.0.7 2023-04-18 LTS\r\n\r\n  [1]: https://i.stack.imgur.com/fm2Eo.png","title":"Description bug in DEB file created by jpackage when opened with QApt installer","body":"<p>Adding description with <code>--description</code> while creating deb package on linux creates deb file, which when opened with <code>QApt package installer</code> (double click installation) shows defined text in description section, which seems like a <em>bold header</em> and underneath there is that description again with first character stripped:</p>\n<p><a href=\"https://i.stack.imgur.com/fm2Eo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fm2Eo.png\" alt=\"example\" /></a></p>\n<p>Command:</p>\n<pre><code>jpackage -t deb \\\n--app-version 1.0.0 \\\n--icon books256.png \\\n--name hello \\\n--description 'my testing text' \\\n--dest target/jpackage_outputdir/ \\\n--temp target/jpackage_tempdir \\\n--input target/jpackage_inputdir \\\n--main-class core.Main \\\n--main-jar jarfile.jar \\\n--linux-menu-group Office \\\n--linux-shortcut\n</code></pre>\n<p>Is there a way to prevent this <em>unprofessional</em> look by finely setting <em>bold header</em> and text underneath separately or at least by removing this duplication in description section?</p>\n<p>Using Kubuntu 23.0.4, JDK - openjdk 17.0.7 2023-04-18 LTS</p>\n"},{"tags":["java","inheritance","equals","hashcode"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":5,"creation_date":1697493841,"post_id":77305179,"comment_id":136284528,"body_markdown":"delete the id field in ChildEntity, you&#39;re shadowing/hiding the parent one.","body":"delete the id field in ChildEntity, you&#39;re shadowing/hiding the parent one."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697515547,"creation_date":1697498607,"answer_id":77305421,"question_id":77305179,"body_markdown":"If you really need `private Long id;` in the subclass, name it something else other than the same name as another field in the superclass. \r\n\r\nSee Wikipedia: [*Variable shadowing*](https://en.wikipedia.org/wiki/Variable_shadowing)","title":"How to use equals &amp; hashcode from generic parent class in child classes?","body":"<p>If you really need <code>private Long id;</code> in the subclass, name it something else other than the same name as another field in the superclass.</p>\n<p>See Wikipedia: <a href=\"https://en.wikipedia.org/wiki/Variable_shadowing\" rel=\"nofollow noreferrer\"><em>Variable shadowing</em></a></p>\n"}],"owner":{"account_id":22940848,"reputation":29,"user_id":17073644,"display_name":"PRD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1697508643,"answer_count":1,"score":-1,"last_activity_date":1697555293,"creation_date":1697493711,"question_id":77305179,"body_markdown":"I have many Entity classes in my project, and to avoid overriding the equals and hashCode methods in each one, I want to inherit them from a parent class where these methods are already implemented. Since the equals and hashCode methods of Entity classes should be based on the ID field, which is unique for each instance.\r\n\r\n``` @AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic abstract class ParentEntity&lt;ID&gt; {\r\n\r\n    private ID id;\r\n\r\n   \r\n    @Override\r\n    public boolean equals(final Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n        ParentEntity&lt;?&gt; that = (ParentEntity&lt;?&gt;) o;\r\n        return Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ChildEntity extends ParentEntity&lt;Long&gt; {\r\n\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n\r\n}\r\n```\r\n\r\nBut when i test it: \r\n```\r\nChildEntity childEntity = new ChildEntity(4L, &quot;Cheese&quot;);\r\nChildEntity childEntity1 = new ChildEntity(4L, &quot;Bread&quot;);\r\nChildEntity childEntity2 = new ChildEntity(1L, &quot;Milk&quot;);\r\n\r\nSystem.out.println(childEntity.equals(childEntity1)); // output true\r\nSystem.out.println(childEntity.equals(childEntity2)); // output true\r\n```\r\n\r\nIn debug, I see that ParentEntity.id is null in every child entity instance but I don&#39;t understand why. Please help.","title":"How to use equals &amp; hashcode from generic parent class in child classes?","body":"<p>I have many Entity classes in my project, and to avoid overriding the equals and hashCode methods in each one, I want to inherit them from a parent class where these methods are already implemented. Since the equals and hashCode methods of Entity classes should be based on the ID field, which is unique for each instance.</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic abstract class ParentEntity&lt;ID&gt; {\n\n    private ID id;\n\n   \n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        ParentEntity&lt;?&gt; that = (ParentEntity&lt;?&gt;) o;\n        return Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ChildEntity extends ParentEntity&lt;Long&gt; {\n\n    private Long id;\n\n    private String name;\n\n\n}\n</code></pre>\n<p>But when i test it:</p>\n<pre><code>ChildEntity childEntity = new ChildEntity(4L, &quot;Cheese&quot;);\nChildEntity childEntity1 = new ChildEntity(4L, &quot;Bread&quot;);\nChildEntity childEntity2 = new ChildEntity(1L, &quot;Milk&quot;);\n\nSystem.out.println(childEntity.equals(childEntity1)); // output true\nSystem.out.println(childEntity.equals(childEntity2)); // output true\n</code></pre>\n<p>In debug, I see that ParentEntity.id is null in every child entity instance but I don't understand why. Please help.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1605266126,"post_id":64807292,"comment_id":114604333,"body_markdown":"We too got this error mesage after upgrading from Spring 5.2.9 to 5.3.1.","body":"We too got this error mesage after upgrading from Spring 5.2.9 to 5.3.1."},{"owner":{"account_id":1861004,"reputation":558,"user_id":1685590,"accept_rate":60,"display_name":"AnarchoEnte"},"score":0,"creation_date":1606998121,"post_id":64807292,"comment_id":115136774,"body_markdown":"We&#39;ve the same issue here after updating :(","body":"We&#39;ve the same issue here after updating :("}],"answers":[{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605268522,"creation_date":1605268522,"answer_id":64820444,"question_id":64807292,"body_markdown":"Can you please try to downgrade javax.servlet-api to 3.1.0 and see if that solves your problem? That seems to have solved our issue.\r\n","title":"Handler dispatch failed; nested exception is java.lang.NoSuchMethodError","body":"<p>Can you please try to downgrade javax.servlet-api to 3.1.0 and see if that solves your problem? That seems to have solved our issue.</p>\n"},{"tags":[],"owner":{"account_id":13059720,"reputation":458,"user_id":9437342,"display_name":"deloyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613555511,"creation_date":1613555511,"answer_id":66239471,"question_id":64807292,"body_markdown":"You should upgrade the runtime environment. In your current runtime version of Java EE javax.servlet.http.HttpServletRequest does not contain a method with the name getHttpServletMapping. Java EE 8 Introduce the method getHttpServletMapping.Or make sure that you are using the same version for development and runtime.\r\nReferences: [JAVA EE github docs][1][Apache Tomcat docs][2]\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--\r\n  [2]: https://tomcat.apache.org/tomcat-9.0-doc/servletapi/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--","title":"Handler dispatch failed; nested exception is java.lang.NoSuchMethodError","body":"<p>You should upgrade the runtime environment. In your current runtime version of Java EE javax.servlet.http.HttpServletRequest does not contain a method with the name getHttpServletMapping. Java EE 8 Introduce the method getHttpServletMapping.Or make sure that you are using the same version for development and runtime.\nReferences: <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--\" rel=\"nofollow noreferrer\">JAVA EE github docs</a><a href=\"https://tomcat.apache.org/tomcat-9.0-doc/servletapi/javax/servlet/http/HttpServletRequest.html#getHttpServletMapping--\" rel=\"nofollow noreferrer\">Apache Tomcat docs</a></p>\n"}],"owner":{"account_id":17275827,"reputation":41,"user_id":12510474,"display_name":"Dull"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9306,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1697555175,"creation_date":1605196592,"question_id":64807292,"body_markdown":"\r\n**Message** \r\n\r\n    Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n\r\n\r\n**Description**\r\n\r\n    The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n**Exception**\r\n\r\n    org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1076)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n**Root Cause**\r\n\r\n\r\n    java.lang.NoSuchMethodError: &#39;javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()&#39;\r\n    \torg.springframework.web.util.UrlPathHelper.skipServletPathDetermination(UrlPathHelper.java:265)\r\n    \torg.springframework.web.util.UrlPathHelper.getLookupPathForRequest(UrlPathHelper.java:250)\r\n    \torg.springframework.web.util.UrlPathHelper.resolveAndCacheLookupPath(UrlPathHelper.java:199)\r\n    \torg.springframework.web.servlet.handler.AbstractHandlerMapping.initLookupPath(AbstractHandlerMapping.java:567)\r\n    \torg.springframework.web.servlet.handler.AbstractUrlHandlerMapping.getHandlerInternal(AbstractUrlHandlerMapping.java:136)\r\n    \torg.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)\r\n    \torg.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mvc-1&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;mvc-1&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;junit.version&gt;5.6.2&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**CODE**\r\n\r\n[General structure][1]\r\n\r\n\r\n[WEB-INF][2]\r\n[Access][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/su5Y1.png\r\n  [2]: https://i.stack.imgur.com/LXIST.png\r\n  [3]: https://i.stack.imgur.com/xxZjG.png","title":"Handler dispatch failed; nested exception is java.lang.NoSuchMethodError","body":"<p><strong>Message</strong></p>\n<pre><code>Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'\n</code></pre>\n<p><strong>Description</strong></p>\n<pre><code>The server encountered an unexpected condition that prevented it from fulfilling the request.\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1076)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p><strong>Root Cause</strong></p>\n<pre><code>java.lang.NoSuchMethodError: 'javax.servlet.http.HttpServletMapping javax.servlet.http.HttpServletRequest.getHttpServletMapping()'\n    org.springframework.web.util.UrlPathHelper.skipServletPathDetermination(UrlPathHelper.java:265)\n    org.springframework.web.util.UrlPathHelper.getLookupPathForRequest(UrlPathHelper.java:250)\n    org.springframework.web.util.UrlPathHelper.resolveAndCacheLookupPath(UrlPathHelper.java:199)\n    org.springframework.web.servlet.handler.AbstractHandlerMapping.initLookupPath(AbstractHandlerMapping.java:567)\n    org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.getHandlerInternal(AbstractUrlHandlerMapping.java:136)\n    org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:491)\n    org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1255)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1037)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mvc-1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mvc-1&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;junit.version&gt;5.6.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>CODE</strong></p>\n<p><a href=\"https://i.stack.imgur.com/su5Y1.png\" rel=\"nofollow noreferrer\">General structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/LXIST.png\" rel=\"nofollow noreferrer\">WEB-INF</a>\n<a href=\"https://i.stack.imgur.com/xxZjG.png\" rel=\"nofollow noreferrer\">Access</a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"score":0,"creation_date":1328623432,"post_id":9177525,"comment_id":11545843,"body_markdown":"oh im sorry i forgot to write =).... it is in java...please help. ive used for loop but it doesnt work","body":"oh im sorry i forgot to write =).... it is in java...please help. ive used for loop but it doesnt work"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1328624752,"post_id":9177525,"comment_id":11546397,"body_markdown":"Can you show what you tried, and explain in what way it didn&#39;t work?","body":"Can you show what you tried, and explain in what way it didn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328623413,"creation_date":1328623413,"answer_id":9177628,"question_id":9177525,"body_markdown":"    for i in 0..max(length(s1),length(s2))-1:\r\n        print &quot; &quot; if i &gt;= length(s1) else s1[i];\r\n        print &quot; &quot;\r\n        print &quot; &quot; if i &gt;= length(s2) else s2[i];\r\n        print &quot;\\n&quot;\r\n\r\n","title":"Printing two or more strings in vertical form in java","body":"<pre><code>for i in 0..max(length(s1),length(s2))-1:\n    print \" \" if i &gt;= length(s1) else s1[i];\n    print \" \"\n    print \" \" if i &gt;= length(s2) else s2[i];\n    print \"\\n\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658145455,"creation_date":1658134260,"answer_id":73019627,"question_id":9177525,"body_markdown":"If you still haven&#39;t got the solution.\r\n\r\n 1. Find the string with max length (`input` or `input1`)\r\n 2. Iterate to that max length and print the data.\r\n 3. If the two strings are not having the same length, there will be a point where the `charAt` method will not be having a specific index. So before calling the `charAt` method, always check whether the current index is less than the respective string&#39;s length, if not then just print an empty space `&#39; &#39;`.","title":"Printing two or more strings in vertical form in java","body":"<p>If you still haven't got the solution.</p>\n<ol>\n<li>Find the string with max length (<code>input</code> or <code>input1</code>)</li>\n<li>Iterate to that max length and print the data.</li>\n<li>If the two strings are not having the same length, there will be a point where the <code>charAt</code> method will not be having a specific index. So before calling the <code>charAt</code> method, always check whether the current index is less than the respective string's length, if not then just print an empty space <code>' '</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681677909,"creation_date":1681677909,"answer_id":76030254,"question_id":9177525,"body_markdown":"Be simple!\r\n\r\n 1. Find the word with the max length\r\n 2. In the loop print the `i`th character\r\n 3. In case given word&#39;s length is less than `i`, then print `space`.\r\n\r\n```java\r\npublic static void printVertical(List&lt;String&gt; words) {\r\n    int max = words.stream().mapToInt(String::length).max().orElse(0);\r\n\r\n    for (int i = 0, j = 0; i &lt; max; i++, j = 0) {\r\n        for (String word : words) {\r\n            if (j++ != 0)\r\n                System.out.print(&#39; &#39;);\r\n\r\n            if (i &lt; word.length())\r\n                System.out.print(word.charAt(i));\r\n            else\r\n                System.out.print(&#39; &#39;);\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"Printing two or more strings in vertical form in java","body":"<p>Be simple!</p>\n<ol>\n<li>Find the word with the max length</li>\n<li>In the loop print the <code>i</code>th character</li>\n<li>In case given word's length is less than <code>i</code>, then print <code>space</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static void printVertical(List&lt;String&gt; words) {\n    int max = words.stream().mapToInt(String::length).max().orElse(0);\n\n    for (int i = 0, j = 0; i &lt; max; i++, j = 0) {\n        for (String word : words) {\n            if (j++ != 0)\n                System.out.print(' ');\n\n            if (i &lt; word.length())\n                System.out.print(word.charAt(i));\n            else\n                System.out.print(' ');\n        }\n\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684378311,"creation_date":1684377991,"answer_id":76277398,"question_id":9177525,"body_markdown":"This is fairly straight forward in Java.\r\n```java\r\nvoid print() {\r\n    Scanner scanner = new Scanner(System.in);\r\n    char[] stringA = scanner.nextLine().toCharArray();\r\n    char[] stringB = scanner.nextLine().toCharArray();\r\n    scanner.close();\r\n    char A, B;\r\n    int length = Math.max(stringA.length, stringB.length);\r\n    for (int index = 0; index &lt; length; index++) {\r\n        A = index &lt; stringA.length ? stringA[index] : &#39; &#39;;\r\n        B = index &lt; stringB.length ? stringB[index] : &#39; &#39;;\r\n        System.out.printf(&quot;%s %s%n&quot;, A, B);\r\n    }\r\n}\r\n```","title":"Printing two or more strings in vertical form in java","body":"<p>This is fairly straight forward in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void print() {\n    Scanner scanner = new Scanner(System.in);\n    char[] stringA = scanner.nextLine().toCharArray();\n    char[] stringB = scanner.nextLine().toCharArray();\n    scanner.close();\n    char A, B;\n    int length = Math.max(stringA.length, stringB.length);\n    for (int index = 0; index &lt; length; index++) {\n        A = index &lt; stringA.length ? stringA[index] : ' ';\n        B = index &lt; stringB.length ? stringB[index] : ' ';\n        System.out.printf(&quot;%s %s%n&quot;, A, B);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229964,"reputation":1,"user_id":1194759,"display_name":"xaia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1697555175,"creation_date":1328623037,"question_id":9177525,"body_markdown":"Please help me generate a program that will prompt the user to enter 2 strings and display them vertically. The output must be like this: \r\n\r\n    Enter 1st and 2nd String:\r\n    First\r\n    Second\r\n    \r\n    F  S\r\n    i  e\r\n    r  c\r\n    s  o\r\n    t  n\r\n       d\r\n\r\nThe attempted code:\r\n\r\n    import java.util.Scanner;\r\n    public class MyCode\r\n    {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a string&quot;);\r\n    \t\tString input = in.nextLine();\r\n    \t\tString input1=in.nextLine();\r\n    \t\tint i =0;\r\n    \t\tint j=0;\r\n    \r\n    \t\tfor(i = 0,j=0; i &lt; input.length()||j&lt;input1.length(); i++,j++) {\r\n    \t\t\tchar letter = input.charAt(i);\r\n    \t\t\tchar letter1=input1.charAt(j);\r\n    \t\t\tSystem.out.println(letter + &quot; &quot;+letter1);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Printing two or more strings in vertical form in java","body":"<p>Please help me generate a program that will prompt the user to enter 2 strings and display them vertically. The output must be like this: </p>\n\n<pre><code>Enter 1st and 2nd String:\nFirst\nSecond\n\nF  S\ni  e\nr  c\ns  o\nt  n\n   d\n</code></pre>\n\n<p>The attempted code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class MyCode\n{\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter a string\");\n        String input = in.nextLine();\n        String input1=in.nextLine();\n        int i =0;\n        int j=0;\n\n        for(i = 0,j=0; i &lt; input.length()||j&lt;input1.length(); i++,j++) {\n            char letter = input.charAt(i);\n            char letter1=input1.charAt(j);\n            System.out.println(letter + \" \"+letter1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amazon-dynamodb","spring-bean"],"comments":[{"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"score":0,"creation_date":1544528213,"post_id":53723303,"comment_id":94300095,"body_markdown":"Have you tried to annotate AgentRepository with @Component ?","body":"Have you tried to annotate AgentRepository with @Component ?"},{"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"score":0,"creation_date":1544528393,"post_id":53723303,"comment_id":94300214,"body_markdown":"Previously when I tried I did not use `@Component` annotation to read write from DynamoDB. But nevertheless I tried now as you mentioned and it does not work.","body":"Previously when I tried I did not use <code>@Component</code> annotation to read write from DynamoDB. But nevertheless I tried now as you mentioned and it does not work."},{"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"score":0,"creation_date":1544529038,"post_id":53723303,"comment_id":94300563,"body_markdown":"Regarding your question if the bean is already registered you can print all the bean in the context via using the method getBeanDefinitionNames() of \nApplicationContext object. Via printing them in the console you can see which beans keys are used. There are several example in the web so I won t share it here","body":"Regarding your question if the bean is already registered you can print all the bean in the context via using the method getBeanDefinitionNames() of  ApplicationContext object. Via printing them in the console you can see which beans keys are used. There are several example in the web so I won t share it here"},{"owner":{"account_id":10016972,"reputation":452,"user_id":7407895,"display_name":"venkat"},"score":0,"creation_date":1544529297,"post_id":53723303,"comment_id":94300717,"body_markdown":"Can you please add [@Repository] or [@Service] annotations to your AgentRepository class and try? and also your AgentRepository is an interface, is there any use case to use interface instead of classes.","body":"Can you please add [@Repository] or [@Service] annotations to your AgentRepository class and try? and also your AgentRepository is an interface, is there any use case to use interface instead of classes."},{"owner":{"account_id":4346696,"reputation":3286,"user_id":3548468,"accept_rate":75,"display_name":"kkesley"},"score":0,"creation_date":1566175394,"post_id":53723303,"comment_id":101561516,"body_markdown":"Hi, did you solve this? I just encountered the same problem!","body":"Hi, did you solve this? I just encountered the same problem!"},{"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"score":0,"creation_date":1566179753,"post_id":53723303,"comment_id":101562093,"body_markdown":"Actually no because I had switch from using DynamoDB. When switched the DB the problem disappeared. But the hacky way to fix it is to add `spring.main.allow-bean-definition-overriding=true` as mentioned in the answers.","body":"Actually no because I had switch from using DynamoDB. When switched the DB the problem disappeared. But the hacky way to fix it is to add <code>spring.main.allow-bean-definition-overriding=true</code> as mentioned in the answers."},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1581340288,"post_id":53723303,"comment_id":106388128,"body_markdown":"Sadly any other answer address the fact about **why** this problem starts to happen. In the theory the best resolution could start identifying why/how you have two beans.","body":"Sadly any other answer address the fact about <b>why</b> this problem starts to happen. In the theory the best resolution could start identifying why/how you have two beans."}],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"down_vote_count":2,"up_vote_count":173,"is_accepted":true,"score":171,"last_activity_date":1558290461,"creation_date":1544529488,"answer_id":53723731,"question_id":53723303,"body_markdown":"Bean overriding has to be enabled since Spring Boot 2.1,\n\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\n\n&gt; Bean Overriding\n&gt;\n&gt;Bean overriding has been disabled by default to prevent a bean being accidentally overridden. If you are relying on overriding, you will need to set spring.main.allow-bean-definition-overriding to true.\n\nSet\n\n    spring.main.allow-bean-definition-overriding=true\n\nor yml,\n\n    spring:\n       main:\n         allow-bean-definition-overriding: true\n    \nto enable overriding again.\n\nEdit, \n\nBean Overriding is based of the name of the bean not its type. e.g.\n\n```\n@Bean\npublic ClassA class(){\n   return new ClassA();\n}\n\n@Bean\npublic ClassB class(){\n   return new ClassB();\n}\n```\n\nWill cause this error in &gt; 2.1, by default bean names are taken from the method name. Renaming the method or adding the `name` attribute to the `Bean` annotation will be a valid fix. \n","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>Bean overriding has to be enabled since Spring Boot 2.1,</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes</a></p>\n<blockquote>\n<p>Bean Overriding</p>\n<p>Bean overriding has been disabled by default to prevent a bean being accidentally overridden. If you are relying on overriding, you will need to set spring.main.allow-bean-definition-overriding to true.</p>\n</blockquote>\n<p>Set</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>or yml,</p>\n<pre><code>spring:\n   main:\n     allow-bean-definition-overriding: true\n</code></pre>\n<p>to enable overriding again.</p>\n<p>Edit,</p>\n<p>Bean Overriding is based of the name of the bean not its type. e.g.</p>\n<pre><code>@Bean\npublic ClassA class(){\n   return new ClassA();\n}\n\n@Bean\npublic ClassB class(){\n   return new ClassB();\n}\n</code></pre>\n<p>Will cause this error in &gt; 2.1, by default bean names are taken from the method name. Renaming the method or adding the <code>name</code> attribute to the <code>Bean</code> annotation will be a valid fix.</p>\n"},{"tags":[],"owner":{"account_id":2800331,"reputation":1729,"user_id":2408683,"accept_rate":67,"display_name":"Shell Scott"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1580999367,"creation_date":1580999367,"answer_id":60097261,"question_id":53723303,"body_markdown":"Enable bean overriding with such approach for example\r\n\r\n    @SpringBootTest(properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)\r\n\r\nor \r\n\r\n    @SpringBootApplication (properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>Enable bean overriding with such approach for example</p>\n\n<pre><code>@SpringBootTest(properties = \"spring.main.allow-bean-definition-overriding=true\")\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@SpringBootApplication (properties = \"spring.main.allow-bean-definition-overriding=true\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1589914870,"creation_date":1589914870,"answer_id":61898744,"question_id":53723303,"body_markdown":"I think I had the same problem with MongoDB. At least the error message looked exactly the same and I also had just one repository for the MongoDB, something like this:\r\n\r\n    public interface MyClassMongoRepository extends MongoRepository&lt;MyClass, Long&gt; {\r\n    }\r\n\r\nThe problem had been caused by class MyClass which had been used in another database before. Spring silently created some JpaRepository before creating the MongoRepository. Both repositories had the same name which caused the conflict.\r\n\r\nSolution was to make a copy of MyClass, move it into the package of the MongoRepository and remove any JPA-specific annotations.","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I think I had the same problem with MongoDB. At least the error message looked exactly the same and I also had just one repository for the MongoDB, something like this:</p>\n\n<pre><code>public interface MyClassMongoRepository extends MongoRepository&lt;MyClass, Long&gt; {\n}\n</code></pre>\n\n<p>The problem had been caused by class MyClass which had been used in another database before. Spring silently created some JpaRepository before creating the MongoRepository. Both repositories had the same name which caused the conflict.</p>\n\n<p>Solution was to make a copy of MyClass, move it into the package of the MongoRepository and remove any JPA-specific annotations.</p>\n"},{"tags":[],"owner":{"account_id":10460077,"reputation":441,"user_id":7711123,"display_name":"leurer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593621706,"creation_date":1593620597,"answer_id":62681183,"question_id":53723303,"body_markdown":"I just stumbled across the same issue while trying to add a PostgreSQL database via spring-data-jdbc to an existing project wich was already using a MongoDB.\r\n\r\nIt seems like the problem was that the repositories for MongoDB and PostgreSQL were scanned by both modules (spring-mongo and spring-jdbc). They both try to create some beans and clash.\r\n\r\nIn my case the MongoDB repositories and the PostgreSQL repositories were in the same package.\r\n\r\nThe accepted answer solved the problem for me -\r\nbut i kind of got a hint from this startup logs:\r\n\r\n```\r\nFinished Spring Data repository scanning in 319ms. Found 4 repository interfaces\r\nFinished Spring Data repository scanning in 319ms. Found 5 repository interfaces\r\n```\r\n\r\nThis is weird because i only have 1 repository for PostgreSQL and 4 for MongoDB. \r\n\r\nI moved the PostgreSQL repository into a different package than the MongoDB repository and configured the base package of the PostgreSQL repositories to the new package.\r\nIn my case:\r\n```\r\n@EnableJdbcRepositories(basePackageClasses = MyOnlyPostgreSQLRepository.class) // TODO: Use the real package or a dedicated base class\r\n```\r\n\r\nThis solved the issue for me (no property set for bean overriding - which i prefer). The startups logs also show the correct amount of repositories now (1 and 4).\r\n\r\n","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I just stumbled across the same issue while trying to add a PostgreSQL database via spring-data-jdbc to an existing project wich was already using a MongoDB.</p>\n<p>It seems like the problem was that the repositories for MongoDB and PostgreSQL were scanned by both modules (spring-mongo and spring-jdbc). They both try to create some beans and clash.</p>\n<p>In my case the MongoDB repositories and the PostgreSQL repositories were in the same package.</p>\n<p>The accepted answer solved the problem for me -\nbut i kind of got a hint from this startup logs:</p>\n<pre><code>Finished Spring Data repository scanning in 319ms. Found 4 repository interfaces\nFinished Spring Data repository scanning in 319ms. Found 5 repository interfaces\n</code></pre>\n<p>This is weird because i only have 1 repository for PostgreSQL and 4 for MongoDB.</p>\n<p>I moved the PostgreSQL repository into a different package than the MongoDB repository and configured the base package of the PostgreSQL repositories to the new package.\nIn my case:</p>\n<pre><code>@EnableJdbcRepositories(basePackageClasses = MyOnlyPostgreSQLRepository.class) // TODO: Use the real package or a dedicated base class\n</code></pre>\n<p>This solved the issue for me (no property set for bean overriding - which i prefer). The startups logs also show the correct amount of repositories now (1 and 4).</p>\n"},{"tags":[],"owner":{"account_id":1986063,"reputation":391,"user_id":1781257,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621236838,"creation_date":1621236838,"answer_id":67565627,"question_id":53723303,"body_markdown":"In my case was that 2 maven depenencies were defined with the same Bean in it.\r\nI found this when issuing a `mvn dependency:tree` for all my projects.","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>In my case was that 2 maven depenencies were defined with the same Bean in it.\nI found this when issuing a <code>mvn dependency:tree</code> for all my projects.</p>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624526592,"creation_date":1624526592,"answer_id":68113029,"question_id":53723303,"body_markdown":"I came across this same issue, the problem was that multiple repository factories were trying to register all repositories interfaces with them. In my case, it was `JpaRepositoryFactoryBean` &amp; `DynamoDBRepositoryFactoryBean`. As mentioned in other answers, you could see that on the logs indicated by:\r\n\r\n    [INFO] Bootstrapping Spring Data DynamoDB repositories in DEFAULT mode.\r\n    [INFO] Finished Spring Data repository scanning in 64ms. Found 2 DynamoDB repository interfaces.\r\n    [INFO] Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n\r\nSolution is:\r\n1. Make sure you are using compatible versions of spring-data-dynamodb / spring-boot / spring-data by checking the [compatibility matrix][1]\r\n2. Make sure each repository is created only once. In my case, I had to add \r\n\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration(exclude = {\r\n       DataSourceAutoConfiguration.class,\r\n       DataSourceTransactionManagerAutoConfiguration.class,\r\n       HibernateJpaAutoConfiguration.class})\r\n```\r\nThe config may differ in different versions and depending on how many repositories you have in your application. It may be helpful to read about [Multi-Repository-configuration][2]\r\n\r\n\r\n  [1]: https://github.com/derjust/spring-data-dynamodb#version--spring-framework-compatibility\r\n  [2]: https://github.com/derjust/spring-data-dynamodb/wiki/Multi-Repository-configuration","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I came across this same issue, the problem was that multiple repository factories were trying to register all repositories interfaces with them. In my case, it was <code>JpaRepositoryFactoryBean</code> &amp; <code>DynamoDBRepositoryFactoryBean</code>. As mentioned in other answers, you could see that on the logs indicated by:</p>\n<pre><code>[INFO] Bootstrapping Spring Data DynamoDB repositories in DEFAULT mode.\n[INFO] Finished Spring Data repository scanning in 64ms. Found 2 DynamoDB repository interfaces.\n[INFO] Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n</code></pre>\n<p>Solution is:</p>\n<ol>\n<li>Make sure you are using compatible versions of spring-data-dynamodb / spring-boot / spring-data by checking the <a href=\"https://github.com/derjust/spring-data-dynamodb#version--spring-framework-compatibility\" rel=\"nofollow noreferrer\">compatibility matrix</a></li>\n<li>Make sure each repository is created only once. In my case, I had to add</li>\n</ol>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = {\n       DataSourceAutoConfiguration.class,\n       DataSourceTransactionManagerAutoConfiguration.class,\n       HibernateJpaAutoConfiguration.class})\n</code></pre>\n<p>The config may differ in different versions and depending on how many repositories you have in your application. It may be helpful to read about <a href=\"https://github.com/derjust/spring-data-dynamodb/wiki/Multi-Repository-configuration\" rel=\"nofollow noreferrer\">Multi-Repository-configuration</a></p>\n"},{"tags":[],"owner":{"account_id":25850661,"reputation":11,"user_id":19584699,"display_name":"Debabrata Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658298008,"creation_date":1658298008,"answer_id":73046790,"question_id":53723303,"body_markdown":"you can use \r\nspring.main.allow-bean-definition-overriding=true in application.properties file \r\n\r\nor \r\n\r\nuse @SpringBootApplication (properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>you can use\nspring.main.allow-bean-definition-overriding=true in application.properties file</p>\n<p>or</p>\n<p>use @SpringBootApplication (properties = &quot;spring.main.allow-bean-definition-overriding=true&quot;)</p>\n"},{"tags":[],"owner":{"account_id":3244972,"reputation":1535,"user_id":2736818,"accept_rate":86,"display_name":"Jithin U. Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675927537,"creation_date":1675927537,"answer_id":75395414,"question_id":53723303,"body_markdown":"This error message is indicating that you have multiple bean definitions with the same name defined in your application. In Spring framework, each bean must have a unique name within the application context.\r\n\r\n\r\nTo resolve this issue, you should rename one of the classes or its bean definition, so that each bean definition has a unique name. You can do this by using the &quot;name&quot; attribute in the @Component, @Repository, or @Service annotations.","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>This error message is indicating that you have multiple bean definitions with the same name defined in your application. In Spring framework, each bean must have a unique name within the application context.</p>\n<p>To resolve this issue, you should rename one of the classes or its bean definition, so that each bean definition has a unique name. You can do this by using the &quot;name&quot; attribute in the @Component, @Repository, or @Service annotations.</p>\n"}],"owner":{"account_id":10227675,"reputation":2181,"user_id":7549615,"accept_rate":65,"display_name":"Vino"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152792,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":53723731,"answer_count":8,"score":103,"last_activity_date":1697554628,"creation_date":1544528023,"question_id":53723303,"body_markdown":"I am trying to setup DynamoDB locally with Spring Boot. Initially I got the setup working and was able to write/save to DynamoDB via a repository. From that point I added more classes to build my application. Now when I try to start my application, I get the following exception:\r\n\r\n&gt; `org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;agentRepository&#39; defined in null: Cannot register bean definition [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean &#39;agentRepository&#39;: There is already [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.`\r\n\r\nI have searched SO and internet extensively but there were no any useful solution to this. The error message is misleading as well.\r\n\r\nMy project is of the following hierarchy\r\n\r\n    ai.test.as\r\n      - as\r\n          - agent\r\n              - business\r\n              - intent\r\n              - exception\r\n              - Agent.java\r\n              - AgentDTO.java\r\n              - AgentRespository.java\r\n              - AgentController.java\r\n              - AgentService.java\r\n              - AgentServiceImpl.java\r\n      - config\r\n         - DynamoDBConfig.java\r\n\r\nDynamoDBConfig.java\r\n\r\n    package ai.test.as.config;\r\n    \r\n    import ai.test.as.agent.AgentRepository;\r\n    import ai.test.as.agent.intent.template.TemplateRepository;\r\n    import com.amazonaws.auth.AWSCredentials;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\r\n    import com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient;\r\n    import org.socialsignin.spring.data.dynamodb.repository.config.EnableDynamoDBRepositories;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})\r\n    public class DynamoDBConfig\r\n    {\r\n        @Value(&quot;${aws.dynamodb.endpoint}&quot;)\r\n        private String dynamoDBEndpoint;\r\n    \r\n        @Value(&quot;${aws.auth.accesskey}&quot;)\r\n        private String awsAccessKey;\r\n    \r\n        @Value(&quot;${aws.auth.secretkey}&quot;)\r\n        private String awsSecretKey;\r\n    \r\n        @Bean\r\n        public AmazonDynamoDB amazonDynamoDB()\r\n        {\r\n            AmazonDynamoDB dynamoDB = new AmazonDynamoDBClient(getAwsCredentials());\r\n            dynamoDB.setEndpoint(dynamoDBEndpoint);\r\n    \r\n            return dynamoDB;\r\n        }\r\n    \r\n        @Bean\r\n        public AWSCredentials getAwsCredentials()\r\n        {\r\n            return new BasicAWSCredentials(awsAccessKey, awsSecretKey);\r\n        }\r\n    }\r\n\r\nAgentRepository.java\r\n\r\n    package ai.test.as.agent;\r\n    \r\n    import ai.test.as.agent.Agent;\r\n    import org.socialsignin.spring.data.dynamodb.repository.EnableScan;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    @EnableScan\r\n    public interface AgentRepository extends CrudRepository&lt;Agent, String&gt;\r\n    {\r\n    }\r\n\r\nAgentController.java (Where AgentRepository is used)\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/v1/agents&quot;)\r\n    public class AgentController\r\n    {\r\n        @Autowired\r\n        private AgentRepository agentRepository;\r\n    \r\n        @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n        public void test()\r\n        {\r\n            Agent agent = new Agent();\r\n            agent.setAgentNumber(&quot;123456&quot;);\r\n            agent.setId(1);\r\n    \r\n            agentRepository.save(agent);\r\n        }\r\n    }\r\n\r\n Spring suggests the following:\r\n`&gt; The bean &#39;agentRepository&#39;, defined in null, could not be registered. A bean with that name has already been defined in null and overriding is disabled`.\r\n\r\nWhat does `null` mean here? Is it because something wrong in my application config? Also how is it possible that it is already registered?\r\n\r\nPlease give me some pointers because I so confused about my next steps.\r\n","title":"SpringBoot - BeanDefinitionOverrideException: Invalid bean definition","body":"<p>I am trying to setup DynamoDB locally with Spring Boot. Initially I got the setup working and was able to write/save to DynamoDB via a repository. From that point I added more classes to build my application. Now when I try to start my application, I get the following exception:</p>\n\n<blockquote>\n  <p><code>org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'agentRepository' defined in null: Cannot register bean definition [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean 'agentRepository': There is already [Root bean: class [org.socialsignin.spring.data.dynamodb.repository.support.DynamoDBRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.</code></p>\n</blockquote>\n\n<p>I have searched SO and internet extensively but there were no any useful solution to this. The error message is misleading as well.</p>\n\n<p>My project is of the following hierarchy</p>\n\n<pre><code>ai.test.as\n  - as\n      - agent\n          - business\n          - intent\n          - exception\n          - Agent.java\n          - AgentDTO.java\n          - AgentRespository.java\n          - AgentController.java\n          - AgentService.java\n          - AgentServiceImpl.java\n  - config\n     - DynamoDBConfig.java\n</code></pre>\n\n<p>DynamoDBConfig.java</p>\n\n<pre><code>package ai.test.as.config;\n\nimport ai.test.as.agent.AgentRepository;\nimport ai.test.as.agent.intent.template.TemplateRepository;\nimport com.amazonaws.auth.AWSCredentials;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDB;\nimport com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient;\nimport org.socialsignin.spring.data.dynamodb.repository.config.EnableDynamoDBRepositories;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableDynamoDBRepositories(basePackageClasses = {AgentRepository.class})\npublic class DynamoDBConfig\n{\n    @Value(\"${aws.dynamodb.endpoint}\")\n    private String dynamoDBEndpoint;\n\n    @Value(\"${aws.auth.accesskey}\")\n    private String awsAccessKey;\n\n    @Value(\"${aws.auth.secretkey}\")\n    private String awsSecretKey;\n\n    @Bean\n    public AmazonDynamoDB amazonDynamoDB()\n    {\n        AmazonDynamoDB dynamoDB = new AmazonDynamoDBClient(getAwsCredentials());\n        dynamoDB.setEndpoint(dynamoDBEndpoint);\n\n        return dynamoDB;\n    }\n\n    @Bean\n    public AWSCredentials getAwsCredentials()\n    {\n        return new BasicAWSCredentials(awsAccessKey, awsSecretKey);\n    }\n}\n</code></pre>\n\n<p>AgentRepository.java</p>\n\n<pre><code>package ai.test.as.agent;\n\nimport ai.test.as.agent.Agent;\nimport org.socialsignin.spring.data.dynamodb.repository.EnableScan;\nimport org.springframework.data.repository.CrudRepository;\n\n@EnableScan\npublic interface AgentRepository extends CrudRepository&lt;Agent, String&gt;\n{\n}\n</code></pre>\n\n<p>AgentController.java (Where AgentRepository is used)</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/v1/agents\")\npublic class AgentController\n{\n    @Autowired\n    private AgentRepository agentRepository;\n\n    @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n    public void test()\n    {\n        Agent agent = new Agent();\n        agent.setAgentNumber(\"123456\");\n        agent.setId(1);\n\n        agentRepository.save(agent);\n    }\n}\n</code></pre>\n\n<p>Spring suggests the following:\n<code>&gt; The bean 'agentRepository', defined in null, could not be registered. A bean with that name has already been defined in null and overriding is disabled</code>.</p>\n\n<p>What does <code>null</code> mean here? Is it because something wrong in my application config? Also how is it possible that it is already registered?</p>\n\n<p>Please give me some pointers because I so confused about my next steps.</p>\n"},{"tags":["java","sql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1156684,"reputation":2981,"user_id":1137103,"accept_rate":88,"display_name":"Behnam Safari"},"score":1,"creation_date":1697542427,"post_id":77308567,"comment_id":136290385,"body_markdown":"try `@GeneratedValue(strategy = GenerationType.IDENTITY)` but we need more details on code, annotations you use and errors you get","body":"try <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> but we need more details on code, annotations you use and errors you get"},{"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"score":0,"creation_date":1697543873,"post_id":77308567,"comment_id":136290663,"body_markdown":"Could you update your question inserting EntityA? Just to have more details.","body":"Could you update your question inserting EntityA? Just to have more details."}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697554451,"creation_date":1697541691,"question_id":77308567,"body_markdown":"I have a table A that has `id` defined as the following:\r\n````\r\n    id BIGINT NOT NULL CONSTRAINT PK_table_A PRIMARY KEY \r\n       DEFAULT (NEXT VALUE FOR sequence_table_a),\r\n````\r\nI can not change this. In my Spring Boot application if I put `EntityA` with generated value or sequence generator on id, then Hibernate will not let me persist the new objects because SQL definition sees that I am trying to manually add id.  \r\nThe _exception_ is \r\n````\r\nSQL Error: 544, SQLState: S0001\r\n2023-10-17 14:21:56.531 ERROR 35652 --- [   scheduling-1]\r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : \r\n    Cannot insert explicit value for identity column in table &#39;table_a&#39; \r\n    when IDENTITY_INSERT is set to OFF.\r\n````\r\nIf I remove the generated sequence annotations and just let `@Id`, Hibernate tells me that I need to manually set values (it does not see the default setting on the table).  \r\n\r\nHow do I fix this? ","title":"How to disable Hibernate checking for id value","body":"<p>I have a table A that has <code>id</code> defined as the following:</p>\n<pre><code>    id BIGINT NOT NULL CONSTRAINT PK_table_A PRIMARY KEY \n       DEFAULT (NEXT VALUE FOR sequence_table_a),\n</code></pre>\n<p>I can not change this. In my Spring Boot application if I put <code>EntityA</code> with generated value or sequence generator on id, then Hibernate will not let me persist the new objects because SQL definition sees that I am trying to manually add id.<br />\nThe <em>exception</em> is</p>\n<pre><code>SQL Error: 544, SQLState: S0001\n2023-10-17 14:21:56.531 ERROR 35652 --- [   scheduling-1]\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : \n    Cannot insert explicit value for identity column in table 'table_a' \n    when IDENTITY_INSERT is set to OFF.\n</code></pre>\n<p>If I remove the generated sequence annotations and just let <code>@Id</code>, Hibernate tells me that I need to manually set values (it does not see the default setting on the table).</p>\n<p>How do I fix this?</p>\n"},{"tags":["java","spring-boot","jms","activemq-artemis","messagebroker"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1697550011,"post_id":77308814,"comment_id":136291969,"body_markdown":"What you&#39;re seeing is the expected behavior. See related questions [here](https://stackoverflow.com/questions/59089777/jms-message-lost-when-receiver-is-not-available) and [here](https://stackoverflow.com/questions/21073479/activemq-with-jms-topic-some-messages-not-dequeued-by-consumer) and [here](https://stackoverflow.com/questions/12114462/dropping-messages-when-listening-to-a-jms-topic).","body":"What you&#39;re seeing is the expected behavior. See related questions <a href=\"https://stackoverflow.com/questions/59089777/jms-message-lost-when-receiver-is-not-available\">here</a> and <a href=\"https://stackoverflow.com/questions/21073479/activemq-with-jms-topic-some-messages-not-dequeued-by-consumer\">here</a> and <a href=\"https://stackoverflow.com/questions/12114462/dropping-messages-when-listening-to-a-jms-topic\">here</a>."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1697561768,"post_id":77308814,"comment_id":136294329,"body_markdown":"If your subscriber is active then when a message is sent to the topic it will be immediately dispatched to the subscriber and consumed which means you won&#39;t see it on the broker&#39;s web console. If you disable the subscriber, as you did with the queue, then the message will simply be discarded in accordance with JMS topic (i.e. pub/sub) semantics. Therefore, either way you won&#39;t be able to see the message via the broker&#39;s web console unless you configure something like a non-exclusive divert like Domenico mentioned in his answer. Again, as far as I can tell, you&#39;re seeing the expected behavior.","body":"If your subscriber is active then when a message is sent to the topic it will be immediately dispatched to the subscriber and consumed which means you won&#39;t see it on the broker&#39;s web console. If you disable the subscriber, as you did with the queue, then the message will simply be discarded in accordance with JMS topic (i.e. pub/sub) semantics. Therefore, either way you won&#39;t be able to see the message via the broker&#39;s web console unless you configure something like a non-exclusive divert like Domenico mentioned in his answer. Again, as far as I can tell, you&#39;re seeing the expected behavior."}],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697552532,"creation_date":1697546865,"answer_id":77309135,"question_id":77308814,"body_markdown":"The property `spring.jms.pub-sub-domain` configure how JmsTemplate and JmsMessageListenerContainer work, see the [doc][1].\r\n\r\nWhen `spring.jms.pub-sub-domain= false` the destination is a JMS Queue so any sent messages can be received at any time.\r\n\r\nWhen `spring.jms.pub-sub-domain= true` the destination is a JMS Topic so any sent messages can be received only from the current subscribers. This explains why you don&#39;t see the messages on the console if there are no subscribers.\r\n\r\nWhen a messages is received by client it is removed from the server queue. You could use a [non exclusive divert][2] to send a copy of a message to another address when it is received.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/messaging-jms/\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/latest/diverts.html#non-exclusive-divert","title":"Cannot see Pub/Sub message on ActiveMQ Artemis console","body":"<p>The property <code>spring.jms.pub-sub-domain</code> configure how JmsTemplate and JmsMessageListenerContainer work, see the <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"nofollow noreferrer\">doc</a>.</p>\n<p>When <code>spring.jms.pub-sub-domain= false</code> the destination is a JMS Queue so any sent messages can be received at any time.</p>\n<p>When <code>spring.jms.pub-sub-domain= true</code> the destination is a JMS Topic so any sent messages can be received only from the current subscribers. This explains why you don't see the messages on the console if there are no subscribers.</p>\n<p>When a messages is received by client it is removed from the server queue. You could use a <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/diverts.html#non-exclusive-divert\" rel=\"nofollow noreferrer\">non exclusive divert</a> to send a copy of a message to another address when it is received.</p>\n"}],"owner":{"account_id":14711026,"reputation":633,"user_id":10624378,"display_name":"CoderJammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77309135,"answer_count":1,"score":0,"last_activity_date":1697553872,"creation_date":1697544085,"question_id":77308814,"body_markdown":"I&#39;m studying JMS using the book *Spring Boot Messaging* by Felipe Gutierrez (2017).\r\n\r\nIt illustrates several patterns about message driven programming but, arriving at brokers, it explain Java / Spring Boot messaging with Apache ActiveMQ.\r\n\r\nIt says that the code explained will work with any other broker so I installed ActiveMQ Artemis.\r\n\r\nI have a very simpe source code, the *config*:\r\n```java\r\n@Configuration\r\npublic class JmsConfig {\r\n\r\n  @Bean\r\n  public MessageConverter jacksonJmsMessageConverter() {\r\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    converter.setTargetType(MessageType.TEXT);\r\n    converter.setTypeIdPropertyName(&quot;_class_&quot;); // This value can be anything, it will save the JSON class name and it must be the same for sender/receiver\r\n    return converter;\r\n  }\r\n}\r\n```\r\na *Sender* class:\r\n```java\r\n@Component\r\npublic class Sender  {\r\n\r\n  private final JmsTemplate jmsTemplate;\r\n\r\n  public Sender(JmsTemplate jmsTemplate){\r\n    this.jmsTemplate = jmsTemplate;\r\n  }\r\n\r\n  public void sendMessage(String destination, String message){\r\n    this.jmsTemplate.convertAndSend(&quot;test-destination&quot;, message);\r\n  } \r\n}\r\n```\r\nand a *Receiver*:\r\n```java\r\n....\r\n@JmsListener(destination = &quot;test-destinaton&quot;)\r\npublic void consumeTopicOne(String message) {\r\n  log.info(&quot;Received Message Queue/Topic1: &quot; + message);\r\n}\r\n....\r\n```\r\nThe `application.properties` file is as follows:\r\n```\r\nspring.artemis.mode=native\r\nspring.artemis.embedded.enabled=false\r\nspring.artemis.broker-url=tcp://localhost:61616\r\nspring.artemis.user=admin\r\nspring.artemis.password=admin\r\n\r\nspring.jms.pub-sub-domain=false\r\n```\r\nN.B.: The main class doesn&#39;t have the `@EnableJms` annotation.\r\n\r\nNow, I manage to send a message using &quot;point to point&quot; pattern (queue) and see it in my console **just if I commented out the receiver**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I click on message count I can see the text (with also other option). But if I try to switch to Publisher/Subscriber method, setting true this property (according to the book):\r\n```\r\nspring.jms.pub-sub-domain=true\r\n```\r\nThe application runs fine and the message will be sent and received but there is no way for me to see it on the console! Even if I commented out the receiver (as I did for the queue) I still cant see the message sent.\r\n\r\nTherefore, speaking about the *queue*: why I see the message only if it isn&#39;t received yet? It may be useful to have a history of sent messages..\r\n\r\nSpeaking about the *Pub/Sub*: Why I can&#39;t see nothing on my consolle regardless of whether the message is consumed or not?\r\n \r\nAbout the book.. maybe I have to change it?\r\n\r\n\r\n----------------------------------------------------\r\nThanks for all your replies.\r\n\r\nI check the discussions @justin-bertram posted to me and I read:\r\n\r\n&gt; Since you&#39;re sending your message to a JMS topic you will be subject\r\n&gt; to publish/subscribe semantics. Publish/subscribe semantics dictate\r\n&gt; that messages are only placed in valid subscriptions. When your\r\n&gt; subscriber is offline it has no valid subscription on the broker to\r\n&gt; receive the messages therefore it will miss the messages sent to it\r\n&gt; when it is offline.\r\n&gt; \r\n&gt; You can use a durable subscriber to receive messages when the\r\n&gt; subscriber is offline\r\n\r\nIsn&#39;t this a valid subscription:\r\n\r\n    @JmsListener(destination = &quot;test-destinaton&quot;)\r\n    public void consumeTopicOne(String message) {\r\n       log.info(&quot;Received Message Queue/Topic1: &quot; + message);\r\n    }\r\n\r\nThe example is taken directly from the book and I found others quite clear and very similar to mine, [here][2] for example.\r\n\r\nI will try with a client server architecture but It seems quite strange that I can&#39;t put (for example purpose) Publisher and Subscribers in same project.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FxOxi.jpg\r\n  [2]: https://gist.github.com/NrktSLL/76132a04d05ceeb567977315a35bf788","title":"Cannot see Pub/Sub message on ActiveMQ Artemis console","body":"<p>I'm studying JMS using the book <em>Spring Boot Messaging</em> by Felipe Gutierrez (2017).</p>\n<p>It illustrates several patterns about message driven programming but, arriving at brokers, it explain Java / Spring Boot messaging with Apache ActiveMQ.</p>\n<p>It says that the code explained will work with any other broker so I installed ActiveMQ Artemis.</p>\n<p>I have a very simpe source code, the <em>config</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JmsConfig {\n\n  @Bean\n  public MessageConverter jacksonJmsMessageConverter() {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setTargetType(MessageType.TEXT);\n    converter.setTypeIdPropertyName(&quot;_class_&quot;); // This value can be anything, it will save the JSON class name and it must be the same for sender/receiver\n    return converter;\n  }\n}\n</code></pre>\n<p>a <em>Sender</em> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Sender  {\n\n  private final JmsTemplate jmsTemplate;\n\n  public Sender(JmsTemplate jmsTemplate){\n    this.jmsTemplate = jmsTemplate;\n  }\n\n  public void sendMessage(String destination, String message){\n    this.jmsTemplate.convertAndSend(&quot;test-destination&quot;, message);\n  } \n}\n</code></pre>\n<p>and a <em>Receiver</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>....\n@JmsListener(destination = &quot;test-destinaton&quot;)\npublic void consumeTopicOne(String message) {\n  log.info(&quot;Received Message Queue/Topic1: &quot; + message);\n}\n....\n</code></pre>\n<p>The <code>application.properties</code> file is as follows:</p>\n<pre><code>spring.artemis.mode=native\nspring.artemis.embedded.enabled=false\nspring.artemis.broker-url=tcp://localhost:61616\nspring.artemis.user=admin\nspring.artemis.password=admin\n\nspring.jms.pub-sub-domain=false\n</code></pre>\n<p>N.B.: The main class doesn't have the <code>@EnableJms</code> annotation.</p>\n<p>Now, I manage to send a message using &quot;point to point&quot; pattern (queue) and see it in my console <strong>just if I commented out the receiver</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/FxOxi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FxOxi.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If I click on message count I can see the text (with also other option). But if I try to switch to Publisher/Subscriber method, setting true this property (according to the book):</p>\n<pre><code>spring.jms.pub-sub-domain=true\n</code></pre>\n<p>The application runs fine and the message will be sent and received but there is no way for me to see it on the console! Even if I commented out the receiver (as I did for the queue) I still cant see the message sent.</p>\n<p>Therefore, speaking about the <em>queue</em>: why I see the message only if it isn't received yet? It may be useful to have a history of sent messages..</p>\n<p>Speaking about the <em>Pub/Sub</em>: Why I can't see nothing on my consolle regardless of whether the message is consumed or not?</p>\n<p>About the book.. maybe I have to change it?</p>\n<hr />\n<p>Thanks for all your replies.</p>\n<p>I check the discussions @justin-bertram posted to me and I read:</p>\n<blockquote>\n<p>Since you're sending your message to a JMS topic you will be subject\nto publish/subscribe semantics. Publish/subscribe semantics dictate\nthat messages are only placed in valid subscriptions. When your\nsubscriber is offline it has no valid subscription on the broker to\nreceive the messages therefore it will miss the messages sent to it\nwhen it is offline.</p>\n<p>You can use a durable subscriber to receive messages when the\nsubscriber is offline</p>\n</blockquote>\n<p>Isn't this a valid subscription:</p>\n<pre><code>@JmsListener(destination = &quot;test-destinaton&quot;)\npublic void consumeTopicOne(String message) {\n   log.info(&quot;Received Message Queue/Topic1: &quot; + message);\n}\n</code></pre>\n<p>The example is taken directly from the book and I found others quite clear and very similar to mine, <a href=\"https://gist.github.com/NrktSLL/76132a04d05ceeb567977315a35bf788\" rel=\"nofollow noreferrer\">here</a> for example.</p>\n<p>I will try with a client server architecture but It seems quite strange that I can't put (for example purpose) Publisher and Subscribers in same project.</p>\n"},{"tags":["java","url","uri","sftp","apache-commons-vfs"],"comments":[{"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":2,"creation_date":1428588861,"post_id":29539422,"comment_id":47233768,"body_markdown":"Does your password contain any symbols?","body":"Does your password contain any symbols?"},{"owner":{"account_id":5765761,"reputation":91,"user_id":4550775,"display_name":"Karan Patel"},"score":2,"creation_date":1428656600,"post_id":29539422,"comment_id":47265098,"body_markdown":"Yes it contain special character @","body":"Yes it contain special character @"}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1566831388,"creation_date":1428667807,"answer_id":29561086,"question_id":29539422,"body_markdown":"If your password contains `@`, the URL parser considers it a userinfo/hostname separator. It then scans for a hostname, stopping on the next `@`, which separates the actual hostname. Next it checks that the first character after the hostname is `/`, what it is not, as it is `@`. The logic does not make much sense to me, but explains the confusing error message\r\n\r\n&gt; Expecting / to follow the hostname in URI\r\n\r\nBut in any case, even if the logic was better, you cannot have a literal `@` in your password or username. You have to URL-encode it to `%40`.\r\n\r\nIf your username/password is variable, you should better encode it generically using the [`UriParser.encode`](https://commons.apache.org/proper/commons-vfs/commons-vfs2/apidocs/org/apache/commons/vfs2/provider/UriParser.html#encode-java.lang.String-):\r\n\r\n    public static String encode(String decodedStr)\r\n\r\nNote that the comment in the documentation is wrong. It says the method *&quot;Removes %nn encodings from a string.&quot;*, while it actually adds them.","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>If your password contains <code>@</code>, the URL parser considers it a userinfo/hostname separator. It then scans for a hostname, stopping on the next <code>@</code>, which separates the actual hostname. Next it checks that the first character after the hostname is <code>/</code>, what it is not, as it is <code>@</code>. The logic does not make much sense to me, but explains the confusing error message</p>\n\n<blockquote>\n  <p>Expecting / to follow the hostname in URI</p>\n</blockquote>\n\n<p>But in any case, even if the logic was better, you cannot have a literal <code>@</code> in your password or username. You have to URL-encode it to <code>%40</code>.</p>\n\n<p>If your username/password is variable, you should better encode it generically using the <a href=\"https://commons.apache.org/proper/commons-vfs/commons-vfs2/apidocs/org/apache/commons/vfs2/provider/UriParser.html#encode-java.lang.String-\" rel=\"nofollow noreferrer\"><code>UriParser.encode</code></a>:</p>\n\n<pre><code>public static String encode(String decodedStr)\n</code></pre>\n\n<p>Note that the comment in the documentation is wrong. It says the method <em>\"Removes %nn encodings from a string.\"</em>, while it actually adds them.</p>\n"},{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1428690454,"creation_date":1428690454,"answer_id":29568361,"question_id":29539422,"body_markdown":"As @martin-prikryl&#39;s answer states, certain characters can&#39;t appear in their raw form in the username and password fields, or else they will make the URI invalid.\r\n\r\nThe root cause here is that you&#39;re using simple string concatenation to construct the URI:\r\n\r\n    String sftpUri= &quot;sftp://&quot; + userId + &quot;:&quot; + password + &quot;@&quot; + serverAddress + &quot;/&quot;\r\n    + remoteDirectory+ fileToFTP;\r\n\r\nJava has [URI][1] and [URL][2] classes which can be used to construct URIs and URLs from individual fields. They will handle encoding each field properly. You should use one of them instead of rolling your own logic:\r\n\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    \r\n    public class URITest {\r\n    \r\n        public static void main(String[] args) throws URISyntaxException {\r\n            String user = &quot;user&quot;;\r\n            String passwd = &quot;p@ss/ord&quot;;\r\n            String host = &quot;example.com&quot;;\r\n            String path = &quot;/some/path&quot;;\r\n            \r\n            String userInfo = user + &quot;:&quot; + passwd;\r\n            URI uri = new URI(&quot;sftp&quot;, userInfo, host, -1,\r\n                    path, null, null);\r\n            System.out.println(uri.toString());\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    sftp://user:p%40ss%2Ford@example.com/some/path\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URI.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/URL.html","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>As @martin-prikryl's answer states, certain characters can't appear in their raw form in the username and password fields, or else they will make the URI invalid.</p>\n\n<p>The root cause here is that you're using simple string concatenation to construct the URI:</p>\n\n<pre><code>String sftpUri= \"sftp://\" + userId + \":\" + password + \"@\" + serverAddress + \"/\"\n+ remoteDirectory+ fileToFTP;\n</code></pre>\n\n<p>Java has <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URI.html\" rel=\"noreferrer\">URI</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"noreferrer\">URL</a> classes which can be used to construct URIs and URLs from individual fields. They will handle encoding each field properly. You should use one of them instead of rolling your own logic:</p>\n\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\n\npublic class URITest {\n\n    public static void main(String[] args) throws URISyntaxException {\n        String user = \"user\";\n        String passwd = \"p@ss/ord\";\n        String host = \"example.com\";\n        String path = \"/some/path\";\n\n        String userInfo = user + \":\" + passwd;\n        URI uri = new URI(\"sftp\", userInfo, host, -1,\n                path, null, null);\n        System.out.println(uri.toString());\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>sftp://user:p%40ss%2Ford@example.com/some/path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20207745,"reputation":1,"user_id":14821651,"display_name":"Muthamilselvan V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697553810,"creation_date":1697483808,"answer_id":77304457,"question_id":29539422,"body_markdown":"I got this error while trying to connect file connector in *WSO2 EI 6.6.0*. \r\nFirst I tried the below one and got the error\r\n\r\n```json\r\n{\r\n    &quot;source&quot;: &quot;ftp://username:Pass@word@host/home/In/Test.pdf&quot;\r\n}\r\n```\r\n\r\nThen I passed `@` as `%40` in password then it is working fine. And the issue is because of `@` is also using to separate hostname so if we pass `@` in password this is taking as host separator\r\n\r\nPlease use like the below:\r\n\r\n```json\r\n{ \r\n    &quot;source&quot;: &quot;ftp://username:Pass%40word@host/home/In/Test.pdf&quot;\r\n}\r\n```","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>I got this error while trying to connect file connector in <em>WSO2 EI 6.6.0</em>.\nFirst I tried the below one and got the error</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;source&quot;: &quot;ftp://username:Pass@word@host/home/In/Test.pdf&quot;\n}\n</code></pre>\n<p>Then I passed <code>@</code> as <code>%40</code> in password then it is working fine. And the issue is because of <code>@</code> is also using to separate hostname so if we pass <code>@</code> in password this is taking as host separator</p>\n<p>Please use like the below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n    &quot;source&quot;: &quot;ftp://username:Pass%40word@host/home/In/Test.pdf&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":5765761,"reputation":91,"user_id":4550775,"display_name":"Karan Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9043,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1697553810,"creation_date":1428584976,"question_id":29539422,"body_markdown":"I am trying to copy local system file to server\r\n\r\n    package classes;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    import org.apache.commons.vfs.FileObject;\r\n    import org.apache.commons.vfs.FileSystemOptions;\r\n    import org.apache.commons.vfs.Selectors;\r\n    import org.apache.commons.vfs.impl.StandardFileSystemManager;\r\n    import org.apache.commons.vfs.provider.sftp.SftpFileSystemConfigBuilder;\r\n    public class SendMyFiles {\r\n     public static void main(String[] args) {\r\n      SendMyFiles sendMyFiles = new SendMyFiles();\r\n      String fileToFTP = &quot;zcol_30092013.xls&quot;;\r\n      sendMyFiles.startFTP(fileToFTP);\r\n     }\r\n     public boolean startFTP(String fileToFTP){\r\n      Properties prop = new Properties();\r\n      InputStream in = getClass().getResourceAsStream(&quot;/config.properties&quot;);\r\n      StandardFileSystemManager manager = new StandardFileSystemManager();\r\n      try {\r\n       prop.load(in);\r\n       String serverAddress = prop.getProperty(&quot;serverAddress&quot;).trim();\r\n       String userId = prop.getProperty(&quot;userId&quot;).trim();\r\n       String password = prop.getProperty(&quot;password&quot;).trim();\r\n       String remoteDirectory = prop.getProperty(&quot;remoteDirectory&quot;).trim();\r\n       String localDirectory = prop.getProperty(&quot;localDirectory&quot;).trim();\r\n       System.out.println(&quot;Cheking values &quot;+serverAddress+&quot; &quot;+userId+&quot; &quot;+password+&quot; &quot;+remoteDirectory+&quot; &quot;+localDirectory);\r\n       //check if the file exists\r\n       String filepath = localDirectory;\r\n       System.out.println(&quot;filepath &quot;+filepath);\r\n       File file = new File(filepath);\r\n       System.out.println(file+&quot; &quot;+file.exists());\r\n       if (!file.exists())\r\n        throw new RuntimeException(&quot;Error. Local file not found&quot;);\r\n       //Initializes the file manager\r\n       manager.init();\r\n       //Setup our SFTP configuration\r\n       FileSystemOptions opts = new FileSystemOptions();\r\n       SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\r\n         opts, &quot;no&quot;);\r\n       SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\r\n       SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\r\n       //Create the SFTP URI using the host name, userid, password,  remote path and file name\r\n        String sftpUri= &quot;sftp://&quot; + userId + &quot;:&quot; + password + &quot;@&quot; + serverAddress + &quot;/&quot;\r\n        + remoteDirectory+ fileToFTP;\r\n       // Create local file object\r\n        System.out.println(&quot;sftp uri &quot;+sftpUri);\r\n       System.out.println(file.getAbsolutePath());\r\n       FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n       // Create remote file object\r\n       FileObject remoteFile = manager.resolveFile(sftpUri, opts);\r\n       // Copy local file to sftp server\r\n       remoteFile.copyFrom(localFile, Selectors.SELECT_SELF);\r\n       System.out.println(&quot;File upload successful&quot;);\r\n      }\r\n      catch (Exception ex) {\r\n       ex.printStackTrace();\r\n       return false;\r\n      }\r\n      finally {\r\n       manager.close();\r\n      }\r\n      return true;\r\n     } \r\n    }\r\n\r\nWhile executing the code getting below exception:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.apache.commons.vfs.FileSystemException: Invalid absolute URI &quot;sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls&quot;.\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:62)\r\n    \tat org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)\r\n    \tat org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)\r\n    \tat classes.SendMyFiles.startFTP(SendMyFiles.java:67)\r\n    \tat classes.SendMyFiles.main(SendMyFiles.java:23)\r\n    Caused by: org.apache.commons.vfs.FileSystemException: Expecting / to follow the hostname in URI &quot;sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls&quot;.\r\n    \tat org.apache.commons.vfs.provider.HostFileNameParser.extractToPath(HostFileNameParser.java:155)\r\n    \tat org.apache.commons.vfs.provider.URLFileNameParser.parseUri(URLFileNameParser.java:49)\r\n    \tat org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:188)\r\n    \tat org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)\r\n    \t... 4 more\r\n\r\ngetting error at line\r\n\r\n    FileObject localFile = manager.resolveFile(file.getAbsolutePath());\r\n\r\nThe password contains special character `@`.\r\n","title":"&quot;Expecting / to follow the hostname in URI&quot; exception when password contains @","body":"<p>I am trying to copy local system file to server</p>\n\n<pre><code>package classes;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.Properties;\nimport org.apache.commons.vfs.FileObject;\nimport org.apache.commons.vfs.FileSystemOptions;\nimport org.apache.commons.vfs.Selectors;\nimport org.apache.commons.vfs.impl.StandardFileSystemManager;\nimport org.apache.commons.vfs.provider.sftp.SftpFileSystemConfigBuilder;\npublic class SendMyFiles {\n public static void main(String[] args) {\n  SendMyFiles sendMyFiles = new SendMyFiles();\n  String fileToFTP = \"zcol_30092013.xls\";\n  sendMyFiles.startFTP(fileToFTP);\n }\n public boolean startFTP(String fileToFTP){\n  Properties prop = new Properties();\n  InputStream in = getClass().getResourceAsStream(\"/config.properties\");\n  StandardFileSystemManager manager = new StandardFileSystemManager();\n  try {\n   prop.load(in);\n   String serverAddress = prop.getProperty(\"serverAddress\").trim();\n   String userId = prop.getProperty(\"userId\").trim();\n   String password = prop.getProperty(\"password\").trim();\n   String remoteDirectory = prop.getProperty(\"remoteDirectory\").trim();\n   String localDirectory = prop.getProperty(\"localDirectory\").trim();\n   System.out.println(\"Cheking values \"+serverAddress+\" \"+userId+\" \"+password+\" \"+remoteDirectory+\" \"+localDirectory);\n   //check if the file exists\n   String filepath = localDirectory;\n   System.out.println(\"filepath \"+filepath);\n   File file = new File(filepath);\n   System.out.println(file+\" \"+file.exists());\n   if (!file.exists())\n    throw new RuntimeException(\"Error. Local file not found\");\n   //Initializes the file manager\n   manager.init();\n   //Setup our SFTP configuration\n   FileSystemOptions opts = new FileSystemOptions();\n   SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(\n     opts, \"no\");\n   SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts, true);\n   SftpFileSystemConfigBuilder.getInstance().setTimeout(opts, 10000);\n   //Create the SFTP URI using the host name, userid, password,  remote path and file name\n    String sftpUri= \"sftp://\" + userId + \":\" + password + \"@\" + serverAddress + \"/\"\n    + remoteDirectory+ fileToFTP;\n   // Create local file object\n    System.out.println(\"sftp uri \"+sftpUri);\n   System.out.println(file.getAbsolutePath());\n   FileObject localFile = manager.resolveFile(file.getAbsolutePath());\n   // Create remote file object\n   FileObject remoteFile = manager.resolveFile(sftpUri, opts);\n   // Copy local file to sftp server\n   remoteFile.copyFrom(localFile, Selectors.SELECT_SELF);\n   System.out.println(\"File upload successful\");\n  }\n  catch (Exception ex) {\n   ex.printStackTrace();\n   return false;\n  }\n  finally {\n   manager.close();\n  }\n  return true;\n } \n}\n</code></pre>\n\n<p>While executing the code getting below exception:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.commons.vfs.FileSystemException: Invalid absolute URI \"sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls\".\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:62)\n    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:692)\n    at org.apache.commons.vfs.impl.DefaultFileSystemManager.resolveFile(DefaultFileSystemManager.java:620)\n    at classes.SendMyFiles.startFTP(SendMyFiles.java:67)\n    at classes.SendMyFiles.main(SendMyFiles.java:23)\nCaused by: org.apache.commons.vfs.FileSystemException: Expecting / to follow the hostname in URI \"sftp://vmsorbit:***@172.16.16.148/universe/files/zcol_30092013.xls\".\n    at org.apache.commons.vfs.provider.HostFileNameParser.extractToPath(HostFileNameParser.java:155)\n    at org.apache.commons.vfs.provider.URLFileNameParser.parseUri(URLFileNameParser.java:49)\n    at org.apache.commons.vfs.provider.AbstractFileProvider.parseUri(AbstractFileProvider.java:188)\n    at org.apache.commons.vfs.provider.AbstractOriginatingFileProvider.findFile(AbstractOriginatingFileProvider.java:58)\n    ... 4 more\n</code></pre>\n\n<p>getting error at line</p>\n\n<pre><code>FileObject localFile = manager.resolveFile(file.getAbsolutePath());\n</code></pre>\n\n<p>The password contains special character <code>@</code>.</p>\n"},{"tags":["java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697553686,"creation_date":1697553686,"answer_id":77309975,"question_id":77308750,"body_markdown":"&gt;Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?\r\n\r\nBoth are acceptable.  If it’s part of the business object class, it needs to be a static method.\r\n\r\n&gt;…does the object become a factory itself\r\n\r\nNo.  Think of real-world factories:  a car is not a factory and does not make more cars.  A can of soup does not make more cans of soup.\r\n\r\nFor examples of *factory methods,* look at [NumberFormat.getNumberInstance](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html#getNumberInstance()) and [DateFormat.getDateTimeInstance](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/DateFormat.html#getDateTimeInstance()).  Factory methods are static methods which may be present on the same class, but because they are static, they are not methods of any actual object.\r\n\r\nSometimes factory logic is complex enough that it requires a separate *factory class.*  Examples of this are the [DocumentBuilderFactory](https://docs.oracle.com/en/java/javase/21/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html) and [DriverManager](https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/DriverManager.html).\r\n\r\nIn nearly all cases, the objects produced by the factory do not have factory methods for creating the same type of object.&lt;sup&gt;†&lt;/sup&gt;\r\n\r\n* NumberFormat.getNumberInstance is a static method which creates a NumberFormat, but a NumberFormat object is not capable of producing NumberFormats.\r\n* DateFormat.getDateTimeInstance is a static method which creates a DateFormat, but a DateFormat object is not capable of producing DateFormats.\r\n* A DocumentBuilderFactory is an object which creates DocumentBuilders, but DocumentBuilder objects are not capable of producing more DocumentBuilders.\r\n* DriverManager.getConnection creates Connection objects, but Connection objects are not capable of producing more Connection objects.\r\n\r\n&gt;In the first case I don&#39;t see the advantage of a factory method over a simple factory object where I can e.g. `animalFactory.createDog()`.\r\n\r\nHaving factory methods as static methods of the target class is convenient.  They’re easier for new developers to find, since it doesn’t require knowing to look for a separate factory class.  And it makes the overall public API a little more compact.  Other than those things, there isn’t a significant advantage.\r\n\r\n&lt;sup&gt;† There are some cases where this isn’t true;  *immutable* objects may have non-static methods which produce different immutable objects, like String.replace, LocalDate.plusDays, and URI.resolve.  These aren’t usually considered factory methods, but they’re similar.&lt;/sup&gt;\r\n","title":"Which class implements the factory method?","body":"<blockquote>\n<p>Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?</p>\n</blockquote>\n<p>Both are acceptable.  If it’s part of the business object class, it needs to be a static method.</p>\n<blockquote>\n<p>…does the object become a factory itself</p>\n</blockquote>\n<p>No.  Think of real-world factories:  a car is not a factory and does not make more cars.  A can of soup does not make more cans of soup.</p>\n<p>For examples of <em>factory methods,</em> look at <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/NumberFormat.html#getNumberInstance()\" rel=\"nofollow noreferrer\">NumberFormat.getNumberInstance</a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/DateFormat.html#getDateTimeInstance()\" rel=\"nofollow noreferrer\">DateFormat.getDateTimeInstance</a>.  Factory methods are static methods which may be present on the same class, but because they are static, they are not methods of any actual object.</p>\n<p>Sometimes factory logic is complex enough that it requires a separate <em>factory class.</em>  Examples of this are the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\">DocumentBuilderFactory</a> and <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/DriverManager.html\" rel=\"nofollow noreferrer\">DriverManager</a>.</p>\n<p>In nearly all cases, the objects produced by the factory do not have factory methods for creating the same type of object.<sup>†</sup></p>\n<ul>\n<li>NumberFormat.getNumberInstance is a static method which creates a NumberFormat, but a NumberFormat object is not capable of producing NumberFormats.</li>\n<li>DateFormat.getDateTimeInstance is a static method which creates a DateFormat, but a DateFormat object is not capable of producing DateFormats.</li>\n<li>A DocumentBuilderFactory is an object which creates DocumentBuilders, but DocumentBuilder objects are not capable of producing more DocumentBuilders.</li>\n<li>DriverManager.getConnection creates Connection objects, but Connection objects are not capable of producing more Connection objects.</li>\n</ul>\n<blockquote>\n<p>In the first case I don't see the advantage of a factory method over a simple factory object where I can e.g. <code>animalFactory.createDog()</code>.</p>\n</blockquote>\n<p>Having factory methods as static methods of the target class is convenient.  They’re easier for new developers to find, since it doesn’t require knowing to look for a separate factory class.  And it makes the overall public API a little more compact.  Other than those things, there isn’t a significant advantage.</p>\n<p><sup>† There are some cases where this isn’t true;  <em>immutable</em> objects may have non-static methods which produce different immutable objects, like String.replace, LocalDate.plusDays, and URI.resolve.  These aren’t usually considered factory methods, but they’re similar.</sup></p>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697553686,"creation_date":1697543464,"question_id":77308750,"body_markdown":"Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?\r\n\r\nBasically, will I need to inject a factory object from where I create objects or does the object become a factory itself and I simply call the implemented method to create an object?\r\n\r\nIn the first case I don&#39;t see the advantage of a factory method over a simple factory object where I can e.g. `animalFactory.createDog()`.","title":"Which class implements the factory method?","body":"<p>Is the factory method in the factory method pattern part of a dedicated factory object or part of the business object where I want to use the method?</p>\n<p>Basically, will I need to inject a factory object from where I create objects or does the object become a factory itself and I simply call the implemented method to create an object?</p>\n<p>In the first case I don't see the advantage of a factory method over a simple factory object where I can e.g. <code>animalFactory.createDog()</code>.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1697549421,"post_id":77309344,"comment_id":136291838,"body_markdown":"Have you tried solving it? Are you stuck on your attempt? If so, show your code and we can try to help.","body":"Have you tried solving it? Are you stuck on your attempt? If so, show your code and we can try to help."},{"owner":{"account_id":24538769,"reputation":29,"user_id":18449424,"display_name":"IPCZ"},"score":0,"creation_date":1697551200,"post_id":77309344,"comment_id":136292215,"body_markdown":"I tried solving it but after a while I realized I didn&#39;t know what I was doing","body":"I tried solving it but after a while I realized I didn&#39;t know what I was doing"}],"answers":[{"tags":[],"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697553585,"creation_date":1697553585,"answer_id":77309968,"question_id":77309344,"body_markdown":"It is not that difficult. Like always in programming you need to have an idea what you want to do. Lets look at your example.\r\n\r\nYou start with the last number of the first row of your matrix. It is the 3.\r\n**Rotating by 45&#176; means, you go down one row and right one column.** This is out of bounds and the first line is done (you can add a line-feed).\r\n\r\nThen you move to the next number in the first row which is before 3. That is the 2.\r\nYou rotate as written above and get the 6. This is the last number of this line and you add the line-feed).\r\n\r\nYou iterate till the first number of the first row and then you take all starting numbers of the rows and do the same like above. This gives us for the third line the numbers 1, 5 and 9.\r\n\r\nA code to solve this could be like this:\r\n\r\n    static int[][] matrix;\r\n    \r\n    public static void printLine(Point p) {\r\n        // this solves the one row down, one column right algorithm\r\n        try {\r\n            for (int i3=p.x; i3&lt;matrix[0].length; i3++) {\r\n                System.out.print(matrix[i3][p.y++]);\r\n            }\r\n        } catch(ArrayIndexOutOfBoundsException ex) {}   // stops, when last number in row is reached\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        matrix = new int[][] { {1,2,3}, {4,5,6}, {7,8,9} };\r\n    \r\n        // the two iterations\r\n\r\n        for (int i1=matrix[0].length-1; i1&gt;0; i1--) {\r\n            printLine(new Point(0, i1));\r\n        }\r\n        for (int i2=0; i2&lt;matrix.length; i2++) {\r\n            printLine(new Point(i2,0));\r\n        }        \r\n    }\r\n\r\nPS: Surely we could calculate the bounds of the array correctly and without try-catch, but you get the idea behind it.","title":"How to rotate a 2D Array anticlockwise by 45&#186; Java","body":"<p>It is not that difficult. Like always in programming you need to have an idea what you want to do. Lets look at your example.</p>\n<p>You start with the last number of the first row of your matrix. It is the 3.\n<strong>Rotating by 45° means, you go down one row and right one column.</strong> This is out of bounds and the first line is done (you can add a line-feed).</p>\n<p>Then you move to the next number in the first row which is before 3. That is the 2.\nYou rotate as written above and get the 6. This is the last number of this line and you add the line-feed).</p>\n<p>You iterate till the first number of the first row and then you take all starting numbers of the rows and do the same like above. This gives us for the third line the numbers 1, 5 and 9.</p>\n<p>A code to solve this could be like this:</p>\n<pre><code>static int[][] matrix;\n\npublic static void printLine(Point p) {\n    // this solves the one row down, one column right algorithm\n    try {\n        for (int i3=p.x; i3&lt;matrix[0].length; i3++) {\n            System.out.print(matrix[i3][p.y++]);\n        }\n    } catch(ArrayIndexOutOfBoundsException ex) {}   // stops, when last number in row is reached\n    System.out.println(&quot;&quot;);\n}\n\npublic static void main(String[] args) {\n    matrix = new int[][] { {1,2,3}, {4,5,6}, {7,8,9} };\n\n    // the two iterations\n\n    for (int i1=matrix[0].length-1; i1&gt;0; i1--) {\n        printLine(new Point(0, i1));\n    }\n    for (int i2=0; i2&lt;matrix.length; i2++) {\n        printLine(new Point(i2,0));\n    }        \n}\n</code></pre>\n<p>PS: Surely we could calculate the bounds of the array correctly and without try-catch, but you get the idea behind it.</p>\n"}],"owner":{"account_id":24538769,"reputation":29,"user_id":18449424,"display_name":"IPCZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77309968,"answer_count":1,"score":-1,"last_activity_date":1697553585,"creation_date":1697548656,"question_id":77309344,"body_markdown":"I want to rotate a 2d array by 45&#186; so I can be able to split it and run the split array on 2 threads. Basically the input looks like this \r\n\r\n1 2 3  \r\n4 5 6  \r\n7 8 9  \r\n\r\nAnd the output should look like this  \r\n3  \r\n2 6  \r\n1 5 9  \r\n4 8  \r\n7 ","title":"How to rotate a 2D Array anticlockwise by 45&#186; Java","body":"<p>I want to rotate a 2d array by 45º so I can be able to split it and run the split array on 2 threads. Basically the input looks like this</p>\n<p>1 2 3<br />\n4 5 6<br />\n7 8 9</p>\n<p>And the output should look like this<br />\n3<br />\n2 6<br />\n1 5 9<br />\n4 8<br />\n7</p>\n"},{"tags":["java","http","asynchronous","load-testing","completable-future"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1651304000,"post_id":72066501,"comment_id":127336716,"body_markdown":"My suggestion for you is to look into `ExecutorService` instead of while loops as a start.  As well look into https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html for Apache HttpClient","body":"My suggestion for you is to look into <code>ExecutorService</code> instead of while loops as a start.  As well look into <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-4.5.x/current/httpclient&zwnj;&#8203;/&hellip;</a> for Apache HttpClient"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697553133,"creation_date":1651304235,"answer_id":72066573,"question_id":72066501,"body_markdown":"# Virtual threads\r\n\r\n[Virtual threads][1] ([fibers][2]) is a new feature in [Java 21][3]. This is part of [*Project Loom*][4]. \r\n\r\nIn conventional Java concurrency, threads in Java are mapped directly one-to-one with host OS threads. The problem is that when code running in a thread blocks, the thread blocks too. That thread pauses until the executing code is unblocked. So much of the time a thread may go unused, sitting idle, while waiting for a call to storage I/O, network I/O, database access, etc. to return. \r\n\r\nIn contrast, many of the proposed *virtual* threads are mapped to each “real” thread provided by the host OS. When the code being executed by a virtual thread blocks, the virtual threads is “parked”, set aside, while another virtual thread takes its place on the host OS thread. When the prior virtual thread’s task is no longer blocked, it gets assigned again to a host OS thread for continued execution. \r\n\r\nThis parking and unparking is extremely efficient. This means you can have thousands, even millions, of simultaneous threads. \r\n\r\nSo you could set up your hundreds of HTTP requests as individual `Runnable`/`Callable`tasks, and then submit them all to an appropriate executor service for immediate execution.  \r\n\r\n\r\n----------\r\n\r\nBy the way, Java now includes a [new HTTP client][5] library. \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/444\r\n  [2]: https://en.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_21\r\n  [4]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [5]: https://openjdk.java.net/jeps/321","title":"Sending large amounts of HTTP requests concurrently with a small number of threads","body":"<h1>Virtual threads</h1>\n<p><a href=\"https://openjdk.java.net/jeps/444\" rel=\"nofollow noreferrer\">Virtual threads</a> (<a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) is a new feature in <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_21\" rel=\"nofollow noreferrer\">Java 21</a>. This is part of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a>.</p>\n<p>In conventional Java concurrency, threads in Java are mapped directly one-to-one with host OS threads. The problem is that when code running in a thread blocks, the thread blocks too. That thread pauses until the executing code is unblocked. So much of the time a thread may go unused, sitting idle, while waiting for a call to storage I/O, network I/O, database access, etc. to return.</p>\n<p>In contrast, many of the proposed <em>virtual</em> threads are mapped to each “real” thread provided by the host OS. When the code being executed by a virtual thread blocks, the virtual threads is “parked”, set aside, while another virtual thread takes its place on the host OS thread. When the prior virtual thread’s task is no longer blocked, it gets assigned again to a host OS thread for continued execution.</p>\n<p>This parking and unparking is extremely efficient. This means you can have thousands, even millions, of simultaneous threads.</p>\n<p>So you could set up your hundreds of HTTP requests as individual <code>Runnable</code>/<code>Callable</code>tasks, and then submit them all to an appropriate executor service for immediate execution.</p>\n<hr />\n<p>By the way, Java now includes a <a href=\"https://openjdk.java.net/jeps/321\" rel=\"nofollow noreferrer\">new HTTP client</a> library.</p>\n"}],"owner":{"account_id":15348866,"reputation":111,"user_id":11073310,"display_name":"bklxxjjz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1737,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697553133,"creation_date":1651303384,"question_id":72066501,"body_markdown":"We have the need to **send large amounts of HTTP requests to a server endpoint concurrently (hundreds of requests per second)** continuously for some time, in our Java code. The server takes ~4-5 seconds to respond to each request.\r\n\r\nThe underlying code is making those requests using Apache HttpClient (classic). Since this client is blocking, I&#39;m having to use large amounts of threads (in a `ExecutorService.newFixedThreadPool()`) to send requests concurrently in order to achieve the goal: start these threads, where each thread basically does something like this:\r\n```\r\nwhile (time_elapsed &lt; 3600 seconds) {\r\n    sendHttpRequest(); // this takes ~4-5 seconds, during which the current thread is blocked due to the nature of Apache \r\n}\r\n```\r\n\r\nThere are 2 problems: \r\n- as the server responds to each HTTP call in 4-5 seconds, theoretically we will need 400-500 threads in order to send ~100 requests/second, but this huge amount of threads will consume lots of resources, and will leads to a lot of context switch as well as other problems, so in practice they won&#39;t really send as many as 100 requests/second\r\n- as each thread has to wait until the current request to finish (4-5 seconds) before sending the next, we can&#39;t control the precise number of requests we send every second.\r\n\r\nThis would have been easy if we have the flexibility to switch to async http clients like [Apache HttpAsyncClient](https://hc.apache.org/httpcomponents-asyncclient-4.1.x/index.html) or [async-http-client](https://github.com/AsyncHttpClient/async-http-client), but unfortunately we can&#39;t due to the codebase&#39;s limitation.\r\n\r\nMy question is, is there another way to achieve hundreds of concurrent requests/second, **with a small number of threads and without using an async HTTP client**? Is CompletableFuture an option?","title":"Sending large amounts of HTTP requests concurrently with a small number of threads","body":"<p>We have the need to <strong>send large amounts of HTTP requests to a server endpoint concurrently (hundreds of requests per second)</strong> continuously for some time, in our Java code. The server takes ~4-5 seconds to respond to each request.</p>\n<p>The underlying code is making those requests using Apache HttpClient (classic). Since this client is blocking, I'm having to use large amounts of threads (in a <code>ExecutorService.newFixedThreadPool()</code>) to send requests concurrently in order to achieve the goal: start these threads, where each thread basically does something like this:</p>\n<pre><code>while (time_elapsed &lt; 3600 seconds) {\n    sendHttpRequest(); // this takes ~4-5 seconds, during which the current thread is blocked due to the nature of Apache \n}\n</code></pre>\n<p>There are 2 problems:</p>\n<ul>\n<li>as the server responds to each HTTP call in 4-5 seconds, theoretically we will need 400-500 threads in order to send ~100 requests/second, but this huge amount of threads will consume lots of resources, and will leads to a lot of context switch as well as other problems, so in practice they won't really send as many as 100 requests/second</li>\n<li>as each thread has to wait until the current request to finish (4-5 seconds) before sending the next, we can't control the precise number of requests we send every second.</li>\n</ul>\n<p>This would have been easy if we have the flexibility to switch to async http clients like <a href=\"https://hc.apache.org/httpcomponents-asyncclient-4.1.x/index.html\" rel=\"nofollow noreferrer\">Apache HttpAsyncClient</a> or <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">async-http-client</a>, but unfortunately we can't due to the codebase's limitation.</p>\n<p>My question is, is there another way to achieve hundreds of concurrent requests/second, <strong>with a small number of threads and without using an async HTTP client</strong>? Is CompletableFuture an option?</p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":1,"creation_date":1697457090,"post_id":77300261,"comment_id":136278206,"body_markdown":"@ interfaces do not have implementations, they&#39;re just markers. They are used in other classes however - for validators that&#39;s a Validator class - https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/constraintvalidators/hv/UUIDValidator.html is the one of interest here. You could try debugging there to check if it&#39;s called at all (both at startup and when changing the property at runtime just to see how it behaves)","body":"@ interfaces do not have implementations, they&#39;re just markers. They are used in other classes however - for validators that&#39;s a Validator class - <a href=\"https://docs.jboss.org/hibernate/stable/validator/api/org/hibernate/validator/internal/constraintvalidators/hv/UUIDValidator.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/validator/api/org/hibernate/&zwnj;&#8203;&hellip;</a> is the one of interest here. You could try debugging there to check if it&#39;s called at all (both at startup and when changing the property at runtime just to see how it behaves)"},{"owner":{"account_id":16983645,"reputation":21,"user_id":12284928,"display_name":"dja"},"score":0,"creation_date":1697551035,"post_id":77300261,"comment_id":136292180,"body_markdown":"Thanks for the clarification. So I found out that I can &quot;search for usages&quot; to find the appropriate Validator class.","body":"Thanks for the clarification. So I found out that I can &quot;search for usages&quot; to find the appropriate Validator class."}],"answers":[{"tags":[],"owner":{"account_id":16983645,"reputation":21,"user_id":12284928,"display_name":"dja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697552644,"creation_date":1697552134,"answer_id":77309801,"question_id":77300261,"body_markdown":"I found out the following: \r\n\r\nUsing jdk11\r\n========\r\nI get no compilation errors in the IDE and I can start the application and it does not halt at any places inside the UUIDValidator. However if I try to run *mvn install* I get the following error:\r\n```\r\n[ERROR] \tpackage m365.graph.client;\r\n[ERROR] \t^\r\n[ERROR] The type jakarta.validation.Payload cannot be resolved. It is indirectly referenced from required .class files\r\n```\r\nWhich is not the config class itself but a class using the config.\r\n\r\nUsing jdk17\r\n========\r\nSince we wanted to move to 17 anyways I finished the upgrade and tried it here as well, since I knew that you can&#39;t use javax.annotation there anymore. And in this case everything works as expected. It correctly stops at the initilize breakpoint in the UUIDValidator and also in the config a wrong UUID gets validated throwing an error.\r\n\r\n**Does however someone know why I got this confusing error using jdk11 and only when running mvn?** ","title":"@UUID hibernate validator doesn&#39;t validate on application start","body":"<p>I found out the following:</p>\n<h1>Using jdk11</h1>\n<p>I get no compilation errors in the IDE and I can start the application and it does not halt at any places inside the UUIDValidator. However if I try to run <em>mvn install</em> I get the following error:</p>\n<pre><code>[ERROR]     package m365.graph.client;\n[ERROR]     ^\n[ERROR] The type jakarta.validation.Payload cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>Which is not the config class itself but a class using the config.</p>\n<h1>Using jdk17</h1>\n<p>Since we wanted to move to 17 anyways I finished the upgrade and tried it here as well, since I knew that you can't use javax.annotation there anymore. And in this case everything works as expected. It correctly stops at the initilize breakpoint in the UUIDValidator and also in the config a wrong UUID gets validated throwing an error.</p>\n<p><strong>Does however someone know why I got this confusing error using jdk11 and only when running mvn?</strong></p>\n"}],"owner":{"account_id":16983645,"reputation":21,"user_id":12284928,"display_name":"dja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77309801,"answer_count":1,"score":0,"last_activity_date":1697552644,"creation_date":1697442925,"question_id":77300261,"body_markdown":"I try to use a validation on UUIDs using Spring.\r\n\r\nWhen I use a Pattern directly at the configuration class as shown in the code and type in a wrong UUID in the yaml it correctly prints an error on the validation at startup of my application:\r\n\r\n```\r\n@Validated\r\n@Configuration\r\n@Getter\r\n@Setter\r\n@ConfigurationProperties\r\npublic class ClientConfig {\r\n\r\n\t@Pattern(regexp = &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;)\r\n\t@Nonnull\r\n\tprivate String clientId;\r\n\r\n}\r\n```\r\n\r\nIf I use the answers provided [here][1] and extract the pattern into a self implemented @interface it works as well. But if I try to use the annotation from hibernate, so switching to this:\r\n\r\n```\r\n\t@org.hibernate.validator.constraints.UUID\r\n\t@Nonnull\r\n\tprivate String clientId;\r\n```\r\n\r\nThen my application doesn&#39;t validate the property in the yaml anymore and won&#39;t fire any errors on startup. \r\n\r\nWhat am I missing for hibernate? Do I need to register some extra annotation processor to get it working and how?\r\n\r\nI am a bit new to the @interfaces, also I don&#39;t get how to easily find the implementation classes behind the interface.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37320870/is-there-a-uuid-validator-annotation","title":"@UUID hibernate validator doesn&#39;t validate on application start","body":"<p>I try to use a validation on UUIDs using Spring.</p>\n<p>When I use a Pattern directly at the configuration class as shown in the code and type in a wrong UUID in the yaml it correctly prints an error on the validation at startup of my application:</p>\n<pre><code>@Validated\n@Configuration\n@Getter\n@Setter\n@ConfigurationProperties\npublic class ClientConfig {\n\n    @Pattern(regexp = &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;)\n    @Nonnull\n    private String clientId;\n\n}\n</code></pre>\n<p>If I use the answers provided <a href=\"https://stackoverflow.com/questions/37320870/is-there-a-uuid-validator-annotation\">here</a> and extract the pattern into a self implemented @interface it works as well. But if I try to use the annotation from hibernate, so switching to this:</p>\n<pre><code>    @org.hibernate.validator.constraints.UUID\n    @Nonnull\n    private String clientId;\n</code></pre>\n<p>Then my application doesn't validate the property in the yaml anymore and won't fire any errors on startup.</p>\n<p>What am I missing for hibernate? Do I need to register some extra annotation processor to get it working and how?</p>\n<p>I am a bit new to the @interfaces, also I don't get how to easily find the implementation classes behind the interface.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":5201495,"reputation":19,"user_id":16359040,"display_name":"Mohammed Khadeer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697552114,"creation_date":1697552114,"question_id":77309797,"body_markdown":"\r\n 1.In the database or in the console,the fileName field shows NULL but the file or image is uploading in the directory.\r\n\r\n\r\n\r\n2. search functionality is not working.when i type in the input and search it shows nothing but in the url i can see the desire search path example :http://localhost:8081/search?keyword=test here, the test is the keyword or a fileName i want to search.\r\n```\r\n[![File in Db](https://i.stack.imgur.com/lv907.png)](https://i.stack.imgur.com/lv907.png)\r\n[![Search](https://i.stack.imgur.com/ldf82.png)](https://i.stack.imgur.com/ldf82.png)\r\n``` \r\n    ```\r\n    Entity\r\n    ```\r\n    @Entity\r\n    @Table(name=&quot;User_Management&quot;)\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String email;\r\n    \tprivate String codicefiscale;\r\n    \tprivate String documents;\r\n    \tprivate String description;\r\n    \tprivate String gender;\r\n    \tprivate String city;\r\n    \tprivate String fileName;\r\n    \t@Column(length = 15)\r\n    \tprivate long phone;\r\n    \r\n    \t// getter and setter\r\n           ....\r\n    ```\r\n    Repository\r\n    ```\r\n    @Repository\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n    \r\n    \t@Query(&quot;SELECT u FROM User u WHERE CONCAT(u.name, u.email) LIKE %:keyword%&quot;)\r\n        List&lt;User&gt; search(String keyword);\r\n    \t\r\n    }\r\n    \r\n    ```\r\n    Service Interface and implementation\r\n    ```\r\n    public interface UserService {\r\n    \t\r\n    \tList&lt;User&gt; findAllUsers();\r\n    \tUser get(int id);\r\n    \tUser addUser(User user);\r\n    \tUser updateOrSave(User user);\r\n    \tvoid delete(int id);\r\n    \tUser view(User user);\r\n    \t\r\n    \tList&lt;User&gt; listSearch(String keyword);\r\n    \r\n    }\r\n    \r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserRepo userRepo;\r\n    \r\n    \tpublic UserServiceImpl(UserRepo userRepo) {\r\n    \t\tsuper();\r\n    \t\tthis.userRepo = userRepo;\r\n    \t}\r\n    \tpublic UserRepo getUserRepo() {\r\n    \t\treturn userRepo;\r\n    \t}\r\n    \tpublic void setUserRepo(UserRepo userRepo) {\r\n    \t\tthis.userRepo = userRepo;\r\n    \t}\r\n    \r\n    \t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic List&lt;User&gt; findAllUsers() {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn this.userRepo.findAll();\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User get(int id) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn this.userRepo.findById(id).get();\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User addUser(User user) {\r\n    \t\t\t\r\n    \t\t\t\t\treturn this.userRepo.save(user);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User updateOrSave(User user) {\r\n    \t\t\t\t\treturn this.userRepo.save(user);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void delete(int id) {\r\n    \t\t\t\t\t this.userRepo.deleteById(id);;\r\n    \t\t\t\t \r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t//search functionality\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic List&lt;User&gt; listSearch(String keyword) {\r\n    \t\t\t\t\tList&lt;User&gt; search = this.userRepo.search(keyword);\r\n    \t\t\t\t\treturn search;\r\n    \t\t\t\t\t\r\n    //\t\t\t\t\t if (keyword != null) {\r\n    //\t\t\t\t            return userRepo.search(keyword)\r\n    //\t\t\t\t        }\r\n    //\t\t\t\t        return userRepo.findAll();\r\n    \t\t\t\t}\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic User view(User user) {\r\n    \t\t\t\t return this.userRepo.save(user);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\r\n    \r\n    }\r\n    ```\r\n    Controller\r\n    ```\r\n    @Controller\r\n    //@RequestMapping(&quot;/users&quot;)\r\n    public class MyController {\r\n    \t\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(MyController.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UserService userService;\r\n    \t\r\n    \tpublic MyController(UserService userService) {\r\n    \t\tsuper();\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \r\n    \tpublic UserService getUserService() {\r\n    \t\treturn userService;\r\n    \t}\r\n    \r\n    \tpublic void setUserService(UserService userService) {\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \t// Normal home page\r\n    \t\t@GetMapping(&quot;/&quot;)\r\n    \t\tpublic String Home()\r\n    \t\t{\r\n    \t\t\treturn &quot;home&quot;;\r\n    \t\t}\r\n    \t\r\n    \t//   listing all the Users in a new Page.\r\n    \t\t@GetMapping(&quot;/manage&quot;)\r\n    \t\tpublic String ManageTheUsersList(Model m)\r\n    \t\t{\r\n    \t\t\tList&lt;User&gt; findAllUsers = this.userService.findAllUsers();\r\n    \t\t\tm.addAttribute(&quot;ListUser&quot;, findAllUsers);\r\n    \t\t\t m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\r\n    \t\t\treturn &quot;manageForm&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t//  Show Add new User page\r\n    \t\t@GetMapping(&quot;/addnewuser&quot;)\r\n    \t\tpublic String addnewuser(Model m)\r\n    \t\t{\r\n    \t\t\tm.addAttribute(&quot;user&quot;, new User());\r\n    \t\t\tm.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\r\n    \t\t\treturn &quot;addForm&quot;;\r\n    \t\t} \r\n    \t\t\r\n    \t\t\r\n    \t\t// save the Data from Add new User page\r\n    \t\t@PostMapping(&quot;/saveaddeduser&quot;)\r\n    \t\tpublic String addnewuser(@ModelAttribute(&quot;user&quot;) User user,@RequestParam(&quot;files&quot;) MultipartFile file,\r\n    \t\t\t\tModel m, RedirectAttributes ra,HttpSession session,@RequestParam(&quot;gender&quot;) String gender)\r\n    \t\t{\r\n    \t\t\tString uploads = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\r\n    \t\t\tSystem.out.println(System.getProperty(&quot;user.dir&quot;));\r\n    \r\n    \t\t\r\n    \t try {\r\n    \t\t String originalFilename = file.getOriginalFilename();//ex:- abc.png\r\n    \t\t Path Fullpath = Paths.get(uploads+File.separator+originalFilename);// /src/main/resource...abc.png\r\n    \t\t Files.write(Fullpath,file.getBytes());\r\n    \t\t m.addAttribute(originalFilename, Fullpath);\r\n    \t     m.addAttribute(&quot;message&quot;,&quot;uploaded files :&quot; + Fullpath.toString());\r\n    \t\t \r\n    \t\t this.userService.addUser(user);\r\n    \t\t ra.addFlashAttribute(&quot;message&quot;,&quot;User is successfully added !!&quot;);\r\n    \t\t\tSystem.out.println(user);\r\n    \t\tm.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\r\n    \t\t\t\r\n    \t\t }catch(Exception e) {\r\n    \t\t\t e.printStackTrace();\r\n    \t\t }\r\n    \t\treturn &quot;redirect:/manage&quot;;\r\n    \t }\r\n    \t //@RequestMapping(path = {&quot;/search&quot;})\r\n    \t\t@GetMapping(&quot;/search&quot;)\r\n    \t\t    public String Searching(@Param(&quot;keyword&quot;) String keyword,Model m) {\r\n    \t\t\t\r\n    \t\t\t// logger.info(&quot;Before Receiving search request for keyword:{}&quot;, keyword);\r\n    \t\t\t \r\n    \t\t        List&lt;User&gt; listSearch = userService.listSearch(keyword);\r\n    \t\t        \r\n    \t\t      //  logger.info(&quot;Received search request for keyword:{}&quot;, listSearch);\r\n    \t\t        \r\n    \t\t        \r\n    \t\t        m.addAttribute(&quot;listSearch&quot;, listSearch);\r\n    \t\t        m.addAttribute(&quot;keyword&quot;, keyword);\r\n    \t\t        \r\n    \t\t        System.out.println(listSearch);\r\n    \t\t        System.out.println(keyword);\r\n    \t\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \r\n    \t\t\t\treturn &quot;manageForm&quot;; \r\n    \t\t    }\r\n    \t}\r\n    \r\n    ```\r\n    Html\r\n    ```\r\n    &lt;form th:action=&quot;@{/saveaddeduser}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot; class=&quot;mt-2&quot;\r\n    \t\t\t\tenctype=&quot;multipart/form-data&quot;&gt;\r\n    \t&lt;!-- Files--&gt;\r\n    \t&lt;div class=&quot;custom-file mb-3&quot;&gt;\r\n    \t&lt;input type=&quot;file&quot; class=&quot;form-control&quot; name=&quot;files&quot; aria-label=&quot;file example&quot;\r\n    \tplaceholder=&quot;Carta d&#39;Identita&quot; &gt;\r\n    \t&lt;div class=&quot;invalid-feedback&quot;&gt;Example invalid form file feedback&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    ...\r\n    ```\r\n    pom.xml\r\n    ```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Employee_management&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Employee_management&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"MultipartFile says Null and search does not work","body":"<p>1.In the database or in the console,the fileName field shows NULL but the file or image is uploading in the directory.</p>\n<ol start=\"2\">\n<li>search functionality is not working.when i type in the input and search it shows nothing but in the url i can see the desire search path example :http://localhost:8081/search?keyword=test here, the test is the keyword or a fileName i want to search.</li>\n</ol>\n<pre><code>[![File in Db](https://i.stack.imgur.com/lv907.png)](https://i.stack.imgur.com/lv907.png)\n[![Search](https://i.stack.imgur.com/ldf82.png)](https://i.stack.imgur.com/ldf82.png)\n</code></pre>\n<pre><code>```\nEntity\n```\n@Entity\n@Table(name=&quot;User_Management&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String name;\n    private String email;\n    private String codicefiscale;\n    private String documents;\n    private String description;\n    private String gender;\n    private String city;\n    private String fileName;\n    @Column(length = 15)\n    private long phone;\n\n    // getter and setter\n       ....\n```\nRepository\n```\n@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n\n    @Query(&quot;SELECT u FROM User u WHERE CONCAT(u.name, u.email) LIKE %:keyword%&quot;)\n    List&lt;User&gt; search(String keyword);\n    \n}\n\n```\nService Interface and implementation\n```\npublic interface UserService {\n    \n    List&lt;User&gt; findAllUsers();\n    User get(int id);\n    User addUser(User user);\n    User updateOrSave(User user);\n    void delete(int id);\n    User view(User user);\n    \n    List&lt;User&gt; listSearch(String keyword);\n\n}\n\n@Service\npublic class UserServiceImpl implements UserService {\n    \n    @Autowired\n    private UserRepo userRepo;\n\n    public UserServiceImpl(UserRepo userRepo) {\n        super();\n        this.userRepo = userRepo;\n    }\n    public UserRepo getUserRepo() {\n        return userRepo;\n    }\n    public void setUserRepo(UserRepo userRepo) {\n        this.userRepo = userRepo;\n    }\n\n    \n                @Override\n                public List&lt;User&gt; findAllUsers() {\n                    \n                    return this.userRepo.findAll();\n                }\n            \n                @Override\n                public User get(int id) {\n                    \n                    return this.userRepo.findById(id).get();\n                }\n            \n                @Override\n                public User addUser(User user) {\n            \n                    return this.userRepo.save(user);\n                }\n            \n                @Override\n                public User updateOrSave(User user) {\n                    return this.userRepo.save(user);\n                        \n                }\n            \n                @Override\n                public void delete(int id) {\n                     this.userRepo.deleteById(id);;\n                 \n                }\n            \n                            \n                //search functionality\n                @Override\n                public List&lt;User&gt; listSearch(String keyword) {\n                    List&lt;User&gt; search = this.userRepo.search(keyword);\n                    return search;\n                    \n//                   if (keyword != null) {\n//                          return userRepo.search(keyword)\n//                      }\n//                      return userRepo.findAll();\n                }\n                @Override\n                public User view(User user) {\n                 return this.userRepo.save(user);\n                }\n            \n    \n\n}\n```\nController\n```\n@Controller\n//@RequestMapping(&quot;/users&quot;)\npublic class MyController {\n    \n    private static final Logger logger = LoggerFactory.getLogger(MyController.class);\n    \n    @Autowired\n    private UserService userService;\n    \n    public MyController(UserService userService) {\n        super();\n        this.userService = userService;\n    }\n\n    public UserService getUserService() {\n        return userService;\n    }\n\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n\n    \n    \n    // Normal home page\n        @GetMapping(&quot;/&quot;)\n        public String Home()\n        {\n            return &quot;home&quot;;\n        }\n    \n    //   listing all the Users in a new Page.\n        @GetMapping(&quot;/manage&quot;)\n        public String ManageTheUsersList(Model m)\n        {\n            List&lt;User&gt; findAllUsers = this.userService.findAllUsers();\n            m.addAttribute(&quot;ListUser&quot;, findAllUsers);\n             m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\n            return &quot;manageForm&quot;;\n        }\n        \n        \n        //  Show Add new User page\n        @GetMapping(&quot;/addnewuser&quot;)\n        public String addnewuser(Model m)\n        {\n            m.addAttribute(&quot;user&quot;, new User());\n            m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\n            return &quot;addForm&quot;;\n        } \n        \n        \n        // save the Data from Add new User page\n        @PostMapping(&quot;/saveaddeduser&quot;)\n        public String addnewuser(@ModelAttribute(&quot;user&quot;) User user,@RequestParam(&quot;files&quot;) MultipartFile file,\n                Model m, RedirectAttributes ra,HttpSession session,@RequestParam(&quot;gender&quot;) String gender)\n        {\n            String uploads = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources/static/files&quot;;\n            System.out.println(System.getProperty(&quot;user.dir&quot;));\n\n        \n     try {\n         String originalFilename = file.getOriginalFilename();//ex:- abc.png\n         Path Fullpath = Paths.get(uploads+File.separator+originalFilename);// /src/main/resource...abc.png\n         Files.write(Fullpath,file.getBytes());\n         m.addAttribute(originalFilename, Fullpath);\n         m.addAttribute(&quot;message&quot;,&quot;uploaded files :&quot; + Fullpath.toString());\n         \n         this.userService.addUser(user);\n         ra.addFlashAttribute(&quot;message&quot;,&quot;User is successfully added !!&quot;);\n            System.out.println(user);\n        m.addAttribute(&quot;title&quot;,&quot;User Management System&quot;);\n            \n         }catch(Exception e) {\n             e.printStackTrace();\n         }\n        return &quot;redirect:/manage&quot;;\n     }\n     //@RequestMapping(path = {&quot;/search&quot;})\n        @GetMapping(&quot;/search&quot;)\n            public String Searching(@Param(&quot;keyword&quot;) String keyword,Model m) {\n            \n            // logger.info(&quot;Before Receiving search request for keyword:{}&quot;, keyword);\n             \n                List&lt;User&gt; listSearch = userService.listSearch(keyword);\n                \n              //  logger.info(&quot;Received search request for keyword:{}&quot;, listSearch);\n                \n                \n                m.addAttribute(&quot;listSearch&quot;, listSearch);\n                m.addAttribute(&quot;keyword&quot;, keyword);\n                \n                System.out.println(listSearch);\n                System.out.println(keyword);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \n                return &quot;manageForm&quot;; \n            }\n    }\n\n```\nHtml\n```\n&lt;form th:action=&quot;@{/saveaddeduser}&quot; method=&quot;post&quot; th:object=&quot;${user}&quot; class=&quot;mt-2&quot;\n                enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;!-- Files--&gt;\n    &lt;div class=&quot;custom-file mb-3&quot;&gt;\n    &lt;input type=&quot;file&quot; class=&quot;form-control&quot; name=&quot;files&quot; aria-label=&quot;file example&quot;\n    placeholder=&quot;Carta d'Identita&quot; &gt;\n    &lt;div class=&quot;invalid-feedback&quot;&gt;Example invalid form file feedback&lt;/div&gt;\n    &lt;/div&gt;\n...\n```\npom.xml\n```\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;Employee_management&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Employee_management&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","mockito","junit5","springmockito"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1697546787,"post_id":77308941,"comment_id":136291251,"body_markdown":"By default a mock returns null for every method (that returns an Object). You need to tell a mock what to return. More details look here: https://stackoverflow.com/questions/74459521/why-i-cant-save-anything-in-my-mocked-repository/74460108#74460108","body":"By default a mock returns null for every method (that returns an Object). You need to tell a mock what to return. More details look here: <a href=\"https://stackoverflow.com/questions/74459521/why-i-cant-save-anything-in-my-mocked-repository/74460108#74460108\" title=\"why i cant save anything in my mocked repository\">stackoverflow.com/questions/74459521/&hellip;</a>"},{"owner":{"account_id":29056682,"reputation":11,"user_id":22258320,"display_name":"AktionScript"},"score":0,"creation_date":1697547308,"post_id":77308941,"comment_id":136291361,"body_markdown":"Tried lenient().when(soapConnector.callservice(\n          &quot;target&quot;, requestSpy,\n          faultType, exception, false)).then(i -&gt; {\n            return response;\n          }); \nor even with thenAnswer returns null","body":"Tried lenient().when(soapConnector.callservice(           &quot;target&quot;, requestSpy,           faultType, exception, false)).then(i -&gt; {             return response;           });  or even with thenAnswer returns null"},{"owner":{"account_id":29056682,"reputation":11,"user_id":22258320,"display_name":"AktionScript"},"score":0,"creation_date":1697547607,"post_id":77308941,"comment_id":136291416,"body_markdown":"thenReturn will show the following error:\nOngoingStubbing&lt;JAXBElement&lt;capture#1-of ?&gt;&gt; is not applicable for the arguments (JAXBElement&lt;capture#3-of ?&gt;)","body":"thenReturn will show the following error: OngoingStubbing&lt;JAXBElement&lt;capture#1-of ?&gt;&gt; is not applicable for the arguments (JAXBElement&lt;capture#3-of ?&gt;)"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697961027,"post_id":77308941,"comment_id":136343116,"body_markdown":"I doubt that your production code calls the method with a spy and with two consumer mocks.","body":"I doubt that your production code calls the method with a spy and with two consumer mocks."}],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697551241,"creation_date":1697550871,"answer_id":77309624,"question_id":77308941,"body_markdown":"If you want to mock a method with parameters mockito uses the equal method to compare the parameters. If they equal the parameters the mock is called with, the mock returns the value. If there is no match found, your mock will return null. In your case the equality check will never return true since some of the parameters are local to your testcase, and thus the mock returns null.\r\n\r\nExamples to explain this better:\r\n\r\nAssume following class:\r\n\r\n\tclass Dummy {\r\n\t\t\tpublic String doSomething(String argument) {\r\n\t\t\t\treturn &quot;&quot;;\r\n\t\t\t}\r\n\t}\r\n\r\nin our test we do: \r\n\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tDummy dummy = mock(Dummy.class);\r\n\r\n\t\twhen(dummy.doSomething(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\r\n\r\n\t\tSystem.out.println(dummy.doSomething(&quot;foo&quot;)); // Will print bar\r\n\t\tSystem.out.println(dummy.doSomething(&quot;something else&quot;)); // will print null\r\n\t}\r\n\r\nAs we can see only if the argument matches our mock returns the specified value.\r\n\r\nComming back to your case, specifically requestSpy is not equal to request in the actual code, neither are both the consumer mocks since they are local variables and also are mocks.\r\n\r\nI am not quite sure what you are trying to do but it&#39;s not necessary to pass mocks while mocking a function. A possible way to correctly mock you function would be:\r\n \r\n    Mockito&lt;JAXBElement&lt;?&gt;&gt;.when(soapConnector.callservice(\r\n              eq(&quot;target&quot;), any(),\r\n              any(), any(), eq(false))).thenReturn(response);\r\n\r\nThis way we ensure the parameters target and false are provided and don&#39;t really care for the other parameters. If you want to check on the parameters use an ArgumentCaptor.\r\n\r\nAlso notice how I explicitly defined the Generic-Parameter to the when()-function to ensure the typing ist correct.\r\n\r\nUsed static imports:\r\n\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.ArgumentMatchers.eq;","title":"Mock method which contain functions as well as object as parameters?","body":"<p>If you want to mock a method with parameters mockito uses the equal method to compare the parameters. If they equal the parameters the mock is called with, the mock returns the value. If there is no match found, your mock will return null. In your case the equality check will never return true since some of the parameters are local to your testcase, and thus the mock returns null.</p>\n<p>Examples to explain this better:</p>\n<p>Assume following class:</p>\n<pre><code>class Dummy {\n        public String doSomething(String argument) {\n            return &quot;&quot;;\n        }\n}\n</code></pre>\n<p>in our test we do:</p>\n<pre><code>@Test\npublic void test() {\n    Dummy dummy = mock(Dummy.class);\n\n    when(dummy.doSomething(&quot;foo&quot;)).thenReturn(&quot;bar&quot;);\n\n    System.out.println(dummy.doSomething(&quot;foo&quot;)); // Will print bar\n    System.out.println(dummy.doSomething(&quot;something else&quot;)); // will print null\n}\n</code></pre>\n<p>As we can see only if the argument matches our mock returns the specified value.</p>\n<p>Comming back to your case, specifically requestSpy is not equal to request in the actual code, neither are both the consumer mocks since they are local variables and also are mocks.</p>\n<p>I am not quite sure what you are trying to do but it's not necessary to pass mocks while mocking a function. A possible way to correctly mock you function would be:</p>\n<pre><code>Mockito&lt;JAXBElement&lt;?&gt;&gt;.when(soapConnector.callservice(\n          eq(&quot;target&quot;), any(),\n          any(), any(), eq(false))).thenReturn(response);\n</code></pre>\n<p>This way we ensure the parameters target and false are provided and don't really care for the other parameters. If you want to check on the parameters use an ArgumentCaptor.</p>\n<p>Also notice how I explicitly defined the Generic-Parameter to the when()-function to ensure the typing ist correct.</p>\n<p>Used static imports:</p>\n<pre><code>import static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.ArgumentMatchers.eq;\n</code></pre>\n"}],"owner":{"account_id":29056682,"reputation":11,"user_id":22258320,"display_name":"AktionScript"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697551241,"creation_date":1697545272,"question_id":77308941,"body_markdown":"Writing Junit unit testcase, I am  trying to mock method callservice using Mockito. \r\n\r\n```\r\npublic CompletableFuture&lt;String&gt; getInfo(String something) \r\n{\r\n\r\nCompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\r\nJAXBElement&lt;Class1&gt; request = SoapRequests\r\n        .buildRequest(str1, str2);\r\n\t\t\r\nConsumer&lt;Exception&gt; exception = ex-&gt;{\r\nfuture.complete(&quot;exception&quot;);  \r\n}\r\n\r\nConsumer&lt;FaultType&gt; fault = fault-&gt;{\r\nfuture.complete(&quot;exception&quot;,FaultType.class);  \r\n}\r\n\r\nString target=&quot;target&quot;;\r\n\r\nJAXBElement&lt;?&gt; element = soapConnector.callservice(\r\n        target, request,\r\n        fault, ex, false);\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried the following way. But, it is always return with null element\r\n\r\n```\r\nJAXBElement&lt;?&gt; response = jaxbUnmarshaller.unmarshal(&quot;xmlString&quot;,\r\n          SomeClass12.class);\r\n\r\nJAXBElement&lt;SomeClass&gt; request = SoapRequests\r\n          .buildRequest(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\nJAXBElement&lt;SomeClass&gt; requestSpy = spy(request);\t\t  \r\n\r\nConsumer&lt;FaultType&gt; faultType = mock(Consumer.class);\r\nConsumer&lt;Exception&gt; exception = mock(Consumer.class);\r\n\r\n lenient().when(soapConnector.callservice(\r\n          &quot;target&quot;, requestSpy,\r\n          faultType, exception, false)).thenAnswer(i-&gt;response);\r\n```\r\n","title":"Mock method which contain functions as well as object as parameters?","body":"<p>Writing Junit unit testcase, I am  trying to mock method callservice using Mockito.</p>\n<pre><code>public CompletableFuture&lt;String&gt; getInfo(String something) \n{\n\nCompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;();\nJAXBElement&lt;Class1&gt; request = SoapRequests\n        .buildRequest(str1, str2);\n        \nConsumer&lt;Exception&gt; exception = ex-&gt;{\nfuture.complete(&quot;exception&quot;);  \n}\n\nConsumer&lt;FaultType&gt; fault = fault-&gt;{\nfuture.complete(&quot;exception&quot;,FaultType.class);  \n}\n\nString target=&quot;target&quot;;\n\nJAXBElement&lt;?&gt; element = soapConnector.callservice(\n        target, request,\n        fault, ex, false);\n\n}\n</code></pre>\n<p>I have tried the following way. But, it is always return with null element</p>\n<pre><code>JAXBElement&lt;?&gt; response = jaxbUnmarshaller.unmarshal(&quot;xmlString&quot;,\n          SomeClass12.class);\n\nJAXBElement&lt;SomeClass&gt; request = SoapRequests\n          .buildRequest(&quot;&quot;, &quot;&quot;, &quot;&quot;);\nJAXBElement&lt;SomeClass&gt; requestSpy = spy(request);         \n\nConsumer&lt;FaultType&gt; faultType = mock(Consumer.class);\nConsumer&lt;Exception&gt; exception = mock(Consumer.class);\n\n lenient().when(soapConnector.callservice(\n          &quot;target&quot;, requestSpy,\n          faultType, exception, false)).thenAnswer(i-&gt;response);\n</code></pre>\n"},{"tags":["java","android","wear-os"],"owner":{"account_id":17961238,"reputation":23,"user_id":13052163,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697551117,"creation_date":1697551117,"question_id":77309661,"body_markdown":"I am working on an android wear app. I would like to implement the CurvedTextView in my NestedScrollView. Outside of the NestedScrollView the CurvedTextView is displayed. \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.wear.widget.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mainConstraintLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;?attr/colorBackground&quot;\r\n    tools:context=&quot;.Activitys.MainActivity2&quot;\r\n    tools:deviceIds=&quot;wear&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/mainNestedScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fadingEdgeLength=&quot;30dp&quot;\r\n        android:requiresFadingEdge=&quot;vertical&quot;\r\n        android:scrollbars=&quot;vertical&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;androidx.wear.widget.CurvedTextView\r\n                android:id=&quot;@+id/textViewClock&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textColor=&quot;@color/colorText&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;12:00&quot; /&gt;\r\n\r\n\r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/mainRecyclerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/mainButtonMenu&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n\r\nI tried to put the CurvedTextView into an ArcLayout but it doesn&#39;t help","title":"Curved textview is not displayed","body":"<p>I am working on an android wear app. I would like to implement the CurvedTextView in my NestedScrollView. Outside of the NestedScrollView the CurvedTextView is displayed.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.wear.widget.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/mainConstraintLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;?attr/colorBackground&quot;\n    tools:context=&quot;.Activitys.MainActivity2&quot;\n    tools:deviceIds=&quot;wear&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/mainNestedScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fadingEdgeLength=&quot;30dp&quot;\n        android:requiresFadingEdge=&quot;vertical&quot;\n        android:scrollbars=&quot;vertical&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;androidx.wear.widget.CurvedTextView\n                android:id=&quot;@+id/textViewClock&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textColor=&quot;@color/colorText&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                tools:text=&quot;12:00&quot; /&gt;\n\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/mainRecyclerView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/mainButtonMenu&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>I tried to put the CurvedTextView into an ArcLayout but it doesn't help</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":25,"creation_date":1314224412,"post_id":7182996,"comment_id":8624160,"body_markdown":"actually getMonth() on Date is deprecated since forever ;)","body":"actually getMonth() on Date is deprecated since forever ;)"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":6,"creation_date":1314224418,"post_id":7182996,"comment_id":8624165,"body_markdown":"@slhck: Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.MONTH).","body":"@slhck: Deprecated. As of JDK version 1.1, replaced by Calendar.get(Calendar.MONTH)."},{"owner":{"account_id":193393,"reputation":37035,"user_id":435093,"accept_rate":83,"display_name":"slhck"},"score":0,"creation_date":1314224483,"post_id":7182996,"comment_id":8624180,"body_markdown":"@adarshr That&#39;s why I didn&#39;t write an answer. So much for a specific and well-researched question!","body":"@adarshr That&#39;s why I didn&#39;t write an answer. So much for a specific and well-researched question!"},{"owner":{"account_id":289540,"reputation":3854,"user_id":590574,"display_name":"Serabe"},"score":4,"creation_date":1314224568,"post_id":7182996,"comment_id":8624210,"body_markdown":"@Zenzen I don&#39;t see the problem in using a deprecated method in a mostly deprecated class.","body":"@Zenzen I don&#39;t see the problem in using a deprecated method in a mostly deprecated class."},{"owner":{"account_id":289540,"reputation":3854,"user_id":590574,"display_name":"Serabe"},"score":1,"creation_date":1314224637,"post_id":7182996,"comment_id":8624230,"body_markdown":"@Muhd if you are working with dates, help yourself and use [joda](http://joda-time.sourceforge.net/) or any other library.","body":"@Muhd if you are working with dates, help yourself and use <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda</a> or any other library."},{"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"score":0,"creation_date":1314224700,"post_id":7182996,"comment_id":8624251,"body_markdown":"@slhck I like using Stack Overflow as a reference, and this was missing so I asked.","body":"@slhck I like using Stack Overflow as a reference, and this was missing so I asked."},{"owner":{"account_id":75676,"reputation":15039,"user_id":217019,"accept_rate":89,"display_name":"Mateusz Dymczyk"},"score":1,"creation_date":1314225656,"post_id":7182996,"comment_id":8624492,"body_markdown":"@Serabe: the problem is that there are better solutions (ones that at least aren&#39;t deprecated). And getMonth has been deprecated for like 14 years now and it&#39;s been deprecated for a reason.","body":"@Serabe: the problem is that there are better solutions (ones that at least aren&#39;t deprecated). And getMonth has been deprecated for like 14 years now and it&#39;s been deprecated for a reason."},{"owner":{"account_id":289540,"reputation":3854,"user_id":590574,"display_name":"Serabe"},"score":1,"creation_date":1314225848,"post_id":7182996,"comment_id":8624535,"body_markdown":"@Zenzen: it was a joke regarding the use of a class whose methods are mostly deprecated (22 out of 33, including constructors). Sorry for the misunderstood.","body":"@Zenzen: it was a joke regarding the use of a class whose methods are mostly deprecated (22 out of 33, including constructors). Sorry for the misunderstood."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659112259,"post_id":7182996,"comment_id":129223428,"body_markdown":"Seriously, when this question was asked 11 years ago there often was no way around using `Date`, but today no one should. We have [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Seriously, when this question was asked 11 years ago there often was no way around using <code>Date</code>, but today no one should. We have <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":2,"up_vote_count":334,"is_accepted":false,"score":332,"last_activity_date":1697550923,"creation_date":1314224393,"answer_id":7183009,"question_id":7182996,"body_markdown":"\r\n    java.util.Date date = new Date();\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(date);\r\n    int month = cal.get(Calendar.MONTH);","title":"Java: Get month Integer from Date","body":"<pre><code>java.util.Date date = new Date();\nCalendar cal = Calendar.getInstance();\ncal.setTime(date);\nint month = cal.get(Calendar.MONTH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2752498,"reputation":540,"user_id":2371560,"display_name":"ssoward"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1434871819,"creation_date":1406586511,"answer_id":25005370,"question_id":7182996,"body_markdown":"# Joda-Time\n\nAlternatively, with the [Joda-Time][1] [`DateTime`][2] class.\r\n\r\n    //convert date to datetime\r\n    DateTime datetime = new DateTime(date);\r\n    int month = Integer.parseInt(datetime.toString(&quot;MM&quot;))\r\n\r\n…or…\r\n\r\n    int month = dateTime.getMonthOfYear();\r\n\r\n\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html","title":"Java: Get month Integer from Date","body":"<h1>Joda-Time</h1>\n\n<p>Alternatively, with the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\"><code>DateTime</code></a> class.</p>\n\n<pre><code>//convert date to datetime\nDateTime datetime = new DateTime(date);\nint month = Integer.parseInt(datetime.toString(\"MM\"))\n</code></pre>\n\n<p>…or…</p>\n\n<pre><code>int month = dateTime.getMonthOfYear();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2738449,"reputation":14392,"user_id":2360535,"accept_rate":64,"display_name":"twlkyao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431478921,"creation_date":1431478921,"answer_id":30203918,"question_id":7182996,"body_markdown":"    Date mDate = new Date(System.currentTimeMillis());\r\n    mDate.getMonth() + 1\r\n\r\nThe returned value starts from 0, so you should add one to the result.","title":"Java: Get month Integer from Date","body":"<pre><code>Date mDate = new Date(System.currentTimeMillis());\nmDate.getMonth() + 1\n</code></pre>\n\n<p>The returned value starts from 0, so you should add one to the result.</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1512963575,"creation_date":1434379105,"answer_id":30847992,"question_id":7182996,"body_markdown":"# java.time (Java 8)\r\n\r\nYou can also use the [java.time package](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) in Java 8 and convert your [`java.util.Date`](http://docs.oracle.com/javase/8/docs/api/java/util/Date.html) object to a [`java.time.LocalDate`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) object and then just use the [`getMonthValue()`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonthValue--) method.\r\n\r\n    Date date = new Date();\r\n    LocalDate localDate = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n    int month = localDate.getMonthValue();\r\n\r\nNote that month values are here given from 1 to 12 contrary to `cal.get(Calendar.MONTH)` in adarshr&#39;s answer which gives values from 0 to 11.\r\n\r\nBut as Basil Bourque said in the comments, the preferred way is to get a [`Month`](http://docs.oracle.com/javase/8/docs/api/java/time/Month.html) enum object with the [`LocalDate::getMonth`](http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonth--) method. ","title":"Java: Get month Integer from Date","body":"<h1>java.time (Java 8)</h1>\n\n<p>You can also use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> in Java 8 and convert your <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> object to a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>java.time.LocalDate</code></a> object and then just use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonthValue--\" rel=\"noreferrer\"><code>getMonthValue()</code></a> method.</p>\n\n<pre><code>Date date = new Date();\nLocalDate localDate = date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\nint month = localDate.getMonthValue();\n</code></pre>\n\n<p>Note that month values are here given from 1 to 12 contrary to <code>cal.get(Calendar.MONTH)</code> in adarshr's answer which gives values from 0 to 11.</p>\n\n<p>But as Basil Bourque said in the comments, the preferred way is to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> enum object with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#getMonth--\" rel=\"noreferrer\"><code>LocalDate::getMonth</code></a> method. </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1523740529,"creation_date":1452905819,"answer_id":34822338,"question_id":7182996,"body_markdown":"# tl;dr\r\n\r\n    myUtilDate.toInstant()                          // Convert from legacy class to modern. `Instant` is a point on the timeline in UTC.\r\n              .atZone(                              // Adjust from UTC to a particular time zone to determine date. Renders a `ZonedDateTime` object. \r\n                  ZoneId.of( &quot;America/Montreal&quot; )   // Better to specify desired/expected zone explicitly than rely implicitly on the JVM’s current default time zone.\r\n              )                                     // Returns a `ZonedDateTime` object.\r\n              .getMonthValue()                      // Extract a month number. Returns a `int` number.\r\n\r\n# `java.time` Details\r\n\r\n[The Answer](https://stackoverflow.com/a/30847992/642706) by Ortomala Lokni for using [java.time][1] is correct. And you *should* be using java.time as it is a gigantic improvement over the old java.util.Date/.Calendar classes. See the [Oracle Tutorial][2] on java.time.\r\n\r\nI&#39;ll add some code showing how to use java.time without regard to java.util.Date, for when you are starting out with fresh code.\r\n\r\nUsing java.time in a nutshell… An [`Instant`][3] is a moment on the timeline in UTC. Apply a time zone ([`ZoneId`][4]) to get a [`ZonedDateTime`][5]. \r\n\r\nThe [`Month`](http://docs.oracle.com/javase/8/docs/api/java/time/Month.html) class is a sophisticated [enum][6] to represent a month in general. That enum has handy methods such as getting a localized name. And rest assured that the month number in java.time is a sane one, 1-12, not the zero-based nonsense (0-11) found in java.util.Date/.Calendar.\r\n\r\nTo get the current date-time, [time zone][7] is crucial. At any moment the date is *not* the same around the world. Therefore the month is not the same around the world if near the ending/beginning of the month.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );  // Or &#39;ZoneOffset.UTC&#39;.\r\n    ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n    Month month = now.getMonth(); \r\n    int monthNumber = month.getValue(); // Answer to the Question.\r\n    String monthName = month.getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH );\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [6]: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [7]: https://en.wikipedia.org/wiki/Time_zone","title":"Java: Get month Integer from Date","body":"<h1>tl;dr</h1>\n\n<pre><code>myUtilDate.toInstant()                          // Convert from legacy class to modern. `Instant` is a point on the timeline in UTC.\n          .atZone(                              // Adjust from UTC to a particular time zone to determine date. Renders a `ZonedDateTime` object. \n              ZoneId.of( \"America/Montreal\" )   // Better to specify desired/expected zone explicitly than rely implicitly on the JVM’s current default time zone.\n          )                                     // Returns a `ZonedDateTime` object.\n          .getMonthValue()                      // Extract a month number. Returns a `int` number.\n</code></pre>\n\n<h1><code>java.time</code> Details</h1>\n\n<p><a href=\"https://stackoverflow.com/a/30847992/642706\">The Answer</a> by Ortomala Lokni for using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> is correct. And you <em>should</em> be using java.time as it is a gigantic improvement over the old java.util.Date/.Calendar classes. See the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a> on java.time.</p>\n\n<p>I'll add some code showing how to use java.time without regard to java.util.Date, for when you are starting out with fresh code.</p>\n\n<p>Using java.time in a nutshell… An <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in UTC. Apply a time zone (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a>) to get a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. </p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> class is a sophisticated <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">enum</a> to represent a month in general. That enum has handy methods such as getting a localized name. And rest assured that the month number in java.time is a sane one, 1-12, not the zero-based nonsense (0-11) found in java.util.Date/.Calendar.</p>\n\n<p>To get the current date-time, <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> is crucial. At any moment the date is <em>not</em> the same around the world. Therefore the month is not the same around the world if near the ending/beginning of the month.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of( \"America/Montreal\" );  // Or 'ZoneOffset.UTC'.\nZonedDateTime now = ZonedDateTime.now( zoneId );\nMonth month = now.getMonth(); \nint monthNumber = month.getValue(); // Answer to the Question.\nString monthName = month.getDisplayName( TextStyle.FULL , Locale.CANADA_FRENCH );\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":2224914,"reputation":335,"user_id":1963909,"accept_rate":62,"display_name":"Badr DRAIFI"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520863070,"creation_date":1456504578,"answer_id":35657061,"question_id":7182996,"body_markdown":"If you can&#39;t use Joda time and you still live in the dark world :) ( Java 5 or lower ) you can enjoy this : \r\n\r\nNote: Make sure your date is allready made by the format : dd/MM/YYYY\r\n\r\n    /**\r\n    Make an int Month from a date\r\n    */\r\n    public static int getMonthInt(Date date) {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM&quot;);\r\n        return Integer.parseInt(dateFormat.format(date));\r\n    }\r\n\r\n    /**\r\n    Make an int Year from a date\r\n    */\r\n    public static int getYearInt(Date date) {\r\n\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy&quot;);\r\n        return Integer.parseInt(dateFormat.format(date));\r\n    }\r\n\r\n","title":"Java: Get month Integer from Date","body":"<p>If you can't use Joda time and you still live in the dark world :) ( Java 5 or lower ) you can enjoy this : </p>\n\n<p>Note: Make sure your date is allready made by the format : dd/MM/YYYY</p>\n\n<pre><code>/**\nMake an int Month from a date\n*/\npublic static int getMonthInt(Date date) {\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM\");\n    return Integer.parseInt(dateFormat.format(date));\n}\n\n/**\nMake an int Year from a date\n*/\npublic static int getYearInt(Date date) {\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy\");\n    return Integer.parseInt(dateFormat.format(date));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9073333,"reputation":331,"user_id":6755701,"display_name":"Ketan Chitale"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1520862749,"creation_date":1472728938,"answer_id":39270198,"question_id":7182996,"body_markdown":"If you use **Java 8** date api, you can directly get it in one line!\r\n\r\n    LocalDate today = LocalDate.now();\r\n    int month = today.getMonthValue();\r\n\r\n \t       ","title":"Java: Get month Integer from Date","body":"<p>If you use <strong>Java 8</strong> date api, you can directly get it in one line!</p>\n\n<pre><code>LocalDate today = LocalDate.now();\nint month = today.getMonthValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4903002,"reputation":1493,"user_id":3950587,"accept_rate":100,"display_name":"Shailesh Vikram Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659343624,"creation_date":1659079827,"answer_id":73163085,"question_id":7182996,"body_markdown":"If we use java.time.LocalDate api, we can get month number in integer in single line:\r\n\r\n    import java.time.LocalDate;\r\n    ...\r\n    int currentMonthNumber = LocalDate.now().getMonthValue(); //OR\r\n    LocalDate scoringDate = LocalDate.parse(&quot;2022-07-01&quot;).getMonthValue(); //for String date\r\n\r\nFor example today&#39;s date is 29-July-2022, output will be 7.","title":"Java: Get month Integer from Date","body":"<p>If we use java.time.LocalDate api, we can get month number in integer in single line:</p>\n<pre><code>import java.time.LocalDate;\n...\nint currentMonthNumber = LocalDate.now().getMonthValue(); //OR\nLocalDate scoringDate = LocalDate.parse(&quot;2022-07-01&quot;).getMonthValue(); //for String date\n</code></pre>\n<p>For example today's date is 29-July-2022, output will be 7.</p>\n"}],"owner":{"account_id":200841,"reputation":24595,"user_id":446921,"accept_rate":98,"display_name":"Muhd"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464340,"favorite_count":0,"down_vote_count":3,"up_vote_count":200,"accepted_answer_id":30847992,"answer_count":8,"score":197,"last_activity_date":1697550923,"creation_date":1314224281,"question_id":7182996,"body_markdown":"How do I get the month as an integer from a Date object (`java.util.Date`)?","title":"Java: Get month Integer from Date","body":"<p>How do I get the month as an integer from a Date object (<code>java.util.Date</code>)?</p>\n"},{"tags":["java","if-statement","switch-statement","conditional-operator"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697551062,"post_id":77309585,"comment_id":136292186,"body_markdown":"Yes of course it is possible. Looking at your code it seems like you are calling `nextInt()` followed by `nextLine()`. So the problem you are experiencing is likely [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Yes of course it is possible. Looking at your code it seems like you are calling <code>nextInt()</code> followed by <code>nextLine()</code>. So the problem you are experiencing is likely <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697551072,"post_id":77309585,"comment_id":136292189,"body_markdown":"Yes, that&#39;s possible. If you&#39;d like to know what your code is actually doint at runtime, you should use the debugger that&#39;s included in your IDE.","body":"Yes, that&#39;s possible. If you&#39;d like to know what your code is actually doint at runtime, you should use the debugger that&#39;s included in your IDE."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1697552607,"post_id":77309585,"comment_id":136292532,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example). Obviously the code using Scanner should not part of a minimal example about if and switch. If it part of the issue then you made the wrong question.","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Obviously the code using Scanner should not part of a minimal example about if and switch. If it part of the issue then you made the wrong question."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1697563786,"post_id":77309585,"comment_id":136294688,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"owner":{"account_id":28989511,"reputation":1,"user_id":22205603,"display_name":"Tshepo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697550597,"creation_date":1697550523,"question_id":77309585,"body_markdown":"I tried all 4 on 1 src code and my program stops half way through.\r\n\r\nhere&#39;s the code, what did I do wrong?:\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n */\r\n\r\npackage com.operators;\r\n\r\nimport java.util.Scanner;\r\n\r\n/**\r\n *\r\n * @author Casner\r\n */\r\npublic class Operators {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner type = new Scanner(System.in);\r\n        System.out.print(&quot;Welcome to Chip and Burger Joint, would you like to order? please type Yes or No: &quot;);\r\n        String st = type.nextLine();\r\n        String b = &quot;You are now leaving Chip and Burger Joint&quot;;\r\n        String c = &quot;Start your order: &quot; ;\r\n        String ord = &quot;Yes&quot;.equals(st)? c:b;\r\n        System.out.println(ord);\r\n                \r\n        if(ord.equals(c)){\r\n            \r\n            System.out.print(&quot;You have 3 options: 1. Chips only, 2. Burger only, 3. Meal, Please Choose: &quot;);\r\n            int ord1 = type.nextInt();\r\n             \r\n            if(ord1 == 1){\r\n                System.out.print(&quot;Please enter MM for mini, S for small, M for medium and L for large: &quot;);\r\n                String chips = type.nextLine();\r\n                \r\n                switch(chips){\r\n                    case &quot;MM&quot;: System.out.println(&quot;You picked mini chips&quot;);\r\n                    break;\r\n                    case &quot;S&quot;: System.out.println(&quot;You picked small chips&quot;);\r\n                    break;\r\n                    case &quot;M&quot;: System.out.println(&quot;You picked medium chips&quot;);\r\n                    break;\r\n                    case &quot;L&quot;: System.out.println(&quot;You picked large chips&quot;);\r\n                    break;\r\n                    default: System.out.println(&quot;Thank you!&quot;);\r\n                }\r\n            }\r\n            \r\n            else if(ord1 == 2){\r\n                System.out.print(&quot;Please enter C for Chicken burger or B for Beef burger: &quot;);\r\n                String burger = type.nextLine();\r\n                switch(burger){\r\n                    case &quot;C&quot;: System.out.println(&quot;You picked Chicken burger&quot;);\r\n                    break;\r\n                    case &quot;B&quot;: System.out.println(&quot;You picked Beef burger&quot;);\r\n                    default: System.out.println(&quot;Thank you!&quot;);\r\n                }\r\n            }\r\n            \r\n            else if(ord1 == 3){\r\n                System.out.println(&quot;Please enter CM for chicken burger meal or BM for beef burger meal&quot;);\r\n                String bm = type.nextLine();\r\n                \r\n                switch(bm){\r\n                    case &quot;CM&quot;: System.out.println(&quot;You picked Chicken burger meal&quot;);\r\n                    break;\r\n                    case &quot;BM&quot;: System.out.println(&quot;You picked Beef burger meal&quot;);\r\n                    break;\r\n                    default: System.out.println(&quot;Thank you!&quot;);\r\n                }\r\n            }\r\n            else System.out.println(&quot;Thank You!&quot;);\r\n        }\r\n        \r\n        //System.out.println(&quot;Thank you!&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to have a ternary operator, if,if/else statement and switch statement on 1 src code in Java?","body":"<p>I tried all 4 on 1 src code and my program stops half way through.</p>\n<p>here's the code, what did I do wrong?:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n */\n\npackage com.operators;\n\nimport java.util.Scanner;\n\n/**\n *\n * @author Casner\n */\npublic class Operators {\n\n    public static void main(String[] args) {\n        \n        Scanner type = new Scanner(System.in);\n        System.out.print(&quot;Welcome to Chip and Burger Joint, would you like to order? please type Yes or No: &quot;);\n        String st = type.nextLine();\n        String b = &quot;You are now leaving Chip and Burger Joint&quot;;\n        String c = &quot;Start your order: &quot; ;\n        String ord = &quot;Yes&quot;.equals(st)? c:b;\n        System.out.println(ord);\n                \n        if(ord.equals(c)){\n            \n            System.out.print(&quot;You have 3 options: 1. Chips only, 2. Burger only, 3. Meal, Please Choose: &quot;);\n            int ord1 = type.nextInt();\n             \n            if(ord1 == 1){\n                System.out.print(&quot;Please enter MM for mini, S for small, M for medium and L for large: &quot;);\n                String chips = type.nextLine();\n                \n                switch(chips){\n                    case &quot;MM&quot;: System.out.println(&quot;You picked mini chips&quot;);\n                    break;\n                    case &quot;S&quot;: System.out.println(&quot;You picked small chips&quot;);\n                    break;\n                    case &quot;M&quot;: System.out.println(&quot;You picked medium chips&quot;);\n                    break;\n                    case &quot;L&quot;: System.out.println(&quot;You picked large chips&quot;);\n                    break;\n                    default: System.out.println(&quot;Thank you!&quot;);\n                }\n            }\n            \n            else if(ord1 == 2){\n                System.out.print(&quot;Please enter C for Chicken burger or B for Beef burger: &quot;);\n                String burger = type.nextLine();\n                switch(burger){\n                    case &quot;C&quot;: System.out.println(&quot;You picked Chicken burger&quot;);\n                    break;\n                    case &quot;B&quot;: System.out.println(&quot;You picked Beef burger&quot;);\n                    default: System.out.println(&quot;Thank you!&quot;);\n                }\n            }\n            \n            else if(ord1 == 3){\n                System.out.println(&quot;Please enter CM for chicken burger meal or BM for beef burger meal&quot;);\n                String bm = type.nextLine();\n                \n                switch(bm){\n                    case &quot;CM&quot;: System.out.println(&quot;You picked Chicken burger meal&quot;);\n                    break;\n                    case &quot;BM&quot;: System.out.println(&quot;You picked Beef burger meal&quot;);\n                    break;\n                    default: System.out.println(&quot;Thank you!&quot;);\n                }\n            }\n            else System.out.println(&quot;Thank You!&quot;);\n        }\n        \n        //System.out.println(&quot;Thank you!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","heroku","micronaut"],"owner":{"account_id":28207876,"reputation":1,"user_id":21560652,"display_name":"wozniackia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697550545,"creation_date":1697550545,"question_id":77309588,"body_markdown":"im developing gradle micronaut app\r\n\r\nduring deployment i see\r\n`-----&gt; Installing OpenJDK 1.8... done`\r\nwhich causes errors\r\n\r\ni&#39;ve declared a system.properties file in project root folder containing single line\r\n`java.runtime.version=17`\r\n\r\nhow do i change the java version?\r\n\r\nWould be appreciated if somone could help me out here,\r\n\r\nregards\r\n\r\nI&#39;ve followed numerous tutorials, most of them regard maven. I&#39;m using gradle hence the new question","title":"heroku not registering system.properties","body":"<p>im developing gradle micronaut app</p>\n<p>during deployment i see\n<code>-----&gt; Installing OpenJDK 1.8... done</code>\nwhich causes errors</p>\n<p>i've declared a system.properties file in project root folder containing single line\n<code>java.runtime.version=17</code></p>\n<p>how do i change the java version?</p>\n<p>Would be appreciated if somone could help me out here,</p>\n<p>regards</p>\n<p>I've followed numerous tutorials, most of them regard maven. I'm using gradle hence the new question</p>\n"},{"tags":["java","linux","java-8","cmake"],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594646467,"creation_date":1594646467,"answer_id":62876764,"question_id":62876465,"body_markdown":"It looks like cmake is looking for `javah` not `javac`. You&#39;re using Java 1.8, so you should have javah installed. (It has been removed in a later version, and instead of `javah` you&#39;re supposed to use `javac -h`)\r\n\r\nMake sure cmake can find the javah tool by setting JAVA_HOME so that it points at the Java 8 installation directory (typically under /usr/lib/jvm on a Linux system)","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>It looks like cmake is looking for <code>javah</code> not <code>javac</code>. You're using Java 1.8, so you should have javah installed. (It has been removed in a later version, and instead of <code>javah</code> you're supposed to use <code>javac -h</code>)</p>\n<p>Make sure cmake can find the javah tool by setting JAVA_HOME so that it points at the Java 8 installation directory (typically under /usr/lib/jvm on a Linux system)</p>\n"},{"tags":[],"owner":{"account_id":17701993,"reputation":21,"user_id":12851429,"display_name":"caifeng.zhu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622531306,"creation_date":1622445891,"answer_id":67769453,"question_id":62876465,"body_markdown":"I have encountered the same problem, but with a different cause. I post\r\nmy **problem** and **solution** below, hoping to save others&#39; troubleshooting time.   \r\n\r\n\r\nproblem:\r\n\r\nThe `CMake` reported an error much like the thread title: \r\n\r\n    CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:108 (message):\r\n      Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\r\n      &quot;11.0.7&quot;)\r\n    Call Stack (most recent call first):\r\n      /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:315 (_FPHSA_FAILURE_MESSAGE)\r\n      /usr/share/cmake/Modules/FindJava.cmake:191 (find_package_handle_standard_args)\r\n      CMakeLists.txt:20 (find_package)\r\n\r\n \r\n\r\n\r\n\r\n**analysis:**\r\n\r\nLook at the file `/usr/share/cmake/Modules/FindJava.cmake`. It is found that \r\n`_JAVA_HINTS` and `_JAVA_PATHS` do not include my java version. \r\n\r\n**solution:** \r\n\r\nUse a new version **CMake** that supports my java version","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>I have encountered the same problem, but with a different cause. I post\nmy <strong>problem</strong> and <strong>solution</strong> below, hoping to save others' troubleshooting time.</p>\n<p>problem:</p>\n<p>The <code>CMake</code> reported an error much like the thread title:</p>\n<pre><code>CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:108 (message):\n  Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\n  &quot;11.0.7&quot;)\nCall Stack (most recent call first):\n  /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:315 (_FPHSA_FAILURE_MESSAGE)\n  /usr/share/cmake/Modules/FindJava.cmake:191 (find_package_handle_standard_args)\n  CMakeLists.txt:20 (find_package)\n</code></pre>\n<p><strong>analysis:</strong></p>\n<p>Look at the file <code>/usr/share/cmake/Modules/FindJava.cmake</code>. It is found that\n<code>_JAVA_HINTS</code> and <code>_JAVA_PATHS</code> do not include my java version.</p>\n<p><strong>solution:</strong></p>\n<p>Use a new version <strong>CMake</strong> that supports my java version</p>\n"},{"tags":[],"owner":{"account_id":17896894,"reputation":1,"user_id":13002068,"display_name":"Paolo Cavatore Ercole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680779651,"creation_date":1680779651,"answer_id":75948872,"question_id":62876465,"body_markdown":"I can confirm the approach by [caifeng-zhu](https://stackoverflow.com/users/12851429/caifeng-zhu) worked for me, even though the `CMake` error I got, arised in the attempt to compile ceph-libs (17.2.5-6), was slightly different:\r\n\r\n      Could NOT find Java (missing: Java_JAVAC_EXECUTABLE Java_JAR_EXECUTABLE Java_JAVADOC_EXECUTABLE Development) (found version &quot;11.0.18&quot;)\r\n\r\nI **solved** it by modifying `/usr/share/cmake/Modules/FindJava.cmake` only in its `_JAVA_PATHS` section, by adding the Java&#39;s explicit folder location found in my packet manager (but I also could have used `whereis java`). In my case a more recent Java version was installed (19.0.2.u7-2), so I added a line to FindJava.cmake pointing to this latter one.\r\n\r\nMy configuration is:\r\n- Kernel: 5.15.105-1-MANJARO x86_64\r\n- cmake: 3.26.2\r\n- openjdk version &quot;11.0.18&quot; 2023-01-17 (default)\r\n- openjdk version &quot;19.0.2&quot; 2023-01-17\r\n","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>I can confirm the approach by <a href=\"https://stackoverflow.com/users/12851429/caifeng-zhu\">caifeng-zhu</a> worked for me, even though the <code>CMake</code> error I got, arised in the attempt to compile ceph-libs (17.2.5-6), was slightly different:</p>\n<pre><code>  Could NOT find Java (missing: Java_JAVAC_EXECUTABLE Java_JAR_EXECUTABLE Java_JAVADOC_EXECUTABLE Development) (found version &quot;11.0.18&quot;)\n</code></pre>\n<p>I <strong>solved</strong> it by modifying <code>/usr/share/cmake/Modules/FindJava.cmake</code> only in its <code>_JAVA_PATHS</code> section, by adding the Java's explicit folder location found in my packet manager (but I also could have used <code>whereis java</code>). In my case a more recent Java version was installed (19.0.2.u7-2), so I added a line to FindJava.cmake pointing to this latter one.</p>\n<p>My configuration is:</p>\n<ul>\n<li>Kernel: 5.15.105-1-MANJARO x86_64</li>\n<li>cmake: 3.26.2</li>\n<li>openjdk version &quot;11.0.18&quot; 2023-01-17 (default)</li>\n<li>openjdk version &quot;19.0.2&quot; 2023-01-17</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1503617,"reputation":2283,"user_id":1407528,"accept_rate":77,"display_name":"goe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697550456,"creation_date":1697550456,"answer_id":77309582,"question_id":62876465,"body_markdown":"In my case I have been able to solve it including the correct JAVA_HOME path (I used the java version installed by Android Studio), and its _bin_ directory in the PATH variable:\r\n\r\n    JAVA_HOME=/home/user/Applications/android-studio/jbr \r\n    export PATH=$PATH:$JAVA_HOME/bin","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>In my case I have been able to solve it including the correct JAVA_HOME path (I used the java version installed by Android Studio), and its <em>bin</em> directory in the PATH variable:</p>\n<pre><code>JAVA_HOME=/home/user/Applications/android-studio/jbr \nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n"}],"owner":{"account_id":975889,"reputation":29383,"user_id":997112,"accept_rate":61,"display_name":"user997112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4839,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62876764,"answer_count":4,"score":1,"last_activity_date":1697550456,"creation_date":1594645464,"question_id":62876465,"body_markdown":"I&#39;m encountering a CMake error suggesting it cannot find Java (JDK I think?):\r\n\r\n    Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\r\n      &quot;1.8.0_181&quot;)\r\n\r\nHowever, when I run:\r\n\r\n    which javac\r\n\r\nI get:\r\n\r\n    /bin/javac\r\n\r\nbut setting:\r\n\r\n    export JAVA_HOME=/bin/javac\r\n\r\nand re-compiling does not solve the problem.\r\n\r\nAnybody encountered this before?","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>I'm encountering a CMake error suggesting it cannot find Java (JDK I think?):</p>\n<pre><code>Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\n  &quot;1.8.0_181&quot;)\n</code></pre>\n<p>However, when I run:</p>\n<pre><code>which javac\n</code></pre>\n<p>I get:</p>\n<pre><code>/bin/javac\n</code></pre>\n<p>but setting:</p>\n<pre><code>export JAVA_HOME=/bin/javac\n</code></pre>\n<p>and re-compiling does not solve the problem.</p>\n<p>Anybody encountered this before?</p>\n"},{"tags":["java","selection-sort"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1697547839,"post_id":77309215,"comment_id":136291470,"body_markdown":"What sorting algorithm is this supposed to be?","body":"What sorting algorithm is this supposed to be?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1697547850,"post_id":77309215,"comment_id":136291472,"body_markdown":"Is there a particular reason you are trying to create your own sorting algorithm instead of just using `Arrays.sort(a, Comparators.comparingInt(String::length))`?","body":"Is there a particular reason you are trying to create your own sorting algorithm instead of just using <code>Arrays.sort(a, Comparators.comparingInt(String::length))</code>?"},{"owner":{"account_id":22920406,"reputation":123,"user_id":17056324,"display_name":"Darshit Sharma"},"score":0,"creation_date":1697547933,"post_id":77309215,"comment_id":136291494,"body_markdown":"@khelwood Selection Sort as per our highschool textbooks","body":"@khelwood Selection Sort as per our highschool textbooks"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1697547996,"post_id":77309215,"comment_id":136291511,"body_markdown":"It would be helpful if you also provide an example input that fails to sort as expected. Together with the current and expected output.","body":"It would be helpful if you also provide an example input that fails to sort as expected. Together with the current and expected output."},{"owner":{"account_id":22920406,"reputation":123,"user_id":17056324,"display_name":"Darshit Sharma"},"score":1,"creation_date":1697548631,"post_id":77309215,"comment_id":136291653,"body_markdown":"@Zabuzard Done! And yaa we require to create or modify sorting algorithm just using basic loops as per our syllabus.","body":"@Zabuzard Done! And yaa we require to create or modify sorting algorithm just using basic loops as per our syllabus."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697549382,"creation_date":1697548910,"answer_id":77309376,"question_id":77309215,"body_markdown":"You didn&#39;t correctly swap. You need to save the index of min element and swap `a[i]` and `a[minIdx]`. \r\n\r\n```java\r\n        String[] a = sc.nextLine().trim().split(&quot; &quot;);\r\n        for (int i = 0;i&lt; a.length-1;i++) {\r\n            String min = a[i];\r\n            int minIdx = i; // &lt;-- remember min index\r\n            for (int j = i + 1; j &lt; a.length; j++) {\r\n                if (a[j].length() &lt; min.length()) {\r\n                    min = a[j];\r\n                    minIdx = j; // &lt;-- update min index\r\n                }\r\n            }\r\n            String t = a[i];\r\n            a[i] = min;\r\n            a[minIdx] = t; // &lt;-- proper swap\r\n        }\r\n```","title":"Sorting a string array length wise","body":"<p>You didn't correctly swap. You need to save the index of min element and swap <code>a[i]</code> and <code>a[minIdx]</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] a = sc.nextLine().trim().split(&quot; &quot;);\n        for (int i = 0;i&lt; a.length-1;i++) {\n            String min = a[i];\n            int minIdx = i; // &lt;-- remember min index\n            for (int j = i + 1; j &lt; a.length; j++) {\n                if (a[j].length() &lt; min.length()) {\n                    min = a[j];\n                    minIdx = j; // &lt;-- update min index\n                }\n            }\n            String t = a[i];\n            a[i] = min;\n            a[minIdx] = t; // &lt;-- proper swap\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177358,"reputation":566,"user_id":1153026,"accept_rate":100,"display_name":"yunfei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697549601,"creation_date":1697549195,"answer_id":77309409,"question_id":77309215,"body_markdown":"update\r\n\r\n```\r\nString[] a = sc.nextLine().trim().split(&quot; &quot;);\r\nfor (int i = 0; i &lt; a.length - 1; i++) {\r\n    int minIndex = i;\r\n    for (int j = i + 1; j &lt; a.length; j++) {\r\n        if (a[j].length() &lt; a[minIndex].length()) {\r\n            minIndex = j;\r\n        }\r\n    }\r\n    String temp = a[i];\r\n    a[i] = a[minIndex];\r\n    a[minIndex] = temp;\r\n}\r\nSystem.out.println(Arrays.toString(a));\r\n```\r\n\r\nThis code first initializes a variable minIndex to the current index i. \r\n\r\nIt then iterates through the rest of the array, comparing the length of each string element with the length of the string at minIndex. \r\n\r\nIf it finds a string with a shorter length, it updates minIndex to point to that string. \r\n\r\nAfter the inner loop finishes, it swaps the string at i with the string at minIndex, effectively placing the string with the shortest length in the first position. \r\n\r\nThe outer loop repeats this process until all strings have been sorted in increasing order of their lengths.\r\n\r\n\r\n---------------\r\n\r\nThe code you provided is not sorting the array in increasing order of length of its specific string elements. Instead, it is swapping the elements in the array such that the shortest string is at the beginning of the array.\r\nTo sort the array in increasing order of length of its specific string elements, you can use the Arrays.sort() method and pass a custom comparator that compares the lengths of the strings. Here&#39;s an example:\r\n```\r\nString[] a = sc.nextLine().trim().split(&quot; &quot;);\r\nArrays.sort(a, new Comparator&lt;String&gt;() {\r\n    public int compare(String s1, String s2) {\r\n        return s1.length() - s2.length();\r\n    }\r\n});\r\nSystem.out.println(Arrays.toString(a));\r\n```\r\nThis will give you the expected output:\r\n\r\n```\r\nme Its Java Hello\r\n```\r\n","title":"Sorting a string array length wise","body":"<p>update</p>\n<pre><code>String[] a = sc.nextLine().trim().split(&quot; &quot;);\nfor (int i = 0; i &lt; a.length - 1; i++) {\n    int minIndex = i;\n    for (int j = i + 1; j &lt; a.length; j++) {\n        if (a[j].length() &lt; a[minIndex].length()) {\n            minIndex = j;\n        }\n    }\n    String temp = a[i];\n    a[i] = a[minIndex];\n    a[minIndex] = temp;\n}\nSystem.out.println(Arrays.toString(a));\n</code></pre>\n<p>This code first initializes a variable minIndex to the current index i.</p>\n<p>It then iterates through the rest of the array, comparing the length of each string element with the length of the string at minIndex.</p>\n<p>If it finds a string with a shorter length, it updates minIndex to point to that string.</p>\n<p>After the inner loop finishes, it swaps the string at i with the string at minIndex, effectively placing the string with the shortest length in the first position.</p>\n<p>The outer loop repeats this process until all strings have been sorted in increasing order of their lengths.</p>\n<hr />\n<p>The code you provided is not sorting the array in increasing order of length of its specific string elements. Instead, it is swapping the elements in the array such that the shortest string is at the beginning of the array.\nTo sort the array in increasing order of length of its specific string elements, you can use the Arrays.sort() method and pass a custom comparator that compares the lengths of the strings. Here's an example:</p>\n<pre><code>String[] a = sc.nextLine().trim().split(&quot; &quot;);\nArrays.sort(a, new Comparator&lt;String&gt;() {\n    public int compare(String s1, String s2) {\n        return s1.length() - s2.length();\n    }\n});\nSystem.out.println(Arrays.toString(a));\n</code></pre>\n<p>This will give you the expected output:</p>\n<pre><code>me Its Java Hello\n</code></pre>\n"}],"owner":{"account_id":22920406,"reputation":123,"user_id":17056324,"display_name":"Darshit Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77309376,"answer_count":2,"score":1,"last_activity_date":1697550231,"creation_date":1697547665,"question_id":77309215,"body_markdown":"I am required to sort an array with **selection sort**. I wanted it to to sort a string array in increasing order of length of its specific string elements.\r\n\r\nIt doesn&#39;t give the required output.\r\n\r\n    String[] a = sc.nextLine().trim().split(&quot; &quot;);\r\n    for (int i = 0;i&lt; a.length-1;i++) {\r\n        String min = a[i];\r\n        for (int j = i + 1; j &lt; a.length; j++) {\r\n            if (a[j].length() &lt; min.length()) min = a[j];\r\n        }\r\n        String t = a[i];\r\n        a[i] = min;\r\n        min = t;\r\n    }\r\n\r\n\r\n----------\r\nI tried to observe the array elements by using ` System.out.println(Arrays.toString(a));`\r\n\r\nHere&#39;s what i got and what i want:\r\n\r\n\r\n**On inputting,** \r\n\r\n    Hello Java Its me\r\n\r\n**Observed Output** \r\n\r\n    \r\n    \r\n    me me me me\r\n\r\n \r\n**Expected Output** \r\n\r\n    me Its Java Hello\r\n\r\nthat is according to the length of `a`&#39;s string elements.\r\n\r\n----------\r\n","title":"Sorting a string array length wise","body":"<p>I am required to sort an array with <strong>selection sort</strong>. I wanted it to to sort a string array in increasing order of length of its specific string elements.</p>\n<p>It doesn't give the required output.</p>\n<pre><code>String[] a = sc.nextLine().trim().split(&quot; &quot;);\nfor (int i = 0;i&lt; a.length-1;i++) {\n    String min = a[i];\n    for (int j = i + 1; j &lt; a.length; j++) {\n        if (a[j].length() &lt; min.length()) min = a[j];\n    }\n    String t = a[i];\n    a[i] = min;\n    min = t;\n}\n</code></pre>\n<hr />\n<p>I tried to observe the array elements by using <code> System.out.println(Arrays.toString(a));</code></p>\n<p>Here's what i got and what i want:</p>\n<p><strong>On inputting,</strong></p>\n<pre><code>Hello Java Its me\n</code></pre>\n<p><strong>Observed Output</strong></p>\n<pre><code>me me me me\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>me Its Java Hello\n</code></pre>\n<p>that is according to the length of <code>a</code>'s string elements.</p>\n<hr />\n"},{"tags":["java","netbeans","ejb","libraries"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1697772829,"post_id":77309420,"comment_id":136324568,"body_markdown":"Update your question with all of the following: [1] The stack trace for the `NoClassDefFoundError`. [2] Details of how you created the project. (Is it an Ant project created in NetBeans?) [3] The versions of NetBeans and Java that you are using.","body":"Update your question with all of the following: [1] The stack trace for the <code>NoClassDefFoundError</code>. [2] Details of how you created the project. (Is it an Ant project created in NetBeans?) [3] The versions of NetBeans and Java that you are using."}],"owner":{"account_id":29692301,"reputation":21,"user_id":22756413,"display_name":"Miguel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697549491,"creation_date":1697549318,"question_id":77309420,"body_markdown":"When trying to deploy an application to NetBeans that uses Apache HttpClient, the EJB container initialization fails. The most important error message is: &quot;java.lang.NoClassDefFoundError: org/apache/http/HttpRequest&quot;.\r\n\r\n\r\n\r\nWhich libraries could cause conflicts or which ones am I missing? because I have gson-2.8.0, spring-tx-4.3.8.RELEASE.jar, validation-api-1.0.CR3.jar, javax.mail.jar, commons-logging-1.2.jar , jacskon\\httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar,jackson-core-2.15.2.jar, jackson-databind-2.15.2.jar, commons-codec-1.9.jar, commons -logging-1.2.jar, httpclient-4.5.2.jar, httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar, jackson-core-2.15.2.jar, jackson-databind-2.15.2 .jar, jackson-databind-2.16.zip, http-request-3.2.1.jar, httpclient-4.5.2.jar\r\n\r\nIt should be noted that it is not a maven project and I do not have the pom.xml","title":"How to fix &quot;java.lang.NoClassDefFoundError: org/apache/http/HttpRequest&quot; in a NetBeans application that uses Apache HttpClient?","body":"<p>When trying to deploy an application to NetBeans that uses Apache HttpClient, the EJB container initialization fails. The most important error message is: &quot;java.lang.NoClassDefFoundError: org/apache/http/HttpRequest&quot;.</p>\n<p>Which libraries could cause conflicts or which ones am I missing? because I have gson-2.8.0, spring-tx-4.3.8.RELEASE.jar, validation-api-1.0.CR3.jar, javax.mail.jar, commons-logging-1.2.jar , jacskon\\httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar,jackson-core-2.15.2.jar, jackson-databind-2.15.2.jar, commons-codec-1.9.jar, commons -logging-1.2.jar, httpclient-4.5.2.jar, httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar, jackson-core-2.15.2.jar, jackson-databind-2.15.2 .jar, jackson-databind-2.16.zip, http-request-3.2.1.jar, httpclient-4.5.2.jar</p>\n<p>It should be noted that it is not a maven project and I do not have the pom.xml</p>\n"},{"tags":["java","string","replace"],"answers":[{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1365404706,"creation_date":1365404407,"answer_id":15873089,"question_id":15873067,"body_markdown":"Try:\r\n\r\n    webUrl = webUrl.replace(&quot;http://&quot;,&quot;&quot;);\r\n\r\nAs [replace returns the replaced string][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29","title":"How to replace a string in jsp","body":"<p>Try:</p>\n\n<pre><code>webUrl = webUrl.replace(\"http://\",\"\");\n</code></pre>\n\n<p>As <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29\" rel=\"nofollow\">replace returns the replaced string</a></p>\n"},{"tags":[],"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365404501,"creation_date":1365404501,"answer_id":15873110,"question_id":15873067,"body_markdown":"You need to do like following.String is immutable class.replace will return you new String object.\r\n\r\n    webUrl = webUrl.replace(&quot;http://&quot;,&quot;&quot;);\r\n\r\nRefer https://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning","title":"How to replace a string in jsp","body":"<p>You need to do like following.String is immutable class.replace will return you new String object.</p>\n\n<pre><code>webUrl = webUrl.replace(\"http://\",\"\");\n</code></pre>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning\">String is immutable. What exactly is the meaning?</a></p>\n"}],"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15873089,"answer_count":2,"score":1,"last_activity_date":1697549452,"creation_date":1365404340,"question_id":15873067,"body_markdown":"I have a string url like `http://google.com`. I need to remove `&#39;http://&#39;` from the URL. I have tried the method `.replace(&quot;http://&quot;,&quot;&quot;)`, but it is not working.\r\n\r\n    Web web = org.getWeb();\r\n    webUrl = web.getUrl();\r\n    out.println(&quot;webUrl :&quot;+webUrl );  // here it prints:: http://google.com\r\n    webUrl.replace(&quot;http://&quot;,&quot;&quot;);\r\n    out.println(&quot;webUrl :&quot;+webUrl );  // here also it prints:: http://google.com","title":"How to replace a string in jsp","body":"<p>I have a string url like <code>http://google.com</code>. I need to remove <code>'http://'</code> from the URL. I have tried the method <code>.replace(\"http://\",\"\")</code>, but it is not working.</p>\n\n<pre><code>Web web = org.getWeb();\nwebUrl = web.getUrl();\nout.println(\"webUrl :\"+webUrl );  // here it prints:: http://google.com\nwebUrl.replace(\"http://\",\"\");\nout.println(\"webUrl :\"+webUrl );  // here also it prints:: http://google.com\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","apache-camel"],"owner":{"account_id":26128363,"reputation":21,"user_id":19819460,"display_name":"poly_glot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697549260,"creation_date":1697549260,"question_id":77309412,"body_markdown":"```java\r\nString s3Url = &quot;aws2-s3://mybucket?prefix=demo/notify/hello.txt&quot; +\r\n                &quot;&amp;useDefaultCredentialsProvider=true&quot; +\r\n                &quot;&amp;initialDelay=5000&quot; +\r\n                &quot;&amp;delay=60s&quot; +\r\n                &quot;&amp;moveAfterRead=true&quot; +\r\n                &quot;&amp;destinationBucket=mybucket&quot; +\r\n                &quot;&amp;destinationBucketPrefix=demo/archive&quot; +\r\n                &quot;&amp;maxMessagesPerPoll=1&quot;;\r\n\r\n        log.info(&quot;start route for S3&quot;);\r\n        from(s3Url)\r\n                .routeId(&quot;S3 bucket route&quot;)\r\n                .routeDescription(&quot;Read file from S3 bucket&quot;)\r\n                .log(&quot;Headers : ${headers}&quot;)\r\n                .log(&quot;Received body: ${body}&quot;)\r\n        ;\r\n\r\n        log.info(&quot;finish route for S3&quot;);\r\n```\r\n\r\nI am trying to read a file from S3 bucket `mybucket` with prefix `demo/notify/hello.txt` and move after reading to same bucket with prefix `demo/archive/hello.txt`\r\n\r\nWhen I use the above code it moves it to the same bucket but with prefix `demo/archive/demo/notify/hello.txt`.\r\n\r\nIs there a way to accomplish this using AWS S3 component of Apache Camel or otherwise?","title":"How to rename key when moving after reading from S3 in Apache Camel?","body":"<pre class=\"lang-java prettyprint-override\"><code>String s3Url = &quot;aws2-s3://mybucket?prefix=demo/notify/hello.txt&quot; +\n                &quot;&amp;useDefaultCredentialsProvider=true&quot; +\n                &quot;&amp;initialDelay=5000&quot; +\n                &quot;&amp;delay=60s&quot; +\n                &quot;&amp;moveAfterRead=true&quot; +\n                &quot;&amp;destinationBucket=mybucket&quot; +\n                &quot;&amp;destinationBucketPrefix=demo/archive&quot; +\n                &quot;&amp;maxMessagesPerPoll=1&quot;;\n\n        log.info(&quot;start route for S3&quot;);\n        from(s3Url)\n                .routeId(&quot;S3 bucket route&quot;)\n                .routeDescription(&quot;Read file from S3 bucket&quot;)\n                .log(&quot;Headers : ${headers}&quot;)\n                .log(&quot;Received body: ${body}&quot;)\n        ;\n\n        log.info(&quot;finish route for S3&quot;);\n</code></pre>\n<p>I am trying to read a file from S3 bucket <code>mybucket</code> with prefix <code>demo/notify/hello.txt</code> and move after reading to same bucket with prefix <code>demo/archive/hello.txt</code></p>\n<p>When I use the above code it moves it to the same bucket but with prefix <code>demo/archive/demo/notify/hello.txt</code>.</p>\n<p>Is there a way to accomplish this using AWS S3 component of Apache Camel or otherwise?</p>\n"},{"tags":["java","java-8","localdate"],"comments":[{"owner":{"account_id":17932162,"reputation":150,"user_id":13029436,"display_name":"robert0801"},"score":0,"creation_date":1615384770,"post_id":66566223,"comment_id":117673796,"body_markdown":"No, I can get date LocalDate.of(2000, 1, 10); and it won&#39;t be work.","body":"No, I can get date LocalDate.of(2000, 1, 10); and it won&#39;t be work."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1615385001,"post_id":66566223,"comment_id":117673909,"body_markdown":"Does this answer your question? [Add leading zeroes to number in Java?](https://stackoverflow.com/questions/275711/add-leading-zeroes-to-number-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/275711/add-leading-zeroes-to-number-in-java\">Add leading zeroes to number in Java?</a>"},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":4,"creation_date":1615385013,"post_id":66566223,"comment_id":117673920,"body_markdown":"`1` from `getDayOfMonth()` is an integer, `01` would be a string. So you have to covert it","body":"<code>1</code> from <code>getDayOfMonth()</code> is an integer, <code>01</code> would be a string. So you have to covert it"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1615633785,"post_id":66566223,"comment_id":117754985,"body_markdown":"@OHGODSPIDERS If that answers the question, then it is giving the wrong answer. Given a `LocalDate` we should not convert first to `int` and then to a zero-padded `String`. We have `DateTimeFormatter` for the purpose, which is not mentioned in the question you mention. The duplicate marking is rather harmful.","body":"@OHGODSPIDERS If that answers the question, then it is giving the wrong answer. Given a <code>LocalDate</code> we should not convert first to <code>int</code> and then to a zero-padded <code>String</code>. We have <code>DateTimeFormatter</code> for the purpose, which is not mentioned in the question you mention. The duplicate marking is rather harmful."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1697549056,"creation_date":1615390355,"answer_id":66567943,"question_id":66566223,"body_markdown":"As Benjamin M correctly stated in a comment, `01` would be a string (not an `int`). The correct way to convert a date to a string goes through a formatter. **Edit:** This one gives you a two-digit day of month (01 through 31):\r\n\r\n    private static final DateTimeFormatter dayOfMonthFormatter\r\n            = DateTimeFormatter.ofPattern(&quot;dd&quot;);\r\n\r\nTo use it with your birth date:\r\n\r\n        LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\r\n        String twoDigitDayOfMonth = dateOfBirthday.format(dayOfMonthFormatter);\r\n        System.out.println(&quot;Day of month: &quot; + twoDigitDayOfMonth);\r\n\r\nOutput is:\r\n\r\n&gt; Day of month: 01\r\n\r\n**Original answer:** This one gives you a two-digit month — so 01 for January through 12 for December:\r\n\r\n\tprivate static final DateTimeFormatter monthFormatter\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;MM&quot;);\r\n\r\nTo use it with your birth date:\r\n\r\n\t\tLocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\r\n\t\tString twoDigitMonth = dateOfBirthday.format(monthFormatter);\r\n\t\tSystem.out.println(&quot;Month: &quot; + twoDigitMonth);\r\n\r\nOutput is:\r\n\r\n&gt; Month: 01\r\n","title":"Get day of month from LocalDate with leading zero","body":"<p>As Benjamin M correctly stated in a comment, <code>01</code> would be a string (not an <code>int</code>). The correct way to convert a date to a string goes through a formatter. <strong>Edit:</strong> This one gives you a two-digit day of month (01 through 31):</p>\n<pre><code>private static final DateTimeFormatter dayOfMonthFormatter\n        = DateTimeFormatter.ofPattern(&quot;dd&quot;);\n</code></pre>\n<p>To use it with your birth date:</p>\n<pre><code>    LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\n    String twoDigitDayOfMonth = dateOfBirthday.format(dayOfMonthFormatter);\n    System.out.println(&quot;Day of month: &quot; + twoDigitDayOfMonth);\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>Day of month: 01</p>\n</blockquote>\n<p><strong>Original answer:</strong> This one gives you a two-digit month — so 01 for January through 12 for December:</p>\n<pre><code>private static final DateTimeFormatter monthFormatter\n        = DateTimeFormatter.ofPattern(&quot;MM&quot;);\n</code></pre>\n<p>To use it with your birth date:</p>\n<pre><code>    LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\n    String twoDigitMonth = dateOfBirthday.format(monthFormatter);\n    System.out.println(&quot;Month: &quot; + twoDigitMonth);\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>Month: 01</p>\n</blockquote>\n"}],"owner":{"account_id":17932162,"reputation":150,"user_id":13029436,"display_name":"robert0801"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6021,"favorite_count":0,"down_vote_count":6,"up_vote_count":4,"closed_date":1615422414,"accepted_answer_id":66567943,"answer_count":1,"score":-2,"last_activity_date":1697549056,"creation_date":1615384623,"question_id":66566223,"body_markdown":"I get date in a format like `LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);`. \r\n\r\nI need to get the day of the month from that date. I using `dateOfBirthday.getDayOfMonth()` and it works and return `1`, but I need to get `01`.\r\n\r\nHow I can do it?","title":"Get day of month from LocalDate with leading zero","body":"<p>I get date in a format like <code>LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);</code>.</p>\n<p>I need to get the day of the month from that date. I using <code>dateOfBirthday.getDayOfMonth()</code> and it works and return <code>1</code>, but I need to get <code>01</code>.</p>\n<p>How I can do it?</p>\n"},{"tags":["java","spring","spring-boot","axon"],"comments":[{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":0,"creation_date":1697548930,"post_id":72416765,"comment_id":136291734,"body_markdown":"I&#39;ve updated my answer to include the update I posted on the GitHub issue you opened, @vab2048. For those curious in the GitHub issue on Axon Framework, you can find it here: https://github.com/AxonFramework/AxonFramework/issues/2427","body":"I&#39;ve updated my answer to include the update I posted on the GitHub issue you opened, @vab2048. For those curious in the GitHub issue on Axon Framework, you can find it here: <a href=\"https://github.com/AxonFramework/AxonFramework/issues/2427\" rel=\"nofollow noreferrer\">github.com/AxonFramework/AxonFramework/issues/2427</a>"}],"answers":[{"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697548884,"creation_date":1654008457,"answer_id":72449937,"question_id":72416765,"body_markdown":"I am somewhat in doubt about posting this as an answer, but I will do it regardless. \r\n\r\nHave you tried removing Spring AOP from the mix? \r\nIt seems like Spring AOP is making some inner classes that cause the `IllegalAccessError`, not so much Axon Framework.\r\n\r\nIf this solves the issue, I&#39;d wager there&#39;s something to be done with Spring AOP to make this work. \r\nSadly, this isn&#39;t my forte, so I&#39;d have to investigate what kind of settings, if any, would help in that perspective.\r\n\r\n## Update - Require spring.aop\r\n\r\nAfter quite some time, I felt it necessary to dive into Java Modules myself. In combination with Axon Framework and Spring Boot, of course.\r\n\r\nHence, I updated my personal sample project (which you can find [here][1]) to include a `module-info.java` file. \r\nAfter some work, I hit a roughly similar issue around Spring AOP. \r\n\r\nAlthough I suggested the removal of Spring AOP, I wasn&#39;t directly depending on Spring AOP at all. It is Spring&#39;s Data module that uses Spring AOP to &quot;do its magic.&quot;\r\n\r\nSo, after adding `requires spring.aop` to my `module-info.java` file, I had my project running! I went through a similar exercise in the project linked in the original post, resulting in the same requirement to introduce `requires spring.aop` to the `module-info.java` file to make it run.\r\n\r\nI figured the update would be valuable to nudge others that may encounter a similar predicament!\r\n\r\n  [1]: https://github.com/smcvb/gamerental","title":"Spring `superinterface check failed` when using Java modules (for Axon Framework Spring Boot app)","body":"<p>I am somewhat in doubt about posting this as an answer, but I will do it regardless.</p>\n<p>Have you tried removing Spring AOP from the mix?\nIt seems like Spring AOP is making some inner classes that cause the <code>IllegalAccessError</code>, not so much Axon Framework.</p>\n<p>If this solves the issue, I'd wager there's something to be done with Spring AOP to make this work.\nSadly, this isn't my forte, so I'd have to investigate what kind of settings, if any, would help in that perspective.</p>\n<h2>Update - Require spring.aop</h2>\n<p>After quite some time, I felt it necessary to dive into Java Modules myself. In combination with Axon Framework and Spring Boot, of course.</p>\n<p>Hence, I updated my personal sample project (which you can find <a href=\"https://github.com/smcvb/gamerental\" rel=\"nofollow noreferrer\">here</a>) to include a <code>module-info.java</code> file.\nAfter some work, I hit a roughly similar issue around Spring AOP.</p>\n<p>Although I suggested the removal of Spring AOP, I wasn't directly depending on Spring AOP at all. It is Spring's Data module that uses Spring AOP to &quot;do its magic.&quot;</p>\n<p>So, after adding <code>requires spring.aop</code> to my <code>module-info.java</code> file, I had my project running! I went through a similar exercise in the project linked in the original post, resulting in the same requirement to introduce <code>requires spring.aop</code> to the <code>module-info.java</code> file to make it run.</p>\n<p>I figured the update would be valuable to nudge others that may encounter a similar predicament!</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72449937,"answer_count":1,"score":1,"last_activity_date":1697548884,"creation_date":1653750354,"question_id":72416765,"body_markdown":"I am currently experimenting with Spring Boot, the Axon Framework and java modules (using JDK 17).\r\n\r\nI have created a repo to illustrate the problem: [here][1]\r\n\r\nThe problem is that the application does not start and I get the exception as follows:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;accountViewProjection&#39; defined in file [C:\\workspace\\axon\\_issue_replication_repos\\axon-module-error\\axon-example-app\\build\\classes\\java\\main\\io\\github\\vab2048\\axon\\example_bug\\app\\query\\account\\AccountViewProjection.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:na]\r\n\tat spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:na]\r\n\tat io.github.vab2048.axon.example_bug.app/io.github.vab2048.axon.example_bug.app.AxonApplication.main(AxonApplication.java:10) ~[main/:na]\r\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:209) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.createAdapterProxy(AbstractAnnotationHandlerBeanPostProcessor.java:190) ~[axon-spring-4.5.9.jar:na]\r\n\tat org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.postProcessAfterInitialization(AbstractAnnotationHandlerBeanPostProcessor.java:89) ~[axon-spring-4.5.9.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:na]\r\n\t... 15 common frames omitted\r\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:512) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.3.20.jar:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.3.20.jar:na]\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:206) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2307) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:507) ~[spring-core-5.3.20.jar:na]\r\n\t... 35 common frames omitted\r\n```\r\n\r\nThe offending code seems to to be in `io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection`:\r\n\r\n```java\r\n    @QueryHandler\r\n    public AccountView getAccount(GetAccountView query) {\r\n        log.debug(&quot;Handling: {}&quot;, query);\r\n        return repository.findById(query.id()).orElseThrow();\r\n    }\r\n```\r\n\r\nIt is the Axon annotation `@QueryHandler` which causes it (you can verify this by commenting it out and then everything works). This is strange because none of the other Axon annotations cause this problem. The package itself is both exported and open in the `module-info.java` file.\r\n\r\nWhat am I doing wrong? I am aware there may be command line arguments which may be added to solve this issue but am not sure what exactly to use (ideally I shouldn&#39;t have to give any command line arguments at all).\r\n\r\n\r\n\r\n  [1]: https://github.com/vab2048/axon-spring-module-error","title":"Spring `superinterface check failed` when using Java modules (for Axon Framework Spring Boot app)","body":"<p>I am currently experimenting with Spring Boot, the Axon Framework and java modules (using JDK 17).</p>\n<p>I have created a repo to illustrate the problem: <a href=\"https://github.com/vab2048/axon-spring-module-error\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The problem is that the application does not start and I get the exception as follows:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'accountViewProjection' defined in file [C:\\workspace\\axon\\_issue_replication_repos\\axon-module-error\\axon-example-app\\build\\classes\\java\\main\\io\\github\\vab2048\\axon\\example_bug\\app\\query\\account\\AccountViewProjection.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:na]\n    at spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:na]\n    at spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:na]\n    at io.github.vab2048.axon.example_bug.app/io.github.vab2048.axon.example_bug.app.AxonApplication.main(AxonApplication.java:10) ~[main/:na]\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:209) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.createAdapterProxy(AbstractAnnotationHandlerBeanPostProcessor.java:190) ~[axon-spring-4.5.9.jar:na]\n    at org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.postProcessAfterInitialization(AbstractAnnotationHandlerBeanPostProcessor.java:89) ~[axon-spring-4.5.9.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:na]\n    ... 15 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:512) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.3.20.jar:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.3.20.jar:na]\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:206) ~[spring-aop-5.3.20.jar:5.3.20]\n    ... 21 common frames omitted\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\n    at java.base/java.lang.System$2.defineClass(System.java:2307) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843) ~[na:na]\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:507) ~[spring-core-5.3.20.jar:na]\n    ... 35 common frames omitted\n</code></pre>\n<p>The offending code seems to to be in <code>io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @QueryHandler\n    public AccountView getAccount(GetAccountView query) {\n        log.debug(&quot;Handling: {}&quot;, query);\n        return repository.findById(query.id()).orElseThrow();\n    }\n</code></pre>\n<p>It is the Axon annotation <code>@QueryHandler</code> which causes it (you can verify this by commenting it out and then everything works). This is strange because none of the other Axon annotations cause this problem. The package itself is both exported and open in the <code>module-info.java</code> file.</p>\n<p>What am I doing wrong? I am aware there may be command line arguments which may be added to solve this issue but am not sure what exactly to use (ideally I shouldn't have to give any command line arguments at all).</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":29692236,"reputation":36,"user_id":22756364,"display_name":"Marcos Paulo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697548733,"creation_date":1697548733,"answer_id":77309357,"question_id":77309289,"body_markdown":"To achieve the desired class file separation based on the directories A, B, and C in your Gradle build, you can use different configurations for each source set and specify dependencies between them. This way, you can control the class file output for each directory and ensure that dependencies are correctly resolved during compilation.\r\n\r\nHere&#39;s a step-by-step approach to set up your Gradle build:\r\n\r\n1. Define source sets:\r\n   Define separate source sets for directories A, B, and C.\r\n\r\n    sourceSets {\r\n        A {\r\n            java.srcDirs = [&#39;A/src&#39;]\r\n        }\r\n        B {\r\n            java.srcDirs = [&#39;B/src&#39;]\r\n        }\r\n        C {\r\n            java.srcDirs = [&#39;C/src&#39;]\r\n        }\r\n    }\r\n\r\n\r\n2. Define dependencies:\r\n   Specify dependencies between the source sets to ensure that classes from B and C are available to A, and classes from C are available to B.\r\n\r\n\r\n    dependencies {\r\n        AImplementation project(&#39;:B&#39;)\r\n        BImplementation project(&#39;:C&#39;)\r\n    }\r\n\r\nReplace `AImplementation` and `BImplementation` with the appropriate configurations depending on your project structure.\r\n\r\n3. Configure JAR tasks:\r\n   Configure JAR tasks to include the specific class directories for each source set.\r\n\r\n\r\n    task AJar(type: Jar) {\r\n        from sourceSets.A.output\r\n        archiveFileName = &quot;A.jar&quot;\r\n    }\r\n    \r\n    task BJar(type: Jar) {\r\n        from sourceSets.B.output\r\n        archiveFileName = &quot;B.jar&quot;\r\n    }\r\n    \r\n    task CJar(type: Jar) {\r\n        from sourceSets.C.output\r\n        archiveFileName = &quot;C.jar&quot;\r\n    }\r\n    \r\n    jar.dependsOn AJar, BJar, CJar\r\n\r\n\r\n\r\nIn this setup, we&#39;ve defined separate JAR tasks for each source set (A, B, C) and configured them to include the respective output directories. Additionally, we&#39;ve set up dependencies between the source sets to ensure proper class file resolution during compilation.\r\n\r\nYou can then run `gradle AJar`, `gradle BJar`, or `gradle CJar` to generate the JAR files for each source set. Adjust the dependencies and configurations according to your specific project structure and requirements.","title":"How to maintain structure in gradle sourceset with more than one src directory","body":"<p>To achieve the desired class file separation based on the directories A, B, and C in your Gradle build, you can use different configurations for each source set and specify dependencies between them. This way, you can control the class file output for each directory and ensure that dependencies are correctly resolved during compilation.</p>\n<p>Here's a step-by-step approach to set up your Gradle build:</p>\n<ol>\n<li><p>Define source sets:\nDefine separate source sets for directories A, B, and C.</p>\n<p>sourceSets {\nA {\njava.srcDirs = ['A/src']\n}\nB {\njava.srcDirs = ['B/src']\n}\nC {\njava.srcDirs = ['C/src']\n}\n}</p>\n</li>\n<li><p>Define dependencies:\nSpecify dependencies between the source sets to ensure that classes from B and C are available to A, and classes from C are available to B.</p>\n<p>dependencies {\nAImplementation project(':B')\nBImplementation project(':C')\n}</p>\n</li>\n</ol>\n<p>Replace <code>AImplementation</code> and <code>BImplementation</code> with the appropriate configurations depending on your project structure.</p>\n<ol start=\"3\">\n<li><p>Configure JAR tasks:\nConfigure JAR tasks to include the specific class directories for each source set.</p>\n<p>task AJar(type: Jar) {\nfrom sourceSets.A.output\narchiveFileName = &quot;A.jar&quot;\n}</p>\n<p>task BJar(type: Jar) {\nfrom sourceSets.B.output\narchiveFileName = &quot;B.jar&quot;\n}</p>\n<p>task CJar(type: Jar) {\nfrom sourceSets.C.output\narchiveFileName = &quot;C.jar&quot;\n}</p>\n<p>jar.dependsOn AJar, BJar, CJar</p>\n</li>\n</ol>\n<p>In this setup, we've defined separate JAR tasks for each source set (A, B, C) and configured them to include the respective output directories. Additionally, we've set up dependencies between the source sets to ensure proper class file resolution during compilation.</p>\n<p>You can then run <code>gradle AJar</code>, <code>gradle BJar</code>, or <code>gradle CJar</code> to generate the JAR files for each source set. Adjust the dependencies and configurations according to your specific project structure and requirements.</p>\n"}],"owner":{"account_id":26409459,"reputation":35,"user_id":20058715,"display_name":"BoroBoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77309357,"answer_count":1,"score":0,"last_activity_date":1697548733,"creation_date":1697548199,"question_id":77309289,"body_markdown":"In my root project I have 3 directories. Let&#39;s call them A,B and C. All of those directories contains some directories with .java files. Those files are dependent on each other somehow. Now, when I run gradle build task, gradle creates rootDir/build/classes dir. But all of those .class files are mixed. I want to have classes/A/&lt;some .class files&gt;, classes/B/&lt;some .class files&gt; and classes/C/&lt;some .class files&gt;. Instead I got all of them under one classes/main. For now my sourceSets look like this: \r\n\r\n    sourceSets {\r\n        main {java {\r\n                        srcDirs &quot;A/src&quot;\r\n                        srcDirs &quot;B/src&quot;\r\n                        srcDirs &quot;C/src&quot;\r\n                }}}\r\n\r\nI tried to create different structure like this: \r\n\r\n    sourceSets {\r\n        A {java {srcDirs &quot;A/src&quot;}}\r\n        B {...}\r\n        C {...}}\r\n\r\n\r\nThen, when I try to run this task: \r\n\r\n    task A(type:Jar) {\r\n        from sourceSets.A.output.classesDirs\r\n        from sourceSets.A.java.srcDirs\r\n        include &#39;**/*.class&#39;\r\n        archiveFileName = &quot;A.jar&quot;}\r\n\r\nObviously I got compilation error, since those classes cannot find methods from B and C. \r\nIs there any way to resolve this, or I will be forced to change structure of my code?\r\n","title":"How to maintain structure in gradle sourceset with more than one src directory","body":"<p>In my root project I have 3 directories. Let's call them A,B and C. All of those directories contains some directories with .java files. Those files are dependent on each other somehow. Now, when I run gradle build task, gradle creates rootDir/build/classes dir. But all of those .class files are mixed. I want to have classes/A/&lt;some .class files&gt;, classes/B/&lt;some .class files&gt; and classes/C/&lt;some .class files&gt;. Instead I got all of them under one classes/main. For now my sourceSets look like this:</p>\n<pre><code>sourceSets {\n    main {java {\n                    srcDirs &quot;A/src&quot;\n                    srcDirs &quot;B/src&quot;\n                    srcDirs &quot;C/src&quot;\n            }}}\n</code></pre>\n<p>I tried to create different structure like this:</p>\n<pre><code>sourceSets {\n    A {java {srcDirs &quot;A/src&quot;}}\n    B {...}\n    C {...}}\n</code></pre>\n<p>Then, when I try to run this task:</p>\n<pre><code>task A(type:Jar) {\n    from sourceSets.A.output.classesDirs\n    from sourceSets.A.java.srcDirs\n    include '**/*.class'\n    archiveFileName = &quot;A.jar&quot;}\n</code></pre>\n<p>Obviously I got compilation error, since those classes cannot find methods from B and C.\nIs there any way to resolve this, or I will be forced to change structure of my code?</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697439705,"post_id":77299862,"comment_id":136275220,"body_markdown":"I must assume that both `run` methods are in different threads (it would be better to have a [mre] in the question) - after a short look over given code, the second `run()` is not waiting for the first, so it can (and probably will) iterate more than once before the other thread even get a chance to run - but without a [mre], we are not able to see what `Odd`, `Even` or `input` are doing...","body":"I must assume that both <code>run</code> methods are in different threads (it would be better to have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question) - after a short look over given code, the second <code>run()</code> is not waiting for the first, so it can (and probably will) iterate more than once before the other thread even get a chance to run - but without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, we are not able to see what <code>Odd</code>, <code>Even</code> or <code>input</code> are doing..."}],"answers":[{"tags":[],"owner":{"account_id":25495908,"reputation":29,"user_id":19289978,"display_name":"zhan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1697454319,"creation_date":1697447382,"answer_id":77300713,"question_id":77299862,"body_markdown":"You wanna the number in order, then you must be sure the threads wait each other.\r\nI suggest you write like this:\r\n**Even**\r\n\r\n    for (int i = 1; i &lt;=number ; i+=2) {\r\n      if(allNumber.size == i){\r\n        synchronized (allNumber) {\r\n          if(allNumber.size == i){\r\n                allNumber.add(i);\r\n          }  \r\n        }\r\n      }\r\n    }\r\n    \r\n**Odd**\r\n\r\n    for (int i = 0; i &lt;=number ; i+=2) {\r\n      if(allNumber.size == i){\r\n        synchronized (allNumber) {\r\n           if(allNumber.size == i){\r\n                allNumber.add(i);\r\n           }   \r\n        }\r\n      }\r\n    }","title":"print number in order with thread","body":"<p>You wanna the number in order, then you must be sure the threads wait each other.\nI suggest you write like this:\n<strong>Even</strong></p>\n<pre><code>for (int i = 1; i &lt;=number ; i+=2) {\n  if(allNumber.size == i){\n    synchronized (allNumber) {\n      if(allNumber.size == i){\n            allNumber.add(i);\n      }  \n    }\n  }\n}\n</code></pre>\n<p><strong>Odd</strong></p>\n<pre><code>for (int i = 0; i &lt;=number ; i+=2) {\n  if(allNumber.size == i){\n    synchronized (allNumber) {\n       if(allNumber.size == i){\n            allNumber.add(i);\n       }   \n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697548591,"creation_date":1697455942,"answer_id":77301621,"question_id":77299862,"body_markdown":"I find one way this is my Even class code\r\n\r\n```java\r\npublic class Even extends Thread {\r\n\tprivate final int input;\r\n\tprivate final List&lt;Integer&gt; allNumbers;\r\n\r\n\tprivate List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\r\n\r\n\tpublic Even(int input, List&lt;Integer&gt; sharedList) {\r\n\t\tthis.input = input;\r\n\t\tthis.allNumbers = sharedList;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tsynchronized (allNumbers) {\r\n\t\t\tfor (int i = 0; i &lt;= input; i += 2) {\r\n\t\t\t\tallNumbers.add(i);\r\n\t\t\t\tevenList.add(i);\r\n\t\t\t\tallNumbers.notify();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (i &lt; input) {\r\n\t\t\t\t\t\tallNumbers.wait();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Even: &quot; + evenList + &quot; &quot;);\r\n\t\tSystem.out.println();\r\n\t}\r\n}\r\n```\r\n\r\nI do same for odd class then in main class create a list and pass it to Eeven and Odd class","title":"print number in order with thread","body":"<p>I find one way this is my Even class code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Even extends Thread {\n    private final int input;\n    private final List&lt;Integer&gt; allNumbers;\n\n    private List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\n\n    public Even(int input, List&lt;Integer&gt; sharedList) {\n        this.input = input;\n        this.allNumbers = sharedList;\n    }\n\n    @Override\n    public void run() {\n        synchronized (allNumbers) {\n            for (int i = 0; i &lt;= input; i += 2) {\n                allNumbers.add(i);\n                evenList.add(i);\n                allNumbers.notify();\n                try {\n                    if (i &lt; input) {\n                        allNumbers.wait();\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        System.out.print(&quot;Even: &quot; + evenList + &quot; &quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>I do same for odd class then in main class create a list and pass it to Eeven and Odd class</p>\n"}],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77301621,"answer_count":2,"score":1,"last_activity_date":1697548591,"creation_date":1697439074,"question_id":77299862,"body_markdown":"I want create two thread first one even and second one odd and I want have synchronized list to add this number and at last print number in order this is my codes\r\n\r\n```\r\n     @Override\r\n    public void run() {\r\n        synchronized (allNumber) {\r\n            for (int i = 1; i &lt;=number ; i+=2) {\r\n                allNumber.add(i);\r\n                try {\r\n                    allNumber.wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n     @Override\r\n    public void run() {\r\n        synchronized (allNumber){\r\n        for (int i = 0; i &lt;= number; i+=2) {\r\n            allNumber.add(i);\r\n            allNumber.notify();\r\n        }\r\n        }\r\n    }\r\n    public class Main {\r\n    private static Scanner input = new Scanner(System.in);\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.print(&quot;Enter Your Number: &quot;);\r\n        int number = input.nextInt();\r\n\r\n        List&lt;Integer&gt; sharedList = new ArrayList&lt;&gt;();\r\n\r\n        Odd oddThread = new Odd(number, sharedList);\r\n        Even evenThread = new Even(number, sharedList);\r\n\r\n        Thread thread = new Thread(oddThread);\r\n\r\n        Thread thread1 = new Thread(evenThread);\r\n\r\n        thread.start();\r\n        thread1.start();\r\n\r\n        System.out.println(&quot;List: &quot; + sharedList);\r\n\r\n    }\r\n}\r\n```\r\n\r\nmy output is not in order and its not complete\r\n","title":"print number in order with thread","body":"<p>I want create two thread first one even and second one odd and I want have synchronized list to add this number and at last print number in order this is my codes</p>\n<pre><code>     @Override\n    public void run() {\n        synchronized (allNumber) {\n            for (int i = 1; i &lt;=number ; i+=2) {\n                allNumber.add(i);\n                try {\n                    allNumber.wait();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n        }\n    }\n     @Override\n    public void run() {\n        synchronized (allNumber){\n        for (int i = 0; i &lt;= number; i+=2) {\n            allNumber.add(i);\n            allNumber.notify();\n        }\n        }\n    }\n    public class Main {\n    private static Scanner input = new Scanner(System.in);\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.print(&quot;Enter Your Number: &quot;);\n        int number = input.nextInt();\n\n        List&lt;Integer&gt; sharedList = new ArrayList&lt;&gt;();\n\n        Odd oddThread = new Odd(number, sharedList);\n        Even evenThread = new Even(number, sharedList);\n\n        Thread thread = new Thread(oddThread);\n\n        Thread thread1 = new Thread(evenThread);\n\n        thread.start();\n        thread1.start();\n\n        System.out.println(&quot;List: &quot; + sharedList);\n\n    }\n}\n</code></pre>\n<p>my output is not in order and its not complete</p>\n"},{"tags":["java","singleton"],"owner":{"account_id":201350,"reputation":2144,"user_id":447738,"accept_rate":57,"display_name":"cksrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697548265,"creation_date":1697548127,"question_id":77309279,"body_markdown":"I am providing a Java service responsible for abstracting away the connection to a TCP server. The idea is to avoid opening a new connection whenever `connect()` is called.\r\n\r\nFor me, this is the definition of the singleton pattern usage. Still, given the criticism around it, I would like to ask if there are other better and meaningful alternatives, specifically for such cases.\r\n\r\n    public class TCPConnectionService {\r\n        private static TCPConnectionService instance;\r\n        private final TCPConnection connection;\r\n        private TCPConnectionService() {\r\n            this.connection = connect();\r\n        }\r\n        public synchronized static TCPConnectionService getInstance() {\r\n            if (instance == null) {\r\n                instance = new TCPConnectionService();\r\n            }\r\n    \r\n            return instance;\r\n        }\r\n        private TCPConnection connect() {...}\r\n    }","title":"Java singleton, any alternatives for this usecase?","body":"<p>I am providing a Java service responsible for abstracting away the connection to a TCP server. The idea is to avoid opening a new connection whenever <code>connect()</code> is called.</p>\n<p>For me, this is the definition of the singleton pattern usage. Still, given the criticism around it, I would like to ask if there are other better and meaningful alternatives, specifically for such cases.</p>\n<pre><code>public class TCPConnectionService {\n    private static TCPConnectionService instance;\n    private final TCPConnection connection;\n    private TCPConnectionService() {\n        this.connection = connect();\n    }\n    public synchronized static TCPConnectionService getInstance() {\n        if (instance == null) {\n            instance = new TCPConnectionService();\n        }\n\n        return instance;\n    }\n    private TCPConnection connect() {...}\n}\n</code></pre>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"score":0,"creation_date":1299079091,"post_id":5169468,"comment_id":5805890,"body_markdown":"what exception are you running into?","body":"what exception are you running into?"},{"owner":{"account_id":70257,"reputation":8414,"user_id":203905,"accept_rate":85,"display_name":"mgv"},"score":0,"creation_date":1299079310,"post_id":5169468,"comment_id":5805948,"body_markdown":"The exception is HttpResponseException","body":"The exception is HttpResponseException"}],"answers":[{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1299083535,"creation_date":1299083535,"answer_id":5170468,"question_id":5169468,"body_markdown":"The default behaviour of HttpClient is compliant with the requirements of the HTTP specification (RFC 2616)\r\n\r\n&lt;pre&gt;\r\n10.3.3 302 Found\r\n...\r\n\r\n   If the 302 status code is received in response to a request other\r\n   than GET or HEAD, the user agent MUST NOT automatically redirect the\r\n   request unless it can be confirmed by the user, since this might\r\n   change the conditions under which the request was issued.\r\n\r\n&lt;/pre&gt;\r\n\r\nYou can override the default behaviour of HttpClient by sub-classing DefaultRedirectStrategy and overriding its #isRedirected() method. ","title":"Handling HttpClient Redirects","body":"<p>The default behaviour of HttpClient is compliant with the requirements of the HTTP specification (RFC 2616)</p>\n\n<pre>\n10.3.3 302 Found\n...\n\n   If the 302 status code is received in response to a request other\n   than GET or HEAD, the user agent MUST NOT automatically redirect the\n   request unless it can be confirmed by the user, since this might\n   change the conditions under which the request was issued.\n\n</pre>\n\n<p>You can override the default behaviour of HttpClient by sub-classing DefaultRedirectStrategy and overriding its #isRedirected() method. </p>\n"},{"tags":[],"owner":{"account_id":313841,"reputation":3065,"user_id":628694,"display_name":"Khai Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386110867,"creation_date":1386110867,"answer_id":20363295,"question_id":5169468,"body_markdown":"It seem http redirect is disable by default. I try to enable, it work but I&#39;m still got error with my problem. But we still can handle redirection pragmatically. I think your problem can solve:\r\nSo old code:\r\n\r\n    AndroidHttpClient httpClient = AndroidHttpClient.newInstance(&quot;User-Agent&quot;);\r\n    HttpGet httpGet = new HttpGet(url);\r\n    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n    long contentSize = httpResponse.getEntity().getContentLength();\r\nThis code will return `contentSize = -1` if http redirect happend\r\n\r\nAnd then I handle redirect by myself after trying enable default follow redirection\r\n\r\n    AndroidHttpClient client;\r\n    HttpGet httpGet;\r\n    HttpResponse response;\r\n    HttpHeader httpHeader;\r\n    private void handleHTTPRedirect(String url) throws IOException {\r\n\t\tif (client != null)\r\n\t\t\tclient.close();\r\n\r\n\t\tclient = AndroidHttpClient.newInstance(&quot;User-Agent&quot;);\r\n\t\thttpGet = new HttpGet(Network.encodeUrl(url));\r\n\t\tresponse = client.execute(httpGet);\r\n\t\thttpHeader = response.getHeaders(&quot;Location&quot;);\r\n\t\twhile (httpHeader.length &gt; 0) {\r\n\t\t\tclient.close();\r\n\t\t\tclient = AndroidHttpClient.newInstance(&quot;User-Agent&quot;);\r\n\r\n\t\t\thttpGet = new HttpGet(Network.encodeUrl(httpHeader[0].getValue()));\r\n\t\t\tresponse = client.execute(httpGet);\r\n\t\t\thttpHeader = response.getHeaders(&quot;Location&quot;);\r\n\t\t}\r\n\t}\r\n\r\nIn use\r\n\r\n    handleHTTPRedirect(url);\r\n    long contentSize = httpResponse.getEntity().getContentLength();\r\n    \r\nThanks\r\nNguyen\r\n","title":"Handling HttpClient Redirects","body":"<p>It seem http redirect is disable by default. I try to enable, it work but I'm still got error with my problem. But we still can handle redirection pragmatically. I think your problem can solve:\nSo old code:</p>\n\n<pre><code>AndroidHttpClient httpClient = AndroidHttpClient.newInstance(\"User-Agent\");\nHttpGet httpGet = new HttpGet(url);\nHttpResponse httpResponse = httpClient.execute(httpGet);\nlong contentSize = httpResponse.getEntity().getContentLength();\n</code></pre>\n\n<p>This code will return <code>contentSize = -1</code> if http redirect happend</p>\n\n<p>And then I handle redirect by myself after trying enable default follow redirection</p>\n\n<pre><code>AndroidHttpClient client;\nHttpGet httpGet;\nHttpResponse response;\nHttpHeader httpHeader;\nprivate void handleHTTPRedirect(String url) throws IOException {\n    if (client != null)\n        client.close();\n\n    client = AndroidHttpClient.newInstance(\"User-Agent\");\n    httpGet = new HttpGet(Network.encodeUrl(url));\n    response = client.execute(httpGet);\n    httpHeader = response.getHeaders(\"Location\");\n    while (httpHeader.length &gt; 0) {\n        client.close();\n        client = AndroidHttpClient.newInstance(\"User-Agent\");\n\n        httpGet = new HttpGet(Network.encodeUrl(httpHeader[0].getValue()));\n        response = client.execute(httpGet);\n        httpHeader = response.getHeaders(\"Location\");\n    }\n}\n</code></pre>\n\n<p>In use</p>\n\n<pre><code>handleHTTPRedirect(url);\nlong contentSize = httpResponse.getEntity().getContentLength();\n</code></pre>\n\n<p>Thanks\nNguyen</p>\n"},{"tags":[],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1397994832,"creation_date":1397994832,"answer_id":23181680,"question_id":5169468,"body_markdown":"For HttpClient **4.3**:  \r\n\r\n    HttpClient instance = HttpClientBuilder.create()\r\n                         .setRedirectStrategy(new LaxRedirectStrategy()).build();\r\n\r\nFor HttpClient **4.2**:  \r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n    client.setRedirectStrategy(new LaxRedirectStrategy());\r\n\r\nFor HttpClient **&lt; 4.2**:  \r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n    client.setRedirectStrategy(new DefaultRedirectStrategy() {\r\n        /** Redirectable methods. */\r\n        private String[] REDIRECT_METHODS = new String[] { \r\n            HttpGet.METHOD_NAME, HttpPost.METHOD_NAME, HttpHead.METHOD_NAME \r\n        };\r\n \r\n        @Override\r\n        protected boolean isRedirectable(String method) {\r\n            for (String m : REDIRECT_METHODS) {\r\n                if (m.equalsIgnoreCase(method)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });","title":"Handling HttpClient Redirects","body":"<p>For HttpClient <strong>4.3</strong>:  </p>\n\n<pre><code>HttpClient instance = HttpClientBuilder.create()\n                     .setRedirectStrategy(new LaxRedirectStrategy()).build();\n</code></pre>\n\n<p>For HttpClient <strong>4.2</strong>:  </p>\n\n<pre><code>DefaultHttpClient client = new DefaultHttpClient();\nclient.setRedirectStrategy(new LaxRedirectStrategy());\n</code></pre>\n\n<p>For HttpClient <strong>&lt; 4.2</strong>:  </p>\n\n<pre><code>DefaultHttpClient client = new DefaultHttpClient();\nclient.setRedirectStrategy(new DefaultRedirectStrategy() {\n    /** Redirectable methods. */\n    private String[] REDIRECT_METHODS = new String[] { \n        HttpGet.METHOD_NAME, HttpPost.METHOD_NAME, HttpHead.METHOD_NAME \n    };\n\n    @Override\n    protected boolean isRedirectable(String method) {\n        for (String m : REDIRECT_METHODS) {\n            if (m.equalsIgnoreCase(method)) {\n                return true;\n            }\n        }\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489586639,"creation_date":1489586639,"answer_id":42812058,"question_id":5169468,"body_markdown":"My solution is using HttClient. I had to send the response back to the caller. This is my solution \r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n\t\t\t\t.setRedirectStrategy(new LaxRedirectStrategy())\r\n\t\t\t\t.build();\r\n\r\n\t\t//this reads the input stream from POST\r\n\t\tServletInputStream str = request.getInputStream();\r\n\r\n\t\tHttpPost httpPost = new HttpPost(path);\r\n\t\tHttpEntity postParams = new InputStreamEntity(str);\r\n\t\thttpPost.setEntity(postParams);\r\n\r\n\t\tHttpResponse httpResponse = null ;\r\n\t\tint responseCode = -1 ;\r\n\t\tStringBuffer response  = new StringBuffer();\r\n\r\n\t\ttry {\r\n\r\n\t\t\thttpResponse = httpClient.execute(httpPost);\r\n\r\n\t\t\tresponseCode = httpResponse.getStatusLine().getStatusCode();\r\n\t\t\tlogger.info(&quot;POST Response Status::  {} for file {}  &quot;, responseCode, request.getQueryString());\r\n\r\n\t\t\t//return httpResponse ;\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\thttpResponse.getEntity().getContent()));\r\n\r\n\t\t\tString inputLine;\r\n\t\t\twhile ((inputLine = reader.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\r\n\t\t\tlogger.info(&quot; Final Complete Response {}  &quot; + response.toString());\r\n\t\t\thttpClient.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\tlogger.error(&quot;Exception &quot;, e);\r\n\r\n\t\t} finally {\r\n\r\n\t\t\tIOUtils.closeQuietly(httpClient);\r\n\r\n\t\t}\r\n\r\n\t\t// Return the response back to caller\r\n\t\treturn \tnew ResponseEntity&lt;String&gt;(response.toString(), HttpStatus.ACCEPTED);","title":"Handling HttpClient Redirects","body":"<p>My solution is using HttClient. I had to send the response back to the caller. This is my solution </p>\n\n<pre><code>    CloseableHttpClient httpClient = HttpClients.custom()\n            .setRedirectStrategy(new LaxRedirectStrategy())\n            .build();\n\n    //this reads the input stream from POST\n    ServletInputStream str = request.getInputStream();\n\n    HttpPost httpPost = new HttpPost(path);\n    HttpEntity postParams = new InputStreamEntity(str);\n    httpPost.setEntity(postParams);\n\n    HttpResponse httpResponse = null ;\n    int responseCode = -1 ;\n    StringBuffer response  = new StringBuffer();\n\n    try {\n\n        httpResponse = httpClient.execute(httpPost);\n\n        responseCode = httpResponse.getStatusLine().getStatusCode();\n        logger.info(\"POST Response Status::  {} for file {}  \", responseCode, request.getQueryString());\n\n        //return httpResponse ;\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                httpResponse.getEntity().getContent()));\n\n        String inputLine;\n        while ((inputLine = reader.readLine()) != null) {\n            response.append(inputLine);\n        }\n        reader.close();\n\n        logger.info(\" Final Complete Response {}  \" + response.toString());\n        httpClient.close();\n\n    } catch (Exception e) {\n\n        logger.error(\"Exception \", e);\n\n    } finally {\n\n        IOUtils.closeQuietly(httpClient);\n\n    }\n\n    // Return the response back to caller\n    return  new ResponseEntity&lt;String&gt;(response.toString(), HttpStatus.ACCEPTED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11431168,"reputation":109,"user_id":8379823,"display_name":"Johnson Carneiro"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675320466,"creation_date":1675320466,"answer_id":75319547,"question_id":5169468,"body_markdown":"For HttpClient v5, just use the below:\r\n\r\n    httpClient = HttpClientBuilder.create()\r\n                .setRedirectStrategy(new DefaultRedirectStrategy() {\r\n                \t@Override\r\n                \tpublic boolean isRedirected(HttpRequest request, HttpResponse response, HttpContext context)\r\n                \t\t\tthrows ProtocolException {\r\n                \t\treturn false;\r\n                \t}\r\n                }).build();","title":"Handling HttpClient Redirects","body":"<p>For HttpClient v5, just use the below:</p>\n<pre><code>httpClient = HttpClientBuilder.create()\n            .setRedirectStrategy(new DefaultRedirectStrategy() {\n                @Override\n                public boolean isRedirected(HttpRequest request, HttpResponse response, HttpContext context)\n                        throws ProtocolException {\n                    return false;\n                }\n            }).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697548112,"creation_date":1697548112,"answer_id":77309275,"question_id":5169468,"body_markdown":"To handle redirects in Java HttpClient (i.e. java.net.http.HttpClient), we can use followRedirects() when we build HttpClient like this:\r\n\r\n    HttpClient httpClient = HttpClient.newBuilder()\r\n    .followRedirects(HttpClient.Redirect.ALWAYS)\r\n    .build();\r\n\r\n","title":"Handling HttpClient Redirects","body":"<p>To handle redirects in Java HttpClient (i.e. java.net.http.HttpClient), we can use followRedirects() when we build HttpClient like this:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n.followRedirects(HttpClient.Redirect.ALWAYS)\n.build();\n</code></pre>\n"}],"owner":{"account_id":70257,"reputation":8414,"user_id":203905,"accept_rate":85,"display_name":"mgv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81697,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":5170468,"answer_count":6,"score":51,"last_activity_date":1697548112,"creation_date":1299078727,"question_id":5169468,"body_markdown":"I&#39;m POSTing some data to a server that is answering a 302 Moved Temporarily.\r\n\r\nI want HttpClient to follow the redirect and automatically GET the new location, as I believe it&#39;s the default behaviour of HttpClient. However, I&#39;m getting an exception and not following the redirect :(\r\n\r\nHere&#39;s the relevant piece of code, any ideas will be appreciated:\r\n\r\n    HttpParams httpParams = new BasicHttpParams();\r\n    HttpClientParams.setRedirecting(httpParams, true);\r\n    SchemeRegistry schemeRegistry = registerFactories();\r\n    ClientConnectionManager clientConnectionManager = new ThreadSafeClientConnManager(httpParams, schemeRegistry);\r\n\t\t\r\n    HttpClient httpClient = new DefaultHttpClient(clientConnectionManager, httpParams)\r\n    HttpPost postRequest = new HttpPost(url);\r\n    postRequest.setHeader(HTTP.CONTENT_TYPE, contentType);\r\n    postRequest.setHeader(ACCEPT, contentType);\r\n    \t\t\r\n    if (requestBodyString != null) {\r\n        postRequest.setEntity(new StringEntity(requestBodyString));\r\n    }\r\n    \r\n    return httpClient.execute(postRequest, responseHandler);","title":"Handling HttpClient Redirects","body":"<p>I'm POSTing some data to a server that is answering a 302 Moved Temporarily.</p>\n\n<p>I want HttpClient to follow the redirect and automatically GET the new location, as I believe it's the default behaviour of HttpClient. However, I'm getting an exception and not following the redirect :(</p>\n\n<p>Here's the relevant piece of code, any ideas will be appreciated:</p>\n\n<pre><code>HttpParams httpParams = new BasicHttpParams();\nHttpClientParams.setRedirecting(httpParams, true);\nSchemeRegistry schemeRegistry = registerFactories();\nClientConnectionManager clientConnectionManager = new ThreadSafeClientConnManager(httpParams, schemeRegistry);\n\nHttpClient httpClient = new DefaultHttpClient(clientConnectionManager, httpParams)\nHttpPost postRequest = new HttpPost(url);\npostRequest.setHeader(HTTP.CONTENT_TYPE, contentType);\npostRequest.setHeader(ACCEPT, contentType);\n\nif (requestBodyString != null) {\n    postRequest.setEntity(new StringEntity(requestBodyString));\n}\n\nreturn httpClient.execute(postRequest, responseHandler);\n</code></pre>\n"},{"tags":["java","rest","oracle-cloud-infrastructure"],"answers":[{"tags":[],"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697547693,"creation_date":1697547693,"answer_id":77309219,"question_id":77308538,"body_markdown":"If you want to list the buckets, you have the wrong endpoint. There&#39;s no information in the docs indicating the version `20160918` should be passed in the uri. \r\n\r\nThe correct uri should be\r\n\r\n`https://objectstorage.{{MYREGION}}.oraclecloud.com/n/{{TENANCY}}/b/?compartmentId={{compartmentId}}`\r\n\r\n_src: https://docs.oracle.com/en-us/iaas/api/#/en/objectstorage/20160918/Bucket/ListBuckets_","title":"Oracle OCI : Error messages when executing Rest API to get buckets list","body":"<p>If you want to list the buckets, you have the wrong endpoint. There's no information in the docs indicating the version <code>20160918</code> should be passed in the uri.</p>\n<p>The correct uri should be</p>\n<p><code>https://objectstorage.{{MYREGION}}.oraclecloud.com/n/{{TENANCY}}/b/?compartmentId={{compartmentId}}</code></p>\n<p><em>src: <a href=\"https://docs.oracle.com/en-us/iaas/api/#/en/objectstorage/20160918/Bucket/ListBuckets\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en-us/iaas/api/#/en/objectstorage/20160918/Bucket/ListBuckets</a></em></p>\n"}],"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697547693,"creation_date":1697541455,"question_id":77308538,"body_markdown":"I&#39;m running the following Rest API in order to list our buckets:\r\n\r\n```\r\nhttps://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\r\n```\r\n\r\nI&#39;m getting the following error:\r\n\r\n```\r\nIllegal character in path at index 88: https://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\r\n```\r\n\r\nWhy is that?\r\n\r\nI couldn&#39;t find any reference on that on Oracle&#39;s documentation\r\n\r\nTried to modify the Rest API with several permutations,\r\nAll are ending with the same message &quot;Illegal character in path at index&quot;","title":"Oracle OCI : Error messages when executing Rest API to get buckets list","body":"<p>I'm running the following Rest API in order to list our buckets:</p>\n<pre><code>https://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\n</code></pre>\n<p>I'm getting the following error:</p>\n<pre><code>Illegal character in path at index 88: https://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\n</code></pre>\n<p>Why is that?</p>\n<p>I couldn't find any reference on that on Oracle's documentation</p>\n<p>Tried to modify the Rest API with several permutations,\nAll are ending with the same message &quot;Illegal character in path at index&quot;</p>\n"},{"tags":["java","spring-boot","springdoc","openj9"],"answers":[{"tags":[],"owner":{"account_id":7234934,"reputation":143,"user_id":5520539,"display_name":"Rick Deckard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644233018,"creation_date":1644233018,"answer_id":71017759,"question_id":71017758,"body_markdown":"After much tries, I isolated the problem: it seems that the problem only occurs when the following dependency is active (maven syntax):\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwhere ${springdoc.version} is 1.6.3 (or &lt;= 1.6.3)\r\n\r\nUse dependency &gt;= 1.6.4 and the problem is solved.\r\n","title":"Spring Boot 2.6.X + JRE 17 Openj9 - Unhandled exception Type=Segmentation error","body":"<p>After much tries, I isolated the problem: it seems that the problem only occurs when the following dependency is active (maven syntax):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;${springdoc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>where ${springdoc.version} is 1.6.3 (or &lt;= 1.6.3)</p>\n<p>Use dependency &gt;= 1.6.4 and the problem is solved.</p>\n"}],"owner":{"account_id":7234934,"reputation":143,"user_id":5520539,"display_name":"Rick Deckard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697546934,"creation_date":1644233018,"question_id":71017758,"body_markdown":"Target of this post is to help to solve the the problem in the title.\r\n\r\nInfos:\r\n\r\n**java -version**\r\n    \r\n    openjdk version &quot;17.0.2&quot; 2022-01-18\r\n    IBM Semeru Runtime Open Edition 17.0.2.0 (build 17.0.2+8)\r\n    Eclipse OpenJ9 VM 17.0.2.0 (build openj9-0.30.0, JRE 17 Linux amd64-64-Bit Compressed References 20220128_115 (JIT enabled, AOT enabled)\r\n    OpenJ9   - 9dccbe076\r\n    OMR      - dac962a28\r\n    JCL      - 64cd399ca28 based on jdk-17.0.2+8)\r\n\r\n**SpringBoot version**: v2.6.2\r\n\r\n**Detailed error**:\r\n\r\n        Unhandled exception\r\n        Type=Segmentation error vmState=0x00000000\r\n        J9Generic_Signal_Number=00000018 Signal_Number=0000000b Error_Value=00000000 Signal_Code=00000001\r\n        Handler1=00007FD4FEE86560 Handler2=00007FD4FEBE4BA0 InaccessibleAddress=00000000FFFFF780\r\n        [...]\r\n        Module=/opt/jre-17.0.2+8-openj9/lib/default/libj9vm29.so\r\n\r\n\r\n\r\n","title":"Spring Boot 2.6.X + JRE 17 Openj9 - Unhandled exception Type=Segmentation error","body":"<p>Target of this post is to help to solve the the problem in the title.</p>\n<p>Infos:</p>\n<p><strong>java -version</strong></p>\n<pre><code>openjdk version &quot;17.0.2&quot; 2022-01-18\nIBM Semeru Runtime Open Edition 17.0.2.0 (build 17.0.2+8)\nEclipse OpenJ9 VM 17.0.2.0 (build openj9-0.30.0, JRE 17 Linux amd64-64-Bit Compressed References 20220128_115 (JIT enabled, AOT enabled)\nOpenJ9   - 9dccbe076\nOMR      - dac962a28\nJCL      - 64cd399ca28 based on jdk-17.0.2+8)\n</code></pre>\n<p><strong>SpringBoot version</strong>: v2.6.2</p>\n<p><strong>Detailed error</strong>:</p>\n<pre><code>    Unhandled exception\n    Type=Segmentation error vmState=0x00000000\n    J9Generic_Signal_Number=00000018 Signal_Number=0000000b Error_Value=00000000 Signal_Code=00000001\n    Handler1=00007FD4FEE86560 Handler2=00007FD4FEBE4BA0 InaccessibleAddress=00000000FFFFF780\n    [...]\n    Module=/opt/jre-17.0.2+8-openj9/lib/default/libj9vm29.so\n</code></pre>\n"},{"tags":["java","maven","cors","bamboo","rhel8"],"owner":{"account_id":427843,"reputation":779,"user_id":809808,"accept_rate":67,"display_name":"user809808"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697546696,"creation_date":1697546696,"question_id":77309112,"body_markdown":"We have Java 17 app, which is configured correctly to not have CORS error.\r\nAfter Bamboo builds server migrated from RHEL 7 to RHEL 8 we noticed that generated jar is different by size (with same source code and build scripts: Maven) and that it started generated CORS errors when called from UI. \r\nI am curious, as I never saw such thing - what config on build server itself can cause such thing?","title":"CORS error appears with the same source code by using different build servers","body":"<p>We have Java 17 app, which is configured correctly to not have CORS error.\nAfter Bamboo builds server migrated from RHEL 7 to RHEL 8 we noticed that generated jar is different by size (with same source code and build scripts: Maven) and that it started generated CORS errors when called from UI.\nI am curious, as I never saw such thing - what config on build server itself can cause such thing?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1697209026,"post_id":77286381,"comment_id":136255170,"body_markdown":"why are you trying to delete and then create again an entity instead of just updating it in the DB? are there any reasons for doing that?","body":"why are you trying to delete and then create again an entity instead of just updating it in the DB? are there any reasons for doing that?"},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1697546353,"post_id":77286381,"comment_id":136291162,"body_markdown":"@AndreiTitov is right! Also can you update deleteBySemesterId method signature in you question and what error it throwing","body":"@AndreiTitov is right! Also can you update deleteBySemesterId method signature in you question and what error it throwing"},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1697546618,"post_id":77286381,"comment_id":136291217,"body_markdown":"@Nidhi257 I think this is the best solution here, the `semesterList` is populated with x amount of records depending on the `startDate` and `endDate`. So when the startDate and endDate changed, it&#39;s best to just delete all and start over.","body":"@Nidhi257 I think this is the best solution here, the <code>semesterList</code> is populated with x amount of records depending on the <code>startDate</code> and <code>endDate</code>. So when the startDate and endDate changed, it&#39;s best to just delete all and start over."}],"answers":[{"tags":[],"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697223014,"creation_date":1697223014,"answer_id":77290061,"question_id":77286381,"body_markdown":"let me tell you where you are going wrong here. Here the annotation you have used i.e @Transactional(propagation = Propagation.REQUIRES_NEW) is correct if there is a transaction is in progress spring will suspend the ongoing transaction and start a new one. But the the transactional annotation wont work since the you are calling deleteSemester and addSemester from a method in same class. This is a pitfall of the spring proxy when you invoke a method which is in the same bean you bypass the proxy which has the interceptor logic,you have to maybe add a new helper class. I am assuming there is a need for you to delete and add a record each time instead of just update.","title":"Spring Boot update method that calls delete and add method","body":"<p>let me tell you where you are going wrong here. Here the annotation you have used i.e @Transactional(propagation = Propagation.REQUIRES_NEW) is correct if there is a transaction is in progress spring will suspend the ongoing transaction and start a new one. But the the transactional annotation wont work since the you are calling deleteSemester and addSemester from a method in same class. This is a pitfall of the spring proxy when you invoke a method which is in the same bean you bypass the proxy which has the interceptor logic,you have to maybe add a new helper class. I am assuming there is a need for you to delete and add a record each time instead of just update.</p>\n"}],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697546549,"creation_date":1697187303,"question_id":77286381,"body_markdown":"So I have a `updateSemester` method that first calls `deleteSemester` then `addSemester`, I&#39;m currently having a problem where it tries to put both `delete` and `add` into the same transaction, the DB will throw `Duplicate entry &#39;6-1&#39; for key &#39;semester.UniqueSemester&#39;`\r\n\r\n```java\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic void addSemester(Long semesterId, LocalDate startDate, LocalDate endDate) {\r\n\r\n    Set&lt;Semester&gt; semesterList = new HashSet&lt;&gt;();\r\n    semesterRepository.saveAll(semesterList);\r\n}\r\n\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic void deleteById(Long semesterId) {\r\n\r\n    semesterRepository.deleteBySemesterId(semesterId);\r\n}\r\n\r\n\r\npublic void updateSemesterById(Long semesterId, LocalDate startDate, LocalDate endDate) {\r\n    deleteSemesterById(semesterId);\r\n    addSemester(semesterId, startDate, endDate);\r\n}\r\n```\r\n\r\nI tried a lot of combination of `@Transactional` but none works.","title":"Spring Boot update method that calls delete and add method","body":"<p>So I have a <code>updateSemester</code> method that first calls <code>deleteSemester</code> then <code>addSemester</code>, I'm currently having a problem where it tries to put both <code>delete</code> and <code>add</code> into the same transaction, the DB will throw <code>Duplicate entry '6-1' for key 'semester.UniqueSemester'</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void addSemester(Long semesterId, LocalDate startDate, LocalDate endDate) {\n\n    Set&lt;Semester&gt; semesterList = new HashSet&lt;&gt;();\n    semesterRepository.saveAll(semesterList);\n}\n\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void deleteById(Long semesterId) {\n\n    semesterRepository.deleteBySemesterId(semesterId);\n}\n\n\npublic void updateSemesterById(Long semesterId, LocalDate startDate, LocalDate endDate) {\n    deleteSemesterById(semesterId);\n    addSemester(semesterId, startDate, endDate);\n}\n</code></pre>\n<p>I tried a lot of combination of <code>@Transactional</code> but none works.</p>\n"},{"tags":["java","html","documentation","javadoc","doc"],"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697546491,"creation_date":1697546491,"question_id":77309086,"body_markdown":"I have java source code for which generated a javadocs using below\r\n\r\n    javadoc -d old_javadoc -sourcepath /path/to/old_source_folder -subpackages my.package.name\r\n\r\nThen made some changes to code, like: added few classes and methods, removed some methods etc.. \r\nNow generated agin updated javadoc with below. \r\n\r\n    javadoc -d updated_javadoc -sourcepath /path/to/updated_source_folder -subpackages my.package.name\r\n\r\nNow need to generate All changes html file which shows what are the changes Between old javadoc and updated javadoc? \r\n**Note: Jdk17 environment**\r\n","title":"How to generate changes between two javadoc versions","body":"<p>I have java source code for which generated a javadocs using below</p>\n<pre><code>javadoc -d old_javadoc -sourcepath /path/to/old_source_folder -subpackages my.package.name\n</code></pre>\n<p>Then made some changes to code, like: added few classes and methods, removed some methods etc..\nNow generated agin updated javadoc with below.</p>\n<pre><code>javadoc -d updated_javadoc -sourcepath /path/to/updated_source_folder -subpackages my.package.name\n</code></pre>\n<p>Now need to generate All changes html file which shows what are the changes Between old javadoc and updated javadoc?\n<strong>Note: Jdk17 environment</strong></p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1697540716,"post_id":77308452,"comment_id":136290053,"body_markdown":"Does this answer your question? [JRE 1.7 - java version - returns: java/lang/NoClassDefFoundError: java/lang/Object](https://stackoverflow.com/questions/11808829/jre-1-7-java-version-returns-java-lang-noclassdeffounderror-java-lang-obje)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11808829/jre-1-7-java-version-returns-java-lang-noclassdeffounderror-java-lang-obje\">JRE 1.7 - java version - returns: java/lang/NoClassDefFoundError: java/lang/Object</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697544013,"post_id":77308452,"comment_id":136290688,"body_markdown":"1) What does `java -version` say?  2) What does `/usr/lib/jvm/jdk1.5.0_06/bin/java -version` say?  3) What does `echo $PATH` say?","body":"1) What does <code>java -version</code> say?  2) What does <code>&#47;usr&#47;lib&#47;jvm&#47;jdk1.5.0_06&#47;bin&#47;java -version</code> say?  3) What does <code>echo $PATH</code> say?"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1697546212,"post_id":77308452,"comment_id":136291133,"body_markdown":"@StephenC, updated my post.","body":"@StephenC, updated my post."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697546500,"post_id":77308452,"comment_id":136291188,"body_markdown":"Basically you have a broken installation of Java 1.5.","body":"Basically you have a broken installation of Java 1.5."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697547676,"post_id":77308452,"comment_id":136291437,"body_markdown":"I should also note that the last public release of JDK 1.5 (aka Java 5.0) was in 2009.  And the `1.5.0_06` build was released in December 2005.  It is nearly 18 years out of date.","body":"I should also note that the last public release of JDK 1.5 (aka Java 5.0) was in 2009.  And the <code>1.5.0_06</code> build was released in December 2005.  It is nearly 18 years out of date."}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697546194,"creation_date":1697540552,"question_id":77308452,"body_markdown":"I am facing an issue with java build using ant.\r\n\r\nI have installed jdk 1.5, ant 1.7.1, and configured env paths.\r\n\r\n    $ echo $JAVA_HOME\r\n    /usr/lib/jvm/jdk1.5.0_06\r\n    \r\n    $ echo $ANT_HOME\r\n    /home/.../..../apache-ant-1.7.1/bin\r\n\r\nWhen I run &#39;ant&#39; at root of an ant project, I get error:\r\n\r\n    $ ant\r\n    Error occurred during initialization of VM\r\n    java/lang/NoClassDefFoundError: java/lang/Object\r\n\r\nWhat am I missing in my configuration?\r\n\r\nEdit:\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_362&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\r\n    OpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)\r\n    $ echo $PATH\r\n    /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n    $ /usr/lib/jvm/jdk1.5.0_06/bin/java\r\n    Error occurred during initialization of VM\r\n    java/lang/NoClassDefFoundError: java/lang/Object","title":"ant build: java/lang/NoClassDefFoundError: java/lang/Object","body":"<p>I am facing an issue with java build using ant.</p>\n<p>I have installed jdk 1.5, ant 1.7.1, and configured env paths.</p>\n<pre><code>$ echo $JAVA_HOME\n/usr/lib/jvm/jdk1.5.0_06\n\n$ echo $ANT_HOME\n/home/.../..../apache-ant-1.7.1/bin\n</code></pre>\n<p>When I run 'ant' at root of an ant project, I get error:</p>\n<pre><code>$ ant\nError occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</code></pre>\n<p>What am I missing in my configuration?</p>\n<p>Edit:</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\nOpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)\n$ echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\n$ /usr/lib/jvm/jdk1.5.0_06/bin/java\nError occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</code></pre>\n"},{"tags":["java","groovy","lambda","closures","spock"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697545873,"creation_date":1644644201,"answer_id":71089268,"question_id":71087906,"body_markdown":"### Why you should not do what you are trying\r\n\r\nThis invasive kind of testing is a nightmare! Sorry for my strong wording, but I want to make it clear that you should not over-specify tests like this, asserting on private final fields of lambda expressions. Why would it even be important what goes into the lambda? Simply verify the result. In order to do a verification like this, you\r\n\r\n  1. need to know internals of how lambdas are implemented in Java,\r\n  2. those implementation details have to stay unchanged across Java versions and\r\n  3. the implementations even have to be the same across JVM types like Oracle Hotspot, OpenJ9 etc.\r\n\r\nOtherwise, your tests break quickly. And why would you care how a method internally computes its result? A method should be tested like a black box, only in rare cases should you use interaction testing, where it is absolutely crucial in order to make sure that certain interactions between objects occur in a certain way (e.g. in order to verify a publish-subscribe design pattern).\r\n\r\n### How you can do it anyway (dont!!!)\r\nHaving said all that, just assuming for a minute that it does actually make sense to test like that (which it really does not!), a hint: Instead of accessing the field `args$2`, you can also access the declared field with index 1. Accessing by name is also possible, of course. Anyway, you have to reflect on the lambda&#39;s class, get the declared field(s) you are interested in, make them accessible (remember, they are `private final`) and then assert on their respective contents. You could also filter by field type in order to be less sensitive to their order (not shown here).\r\n\r\nBesides, I do not understand why you create a `TestableExampleClass` instead of using the original.\r\n\r\nIn this example, I am using explicit types instead of just `def` in order to make it easier to understand what the code does:\r\n\r\n```java\r\n    then:\r\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\r\n      Consumer&lt;Request&gt; requestConsumer = args[0]\r\n      Field nameField = requestConsumer.class.declaredFields[1]\r\n//    Field nameField = requestConsumer.class.getDeclaredField(&#39;arg$2&#39;)\r\n      nameField.accessible = true\r\n      byte[] nameBytes = nameField.get(requestConsumer)\r\n      assert new String(nameBytes, Charset.forName(&quot;UTF-8&quot;)) == &#39;teststring&#39;\r\n      return new CompletableFuture()\r\n    }\r\n```\r\n\r\nOr, in order to avoid the explicit `assert` in favour of a Spock-style condition:\r\n\r\n```java\r\n  def &#39;a test&#39;() {\r\n    given:\r\n    String name\r\n\r\n    when:\r\n    sut.exampleMethod(&#39;teststring&#39;)\r\n\r\n    then:\r\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\r\n      Consumer&lt;Request&gt; requestConsumer = args[0]\r\n      Field nameField = requestConsumer.class.declaredFields[1]\r\n//    Field nameField = requestConsumer.class.getDeclaredField(&#39;arg$2&#39;)\r\n      nameField.accessible = true\r\n      byte[] nameBytes = nameField.get(requestConsumer)\r\n      name = new String(nameBytes, Charset.forName(&quot;UTF-8&quot;))\r\n      return new CompletableFuture()\r\n    }\r\n    name == &#39;teststring&#39;\r\n  }\r\n```\r\n","title":"Access Lambda Arguments with Groovy and Spock Argument Capture","body":"<h3>Why you should not do what you are trying</h3>\n<p>This invasive kind of testing is a nightmare! Sorry for my strong wording, but I want to make it clear that you should not over-specify tests like this, asserting on private final fields of lambda expressions. Why would it even be important what goes into the lambda? Simply verify the result. In order to do a verification like this, you</p>\n<ol>\n<li>need to know internals of how lambdas are implemented in Java,</li>\n<li>those implementation details have to stay unchanged across Java versions and</li>\n<li>the implementations even have to be the same across JVM types like Oracle Hotspot, OpenJ9 etc.</li>\n</ol>\n<p>Otherwise, your tests break quickly. And why would you care how a method internally computes its result? A method should be tested like a black box, only in rare cases should you use interaction testing, where it is absolutely crucial in order to make sure that certain interactions between objects occur in a certain way (e.g. in order to verify a publish-subscribe design pattern).</p>\n<h3>How you can do it anyway (dont!!!)</h3>\n<p>Having said all that, just assuming for a minute that it does actually make sense to test like that (which it really does not!), a hint: Instead of accessing the field <code>args$2</code>, you can also access the declared field with index 1. Accessing by name is also possible, of course. Anyway, you have to reflect on the lambda's class, get the declared field(s) you are interested in, make them accessible (remember, they are <code>private final</code>) and then assert on their respective contents. You could also filter by field type in order to be less sensitive to their order (not shown here).</p>\n<p>Besides, I do not understand why you create a <code>TestableExampleClass</code> instead of using the original.</p>\n<p>In this example, I am using explicit types instead of just <code>def</code> in order to make it easier to understand what the code does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    then:\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\n      Consumer&lt;Request&gt; requestConsumer = args[0]\n      Field nameField = requestConsumer.class.declaredFields[1]\n//    Field nameField = requestConsumer.class.getDeclaredField('arg$2')\n      nameField.accessible = true\n      byte[] nameBytes = nameField.get(requestConsumer)\n      assert new String(nameBytes, Charset.forName(&quot;UTF-8&quot;)) == 'teststring'\n      return new CompletableFuture()\n    }\n</code></pre>\n<p>Or, in order to avoid the explicit <code>assert</code> in favour of a Spock-style condition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  def 'a test'() {\n    given:\n    String name\n\n    when:\n    sut.exampleMethod('teststring')\n\n    then:\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\n      Consumer&lt;Request&gt; requestConsumer = args[0]\n      Field nameField = requestConsumer.class.declaredFields[1]\n//    Field nameField = requestConsumer.class.getDeclaredField('arg$2')\n      nameField.accessible = true\n      byte[] nameBytes = nameField.get(requestConsumer)\n      name = new String(nameBytes, Charset.forName(&quot;UTF-8&quot;))\n      return new CompletableFuture()\n    }\n    name == 'teststring'\n  }\n</code></pre>\n"}],"owner":{"account_id":24230944,"reputation":33,"user_id":18184715,"display_name":"q-q"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71089268,"answer_count":1,"score":1,"last_activity_date":1697545873,"creation_date":1644624775,"question_id":71087906,"body_markdown":"I am trying to unit test a Java class with a method containing a lambda function. I am using Groovy and Spock for the test. For proprietary reasons I can&#39;t show the original code.\r\n\r\nThe Java method looks like this:\r\n```java\r\nclass ExampleClass {\r\n  AsyncHandler asynHandler;\r\n  Component componet;\r\n\r\n  Component getComponent() {\r\n    return component;\r\n  }\r\n\r\n  void exampleMethod(String input) {\r\n    byte[] data = input.getBytes();\r\n\r\n    getComponent().doCall(builder -&gt; \r\n      builder\r\n        .setName(name)\r\n        .data(data)\r\n        .build()).whenCompleteAsync(asyncHandler);\r\n  }\r\n}\r\n```\r\n\r\nWhere `component#doCall` has the following signature:\r\n```\r\nCompletableFuture&lt;Response&gt; doCall(Consumer&lt;Request&gt; request) {\r\n  // do some stuff\r\n}\r\n```\r\n\r\nThe groovy test looks like this:\r\n```java\r\nclass Spec extends Specification {\r\n  def mockComponent = Mock(Component)\r\n\r\n  @Subject\r\n  def sut = new TestableExampleClass(mockComponent)\r\n\r\n  def &#39;a test&#39;() {\r\n    when:\r\n    sut.exampleMethod(&#39;teststring&#39;)\r\n\r\n    then:\r\n    1 * componentMock.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\r\n      assert args[0].args$2.asUtf8String() == &#39;teststring&#39;\r\n      return new CompletableFuture()   \r\n    }\r\n  }\r\n\r\n  class TestableExampleClass extends ExampleClass {\r\n    def component\r\n\r\n    TestableExampleClass(Component component) {\r\n      this.component = component;\r\n    }\r\n\r\n    @Override\r\n    getComponent() {\r\n      return component\r\n    } \r\n  }\r\n}\r\n```\r\n\r\nThe captured argument, `args`, shows up as follows in the debug window if I place a breakpoint on the `assert` line:\r\n\r\n```\r\nargs = {Arrays$ArrayList@1234} size = 1\r\n  &gt; 0 = {Component$lambda}\r\n    &gt; args$1 = {TestableExampleClass}\r\n    &gt; args$2 = {bytes[]}\r\n```\r\n\r\nThere are two points confusing me:\r\n\r\n1. When I try to cast the captured argument `args[0]` as either `ExampleClass` or `TestableExampleClass` it throws a `GroovyCastException`. I believe this is because it is expecting `Component$Lambda`, but I am not sure how to cast this.\r\n\r\n2. Accessing the `data` property using `args[0].args$2`, doesn&#39;t seem like a clean way to do it. This is likely linked to the casting issue mentioned above. But is there a better way to do this, such as with `args[0].data`?\r\n\r\nEven if direct answers can&#39;t be given, a pointer to some documentation or article would be helpful. My search results discussed Groovy closures and Java lambdas comparisons separately, but not about using lambdas in closures.\r\n\r\n","title":"Access Lambda Arguments with Groovy and Spock Argument Capture","body":"<p>I am trying to unit test a Java class with a method containing a lambda function. I am using Groovy and Spock for the test. For proprietary reasons I can't show the original code.</p>\n<p>The Java method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleClass {\n  AsyncHandler asynHandler;\n  Component componet;\n\n  Component getComponent() {\n    return component;\n  }\n\n  void exampleMethod(String input) {\n    byte[] data = input.getBytes();\n\n    getComponent().doCall(builder -&gt; \n      builder\n        .setName(name)\n        .data(data)\n        .build()).whenCompleteAsync(asyncHandler);\n  }\n}\n</code></pre>\n<p>Where <code>component#doCall</code> has the following signature:</p>\n<pre><code>CompletableFuture&lt;Response&gt; doCall(Consumer&lt;Request&gt; request) {\n  // do some stuff\n}\n</code></pre>\n<p>The groovy test looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Spec extends Specification {\n  def mockComponent = Mock(Component)\n\n  @Subject\n  def sut = new TestableExampleClass(mockComponent)\n\n  def 'a test'() {\n    when:\n    sut.exampleMethod('teststring')\n\n    then:\n    1 * componentMock.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\n      assert args[0].args$2.asUtf8String() == 'teststring'\n      return new CompletableFuture()   \n    }\n  }\n\n  class TestableExampleClass extends ExampleClass {\n    def component\n\n    TestableExampleClass(Component component) {\n      this.component = component;\n    }\n\n    @Override\n    getComponent() {\n      return component\n    } \n  }\n}\n</code></pre>\n<p>The captured argument, <code>args</code>, shows up as follows in the debug window if I place a breakpoint on the <code>assert</code> line:</p>\n<pre><code>args = {Arrays$ArrayList@1234} size = 1\n  &gt; 0 = {Component$lambda}\n    &gt; args$1 = {TestableExampleClass}\n    &gt; args$2 = {bytes[]}\n</code></pre>\n<p>There are two points confusing me:</p>\n<ol>\n<li><p>When I try to cast the captured argument <code>args[0]</code> as either <code>ExampleClass</code> or <code>TestableExampleClass</code> it throws a <code>GroovyCastException</code>. I believe this is because it is expecting <code>Component$Lambda</code>, but I am not sure how to cast this.</p>\n</li>\n<li><p>Accessing the <code>data</code> property using <code>args[0].args$2</code>, doesn't seem like a clean way to do it. This is likely linked to the casting issue mentioned above. But is there a better way to do this, such as with <code>args[0].data</code>?</p>\n</li>\n</ol>\n<p>Even if direct answers can't be given, a pointer to some documentation or article would be helpful. My search results discussed Groovy closures and Java lambdas comparisons separately, but not about using lambdas in closures.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":8911546,"reputation":412,"user_id":6651590,"display_name":"Bartłomiej Adamczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697545590,"creation_date":1697545590,"question_id":77308980,"body_markdown":"During the process of migration from SpringBoot 2.x.x to 3.x.x (and effectively Hibernate) I got stuck on a problem with entity column value converters.\r\n\r\nI got the entity with Boolean type field, which is stored in the DB as either **Y**, **N** or **null** (varchar2 (1 char)):\r\n\r\n    @Entity\r\n    @Table(name = &quot;ENTITY_WITH_CONVERTED_FIELD&quot;)\r\n    public class EntityWithConvertedField {\r\n    \r\n    @Id\r\n    @Column(name = “ID”)\r\n    private Long id;\r\n    \r\n    @Column(name = “MY_FLAG)\r\n    @Convert(converter = YesNoConverter.class) // OOTB converter from org.hibernate.type package\r\n    private Boolean myFlag;  // this value is stored as either ‘Y’, ‘N’ or null in the db\r\n    }\r\n\r\nWhen this entity is then used in the queries (ex. CriteriaQuery, queries in the annotations of repository methods) I keep getting exceptions that looks like more or less like this:\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select mt1_0.ID from EntityWithConvertedField mt1_0 where mt1_0.MY_FLAG = false and mt1_0.ID=?] [ORA-00904: &quot;FALSE&quot;: invalid identifier] [n/a]; SQL [n/a]\r\n\r\nIt would suggest that no conversion happens on the Hibernate side.\r\n\r\nOn Hibernate versions prior to the 6.x, everything worked like a charm.\r\nI&#39;m running on SpringBoot 3.1.4 (with Hibernate 6.2.9.Final). I&#39;ve tried bumping the Hibernate version to the latest one but with no luck.\r\n\r\n","title":"Boolean/String conversion issues after Hibernate 6/SpringBoot 3 migration","body":"<p>During the process of migration from SpringBoot 2.x.x to 3.x.x (and effectively Hibernate) I got stuck on a problem with entity column value converters.</p>\n<p>I got the entity with Boolean type field, which is stored in the DB as either <strong>Y</strong>, <strong>N</strong> or <strong>null</strong> (varchar2 (1 char)):</p>\n<pre><code>@Entity\n@Table(name = &quot;ENTITY_WITH_CONVERTED_FIELD&quot;)\npublic class EntityWithConvertedField {\n\n@Id\n@Column(name = “ID”)\nprivate Long id;\n\n@Column(name = “MY_FLAG)\n@Convert(converter = YesNoConverter.class) // OOTB converter from org.hibernate.type package\nprivate Boolean myFlag;  // this value is stored as either ‘Y’, ‘N’ or null in the db\n}\n</code></pre>\n<p>When this entity is then used in the queries (ex. CriteriaQuery, queries in the annotations of repository methods) I keep getting exceptions that looks like more or less like this:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select mt1_0.ID from EntityWithConvertedField mt1_0 where mt1_0.MY_FLAG = false and mt1_0.ID=?] [ORA-00904: &quot;FALSE&quot;: invalid identifier] [n/a]; SQL [n/a]\n</code></pre>\n<p>It would suggest that no conversion happens on the Hibernate side.</p>\n<p>On Hibernate versions prior to the 6.x, everything worked like a charm.\nI'm running on SpringBoot 3.1.4 (with Hibernate 6.2.9.Final). I've tried bumping the Hibernate version to the latest one but with no luck.</p>\n"},{"tags":["java","spring","netflix-eureka","connection-refused"],"comments":[{"owner":{"account_id":12674513,"reputation":71,"user_id":9210838,"display_name":"Gazi Mohib"},"score":0,"creation_date":1697505575,"post_id":77305199,"comment_id":136285496,"body_markdown":"Please share your application.properties for both inventory-service and order-service.","body":"Please share your application.properties for both inventory-service and order-service."},{"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1697528665,"post_id":77305199,"comment_id":136287712,"body_markdown":"@GaziMohib Added it","body":"@GaziMohib Added it"},{"owner":{"account_id":12674513,"reputation":71,"user_id":9210838,"display_name":"Gazi Mohib"},"score":0,"creation_date":1697531240,"post_id":77305199,"comment_id":136288158,"body_markdown":"Everything seems okay to me. Also, I&#39;ve tested your code to generate the same scenario. It&#39;s working well. Share the error details, and let&#39;s see if there is something I can find. @Johnyb","body":"Everything seems okay to me. Also, I&#39;ve tested your code to generate the same scenario. It&#39;s working well. Share the error details, and let&#39;s see if there is something I can find. @Johnyb"},{"owner":{"account_id":9598629,"reputation":486,"user_id":7126967,"display_name":"Raw"},"score":0,"creation_date":1699279822,"post_id":77305199,"comment_id":136507977,"body_markdown":"I think you have to set &quot;http://localhost:8761/eureka//&quot; &quot;/&quot; behind eureka","body":"I think you have to set &quot;<a href=\"http://localhost:8761/eureka//\" rel=\"nofollow noreferrer\">localhost:8761/eureka/</a>&quot; &quot;/&quot; behind eureka"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1697544807,"creation_date":1697493899,"question_id":77305199,"body_markdown":"I have `eureka-server`:\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class DiscoveryServerApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DiscoveryServerApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**application.properties:**\r\n\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.register-with-eureka=false\r\n    eureka.client.fetch-registry=false\r\n    server.port=8761\r\n\r\nNow i have two microservices that are connected to eureka-server\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Inventory-service:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/inventory&quot;)\r\n    public class InventoryController {\r\n    \r\n        private final InventoryService inventoryService;\r\n    \r\n        @Autowired\r\n        public InventoryController(InventoryService inventoryService) {\r\n            this.inventoryService = inventoryService;\r\n        }\r\n    \r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;InventoryResponse&gt; isInStock(@RequestParam(value = &quot;skuCode&quot;) List&lt;String&gt; code) {\r\n            return inventoryService.isInStock(code);\r\n        }\r\n    }\r\n\r\n**application.properties:**\r\n\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    eureka.client.service-url.defaultZone = http://localhost:8761/eureka\r\n    \r\n    server.port=0\r\n    spring.application.name=inventory-service\r\n\r\n\r\n**order-service** where i have web client:\r\n\r\n    @Configuration\r\n    public class WebClientConfig {\r\n    \r\n        @Bean\r\n        @LoadBalanced\r\n        public WebClient.Builder webClientBuilder(){\r\n            return WebClient.builder();\r\n        }\r\n    }\r\n\r\n\r\nand service, where i try to call inventory-service:\r\n\r\n\r\n        InventoryResponse[] inventoryResponses = webClientBuilder.build().get()\r\n                .uri(&quot;http://inventory-service/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n                .retrieve()\r\n                .bodyToMono(InventoryResponse[].class)\r\n                .block();\r\n\r\n**application properties** for order service:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/order-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    \r\n    server.port=8081\r\n    spring.application.name=order-service\r\n\r\nHowever i am getting `&quot;Connection refused: no further information&quot;` error.\r\n\r\nit seems that the `WebClient` cannot resolve &quot;http://inventory-service/api/inventory&quot; from eureka. \r\n\r\nDo i need some specific explicit way how to get endpoints for inventory-service?\r\n\r\nI have seen examples and tutorials that do not use any specific way and use service-name that is registered in eureka as endpoint, however i saw some older that use `@EnableEurekaClient` and then `EurekaClient`\r\n\r\nWhat is the correct way?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ejk1.png","title":"Connection refused to eureka server","body":"<p>I have <code>eureka-server</code>:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServerApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>eureka.instance.hostname=localhost\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\nserver.port=8761\n</code></pre>\n<p>Now i have two microservices that are connected to eureka-server</p>\n<p><a href=\"https://i.stack.imgur.com/9ejk1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ejk1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Inventory-service:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/inventory&quot;)\npublic class InventoryController {\n\n    private final InventoryService inventoryService;\n\n    @Autowired\n    public InventoryController(InventoryService inventoryService) {\n        this.inventoryService = inventoryService;\n    }\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;InventoryResponse&gt; isInStock(@RequestParam(value = &quot;skuCode&quot;) List&lt;String&gt; code) {\n        return inventoryService.isInStock(code);\n    }\n}\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\nspring.datasource.username=root\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n\neureka.client.service-url.defaultZone = http://localhost:8761/eureka\n\nserver.port=0\nspring.application.name=inventory-service\n</code></pre>\n<p><strong>order-service</strong> where i have web client:</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder(){\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<p>and service, where i try to call inventory-service:</p>\n<pre><code>    InventoryResponse[] inventoryResponses = webClientBuilder.build().get()\n            .uri(&quot;http://inventory-service/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n            .retrieve()\n            .bodyToMono(InventoryResponse[].class)\n            .block();\n</code></pre>\n<p><strong>application properties</strong> for order service:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/order-service\nspring.datasource.username=root\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n\n\nserver.port=8081\nspring.application.name=order-service\n</code></pre>\n<p>However i am getting <code>&quot;Connection refused: no further information&quot;</code> error.</p>\n<p>it seems that the <code>WebClient</code> cannot resolve &quot;http://inventory-service/api/inventory&quot; from eureka.</p>\n<p>Do i need some specific explicit way how to get endpoints for inventory-service?</p>\n<p>I have seen examples and tutorials that do not use any specific way and use service-name that is registered in eureka as endpoint, however i saw some older that use <code>@EnableEurekaClient</code> and then <code>EurekaClient</code></p>\n<p>What is the correct way?</p>\n"},{"tags":["java","spring","httprequest","requestscope"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1697544963,"post_id":77308872,"comment_id":136290880,"body_markdown":"The filter isn’t a bean in your code. What makes it a spring bean?","body":"The filter isn’t a bean in your code. What makes it a spring bean?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697544974,"post_id":77308872,"comment_id":136290881,"body_markdown":"Filters execute before the dispatcher servlet, which manage the scope. YOu would need to register the `RequestContextListener` to make it work outside the scope of the dispatcherservlet.","body":"Filters execute before the dispatcher servlet, which manage the scope. YOu would need to register the <code>RequestContextListener</code> to make it work outside the scope of the dispatcherservlet."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1697545097,"post_id":77308872,"comment_id":136290906,"body_markdown":"@AbhijitSarkar it is a bean, see Configuration class","body":"@AbhijitSarkar it is a bean, see Configuration class"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1697546066,"post_id":77308872,"comment_id":136291103,"body_markdown":"@M.Deinum thanks, with `RequestContextListener` added the issue is gone","body":"@M.Deinum thanks, with <code>RequestContextListener</code> added the issue is gone"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697546106,"post_id":77308872,"comment_id":136291113,"body_markdown":"Which was also what the error message was telling you to do (you did read it didn&#39;t you?).","body":"Which was also what the error message was telling you to do (you did read it didn&#39;t you?)."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1697547097,"post_id":77308872,"comment_id":136291313,"body_markdown":"I didn&#39;t do it because all the examples with the same error I found were related to usage of @Async, but in my case it&#39;s clearly one and the same thread.","body":"I didn&#39;t do it because all the examples with the same error I found were related to usage of @Async, but in my case it&#39;s clearly one and the same thread."}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697544588,"creation_date":1697544588,"question_id":77308872,"body_markdown":"Recently I&#39;ve run into an issue regarding request-scoped beans. Here&#39;s the code:\r\n```java\r\n@Configuration\r\nclass PreAuthorizationHttpHeaderFilterConfig {\r\n\r\n    @Bean\r\n    JwtPreAuthorizationConfigurer jwtPreAuthorizationConfigurer() {\r\n        return new JwtPreAuthorizationConfigurer();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @RequestScope\r\n    TenantContext tenantContext() {\r\n        return new TenantContext();\r\n    }\r\n}\r\n\r\n@Getter\r\n@Setter\r\npublic class TenantContext {\r\n    private String tenantName;\r\n    private String issuerUri;\r\n    private String jwkSetUri;\r\n}\r\n\r\npublic class JwtPreAuthorizationConfigurer extends HttpFilter {\r\n\r\n    @Resource\r\n    private TenantContext tenantContext;\r\n\r\n    @Override\r\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        tenantContext.getIssuerUri(); // &lt;----- exception is thrown\r\n    }\r\n}\r\n```\r\nWhen I access `tenantContext` in my custom `HttpFilter` the exception is thrown:\r\n```\r\norg.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.tenantContext&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.c.o.c.model.TenantContext$$EnhancerBySpringCGLIB$$4df4fdfb.setIssuerUri(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.c.o.c.filter.JwtPreAuthorizationConfigurer.doFilter(JwtPreAuthorizationConfigurer.java:30) ~[classes/:na]\r\n```\r\nBut if I do the same in `@RestController`-annotated class everything works fine:\r\n```java\r\n@RestController\r\npublic class ConsentsController {\r\n    @Resource\r\n    private TenantContext tenantContext;\r\n\r\n    @Override\r\n    public ResponseEntity&lt;ConsentRecord&gt; createConsents(\r\n            @RequestBody CreateConsentRequest createConsents\r\n    ) {\r\n        tenantContext.getTenantName();\r\n        return ResponseEntity.ok().body(null);\r\n    }\r\n}\r\n```\r\nAs far as I understand at the filtering step the request is already bound to a serving thread, so there shouldn&#39;t be any exception, should it?","title":"Request-scoped bean is available in @RestController but throws ScopeNotActiveException in HttpFilter","body":"<p>Recently I've run into an issue regarding request-scoped beans. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass PreAuthorizationHttpHeaderFilterConfig {\n\n    @Bean\n    JwtPreAuthorizationConfigurer jwtPreAuthorizationConfigurer() {\n        return new JwtPreAuthorizationConfigurer();\n    }\n\n\n    @Bean\n    @RequestScope\n    TenantContext tenantContext() {\n        return new TenantContext();\n    }\n}\n\n@Getter\n@Setter\npublic class TenantContext {\n    private String tenantName;\n    private String issuerUri;\n    private String jwkSetUri;\n}\n\npublic class JwtPreAuthorizationConfigurer extends HttpFilter {\n\n    @Resource\n    private TenantContext tenantContext;\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        tenantContext.getIssuerUri(); // &lt;----- exception is thrown\n    }\n}\n</code></pre>\n<p>When I access <code>tenantContext</code> in my custom <code>HttpFilter</code> the exception is thrown:</p>\n<pre><code>org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.tenantContext': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.c.o.c.model.TenantContext$$EnhancerBySpringCGLIB$$4df4fdfb.setIssuerUri(&lt;generated&gt;) ~[classes/:na]\n    at com.c.o.c.filter.JwtPreAuthorizationConfigurer.doFilter(JwtPreAuthorizationConfigurer.java:30) ~[classes/:na]\n</code></pre>\n<p>But if I do the same in <code>@RestController</code>-annotated class everything works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ConsentsController {\n    @Resource\n    private TenantContext tenantContext;\n\n    @Override\n    public ResponseEntity&lt;ConsentRecord&gt; createConsents(\n            @RequestBody CreateConsentRequest createConsents\n    ) {\n        tenantContext.getTenantName();\n        return ResponseEntity.ok().body(null);\n    }\n}\n</code></pre>\n<p>As far as I understand at the filtering step the request is already bound to a serving thread, so there shouldn't be any exception, should it?</p>\n"},{"tags":["java","spring","maven","netbeans"],"comments":[{"owner":{"account_id":11421078,"reputation":311,"user_id":8372553,"display_name":"Hsneider Salgado Neid"},"score":0,"creation_date":1501103825,"post_id":45337558,"comment_id":77637178,"body_markdown":"https://drive.google.com/file/d/0Bz-Mr5XgEX-rQ3Y3U3BYNUFuaU0/view?usp=sharing here is the POM.XML File","body":"<a href=\"https://drive.google.com/file/d/0Bz-Mr5XgEX-rQ3Y3U3BYNUFuaU0/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0Bz-Mr5XgEX-rQ3Y3U3BYNUFuaU0/&hellip;</a> here is the POM.XML File"},{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":1,"creation_date":1501122191,"post_id":45337558,"comment_id":77642396,"body_markdown":"Can you post the complete stacktrace? It says &quot;look above for specfiic messages&quot;. Also can you post the parent&#39;s pom.xml as well? I believe that contains the actual enforcer plugin as this pom doesn&#39;t have it.","body":"Can you post the complete stacktrace? It says &quot;look above for specfiic messages&quot;. Also can you post the parent&#39;s pom.xml as well? I believe that contains the actual enforcer plugin as this pom doesn&#39;t have it."},{"owner":{"account_id":5149634,"reputation":4956,"user_id":4124574,"accept_rate":45,"display_name":"Mig82"},"score":1,"creation_date":1511944292,"post_id":45337558,"comment_id":82052888,"body_markdown":"It&#39;s hard to help without the upper part of the stacktrace to see which enforcer rule failed.","body":"It&#39;s hard to help without the upper part of the stacktrace to see which enforcer rule failed."}],"answers":[{"tags":[],"owner":{"account_id":11408727,"reputation":413,"user_id":8363483,"display_name":"Mayank Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1511946349,"creation_date":1501129562,"answer_id":45341415,"question_id":45337558,"body_markdown":"If you are using version `1.4.1` of `maven-enforcer-plugin` and it is resulting in this error then you need to use an older version of  `maven-enforcer-plugin`. You can find the Maven dependency below : \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nOther versions can be found from the link below. \r\n\r\nhttps://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin\r\n\r\nAlso, check your Maven version. If you are using `maven 3.0.x` then you need to use `maven-enforcer-plugin 1.4.1`. \r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>If you are using version <code>1.4.1</code> of <code>maven-enforcer-plugin</code> and it is resulting in this error then you need to use an older version of  <code>maven-enforcer-plugin</code>. You can find the Maven dependency below : </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Other versions can be found from the link below. </p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin</a></p>\n\n<p>Also, check your Maven version. If you are using <code>maven 3.0.x</code> then you need to use <code>maven-enforcer-plugin 1.4.1</code>. </p>\n"},{"tags":[],"owner":{"account_id":8212673,"reputation":578,"user_id":6180172,"display_name":"arash nadali"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1503980951,"creation_date":1503585300,"answer_id":45864401,"question_id":45337558,"body_markdown":"one thing that may cause this problem is that in your project in a POM file required java or maven version is set. you should find it... but how ? \r\nmaybe you couldn&#39;t find any enforcer in your project like me ...\r\n(I had the same problem and I became confused because enforcer plugin was not defined in my projects POMs, so I couldn&#39;t find it).\r\n\r\nenforcer plugin is in your **&quot;effective pom&quot;** and you should check it.\r\n**Effective pom** is a configuration file made from super pom + project pom.\r\nmaven use this configuration file to execute the relevant goal. It helps developers to specify minimum configuration detail in his/her pom.xml. Although configurations can be overridden easily.\r\n\r\nFor showing your effective pom there are 2 ways:\r\n1- use maven command, run this command : \r\n\r\n     mvn help:effective-pom\r\n\r\n2- use your IDE :  in Maven window right click on your project node and select show effective POM(it depends on your IDE).\r\n\r\nafter you find what your forces are you can find it in your project and change it.\r\nfor me, My **effective POM** had enforcer plugin which its requireMavenVersion rule for using Java was  1.8. so I changed my project JDK version to 1.8 and luckily the problem was solved.\r\n\r\n\r\nI hope this answer could help you.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>one thing that may cause this problem is that in your project in a POM file required java or maven version is set. you should find it... but how ? \nmaybe you couldn't find any enforcer in your project like me ...\n(I had the same problem and I became confused because enforcer plugin was not defined in my projects POMs, so I couldn't find it).</p>\n\n<p>enforcer plugin is in your <strong>\"effective pom\"</strong> and you should check it.\n<strong>Effective pom</strong> is a configuration file made from super pom + project pom.\nmaven use this configuration file to execute the relevant goal. It helps developers to specify minimum configuration detail in his/her pom.xml. Although configurations can be overridden easily.</p>\n\n<p>For showing your effective pom there are 2 ways:\n1- use maven command, run this command : </p>\n\n<pre><code> mvn help:effective-pom\n</code></pre>\n\n<p>2- use your IDE :  in Maven window right click on your project node and select show effective POM(it depends on your IDE).</p>\n\n<p>after you find what your forces are you can find it in your project and change it.\nfor me, My <strong>effective POM</strong> had enforcer plugin which its requireMavenVersion rule for using Java was  1.8. so I changed my project JDK version to 1.8 and luckily the problem was solved.</p>\n\n<p>I hope this answer could help you.</p>\n"},{"tags":[],"owner":{"account_id":4911210,"reputation":51,"user_id":3956464,"display_name":"Miryam Chaabouni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533298111,"creation_date":1533298111,"answer_id":51672317,"question_id":45337558,"body_markdown":"It is possible that someone is enforcing a specific Maven version. \r\n\r\nIf you see the following message: \r\n\r\n&gt; [WARNING] Rule 0:\r\n&gt; org.apache.maven.plugins.enforcer.RequireMavenVersion failed with message:\r\n &gt; Detected Maven Version: 3.5.4 is not in the allowed range [3.5.2,3.5.2].\r\n\r\nThen change your maven installation to the something in the specified range. \r\nIn this example, only version 3.5.2 is allowed. ","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>It is possible that someone is enforcing a specific Maven version. </p>\n\n<p>If you see the following message: </p>\n\n<blockquote>\n  <p>[WARNING] Rule 0:\n  org.apache.maven.plugins.enforcer.RequireMavenVersion failed with message:\n  Detected Maven Version: 3.5.4 is not in the allowed range [3.5.2,3.5.2].</p>\n</blockquote>\n\n<p>Then change your maven installation to the something in the specified range. \nIn this example, only version 3.5.2 is allowed. </p>\n"},{"tags":[],"owner":{"account_id":5973062,"reputation":557,"user_id":4694855,"accept_rate":80,"display_name":"jAvA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539284917,"creation_date":1539284917,"answer_id":52767282,"question_id":45337558,"body_markdown":"I faced the same issue and resolved it by fixing the pom versions. Below command didn&#39;t run properly on all the sub pom&#39;s which resulted in different pom versions.\r\n&#39;mvn versions:set -DnewVersion=${NEW_VERSION} versions:commit&#39;\r\nCheck whether all the moms have same version if there is dependent pom&#39;s. ","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I faced the same issue and resolved it by fixing the pom versions. Below command didn't run properly on all the sub pom's which resulted in different pom versions.\n'mvn versions:set -DnewVersion=${NEW_VERSION} versions:commit'\nCheck whether all the moms have same version if there is dependent pom's. </p>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574240496,"creation_date":1574240496,"answer_id":58950385,"question_id":45337558,"body_markdown":"I had this problem because Java (java) was version 8 and the Java compiler (javac) was version 11.\r\n\r\nThis is typical for Windows users, if you need to switch between versions manually.\r\n\r\nPlease check the versions first:\r\n\r\n```\r\njava -version\r\njavac -version\r\n```\r\n\r\nIf an IDE is used, for example an IntelliJ Idea, then I will advise to carefully study the project settings as well. Perhaps it makes sense to completely delete the files generated by the IDE and import the project again.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I had this problem because Java (java) was version 8 and the Java compiler (javac) was version 11.</p>\n\n<p>This is typical for Windows users, if you need to switch between versions manually.</p>\n\n<p>Please check the versions first:</p>\n\n<pre><code>java -version\njavac -version\n</code></pre>\n\n<p>If an IDE is used, for example an IntelliJ Idea, then I will advise to carefully study the project settings as well. Perhaps it makes sense to completely delete the files generated by the IDE and import the project again.</p>\n"},{"tags":[],"owner":{"account_id":4993975,"reputation":161,"user_id":4015232,"display_name":"Ramesh Thamizhselvan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588493023,"creation_date":1588493023,"answer_id":61571347,"question_id":45337558,"body_markdown":"After doing some research found an answer for this .if your using IntelliJ  \r\n\r\n```Go to Settings ---&gt; builds --&gt; Maven --&gt;set the Maven home directory.```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAvRT.png","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>After doing some research found an answer for this .if your using IntelliJ  </p>\n\n<p><code>Go to Settings ---&gt; builds --&gt; Maven --&gt;set the Maven home directory.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/qAvRT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAvRT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16770040,"reputation":26,"user_id":12122696,"display_name":"Harikrishnan C N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591773153,"creation_date":1591773153,"answer_id":62297787,"question_id":45337558,"body_markdown":"I faced this issue. Its because of the maven binary version used. \r\n\r\nI have used maven 3.0.3 version. and the enforcer plugin wasn&#39;t reliable with that. So changed the maven binary to latest 3.6.3. And the issue got resolved and working awesome.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I faced this issue. Its because of the maven binary version used. </p>\n\n<p>I have used maven 3.0.3 version. and the enforcer plugin wasn't reliable with that. So changed the maven binary to latest 3.6.3. And the issue got resolved and working awesome.</p>\n"},{"tags":[],"owner":{"account_id":19149740,"reputation":11,"user_id":13987919,"display_name":"user13987919"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595584826,"creation_date":1595584826,"answer_id":63071308,"question_id":45337558,"body_markdown":"Firslty go tto project and run mvn clean , if build is success then just check whether the required dependency is downloaded in your .m2 folder or not , If dependency does not get downloaded in your local .m2 folder , it means either version number is incorrect for that dependency or artifactory path is not correct\r\n\r\nElse if mvn clean itself fails while dependency exist in your .m2 folder , means yoru settings.xml file actually got corrupted\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>Firslty go tto project and run mvn clean , if build is success then just check whether the required dependency is downloaded in your .m2 folder or not , If dependency does not get downloaded in your local .m2 folder , it means either version number is incorrect for that dependency or artifactory path is not correct</p>\n<p>Else if mvn clean itself fails while dependency exist in your .m2 folder , means yoru settings.xml file actually got corrupted</p>\n"},{"tags":[],"owner":{"account_id":7598714,"reputation":150,"user_id":5764074,"display_name":"Kamta Sahu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596688403,"creation_date":1596688403,"answer_id":63276889,"question_id":45337558,"body_markdown":"This worked for me.\r\n\r\n    mvn clean\r\n    mvn clean install\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>This worked for me.</p>\n<pre><code>mvn clean\nmvn clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4619374,"reputation":86,"user_id":3744890,"display_name":"N.B.BASARAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599072278,"creation_date":1599072278,"answer_id":63711800,"question_id":45337558,"body_markdown":"You should probably check if you have two different versions of same artifact somewhere. I faced it when I wanted to add new maven dependency while I already added it on a different dependent project with different versions.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>You should probably check if you have two different versions of same artifact somewhere. I faced it when I wanted to add new maven dependency while I already added it on a different dependent project with different versions.</p>\n"},{"tags":[],"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1623939901,"creation_date":1608127183,"answer_id":65324744,"question_id":45337558,"body_markdown":"You should solve the root cause of the issue, conflict between some of your dependecies, mvn/java version, there is a lot of possible reasons. \r\n\r\nYou might run `mvn dependency:tree` and check in the list if there is maybe 2 different versions or implementations of the same library from different package. Often you will have a parent pom or a dependency somewhere in the framework uncompatible with one that you added into your pom. \r\n\r\nBut often, despite this enforcer error your project could build and run perfectly so this is a workaround to build ignoring the error\r\n\r\nTo skip enforcer (not always working)\r\n\r\n    mvn clean install -Denforcer.skip=true\r\n\r\nTo continue the build if error\r\n\r\n    mvn clean install -Denforcer.fail=false\r\n\r\nThere is probably some ways to exclude a specific library from the enforcer rules too which is probably better that juste skipping everything.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>You should solve the root cause of the issue, conflict between some of your dependecies, mvn/java version, there is a lot of possible reasons.</p>\n<p>You might run <code>mvn dependency:tree</code> and check in the list if there is maybe 2 different versions or implementations of the same library from different package. Often you will have a parent pom or a dependency somewhere in the framework uncompatible with one that you added into your pom.</p>\n<p>But often, despite this enforcer error your project could build and run perfectly so this is a workaround to build ignoring the error</p>\n<p>To skip enforcer (not always working)</p>\n<pre><code>mvn clean install -Denforcer.skip=true\n</code></pre>\n<p>To continue the build if error</p>\n<pre><code>mvn clean install -Denforcer.fail=false\n</code></pre>\n<p>There is probably some ways to exclude a specific library from the enforcer rules too which is probably better that juste skipping everything.</p>\n"},{"tags":[],"owner":{"account_id":12626834,"reputation":33,"user_id":9180032,"display_name":"Nestor A. Rojas Escalona"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611665811,"creation_date":1611665811,"answer_id":65901777,"question_id":45337558,"body_markdown":"Check your maven version, for example, if you are installing Apache-CXF 3.6 and your maven version is 3.0.5, then you get errors. If you&#39;re installing Apache-CXF 3.6, the minimun version of maven must be 3.1, and the minimun version of Java must be 8.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>Check your maven version, for example, if you are installing Apache-CXF 3.6 and your maven version is 3.0.5, then you get errors. If you're installing Apache-CXF 3.6, the minimun version of maven must be 3.1, and the minimun version of Java must be 8.</p>\n"},{"tags":[],"owner":{"account_id":13097055,"reputation":73,"user_id":9462680,"display_name":"Tenzin Tridhe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617686613,"creation_date":1617686613,"answer_id":66963113,"question_id":45337558,"body_markdown":"This error is likely caused due to a mismatch of the java version specified in the pom file and the java in your system. I had Java 16 installed in my system but the pom pointed to java version 8.\r\n\r\nThere are 2 ways to solve this:\r\n1. Update the java version in the pom file to the java version installed on your PC, but this will likely cause a lot of dependency issues.\r\n2. Uninstall java installed in your system, and reinstall the java version specified in the pom file. You can do this by following the steps mentioned below:\r\n\r\nCheck the java version in your system with the following command:\r\n\r\n    java -version\r\nAnd then check the java version defined in your pom file. It&#39;d be something like \r\n\r\n    &lt;project.java.version&gt;1.8&lt;/project.java.version&gt;\r\n\r\nInstall JDK 8.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>This error is likely caused due to a mismatch of the java version specified in the pom file and the java in your system. I had Java 16 installed in my system but the pom pointed to java version 8.</p>\n<p>There are 2 ways to solve this:</p>\n<ol>\n<li>Update the java version in the pom file to the java version installed on your PC, but this will likely cause a lot of dependency issues.</li>\n<li>Uninstall java installed in your system, and reinstall the java version specified in the pom file. You can do this by following the steps mentioned below:</li>\n</ol>\n<p>Check the java version in your system with the following command:</p>\n<pre><code>java -version\n</code></pre>\n<p>And then check the java version defined in your pom file. It'd be something like</p>\n<pre><code>&lt;project.java.version&gt;1.8&lt;/project.java.version&gt;\n</code></pre>\n<p>Install JDK 8.</p>\n"},{"tags":[],"owner":{"account_id":7735242,"reputation":171,"user_id":5857023,"display_name":"Genivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655321258,"creation_date":1655321258,"answer_id":72636862,"question_id":45337558,"body_markdown":"In my case, apparently there was a configuration conflict that generated this error. So when I **temporarily** deleted the ***[/home/myuser/.m2/settings.xml][1]*** file, the per-line maven execution was successful.\r\n\r\nNote: In my scenario, I had Eclipse with the maven plugin and I was trying to use maven by command line and then this error message appeared.\r\n\r\n\r\n  [1]: https://","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>In my case, apparently there was a configuration conflict that generated this error. So when I <strong>temporarily</strong> deleted the <em><strong>/home/myuser/.m2/settings.xml</strong></em> file, the per-line maven execution was successful.</p>\n<p>Note: In my scenario, I had Eclipse with the maven plugin and I was trying to use maven by command line and then this error message appeared.</p>\n"},{"tags":[],"owner":{"account_id":27242221,"reputation":1,"user_id":20768195,"display_name":"Ann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670948705,"creation_date":1670948612,"answer_id":74787921,"question_id":45337558,"body_markdown":"I initially checked the java version with the following command\r\n***java -version***\r\nAs it is was not on the required java version,I changed the java version by using following command\r\n***sudo update-alternatives --config java***\r\nThis command gave me options to choose the required java version.\r\nAfter proper selection of java I could perform the following command\r\n***mvn clean install -DskipTests*** \r\nand the build was successful.Hence solved this issue\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I initially checked the java version with the following command\n<em><strong>java -version</strong></em>\nAs it is was not on the required java version,I changed the java version by using following command\n<em><strong>sudo update-alternatives --config java</strong></em>\nThis command gave me options to choose the required java version.\nAfter proper selection of java I could perform the following command\n<em><strong>mvn clean install -DskipTests</strong></em>\nand the build was successful.Hence solved this issue</p>\n"},{"tags":[],"owner":{"account_id":5033953,"reputation":9,"user_id":4043364,"display_name":"Shabbir Cosmetic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697544332,"creation_date":1697544332,"answer_id":77308843,"question_id":45337558,"body_markdown":"This is caused by a mismatch in the project java version and your local java version. I resolved it in Intelij by changing the SDK on the project structure settings","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>This is caused by a mismatch in the project java version and your local java version. I resolved it in Intelij by changing the SDK on the project structure settings</p>\n"}],"owner":{"account_id":11421078,"reputation":311,"user_id":8372553,"display_name":"Hsneider Salgado Neid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144870,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":16,"score":31,"last_activity_date":1697544332,"creation_date":1501103683,"question_id":45337558,"body_markdown":"I got a maven spring project but when I try to run it, I can&#39;t... some idea about it...  \r\nThe next is the Error Message:\r\n\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time: 4.532s\r\n    Finished at: Wed Jul 26 16:04:06 COT 2017\r\n    Final Memory: 17M/196M\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce\r\n    (enforce-versions) on project SIMI: Some Enforcer rules have failed. Look above for\r\n    specific messages explaining why the rule failed. -&gt; [Help 1]\r\n\r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I got a maven spring project but when I try to run it, I can't... some idea about it...<br>\nThe next is the Error Message:</p>\n\n<pre><code>BUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 4.532s\nFinished at: Wed Jul 26 16:04:06 COT 2017\nFinal Memory: 17M/196M\n------------------------------------------------------------------------\nFailed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce\n(enforce-versions) on project SIMI: Some Enforcer rules have failed. Look above for\nspecific messages explaining why the rule failed. -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\n</code></pre>\n\n<p>Re-run Maven using the -X switch to enable full debug logging.</p>\n\n<p>For more information about the errors and possible solutions, please read the following articles:\n[Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n"},{"tags":["java","jpa","criteria","jpa-2.0"],"comments":[{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":1,"creation_date":1303983605,"post_id":5816417,"comment_id":6674271,"body_markdown":"Well, thanks, but I&#39;d much rather stick with the standard APIs and try to avoid additional third party libraries. If what I want to do is not possible with the JPA Criteria API, I&#39;ll probably just stick to plain JPQL.","body":"Well, thanks, but I&#39;d much rather stick with the standard APIs and try to avoid additional third party libraries. If what I want to do is not possible with the JPA Criteria API, I&#39;ll probably just stick to plain JPQL."},{"owner":{"account_id":43273,"reputation":3228,"user_id":126414,"accept_rate":83,"display_name":"svlada"},"score":0,"creation_date":1429687036,"post_id":5816417,"comment_id":47709597,"body_markdown":"Did you solved  your problem? I have same issue. Fetch cannot be casted to Join, and I cannot get Path from Fetch. It&#39;s practically unusable. Only solution is to have two same joins, which is not acceptable.","body":"Did you solved  your problem? I have same issue. Fetch cannot be casted to Join, and I cannot get Path from Fetch. It&#39;s practically unusable. Only solution is to have two same joins, which is not acceptable."},{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":4,"creation_date":1429705346,"post_id":5816417,"comment_id":47722933,"body_markdown":"Well, James&#39; answer describes the root of the issue quite nicely. You just can&#39;t do it that way, and that is a sound design decision. If I remember correctly, I ended up actually joining twice.\nThat being said, I&#39;ll never use JPA again in the first place if I have the choice, because I think it&#39;s a useless abstraction layer that adds unnecessary complexity while castrating the underlying implementation.","body":"Well, James&#39; answer describes the root of the issue quite nicely. You just can&#39;t do it that way, and that is a sound design decision. If I remember correctly, I ended up actually joining twice. That being said, I&#39;ll never use JPA again in the first place if I have the choice, because I think it&#39;s a useless abstraction layer that adds unnecessary complexity while castrating the underlying implementation."}],"answers":[{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1519267557,"creation_date":1303998431,"answer_id":5819631,"question_id":5816417,"body_markdown":"In JPQL the same is actually true in the spec.  The JPA spec does not allow an alias to be given to a fetch join.  The issue is that you can easily shoot yourself in the foot with this by restricting the context of the join fetch.  It is safer to join twice.\r\n\r\nThis is normally more an issue with ToMany than ToOnes.\r\nFor example, \r\n\r\n    Select e from Employee e \r\n    join fetch e.phones p \r\n    where p.areaCode = &#39;613&#39;\r\n\r\nThis will **incorrectly** return all Employees that contain numbers in the &#39;613&#39; area code but will left out phone numbers of other areas in the returned list. This means that an employee that had a phone in the 613 and 416 area codes will loose the 416 phone number, so the object will be corrupted.\r\n\r\nGranted, if you know what you are doing, the extra join is not desirable, some JPA providers may allow aliasing the join fetch, and may allow casting the Criteria Fetch to a Join.\r\n\r\n","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>In JPQL the same is actually true in the spec.  The JPA spec does not allow an alias to be given to a fetch join.  The issue is that you can easily shoot yourself in the foot with this by restricting the context of the join fetch.  It is safer to join twice.</p>\n\n<p>This is normally more an issue with ToMany than ToOnes.\nFor example, </p>\n\n<pre><code>Select e from Employee e \njoin fetch e.phones p \nwhere p.areaCode = '613'\n</code></pre>\n\n<p>This will <strong>incorrectly</strong> return all Employees that contain numbers in the '613' area code but will left out phone numbers of other areas in the returned list. This means that an employee that had a phone in the 613 and 416 area codes will loose the 416 phone number, so the object will be corrupted.</p>\n\n<p>Granted, if you know what you are doing, the extra join is not desirable, some JPA providers may allow aliasing the join fetch, and may allow casting the Criteria Fetch to a Join.</p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1680395843,"creation_date":1530720331,"answer_id":51177569,"question_id":5816417,"body_markdown":"I will show visually the problem, using the same example from James answer and adding an alternative solution.\r\n\r\nWhen you do the follow query, without the `FETCH`:\r\n\r\n    Select e from Employee e \r\n    join e.phones p \r\n    where p.areaCode = &#39;613&#39;\r\n\r\nYou will have the follow results from `Employee` as you expected:\r\n\r\n| EmployeeId | EmployeeName | PhoneId | PhoneAreaCode |\r\n|--- | --- | --- | --- |\r\n| 1          | James        | 5       | 613 |\r\n| 1          | James        | 6       | 416 |\r\n\r\nBut when you add the `FETCH` clause on `JOIN` (`FETCH JOIN`), this is what happens:\r\n\r\n| EmployeeId | EmployeeName | PhoneId | PhoneAreaCode |\r\n|--- | --- | --- | --- |\r\n| 1          | James        | 5       | 613\r\n\r\nThe generated SQL is the same for the two queries, but the Hibernate removes **on memory** the `416` register when you use `WHERE` on the `FETCH` join.\r\n\r\nSo, to bring all phones **and** apply the `WHERE` correctly, you need to have two `JOIN`s: one for the `WHERE` and another for the `FETCH`. Like:\r\n\r\n    Select e from Employee e \r\n    join e.phones p \r\n    join fetch e.phones      //no alias, to not commit the mistake\r\n    where p.areaCode = &#39;613&#39;\r\n\r\nMaybe in the newest versions of Hibernate you will need to use `SELECT DISTINCT` to avoid duplicate results.","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>I will show visually the problem, using the same example from James answer and adding an alternative solution.</p>\n<p>When you do the follow query, without the <code>FETCH</code>:</p>\n<pre><code>Select e from Employee e \njoin e.phones p \nwhere p.areaCode = '613'\n</code></pre>\n<p>You will have the follow results from <code>Employee</code> as you expected:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>EmployeeId</th>\n<th>EmployeeName</th>\n<th>PhoneId</th>\n<th>PhoneAreaCode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>James</td>\n<td>5</td>\n<td>613</td>\n</tr>\n<tr>\n<td>1</td>\n<td>James</td>\n<td>6</td>\n<td>416</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But when you add the <code>FETCH</code> clause on <code>JOIN</code> (<code>FETCH JOIN</code>), this is what happens:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>EmployeeId</th>\n<th>EmployeeName</th>\n<th>PhoneId</th>\n<th>PhoneAreaCode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>James</td>\n<td>5</td>\n<td>613</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The generated SQL is the same for the two queries, but the Hibernate removes <strong>on memory</strong> the <code>416</code> register when you use <code>WHERE</code> on the <code>FETCH</code> join.</p>\n<p>So, to bring all phones <strong>and</strong> apply the <code>WHERE</code> correctly, you need to have two <code>JOIN</code>s: one for the <code>WHERE</code> and another for the <code>FETCH</code>. Like:</p>\n<pre><code>Select e from Employee e \njoin e.phones p \njoin fetch e.phones      //no alias, to not commit the mistake\nwhere p.areaCode = '613'\n</code></pre>\n<p>Maybe in the newest versions of Hibernate you will need to use <code>SELECT DISTINCT</code> to avoid duplicate results.</p>\n"},{"tags":[],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623957547,"creation_date":1623957547,"answer_id":68025381,"question_id":5816417,"body_markdown":"I may answer late this but from my point of view.\r\n\r\n    Select e from Employee e \r\n    join e.phones p \r\n    join fetch e.phones      //no alias, to not commit the mistake\r\n    where p.areaCode = &#39;613&#39;\r\n\r\nThis could be translated to the following SQL Query\r\n\r\n    Select e.id, e.name, p.id ,p.phone\r\n    From Employe e\r\n    inner join Phone p on e.id = p.emp_id\r\n    where exists(\r\n      select 1 from Phone where Phone.id= p.id and Phone.area =&#39;XXX&#39;  \r\n    )\r\nThis will get all phones of an employee that belongs to an area.\r\n\r\nBUT \r\n\r\n\r\n    Select e from Employee e \r\n    join fetch e.phones p      //no alias, to not commit the mistake\r\n    where p.areaCode = &#39;613&#39;\r\n\r\ncould be translated to the following SQL Queries\r\n\r\n    Select  e.id, e.name, p.id ,p.phone\r\n    From    Employe e\r\n    inner   join Phone p on e.id = p.id\r\n    Where   p.area =&#39;XXX&#39;  \r\n    \r\nor\r\n\r\n    Select e.id, e.name, p.id ,p.phone\r\n    From Employe e\r\n    inner join Phone p on e.id = p.emp_id and p.area =&#39;XXX&#39;  \r\n    \r\nthis will restrict row selection to only rows where employees phone is of area XXX\r\n\r\n\r\nAnd finally writing this\r\n\r\n\r\n    Select e from Employee e \r\n    join  e.phones p      \r\n    where p.areaCode = &#39;613&#39;\r\n\r\nCould be seen as\r\n\r\n    Select e.id, e.name \r\n    from Employe e\r\n    where exists (\r\n     select 1 from phone p where p.emp_id = e.id and p.area = &#39;XXX&#39;\r\n    )\r\n\r\nWhere we are only getting employee data that have a phone number in some area\r\n\r\nThis should help get the idea after each query.","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>I may answer late this but from my point of view.</p>\n<pre><code>Select e from Employee e \njoin e.phones p \njoin fetch e.phones      //no alias, to not commit the mistake\nwhere p.areaCode = '613'\n</code></pre>\n<p>This could be translated to the following SQL Query</p>\n<pre><code>Select e.id, e.name, p.id ,p.phone\nFrom Employe e\ninner join Phone p on e.id = p.emp_id\nwhere exists(\n  select 1 from Phone where Phone.id= p.id and Phone.area ='XXX'  \n)\n</code></pre>\n<p>This will get all phones of an employee that belongs to an area.</p>\n<p>BUT</p>\n<pre><code>Select e from Employee e \njoin fetch e.phones p      //no alias, to not commit the mistake\nwhere p.areaCode = '613'\n</code></pre>\n<p>could be translated to the following SQL Queries</p>\n<pre><code>Select  e.id, e.name, p.id ,p.phone\nFrom    Employe e\ninner   join Phone p on e.id = p.id\nWhere   p.area ='XXX'  \n</code></pre>\n<p>or</p>\n<pre><code>Select e.id, e.name, p.id ,p.phone\nFrom Employe e\ninner join Phone p on e.id = p.emp_id and p.area ='XXX'  \n</code></pre>\n<p>this will restrict row selection to only rows where employees phone is of area XXX</p>\n<p>And finally writing this</p>\n<pre><code>Select e from Employee e \njoin  e.phones p      \nwhere p.areaCode = '613'\n</code></pre>\n<p>Could be seen as</p>\n<pre><code>Select e.id, e.name \nfrom Employe e\nwhere exists (\n select 1 from phone p where p.emp_id = e.id and p.area = 'XXX'\n)\n</code></pre>\n<p>Where we are only getting employee data that have a phone number in some area</p>\n<p>This should help get the idea after each query.</p>\n"}],"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143449,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":5819631,"answer_count":3,"score":69,"last_activity_date":1697544021,"creation_date":1303982627,"question_id":5816417,"body_markdown":"Consider the following JPQL query:\r\n\r\n    SELECT foo FROM Foo foo\r\n    INNER JOIN FETCH foo.bar bar\r\n    WHERE bar.baz = :baz\r\n\r\nI&#39;m trying to translate this into a Criteria query. This is as far as I have gotten:\r\n\r\n    var cb = em.getCriteriaBuilder();\r\n    var query = cb.createQuery(Foo.class);\r\n    var foo = query.from(Foo.class);\r\n    var fetch = foo.fetch(Foo_.bar, JoinType.INNER);\r\n    var join = foo.join(Foo_.bar, JoinType.INNER);\r\n    query.where(cb.equal(join.get(Bar_.baz), value);\r\n\r\nThe obvious problem here is that I am doing the same join twice, because the `Fetch` class doesn&#39;t seem to have a method to get a `Path`.\r\nIs there any way to avoid having to join twice? Or do I have to stick with good old JPQL with a query as simple as that?","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>Consider the following JPQL query:</p>\n<pre><code>SELECT foo FROM Foo foo\nINNER JOIN FETCH foo.bar bar\nWHERE bar.baz = :baz\n</code></pre>\n<p>I'm trying to translate this into a Criteria query. This is as far as I have gotten:</p>\n<pre><code>var cb = em.getCriteriaBuilder();\nvar query = cb.createQuery(Foo.class);\nvar foo = query.from(Foo.class);\nvar fetch = foo.fetch(Foo_.bar, JoinType.INNER);\nvar join = foo.join(Foo_.bar, JoinType.INNER);\nquery.where(cb.equal(join.get(Bar_.baz), value);\n</code></pre>\n<p>The obvious problem here is that I am doing the same join twice, because the <code>Fetch</code> class doesn't seem to have a method to get a <code>Path</code>.\nIs there any way to avoid having to join twice? Or do I have to stick with good old JPQL with a query as simple as that?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1697468092,"post_id":77302749,"comment_id":136280416,"body_markdown":"DOn&#39;t let your service depend on web classes that is bad idea (the `Model` in this case). The model isn&#39;t stored in between requests so unless yo have hidden inputs for `type` and `city` in the form you are submitting nothing will be there.","body":"DOn&#39;t let your service depend on web classes that is bad idea (the <code>Model</code> in this case). The model isn&#39;t stored in between requests so unless yo have hidden inputs for <code>type</code> and <code>city</code> in the form you are submitting nothing will be there."}],"answers":[{"tags":[],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697543657,"creation_date":1697471627,"answer_id":77303379,"question_id":77302749,"body_markdown":"In order to fix this problem, I used Cookies. I simply set a cookie to remember the value chosen for city and type and the issue was gone.","title":"Data not transfering when using model.addAttribute()","body":"<p>In order to fix this problem, I used Cookies. I simply set a cookie to remember the value chosen for city and type and the issue was gone.</p>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697543657,"creation_date":1697465919,"question_id":77302749,"body_markdown":"I want to transfer some default values the user choosed when they click on a dropdown item, but the values are deleted (`null`) when I try to save the passed entity to a repository. When I try and print out the data in HTML, the data is there, it&#39;s visible, but when I try to save it to the database, only the data that is in the input field is being saved, even though I&#39;m passing the complete object.\r\n\r\nHere is the code:\r\n\r\nController\r\n\r\n    @GetMapping(&quot;/racun/new/{type}/{city}&quot;)\r\n        public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\r\n            return racunService.createRacunForm(model, type, city);\r\n        }\r\n    \r\n    @PostMapping(&quot;/racun/new&quot;)\r\n        public String createRacun(@ModelAttribute(&quot;racun&quot;) racun racun){\r\n            return racunService.createNewRacun(racun);\r\n        }\r\n\r\nService:\r\n\r\n    public String createRacunForm(Model model, String type, String city){\r\n            racun racun = new racun();\r\n            racun.setType(type); //set, has a value chosen by a user\r\n            racun.setCity(city); //set, has a value chosen by a user\r\n    \r\n            model.addAttribute(&quot;racun&quot;, racun);\r\n            return &quot;racun_new&quot;;\r\n        }\r\n    \r\n    public String createNewRacun(racun racun){\r\n            String type = racun.getType(); //null\r\n            String city = racun.getCity(); //null\r\n            Double price = racun.getPrice(); //read from input by a user\r\n            String desc = racun.getDescription(); //read from input by a user\r\n            \r\n            racunRepository.save(racun); //saved and it prints all attributes but type and city are null\r\n            \r\n    \r\n            return &quot;redirect:/racun/&quot; + racun.getId();\r\n        }\r\n\r\nSo basically, I create a form using a createRacunForm in controller and take in the parameters the user chose (values are set from chosen dropdown items such as city and type), I then set the type and city using those values and use `model.addAttribute(&quot;racun&quot;, racun);` to pass the model to a racun_new.html template. In there I tried to print the values so the user sees what they chose and I managed to do that. But when they click on `submit` only the values they entered in the input fields, which are description and price, are being saved and displayed in the `racun/{id]` template... The code comments say where the data exists and where it&#39;s null...\r\n\r\nCan someone help me understand and explain why this doesn&#39;t work as I believe the `model.AddAttribute(&quot;racun&quot;, racun);` should pass the racun as an object with it&#39;s set values?\r\n\r\nHow to fix this?\r\n\r\nThanks in advance","title":"Data not transfering when using model.addAttribute()","body":"<p>I want to transfer some default values the user choosed when they click on a dropdown item, but the values are deleted (<code>null</code>) when I try to save the passed entity to a repository. When I try and print out the data in HTML, the data is there, it's visible, but when I try to save it to the database, only the data that is in the input field is being saved, even though I'm passing the complete object.</p>\n<p>Here is the code:</p>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/racun/new/{type}/{city}&quot;)\n    public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\n        return racunService.createRacunForm(model, type, city);\n    }\n\n@PostMapping(&quot;/racun/new&quot;)\n    public String createRacun(@ModelAttribute(&quot;racun&quot;) racun racun){\n        return racunService.createNewRacun(racun);\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>public String createRacunForm(Model model, String type, String city){\n        racun racun = new racun();\n        racun.setType(type); //set, has a value chosen by a user\n        racun.setCity(city); //set, has a value chosen by a user\n\n        model.addAttribute(&quot;racun&quot;, racun);\n        return &quot;racun_new&quot;;\n    }\n\npublic String createNewRacun(racun racun){\n        String type = racun.getType(); //null\n        String city = racun.getCity(); //null\n        Double price = racun.getPrice(); //read from input by a user\n        String desc = racun.getDescription(); //read from input by a user\n        \n        racunRepository.save(racun); //saved and it prints all attributes but type and city are null\n        \n\n        return &quot;redirect:/racun/&quot; + racun.getId();\n    }\n</code></pre>\n<p>So basically, I create a form using a createRacunForm in controller and take in the parameters the user chose (values are set from chosen dropdown items such as city and type), I then set the type and city using those values and use <code>model.addAttribute(&quot;racun&quot;, racun);</code> to pass the model to a racun_new.html template. In there I tried to print the values so the user sees what they chose and I managed to do that. But when they click on <code>submit</code> only the values they entered in the input fields, which are description and price, are being saved and displayed in the <code>racun/{id]</code> template... The code comments say where the data exists and where it's null...</p>\n<p>Can someone help me understand and explain why this doesn't work as I believe the <code>model.AddAttribute(&quot;racun&quot;, racun);</code> should pass the racun as an object with it's set values?</p>\n<p>How to fix this?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","user-interface","agent","agents-jade"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1672875587,"post_id":75012443,"comment_id":132374455,"body_markdown":"You create an `ActionListener` that you add to your button. In that `ActionListener` you use &quot;getText()&quot; on the TestArea and call the desired method with the results. ie. &quot;btnDesplegarActionPerformed&quot; get&#39;s called and uses the information from the TextArea. What do you want ot happen?","body":"You create an <code>ActionListener</code> that you add to your button. In that <code>ActionListener</code> you use &quot;getText()&quot; on the TestArea and call the desired method with the results. ie. &quot;btnDesplegarActionPerformed&quot; get&#39;s called and uses the information from the TextArea. What do you want ot happen?"},{"owner":{"account_id":13661413,"reputation":11,"user_id":9856352,"display_name":"Daniel Velin"},"score":0,"creation_date":1672895460,"post_id":75012443,"comment_id":132377376,"body_markdown":"I want this information to be taken by an agent in the AgentContainer and then sent via an ACLMessage to another agent.","body":"I want this information to be taken by an agent in the AgentContainer and then sent via an ACLMessage to another agent."}],"answers":[{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697543620,"creation_date":1697543620,"answer_id":77308770,"question_id":75012443,"body_markdown":"We lack some information. As agents are threads, to give them the data collected with the GUI will vary depending of your design choices.\r\n\r\n - **If you have one GUI for each agent** : The GUI should be launched by the agent. That way the agent will own a reference to the JFrame and thus be able to access the GUI variables. \r\n - **If one GUI is used to create all the agents** : You get the parameters from the GUI using actionPerformed(). Then you create the agents by giving the data collected through the GUI in parameter to the agents instantiation function.\r\n - **If one GUI is used to update all agents at runtime** : Then either your agents possess a reference to the GUI, the GUI possess a reference to the agents (considered as objects, not agents), the GUI is backed by an agent whose only role is to notify the agents through messages, or both agents and GUI share a common place to store data. It will depend of your constraints and objectives. In any case, I recommend using an asynchronous approach and an observer design pattern\r\n\r\n\r\n","title":"Send a message with information in GUI from an agent in Java after clicking a bottom","body":"<p>We lack some information. As agents are threads, to give them the data collected with the GUI will vary depending of your design choices.</p>\n<ul>\n<li><strong>If you have one GUI for each agent</strong> : The GUI should be launched by the agent. That way the agent will own a reference to the JFrame and thus be able to access the GUI variables.</li>\n<li><strong>If one GUI is used to create all the agents</strong> : You get the parameters from the GUI using actionPerformed(). Then you create the agents by giving the data collected through the GUI in parameter to the agents instantiation function.</li>\n<li><strong>If one GUI is used to update all agents at runtime</strong> : Then either your agents possess a reference to the GUI, the GUI possess a reference to the agents (considered as objects, not agents), the GUI is backed by an agent whose only role is to notify the agents through messages, or both agents and GUI share a common place to store data. It will depend of your constraints and objectives. In any case, I recommend using an asynchronous approach and an observer design pattern</li>\n</ul>\n"}],"owner":{"account_id":13661413,"reputation":11,"user_id":9856352,"display_name":"Daniel Velin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697543620,"creation_date":1672875078,"question_id":75012443,"body_markdown":"I&#39;m creating a GUI in Java (Netbeans) and I want to create a multi-agent system on it. The GUI will have some Text Area and a Button, so I want to click that button and give all the text information to an agent to process but I don&#180;t know how communicate the GUI with the Agents or the AgentContainer. \r\n\r\n**GUI Class (main):**\r\n\r\n    public class GUI extends javax.swing.JFrame {\r\n        Contenedor c;\r\n\r\n        public GUI() {\r\n            initComponents();\r\n            c = new Contenedor();\r\n            c.contenedor();\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n\r\n            jScrollPane1 = new javax.swing.JScrollPane();\r\n            txtArea = new javax.swing.JTextArea();\r\n            btnDesplegar = new javax.swing.JButton();\r\n\r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n            txtArea.setColumns(20);\r\n            txtArea.setRows(5);\r\n            jScrollPane1.setViewportView(txtArea);\r\n\r\n            btnDesplegar.setText(&quot;Desplegar&quot;);\r\n            btnDesplegar.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btnDesplegarActionPerformed(evt);\r\n                }\r\n            });\r\n\r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(17, 17, 17)\r\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE,     javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(38, 38, 38)\r\n                    .addComponent(btnDesplegar)\r\n                    .addContainerGap(47, Short.MAX_VALUE))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addGap(43, 43, 43)\r\n                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addGap(82, 82, 82)\r\n                            .addComponent(btnDesplegar)))\r\n                    .addContainerGap(171, Short.MAX_VALUE))\r\n            );\r\n\r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n\r\n        private void btnDesplegarActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n            System.out.println(txtArea.getText());\r\n        \r\n        }                                            \r\n\r\n        public static void main(String args[]) {\r\n\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new GUI().setVisible(true);                \r\n                }\r\n            });\r\n        }\r\n\r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton btnDesplegar;\r\n        private javax.swing.JScrollPane jScrollPane1;\r\n        private javax.swing.JTextArea txtArea;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n**AgentContainer:**\r\n\r\n    import jade.core.Profile;\r\n    import jade.core.ProfileImpl;\r\n    import jade.core.Runtime;\r\n    import jade.wrapper.AgentContainer;\r\n    import jade.wrapper.StaleProxyException;\r\n    import java.util.logging.Level;\r\n\r\n    public class Contenedor {\r\n        private AgentContainer contenedorAgentes;\r\n    \r\n        public void contenedor(){\r\n            Runtime runtime = Runtime.instance();\r\n            Profile profile = new ProfileImpl(null, 1097, null);\r\n            contenedorAgentes = runtime.createMainContainer(profile);\r\n            agregarAgentes();\r\n        }\r\n     \r\n        private void agregarAgentes(){\r\n            try {\r\n                contenedorAgentes.createNewAgent(&quot;Ag1&quot;, Ag1.class.getName(), null).start();\r\n            } \r\n            catch (StaleProxyException ex) {\r\n                java.util.logging.Logger.getLogger(Contenedor.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }    \r\n    }\r\n\r\n**Agent:**\r\n    import jade.core.Agent;\r\n    import jade.core.behaviours.CyclicBehaviour;\r\n\r\n    public class Ag1 extends Agent{\r\n    \r\n        @Override\r\n        public void setup(){\r\n            addBehaviour(new Comportamiento());\r\n        }\r\n    \r\n        @Override\r\n        public void takeDown(){\r\n        \r\n        }\r\n    \r\n        class Comportamiento extends CyclicBehaviour{\r\n\r\n            @Override\r\n            public void action() {\r\n                System.out.println(&quot;pan&quot;);\r\n            }\r\n           \r\n        }\r\n    }\r\n\r\n","title":"Send a message with information in GUI from an agent in Java after clicking a bottom","body":"<p>I'm creating a GUI in Java (Netbeans) and I want to create a multi-agent system on it. The GUI will have some Text Area and a Button, so I want to click that button and give all the text information to an agent to process but I don´t know how communicate the GUI with the Agents or the AgentContainer.</p>\n<p><strong>GUI Class (main):</strong></p>\n<pre><code>public class GUI extends javax.swing.JFrame {\n    Contenedor c;\n\n    public GUI() {\n        initComponents();\n        c = new Contenedor();\n        c.contenedor();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        txtArea = new javax.swing.JTextArea();\n        btnDesplegar = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        txtArea.setColumns(20);\n        txtArea.setRows(5);\n        jScrollPane1.setViewportView(txtArea);\n\n        btnDesplegar.setText(&quot;Desplegar&quot;);\n        btnDesplegar.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btnDesplegarActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(17, 17, 17)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE,     javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(38, 38, 38)\n                .addComponent(btnDesplegar)\n                .addContainerGap(47, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(43, 43, 43)\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(82, 82, 82)\n                        .addComponent(btnDesplegar)))\n                .addContainerGap(171, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void btnDesplegarActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        System.out.println(txtArea.getText());\n    \n    }                                            \n\n    public static void main(String args[]) {\n\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new GUI().setVisible(true);                \n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton btnDesplegar;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTextArea txtArea;\n    // End of variables declaration                   \n}\n</code></pre>\n<p><strong>AgentContainer:</strong></p>\n<pre><code>import jade.core.Profile;\nimport jade.core.ProfileImpl;\nimport jade.core.Runtime;\nimport jade.wrapper.AgentContainer;\nimport jade.wrapper.StaleProxyException;\nimport java.util.logging.Level;\n\npublic class Contenedor {\n    private AgentContainer contenedorAgentes;\n\n    public void contenedor(){\n        Runtime runtime = Runtime.instance();\n        Profile profile = new ProfileImpl(null, 1097, null);\n        contenedorAgentes = runtime.createMainContainer(profile);\n        agregarAgentes();\n    }\n \n    private void agregarAgentes(){\n        try {\n            contenedorAgentes.createNewAgent(&quot;Ag1&quot;, Ag1.class.getName(), null).start();\n        } \n        catch (StaleProxyException ex) {\n            java.util.logging.Logger.getLogger(Contenedor.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }    \n}\n</code></pre>\n<p><strong>Agent:</strong>\nimport jade.core.Agent;\nimport jade.core.behaviours.CyclicBehaviour;</p>\n<pre><code>public class Ag1 extends Agent{\n\n    @Override\n    public void setup(){\n        addBehaviour(new Comportamiento());\n    }\n\n    @Override\n    public void takeDown(){\n    \n    }\n\n    class Comportamiento extends CyclicBehaviour{\n\n        @Override\n        public void action() {\n            System.out.println(&quot;pan&quot;);\n        }\n       \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","database","maven","intellij-idea"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697456117,"post_id":77301573,"comment_id":136278055,"body_markdown":"What is a error? Who knows may be it doesn&#39;t exist.","body":"What is a error? Who knows may be it doesn&#39;t exist."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1697457332,"post_id":77301573,"comment_id":136278258,"body_markdown":"No you don&#39;t. You want 3 projects `frontend`, `backend` and `db` where `backend` depends on `db` and `frontend` (I assume) on `backend`. Each of these will have a `src/main/java`  in them (and `/src/main/resources`) as necessary. Don&#39;t mess around with the locations of the sources, it will bring you more trouble then it solves.","body":"No you don&#39;t. You want 3 projects <code>frontend</code>, <code>backend</code> and <code>db</code> where <code>backend</code> depends on <code>db</code> and <code>frontend</code> (I assume) on <code>backend</code>. Each of these will have a <code>src&#47;main&#47;java</code>  in them (and <code>&#47;src&#47;main&#47;resources</code>) as necessary. Don&#39;t mess around with the locations of the sources, it will bring you more trouble then it solves."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1697458272,"post_id":77301573,"comment_id":136278426,"body_markdown":"Maven has very strong opinions about how to do things.  There is a lot of pain and misery ahead if you don’t learn and obey &#128578;","body":"Maven has very strong opinions about how to do things.  There is a lot of pain and misery ahead if you don’t learn and obey 🙂"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697543560,"creation_date":1697459171,"answer_id":77301955,"question_id":77301573,"body_markdown":"Welcome Michael Williams,\r\n\r\nthere is a very well established method in maven to do that properly.\r\n\r\nYou need 4 `pom.xml`:\r\n\r\n```\r\nproject/pom.xml\r\nproject/backend/pom.xml\r\nproject/frontend/pom.xml\r\nproject/db/pom.xml\r\n```\r\nThe first `project/pom.xml` may contain this `xml`:\r\n\r\n\r\n\r\n    &lt;project&gt; ...\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;backend&lt;/module&gt;\r\n        &lt;module&gt;frontend&lt;/module&gt;\r\n        &lt;module&gt;db&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    &lt;/project&gt;\r\n\r\nWould you concider this as an approach?","title":"How to configure src/main/java into another folder in spring boot (maven)","body":"<p>Welcome Michael Williams,</p>\n<p>there is a very well established method in maven to do that properly.</p>\n<p>You need 4 <code>pom.xml</code>:</p>\n<pre><code>project/pom.xml\nproject/backend/pom.xml\nproject/frontend/pom.xml\nproject/db/pom.xml\n</code></pre>\n<p>The first <code>project/pom.xml</code> may contain this <code>xml</code>:</p>\n<pre><code>&lt;project&gt; ...\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;modules&gt;\n    &lt;module&gt;backend&lt;/module&gt;\n    &lt;module&gt;frontend&lt;/module&gt;\n    &lt;module&gt;db&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Would you concider this as an approach?</p>\n"},{"tags":[],"owner":{"account_id":6509120,"reputation":134,"user_id":5664993,"display_name":"Kapil Bablani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697460395,"creation_date":1697460395,"answer_id":77302081,"question_id":77301573,"body_markdown":"In Practical, there should be separate project atleast for UI and backend. The database will be part of backend project.\r\nThats where Maven comes with folders to create the backend code in src/main/java and its test cases under src/test/java. \r\nIf still you want all the things to be under one project, go for modules.","title":"How to configure src/main/java into another folder in spring boot (maven)","body":"<p>In Practical, there should be separate project atleast for UI and backend. The database will be part of backend project.\nThats where Maven comes with folders to create the backend code in src/main/java and its test cases under src/test/java.\nIf still you want all the things to be under one project, go for modules.</p>\n"}],"owner":{"account_id":28357605,"reputation":1,"user_id":21688101,"display_name":"michael williams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1697543560,"creation_date":1697455478,"question_id":77301573,"body_markdown":"I want to create a spring boot project (maven) in IntelliJ. However i want to move src/main/java or java source code into a folder called &quot;backend&quot; (located at root directory of the project. To elaborate more, there will be 3 folder at root directory called &quot;frontend&quot;, &quot;backend&quot; and &quot;db&quot;.\r\n\r\nThis project has establish connection with postgreSQL successfully. But when i move my src/main/java into another folder, it stated the error&quot; cant find jpa.spring.datasource.url&quot;.","title":"How to configure src/main/java into another folder in spring boot (maven)","body":"<p>I want to create a spring boot project (maven) in IntelliJ. However i want to move src/main/java or java source code into a folder called &quot;backend&quot; (located at root directory of the project. To elaborate more, there will be 3 folder at root directory called &quot;frontend&quot;, &quot;backend&quot; and &quot;db&quot;.</p>\n<p>This project has establish connection with postgreSQL successfully. But when i move my src/main/java into another folder, it stated the error&quot; cant find jpa.spring.datasource.url&quot;.</p>\n"},{"tags":["java","azure","azure-databricks","delta-lake","azure-purview"],"answers":[{"tags":[],"owner":{"account_id":24067356,"reputation":5361,"user_id":18043699,"display_name":"Pratik Lad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666078979,"creation_date":1660111109,"answer_id":73301289,"question_id":73286558,"body_markdown":"&gt; Error: (3913) JavaException: Must have Java 8 or newer install\r\n\r\n**The message error is quite misleading**\r\n\r\nAs per [Microsoft Document](https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source#prerequisites),\r\n\r\n&gt; Ensure JDK 11 is installed on the machine where the self-hosted integration runtime is installed\r\n\r\nCurrently the Purview preview connection **only functions with JDK 11**; it is not compatible with JDK versions higher or below.\r\n\r\nTo fix this issue uninstall your current JDK installed version and install JDK 11 after installing, restart the computer and try again.","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<blockquote>\n<p>Error: (3913) JavaException: Must have Java 8 or newer install</p>\n</blockquote>\n<p><strong>The message error is quite misleading</strong></p>\n<p>As per <a href=\"https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source#prerequisites\" rel=\"nofollow noreferrer\">Microsoft Document</a>,</p>\n<blockquote>\n<p>Ensure JDK 11 is installed on the machine where the self-hosted integration runtime is installed</p>\n</blockquote>\n<p>Currently the Purview preview connection <strong>only functions with JDK 11</strong>; it is not compatible with JDK versions higher or below.</p>\n<p>To fix this issue uninstall your current JDK installed version and install JDK 11 after installing, restart the computer and try again.</p>\n"},{"tags":[],"owner":{"account_id":17711579,"reputation":1,"user_id":12859003,"display_name":"oscargreendull314"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674055338,"creation_date":1674055338,"answer_id":75161478,"question_id":73286558,"body_markdown":"Microsoft has released a new documentation concerning the **Databricks connector** that avoids setting up connection to the Hive Metasore manually.\r\n\r\nNote that it is still in *preview* and requires JDK 11 installed on the machine where the IR is installed. \r\n\r\nYou can find the newly updated documentation (as of 01/01/2023) [here][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/purview/register-scan-azure-databricks","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<p>Microsoft has released a new documentation concerning the <strong>Databricks connector</strong> that avoids setting up connection to the Hive Metasore manually.</p>\n<p>Note that it is still in <em>preview</em> and requires JDK 11 installed on the machine where the IR is installed.</p>\n<p>You can find the newly updated documentation (as of 01/01/2023) <a href=\"https://learn.microsoft.com/en-us/azure/purview/register-scan-azure-databricks\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8380752,"reputation":1,"user_id":6292807,"display_name":"S.Bassani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697543487,"creation_date":1697543487,"answer_id":77308753,"question_id":73286558,"body_markdown":"**The above answer from Pratik Lad and halfer is true, not only for preview connectors** but for all connectors that needs java 11 jdk, such for instance Oracle connetor. In my case I followed those instructions **for Oracle connector** and it worked. \r\nI had to unistall my previous java version (21) and re-installed the 11 one so my connector could work again, and I could perform my Oracle scan (Oct 2023).\r\n\r\nYou can also find Microsoft offcial reply (for Preview connectors) here:\r\nhttps://learn.microsoft.com/en-us/answers/questions/633987/purview-integration-with-erwin-9-x","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<p><strong>The above answer from Pratik Lad and halfer is true, not only for preview connectors</strong> but for all connectors that needs java 11 jdk, such for instance Oracle connetor. In my case I followed those instructions <strong>for Oracle connector</strong> and it worked.\nI had to unistall my previous java version (21) and re-installed the 11 one so my connector could work again, and I could perform my Oracle scan (Oct 2023).</p>\n<p>You can also find Microsoft offcial reply (for Preview connectors) here:\n<a href=\"https://learn.microsoft.com/en-us/answers/questions/633987/purview-integration-with-erwin-9-x\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/answers/questions/633987/purview-integration-with-erwin-9-x</a></p>\n"}],"owner":{"account_id":908626,"reputation":6362,"user_id":1417742,"accept_rate":77,"display_name":"pd farhad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73301289,"answer_count":3,"score":0,"last_activity_date":1697543487,"creation_date":1660019462,"question_id":73286558,"body_markdown":"We have our delta-lake from which we can query data. We also connected it with Power BI to make interactive dashboards. It&#39;s in production. Now we want to use Azure Purview to avail all the data governance and data catalog things on top of this delta-lake.\r\n\r\nWe followed this official [documentation][1] and have done all the steps. As you can see from the screenshot below, we are able to connect both worlds.\r\n\r\n[![enter image description here][2]][2] \r\n\r\nNow when we start the scan, it shows an error with &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIn the Windows VM where we are having integration runtime, we installed Java, added it to the system path, and also added JAVA_HOME as system variables as well\r\n\r\nHere are the screenshots of that Windows VM ensuring we have Java:\r\n\r\n`java --version`:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nJAVA_HOME as System Variable:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nJava directory in the Path:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nWe have pulled every trick we could, no luck at all. We are not sure if is there any other place where we need to install Java.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source\r\n  [2]: https://i.stack.imgur.com/xgnOf.png\r\n  [3]: https://i.stack.imgur.com/FDmKC.png\r\n  [4]: https://i.stack.imgur.com/1kHAe.png\r\n  [5]: https://i.stack.imgur.com/tSXrm.jpg\r\n  [6]: https://i.stack.imgur.com/zuns5.png","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<p>We have our delta-lake from which we can query data. We also connected it with Power BI to make interactive dashboards. It's in production. Now we want to use Azure Purview to avail all the data governance and data catalog things on top of this delta-lake.</p>\n<p>We followed this official <a href=\"https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source\" rel=\"nofollow noreferrer\">documentation</a> and have done all the steps. As you can see from the screenshot below, we are able to connect both worlds.</p>\n<p><a href=\"https://i.stack.imgur.com/xgnOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xgnOf.png\" alt=\"enter image description here\" /></a></p>\n<p>Now when we start the scan, it shows an error with &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/FDmKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDmKC.png\" alt=\"enter image description here\" /></a></p>\n<p>In the Windows VM where we are having integration runtime, we installed Java, added it to the system path, and also added JAVA_HOME as system variables as well</p>\n<p>Here are the screenshots of that Windows VM ensuring we have Java:</p>\n<p><code>java --version</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/1kHAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1kHAe.png\" alt=\"enter image description here\" /></a></p>\n<p>JAVA_HOME as System Variable:</p>\n<p><a href=\"https://i.stack.imgur.com/tSXrm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tSXrm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Java directory in the Path:</p>\n<p><a href=\"https://i.stack.imgur.com/zuns5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuns5.png\" alt=\"enter image description here\" /></a></p>\n<p>We have pulled every trick we could, no luck at all. We are not sure if is there any other place where we need to install Java.</p>\n"},{"tags":["java","gradle","java-11"],"answers":[{"tags":[],"owner":{"account_id":3321112,"reputation":573,"user_id":2792280,"display_name":"Toldry"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645028120,"creation_date":1645027784,"answer_id":71145303,"question_id":71145302,"body_markdown":"# Solution:\r\n\r\nAdd this to `build.gradle`:\r\n\r\n```\r\njava {\r\n    toolchain {\r\n        implementation = JvmImplementation.J9\r\n    }\r\n}\r\n```\r\n\r\n# Explanation\r\n\r\nIt turned out that the JDK I used was implemented with J9.\r\n\r\nAt the time of writing, Gradle ignores JDK implemented with J9 unless explicitly set to use it.\r\n\r\nThis appears to be a bug:\r\n\r\nhttps://github.com/gradle/gradle/issues/16897#issuecomment-823272229\r\n\r\nTo check whether your JDK is implemented in J9 or not, run\r\n\r\n```\r\npath/to/your/jdk/bin/java -version\r\n```\r\n\r\nThe output will look something like this:\r\n```\r\nopenjdk version &quot;11.0.10&quot; 2021-01-19\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\r\nEclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Linux amd64-64-Bit 20210120_821 (JIT enabled, AOT enabled)\r\nOpenJ9   - 345e1b09e\r\nOMR      - 741e94ea8\r\nJCL      - 0a86953833 based on jdk-11.0.10+9)\r\n```","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<h1>Solution:</h1>\n<p>Add this to <code>build.gradle</code>:</p>\n<pre><code>java {\n    toolchain {\n        implementation = JvmImplementation.J9\n    }\n}\n</code></pre>\n<h1>Explanation</h1>\n<p>It turned out that the JDK I used was implemented with J9.</p>\n<p>At the time of writing, Gradle ignores JDK implemented with J9 unless explicitly set to use it.</p>\n<p>This appears to be a bug:</p>\n<p><a href=\"https://github.com/gradle/gradle/issues/16897#issuecomment-823272229\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/16897#issuecomment-823272229</a></p>\n<p>To check whether your JDK is implemented in J9 or not, run</p>\n<pre><code>path/to/your/jdk/bin/java -version\n</code></pre>\n<p>The output will look something like this:</p>\n<pre><code>openjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\nEclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Linux amd64-64-Bit 20210120_821 (JIT enabled, AOT enabled)\nOpenJ9   - 345e1b09e\nOMR      - 741e94ea8\nJCL      - 0a86953833 based on jdk-11.0.10+9)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2081724,"reputation":3713,"user_id":2472350,"accept_rate":67,"display_name":"Amin Keshavarzian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677049978,"creation_date":1677049978,"answer_id":75529303,"question_id":71145302,"body_markdown":"If you are trying out Kotlin Multiplatform, specifically for JVM and web development, replacing this:\r\n\r\n    jvm {\r\n            jvmToolchain(8)\r\n            withJava()\r\n            testRuns[&quot;test&quot;].executionTask.configure {\r\n                useJUnitPlatform()\r\n            }\r\n        }\r\n\r\nwith this:\r\n\r\n    jvm()\r\n\r\nhelped me fix the issue.","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<p>If you are trying out Kotlin Multiplatform, specifically for JVM and web development, replacing this:</p>\n<pre><code>jvm {\n        jvmToolchain(8)\n        withJava()\n        testRuns[&quot;test&quot;].executionTask.configure {\n            useJUnitPlatform()\n        }\n    }\n</code></pre>\n<p>with this:</p>\n<pre><code>jvm()\n</code></pre>\n<p>helped me fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":14235299,"reputation":629,"user_id":10387434,"display_name":"Leonid Ivankin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697543380,"creation_date":1697543380,"answer_id":77308742,"question_id":71145302,"body_markdown":"In my case, java 21 made the same problem. I installed java 17 and explicitly declared it in JAVA_HOME","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<p>In my case, java 21 made the same problem. I installed java 17 and explicitly declared it in JAVA_HOME</p>\n"}],"owner":{"account_id":3321112,"reputation":573,"user_id":2792280,"display_name":"Toldry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17556,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71145303,"answer_count":3,"score":7,"last_activity_date":1697543380,"creation_date":1645027784,"question_id":71145302,"body_markdown":"After upgrading to from Gradle 6.7.1 to Gradle 7.4, the following error occurs:\r\n\r\n```\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:example-project:compileJava&#39;.\r\n&gt; Failed to query the value of extension &#39;example-extension&#39; property &#39;enabled&#39;.\r\n   &gt; Failed to calculate the value of task &#39;:example-project:compileJava&#39; property &#39;javaCompiler&#39;.\r\n      &gt; No compatible toolchains found for request filter: {languageVersion=11, vendor=any, implementation=vendor-specific} (auto-detect true, auto-download false)\r\n```","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<p>After upgrading to from Gradle 6.7.1 to Gradle 7.4, the following error occurs:</p>\n<pre><code>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':example-project:compileJava'.\n&gt; Failed to query the value of extension 'example-extension' property 'enabled'.\n   &gt; Failed to calculate the value of task ':example-project:compileJava' property 'javaCompiler'.\n      &gt; No compatible toolchains found for request filter: {languageVersion=11, vendor=any, implementation=vendor-specific} (auto-detect true, auto-download false)\n</code></pre>\n"},{"tags":["java","hibernate","logging"],"comments":[{"owner":{"account_id":268115,"reputation":9584,"user_id":556678,"accept_rate":89,"display_name":"esengineer"},"score":2,"creation_date":1346236785,"post_id":311408,"comment_id":16298511,"body_markdown":"Worth mentioning that Hibernate 4+ uses JBOSS logging.","body":"Worth mentioning that Hibernate 4+ uses JBOSS logging."}],"answers":[{"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1274736447,"creation_date":1227368904,"answer_id":311445,"question_id":311408,"body_markdown":"Try to set more reasonable logging level. Setting logging level to `info` means that only log event at `info` or higher level (`warn`, `error` and `fatal`) are logged, that is `debug` logging events are ignored.\r\n\r\n    log4j.logger.org.hibernate=info\r\n\r\nor in &lt;a href=&quot;http://wiki.apache.org/logging-log4j/Log4jXmlFormat&quot;&gt;XML version&lt;/a&gt; of log4j config file:\r\n\r\n    &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n      &lt;level value=&quot;info&quot;/&gt; \r\n    &lt;/logger&gt;\r\n\r\nSee also &lt;a href=&quot;http://logging.apache.org/log4j/1.2/manual.html&quot;&gt;log4j manual&lt;/a&gt;.\r\n","title":"Turning off hibernate logging console output","body":"<p>Try to set more reasonable logging level. Setting logging level to <code>info</code> means that only log event at <code>info</code> or higher level (<code>warn</code>, <code>error</code> and <code>fatal</code>) are logged, that is <code>debug</code> logging events are ignored.</p>\n\n<pre><code>log4j.logger.org.hibernate=info\n</code></pre>\n\n<p>or in <a href=\"http://wiki.apache.org/logging-log4j/Log4jXmlFormat\" rel=\"noreferrer\">XML version</a> of log4j config file:</p>\n\n<pre><code>&lt;logger name=\"org.hibernate\"&gt;\n  &lt;level value=\"info\"/&gt; \n&lt;/logger&gt;\n</code></pre>\n\n<p>See also <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">log4j manual</a>.</p>\n"},{"tags":[],"owner":{"account_id":18224,"reputation":1667,"user_id":41589,"display_name":"rresino"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1251760924,"creation_date":1227877689,"answer_id":325747,"question_id":311408,"body_markdown":"You can disabled the many of the outputs of hibernate setting this props of hibernate (hb configuration) a false:\r\n\r\n    hibernate.show_sql\r\n    hibernate.generate_statistics\r\n    hibernate.use_sql_comments\r\n\r\nBut if you want to disable all console info you must to set the logger level a NONE of FATAL of class `org.hibernate` like Juha say.","title":"Turning off hibernate logging console output","body":"<p>You can disabled the many of the outputs of hibernate setting this props of hibernate (hb configuration) a false:</p>\n\n<pre><code>hibernate.show_sql\nhibernate.generate_statistics\nhibernate.use_sql_comments\n</code></pre>\n\n<p>But if you want to disable all console info you must to set the logger level a NONE of FATAL of class <code>org.hibernate</code> like Juha say.</p>\n"},{"tags":[],"owner":{"account_id":154621,"reputation":11,"user_id":370677,"display_name":"user370677"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321192938,"creation_date":1276894559,"answer_id":3073023,"question_id":311408,"body_markdown":"I changed the &quot;debug&quot; to &quot;info&quot; and it worked. Here is what I did:\r\n\r\nBefore:\r\n\r\n    log4j.rootLogger=debug, stdout, R\r\n\r\nAfter:\r\n\r\n    log4j.rootLogger=info, stdout, R \r\n","title":"Turning off hibernate logging console output","body":"<p>I changed the \"debug\" to \"info\" and it worked. Here is what I did:</p>\n\n<p>Before:</p>\n\n<pre><code>log4j.rootLogger=debug, stdout, R\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>log4j.rootLogger=info, stdout, R \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477551,"reputation":79,"user_id":1387605,"display_name":"Liqun Chen"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1336665266,"creation_date":1336665266,"answer_id":10537807,"question_id":311408,"body_markdown":"I finally figured out, it&#39;s because the Hibernate is using slf4j log facade now, to bridge to log4j, you need to put log4j and slf4j-log4j12 jars to your lib and then the log4j properties will take control Hibernate logs.\r\n\r\nMy pom.xml setting looks as below:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Turning off hibernate logging console output","body":"<p>I finally figured out, it's because the Hibernate is using slf4j log facade now, to bridge to log4j, you need to put log4j and slf4j-log4j12 jars to your lib and then the log4j properties will take control Hibernate logs.</p>\n\n<p>My pom.xml setting looks as below:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.16&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720110,"reputation":61,"user_id":2346585,"display_name":"Systfile"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1367582693,"creation_date":1367578950,"answer_id":16357416,"question_id":311408,"body_markdown":"For disabling `Hibernate:select` message in log, it is possible to set the property into `HibernateJpaVendorAdapter`:  \r\n\r\n\t&lt;bean id=&quot;jpaVendorAdapter&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;showSql&quot; value=&quot;false&quot;/&gt;\r\n\t&lt;/bean&gt;\t","title":"Turning off hibernate logging console output","body":"<p>For disabling <code>Hibernate:select</code> message in log, it is possible to set the property into <code>HibernateJpaVendorAdapter</code>:  </p>\n\n<pre><code>&lt;bean id=\"jpaVendorAdapter\"\n    class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n    &lt;property name=\"showSql\" value=\"false\"/&gt;\n&lt;/bean&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1376949907,"creation_date":1376949907,"answer_id":18323888,"question_id":311408,"body_markdown":"Executing:\r\n\r\n    java.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(Level.OFF);\r\n\r\nbefore hibernate&#39;s initialization worked for me.\r\n\r\n&lt;br&gt;\r\n\r\n**Note:** the line above will turn *every* logging off (`Level.OFF`). If you want to be less strict, you can use\r\n\r\n    java.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(Level.SEVERE);\r\n\r\nthat is silent enough. (Or check the `java.util.logging.Level` class for more levels).","title":"Turning off hibernate logging console output","body":"<p>Executing:</p>\n\n<pre><code>java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(Level.OFF);\n</code></pre>\n\n<p>before hibernate's initialization worked for me.</p>\n\n<p><br></p>\n\n<p><strong>Note:</strong> the line above will turn <em>every</em> logging off (<code>Level.OFF</code>). If you want to be less strict, you can use</p>\n\n<pre><code>java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(Level.SEVERE);\n</code></pre>\n\n<p>that is silent enough. (Or check the <code>java.util.logging.Level</code> class for more levels).</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1697542926,"creation_date":1397097538,"answer_id":22977693,"question_id":311408,"body_markdown":"Important notice: the property (part of hibernate configuration, NOT part of logging framework config!)\r\n\r\n    hibernate.show_sql\r\n\r\ncontrols the logging *directly* to STDOUT bypassing any logging framework (which you can recognize by the missing output formatting of the messages). If you use a logging framework like log4j, &lt;b&gt;you should *always* set that property to false&lt;/b&gt; because it gives you no benefit at all.\r\n\r\nThat circumstance irritated me quite a long time because I never really cared about it until I tried to write some benchmark regarding Hibernate.\r\n\r\n**Spring** \r\n\r\n(tested with spring-boot 3.0.6 and hibernate 5.6.15)\r\n\r\nIf you&#39;re using Spring Boot with properties file: \r\n\r\n    spring.jpa.properties.hibernate.show_sql=false","title":"Turning off hibernate logging console output","body":"<p>Important notice: the property (part of hibernate configuration, NOT part of logging framework config!)</p>\n<pre><code>hibernate.show_sql\n</code></pre>\n<p>controls the logging <em>directly</em> to STDOUT bypassing any logging framework (which you can recognize by the missing output formatting of the messages). If you use a logging framework like log4j, <b>you should <em>always</em> set that property to false</b> because it gives you no benefit at all.</p>\n<p>That circumstance irritated me quite a long time because I never really cared about it until I tried to write some benchmark regarding Hibernate.</p>\n<p><strong>Spring</strong></p>\n<p>(tested with spring-boot 3.0.6 and hibernate 5.6.15)</p>\n<p>If you're using Spring Boot with properties file:</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4977950,"reputation":745,"user_id":4003774,"display_name":"Matej Vargovč&#237;k"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1410360173,"creation_date":1410360173,"answer_id":25768383,"question_id":311408,"body_markdown":"For those who don&#39;t want elegant solutions, just a quick and dirty way to stop those messages, here is a solution that worked for me (I use Hibernate 4.3.6 and Eclipse and no answers provided above (or found on the internet) worked; neither log4j config files nor setting the logging level programatically)\r\n\r\n\tpublic static void main(String[] args) {\r\n        //magical - do not touch\r\n\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\torg.jboss.logging.Logger logger = org.jboss.logging.Logger.getLogger(&quot;org.hibernate&quot;);\r\n\t\tjava.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(java.util.logging.Level.WARNING); //or whatever level you need\r\n\r\n        ...\r\n    }\r\n\r\nI used it in a tutorial program downloaded from [this site](http://www.journaldev.com/2882/hibernate-tutorial-for-beginners-using-xml-annotations-and-property-configurations)","title":"Turning off hibernate logging console output","body":"<p>For those who don't want elegant solutions, just a quick and dirty way to stop those messages, here is a solution that worked for me (I use Hibernate 4.3.6 and Eclipse and no answers provided above (or found on the internet) worked; neither log4j config files nor setting the logging level programatically)</p>\n\n<pre><code>public static void main(String[] args) {\n    //magical - do not touch\n    @SuppressWarnings(\"unused\")\n    org.jboss.logging.Logger logger = org.jboss.logging.Logger.getLogger(\"org.hibernate\");\n    java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(java.util.logging.Level.WARNING); //or whatever level you need\n\n    ...\n}\n</code></pre>\n\n<p>I used it in a tutorial program downloaded from <a href=\"http://www.journaldev.com/2882/hibernate-tutorial-for-beginners-using-xml-annotations-and-property-configurations\" rel=\"noreferrer\">this site</a></p>\n"},{"tags":[],"owner":{"account_id":6999582,"reputation":9,"user_id":5366030,"display_name":"Balakrishna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1442981359,"creation_date":1442981359,"answer_id":32730806,"question_id":311408,"body_markdown":"Replace slf4j-jdk14-xxx.jar with slf4j-log4j12-xxx.jar. If you have both, delete slf4j-jdk14-xxx.jar. Found this solution at https://forum.hibernate.org/viewtopic.php?f=1&amp;t=999623\r\n","title":"Turning off hibernate logging console output","body":"<p>Replace slf4j-jdk14-xxx.jar with slf4j-log4j12-xxx.jar. If you have both, delete slf4j-jdk14-xxx.jar. Found this solution at <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=999623\" rel=\"nofollow\">https://forum.hibernate.org/viewtopic.php?f=1&amp;t=999623</a></p>\n"},{"tags":[],"owner":{"account_id":5036808,"reputation":9,"user_id":4045353,"display_name":"Ramesh Gowtham"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1450257130,"creation_date":1449816152,"answer_id":34217576,"question_id":311408,"body_markdown":"To get rid of logger output in console try this.\r\n\r\n    ch.qos.logback.classic.LoggerContext.LoggerContext loggerContext = (LoggerContext) org.slf4j.LoggerFactory.LoggerFactory.getILoggerFactory();\r\n    \r\n    loggerContext.stop();\r\n\r\nThese statements disabled all the console outputs from logger.","title":"Turning off hibernate logging console output","body":"<p>To get rid of logger output in console try this.</p>\n\n<pre><code>ch.qos.logback.classic.LoggerContext.LoggerContext loggerContext = (LoggerContext) org.slf4j.LoggerFactory.LoggerFactory.getILoggerFactory();\n\nloggerContext.stop();\n</code></pre>\n\n<p>These statements disabled all the console outputs from logger.</p>\n"},{"tags":[],"owner":{"account_id":9707010,"reputation":170,"user_id":7200161,"display_name":"Christian Hoffmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534437094,"creation_date":1534433599,"answer_id":51880681,"question_id":311408,"body_markdown":"The first thing to do is to figure out which logging framework is actually used.\r\n\r\nMany frameworks are already covered by other authors above. In case you are using Logback you can solve the problem by adding this *logback.xml* to your classpath:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nFurther information: [Logback Manual-Configuration][1]\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/configuration.html","title":"Turning off hibernate logging console output","body":"<p>The first thing to do is to figure out which logging framework is actually used.</p>\n\n<p>Many frameworks are already covered by other authors above. In case you are using Logback you can solve the problem by adding this <em>logback.xml</em> to your classpath:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;logger name=\"org.hibernate\" level=\"WARN\"/&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Further information: <a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">Logback Manual-Configuration</a></p>\n"},{"tags":[],"owner":{"account_id":17500365,"reputation":11,"user_id":12690757,"display_name":"Chris Meyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578676692,"creation_date":1578676341,"answer_id":59686150,"question_id":311408,"body_markdown":"There are several parts of hibernate logging you can control based on the logger hierarchy of the hibernate package (more on logger hierarchy [here](https://www.journaldev.com/7128/log4j2-example-tutorial-configuration-levels-appenders)).\r\n\r\n        &lt;!-- Log everything in hibernate --&gt;\r\n        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    \r\n        &lt;!-- Log SQL statements --&gt;\r\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n          &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    \r\n        &lt;!-- Log JDBC bind parameters --&gt;\r\n        &lt;Logger name=&quot;org.hibernate.type.descriptor.sql&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n          &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\nThe above was taken from [here](https://www.boraji.com/hibernate-5-log4j-2-configuration-example).\r\n\r\nAdditionally you could have the property `show-sql:true` in your configuration file since that supersedes the logging framework settings. More on that [here](https://stackoverflow.com/questions/6012333/turn-off-hibernate-logging-to-console/59685881#59685881).","title":"Turning off hibernate logging console output","body":"<p>There are several parts of hibernate logging you can control based on the logger hierarchy of the hibernate package (more on logger hierarchy <a href=\"https://www.journaldev.com/7128/log4j2-example-tutorial-configuration-levels-appenders\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<pre><code>    &lt;!-- Log everything in hibernate --&gt;\n    &lt;Logger name=\"org.hibernate\" level=\"info\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"Console\" /&gt;\n    &lt;/Logger&gt;\n\n    &lt;!-- Log SQL statements --&gt;\n    &lt;Logger name=\"org.hibernate.SQL\" level=\"debug\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"Console\" /&gt;\n      &lt;AppenderRef ref=\"File\" /&gt;\n    &lt;/Logger&gt;\n\n    &lt;!-- Log JDBC bind parameters --&gt;\n    &lt;Logger name=\"org.hibernate.type.descriptor.sql\" level=\"trace\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"Console\" /&gt;\n      &lt;AppenderRef ref=\"File\" /&gt;\n    &lt;/Logger&gt;\n</code></pre>\n\n<p>The above was taken from <a href=\"https://www.boraji.com/hibernate-5-log4j-2-configuration-example\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Additionally you could have the property <code>show-sql:true</code> in your configuration file since that supersedes the logging framework settings. More on that <a href=\"https://stackoverflow.com/questions/6012333/turn-off-hibernate-logging-to-console/59685881#59685881\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7364659,"reputation":515,"user_id":5606736,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578885969,"creation_date":1578885969,"answer_id":59710263,"question_id":311408,"body_markdown":"I managed to stop by adding those 2 lines\r\n\r\n    log4j.logger.org.hibernate.orm.deprecation=error\r\n\r\n    log4j.logger.org.hibernate=error\r\n\r\nBellow is what my *log4j.properties* looks like, i just leave some commented lines explaining the log level\r\n\r\n    # Root logger option\r\n    #Level/rules TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL.\r\n    #FATAL: shows messages at a FATAL level only\r\n    #ERROR: Shows messages classified as ERROR and FATAL\r\n    #WARNING: Shows messages classified as WARNING, ERROR, and FATAL\r\n    #INFO: Shows messages classified as INFO, WARNING, ERROR, and FATAL\r\n    #DEBUG: Shows messages classified as DEBUG, INFO, WARNING, ERROR, and FATAL\r\n    #TRACE : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\r\n    #ALL : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\r\n    #OFF : No log messages display\r\n\r\n\r\n    log4j.rootLogger=INFO, file, console\r\n    \r\n    log4j.logger.main=DEBUG\r\n    log4j.logger.org.hibernate.orm.deprecation=error\r\n    log4j.logger.org.hibernate=error\r\n    \r\n    #######################################\r\n    # Direct log messages to a log file\r\n    log4j.appender.file.Threshold=ALL\r\n    log4j.appender.file.file=logs/MyProgram.log\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %c{1} - %m%n\r\n    \r\n    # set file size limit\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.MaxFileSize=5MB\r\n    log4j.appender.file.MaxBackupIndex=50\r\n    \r\n    \r\n    #############################################\r\n    # Direct log messages to System Out\r\n    log4j.appender.console.Threshold=INFO\r\n    log4j.appender.console.Target=System.out\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.ConversionPattern=%d{HH:mm:ss} %-5p %c{1} - %m%n\r\n\r\n","title":"Turning off hibernate logging console output","body":"<p>I managed to stop by adding those 2 lines</p>\n\n<pre><code>log4j.logger.org.hibernate.orm.deprecation=error\n\nlog4j.logger.org.hibernate=error\n</code></pre>\n\n<p>Bellow is what my <em>log4j.properties</em> looks like, i just leave some commented lines explaining the log level</p>\n\n<pre><code># Root logger option\n#Level/rules TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL.\n#FATAL: shows messages at a FATAL level only\n#ERROR: Shows messages classified as ERROR and FATAL\n#WARNING: Shows messages classified as WARNING, ERROR, and FATAL\n#INFO: Shows messages classified as INFO, WARNING, ERROR, and FATAL\n#DEBUG: Shows messages classified as DEBUG, INFO, WARNING, ERROR, and FATAL\n#TRACE : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\n#ALL : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\n#OFF : No log messages display\n\n\nlog4j.rootLogger=INFO, file, console\n\nlog4j.logger.main=DEBUG\nlog4j.logger.org.hibernate.orm.deprecation=error\nlog4j.logger.org.hibernate=error\n\n#######################################\n# Direct log messages to a log file\nlog4j.appender.file.Threshold=ALL\nlog4j.appender.file.file=logs/MyProgram.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %c{1} - %m%n\n\n# set file size limit\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.MaxFileSize=5MB\nlog4j.appender.file.MaxBackupIndex=50\n\n\n#############################################\n# Direct log messages to System Out\nlog4j.appender.console.Threshold=INFO\nlog4j.appender.console.Target=System.out\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{HH:mm:ss} %-5p %c{1} - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620979447,"creation_date":1620979447,"answer_id":67530992,"question_id":311408,"body_markdown":"**To disable printing hibernate queries in logs, just add this to your `application.properties`**\r\n\r\n    spring.jpa.show-sql=false","title":"Turning off hibernate logging console output","body":"<p><strong>To disable printing hibernate queries in logs, just add this to your <code>application.properties</code></strong></p>\n<pre><code>spring.jpa.show-sql=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629228165,"creation_date":1629228165,"answer_id":68822958,"question_id":311408,"body_markdown":"In my case I had added the dependency \r\n   \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwhich was not necessary. I removed it and everything works perfectly ","title":"Turning off hibernate logging console output","body":"<p>In my case I had added the dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>which was not necessary. I removed it and everything works perfectly</p>\n"},{"tags":[],"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657045162,"creation_date":1657045162,"answer_id":72873906,"question_id":311408,"body_markdown":"The `@DataJpaTest` annotation from [Spring Boot Test Auto-Configure][1] enables SQL output by default. To disable SQL output when using that annotation in tests, change\r\n\r\n```Java\r\n@DataJpaTest\r\npublic class MyTestClass {\r\n    ...\r\n}\r\n```\r\n\r\nto\r\n\r\n```Java\r\n@DataJpaTest(showSql = false)\r\npublic class MyTestClass {\r\n    ...\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-spring-data-jpa","title":"Turning off hibernate logging console output","body":"<p>The <code>@DataJpaTest</code> annotation from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Boot Test Auto-Configure</a> enables SQL output by default. To disable SQL output when using that annotation in tests, change</p>\n<pre><code>@DataJpaTest\npublic class MyTestClass {\n    ...\n}\n</code></pre>\n<p>to</p>\n<pre><code>@DataJpaTest(showSql = false)\npublic class MyTestClass {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":8241,"reputation":39593,"user_id":14744,"accept_rate":53,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243239,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":311445,"answer_count":16,"score":95,"last_activity_date":1697542926,"creation_date":1227366967,"question_id":311408,"body_markdown":"I&#39;m using hibernate 3 and want to stop it from dumping all the startup messages to the console. I tried commenting out the stdout lines in log4j.properties but no luck. I&#39;ve pasted my log file below. Also I&#39;m using eclipse with the standard project structure and have a copy of log4j.properties in both the root of the project folder and the bin folder.\r\n&lt;pre&gt;### direct log messages to stdout ###\r\n#log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n#log4j.appender.stdout.Target=System.out\r\n#log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n#log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\r\n\r\n### direct messages to file hibernate.log ###\r\nlog4j.appender.file=org.apache.log4j.FileAppender\r\nlog4j.appender.file.File=hibernate.log\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\r\n\r\n### set log levels - for more verbose logging change &#39;info&#39; to &#39;debug&#39; ###\r\n\r\nlog4j.rootLogger=warn, stdout\r\n\r\n#log4j.logger.org.hibernate=info\r\nlog4j.logger.org.hibernate=debug\r\n\r\n### log HQL query parser activity\r\n#log4j.logger.org.hibernate.hql.ast.AST=debug\r\n\r\n### log just the SQL\r\n#log4j.logger.org.hibernate.SQL=debug\r\n\r\n### log JDBC bind parameters ###\r\nlog4j.logger.org.hibernate.type=info\r\n#log4j.logger.org.hibernate.type=debug\r\n\r\n### log schema export/update ###\r\nlog4j.logger.org.hibernate.tool.hbm2ddl=debug\r\n\r\n### log HQL parse trees\r\n#log4j.logger.org.hibernate.hql=debug\r\n\r\n### log cache activity ###\r\n#log4j.logger.org.hibernate.cache=debug\r\n\r\n### log transaction activity\r\n#log4j.logger.org.hibernate.transaction=debug\r\n\r\n### log JDBC resource acquisition\r\n#log4j.logger.org.hibernate.jdbc=debug\r\n\r\n### enable the following line if you want to track down connection ###\r\n### leakages when using DriverManagerConnectionProvider ###\r\n#log4j.logger.org.hibernate.connection.DriverManagerConnectionProvider=trac5&lt;/pre&gt;","title":"Turning off hibernate logging console output","body":"<p>I'm using hibernate 3 and want to stop it from dumping all the startup messages to the console. I tried commenting out the stdout lines in log4j.properties but no luck. I've pasted my log file below. Also I'm using eclipse with the standard project structure and have a copy of log4j.properties in both the root of the project folder and the bin folder.</p>\n\n<pre>### direct log messages to stdout ###\n#log4j.appender.stdout=org.apache.log4j.ConsoleAppender\n#log4j.appender.stdout.Target=System.out\n#log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n#log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\n\n### direct messages to file hibernate.log ###\nlog4j.appender.file=org.apache.log4j.FileAppender\nlog4j.appender.file.File=hibernate.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\n\n### set log levels - for more verbose logging change 'info' to 'debug' ###\n\nlog4j.rootLogger=warn, stdout\n\n#log4j.logger.org.hibernate=info\nlog4j.logger.org.hibernate=debug\n\n### log HQL query parser activity\n#log4j.logger.org.hibernate.hql.ast.AST=debug\n\n### log just the SQL\n#log4j.logger.org.hibernate.SQL=debug\n\n### log JDBC bind parameters ###\nlog4j.logger.org.hibernate.type=info\n#log4j.logger.org.hibernate.type=debug\n\n### log schema export/update ###\nlog4j.logger.org.hibernate.tool.hbm2ddl=debug\n\n### log HQL parse trees\n#log4j.logger.org.hibernate.hql=debug\n\n### log cache activity ###\n#log4j.logger.org.hibernate.cache=debug\n\n### log transaction activity\n#log4j.logger.org.hibernate.transaction=debug\n\n### log JDBC resource acquisition\n#log4j.logger.org.hibernate.jdbc=debug\n\n### enable the following line if you want to track down connection ###\n### leakages when using DriverManagerConnectionProvider ###\n#log4j.logger.org.hibernate.connection.DriverManagerConnectionProvider=trac5</pre>\n"},{"tags":["java","gradle","azure-pipelines"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697474969,"post_id":77303510,"comment_id":136281671,"body_markdown":"Have you included/updated the gradle wrapper in your project for it to use? Also keep in mind that gradle doesn&#39;t have full support for java 21 yet https://docs.gradle.org/current/userguide/compatibility.html","body":"Have you included/updated the gradle wrapper in your project for it to use? Also keep in mind that gradle doesn&#39;t have full support for java 21 yet <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>"},{"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":0,"creation_date":1697475798,"post_id":77303510,"comment_id":136281807,"body_markdown":"@AnthonyCathers I don&#39;t think I need to upgrade the Gradle Wrapper, because the Gradle version hasn&#39;t changed","body":"@AnthonyCathers I don&#39;t think I need to upgrade the Gradle Wrapper, because the Gradle version hasn&#39;t changed"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697476390,"post_id":77303510,"comment_id":136281890,"body_markdown":"If you&#39;re upgrading your java version to a latest version, you should almost always be updating your gradle wrapper to a version that supports that java version. But I think the issue here is that https://learn.microsoft.com/en-us/azure/developer/java/fundamentals/java-support-on-azure 21 is just not provided by Azure out of the box. You would probably need to provide a custom container to run this in until support is provided","body":"If you&#39;re upgrading your java version to a latest version, you should almost always be updating your gradle wrapper to a version that supports that java version. But I think the issue here is that <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/fundamentals/java-support-on-azure\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/developer/java/fundamentals/&zwnj;&#8203;&hellip;</a> 21 is just not provided by Azure out of the box. You would probably need to provide a custom container to run this in until support is provided"},{"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":0,"creation_date":1697484455,"post_id":77303510,"comment_id":136283156,"body_markdown":"@AnthonyCathers I&#39;m already using the latest version of Gradle (8.4), so there&#39;s no version I could upgrade to","body":"@AnthonyCathers I&#39;m already using the latest version of Gradle (8.4), so there&#39;s no version I could upgrade to"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697486335,"post_id":77303510,"comment_id":136283443,"body_markdown":"Gradle only supports certain versions which is why I posted the compatibility matrix. You never said what version of gradle you were on until this last comment. It was a general comment, not meant to be taken literally. The answer to your original question is also within my previous comment.","body":"Gradle only supports certain versions which is why I posted the compatibility matrix. You never said what version of gradle you were on until this last comment. It was a general comment, not meant to be taken literally. The answer to your original question is also within my previous comment."}],"answers":[{"tags":[],"owner":{"account_id":18482692,"reputation":23463,"user_id":13464420,"display_name":"Kevin Lu-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697508103,"creation_date":1697508103,"answer_id":77305812,"question_id":77303510,"body_markdown":"I can reproduce the same issue when using the Java21 in Azure Pipeline. \r\n\r\nThe root cause of the issue is that the Java 21 is not pre-installed in Pipeline agent.\r\n\r\n&gt;Is it possible to use JDK 21 in an Azure Pipeline Gradle task?\r\n\r\nThe answer is YES. We can add steps to install the Java 21 before Gradle build.\r\n\r\nRefer to the following YAML sample:\r\n\r\n**Windows Agent:**\r\n\r\n    steps:\r\n    - powershell: |\r\n       $source = &quot;https://download.oracle.com/java/21/latest/jdk-21_windows-x64_bin.zip&quot;\r\n       $destination = &quot;$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip&quot;\r\n       $client = new-object System.Net.WebClient \r\n       $cookie = &quot;oraclelicense=accept-securebackup-cookie&quot;\r\n       $client.Headers.Add([System.Net.HttpRequestHeader]::Cookie, $cookie) \r\n       $client.downloadFile($source, $destination)\r\n      displayName: &#39;PowerShell Script&#39;\r\n    \r\n    - task: JavaToolInstaller@0\r\n      displayName: &#39;Use Java 21&#39;\r\n      inputs:\r\n        versionSpec: 21\r\n        jdkArchitectureOption: x64\r\n        jdkSourceOption: LocalDirectory\r\n        jdkFile: &#39;$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip&#39;\r\n        jdkDestinationDirectory: &#39;$(agent.toolsDirectory)/jdk21&#39;\r\n    \r\n    - task: Gradle@2\r\n      inputs:\r\n        workingDirectory: &#39;&#39;\r\n        gradleWrapperFile: &#39;gradlew&#39;\r\n        gradleOptions: &#39;-Xmx3072m&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        jdkVersionOption: &#39;1.21&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        publishJUnitResults: true\r\n        testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n        tasks: &#39;build&#39;\r\n\r\n**Linux Agent:**\r\n\r\n    steps:\r\n    - bash: &#39;wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.tar.gz &#39;\r\n      displayName: &#39;Bash Script&#39;\r\n    \r\n    - task: JavaToolInstaller@0\r\n      displayName: &#39;Use Java 21&#39;\r\n      inputs:\r\n        versionSpec: 21\r\n        jdkArchitectureOption: x64\r\n        jdkSourceOption: LocalDirectory\r\n        jdkFile: &#39;$(build.sourcesdirectory)/jdk-21_linux-x64_bin.tar.gz&#39;\r\n        jdkDestinationDirectory: &#39;$(agent.toolsDirectory)/jdk21&#39;\r\n    \r\n    - task: Gradle@2\r\n      inputs:\r\n        workingDirectory: &#39;&#39;\r\n        gradleWrapperFile: &#39;gradlew&#39;\r\n        gradleOptions: &#39;-Xmx3072m&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        jdkVersionOption: &#39;1.21&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        publishJUnitResults: true\r\n        testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n        tasks: &#39;build&#39;\r\n\r\nThe script will download the Java 21  [Java Official site][1]. And the Pipeline task: [Java Installer][2] to configure the agent environemnt. \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/#jdk21-linux\r\n  [2]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/java-tool-installer-v0?view=azure-pipelines","title":"Is it possible to use JDK 21 in an Azure Pipeline Gradle task?","body":"<p>I can reproduce the same issue when using the Java21 in Azure Pipeline.</p>\n<p>The root cause of the issue is that the Java 21 is not pre-installed in Pipeline agent.</p>\n<blockquote>\n<p>Is it possible to use JDK 21 in an Azure Pipeline Gradle task?</p>\n</blockquote>\n<p>The answer is YES. We can add steps to install the Java 21 before Gradle build.</p>\n<p>Refer to the following YAML sample:</p>\n<p><strong>Windows Agent:</strong></p>\n<pre><code>steps:\n- powershell: |\n   $source = &quot;https://download.oracle.com/java/21/latest/jdk-21_windows-x64_bin.zip&quot;\n   $destination = &quot;$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip&quot;\n   $client = new-object System.Net.WebClient \n   $cookie = &quot;oraclelicense=accept-securebackup-cookie&quot;\n   $client.Headers.Add([System.Net.HttpRequestHeader]::Cookie, $cookie) \n   $client.downloadFile($source, $destination)\n  displayName: 'PowerShell Script'\n\n- task: JavaToolInstaller@0\n  displayName: 'Use Java 21'\n  inputs:\n    versionSpec: 21\n    jdkArchitectureOption: x64\n    jdkSourceOption: LocalDirectory\n    jdkFile: '$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip'\n    jdkDestinationDirectory: '$(agent.toolsDirectory)/jdk21'\n\n- task: Gradle@2\n  inputs:\n    workingDirectory: ''\n    gradleWrapperFile: 'gradlew'\n    gradleOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.21'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/TEST-*.xml'\n    tasks: 'build'\n</code></pre>\n<p><strong>Linux Agent:</strong></p>\n<pre><code>steps:\n- bash: 'wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.tar.gz '\n  displayName: 'Bash Script'\n\n- task: JavaToolInstaller@0\n  displayName: 'Use Java 21'\n  inputs:\n    versionSpec: 21\n    jdkArchitectureOption: x64\n    jdkSourceOption: LocalDirectory\n    jdkFile: '$(build.sourcesdirectory)/jdk-21_linux-x64_bin.tar.gz'\n    jdkDestinationDirectory: '$(agent.toolsDirectory)/jdk21'\n\n- task: Gradle@2\n  inputs:\n    workingDirectory: ''\n    gradleWrapperFile: 'gradlew'\n    gradleOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.21'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/TEST-*.xml'\n    tasks: 'build'\n</code></pre>\n<p>The script will download the Java 21  <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk21-linux\" rel=\"nofollow noreferrer\">Java Official site</a>. And the Pipeline task: <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/java-tool-installer-v0?view=azure-pipelines\" rel=\"nofollow noreferrer\">Java Installer</a> to configure the agent environemnt.</p>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77305812,"answer_count":1,"score":0,"last_activity_date":1697542905,"creation_date":1697473066,"question_id":77303510,"body_markdown":"My Azure pipeline contains the following task\r\n\r\n```yaml\r\n  - task: Gradle@2\r\n    displayName: &#39;Run checks and tests&#39;\r\n    inputs:\r\n      javaHomeOption: &#39;JDKVersion&#39;\r\n      jdkVersionOption: &#39;1.17&#39;\r\n      tasks: &#39;check jacocoTestCoverageVerification jacocoTestReport&#39;\r\n```\r\n\r\nI would like to upgrade to JDK v21, but if I replace 1.17 with 1.21 I get the following error:\r\n\r\n&gt; Error: Failed to find the specified JDK version. Please ensure the specified JDK version is installed on the agent and the environment variable &#39;JAVA_HOME_21_X64&#39; exists and is set to the location of a corresponding JDK or use the Java Tool Installer task to install the desired JDK.\r\n\r\nI also tried using using `Gradle@3` with `jdkVersionOption: &#39;1.21&#39;`, but it fails with the same error message\r\n","title":"Is it possible to use JDK 21 in an Azure Pipeline Gradle task?","body":"<p>My Azure pipeline contains the following task</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  - task: Gradle@2\n    displayName: 'Run checks and tests'\n    inputs:\n      javaHomeOption: 'JDKVersion'\n      jdkVersionOption: '1.17'\n      tasks: 'check jacocoTestCoverageVerification jacocoTestReport'\n</code></pre>\n<p>I would like to upgrade to JDK v21, but if I replace 1.17 with 1.21 I get the following error:</p>\n<blockquote>\n<p>Error: Failed to find the specified JDK version. Please ensure the specified JDK version is installed on the agent and the environment variable 'JAVA_HOME_21_X64' exists and is set to the location of a corresponding JDK or use the Java Tool Installer task to install the desired JDK.</p>\n</blockquote>\n<p>I also tried using using <code>Gradle@3</code> with <code>jdkVersionOption: '1.21'</code>, but it fails with the same error message</p>\n"},{"tags":["java","spring","spring-cloud-netflix","spring-cloud-feign"],"comments":[{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1506950946,"post_id":46526431,"comment_id":80006880,"body_markdown":"You probably use hystrix with feign and its timeout is default 1s.","body":"You probably use hystrix with feign and its timeout is default 1s."},{"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"score":0,"creation_date":1506951260,"post_id":46526431,"comment_id":80007069,"body_markdown":"I&#39;ve added stack trace later. There aren&#39;t any hystrix mention. Can it be because of hystrix anyway?","body":"I&#39;ve added stack trace later. There aren&#39;t any hystrix mention. Can it be because of hystrix anyway?"}],"answers":[{"tags":[],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1507296217,"creation_date":1507296217,"answer_id":46606787,"question_id":46526431,"body_markdown":"The right solution was\r\n    \r\n    @Value(&quot;${feign.connectTimeout:10000}&quot;)\r\n    private int connectTimeout;\r\n\r\n    @Value(&quot;${feign.readTimeOut:300000}&quot;)\r\n    private int readTimeout;\r\n\r\n    @Bean\r\n    public Request.Options options() {\r\n        return new Request.Options(connectTimeout, readTimeout);\r\n    }\r\nand add to .properties file this one `payer-service-client.feign.hystrix.enabled=false`","title":"Can&#39;t configure Feign Client timeouts","body":"<p>The right solution was</p>\n\n<pre><code>@Value(\"${feign.connectTimeout:10000}\")\nprivate int connectTimeout;\n\n@Value(\"${feign.readTimeOut:300000}\")\nprivate int readTimeout;\n\n@Bean\npublic Request.Options options() {\n    return new Request.Options(connectTimeout, readTimeout);\n}\n</code></pre>\n\n<p>and add to .properties file this one <code>payer-service-client.feign.hystrix.enabled=false</code></p>\n"},{"tags":[],"owner":{"account_id":5041765,"reputation":837,"user_id":4048904,"display_name":"Amit Goldstein"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579768306,"creation_date":1579768306,"answer_id":59874287,"question_id":46526431,"body_markdown":"There is also a way to do this with configuration only.\r\n\r\nAdd to your `application.yml`:\r\n\r\n```\r\nfeign:\r\n  client:\r\n    config:\r\n      my-client:\r\n        connectTimeout: 10000\r\n        readTimeout: 300000\r\n```","title":"Can&#39;t configure Feign Client timeouts","body":"<p>There is also a way to do this with configuration only.</p>\n\n<p>Add to your <code>application.yml</code>:</p>\n\n<pre><code>feign:\n  client:\n    config:\n      my-client:\n        connectTimeout: 10000\n        readTimeout: 300000\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4773260"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618414802,"creation_date":1618414802,"answer_id":67094841,"question_id":46526431,"body_markdown":"I think you are misplacing the ```default``` attribute.\r\n\r\nThe correct way of using the default timeout properties are :\r\n\r\n    feign.client.config.default.connectTimeout=xxxx\r\n    feign.client.config.default.readTimeout=xxxx\r\n\r\n\r\nThese will be applicable for all the feign clients. If you want to apply it to a specific client you can refer to the other answers. ","title":"Can&#39;t configure Feign Client timeouts","body":"<p>I think you are misplacing the <code>default</code> attribute.</p>\n<p>The correct way of using the default timeout properties are :</p>\n<pre><code>feign.client.config.default.connectTimeout=xxxx\nfeign.client.config.default.readTimeout=xxxx\n</code></pre>\n<p>These will be applicable for all the feign clients. If you want to apply it to a specific client you can refer to the other answers.</p>\n"},{"tags":[],"owner":{"account_id":7401942,"reputation":183,"user_id":6588493,"display_name":"ddotsdot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697542775,"creation_date":1697542775,"answer_id":77308672,"question_id":46526431,"body_markdown":"According to [this answer][1] you need to put only\r\n\r\n&gt; `spring.cloud.openfeign.client.config.default.readTimeout=300000`\r\n&gt; `spring.cloud.openfeign.client.config.default.connect-timeout=10000`\r\n\r\n in your `application.properties`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75526697/6588493","title":"Can&#39;t configure Feign Client timeouts","body":"<p>According to <a href=\"https://stackoverflow.com/a/75526697/6588493\">this answer</a> you need to put only</p>\n<blockquote>\n<p><code>spring.cloud.openfeign.client.config.default.readTimeout=300000</code>\n<code>spring.cloud.openfeign.client.config.default.connect-timeout=10000</code></p>\n</blockquote>\n<p>in your <code>application.properties</code></p>\n"}],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10324,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46606787,"answer_count":4,"score":4,"last_activity_date":1697542775,"creation_date":1506950816,"question_id":46526431,"body_markdown":"I&#39;m using Feign Client with disabled Load Balancer\r\n    \r\n    @FeignClient(name = &quot;my-client&quot;, url = &quot;${myHost}&quot;, configuration = ClientContext.class)\r\nSo, all ribbon properties are ignored.\r\nI&#39;m trying to set custom timeouts by different ways, but Feign ignores all them and throws TimeoutException after 60 seconds.\r\nWays I tried to use:\r\nin ClientContext:\r\n1)\r\n    \r\n    @Value(&quot;${feign.connectTimeout:10000}&quot;)\r\n    private int connectTimeout;\r\n\r\n    @Value(&quot;${feign.readTimeOut:300000}&quot;)\r\n    private int readTimeout;\r\n\r\n    @Bean\r\n    public Request.Options options() {\r\n        return new Request.Options(connectTimeout, readTimeout);\r\n    }\r\n2)\r\n    \r\n    @Bean\r\n    public Request.Options options() {\r\n        return new Request.Options(10_000, 300_000);\r\n    }\r\nin bootstrap.properties file:\r\n1)\r\n    \r\n    feign.client.default.connect-timeout=10000\r\n    feign.client.default.read-timeout=300000\r\n2)\r\n    \r\n    feign.client.default.config.connect-timeout=10000\r\n    feign.client.default.config.read-timeout=300000\r\n3)\r\n    \r\n    feign.client.default.connectTimeout=10000\r\n    feign.client.default.readTimeout=300000\r\n4)\r\n    \r\n    feign.client.default.config.connectTimeout=10000\r\n    feign.client.default.config.readTimeout=300000\r\nError stack trace is:\r\n    \r\n    Error Message: feign.RetryableException: Read timed out executing GET http://myrequest...\r\n    Stacktrace: \r\n    feign.FeignException.errorExecuting(FeignException.java:67)\r\n    feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:10)\r\n    feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:76)\r\n    feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:103)\r\nCan you suggest me right configuration or found what is wrong in code blocks above?\r\n","title":"Can&#39;t configure Feign Client timeouts","body":"<p>I'm using Feign Client with disabled Load Balancer</p>\n\n<pre><code>@FeignClient(name = \"my-client\", url = \"${myHost}\", configuration = ClientContext.class)\n</code></pre>\n\n<p>So, all ribbon properties are ignored.\nI'm trying to set custom timeouts by different ways, but Feign ignores all them and throws TimeoutException after 60 seconds.\nWays I tried to use:\nin ClientContext:\n1)</p>\n\n<pre><code>@Value(\"${feign.connectTimeout:10000}\")\nprivate int connectTimeout;\n\n@Value(\"${feign.readTimeOut:300000}\")\nprivate int readTimeout;\n\n@Bean\npublic Request.Options options() {\n    return new Request.Options(connectTimeout, readTimeout);\n}\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>@Bean\npublic Request.Options options() {\n    return new Request.Options(10_000, 300_000);\n}\n</code></pre>\n\n<p>in bootstrap.properties file:\n1)</p>\n\n<pre><code>feign.client.default.connect-timeout=10000\nfeign.client.default.read-timeout=300000\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>feign.client.default.config.connect-timeout=10000\nfeign.client.default.config.read-timeout=300000\n</code></pre>\n\n<p>3)</p>\n\n<pre><code>feign.client.default.connectTimeout=10000\nfeign.client.default.readTimeout=300000\n</code></pre>\n\n<p>4)</p>\n\n<pre><code>feign.client.default.config.connectTimeout=10000\nfeign.client.default.config.readTimeout=300000\n</code></pre>\n\n<p>Error stack trace is:</p>\n\n<pre><code>Error Message: feign.RetryableException: Read timed out executing GET http://myrequest...\nStacktrace: \nfeign.FeignException.errorExecuting(FeignException.java:67)\nfeign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:10)\nfeign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:76)\nfeign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:103)\n</code></pre>\n\n<p>Can you suggest me right configuration or found what is wrong in code blocks above?</p>\n"},{"tags":["java","spring-webflux","reactor","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593552337,"creation_date":1593552337,"answer_id":62666393,"question_id":62658719,"body_markdown":" &gt; I was excpecting that when using http1.1 the reactor-netty reuse the connections.\r\n\r\nIt will, if it can. Taking the following as an example:\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        private final WebClient wc;\r\n    \r\n        @Autowired\r\n        public MyController(WebClient.Builder wcb) {\r\n            wc = wcb\r\n                    .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)\r\n                    .clientConnector(new ReactorClientHttpConnector(\r\n                            HttpClient.create()\r\n                                    .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000))\r\n                                    .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\r\n                    ))\r\n                    .build();\r\n        }\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public Mono&lt;List&lt;Body&gt;&gt; cookieSetter() {\r\n            return Flux.range(1,10)\r\n                    .flatMap(i -&gt; wc.get().uri(&quot;todos/&quot; + i).retrieve().bodyToMono(Body.class))\r\n                    .collectList();\r\n        }\r\n    \r\n        @Data\r\n        static class Body {\r\n            private String title;\r\n        }\r\n    \r\n    }\r\n\r\nLoad it up and you&#39;ll see a bunch of `HTTP GET https://jsonplaceholder.typicode.com/todos/x` and `Response 200 OK`, but no `Cancel signal (to close connection)` logs - it keeps the connection open and reuses it.\r\n\r\nYou don&#39;t provide a complete example, but it&#39;s likely there&#39;s one of two things happening here:\r\n\r\n - You&#39;re actively cancelling the publishers (or something in the framework is cancelling the response publishers), which then causes the connection to be closed as a side-effect of this cancellation.\r\n - The server that you&#39;re connecting to doesn&#39;t support keep-alive. Note that this is an *optional* feature, and the server doesn&#39;t have to support it, even in HTTP/1.1. In this case, it&#39;s likely returning `Connection: close` headers in its response. This will correctly force Netty to close the connection in between each request, rather than reusing it.","title":"WebClient open and close connection on every element call in the Stream","body":"<blockquote>\n<p>I was excpecting that when using http1.1 the reactor-netty reuse the connections.</p>\n</blockquote>\n<p>It will, if it can. Taking the following as an example:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    private final WebClient wc;\n\n    @Autowired\n    public MyController(WebClient.Builder wcb) {\n        wc = wcb\n                .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)\n                .clientConnector(new ReactorClientHttpConnector(\n                        HttpClient.create()\n                                .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000))\n                                .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\n                ))\n                .build();\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public Mono&lt;List&lt;Body&gt;&gt; cookieSetter() {\n        return Flux.range(1,10)\n                .flatMap(i -&gt; wc.get().uri(&quot;todos/&quot; + i).retrieve().bodyToMono(Body.class))\n                .collectList();\n    }\n\n    @Data\n    static class Body {\n        private String title;\n    }\n\n}\n</code></pre>\n<p>Load it up and you'll see a bunch of <code>HTTP GET https://jsonplaceholder.typicode.com/todos/x</code> and <code>Response 200 OK</code>, but no <code>Cancel signal (to close connection)</code> logs - it keeps the connection open and reuses it.</p>\n<p>You don't provide a complete example, but it's likely there's one of two things happening here:</p>\n<ul>\n<li>You're actively cancelling the publishers (or something in the framework is cancelling the response publishers), which then causes the connection to be closed as a side-effect of this cancellation.</li>\n<li>The server that you're connecting to doesn't support keep-alive. Note that this is an <em>optional</em> feature, and the server doesn't have to support it, even in HTTP/1.1. In this case, it's likely returning <code>Connection: close</code> headers in its response. This will correctly force Netty to close the connection in between each request, rather than reusing it.</li>\n</ul>\n"}],"owner":{"account_id":8818967,"reputation":751,"user_id":6589470,"display_name":"hba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697540470,"creation_date":1593524119,"question_id":62658719,"body_markdown":"Trying to understand how spring webclient handle the connections between the peers.  \r\nWhen using the code below :  \r\nI have as many close connection as element in the stream.  \r\nI was excpecting that when using http1.1 the reactor-netty reuse the connections.\r\nEven when trying to use the keep alive on configuration i do have the same behaviour :\r\n\r\n[d6b705e1] Response 200 OK  \r\n[d6b705e1] Cancel signal (to close connection)   \r\n\r\n \r\n  \r\n      \r\n    public WebClient webClient(WebClient.Builder builder) {\r\n     return builder\r\n      .baseUrl(config.getBaseurl())\r\n      .clientConnector(new ReactorClientHttpConnector(\r\n        HttpClient.create()\r\n          .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, timeout))\r\n          .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\r\n      ))\r\n      .build();\r\n    }\r\n\r\n    Flux&lt;String&gt; getIds() { ... }\r\n    \r\n    Flux&lt;Response&gt; getResponses() {\r\n      // here as many open and close connection as the return stream getIds \r\n      return getIds().flatMap(... // client.retrieve().bodyToMono(Reponse.class));\r\n    }","title":"WebClient open and close connection on every element call in the Stream","body":"<p>Trying to understand how spring webclient handle the connections between the peers.<br />\nWhen using the code below :<br />\nI have as many close connection as element in the stream.<br />\nI was excpecting that when using http1.1 the reactor-netty reuse the connections.\nEven when trying to use the keep alive on configuration i do have the same behaviour :</p>\n<p>[d6b705e1] Response 200 OK<br />\n[d6b705e1] Cancel signal (to close connection)</p>\n<pre><code>public WebClient webClient(WebClient.Builder builder) {\n return builder\n  .baseUrl(config.getBaseurl())\n  .clientConnector(new ReactorClientHttpConnector(\n    HttpClient.create()\n      .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, timeout))\n      .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\n  ))\n  .build();\n}\n\nFlux&lt;String&gt; getIds() { ... }\n\nFlux&lt;Response&gt; getResponses() {\n  // here as many open and close connection as the return stream getIds \n  return getIds().flatMap(... // client.retrieve().bodyToMono(Reponse.class));\n}\n</code></pre>\n"},{"tags":["java","spring","algorithm","time","microservices"],"answers":[{"tags":[],"owner":{"account_id":12326934,"reputation":61,"user_id":8994276,"display_name":"Krunal Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697540310,"creation_date":1697540310,"answer_id":77308420,"question_id":77308320,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7RGMJ.png\r\n\r\nYou can use ActiveMQ for Async notifications. \r\nThe first service puts a message with the scheduled time and when that time arrives the message will dequeue automatically on the second service. then you can continue as per your further logic \r\n\r\nref. : https://activemq.apache.org/delay-and-schedule-message-delivery\r\n\r\nI hope it works for you. or let me know for more clarification if needed","title":"How do I design an asynchronous notification sending application?","body":"<p><a href=\"https://i.stack.imgur.com/7RGMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RGMJ.png\" alt=\"enter image description here\" /></a></p>\n<p>You can use ActiveMQ for Async notifications.\nThe first service puts a message with the scheduled time and when that time arrives the message will dequeue automatically on the second service. then you can continue as per your further logic</p>\n<p>ref. : <a href=\"https://activemq.apache.org/delay-and-schedule-message-delivery\" rel=\"nofollow noreferrer\">https://activemq.apache.org/delay-and-schedule-message-delivery</a></p>\n<p>I hope it works for you. or let me know for more clarification if needed</p>\n"}],"owner":{"account_id":14513910,"reputation":41,"user_id":10483551,"display_name":"Kadri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697540310,"creation_date":1697539390,"question_id":77308320,"body_markdown":"I am working on an asynchronous notification sending application in Spring. For this purpose, I have two services. The first service receives the content, timing, and other information of the notification from the frontend and writes it to the database. In the second service, I want to periodically check the timing of notifications and send the notifications whose time has come to the other service. How can I accomplish this? Thank you in advance.","title":"How do I design an asynchronous notification sending application?","body":"<p>I am working on an asynchronous notification sending application in Spring. For this purpose, I have two services. The first service receives the content, timing, and other information of the notification from the frontend and writes it to the database. In the second service, I want to periodically check the timing of notifications and send the notifications whose time has come to the other service. How can I accomplish this? Thank you in advance.</p>\n"},{"tags":["java","java-8","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694780203,"creation_date":1694780203,"answer_id":77112304,"question_id":77112241,"body_markdown":"You can *collect* it using [`Collectors.partitioningBy()`][1], this way:\r\n```java\r\nMap&lt;Boolean, List&lt;Response&gt;&gt; responsesResult = response.stream()\r\n    .collect(Collectors.partitioningBy(Response::getStatus));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#partitioningBy-java.util.function.Predicate-","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<p>You can <em>collect</em> it using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#partitioningBy-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Collectors.partitioningBy()</code></a>, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Boolean, List&lt;Response&gt;&gt; responsesResult = response.stream()\n    .collect(Collectors.partitioningBy(Response::getStatus));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28850468,"reputation":11,"user_id":22096476,"display_name":"Arjunan Sriram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695052917,"creation_date":1694785287,"answer_id":77112859,"question_id":77112241,"body_markdown":"You can use the `Collectors.partitioningBy` method to split the list of responses into two lists based on the status value. This method takes a predicate as an argument and returns a map with two keys: true and false. The values of the map are lists of elements that satisfy or not satisfy the predicate. For example, you can write:\r\n```java\r\nMap&lt;Boolean,List&lt;Response&gt;&gt; responsesResult = response.stream()\r\n        .collect(Collectors.partitioningBy(Response::getStatus));\r\n```\r\nThis will create a map with two entries: one with the key true and the value a list of responses with status true, and another with the key false and the value a list of responses with status false. You can then access the lists by using the map keys:\r\n```\r\nList&lt;Response&gt; trueResponses = responsesResult.get(true);\r\nList&lt;Response&gt; falseResponses = responsesResult.get(false);\r\n```\r\nI hope this helps you understand how to use the `Collectors.partitioningBy` method. &#128522;\r\n\r\n","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<p>You can use the <code>Collectors.partitioningBy</code> method to split the list of responses into two lists based on the status value. This method takes a predicate as an argument and returns a map with two keys: true and false. The values of the map are lists of elements that satisfy or not satisfy the predicate. For example, you can write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Boolean,List&lt;Response&gt;&gt; responsesResult = response.stream()\n        .collect(Collectors.partitioningBy(Response::getStatus));\n</code></pre>\n<p>This will create a map with two entries: one with the key true and the value a list of responses with status true, and another with the key false and the value a list of responses with status false. You can then access the lists by using the map keys:</p>\n<pre><code>List&lt;Response&gt; trueResponses = responsesResult.get(true);\nList&lt;Response&gt; falseResponses = responsesResult.get(false);\n</code></pre>\n<p>I hope this helps you understand how to use the <code>Collectors.partitioningBy</code> method. 😊</p>\n"},{"tags":[],"owner":{"account_id":29670186,"reputation":1,"user_id":22739624,"display_name":"SrikanthMalladi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697540164,"creation_date":1697280082,"answer_id":77292510,"question_id":77112241,"body_markdown":"```java\r\nMap&lt;Boolean, List&lt;Entry&lt;String, Object&gt;&gt;&gt; map1 = map.entrySet()\r\n                                                    .stream()\r\n                                                    .collect(Collectors.partitioningBy(data -&gt; data.getKey().equals(&quot;rate&quot;) &amp;&amp; data.getValue().equals(&quot;1&quot;)));\r\n\r\nList&lt;Map&lt;String,Object&gt;&gt; list1 = map1.entrySet()\r\n                                     .stream()\r\n                                     .filter(data -&gt; data.getKey().equals(true))\r\n                                     .flatMap(data -&gt; data.getValue().stream())\r\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\r\n                                     .collect(Collectors.toList());\r\n\r\nList&lt;Map&lt;String,Object&gt;&gt; list2 = map1.entrySet()\r\n                                     .stream()\r\n                                     .filter(data -&gt; data.getKey().equals(false))\r\n                                     .flatMap(data -&gt; data.getValue().stream())\r\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\r\n                                     .collect(Collectors.toList());\r\n```","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Boolean, List&lt;Entry&lt;String, Object&gt;&gt;&gt; map1 = map.entrySet()\n                                                    .stream()\n                                                    .collect(Collectors.partitioningBy(data -&gt; data.getKey().equals(&quot;rate&quot;) &amp;&amp; data.getValue().equals(&quot;1&quot;)));\n\nList&lt;Map&lt;String,Object&gt;&gt; list1 = map1.entrySet()\n                                     .stream()\n                                     .filter(data -&gt; data.getKey().equals(true))\n                                     .flatMap(data -&gt; data.getValue().stream())\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\n                                     .collect(Collectors.toList());\n\nList&lt;Map&lt;String,Object&gt;&gt; list2 = map1.entrySet()\n                                     .stream()\n                                     .filter(data -&gt; data.getKey().equals(false))\n                                     .flatMap(data -&gt; data.getValue().stream())\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\n                                     .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77112304,"answer_count":3,"score":0,"last_activity_date":1697540164,"creation_date":1694779648,"question_id":77112241,"body_markdown":"Suppose I have below response class which collect response and some other data.\r\n\r\n    class Response{\r\n            Boolean status;\r\n            String message;\r\n            Integer id;\r\n        \r\n            Response(Boolean s, String m, Integer id)\r\n    \t\t{\r\n    \t\t\tstatus=s;\r\n    \t\t\tmessage=m;\r\n    \t\t\tthis.id=id;\r\n    \t\t}\r\n    public Boolean getStatus() {\r\n                return status;\r\n            }\r\n        \r\n            public void setStatus(Boolean status) {\r\n                this.status = status;\r\n            }\r\n        \r\n            public String getMessage() {\r\n                return message;\r\n            }\r\n        \r\n            public void setMessage(String message) {\r\n                this.message = message;\r\n            }\r\n        \r\n            public Integer getId() {\r\n                return id;\r\n            }\r\n        \r\n            public void setId(Integer id) {\r\n                id = id;\r\n            }\r\n        }\r\n\r\nList data as below:\r\n\r\n    List&lt;Response&gt; response = new ArrayList&lt;Response&gt;();\r\n    response.add(new Response(Boolean.TRUE,&quot;HelloTrue&quot;,1));\r\n    response.add(new Response(Boolean.FALSE,&quot;HelloFalse&quot;,2));\r\n\r\nI want result as two different list based on status type(TRUE,FALSE) using single stream() method.\r\ne.g:\r\n\r\n    Map&lt;Boolean,List&lt;Response&gt;&gt; responsesResult=response.stream().....\r\n\r\nThanks in advance.","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<p>Suppose I have below response class which collect response and some other data.</p>\n<pre><code>class Response{\n        Boolean status;\n        String message;\n        Integer id;\n    \n        Response(Boolean s, String m, Integer id)\n        {\n            status=s;\n            message=m;\n            this.id=id;\n        }\npublic Boolean getStatus() {\n            return status;\n        }\n    \n        public void setStatus(Boolean status) {\n            this.status = status;\n        }\n    \n        public String getMessage() {\n            return message;\n        }\n    \n        public void setMessage(String message) {\n            this.message = message;\n        }\n    \n        public Integer getId() {\n            return id;\n        }\n    \n        public void setId(Integer id) {\n            id = id;\n        }\n    }\n</code></pre>\n<p>List data as below:</p>\n<pre><code>List&lt;Response&gt; response = new ArrayList&lt;Response&gt;();\nresponse.add(new Response(Boolean.TRUE,&quot;HelloTrue&quot;,1));\nresponse.add(new Response(Boolean.FALSE,&quot;HelloFalse&quot;,2));\n</code></pre>\n<p>I want result as two different list based on status type(TRUE,FALSE) using single stream() method.\ne.g:</p>\n<pre><code>Map&lt;Boolean,List&lt;Response&gt;&gt; responsesResult=response.stream().....\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","jsp","struts","jstl"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323423,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1697540051,"creation_date":1242307154,"answer_id":863302,"question_id":863248,"body_markdown":"Well ... yes ... in a way\r\n\r\n    String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\r\n\r\nI&#39;m using a JSP called `pre.jsp` for that which I include at the top of each JSP in my webapp:\r\n\r\n    &lt;%@page import=&quot;org.apache.log4j.Logger&quot;%&gt;\r\n    &lt;%\r\n        String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\r\n\r\n        Logger log = Logger.getLogger(this.getClass().getName());\r\n        log.info(&quot;BEGIN JSP &quot;+__jspName);\r\n    %&gt;\r\n    &lt;!-- BEGIN &lt;%=__jspName %&gt; --&gt;\r\n\r\nPlus I put this at the end of each JSP:\r\n\r\n    &lt;!-- END &lt;%=__jspName %&gt; --&gt;&lt;% log.info(&quot;END JSP &quot;+__jspName); %&gt;\r\n\r\nThat gives me a consistent log. To make sure each JSP is &quot;correct&quot;, I have a check in my build script which just looks for the two strings `&quot;/pre.jsp&quot;` and ``END &lt;%=__jspName`.\r\n\r\nNote: There are many characters which are allowed in file names but not in Java class names. If you use them, your class names might look weird. If that&#39;s the case, I suggest to create a static helper function which converts class names to File names and call that, i.e.\r\n\r\n    String __jspName = MyJspUtils.getFileName(this.getClass());\r\n\r\nEach JSP compiler has it&#39;s own rules; here is one example: http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM\r\n\r\nKudos go to [Marcus Junius Brutus](https://stackoverflow.com/users/274677/marcus-junius-brutus) for pointing that out.","title":"Get current filename in JSP","body":"<p>Well ... yes ... in a way</p>\n<pre><code>String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\n</code></pre>\n<p>I'm using a JSP called <code>pre.jsp</code> for that which I include at the top of each JSP in my webapp:</p>\n<pre><code>&lt;%@page import=&quot;org.apache.log4j.Logger&quot;%&gt;\n&lt;%\n    String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\n\n    Logger log = Logger.getLogger(this.getClass().getName());\n    log.info(&quot;BEGIN JSP &quot;+__jspName);\n%&gt;\n&lt;!-- BEGIN &lt;%=__jspName %&gt; --&gt;\n</code></pre>\n<p>Plus I put this at the end of each JSP:</p>\n<pre><code>&lt;!-- END &lt;%=__jspName %&gt; --&gt;&lt;% log.info(&quot;END JSP &quot;+__jspName); %&gt;\n</code></pre>\n<p>That gives me a consistent log. To make sure each JSP is &quot;correct&quot;, I have a check in my build script which just looks for the two strings <code>&quot;/pre.jsp&quot;</code> and ``END &lt;%=__jspName`.</p>\n<p>Note: There are many characters which are allowed in file names but not in Java class names. If you use them, your class names might look weird. If that's the case, I suggest to create a static helper function which converts class names to File names and call that, i.e.</p>\n<pre><code>String __jspName = MyJspUtils.getFileName(this.getClass());\n</code></pre>\n<p>Each JSP compiler has it's own rules; here is one example: <a href=\"http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM\" rel=\"nofollow noreferrer\">http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM</a></p>\n<p>Kudos go to <a href=\"https://stackoverflow.com/users/274677/marcus-junius-brutus\">Marcus Junius Brutus</a> for pointing that out.</p>\n"},{"tags":[],"owner":{"account_id":358377,"reputation":997,"user_id":699111,"accept_rate":65,"display_name":"Dima R."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1354134602,"creation_date":1354134602,"answer_id":13613845,"question_id":863248,"body_markdown":"The more convenient way is to use:  &lt;%= request.getRequestURI() %&gt;\r\n\r\n&lt;%= request.getRequestURI() %&gt;\r\nFor example, in all of my jsp files, I always do put this line:\r\n\r\nRendering JSP File: &#39;&lt;%= request.getRequestURI() %&gt;&#39;\r\n\r\nThis puts a comented html line in to the rendered html.  This way one cannot see it in the browser, but for debugging purposes, I can always see it inf I do &quot;View source&quot;.","title":"Get current filename in JSP","body":"<p>The more convenient way is to use:  &lt;%= request.getRequestURI() %></p>\n\n<p>&lt;%= request.getRequestURI() %>\nFor example, in all of my jsp files, I always do put this line:</p>\n\n<p>Rendering JSP File: '&lt;%= request.getRequestURI() %>'</p>\n\n<p>This puts a comented html line in to the rendered html.  This way one cannot see it in the browser, but for debugging purposes, I can always see it inf I do \"View source\".</p>\n"},{"tags":[],"owner":{"account_id":2905239,"reputation":21,"user_id":2490822,"display_name":"gwallet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409131748,"creation_date":1409131748,"answer_id":25523533,"question_id":863248,"body_markdown":"I succeeded using JSTL as following :\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    ...\r\n    &lt;!-- &lt;c:out value=&quot;${pageScope[&#39;javax.servlet.jsp.jspPage&#39;]}&quot;&gt;&lt;/c:out&gt; --&gt;\r\n    ...\r\n\r\nAnd now, you should see as an HTML comment the name of the servlet produced by the container to render your JSP file, which name is very close to the JSP source file.","title":"Get current filename in JSP","body":"<p>I succeeded using JSTL as following :</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n...\n&lt;!-- &lt;c:out value=\"${pageScope['javax.servlet.jsp.jspPage']}\"&gt;&lt;/c:out&gt; --&gt;\n...\n</code></pre>\n\n<p>And now, you should see as an HTML comment the name of the servlet produced by the container to render your JSP file, which name is very close to the JSP source file.</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1468537133,"creation_date":1468537133,"answer_id":38385509,"question_id":863248,"body_markdown":"This is a simple copy-paste solution:\r\n\r\n    &lt;%=this.getClass().getSimpleName().replaceFirst(&quot;_jsp&quot;,&quot;&quot;)%&gt;","title":"Get current filename in JSP","body":"<p>This is a simple copy-paste solution:</p>\n\n<pre><code>&lt;%=this.getClass().getSimpleName().replaceFirst(\"_jsp\",\"\")%&gt;\n</code></pre>\n"}],"owner":{"account_id":33088,"reputation":1961,"user_id":92326,"accept_rate":100,"display_name":"elzapp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18899,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":863302,"answer_count":4,"score":20,"last_activity_date":1697540051,"creation_date":1242306640,"question_id":863248,"body_markdown":"Is there a way to get which JSP is currently rendered, with JSTL or Struts (or without)? like _ _ file _ _ in Python and PHP?","title":"Get current filename in JSP","body":"<p>Is there a way to get which JSP is currently rendered, with JSTL or Struts (or without)? like _ _ file _ _ in Python and PHP?</p>\n"},{"tags":["java","pdf","apache-poi","docx","docx4j"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1697523088,"post_id":77305931,"comment_id":136286865,"body_markdown":"So, the problem could be in the way DOCX is written on the disk converting from XML. If that DOCX is opened and saved as-is, then DOCX to PDF works. That means, the problem is in the DOCX generation. Why is `converterXmlToDocx()` using `pkg.save()` twice? Can&#39;t you do it with just once. Maybe just write it in `ByteArrayOutputStream` and then use that itself to write it to the disk. Not do `pkg.save()` again. Maybe `save` internally sets something in the first `save` call, which prevents it from writing the file on the disk when you call it the second time?","body":"So, the problem could be in the way DOCX is written on the disk converting from XML. If that DOCX is opened and saved as-is, then DOCX to PDF works. That means, the problem is in the DOCX generation. Why is <code>converterXmlToDocx()</code> using <code>pkg.save()</code> twice? Can&#39;t you do it with just once. Maybe just write it in <code>ByteArrayOutputStream</code> and then use that itself to write it to the disk. Not do <code>pkg.save()</code> again. Maybe <code>save</code> internally sets something in the first <code>save</code> call, which prevents it from writing the file on the disk when you call it the second time?"},{"owner":{"account_id":29688043,"reputation":1,"user_id":22753051,"display_name":"Bruno RB"},"score":0,"creation_date":1697546518,"post_id":77305931,"comment_id":136291192,"body_markdown":"Thank you for the input. I wish i could find a way to understand what differs from the generated file to the same generated file after being opened and saved as-is.  I&#39;m using 2 pkg.save cause the second save is part of commented code, to be used only for testing, in &quot;production&quot; im using only the stream to convert to pdf, and having the same result as converting the local file","body":"Thank you for the input. I wish i could find a way to understand what differs from the generated file to the same generated file after being opened and saved as-is.  I&#39;m using 2 pkg.save cause the second save is part of commented code, to be used only for testing, in &quot;production&quot; im using only the stream to convert to pdf, and having the same result as converting the local file"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1697658169,"post_id":77305931,"comment_id":136309041,"body_markdown":"What is calling converterXmlToDocx and convertLOCAL?  Is the input to converterXmlToDocx FlatOPC XML?  You can compare the document.xml portions of before and after.","body":"What is calling converterXmlToDocx and convertLOCAL?  Is the input to converterXmlToDocx FlatOPC XML?  You can compare the document.xml portions of before and after."}],"owner":{"account_id":29688043,"reputation":1,"user_id":22753051,"display_name":"Bruno RB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697539214,"creation_date":1697510922,"question_id":77305931,"body_markdown":"The code provided bellow kinda works, the problemn i&#39;m trying to solve is that i&#39;m already able to save my docx localy. When im trying to covert it to pdf, i get blank pages or pages with only the docx header. But when i open the file manualy with Libre office or free office and save it without doing any alteration, and run the conversion again, the file converts perfectly just how i needed it. Anyone know why this happens and how could i replicate that behavior without having to actually opeing and saving the file, since i need to do all this processes programaticaly?\r\n\r\n\r\nIm trying to covert a DOCX to PDF using:\r\n\r\n```xml\r\n&lt;dependency&gt;      \r\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;           \r\n    &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.6&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n```\r\n\r\nSo far my code is:\r\n\r\n```java\r\npublic byte[] converterXmlToDocx(Long idModeloDocumento) throws Docx4JException {\r\n\ttry {\r\n\t\tbyte[] gzipXml = buscarModeloDocumento(idModeloDocumento);\r\n\t\tbyte[] xmlData = descompactarGzip(gzipXml);\r\n\r\n\t\tWordprocessingMLPackage pkg = WordprocessingMLPackage.load(new    ByteArrayInputStream(xmlData));\r\n\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\tpkg.save(outputStream);\r\n\r\n\t\t//saves file localy\r\n\t\tString outputFilePath = &quot;src/main/resources/test1.docx&quot;;\r\n\t\tFile outputDocxFile = new File(outputFilePath);\r\n\t\tpkg.save(outputDocxFile);\r\n\r\n\t\treturn outputStream.toByteArray();\r\n\t} catch (Docx4JException | IOException e) {\r\n\t\te.printStackTrace();\r\n\t\tthrow new Docx4JException(&quot;Erro converting xml to docx&quot;, e);\r\n\t}\r\n}\r\n\r\n\r\npublic void convertLOCAL(String docxFilePath, String pdfFilePath) {\r\n\ttry {\r\n\t\tFileInputStream docxFile = new FileInputStream(docxFilePath);\r\n\t\tXWPFDocument document = new XWPFDocument(docxFile);\r\n\r\n\t\tFileOutputStream pdfFile = new FileOutputStream(pdfFilePath);\r\n\t\tPdfOptions options = PdfOptions.create();\r\n\t\tPdfConverter.getInstance().convert(document, pdfFile, options);\r\n\r\n\t\tdocxFile.close();\r\n\t\tpdfFile.close();\r\n\r\n\t\tSystem.out.println(&quot;Sucess&quot;);\r\n\t} catch (IOException ex) {\r\n\t\tSystem.out.println(ex.getMessage());\r\n\t\tthrow new RuntimeException(&quot;Conversion Error&quot;, ex);\r\n\t}\r\n}\r\n```\r\nWhat i do above is generating the docx file with the first method them converting it using the second method in my controller, passing input docx path and output pdf path.\r\n\r\n\r\n","title":"DOCX to PDF works after saving file only [JAVA]","body":"<p>The code provided bellow kinda works, the problemn i'm trying to solve is that i'm already able to save my docx localy. When im trying to covert it to pdf, i get blank pages or pages with only the docx header. But when i open the file manualy with Libre office or free office and save it without doing any alteration, and run the conversion again, the file converts perfectly just how i needed it. Anyone know why this happens and how could i replicate that behavior without having to actually opeing and saving the file, since i need to do all this processes programaticaly?</p>\n<p>Im trying to covert a DOCX to PDF using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;      \n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;           \n    &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;1.0.6&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>So far my code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] converterXmlToDocx(Long idModeloDocumento) throws Docx4JException {\n    try {\n        byte[] gzipXml = buscarModeloDocumento(idModeloDocumento);\n        byte[] xmlData = descompactarGzip(gzipXml);\n\n        WordprocessingMLPackage pkg = WordprocessingMLPackage.load(new    ByteArrayInputStream(xmlData));\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        pkg.save(outputStream);\n\n        //saves file localy\n        String outputFilePath = &quot;src/main/resources/test1.docx&quot;;\n        File outputDocxFile = new File(outputFilePath);\n        pkg.save(outputDocxFile);\n\n        return outputStream.toByteArray();\n    } catch (Docx4JException | IOException e) {\n        e.printStackTrace();\n        throw new Docx4JException(&quot;Erro converting xml to docx&quot;, e);\n    }\n}\n\n\npublic void convertLOCAL(String docxFilePath, String pdfFilePath) {\n    try {\n        FileInputStream docxFile = new FileInputStream(docxFilePath);\n        XWPFDocument document = new XWPFDocument(docxFile);\n\n        FileOutputStream pdfFile = new FileOutputStream(pdfFilePath);\n        PdfOptions options = PdfOptions.create();\n        PdfConverter.getInstance().convert(document, pdfFile, options);\n\n        docxFile.close();\n        pdfFile.close();\n\n        System.out.println(&quot;Sucess&quot;);\n    } catch (IOException ex) {\n        System.out.println(ex.getMessage());\n        throw new RuntimeException(&quot;Conversion Error&quot;, ex);\n    }\n}\n</code></pre>\n<p>What i do above is generating the docx file with the first method them converting it using the second method in my controller, passing input docx path and output pdf path.</p>\n"},{"tags":["python","java","python-3.x","artificial-intelligence","jython-2.7"],"owner":{"account_id":24036024,"reputation":1,"user_id":18016301,"display_name":"varsha b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697538832,"creation_date":1697538832,"question_id":77308263,"body_markdown":"I am trying to embed python code into java wrapper for this i am using jython library .In python script i have libraries like llamaindex and langchain while executing script with java getting error llama_index module not found. Is there a way to add external libraries into jython. \r\n\r\nI tried below script but it getting error with resource warning\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Properties properties = System.getProperties();\r\n            properties.put(&quot;python.path&quot; , &quot;path of library&quot;);\r\n            PythonInterpreter.initialize(System.getProperties() , properties , new String[0]);\r\n            PythonInterpreter pythonInterpreter = new PythonInterpreter();\r\n            pythonInterpreter.execfile(&quot;pythonscript.py&quot;);\r\n        }\r\n    }","title":"While trying to embed python code into java wrapper getting no module found error for llama_index","body":"<p>I am trying to embed python code into java wrapper for this i am using jython library .In python script i have libraries like llamaindex and langchain while executing script with java getting error llama_index module not found. Is there a way to add external libraries into jython.</p>\n<p>I tried below script but it getting error with resource warning</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Properties properties = System.getProperties();\n        properties.put(&quot;python.path&quot; , &quot;path of library&quot;);\n        PythonInterpreter.initialize(System.getProperties() , properties , new String[0]);\n        PythonInterpreter pythonInterpreter = new PythonInterpreter();\n        pythonInterpreter.execfile(&quot;pythonscript.py&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":1197265,"reputation":1088,"user_id":1168703,"display_name":"Pras"},"score":0,"creation_date":1462987128,"post_id":37168868,"comment_id":61873541,"body_markdown":"you are updating with the same value ? .. lol .. i think a copy/paste problem in your question ;-)","body":"you are updating with the same value ? .. lol .. i think a copy/paste problem in your question ;-)"}],"answers":[{"tags":[],"owner":{"account_id":8423454,"reputation":11,"user_id":6321544,"display_name":"Mohamed ELMARABET"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462986659,"creation_date":1462986659,"answer_id":37169192,"question_id":37168868,"body_markdown":"I think you should use : @Temporal(TemporalType.TIMESTAMP) ","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<p>I think you should use : @Temporal(TemporalType.TIMESTAMP) </p>\n"},{"tags":[],"owner":{"account_id":1863959,"reputation":1108,"user_id":1687935,"accept_rate":55,"display_name":"Rentius2407"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463046030,"creation_date":1463046030,"answer_id":37183054,"question_id":37168868,"body_markdown":"There are 3 values for `@Temporal`\r\n\r\n    TemporalType.DATE\r\nOnly year, month and day. No hour, minute and second\r\n\r\n    TemporalType.TIME \r\n\r\nOny hour, minute and second. No year, month and day\r\n\r\n    TemporalType.TIMESTAMP\r\nHave everything. Year, month, day, hour, minute and second\r\n","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<p>There are 3 values for <code>@Temporal</code></p>\n\n<pre><code>TemporalType.DATE\n</code></pre>\n\n<p>Only year, month and day. No hour, minute and second</p>\n\n<pre><code>TemporalType.TIME \n</code></pre>\n\n<p>Ony hour, minute and second. No year, month and day</p>\n\n<pre><code>TemporalType.TIMESTAMP\n</code></pre>\n\n<p>Have everything. Year, month, day, hour, minute and second</p>\n"},{"tags":[],"owner":{"account_id":22627567,"reputation":1,"user_id":16805448,"display_name":"juan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697538559,"creation_date":1697538215,"answer_id":77308195,"question_id":37168868,"body_markdown":"    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date date;\r\n\r\nyou can new with obj.setDate(new Date());\r\n\r\nthis will have both dates and time. \r\n\r\n    @Temporal(TemporalType.TIME) // for only time also\r\n\r\n\r\nAlso you might need to recreate your table. Sometimes JPA will not understand the difference","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate Date date;\n</code></pre>\n<p>you can new with obj.setDate(new Date());</p>\n<p>this will have both dates and time.</p>\n<pre><code>@Temporal(TemporalType.TIME) // for only time also\n</code></pre>\n<p>Also you might need to recreate your table. Sometimes JPA will not understand the difference</p>\n"}],"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697538559,"creation_date":1462985629,"question_id":37168868,"body_markdown":"I have a question regarding `@Temporal(TemporalType.DATE)` .\r\nI have a entity class which is having property like :\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;LAST_MODIFIED_DATE&quot;, length = 7)\r\n    \tpublic Date getLastModifiedDate() {\r\n    \t\treturn this.lastModifiedDate;\r\n    \t}\r\nThe existing value of LAST_MODIFIED_DATE is \r\n\r\n&gt; 11/05/2016 22:11:31\r\n\r\nNow I am updating this with value of `11/05/2016 22:11:31`. But modified time is not getting reflected.\r\nI am calling the setter like this :\r\n\r\n    obj.setLastModifiedDate(new Date()) ;\r\n\r\nAny help will be appreciated. \r\n\r\n&gt; FYI, All other colums getting updated properly","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<p>I have a question regarding <code>@Temporal(TemporalType.DATE)</code> .\nI have a entity class which is having property like :</p>\n\n<pre><code>@Temporal(TemporalType.DATE)\n    @Column(name = \"LAST_MODIFIED_DATE\", length = 7)\n    public Date getLastModifiedDate() {\n        return this.lastModifiedDate;\n    }\n</code></pre>\n\n<p>The existing value of LAST_MODIFIED_DATE is </p>\n\n<blockquote>\n  <p>11/05/2016 22:11:31</p>\n</blockquote>\n\n<p>Now I am updating this with value of <code>11/05/2016 22:11:31</code>. But modified time is not getting reflected.\nI am calling the setter like this :</p>\n\n<pre><code>obj.setLastModifiedDate(new Date()) ;\n</code></pre>\n\n<p>Any help will be appreciated. </p>\n\n<blockquote>\n  <p>FYI, All other colums getting updated properly</p>\n</blockquote>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":29690984,"reputation":1,"user_id":22755381,"display_name":"Gabriele Callegari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697538231,"creation_date":1697538231,"answer_id":77308200,"question_id":77308178,"body_markdown":"Probably you need to add some permission to the manifest","title":"Android Direct Print to a USB Printer","body":"<p>Probably you need to add some permission to the manifest</p>\n"}],"owner":{"account_id":29647301,"reputation":1,"user_id":22722044,"display_name":"Mathan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697538231,"creation_date":1697538065,"question_id":77308178,"body_markdown":"Unable to direct print to a USB printer connected to an Android device\r\n\r\nI want to print to any USB-linked laser printers connected to Android via USB. I found this code, but it&#39;s not working either. I need mostly laser A4 and A3 printer support. \r\n```\r\npublic class MainActivity extends Activity {\r\n    PendingIntent mPermissionIntent;\r\n    Button btnCheck;\r\n    TextView textInfo;\r\n    UsbDevice device;\r\n    UsbManager manager;\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.example.myapp.USB_PERMISSION&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btnCheck = (Button) findViewById(R.id.check);\r\n        textInfo = (TextView) findViewById(R.id.info);\r\n        btnCheck.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View arg0) {\r\n                textInfo.setText(&quot;&quot;);\r\n                checkInfo();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    public void startPrinting(final UsbDevice printerDevice) {\r\n        new Handler().post(new Runnable() {\r\n            UsbDeviceConnection conn;\r\n            UsbInterface usbInterface;\r\n\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Log.e(&quot;Info&quot;, &quot;Bulk transfer started&quot;);\r\n                    usbInterface = printerDevice.getInterface(0);\r\n                    UsbEndpoint endPoint = usbInterface.getEndpoint(0);\r\n                    conn = manager.openDevice(device);\r\n                    conn.claimInterface(usbInterface, true);\r\n                    String myStringData = &quot;\\nThis \\nis \\nmy \\nsample \\ntext&quot;;\r\n                    byte[] array = myStringData.getBytes();\r\n                    ByteBuffer output_buffer = ByteBuffer\r\n                            .allocate(array.length);\r\n                    UsbRequest request = new UsbRequest();\r\n                    request.initialize(conn, endPoint);\r\n                    request.queue(output_buffer, array.length);\r\n                    if (conn.requestWait() == request) {\r\n                        Log.i(&quot;Info&quot;, output_buffer.getChar(0) + &quot;&quot;);\r\n                        Message m = new Message();\r\n                        m.obj = output_buffer.array();\r\n                        // handler.sendMessage(m);\r\n                        output_buffer.clear();\r\n                    } else {\r\n                        Log.e(&quot;Info&quot;, &quot;No request recieved&quot;);\r\n                    }\r\n                    // int transfered = conn.bulkTransfer(endPoint,\r\n                    // myStringData.getBytes(),\r\n                    // myStringData.getBytes().length, 5000);\r\n                    // Log.i(&quot;Info&quot;, &quot;Amount of data transferred : &quot; +\r\n                    // transfered);\r\n\r\n                } catch (Exception e) {\r\n                    Log.e(&quot;Exception&quot;, &quot;Unable to transfer bulk data&quot;);\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        conn.releaseInterface(usbInterface);\r\n                        Log.e(&quot;Info&quot;, &quot;Interface released&quot;);\r\n                        conn.close();\r\n                        Log.e(&quot;Info&quot;, &quot;Usb connection closed&quot;);\r\n                        unregisterReceiver(mUsbReceiver);\r\n                        Log.e(&quot;Info&quot;, &quot;Brodcast reciever unregistered&quot;);\r\n                    } catch (Exception e) {\r\n                        Log.e(&quot;Exception&quot;,\r\n                                &quot;Unable to release resources because : &quot;\r\n                                        + e.getMessage());\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkInfo() {\r\n        manager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(\r\n                ACTION_USB_PERMISSION), 0);\r\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n        registerReceiver(mUsbReceiver, filter);\r\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n        while (deviceIterator.hasNext()) {\r\n            device = deviceIterator.next();\r\n            manager.requestPermission(device, mPermissionIntent);\r\n         \r\n        }       \r\n        startPrinting(device);       \r\n\r\n    }\r\n\r\n    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = (UsbDevice) intent\r\n                            .getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    if (intent.getBooleanExtra(\r\n                            UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if (device != null) {\r\n                            // call method to set up device communication\r\n                        }\r\n                    } else {\r\n                        Log.d(&quot;ERROR&quot;, &quot;permission denied for device &quot; + device);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIs there any library or code available to accomplish the requirement?\r\n","title":"Android Direct Print to a USB Printer","body":"<p>Unable to direct print to a USB printer connected to an Android device</p>\n<p>I want to print to any USB-linked laser printers connected to Android via USB. I found this code, but it's not working either. I need mostly laser A4 and A3 printer support.</p>\n<pre><code>public class MainActivity extends Activity {\n    PendingIntent mPermissionIntent;\n    Button btnCheck;\n    TextView textInfo;\n    UsbDevice device;\n    UsbManager manager;\n    private static final String ACTION_USB_PERMISSION = &quot;com.example.myapp.USB_PERMISSION&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btnCheck = (Button) findViewById(R.id.check);\n        textInfo = (TextView) findViewById(R.id.info);\n        btnCheck.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View arg0) {\n                textInfo.setText(&quot;&quot;);\n                checkInfo();\n            }\n        });\n\n    }\n\n\n    public void startPrinting(final UsbDevice printerDevice) {\n        new Handler().post(new Runnable() {\n            UsbDeviceConnection conn;\n            UsbInterface usbInterface;\n\n            @Override\n            public void run() {\n                try {\n                    Log.e(&quot;Info&quot;, &quot;Bulk transfer started&quot;);\n                    usbInterface = printerDevice.getInterface(0);\n                    UsbEndpoint endPoint = usbInterface.getEndpoint(0);\n                    conn = manager.openDevice(device);\n                    conn.claimInterface(usbInterface, true);\n                    String myStringData = &quot;\\nThis \\nis \\nmy \\nsample \\ntext&quot;;\n                    byte[] array = myStringData.getBytes();\n                    ByteBuffer output_buffer = ByteBuffer\n                            .allocate(array.length);\n                    UsbRequest request = new UsbRequest();\n                    request.initialize(conn, endPoint);\n                    request.queue(output_buffer, array.length);\n                    if (conn.requestWait() == request) {\n                        Log.i(&quot;Info&quot;, output_buffer.getChar(0) + &quot;&quot;);\n                        Message m = new Message();\n                        m.obj = output_buffer.array();\n                        // handler.sendMessage(m);\n                        output_buffer.clear();\n                    } else {\n                        Log.e(&quot;Info&quot;, &quot;No request recieved&quot;);\n                    }\n                    // int transfered = conn.bulkTransfer(endPoint,\n                    // myStringData.getBytes(),\n                    // myStringData.getBytes().length, 5000);\n                    // Log.i(&quot;Info&quot;, &quot;Amount of data transferred : &quot; +\n                    // transfered);\n\n                } catch (Exception e) {\n                    Log.e(&quot;Exception&quot;, &quot;Unable to transfer bulk data&quot;);\n                    e.printStackTrace();\n                } finally {\n                    try {\n                        conn.releaseInterface(usbInterface);\n                        Log.e(&quot;Info&quot;, &quot;Interface released&quot;);\n                        conn.close();\n                        Log.e(&quot;Info&quot;, &quot;Usb connection closed&quot;);\n                        unregisterReceiver(mUsbReceiver);\n                        Log.e(&quot;Info&quot;, &quot;Brodcast reciever unregistered&quot;);\n                    } catch (Exception e) {\n                        Log.e(&quot;Exception&quot;,\n                                &quot;Unable to release resources because : &quot;\n                                        + e.getMessage());\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n        });\n    }\n\n    private void checkInfo() {\n        manager = (UsbManager) getSystemService(Context.USB_SERVICE);\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(\n                ACTION_USB_PERMISSION), 0);\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n        registerReceiver(mUsbReceiver, filter);\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while (deviceIterator.hasNext()) {\n            device = deviceIterator.next();\n            manager.requestPermission(device, mPermissionIntent);\n         \n        }       \n        startPrinting(device);       \n\n    }\n\n    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice) intent\n                            .getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                    if (intent.getBooleanExtra(\n                            UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if (device != null) {\n                            // call method to set up device communication\n                        }\n                    } else {\n                        Log.d(&quot;ERROR&quot;, &quot;permission denied for device &quot; + device);\n                    }\n                }\n            }\n        }\n    };\n}\n</code></pre>\n<p>Is there any library or code available to accomplish the requirement?</p>\n"},{"tags":["java","xml","spring-boot","xml-parsing"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1554333855,"post_id":55505532,"comment_id":97717213,"body_markdown":"Perhaps Jackson&#39;s XML plugin?","body":"Perhaps Jackson&#39;s XML plugin?"}],"answers":[{"tags":[],"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1612756162,"creation_date":1554341319,"answer_id":55506577,"question_id":55505532,"body_markdown":"@chrylis suggested this - I happen to have a similar solution lying around that&#39;s easy to copy/paste into a working example.\r\n\r\nIf your XML looks like this:\r\n\r\n    &lt;countries&gt;\r\n    \t&lt;country name=&quot;England&quot; region=&quot;Europe&quot;\r\n    \t\tsubregion=&quot;Western Europe&quot; countryCode=&quot;eng&quot; /&gt;\r\n    \t&lt;country name=&quot;Scotland&quot; region=&quot;Europe&quot;\r\n    \t\tsubregion=&quot;West Europe&quot; countryCode=&quot;sco&quot; /&gt;\r\n    &lt;/countries&gt;\r\n\r\nAnd you have a `Country` type thus:\r\n\r\n    public class Country {\r\n        private String name;\r\n        private String region;\r\n        private String subregion;\r\n        private String countryCode;\r\n    \r\n        // getters and setters\r\n    }\r\n\r\nThen add the following dependency to your project:\r\n\r\n - `com.fasterxml.jackson.dataformat:jackson-dataformat-xml`\r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n\r\nAnd this code:\r\n\r\n    public class JacksonXml {\r\n        public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\r\n            InputStream is = JacksonXml.class.getResourceAsStream(&quot;/countries.xml&quot;);\r\n    \r\n            XmlMapper xmlMapper = new XmlMapper();\r\n    \r\n            List&lt;Country&gt; countries = xmlMapper.readValue(is, new TypeReference&lt;List&lt;Country&gt;&gt;() {\r\n            });\r\n    \r\n            Map&lt;String, Country&gt; nameToCountry = countries.stream()\r\n                                                          .collect(Collectors.toMap(Country::getName, Function.identity()));\r\n    \r\n            System.out.println(nameToCountry.get(&quot;England&quot;)\r\n                                            .getRegion());\r\n        }\r\n    \r\n    }\r\n\r\nWill yield:\r\n\r\n    Europe","title":"Proper way to load properties from XML in Java Spring Boot","body":"<p>@chrylis suggested this - I happen to have a similar solution lying around that's easy to copy/paste into a working example.</p>\n<p>If your XML looks like this:</p>\n<pre><code>&lt;countries&gt;\n    &lt;country name=&quot;England&quot; region=&quot;Europe&quot;\n        subregion=&quot;Western Europe&quot; countryCode=&quot;eng&quot; /&gt;\n    &lt;country name=&quot;Scotland&quot; region=&quot;Europe&quot;\n        subregion=&quot;West Europe&quot; countryCode=&quot;sco&quot; /&gt;\n&lt;/countries&gt;\n</code></pre>\n<p>And you have a <code>Country</code> type thus:</p>\n<pre><code>public class Country {\n    private String name;\n    private String region;\n    private String subregion;\n    private String countryCode;\n\n    // getters and setters\n}\n</code></pre>\n<p>Then add the following dependency to your project:</p>\n<ul>\n<li><p><code>com.fasterxml.jackson.dataformat:jackson-dataformat-xml</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<p>And this code:</p>\n<pre><code>public class JacksonXml {\n    public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\n        InputStream is = JacksonXml.class.getResourceAsStream(&quot;/countries.xml&quot;);\n\n        XmlMapper xmlMapper = new XmlMapper();\n\n        List&lt;Country&gt; countries = xmlMapper.readValue(is, new TypeReference&lt;List&lt;Country&gt;&gt;() {\n        });\n\n        Map&lt;String, Country&gt; nameToCountry = countries.stream()\n                                                      .collect(Collectors.toMap(Country::getName, Function.identity()));\n\n        System.out.println(nameToCountry.get(&quot;England&quot;)\n                                        .getRegion());\n    }\n\n}\n</code></pre>\n<p>Will yield:</p>\n<pre><code>Europe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15404532,"reputation":1,"user_id":11112997,"display_name":"Gaurav Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537947,"creation_date":1697537947,"answer_id":77308164,"question_id":55505532,"body_markdown":"I have resource file resources/email-templates.xml; I am accessing my file using below class,\r\n\r\n    package com.test.package.config;\r\n\r\n    import ch.qos.logback.classic.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.ResourceLoader;\r\n\r\n    import java.util.Properties;\r\n\r\n    @Configuration\r\n    public class EmailTemplatesConfig {\r\n\r\n        protected Logger logger = (Logger) LoggerFactory.getLogger(EmailTemplatesConfig.class);\r\n\r\n        @Autowired\r\n        ResourceLoader resourceLoader;\r\n\r\n        @Bean(name = &quot;email-templates&quot;)\r\n        public Properties emailTemplates() {\r\n            Properties properties = new Properties();\r\n            try {\r\n                logger.info(&quot;Loading email templates...&quot;);\r\n                Resource resource = resourceLoader.getResource(&quot;classpath:email-templates.xml&quot;);\r\n                properties.load(resource.getInputStream());\r\n\r\n                logger.info(&quot;Loaded email templates: &quot; + properties);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error loading email templates&quot;, e);\r\n                throw new IllegalStateException(e);\r\n            }\r\n            return properties;\r\n        }\r\n    }","title":"Proper way to load properties from XML in Java Spring Boot","body":"<p>I have resource file resources/email-templates.xml; I am accessing my file using below class,</p>\n<pre><code>package com.test.package.config;\n\nimport ch.qos.logback.classic.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\n\nimport java.util.Properties;\n\n@Configuration\npublic class EmailTemplatesConfig {\n\n    protected Logger logger = (Logger) LoggerFactory.getLogger(EmailTemplatesConfig.class);\n\n    @Autowired\n    ResourceLoader resourceLoader;\n\n    @Bean(name = &quot;email-templates&quot;)\n    public Properties emailTemplates() {\n        Properties properties = new Properties();\n        try {\n            logger.info(&quot;Loading email templates...&quot;);\n            Resource resource = resourceLoader.getResource(&quot;classpath:email-templates.xml&quot;);\n            properties.load(resource.getInputStream());\n\n            logger.info(&quot;Loaded email templates: &quot; + properties);\n        } catch (Exception e) {\n            logger.error(&quot;Error loading email templates&quot;, e);\n            throw new IllegalStateException(e);\n        }\n        return properties;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12637832,"reputation":909,"user_id":9186426,"display_name":"Andyally"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12665,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55506577,"answer_count":2,"score":3,"last_activity_date":1697537947,"creation_date":1554332469,"question_id":55505532,"body_markdown":"I have XML file with Countries stored in it. Each country element has attributes like region, subregion, country-code and more. I have service which should parse XML and get region depending on country name provided. Is there any way to load and use data from xml into memory so I don&#39;t need to parse XML everytime I want to get region for country? I don&#39;t want to use enums, because I want to have updatable xml list which is parsed only once on application startup or first time my service is used. So after XML update, server restart would be enough without any need to rebuild application to update enum. How can this be achieved ?","title":"Proper way to load properties from XML in Java Spring Boot","body":"<p>I have XML file with Countries stored in it. Each country element has attributes like region, subregion, country-code and more. I have service which should parse XML and get region depending on country name provided. Is there any way to load and use data from xml into memory so I don't need to parse XML everytime I want to get region for country? I don't want to use enums, because I want to have updatable xml list which is parsed only once on application startup or first time my service is used. So after XML update, server restart would be enough without any need to rebuild application to update enum. How can this be achieved ?</p>\n"},{"tags":["java","android","kotlin","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697537642,"creation_date":1697537642,"answer_id":77308125,"question_id":77308124,"body_markdown":"After trying different things, I checked Android Studio Settings.\r\nAfter changing Gradle JDK to `corretto-19` my problem is solved.\r\n\r\nSettings -&gt; (Build, Execution, Deployment) -&gt; (Build Tools) -&gt; Gradle\r\nGo to under Gradle JDK, choose `corretto-19`. Restart and build again","title":"org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39;","body":"<p>After trying different things, I checked Android Studio Settings.\nAfter changing Gradle JDK to <code>corretto-19</code> my problem is solved.</p>\n<p>Settings -&gt; (Build, Execution, Deployment) -&gt; (Build Tools) -&gt; Gradle\nGo to under Gradle JDK, choose <code>corretto-19</code>. Restart and build again</p>\n"}],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77308125,"answer_count":1,"score":0,"last_activity_date":1697537642,"creation_date":1697537642,"question_id":77308124,"body_markdown":"I have one Android project, which is giving this error on build:\r\nI am getting this error:\r\n\r\n&gt;Caused by: org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39; task (current &gt;target is 19) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 17) jvm target &gt;compatibility should be set to the same Java version.\r\n\r\nbuild.gradle file \r\n\r\n```\r\n\r\n android {\r\n    namespace &#39;com.something&#39;\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.something&quot;\r\n        minSdk 21\r\n        targetSdk 34\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        multiDexEnabled true\r\n        vectorDrawables.useSupportLibrary = true\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n      // some configurations\r\n\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_19\r\n        targetCompatibility JavaVersion.VERSION_19\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;19&#39;\r\n    }\r\n    buildFeatures {\r\n        buildConfig = true\r\n        compose = true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.4.7&#39;\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n   // some dependencies\r\n\r\n}\r\n```\r\nAs this is old project I cannot change gradle file properties, do I need to check any Android studio setting to remove this error?","title":"org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39;","body":"<p>I have one Android project, which is giving this error on build:\nI am getting this error:</p>\n<blockquote>\n<p>Caused by: org.gradle.api.GradleException: 'compileDebugJavaWithJavac' task (current &gt;target is 19) and 'kaptGenerateStubsDebugKotlin' task (current target is 17) jvm target &gt;compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>build.gradle file</p>\n<pre><code>\n android {\n    namespace 'com.something'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.something&quot;\n        minSdk 21\n        targetSdk 34\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        lintOptions {\n            checkReleaseBuilds false\n        }\n    }\n\n    buildTypes {\n      // some configurations\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_19\n        targetCompatibility JavaVersion.VERSION_19\n    }\n    kotlinOptions {\n        jvmTarget = '19'\n    }\n    buildFeatures {\n        buildConfig = true\n        compose = true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.7'\n    }\n}\n\n\ndependencies {\n\n   // some dependencies\n\n}\n</code></pre>\n<p>As this is old project I cannot change gradle file properties, do I need to check any Android studio setting to remove this error?</p>\n"},{"tags":["java","visual-studio-code","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649701809,"creation_date":1649701809,"answer_id":71832636,"question_id":71823294,"body_markdown":"The Spring Tools for VSCode require a JDK &gt;= 11 to run, so please let the configuration that you mentioned point to a JDK &gt;= 11.\r\n\r\nPlease note that this JDK is used to run parts of the Spring Tools and is independent of the JDK that you use to compile or run your projects on. You can continue to use a JDK 8 for that purpose.","title":"JDK error in VS code spring boot extension","body":"<p>The Spring Tools for VSCode require a JDK &gt;= 11 to run, so please let the configuration that you mentioned point to a JDK &gt;= 11.</p>\n<p>Please note that this JDK is used to run parts of the Spring Tools and is independent of the JDK that you use to compile or run your projects on. You can continue to use a JDK 8 for that purpose.</p>\n"},{"tags":[],"owner":{"account_id":2772487,"reputation":446,"user_id":3171172,"display_name":"PandaCheLion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537515,"creation_date":1697537515,"answer_id":77308108,"question_id":71823294,"body_markdown":"The fix is exactly what @martin-lippert stated. I would improve on his answer explicitly stating the property to be fixed. Which is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe value itself has to be modified in the setting.json file directly.\r\nThe property name is: `spring-boot.ls.java.home`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I8DpX.png","title":"JDK error in VS code spring boot extension","body":"<p>The fix is exactly what @martin-lippert stated. I would improve on his answer explicitly stating the property to be fixed. Which is:</p>\n<p><a href=\"https://i.stack.imgur.com/I8DpX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8DpX.png\" alt=\"enter image description here\" /></a></p>\n<p>The value itself has to be modified in the setting.json file directly.\nThe property name is: <code>spring-boot.ls.java.home</code></p>\n"}],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2373,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71832636,"answer_count":2,"score":2,"last_activity_date":1697537515,"creation_date":1649657130,"question_id":71823294,"body_markdown":"My vscode extension for spring boot is is not starting properly.\r\n\r\n\r\nWhen I set the configuration as : `&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311&quot;`,\r\nI am getting the below error from the extension.\r\n\r\n\r\n    Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe --list-modules\r\n    Unrecognized option: --list-modules\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nWhen I set the configuration as :\r\n    `&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311\\\\jre&quot;`,\r\nI am getting the below error from the extension.\r\n\r\n\r\n    Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\jre\\bin\\java.exe --list-modules\r\n    Unrecognized option: --list-modules\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nHow to resolve this. I have no issues with personal laptop configuration. I am configuring in client environment.\r\n","title":"JDK error in VS code spring boot extension","body":"<p>My vscode extension for spring boot is is not starting properly.</p>\n<p>When I set the configuration as : <code>&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311&quot;</code>,\nI am getting the below error from the extension.</p>\n<pre><code>Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe --list-modules\nUnrecognized option: --list-modules\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>When I set the configuration as :\n<code>&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311\\\\jre&quot;</code>,\nI am getting the below error from the extension.</p>\n<pre><code>Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\jre\\bin\\java.exe --list-modules\nUnrecognized option: --list-modules\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>How to resolve this. I have no issues with personal laptop configuration. I am configuring in client environment.</p>\n"},{"tags":["java","quarkus","smallrye","quarkus-extension"],"answers":[{"tags":[],"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697537491,"creation_date":1697537491,"answer_id":77308106,"question_id":77300534,"body_markdown":"Yes, with the next Quarkus version (3.5.x), it is possible to register any number of `SmallRyeConfigBuilderCustomizer` to access the underlying Config builder and add additional mapping ignores for the custom prefix.\r\n\r\nAs a workaround, you can use `quarkus.config.mapping.validate-unknown=false` to disable the validation.","title":"Migrate from ConfigRoot to ConfigMapping in quarkus extensions with a custom config prefix","body":"<p>Yes, with the next Quarkus version (3.5.x), it is possible to register any number of <code>SmallRyeConfigBuilderCustomizer</code> to access the underlying Config builder and add additional mapping ignores for the custom prefix.</p>\n<p>As a workaround, you can use <code>quarkus.config.mapping.validate-unknown=false</code> to disable the validation.</p>\n"}],"owner":{"account_id":3111613,"reputation":318,"user_id":2633244,"display_name":"shaped"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77308106,"answer_count":1,"score":0,"last_activity_date":1697537491,"creation_date":1697445691,"question_id":77300534,"body_markdown":"**Problem**\r\n\r\nWe built our stack on top of quarkus and have several extensions with the `@ConfigRoot` class approach. We are now migrating to interfaces with `@ConfigMapping` as described in the Quarkus Extensions documentation.\r\n\r\nWe did all the configurations for our stack with a custom prefix (e.g. `mystack.`). We are now facing the problem that when using `@ConfigMapping` its not possible to use the same prefix for build and runtime configuration. \r\n\r\nHaving a shared prefix results in a config validation exception as the config loading mechanism validates that any configuration found can be mapped.\r\n\r\n```\r\nERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: io.smallrye.config.ConfigValidationException: Configuration validation failed:\r\n        mystack.configKey does not map to any root\r\n```\r\n\r\nThis is the intended behavior and is also described in the issue [Extension config for both build and run time with same prefix #32674](https://github.com/quarkusio/quarkus/issues/32674).\r\n\r\nHowever, as many quarkus extensions share a prefix for build and runtime i&#39;ve seen that sharing a configuration prefix is possible if it starts with `quarkus.` like `quarkus.mystack.` in our case. \r\n\r\n**Question**\r\n\r\nIs it possible to configure the config loading mechanism for the prefix `mystack.` with the same behavior as `quarkus.`?\r\n\r\n\r\nIf not - is splitting the runtime and buildtime config or moving to a prefix like `quarkus.mystack.` the only possible solution?\r\n\r\nIt seems like one of the key points for this behavior is the QuarkusConfigBuilderCustomizer ([source link](https://github.com/quarkusio/quarkus/blob/main/core/runtime/src/main/java/io/quarkus/runtime/configuration/QuarkusConfigBuilderCustomizer.java#L102))\r\n\r\n```\r\n// Ignore unmapped quarkus properties, because properties in the same root may be split between build / runtime\r\nbuilder.withMappingIgnore(&quot;quarkus.**&quot;);\r\n```\r\n\r\nIs there an easy way to add further prefixes to this list?","title":"Migrate from ConfigRoot to ConfigMapping in quarkus extensions with a custom config prefix","body":"<p><strong>Problem</strong></p>\n<p>We built our stack on top of quarkus and have several extensions with the <code>@ConfigRoot</code> class approach. We are now migrating to interfaces with <code>@ConfigMapping</code> as described in the Quarkus Extensions documentation.</p>\n<p>We did all the configurations for our stack with a custom prefix (e.g. <code>mystack.</code>). We are now facing the problem that when using <code>@ConfigMapping</code> its not possible to use the same prefix for build and runtime configuration.</p>\n<p>Having a shared prefix results in a config validation exception as the config loading mechanism validates that any configuration found can be mapped.</p>\n<pre><code>ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: io.smallrye.config.ConfigValidationException: Configuration validation failed:\n        mystack.configKey does not map to any root\n</code></pre>\n<p>This is the intended behavior and is also described in the issue <a href=\"https://github.com/quarkusio/quarkus/issues/32674\" rel=\"nofollow noreferrer\">Extension config for both build and run time with same prefix #32674</a>.</p>\n<p>However, as many quarkus extensions share a prefix for build and runtime i've seen that sharing a configuration prefix is possible if it starts with <code>quarkus.</code> like <code>quarkus.mystack.</code> in our case.</p>\n<p><strong>Question</strong></p>\n<p>Is it possible to configure the config loading mechanism for the prefix <code>mystack.</code> with the same behavior as <code>quarkus.</code>?</p>\n<p>If not - is splitting the runtime and buildtime config or moving to a prefix like <code>quarkus.mystack.</code> the only possible solution?</p>\n<p>It seems like one of the key points for this behavior is the QuarkusConfigBuilderCustomizer (<a href=\"https://github.com/quarkusio/quarkus/blob/main/core/runtime/src/main/java/io/quarkus/runtime/configuration/QuarkusConfigBuilderCustomizer.java#L102\" rel=\"nofollow noreferrer\">source link</a>)</p>\n<pre><code>// Ignore unmapped quarkus properties, because properties in the same root may be split between build / runtime\nbuilder.withMappingIgnore(&quot;quarkus.**&quot;);\n</code></pre>\n<p>Is there an easy way to add further prefixes to this list?</p>\n"},{"tags":["java","android","android-studio","google-play","keystore"],"comments":[{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":0,"creation_date":1697547668,"post_id":77308020,"comment_id":136291435,"body_markdown":"A good place to start is the docs: https://developer.android.com/studio/publish/app-signing","body":"A good place to start is the docs: <a href=\"https://developer.android.com/studio/publish/app-signing\" rel=\"nofollow noreferrer\">developer.android.com/studio/publish/app-signing</a>"}],"owner":{"account_id":26226893,"reputation":382,"user_id":19903457,"display_name":"Tribe56123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697537431,"creation_date":1697536884,"question_id":77308020,"body_markdown":"In Android app development, there are several terms and concepts that are related to managing the security and integrity of the apps, but they are very confusing to me.\r\n\r\n```\r\nkey store\r\n\r\npublic key\r\n\r\nprivate key\r\n\r\nupload key\r\n\r\nsigning key \r\n\r\napp signing key \r\n\r\nupload certificate\r\n\r\napp signing certificate\r\n```\r\n\r\nWhat are they and how they are related to each other?","title":"What is keystore, private key, upload key, signing key, app signing key, upload certificate, and app signing certificate in android?","body":"<p>In Android app development, there are several terms and concepts that are related to managing the security and integrity of the apps, but they are very confusing to me.</p>\n<pre><code>key store\n\npublic key\n\nprivate key\n\nupload key\n\nsigning key \n\napp signing key \n\nupload certificate\n\napp signing certificate\n</code></pre>\n<p>What are they and how they are related to each other?</p>\n"},{"tags":["java","testing","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":3371794,"reputation":143468,"user_id":2830850,"display_name":"Tarun Lalwani"},"score":0,"creation_date":1615371185,"post_id":29554564,"comment_id":117667813,"body_markdown":"One possible way to handle this https://stackoverflow.com/questions/66560276/how-to-automate-this-downloading-prompt-using-python/66562544#66562544","body":"One possible way to handle this <a href=\"https://stackoverflow.com/questions/66560276/how-to-automate-this-downloading-prompt-using-python/66562544#66562544\" title=\"how to automate this downloading prompt using python\">stackoverflow.com/questions/66560276/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1428652462,"creation_date":1428648485,"answer_id":29555087,"question_id":29554564,"body_markdown":"You have 2 possible options.\r\n\r\n1) Is running a chrome with a predefined profile, where you have disabled protocol handling manually (via interface or config file) (&quot;Local State&quot; file in profile settings, you should add &quot;waze&quot;: false in the appropriate section, you can search for &quot;mailto&quot; to know where is it).\r\n\r\n2) Another way is to put put the setting in your tests&#39; constructor before all your tests will start (I&#39;ll write an algo, because it depends on your framework and language):\r\n\r\n* navigate to &quot;chrome://settings&quot;\r\n* press link with css selector &quot;#advanced-settings-expander&quot;\r\n* press button with css selector &quot;#privacyContentSettingsButton&quot;\r\n* press label with the needed option using css selector &quot;#handlers-section input[value=block]&quot;\r\n* press done via css selector &quot;#content-settings-overlay-confirm&quot;","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>You have 2 possible options.</p>\n\n<p>1) Is running a chrome with a predefined profile, where you have disabled protocol handling manually (via interface or config file) (\"Local State\" file in profile settings, you should add \"waze\": false in the appropriate section, you can search for \"mailto\" to know where is it).</p>\n\n<p>2) Another way is to put put the setting in your tests' constructor before all your tests will start (I'll write an algo, because it depends on your framework and language):</p>\n\n<ul>\n<li>navigate to \"chrome://settings\"</li>\n<li>press link with css selector \"#advanced-settings-expander\"</li>\n<li>press button with css selector \"#privacyContentSettingsButton\"</li>\n<li>press label with the needed option using css selector \"#handlers-section input[value=block]\"</li>\n<li>press done via css selector \"#content-settings-overlay-confirm\"</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8306871,"reputation":1,"user_id":6243550,"display_name":"s.linga raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461397451,"creation_date":1461392037,"answer_id":36807364,"question_id":29554564,"body_markdown":"By Using AutoIT(third party tool for windows envrionment).\r\n*)Install it(whether 64 bit or 32 bit OS)\r\n*) Using Finder tool(AutoIT v3 Window info), Identify the location for &quot;Do Nothing&quot; \r\n \r\n**Example: Location(700,430)**\r\n\r\n&gt; *)In AutoIT ScriptEditor add the below code MouseClick(&quot;left&quot;,&quot;700,430) and save it as .au3 file format.\r\n&gt; \r\n&gt; *)In your script add this code  Runtime.getRuntime().exec(&quot;D:\\\\AutoIt\\\\AutoItTest.exe&quot;);\r\n&gt; \r\n&gt; *)Run your script.\r\n\r\n\r\n\r\n","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>By Using AutoIT(third party tool for windows envrionment).\n*)Install it(whether 64 bit or 32 bit OS)\n*) Using Finder tool(AutoIT v3 Window info), Identify the location for \"Do Nothing\" </p>\n\n<p><strong>Example: Location(700,430)</strong></p>\n\n<blockquote>\n  <p>*)In AutoIT ScriptEditor add the below code MouseClick(\"left\",\"700,430) and save it as .au3 file format.</p>\n  \n  <p>*)In your script add this code  Runtime.getRuntime().exec(\"D:\\AutoIt\\AutoItTest.exe\");</p>\n  \n  <p>*)Run your script.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6347630,"reputation":750,"user_id":4927631,"display_name":"Amey Dahale"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482487620,"creation_date":1482487620,"answer_id":41299296,"question_id":29554564,"body_markdown":"I am using chromedriver with selenium and python.\r\nI encountered same problem and following code worked for me-\r\n\r\n\r\n    driver.execute_script(&quot;window.confirm = function(msg) { return true; }&quot;)\r\n\r\n    prefs = {&quot;protocol_handler.excluded_schemes&quot;:{&quot;afp&quot;:True,&quot;data&quot;:True,&quot;disk&quot;:True,&quot;disks&quot;:True,&quot;file&quot;:True,&quot;hcp&quot;:True,&quot;intent&quot;:True, &quot;itms-appss&quot;:True, &quot;itms-apps&quot;:True,&quot;itms&quot;:True,&quot;market&quot;:True,&quot;javascript&quot;:True,&quot;mailto&quot;:True,&quot;ms-help&quot;:True,&quot;news&quot;:True,&quot;nntp&quot;:True,&quot;shell&quot;:True,&quot;sip&quot;:True,&quot;snews&quot;:False,&quot;vbscript&quot;:True,&quot;view-source&quot;:True,&quot;vnd&quot;:{&quot;ms&quot;:{&quot;radio&quot;:True}}}}    \r\n\r\n    chrome_options.add_experimental_option(&quot;prefs&quot;,prefs)\r\n\r\nLet&#39;s say you want to suppress protocol handler popup for links starting with &quot;sip://&quot;  &lt;br&gt;\r\nJust add an extra entry as `&quot;sip&quot;:True` in `&quot;protocol_handler.excluded_schemes&quot;`\r\n\r\n\r\n","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>I am using chromedriver with selenium and python.\nI encountered same problem and following code worked for me-</p>\n\n<pre><code>driver.execute_script(\"window.confirm = function(msg) { return true; }\")\n\nprefs = {\"protocol_handler.excluded_schemes\":{\"afp\":True,\"data\":True,\"disk\":True,\"disks\":True,\"file\":True,\"hcp\":True,\"intent\":True, \"itms-appss\":True, \"itms-apps\":True,\"itms\":True,\"market\":True,\"javascript\":True,\"mailto\":True,\"ms-help\":True,\"news\":True,\"nntp\":True,\"shell\":True,\"sip\":True,\"snews\":False,\"vbscript\":True,\"view-source\":True,\"vnd\":{\"ms\":{\"radio\":True}}}}    \n\nchrome_options.add_experimental_option(\"prefs\",prefs)\n</code></pre>\n\n<p>Let's say you want to suppress protocol handler popup for links starting with \"sip://\"  <br>\nJust add an extra entry as <code>\"sip\":True</code> in <code>\"protocol_handler.excluded_schemes\"</code></p>\n"},{"tags":[],"owner":{"account_id":3780009,"reputation":798,"user_id":3139779,"accept_rate":62,"display_name":"Pramod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537309,"creation_date":1539076598,"answer_id":52717415,"question_id":29554564,"body_markdown":"For those who are looking for answer for Javascript-selenium or webdriverJS here is how you can do it.\r\n```\r\nchromeOptions = {\r\n        &#39;args&#39;: [&#39;--test-type&#39;,\r\n                 &#39;--start-maximized&#39;,\r\n                 &#39;use-fake-ui-for-media-stream&#39;,],\r\n        &#39;prefs&#39;: {\r\n            protocol_handler: {\r\n              excluded_schemes: {\r\n                &#39;iamlegend&#39;: false\r\n              }\r\n            }\r\n          },\r\n    };\r\n```\r\nreplace `&#39;iamlegend&#39;` with your protocol","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>For those who are looking for answer for Javascript-selenium or webdriverJS here is how you can do it.</p>\n<pre><code>chromeOptions = {\n        'args': ['--test-type',\n                 '--start-maximized',\n                 'use-fake-ui-for-media-stream',],\n        'prefs': {\n            protocol_handler: {\n              excluded_schemes: {\n                'iamlegend': false\n              }\n            }\n          },\n    };\n</code></pre>\n<p>replace <code>'iamlegend'</code> with your protocol</p>\n"},{"tags":[],"owner":{"account_id":5227630,"reputation":66,"user_id":4179165,"display_name":"Alex B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562960270,"creation_date":1562960270,"answer_id":57013141,"question_id":29554564,"body_markdown":"As for Firefox, the following C# code adds a protocol handler:\r\n\r\n    firefoxOptions.SetPreference(&quot;network.protocol-handler.external.your_custom_protocol&quot;, true);\r\n    firefoxOptions.SetPreference(&quot;network.protocol-handler.expose.your_custom_protocol&quot;, true);\r\n    firefoxOptions.SetPreference(&quot;network.protocol-handler.warn-external.your_custom_protocol&quot;, false);\r\n\r\nInternet Explorer stores protocol handlers in Registry (works only for local WebDriver):\r\n\r\n    var baseKey = @&quot;Software\\Microsoft\\Internet Explorer\\ProtocolExecute\\your_custom_protocol&quot;;\r\n    var protocolKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey(baseKey, true) ?? Microsoft.Win32.Registry.CurrentUser.CreateSubKey(baseKey);\r\n    \r\n    protocolKey?.SetValue(&quot;WarnOnOpen&quot;, 0, Microsoft.Win32.RegistryValueKind.DWord);","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>As for Firefox, the following C# code adds a protocol handler:</p>\n\n<pre><code>firefoxOptions.SetPreference(\"network.protocol-handler.external.your_custom_protocol\", true);\nfirefoxOptions.SetPreference(\"network.protocol-handler.expose.your_custom_protocol\", true);\nfirefoxOptions.SetPreference(\"network.protocol-handler.warn-external.your_custom_protocol\", false);\n</code></pre>\n\n<p>Internet Explorer stores protocol handlers in Registry (works only for local WebDriver):</p>\n\n<pre><code>var baseKey = @\"Software\\Microsoft\\Internet Explorer\\ProtocolExecute\\your_custom_protocol\";\nvar protocolKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey(baseKey, true) ?? Microsoft.Win32.Registry.CurrentUser.CreateSubKey(baseKey);\n\nprotocolKey?.SetValue(\"WarnOnOpen\", 0, Microsoft.Win32.RegistryValueKind.DWord);\n</code></pre>\n"}],"owner":{"account_id":1065081,"reputation":14102,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6090,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29555087,"answer_count":5,"score":6,"last_activity_date":1697537309,"creation_date":1428646460,"question_id":29554564,"body_markdown":"I&#39;m running an automation on mac and on ubunto (using cucumber, selenium web driver, junit)\r\n\r\nduring the automation I click a link with non http protocol\r\n\r\nan &quot;External protocol request&quot; popup appears.\r\n\r\n![enter image description here][1]\r\n\r\nIt blocks my test from testing the rest of the webpage.\r\n\r\nHow can I bypass it easily?\r\n\r\nI have thought maybe to write a jar that does nothing and then register it to this external protocol, but it won&#39;t help as this popup will still appear.\r\n\r\nMaybe using another browser can help?\r\n\r\nAny other suggestions?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aiqIR.png","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>I'm running an automation on mac and on ubunto (using cucumber, selenium web driver, junit)</p>\n\n<p>during the automation I click a link with non http protocol</p>\n\n<p>an \"External protocol request\" popup appears.</p>\n\n<p><img src=\"https://i.stack.imgur.com/aiqIR.png\" alt=\"enter image description here\"></p>\n\n<p>It blocks my test from testing the rest of the webpage.</p>\n\n<p>How can I bypass it easily?</p>\n\n<p>I have thought maybe to write a jar that does nothing and then register it to this external protocol, but it won't help as this popup will still appear.</p>\n\n<p>Maybe using another browser can help?</p>\n\n<p>Any other suggestions?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1422956019,"post_id":28295504,"comment_id":44943465,"body_markdown":"what about `String` replace variants?","body":"what about <code>String</code> replace variants?"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":2,"creation_date":1422956298,"post_id":28295504,"comment_id":44943640,"body_markdown":"When you say &quot;all&quot;, do you mean *all*?","body":"When you say &quot;all&quot;, do you mean <i>all</i>?"},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1422957091,"post_id":28295504,"comment_id":44944119,"body_markdown":"yup, replace worked. :) Didn&#39;t thought of it earlier :| What is the difference between &quot;all&quot; &amp; _all_?","body":"yup, replace worked. :) Didn&#39;t thought of it earlier :| What is the difference between &quot;all&quot; &amp; <i>all</i>?"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1498573711,"post_id":28295504,"comment_id":76546514,"body_markdown":"If the question is about removing _all_ no-break spaces inside a String then the question is wrong and the accepted answer is perfect.  If the question is about trimming no_break spaces then the accepted answer is wrong.","body":"If the question is about removing <i>all</i> no-break spaces inside a String then the question is wrong and the accepted answer is perfect.  If the question is about trimming no_break spaces then the accepted answer is wrong."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1498668052,"post_id":28295504,"comment_id":76596551,"body_markdown":"@ForguesR Can you please explain how is the question or the answer is wrong?","body":"@ForguesR Can you please explain how is the question or the answer is wrong?"}],"answers":[{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1422957236,"creation_date":1422956204,"answer_id":28295597,"question_id":28295504,"body_markdown":"`U+0160` is not whitespace, so it won&#39;t be trimmed. But you can simply `replace()` that characters with a space, and then call `trim()`, so you keep the spaces that are &#39;inside&#39; your string.\r\n\r\n    string = string.replace(&#39;\\u00A0&#39;,&#39; &#39;).trim()\r\n\r\nThere are [three non-breaking whitespace][1] characters that are excluded from the Character.isWhitespace() method : `\\u00A0`, `\\u2007` and, `\\u202F`, so you probably want to replace those too.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-","title":"How to trim no-break space in Java?","body":"<p><code>U+0160</code> is not whitespace, so it won't be trimmed. But you can simply <code>replace()</code> that characters with a space, and then call <code>trim()</code>, so you keep the spaces that are 'inside' your string.</p>\n\n<pre><code>string = string.replace('\\u00A0',' ').trim()\n</code></pre>\n\n<p>There are <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-\">three non-breaking whitespace</a> characters that are excluded from the Character.isWhitespace() method : <code>\\u00A0</code>, <code>\\u2007</code> and, <code>\\u202F</code>, so you probably want to replace those too.</p>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559757084,"creation_date":1422956356,"answer_id":28295641,"question_id":28295504,"body_markdown":"You could do it with a guava [`CharMatcher`][1], for example:\r\n\r\n    CharMatcher.anyOf(&quot;\\r\\n\\t \\u00A0&quot;).trimFrom(input);\r\n    CharMatcher.whitespace().trimFrom(input);\r\n\r\nSee also this [nice reference on whitespaces definition][2]\r\n\r\n\r\n  [1]: https://static.javadoc.io/com.google.guava/guava/26.0-jre/com/google/common/base/CharMatcher.html\r\n  [2]: https://spreadsheets.google.com/pub?key=pd8dAQyHbdewRsnE5x5GzKQ","title":"How to trim no-break space in Java?","body":"<p>You could do it with a guava <a href=\"https://static.javadoc.io/com.google.guava/guava/26.0-jre/com/google/common/base/CharMatcher.html\" rel=\"nofollow noreferrer\"><code>CharMatcher</code></a>, for example:</p>\n\n<pre><code>CharMatcher.anyOf(\"\\r\\n\\t \\u00A0\").trimFrom(input);\nCharMatcher.whitespace().trimFrom(input);\n</code></pre>\n\n<p>See also this <a href=\"https://spreadsheets.google.com/pub?key=pd8dAQyHbdewRsnE5x5GzKQ\" rel=\"nofollow noreferrer\">nice reference on whitespaces definition</a></p>\n"},{"tags":[],"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1422957516,"creation_date":1422956666,"answer_id":28295733,"question_id":28295504,"body_markdown":"While `&amp;#160;` is a [non breaking space][1] (a space that does not want to be treated as whitespace), you can trim a string while preserving every `&amp;#160;` within the string with a simple regex:\n\n    string.replaceAll(&quot;(^\\\\h*)|(\\\\h*$)&quot;,&quot;&quot;)\n\n\n- `\\h` is a horizontal whitespace character: `[ \\t\\xA0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000]`\n\nIf you are using a pre JDK8 Version, you need to explicitly use the list of chars instead of `\\h`.\n\n  [1]: http://en.wikipedia.org/wiki/Non-breaking_space","title":"How to trim no-break space in Java?","body":"<p>While <code>&amp;#160;</code> is a <a href=\"http://en.wikipedia.org/wiki/Non-breaking_space\" rel=\"noreferrer\">non breaking space</a> (a space that does not want to be treated as whitespace), you can trim a string while preserving every <code>&amp;#160;</code> within the string with a simple regex:</p>\n<pre><code>string.replaceAll(&quot;(^\\\\h*)|(\\\\h*$)&quot;,&quot;&quot;)\n</code></pre>\n<ul>\n<li><code>\\h</code> is a horizontal whitespace character: <code>[ \\t\\xA0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000]</code></li>\n</ul>\n<p>If you are using a pre JDK8 Version, you need to explicitly use the list of chars instead of <code>\\h</code>.</p>\n"},{"tags":[],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498578801,"creation_date":1498578801,"answer_id":44784786,"question_id":28295504,"body_markdown":"If you happen to use [Apache Commons Lang][1] then you can use [strip][2] and add all the characters you want.\r\n\r\n    final String STRIPPED_CHARS = &quot; \\t\\u00A0\\u1680\\u180e\\u2000\\u200a\\u202f\\u205f\\u3000&quot;;\r\n    \r\n    String s = &quot;\\u3000 \\tThis str contains a non-breaking\\u00A0space and a\\ttab. &quot;;\r\n    s = StringUtils.strip(s, STRIPPED_CHARS);  \r\n    System.out.println(s);  // Gives : &quot;This str contains a non-breaking space and a\ttab.&quot;\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-","title":"How to trim no-break space in Java?","body":"<p>If you happen to use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> then you can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-\" rel=\"noreferrer\">strip</a> and add all the characters you want.</p>\n\n<pre><code>final String STRIPPED_CHARS = \" \\t\\u00A0\\u1680\\u180e\\u2000\\u200a\\u202f\\u205f\\u3000\";\n\nString s = \"\\u3000 \\tThis str contains a non-breaking\\u00A0space and a\\ttab. \";\ns = StringUtils.strip(s, STRIPPED_CHARS);  \nSystem.out.println(s);  // Gives : \"This str contains a non-breaking space and a    tab.\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1582526526,"creation_date":1582526526,"answer_id":60370714,"question_id":28295504,"body_markdown":"You can try this:\r\n     \r\n    string.replaceAll(&quot;\\\\p{Z}&quot;,&quot;&quot;);\r\nFrom https://www.regular-expressions.info/unicode.html:\r\n\r\n&gt; \\p{Z} or \\p{Separator}: any kind of whitespace or invisible separator.\r\n\r\n","title":"How to trim no-break space in Java?","body":"<p>You can try this:</p>\n\n<pre><code>string.replaceAll(\"\\\\p{Z}\",\"\");\n</code></pre>\n\n<p>From <a href=\"https://www.regular-expressions.info/unicode.html\" rel=\"noreferrer\">https://www.regular-expressions.info/unicode.html</a>:</p>\n\n<blockquote>\n  <p>\\p{Z} or \\p{Separator}: any kind of whitespace or invisible separator.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537298,"creation_date":1697537298,"answer_id":77308081,"question_id":28295504,"body_markdown":"The logic behind the [`string.trim()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--) method is more or less the following (it does not use `charAt`, but the internal `byte[]` that stores the characters):\r\n\r\n\tpublic String trim(String s) {\r\n\t\tif (s == null) {\r\n\t\t\treturn StringUtils.EMPTY;\r\n\t\t}\r\n\t\tint originalLength = s.length();\r\n\t\tint start = 0;\r\n\t\tint end = originalLength;\r\n\t\twhile (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\r\n\t\t\tstart++;\r\n\t\t}\r\n\t\twhile (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\r\n\t\t\tend--;\r\n\t\t}\r\n\t\treturn ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\r\n\t}\r\n\r\nwhere `isTrimmable` means less or equal `&#39;\\u0020&#39;`. You can implement an util method with custom logic to detect trimmable characters without using a regex:\r\n\r\n    public static String fullTrim(String s) {\r\n        if (s == null) {\r\n            return StringUtils.EMPTY;\r\n        }\r\n        int originalLength = s.length();\r\n        int start = 0;\r\n        int end = originalLength;\r\n        while (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\r\n            start++;\r\n        }\r\n        while (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\r\n            end--;\r\n        }\r\n        return ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\r\n    }\r\n\r\n    public static boolean isTrimmable(char c) {\r\n        return Character.isWhitespace(c) || c == &#39;\\u00A0&#39; || c == &#39;\\u2007&#39; || c == &#39;\\u202F&#39;;\r\n    }\r\n\r\nThis is a solution that doesn&#39;t use a regex or the (equivalent) [StringUtils.strip(string, charactersToStrip)](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-), as I prefer to maintain a `isTrimmable` method than a `charactersToStrip`/regex string.","title":"How to trim no-break space in Java?","body":"<p>The logic behind the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--\" rel=\"nofollow noreferrer\"><code>string.trim()</code></a> method is more or less the following (it does not use <code>charAt</code>, but the internal <code>byte[]</code> that stores the characters):</p>\n<pre><code>public String trim(String s) {\n    if (s == null) {\n        return StringUtils.EMPTY;\n    }\n    int originalLength = s.length();\n    int start = 0;\n    int end = originalLength;\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\n        start++;\n    }\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\n        end--;\n    }\n    return ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\n}\n</code></pre>\n<p>where <code>isTrimmable</code> means less or equal <code>'\\u0020'</code>. You can implement an util method with custom logic to detect trimmable characters without using a regex:</p>\n<pre><code>public static String fullTrim(String s) {\n    if (s == null) {\n        return StringUtils.EMPTY;\n    }\n    int originalLength = s.length();\n    int start = 0;\n    int end = originalLength;\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\n        start++;\n    }\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\n        end--;\n    }\n    return ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\n}\n\npublic static boolean isTrimmable(char c) {\n    return Character.isWhitespace(c) || c == '\\u00A0' || c == '\\u2007' || c == '\\u202F';\n}\n</code></pre>\n<p>This is a solution that doesn't use a regex or the (equivalent) <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">StringUtils.strip(string, charactersToStrip)</a>, as I prefer to maintain a <code>isTrimmable</code> method than a <code>charactersToStrip</code>/regex string.</p>\n"}],"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67289,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":28295733,"answer_count":6,"score":48,"last_activity_date":1697537298,"creation_date":1422955927,"question_id":28295504,"body_markdown":"I&#39;ve input an input file which I need to process and discard all the white-spaces, including non-breaking space `U+00A0` aka `&amp;#160;` (You can produce it in Notepad by pressing &lt;kbd&gt;Alt&lt;/kbd&gt; and then typing &lt;kbd&gt;0&lt;/kbd&gt; &lt;kbd&gt;1&lt;/kbd&gt; &lt;kbd&gt;6&lt;/kbd&gt; &lt;kbd&gt;0&lt;/kbd&gt; from the keyboard&#39;s numeric pad.) or any other form of white space. I have tried [`String.trim()`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--) but it doesn&#39;t trim `U+00A0`.\r\n\r\nDo I need to explicitly check for `U+00A0` and then `trim()` or is there an easy way to trim all kinds of white-spaces in Java?","title":"How to trim no-break space in Java?","body":"<p>I've input an input file which I need to process and discard all the white-spaces, including non-breaking space <code>U+00A0</code> aka <code>&amp;#160;</code> (You can produce it in Notepad by pressing <kbd>Alt</kbd> and then typing <kbd>0</kbd> <kbd>1</kbd> <kbd>6</kbd> <kbd>0</kbd> from the keyboard's numeric pad.) or any other form of white space. I have tried <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--\" rel=\"noreferrer\"><code>String.trim()</code></a> but it doesn't trim <code>U+00A0</code>.</p>\n\n<p>Do I need to explicitly check for <code>U+00A0</code> and then <code>trim()</code> or is there an easy way to trim all kinds of white-spaces in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1697535698,"post_id":77307801,"comment_id":136289059,"body_markdown":"Unrelated but `new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}` would probably be a lot more readable as `new ArrayList&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;))`","body":"Unrelated but <code>new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}</code> would probably be a lot more readable as <code>new ArrayList&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;))</code>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1697535784,"post_id":77307801,"comment_id":136289078,"body_markdown":"If you want to be able to get strongly typed Rockets out of a Player, then Player will need 1 generic type parameter for each rocket. e.g. `Player&lt;Foo, Bar&gt; player = new Player...` Alternatively, in this case you can just keep a reference to the Rocket as a local variable before passing it to the Player constructor. Then rather than call `kleinerB.getRightRocket()` you can just refer to the local variable: https://ideone.com/ammNbG","body":"If you want to be able to get strongly typed Rockets out of a Player, then Player will need 1 generic type parameter for each rocket. e.g. <code>Player&lt;Foo, Bar&gt; player = new Player...</code> Alternatively, in this case you can just keep a reference to the Rocket as a local variable before passing it to the Player constructor. Then rather than call <code>kleinerB.getRightRocket()</code> you can just refer to the local variable: <a href=\"https://ideone.com/ammNbG\" rel=\"nofollow noreferrer\">ideone.com/ammNbG</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697536174,"post_id":77307801,"comment_id":136289159,"body_markdown":"You can use `kleinerB.setRightRocket(new Rocket&lt;&gt;(new ArrayList&lt;String&gt;()));` But what’s the point of it? After you’ve set it, nobody knows that the list you’ve set is a `List&lt;String&gt;`. The entire use of Generics is pointless here. It’s not even clear why you wrap the objects in a `Rocket` object. It does not add anything useful.","body":"You can use <code>kleinerB.setRightRocket(new Rocket&lt;&gt;(new ArrayList&lt;String&gt;()));</code> But what’s the point of it? After you’ve set it, nobody knows that the list you’ve set is a <code>List&lt;String&gt;</code>. The entire use of Generics is pointless here. It’s not even clear why you wrap the objects in a <code>Rocket</code> object. It does not add anything useful."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697536579,"post_id":77307801,"comment_id":136289258,"body_markdown":"Unrelated again, but wouldn&#39;t it make more sense to have `rightRocket` on the right of `leftRocket` in `Player`&#39;s constructor parameters list? It took me a while to realize that the error was *not* that you were trying to set an `ArrayList&lt;Integer&gt;` to a new `ArrayList&lt;String&gt;`.","body":"Unrelated again, but wouldn&#39;t it make more sense to have <code>rightRocket</code> on the right of <code>leftRocket</code> in <code>Player</code>&#39;s constructor parameters list? It took me a while to realize that the error was <i>not</i> that you were trying to set an <code>ArrayList&lt;Integer&gt;</code> to a new <code>ArrayList&lt;String&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697537076,"creation_date":1697537076,"answer_id":77308051,"question_id":77307801,"body_markdown":"A quick and dirty resolution to your problem is to declare erased types in getXxxRocket methods, like this:\r\n\r\n```java\r\n \tpublic &lt;R&gt; Rocket&lt;R&gt; getRightRocket() {\r\n\t\treturn (Rocket&lt;R&gt;) rightRocket;\r\n\t}\r\n\r\n\tpublic &lt;L&gt; Rocket&lt;L&gt; getLeftRocket() {\r\n\t\treturn (Rocket&lt;L&gt;) leftRocket;\r\n\t}\r\n```\r\n\r\nBut you&#39;ll have to use an unchecked cast in order to make it work.\r\n\r\nThe best option here seems to use generics in the Player class, like this:\r\n\r\n```java\r\npublic class Player&lt;R, L&gt; {\r\n\tpublic String name;\r\n\tpublic Rocket&lt;R&gt; rightRocket;\r\n\tpublic Rocket&lt;L&gt; leftRocket;\r\n\r\n\tpublic Player(String name, Rocket&lt;R&gt; rightRocket, Rocket&lt;L&gt; leftRocket) {\r\n\t\tthis.name = name;\r\n\t\tthis.rightRocket = rightRocket;\r\n\t\tthis.leftRocket = leftRocket;\r\n\t}\r\n\r\n...\r\n\r\n\tpublic Rocket&lt;R&gt; getRightRocket() {\r\n\t\treturn rightRocket;\r\n\t}\r\n\r\n\tpublic Rocket&lt;L&gt; getLeftRocket() {\r\n\t\treturn leftRocket;\r\n\t}\r\n\r\n...\r\n``` \r\n\r\nAnd then you can instantiate the Player class like this:\r\n\r\n```java\r\nPlayer&lt;List&lt;String&gt;, Integer&gt; kleinerB = \r\n\tnew Player&lt;&gt;(&quot;kleinerK&quot;, new Rocket&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;)), new Rocket&lt;&gt;(42));\r\n```\r\n\r\nBTW, never use concrete types (ArrayList) in declarations when you can use their interfaces (List).","title":"How do i change attributes of a generic attribute of a class?","body":"<p>A quick and dirty resolution to your problem is to declare erased types in getXxxRocket methods, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public &lt;R&gt; Rocket&lt;R&gt; getRightRocket() {\n        return (Rocket&lt;R&gt;) rightRocket;\n    }\n\n    public &lt;L&gt; Rocket&lt;L&gt; getLeftRocket() {\n        return (Rocket&lt;L&gt;) leftRocket;\n    }\n</code></pre>\n<p>But you'll have to use an unchecked cast in order to make it work.</p>\n<p>The best option here seems to use generics in the Player class, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Player&lt;R, L&gt; {\n    public String name;\n    public Rocket&lt;R&gt; rightRocket;\n    public Rocket&lt;L&gt; leftRocket;\n\n    public Player(String name, Rocket&lt;R&gt; rightRocket, Rocket&lt;L&gt; leftRocket) {\n        this.name = name;\n        this.rightRocket = rightRocket;\n        this.leftRocket = leftRocket;\n    }\n\n...\n\n    public Rocket&lt;R&gt; getRightRocket() {\n        return rightRocket;\n    }\n\n    public Rocket&lt;L&gt; getLeftRocket() {\n        return leftRocket;\n    }\n\n...\n</code></pre>\n<p>And then you can instantiate the Player class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Player&lt;List&lt;String&gt;, Integer&gt; kleinerB = \n    new Player&lt;&gt;(&quot;kleinerK&quot;, new Rocket&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;)), new Rocket&lt;&gt;(42));\n</code></pre>\n<p>BTW, never use concrete types (ArrayList) in declarations when you can use their interfaces (List).</p>\n"}],"owner":{"account_id":29690507,"reputation":23,"user_id":22755001,"display_name":"Tired8296"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77308051,"answer_count":1,"score":0,"last_activity_date":1697537077,"creation_date":1697535357,"question_id":77307801,"body_markdown":"In my main class i&#39;ve created object instances of a class that contains generic attributes. With my getters i can read the generic attributes, but with my setters i cant change them. The error eclipse throws at me in my Main class at line 16 is &quot;The method set(capture#2-of ?) in the type Rocket&lt;capture#2-of ?&gt; is not applicable for the arguments (ArrayList&lt;String&gt;)&quot;. I&#39;ll add the code of my three classes.\r\n\r\n```\r\npackage dchapter11_1;\r\n\r\npublic class Rocket&lt;T&gt; {\r\n\t  private T value;\r\n\r\n\t  public Rocket() {}\r\n\t  public Rocket( T value ) { this.value = value; }\r\n\t  \r\n\t  public void set(T value) { this.value = value; }\r\n\t  public T get() { return value; }\r\n\r\n\t  @Override\r\n\t  public String toString() {\r\n\t\t  return getClass() + &quot;[value=&quot; + value.toString() + &quot;]&quot;;\r\n\t  }\r\n\t  public boolean isEmpty() { return value == null; }\r\n\t  public void empty() { value = null; }\r\n}\r\n\r\n```\r\n```\r\npackage dchapter11_1;\r\n\r\npublic class Player {\r\n\t\t  public String name;\r\n\t\t  public Rocket&lt;?&gt; rightRocket;\r\n\t\t  public Rocket&lt;?&gt; leftRocket;\r\n\t\t  \r\n\t\t  public Player(String name, Rocket&lt;?&gt; leftRocket, Rocket&lt;?&gt; rightRocket) {\r\n\t\t\t  this.name = name;\r\n\t\t\t  this.leftRocket = leftRocket;\r\n\t\t\t  this.rightRocket = rightRocket;\r\n\t\t  }\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic Rocket&lt;?&gt; getRightRocket() {\r\n\t\t\treturn rightRocket;\r\n\t\t}\r\n\t\tpublic void setRightRocket(Rocket&lt;?&gt; rightRocket) {\r\n\t\t\tthis.rightRocket = rightRocket;\r\n\t\t}\r\n\t\tpublic Rocket&lt;?&gt; getLeftRocket() {\r\n\t\t\treturn leftRocket;\r\n\t\t}\r\n\t\tpublic void setLeftRocket(Rocket&lt;?&gt; leftRocket) {\r\n\t\t\tthis.leftRocket = leftRocket;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn getClass() + &quot;[name=&quot; + name + &quot;, rightRocket=&quot; + rightRocket.toString() + &quot;, leftRocket=&quot; + leftRocket.toString() + &quot;]&quot;;\r\n\t\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n```\r\n```\r\npackage dchapter11_1;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n\tpublic static void main(String... args) {\r\n\t\t@SuppressWarnings(&quot;serial&quot;)\r\n\t\tPlayer kleinerB = new Player(&quot;kleinerK&quot;, new Rocket&lt;Integer&gt;(Integer.valueOf(42)), new Rocket&lt;ArrayList&lt;String&gt;&gt;(new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}));\r\n\t\tSystem.out.println(kleinerB.toString());\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tArrayList&lt;String&gt; arrayList = (ArrayList&lt;String&gt;)kleinerB.getRightRocket().get();\r\n\t\tfor(String s : arrayList) {\r\n\t\t\tSystem.out.print(s);\r\n\t\t}\r\n\t\t//kleinerB.getRightRocket().set(new ArrayList&lt;String&gt;()); //FUNKTIONIERT NICHT KEINER WEISS WARUM\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve tried to change the type of the Rocket attributes in player from `&lt;?&gt;` to `&lt;T&gt;`, but that only gives me the option to create `Player` instances from a specific type (what I specifically don&#39;t want).","title":"How do i change attributes of a generic attribute of a class?","body":"<p>In my main class i've created object instances of a class that contains generic attributes. With my getters i can read the generic attributes, but with my setters i cant change them. The error eclipse throws at me in my Main class at line 16 is &quot;The method set(capture#2-of ?) in the type Rocket&lt;capture#2-of ?&gt; is not applicable for the arguments (ArrayList)&quot;. I'll add the code of my three classes.</p>\n<pre><code>package dchapter11_1;\n\npublic class Rocket&lt;T&gt; {\n      private T value;\n\n      public Rocket() {}\n      public Rocket( T value ) { this.value = value; }\n      \n      public void set(T value) { this.value = value; }\n      public T get() { return value; }\n\n      @Override\n      public String toString() {\n          return getClass() + &quot;[value=&quot; + value.toString() + &quot;]&quot;;\n      }\n      public boolean isEmpty() { return value == null; }\n      public void empty() { value = null; }\n}\n\n</code></pre>\n<pre><code>package dchapter11_1;\n\npublic class Player {\n          public String name;\n          public Rocket&lt;?&gt; rightRocket;\n          public Rocket&lt;?&gt; leftRocket;\n          \n          public Player(String name, Rocket&lt;?&gt; leftRocket, Rocket&lt;?&gt; rightRocket) {\n              this.name = name;\n              this.leftRocket = leftRocket;\n              this.rightRocket = rightRocket;\n          }\n\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public Rocket&lt;?&gt; getRightRocket() {\n            return rightRocket;\n        }\n        public void setRightRocket(Rocket&lt;?&gt; rightRocket) {\n            this.rightRocket = rightRocket;\n        }\n        public Rocket&lt;?&gt; getLeftRocket() {\n            return leftRocket;\n        }\n        public void setLeftRocket(Rocket&lt;?&gt; leftRocket) {\n            this.leftRocket = leftRocket;\n        }\n        \n        @Override\n        public String toString() {\n            return getClass() + &quot;[name=&quot; + name + &quot;, rightRocket=&quot; + rightRocket.toString() + &quot;, leftRocket=&quot; + leftRocket.toString() + &quot;]&quot;;\n        }\n}\n\n\n\n\n\n</code></pre>\n<pre><code>package dchapter11_1;\n\nimport java.util.ArrayList;\n\npublic class Main {\n    public static void main(String... args) {\n        @SuppressWarnings(&quot;serial&quot;)\n        Player kleinerB = new Player(&quot;kleinerK&quot;, new Rocket&lt;Integer&gt;(Integer.valueOf(42)), new Rocket&lt;ArrayList&lt;String&gt;&gt;(new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}));\n        System.out.println(kleinerB.toString());\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        ArrayList&lt;String&gt; arrayList = (ArrayList&lt;String&gt;)kleinerB.getRightRocket().get();\n        for(String s : arrayList) {\n            System.out.print(s);\n        }\n        //kleinerB.getRightRocket().set(new ArrayList&lt;String&gt;()); //FUNKTIONIERT NICHT KEINER WEISS WARUM\n    }\n}\n</code></pre>\n<p>I've tried to change the type of the Rocket attributes in player from <code>&lt;?&gt;</code> to <code>&lt;T&gt;</code>, but that only gives me the option to create <code>Player</code> instances from a specific type (what I specifically don't want).</p>\n"},{"tags":["java","redis","redis-cluster","redisson"],"owner":{"account_id":8067158,"reputation":35,"user_id":6080937,"display_name":"Lucian Hada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697537016,"creation_date":1697536496,"question_id":77307951,"body_markdown":"I&#39;ve seen multiple questions/answers on how to increase the max file descriptors so Redis won&#39;t complain about it but my question is different and I don&#39;t seem to find an answer:\r\n\r\nTrying to use it, in a clustered setup, with (for example) ~4k maxclients either from explicit config or as it fallbacks to such value based on system&#39;s max file descriptors is simply a call for trouble, was 10k default chosen for a reason?\r\n\r\nWe actually had issues because no more connections could be opened and trying to figure out if we need to continue our investigation on the dev team side or we should simply consider increasing max file descriptors since we need to go through our infra team for that and they are very sceptic we need more than we already have...","title":"Redis working with ~4k max file descriptors","body":"<p>I've seen multiple questions/answers on how to increase the max file descriptors so Redis won't complain about it but my question is different and I don't seem to find an answer:</p>\n<p>Trying to use it, in a clustered setup, with (for example) ~4k maxclients either from explicit config or as it fallbacks to such value based on system's max file descriptors is simply a call for trouble, was 10k default chosen for a reason?</p>\n<p>We actually had issues because no more connections could be opened and trying to figure out if we need to continue our investigation on the dev team side or we should simply consider increasing max file descriptors since we need to go through our infra team for that and they are very sceptic we need more than we already have...</p>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697534347,"post_id":77307660,"comment_id":136288796,"body_markdown":"Please include the full stacktrace instead of a random half snippet from it.","body":"Please include the full stacktrace instead of a random half snippet from it."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697534416,"post_id":77307660,"comment_id":136288814,"body_markdown":"You should also include (the relevant part of) the entity itself, and any relevant logging from JPA trying to initialize your database.","body":"You should also include (the relevant part of) the entity itself, and any relevant logging from JPA trying to initialize your database."},{"owner":{"account_id":24459818,"reputation":3,"user_id":18380976,"display_name":"Khwab Vachhani"},"score":0,"creation_date":1697535625,"post_id":77307660,"comment_id":136289047,"body_markdown":"@M.Deinum Can you please check once again? I have added the relevant information needed. \nThank you for the inputs, I am just starting out here, still new to asking question.","body":"@M.Deinum Can you please check once again? I have added the relevant information needed.  Thank you for the inputs, I am just starting out here, still new to asking question."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1697536015,"post_id":77307660,"comment_id":136289127,"body_markdown":"I know this is not an answer to your question, but still worth writing :) You approach is called &quot;Code First&quot;. Please consider using &quot;Database First&quot;. Code First is usually good only for school examples with very simple databases. In the real production applications it brings more problems than benefits.","body":"I know this is not an answer to your question, but still worth writing :) You approach is called &quot;Code First&quot;. Please consider using &quot;Database First&quot;. Code First is usually good only for school examples with very simple databases. In the real production applications it brings more problems than benefits."},{"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"score":0,"creation_date":1697536020,"post_id":77307660,"comment_id":136289128,"body_markdown":"Kindly add POM file and describe the version of Java and hibernate in your question.","body":"Kindly add POM file and describe the version of Java and hibernate in your question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697536395,"post_id":77307660,"comment_id":136289204,"body_markdown":"The full stacktrace is still relevant. However I doubt that using `BigInteger` as a type for the `@Id` would work. Use an `Integer` or probably a `Long` instead.","body":"The full stacktrace is still relevant. However I doubt that using <code>BigInteger</code> as a type for the <code>@Id</code> would work. Use an <code>Integer</code> or probably a <code>Long</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697536597,"creation_date":1697536210,"answer_id":77307920,"question_id":77307660,"body_markdown":"The problem is here :\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      @NotNull(message = &quot;Composer Id is required&quot;)\r\n      private BigInteger id;\r\n\r\nyou are using `BigInteger` as a type for primary key what is wrong.\r\n\r\nJust change to `Long` it is going to fix your problem\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      @NotNull(message = &quot;Composer Id is required&quot;)\r\n      private Long id;\r\n\r\n\r\nFor you to know: `BIGINT` is the same as a Java Long, not a `BigInteger`","title":"Spring Boot Connection with PostgreSql","body":"<p>The problem is here :</p>\n<pre><code>  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  @NotNull(message = &quot;Composer Id is required&quot;)\n  private BigInteger id;\n</code></pre>\n<p>you are using <code>BigInteger</code> as a type for primary key what is wrong.</p>\n<p>Just change to <code>Long</code> it is going to fix your problem</p>\n<pre><code>  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  @NotNull(message = &quot;Composer Id is required&quot;)\n  private Long id;\n</code></pre>\n<p>For you to know: <code>BIGINT</code> is the same as a Java Long, not a <code>BigInteger</code></p>\n"}],"owner":{"account_id":24459818,"reputation":3,"user_id":18380976,"display_name":"Khwab Vachhani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307920,"answer_count":1,"score":0,"last_activity_date":1697536597,"creation_date":1697534246,"question_id":77307660,"body_markdown":"So I have created a database in Postgres, which currently has no Tables\r\n```\r\ndemographic=# \\l\r\n                                                               List of databases\r\n    Name     |  Owner   | Encoding | Locale Provider |      Collate       |       Ctype        | ICU Locale | ICU Rules |   Access privileges\r\n-------------+----------+----------+-----------------+--------------------+--------------------+------------+-----------+-----------------------\r\n demographic | postgres | UTF8     | libc            | English_India.1252 | English_India.1252 |            |           | =Tc/postgres         +\r\n             |          |          |                 |                    |                    |            |           | postgres=CTc/postgres+\r\n             |          |          |                 |                    |                    |            |           | khwab=CTc/postgres\r\n \r\n\r\ndemographic=# \\d\r\nDid not find any relations.\r\n```\r\n\r\nThis is my application.properties...\r\n```\r\nspring.datasource.driver-class-name = org.postgresql.Driver\r\nspring.datasource.url = jdbc:postgresql://localhost:5432/demographic\r\nspring.datasource.username=postgres\r\nspring.datasource.password=*****\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\nI&#39;ll also provide pom.xml file below\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ehrc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mhms&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;mhms&lt;/name&gt;\r\n\t&lt;description&gt;Demographics MHMS&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nFinally this is my Entity\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;id_proof&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;id&quot;)})\r\npublic class IdProofEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    @NotNull(message = &quot;Composer Id is required&quot;)\r\n    private BigInteger id;\r\n\r\n    @Column(name = &quot;id_number&quot;)\r\n    private Number idNumber;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;issue_date&quot;)\r\n    private Date issueDate;\r\n\r\n    @Column(name = &quot;expiry_date&quot;)\r\n    private Date expiryDate;\r\n\r\n    @Column(name = &quot;issuing_authority&quot;)\r\n    private String issuingAuthority;\r\n\r\n    @Column(name = &quot;place_of_issue&quot;)\r\n    private String placeOfIssue;\r\n\r\n    @Column(name = &quot;image&quot;)\r\n    private String image;\r\n}\r\n```\r\nThis should create a new table that I specified with `@Table `annotation in my entity, right? But upon executing the project I am getting the following error.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Error creating SQL create commands for table : id_proof\r\n```\r\n\r\n Can someone help me out here?\r\n\r\nI crossed check user config and password, they are correct, as it is connecting to the database.","title":"Spring Boot Connection with PostgreSql","body":"<p>So I have created a database in Postgres, which currently has no Tables</p>\n<pre><code>demographic=# \\l\n                                                               List of databases\n    Name     |  Owner   | Encoding | Locale Provider |      Collate       |       Ctype        | ICU Locale | ICU Rules |   Access privileges\n-------------+----------+----------+-----------------+--------------------+--------------------+------------+-----------+-----------------------\n demographic | postgres | UTF8     | libc            | English_India.1252 | English_India.1252 |            |           | =Tc/postgres         +\n             |          |          |                 |                    |                    |            |           | postgres=CTc/postgres+\n             |          |          |                 |                    |                    |            |           | khwab=CTc/postgres\n \n\ndemographic=# \\d\nDid not find any relations.\n</code></pre>\n<p>This is my application.properties...</p>\n<pre><code>spring.datasource.driver-class-name = org.postgresql.Driver\nspring.datasource.url = jdbc:postgresql://localhost:5432/demographic\nspring.datasource.username=postgres\nspring.datasource.password=*****\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>I'll also provide pom.xml file below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ehrc&lt;/groupId&gt;\n    &lt;artifactId&gt;mhms&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mhms&lt;/name&gt;\n    &lt;description&gt;Demographics MHMS&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Finally this is my Entity</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;id_proof&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;id&quot;)})\npublic class IdProofEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @NotNull(message = &quot;Composer Id is required&quot;)\n    private BigInteger id;\n\n    @Column(name = &quot;id_number&quot;)\n    private Number idNumber;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    @Column(name = &quot;issue_date&quot;)\n    private Date issueDate;\n\n    @Column(name = &quot;expiry_date&quot;)\n    private Date expiryDate;\n\n    @Column(name = &quot;issuing_authority&quot;)\n    private String issuingAuthority;\n\n    @Column(name = &quot;place_of_issue&quot;)\n    private String placeOfIssue;\n\n    @Column(name = &quot;image&quot;)\n    private String image;\n}\n</code></pre>\n<p>This should create a new table that I specified with <code>@Table </code>annotation in my entity, right? But upon executing the project I am getting the following error.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Error creating SQL create commands for table : id_proof\n</code></pre>\n<p>Can someone help me out here?</p>\n<p>I crossed check user config and password, they are correct, as it is connecting to the database.</p>\n"},{"tags":["java","3d","jmonkeyengine"],"answers":[{"tags":[],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697536084,"creation_date":1697536084,"answer_id":77307900,"question_id":77301776,"body_markdown":"The trouble was in the model scale. I have used the model which was scaled with parameter 0.05f (too small). When I have changed the scale to 1f (original) the near cut plane started to work correct","title":"How to transfer the cut plane near to the default fly camera in JMonkey engine?","body":"<p>The trouble was in the model scale. I have used the model which was scaled with parameter 0.05f (too small). When I have changed the scale to 1f (original) the near cut plane started to work correct</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697536084,"creation_date":1697457524,"question_id":77301776,"body_markdown":"I try to use JMonkey engine (JME3) to create a scene. In the default project I use the default camera. When I render 3D models from uploaded .obj sources the engine starts to cut the objects too early when the camera nears to the object. I think I need to make smaller the distance between the real camera place and the place from which the engine starts to look into the inside volume of the model. But I can not understand which variable controls this distance.\r\nI show the example to see how long the distance between the camera and the stairs by default.\r\n[![enter image description here][1]][1]\r\n\r\nHow can I change the distance to the cutting plane?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tLHQh.jpg","title":"How to transfer the cut plane near to the default fly camera in JMonkey engine?","body":"<p>I try to use JMonkey engine (JME3) to create a scene. In the default project I use the default camera. When I render 3D models from uploaded .obj sources the engine starts to cut the objects too early when the camera nears to the object. I think I need to make smaller the distance between the real camera place and the place from which the engine starts to look into the inside volume of the model. But I can not understand which variable controls this distance.\nI show the example to see how long the distance between the camera and the stairs by default.\n<a href=\"https://i.stack.imgur.com/tLHQh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tLHQh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can I change the distance to the cutting plane?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697535304,"post_id":77307764,"comment_id":136288990,"body_markdown":"Check (or describe us) the [directory layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).","body":"Check (or describe us) the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">directory layout</a>."}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697535723,"creation_date":1697535031,"question_id":77307764,"body_markdown":"I have class SelfContainedRestServer.java that I need to build with help of maven. I do build  with `mvn clean install` command.\r\n\r\nI get rest-server-1.0-SNAPSHOT.jar file that does not contains any class files.\r\nMaven build log show that no source files was included\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ----------------------&lt; com.example:rest-server &gt;-----------------------\r\n    [INFO] Building rest-server 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ rest-server ---\r\n    [INFO] Deleting C:\\java_test\\mvn_selfcontained\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rest-server ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ rest-server ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rest-server ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ rest-server ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ rest-server ---\r\n    [INFO] No tests to run.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ rest-server ---\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n    [INFO] Building jar: C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ rest-server ---\r\n    [INFO] Installing C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.jar\r\n    [INFO] Installing C:\\java_test\\mvn_selfcontained\\pom.xml to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.234 s\r\n    [INFO] Finished at: 2023-10-17T12:21:22+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nWhat I do wrong?\r\n\r\nPOM.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-server&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Jersey Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;2.32&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n                &lt;version&gt;2.32&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Jetty Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n                &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;SelfContainedRestServer&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nSelfContainedRestServer.java\r\n\r\n\r\n\r\n    import org.eclipse.jetty.server.Server;\r\n    import org.eclipse.jetty.servlet.ServletContextHandler;\r\n    import org.eclipse.jetty.servlet.ServletHolder;\r\n    import org.glassfish.jersey.servlet.ServletContainer;\r\n    \r\n    public class SelfContainedRestServer {\r\n        public static void main(String[] args) {\r\n            Server server = new Server(8080); // You can choose any available port\r\n    \r\n            ServletContextHandler context = new ServletContextHandler(ServletContextHandler.NO_SESSIONS);\r\n            context.setContextPath(&quot;/&quot;);\r\n            server.setHandler(context);\r\n    \r\n            ServletHolder jerseyServlet = context.addServlet(ServletContainer.class, &quot;/api/*&quot;);\r\n            jerseyServlet.setInitOrder(0);\r\n            jerseyServlet.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example&quot;);\r\n    \r\n            try {\r\n                server.start();\r\n                server.join();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                server.destroy();\r\n            }\r\n        }\r\n    }","title":"Include source file for maven build","body":"<p>I have class SelfContainedRestServer.java that I need to build with help of maven. I do build  with <code>mvn clean install</code> command.</p>\n<p>I get rest-server-1.0-SNAPSHOT.jar file that does not contains any class files.\nMaven build log show that no source files was included</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------------&lt; com.example:rest-server &gt;-----------------------\n[INFO] Building rest-server 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ rest-server ---\n[INFO] Deleting C:\\java_test\\mvn_selfcontained\\target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rest-server ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ rest-server ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rest-server ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ rest-server ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ rest-server ---\n[INFO] No tests to run.\n[INFO]\n[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ rest-server ---\n[WARNING] JAR will be empty - no content was marked for inclusion!\n[INFO] Building jar: C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar\n[INFO]\n[INFO] --- maven-install-plugin:2.4:install (default-install) @ rest-server ---\n[INFO] Installing C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.jar\n[INFO] Installing C:\\java_test\\mvn_selfcontained\\pom.xml to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.234 s\n[INFO] Finished at: 2023-10-17T12:21:22+03:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>What I do wrong?</p>\n<p>POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Jersey Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;2.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jetty Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;SelfContainedRestServer&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>SelfContainedRestServer.java</p>\n<pre><code>import org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.glassfish.jersey.servlet.ServletContainer;\n\npublic class SelfContainedRestServer {\n    public static void main(String[] args) {\n        Server server = new Server(8080); // You can choose any available port\n\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.NO_SESSIONS);\n        context.setContextPath(&quot;/&quot;);\n        server.setHandler(context);\n\n        ServletHolder jerseyServlet = context.addServlet(ServletContainer.class, &quot;/api/*&quot;);\n        jerseyServlet.setInitOrder(0);\n        jerseyServlet.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example&quot;);\n\n        try {\n            server.start();\n            server.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            server.destroy();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing"],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697535323,"creation_date":1697535323,"answer_id":77307796,"question_id":77287288,"body_markdown":"Make sure you replace slashes with dots\r\n```java\r\n@ExtendWith(MockitoExtension.class) // if you need Mockito annotations\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = MapperConfig.class)\r\npublic class DetailsMapperTest {\r\n    // ...\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;by.afinny.credit.mapper&quot;) // assuming this src package contains the mappers you need, including generated ones\r\npublic class MapperConfig {\r\n}\r\n```","title":"Running a test with a toy Spring context","body":"<p>Make sure you replace slashes with dots</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class) // if you need Mockito annotations\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = MapperConfig.class)\npublic class DetailsMapperTest {\n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = &quot;by.afinny.credit.mapper&quot;) // assuming this src package contains the mappers you need, including generated ones\npublic class MapperConfig {\n}\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307796,"answer_count":1,"score":0,"last_activity_date":1697535323,"creation_date":1697195574,"question_id":77287288,"body_markdown":"How do I make sure my test runs with a specific set of beans so that the test doesn&#39;t even attempt to load the actual context? Suppose I want to test some decorated Mapstruct mapper\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n    // mapping methods\r\n}\r\n```\r\n```java\r\n@Component\r\n@NoArgsConstructor\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n    @Autowired\r\n    private CardMapper delegate;\r\n\r\n    public CardMapperDecorator(CardMapper delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n// decorator logic\r\n}\r\n```\r\nThat test only needs that mapper (and I need it to be injected by Spring, don&#39;t ask), how do I do that? `@TestConfiguration` doesn&#39;t stop Spring from attempting to load the main context, `@TestConfiguration` beans simply have priority to &quot;real beans&quot;. How do I make and pass a context that contains only that mapper (plus some plumbing beans Spring may need)? This is what I want:\r\n```java\r\n// some annotations, I guess, but nothing that will bootstrap the entire context\r\nclass CardMapperTest {\r\n    @Autowired\r\n    CardMapper cardMapper;\r\n    // test logic\r\n}\r\n```\r\nI hoped this would work, but it doesn&#39;t\r\n```java\r\n@SpringBootTest(classes = CardMapperTestConfig.class)\r\nclass CardMapperTest {\r\n```\r\n```java\r\n// in the same test package as CardMapperTest\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;src/main/java/com/example/somepackage/mapper&quot;) // can&#39;t reach to the src directory where my mappers are from the test root\r\npublic class CardMapperTestConfig {\r\n}\r\n```\r\nBesides, it would load every bean from that package which may be acceptable, but not perfect\r\n\r\nI also saw you could give your Spring Boot test a `@TestConfiguration` and use `@SpringBootConfiguration` as a stopper, but it doesn&#39;t seem to be the best solution (more of a fix)","title":"Running a test with a toy Spring context","body":"<p>How do I make sure my test runs with a specific set of beans so that the test doesn't even attempt to load the actual context? Suppose I want to test some decorated Mapstruct mapper</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n    // mapping methods\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@NoArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n    @Autowired\n    private CardMapper delegate;\n\n    public CardMapperDecorator(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n// decorator logic\n}\n</code></pre>\n<p>That test only needs that mapper (and I need it to be injected by Spring, don't ask), how do I do that? <code>@TestConfiguration</code> doesn't stop Spring from attempting to load the main context, <code>@TestConfiguration</code> beans simply have priority to &quot;real beans&quot;. How do I make and pass a context that contains only that mapper (plus some plumbing beans Spring may need)? This is what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some annotations, I guess, but nothing that will bootstrap the entire context\nclass CardMapperTest {\n    @Autowired\n    CardMapper cardMapper;\n    // test logic\n}\n</code></pre>\n<p>I hoped this would work, but it doesn't</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = CardMapperTestConfig.class)\nclass CardMapperTest {\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// in the same test package as CardMapperTest\n@Configuration\n@ComponentScan(basePackages = &quot;src/main/java/com/example/somepackage/mapper&quot;) // can't reach to the src directory where my mappers are from the test root\npublic class CardMapperTestConfig {\n}\n</code></pre>\n<p>Besides, it would load every bean from that package which may be acceptable, but not perfect</p>\n<p>I also saw you could give your Spring Boot test a <code>@TestConfiguration</code> and use <code>@SpringBootConfiguration</code> as a stopper, but it doesn't seem to be the best solution (more of a fix)</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"score":0,"creation_date":1697532536,"post_id":77307225,"comment_id":136288399,"body_markdown":"could you please tell me category.getName() return type ? And please share Category class as well as service method.","body":"could you please tell me category.getName() return type ? And please share Category class as well as service method."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1697532839,"post_id":77307225,"comment_id":136288449,"body_markdown":"@Az.MaYo Sure, I&#39;ve updated the main post.","body":"@Az.MaYo Sure, I&#39;ve updated the main post."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1698576084,"post_id":77307225,"comment_id":136420748,"body_markdown":"*&quot;Note that I compare essentially the very same objects (references are equal),&quot;* **--** No, you don&#39;t. You compare the name of the expected Category being a`String` with  the `Category` object returned by your service. They are not the same object nor equal by their `equals()` method.","body":"<i>&quot;Note that I compare essentially the very same objects (references are equal),&quot;</i> <b>--</b> No, you don&#39;t. You compare the name of the expected Category being a<code>String</code> with  the <code>Category</code> object returned by your service. They are not the same object nor equal by their <code>equals()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697535290,"creation_date":1697535290,"answer_id":77307790,"question_id":77307225,"body_markdown":"I have create simply created Junit and it&#39;s working fine\r\n\r\n    @Test\r\n    void testGetCategoryByName() {\r\n        // Arrange\r\n        String categoryName = &quot;TestCategory&quot;;\r\n        Category expectedCategory = new Category();\r\n        expectedCategory.setName(categoryName);    \r\n        when(categoryRepository.findByName(categoryName)).thenReturn(Optional.of(expectedCategory));\r\n    \r\n        // Act\r\n        Category result = categoryService.get(categoryName);\r\n    \r\n        // Assert\r\n        assertEquals(expectedCategory, result);\r\n    }\r\n\r\n    @Test\r\n        void testGetCategoryByNameException() {\r\n            // Arrange\r\n            String categoryName = &quot;TestCategory&quot;;\r\n            when(categoryRepository.findByName(categoryName)).thenThrow(CustomException.class);\r\n            assertThrows(CustomException.class, () -&gt; categoryService.get(categoryName));\r\n        }","title":"Doubts about assertion in the test with mocks","body":"<p>I have create simply created Junit and it's working fine</p>\n<pre><code>@Test\nvoid testGetCategoryByName() {\n    // Arrange\n    String categoryName = &quot;TestCategory&quot;;\n    Category expectedCategory = new Category();\n    expectedCategory.setName(categoryName);    \n    when(categoryRepository.findByName(categoryName)).thenReturn(Optional.of(expectedCategory));\n\n    // Act\n    Category result = categoryService.get(categoryName);\n\n    // Assert\n    assertEquals(expectedCategory, result);\n}\n\n@Test\n    void testGetCategoryByNameException() {\n        // Arrange\n        String categoryName = &quot;TestCategory&quot;;\n        when(categoryRepository.findByName(categoryName)).thenThrow(CustomException.class);\n        assertThrows(CustomException.class, () -&gt; categoryService.get(categoryName));\n    }\n</code></pre>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697535290,"creation_date":1697530581,"question_id":77307225,"body_markdown":"I have a test which uses a mocking framework (Mockito).\r\n\r\nThe SUT is a simple service class that on `get(String)` should ask repository (mock) to return - if exists - the Category object.\r\n\r\nSince this is a unit test, you&#39;ll notice that I stub the `repository.findByName(String)` method to return an `Optional.of(category)`. I just want to test the service layer.\r\n\r\nHere&#39;s the whole test case:\r\n```\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\r\n        void shouldReturnCategory(Category category) {\r\n            // arrange\r\n            when(repository.findByName(category.getName())).thenReturn(Optional.of(category));\r\n\r\n            // act\r\n            Category actual = SUT.get(category.getName());\r\n\r\n            // assert\r\n            assertThat(actual).isEqualTo(category);\r\n            verify(repository, times(1)).findByName(category.getName());\r\n            verifyNoMoreInteractions(repository);\r\n        }\r\n```\r\nThe part that troubles me is the `assert` part. Note that I compare essentially the very same objects (references are equal), because `actual` is the mocked value from the `when(repository.findByName(category.getName())).thenReturn(Optional.of(category))`. This is bad.\r\n\r\nHow do I fix it in a nice way? I came up with this test case, although this smells a little: the way I create a new String disturbs me somehow.\r\n```\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\r\n        void shouldReturnCategory(Category category) {\r\n            // arrange\r\n            String expectedName = new String(category.getName());\r\n            when(repository.findByName(category)).thenReturn(Optional.of(category)));\r\n\r\n            // act\r\n            Category actual = SUT.get(category.getName());\r\n\r\n            // assert\r\n            PostAssertions.assertThat(actual).isNamed(expectedName);\r\n            verify(repository, times(1)).findByName(category.getName());\r\n            verifyNoMoreInteractions(repository);\r\n        }\r\n```\r\nI&#39;m open to any suggestions.\r\n\r\n**UPDATE:**\r\n* `category.getName()` returns a String\r\n\r\n* The tested service method:\r\n```\r\n    Category get(String categoryName) {\r\n        if(categoryName == null)\r\n            throw new NullPointerException(&quot;Category name was null&quot;);\r\n        return categoryRepository.findByName(categoryName)\r\n                .orElseThrow(CategoryNotFoundException::new);\r\n    }\r\n```\r\n* Category class:\r\n```\r\n@Document(&quot;category&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Category {\r\n\r\n    @Id\r\n    private Long id;\r\n    @Indexed(unique = true)\r\n    private String name;\r\n    private Set&lt;Post&gt; posts = new HashSet&lt;&gt;();\r\n}\r\n```","title":"Doubts about assertion in the test with mocks","body":"<p>I have a test which uses a mocking framework (Mockito).</p>\n<p>The SUT is a simple service class that on <code>get(String)</code> should ask repository (mock) to return - if exists - the Category object.</p>\n<p>Since this is a unit test, you'll notice that I stub the <code>repository.findByName(String)</code> method to return an <code>Optional.of(category)</code>. I just want to test the service layer.</p>\n<p>Here's the whole test case:</p>\n<pre><code>        @ParameterizedTest\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\n        void shouldReturnCategory(Category category) {\n            // arrange\n            when(repository.findByName(category.getName())).thenReturn(Optional.of(category));\n\n            // act\n            Category actual = SUT.get(category.getName());\n\n            // assert\n            assertThat(actual).isEqualTo(category);\n            verify(repository, times(1)).findByName(category.getName());\n            verifyNoMoreInteractions(repository);\n        }\n</code></pre>\n<p>The part that troubles me is the <code>assert</code> part. Note that I compare essentially the very same objects (references are equal), because <code>actual</code> is the mocked value from the <code>when(repository.findByName(category.getName())).thenReturn(Optional.of(category))</code>. This is bad.</p>\n<p>How do I fix it in a nice way? I came up with this test case, although this smells a little: the way I create a new String disturbs me somehow.</p>\n<pre><code>        @ParameterizedTest\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\n        void shouldReturnCategory(Category category) {\n            // arrange\n            String expectedName = new String(category.getName());\n            when(repository.findByName(category)).thenReturn(Optional.of(category)));\n\n            // act\n            Category actual = SUT.get(category.getName());\n\n            // assert\n            PostAssertions.assertThat(actual).isNamed(expectedName);\n            verify(repository, times(1)).findByName(category.getName());\n            verifyNoMoreInteractions(repository);\n        }\n</code></pre>\n<p>I'm open to any suggestions.</p>\n<p><strong>UPDATE:</strong></p>\n<ul>\n<li><p><code>category.getName()</code> returns a String</p>\n</li>\n<li><p>The tested service method:</p>\n</li>\n</ul>\n<pre><code>    Category get(String categoryName) {\n        if(categoryName == null)\n            throw new NullPointerException(&quot;Category name was null&quot;);\n        return categoryRepository.findByName(categoryName)\n                .orElseThrow(CategoryNotFoundException::new);\n    }\n</code></pre>\n<ul>\n<li>Category class:</li>\n</ul>\n<pre><code>@Document(&quot;category&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Category {\n\n    @Id\n    private Long id;\n    @Indexed(unique = true)\n    private String name;\n    private Set&lt;Post&gt; posts = new HashSet&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["javascript","java","dom-events","vaadin","lit"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697533918,"creation_date":1697533918,"answer_id":77307618,"question_id":77307349,"body_markdown":"You can use @EventData annotation in the Jaa constructor of the event for this. See example below:\r\n\r\n    @DomEvent(&quot;tab-changed&quot;)\r\n    public static class TabChangedEvent&lt;R extends TabSheet&gt;\r\n            extends ComponentEvent&lt;TabSheet&gt; {\r\n    ...\r\n\r\n        public TabChangedEvent(TabSheet source, boolean fromClient,\r\n                @EventData(&quot;event.detail&quot;) JsonObject details) {\r\n            super(source, fromClient);\r\n            this.index = (int) details.getNumber(&quot;index&quot;);\r\n            this.previousIndex = (int) details.getNumber(&quot;previousIndex&quot;);\r\n            this.previousTab = details.getString(&quot;previousTab&quot;);\r\n            this.tab = details.getString(&quot;tab&quot;);\r\n            this.caption = details.getString(&quot;caption&quot;);\r\n            this.source = source;\r\n        }\r\n\r\nThe full code is here https://github.com/TatuLund/TabSheet/blob/master/src/main/java/org/vaadin/addons/tatu/TabSheet.java#L385 and there is a longer story in [Vaadin Blog][1] about this.\r\n\r\n\r\n  [1]: https://vaadin.com/blog/creating-a-custom-component-with-lit","title":"Pass data via CustomEvent from JS to Java","body":"<p>You can use @EventData annotation in the Jaa constructor of the event for this. See example below:</p>\n<pre><code>@DomEvent(&quot;tab-changed&quot;)\npublic static class TabChangedEvent&lt;R extends TabSheet&gt;\n        extends ComponentEvent&lt;TabSheet&gt; {\n...\n\n    public TabChangedEvent(TabSheet source, boolean fromClient,\n            @EventData(&quot;event.detail&quot;) JsonObject details) {\n        super(source, fromClient);\n        this.index = (int) details.getNumber(&quot;index&quot;);\n        this.previousIndex = (int) details.getNumber(&quot;previousIndex&quot;);\n        this.previousTab = details.getString(&quot;previousTab&quot;);\n        this.tab = details.getString(&quot;tab&quot;);\n        this.caption = details.getString(&quot;caption&quot;);\n        this.source = source;\n    }\n</code></pre>\n<p>The full code is here <a href=\"https://github.com/TatuLund/TabSheet/blob/master/src/main/java/org/vaadin/addons/tatu/TabSheet.java#L385\" rel=\"nofollow noreferrer\">https://github.com/TatuLund/TabSheet/blob/master/src/main/java/org/vaadin/addons/tatu/TabSheet.java#L385</a> and there is a longer story in <a href=\"https://vaadin.com/blog/creating-a-custom-component-with-lit\" rel=\"nofollow noreferrer\">Vaadin Blog</a> about this.</p>\n"},{"tags":[],"owner":{"account_id":2515523,"reputation":1914,"user_id":2187063,"display_name":"mstahv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697534405,"creation_date":1697534405,"answer_id":77307680,"question_id":77307349,"body_markdown":"Vaadin does not submit all properties of the event by default, you need to give it a hint. For example I&#39;m doing this in my [recent React example](https://github.com/parttio/colorful/blob/v24/src/main/java/org/vaadin/addons/parttio/colorful/HexColorPicker.java#L25):\r\n\r\n\r\n        getElement().addEventListener(&quot;color-change&quot;, e -&gt; {\r\n                    var newValue = e.getEventData().getString(&quot;event.hex&quot;);\r\n                    setModelValue(newValue, true);\r\n                })\r\n                .addEventData(&quot;event.hex&quot;)\r\n\r\n\r\nIn your case that could be:\r\n\r\n    .addEventData(&quot;event.detail&quot;)\r\n\r\nAnd then accessing that boolean:\r\n\r\n    e.getEventData().getBoolean(&quot;event.detail&quot;)\r\n\r\nAlternatively, you can create a custom event and declare the transferred details with annotations, as described in other answer, but that requires quite a lot more code.","title":"Pass data via CustomEvent from JS to Java","body":"<p>Vaadin does not submit all properties of the event by default, you need to give it a hint. For example I'm doing this in my <a href=\"https://github.com/parttio/colorful/blob/v24/src/main/java/org/vaadin/addons/parttio/colorful/HexColorPicker.java#L25\" rel=\"nofollow noreferrer\">recent React example</a>:</p>\n<pre><code>    getElement().addEventListener(&quot;color-change&quot;, e -&gt; {\n                var newValue = e.getEventData().getString(&quot;event.hex&quot;);\n                setModelValue(newValue, true);\n            })\n            .addEventData(&quot;event.hex&quot;)\n</code></pre>\n<p>In your case that could be:</p>\n<pre><code>.addEventData(&quot;event.detail&quot;)\n</code></pre>\n<p>And then accessing that boolean:</p>\n<pre><code>e.getEventData().getBoolean(&quot;event.detail&quot;)\n</code></pre>\n<p>Alternatively, you can create a custom event and declare the transferred details with annotations, as described in other answer, but that requires quite a lot more code.</p>\n"},{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697535248,"creation_date":1697535248,"answer_id":77307782,"question_id":77307349,"body_markdown":"The following Java code will solve the issue :\r\n\r\n    getElement().addEventListener(&quot;change&quot;, e -&gt; {\r\n        JsonObject eventData = e.getEventData().getJsonObject(&quot;event.detail&quot;);\r\n        // Access specific properties from the eventData object\r\n        String breakLines = eventData.getString(&quot;breakLines&quot;);\r\n        System.out.println(&quot;change value: &quot; + breakLines);\r\n    });\r\n\r\nThe json object received from a JS lit component is obtained in this code using the `eventData.getJsonObject(&quot;event.detail&quot;)` method. Then, if breakLines is a property of the event.detail object in your custom event, you may get particular attributes from the eventData object using `eventData.getString(&quot;breakLines&quot;)`.","title":"Pass data via CustomEvent from JS to Java","body":"<p>The following Java code will solve the issue :</p>\n<pre><code>getElement().addEventListener(&quot;change&quot;, e -&gt; {\n    JsonObject eventData = e.getEventData().getJsonObject(&quot;event.detail&quot;);\n    // Access specific properties from the eventData object\n    String breakLines = eventData.getString(&quot;breakLines&quot;);\n    System.out.println(&quot;change value: &quot; + breakLines);\n});\n</code></pre>\n<p>The json object received from a JS lit component is obtained in this code using the <code>eventData.getJsonObject(&quot;event.detail&quot;)</code> method. Then, if breakLines is a property of the event.detail object in your custom event, you may get particular attributes from the eventData object using <code>eventData.getString(&quot;breakLines&quot;)</code>.</p>\n"}],"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307680,"answer_count":3,"score":0,"last_activity_date":1697535248,"creation_date":1697531670,"question_id":77307349,"body_markdown":"I have a Vaadin project\r\n\r\nI&#39;m dispatching a `CustomEvent` from a JS lit component.\r\n\r\nI&#39;m listening to it from a Java class and I correctly receive the events emitted.\r\n\r\nThe following is my JS code:\r\n\r\n````javascript\r\nthis.dispatchEvent(new CustomEvent(&#39;change&#39;, {detail: this.breakLines, bubbles: true, composed: true}));\r\n````\r\n\r\nAnd the following is my Java listener:\r\n\r\n````java\r\ngetElement().addEventListener(&quot;change&quot;, e -&gt; {\r\n    System.out.println(&quot;change value: &quot; + e.getEventData());\r\n});\r\n````\r\n\r\nCurrently my Java code outputs an empty object `{}`\r\n\r\nHow can I extract the data that resides in `&quot;detail&quot;`?\r\n","title":"Pass data via CustomEvent from JS to Java","body":"<p>I have a Vaadin project</p>\n<p>I'm dispatching a <code>CustomEvent</code> from a JS lit component.</p>\n<p>I'm listening to it from a Java class and I correctly receive the events emitted.</p>\n<p>The following is my JS code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.dispatchEvent(new CustomEvent('change', {detail: this.breakLines, bubbles: true, composed: true}));\n</code></pre>\n<p>And the following is my Java listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getElement().addEventListener(&quot;change&quot;, e -&gt; {\n    System.out.println(&quot;change value: &quot; + e.getEventData());\n});\n</code></pre>\n<p>Currently my Java code outputs an empty object <code>{}</code></p>\n<p>How can I extract the data that resides in <code>&quot;detail&quot;</code>?</p>\n"},{"tags":["java","android","firebase-authentication","interceptor"],"comments":[{"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"score":0,"creation_date":1698360543,"post_id":77307774,"comment_id":136399266,"body_markdown":"For posterity: this is discussed in more detail a grpc-java [issue](https://github.com/grpc/grpc-java/issues/10608).","body":"For posterity: this is discussed in more detail a grpc-java <a href=\"https://github.com/grpc/grpc-java/issues/10608\" rel=\"nofollow noreferrer\">issue</a>."}],"owner":{"account_id":3499009,"reputation":97,"user_id":2926237,"display_name":"Carlos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697535183,"creation_date":1697535183,"question_id":77307774,"body_markdown":"I am usign GRPC service and I am trying to extends ClientInterceptor to append some headers and ask to Firebase to give me a IdToken but I don&#39;t understand how can do it because `task.getResult()` go to in exception `java.lang.IllegalStateException: Task is not yet complete`\r\n\r\nI have tried also with a sync mode\r\n`GetTokenResult tokenResult = Tasks.await(task, 20, TimeUnit.SECONDS);`\r\nbut nothing, exception `java.lang.IllegalStateException: Must not be called on the main application thread`\r\n\r\n```\r\npublic class CustomHeaderInterceptor implements ClientInterceptor {\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; method, CallOptions callOptions, Channel next) {\r\n        return new ForwardingClientCall.SimpleForwardingClientCall&lt;ReqT, RespT&gt;(next.newCall(method, callOptions)) {\r\n            @Override\r\n            public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\r\n                headers.put(Metadata.Key.of(&quot;X-XXX&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;test_test&quot;);\r\n\r\n                try {\r\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                    if (user == null) {\r\n                        throw new Exception(&quot;User is not logged in.&quot;);\r\n                    } else {\r\n                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\r\n                        GetTokenResult tokenResult = task.getResult();\r\n\r\n                        String idToken = tokenResult.getToken();\r\n                        headers.put(Metadata.Key.of(&quot;Authorization&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;Bearer &quot; + idToken);\r\n\r\n                        super.start(responseListener, headers);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Log.d(this.getClass().getName(), new Gson().toJson(e));\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI have tried also `CompletableFuture`\r\n```\r\n                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\r\n                        CompletableFuture&lt;String&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n                        task.addOnCompleteListener(new OnCompleteListener&lt;&gt;() {\r\n                           @Override\r\n                            public void onComplete(Task&lt;GetTokenResult&gt; task1) {\r\n                                GetTokenResult tokenResult = task1.getResult();\r\n                                String idToken = tokenResult.getToken();\r\n                                completableFuture.complete(idToken);\r\n                           }\r\n                        });\r\n                        String idToken = completableFuture.get();\r\n```\r\nbut the code stop on `completableFuture.get()`\r\n\r\nHow can I do to ask and append on each call the firebase token?","title":"ClientInterceptor and Firebase IdToken","body":"<p>I am usign GRPC service and I am trying to extends ClientInterceptor to append some headers and ask to Firebase to give me a IdToken but I don't understand how can do it because <code>task.getResult()</code> go to in exception <code>java.lang.IllegalStateException: Task is not yet complete</code></p>\n<p>I have tried also with a sync mode\n<code>GetTokenResult tokenResult = Tasks.await(task, 20, TimeUnit.SECONDS);</code>\nbut nothing, exception <code>java.lang.IllegalStateException: Must not be called on the main application thread</code></p>\n<pre><code>public class CustomHeaderInterceptor implements ClientInterceptor {\n    @Override\n    public &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; method, CallOptions callOptions, Channel next) {\n        return new ForwardingClientCall.SimpleForwardingClientCall&lt;ReqT, RespT&gt;(next.newCall(method, callOptions)) {\n            @Override\n            public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\n                headers.put(Metadata.Key.of(&quot;X-XXX&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;test_test&quot;);\n\n                try {\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                    if (user == null) {\n                        throw new Exception(&quot;User is not logged in.&quot;);\n                    } else {\n                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\n                        GetTokenResult tokenResult = task.getResult();\n\n                        String idToken = tokenResult.getToken();\n                        headers.put(Metadata.Key.of(&quot;Authorization&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;Bearer &quot; + idToken);\n\n                        super.start(responseListener, headers);\n                    }\n                } catch (Exception e) {\n                    Log.d(this.getClass().getName(), new Gson().toJson(e));\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>I have tried also <code>CompletableFuture</code></p>\n<pre><code>                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\n                        CompletableFuture&lt;String&gt; completableFuture = new CompletableFuture&lt;&gt;();\n                        task.addOnCompleteListener(new OnCompleteListener&lt;&gt;() {\n                           @Override\n                            public void onComplete(Task&lt;GetTokenResult&gt; task1) {\n                                GetTokenResult tokenResult = task1.getResult();\n                                String idToken = tokenResult.getToken();\n                                completableFuture.complete(idToken);\n                           }\n                        });\n                        String idToken = completableFuture.get();\n</code></pre>\n<p>but the code stop on <code>completableFuture.get()</code></p>\n<p>How can I do to ask and append on each call the firebase token?</p>\n"},{"tags":["java","android","sockets","stream","webrtc"],"comments":[{"owner":{"account_id":9069128,"reputation":1018,"user_id":6752997,"display_name":"Jakub Licznerski"},"score":0,"creation_date":1634570085,"post_id":65487331,"comment_id":123054365,"body_markdown":"were you able to resolve the issue ?","body":"were you able to resolve the issue ?"}],"answers":[{"tags":[],"owner":{"account_id":11491104,"reputation":107,"user_id":8422052,"display_name":"Albert Aleksieiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697534971,"creation_date":1697534971,"answer_id":77307757,"question_id":65487331,"body_markdown":"Finally, I found a solution how to properly close and reopen the connection without crashing :) I use https://github.com/GetStream/webrtc-in-jetpack-compose/tree/main/webrtc-android as a good starting point with much logic that is already implemented here(like audio).\r\n\r\n### Close\r\n\r\n```\r\nlocalAudioTrack.setEnabled(false)\r\nlocalVideoTrack.setEnabled(false)\r\n\r\naudioHandler.stop() // See https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/audio/AudioHandler.kt#L69\r\nvideoCapturer.stopCapture()\r\n\r\nremoteVideoTrackFlow.replayCache.forEach { it.setEnabled(false) } // Disable remote videoTrack\r\n\r\npeerConnection.onTrack(null)\r\npeerConnection.onRemoveTrack(null)\r\npeerConnection.onIceCandidate(null)\r\npeerConnection.onIceConnectionChange(null)\r\npeerConnection.onSignalingChange(null)\r\n// And finally close connection\r\npeerConnection.close()\r\n```\r\n\r\nAnd the most important part **you dont neet to close/dispose `PeerConnectionFactory`, because it leads to crash in my case.**\r\n\r\n\r\n### Open\r\nJust recreate a `peerConnectionFactory.makePeerConnection` new peer connection. In my case I just recreate `WebRtcSessionManagerImpl` from the lib above(https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/sessions/WebRtcSessionManagerImpl.kt)\r\n\r\n# &#128640; Good luck &#128640;","title":"How to properly close Android WebRTC connection?","body":"<p>Finally, I found a solution how to properly close and reopen the connection without crashing :) I use <a href=\"https://github.com/GetStream/webrtc-in-jetpack-compose/tree/main/webrtc-android\" rel=\"nofollow noreferrer\">https://github.com/GetStream/webrtc-in-jetpack-compose/tree/main/webrtc-android</a> as a good starting point with much logic that is already implemented here(like audio).</p>\n<h3>Close</h3>\n<pre><code>localAudioTrack.setEnabled(false)\nlocalVideoTrack.setEnabled(false)\n\naudioHandler.stop() // See https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/audio/AudioHandler.kt#L69\nvideoCapturer.stopCapture()\n\nremoteVideoTrackFlow.replayCache.forEach { it.setEnabled(false) } // Disable remote videoTrack\n\npeerConnection.onTrack(null)\npeerConnection.onRemoveTrack(null)\npeerConnection.onIceCandidate(null)\npeerConnection.onIceConnectionChange(null)\npeerConnection.onSignalingChange(null)\n// And finally close connection\npeerConnection.close()\n</code></pre>\n<p>And the most important part <strong>you dont neet to close/dispose <code>PeerConnectionFactory</code>, because it leads to crash in my case.</strong></p>\n<h3>Open</h3>\n<p>Just recreate a <code>peerConnectionFactory.makePeerConnection</code> new peer connection. In my case I just recreate <code>WebRtcSessionManagerImpl</code> from the lib above(<a href=\"https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/sessions/WebRtcSessionManagerImpl.kt\" rel=\"nofollow noreferrer\">https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/sessions/WebRtcSessionManagerImpl.kt</a>)</p>\n<h1>🚀 Good luck 🚀</h1>\n"}],"owner":{"account_id":13771239,"reputation":618,"user_id":9938652,"display_name":"Ali Has"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697534971,"creation_date":1609216558,"question_id":65487331,"body_markdown":"I am using WebRTC Library in a service and an activity. In &quot;onDestroy&quot; of both components, I am trying to fully disconnect so that with the service/activity running again, the device can join room with the same procedure.\r\n\r\nFirstly, I have tried these old code snippet [here][1] Combined with [here][2]:\r\n\r\n\r\n    public void onDestroy() {\r\n        for (Peer peer : peers.values()) {\r\n            peer.pc.dispose();\r\n        }\r\n        videoSource.dispose();\r\n        factory.dispose();\r\n        client.off();&lt;---- You need to turn OFF and then disconnect  and then close it.\r\n        client.disconnect();\r\n        client.close();\r\n    }\r\n\r\nBut the activity/service crashes with this error (There was no leaking in my code):\r\n\r\n    Channel is unrecoverably broken and will be disposed!\r\n\r\nThen I learned that disposing connections and factory makes up for this error. So I just set them to null. The onDestroy callback turned out to be like this:\r\n\r\n    if(videoTrackFromCamera != null) videoTrackFromCamera.dispose();\r\n        //if(rootEglBase != null) rootEglBase.release(); //Causes Crash:: # Fatal error in ../../webrtc/sdk/android/src/jni/peerconnection_jni.cc, line 1031\r\n        //    # last system error: 0\r\n        //    # Check failed: 0 == (reinterpret_cast&lt;MediaStreamInterface*&gt;(j_p))-&gt;Release() (0 vs. 2)\r\n        //    # Unexpected refcount.\r\n        if(audioSource != null) audioSource.dispose();\r\n        if(localAudioTrack != null) localAudioTrack.dispose();\r\n\r\n        if(localMediaStream != null) localMediaStream.dispose();\r\n        if(mRemoteMediaStream != null) mRemoteMediaStream.dispose();\r\n        audioConstraints = null;\r\n\r\n        if (factory != null) {\r\n            factory.stopAecDump();\r\n        }\r\n        if (peerConnection != null) {\r\n            //peerConnection.dispose();\r\n            //peerConnection.close();\r\n            peerConnection = null;\r\n        }\r\n        if (factory != null) {\r\n            //factory.dispose(); //causes error  Channel is unrecoverably broken and will be disposed\r\n            factory = null;\r\n        }\r\n        if (socket != null) {\r\n            sendMessage(&quot;finished&quot;);\r\n            socket.disconnect();\r\n            socket.close();\r\n        }\r\n\r\nNow everything is fine except that only sometimes I get a crash with this error:\r\n\r\n    Channel {0} was not shutdown properly!!! ~*~*~*\r\n            Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.\r\n        java.lang.RuntimeException: ManagedChannel allocation site\r\n\r\nIs there a better way to end WebRTC connection?\r\nIf I want to stay in the room but stop sending and or receiving streams, what is the optimal way?\r\n\r\n  [1]: https://stackoverflow.com/questions/29566419/android-webrtc-crashes\r\n  [2]: https://stackoverflow.com/questions/49130567/fatal-signal6-during-disposing-peerconnection-webrtc","title":"How to properly close Android WebRTC connection?","body":"<p>I am using WebRTC Library in a service and an activity. In &quot;onDestroy&quot; of both components, I am trying to fully disconnect so that with the service/activity running again, the device can join room with the same procedure.</p>\n<p>Firstly, I have tried these old code snippet <a href=\"https://stackoverflow.com/questions/29566419/android-webrtc-crashes\">here</a> Combined with <a href=\"https://stackoverflow.com/questions/49130567/fatal-signal6-during-disposing-peerconnection-webrtc\">here</a>:</p>\n<pre><code>public void onDestroy() {\n    for (Peer peer : peers.values()) {\n        peer.pc.dispose();\n    }\n    videoSource.dispose();\n    factory.dispose();\n    client.off();&lt;---- You need to turn OFF and then disconnect  and then close it.\n    client.disconnect();\n    client.close();\n}\n</code></pre>\n<p>But the activity/service crashes with this error (There was no leaking in my code):</p>\n<pre><code>Channel is unrecoverably broken and will be disposed!\n</code></pre>\n<p>Then I learned that disposing connections and factory makes up for this error. So I just set them to null. The onDestroy callback turned out to be like this:</p>\n<pre><code>if(videoTrackFromCamera != null) videoTrackFromCamera.dispose();\n    //if(rootEglBase != null) rootEglBase.release(); //Causes Crash:: # Fatal error in ../../webrtc/sdk/android/src/jni/peerconnection_jni.cc, line 1031\n    //    # last system error: 0\n    //    # Check failed: 0 == (reinterpret_cast&lt;MediaStreamInterface*&gt;(j_p))-&gt;Release() (0 vs. 2)\n    //    # Unexpected refcount.\n    if(audioSource != null) audioSource.dispose();\n    if(localAudioTrack != null) localAudioTrack.dispose();\n\n    if(localMediaStream != null) localMediaStream.dispose();\n    if(mRemoteMediaStream != null) mRemoteMediaStream.dispose();\n    audioConstraints = null;\n\n    if (factory != null) {\n        factory.stopAecDump();\n    }\n    if (peerConnection != null) {\n        //peerConnection.dispose();\n        //peerConnection.close();\n        peerConnection = null;\n    }\n    if (factory != null) {\n        //factory.dispose(); //causes error  Channel is unrecoverably broken and will be disposed\n        factory = null;\n    }\n    if (socket != null) {\n        sendMessage(&quot;finished&quot;);\n        socket.disconnect();\n        socket.close();\n    }\n</code></pre>\n<p>Now everything is fine except that only sometimes I get a crash with this error:</p>\n<pre><code>Channel {0} was not shutdown properly!!! ~*~*~*\n        Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.\n    java.lang.RuntimeException: ManagedChannel allocation site\n</code></pre>\n<p>Is there a better way to end WebRTC connection?\nIf I want to stay in the room but stop sending and or receiving streams, what is the optimal way?</p>\n"},{"tags":["java","tcp"],"answers":[{"tags":[],"owner":{"account_id":13438824,"reputation":84,"user_id":9696551,"display_name":"vcaraccio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697534905,"creation_date":1697534905,"answer_id":77307748,"question_id":77300719,"body_markdown":"After doing additional tests, the way to solve this is to open two connections: one to receive data and one to send data. TCP connection is full duplex but it depends on the underlying transport stack.","title":"Slow TCP connection between local server/client","body":"<p>After doing additional tests, the way to solve this is to open two connections: one to receive data and one to send data. TCP connection is full duplex but it depends on the underlying transport stack.</p>\n"}],"owner":{"account_id":13438824,"reputation":84,"user_id":9696551,"display_name":"vcaraccio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697534905,"creation_date":1697447438,"question_id":77300719,"body_markdown":"I&#39;m trying to understand why I have latency spikes between a client and a server in a very simple setup. Below the code for both the client and the server:\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class TCPServer {\r\n    public static void main(String[] args) {\r\n        try {\r\n            ServerSocket serverSocket = new ServerSocket(12345); // Server socket is listening on port 12345\r\n            System.out.println(&quot;Server started. Waiting for a client...&quot;);\r\n\r\n            Socket clientSocket = serverSocket.accept(); // Server accepts the client connection\r\n            System.out.println(&quot;Client connected.&quot;);\r\n            clientSocket.setTcpNoDelay(true);\r\n            clientSocket.setSendBufferSize(16 * 1024);\r\n\r\n            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\r\n            // Thread for receiving messages from the client\r\n            Thread receiveThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Receiving timestamp from the client\r\n                        String clientMessage = in.readLine();\r\n                        long clientTimestamp = Long.parseLong(clientMessage);\r\n                        long timeDifference = System.currentTimeMillis() - clientTimestamp;\r\n                        if (timeDifference &gt; 1) {\r\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            receiveThread.start();\r\n\r\n            // Thread for sending messages to the client\r\n            Thread sendThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Sending current server timestamp to the client\r\n                        long serverTimestamp = System.currentTimeMillis();\r\n                        out.println(serverTimestamp);\r\n//                        out.flush();\r\n                        Thread.sleep(2);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            sendThread.start();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the client\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\n\r\npublic class TCPClient {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Socket socket = new Socket(&quot;localhost&quot;, 12345); // Connect to the server on localhost:12345\r\n            socket.setTcpNoDelay(true);\r\n            socket.setSendBufferSize(16 * 1024);\r\n\r\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n            // Thread for receiving messages from the server\r\n            Thread receiveThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Receiving timestamp from the server\r\n                        String serverResponse = in.readLine();\r\n                        long serverTimestamp = Long.parseLong(serverResponse);\r\n                        long timeDifference = System.currentTimeMillis() - serverTimestamp;\r\n\r\n                        if (timeDifference &gt; 1) {\r\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            receiveThread.start();\r\n\r\n            // Thread for sending messages to the server\r\n            Thread sendThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Sending current client timestamp to the server\r\n                        long clientTimestamp = System.currentTimeMillis();\r\n                        out.println(clientTimestamp);\r\n//                        out.flush();\r\n                        Thread.sleep(2);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            sendThread.start();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to manually flush after each send but it doesn&#39;t improve anything.\r\nI don&#39;t think that I should have spikes (2ms up to 10ms on the same machine - t3.large instance on AWS - 2vCPU/8GB RAM).\r\n\r\nAm I missing something?","title":"Slow TCP connection between local server/client","body":"<p>I'm trying to understand why I have latency spikes between a client and a server in a very simple setup. Below the code for both the client and the server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class TCPServer {\n    public static void main(String[] args) {\n        try {\n            ServerSocket serverSocket = new ServerSocket(12345); // Server socket is listening on port 12345\n            System.out.println(&quot;Server started. Waiting for a client...&quot;);\n\n            Socket clientSocket = serverSocket.accept(); // Server accepts the client connection\n            System.out.println(&quot;Client connected.&quot;);\n            clientSocket.setTcpNoDelay(true);\n            clientSocket.setSendBufferSize(16 * 1024);\n\n            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n            // Thread for receiving messages from the client\n            Thread receiveThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Receiving timestamp from the client\n                        String clientMessage = in.readLine();\n                        long clientTimestamp = Long.parseLong(clientMessage);\n                        long timeDifference = System.currentTimeMillis() - clientTimestamp;\n                        if (timeDifference &gt; 1) {\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n            receiveThread.start();\n\n            // Thread for sending messages to the client\n            Thread sendThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Sending current server timestamp to the client\n                        long serverTimestamp = System.currentTimeMillis();\n                        out.println(serverTimestamp);\n//                        out.flush();\n                        Thread.sleep(2);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            });\n            sendThread.start();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And the client</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\npublic class TCPClient {\n    public static void main(String[] args) {\n        try {\n            Socket socket = new Socket(&quot;localhost&quot;, 12345); // Connect to the server on localhost:12345\n            socket.setTcpNoDelay(true);\n            socket.setSendBufferSize(16 * 1024);\n\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n            // Thread for receiving messages from the server\n            Thread receiveThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Receiving timestamp from the server\n                        String serverResponse = in.readLine();\n                        long serverTimestamp = Long.parseLong(serverResponse);\n                        long timeDifference = System.currentTimeMillis() - serverTimestamp;\n\n                        if (timeDifference &gt; 1) {\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n            receiveThread.start();\n\n            // Thread for sending messages to the server\n            Thread sendThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Sending current client timestamp to the server\n                        long clientTimestamp = System.currentTimeMillis();\n                        out.println(clientTimestamp);\n//                        out.flush();\n                        Thread.sleep(2);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            });\n            sendThread.start();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I tried to manually flush after each send but it doesn't improve anything.\nI don't think that I should have spikes (2ms up to 10ms on the same machine - t3.large instance on AWS - 2vCPU/8GB RAM).</p>\n<p>Am I missing something?</p>\n"},{"tags":["java","micronaut","micronaut-client","micronaut-rest"],"comments":[{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1620517183,"post_id":65747492,"comment_id":119224731,"body_markdown":"why not create an exception handler specifically for `io.micronaut.core.serialize.exceptions.SerializationException`","body":"why not create an exception handler specifically for <code>io.micronaut.core.serialize.exceptions.SerializationExceptio&zwnj;&#8203;n</code>"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1620517262,"post_id":65747492,"comment_id":119224743,"body_markdown":"I tried creating a handler for `Exception` but it didn&#39;t work, so I instead did `class ConversionErrorHandler : ExceptionHandler&lt;ConversionErrorException, HttpResponse&lt;*&gt;` and it worked fine","body":"I tried creating a handler for <code>Exception</code> but it didn&#39;t work, so I instead did <code>class ConversionErrorHandler : ExceptionHandler&lt;ConversionErrorException, HttpResponse&lt;*&gt;</code> and it worked fine"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":1,"creation_date":1620517317,"post_id":65747492,"comment_id":119224752,"body_markdown":"Also, you should try annotating your class with `import io.micronaut.context.annotation.Primary` so it favours your exception handler over others.","body":"Also, you should try annotating your class with <code>import io.micronaut.context.annotation.Primary</code> so it favours your exception handler over others."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1620572391,"post_id":65747492,"comment_id":119234993,"body_markdown":"@Archmede can you please post answer","body":"@Archmede can you please post answer"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1620603932,"post_id":65747492,"comment_id":119242282,"body_markdown":"Check my answer here https://stackoverflow.com/questions/56676486/constraintviolationexception-handler-isnt-executed-in-micronaut/67453167#67453167","body":"Check my answer here <a href=\"https://stackoverflow.com/questions/56676486/constraintviolationexception-handler-isnt-executed-in-micronaut/67453167#67453167\" title=\"constraintviolationexception handler isnt executed in micronaut\">stackoverflow.com/questions/56676486/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626099689,"creation_date":1626099689,"answer_id":68349013,"question_id":65747492,"body_markdown":"When an exception occurs on the server an `ExceptionHandler` is looked up in the bean context that most closely matches the thrown exception (by the type arguments of the handler). To handle all exceptions it would be required to replace all provided exception handlers. There are around a dozen or so of them. \r\n\r\nOne option is to replace the default error response processor. That is what is responsible for the body being HATEOS for example. See the [documentation][1] on error handling for the specifics. \r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/guide/#errorHandling","title":"Global exception handling in micronaut Java","body":"<p>When an exception occurs on the server an <code>ExceptionHandler</code> is looked up in the bean context that most closely matches the thrown exception (by the type arguments of the handler). To handle all exceptions it would be required to replace all provided exception handlers. There are around a dozen or so of them.</p>\n<p>One option is to replace the default error response processor. That is what is responsible for the body being HATEOS for example. See the <a href=\"https://docs.micronaut.io/latest/guide/#errorHandling\" rel=\"nofollow noreferrer\">documentation</a> on error handling for the specifics.</p>\n"},{"tags":[],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630074549,"creation_date":1626198945,"answer_id":68367295,"question_id":65747492,"body_markdown":"This solution works for me\r\n\r\n    @Produces\r\n    @Singleton\r\n    @Requires(classes = {GlobalException.class, ExceptionHandler.class})\r\n    public class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\r\n        private static final Logger LOG = LoggerFactory.getLogger(GlobalExceptionHandler.class);\r\n    \r\n        @Override\r\n        public HttpResponse handle(HttpRequest request, GlobalException exception) {\r\n            LOG.error(exception.getLocalizedMessage());\r\n            LOG.error(exception.getCause().getMessage());\r\n            Arrays.stream(exception.getStackTrace()).forEach(item -&gt;  LOG.error(item.toString()));\r\n            return HttpResponse.serverError(exception.getLocalizedMessage());\r\n        }\r\n    }\r\n\r\n    public class GlobalException extends RuntimeException{\r\n        public GlobalException(Throwable throwable){super(throwable);}\r\n    }\r\n\r\n**Controller** \r\n\r\n      public Maybe&lt;FindProductCommand&gt; get(ProductSearchCriteriaCommand searchCriteria) {\r\n            LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\r\n            return iProductManager.find(searchCriteria)\r\n                    .onErrorResumeNext(throwable -&gt;  { return Maybe.error(new GlobalException(throwable));});\r\n        }\r\n\r\nUpdate with Micronaut 3 and project reactor\r\n\r\n    @Override\r\n    @SingleResult\r\n    public Flux&lt;List&lt;FindProductCommand&gt;&gt; freeTextSearch(String text) {\r\n        LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\r\n        return iProductManager.findFreeText(text)\r\n                .onErrorMap(throwable -&gt; {\r\n                    throw new GlobalException(throwable);\r\n                });\r\n    }","title":"Global exception handling in micronaut Java","body":"<p>This solution works for me</p>\n<pre><code>@Produces\n@Singleton\n@Requires(classes = {GlobalException.class, ExceptionHandler.class})\npublic class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\n    private static final Logger LOG = LoggerFactory.getLogger(GlobalExceptionHandler.class);\n\n    @Override\n    public HttpResponse handle(HttpRequest request, GlobalException exception) {\n        LOG.error(exception.getLocalizedMessage());\n        LOG.error(exception.getCause().getMessage());\n        Arrays.stream(exception.getStackTrace()).forEach(item -&gt;  LOG.error(item.toString()));\n        return HttpResponse.serverError(exception.getLocalizedMessage());\n    }\n}\n\npublic class GlobalException extends RuntimeException{\n    public GlobalException(Throwable throwable){super(throwable);}\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>  public Maybe&lt;FindProductCommand&gt; get(ProductSearchCriteriaCommand searchCriteria) {\n        LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\n        return iProductManager.find(searchCriteria)\n                .onErrorResumeNext(throwable -&gt;  { return Maybe.error(new GlobalException(throwable));});\n    }\n</code></pre>\n<p>Update with Micronaut 3 and project reactor</p>\n<pre><code>@Override\n@SingleResult\npublic Flux&lt;List&lt;FindProductCommand&gt;&gt; freeTextSearch(String text) {\n    LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\n    return iProductManager.findFreeText(text)\n            .onErrorMap(throwable -&gt; {\n                throw new GlobalException(throwable);\n            });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635585722,"creation_date":1635585408,"answer_id":69778271,"question_id":65747492,"body_markdown":"We can use `import io.micronaut.http.server.exceptions.ExceptionHandler`\r\nfor global error handling.\r\n\r\n\r\n**Create an Error Message:**\r\n\r\n    public class ErrorMessage {\r\n    \r\n        private String message;\r\n        private Boolean status;\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public Boolean getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(Boolean status) {\r\n            this.status = status;\r\n        }\r\n    \r\n    }\r\n\r\n**Create the Custom Exception:**\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public class CustomException extends RuntimeException \r\n        implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public CustomException() {\r\n        }\r\n    \r\n        public CustomException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public CustomException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    \r\n        public CustomException(Throwable cause) {\r\n            super(cause);\r\n        }\r\n    \r\n        public CustomException(String message, Throwable cause, \r\n        boolean enableSuppression, boolean writableStackTrace) {\r\n            super(message, cause, enableSuppression, writableStackTrace);\r\n        }\r\n    }\r\n\r\n\r\n**Create the Custom Exception Handler:**\r\n\r\n       \r\n    import io.micronaut.context.annotation.Requires;\r\n    import io.micronaut.http.HttpRequest;\r\n    import io.micronaut.http.HttpResponse;\r\n    import io.micronaut.http.HttpStatus;\r\n    import io.micronaut.http.annotation.Produces;\r\n    import io.micronaut.http.server.exceptions.ExceptionHandler;\r\n    import jakarta.inject.Singleton;\r\n    \r\n    @Produces\r\n    @Singleton\r\n    @Requires(classes = { CustomException.class, ExceptionHandler.class })\r\n    \r\n    public class CustomExceptionHandler \r\n        implements ExceptionHandler&lt;CustomException, HttpResponse&lt;ErrorMessage&gt;&gt; {\r\n    \r\n        @Override\r\n        public HttpResponse&lt;ErrorMessage&gt; \r\n            handle(HttpRequest request, CustomException exception) {\r\n    \r\n            ErrorMessage message = new ErrorMessage();\r\n            message.setMessage(exception.getMessage());\r\n            message.setStatus(false);\r\n            return HttpResponse.serverError(message).\r\n                    status(HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n    }\r\n\r\n**Demo Controller:**\r\n\r\n    import com.knf.dev.demo.data.UserData;\r\n    import com.knf.dev.demo.exception.CustomException;\r\n    import com.knf.dev.demo.model.User;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    \r\n    @Controller\r\n    public class UserController {\r\n    \r\n        protected final UserData userData;\r\n    \r\n        public UserController(UserData userData) {\r\n            this.userData = userData;\r\n        }\r\n    \r\n        @Get(&quot;/users/{id}&quot;)\r\n        public User findUserById(String id) throws CustomException {\r\n            Long user_id = null;\r\n            try {\r\n                user_id = Long.parseLong(id);\r\n            } catch (NumberFormatException e) {\r\n                throw new CustomException(&quot;User Id must be numeric&quot;);\r\n            }\r\n            User user = userData.getUserById(user_id);\r\n            if (user == null) {\r\n                throw new CustomException(&quot;Entity Not Found&quot;);\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\n**Verify the REST APIs**\r\n\r\n**Case 1: Invalid Request (Entity Not found):**\r\n[![enter image description here][2]][2]\r\n\r\n**Case 2: Invalid Request(User Id must be numeric):**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Case 3: Valid request:**\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.knowledgefactory.net/2021/10/micronaut-rest-exception-handling-global.html\r\n  [2]: https://i.stack.imgur.com/Ay5bm.png\r\n  [3]: https://i.stack.imgur.com/2ICNO.png\r\n  [4]: https://i.stack.imgur.com/UqFf8.png","title":"Global exception handling in micronaut Java","body":"<p>We can use <code>import io.micronaut.http.server.exceptions.ExceptionHandler</code>\nfor global error handling.</p>\n<p><strong>Create an Error Message:</strong></p>\n<pre><code>public class ErrorMessage {\n\n    private String message;\n    private Boolean status;\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public Boolean getStatus() {\n        return status;\n    }\n\n    public void setStatus(Boolean status) {\n        this.status = status;\n    }\n\n}\n</code></pre>\n<p><strong>Create the Custom Exception:</strong></p>\n<pre><code>import java.io.Serializable;\n\npublic class CustomException extends RuntimeException \n    implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public CustomException() {\n    }\n\n    public CustomException(String message) {\n        super(message);\n    }\n\n    public CustomException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public CustomException(Throwable cause) {\n        super(cause);\n    }\n\n    public CustomException(String message, Throwable cause, \n    boolean enableSuppression, boolean writableStackTrace) {\n        super(message, cause, enableSuppression, writableStackTrace);\n    }\n}\n</code></pre>\n<p><strong>Create the Custom Exception Handler:</strong></p>\n<pre><code>import io.micronaut.context.annotation.Requires;\nimport io.micronaut.http.HttpRequest;\nimport io.micronaut.http.HttpResponse;\nimport io.micronaut.http.HttpStatus;\nimport io.micronaut.http.annotation.Produces;\nimport io.micronaut.http.server.exceptions.ExceptionHandler;\nimport jakarta.inject.Singleton;\n\n@Produces\n@Singleton\n@Requires(classes = { CustomException.class, ExceptionHandler.class })\n\npublic class CustomExceptionHandler \n    implements ExceptionHandler&lt;CustomException, HttpResponse&lt;ErrorMessage&gt;&gt; {\n\n    @Override\n    public HttpResponse&lt;ErrorMessage&gt; \n        handle(HttpRequest request, CustomException exception) {\n\n        ErrorMessage message = new ErrorMessage();\n        message.setMessage(exception.getMessage());\n        message.setStatus(false);\n        return HttpResponse.serverError(message).\n                status(HttpStatus.BAD_REQUEST);\n    }\n\n}\n</code></pre>\n<p><strong>Demo Controller:</strong></p>\n<pre><code>import com.knf.dev.demo.data.UserData;\nimport com.knf.dev.demo.exception.CustomException;\nimport com.knf.dev.demo.model.User;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\n\n@Controller\npublic class UserController {\n\n    protected final UserData userData;\n\n    public UserController(UserData userData) {\n        this.userData = userData;\n    }\n\n    @Get(&quot;/users/{id}&quot;)\n    public User findUserById(String id) throws CustomException {\n        Long user_id = null;\n        try {\n            user_id = Long.parseLong(id);\n        } catch (NumberFormatException e) {\n            throw new CustomException(&quot;User Id must be numeric&quot;);\n        }\n        User user = userData.getUserById(user_id);\n        if (user == null) {\n            throw new CustomException(&quot;Entity Not Found&quot;);\n        }\n        return user;\n    }\n}\n</code></pre>\n<p><strong>Verify the REST APIs</strong></p>\n<p><strong>Case 1: Invalid Request (Entity Not found):</strong>\n<a href=\"https://i.stack.imgur.com/Ay5bm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ay5bm.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Case 2: Invalid Request(User Id must be numeric):</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2ICNO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ICNO.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Case 3: Valid request:</strong>\n<a href=\"https://i.stack.imgur.com/UqFf8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UqFf8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18778529,"reputation":81,"user_id":13693711,"display_name":"Sankalp Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656826010,"creation_date":1656825941,"answer_id":72844108,"question_id":65747492,"body_markdown":"I will suggest to handle Exception/Throwable in the @Singleton handler instead of a custom exception and try catch everywhere in the code. Unlike springboot, Micronaut doesn&#39;t allow to handle multiple exception types in handler. So you can refer to below code:\r\n\r\n    @Error(global = true, exception = Exception::class)\r\n    override fun handle(request: HttpRequest&lt;*&gt;?, \r\n         exception: Exception?): HttpResponse&lt;ErrResp&gt; {\r\n\r\n         var errorMessage: ErrResp\r\n\r\n         when (exception) {\r\n             is CustomException -&gt; {\r\n                 errorMessage = exception?.error?.let {\r\n                     ErrResp(\r\n                         it.code,\r\n                         it.message,\r\n                         it.httpStatus\r\n                     )\r\n                 }!!\r\n             }\r\n             is HttpStatusException -&gt; {\r\n                 errorMessage = ErrResp(\r\n                     500,\r\n                     exception.message,\r\n                     HttpStatus.SERVICE_UNAVAILABLE\r\n                 )\r\n             }\r\n             else -&gt; {\r\n                 errorMessage = ErrResp(\r\n                     500,\r\n                     exception?.message,\r\n                     HttpStatus.INTERNAL_SERVER_ERROR\r\n                 )\r\n             }\r\n         }\r\n         return getResponse(errorMessage?.httpStatus, errorMessage)\r\n     }\r\n\r\n     private fun getResponse(httpStatus: HttpStatus?, \r\n        errorMessage: ErrorResponse): HttpResponse&lt;ErrorResponse&gt; {\r\n\r\n        return if (httpStatus?.equals(HttpStatus.BAD_REQUEST) == true)\r\n            HttpResponse.badRequest(errorMessage)\r\n\r\n        else if (httpStatus?.equals(HttpStatus.INTERNAL_SERVER_ERROR) == true)\r\n\r\n        else\r\n            HttpResponse.serverError(errorMessage)\r\n    \r\n    }\r\n\r\nI have created a ErrorResponse class to send custom error response to the UI\r\n\r\n    data class ErrResp(\r\n        var errorCode: String = &quot;&quot;,\r\n\r\n        var errorMessage: String? = &quot;&quot;,\r\n\r\n        var httpStatus: HttpStatus?,\r\n    )\r\n \r\n","title":"Global exception handling in micronaut Java","body":"<p>I will suggest to handle Exception/Throwable in the @Singleton handler instead of a custom exception and try catch everywhere in the code. Unlike springboot, Micronaut doesn't allow to handle multiple exception types in handler. So you can refer to below code:</p>\n<pre><code>@Error(global = true, exception = Exception::class)\noverride fun handle(request: HttpRequest&lt;*&gt;?, \n     exception: Exception?): HttpResponse&lt;ErrResp&gt; {\n\n     var errorMessage: ErrResp\n\n     when (exception) {\n         is CustomException -&gt; {\n             errorMessage = exception?.error?.let {\n                 ErrResp(\n                     it.code,\n                     it.message,\n                     it.httpStatus\n                 )\n             }!!\n         }\n         is HttpStatusException -&gt; {\n             errorMessage = ErrResp(\n                 500,\n                 exception.message,\n                 HttpStatus.SERVICE_UNAVAILABLE\n             )\n         }\n         else -&gt; {\n             errorMessage = ErrResp(\n                 500,\n                 exception?.message,\n                 HttpStatus.INTERNAL_SERVER_ERROR\n             )\n         }\n     }\n     return getResponse(errorMessage?.httpStatus, errorMessage)\n }\n\n private fun getResponse(httpStatus: HttpStatus?, \n    errorMessage: ErrorResponse): HttpResponse&lt;ErrorResponse&gt; {\n\n    return if (httpStatus?.equals(HttpStatus.BAD_REQUEST) == true)\n        HttpResponse.badRequest(errorMessage)\n\n    else if (httpStatus?.equals(HttpStatus.INTERNAL_SERVER_ERROR) == true)\n\n    else\n        HttpResponse.serverError(errorMessage)\n\n}\n</code></pre>\n<p>I have created a ErrorResponse class to send custom error response to the UI</p>\n<pre><code>data class ErrResp(\n    var errorCode: String = &quot;&quot;,\n\n    var errorMessage: String? = &quot;&quot;,\n\n    var httpStatus: HttpStatus?,\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7377601,"reputation":11,"user_id":5615608,"display_name":"ajitha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697534828,"creation_date":1697534518,"answer_id":77307693,"question_id":65747492,"body_markdown":"simply create custom exceptions based on your need &amp; extend them with GlobalException. in this case whatever the exception you are throwing will cauth by GlobalExceptionHandler.\r\n\r\nmake sure GlobalException is extending RuntimeEception\r\n\r\n        public abstract class GlobalException extends RuntimeException {\r\n        \r\n            public GlobalException(String message) {\r\n                super(message);\r\n            }\r\n        \r\n            public GlobalException(String message, Throwable throwable) {\r\n                super(message, throwable);\r\n            }\r\n    }\r\n\r\n\r\n    public class BadRequestException extends GlocalException { //400\r\n    \r\n        public BadRequestException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\n","title":"Global exception handling in micronaut Java","body":"<p>simply create custom exceptions based on your need &amp; extend them with GlobalException. in this case whatever the exception you are throwing will cauth by GlobalExceptionHandler.</p>\n<p>make sure GlobalException is extending RuntimeEception</p>\n<pre><code>    public abstract class GlobalException extends RuntimeException {\n    \n        public GlobalException(String message) {\n            super(message);\n        }\n    \n        public GlobalException(String message, Throwable throwable) {\n            super(message, throwable);\n        }\n}\n\n\npublic class BadRequestException extends GlocalException { //400\n\n    public BadRequestException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8533,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":5,"score":9,"last_activity_date":1697534828,"creation_date":1610783183,"question_id":65747492,"body_markdown":"Looking for a better solution to handle the global exception in micronaut https://docs.micronaut.io/latest/guide/index.html#errorHandling\r\n\r\n**Controller**\r\n\r\n    @Controller(&quot;/category&quot;)\r\n    public class CategoryController {\r\n    @Delete(uri = &quot;/{id}&quot;)\r\n    public Maybe&lt;HttpResponse&gt; delete(@NotBlank String id) {\r\n                LOG.info(String.format(&quot;API --&gt; Deleting the specified category&quot;));\r\n                return iCategoryManager.Count(id).flatMap(item -&gt; {\r\n                    if (item &gt; 0) {\r\n                        iCategoryManager.Delete(id).subscribe();\r\n                        return Maybe.just(HttpResponse.noContent());\r\n                    } else\r\n                        return Maybe.just(HttpResponse.notFound());\r\n                });\r\n        }\r\n    }\r\n\r\n`iCategoryManager.Count(id)` cause an exception as below, How can I catch the exception on **GlobalExceptionHandler**\r\n\r\n    io.micronaut.core.serialize.exceptions.SerializationException: Incorrect message body size to deserialize to a Long\r\n        at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:314)\r\n        at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:306)\r\n        at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes.deserialize(JavaLangRabbitMessageSerDes.java:81)\r\n        at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.deserialize(RabbitMQIntroductionAdvice.java:323)\r\n        at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.lambda$intercept$22(RabbitMQIntroductionAdvice.java:268)\r\n        at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\r\n        at io.reactivex.internal.operators.flowable.FlowableTimeoutTimed$TimeoutSubscriber.onNext(FlowableTimeoutTimed.java:101)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\r\n        at io.reactivex.internal.subscriptions.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:132)\r\n        at io.reactivex.internal.operators.single.SingleToFlowable$SingleToFlowableObserver.onSuccess(SingleToFlowable.java:62)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\r\n        at io.reactivex.internal.operators.single.SingleFlatMap$SingleFlatMapCallback$FlatMapSingleObserver.onSuccess(SingleFlatMap.java:111)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\r\n        at io.reactivex.internal.operators.single.SingleDoFinally$DoFinallyObserver.onSuccess(SingleDoFinally.java:73)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\r\n        at io.reactivex.internal.operators.single.SingleCreate$Emitter.onSuccess(SingleCreate.java:67)\r\n        at io.micronaut.rabbitmq.reactive.RxJavaReactivePublisher$3.handleDelivery(RxJavaReactivePublisher.java:324)\r\n        at com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149)\r\n        at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104)\r\n\r\n**Global exception handling**\r\n\r\n    @Produces\r\n    @Singleton\r\n    @Requires(classes = {GlobalException.class, ExceptionHandler.class})\r\n    public class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\r\n    \r\n        @Override\r\n        public HttpResponse handle(HttpRequest request, GlobalException exception) {\r\n            return HttpResponse.ok(0);\r\n        }\r\n    }\r\n\r\n    public class GlobalException extends RuntimeException{\r\n    }\r\n\r\nHow do I hook GlobalExceptionHandler. Any exception that occur on the application should be caught at **GlobalExceptionHandler**","title":"Global exception handling in micronaut Java","body":"<p>Looking for a better solution to handle the global exception in micronaut <a href=\"https://docs.micronaut.io/latest/guide/index.html#errorHandling\" rel=\"noreferrer\">https://docs.micronaut.io/latest/guide/index.html#errorHandling</a></p>\n<p><strong>Controller</strong></p>\n<pre><code>@Controller(&quot;/category&quot;)\npublic class CategoryController {\n@Delete(uri = &quot;/{id}&quot;)\npublic Maybe&lt;HttpResponse&gt; delete(@NotBlank String id) {\n            LOG.info(String.format(&quot;API --&gt; Deleting the specified category&quot;));\n            return iCategoryManager.Count(id).flatMap(item -&gt; {\n                if (item &gt; 0) {\n                    iCategoryManager.Delete(id).subscribe();\n                    return Maybe.just(HttpResponse.noContent());\n                } else\n                    return Maybe.just(HttpResponse.notFound());\n            });\n    }\n}\n</code></pre>\n<p><code>iCategoryManager.Count(id)</code> cause an exception as below, How can I catch the exception on <strong>GlobalExceptionHandler</strong></p>\n<pre><code>io.micronaut.core.serialize.exceptions.SerializationException: Incorrect message body size to deserialize to a Long\n    at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:314)\n    at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:306)\n    at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes.deserialize(JavaLangRabbitMessageSerDes.java:81)\n    at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.deserialize(RabbitMQIntroductionAdvice.java:323)\n    at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.lambda$intercept$22(RabbitMQIntroductionAdvice.java:268)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\n    at io.reactivex.internal.operators.flowable.FlowableTimeoutTimed$TimeoutSubscriber.onNext(FlowableTimeoutTimed.java:101)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\n    at io.reactivex.internal.subscriptions.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:132)\n    at io.reactivex.internal.operators.single.SingleToFlowable$SingleToFlowableObserver.onSuccess(SingleToFlowable.java:62)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\n    at io.reactivex.internal.operators.single.SingleFlatMap$SingleFlatMapCallback$FlatMapSingleObserver.onSuccess(SingleFlatMap.java:111)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\n    at io.reactivex.internal.operators.single.SingleDoFinally$DoFinallyObserver.onSuccess(SingleDoFinally.java:73)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\n    at io.reactivex.internal.operators.single.SingleCreate$Emitter.onSuccess(SingleCreate.java:67)\n    at io.micronaut.rabbitmq.reactive.RxJavaReactivePublisher$3.handleDelivery(RxJavaReactivePublisher.java:324)\n    at com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149)\n    at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104)\n</code></pre>\n<p><strong>Global exception handling</strong></p>\n<pre><code>@Produces\n@Singleton\n@Requires(classes = {GlobalException.class, ExceptionHandler.class})\npublic class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\n\n    @Override\n    public HttpResponse handle(HttpRequest request, GlobalException exception) {\n        return HttpResponse.ok(0);\n    }\n}\n\npublic class GlobalException extends RuntimeException{\n}\n</code></pre>\n<p>How do I hook GlobalExceptionHandler. Any exception that occur on the application should be caught at <strong>GlobalExceptionHandler</strong></p>\n"},{"tags":["java","spring","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697534431,"creation_date":1697534431,"answer_id":77307684,"question_id":77306703,"body_markdown":"You need to use a [`ByteArrayResource`][1] instead of wrapping a byte array in a `ByteArrayInputStream` and wrapping that in an `InputStreamResource`.\r\n\r\nThe documentation of `ByteArrayResource` even helpfully states (emphasis mine):\r\n\r\n&gt; Useful for loading content from any given byte array, without having\r\n&gt; to resort to a single-use InputStreamResource. **Particularly useful\r\n&gt; for creating mail attachments from local content, where JavaMail needs\r\n&gt; to be able to read the stream multiple times**.\r\n\r\n(JavaMail is the old name for JakartaMail.)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html","title":"Switched to JakartaMail org.springframework.mail.javamail.JavaMailSender InputStreamResource from byte array","body":"<p>You need to use a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\" rel=\"nofollow noreferrer\"><code>ByteArrayResource</code></a> instead of wrapping a byte array in a <code>ByteArrayInputStream</code> and wrapping that in an <code>InputStreamResource</code>.</p>\n<p>The documentation of <code>ByteArrayResource</code> even helpfully states (emphasis mine):</p>\n<blockquote>\n<p>Useful for loading content from any given byte array, without having\nto resort to a single-use InputStreamResource. <strong>Particularly useful\nfor creating mail attachments from local content, where JavaMail needs\nto be able to read the stream multiple times</strong>.</p>\n</blockquote>\n<p>(JavaMail is the old name for JakartaMail.)</p>\n"}],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77307684,"answer_count":1,"score":1,"last_activity_date":1697534431,"creation_date":1697525201,"question_id":77306703,"body_markdown":"I&#39;m moving from mailx to Jakarta.\r\n\r\nhttps://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmailtojakartamail\r\n\r\nor with IntelliJ\r\n\r\n[![ ][1]][1]\r\n\r\n```java\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.mail.javamail.MimeMessageHelper;\r\nimport org.springframework.mail.javamail.MimeMessagePreparator;\r\n...snip\r\n\r\n\r\n        try {\r\n           MimeMessagePreparator messagePreparator = mimeMessage -&gt; {\r\n                MimeMessageHelper messageHelper = new MimeMessageHelper(mimeMessage,true);\r\n                messageHelper.setFrom(&quot;4flutteratk@gmail.com&quot;);\r\n                messageHelper.setTo(InternetAddress.parse(&quot;4flutteratk@gmail.com&quot;));\r\n                messageHelper.setSubject(&quot;error log&quot;);\r\n                messageHelper.setText(&quot; Please find attachment:&quot;);\r\n\r\n                //attachment\r\n                byte[] data;\r\n                if (emailDTO.getIsForCheckIn()) {\r\n                    data = pdfService.generatePDFForCheckIn(emailDTO);\r\n                } else if (emailDTO.getIsForPaymentRefund()) {\r\n                    data = pdfService.generatePDFForRefund(emailDTO);\r\n                } else {\r\n                    data = pdfService.generatePDFForOnlineBooking(emailDTO);\r\n                }\r\n\r\n                String fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\r\n                ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\r\n                messageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\r\n            };\r\n\r\n            // Sending the mail\r\n            javaMailSender.send(messagePreparator);\r\n        }\r\n\r\n        // Catch block to handle MessagingException\r\n        catch (Exception ex) {\r\n            log.error(ex);\r\n        }\r\n```\r\n\r\n\r\nThis results in an error:\r\n\r\n&gt; Passed-in Resource contains an open stream: invalid argument. JavaMail\r\n&gt; requires an InputStreamSource that creates a fresh stream for every\r\n&gt; call.\r\n\r\nIt works with a local file\r\n```java\r\nFileSystemResource file = new FileSystemResource(&quot;/Users/work2/Documents/GitHub/srr-all6/srr-online-shop-backend/src/main/resources/error.jpeg&quot;);\r\nmessageHelper.addAttachment(file.getFilename(), file);\r\n```\r\n\r\nBut not from byte\r\n```\r\nByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\r\n// ByteArrayResource byteArrayResource = new ByteArrayResource(data);\r\nString fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\r\n// ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\r\nmessageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\r\n```\r\n\r\nWorking but bad TMP file:\r\n\r\n```\r\nFile tempFile = File.createTempFile(prefix, &quot;.pdf&quot;, null);\r\ntmpFilename.set(tempFile.getAbsolutePath());\r\nFileOutputStream fos = new FileOutputStream(tempFile);\r\nfos.write(byteArray);\r\n\r\nFileSystemResource file = new FileSystemResource(tmpFilename.get());\r\n\r\nmessageHelper.addAttachment(fileName, file);\r\n```\r\n\r\nCould someone please point me to a working solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UoAz6.png","title":"Switched to JakartaMail org.springframework.mail.javamail.JavaMailSender InputStreamResource from byte array","body":"<p>I'm moving from mailx to Jakarta.</p>\n<p><a href=\"https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmailtojakartamail\" rel=\"nofollow noreferrer\">https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmailtojakartamail</a></p>\n<p>or with IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/UoAz6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UoAz6.png\" alt=\" \" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.mail.javamail.MimeMessagePreparator;\n...snip\n\n\n        try {\n           MimeMessagePreparator messagePreparator = mimeMessage -&gt; {\n                MimeMessageHelper messageHelper = new MimeMessageHelper(mimeMessage,true);\n                messageHelper.setFrom(&quot;4flutteratk@gmail.com&quot;);\n                messageHelper.setTo(InternetAddress.parse(&quot;4flutteratk@gmail.com&quot;));\n                messageHelper.setSubject(&quot;error log&quot;);\n                messageHelper.setText(&quot; Please find attachment:&quot;);\n\n                //attachment\n                byte[] data;\n                if (emailDTO.getIsForCheckIn()) {\n                    data = pdfService.generatePDFForCheckIn(emailDTO);\n                } else if (emailDTO.getIsForPaymentRefund()) {\n                    data = pdfService.generatePDFForRefund(emailDTO);\n                } else {\n                    data = pdfService.generatePDFForOnlineBooking(emailDTO);\n                }\n\n                String fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\n                ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\n                messageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\n            };\n\n            // Sending the mail\n            javaMailSender.send(messagePreparator);\n        }\n\n        // Catch block to handle MessagingException\n        catch (Exception ex) {\n            log.error(ex);\n        }\n</code></pre>\n<p>This results in an error:</p>\n<blockquote>\n<p>Passed-in Resource contains an open stream: invalid argument. JavaMail\nrequires an InputStreamSource that creates a fresh stream for every\ncall.</p>\n</blockquote>\n<p>It works with a local file</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystemResource file = new FileSystemResource(&quot;/Users/work2/Documents/GitHub/srr-all6/srr-online-shop-backend/src/main/resources/error.jpeg&quot;);\nmessageHelper.addAttachment(file.getFilename(), file);\n</code></pre>\n<p>But not from byte</p>\n<pre><code>ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\n// ByteArrayResource byteArrayResource = new ByteArrayResource(data);\nString fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\n// ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\nmessageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\n</code></pre>\n<p>Working but bad TMP file:</p>\n<pre><code>File tempFile = File.createTempFile(prefix, &quot;.pdf&quot;, null);\ntmpFilename.set(tempFile.getAbsolutePath());\nFileOutputStream fos = new FileOutputStream(tempFile);\nfos.write(byteArray);\n\nFileSystemResource file = new FileSystemResource(tmpFilename.get());\n\nmessageHelper.addAttachment(fileName, file);\n</code></pre>\n<p>Could someone please point me to a working solution.</p>\n"},{"tags":["java","jvm","vectorization","jvm-hotspot","vector-search"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697529890,"post_id":77306924,"comment_id":136287919,"body_markdown":"Look at the assembly code of the *caller*.","body":"Look at the assembly code of the <i>caller</i>."}],"owner":{"account_id":2763938,"reputation":194,"user_id":2380213,"display_name":"serkan_ozal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697533710,"creation_date":1697527509,"question_id":77306924,"body_markdown":"I am experimenting on vector similarity search algorithms with Java Panama Vector API. And I am trying to understand how some calls (for example `Math.fma`) are generated to assembly code on different platforms. I know they are JVM intrinsic functions, but I couldn&#39;t see the generated machine code for those functions when I enabled printing assembly code (`-XX:+PrintAssembly` and/or `-XX:CompileCommand`).\r\n\r\nHow can I see the generated assembly code for intrinsic functions in the `java.lang.Math`?\r\n\r\n","title":"How to print generated assembly code for intrinsic functions in the &quot;java.lang.Math&quot;?","body":"<p>I am experimenting on vector similarity search algorithms with Java Panama Vector API. And I am trying to understand how some calls (for example <code>Math.fma</code>) are generated to assembly code on different platforms. I know they are JVM intrinsic functions, but I couldn't see the generated machine code for those functions when I enabled printing assembly code (<code>-XX:+PrintAssembly</code> and/or <code>-XX:CompileCommand</code>).</p>\n<p>How can I see the generated assembly code for intrinsic functions in the <code>java.lang.Math</code>?</p>\n"},{"tags":["java","proxy","jsoup","tunneling"],"comments":[{"owner":{"account_id":8689793,"reputation":2088,"user_id":6503002,"accept_rate":100,"display_name":"amicoderozer"},"score":0,"creation_date":1502091850,"post_id":45541343,"comment_id":78043179,"body_markdown":"have you tried disabling disabledSchemes? https://stackoverflow.com/a/41806109/6503002","body":"have you tried disabling disabledSchemes? <a href=\"https://stackoverflow.com/a/41806109/6503002\">stackoverflow.com/a/41806109/6503002</a>"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1502091862,"post_id":45541343,"comment_id":78043188,"body_markdown":"Could you please also post the code of your `ProxyAuthenticator` class.","body":"Could you please also post the code of your <code>ProxyAuthenticator</code> class."},{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1502150897,"post_id":45541343,"comment_id":78074680,"body_markdown":"@SubOptimal ... I have updated the ProxyAuthenticator class.","body":"@SubOptimal ... I have updated the ProxyAuthenticator class."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1502151260,"post_id":45541343,"comment_id":78074738,"body_markdown":"Code is correct. The username and/or password are incorrect. Or maybe JSoup replaces your `Authenticator`, which would mean it has some other API you need to use.","body":"Code is correct. The username and/or password are incorrect. Or maybe JSoup replaces your <code>Authenticator</code>, which would mean it has some other API you need to use."},{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1502242324,"post_id":45541343,"comment_id":78120030,"body_markdown":"@EJP   Thanks for your comments. the code is correct. If the user name/ password is updated, the JVM needs to be restarted. I have restarted my machine and surprisingly it worked.","body":"@EJP   Thanks for your comments. the code is correct. If the user name/ password is updated, the JVM needs to be restarted. I have restarted my machine and surprisingly it worked."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1502243432,"post_id":45541343,"comment_id":78120276,"body_markdown":"The JVM doesn&#39;t *have* to be restarted: the application needs to be told about it, and needs to install a new `Authenticator`.","body":"The JVM doesn&#39;t <i>have</i> to be restarted: the application needs to be told about it, and needs to install a new <code>Authenticator</code>."}],"answers":[{"tags":[],"owner":{"account_id":20131171,"reputation":11,"user_id":14763454,"display_name":"Venkat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1607087674,"creation_date":1607087674,"answer_id":65144226,"question_id":45541343,"body_markdown":"Your proxy server might be blocking that web address, we might face this issue when the web address is local address and your proxy server will be blocking that.\r\n","title":"Unable to tunnel through proxy - Jsoup","body":"<p>Your proxy server might be blocking that web address, we might face this issue when the web address is local address and your proxy server will be blocking that.</p>\n"}],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13040,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697533360,"creation_date":1502090353,"question_id":45541343,"body_markdown":"I am getting the below exception while creating an HTTP connection.\r\n\r\n    2017-08-07 17:07:43,219 ERROR au.com.scraper.sites.ScraperSite - Exception in parsing Categories: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot; at line number 153\r\n    java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot;\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2085)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:563)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:540)\r\n    \tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:227)\r\n    \tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:216)\r\n    \tat org.jsoup.Jsoup.parse(Jsoup.java:183)\r\n    \tat au.com.scraper.sites.ScraperSite.getCategories(ScraperSite.java:127)\r\n    \tat au.com.scraper.sites.AScraperSites.execute(AScraperSites.java:74)\r\n    \tat au.com.scraper.Scraper.main(Scraper.java:88)\r\n \r\n\r\nBelow is my proxy configuration.\r\n\r\n    Authenticator.setDefault(new ProxyAuthenticator(&quot;user_name&quot;, &quot;password&quot;));\r\n    System.setProperty(&quot;https.proxyHost&quot;, server);\r\n    System.setProperty(&quot;https.proxyPort&quot;, port);\r\n    System.setProperty(&quot;http.proxyHost&quot;, server);\r\n    System.setProperty(&quot;http.proxyPort&quot;, port);\r\n\r\n\r\nBelow is my Proxy Authenticator class.\r\n\r\n\r\n    package au.com.scraper;\r\n    import java.net.Authenticator;\r\n    import java.net.PasswordAuthentication;\r\n    public class ProxyAuthenticator extends Authenticator\r\n    {\r\n        public ProxyAuthenticator(String user, String password)\r\n        {\r\n            this.user = user;\r\n            this.password = password;\r\n        }\r\n        protected PasswordAuthentication getPasswordAuthentication()\r\n        {\r\n            return new PasswordAuthentication(user, password.toCharArray());\r\n        }\r\n        private String user;\r\n        private String password;\r\n    }\r\n\r\nCan any one suggest why this issue is happening?\r\n","title":"Unable to tunnel through proxy - Jsoup","body":"<p>I am getting the below exception while creating an HTTP connection.</p>\n\n<pre><code>2017-08-07 17:07:43,219 ERROR au.com.scraper.sites.ScraperSite - Exception in parsing Categories: Unable to tunnel through proxy. Proxy returns \"HTTP/1.1 403 Forbidden\" at line number 153\njava.io.IOException: Unable to tunnel through proxy. Proxy returns \"HTTP/1.1 403 Forbidden\"\n    at sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2085)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:563)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:540)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:227)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:216)\n    at org.jsoup.Jsoup.parse(Jsoup.java:183)\n    at au.com.scraper.sites.ScraperSite.getCategories(ScraperSite.java:127)\n    at au.com.scraper.sites.AScraperSites.execute(AScraperSites.java:74)\n    at au.com.scraper.Scraper.main(Scraper.java:88)\n</code></pre>\n\n<p>Below is my proxy configuration.</p>\n\n<pre><code>Authenticator.setDefault(new ProxyAuthenticator(\"user_name\", \"password\"));\nSystem.setProperty(\"https.proxyHost\", server);\nSystem.setProperty(\"https.proxyPort\", port);\nSystem.setProperty(\"http.proxyHost\", server);\nSystem.setProperty(\"http.proxyPort\", port);\n</code></pre>\n\n<p>Below is my Proxy Authenticator class.</p>\n\n<pre><code>package au.com.scraper;\nimport java.net.Authenticator;\nimport java.net.PasswordAuthentication;\npublic class ProxyAuthenticator extends Authenticator\n{\n    public ProxyAuthenticator(String user, String password)\n    {\n        this.user = user;\n        this.password = password;\n    }\n    protected PasswordAuthentication getPasswordAuthentication()\n    {\n        return new PasswordAuthentication(user, password.toCharArray());\n    }\n    private String user;\n    private String password;\n}\n</code></pre>\n\n<p>Can any one suggest why this issue is happening?</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1697533072,"creation_date":1697533072,"answer_id":77307518,"question_id":77307195,"body_markdown":"If you have the source code of a Maven plugin and you need to build a JAR from it, you can follow these steps:\r\n\r\n**Set Up a Maven Project:**\r\nCreate a new Maven project or use an existing one to build the JAR. Make sure that you have the necessary directory structure (src/main/java) and a valid pom.xml in place.\r\n\r\n**Add the Source Code:**\r\nCopy the source code of the Maven plugin into the appropriate package directory under src/main/java. Ensure that the directory structure matches the package structure in the source code.\r\n\r\n**Configure the pom.xml:**\r\nIn the pom.xml, define the plugin&#39;s coordinates and packaging as &quot;maven-plugin&quot;. Also, make sure to specify the correct version of the Maven Plugin API. Here&#39;s an example:\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;your.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;your-artifact&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nthen simply generate jar by maven commands and use it\r\n\r\n    mvn clean package\r\n\r\nInstall the JAR to Your Local Repository:\r\n\r\n    mvn install\r\n\r\n \r\n","title":"Produce jar file from maven plugin source code","body":"<p>If you have the source code of a Maven plugin and you need to build a JAR from it, you can follow these steps:</p>\n<p><strong>Set Up a Maven Project:</strong>\nCreate a new Maven project or use an existing one to build the JAR. Make sure that you have the necessary directory structure (src/main/java) and a valid pom.xml in place.</p>\n<p><strong>Add the Source Code:</strong>\nCopy the source code of the Maven plugin into the appropriate package directory under src/main/java. Ensure that the directory structure matches the package structure in the source code.</p>\n<p><strong>Configure the pom.xml:</strong>\nIn the pom.xml, define the plugin's coordinates and packaging as &quot;maven-plugin&quot;. Also, make sure to specify the correct version of the Maven Plugin API. Here's an example:</p>\n<pre><code>&lt;project&gt;\n    ...\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;your.group&lt;/groupId&gt;\n    &lt;artifactId&gt;your-artifact&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>then simply generate jar by maven commands and use it</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>Install the JAR to Your Local Repository:</p>\n<pre><code>mvn install\n</code></pre>\n"}],"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307518,"answer_count":1,"score":0,"last_activity_date":1697533072,"creation_date":1697530306,"question_id":77307195,"body_markdown":"Well my project get all maven plugins from an internal server. in this server all the plugins are in a jar format but the new plugins that I am getting from Apache site is in src format.\r\n\r\nSo, the question is how to produce a jar from this src code?\r\n\r\nI tried to get the plugin by adding it to the pom as normally do, but it turns out that we &#39;must&#39; get it from the local server instead. Let&#39;s say that this is a requirment. So I should add it there. And to do so, I need a jar file.","title":"Produce jar file from maven plugin source code","body":"<p>Well my project get all maven plugins from an internal server. in this server all the plugins are in a jar format but the new plugins that I am getting from Apache site is in src format.</p>\n<p>So, the question is how to produce a jar from this src code?</p>\n<p>I tried to get the plugin by adding it to the pom as normally do, but it turns out that we 'must' get it from the local server instead. Let's say that this is a requirment. So I should add it there. And to do so, I need a jar file.</p>\n"},{"tags":["java","spring","intellij-idea","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":20782759,"reputation":235,"user_id":15262752,"display_name":"Grogu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692352635,"creation_date":1692352635,"answer_id":76928265,"question_id":76812141,"body_markdown":"Well, apparently there are errors with the Kotlin Plugin in Intellij.\r\n\r\n[https://youtrack.jetbrains.com/issue/KTIJ-16925][1]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/KTIJ-16925\r\n\r\nSuggested solutions are:\r\n\r\n - Desactivating Kotlin plugin\r\n - Rollback to an older Kotlin plugin version","title":"intellij no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt; issue","body":"<p>Well, apparently there are errors with the Kotlin Plugin in Intellij.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KTIJ-16925\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-16925</a></p>\n<p>Suggested solutions are:</p>\n<ul>\n<li>Desactivating Kotlin plugin</li>\n<li>Rollback to an older Kotlin plugin version</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18272800,"reputation":41,"user_id":13303248,"display_name":"Игорь Исютин"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697533012,"creation_date":1697533012,"answer_id":77307509,"question_id":76812141,"body_markdown":"Looks like this issue is fixed in current beta version of kotlin plugin: 232-1.9.20-RC-release-459-IJ9559.62\r\n\r\nSteps to fix error:\r\n\r\n 1. Install beta kotlin plugin in Preferences -&gt; Languages &amp; Frameworks -&gt; Kotlin\r\n 2. Delete spring core jar. Can be done in project window: External Libraries -&gt; Scripts build.gradle.kts -&gt; spring-core-*.*.*.jar\r\n 3. Reload Gradle project","title":"intellij no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt; issue","body":"<p>Looks like this issue is fixed in current beta version of kotlin plugin: 232-1.9.20-RC-release-459-IJ9559.62</p>\n<p>Steps to fix error:</p>\n<ol>\n<li>Install beta kotlin plugin in Preferences -&gt; Languages &amp; Frameworks -&gt; Kotlin</li>\n<li>Delete spring core jar. Can be done in project window: External Libraries -&gt; Scripts build.gradle.kts -&gt; spring-core-<em>.</em>.*.jar</li>\n<li>Reload Gradle project</li>\n</ol>\n"}],"owner":{"account_id":20782759,"reputation":235,"user_id":15262752,"display_name":"Grogu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76928265,"answer_count":2,"score":2,"last_activity_date":1697533012,"creation_date":1690896619,"question_id":76812141,"body_markdown":"I&#39;m trying to convert a `Mono&lt;Part&gt;` to a `Mono&lt;InputStream&gt;`, using java with reactor and spring.\r\n\r\nI have a code which compiles and works properly, but it generates an Intellij error.\r\n\r\nThe code:\r\n\r\n```\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.core.io.buffer.DataBufferUtils;\r\nimport org.springframework.http.codec.multipart.Part;\r\nimport reactor.core.publisher.Mono;\r\nimport java.io.InputStream;\r\n\r\npublic Mono&lt;InputStream&gt; loadFile(Mono&lt;Part&gt; fileMono) {\r\n  return DataBufferUtils.join(fileMono.flatMapMany(Part::content))\r\n                        .map(DataBuffer::asInputStream);\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nRequired type: Publisher\r\n\r\nProvided: Flux &lt;org.springframework.core.io.buffer.DataBuffer&gt;\r\n\r\nno instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt;\r\n```\r\n\r\nAs `Flux&lt;T&gt; implements CorePublisher&lt;T&gt;` and `CorePublisher&lt;T&gt; extends Publisher&lt;T&gt;`, I don&#39;t understand the error.\r\nMoreover some of my co-workers have the error when others don&#39;t.\r\nThis is pretty weird.\r\n\r\nI&#39;ve tried to delete and reimport the library dependencies through gradle, and to do all 7 intellij steps to debug a project, including clearing cache and reindexing the app.\r\n\r\nWhat could be wrong?\r\n","title":"intellij no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt; issue","body":"<p>I'm trying to convert a <code>Mono&lt;Part&gt;</code> to a <code>Mono&lt;InputStream&gt;</code>, using java with reactor and spring.</p>\n<p>I have a code which compiles and works properly, but it generates an Intellij error.</p>\n<p>The code:</p>\n<pre><code>import org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.core.io.buffer.DataBufferUtils;\nimport org.springframework.http.codec.multipart.Part;\nimport reactor.core.publisher.Mono;\nimport java.io.InputStream;\n\npublic Mono&lt;InputStream&gt; loadFile(Mono&lt;Part&gt; fileMono) {\n  return DataBufferUtils.join(fileMono.flatMapMany(Part::content))\n                        .map(DataBuffer::asInputStream);\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>Required type: Publisher\n\nProvided: Flux &lt;org.springframework.core.io.buffer.DataBuffer&gt;\n\nno instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt;\n</code></pre>\n<p>As <code>Flux&lt;T&gt; implements CorePublisher&lt;T&gt;</code> and <code>CorePublisher&lt;T&gt; extends Publisher&lt;T&gt;</code>, I don't understand the error.\nMoreover some of my co-workers have the error when others don't.\nThis is pretty weird.</p>\n<p>I've tried to delete and reimport the library dependencies through gradle, and to do all 7 intellij steps to debug a project, including clearing cache and reindexing the app.</p>\n<p>What could be wrong?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":26482543,"reputation":31,"user_id":20121593,"display_name":"Neema R Soman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697383834,"creation_date":1697383834,"answer_id":77297321,"question_id":77294400,"body_markdown":"Since you are using the springdoc-openapi java library. I believe the Swagger UI page or rather the OpenAPI UI page would be available at the following style url:\r\n\r\n    http://server:port/context-path/swagger-ui.html","title":"No operations defined in spec! Java 21 &amp; Spring boot 3.2.0-SNAPSHOT","body":"<p>Since you are using the springdoc-openapi java library. I believe the Swagger UI page or rather the OpenAPI UI page would be available at the following style url:</p>\n<pre><code>http://server:port/context-path/swagger-ui.html\n</code></pre>\n"}],"owner":{"account_id":13202040,"reputation":1,"user_id":9534996,"display_name":"vikramaditya gaikwad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697532808,"creation_date":1697315368,"question_id":77294400,"body_markdown":"When I add below dependency for swagger documentation it&#39;s not working \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nit should give list of APIs on `swagger-ui/index.html` page but it&#39;s giving empty page.\r\n\r\n![Here is the image](https://i.stack.imgur.com/yqnn6.png)\r\n\r\n\r\n\r\nand below is the controller class\r\n\r\n\r\n```\r\nimport com.vikram.explorespringboot.entity.Person;\r\nimport com.vikram.explorespringboot.service.Impl.PersonServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\npublic class PersonController {\r\n\r\n    @Autowired\r\n    PersonServiceImpl personService;\r\n\r\n    @GetMapping(&quot;/person/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Person&gt;&gt; getPersonById(@PathVariable int id){\r\n        Optional&lt;Person&gt; person = personService.getPersonById(id);\r\n        return ResponseEntity.ok(person);\r\n    }\r\n\r\n    @GetMapping(&quot;/persons/{age}&quot;)\r\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonByAge(@PathVariable int age){\r\n        List&lt;Person&gt; person = personService.getPersonByAge(age);\r\n        return ResponseEntity.ok(person);\r\n    }\r\n\r\n    @GetMapping(&quot;/person&quot;)\r\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonList(){\r\n        List&lt;Person&gt; persons = personService.getPersonList();\r\n        return ResponseEntity.ok(persons);\r\n    }\r\n\r\n    @PostMapping(&quot;/person&quot;)\r\n    public ResponseEntity&lt;Person&gt; createPerson(@RequestBody Person person){\r\n        Person newPerson = personService.createPerson(person);\r\n        return new ResponseEntity&lt;&gt;(newPerson, HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\nI just want to enable swagger ui for my api&#39;s, i am referring to [this site][1] after going through many youtube tutorials\r\n\r\n\r\n  [1]: https://springdoc.org/#getting-started","title":"No operations defined in spec! Java 21 &amp; Spring boot 3.2.0-SNAPSHOT","body":"<p>When I add below dependency for swagger documentation it's not working</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it should give list of APIs on <code>swagger-ui/index.html</code> page but it's giving empty page.</p>\n<p><img src=\"https://i.stack.imgur.com/yqnn6.png\" alt=\"Here is the image\" /></p>\n<p>and below is the controller class</p>\n<pre><code>import com.vikram.explorespringboot.entity.Person;\nimport com.vikram.explorespringboot.service.Impl.PersonServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Controller\npublic class PersonController {\n\n    @Autowired\n    PersonServiceImpl personService;\n\n    @GetMapping(&quot;/person/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Person&gt;&gt; getPersonById(@PathVariable int id){\n        Optional&lt;Person&gt; person = personService.getPersonById(id);\n        return ResponseEntity.ok(person);\n    }\n\n    @GetMapping(&quot;/persons/{age}&quot;)\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonByAge(@PathVariable int age){\n        List&lt;Person&gt; person = personService.getPersonByAge(age);\n        return ResponseEntity.ok(person);\n    }\n\n    @GetMapping(&quot;/person&quot;)\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonList(){\n        List&lt;Person&gt; persons = personService.getPersonList();\n        return ResponseEntity.ok(persons);\n    }\n\n    @PostMapping(&quot;/person&quot;)\n    public ResponseEntity&lt;Person&gt; createPerson(@RequestBody Person person){\n        Person newPerson = personService.createPerson(person);\n        return new ResponseEntity&lt;&gt;(newPerson, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>I just want to enable swagger ui for my api's, i am referring to <a href=\"https://springdoc.org/#getting-started\" rel=\"nofollow noreferrer\">this site</a> after going through many youtube tutorials</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697532808,"post_id":77307463,"comment_id":136288445,"body_markdown":"What do you mean by &quot;I get invalid endpoints&quot;? 404? Other error codes? Stack trace in the log? Timeout? You need to tell us the full story, or it&#39;ll be very difficult to help you.","body":"What do you mean by &quot;I get invalid endpoints&quot;? 404? Other error codes? Stack trace in the log? Timeout? You need to tell us the full story, or it&#39;ll be very difficult to help you."},{"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"score":0,"creation_date":1697568429,"post_id":77307463,"comment_id":136295435,"body_markdown":"@Jorn the endpoints are missing the management port so they are invalid","body":"@Jorn the endpoints are missing the management port so they are invalid"},{"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"score":0,"creation_date":1697568468,"post_id":77307463,"comment_id":136295443,"body_markdown":"Instead of http://localhost:123456/actuator/info it&#39;s http://localhost/actuator/info","body":"Instead of <a href=\"http://localhost:123456/actuator/info\" rel=\"nofollow noreferrer\">localhost:123456/actuator/info</a> it&#39;s <a href=\"http://localhost/actuator/info\" rel=\"nofollow noreferrer\">localhost/actuator/info</a>"}],"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532667,"creation_date":1697532667,"question_id":77307463,"body_markdown":"I currently have a spring boot application where the actuator endpoints are exposed on a custom port. For our purposes lets say 123456. The application is fully functional I get valid responses hitting http://localhost:123456/actuator/health and http://localhost:123456/actuator/info and such.\r\n\r\nHowever, when I hit the management url http://localhost:123456/actuator I get invalid endpoints. Example:\r\n```\r\nhttp://localhost/actuator/info\r\nhttp://localhost/actuator/health\r\n```\r\n\r\nI have a Spring Boot Admin server that is trying to get my actuator endpoints and it determines the actuator endpoints by hitting the management url. However the management url is providing invalid endpoints and causing it to be unable to read them.\r\n\r\nHow do I make my actuator endpoint include the management port of the endpoints when I hit it?\r\n\r\n","title":"How do you get the management port for an spring boot actuator endpoint?","body":"<p>I currently have a spring boot application where the actuator endpoints are exposed on a custom port. For our purposes lets say 123456. The application is fully functional I get valid responses hitting http://localhost:123456/actuator/health and http://localhost:123456/actuator/info and such.</p>\n<p>However, when I hit the management url http://localhost:123456/actuator I get invalid endpoints. Example:</p>\n<pre><code>http://localhost/actuator/info\nhttp://localhost/actuator/health\n</code></pre>\n<p>I have a Spring Boot Admin server that is trying to get my actuator endpoints and it determines the actuator endpoints by hitting the management url. However the management url is providing invalid endpoints and causing it to be unable to read them.</p>\n<p>How do I make my actuator endpoint include the management port of the endpoints when I hit it?</p>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507108606,"post_id":46560939,"comment_id":80075958,"body_markdown":"I think we need to see this class too: `com.test.test.payment.core.logging.SampleLogLayout`","body":"I think we need to see this class too: <code>com.test.test.payment.core.logging.SampleLogLayout</code>"},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507122253,"post_id":46560939,"comment_id":80084755,"body_markdown":"Yep, have added my SampleLogLayout class. Basically LogErrorMessage.create() &amp; LogMessage.create() convert the messages into JSON","body":"Yep, have added my SampleLogLayout class. Basically LogErrorMessage.create() &amp; LogMessage.create() convert the messages into JSON"},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507122528,"post_id":46560939,"comment_id":80084953,"body_markdown":"Ok, that&#39;s useful. Still not clear to me what the issue is though. Are you saying that you would like `SampleLogLayout` to emit the `renderedMessage` with a pattern? Maybe adding (1) an example log invocation (so that we can see what a `renderedMessage` looks like) and (2) the desired output would help clarify things.","body":"Ok, that&#39;s useful. Still not clear to me what the issue is though. Are you saying that you would like <code>SampleLogLayout</code> to emit the <code>renderedMessage</code> with a pattern? Maybe adding (1) an example log invocation (so that we can see what a <code>renderedMessage</code> looks like) and (2) the desired output would help clarify things."},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507136547,"post_id":46560939,"comment_id":80094350,"body_markdown":"Yes, you are correct - we want the renderedMessage to be passed to a pattern.","body":"Yes, you are correct - we want the renderedMessage to be passed to a pattern."},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507136775,"post_id":46560939,"comment_id":80094466,"body_markdown":"Actual result with Layout is as follows,\n{\n  &quot;logType&quot;: &quot;EXCEPTION&quot;,\n  &quot;message&quot;: &quot;testing&quot;,\n  &quot;errorDetails&quot;: {\n    &quot;errorCode&quot;: &quot;COMMON_600&quot;,\n    &quot;errorDescription&quot;: &quot;Generic Error&quot;\n  }\n}","body":"Actual result with Layout is as follows, {   &quot;logType&quot;: &quot;EXCEPTION&quot;,   &quot;message&quot;: &quot;testing&quot;,   &quot;errorDetails&quot;: {     &quot;errorCode&quot;: &quot;COMMON_600&quot;,     &quot;errorDescription&quot;: &quot;Generic Error&quot;   } }"},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507136865,"post_id":46560939,"comment_id":80094509,"body_markdown":"Expected result is as follows,\n  &quot;@timestamp&quot;: &quot;2017-10-03 16:15:08.185&quot;,\n  &quot;priority&quot;: &quot;ERROR&quot;,\n  &quot;application&quot;: &quot;payment&quot;,\n  &quot;class&quot;: &quot;com.test.LoggingInterceptor&quot;,\n  &quot;file&quot;: &quot;LoggingInterceptor.java:36&quot;,\n  &quot;payload&quot;: {\n  &quot;logType&quot;: &quot;EXCEPTION&quot;,\n  &quot;message&quot;: &quot;testing&quot;,\n  &quot;errorDetails&quot;: {\n    &quot;errorCode&quot;: &quot;COMMON_600&quot;,\n    &quot;errorDescription&quot;: &quot;Generic Error&quot;\n  }\n}","body":"Expected result is as follows,   &quot;@timestamp&quot;: &quot;2017-10-03 16:15:08.185&quot;,   &quot;priority&quot;: &quot;ERROR&quot;,   &quot;application&quot;: &quot;payment&quot;,   &quot;class&quot;: &quot;com.test.LoggingInterceptor&quot;,   &quot;file&quot;: &quot;LoggingInterceptor.java:36&quot;,   &quot;payload&quot;: {   &quot;logType&quot;: &quot;EXCEPTION&quot;,   &quot;message&quot;: &quot;testing&quot;,   &quot;errorDetails&quot;: {     &quot;errorCode&quot;: &quot;COMMON_600&quot;,     &quot;errorDescription&quot;: &quot;Generic Error&quot;   } }"}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1507197719,"creation_date":1507197719,"answer_id":46582913,"question_id":46560939,"body_markdown":"I started to reproduce this in order to provide a complete solution but the absence of `LogMessage` and `LogErrorMessage` made that a bit tricky.\r\n\r\nHowever, it looks to me like you just want to log in JSON format, not just the message but also the metadata such as `timestamp`, `priority` etc. \r\n\r\nThis can be achieved by using the `JsonLayout`. Here&#39;s an example of the layout configuration:\r\n\r\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n        &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n            &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n        &lt;/jsonFormatter&gt;\r\n        &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n        &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n        &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n    &lt;/layout&gt;\r\n\r\nWith that configuration the following log invocation ...\r\n\r\n    logger.info(&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;);\r\n\r\n... will emit:\r\n\r\n    {&quot;timestamp&quot;:&quot;2017-10-05 10:51:34.610&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;com.stackoverflow.logback.LogbackTest&quot;,&quot;message&quot;:&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;} \r\n\r\nYou can include MDC too, for example ...\r\n\r\n    MDC.put(&quot;application&quot;, &quot;payment&quot;);\r\n    logger.info(&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;);\r\n\r\n... will emit:\r\n\r\n    {&quot;timestamp&quot;:&quot;2017-10-05 10:52:56.088&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;mdc&quot;:{&quot;application&quot;:&quot;payment&quot;},&quot;logger&quot;:&quot;com.stackoverflow.logback.LogbackTest&quot;,&quot;message&quot;:&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;}\r\n\r\nThat&#39;s quite close to your desired output and `JsonLayout` is extensible so you could ...\r\n\r\n- Override `toJsonMap()` to change names of the keys e.g. replace `timestamp` with `@timestamp`, replace `message` with `payload`\r\n- Implement `addCustomDataToJsonMap()` to add other key:value pairs to the log event\r\n\r\nSo, I think you could achieve your desired output using the pre-existing `JsonLayout` rather than writing your own.\r\n\r\nMore details on Logback JSON extensions [here](https://github.com/qos-ch/logback-contrib/wiki/JSON).\r\n\r\nThe Maven coordinates are:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-json-core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Logback - Layout &amp; Pattern in logback.xml","body":"<p>I started to reproduce this in order to provide a complete solution but the absence of <code>LogMessage</code> and <code>LogErrorMessage</code> made that a bit tricky.</p>\n\n<p>However, it looks to me like you just want to log in JSON format, not just the message but also the metadata such as <code>timestamp</code>, <code>priority</code> etc. </p>\n\n<p>This can be achieved by using the <code>JsonLayout</code>. Here's an example of the layout configuration:</p>\n\n<pre><code>&lt;layout class=\"ch.qos.logback.contrib.json.classic.JsonLayout\"&gt;\n    &lt;jsonFormatter class=\"ch.qos.logback.contrib.jackson.JacksonJsonFormatter\"&gt;\n        &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n    &lt;/jsonFormatter&gt;\n    &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n    &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n    &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>With that configuration the following log invocation ...</p>\n\n<pre><code>logger.info(\"{\\\"a\\\": 1, \\\"b\\\": 2}\");\n</code></pre>\n\n<p>... will emit:</p>\n\n<pre><code>{\"timestamp\":\"2017-10-05 10:51:34.610\",\"level\":\"INFO\",\"thread\":\"main\",\"logger\":\"com.stackoverflow.logback.LogbackTest\",\"message\":\"{\\\"a\\\": 1, \\\"b\\\": 2}\"} \n</code></pre>\n\n<p>You can include MDC too, for example ...</p>\n\n<pre><code>MDC.put(\"application\", \"payment\");\nlogger.info(\"{\\\"a\\\": 1, \\\"b\\\": 2}\");\n</code></pre>\n\n<p>... will emit:</p>\n\n<pre><code>{\"timestamp\":\"2017-10-05 10:52:56.088\",\"level\":\"INFO\",\"thread\":\"main\",\"mdc\":{\"application\":\"payment\"},\"logger\":\"com.stackoverflow.logback.LogbackTest\",\"message\":\"{\\\"a\\\": 1, \\\"b\\\": 2}\"}\n</code></pre>\n\n<p>That's quite close to your desired output and <code>JsonLayout</code> is extensible so you could ...</p>\n\n<ul>\n<li>Override <code>toJsonMap()</code> to change names of the keys e.g. replace <code>timestamp</code> with <code>@timestamp</code>, replace <code>message</code> with <code>payload</code></li>\n<li>Implement <code>addCustomDataToJsonMap()</code> to add other key:value pairs to the log event</li>\n</ul>\n\n<p>So, I think you could achieve your desired output using the pre-existing <code>JsonLayout</code> rather than writing your own.</p>\n\n<p>More details on Logback JSON extensions <a href=\"https://github.com/qos-ch/logback-contrib/wiki/JSON\" rel=\"noreferrer\">here</a>.</p>\n\n<p>The Maven coordinates are:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-json-core&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10983,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46582913,"answer_count":1,"score":5,"last_activity_date":1697532533,"creation_date":1507107730,"question_id":46560939,"body_markdown":"I am using logback with slf4j for logging in Spring Boot application. I have created a custom layout class because all log statements are to be wrapped as a json. I have configured the logback-spring.xml as show below to take the custom layout. It works! \r\n\r\nIssue is I am unable to apply the pattern. Only either the layout works (or) the pattern. What I want is always on log, go to layout class and then apply the pattern before logging.\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${user.home}/logs/sample.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${user.home}/logs/sample_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;!-- how many days to keep the files --&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;com.test.test.payment.core.logging.SampleLogLayout&quot; &gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n        *&lt;!-- &lt;encoder&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;Pattern&gt;{&quot;@timestamp&quot;: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS}&quot;, &quot;priority&quot;: &quot;%p&quot;, &quot;application&quot;: &quot;payment&quot;,\r\n                &quot;class&quot;: &quot;%C&quot;, &quot;file&quot;: &quot;%F:%L&quot;, &quot;payload&quot;: %m }%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/encoder&gt;--&gt;*\r\n    &lt;/appender&gt;\r\n\r\nHere&#39;s the `SampleLogLayout` class:\r\n\r\n    public class SampleLogLayout extends LayoutBase&lt;LoggingEvent&gt; {\r\n    \r\n        @Override\r\n        public String doLayout(LoggingEvent event) {\r\n    \r\n            String renderedMessage = event.getMessage();\r\n    \r\n            if (!isJson(renderedMessage)) {\r\n                Throwable throwable = null;\r\n    \r\n                if (event.getLevel().equals(Level.ERROR) || event.getLevel().equals(Level.WARN)) {\r\n    \r\n                final IThrowableProxy throwableProxy = event.getThrowableProxy();\r\n                if ((throwableProxy != null) &amp;&amp; (throwableProxy instanceof ThrowableProxy)) {\r\n                    ThrowableProxy proxy = (ThrowableProxy) throwableProxy;\r\n                    throwable = proxy.getThrowable();\r\n                }\r\n                String message = LogErrorMessage.create(CommonCoreErrors.GENERIC_ERROR)\r\n                        .message(renderedMessage).exception(throwable).build();\r\n    \r\n                return message;\r\n            } else {\r\n                    return LogMessage.create(renderedMessage).build();\r\n            }\r\n    \r\n            }\r\n            return renderedMessage;\r\n        }\r\n    \r\n        private boolean isJson(String msg) {\r\n            if (null == msg) {\r\n                return false;\r\n            } else {\r\n                return msg.startsWith(&quot;{&quot;) &amp;&amp; msg.endsWith(&quot;}&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Logback - Layout &amp; Pattern in logback.xml","body":"<p>I am using logback with slf4j for logging in Spring Boot application. I have created a custom layout class because all log statements are to be wrapped as a json. I have configured the logback-spring.xml as show below to take the custom layout. It works! </p>\n\n<p>Issue is I am unable to apply the pattern. Only either the layout works (or) the pattern. What I want is always on log, go to layout class and then apply the pattern before logging.</p>\n\n<pre><code>&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;${user.home}/logs/sample.log&lt;/file&gt;\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n        &lt;fileNamePattern&gt;${user.home}/logs/sample_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;!-- how many days to keep the files --&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\"&gt;\n        &lt;layout class=\"com.test.test.payment.core.logging.SampleLogLayout\" &gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n    *&lt;!-- &lt;encoder&gt;\n        &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;Pattern&gt;{\"@timestamp\": \"%d{yyyy-MM-dd HH:mm:ss.SSS}\", \"priority\": \"%p\", \"application\": \"payment\",\n            \"class\": \"%C\", \"file\": \"%F:%L\", \"payload\": %m }%n\n        &lt;/Pattern&gt;\n    &lt;/encoder&gt;--&gt;*\n&lt;/appender&gt;\n</code></pre>\n\n<p>Here's the <code>SampleLogLayout</code> class:</p>\n\n<pre><code>public class SampleLogLayout extends LayoutBase&lt;LoggingEvent&gt; {\n\n    @Override\n    public String doLayout(LoggingEvent event) {\n\n        String renderedMessage = event.getMessage();\n\n        if (!isJson(renderedMessage)) {\n            Throwable throwable = null;\n\n            if (event.getLevel().equals(Level.ERROR) || event.getLevel().equals(Level.WARN)) {\n\n            final IThrowableProxy throwableProxy = event.getThrowableProxy();\n            if ((throwableProxy != null) &amp;&amp; (throwableProxy instanceof ThrowableProxy)) {\n                ThrowableProxy proxy = (ThrowableProxy) throwableProxy;\n                throwable = proxy.getThrowable();\n            }\n            String message = LogErrorMessage.create(CommonCoreErrors.GENERIC_ERROR)\n                    .message(renderedMessage).exception(throwable).build();\n\n            return message;\n        } else {\n                return LogMessage.create(renderedMessage).build();\n        }\n\n        }\n        return renderedMessage;\n    }\n\n    private boolean isJson(String msg) {\n        if (null == msg) {\n            return false;\n        } else {\n            return msg.startsWith(\"{\") &amp;&amp; msg.endsWith(\"}\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","methods"],"comments":[{"owner":{"account_id":96,"reputation":88662,"user_id":115,"accept_rate":97,"display_name":"UnkwnTech"},"score":0,"creation_date":1221529500,"post_id":68633,"comment_id":6500,"body_markdown":"I don&#39;t know what a Java method declaration looks like mind providing an example?","body":"I don&#39;t know what a Java method declaration looks like mind providing an example?"}],"answers":[{"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1221529852,"creation_date":1221529852,"answer_id":68669,"question_id":68633,"body_markdown":"Have you considered matching the actual possible keywords?  such as:\r\n\r\n    (?:(?:public)|(?:private)|(?:static)|(?:protected)\\s+)*\r\n\r\nIt might be a bit more likely to match correctly, though it might also make the regex harder to read...","title":"Regex that Will Match a Java Method Declaration","body":"<p>Have you considered matching the actual possible keywords?  such as:</p>\n\n<pre><code>(?:(?:public)|(?:private)|(?:static)|(?:protected)\\s+)*\n</code></pre>\n\n<p>It might be a bit more likely to match correctly, though it might also make the regex harder to read...</p>\n"},{"tags":[],"owner":{"account_id":117,"reputation":32474,"user_id":145,"accept_rate":33,"display_name":"akdom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221530835,"creation_date":1221530057,"answer_id":68697,"question_id":68633,"body_markdown":"I&#39;m pretty sure Java&#39;s regex engine is greedy by default, meaning that &lt;code&gt;&quot;\\w+ +\\w+ \\*\\\\(.\\*\\\\) \\*\\\\{&quot;&lt;/code&gt; will never match since the &lt;code&gt;.\\*&lt;/code&gt; within the parenthesis will eat everything after the opening paren.  I recommend you replace the &lt;code&gt;.*&lt;/code&gt; with [^)], this way you it will select all non-closing-paren characters.\r\n\r\n**NOTE:**  Mike Stone corrected me in the comments, and since most people don&#39;t really open the comments (I know I frequently don&#39;t notice them):\r\n&gt; Greedy doesn&#39;t mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example &quot;public void foo(int arg) { if (test) { System.exit(0); } }&quot; will not match properly... \r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>I'm pretty sure Java's regex engine is greedy by default, meaning that <code>\"\\w+ +\\w+ *\\(.*\\) *\\{\"</code> will never match since the <code>.*</code> within the parenthesis will eat everything after the opening paren.  I recommend you replace the <code>.*</code> with [^)], this way you it will select all non-closing-paren characters.</p>\n\n<p><strong>NOTE:</strong>  Mike Stone corrected me in the comments, and since most people don't really open the comments (I know I frequently don't notice them):</p>\n\n<blockquote>\n  <p>Greedy doesn't mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example \"public void foo(int arg) { if (test) { System.exit(0); } }\" will not match properly... </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":96,"reputation":88662,"user_id":115,"accept_rate":97,"display_name":"UnkwnTech"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221532096,"creation_date":1221532096,"answer_id":68890,"question_id":68633,"body_markdown":"I came up with this:&lt;br /&gt;\r\n\r\n    \\b\\w*\\s*\\w*\\(.*?\\)\\s*\\{[\\x21-\\x7E\\s]*\\}\r\nI tested it against a PHP function but it should work just the same, this is the snippet of code I used:\r\n&lt;br/&gt;\r\n\r\n    function getProfilePic($url)\r\n     {\r\n    \tif(@open_image($url) !== FALSE)\r\n    \t {\r\n    \t\t@imagepng($image, &#39;images/profiles/&#39; . $_SESSION[&#39;id&#39;] . &#39;.png&#39;);\r\n    \t\t@imagedestroy($image);\r\n    \t\treturn TRUE;\r\n    \t }\r\n    \telse \r\n    \t {\r\n    \t\treturn FALSE;\r\n    \t }\r\n     }\r\n\r\nMORE INFO:&lt;br /&gt;\r\n\r\n    Options: case insensitive\r\n    \r\n    Assert position at a word boundary &#171;\\b&#187;\r\n    Match a single character that is a “word character” (letters, digits, etc.) &#171;\\w*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) &#171;\\s*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match a single character that is a “word character” (letters, digits, etc.) &#171;\\w*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match the character “(” literally &#171;\\(&#187;\r\n    Match any single character that is not a line break character &#171;.*?&#187;\r\n       Between zero and unlimited times, as few times as possible, expanding as needed (lazy) &#171;*?&#187;\r\n    Match the character “)” literally &#171;\\)&#187;\r\n    Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) &#171;\\s*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match the character “{” literally &#171;\\{&#187;\r\n    Match a single character present in the list below &#171;[\\x21-\\x7E\\s]*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n       A character in the range between ASCII character 0x21 (33 decimal) and ASCII character 0x7E (126 decimal) &#171;\\x21-\\x7E&#187;\r\n       A whitespace character (spaces, tabs, line breaks, etc.) &#171;\\s&#187;\r\n    Match the character “}” literally &#171;\\}&#187;\r\n    \r\n    \r\n    Created with RegexBuddy\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>I came up with this:<br /></p>\n\n<pre><code>\\b\\w*\\s*\\w*\\(.*?\\)\\s*\\{[\\x21-\\x7E\\s]*\\}\n</code></pre>\n\n<p>I tested it against a PHP function but it should work just the same, this is the snippet of code I used:\n<br/></p>\n\n<pre><code>function getProfilePic($url)\n {\n    if(@open_image($url) !== FALSE)\n     {\n        @imagepng($image, 'images/profiles/' . $_SESSION['id'] . '.png');\n        @imagedestroy($image);\n        return TRUE;\n     }\n    else \n     {\n        return FALSE;\n     }\n }\n</code></pre>\n\n<p>MORE INFO:<br /></p>\n\n<pre><code>Options: case insensitive\n\nAssert position at a word boundary «\\b»\nMatch a single character that is a “word character” (letters, digits, etc.) «\\w*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) «\\s*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch a single character that is a “word character” (letters, digits, etc.) «\\w*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch the character “(” literally «\\(»\nMatch any single character that is not a line break character «.*?»\n   Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»\nMatch the character “)” literally «\\)»\nMatch a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) «\\s*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch the character “{” literally «\\{»\nMatch a single character present in the list below «[\\x21-\\x7E\\s]*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\n   A character in the range between ASCII character 0x21 (33 decimal) and ASCII character 0x7E (126 decimal) «\\x21-\\x7E»\n   A whitespace character (spaces, tabs, line breaks, etc.) «\\s»\nMatch the character “}” literally «\\}»\n\n\nCreated with RegexBuddy\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"SK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221543089,"creation_date":1221543089,"answer_id":69604,"question_id":68633,"body_markdown":"A tip:\r\n\r\nIf you are going to write the regex in Perl, please use the &quot;xms&quot; options so that you can leave spaces and document the regex. For example you can write a regex like:\r\n\r\n     m{\\w+ \\s+      #return type\r\n       \\w+ \\s*      #function name\r\n       [(] [^)]* [)] #params\r\n       \\s* [{]           #open paren\r\n      }xms\r\n\r\nOne of the options (think x) allows the # comments inside a regex. Also use \\s instead of a &quot; &quot;. \\s stands for any &quot;blank&quot; character. So tabs would also match -- which is what you would want. In Perl you don&#39;t need to use / /, you can use { } or &lt; &gt; or | |.\r\n\r\nNot sure if other languages have this ability. If they do, then please use them.","title":"Regex that Will Match a Java Method Declaration","body":"<p>A tip:</p>\n\n<p>If you are going to write the regex in Perl, please use the \"xms\" options so that you can leave spaces and document the regex. For example you can write a regex like:</p>\n\n<pre><code> m{\\w+ \\s+      #return type\n   \\w+ \\s*      #function name\n   [(] [^)]* [)] #params\n   \\s* [{]           #open paren\n  }xms\n</code></pre>\n\n<p>One of the options (think x) allows the # comments inside a regex. Also use \\s instead of a \" \". \\s stands for any \"blank\" character. So tabs would also match -- which is what you would want. In Perl you don't need to use / /, you can use { } or &lt; > or | |.</p>\n\n<p>Not sure if other languages have this ability. If they do, then please use them.</p>\n"},{"tags":[],"owner":{"account_id":21307,"reputation":2415,"user_id":51681,"accept_rate":53,"display_name":"Georgios Gousios"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1242037394,"creation_date":1242037394,"answer_id":847507,"question_id":68633,"body_markdown":"    (public|protected|private|static|\\s) +[\\w\\&lt;\\&gt;\\[\\]]+\\s+(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])\r\n\r\nI think that the above regexp can match almost all possible combinations of Java method declarations, even those including generics and arrays are return arguments, which the regexp provided by the original author did not match.","title":"Regex that Will Match a Java Method Declaration","body":"<pre><code>(public|protected|private|static|\\s) +[\\w\\&lt;\\&gt;\\[\\]]+\\s+(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])\n</code></pre>\n\n<p>I think that the above regexp can match almost all possible combinations of Java method declarations, even those including generics and arrays are return arguments, which the regexp provided by the original author did not match.</p>\n"},{"tags":[],"owner":{"account_id":29308,"reputation":11212,"user_id":79125,"accept_rate":86,"display_name":"idbrii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343314970,"creation_date":1343314970,"answer_id":11672271,"question_id":68633,"body_markdown":"I built a vim regex to do this for [ctrlp/funky][1] based on Georgios Gousios&#39;s answer.\r\n\r\n        let regex = &#39;\\v^\\s+&#39;                &quot; preamble\r\n        let regex .= &#39;%(&lt;\\w+&gt;\\s+){0,3}&#39;     &quot; visibility, static, final\r\n        let regex .= &#39;%(\\w|[&lt;&gt;[\\]])+\\s+&#39;    &quot; return type\r\n        let regex .= &#39;\\w+\\s*&#39;               &quot; method name\r\n        let regex .= &#39;\\([^\\)]*\\)&#39;           &quot; method parameters\r\n        let regex .= &#39;%(\\w|\\s|\\{)+$&#39;        &quot; postamble\r\n\r\nI&#39;d guess that looks like this in Java:\r\n\r\n    ^\\s+(?:&lt;\\w+&gt;\\s+){0,3}(?:[\\w\\&lt;\\&gt;\\[\\]])+\\s+\\w+\\s*\\([^\\)]*\\)(?:\\w|\\s|\\{)+$\r\n\r\n\r\n  [1]: https://github.com/pydave/ctrlp-funky/blob/master/autoload/ctrlp/funky/java.vim","title":"Regex that Will Match a Java Method Declaration","body":"<p>I built a vim regex to do this for <a href=\"https://github.com/pydave/ctrlp-funky/blob/master/autoload/ctrlp/funky/java.vim\" rel=\"nofollow\">ctrlp/funky</a> based on Georgios Gousios's answer.</p>\n\n<pre><code>    let regex = '\\v^\\s+'                \" preamble\n    let regex .= '%(&lt;\\w+&gt;\\s+){0,3}'     \" visibility, static, final\n    let regex .= '%(\\w|[&lt;&gt;[\\]])+\\s+'    \" return type\n    let regex .= '\\w+\\s*'               \" method name\n    let regex .= '\\([^\\)]*\\)'           \" method parameters\n    let regex .= '%(\\w|\\s|\\{)+$'        \" postamble\n</code></pre>\n\n<p>I'd guess that looks like this in Java:</p>\n\n<pre><code>^\\s+(?:&lt;\\w+&gt;\\s+){0,3}(?:[\\w\\&lt;\\&gt;\\[\\]])+\\s+\\w+\\s*\\([^\\)]*\\)(?:\\w|\\s|\\{)+$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2238466,"reputation":489,"user_id":1974143,"accept_rate":89,"display_name":"sbaltes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1567141126,"creation_date":1366450940,"answer_id":16118844,"question_id":68633,"body_markdown":"I also needed such a regular expression and came up with this solution:\r\n\r\n    (?:(?:public|private|protected|static|final|native|synchronized|abstract|transient)+\\s+)+[$_\\w&lt;&gt;\\[\\]\\s]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\\{?[^\\}]*\\}?\r\n\r\nThis [grammar][1] and Georgios Gousios answer have been useful to build the regex.\r\n\r\n**EDIT:** Considered tharindu_DG&#39;s feedback, made groups non-capturing, improved formatting.\r\n\r\n  [1]: http://cui.unige.ch/isi/bnf/JAVA/BNFindex.html","title":"Regex that Will Match a Java Method Declaration","body":"<p>I also needed such a regular expression and came up with this solution:</p>\n\n<pre><code>(?:(?:public|private|protected|static|final|native|synchronized|abstract|transient)+\\s+)+[$_\\w&lt;&gt;\\[\\]\\s]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\\{?[^\\}]*\\}?\n</code></pre>\n\n<p>This <a href=\"http://cui.unige.ch/isi/bnf/JAVA/BNFindex.html\" rel=\"nofollow noreferrer\">grammar</a> and Georgios Gousios answer have been useful to build the regex.</p>\n\n<p><strong>EDIT:</strong> Considered tharindu_DG's feedback, made groups non-capturing, improved formatting.</p>\n"},{"tags":[],"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1388358109,"creation_date":1380203791,"answer_id":19030300,"question_id":68633,"body_markdown":"After looking through the other answers, here is what I came up with:\r\n\r\n    #permission\r\n       ^[ \\t]*(?:(?:public|protected|private)\\s+)?\r\n    #keywords\r\n       (?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}\r\n    #return type\r\n       #If return type is &quot;return&quot; then it&#39;s actually a &#39;return funcName();&#39; line. Ignore.\r\n       (?!return)\r\n       \\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})\\s+\r\n    #function name\r\n       \\b\\w+\\b\\s*\r\n    #parameters\r\n       \\(\r\n          #one\r\n             \\s*(?:\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\r\n          #two and up\r\n             \\(\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\r\n       \\)\r\n    #post parameters\r\n       (?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\r\n    #close-curly (concrete) or semi-colon (abstract)\r\n       \\s*(?:\\{|;)[ \\t]*$\r\n\r\n---\r\n\r\nWhere `{#insert zJRgx123GenericsNotInGroup}` equals\r\n\r\n    `(?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)`\r\n\r\nLimitations:\r\n\r\n* ANY parameter can have an ellipsis: &quot;...&quot; (Java allows only last)\r\n* Three levels of nested generics at most: (`&lt;...&lt;...&lt;...&gt;...&gt;...&gt;` okay, `&lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt;` bad). The syntax inside generics can be very bogus, and still seem okay to this regex.\r\n* Requires no spaces between types and their (optional) opening generics &#39;&lt;&#39;\r\n* Recognizes inner classes, but doesn&#39;t prevent two dots next to each other, such as Class....InnerClass\r\n\r\nBelow is the raw PhraseExpress code (auto-text and description on line 1, body on line 2). Call `{#insert zJRgxJavaFuncSigThrSemicOrOpnCrly}`, and you get this:\r\n\r\n    ^[ \\t]*(?:(?:public|protected|private)\\s+)?(?:(static|final|native|synchronized|abstract|threadsafe|transient|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))\\s+){0,}(?!return)\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})\\s+\\b\\w+\\b\\s*\\(\\s*(?:\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\\)(?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\\s*(?:\\{|;)[ \\t]*$\r\n\r\n---\r\n\r\nRaw code:\r\n\r\n    zJRgx123GenericsNotInGroup -- To precede return-type\t(?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)\tzJRgx123GenericsNotInGroup\r\n    zJRgx0OrMoreParams\t\\s*(?:{#insert zJRgxParamTypeName}\\s*(?:,\\s+{#insert zJRgxParamTypeName}\\s*){0,})?\\s*\tzJRgx0OrMoreParams\r\n    zJRgxJavaFuncNmThrClsPrn_M_fnm -- Needs zvFOBJ_NAME\t(?&lt;=\\s)\\b{#insert zvFOBJ_NAME}{#insert zzJRgxPostFuncNmThrClsPrn}\tzJRgxJavaFuncNmThrClsPrn_M_fnm\r\n    zJRgxJavaFuncSigThrSemicOrOpnCrly -(**)-\t{#insert zzJRgxJavaFuncSigPreFuncName}\\w+{#insert zzJRgxJavaFuncSigPostFuncName}\tzJRgxJavaFuncSigThrSemicOrOpnCrly\r\n    zJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm -- Needs zvFOBJ_NAME\t{#insert zzJRgxJavaFuncSigPreFuncName}{#insert zvFOBJ_NAME}{#insert zzJRgxJavaFuncSigPostFuncName}\tzJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm\r\n    zJRgxOptKeywordsBtwScopeAndRetType\t(?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}\tzJRgxOptKeywordsBtwScopeAndRetType\r\n    zJRgxOptionalPubProtPriv\t(?:(?:public|protected|private)\\s+)?\tzJRgxOptionalPubProtPriv\r\n    zJRgxParamTypeName -(**)- Ends w/ &#39;\\b(?![&gt;\\[])&#39; to NOT find &lt;? &#39;extends XClass&#39;&gt; or ...[]&gt;\t(*Original: zJRgxParamTypeName, Needed by: zJRgxParamTypeName[4FQPTV,ForDel[NmsOnly,Types]]*){#insert zJRgxTypeW0123GenericsArry}(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\tzJRgxParamTypeName\r\n    zJRgxTypeW0123GenericsArry -- Grp1=Type, Grp2=&#39;[]&#39;, if any\t\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})\tzJRgxTypeW0123GenericsArry\r\n    zvTTL_PRMS_stL1c\t{#insert zCutL1c}{#SETPHRASE -description zvTTL_PRMS -content {#INSERTCLIPBOARD} -autotext zvTTL_PRMS -folder ctvv_folder}\tzvTTL_PRMS_stL1c\r\n    zvTTL_PRMS_stL1cSvRstrCB\t{#insert zvCB_CONTENTS_stCB}{#insert zvTTL_PRMS_stL1c}{#insert zSetCBToCB_CONTENTS}\tzvTTL_PRMS_stL1cSvRstrCB\r\n    zvTTL_PRMS_stPrompt\t{#SETPHRASE -description zvTTL_PRMS -content {#INPUT -head How many parameters? -single} -autotext zvTTL_PRMS -folder ctvv_folder}\tzvTTL_PRMS_stPrompt\r\n    zzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp -- Needs zvFOBJ_NAME, zvTTL_PRMS\t(?&lt;=[ \\t])\\b{#insert zvFOBJ_NAME}\\b\\s*\\(\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 0 -then z1slp -else zzParamsGT0_M_ttlp}}\\)\tzzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp\r\n    zzJRgxJavaFuncSigPostFuncName\t{#insert zzJRgxPostFuncNmThrClsPrn}(?:\\s*throws \\b(?:[\\w.]+)\\b(\\s*,\\s*\\b(?:[\\w.]+)\\b))?\\s*(?:\\{|;)[ \\t]*$\tzzJRgxJavaFuncSigPostFuncName\r\n    zzJRgxJavaFuncSigPreFuncName\t(*If a type has generics, there may be no spaces between it and the first open &#39;&lt;&#39;, also requires generics with three nestings at the most (&lt;...&lt;...&lt;...&gt;...&gt;...&gt; okay, &lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt; not)*)^[ \\t]*{#insert zJRgxOptionalPubProtPriv}{#insert zJRgxOptKeywordsBtwScopeAndRetType}(*To prevent &#39;return funcName();&#39; from being recognized:*)(?!return){#insert zJRgxTypeW0123GenericsArry}\\s+\\b\tzzJRgxJavaFuncSigPreFuncName\r\n    zzJRgxPostFuncNmThrClsPrn\t\\b\\s*\\({#insert zJRgx0OrMoreParams}\\)\tzzJRgxPostFuncNmThrClsPrn\r\n    zzParamsGT0_M_ttlp -- Needs zvTTL_PRMS\t{#insert zJRgxParamTypeName}\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 1 -then z1slp -else zzParamsGT1_M_ttlp}}\tzzParamsGT0_M_ttlp\r\n    zzParamsGT1_M_ttlp\t{#LOOP ,\\s+{#insert zJRgxParamTypeName}\\s* -count {#CALC {#insert zvTTL_PRMS} - 1 -round 0 -thousands none}}\tzzParamsGT1_M_ttlp\r\n    ","title":"Regex that Will Match a Java Method Declaration","body":"<p>After looking through the other answers, here is what I came up with:</p>\n\n<pre><code>#permission\n   ^[ \\t]*(?:(?:public|protected|private)\\s+)?\n#keywords\n   (?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}\n#return type\n   #If return type is \"return\" then it's actually a 'return funcName();' line. Ignore.\n   (?!return)\n   \\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})\\s+\n#function name\n   \\b\\w+\\b\\s*\n#parameters\n   \\(\n      #one\n         \\s*(?:\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\n      #two and up\n         \\(\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\n   \\)\n#post parameters\n   (?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\n#close-curly (concrete) or semi-colon (abstract)\n   \\s*(?:\\{|;)[ \\t]*$\n</code></pre>\n\n<hr>\n\n<p>Where <code>{#insert zJRgx123GenericsNotInGroup}</code> equals</p>\n\n<pre><code>`(?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)`\n</code></pre>\n\n<p>Limitations:</p>\n\n<ul>\n<li>ANY parameter can have an ellipsis: \"...\" (Java allows only last)</li>\n<li>Three levels of nested generics at most: (<code>&lt;...&lt;...&lt;...&gt;...&gt;...&gt;</code> okay, <code>&lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt;</code> bad). The syntax inside generics can be very bogus, and still seem okay to this regex.</li>\n<li>Requires no spaces between types and their (optional) opening generics '&lt;'</li>\n<li>Recognizes inner classes, but doesn't prevent two dots next to each other, such as Class....InnerClass</li>\n</ul>\n\n<p>Below is the raw PhraseExpress code (auto-text and description on line 1, body on line 2). Call <code>{#insert zJRgxJavaFuncSigThrSemicOrOpnCrly}</code>, and you get this:</p>\n\n<pre><code>^[ \\t]*(?:(?:public|protected|private)\\s+)?(?:(static|final|native|synchronized|abstract|threadsafe|transient|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))\\s+){0,}(?!return)\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})\\s+\\b\\w+\\b\\s*\\(\\s*(?:\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\\)(?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\\s*(?:\\{|;)[ \\t]*$\n</code></pre>\n\n<hr>\n\n<p>Raw code:</p>\n\n<pre><code>zJRgx123GenericsNotInGroup -- To precede return-type    (?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)  zJRgx123GenericsNotInGroup\nzJRgx0OrMoreParams  \\s*(?:{#insert zJRgxParamTypeName}\\s*(?:,\\s+{#insert zJRgxParamTypeName}\\s*){0,})?\\s*   zJRgx0OrMoreParams\nzJRgxJavaFuncNmThrClsPrn_M_fnm -- Needs zvFOBJ_NAME (?&lt;=\\s)\\b{#insert zvFOBJ_NAME}{#insert zzJRgxPostFuncNmThrClsPrn}   zJRgxJavaFuncNmThrClsPrn_M_fnm\nzJRgxJavaFuncSigThrSemicOrOpnCrly -(**)-    {#insert zzJRgxJavaFuncSigPreFuncName}\\w+{#insert zzJRgxJavaFuncSigPostFuncName}    zJRgxJavaFuncSigThrSemicOrOpnCrly\nzJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm -- Needs zvFOBJ_NAME    {#insert zzJRgxJavaFuncSigPreFuncName}{#insert zvFOBJ_NAME}{#insert zzJRgxJavaFuncSigPostFuncName}  zJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm\nzJRgxOptKeywordsBtwScopeAndRetType  (?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}    zJRgxOptKeywordsBtwScopeAndRetType\nzJRgxOptionalPubProtPriv    (?:(?:public|protected|private)\\s+)?    zJRgxOptionalPubProtPriv\nzJRgxParamTypeName -(**)- Ends w/ '\\b(?![&gt;\\[])' to NOT find &lt;? 'extends XClass'&gt; or ...[]&gt;  (*Original: zJRgxParamTypeName, Needed by: zJRgxParamTypeName[4FQPTV,ForDel[NmsOnly,Types]]*){#insert zJRgxTypeW0123GenericsArry}(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])   zJRgxParamTypeName\nzJRgxTypeW0123GenericsArry -- Grp1=Type, Grp2='[]', if any  \\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,}) zJRgxTypeW0123GenericsArry\nzvTTL_PRMS_stL1c    {#insert zCutL1c}{#SETPHRASE -description zvTTL_PRMS -content {#INSERTCLIPBOARD} -autotext zvTTL_PRMS -folder ctvv_folder}  zvTTL_PRMS_stL1c\nzvTTL_PRMS_stL1cSvRstrCB    {#insert zvCB_CONTENTS_stCB}{#insert zvTTL_PRMS_stL1c}{#insert zSetCBToCB_CONTENTS} zvTTL_PRMS_stL1cSvRstrCB\nzvTTL_PRMS_stPrompt {#SETPHRASE -description zvTTL_PRMS -content {#INPUT -head How many parameters? -single} -autotext zvTTL_PRMS -folder ctvv_folder}  zvTTL_PRMS_stPrompt\nzzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp -- Needs zvFOBJ_NAME, zvTTL_PRMS    (?&lt;=[ \\t])\\b{#insert zvFOBJ_NAME}\\b\\s*\\(\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 0 -then z1slp -else zzParamsGT0_M_ttlp}}\\)    zzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp\nzzJRgxJavaFuncSigPostFuncName   {#insert zzJRgxPostFuncNmThrClsPrn}(?:\\s*throws \\b(?:[\\w.]+)\\b(\\s*,\\s*\\b(?:[\\w.]+)\\b))?\\s*(?:\\{|;)[ \\t]*$   zzJRgxJavaFuncSigPostFuncName\nzzJRgxJavaFuncSigPreFuncName    (*If a type has generics, there may be no spaces between it and the first open '&lt;', also requires generics with three nestings at the most (&lt;...&lt;...&lt;...&gt;...&gt;...&gt; okay, &lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt; not)*)^[ \\t]*{#insert zJRgxOptionalPubProtPriv}{#insert zJRgxOptKeywordsBtwScopeAndRetType}(*To prevent 'return funcName();' from being recognized:*)(?!return){#insert zJRgxTypeW0123GenericsArry}\\s+\\b  zzJRgxJavaFuncSigPreFuncName\nzzJRgxPostFuncNmThrClsPrn   \\b\\s*\\({#insert zJRgx0OrMoreParams}\\)   zzJRgxPostFuncNmThrClsPrn\nzzParamsGT0_M_ttlp -- Needs zvTTL_PRMS  {#insert zJRgxParamTypeName}\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 1 -then z1slp -else zzParamsGT1_M_ttlp}}  zzParamsGT0_M_ttlp\nzzParamsGT1_M_ttlp  {#LOOP ,\\s+{#insert zJRgxParamTypeName}\\s* -count {#CALC {#insert zvTTL_PRMS} - 1 -round 0 -thousands none}}    zzParamsGT1_M_ttlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16120,"reputation":1,"user_id":34806,"accept_rate":92,"display_name":"Dexygen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389904204,"creation_date":1389904204,"answer_id":21172210,"question_id":68633,"body_markdown":"This is for a more specific use case but it&#39;s so much simpler I believe its worth sharing.  I did this for finding &#39;public static void&#39; methods i.e. Play controller actions, and I did it from the Windows/Cygwin command line, using grep; see: https://stackoverflow.com/a/7167115/34806\r\n\r\n    cat Foobar.java | grep -Pzo &#39;(?s)public static void.*?\\)\\s+{&#39;\r\n\r\nThe last two entries from my output are as follows:\r\n\r\n    public static void activeWorkEventStations (String type,\r\n                String symbol,\r\n                String section,\r\n                String day,\r\n                String priority,\r\n                @As(&quot;yyyy-MM-dd&quot;) Date scheduleDepartureDate) {\r\n    public static void getActiveScheduleChangeLogs(String type,\r\n                String symbol,\r\n                String section,\r\n                String day,\r\n                String priority,\r\n                @As(&quot;yyyy-MM-dd&quot;) Date scheduleDepartureDate) {\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>This is for a more specific use case but it's so much simpler I believe its worth sharing.  I did this for finding 'public static void' methods i.e. Play controller actions, and I did it from the Windows/Cygwin command line, using grep; see: <a href=\"https://stackoverflow.com/a/7167115/34806\">https://stackoverflow.com/a/7167115/34806</a></p>\n\n<pre><code>cat Foobar.java | grep -Pzo '(?s)public static void.*?\\)\\s+{'\n</code></pre>\n\n<p>The last two entries from my output are as follows:</p>\n\n<pre><code>public static void activeWorkEventStations (String type,\n            String symbol,\n            String section,\n            String day,\n            String priority,\n            @As(\"yyyy-MM-dd\") Date scheduleDepartureDate) {\npublic static void getActiveScheduleChangeLogs(String type,\n            String symbol,\n            String section,\n            String day,\n            String priority,\n            @As(\"yyyy-MM-dd\") Date scheduleDepartureDate) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458897833,"creation_date":1458897833,"answer_id":36217245,"question_id":68633,"body_markdown":"I found **seba229**&#39;s answer useful, it captures most of the scenarios, but not the following,\r\n\r\n    public &lt;T&gt; T name(final Class&lt;T&gt; x, final T y)\r\n\r\nThis regex will capture that also.\r\n\r\n    ((public|private|protected|static|final|native|synchronized|abstract|transient)+\\s)+[\\$_\\w\\&lt;\\&gt;\\w\\s\\[\\]]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\r\n\r\nHope this helps.","title":"Regex that Will Match a Java Method Declaration","body":"<p>I found <strong>seba229</strong>'s answer useful, it captures most of the scenarios, but not the following,</p>\n\n<pre><code>public &lt;T&gt; T name(final Class&lt;T&gt; x, final T y)\n</code></pre>\n\n<p>This regex will capture that also.</p>\n\n<pre><code>((public|private|protected|static|final|native|synchronized|abstract|transient)+\\s)+[\\$_\\w\\&lt;\\&gt;\\w\\s\\[\\]]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503800407,"creation_date":1503796738,"answer_id":45900932,"question_id":68633,"body_markdown":"    (public|private|static|protected) ([A-Za-z0-9&lt;&gt;.]+) ([A-Za-z0-9]+)\\(\r\n\r\nAlso, here&#39;s a replace sequence you can use in IntelliJ\r\n\r\n    $1 $2 $3(\r\n\r\nI use it like this:\r\n\r\n    $1 $2 aaa$3(\r\n\r\nwhen converting Java files to Kotlin to prevent functions that start with &quot;get&quot; from automatically turning into variables. Doesn&#39;t work with &quot;default&quot; access level, but I don&#39;t use that much myself.\r\n\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<pre><code>(public|private|static|protected) ([A-Za-z0-9&lt;&gt;.]+) ([A-Za-z0-9]+)\\(\n</code></pre>\n\n<p>Also, here's a replace sequence you can use in IntelliJ</p>\n\n<pre><code>$1 $2 $3(\n</code></pre>\n\n<p>I use it like this:</p>\n\n<pre><code>$1 $2 aaa$3(\n</code></pre>\n\n<p>when converting Java files to Kotlin to prevent functions that start with \"get\" from automatically turning into variables. Doesn't work with \"default\" access level, but I don't use that much myself.</p>\n"},{"tags":[],"owner":{"account_id":12605839,"reputation":51,"user_id":9166774,"display_name":"Souvik Das"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514960389,"creation_date":1514960389,"answer_id":48072172,"question_id":68633,"body_markdown":"`(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]+) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{`\r\n\r\nThe Regex above will detect all possible java method definitions. Tested on lot&#39;s of source code files. To include constructors as well use the below regex :\r\n\r\n`(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]*) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{`","title":"Regex that Will Match a Java Method Declaration","body":"<p><code>(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]+) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{</code></p>\n\n<p>The Regex above will detect all possible java method definitions. Tested on lot's of source code files. To include constructors as well use the below regex :</p>\n\n<p><code>(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]*) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{</code></p>\n"},{"tags":[],"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540494592,"creation_date":1540494592,"answer_id":52996479,"question_id":68633,"body_markdown":"As of git 2.19.0, the [built-in regexp for Java][1] now seems to work well, so supplying your own may not be necessary.\r\n\r\n    &quot;!^[ \\t]*(catch|do|for|if|instanceof|new|return|switch|throw|while)\\n&quot;\r\n\t&quot;^[ \\t]*(([A-Za-z_][A-Za-z_0-9]*[ \\t]+)+[A-Za-z_][A-Za-z_0-9]*[ \\t]*\\\\([^;]*)$&quot;\r\n\r\n(The first line seems to be for filtering out lines that resemble method declarations but aren&#39;t.)\r\n\r\n  [1]: https://git.kernel.org/pub/scm/git/git.git/tree/userdiff.c","title":"Regex that Will Match a Java Method Declaration","body":"<p>As of git 2.19.0, the <a href=\"https://git.kernel.org/pub/scm/git/git.git/tree/userdiff.c\" rel=\"nofollow noreferrer\">built-in regexp for Java</a> now seems to work well, so supplying your own may not be necessary.</p>\n\n<pre><code>\"!^[ \\t]*(catch|do|for|if|instanceof|new|return|switch|throw|while)\\n\"\n\"^[ \\t]*(([A-Za-z_][A-Za-z_0-9]*[ \\t]+)+[A-Za-z_][A-Za-z_0-9]*[ \\t]*\\\\([^;]*)$\"\n</code></pre>\n\n<p>(The first line seems to be for filtering out lines that resemble method declarations but aren't.)</p>\n"},{"tags":[],"owner":{"account_id":13526938,"reputation":1405,"user_id":9758506,"display_name":"Abdullah Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551985276,"creation_date":1551985276,"answer_id":55051029,"question_id":68633,"body_markdown":"This will pick the name of method not the whole line.\r\n\r\n    (?&lt;=public static void )\\w+|(?&lt;=private static void )\\w+|(?&lt;=protected static void )\\w+|(?&lt;=public void )\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public final void)\\w+|(?&lt;=private final void)\\w+|(?&lt;=protected final void)\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public static final void )\\w+|(?&lt;=private static final void )\\w+|(?&lt;=public final static void )\\w+|(?&lt;=protected final static void )\\\\w+|(?&lt;=private final static void )\\w+|(?&lt;=protected final static void )\\w+|(?&lt;=void )\\w+|(?&lt;=private static )\\w+","title":"Regex that Will Match a Java Method Declaration","body":"<p>This will pick the name of method not the whole line.</p>\n\n<pre><code>(?&lt;=public static void )\\w+|(?&lt;=private static void )\\w+|(?&lt;=protected static void )\\w+|(?&lt;=public void )\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public final void)\\w+|(?&lt;=private final void)\\w+|(?&lt;=protected final void)\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public static final void )\\w+|(?&lt;=private static final void )\\w+|(?&lt;=public final static void )\\w+|(?&lt;=protected final static void )\\\\w+|(?&lt;=private final static void )\\w+|(?&lt;=protected final static void )\\w+|(?&lt;=void )\\w+|(?&lt;=private static )\\w+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17902721,"reputation":61,"user_id":13006626,"display_name":"Mohamed Rahal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690914310,"creation_date":1690914310,"answer_id":76814305,"question_id":68633,"body_markdown":"This can completely define and separate a java function\r\n\r\n    (?&lt;access&gt;public|private|protected)?\\s*(?&lt;static&gt;static|non-static)?\\s*(?&lt;final&gt;final|non-final)?\\s*(?&lt;type&gt;void|\\w+)\\s+(?&lt;name&gt;[a-zA-Z0-9_]+)\\((?&lt;parameter&gt;.*?)\\)\\s*\\{(?s)(?&lt;body&gt;.*?)\\}\r\n\r\n[![Java function][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fBE7c.png\r\n\r\n\r\nCompatible with:\r\n\r\n - PCRE2 (PHP &gt;= 7.3)\r\n - JAVA8\r\n\r\nGroups:\r\n\r\n - access: *public*\r\n - static: *static*\r\n - final: *non-final*\r\n - type: *void*\r\n - name: *main*\r\n - parameter: *String[] args*\r\n - body: *// This is a Java function*","title":"Regex that Will Match a Java Method Declaration","body":"<p>This can completely define and separate a java function</p>\n<pre><code>(?&lt;access&gt;public|private|protected)?\\s*(?&lt;static&gt;static|non-static)?\\s*(?&lt;final&gt;final|non-final)?\\s*(?&lt;type&gt;void|\\w+)\\s+(?&lt;name&gt;[a-zA-Z0-9_]+)\\((?&lt;parameter&gt;.*?)\\)\\s*\\{(?s)(?&lt;body&gt;.*?)\\}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fBE7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fBE7c.png\" alt=\"Java function\" /></a></p>\n<p>Compatible with:</p>\n<ul>\n<li>PCRE2 (PHP &gt;= 7.3)</li>\n<li>JAVA8</li>\n</ul>\n<p>Groups:</p>\n<ul>\n<li>access: <em>public</em></li>\n<li>static: <em>static</em></li>\n<li>final: <em>non-final</em></li>\n<li>type: <em>void</em></li>\n<li>name: <em>main</em></li>\n<li>parameter: <em>String[] args</em></li>\n<li>body: <em>// This is a Java function</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11644187,"reputation":199,"user_id":8527625,"display_name":"mohammad jalili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697532503,"creation_date":1697532503,"answer_id":77307448,"question_id":68633,"body_markdown":"This is a regex that not only detects most types of Java method signatures but also supports potential exception throwing(zero or many exception classes), data types having dots, and generics. \r\n\r\nNOTE: Please consider that the method has to consist of an access modifiers (public, private, or protected) while using this regex:\r\n\r\n    \\b(public|private|protected)\\s*(&lt;[^&gt;]*&gt;)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s+[^*](\\w+(\\.\\w+)*)*(\\s*&lt;[^&gt;]*&gt;)?(\\s*\\[[^\\]]*\\])*(\\s+\\w+\\s*\\([^)]*\\)(\\s+throws\\s+\\w+(\\s*,\\s*\\w+)*)?)+\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>This is a regex that not only detects most types of Java method signatures but also supports potential exception throwing(zero or many exception classes), data types having dots, and generics.</p>\n<p>NOTE: Please consider that the method has to consist of an access modifiers (public, private, or protected) while using this regex:</p>\n<pre><code>\\b(public|private|protected)\\s*(&lt;[^&gt;]*&gt;)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s+[^*](\\w+(\\.\\w+)*)*(\\s*&lt;[^&gt;]*&gt;)?(\\s*\\[[^\\]]*\\])*(\\s+\\w+\\s*\\([^)]*\\)(\\s+throws\\s+\\w+(\\s*,\\s*\\w+)*)?)+\n</code></pre>\n"}],"owner":{"account_id":274,"reputation":12305,"user_id":340,"accept_rate":88,"display_name":"Anton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32821,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":68669,"answer_count":16,"score":19,"last_activity_date":1697532503,"creation_date":1221529458,"question_id":68633,"body_markdown":"I need a Regex that will match a java method declaration. I have come up with one that will match a method declaration, but it requires the opening bracket of the method to be on the same line as the declaration. If you have any suggestions to improve my regex or simply have a better one then please submit an answer.\r\n\r\nHere is my regex: `&quot;\\w+ +\\w+ *\\(.*\\) *\\{&quot;`\r\n\r\nFor those who do not know what a java method looks like I&#39;ll provide a basic one:\r\n\r\n    int foo()\r\n    {\r\n    \r\n    }\r\nThere are several optional parts to java methods that may be added as well but those are the only parts that a method is guaranteed to have.\r\n\r\nUpdate:\r\nMy current Regex is `&quot;\\w+ +\\w+ *\\([^\\)]*\\) *\\{&quot;` so as to prevent the situation that Mike and adkom described.","title":"Regex that Will Match a Java Method Declaration","body":"<p>I need a Regex that will match a java method declaration. I have come up with one that will match a method declaration, but it requires the opening bracket of the method to be on the same line as the declaration. If you have any suggestions to improve my regex or simply have a better one then please submit an answer.</p>\n\n<p>Here is my regex: <code>\"\\w+ +\\w+ *\\(.*\\) *\\{\"</code></p>\n\n<p>For those who do not know what a java method looks like I'll provide a basic one:</p>\n\n<pre><code>int foo()\n{\n\n}\n</code></pre>\n\n<p>There are several optional parts to java methods that may be added as well but those are the only parts that a method is guaranteed to have.</p>\n\n<p>Update:\nMy current Regex is <code>\"\\w+ +\\w+ *\\([^\\)]*\\) *\\{\"</code> so as to prevent the situation that Mike and adkom described.</p>\n"},{"tags":["java","json","http-request-parameters"],"answers":[{"tags":[],"owner":{"account_id":4045523,"reputation":335,"user_id":3326863,"accept_rate":67,"display_name":"Paris Tao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414127446,"creation_date":1414127446,"answer_id":26541845,"question_id":26541801,"body_markdown":"[Json2][1] can help. `JSON.stringify(obj)`\r\n\r\n  [1]: https://github.com/douglascrockford/JSON-js","title":"How to send json data in url as request parameters in java","body":"<p><a href=\"https://github.com/douglascrockford/JSON-js\" rel=\"nofollow\">Json2</a> can help. <code>JSON.stringify(obj)</code></p>\n"},{"tags":[],"owner":{"account_id":1971490,"reputation":1384,"user_id":1770274,"accept_rate":50,"display_name":"Nishad K Ahamed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414127938,"creation_date":1414127938,"answer_id":26541912,"question_id":26541801,"body_markdown":"you need to convert the `JSON object` to string\r\n\r\n\r\n          JSONObject obj = new JSONObject();\r\n    \r\n          obj.put(&quot;name&quot;,&quot;foo&quot;);\r\n    \r\n          StringWriter out = new StringWriter();\r\n          obj.writeJSONString(out);\r\n          \r\n          String jsonText = out.toString();//JSON object is converted to string\r\n\r\nNow, you can pass this `jsonText` as parameter.","title":"How to send json data in url as request parameters in java","body":"<p>you need to convert the <code>JSON object</code> to string</p>\n\n<pre><code>      JSONObject obj = new JSONObject();\n\n      obj.put(\"name\",\"foo\");\n\n      StringWriter out = new StringWriter();\n      obj.writeJSONString(out);\n\n      String jsonText = out.toString();//JSON object is converted to string\n</code></pre>\n\n<p>Now, you can pass this <code>jsonText</code> as parameter.</p>\n"},{"tags":[],"owner":{"account_id":4799041,"reputation":1125,"user_id":3876141,"accept_rate":100,"display_name":"Anptk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414128506,"creation_date":1414128506,"answer_id":26542001,"question_id":26541801,"body_markdown":"We can use the help of &lt;code&gt;Gson&lt;/code&gt;\r\n\r\n    String result =new Gson().toJson(&quot;your data&quot;);\r\n\r\nNB: jar file needed for Gson\r\n\r\n","title":"How to send json data in url as request parameters in java","body":"<p>We can use the help of <code>Gson</code></p>\n\n<pre><code>String result =new Gson().toJson(\"your data\");\n</code></pre>\n\n<p>NB: jar file needed for Gson</p>\n"},{"tags":[],"owner":{"account_id":5152889,"reputation":3269,"user_id":4126968,"display_name":"eee"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1414131507,"creation_date":1414131507,"answer_id":26542491,"question_id":26541801,"body_markdown":"URL encode your details parameter:\r\n\r\n    String otherParameter = &quot;374889331-&quot;;    \r\n    String jsonString = &quot;{\\&quot;aNumber\\&quot;:2}&quot;;\r\n    \r\n    String url = &quot;editTest.jsp?details=&quot; + URLEncoder.encode(otherParameter + jsonString, &quot;UTF-8&quot;);","title":"How to send json data in url as request parameters in java","body":"<p>URL encode your details parameter:</p>\n\n<pre><code>String otherParameter = \"374889331-\";    \nString jsonString = \"{\\\"aNumber\\\":2}\";\n\nString url = \"editTest.jsp?details=\" + URLEncoder.encode(otherParameter + jsonString, \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9054727,"reputation":177,"user_id":6744037,"display_name":"limo_756"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576158877,"creation_date":1576158877,"answer_id":59306191,"question_id":26541801,"body_markdown":"We can convert the Object to JSON Object using GSON, then parse the JSON object and convert it to query param string. The Object should only contain primitive objects like int, float, string, enum, etc. Otherwise, you need to add extra logic to handle those cases.\r\n    \r\n    public String getQueryParamsFromObject(String baseUrl, Object obj) {\r\n            JsonElement json = new Gson().toJsonTree(obj);\r\n            // Assumption is that all the parameters will be json primitives and there will\r\n            // be no complex objects.\r\n            return baseUrl + json.getAsJsonObject().entrySet().stream()\r\n                    .map(entry -&gt; entry.getKey() + &quot;=&quot; + entry.getValue().getAsString())\r\n                    .reduce((e1, e2) -&gt; e1 + &quot;&amp;&quot; + e2)\r\n                    .map(res -&gt; &quot;?&quot; + res).orElse(&quot;&quot;);\r\n        }\r\n\r\n","title":"How to send json data in url as request parameters in java","body":"<p>We can convert the Object to JSON Object using GSON, then parse the JSON object and convert it to query param string. The Object should only contain primitive objects like int, float, string, enum, etc. Otherwise, you need to add extra logic to handle those cases.</p>\n\n<pre><code>public String getQueryParamsFromObject(String baseUrl, Object obj) {\n        JsonElement json = new Gson().toJsonTree(obj);\n        // Assumption is that all the parameters will be json primitives and there will\n        // be no complex objects.\n        return baseUrl + json.getAsJsonObject().entrySet().stream()\n                .map(entry -&gt; entry.getKey() + \"=\" + entry.getValue().getAsString())\n                .reduce((e1, e2) -&gt; e1 + \"&amp;\" + e2)\n                .map(res -&gt; \"?\" + res).orElse(\"\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697532488,"creation_date":1697532488,"answer_id":77307442,"question_id":26541801,"body_markdown":"I would like to add my solution:\r\n\r\n\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.ArrayList;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n    import com.google.gson.JsonElement;\r\n\r\n\r\n    private static String createURIString(String str) {\r\n\t\ttry {\r\n\t\t\tURI uri = new URI(str);\r\n\t\t\treturn uri.toASCIIString();\r\n\t\t} catch (URISyntaxException x) {\r\n\t\t\tthrow new IllegalArgumentException(x.getMessage(), x);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String convertJSONBodyToURL(String input){\r\n\t\t// input = &quot;{ \\&quot;name\\&quot;: \\&quot;Test\\&quot;, \\&quot;java\\&quot;: true}&quot;;\r\n\r\n\t\tArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tJsonObject jsonObject = new JsonParser().parse(input).getAsJsonObject();\r\n\t\tfor (Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\r\n\t\t\tString key = entry.getKey();\r\n\t\t\tString value = entry.getValue().toString();\r\n                // remove &quot;&#39;, new URI would fail\r\n\t\t\t\tvalue = value.replace(&quot;\\&quot;&quot;, &quot;&quot;).replace(&quot;&#39;&quot;, &quot;&quot;);\r\n\t\t\t\r\n\t\t\t// value sanity checks\r\n\t\t\tString valueURI = FixAPI.createURIString(value);\r\n\t\t\t\r\n\t\t\t// fail in case of problems\r\n\t\t\tif(valueURI == null){\r\n\t\t\t\t// err\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// if safe, add to array\t\t\t\r\n\t\t\tarr.add(key + &quot;=&quot; + value);\r\n\t\t}\r\n\t\t\r\n\t\t// join array to String\r\n\t\tString joinedURLString = String.join(&quot;&amp;&quot;, arr);\r\n\t\t\r\n\t\treturn joinedURLString;\r\n\t}","title":"How to send json data in url as request parameters in java","body":"<p>I would like to add my solution:</p>\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.JsonElement;\n\n\nprivate static String createURIString(String str) {\n    try {\n        URI uri = new URI(str);\n        return uri.toASCIIString();\n    } catch (URISyntaxException x) {\n        throw new IllegalArgumentException(x.getMessage(), x);\n    }\n}\n\nprivate static String convertJSONBodyToURL(String input){\n    // input = &quot;{ \\&quot;name\\&quot;: \\&quot;Test\\&quot;, \\&quot;java\\&quot;: true}&quot;;\n\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    \n    JsonObject jsonObject = new JsonParser().parse(input).getAsJsonObject();\n    for (Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\n        String key = entry.getKey();\n        String value = entry.getValue().toString();\n            // remove &quot;', new URI would fail\n            value = value.replace(&quot;\\&quot;&quot;, &quot;&quot;).replace(&quot;'&quot;, &quot;&quot;);\n        \n        // value sanity checks\n        String valueURI = FixAPI.createURIString(value);\n        \n        // fail in case of problems\n        if(valueURI == null){\n            // err\n            return null;\n        }\n\n        // if safe, add to array            \n        arr.add(key + &quot;=&quot; + value);\n    }\n    \n    // join array to String\n    String joinedURLString = String.join(&quot;&amp;&quot;, arr);\n    \n    return joinedURLString;\n}\n</code></pre>\n"}],"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44054,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26542491,"answer_count":6,"score":3,"last_activity_date":1697532488,"creation_date":1414127186,"question_id":26541801,"body_markdown":"I want to send json data in url as below .\r\n\r\n \r\n\r\n    editTest.jsp?details=374889331-{&quot;aNumber&quot;:2}\r\n\r\nHow can I do this? ","title":"How to send json data in url as request parameters in java","body":"<p>I want to send json data in url as below .</p>\n\n<pre><code>editTest.jsp?details=374889331-{\"aNumber\":2}\n</code></pre>\n\n<p>How can I do this? </p>\n"},{"tags":["java","spring","spring-boot","autowired","dynamic-proxy"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1697532445,"post_id":77307404,"comment_id":136288383,"body_markdown":"I suppose it&#39;s possible if you use method injection. But this sounds more like something that should be handled on the configuration side. For example, could you add this primary component as an injected dependency instead?","body":"I suppose it&#39;s possible if you use method injection. But this sounds more like something that should be handled on the configuration side. For example, could you add this primary component as an injected dependency instead?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697533946,"post_id":77307404,"comment_id":136288699,"body_markdown":"**Now it depends on several circumstances**, feels like instead of adding a proxy and do much of this complexity why not write your own conditionals to select the implementation instead of a proxy. Only create the instance you need.","body":"<b>Now it depends on several circumstances</b>, feels like instead of adding a proxy and do much of this complexity why not write your own conditionals to select the implementation instead of a proxy. Only create the instance you need."},{"owner":{"account_id":481405,"reputation":127,"user_id":895221,"accept_rate":80,"display_name":"nauni77"},"score":0,"creation_date":1698051991,"post_id":77307404,"comment_id":136351560,"body_markdown":"@Jorn : Thanks for your answer. Yes, at the moment I already do the scan at configuration phase. Even the creation and the insertion of the primary proxy beans. This works, but I want to do this on the fly (avoid scanning) - but at the moment I think there is possibility to solve this after configuration phase.","body":"@Jorn : Thanks for your answer. Yes, at the moment I already do the scan at configuration phase. Even the creation and the insertion of the primary proxy beans. This works, but I want to do this on the fly (avoid scanning) - but at the moment I think there is possibility to solve this after configuration phase."},{"owner":{"account_id":481405,"reputation":127,"user_id":895221,"accept_rate":80,"display_name":"nauni77"},"score":0,"creation_date":1698052264,"post_id":77307404,"comment_id":136351615,"body_markdown":"@M. Deinum : Thanks for your answer. This is a very dynamic application and the proxy instance decide which remote server should be requested (or maybe the local service if no remote is present and the service exists locally). Because of this all beans needs to be there and I just select the correct bean (and configure this) during the request. Maybe the next request will address a different server (because of round-robin, load-balancing or just because one of the remotes is down).\n\nIt&#39;s a very nice idea to use conditionals, but I think this will not solve my problem.","body":"@M. Deinum : Thanks for your answer. This is a very dynamic application and the proxy instance decide which remote server should be requested (or maybe the local service if no remote is present and the service exists locally). Because of this all beans needs to be there and I just select the correct bean (and configure this) during the request. Maybe the next request will address a different server (because of round-robin, load-balancing or just because one of the remotes is down).  It&#39;s a very nice idea to use conditionals, but I think this will not solve my problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698129514,"post_id":77307404,"comment_id":136362543,"body_markdown":"Then a proxy won&#39;t help you either, you will need to implement this logic somewhete and instead of hiding it in annotations, reflections/aop just write it in a class that does what you want.","body":"Then a proxy won&#39;t help you either, you will need to implement this logic somewhete and instead of hiding it in annotations, reflections/aop just write it in a class that does what you want."}],"owner":{"account_id":481405,"reputation":127,"user_id":895221,"accept_rate":80,"display_name":"nauni77"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532272,"creation_date":1697532148,"question_id":77307404,"body_markdown":"Is there any possibility to execute some code before _every_ autowiring (for method and variable autowiring)? Because under some circumstances I want to add a primary component before this autowire/injection happened.\r\n\r\nI have different services implementing the same interface (business implementation, rest client, ...). Now it depends on several circumstances which implementation should be used. Because of this I implemented a proxy service (annotated with @Primary) which is created dynamically. At the moment at this is done at &quot;BeanDefinitionRegistryPostProcessor&quot; - but I need to scan for all components and this take some time.\r\n\r\nI want to avoid this and want to create this proxy dynamically - I tried to add the proxy at &quot;postProcessBeforeInitialization&quot;. But there is a problem if a bean should be injected which is not already created - because there are more than one possible instance and none of them is @Primary (because without initialization of this component my proxy is missing at this moment of autowiring).","title":"Hook before @Autowire (constructor and variable)?","body":"<p>Is there any possibility to execute some code before <em>every</em> autowiring (for method and variable autowiring)? Because under some circumstances I want to add a primary component before this autowire/injection happened.</p>\n<p>I have different services implementing the same interface (business implementation, rest client, ...). Now it depends on several circumstances which implementation should be used. Because of this I implemented a proxy service (annotated with @Primary) which is created dynamically. At the moment at this is done at &quot;BeanDefinitionRegistryPostProcessor&quot; - but I need to scan for all components and this take some time.</p>\n<p>I want to avoid this and want to create this proxy dynamically - I tried to add the proxy at &quot;postProcessBeforeInitialization&quot;. But there is a problem if a bean should be injected which is not already created - because there are more than one possible instance and none of them is @Primary (because without initialization of this component my proxy is missing at this moment of autowiring).</p>\n"},{"tags":["java","spring-boot","spring-test","spring-restdocs"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697532220,"creation_date":1697532220,"answer_id":77307412,"question_id":77307315,"body_markdown":"The problem&#39;s caused by your use of `/` when calling `MockMvcRestDocumentation.document(&quot;/&quot;)`. The javadoc describes it as &quot;an identifier for the API call that is being documented&quot;. The reference documentation [describes](https://docs.spring.io/spring-restdocs/docs/current/reference/htmlsingle/#getting-started-documentation-snippets-invoking-the-service) how this identifier is used when creating the  names of the snippet files that are generated.\r\n\r\nWhen the identifier starts with `/` it is [already absolute so the configured output directory is ignored](https://github.com/spring-projects/spring-restdocs/blob/f7605a479c08d1d3f2439133c4c70f0e3ba77a0e/spring-restdocs-core/src/main/java/org/springframework/restdocs/snippet/StandardWriterResolver.java#L84-L90). I would recommend using something like `index` or `root` as the identifier instead. This will result in a directory named `index` or `root` being created in the configured output directory. This directory will contain all of the snippets for the API operation that you&#39;re documenting.","title":"How can I fix a RestDocumentationGenerationException: java.io.FileNotFoundException: /curl-request.adoc (Read-only file system) in my Spring Boot app?","body":"<p>The problem's caused by your use of <code>/</code> when calling <code>MockMvcRestDocumentation.document(&quot;/&quot;)</code>. The javadoc describes it as &quot;an identifier for the API call that is being documented&quot;. The reference documentation <a href=\"https://docs.spring.io/spring-restdocs/docs/current/reference/htmlsingle/#getting-started-documentation-snippets-invoking-the-service\" rel=\"nofollow noreferrer\">describes</a> how this identifier is used when creating the  names of the snippet files that are generated.</p>\n<p>When the identifier starts with <code>/</code> it is <a href=\"https://github.com/spring-projects/spring-restdocs/blob/f7605a479c08d1d3f2439133c4c70f0e3ba77a0e/spring-restdocs-core/src/main/java/org/springframework/restdocs/snippet/StandardWriterResolver.java#L84-L90\" rel=\"nofollow noreferrer\">already absolute so the configured output directory is ignored</a>. I would recommend using something like <code>index</code> or <code>root</code> as the identifier instead. This will result in a directory named <code>index</code> or <code>root</code> being created in the configured output directory. This directory will contain all of the snippets for the API operation that you're documenting.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77307412,"answer_count":1,"score":1,"last_activity_date":1697532220,"creation_date":1697531425,"question_id":77307315,"body_markdown":"Would you believe googling this returned a whopping two results!   \r\n\r\nI&#39;m trying to use Spring REST Docs (`spring-restdocs-mockmvc`) to generate API documentation for my service. \r\n  \r\nRunning on a macbook pro with M2 processor. \r\nI&#39;ve read that this issue happens because `/` is the root directory on a mac, and that is read only. \r\nI don&#39;t know why that path is being used though.  \r\nI have the system property `org.springframework.restdocs.outputDir` set, and when I check it the path is correct: `/Users/me/workspace/my-service/target/generated-snippets`.  \r\n\r\nMy code looks like this:   \r\n```java\r\n@SpringBootTest()\r\n@ExtendWith(RestDocumentationExtension.class)\r\nclass ExampleControllerTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mvc;\r\n\r\n    @BeforeEach\r\n    public void setUp(RestDocumentationContextProvider restDocumentation) {\r\n        System.out.println(&quot;Output Directory: &quot; + System.getProperty(&quot;org.springframework.restdocs.outputDir&quot;));\r\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context)\r\n                                      .apply(MockMvcRestDocumentation.documentationConfiguration(restDocumentation))\r\n                                      .build();\r\n    }\r\n\r\n    @Test\r\n    public void index() throws Exception {\r\n        mvc.perform(MockMvcRequestBuilders.get(&quot;/&quot;).accept(MediaType.APPLICATION_JSON))\r\n           .andExpect(status().isOk()).andExpect(content().string(containsString(&quot;\\&quot;name\\&quot;:\\&quot;Example Service\\&quot;&quot;)))\r\n           .andDo(MockMvcRestDocumentation.document(&quot;/&quot;,\r\n                                                    responseFields(\r\n                                                            fieldWithPath(&quot;name&quot;).description(&quot;The name of the service&quot;),\r\n                                                            fieldWithPath(&quot;list&quot;).description(&quot;A list of Integers&quot;),\r\n                                                            fieldWithPath(&quot;calledTimes&quot;).description(\r\n                                                                    &quot;A count of the number of times this resource has been called&quot;),\r\n                                                            fieldWithPath(&quot;deployEnvironment&quot;).description(\r\n                                                                    &quot;The environment the service is deployed to&quot;)\r\n                                                    )\r\n                  )\r\n           );\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m at a total loss as to what to do here. \r\n\r\nWhen I pause the code with the debugger I can see that the `RestDocumentationContextProvider` passed into the setup method has a value called `outputDirectory` that is null. So it seems to me that it&#39;s not picking up the system property for some reason.   \r\nIf I look in `valuesStore.storedValues` there is one key/value pair with the key `class org.springframework.restdocs.ManualRestDocumentation` and a value that contains (among other things) `outputDirectory` set to `target/generated-snippets`.   \r\n\r\n ","title":"How can I fix a RestDocumentationGenerationException: java.io.FileNotFoundException: /curl-request.adoc (Read-only file system) in my Spring Boot app?","body":"<p>Would you believe googling this returned a whopping two results!</p>\n<p>I'm trying to use Spring REST Docs (<code>spring-restdocs-mockmvc</code>) to generate API documentation for my service.</p>\n<p>Running on a macbook pro with M2 processor.\nI've read that this issue happens because <code>/</code> is the root directory on a mac, and that is read only.\nI don't know why that path is being used though.<br />\nI have the system property <code>org.springframework.restdocs.outputDir</code> set, and when I check it the path is correct: <code>/Users/me/workspace/my-service/target/generated-snippets</code>.</p>\n<p>My code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest()\n@ExtendWith(RestDocumentationExtension.class)\nclass ExampleControllerTest {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    @BeforeEach\n    public void setUp(RestDocumentationContextProvider restDocumentation) {\n        System.out.println(&quot;Output Directory: &quot; + System.getProperty(&quot;org.springframework.restdocs.outputDir&quot;));\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context)\n                                      .apply(MockMvcRestDocumentation.documentationConfiguration(restDocumentation))\n                                      .build();\n    }\n\n    @Test\n    public void index() throws Exception {\n        mvc.perform(MockMvcRequestBuilders.get(&quot;/&quot;).accept(MediaType.APPLICATION_JSON))\n           .andExpect(status().isOk()).andExpect(content().string(containsString(&quot;\\&quot;name\\&quot;:\\&quot;Example Service\\&quot;&quot;)))\n           .andDo(MockMvcRestDocumentation.document(&quot;/&quot;,\n                                                    responseFields(\n                                                            fieldWithPath(&quot;name&quot;).description(&quot;The name of the service&quot;),\n                                                            fieldWithPath(&quot;list&quot;).description(&quot;A list of Integers&quot;),\n                                                            fieldWithPath(&quot;calledTimes&quot;).description(\n                                                                    &quot;A count of the number of times this resource has been called&quot;),\n                                                            fieldWithPath(&quot;deployEnvironment&quot;).description(\n                                                                    &quot;The environment the service is deployed to&quot;)\n                                                    )\n                  )\n           );\n    }\n}\n</code></pre>\n<p>I'm at a total loss as to what to do here.</p>\n<p>When I pause the code with the debugger I can see that the <code>RestDocumentationContextProvider</code> passed into the setup method has a value called <code>outputDirectory</code> that is null. So it seems to me that it's not picking up the system property for some reason.<br />\nIf I look in <code>valuesStore.storedValues</code> there is one key/value pair with the key <code>class org.springframework.restdocs.ManualRestDocumentation</code> and a value that contains (among other things) <code>outputDirectory</code> set to <code>target/generated-snippets</code>.</p>\n"},{"tags":["java","spring-boot","soap","spring-ws"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697530324,"post_id":77307130,"comment_id":136287993,"body_markdown":"Why is the definition the same as the wsdl? The definition doesn&#39;t have an input either. I have a feeling there is information missing here.","body":"Why is the definition the same as the wsdl? The definition doesn&#39;t have an input either. I have a feeling there is information missing here."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697530874,"post_id":77307130,"comment_id":136288079,"body_markdown":"Sorry, I fixed the questions. I pasted the wrong piece of code. Thanks for your hint!","body":"Sorry, I fixed the questions. I pasted the wrong piece of code. Thanks for your hint!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697531085,"post_id":77307130,"comment_id":136288121,"body_markdown":"Can you show the full xsd? I assume you generate the classes based from this and not manually constructing them, finally how are you generating the WSDL?","body":"Can you show the full xsd? I assume you generate the classes based from this and not manually constructing them, finally how are you generating the WSDL?"},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697532221,"post_id":77307130,"comment_id":136288340,"body_markdown":"The full XSD contains thousands of lines. Due to copyright I am not allowed to post this as a full file public. Which Information from the XSD to you need? The Java classes are generated with org.codehaus.mojo - jaxb2-maven-plugin. I added the WS Config part to the post.","body":"The full XSD contains thousands of lines. Due to copyright I am not allowed to post this as a full file public. Which Information from the XSD to you need? The Java classes are generated with org.codehaus.mojo - jaxb2-maven-plugin. I added the WS Config part to the post."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697533533,"post_id":77307130,"comment_id":136288610,"body_markdown":"You can try setting `requestSuffix` to `&quot;&quot;` on the `DefaultWsdl11Definition ` as the default is `Request`. Also assuming you are using Spring Boot and a recent version, remove the `MessageDispatcherServlet`, the `@EnableWs` and `extends WsConfigurerAdapter` to allow Spring BOot to do auto configuration.","body":"You can try setting <code>requestSuffix</code> to <code>&quot;&quot;</code> on the <code>DefaultWsdl11Definition </code> as the default is <code>Request</code>. Also assuming you are using Spring Boot and a recent version, remove the <code>MessageDispatcherServlet</code>, the <code>@EnableWs</code> and <code>extends WsConfigurerAdapter</code> to allow Spring BOot to do auto configuration."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697535759,"post_id":77307130,"comment_id":136289070,"body_markdown":"I am using Spring Boot 2.7.15. If I remove the ````MessageDispatcherServlet```` Bean, the configuration does not work any longer. When I request the WSDL I get an 404 error. Setting ````requestSuffix```` to Space gives an error: ```` requestSuffix must not be empty````","body":"I am using Spring Boot 2.7.15. If I remove the <code>MessageDispatcherServlet</code> Bean, the configuration does not work any longer. When I request the WSDL I get an 404 error. Setting <code>requestSuffix</code> to Space gives an error: ```` requestSuffix must not be empty````"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697536580,"post_id":77307130,"comment_id":136289260,"body_markdown":"You should also remove `@EnableWs` you only need the 2 beans, Spring BOot should configure the `MessageDispatcherServlet` then. It won&#39;t if you add `@EnableWs` and/or keep the `extends WsConfigurerAdapter`. If that gives a failure (which wouldn&#39;t be unexpected) you can try using the `ProviderBasedWsdl4jDefinition` instead, which might require some additional configuration.","body":"You should also remove <code>@EnableWs</code> you only need the 2 beans, Spring BOot should configure the <code>MessageDispatcherServlet</code> then. It won&#39;t if you add <code>@EnableWs</code> and/or keep the <code>extends WsConfigurerAdapter</code>. If that gives a failure (which wouldn&#39;t be unexpected) you can try using the <code>ProviderBasedWsdl4jDefinition</code> instead, which might require some additional configuration."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697603147,"post_id":77307130,"comment_id":136298997,"body_markdown":"I tried lots of things - but nothing worked. Removing ````@EnableWs```` and the ````MessageDispatcherServlet```` results in an error 404 when I try to access the WSDL or the method. Do you have an example of how to use ````ProviderBasedWsdl4jDefinition````?","body":"I tried lots of things - but nothing worked. Removing <code>@EnableWs</code> and the <code>MessageDispatcherServlet</code> results in an error 404 when I try to access the WSDL or the method. Do you have an example of how to use <code>ProviderBasedWsdl4jDefinition</code>?"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532051,"creation_date":1697529578,"question_id":77307130,"body_markdown":"I need to use some XSDs files from an industry standard to generate a SOAP webservice from it. REST is not possible because the consumer is only able to do SOAP calls. \r\n\r\nThe parameters in the XSD are defined as the following: \r\n````\r\n   &lt;xsd:element name=&quot;getData&quot;&gt;\r\n      &lt;xsd:complexType&gt;\r\n         &lt;xsd:sequence&gt;\r\n            &lt;xsd:element name=&quot;Request&quot; type=&quot;CT_getDataRequest&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n      &lt;/xsd:complexType&gt;\r\n   &lt;/xsd:element&gt;\r\n   &lt;xsd:element name=&quot;getDataResponse&quot;&gt;\r\n      &lt;xsd:complexType&gt;\r\n         &lt;xsd:sequence&gt;\r\n            &lt;xsd:element name=&quot;Response&quot; type=&quot;CT_getDataResponse&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n      &lt;/xsd:complexType&gt;\r\n   &lt;/xsd:element&gt;\r\n````\r\n\r\nThat is my endpoint definition: \r\n````\r\n@Endpoint\r\n@RequiredArgsConstructor\r\npublic class DataEndpoint {\r\n    private static final String NAMESPACE_URI = &quot;http://www.machine-config.net/namespace/data&quot;;\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getData&quot;)\r\n    @ResponsePayload\r\n    public GetDataResponse getData(@RequestPayload GetData request) {\r\n\t}\r\n}\r\n````\r\n\r\nHere is my WsConfiguration: \r\n````\r\n@EnableWs\r\n@Configuration\r\npublic class WebServiceConfig extends WsConfigurerAdapter {\r\n\r\n    @Bean\r\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\r\n        MessageDispatcherServlet messageDispatcherServlet = new MessageDispatcherServlet();\r\n        messageDispatcherServlet.setApplicationContext(applicationContext);\r\n        messageDispatcherServlet.setTransformWsdlLocations(true);\r\n        return new ServletRegistrationBean(messageDispatcherServlet, &quot;/ws/*&quot;);\r\n    }\r\n\r\n    @Bean(name = &quot;dataDefinition&quot;)\r\n    public DefaultWsdl11Definition dataWsdl11Definition() {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;dataServicePortType&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;http://www.machine-config.net/namespace&quot;);\r\n        wsdl11Definition.setSchemaCollection(dataSchemas());\r\n\t\t\r\n        return wsdl11Definition;\r\n    }\r\n\r\n    @Bean(name = &quot;dataSchema&quot;)\r\n    public XsdSchemaCollection dataSchemas() {\r\n        CommonsXsdSchemaCollection xsds = new CommonsXsdSchemaCollection(new ClassPathResource(&quot;xsd/data-2.18.1433.2.xsd&quot;));\r\n        xsds.setUriResolver(new DefaultURIResolver());\r\n        xsds.setInline(true);\r\n        return xsds;\r\n    }\r\n}\r\n````\r\n\r\nBut inside the generated WSDL the following operation is generated:\r\n````\r\n&lt;wsdl:operation name=&quot;getData&quot;&gt;\r\n\t&lt;wsdl:output message=&quot;sch0:getDataResponse&quot; name=&quot;getDataResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n````\r\n\r\nThe ````wsdl:input```` part is missing. \r\n\r\nWhen I change the xsd:element ````getData```` to ````getDataRequest```` the ````wsdl:input```` element is generated. \r\nBut that workaround will not work because the XSD will be delivered by a vendor and I am not allowed to change anything in this file. \r\n\r\nHow can I make spring-ws to recognize the input parameter without the Request Suffix? \r\n","title":"spring-ws Generating SOAP Service without Request Parameter Suffix","body":"<p>I need to use some XSDs files from an industry standard to generate a SOAP webservice from it. REST is not possible because the consumer is only able to do SOAP calls.</p>\n<p>The parameters in the XSD are defined as the following:</p>\n<pre><code>   &lt;xsd:element name=&quot;getData&quot;&gt;\n      &lt;xsd:complexType&gt;\n         &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;Request&quot; type=&quot;CT_getDataRequest&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n         &lt;/xsd:sequence&gt;\n      &lt;/xsd:complexType&gt;\n   &lt;/xsd:element&gt;\n   &lt;xsd:element name=&quot;getDataResponse&quot;&gt;\n      &lt;xsd:complexType&gt;\n         &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;Response&quot; type=&quot;CT_getDataResponse&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n         &lt;/xsd:sequence&gt;\n      &lt;/xsd:complexType&gt;\n   &lt;/xsd:element&gt;\n</code></pre>\n<p>That is my endpoint definition:</p>\n<pre><code>@Endpoint\n@RequiredArgsConstructor\npublic class DataEndpoint {\n    private static final String NAMESPACE_URI = &quot;http://www.machine-config.net/namespace/data&quot;;\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getData&quot;)\n    @ResponsePayload\n    public GetDataResponse getData(@RequestPayload GetData request) {\n    }\n}\n</code></pre>\n<p>Here is my WsConfiguration:</p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet messageDispatcherServlet = new MessageDispatcherServlet();\n        messageDispatcherServlet.setApplicationContext(applicationContext);\n        messageDispatcherServlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(messageDispatcherServlet, &quot;/ws/*&quot;);\n    }\n\n    @Bean(name = &quot;dataDefinition&quot;)\n    public DefaultWsdl11Definition dataWsdl11Definition() {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(&quot;dataServicePortType&quot;);\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\n        wsdl11Definition.setTargetNamespace(&quot;http://www.machine-config.net/namespace&quot;);\n        wsdl11Definition.setSchemaCollection(dataSchemas());\n        \n        return wsdl11Definition;\n    }\n\n    @Bean(name = &quot;dataSchema&quot;)\n    public XsdSchemaCollection dataSchemas() {\n        CommonsXsdSchemaCollection xsds = new CommonsXsdSchemaCollection(new ClassPathResource(&quot;xsd/data-2.18.1433.2.xsd&quot;));\n        xsds.setUriResolver(new DefaultURIResolver());\n        xsds.setInline(true);\n        return xsds;\n    }\n}\n</code></pre>\n<p>But inside the generated WSDL the following operation is generated:</p>\n<pre><code>&lt;wsdl:operation name=&quot;getData&quot;&gt;\n    &lt;wsdl:output message=&quot;sch0:getDataResponse&quot; name=&quot;getDataResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n</code></pre>\n<p>The <code>wsdl:input</code> part is missing.</p>\n<p>When I change the xsd:element <code>getData</code> to <code>getDataRequest</code> the <code>wsdl:input</code> element is generated.\nBut that workaround will not work because the XSD will be delivered by a vendor and I am not allowed to change anything in this file.</p>\n<p>How can I make spring-ws to recognize the input parameter without the Request Suffix?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9899,"page":118,"page_size":100}
