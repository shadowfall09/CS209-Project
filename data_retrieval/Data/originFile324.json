{"items":[{"tags":["java","wifi","capacitor","capacitor-plugin"],"owner":{"account_id":24099149,"reputation":41,"user_id":18071204,"display_name":"edds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688707549,"creation_date":1688638809,"question_id":76627810,"body_markdown":"```\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.Network;\r\nimport android.net.NetworkCapabilities;\r\nimport android.net.NetworkRequest;\r\nimport android.net.wifi.WifiConfiguration;\r\nimport android.net.wifi.WifiManager;\r\nimport android.net.wifi.WifiNetworkSpecifier;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.Settings;\r\nimport android.util.Log;\r\nimport com.getcapacitor.Bridge;\r\nimport com.getcapacitor.PluginCall;\r\nimport android.net.wifi.WifiNetworkSuggestion;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class WifiService {\r\n    private static final int REQUEST_WIFI_SETTINGS = 1;\r\n    private static String TAG = &quot;WifiService&quot;;\r\n    private static final int API_VERSION = Build.VERSION.SDK_INT;\r\n    private PluginCall savedCall;\r\n    private ConnectivityManager.NetworkCallback networkCallback;\r\n    WifiManager wifiManager;\r\n    ConnectivityManager connectivityManager;\r\n    Context context;\r\n    Bridge bridge;\r\n    private ActivityResultLauncher&lt;Intent&gt; wifiAddNetworkLauncher;\r\n\r\n    public void load(Bridge bridge) {\r\n      this.bridge = bridge;\r\n      this.wifiManager = (WifiManager) this.bridge.getActivity().getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n      this.connectivityManager = (ConnectivityManager) this.bridge.getActivity().getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n      this.context = this.bridge.getContext();\r\n\r\n      wifiAddNetworkLauncher = bridge.registerForActivityResult(\r\n        new ActivityResultContracts.StartActivityForResult(),\r\n        result -&gt; {\r\n            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                Toast.makeText(context, &quot;Network suggestion added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;WifiService&quot;, &quot;Network suggestion added successfully&quot;);\r\n            } else {\r\n                Toast.makeText(context, &quot;Failed to add network suggestion&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;WifiService&quot;, &quot;Failed to add network suggestion&quot;);\r\n            }\r\n        }\r\n      );\r\n    }\r\n    public void connect(PluginCall call) {\r\n        // ...\r\n        this.savedCall = call;\r\n        String ssid = call.getString(&quot;ssid&quot;);\r\n        String password = call.getString(&quot;password&quot;);\r\n        boolean isHiddenSsid = false;\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            List&lt;WifiNetworkSuggestion&gt; existingSuggestions = wifiManager.getNetworkSuggestions();\r\n            Log.d(&quot;existingSuggestions&quot;, &quot;existingSuggestions &quot; + existingSuggestions);\r\n\r\n            boolean suggestionExists = false;\r\n            for (WifiNetworkSuggestion suggestion : existingSuggestions) {\r\n                if (suggestion.getSsid().equals(ssid)) {\r\n                    suggestionExists = true;\r\n                    break;\r\n                }\r\n            }\r\n            Toast.makeText(context, &quot;suggestionExists &quot; + suggestionExists, Toast.LENGTH_SHORT).show();\r\n\r\n            if (suggestionExists) {\r\n                WifiNetworkSpecifier specifier = new WifiNetworkSpecifier.Builder()\r\n                        .setSsid(ssid)\r\n                        .build();\r\n\r\n                NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n                        .setNetworkSpecifier(specifier)\r\n                        .build();\r\n\r\n                networkCallback = new ConnectivityManager.NetworkCallback() {\r\n                    @Override\r\n                    public void onAvailable(Network network) {\r\n                        Toast.makeText(context, &quot;Connected to Wi-Fi network: &quot; + ssid, Toast.LENGTH_SHORT).show();\r\n                        Log.d(&quot;WifiService&quot;, &quot;Connected to Wi-Fi network: &quot; + ssid);\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onUnavailable() {\r\n                        Toast.makeText(context, &quot;Failed to connect to Wi-Fi network: &quot; + ssid, Toast.LENGTH_SHORT).show();\r\n                        Log.d(&quot;WifiService&quot;, &quot;Failed to connect to Wi-Fi network: &quot; + ssid);\r\n\r\n                    }\r\n                };\r\n\r\n                connectivityManager.requestNetwork(networkRequest, networkCallback);\r\n                Toast.makeText(context, &quot;Connecting to Wi-Fi network: &quot; + ssid, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;WifiService&quot;, &quot;Connecting to Wi-Fi network: &quot; + ssid);\r\n            } else {\r\n                ArrayList&lt;WifiNetworkSuggestion&gt; suggestions = new ArrayList&lt;&gt;();\r\n\r\n                // WPA2 configuration\r\n                suggestions.add(\r\n                        new WifiNetworkSuggestion.Builder()\r\n                                .setSsid(ssid)\r\n                                .setWpa2Passphrase(password)\r\n                                .build()\r\n                );\r\n\r\n                Bundle bundle = new Bundle();\r\n                bundle.putParcelableArrayList(&quot;android.provider.extra.WIFI_NETWORK_LIST&quot;, suggestions);\r\n                Intent intent = new Intent(Settings.ACTION_WIFI_ADD_NETWORKS);\r\n                intent.putExtras(bundle);\r\n\r\n                ((Activity) context).startActivityForResult(intent, REQUEST_WIFI_SETTINGS);\r\n                Toast.makeText(context, &quot;Adding network suggestion...&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;WifiService&quot;, &quot;Adding network suggestion...&quot;);\r\n\r\n            }\r\n        } else {\r\n            WifiConfiguration wifiConfig = new WifiConfiguration();\r\n            wifiConfig.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;;\r\n            wifiConfig.preSharedKey = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\r\n            int networkId = wifiManager.addNetwork(wifiConfig);\r\n            if (networkId != -1) {\r\n                wifiManager.enableNetwork(networkId, true);\r\n                wifiManager.reconnect();\r\n\r\n                Toast.makeText(context, &quot;Connecting to Wi-Fi network...&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;WifiService&quot;, &quot;Connecting to Wi-Fi network...&quot;);\r\n            } else {\r\n                Toast.makeText(context, &quot;Failed to add network configuration&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.d(&quot;WifiService&quot;, &quot;Failed to add network configuration&quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public void disconnect(PluginCall call) {\r\n        if (wifiManager.isWifiEnabled()) {\r\n            wifiManager.disconnect();\r\n\r\n            Toast.makeText(context, &quot;Disconnecting from Wi-Fi network...&quot;, Toast.LENGTH_SHORT).show();\r\n            Log.d(&quot;WifiService&quot;, &quot;Disconnecting from Wi-Fi network...&quot;);\r\n        } else {\r\n            Toast.makeText(context, &quot;Wi-Fi is not enabled&quot;, Toast.LENGTH_SHORT).show();\r\n            Log.d(&quot;WifiService&quot;, &quot;Wi-Fi is not enabled&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nMaking custom native capacitor plugin for connecting to wifi on api level 30+. Can someone help me with some questions? In the connect function i want to find out if the wifi network was already added to suggested list previously and just to connect to it. However, wifiManager.getNetworkSuggestions() returns empty list, but i can see that the network was saved... And also my disconect function doesn&#39;t work at all(( Can&#39;t understand what i&#39;m doing wrong... Maybe there is another way to reconect to wifi spot\r\n\r\nPermissions:\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\r\n```","title":"Wifi connect api level 30+","body":"<pre><code>import android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.net.Network;\nimport android.net.NetworkCapabilities;\nimport android.net.NetworkRequest;\nimport android.net.wifi.WifiConfiguration;\nimport android.net.wifi.WifiManager;\nimport android.net.wifi.WifiNetworkSpecifier;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.Settings;\nimport android.util.Log;\nimport com.getcapacitor.Bridge;\nimport com.getcapacitor.PluginCall;\nimport android.net.wifi.WifiNetworkSuggestion;\nimport android.widget.Toast;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class WifiService {\n    private static final int REQUEST_WIFI_SETTINGS = 1;\n    private static String TAG = &quot;WifiService&quot;;\n    private static final int API_VERSION = Build.VERSION.SDK_INT;\n    private PluginCall savedCall;\n    private ConnectivityManager.NetworkCallback networkCallback;\n    WifiManager wifiManager;\n    ConnectivityManager connectivityManager;\n    Context context;\n    Bridge bridge;\n    private ActivityResultLauncher&lt;Intent&gt; wifiAddNetworkLauncher;\n\n    public void load(Bridge bridge) {\n      this.bridge = bridge;\n      this.wifiManager = (WifiManager) this.bridge.getActivity().getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n      this.connectivityManager = (ConnectivityManager) this.bridge.getActivity().getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n      this.context = this.bridge.getContext();\n\n      wifiAddNetworkLauncher = bridge.registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                Toast.makeText(context, &quot;Network suggestion added successfully&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;WifiService&quot;, &quot;Network suggestion added successfully&quot;);\n            } else {\n                Toast.makeText(context, &quot;Failed to add network suggestion&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;WifiService&quot;, &quot;Failed to add network suggestion&quot;);\n            }\n        }\n      );\n    }\n    public void connect(PluginCall call) {\n        // ...\n        this.savedCall = call;\n        String ssid = call.getString(&quot;ssid&quot;);\n        String password = call.getString(&quot;password&quot;);\n        boolean isHiddenSsid = false;\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            List&lt;WifiNetworkSuggestion&gt; existingSuggestions = wifiManager.getNetworkSuggestions();\n            Log.d(&quot;existingSuggestions&quot;, &quot;existingSuggestions &quot; + existingSuggestions);\n\n            boolean suggestionExists = false;\n            for (WifiNetworkSuggestion suggestion : existingSuggestions) {\n                if (suggestion.getSsid().equals(ssid)) {\n                    suggestionExists = true;\n                    break;\n                }\n            }\n            Toast.makeText(context, &quot;suggestionExists &quot; + suggestionExists, Toast.LENGTH_SHORT).show();\n\n            if (suggestionExists) {\n                WifiNetworkSpecifier specifier = new WifiNetworkSpecifier.Builder()\n                        .setSsid(ssid)\n                        .build();\n\n                NetworkRequest networkRequest = new NetworkRequest.Builder()\n                        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n                        .setNetworkSpecifier(specifier)\n                        .build();\n\n                networkCallback = new ConnectivityManager.NetworkCallback() {\n                    @Override\n                    public void onAvailable(Network network) {\n                        Toast.makeText(context, &quot;Connected to Wi-Fi network: &quot; + ssid, Toast.LENGTH_SHORT).show();\n                        Log.d(&quot;WifiService&quot;, &quot;Connected to Wi-Fi network: &quot; + ssid);\n\n                    }\n\n                    @Override\n                    public void onUnavailable() {\n                        Toast.makeText(context, &quot;Failed to connect to Wi-Fi network: &quot; + ssid, Toast.LENGTH_SHORT).show();\n                        Log.d(&quot;WifiService&quot;, &quot;Failed to connect to Wi-Fi network: &quot; + ssid);\n\n                    }\n                };\n\n                connectivityManager.requestNetwork(networkRequest, networkCallback);\n                Toast.makeText(context, &quot;Connecting to Wi-Fi network: &quot; + ssid, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;WifiService&quot;, &quot;Connecting to Wi-Fi network: &quot; + ssid);\n            } else {\n                ArrayList&lt;WifiNetworkSuggestion&gt; suggestions = new ArrayList&lt;&gt;();\n\n                // WPA2 configuration\n                suggestions.add(\n                        new WifiNetworkSuggestion.Builder()\n                                .setSsid(ssid)\n                                .setWpa2Passphrase(password)\n                                .build()\n                );\n\n                Bundle bundle = new Bundle();\n                bundle.putParcelableArrayList(&quot;android.provider.extra.WIFI_NETWORK_LIST&quot;, suggestions);\n                Intent intent = new Intent(Settings.ACTION_WIFI_ADD_NETWORKS);\n                intent.putExtras(bundle);\n\n                ((Activity) context).startActivityForResult(intent, REQUEST_WIFI_SETTINGS);\n                Toast.makeText(context, &quot;Adding network suggestion...&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;WifiService&quot;, &quot;Adding network suggestion...&quot;);\n\n            }\n        } else {\n            WifiConfiguration wifiConfig = new WifiConfiguration();\n            wifiConfig.SSID = &quot;\\&quot;&quot; + ssid + &quot;\\&quot;&quot;;\n            wifiConfig.preSharedKey = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\n            int networkId = wifiManager.addNetwork(wifiConfig);\n            if (networkId != -1) {\n                wifiManager.enableNetwork(networkId, true);\n                wifiManager.reconnect();\n\n                Toast.makeText(context, &quot;Connecting to Wi-Fi network...&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;WifiService&quot;, &quot;Connecting to Wi-Fi network...&quot;);\n            } else {\n                Toast.makeText(context, &quot;Failed to add network configuration&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;WifiService&quot;, &quot;Failed to add network configuration&quot;);\n            }\n\n        }\n    }\n\n    public void disconnect(PluginCall call) {\n        if (wifiManager.isWifiEnabled()) {\n            wifiManager.disconnect();\n\n            Toast.makeText(context, &quot;Disconnecting from Wi-Fi network...&quot;, Toast.LENGTH_SHORT).show();\n            Log.d(&quot;WifiService&quot;, &quot;Disconnecting from Wi-Fi network...&quot;);\n        } else {\n            Toast.makeText(context, &quot;Wi-Fi is not enabled&quot;, Toast.LENGTH_SHORT).show();\n            Log.d(&quot;WifiService&quot;, &quot;Wi-Fi is not enabled&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Making custom native capacitor plugin for connecting to wifi on api level 30+. Can someone help me with some questions? In the connect function i want to find out if the wifi network was already added to suggested list previously and just to connect to it. However, wifiManager.getNetworkSuggestions() returns empty list, but i can see that the network was saved... And also my disconect function doesn't work at all(( Can't understand what i'm doing wrong... Maybe there is another way to reconect to wifi spot</p>\n<p>Permissions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","aws-lambda","velocity","vtl","apache-velocity"],"answers":[{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688706568,"creation_date":1688706568,"answer_id":76634087,"question_id":76629758,"body_markdown":"Switching to SLF4J implies that it&#39;s not anymore Velocity which is responsible for creating the log file. Velocity only depends on the SLF4J logging API, which expects to find a logger implementation in the classpath, see [Velocity logging doc](https://velocity.apache.org/engine/2.3/developer-guide.html#logging).\r\n\r\nThe easiest way to have your log file created is to add slf4j-simple to the classpath, which you can configure using [system properties](https://slf4j.org/apidocs/org/slf4j/simple/SimpleLogger.html).\r\n","title":"Is velocity.log created for Apache Velocity v2.0 by default?","body":"<p>Switching to SLF4J implies that it's not anymore Velocity which is responsible for creating the log file. Velocity only depends on the SLF4J logging API, which expects to find a logger implementation in the classpath, see <a href=\"https://velocity.apache.org/engine/2.3/developer-guide.html#logging\" rel=\"nofollow noreferrer\">Velocity logging doc</a>.</p>\n<p>The easiest way to have your log file created is to add slf4j-simple to the classpath, which you can configure using <a href=\"https://slf4j.org/apidocs/org/slf4j/simple/SimpleLogger.html\" rel=\"nofollow noreferrer\">system properties</a>.</p>\n"}],"owner":{"account_id":28831738,"reputation":11,"user_id":22081956,"display_name":"sraipuria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688706568,"creation_date":1688652856,"question_id":76629758,"body_markdown":"Since with Apache Velocity v2.0 we have moved to SLF4J, how to handle creation of velocity.log for serverless calls? For example if an AWS lambda function is calling the java code using VTL, during runtime velocity.log will not be able to create. Will an exception be thrown? Do we need to suppress velocity.log from being created? Or velocity.log creation will not happen? \r\nEarlier we were using\r\nve.setProperty(Velocity.RUNTIME_LOG_LOGSYSTEM_CLASS,NullLogChute.class.getName());\r\nto suppress the log file from getting created.\r\n\r\nCurrent code - \r\nve.setProperty(Velocity.RESOURCE_LOADER,&quot;classpath&quot;);\r\nve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\r\nve.init();","title":"Is velocity.log created for Apache Velocity v2.0 by default?","body":"<p>Since with Apache Velocity v2.0 we have moved to SLF4J, how to handle creation of velocity.log for serverless calls? For example if an AWS lambda function is calling the java code using VTL, during runtime velocity.log will not be able to create. Will an exception be thrown? Do we need to suppress velocity.log from being created? Or velocity.log creation will not happen?\nEarlier we were using\nve.setProperty(Velocity.RUNTIME_LOG_LOGSYSTEM_CLASS,NullLogChute.class.getName());\nto suppress the log file from getting created.</p>\n<p>Current code -\nve.setProperty(Velocity.RESOURCE_LOADER,&quot;classpath&quot;);\nve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\nve.init();</p>\n"},{"tags":["java","rest","servlets"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1293528987,"creation_date":1293528987,"answer_id":4545043,"question_id":4545021,"body_markdown":"If you have a single Rest servlet that handles the restful services (and this is usually the case), you can extend it and override the `service` method. There you can invoke `doPost(..)`, `doPut(..)`, etc. depending on the parameter you want. The default implementation of `HttpServlet` uses `request.getMethod()`.\r\n\r\nAnother thing you can do (less preferable) is to have your Filter fire a new request to the endpoint, using `URL.openConnection` (or apache commons http components), and stream the result of that internal request back to the client. There you can specify the request method.\r\n\r\nAnyway, I think you should try to overcome the limitation of your gateway, because it puts you in a really awkward situation.","title":"Is it possible to forward a request changing the request method?","body":"<p>If you have a single Rest servlet that handles the restful services (and this is usually the case), you can extend it and override the <code>service</code> method. There you can invoke <code>doPost(..)</code>, <code>doPut(..)</code>, etc. depending on the parameter you want. The default implementation of <code>HttpServlet</code> uses <code>request.getMethod()</code>.</p>\n\n<p>Another thing you can do (less preferable) is to have your Filter fire a new request to the endpoint, using <code>URL.openConnection</code> (or apache commons http components), and stream the result of that internal request back to the client. There you can specify the request method.</p>\n\n<p>Anyway, I think you should try to overcome the limitation of your gateway, because it puts you in a really awkward situation.</p>\n"},{"tags":[],"owner":{"account_id":484983,"reputation":686,"user_id":900999,"accept_rate":58,"display_name":"marstone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688704770,"creation_date":1688704770,"answer_id":76633987,"question_id":4545021,"body_markdown":" you can use custom HttpServletRequestWrapper to override getMethod() \r\n\r\n```java\r\npublic class ChangeHttpMethodFilter extends OncePerRequestFilter {\r\n\r\n    public class ChangeHttpMethodHttpServletRequestWrapper extends HttpServletRequestWrapper {\r\n        public ChangeHttpMethodHttpServletRequestWrapper(HttpServletRequest request) {\r\n            super(request);\r\n        }\r\n\r\n        @Override\r\n        public String getMethod() {\r\n            HttpMethod method = HttpMethod.resolve(this.getRequest().getParameter(&quot;method&quot;));\r\n            return method == null ? super.getMethod() : method.name();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n        HttpServletRequest changeHttpMethodRequest = new ChangeHttpMethodHttpServletRequestWrapper(request);\r\n        chain.doFilter(changeHttpMethodRequest, response);\r\n    }\r\n}\r\n```","title":"Is it possible to forward a request changing the request method?","body":"<p>you can use custom HttpServletRequestWrapper to override getMethod()</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChangeHttpMethodFilter extends OncePerRequestFilter {\n\n    public class ChangeHttpMethodHttpServletRequestWrapper extends HttpServletRequestWrapper {\n        public ChangeHttpMethodHttpServletRequestWrapper(HttpServletRequest request) {\n            super(request);\n        }\n\n        @Override\n        public String getMethod() {\n            HttpMethod method = HttpMethod.resolve(this.getRequest().getParameter(&quot;method&quot;));\n            return method == null ? super.getMethod() : method.name();\n        }\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\n        HttpServletRequest changeHttpMethodRequest = new ChangeHttpMethodHttpServletRequestWrapper(request);\n        chain.doFilter(changeHttpMethodRequest, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":144767,"reputation":20549,"user_id":354067,"accept_rate":92,"display_name":"Vasil Remeniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2638,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4545043,"answer_count":2,"score":3,"last_activity_date":1688704770,"creation_date":1293528793,"question_id":4545021,"body_markdown":"I&#39;m working thorough a gateway, which allows only GET requests, whilst REST endpoints behind it are able to accept the wide range of methods (POST, PUT, DELETE, OPTIONS). Therefore, I&#39;m trying to pass the request method as a parameter, having a filter, which forwards the request with a correct method. From what I can see in the specification, it&#39;s only allowed to forward the request w/o any modifications:\r\n\r\n    request.getRequestDispatcher(route).forward(request, response)\r\n\r\nAre there any workarounds? \r\n\r\nNOTE: Redirect is not an option for me.\r\n \r\n","title":"Is it possible to forward a request changing the request method?","body":"<p>I'm working thorough a gateway, which allows only GET requests, whilst REST endpoints behind it are able to accept the wide range of methods (POST, PUT, DELETE, OPTIONS). Therefore, I'm trying to pass the request method as a parameter, having a filter, which forwards the request with a correct method. From what I can see in the specification, it's only allowed to forward the request w/o any modifications:</p>\n\n<pre><code>request.getRequestDispatcher(route).forward(request, response)\n</code></pre>\n\n<p>Are there any workarounds? </p>\n\n<p>NOTE: Redirect is not an option for me.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688704671,"creation_date":1688704671,"answer_id":76633983,"question_id":76632135,"body_markdown":"You can refer this code if you are using spring boot 3 :\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig {\r\n    \r\n        private final UserDetailServiceImpl userDetailsService;\r\n    \r\n    \r\n        private final BCryptPasswordEncoder encoder;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n           http.csrf(csrf -&gt; csrf.disable())\r\n                .authorizeRequests().\r\n                requestMatchers(&quot;/category/add&quot;)\r\n                .authenticated()\r\n                .requestMatchers(&quot;/authenticate&quot;,&quot;/register&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and().exceptionHandling(ex -&gt; ex.authenticationEntryPoint(point))\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return new CustomAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService);\r\n            authenticationProvider.setPasswordEncoder(encoder);\r\n            return authenticationProvider;\r\n        }\r\n    }\r\n\r\nCustomAuthentcationManager :\r\n\r\n    public class CustomAuthenticationManager implements AuthenticationManager {\r\n    \r\n        @Autowired\r\n        private DaoAuthenticationProvider authenticationProvider;\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            return authenticationProvider.authenticate(authentication);\r\n        }\r\n    }","title":"SecurityFilterChain being ignored in spring boot cloud gateway","body":"<p>You can refer this code if you are using spring boot 3 :</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserDetailServiceImpl userDetailsService;\n\n\n    private final BCryptPasswordEncoder encoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n       http.csrf(csrf -&gt; csrf.disable())\n            .authorizeRequests().\n            requestMatchers(&quot;/category/add&quot;)\n            .authenticated()\n            .requestMatchers(&quot;/authenticate&quot;,&quot;/register&quot;).permitAll()\n            .anyRequest()\n            .authenticated()\n            .and().exceptionHandling(ex -&gt; ex.authenticationEntryPoint(point))\n            .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n    http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return new CustomAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(encoder);\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>CustomAuthentcationManager :</p>\n<pre><code>public class CustomAuthenticationManager implements AuthenticationManager {\n\n    @Autowired\n    private DaoAuthenticationProvider authenticationProvider;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return authenticationProvider.authenticate(authentication);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14150340,"reputation":90,"user_id":14690198,"display_name":"Christian Del Rio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688704671,"creation_date":1688672975,"question_id":76632135,"body_markdown":"I am trying to set up security for my api gateway (spring boot cloud gateway). Before adding spring security the requests worked just fine, but after adding spring-boot-starter-security and seting up a SecurityFilterChain every GET request gets a 401 response and every POST request with a 403 - An expected CSRF token cannot be found. I am disabling CSRF and allowing everything just to test like this:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n/**\r\n * Security configuration for the service.\r\n */\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf(csrf -&gt; csrf.disable())\r\n            .httpBasic(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(authz -&gt;\r\n                authz\r\n                    .anyRequest().permitAll()\r\n                    );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my POM, for reference:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.arkdia.condominium.apigateway&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;condominium-apigateway-2&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t&lt;name&gt;condominium-apigateway-2&lt;/name&gt;\r\n\t&lt;description&gt;Apigateway for Condominium&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.20.0&lt;/log4j2.version&gt;\r\n\t\t&lt;jjwt.version&gt;0.11.5&lt;/jjwt.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t            &lt;exclusion&gt;\r\n\t                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t            &lt;/exclusion&gt;\r\n\t        &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t            &lt;exclusion&gt;\r\n\t                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t            &lt;/exclusion&gt;\r\n\t        &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t            &lt;exclusion&gt;\r\n\t                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t            &lt;/exclusion&gt;\r\n\t        &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t        &lt;exclusions&gt;\r\n\t            &lt;exclusion&gt;\r\n\t                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t            &lt;/exclusion&gt;\r\n\t        &lt;/exclusions&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is my application.yml:\r\n\r\n```\r\nserver:\r\n  port: 6081\r\neureka:\r\n  instance:\r\n    hostname: localhost\r\n    port: 6761\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://${eureka.instance.hostname}:${eureka.instance.port}/eureka\r\nlogging:\r\n  level:\r\n    org.springframework.security: DEBUG\r\nspring:\r\n  application:\r\n    name: condominium-api-gateway\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n  cloud:\r\n    gateway:\r\n      discovery:\r\n        locator:\r\n          lower-case-service-id: true\r\n          enabled: true\r\n      routes:\r\n        -\r\n          id: condominium-authentication\r\n          uri: lb://condominium-authentication\r\n          predicates:\r\n            - Path=/api/condominium/authentication/login\r\n            - Method=POST\r\n          filters:\r\n            - RemoveRequestHeader=Cookie\r\n        -\r\n          id: condominium-authentication\r\n          uri: lb://condominium-authentication\r\n          predicates:\r\n            - Path=/api/condominium/authentication/version\r\n            - Method=GET\r\n          filters:\r\n            - RemoveRequestHeader=Cookie\r\n```\r\n\r\nAlso i enabled org.springframework.security logs to see whats going on, but just the GET requests get logs like the following:\r\n\r\n```\r\n2023-07-06 13:45:42.882  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern=&#39;/login&#39;, method=POST}\r\n2023-07-06 13:45:42.883  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mathPatternParserServerWebExchangeMatcher [m : Request &#39;GET /api/condominium/authentication/version&#39; doesn&#39;t match &#39;POST /login&#39;\r\n2023-07-06 13:45:42.884  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.884  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern=&#39;/login&#39;, method=GET}\r\n2023-07-06 13:45:42.885  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mathPatternParserServerWebExchangeMatcher [m : Request &#39;GET /api/condominium/authentication/version&#39; doesn&#39;t match &#39;GET /login&#39;\r\n2023-07-06 13:45:42.886  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.886  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern=&#39;/logout&#39;, method=GET}\r\n2023-07-06 13:45:42.887  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mathPatternParserServerWebExchangeMatcher [m : Request &#39;GET /api/condominium/authentication/version&#39; doesn&#39;t match &#39;GET /logout&#39;\r\n2023-07-06 13:45:42.887  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.888  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern=&#39;/logout&#39;, method=POST}\r\n2023-07-06 13:45:42.889  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mathPatternParserServerWebExchangeMatcher [m : Request &#39;GET /api/condominium/authentication/version&#39; doesn&#39;t match &#39;POST /logout&#39;\r\n2023-07-06 13:45:42.889  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.889  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using EndpointRequestMatcher includes=[health], excludes=[], includeLinks=false\r\n2023-07-06 13:45:42.896  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern=&#39;/actuator/health/**&#39;, method=null}\r\n2023-07-06 13:45:42.897  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mathPatternParserServerWebExchangeMatcher [m : Request &#39;GET /api/condominium/authentication/version&#39; doesn&#39;t match &#39;null /actuator/health/**&#39;\r\n2023-07-06 13:45:42.898  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.898  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.898  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36ma.DelegatingReactiveAuthorizationManager [m : Checking authorization on &#39;/api/condominium/authentication/version&#39; using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@7ebda86b\r\n2023-07-06 13:45:42.900  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mebSessionServerSecurityContextRepository [m : No SecurityContext found in WebSession: &#39;org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession@24122132&#39;\r\n2023-07-06 13:45:42.901  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.a.AuthorizationWebFilter       [m : Authorization failed: Access Denied\r\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mebSessionServerSecurityContextRepository [m : No SecurityContext found in WebSession: &#39;org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession@24122132&#39;\r\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : Trying to match using MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[*/*]]\r\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : httpRequestMediaTypes=[*/*]\r\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Processing */*\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Ignoring\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Did not match any media types\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : Trying to match using OrServerWebExchangeMatcher{matchers=[org.springframework.security.config.web.server.ServerHttpSecurity$HttpBasicSpec$$Lambda$1062/0x0000000801275d70@60534b79, AndServerWebExchangeMatcher{matchers=[NegatedServerWebExchangeMatcher{matcher=MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]}, MediaTypeRequestMatcher [matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]}]}\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using org.springframework.security.config.web.server.ServerHttpSecurity$HttpBasicSpec$$Lambda$1062/0x0000000801275d70@60534b79\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using AndServerWebExchangeMatcher{matchers=[NegatedServerWebExchangeMatcher{matcher=MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]}, MediaTypeRequestMatcher [matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]}\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.s.w.s.u.m.AndServerWebExchangeMatcher [m : Trying to match using NegatedServerWebExchangeMatcher{matcher=MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]}\r\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : httpRequestMediaTypes=[*/*]\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Processing */*\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : text/html .isCompatibleWith */* = true\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.w.s.u.m.NegatedServerWebExchangeMatcher [m : matches = false\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.s.w.s.u.m.AndServerWebExchangeMatcher [m : Did not match\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : No match found. Using default entry point org.springframework.security.web.server.DelegatingServerAuthenticationEntryPoint@46e5207c\r\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : Trying to match using org.springframework.security.config.web.server.ServerHttpSecurity$HttpBasicSpec$$Lambda$1062/0x0000000801275d70@60534b79\r\n2023-07-06 13:45:42.905  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : No match found. Using default entry point org.springframework.security.web.server.authentication.HttpBasicServerAuthenticationEntryPoint@5588263b\r\n```\r\n\r\nJudging by the logs it&#39;s that I suspect my security filter chain is being ignored, but I can&#39;t find how to fix it","title":"SecurityFilterChain being ignored in spring boot cloud gateway","body":"<p>I am trying to set up security for my api gateway (spring boot cloud gateway). Before adding spring security the requests worked just fine, but after adding spring-boot-starter-security and seting up a SecurityFilterChain every GET request gets a 401 response and every POST request with a 403 - An expected CSRF token cannot be found. I am disabling CSRF and allowing everything just to test like this:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.web.SecurityFilterChain;\n\n/**\n * Security configuration for the service.\n */\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http\n            .csrf(csrf -&gt; csrf.disable())\n            .httpBasic(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authz -&gt;\n                authz\n                    .anyRequest().permitAll()\n                    );\n        return http.build();\n    }\n}\n</code></pre>\n<p>And this is my POM, for reference:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.arkdia.condominium.apigateway&lt;/groupId&gt;\n    &lt;artifactId&gt;condominium-apigateway-2&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;name&gt;condominium-apigateway-2&lt;/name&gt;\n    &lt;description&gt;Apigateway for Condominium&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.20.0&lt;/log4j2.version&gt;\n        &lt;jjwt.version&gt;0.11.5&lt;/jjwt.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my application.yml:</p>\n<pre><code>server:\n  port: 6081\neureka:\n  instance:\n    hostname: localhost\n    port: 6761\n  client:\n    serviceUrl:\n      defaultZone: http://${eureka.instance.hostname}:${eureka.instance.port}/eureka\nlogging:\n  level:\n    org.springframework.security: DEBUG\nspring:\n  application:\n    name: condominium-api-gateway\n  main:\n    allow-bean-definition-overriding: true\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          lower-case-service-id: true\n          enabled: true\n      routes:\n        -\n          id: condominium-authentication\n          uri: lb://condominium-authentication\n          predicates:\n            - Path=/api/condominium/authentication/login\n            - Method=POST\n          filters:\n            - RemoveRequestHeader=Cookie\n        -\n          id: condominium-authentication\n          uri: lb://condominium-authentication\n          predicates:\n            - Path=/api/condominium/authentication/version\n            - Method=GET\n          filters:\n            - RemoveRequestHeader=Cookie\n</code></pre>\n<p>Also i enabled org.springframework.security logs to see whats going on, but just the GET requests get logs like the following:</p>\n<pre><code>2023-07-06 13:45:42.882  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/login', method=POST}\n2023-07-06 13:45:42.883  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mathPatternParserServerWebExchangeMatcher [m : Request 'GET /api/condominium/authentication/version' doesn't match 'POST /login'\n2023-07-06 13:45:42.884  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.884  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/login', method=GET}\n2023-07-06 13:45:42.885  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mathPatternParserServerWebExchangeMatcher [m : Request 'GET /api/condominium/authentication/version' doesn't match 'GET /login'\n2023-07-06 13:45:42.886  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.886  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=GET}\n2023-07-06 13:45:42.887  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mathPatternParserServerWebExchangeMatcher [m : Request 'GET /api/condominium/authentication/version' doesn't match 'GET /logout'\n2023-07-06 13:45:42.887  [32;1mDEBUG [m  [35m26180 [m [nio-6081-exec-3]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.888  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/logout', method=POST}\n2023-07-06 13:45:42.889  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mathPatternParserServerWebExchangeMatcher [m : Request 'GET /api/condominium/authentication/version' doesn't match 'POST /logout'\n2023-07-06 13:45:42.889  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.889  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using EndpointRequestMatcher includes=[health], excludes=[], includeLinks=false\n2023-07-06 13:45:42.896  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using PathMatcherServerWebExchangeMatcher{pattern='/actuator/health/**', method=null}\n2023-07-06 13:45:42.897  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mathPatternParserServerWebExchangeMatcher [m : Request 'GET /api/condominium/authentication/version' doesn't match 'null /actuator/health/**'\n2023-07-06 13:45:42.898  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.898  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.898  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36ma.DelegatingReactiveAuthorizationManager [m : Checking authorization on '/api/condominium/authentication/version' using org.springframework.security.authorization.AuthenticatedReactiveAuthorizationManager@7ebda86b\n2023-07-06 13:45:42.900  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mebSessionServerSecurityContextRepository [m : No SecurityContext found in WebSession: 'org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession@24122132'\n2023-07-06 13:45:42.901  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.a.AuthorizationWebFilter       [m : Authorization failed: Access Denied\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mebSessionServerSecurityContextRepository [m : No SecurityContext found in WebSession: 'org.springframework.web.server.session.InMemoryWebSessionStore$InMemoryWebSession@24122132'\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : Trying to match using MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[*/*]]\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : httpRequestMediaTypes=[*/*]\n2023-07-06 13:45:42.902  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Processing */*\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Ignoring\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Did not match any media types\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : Trying to match using OrServerWebExchangeMatcher{matchers=[org.springframework.security.config.web.server.ServerHttpSecurity$HttpBasicSpec$$Lambda$1062/0x0000000801275d70@60534b79, AndServerWebExchangeMatcher{matchers=[NegatedServerWebExchangeMatcher{matcher=MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]}, MediaTypeRequestMatcher [matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]}]}\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using org.springframework.security.config.web.server.ServerHttpSecurity$HttpBasicSpec$$Lambda$1062/0x0000000801275d70@60534b79\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : Trying to match using AndServerWebExchangeMatcher{matchers=[NegatedServerWebExchangeMatcher{matcher=MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]}, MediaTypeRequestMatcher [matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]]}\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.s.w.s.u.m.AndServerWebExchangeMatcher [m : Trying to match using NegatedServerWebExchangeMatcher{matcher=MediaTypeRequestMatcher [matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]}\n2023-07-06 13:45:42.903  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : httpRequestMediaTypes=[*/*]\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : Processing */*\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.u.m.MediaTypeServerWebExchangeMatcher [m : text/html .isCompatibleWith */* = true\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.w.s.u.m.NegatedServerWebExchangeMatcher [m : matches = false\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36m.s.s.w.s.u.m.AndServerWebExchangeMatcher [m : Did not match\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mo.s.s.w.s.u.m.OrServerWebExchangeMatcher [m : No matches found\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : No match found. Using default entry point org.springframework.security.web.server.DelegatingServerAuthenticationEntryPoint@46e5207c\n2023-07-06 13:45:42.904  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : Trying to match using org.springframework.security.config.web.server.ServerHttpSecurity$HttpBasicSpec$$Lambda$1062/0x0000000801275d70@60534b79\n2023-07-06 13:45:42.905  [32;1mDEBUG [m  [35m26180 [m [     parallel-2]  [36mDelegatingServerAuthenticationEntryPoint [m : No match found. Using default entry point org.springframework.security.web.server.authentication.HttpBasicServerAuthenticationEntryPoint@5588263b\n</code></pre>\n<p>Judging by the logs it's that I suspect my security filter chain is being ignored, but I can't find how to fix it</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign"],"owner":{"account_id":26186505,"reputation":11,"user_id":19868973,"display_name":"Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688704633,"creation_date":1688704633,"question_id":76633980,"body_markdown":"Springboot AuthInfoInterceptor Inject a FeignClient will report a error.\r\nNow I have a modul A with a FeignClient AService.\r\nSecond,I have a modulB B depend on A. \r\nThirdB have a Interceptor called `public class AuthInfoInterceptor implements HandlerInterceptor`\r\nIf I user Autowired inject AService like this:\r\n```\r\n@Component\r\npublic class AuthInfoInterceptor implements HandlerInterceptor {\r\n\r\n    @Autowired\r\n    private AService aService;\r\n}\r\n```\r\nit will report a error\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;mvcResourceUrlProvider&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.17.jar:5.3.17]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.17.jar:5.3.17]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.17.jar:5.3.17]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.17.jar:5.3.17]\r\n\r\n\r\nI know i can user `@Lazy`,but i want to know why will report this error","title":"Springboot AuthInfoInterceptor Inject a FeignClient will report a error","body":"<p>Springboot AuthInfoInterceptor Inject a FeignClient will report a error.\nNow I have a modul A with a FeignClient AService.\nSecond,I have a modulB B depend on A.\nThirdB have a Interceptor called <code>public class AuthInfoInterceptor implements HandlerInterceptor</code>\nIf I user Autowired inject AService like this:</p>\n<pre><code>@Component\npublic class AuthInfoInterceptor implements HandlerInterceptor {\n\n    @Autowired\n    private AService aService;\n}\n</code></pre>\n<p>it will report a error\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'mvcResourceUrlProvider': Requested bean is currently in creation: Is there an unresolvable circular reference?\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.17.jar:5.3.17]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.17.jar:5.3.17]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.17.jar:5.3.17]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.17.jar:5.3.17]</p>\n<p>I know i can user <code>@Lazy</code>,but i want to know why will report this error</p>\n"},{"tags":["java","counter","open-telemetry"],"comments":[{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1689007478,"post_id":76625939,"comment_id":135149199,"body_markdown":"&quot;Is there any way to retrieve the current counter value without relying on the exporter or backend system where the metrics are sent?&quot; - No. In OpenTelemetry metrics, the API is strictly for recording measurements. Access to the aggregated metrics is only available through the SDK by registering a custom reader / exporter.","body":"&quot;Is there any way to retrieve the current counter value without relying on the exporter or backend system where the metrics are sent?&quot; - No. In OpenTelemetry metrics, the API is strictly for recording measurements. Access to the aggregated metrics is only available through the SDK by registering a custom reader / exporter."}],"answers":[{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688632120,"creation_date":1688632120,"answer_id":76626922,"question_id":76625939,"body_markdown":"The recommended way would be to use an asynchronous counter, where you store the value yourself, and provide a callback to OpenTelemetry to access that value using [buildWithCallback](https://github.com/open-telemetry/opentelemetry-java/blob/main/api/all/src/main/java/io/opentelemetry/api/metrics/LongCounterBuilder.java#L61).","title":"How to retrieve the current counter value using Opentelemetry Java API?","body":"<p>The recommended way would be to use an asynchronous counter, where you store the value yourself, and provide a callback to OpenTelemetry to access that value using <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/api/all/src/main/java/io/opentelemetry/api/metrics/LongCounterBuilder.java#L61\" rel=\"nofollow noreferrer\">buildWithCallback</a>.</p>\n"}],"owner":{"account_id":28939040,"reputation":1,"user_id":22165951,"display_name":"Vasu. Tk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688704279,"creation_date":1688623585,"question_id":76625939,"body_markdown":"As per my understanding OpenTelemetry is designed to capture incremental changes and is primarily used for aggregating and exporting metrics to monitoring systems. However, it does not provide a direct means to access the current value.\r\n\r\nI&#39;m trying to bridge between our custom Counter API and opentelemetry-java API. I&#39;m able to do the increment or decrement but unable able to identify how to retrieve the value of the counter.\r\n\r\nIs there any way to retrieve the current counter value without relying on the exporter or backend system where the metrics are sent?\r\n\r\n\r\n","title":"How to retrieve the current counter value using Opentelemetry Java API?","body":"<p>As per my understanding OpenTelemetry is designed to capture incremental changes and is primarily used for aggregating and exporting metrics to monitoring systems. However, it does not provide a direct means to access the current value.</p>\n<p>I'm trying to bridge between our custom Counter API and opentelemetry-java API. I'm able to do the increment or decrement but unable able to identify how to retrieve the value of the counter.</p>\n<p>Is there any way to retrieve the current counter value without relying on the exporter or backend system where the metrics are sent?</p>\n"},{"tags":["java","interface","terminology","abstract-data-type"],"comments":[{"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"score":5,"creation_date":1381208892,"post_id":19239471,"comment_id":28477845,"body_markdown":"possible duplicate of [What is the difference between an interface and abstract class?](http://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class\">What is the difference between an interface and abstract class?</a>"},{"owner":{"account_id":2662423,"reputation":1448,"user_id":2301782,"accept_rate":48,"display_name":"TheGraduateGuy"},"score":2,"creation_date":1381209366,"post_id":19239471,"comment_id":28477998,"body_markdown":"you should have researched it before asking this question .This question/answer is available on so many places then you ca easily find it.","body":"you should have researched it before asking this question .This question/answer is available on so many places then you ca easily find it."},{"owner":{"account_id":2859264,"reputation":193,"user_id":2454830,"accept_rate":33,"display_name":"user2454830"},"score":3,"creation_date":1381210413,"post_id":19239471,"comment_id":28478355,"body_markdown":"Is there any difference between Abstract Class and Abstract Data Type","body":"Is there any difference between Abstract Class and Abstract Data Type"},{"owner":{"account_id":2859264,"reputation":193,"user_id":2454830,"accept_rate":33,"display_name":"user2454830"},"score":1,"creation_date":1381212953,"post_id":19239471,"comment_id":28479284,"body_markdown":"DownVoter can leave a comment here. Thaknks","body":"DownVoter can leave a comment here. Thaknks"},{"owner":{"account_id":335069,"reputation":70755,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1404727761,"post_id":19239471,"comment_id":38129602,"body_markdown":"possible duplicate of [Abstract class vs Interface in Java](http://stackoverflow.com/questions/10040069/abstract-class-vs-interface-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10040069/abstract-class-vs-interface-in-java\">Abstract class vs Interface in Java</a>"},{"owner":{"account_id":462341,"reputation":1210,"user_id":864595,"display_name":"ty1824"},"score":7,"creation_date":1415093781,"post_id":19239471,"comment_id":42050877,"body_markdown":"For anyone looking at this in the future - this question is -not- a duplicate of any of those proposed questions. It is quite specifically about Abstract Data Types, which several answers have mentioned (and the majority of the answers completely missed), and not Abstract Classes.","body":"For anyone looking at this in the future - this question is -not- a duplicate of any of those proposed questions. It is quite specifically about Abstract Data Types, which several answers have mentioned (and the majority of the answers completely missed), and not Abstract Classes."},{"owner":{"account_id":1029317,"reputation":1960,"user_id":1037960,"accept_rate":93,"display_name":"Zimano"},"score":0,"creation_date":1515513392,"post_id":19239471,"comment_id":83323550,"body_markdown":"This is one of the messiest question and answer page I have found here on SO lol","body":"This is one of the messiest question and answer page I have found here on SO lol"}],"answers":[{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"down_vote_count":11,"up_vote_count":4,"is_accepted":true,"score":-7,"last_activity_date":1381208850,"creation_date":1381208850,"answer_id":19239512,"question_id":19239471,"body_markdown":"    What is the difference between Abstract data type and Interface.\r\n\r\n 1. Variables declared in a Java interface is by default final. An \r\n    abstract class may contain non-final variables.\r\n 2. Members of a Java interface are public by default. A Java abstract\r\n    class can have the usual flavors of class members like private,\r\n    protected, etc..\r\ncheck this [link][1] for info\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/interfacevsabstract.html#TABLE","title":"Abstract Data Type and Interface","body":"<pre><code>What is the difference between Abstract data type and Interface.\n</code></pre>\n\n<ol>\n<li>Variables declared in a Java interface is by default final. An \nabstract class may contain non-final variables.</li>\n<li>Members of a Java interface are public by default. A Java abstract\nclass can have the usual flavors of class members like private,\nprotected, etc..\ncheck this <a href=\"http://mindprod.com/jgloss/interfacevsabstract.html#TABLE\" rel=\"nofollow\">link</a> for info</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2662423,"reputation":1448,"user_id":2301782,"accept_rate":48,"display_name":"TheGraduateGuy"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1381211217,"creation_date":1381209039,"answer_id":19239545,"question_id":19239471,"body_markdown":"In java-\r\n\r\n interface can have only abstract method which means you can only declare the method i.e . method can have any default implementation.but  abstract class can have both abstract or complete method.\r\n\r\n if the class you are extending is abstract then your child class should either be declared as abstract or should implement all abstract method of super class.\r\n           In case -in interface you can implement as many interface you want.Here also you should implement all the abstract method of all the interfaces in your class or it should be declared as abstract.\r\n\r\n\r\nfollow these link\r\n\r\nhttp://javapapers.com/core-java/abstract-and-interface-core-java-2/difference-between-a-java-interface-and-a-java-abstract-class/\r\n\r\nhttp://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface\r\n\r\nhttps://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class","title":"Abstract Data Type and Interface","body":"<p>In java-</p>\n\n<p>interface can have only abstract method which means you can only declare the method i.e . method can have any default implementation.but  abstract class can have both abstract or complete method.</p>\n\n<p>if the class you are extending is abstract then your child class should either be declared as abstract or should implement all abstract method of super class.\n           In case -in interface you can implement as many interface you want.Here also you should implement all the abstract method of all the interfaces in your class or it should be declared as abstract.</p>\n\n<p>follow these link</p>\n\n<p><a href=\"http://javapapers.com/core-java/abstract-and-interface-core-java-2/difference-between-a-java-interface-and-a-java-abstract-class/\" rel=\"nofollow noreferrer\">http://javapapers.com/core-java/abstract-and-interface-core-java-2/difference-between-a-java-interface-and-a-java-abstract-class/</a></p>\n\n<p><a href=\"http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Articles/11155/Abstract-Class-versus-Interface</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1913098/what-is-the-difference-between-an-interface-and-abstract-class\">What is the difference between an interface and abstract class?</a></p>\n"},{"tags":[],"owner":{"account_id":3191887,"reputation":849,"user_id":2695953,"display_name":"Saj"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1381223919,"creation_date":1381209283,"answer_id":19239583,"question_id":19239471,"body_markdown":"The combination of data together with its methods is called an Abstract Data Type(ADT).\r\n\r\nA Java Interface is a way to specify ( but not implement) an ADT.\r\n\r\nIt specifies the names, parameters, and return types(ie, header) of the ADT methods.\r\n\r\nThe interface does not specify the data fields (except public constants), as that is an implementation detail.\r\n\r\nA Java Interface specifies the requirements of an ADT as a contract between the service provider ( class that implements the ADT) and the client (the user of the class).","title":"Abstract Data Type and Interface","body":"<p>The combination of data together with its methods is called an Abstract Data Type(ADT).</p>\n\n<p>A Java Interface is a way to specify ( but not implement) an ADT.</p>\n\n<p>It specifies the names, parameters, and return types(ie, header) of the ADT methods.</p>\n\n<p>The interface does not specify the data fields (except public constants), as that is an implementation detail.</p>\n\n<p>A Java Interface specifies the requirements of an ADT as a contract between the service provider ( class that implements the ADT) and the client (the user of the class).</p>\n"},{"tags":[],"owner":{"account_id":1867211,"reputation":162,"user_id":1690448,"display_name":"Sankar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1543644553,"creation_date":1381211149,"answer_id":19239981,"question_id":19239471,"body_markdown":"The combination of data with its methods is called an Abstract Data Type (ADT).\r\n\r\nA Java Interface is a way to specify an Abstract Data Type (ADT).\r\n\r\nYou can declare a class as abstract when it contains zero or more abstract methods or When an interface is implemented to a class where not all methods are not implemented.","title":"Abstract Data Type and Interface","body":"<p>The combination of data with its methods is called an Abstract Data Type (ADT).</p>\n\n<p>A Java Interface is a way to specify an Abstract Data Type (ADT).</p>\n\n<p>You can declare a class as abstract when it contains zero or more abstract methods or When an interface is implemented to a class where not all methods are not implemented.</p>\n"},{"tags":[],"owner":{"account_id":1242916,"reputation":437,"user_id":1205066,"accept_rate":100,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1399974440,"creation_date":1399974440,"answer_id":23627908,"question_id":19239471,"body_markdown":"Try to think about it like this:\r\n\r\n - Java interface is a type, which boils down to a **set of method signatures**. Any type, willing to be referenced as interface must provide implementation for these signatures. In reality, there is no behaviour contract. Your implementation can do nothing and still be &#39;implementing&#39; an interface.\r\n\r\n - Java abstract class is a type, with **partially specified behaviour** whose internal implementation for some reason must be specified in his inheritor. This class does have behaviour, which can be redefined/specified in his inheritors.\r\n\r\n - ADT is a **set of expected behaviours**. You assume, that after calling `adt.remove(element)` you call `adt.get(element)` and receive `null`.\r\n\r\nThe answer to your question is: just an interface is not enough to be an ADT.\r\n\r\n - Everything, that **correctly implements** your interface `MyListADT&lt;T&gt;` is an ADT. Its external behaviour must conform the ADT concept. This means, that to be considered as ADT, your type must carry implementation, which results either in abstract class or a normal class. For example: `java.util.List&lt;T&gt;` is an interface for an ADT, but `java.util.ArrayList&lt;T&gt;` and `java.util.LinkedList&lt;T&gt;` are actually ADTs, because their actual behaviour does conform the ADT concept.","title":"Abstract Data Type and Interface","body":"<p>Try to think about it like this:</p>\n\n<ul>\n<li><p>Java interface is a type, which boils down to a <strong>set of method signatures</strong>. Any type, willing to be referenced as interface must provide implementation for these signatures. In reality, there is no behaviour contract. Your implementation can do nothing and still be 'implementing' an interface.</p></li>\n<li><p>Java abstract class is a type, with <strong>partially specified behaviour</strong> whose internal implementation for some reason must be specified in his inheritor. This class does have behaviour, which can be redefined/specified in his inheritors.</p></li>\n<li><p>ADT is a <strong>set of expected behaviours</strong>. You assume, that after calling <code>adt.remove(element)</code> you call <code>adt.get(element)</code> and receive <code>null</code>.</p></li>\n</ul>\n\n<p>The answer to your question is: just an interface is not enough to be an ADT.</p>\n\n<ul>\n<li>Everything, that <strong>correctly implements</strong> your interface <code>MyListADT&lt;T&gt;</code> is an ADT. Its external behaviour must conform the ADT concept. This means, that to be considered as ADT, your type must carry implementation, which results either in abstract class or a normal class. For example: <code>java.util.List&lt;T&gt;</code> is an interface for an ADT, but <code>java.util.ArrayList&lt;T&gt;</code> and <code>java.util.LinkedList&lt;T&gt;</code> are actually ADTs, because their actual behaviour does conform the ADT concept.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1400065956,"creation_date":1400065956,"answer_id":23653021,"question_id":19239471,"body_markdown":"There seems to a confusion in this Q&amp;A. The question was about &quot;Abstract Data Type and Interface&quot; and most of the answers concetrating about &quot;Abstract Classes&quot;. \r\n\r\nThe terms &#39;abstract data type&#39; and abstract class refer to two entirely different concepts, although both of them use the word &#39;abstract&#39;. An abstract data type is a self-contained, user-defined type that bundles data with a set of related operations. It behaves in the same way as a built-in type does. However, it does not inherit from other classes, nor does it serve as the base for other derived classes. If you search about it in wiki you would see &quot;An abstract data type is defined as a mathematical model of the data objects that make up a data type as well as the functions that operate on these objects. There are no standard conventions for defining them. A broad division may be drawn between &quot;imperative&quot; and &quot;functional&quot; definition styles.&quot; For example, in Java we have List interface. It defines a data structure with set of method to operate on but wont provide any implementaion as such.\r\n\r\nIn contrast, an abstract class is anything but an abstract data type. An abstract class is a class that is declared abstract  &#39;it may or may not include abstract methods&#39;. Abstract classes cannot be instantiated, but they can be subclassed. It is not a data type. An abstract class is merely a skeletal interface, which specifies a set of services that its subclasses implement. Unfortunately, the distinction between the two concepts is often confused. Many people erroneously use the term abstract data type when they actually refer to an abstract class.\r\n\r\nIn my opinion Interfaces are Java&#39;s way of implementing &quot;Abstract Data type&quot;\r\n\r\nYou can read about &quot;[Abstract Data Type][1]&quot; in Wiki. In additiona to that if you want to know more about abstract data type in java you could refer this link, http://www.e-reading.ws/bookreader.php/138175/Abstract_Data_Types_in_Java.pdf, its really good. \r\n\r\nMost of you might be familiar with abstract classes, Still you could read about it from http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\r\n\r\nTo add up to this confusions, Java 8 introduced something called &quot;[Default Methods][2]&quot;, by which we could actually give implementations for methods in interface. To eliminate that confusion you can refer this stackoverflow question https://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Abstract_data_type\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"Abstract Data Type and Interface","body":"<p>There seems to a confusion in this Q&amp;A. The question was about \"Abstract Data Type and Interface\" and most of the answers concetrating about \"Abstract Classes\". </p>\n\n<p>The terms 'abstract data type' and abstract class refer to two entirely different concepts, although both of them use the word 'abstract'. An abstract data type is a self-contained, user-defined type that bundles data with a set of related operations. It behaves in the same way as a built-in type does. However, it does not inherit from other classes, nor does it serve as the base for other derived classes. If you search about it in wiki you would see \"An abstract data type is defined as a mathematical model of the data objects that make up a data type as well as the functions that operate on these objects. There are no standard conventions for defining them. A broad division may be drawn between \"imperative\" and \"functional\" definition styles.\" For example, in Java we have List interface. It defines a data structure with set of method to operate on but wont provide any implementaion as such.</p>\n\n<p>In contrast, an abstract class is anything but an abstract data type. An abstract class is a class that is declared abstract  'it may or may not include abstract methods'. Abstract classes cannot be instantiated, but they can be subclassed. It is not a data type. An abstract class is merely a skeletal interface, which specifies a set of services that its subclasses implement. Unfortunately, the distinction between the two concepts is often confused. Many people erroneously use the term abstract data type when they actually refer to an abstract class.</p>\n\n<p>In my opinion Interfaces are Java's way of implementing \"Abstract Data type\"</p>\n\n<p>You can read about \"<a href=\"http://en.wikipedia.org/wiki/Abstract_data_type\" rel=\"noreferrer\">Abstract Data Type</a>\" in Wiki. In additiona to that if you want to know more about abstract data type in java you could refer this link, <a href=\"http://www.e-reading.ws/bookreader.php/138175/Abstract_Data_Types_in_Java.pdf\" rel=\"noreferrer\">http://www.e-reading.ws/bookreader.php/138175/Abstract_Data_Types_in_Java.pdf</a>, its really good. </p>\n\n<p>Most of you might be familiar with abstract classes, Still you could read about it from <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a></p>\n\n<p>To add up to this confusions, Java 8 introduced something called \"<a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">Default Methods</a>\", by which we could actually give implementations for methods in interface. To eliminate that confusion you can refer this stackoverflow question <a href=\"https://stackoverflow.com/questions/19998454/interface-with-default-methods-vs-abstract-class-in-java-8\">Interface with default methods vs Abstract class in Java 8</a></p>\n"},{"tags":[],"owner":{"account_id":4266152,"reputation":845,"user_id":3489227,"accept_rate":89,"display_name":"Paresh3489227"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1400131964,"creation_date":1400131964,"answer_id":23670017,"question_id":19239471,"body_markdown":"For more clearance.\r\nSyntax and examples\r\n\r\n**syntax of abstract class**\r\n\r\n    public abstract class MyAbstractClass  \r\n    {  \r\n        //code  \r\n        public abstract void method();      \r\n    } \r\n    \r\n**example of abstract class**\r\n\r\n    public abstract class Animal  \r\n    {  \r\n        abstract void walk();      \r\n    }  \r\n       \r\n    public class Dog extends Animal  \r\n    {  \r\n        void walk()  \r\n        {  \r\n             //Implementation is done here  \r\n        }  \r\n    }  \r\n\r\n\r\n----------\r\n\r\n\r\n**syntax of interface**\r\n\r\n    public interface NameOfInterface\r\n    {\r\n       //Any number of final, static fields\r\n       //Any number of abstract method declarations\\\r\n    }\r\n\r\n**example of interface**\r\n\r\n    interface Animal {\r\n    \r\n       public void eat();\r\n       public void travel();\r\n    }\r\n\r\n**implementing interface**\r\n\r\n    public class MammalInt implements Animal{\r\n    \r\n       public void eat(){\r\n          System.out.println(&quot;Mammal eats&quot;);\r\n       }\r\n    \r\n       public void travel(){\r\n          System.out.println(&quot;Mammal travels&quot;);\r\n       } \r\n    \r\n       public int noOfLegs(){\r\n          return 0;\r\n       }\r\n    \r\n       public static void main(String args[]){\r\n          MammalInt m = new MammalInt();\r\n          m.eat();\r\n          m.travel();\r\n       }\r\n    }\r\n\r\n**extending interface**\r\n\r\n    //Filename: Sports.java\r\n    public interface Sports\r\n    {\r\n       public void setHomeTeam(String name);\r\n       public void setVisitingTeam(String name);\r\n    }\r\n    \r\n    //Filename: Football.java\r\n    public interface Football extends Sports\r\n    {\r\n       public void homeTeamScored(int points);\r\n       public void visitingTeamScored(int points);\r\n       public void endOfQuarter(int quarter);\r\n    }\r\n\r\n    //Filename: Hockey.java\r\n\r\n    public interface Hockey extends Sports\r\n    {\r\n       public void homeGoalScored();\r\n       public void visitingGoalScored();\r\n       public void endOfPeriod(int period);\r\n       public void overtimePeriod(int ot);\r\n    }\r\n\r\n**extending multiple interfaces**\r\n\r\n    public interface Hockey extends Sports, Event\r\n\r\n**extends and implements Both** \r\n\r\n    interface A can extends interface B \r\n    class A can extends class B         \r\n    class A implements interface A   \r\n    class A extends class B implements interface A\r\n\r\n\r\n","title":"Abstract Data Type and Interface","body":"<p>For more clearance.\nSyntax and examples</p>\n\n<p><strong>syntax of abstract class</strong></p>\n\n<pre><code>public abstract class MyAbstractClass  \n{  \n    //code  \n    public abstract void method();      \n} \n</code></pre>\n\n<p><strong>example of abstract class</strong></p>\n\n<pre><code>public abstract class Animal  \n{  \n    abstract void walk();      \n}  \n\npublic class Dog extends Animal  \n{  \n    void walk()  \n    {  \n         //Implementation is done here  \n    }  \n}  \n</code></pre>\n\n<hr>\n\n<p><strong>syntax of interface</strong></p>\n\n<pre><code>public interface NameOfInterface\n{\n   //Any number of final, static fields\n   //Any number of abstract method declarations\\\n}\n</code></pre>\n\n<p><strong>example of interface</strong></p>\n\n<pre><code>interface Animal {\n\n   public void eat();\n   public void travel();\n}\n</code></pre>\n\n<p><strong>implementing interface</strong></p>\n\n<pre><code>public class MammalInt implements Animal{\n\n   public void eat(){\n      System.out.println(\"Mammal eats\");\n   }\n\n   public void travel(){\n      System.out.println(\"Mammal travels\");\n   } \n\n   public int noOfLegs(){\n      return 0;\n   }\n\n   public static void main(String args[]){\n      MammalInt m = new MammalInt();\n      m.eat();\n      m.travel();\n   }\n}\n</code></pre>\n\n<p><strong>extending interface</strong></p>\n\n<pre><code>//Filename: Sports.java\npublic interface Sports\n{\n   public void setHomeTeam(String name);\n   public void setVisitingTeam(String name);\n}\n\n//Filename: Football.java\npublic interface Football extends Sports\n{\n   public void homeTeamScored(int points);\n   public void visitingTeamScored(int points);\n   public void endOfQuarter(int quarter);\n}\n\n//Filename: Hockey.java\n\npublic interface Hockey extends Sports\n{\n   public void homeGoalScored();\n   public void visitingGoalScored();\n   public void endOfPeriod(int period);\n   public void overtimePeriod(int ot);\n}\n</code></pre>\n\n<p><strong>extending multiple interfaces</strong></p>\n\n<pre><code>public interface Hockey extends Sports, Event\n</code></pre>\n\n<p><strong>extends and implements Both</strong> </p>\n\n<pre><code>interface A can extends interface B \nclass A can extends class B         \nclass A implements interface A   \nclass A extends class B implements interface A\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069438,"reputation":1413,"user_id":1069073,"accept_rate":96,"display_name":"Count"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1400155227,"creation_date":1400149892,"answer_id":23675695,"question_id":19239471,"body_markdown":"As per [wiki] &lt;http://en.wikipedia.org/wiki/Abstract_data_type&gt;\r\n\r\nIn computer science, an abstract data type (ADT) is a mathematical model for a certain class of data structures that have similar behavior; or for certain data types of one or more programming languages that have similar semantics. An abstract data type is defined indirectly, only by the operations that may be performed on it and by mathematical constraints on the effects (and possibly cost) of those operations.\r\n\r\n_For Java programming language_\r\n\r\nyou can take Java&#39;s List interface as an example. The interface doesn&#39;t explicitly define any behavior at all because there is no concrete List class. The interface only defines a set of methods that other classes (e.g. ArrayList and LinkedList) must implement in order to be considered a List.\r\n\r\n**but the bottom line is that it is a concept**","title":"Abstract Data Type and Interface","body":"<p>As per [wiki] <a href=\"http://en.wikipedia.org/wiki/Abstract_data_type\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Abstract_data_type</a></p>\n\n<p>In computer science, an abstract data type (ADT) is a mathematical model for a certain class of data structures that have similar behavior; or for certain data types of one or more programming languages that have similar semantics. An abstract data type is defined indirectly, only by the operations that may be performed on it and by mathematical constraints on the effects (and possibly cost) of those operations.</p>\n\n<p><em>For Java programming language</em></p>\n\n<p>you can take Java's List interface as an example. The interface doesn't explicitly define any behavior at all because there is no concrete List class. The interface only defines a set of methods that other classes (e.g. ArrayList and LinkedList) must implement in order to be considered a List.</p>\n\n<p><strong>but the bottom line is that it is a concept</strong></p>\n"}],"owner":{"account_id":2859264,"reputation":193,"user_id":2454830,"accept_rate":33,"display_name":"user2454830"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40129,"favorite_count":0,"down_vote_count":5,"up_vote_count":12,"accepted_answer_id":19239512,"answer_count":8,"score":7,"last_activity_date":1688703554,"creation_date":1381208654,"question_id":19239471,"body_markdown":"What is the difference between an abstract data type and an interface?\r\n\r\nFor Example We have a `ListADT`\r\n\r\n    interface MyListADT&lt;T&gt; {\r\n        void add(T var);\r\n        void add(T var,int pos);\r\n        void display();\r\n        T remove(int pos);\r\n        void clear();\r\n        boolean contains(Object o);\r\n    }\r\n\r\nWhere we are defining the ADT as an interface.","title":"Abstract Data Type and Interface","body":"<p>What is the difference between an abstract data type and an interface?</p>\n<p>For Example We have a <code>ListADT</code></p>\n<pre><code>interface MyListADT&lt;T&gt; {\n    void add(T var);\n    void add(T var,int pos);\n    void display();\n    T remove(int pos);\n    void clear();\n    boolean contains(Object o);\n}\n</code></pre>\n<p>Where we are defining the ADT as an interface.</p>\n"},{"tags":["java","url","https","download"],"comments":[{"owner":{"account_id":147778,"reputation":9734,"user_id":359134,"accept_rate":82,"display_name":"Chen Harel"},"score":0,"creation_date":1346255882,"post_id":12181843,"comment_id":16308716,"body_markdown":"Have a look here: http://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https","body":"Have a look here: <a href=\"http://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https\" title=\"trusting all certificates using httpclient over https\">stackoverflow.com/questions/2642777/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688703988,"post_id":12181843,"comment_id":135112280,"body_markdown":"If you change the URL to `https:` you must also change the port to 443.","body":"If you change the URL to <code>https:</code> you must also change the port to 443."}],"answers":[{"tags":[],"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346257366,"creation_date":1346257366,"answer_id":12182376,"question_id":12181843,"body_markdown":"Looks like your problem could be with the proxy.  It should also support https.\r\nAlso, you should use HttpClient 4 for downloading the files, its a mature library for making http connections.","title":"Using Java To Download Files From a HTTPS URL","body":"<p>Looks like your problem could be with the proxy.  It should also support https.\nAlso, you should use HttpClient 4 for downloading the files, its a mature library for making http connections.</p>\n"},{"tags":[],"owner":{"account_id":211181,"reputation":6023,"user_id":463196,"accept_rate":78,"display_name":"Philip Tenn"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1346264520,"creation_date":1346264196,"answer_id":12184094,"question_id":12181843,"body_markdown":"You may be having certificate issues.  This is typically the problem I have encountered in the past when working with HTTPS connections in Java.  \r\n\r\nFirst, you should check and see if the URL to which you are attempting to connect has a signed certificate by a well-known trusted root CA, and is valid (not expired).  \r\n\r\nI would recommend opening the URL in your browser and checking the certificate information.  \r\n\r\n\r\nJust a FYI, there may be a disconnect between the Trusted Root CAs recognized by your browser and those recognized by Java.  Here is another Stackoverflow question about how to get those recognized by Java: https://stackoverflow.com/questions/3508050/how-can-i-get-a-list-of-trusted-root-certificates-in-java\r\n\r\n\r\nIf this is a self-signed certificate, then there are hoops you will need to jump through regarding importing it into and using a local Keystore.  There are numerous sites and blogs that guide you through doing this, here is one such blog (not mine): [Adding self-signed https certificates to java keystore](http://www.chrissearle.org/node/260)\r\n\r\nAlso, while you are testing with the browser, this will help you verify that there are no proxy issues.  You should definitely check your browser&#39;s settings to determine whether or not you are going through a proxy server.\r\n\r\nYou should definitely look into using HttpClient instead of java.net.URL.  Here is the [Apache page for HttpClient 4.2.1](http://hc.apache.org/httpcomponents-client-ga/index.html).  \r\n\r\nFinally, if you are looking to do a file transfer via HTTP or HTTPS, you may want to consider WebDAV.  \r\n\r\nI have used Jakarta Slide WebDAV Client for this in the past.  Unfortunately, it looks like [Slide is retired at this point](http://jakarta.apache.org/slide/), but there are alternatives you can find with a little bit of searching.  \r\n\r\n**ADDITION** \r\n\r\nI copied down your source code sample and looked at it more closely.  Looks like you set properties for http, but not https.\r\n\r\nHTTPS has separate properties:\r\n \r\n - https.proxyHost\r\n - https.proxyPort\r\n \r\nTry setting:\r\n\r\n    System.setProperty(&quot;https.proxyHost&quot;,&quot;trproxy.rwe.com&quot;) ; \r\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;443&quot;) ; \r\n\r\nLook at section 2.2 on [Oracle&#39;s Java Networking and Proxies](http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html).\r\n\r\nhttp://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html","title":"Using Java To Download Files From a HTTPS URL","body":"<p>You may be having certificate issues.  This is typically the problem I have encountered in the past when working with HTTPS connections in Java.  </p>\n\n<p>First, you should check and see if the URL to which you are attempting to connect has a signed certificate by a well-known trusted root CA, and is valid (not expired).  </p>\n\n<p>I would recommend opening the URL in your browser and checking the certificate information.  </p>\n\n<p>Just a FYI, there may be a disconnect between the Trusted Root CAs recognized by your browser and those recognized by Java.  Here is another Stackoverflow question about how to get those recognized by Java: <a href=\"https://stackoverflow.com/questions/3508050/how-can-i-get-a-list-of-trusted-root-certificates-in-java\">How can I get a list of trusted root certificates in Java?</a></p>\n\n<p>If this is a self-signed certificate, then there are hoops you will need to jump through regarding importing it into and using a local Keystore.  There are numerous sites and blogs that guide you through doing this, here is one such blog (not mine): <a href=\"http://www.chrissearle.org/node/260\" rel=\"nofollow noreferrer\">Adding self-signed https certificates to java keystore</a></p>\n\n<p>Also, while you are testing with the browser, this will help you verify that there are no proxy issues.  You should definitely check your browser's settings to determine whether or not you are going through a proxy server.</p>\n\n<p>You should definitely look into using HttpClient instead of java.net.URL.  Here is the <a href=\"http://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"nofollow noreferrer\">Apache page for HttpClient 4.2.1</a>.  </p>\n\n<p>Finally, if you are looking to do a file transfer via HTTP or HTTPS, you may want to consider WebDAV.  </p>\n\n<p>I have used Jakarta Slide WebDAV Client for this in the past.  Unfortunately, it looks like <a href=\"http://jakarta.apache.org/slide/\" rel=\"nofollow noreferrer\">Slide is retired at this point</a>, but there are alternatives you can find with a little bit of searching.  </p>\n\n<p><strong>ADDITION</strong> </p>\n\n<p>I copied down your source code sample and looked at it more closely.  Looks like you set properties for http, but not https.</p>\n\n<p>HTTPS has separate properties:</p>\n\n<ul>\n<li>https.proxyHost</li>\n<li>https.proxyPort</li>\n</ul>\n\n<p>Try setting:</p>\n\n<pre><code>System.setProperty(\"https.proxyHost\",\"trproxy.rwe.com\") ; \nSystem.setProperty(\"https.proxyPort\", \"443\") ; \n</code></pre>\n\n<p>Look at section 2.2 on <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">Oracle's Java Networking and Proxies</a>.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html</a></p>\n"},{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346266164,"creation_date":1346266164,"answer_id":12184598,"question_id":12181843,"body_markdown":"`System.setProperty(&quot;http.proxyPort&quot;, &quot;80&quot;)` should be `System.setProperty(&quot;http.proxyPort&quot;, &quot;443&quot;)` ","title":"Using Java To Download Files From a HTTPS URL","body":"<p><code>System.setProperty(\"http.proxyPort\", \"80\")</code> should be <code>System.setProperty(\"http.proxyPort\", \"443\")</code> </p>\n"}],"owner":{"account_id":954741,"reputation":418,"user_id":980256,"accept_rate":67,"display_name":"Chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10897,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":12184094,"answer_count":3,"score":4,"last_activity_date":1688703479,"creation_date":1346255522,"question_id":12181843,"body_markdown":"I have written some code to download a file from a website.  The code works fine against a test http url.  As soon as I then change the URL to the https, I get a connect time out.\r\n\r\n    System.setProperty(&quot;http.proxyHost&quot;,&quot;trproxy.rwe.com&quot;) ;\r\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;80&quot;) ;\r\n    Authenticator.setDefault (new MyAuthenticator(&quot;USER&quot;,&quot;PW&quot;));\r\n    //URL url = new URL(&quot;http&quot;,&quot;www.treasury.gov&quot;,80,&quot;/ofac/downloads/sdn.csv&quot;,new    sun.net.www.protocol.http.Handler());  THIS WORKS\r\n    URL url = new URL(&quot;https&quot;, &quot;downloads.elexonportal.co.uk&quot;,443,&quot;/bmradataarchive/download?key=MYKEY&amp;filename=&quot;+filename,new sun.net.www.protocol.https.Handler());\r\n    url.openConnection();\r\n    InputStream reader = url.openStream();\r\n    FileOutputStream writer = new FileOutputStream(&quot;C:/downloads/&quot;+filename);\r\n\r\nIf I copy the https url into a browser, I am asked where I wish to save the file and it works fine.  Any help greatly appreciated.  I have tried [this](https://stackoverflow.com/questions/10135074/download-file-from-https-server-using-java)   but did not work","title":"Using Java To Download Files From a HTTPS URL","body":"<p>I have written some code to download a file from a website.  The code works fine against a test http url.  As soon as I then change the URL to the https, I get a connect time out.</p>\n<pre><code>System.setProperty(&quot;http.proxyHost&quot;,&quot;trproxy.rwe.com&quot;) ;\nSystem.setProperty(&quot;http.proxyPort&quot;, &quot;80&quot;) ;\nAuthenticator.setDefault (new MyAuthenticator(&quot;USER&quot;,&quot;PW&quot;));\n//URL url = new URL(&quot;http&quot;,&quot;www.treasury.gov&quot;,80,&quot;/ofac/downloads/sdn.csv&quot;,new    sun.net.www.protocol.http.Handler());  THIS WORKS\nURL url = new URL(&quot;https&quot;, &quot;downloads.elexonportal.co.uk&quot;,443,&quot;/bmradataarchive/download?key=MYKEY&amp;filename=&quot;+filename,new sun.net.www.protocol.https.Handler());\nurl.openConnection();\nInputStream reader = url.openStream();\nFileOutputStream writer = new FileOutputStream(&quot;C:/downloads/&quot;+filename);\n</code></pre>\n<p>If I copy the https url into a browser, I am asked where I wish to save the file and it works fine.  Any help greatly appreciated.  I have tried <a href=\"https://stackoverflow.com/questions/10135074/download-file-from-https-server-using-java\">this</a>   but did not work</p>\n"},{"tags":["java","arrays","properties-file"],"comments":[{"owner":{"account_id":200733,"reputation":4871,"user_id":446747,"accept_rate":75,"display_name":"josh.trow"},"score":0,"creation_date":1312999145,"post_id":7015491,"comment_id":8377601,"body_markdown":"I&#39;m not totally clear on what you are doing, but does simply putting the properties into a Map work? It allows to you do `if(foo.has(&#39;filename&#39;))`, and to store/load, you just (de)serialize it...","body":"I&#39;m not totally clear on what you are doing, but does simply putting the properties into a Map work? It allows to you do <code>if(foo.has(&#39;filename&#39;))</code>, and to store/load, you just (de)serialize it..."},{"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"score":0,"creation_date":1312999159,"post_id":7015491,"comment_id":8377602,"body_markdown":"Can you create classes containing every property that you might use in the .properties file, or are some properties going to be dynamic?","body":"Can you create classes containing every property that you might use in the .properties file, or are some properties going to be dynamic?"},{"owner":{"account_id":776254,"reputation":1263,"user_id":817676,"accept_rate":80,"display_name":"yep"},"score":0,"creation_date":1312999548,"post_id":7015491,"comment_id":8377699,"body_markdown":"@mellamokb - I&#39;ve already got my class which holds filename + expire attrs, and methods, and I create new objects out of it.  Are you suggesting maybe adding in a &quot;type&quot; attribute to it, to hold the &quot;foo&quot;s and &quot;bar&quot;s?   ... Could work, i&#39;ll hack at it...","body":"@mellamokb - I&#39;ve already got my class which holds filename + expire attrs, and methods, and I create new objects out of it.  Are you suggesting maybe adding in a &quot;type&quot; attribute to it, to hold the &quot;foo&quot;s and &quot;bar&quot;s?   ... Could work, i&#39;ll hack at it..."},{"owner":{"account_id":11944,"reputation":7650,"user_id":23271,"display_name":"Skip Head"},"score":1,"creation_date":1313000359,"post_id":7015491,"comment_id":8377928,"body_markdown":"I think a data file (like a .csv) would be easier. Properties are not really designed for this.","body":"I think a data file (like a .csv) would be easier. Properties are not really designed for this."}],"answers":[{"tags":[],"owner":{"account_id":319229,"reputation":169,"user_id":636873,"display_name":"Venu K"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1312999405,"creation_date":1312999405,"answer_id":7015573,"question_id":7015491,"body_markdown":"Didn&#39;t exactly get your intent.\r\nDo check Apache Commons configuration library http://commons.apache.org/configuration/\r\n\r\nYou can have multiple values against a key as in \r\nkey=value1,value2 \r\nand you can read this into an array as &lt;code&gt;configuration.getAsStringArray(&quot;key&quot;)&lt;/code&gt;","title":"How to store an array in a Java properties file","body":"<p>Didn't exactly get your intent.\nDo check Apache Commons configuration library <a href=\"http://commons.apache.org/configuration/\">http://commons.apache.org/configuration/</a></p>\n\n<p>You can have multiple values against a key as in \nkey=value1,value2 \nand you can read this into an array as <code>configuration.getAsStringArray(\"key\")</code></p>\n"},{"tags":[],"owner":{"account_id":193947,"reputation":1538,"user_id":435978,"accept_rate":88,"display_name":"BigMac66"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1313000822,"creation_date":1313000822,"answer_id":7015846,"question_id":7015491,"body_markdown":"Either define a delimiter that will not be a potential value or learn to use XML.\r\n\r\nIf you still insist on using properties use one of the methods that will return a list of all keys.  Your key appears to have three parts a group identifier (foo, bar) an index (1, 2) and then an element name (filename, expire).  Get all the keys break them into their component parts. Create a List for each type of identifier, when processing the list use the identifier to determine which List to add to.  Create you paired elements as you said and simply add to the list!  If the index order is important either add that as a field to your paired elements or sort the keys before processing.","title":"How to store an array in a Java properties file","body":"<p>Either define a delimiter that will not be a potential value or learn to use XML.</p>\n\n<p>If you still insist on using properties use one of the methods that will return a list of all keys.  Your key appears to have three parts a group identifier (foo, bar) an index (1, 2) and then an element name (filename, expire).  Get all the keys break them into their component parts. Create a List for each type of identifier, when processing the list use the identifier to determine which List to add to.  Create you paired elements as you said and simply add to the list!  If the index order is important either add that as a field to your paired elements or sort the keys before processing.</p>\n"},{"tags":[],"owner":{"account_id":311516,"reputation":3096,"user_id":625146,"accept_rate":100,"display_name":"Omnaest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313001730,"creation_date":1313001730,"answer_id":7016012,"question_id":7015491,"body_markdown":"As user &#39;Skip Head&#39; already pointed out, csv or a any table file format would be a better fitt in your case.\r\n\r\nIf it is an option for you, maybe this [Table][1] implementation might interest you.\r\n\r\n\r\n  [1]: http://code.google.com/p/utils-apl-derived/wiki/Table","title":"How to store an array in a Java properties file","body":"<p>As user 'Skip Head' already pointed out, csv or a any table file format would be a better fitt in your case.</p>\n\n<p>If it is an option for you, maybe this <a href=\"http://code.google.com/p/utils-apl-derived/wiki/Table\" rel=\"nofollow\">Table</a> implementation might interest you.</p>\n"},{"tags":[],"owner":{"account_id":27992,"reputation":3290,"user_id":74337,"accept_rate":62,"display_name":"Jack Cox"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313002052,"creation_date":1313002052,"answer_id":7016090,"question_id":7015491,"body_markdown":"I highly recommend using Apache Commons (http://commons.apache.org/configuration/).  It has the ability to use an XML file as a configuration file.  Using an XML structure makes it easy to represent arrays as lists of values rather than specially numbered properties.  ","title":"How to store an array in a Java properties file","body":"<p>I highly recommend using Apache Commons (http://commons.apache.org/configuration/).  It has the ability to use an XML file as a configuration file.  Using an XML structure makes it easy to represent arrays as lists of values rather than specially numbered properties.  </p>\n"},{"tags":[],"owner":{"account_id":160573,"reputation":3912,"user_id":380733,"display_name":"Abs"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1349931114,"creation_date":1341367410,"answer_id":11321542,"question_id":7015491,"body_markdown":"I can suggest using delimiters and using the \r\n\r\n`String.split(delimiter)`\r\n\r\nExample properties file:\r\n\r\n***MON=0800#Something#Something1, Something2***\r\n\r\n    prop.load(new FileInputStream(&quot;\\\\\\\\Myseccretnetwork\\\\Project\\\\props.properties&quot;));\r\n    String[]values = prop.get(&quot;MON&quot;).toString().split(&quot;#&quot;);\r\n\t\r\nHope that helps","title":"How to store an array in a Java properties file","body":"<p>I can suggest using delimiters and using the </p>\n\n<p><code>String.split(delimiter)</code></p>\n\n<p>Example properties file:</p>\n\n<p><em><strong>MON=0800#Something#Something1, Something2</em></strong></p>\n\n<pre><code>prop.load(new FileInputStream(\"\\\\\\\\Myseccretnetwork\\\\Project\\\\props.properties\"));\nString[]values = prop.get(\"MON\").toString().split(\"#\");\n</code></pre>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404468772,"creation_date":1404468772,"answer_id":24571951,"question_id":7015491,"body_markdown":"here is another way to do by implementing yourself the mechanism.\r\nhere we consider that the array should start with 0 and would have no hole between indice \r\n\r\n    \r\n        /**\r\n         * get a string property&#39;s value\r\n         * @param propKey property key\r\n         * @param defaultValue default value if the property is not found\r\n         * @return value\r\n         */\r\n        public static String getSystemStringProperty(String propKey,\r\n                String defaultValue) {\r\n            String strProp = System.getProperty(propKey);\r\n            if (strProp == null) {\r\n                strProp = defaultValue;\r\n            }\r\n            return strProp;\r\n        }\r\n    \r\n        /**\r\n         * internal recursive method to get string properties (array)\r\n         * @param curResult current result\r\n         * @param paramName property key prefix\r\n         * @param i current indice\r\n         * @return array of property&#39;s values\r\n         */\r\n        private static List&lt;String&gt; getSystemStringProperties(List&lt;String&gt; curResult, String paramName, int i) {\r\n            String paramIValue = getSystemStringProperty(paramName + &quot;.&quot; + String.valueOf(i), null);\r\n            if (paramIValue == null) {\r\n                return curResult;\r\n            }\r\n            curResult.add(paramIValue);\r\n            return getSystemStringProperties(curResult, paramName, i+1);\r\n        }\r\n    \r\n        /**\r\n         * get the values from a property key prefix\r\n         * @param paramName property key prefix\r\n         * @return string array of values\r\n         */\r\n        public static String[] getSystemStringProperties(\r\n                String paramName) {\r\n            List&lt;String&gt; stringProperties = getSystemStringProperties(new ArrayList&lt;String&gt;(), paramName, 0);\r\n            return stringProperties.toArray(new String[stringProperties.size()]);\r\n        }\r\n\r\nHere is a way to test :\r\n\r\n        @Test\r\n        public void should_be_able_to_get_array_of_properties() {\r\n            System.setProperty(&quot;my.parameter.0&quot;, &quot;ooO&quot;);\r\n            System.setProperty(&quot;my.parameter.1&quot;, &quot;oO&quot;);\r\n            System.setProperty(&quot;my.parameter.2&quot;, &quot;boo&quot;);\r\n            // WHEN \r\n            String[] pluginParams = PropertiesHelper.getSystemStringProperties(&quot;my.parameter&quot;);\r\n            \r\n            // THEN\r\n            assertThat(pluginParams).isNotNull();\r\n            assertThat(pluginParams).containsExactly(&quot;ooO&quot;,&quot;oO&quot;,&quot;boo&quot;);\r\n            System.out.println(pluginParams[0].toString());\r\n        }\r\n\r\nhope this helps\r\n\r\nand all remarks are welcome..","title":"How to store an array in a Java properties file","body":"<p>here is another way to do by implementing yourself the mechanism.\nhere we consider that the array should start with 0 and would have no hole between indice </p>\n\n<pre><code>    /**\n     * get a string property's value\n     * @param propKey property key\n     * @param defaultValue default value if the property is not found\n     * @return value\n     */\n    public static String getSystemStringProperty(String propKey,\n            String defaultValue) {\n        String strProp = System.getProperty(propKey);\n        if (strProp == null) {\n            strProp = defaultValue;\n        }\n        return strProp;\n    }\n\n    /**\n     * internal recursive method to get string properties (array)\n     * @param curResult current result\n     * @param paramName property key prefix\n     * @param i current indice\n     * @return array of property's values\n     */\n    private static List&lt;String&gt; getSystemStringProperties(List&lt;String&gt; curResult, String paramName, int i) {\n        String paramIValue = getSystemStringProperty(paramName + \".\" + String.valueOf(i), null);\n        if (paramIValue == null) {\n            return curResult;\n        }\n        curResult.add(paramIValue);\n        return getSystemStringProperties(curResult, paramName, i+1);\n    }\n\n    /**\n     * get the values from a property key prefix\n     * @param paramName property key prefix\n     * @return string array of values\n     */\n    public static String[] getSystemStringProperties(\n            String paramName) {\n        List&lt;String&gt; stringProperties = getSystemStringProperties(new ArrayList&lt;String&gt;(), paramName, 0);\n        return stringProperties.toArray(new String[stringProperties.size()]);\n    }\n</code></pre>\n\n<p>Here is a way to test :</p>\n\n<pre><code>    @Test\n    public void should_be_able_to_get_array_of_properties() {\n        System.setProperty(\"my.parameter.0\", \"ooO\");\n        System.setProperty(\"my.parameter.1\", \"oO\");\n        System.setProperty(\"my.parameter.2\", \"boo\");\n        // WHEN \n        String[] pluginParams = PropertiesHelper.getSystemStringProperties(\"my.parameter\");\n\n        // THEN\n        assertThat(pluginParams).isNotNull();\n        assertThat(pluginParams).containsExactly(\"ooO\",\"oO\",\"boo\");\n        System.out.println(pluginParams[0].toString());\n    }\n</code></pre>\n\n<p>hope this helps</p>\n\n<p>and all remarks are welcome..</p>\n"},{"tags":[],"owner":{"account_id":1645512,"reputation":173,"user_id":1517117,"display_name":"somtomas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469111011,"creation_date":1469111011,"answer_id":38506867,"question_id":7015491,"body_markdown":"I have custom loading. Properties must be defined as:\r\n\r\n    key.0=value0\r\n    key.1=value1\r\n    ...\r\nCustom loading:\r\n\r\n\t/** Return array from properties file. Array must be defined as &quot;key.0=value0&quot;, &quot;key.1=value1&quot;, ... */\r\n    public List&lt;String&gt; getSystemStringProperties(String key) {\r\n    \t\r\n    \t// result list\r\n        List&lt;String&gt; result = new LinkedList&lt;&gt;();\r\n        \r\n        // defining variable for assignment in loop condition part\r\n        String value;\r\n        \r\n        // next value loading defined in condition part\r\n        for(int i = 0; (value = YOUR_PROPERTY_OBJECT.getProperty(key + &quot;.&quot; + i)) != null; i++) {\r\n        \tresult.add(value);\r\n        }\r\n        \r\n        // return\r\n        return result;\r\n    }","title":"How to store an array in a Java properties file","body":"<p>I have custom loading. Properties must be defined as:</p>\n\n<pre><code>key.0=value0\nkey.1=value1\n...\n</code></pre>\n\n<p>Custom loading:</p>\n\n<pre><code>/** Return array from properties file. Array must be defined as \"key.0=value0\", \"key.1=value1\", ... */\npublic List&lt;String&gt; getSystemStringProperties(String key) {\n\n    // result list\n    List&lt;String&gt; result = new LinkedList&lt;&gt;();\n\n    // defining variable for assignment in loop condition part\n    String value;\n\n    // next value loading defined in condition part\n    for(int i = 0; (value = YOUR_PROPERTY_OBJECT.getProperty(key + \".\" + i)) != null; i++) {\n        result.add(value);\n    }\n\n    // return\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4548484,"reputation":345,"user_id":3694297,"display_name":"Sangeeth"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1533634930,"creation_date":1518764869,"answer_id":48821692,"question_id":7015491,"body_markdown":"**Use *YAML* files for properties, this supports properties as an array.**\r\n\r\nQuick glance about YAML:\r\n\r\n&gt; A superset of JSON, it can do everything JSON can + more\r\n\r\n1. Simple to read\r\n2. Long properties into multiline values\r\n3. Supports comments\r\n4. **Properties as Array**\r\n5. YAML Validation\r\n\r\n","title":"How to store an array in a Java properties file","body":"<p><strong>Use <em>YAML</em> files for properties, this supports properties as an array.</strong></p>\n\n<p>Quick glance about YAML:</p>\n\n<blockquote>\n  <p>A superset of JSON, it can do everything JSON can + more</p>\n</blockquote>\n\n<ol>\n<li>Simple to read</li>\n<li>Long properties into multiline values</li>\n<li>Supports comments</li>\n<li><strong>Properties as Array</strong></li>\n<li>YAML Validation</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3196795,"reputation":490,"user_id":2699805,"accept_rate":40,"display_name":"qwert_ukg"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1590047955,"creation_date":1590047955,"answer_id":61929875,"question_id":7015491,"body_markdown":"Actually all answers are wrong\r\n\r\nEasy: `foo.[0]filename`","title":"How to store an array in a Java properties file","body":"<p>Actually all answers are wrong</p>\n\n<p>Easy: <code>foo.[0]filename</code></p>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633096683,"creation_date":1633096683,"answer_id":69407127,"question_id":7015491,"body_markdown":"I&#39;d suggest having the properties file, reference a CSV file.\r\nThen parse the CSV file into a collection/array etc instead.\r\nProperties file seems wrong fit for this kind of data.","title":"How to store an array in a Java properties file","body":"<p>I'd suggest having the properties file, reference a CSV file.\nThen parse the CSV file into a collection/array etc instead.\nProperties file seems wrong fit for this kind of data.</p>\n"}],"owner":{"account_id":776254,"reputation":1263,"user_id":817676,"accept_rate":80,"display_name":"yep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147925,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":7015846,"answer_count":10,"score":64,"last_activity_date":1688701997,"creation_date":1312998961,"question_id":7015491,"body_markdown":"I&#39;m currently making a .properties file that needs to be loaded and transformed into an array.  \r\nThere is a possibility of anywhere from 0-25 of each of the property keys to exist.  \r\n\r\nI tried a few implementations but I&#39;m just stuck at doing this cleanly.  \r\nAnyone have any ideas?\r\n\r\n\r\n    foo.1.filename=foo.txt\r\n    foo.1.expire=200\r\n    \r\n    foo.2.filename=foo2.txt\r\n    foo.2.expire=10\r\n    \r\n    etc more foo&#39;s\r\n    \r\n    bar.1.filename=bar.txt\r\n    bar.1.expire=100\r\n\r\nWhere I&#39;ll assemble the filename/expire pairings into a data object, as part of an array for each parent property element like `foo[myobject]`\r\n\r\nFormatting of the properties file can change, I&#39;m open to ideas.","title":"How to store an array in a Java properties file","body":"<p>I'm currently making a .properties file that needs to be loaded and transformed into an array.<br />\nThere is a possibility of anywhere from 0-25 of each of the property keys to exist.</p>\n<p>I tried a few implementations but I'm just stuck at doing this cleanly.<br />\nAnyone have any ideas?</p>\n<pre><code>foo.1.filename=foo.txt\nfoo.1.expire=200\n\nfoo.2.filename=foo2.txt\nfoo.2.expire=10\n\netc more foo's\n\nbar.1.filename=bar.txt\nbar.1.expire=100\n</code></pre>\n<p>Where I'll assemble the filename/expire pairings into a data object, as part of an array for each parent property element like <code>foo[myobject]</code></p>\n<p>Formatting of the properties file can change, I'm open to ideas.</p>\n"},{"tags":["java","arrays","function","methods"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688700327,"creation_date":1688700327,"answer_id":76633758,"question_id":76633676,"body_markdown":"You have several bugs and questionable design decisions, to start with\r\n\r\n    int sizeOfTheNewArray = 0;\r\n    int [] newArray = new int[sizeOfTheNewArray];\r\n\r\nMeans `newArray` is always empty. I would break the problem down into discrete sections, first count the unique elements in an array;\r\n\r\n\tpublic static int countUniqueElements(int[] arr) {\r\n\t\tint count = 0;\r\n\t\tloop: for (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (i &gt; 0) {\r\n\t\t\t\tfor (int j = i - 1; j &gt;= 0; j--) {\r\n\t\t\t\t\tif (arr[i] == arr[j]) {\r\n\t\t\t\t\t\tcontinue loop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\nNext, you should *read* an array of values from the user. Let&#39;s write a method to do that. Read a line of comma separated values, split on comma and convert to an `int[]`.\r\n\r\n\tpublic static int[] readArray(Scanner scanner) {\r\n\t\tSystem.out.println(&quot;Please enter your array values&quot;);\r\n\t\tString line = scanner.nextLine();\r\n\t\tString[] tokens = line.split(&quot;,&quot;);\r\n\t\tint[] array = new int[tokens.length];\r\n\t\tfor (int i = 0; i &lt; tokens.length; i++) {\r\n\t\t\tarray[i] = Integer.parseInt(tokens[i].trim());\r\n\t\t}\r\n\t\treturn array;\r\n\t}\r\n\r\nNow, we can write a method to actually get the unique elements of an array given an array. Start by counting the unique elements. Then create the new array. Finally, repeat the strategy we used in counting unique elements to populate the new array.\r\n\r\n\tpublic static int[] getUniqueElements(int[] arr) {\r\n\t\tint sizeOfTheNewArray = countUniqueElements(arr);\r\n\t\tint[] newArray = new int[sizeOfTheNewArray];\r\n\t\tint count = 0;\r\n\t\tloop: for (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tif (i &gt; 0) {\r\n\t\t\t\tfor (int j = i - 1; j &gt;= 0; j--) {\r\n\t\t\t\t\tif (arr[i] == arr[j]) {\r\n\t\t\t\t\t\tcontinue loop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnewArray[count] = arr[i];\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\treturn newArray;\r\n\t}\r\n\r\nNow we can update `main` to invoke the above methods\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint[] arr = readArray(scanner);\r\n\t\tSystem.out.printf(&quot;Before: %s%n&quot;, Arrays.toString(arr));\r\n\t\tint[] arr2 = getUniqueElements(arr);\r\n\t\tSystem.out.printf(&quot;After: %s%n&quot;, Arrays.toString(arr2));\r\n\t}\r\n\r\nAnd run it\r\n\r\n    Please enter your array values\r\n    3, 3, 87, 56, 1, 87, 3, 2 \r\n    Before: [3, 3, 87, 56, 1, 87, 3, 2]\r\n    After: [3, 87, 56, 1, 2]\r\n\r\n","title":"where am  doing wrong?","body":"<p>You have several bugs and questionable design decisions, to start with</p>\n<pre><code>int sizeOfTheNewArray = 0;\nint [] newArray = new int[sizeOfTheNewArray];\n</code></pre>\n<p>Means <code>newArray</code> is always empty. I would break the problem down into discrete sections, first count the unique elements in an array;</p>\n<pre><code>public static int countUniqueElements(int[] arr) {\n    int count = 0;\n    loop: for (int i = 0; i &lt; arr.length; i++) {\n        if (i &gt; 0) {\n            for (int j = i - 1; j &gt;= 0; j--) {\n                if (arr[i] == arr[j]) {\n                    continue loop;\n                }\n            }\n        }\n        count++;\n    }\n    return count;\n}\n</code></pre>\n<p>Next, you should <em>read</em> an array of values from the user. Let's write a method to do that. Read a line of comma separated values, split on comma and convert to an <code>int[]</code>.</p>\n<pre><code>public static int[] readArray(Scanner scanner) {\n    System.out.println(&quot;Please enter your array values&quot;);\n    String line = scanner.nextLine();\n    String[] tokens = line.split(&quot;,&quot;);\n    int[] array = new int[tokens.length];\n    for (int i = 0; i &lt; tokens.length; i++) {\n        array[i] = Integer.parseInt(tokens[i].trim());\n    }\n    return array;\n}\n</code></pre>\n<p>Now, we can write a method to actually get the unique elements of an array given an array. Start by counting the unique elements. Then create the new array. Finally, repeat the strategy we used in counting unique elements to populate the new array.</p>\n<pre><code>public static int[] getUniqueElements(int[] arr) {\n    int sizeOfTheNewArray = countUniqueElements(arr);\n    int[] newArray = new int[sizeOfTheNewArray];\n    int count = 0;\n    loop: for (int i = 0; i &lt; arr.length; i++) {\n        if (i &gt; 0) {\n            for (int j = i - 1; j &gt;= 0; j--) {\n                if (arr[i] == arr[j]) {\n                    continue loop;\n                }\n            }\n        }\n        newArray[count] = arr[i];\n        count++;\n    }\n    return newArray;\n}\n</code></pre>\n<p>Now we can update <code>main</code> to invoke the above methods</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int[] arr = readArray(scanner);\n    System.out.printf(&quot;Before: %s%n&quot;, Arrays.toString(arr));\n    int[] arr2 = getUniqueElements(arr);\n    System.out.printf(&quot;After: %s%n&quot;, Arrays.toString(arr2));\n}\n</code></pre>\n<p>And run it</p>\n<pre><code>Please enter your array values\n3, 3, 87, 56, 1, 87, 3, 2 \nBefore: [3, 3, 87, 56, 1, 87, 3, 2]\nAfter: [3, 87, 56, 1, 2]\n</code></pre>\n"}],"owner":{"account_id":27737116,"reputation":13,"user_id":21174446,"display_name":"Mustafa BAL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76633758,"answer_count":1,"score":0,"last_activity_date":1688700327,"creation_date":1688698680,"question_id":76633676,"body_markdown":"Elements in an entered array, without breaking their order, but singularly.\r\nWrite a program that casts it into a new array. For example, if the input is {3, 3, 87,56,1, 87, 3, 2 } the output should be {3, 87, 56, 1, 2 }\r\n\r\nI want to solve this question without using ready-made methods\r\n\r\n`import java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class PassElementToAnotherArray {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttransferElementsOfArray();\r\n\t}\r\n\tpublic static int[] createArrays() {\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter first array size:&quot;);\r\n\t\tint size = scanner.nextInt();\r\n\t\tint[] array = new int[size];\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tarray[i] = (int) (Math.random()*100);\r\n\t\t}\r\n\t\t\t\r\n\t\treturn array;\r\n\t}\r\n\tpublic static void transferElementsOfArray() {\r\n\t\t\r\n\t\tint [] firstArray = createArrays();\r\n\t\tSystem.out.println(&quot;Elements of the first array: &quot;);\r\n\t\tfor (int i = 0; i &lt; firstArray.length; i++) {\r\n\t\t\tSystem.out.print(firstArray[i]+&quot; &quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tint sizeOfTheNewArray = 0;\r\n\t\tint [] newArray = new int[sizeOfTheNewArray];\r\n\t\t\r\n\t\tboolean isIt = false;\r\n\t\tfor (int i = 0; i &lt; firstArray.length; i++) {\r\n\t\t\t\r\n\t\t\tfor (int j = i+1; j &lt; firstArray.length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif (firstArray[i]==firstArray[j]) {\r\n\t\t\t\t\tisIt = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tisIt = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!isIt) {\r\n\t\t\t\tsizeOfTheNewArray++;\r\n\t\t\t}\t\t\t\r\n\t\t}\t\t\r\n\t\tSystem.out.println(sizeOfTheNewArray);\r\n\t\tint counter = 0;\r\n\t\tfor (int i = 0; i &lt; firstArray.length; i++) {\r\n\t\t\tfor (int j = i+1; j &lt; firstArray.length; j++) {\r\n\t\t\t\tif (firstArray[i]==firstArray[j]) {\r\n\t\t\t\t\tisIt = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tisIt = false;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tif (!isIt) {\r\n\t\t\t\r\n\t\t\tfor (int j = counter; j &lt; newArray.length; j++) {\r\n\t\t\t\tnewArray[j] = firstArray[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; newArray.length; i++) {\r\n\t\t\tSystem.out.println(newArray[i]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}`\r\n\r\nwhen i do this i can&#39;t even see the elements of the new array in the output","title":"where am  doing wrong?","body":"<p>Elements in an entered array, without breaking their order, but singularly.\nWrite a program that casts it into a new array. For example, if the input is {3, 3, 87,56,1, 87, 3, 2 } the output should be {3, 87, 56, 1, 2 }</p>\n<p>I want to solve this question without using ready-made methods</p>\n<p>`import java.util.Arrays;\nimport java.util.Scanner;</p>\n<p>public class PassElementToAnotherArray {</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    transferElementsOfArray();\n}\npublic static int[] createArrays() {\n    \n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Please enter first array size:&quot;);\n    int size = scanner.nextInt();\n    int[] array = new int[size];\n    for (int i = 0; i &lt; array.length; i++) {\n        array[i] = (int) (Math.random()*100);\n    }\n        \n    return array;\n}\npublic static void transferElementsOfArray() {\n    \n    int [] firstArray = createArrays();\n    System.out.println(&quot;Elements of the first array: &quot;);\n    for (int i = 0; i &lt; firstArray.length; i++) {\n        System.out.print(firstArray[i]+&quot; &quot;);\n    }\n    \n    System.out.println();\n    \n    int sizeOfTheNewArray = 0;\n    int [] newArray = new int[sizeOfTheNewArray];\n    \n    boolean isIt = false;\n    for (int i = 0; i &lt; firstArray.length; i++) {\n        \n        for (int j = i+1; j &lt; firstArray.length; j++) {\n            \n            if (firstArray[i]==firstArray[j]) {\n                isIt = true;\n                break;\n            }\n            else {\n                isIt = false;\n            }\n        }\n        if (!isIt) {\n            sizeOfTheNewArray++;\n        }           \n    }       \n    System.out.println(sizeOfTheNewArray);\n    int counter = 0;\n    for (int i = 0; i &lt; firstArray.length; i++) {\n        for (int j = i+1; j &lt; firstArray.length; j++) {\n            if (firstArray[i]==firstArray[j]) {\n                isIt = true;\n                break;\n            }\n            else {\n                isIt = false;\n            }\n    }\n    if (!isIt) {\n        \n        for (int j = counter; j &lt; newArray.length; j++) {\n            newArray[j] = firstArray[i];\n            break;\n        }\n        counter++;\n    }\n    }\n    for (int i = 0; i &lt; newArray.length; i++) {\n        System.out.println(newArray[i]);\n    }\n    \n}\n</code></pre>\n<p>}`</p>\n<p>when i do this i can't even see the elements of the new array in the output</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688698805,"post_id":76633668,"comment_id":135111909,"body_markdown":"It&#39;s *very* close to `Integer.MAX_VALUE`. I would assume it&#39;s to prevent trying to exceed that limit internally. It&#39;s a very large `String`. `Integer.MAX_VALUE - 8 == 2147483639`","body":"It&#39;s <i>very</i> close to <code>Integer.MAX_VALUE</code>. I would assume it&#39;s to prevent trying to exceed that limit internally. It&#39;s a very large <code>String</code>. <code>Integer.MAX_VALUE - 8 == 2147483639</code>"},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1688699225,"post_id":76633668,"comment_id":135111938,"body_markdown":"I can&#39;t find that method in the [openjdk 11.0.19 StringBuilder source code](https://github.com/openjdk/jdk11u-dev/blob/jdk-11.0.19-ga/src/java.base/share/classes/java/lang/StringBuilder.java).","body":"I can&#39;t find that method in the <a href=\"https://github.com/openjdk/jdk11u-dev/blob/jdk-11.0.19-ga/src/java.base/share/classes/java/lang/StringBuilder.java\" rel=\"nofollow noreferrer\">openjdk 11.0.19 StringBuilder source code</a>."},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1688699291,"post_id":76633668,"comment_id":135111939,"body_markdown":"Ah. It&#39;s in AbstractStringBuilder.","body":"Ah. It&#39;s in AbstractStringBuilder."},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1688699901,"post_id":76633668,"comment_id":135111968,"body_markdown":"Where did you find this code, anyway? It looks kind of like it might be decompiler output, not actual source code.","body":"Where did you find this code, anyway? It looks kind of like it might be decompiler output, not actual source code."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1688703363,"post_id":76633668,"comment_id":135112231,"body_markdown":"@TdOnline please [edit] your post to mention (and link to) where you found this code, because the code you&#39;re showing [does not appear to exist](https://github.com/search?q=org%3Aopenjdk+SAFE_BOUND+%3D+2147483639&amp;type=code) in the openjdk11 code base.","body":"@TdOnline please <a href=\"https://stackoverflow.com/posts/76633668/edit\">edit</a> your post to mention (and link to) where you found this code, because the code you&#39;re showing <a href=\"https://github.com/search?q=org%3Aopenjdk+SAFE_BOUND+%3D+2147483639&amp;type=code\" rel=\"nofollow noreferrer\">does not appear to exist</a> in the openjdk11 code base."}],"answers":[{"tags":[],"owner":{"account_id":118410,"reputation":62909,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688698889,"creation_date":1688698889,"answer_id":76633689,"question_id":76633668,"body_markdown":"Note that `2 ** 31` is `2147483648`, that&#39;s the max range for signed int.\r\n\r\nThere&#39;s probably a few additional bytes used for other book keeping overhead (e.g. tracking string length and maybe null terminator) which leads to the number 2147483639.","title":"Why does Java StringBuilder use 2147483639 as safe bound?","body":"<p>Note that <code>2 ** 31</code> is <code>2147483648</code>, that's the max range for signed int.</p>\n<p>There's probably a few additional bytes used for other book keeping overhead (e.g. tracking string length and maybe null terminator) which leads to the number 2147483639.</p>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688699568,"creation_date":1688699568,"answer_id":76633723,"question_id":76633668,"body_markdown":"Here&#39;s what that code looks like in the [version][1] of the openjdk 11.0.19 source code I found when I looked for it:\r\n\r\n    /**\r\n     * The maximum size of array to allocate (unless necessary).\r\n     * Some VMs reserve some header words in an array.\r\n     * Attempts to allocate larger arrays may result in\r\n     * OutOfMemoryError: Requested array size exceeds VM limit\r\n     */\r\n    private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\r\n\r\n    /**\r\n     * Returns a capacity at least as large as the given minimum capacity.\r\n     * Returns the current capacity increased by the same amount + 2 if\r\n     * that suffices.\r\n     * Will not return a capacity greater than\r\n     * {@code (MAX_ARRAY_SIZE &gt;&gt; coder)} unless the given minimum capacity\r\n     * is greater than that.\r\n     *\r\n     * @param  minCapacity the desired minimum capacity\r\n     * @throws OutOfMemoryError if minCapacity is less than zero or\r\n     *         greater than (Integer.MAX_VALUE &gt;&gt; coder)\r\n     */\r\n    private int newCapacity(int minCapacity) {\r\n        // overflow-conscious code\r\n        int oldCapacity = value.length &gt;&gt; coder;\r\n        int newCapacity = (oldCapacity &lt;&lt; 1) + 2;\r\n        if (newCapacity - minCapacity &lt; 0) {\r\n            newCapacity = minCapacity;\r\n        }\r\n        int SAFE_BOUND = MAX_ARRAY_SIZE &gt;&gt; coder;\r\n        return (newCapacity &lt;= 0 || SAFE_BOUND - newCapacity &lt; 0)\r\n            ? hugeCapacity(minCapacity)\r\n            : newCapacity;\r\n    }\r\n\r\nAs you can see from the helpful code comments, the value of 2147483639, equal to Integer.MAX_VALUE - 8, was picked because larger allocations might fail on some VMs, due to reserved header space.\r\n\r\nI don&#39;t know why the code you found looks different.\r\n\r\n  [1]: https://github.com/openjdk/jdk11u-dev/blob/jdk-11.0.19-ga/src/java.base/share/classes/java/lang/AbstractStringBuilder.java#L177","title":"Why does Java StringBuilder use 2147483639 as safe bound?","body":"<p>Here's what that code looks like in the <a href=\"https://github.com/openjdk/jdk11u-dev/blob/jdk-11.0.19-ga/src/java.base/share/classes/java/lang/AbstractStringBuilder.java#L177\" rel=\"nofollow noreferrer\">version</a> of the openjdk 11.0.19 source code I found when I looked for it:</p>\n<pre><code>/**\n * The maximum size of array to allocate (unless necessary).\n * Some VMs reserve some header words in an array.\n * Attempts to allocate larger arrays may result in\n * OutOfMemoryError: Requested array size exceeds VM limit\n */\nprivate static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;\n\n/**\n * Returns a capacity at least as large as the given minimum capacity.\n * Returns the current capacity increased by the same amount + 2 if\n * that suffices.\n * Will not return a capacity greater than\n * {@code (MAX_ARRAY_SIZE &gt;&gt; coder)} unless the given minimum capacity\n * is greater than that.\n *\n * @param  minCapacity the desired minimum capacity\n * @throws OutOfMemoryError if minCapacity is less than zero or\n *         greater than (Integer.MAX_VALUE &gt;&gt; coder)\n */\nprivate int newCapacity(int minCapacity) {\n    // overflow-conscious code\n    int oldCapacity = value.length &gt;&gt; coder;\n    int newCapacity = (oldCapacity &lt;&lt; 1) + 2;\n    if (newCapacity - minCapacity &lt; 0) {\n        newCapacity = minCapacity;\n    }\n    int SAFE_BOUND = MAX_ARRAY_SIZE &gt;&gt; coder;\n    return (newCapacity &lt;= 0 || SAFE_BOUND - newCapacity &lt; 0)\n        ? hugeCapacity(minCapacity)\n        : newCapacity;\n}\n</code></pre>\n<p>As you can see from the helpful code comments, the value of 2147483639, equal to Integer.MAX_VALUE - 8, was picked because larger allocations might fail on some VMs, due to reserved header space.</p>\n<p>I don't know why the code you found looks different.</p>\n"}],"owner":{"account_id":18436024,"reputation":3,"user_id":13429851,"display_name":"TdOnline"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76633723,"answer_count":2,"score":0,"last_activity_date":1688699568,"creation_date":1688698439,"question_id":76633668,"body_markdown":"**Java version**: openjdk 11.0.19\r\n\r\nWhen I was looking at the source code of `StringBuilder`, I noticed that it checks if the capacity exceeds **`2147483639`** when you use the **`append`** method. \r\n\r\nI&#39;m curious why this particular value is used and if there&#39;s any specific reason behind it.\r\n\r\n**Souce Code**:\r\n\r\n```\r\nprivate int newCapacity(int minCapacity) {\r\n    int oldCapacity = this.value.length &gt;&gt; this.coder;\r\n    int newCapacity = (oldCapacity &lt;&lt; 1) + 2;\r\n    if (newCapacity - minCapacity &lt; 0) {\r\n       newCapacity = minCapacity;\r\n    }\r\n\r\n    int SAFE_BOUND = 2147483639 &gt;&gt; this.coder;\r\n    return newCapacity &gt; 0 &amp;&amp; SAFE_BOUND - newCapacity &gt;= 0 ? newCapacity : this.hugeCapacity(minCapacity);\r\n}\r\n```\r\n","title":"Why does Java StringBuilder use 2147483639 as safe bound?","body":"<p><strong>Java version</strong>: openjdk 11.0.19</p>\n<p>When I was looking at the source code of <code>StringBuilder</code>, I noticed that it checks if the capacity exceeds <strong><code>2147483639</code></strong> when you use the <strong><code>append</code></strong> method.</p>\n<p>I'm curious why this particular value is used and if there's any specific reason behind it.</p>\n<p><strong>Souce Code</strong>:</p>\n<pre><code>private int newCapacity(int minCapacity) {\n    int oldCapacity = this.value.length &gt;&gt; this.coder;\n    int newCapacity = (oldCapacity &lt;&lt; 1) + 2;\n    if (newCapacity - minCapacity &lt; 0) {\n       newCapacity = minCapacity;\n    }\n\n    int SAFE_BOUND = 2147483639 &gt;&gt; this.coder;\n    return newCapacity &gt; 0 &amp;&amp; SAFE_BOUND - newCapacity &gt;= 0 ? newCapacity : this.hugeCapacity(minCapacity);\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1564385885,"post_id":57215931,"comment_id":100998439,"body_markdown":"now the issue is &quot;Extension host terminated unexpectedly&quot; or &quot;code-runner.run not found&quot; ?","body":"now the issue is &quot;Extension host terminated unexpectedly&quot; or &quot;code-runner.run not found&quot; ?"},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1564385913,"post_id":57215931,"comment_id":100998455,"body_markdown":"you could refer this:https://github.com/formulahendry/vscode-code-runner/issues/268","body":"you could refer this:<a href=\"https://github.com/formulahendry/vscode-code-runner/issues/268\" rel=\"nofollow noreferrer\">github.com/formulahendry/vscode-code-runner/issues/268</a>"},{"owner":{"account_id":16390915,"reputation":63,"user_id":11839670,"display_name":"SejiMe"},"score":0,"creation_date":1565571971,"post_id":57215931,"comment_id":101383691,"body_markdown":"I think &quot;Extension host terminated unexpectedly&quot; is the reason why &quot;code-runner.run not found&quot; is appearing, but still dont know how to fix the extension host","body":"I think &quot;Extension host terminated unexpectedly&quot; is the reason why &quot;code-runner.run not found&quot; is appearing, but still dont know how to fix the extension host"}],"answers":[{"tags":[],"owner":{"account_id":16877586,"reputation":76,"user_id":12204585,"display_name":"Narek Sargsyan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1583360359,"creation_date":1583354423,"answer_id":60534351,"question_id":57215931,"body_markdown":"Try deleting the `C:\\Users\\...\\.vscode\\extensions\\formulahendry.code-runner-...` folder and installing the extension again.\r\n\r\n\r\nSee [this issue](https://github.com/formulahendry/vscode-code-runner/issues/351#issuecomment-416806210) on GitHub","title":"How to fix Command &quot;code-runner.run&quot; not found","body":"<p>Try deleting the <code>C:\\Users\\...\\.vscode\\extensions\\formulahendry.code-runner-...</code> folder and installing the extension again.</p>\n\n<p>See <a href=\"https://github.com/formulahendry/vscode-code-runner/issues/351#issuecomment-416806210\" rel=\"noreferrer\">this issue</a> on GitHub</p>\n"},{"tags":[],"owner":{"account_id":26668681,"reputation":11,"user_id":20280394,"display_name":"user20280394"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666167562,"creation_date":1666167562,"answer_id":74122058,"question_id":57215931,"body_markdown":"Delete the  complete folder on which you are working currently.And make another with the another name with another file name, and work again, my problem was solved like this.Hope it will help you sure.","title":"How to fix Command &quot;code-runner.run&quot; not found","body":"<p>Delete the  complete folder on which you are working currently.And make another with the another name with another file name, and work again, my problem was solved like this.Hope it will help you sure.</p>\n"},{"tags":[],"owner":{"account_id":28966946,"reputation":1,"user_id":22188135,"display_name":"Josh Walker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688698150,"creation_date":1688698150,"answer_id":76633655,"question_id":57215931,"body_markdown":"The problem might be from the code editor. Try closing your code editor(vscode) &amp; reopen it again.","title":"How to fix Command &quot;code-runner.run&quot; not found","body":"<p>The problem might be from the code editor. Try closing your code editor(vscode) &amp; reopen it again.</p>\n"}],"owner":{"account_id":16390915,"reputation":63,"user_id":11839670,"display_name":"SejiMe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31540,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60534351,"answer_count":3,"score":6,"last_activity_date":1688698150,"creation_date":1564129247,"question_id":57215931,"body_markdown":"I&#39;m trying to run a `test.java` file and also it sends an error `Extension host terminated unexpectedly` then whenever I restart the host the following Command Appear `code-runner.run` not found.\r\n\r\n\r\nReinstalled extensions\r\n\r\n```public class Test{\r\n    public static void name(String[] args) {\r\n        System.out.println(&quot;Hello World&quot;);\r\n    }\r\n}\r\n```\r\nHello World","title":"How to fix Command &quot;code-runner.run&quot; not found","body":"<p>I'm trying to run a <code>test.java</code> file and also it sends an error <code>Extension host terminated unexpectedly</code> then whenever I restart the host the following Command Appear <code>code-runner.run</code> not found.</p>\n\n<p>Reinstalled extensions</p>\n\n<pre><code>    public static void name(String[] args) {\n        System.out.println(\"Hello World\");\n    }\n}\n</code></pre>\n\n<p>Hello World</p>\n"},{"tags":["java","swagger","openapi"],"owner":{"account_id":3484291,"reputation":1265,"user_id":2915603,"accept_rate":62,"display_name":"ArkadyB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688697987,"creation_date":1688697987,"question_id":76633646,"body_markdown":"I have a custom type to generate an OpenAPI schema for Java 11 defined class, for ex\r\n```\r\nMyUglyClassName {\r\n    public MyGenericType&lt;Long&gt; number;\r\n}\r\n```\r\nThis would produce an OpenAPI with the two ref names - `MyUglyClassName` and `MyGenericTypeLong`.\r\n\r\nI can amend this for `MyUglyClassName` using `@JsonRootName(&quot;BeautifulName&quot;)`. Is there a way to do the same for `MyGenericType&lt;Long&gt;`?\r\n\r\nThanks,","title":"Is there a way to give a custom type name for OpenAPI","body":"<p>I have a custom type to generate an OpenAPI schema for Java 11 defined class, for ex</p>\n<pre><code>MyUglyClassName {\n    public MyGenericType&lt;Long&gt; number;\n}\n</code></pre>\n<p>This would produce an OpenAPI with the two ref names - <code>MyUglyClassName</code> and <code>MyGenericTypeLong</code>.</p>\n<p>I can amend this for <code>MyUglyClassName</code> using <code>@JsonRootName(&quot;BeautifulName&quot;)</code>. Is there a way to do the same for <code>MyGenericType&lt;Long&gt;</code>?</p>\n<p>Thanks,</p>\n"},{"tags":["java","lz4"],"comments":[{"owner":{"account_id":8098558,"reputation":2782,"user_id":6102259,"accept_rate":33,"display_name":"ketan"},"score":0,"creation_date":1501354722,"post_id":36012183,"comment_id":77746514,"body_markdown":"@user3758298- I have one query like If I don&#39;t know the length of decompressed array then how should I decompressed byte array? I have one compressed byte array. I want to decompress it.","body":"@user3758298- I have one query like If I don&#39;t know the length of decompressed array then how should I decompressed byte array? I have one compressed byte array. I want to decompress it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688701118,"post_id":36012183,"comment_id":135112053,"body_markdown":"`noBytesProcessed = inputBuffer.length`: the problem is here. It should be `noBytesProcessed = noBytesRead `, and similarly for `decompressedLength`, and all the other places you assumed that `read()` filled the buffer.","body":"<code>noBytesProcessed = inputBuffer.length</code>: the problem is here. It should be <code>noBytesProcessed = noBytesRead </code>, and similarly for <code>decompressedLength</code>, and all the other places you assumed that <code>read()</code> filled the buffer."}],"answers":[{"tags":[],"owner":{"account_id":7568866,"reputation":316,"user_id":5743434,"display_name":"Teemu Ilmonen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458049097,"creation_date":1458049097,"answer_id":36012942,"question_id":36012183,"body_markdown":"Looking only at code, I would say you are going wrong here:\r\n\r\n     outputBuffer = compress(inputBuffer, decompressedLength);\r\n     out.write(outputBuffer, 0, noBytesRead);\r\n\r\nYou have already trimmed outputBuffer in compress. Try:\r\n\r\n    out.write(outputBuffer);","title":"Java LZ4 compression using Input/Output streams","body":"<p>Looking only at code, I would say you are going wrong here:</p>\n\n<pre><code> outputBuffer = compress(inputBuffer, decompressedLength);\n out.write(outputBuffer, 0, noBytesRead);\n</code></pre>\n\n<p>You have already trimmed outputBuffer in compress. Try:</p>\n\n<pre><code>out.write(outputBuffer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4637467,"reputation":380,"user_id":3758298,"accept_rate":75,"display_name":"user3758298"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1459969748,"creation_date":1459969748,"answer_id":36460270,"question_id":36012183,"body_markdown":"So I solved my problem by using LZ4block input/output streams\r\n\r\n\tpublic static void LZ4compress(String filename, String lz4file){\r\n        byte[] buf = new byte[2048];\r\n        try {\r\n            String outFilename = lz4file;\r\n            LZ4BlockOutputStream out = new LZ4BlockOutputStream(new FileOutputStream(outFilename), 32*1024*1024);\r\n            FileInputStream in = new FileInputStream(filename);\r\n\t\t\tint len;\r\n        \twhile((len = in.read(buf)) &gt; 0){\r\n        \t\tout.write(buf, 0, len);\r\n        \t}\r\n            in.close();\r\n            out.close();\r\n        } catch (IOException e) {\r\n        \t\r\n        }\r\n    }\r\n\t\r\n\tpublic static void LZ4Uncompress(String lz4file, String filename){\r\n        byte[] buf = new byte[2048];\r\n        try {\r\n            String outFilename = filename;\r\n            LZ4BlockInputStream in = new LZ4BlockInputStream(new FileInputStream(lz4file));\r\n            FileOutputStream out = new FileOutputStream(outFilename);\r\n\t\t\tint len;\r\n        \twhile((len = in.read(buf)) &gt; 0){\r\n        \t\tout.write(buf, 0, len);\r\n        \t}\r\n            in.close();\r\n            out.close();\r\n        } catch (IOException e) {\r\n        \t\r\n        }\r\n    }","title":"Java LZ4 compression using Input/Output streams","body":"<p>So I solved my problem by using LZ4block input/output streams</p>\n\n<pre><code>public static void LZ4compress(String filename, String lz4file){\n    byte[] buf = new byte[2048];\n    try {\n        String outFilename = lz4file;\n        LZ4BlockOutputStream out = new LZ4BlockOutputStream(new FileOutputStream(outFilename), 32*1024*1024);\n        FileInputStream in = new FileInputStream(filename);\n        int len;\n        while((len = in.read(buf)) &gt; 0){\n            out.write(buf, 0, len);\n        }\n        in.close();\n        out.close();\n    } catch (IOException e) {\n\n    }\n}\n\npublic static void LZ4Uncompress(String lz4file, String filename){\n    byte[] buf = new byte[2048];\n    try {\n        String outFilename = filename;\n        LZ4BlockInputStream in = new LZ4BlockInputStream(new FileInputStream(lz4file));\n        FileOutputStream out = new FileOutputStream(outFilename);\n        int len;\n        while((len = in.read(buf)) &gt; 0){\n            out.write(buf, 0, len);\n        }\n        in.close();\n        out.close();\n    } catch (IOException e) {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093223,"reputation":1998,"user_id":1087373,"accept_rate":0,"display_name":"snowfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688697606,"creation_date":1688697606,"answer_id":76633621,"question_id":36012183,"body_markdown":"Just for those who are looking for the Java utility code to tar &amp; compress files/directories using lz4. Let me know if you find any problems with it.\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    import org.apache.commons.compress.archivers.tar.TarArchiveEntry;\r\n    import org.apache.commons.compress.archivers.tar.TarArchiveOutputStream;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import net.jpountz.lz4.LZ4FrameOutputStream;\r\n    \r\n    public class TarLz4Util {\r\n        private static final Logger logger = LoggerFactory.getLogger(TarLz4Util .class);\r\n    \r\n        private final static int BUFFER_SIZE = 1024 * 1024 * 10;\r\n    \r\n        public static void compress(String sourcePath, String targetPath) throws IOException {\r\n            compress(Paths.get(sourcePath), Paths.get(sourcePath));\r\n        }\r\n    \r\n        /**\r\n         * compress with lz4\r\n         *\r\n         */\r\n        private static void compress(Path sourcePath, Path targetPath) throws IOException {\r\n            //Files -&gt;  Tar  -&gt; LZ4 \r\n            try (LZ4FrameOutputStream lz4Out = new LZ4FrameOutputStream(\r\n                    new FileOutputStream(targetPath.toFile()))) {\r\n                TarArchiveOutputStream tarOut = new TarArchiveOutputStream(lz4Out);\r\n                tarOut.setLongFileMode(TarArchiveOutputStream.LONGFILE_GNU);\r\n                tar(sourcePath.toFile(), tarOut);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * tar your files/directories recursively\r\n         *\r\n         */\r\n        private static void tar(File sourceFile, TarArchiveOutputStream tarOut) throws IOException {\r\n            if (!sourceFile.exists()) {\r\n                logger.warn(&quot;source file/directory does not exist!, path={}&quot;, sourceFile.getAbsolutePath());\r\n                return;\r\n            }\r\n    \r\n            TarArchiveEntry entry = new TarArchiveEntry(sourceFile);\r\n            tarOut.putArchiveEntry(entry);\r\n            if (sourceFile.isFile()) {\r\n                writeFile(new BufferedInputStream(new FileInputStream(sourceFile)), tarOut);\r\n                tarOut.closeArchiveEntry();\r\n            } else {\r\n                for (File file : sourceFile.listFiles()) {\r\n                    tar(file, tarOut);\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * copy file\r\n         *\r\n         */\r\n        private static long writeFile(InputStream in, OutputStream out) throws IOException {\r\n            int read = 0;\r\n            long count = 0;\r\n            byte[] buf = new byte[BUFFER_SIZE];\r\n            while ((read = in.read(buf)) != -1) {\r\n                out.write(buf, 0, read);\r\n                count += read;\r\n            }\r\n            return count;\r\n        }\r\n    \r\n        // a demo\r\n        public static void main(String[] args) throws Exception {\r\n            String srcDir = &quot;d:\\\\test&quot;;\r\n            String tarFile = &quot;test.tar.lz4&quot;;\r\n           \r\n            compress(Paths.get(srctDir), Paths.get(tarFile));\r\n        }\r\n    }","title":"Java LZ4 compression using Input/Output streams","body":"<p>Just for those who are looking for the Java utility code to tar &amp; compress files/directories using lz4. Let me know if you find any problems with it.</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\nimport org.apache.commons.compress.archivers.tar.TarArchiveOutputStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport net.jpountz.lz4.LZ4FrameOutputStream;\n\npublic class TarLz4Util {\n    private static final Logger logger = LoggerFactory.getLogger(TarLz4Util .class);\n\n    private final static int BUFFER_SIZE = 1024 * 1024 * 10;\n\n    public static void compress(String sourcePath, String targetPath) throws IOException {\n        compress(Paths.get(sourcePath), Paths.get(sourcePath));\n    }\n\n    /**\n     * compress with lz4\n     *\n     */\n    private static void compress(Path sourcePath, Path targetPath) throws IOException {\n        //Files -&gt;  Tar  -&gt; LZ4 \n        try (LZ4FrameOutputStream lz4Out = new LZ4FrameOutputStream(\n                new FileOutputStream(targetPath.toFile()))) {\n            TarArchiveOutputStream tarOut = new TarArchiveOutputStream(lz4Out);\n            tarOut.setLongFileMode(TarArchiveOutputStream.LONGFILE_GNU);\n            tar(sourcePath.toFile(), tarOut);\n        }\n    }\n\n    /**\n     * tar your files/directories recursively\n     *\n     */\n    private static void tar(File sourceFile, TarArchiveOutputStream tarOut) throws IOException {\n        if (!sourceFile.exists()) {\n            logger.warn(&quot;source file/directory does not exist!, path={}&quot;, sourceFile.getAbsolutePath());\n            return;\n        }\n\n        TarArchiveEntry entry = new TarArchiveEntry(sourceFile);\n        tarOut.putArchiveEntry(entry);\n        if (sourceFile.isFile()) {\n            writeFile(new BufferedInputStream(new FileInputStream(sourceFile)), tarOut);\n            tarOut.closeArchiveEntry();\n        } else {\n            for (File file : sourceFile.listFiles()) {\n                tar(file, tarOut);\n            }\n        }\n    }\n\n    /**\n     * copy file\n     *\n     */\n    private static long writeFile(InputStream in, OutputStream out) throws IOException {\n        int read = 0;\n        long count = 0;\n        byte[] buf = new byte[BUFFER_SIZE];\n        while ((read = in.read(buf)) != -1) {\n            out.write(buf, 0, read);\n            count += read;\n        }\n        return count;\n    }\n\n    // a demo\n    public static void main(String[] args) throws Exception {\n        String srcDir = &quot;d:\\\\test&quot;;\n        String tarFile = &quot;test.tar.lz4&quot;;\n       \n        compress(Paths.get(srctDir), Paths.get(tarFile));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4637467,"reputation":380,"user_id":3758298,"accept_rate":75,"display_name":"user3758298"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9149,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36460270,"answer_count":3,"score":6,"last_activity_date":1688697606,"creation_date":1458047142,"question_id":36012183,"body_markdown":"I&#39;m using jpountz LZ4 to try and compress files and I want to read in and output files using Java  file input and output streams. I&#39;ve tried to find a solution online but theres nothing, I found a previous stackoverflow question on how to implement LZ4 correctly and I&#39;ve taken that and tried to modify it to use the streams, but I&#39;m not sure if this is correct or if it&#39;s even working.\r\n\r\nWhen running the compression on a text file it outputs a file which has some characters missing or replaced with symbols\r\n\r\n    &#240;\u0001Hello world He&#240;\u0001o world Hello &#240;\u0001rld Hello worl&#240;\u0001Hello worl\r\n\r\n but when running it with a image file it throws an out of bounds error. I&#39;ve also been unable to get decompression to work as it throws a Error decoding offset 3 of input buffer.\r\n\r\nHere is my code any help would be appreciated thanks\r\n\r\n\tpublic void LZ4Compress(InputStream in, OutputStream out){\r\n\t    int noBytesRead = 0;        //number of bytes read from input\r\n\t    int noBytesProcessed = 0;   //number of bytes processed\r\n\t    try {\r\n\t\t    while ((noBytesRead = in.read(inputBuffer)) &gt;= 0) {\r\n\t\t        noBytesProcessed = inputBuffer.length;\r\n\t\t        decompressedLength = inputBuffer.length;\r\n\t\t        outputBuffer = compress(inputBuffer, decompressedLength);\r\n\t\t\t\tout.write(outputBuffer, 0, noBytesRead);\r\n\t\t    }\r\n\t\t    out.flush();\r\n\t\t    in.close();\r\n\t\t    out.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void LZ4decompress(InputStream in, OutputStream out){\r\n\t    int noBytesRead = 0;        //number of bytes read from input\r\n\t\ttry {\r\n\t\t\twhile((noBytesRead = in.read(inputBuffer)) &gt;= 0){\r\n\t\t\t\tnoBytesProcessed = inputBuffer.length;\r\n\t\t\t\toutputBuffer = decompress(inputBuffer);\r\n\t\t\t\tout.write(outputBuffer, 0, noBytesRead);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static byte[] compress(byte[] src, int srcLen) {\r\n\t    decompressedLength = srcLen;\r\n\t    int maxCompressedLength = compressor.maxCompressedLength(decompressedLength);\r\n\t    byte[] compressed = new byte[maxCompressedLength];\r\n\t    int compressLen = compressor.compress(src, 0, decompressedLength, compressed, 0, maxCompressedLength);\r\n\t    byte[] finalCompressedArray = Arrays.copyOf(compressed, compressLen);\r\n\t    return finalCompressedArray;\r\n\t}\r\n\t\r\n\tprivate static LZ4SafeDecompressor decompressor = factory.safeDecompressor();\r\n\r\n\tpublic static byte[] decompress(byte[] finalCompressedArray) {\r\n\t    byte[] restored = new byte[finalCompressedArray.length];\r\n\t    restored = decompressor.decompress(finalCompressedArray, finalCompressedArray.length);\r\n\t    return restored;\r\n\t}","title":"Java LZ4 compression using Input/Output streams","body":"<p>I'm using jpountz LZ4 to try and compress files and I want to read in and output files using Java  file input and output streams. I've tried to find a solution online but theres nothing, I found a previous stackoverflow question on how to implement LZ4 correctly and I've taken that and tried to modify it to use the streams, but I'm not sure if this is correct or if it's even working.</p>\n\n<p>When running the compression on a text file it outputs a file which has some characters missing or replaced with symbols</p>\n\n<pre><code>Hello world Heo world Hello rld Hello worlHello worl\n</code></pre>\n\n<p>but when running it with a image file it throws an out of bounds error. I've also been unable to get decompression to work as it throws a Error decoding offset 3 of input buffer.</p>\n\n<p>Here is my code any help would be appreciated thanks</p>\n\n<pre><code>public void LZ4Compress(InputStream in, OutputStream out){\n    int noBytesRead = 0;        //number of bytes read from input\n    int noBytesProcessed = 0;   //number of bytes processed\n    try {\n        while ((noBytesRead = in.read(inputBuffer)) &gt;= 0) {\n            noBytesProcessed = inputBuffer.length;\n            decompressedLength = inputBuffer.length;\n            outputBuffer = compress(inputBuffer, decompressedLength);\n            out.write(outputBuffer, 0, noBytesRead);\n        }\n        out.flush();\n        in.close();\n        out.close();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\npublic void LZ4decompress(InputStream in, OutputStream out){\n    int noBytesRead = 0;        //number of bytes read from input\n    try {\n        while((noBytesRead = in.read(inputBuffer)) &gt;= 0){\n            noBytesProcessed = inputBuffer.length;\n            outputBuffer = decompress(inputBuffer);\n            out.write(outputBuffer, 0, noBytesRead);\n\n        }\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\npublic static byte[] compress(byte[] src, int srcLen) {\n    decompressedLength = srcLen;\n    int maxCompressedLength = compressor.maxCompressedLength(decompressedLength);\n    byte[] compressed = new byte[maxCompressedLength];\n    int compressLen = compressor.compress(src, 0, decompressedLength, compressed, 0, maxCompressedLength);\n    byte[] finalCompressedArray = Arrays.copyOf(compressed, compressLen);\n    return finalCompressedArray;\n}\n\nprivate static LZ4SafeDecompressor decompressor = factory.safeDecompressor();\n\npublic static byte[] decompress(byte[] finalCompressedArray) {\n    byte[] restored = new byte[finalCompressedArray.length];\n    restored = decompressor.decompress(finalCompressedArray, finalCompressedArray.length);\n    return restored;\n}\n</code></pre>\n"},{"tags":["java","generics","types","parameters"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688697388,"post_id":76633521,"comment_id":135111838,"body_markdown":"No, you can&#39;t really do this.","body":"No, you can&#39;t really do this."}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688695894,"creation_date":1688695894,"answer_id":76633544,"question_id":76633521,"body_markdown":"You can&#39;t quite do what you&#39;re looking for, but you can get close.\r\n\r\nYou can create an intermediate interface. It may look like the following:\r\n\r\n```java\r\ninterface AB implements A, B {}\r\n```\r\n\r\nYou then implement this intermediate interface from the relevant classes:\r\n```java\r\nclass Foo implements AB {\r\n...\r\n}\r\netc\r\n```\r\n\r\nAnd you can then do:\r\n```java\r\npublic static &lt;T extends AB&gt; void method1() {}\r\npublic static &lt;T extends AB&gt; void method2() {}\r\n```","title":"Creating a single definition for generic type parameters","body":"<p>You can't quite do what you're looking for, but you can get close.</p>\n<p>You can create an intermediate interface. It may look like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface AB implements A, B {}\n</code></pre>\n<p>You then implement this intermediate interface from the relevant classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo implements AB {\n...\n}\netc\n</code></pre>\n<p>And you can then do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends AB&gt; void method1() {}\npublic static &lt;T extends AB&gt; void method2() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688697295,"creation_date":1688697295,"answer_id":76633606,"question_id":76633521,"body_markdown":"Do the methods have to be static?\r\n\r\nIf not, and the methods are related you could create a wrapper class to reduce duplicating code. This would simply look like:\r\n\r\n```java\r\npublic class GenericWrapper&lt;T extends A &amp; B&gt; {\r\n\tpublic void method1(T t1, T t2) {\r\n\t\t// Your code here. The parameters to this method could be anything.\r\n\t}\r\n\tpublic void method2(T t) {}\r\n}\r\n```\r\n\r\nYou then can reference the generic type T in method1 and method2. The Wrapper class may even suite well as a nested class.\r\n\r\nTo call the methods it would look something like:\r\n\r\n```java\r\nGenericWrapper&lt;MyClass&gt; wrapper = new GenericWrapper&lt;MyClass&gt;();\r\n\r\nwrapper.method1(new MyClass(), new MyClass());\r\nwrapper.method2(new MyClass());\r\n```\r\nThe above is using the example parameters to the methods, in reality they may be anything.\r\n\r\nNote this solution only works if the functions are not required to be static.","title":"Creating a single definition for generic type parameters","body":"<p>Do the methods have to be static?</p>\n<p>If not, and the methods are related you could create a wrapper class to reduce duplicating code. This would simply look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericWrapper&lt;T extends A &amp; B&gt; {\n    public void method1(T t1, T t2) {\n        // Your code here. The parameters to this method could be anything.\n    }\n    public void method2(T t) {}\n}\n</code></pre>\n<p>You then can reference the generic type T in method1 and method2. The Wrapper class may even suite well as a nested class.</p>\n<p>To call the methods it would look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GenericWrapper&lt;MyClass&gt; wrapper = new GenericWrapper&lt;MyClass&gt;();\n\nwrapper.method1(new MyClass(), new MyClass());\nwrapper.method2(new MyClass());\n</code></pre>\n<p>The above is using the example parameters to the methods, in reality they may be anything.</p>\n<p>Note this solution only works if the functions are not required to be static.</p>\n"}],"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76633544,"answer_count":2,"score":0,"last_activity_date":1688697295,"creation_date":1688695441,"question_id":76633521,"body_markdown":"If I have many methods that use the same generic type parameters, is there a way to define those generic type parameters only once? For example, if I have methods like this:\r\n\r\n    public static &lt;T extends A &amp; B&gt; void method1() {}\r\n    public static &lt;T extends A &amp; B&gt; void method2() {}\r\n\r\nIs there a way to define them as something like this:\r\n\r\n    GenericType = &lt;T extends A &amp; B&gt;;\r\n    public static &lt;GenericType&gt; void method1() {}\r\n    public static &lt;GenericType&gt; void method2() {}\r\n\r\nI&#39;ve done a lot of Googling and can&#39;t find an answer on this; it seems like something that we should be able to do with generics, and that would be helpful in maintenance. I&#39;m guessing that I&#39;m just not phrasing my search correctly. I know that these parameters are used at compile time, so maybe the only way to do something like this is to extend the compiler?\r\n\r\nCan anyone give me some guidance on this? If I have to define the generic type parameters over and over again because that&#39;s just how it&#39;s done, that&#39;s fine with me; I&#39;d just like to know what&#39;s possible. If the only solution is to extend the compiler, that&#39;s far more work than is worthwhile to put in.\r\n\r\nThanks!","title":"Creating a single definition for generic type parameters","body":"<p>If I have many methods that use the same generic type parameters, is there a way to define those generic type parameters only once? For example, if I have methods like this:</p>\n<pre><code>public static &lt;T extends A &amp; B&gt; void method1() {}\npublic static &lt;T extends A &amp; B&gt; void method2() {}\n</code></pre>\n<p>Is there a way to define them as something like this:</p>\n<pre><code>GenericType = &lt;T extends A &amp; B&gt;;\npublic static &lt;GenericType&gt; void method1() {}\npublic static &lt;GenericType&gt; void method2() {}\n</code></pre>\n<p>I've done a lot of Googling and can't find an answer on this; it seems like something that we should be able to do with generics, and that would be helpful in maintenance. I'm guessing that I'm just not phrasing my search correctly. I know that these parameters are used at compile time, so maybe the only way to do something like this is to extend the compiler?</p>\n<p>Can anyone give me some guidance on this? If I have to define the generic type parameters over and over again because that's just how it's done, that's fine with me; I'd just like to know what's possible. If the only solution is to extend the compiler, that's far more work than is worthwhile to put in.</p>\n<p>Thanks!</p>\n"},{"tags":["java","generics","type-inference","logical-operators","boolean-expression"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1688679382,"post_id":76632348,"comment_id":135110206,"body_markdown":"well, your core problem is that you are attempting to say that the `T` in `LogicOperator` is a `LogicOperator` or a `PropertyChecking`.  then in your `And.fire()` you attempt to call `left.fire()` with a single argument.  however, if `left` is a `LogicOperator`, then the `fire()` method takes 4 arguments, not 1.  i can&#39;t say that i entirely understand what you are trying to do, but maybe that helps?","body":"well, your core problem is that you are attempting to say that the <code>T</code> in <code>LogicOperator</code> is a <code>LogicOperator</code> or a <code>PropertyChecking</code>.  then in your <code>And.fire()</code> you attempt to call <code>left.fire()</code> with a single argument.  however, if <code>left</code> is a <code>LogicOperator</code>, then the <code>fire()</code> method takes 4 arguments, not 1.  i can&#39;t say that i entirely understand what you are trying to do, but maybe that helps?"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1688680072,"post_id":76632348,"comment_id":135110304,"body_markdown":"I don&#39;t get what you&#39;re trying to do either, so it&#39;s kinda hard to help you. You say you want a tree of expressions, but your usage example neither creates nor uses a tree, it simply calls some functions, and feeds the booleans they return to an add function, which returns a boolean. Where is the tree in that?","body":"I don&#39;t get what you&#39;re trying to do either, so it&#39;s kinda hard to help you. You say you want a tree of expressions, but your usage example neither creates nor uses a tree, it simply calls some functions, and feeds the booleans they return to an add function, which returns a boolean. Where is the tree in that?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1688680118,"post_id":76632348,"comment_id":135110309,"body_markdown":"What are A, B and C in your example main? I don&#39;t see why a logic operator should take four arguments.","body":"What are A, B and C in your example main? I don&#39;t see why a logic operator should take four arguments."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1688680399,"post_id":76632348,"comment_id":135110348,"body_markdown":"Having `Ti` as a parameter to `fire()` seems a bit awkward (breaking encapsulation).  Seems like it would be a single interface (or maybe an adapter) that could wrap the actual `T` and `Ti`.  Then `And`, and `Or` could take variable number of arguments, and delegate to the wrapper/adapter.","body":"Having <code>Ti</code> as a parameter to <code>fire()</code> seems a bit awkward (breaking encapsulation).  Seems like it would be a single interface (or maybe an adapter) that could wrap the actual <code>T</code> and <code>Ti</code>.  Then <code>And</code>, and <code>Or</code> could take variable number of arguments, and delegate to the wrapper/adapter."},{"owner":{"account_id":23857731,"reputation":73,"user_id":17861062,"display_name":"simondx"},"score":0,"creation_date":1688683237,"post_id":76632348,"comment_id":135110693,"body_markdown":"I&#39;m sorry for the confusion, I tried to rewrite the examples","body":"I&#39;m sorry for the confusion, I tried to rewrite the examples"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688696699,"creation_date":1688696699,"answer_id":76633582,"question_id":76632348,"body_markdown":"You *might* be overcomplicating this. If you want an expression tree like the one in the image, make an expression tree. You don&#39;t need to distinguish between &quot;operators&quot; and &quot;input&quot;s.\r\n\r\n```\r\n// this represents a tree &quot;node&quot;\r\ninterface BooleanExpression {\r\n    // all nodes should implement this to represent how they are evaluated\r\n    boolean evaluate();\r\n}\r\n\r\n// a node can be any of these types\r\nrecord IsNumberEven(int number) implements BooleanExpression {\r\n    @Override\r\n    public boolean evaluate() {\r\n        return number() % 2 == 0;\r\n    }\r\n}\r\n\r\nrecord IsNumberOdd(int number) implements BooleanExpression {\r\n    @Override\r\n    public boolean evaluate() {\r\n        return number() % 2 == 1;\r\n    }\r\n}\r\n\r\nrecord And(BooleanExpression left, BooleanExpression right) implements BooleanExpression {\r\n    @Override\r\n    public boolean evaluate() {\r\n        return left().evaluate() &amp;&amp; right().evaluate();\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nboolean result = new And(\r\n        new IsNumberEven(4),\r\n        new And(\r\n                new IsNumberOdd(7),\r\n                new IsNumberEven(6)\r\n        )\r\n).evaluate();\r\n```\r\n\r\nIf you really want to separate out the &quot;inputs&quot; of the `IsNumberOdd`/`IsNumberEven` nodes, you can. Just generalise `BooleanExpression` to `Expression&lt;T&gt;`\r\n\r\n```\r\ninterface Expression&lt;T&gt; {\r\n    T evaluate();\r\n}\r\n\r\nrecord Constant&lt;T&gt;(T value) implements Expression&lt;T&gt; {\r\n    @Override\r\n    public T evaluate() {\r\n        return value();\r\n    }\r\n}\r\n\r\nrecord IsNumberEven(Expression&lt;Integer&gt; number) implements Expression&lt;Boolean&gt; {\r\n    @Override\r\n    public Boolean evaluate() {\r\n        return number().evaluate() % 2 == 0;\r\n    }\r\n}\r\n\r\nrecord IsNumberOdd(Expression&lt;Integer&gt; number) implements Expression&lt;Boolean&gt; {\r\n    @Override\r\n    public Boolean evaluate() {\r\n        return number().evaluate() % 2 == 1;\r\n    }\r\n}\r\n\r\nrecord And(Expression&lt;Boolean&gt; left, Expression&lt;Boolean&gt; right) implements Expression&lt;Boolean&gt; {\r\n    @Override\r\n    public Boolean evaluate() {\r\n        return left().evaluate() &amp;&amp; right().evaluate();\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nboolean result = new And(\r\n        new IsNumberEven(new Constant&lt;&gt;(4)),\r\n        new And(\r\n                new IsNumberOdd(new Constant&lt;&gt;(7)),\r\n                new IsNumberEven(new Constant&lt;&gt;(6))\r\n        )\r\n).evaluate();\r\n```","title":"Resolve Java Interface ambiguity in method parameters","body":"<p>You <em>might</em> be overcomplicating this. If you want an expression tree like the one in the image, make an expression tree. You don't need to distinguish between &quot;operators&quot; and &quot;input&quot;s.</p>\n<pre><code>// this represents a tree &quot;node&quot;\ninterface BooleanExpression {\n    // all nodes should implement this to represent how they are evaluated\n    boolean evaluate();\n}\n\n// a node can be any of these types\nrecord IsNumberEven(int number) implements BooleanExpression {\n    @Override\n    public boolean evaluate() {\n        return number() % 2 == 0;\n    }\n}\n\nrecord IsNumberOdd(int number) implements BooleanExpression {\n    @Override\n    public boolean evaluate() {\n        return number() % 2 == 1;\n    }\n}\n\nrecord And(BooleanExpression left, BooleanExpression right) implements BooleanExpression {\n    @Override\n    public boolean evaluate() {\n        return left().evaluate() &amp;&amp; right().evaluate();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>boolean result = new And(\n        new IsNumberEven(4),\n        new And(\n                new IsNumberOdd(7),\n                new IsNumberEven(6)\n        )\n).evaluate();\n</code></pre>\n<p>If you really want to separate out the &quot;inputs&quot; of the <code>IsNumberOdd</code>/<code>IsNumberEven</code> nodes, you can. Just generalise <code>BooleanExpression</code> to <code>Expression&lt;T&gt;</code></p>\n<pre><code>interface Expression&lt;T&gt; {\n    T evaluate();\n}\n\nrecord Constant&lt;T&gt;(T value) implements Expression&lt;T&gt; {\n    @Override\n    public T evaluate() {\n        return value();\n    }\n}\n\nrecord IsNumberEven(Expression&lt;Integer&gt; number) implements Expression&lt;Boolean&gt; {\n    @Override\n    public Boolean evaluate() {\n        return number().evaluate() % 2 == 0;\n    }\n}\n\nrecord IsNumberOdd(Expression&lt;Integer&gt; number) implements Expression&lt;Boolean&gt; {\n    @Override\n    public Boolean evaluate() {\n        return number().evaluate() % 2 == 1;\n    }\n}\n\nrecord And(Expression&lt;Boolean&gt; left, Expression&lt;Boolean&gt; right) implements Expression&lt;Boolean&gt; {\n    @Override\n    public Boolean evaluate() {\n        return left().evaluate() &amp;&amp; right().evaluate();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>boolean result = new And(\n        new IsNumberEven(new Constant&lt;&gt;(4)),\n        new And(\n                new IsNumberOdd(new Constant&lt;&gt;(7)),\n                new IsNumberEven(new Constant&lt;&gt;(6))\n        )\n).evaluate();\n</code></pre>\n"}],"owner":{"account_id":23857731,"reputation":73,"user_id":17861062,"display_name":"simondx"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76633582,"answer_count":1,"score":2,"last_activity_date":1688696699,"creation_date":1688675379,"question_id":76632348,"body_markdown":"I have a tree of boolean operations from a boolean expression that I have to run in Java. The tree would be something like this:\r\n[![The problem][1]][1]\r\nAnd I would need to run it in Java iteratively so that it returns me a boolean value. \r\n\r\n```\r\nboolean b = AND(isNumberEven(&quot;4&quot;), AND(isNumberOdd(&quot;7&quot;), isNumberEven(&quot;6&quot;))\r\n```\r\n\r\nThe problem is that I need to write the interfaces, since in my company we could create many classes like And, Or, isSomething, hasInArray (it could be any property needed by the other devs). We generally have two types of nodes: the logic ones, which have two branches, and the property checking ones, which are leafs of the tree.\r\n\r\nWhat I tried to do below is something I think it&#39;s really wrong in Java, please help me doing it right.\r\n\r\nMy idea was to create two Interfaces, one for Logic operators and another for Property checking. The property checker needs to evaluate its property from the input, while the logic operator needs to evaluate the two branches and then compute something with the two results (like an AND or an OR, we don&#39;t care about the NOT operator for now). I was thinking of doing these interfaces\r\n\r\n```\r\nclass PropertyCheckingInput {\r\n   String s; // dummy property, this object is the thing we want to verify the property on (example, if this string is an even number)\r\n\r\n   PropertyCheckingInput(...){...} // constructor for all params\r\n}\r\n\r\ninterface PropertyChecking {\r\n   boolean fire(PropertyCheckingInput i);\r\n}\r\n\r\nclass LogicOperatorInput&lt;\r\n   T extends LogicOperator or PropertyChecking, // it can be one or the other\r\n   Ti extends LogicOperatorInput or PropertyCheckingInput\r\n&gt; {\r\n    T left;\r\n    Ti leftInput;\r\n    T right;\r\n    Ti rightInput;\r\n\r\n    // probabily the type of leftInput should act accordingly to the type of left, but I don&#39;t know how to enforce this in Java with generics\r\n\r\n    LogicOperatorInput(...){...} // constructor for all params\r\n}\r\n\r\ninterface LogicOperator{\r\n   boolean fire(LogicOperatorInput i); \r\n}\r\n```\r\nIn this case, if I want to implement something like the AND I could do it like\r\n\r\n```\r\nclass And implements LogicOperator {\r\n    boolean fire(LogicOperatorInput i) {\r\n        i.left.fire(i.leftInput) &amp;&amp; i.right.fire(i.rightInput);\r\n    }\r\n\r\n    And() {}\r\n\r\n    public static void main(String[] args) {\r\n        // expression: isNumberEven(&quot;4&quot;) AND isNumberOdd(&quot;7&quot;) AND isNumberEven(&quot;6&quot;)\r\n        boolean b = new And().fire(new LogicOperatorInput(\r\n            new isNumberEven(), \r\n            new PropertyCheckingInput(&quot;4&quot;), \r\n            new And(), \r\n            new LogicOperatorInput(\r\n                new isNumberOdd(), \r\n                new PropertyCheckingInput(&quot;7&quot;), \r\n                new isNumberEven(), \r\n                new PropertyCheckingInput(&quot;6&quot;))\r\n        ));\r\n\r\n        System.out.println(b);\r\n    }\r\n}\r\n```\r\n\r\nFor each branch, I execute the function fire of both left and right with their input and care only about their result. Then if I want to create a boolean expression I concatenate the various nodes and inputs.\r\n\r\nThe compilers of course tells me this is wrong, because it cannot infer the correct type of the fire( ) functions.\r\n\r\nI&#39;m used to write in Javascript, which allows this type of stuff because it doesn&#39;t check what you&#39;re trying to do. Is there a way to do this in Java (I tried using some generics or abstract classes, but didn&#39;t work), or better yet a correct way to solve this problem (where we have a binary expression written as a binary tree and we want to resolve it by calling the class associated with each node)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PShc.png","title":"Resolve Java Interface ambiguity in method parameters","body":"<p>I have a tree of boolean operations from a boolean expression that I have to run in Java. The tree would be something like this:\n<a href=\"https://i.stack.imgur.com/6PShc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PShc.png\" alt=\"The problem\" /></a>\nAnd I would need to run it in Java iteratively so that it returns me a boolean value.</p>\n<pre><code>boolean b = AND(isNumberEven(&quot;4&quot;), AND(isNumberOdd(&quot;7&quot;), isNumberEven(&quot;6&quot;))\n</code></pre>\n<p>The problem is that I need to write the interfaces, since in my company we could create many classes like And, Or, isSomething, hasInArray (it could be any property needed by the other devs). We generally have two types of nodes: the logic ones, which have two branches, and the property checking ones, which are leafs of the tree.</p>\n<p>What I tried to do below is something I think it's really wrong in Java, please help me doing it right.</p>\n<p>My idea was to create two Interfaces, one for Logic operators and another for Property checking. The property checker needs to evaluate its property from the input, while the logic operator needs to evaluate the two branches and then compute something with the two results (like an AND or an OR, we don't care about the NOT operator for now). I was thinking of doing these interfaces</p>\n<pre><code>class PropertyCheckingInput {\n   String s; // dummy property, this object is the thing we want to verify the property on (example, if this string is an even number)\n\n   PropertyCheckingInput(...){...} // constructor for all params\n}\n\ninterface PropertyChecking {\n   boolean fire(PropertyCheckingInput i);\n}\n\nclass LogicOperatorInput&lt;\n   T extends LogicOperator or PropertyChecking, // it can be one or the other\n   Ti extends LogicOperatorInput or PropertyCheckingInput\n&gt; {\n    T left;\n    Ti leftInput;\n    T right;\n    Ti rightInput;\n\n    // probabily the type of leftInput should act accordingly to the type of left, but I don't know how to enforce this in Java with generics\n\n    LogicOperatorInput(...){...} // constructor for all params\n}\n\ninterface LogicOperator{\n   boolean fire(LogicOperatorInput i); \n}\n</code></pre>\n<p>In this case, if I want to implement something like the AND I could do it like</p>\n<pre><code>class And implements LogicOperator {\n    boolean fire(LogicOperatorInput i) {\n        i.left.fire(i.leftInput) &amp;&amp; i.right.fire(i.rightInput);\n    }\n\n    And() {}\n\n    public static void main(String[] args) {\n        // expression: isNumberEven(&quot;4&quot;) AND isNumberOdd(&quot;7&quot;) AND isNumberEven(&quot;6&quot;)\n        boolean b = new And().fire(new LogicOperatorInput(\n            new isNumberEven(), \n            new PropertyCheckingInput(&quot;4&quot;), \n            new And(), \n            new LogicOperatorInput(\n                new isNumberOdd(), \n                new PropertyCheckingInput(&quot;7&quot;), \n                new isNumberEven(), \n                new PropertyCheckingInput(&quot;6&quot;))\n        ));\n\n        System.out.println(b);\n    }\n}\n</code></pre>\n<p>For each branch, I execute the function fire of both left and right with their input and care only about their result. Then if I want to create a boolean expression I concatenate the various nodes and inputs.</p>\n<p>The compilers of course tells me this is wrong, because it cannot infer the correct type of the fire( ) functions.</p>\n<p>I'm used to write in Javascript, which allows this type of stuff because it doesn't check what you're trying to do. Is there a way to do this in Java (I tried using some generics or abstract classes, but didn't work), or better yet a correct way to solve this problem (where we have a binary expression written as a binary tree and we want to resolve it by calling the class associated with each node)?</p>\n"},{"tags":["java","android","flutter","grpc","grpc-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1688740519,"post_id":76633574,"comment_id":135118652,"body_markdown":"Cross-posting: https://github.com/grpc/grpc-java/issues/10352","body":"Cross-posting: <a href=\"https://github.com/grpc/grpc-java/issues/10352\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/10352</a>"}],"owner":{"account_id":19848952,"reputation":1,"user_id":14539865,"display_name":"yuyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688696426,"creation_date":1688696339,"question_id":76633574,"body_markdown":"I want to use Unix Domain Socket in android-java with grpc server.And I use the example from okhttp:https://github.com/square/okhttp/blob/master/samples/unixdomainsockets/src/main/java/okhttp3/unixdomainsockets/UnixDomainServerSocketFactory.java\r\n\r\n\r\n\r\nI have tried this:\r\n\r\n```\r\nInetSocketAddress address = new InetSocketAddress(&quot;localhost&quot;, port); \r\nServer server = OkHttpServerBuilder.forPort(address,InsecureServerCredentials.create())\r\n.socketFactory(new UnixDomainServerSocketFactory(socketFile)) \r\n.build().start();\r\n```\r\n\r\n\r\n\r\nBut I got an error :\r\n\r\n```\r\njava.lang.ExceptionInInitializerError: Cannot determine cpu address size E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.calculateAddressSize(Platform.java:314) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.&lt;init&gt;(Platform.java:290) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.&lt;init&gt;(Platform.java:31) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform$Supported.&lt;init&gt;(Platform.java:582) E/AndroidRuntime(19579): \r\nat jnr.ffi.Platform$Linux.&lt;init&gt;(Platform.java:730) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.determinePlatform(Platform.java:193) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.determinePlatform(Platform.java:211) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.access$000(Platform.java:31) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform$SingletonHolder.&lt;clinit&gt;(Platform.java:40) E/AndroidRuntime(19579): \t\r\nat jnr.ffi.Platform.getNativePlatform(Platform.java:327) E/AndroidRuntime(19579): \t\r\nat jnr.unixsocket.SockAddrUnix.&lt;clinit&gt;(SockAddrUnix.java:34) E/AndroidRuntime(19579): \t\r\nat jnr.unixsocket.SockAddrUnix.create(SockAddrUnix.java:174) E/AndroidRuntime(19579): \t\r\nat jnr.unixsocket.UnixSocketAddress.&lt;init&gt;(UnixSocketAddress.java:47) E/AndroidRuntime(19579): \t\r\nat com.example.grpc_proxy.unixdomainsockets.UnixDomainServerSocketFactory$UnixDomainServerSocket.bind(UnixDomainServerSocketFactory.java:54) E/AndroidRuntime(19579): \t\r\nat java.net.ServerSocket.bind(ServerSocket.java:331) E/AndroidRuntime(19579): \t\r\nat io.grpc.okhttp.OkHttpServer.start(OkHttpServer.java:79) E/AndroidRuntime(19579): \t\r\nat io.grpc.internal.ServerImpl.start(ServerImpl.java:185) E/AndroidRuntime(19579): \t\r\nat io.grpc.internal.ServerImpl.start(ServerImpl.java:94)\r\n```\r\n\r\n\r\nSo how can I use Unix domain socket for android as a server with gRPC.LocalServerSocket isn&#39;t a serverSocket,so it can&#39;t be returned.","title":"how can I use Unix Domain Socket in Android both server and client,with gRPC","body":"<p>I want to use Unix Domain Socket in android-java with grpc server.And I use the example from okhttp:<a href=\"https://github.com/square/okhttp/blob/master/samples/unixdomainsockets/src/main/java/okhttp3/unixdomainsockets/UnixDomainServerSocketFactory.java\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/master/samples/unixdomainsockets/src/main/java/okhttp3/unixdomainsockets/UnixDomainServerSocketFactory.java</a></p>\n<p>I have tried this:</p>\n<pre><code>InetSocketAddress address = new InetSocketAddress(&quot;localhost&quot;, port); \nServer server = OkHttpServerBuilder.forPort(address,InsecureServerCredentials.create())\n.socketFactory(new UnixDomainServerSocketFactory(socketFile)) \n.build().start();\n</code></pre>\n<p>But I got an error :</p>\n<pre><code>java.lang.ExceptionInInitializerError: Cannot determine cpu address size E/AndroidRuntime(19579):   \nat jnr.ffi.Platform.calculateAddressSize(Platform.java:314) E/AndroidRuntime(19579):    \nat jnr.ffi.Platform.&lt;init&gt;(Platform.java:290) E/AndroidRuntime(19579):  \nat jnr.ffi.Platform.&lt;init&gt;(Platform.java:31) E/AndroidRuntime(19579):   \nat jnr.ffi.Platform$Supported.&lt;init&gt;(Platform.java:582) E/AndroidRuntime(19579): \nat jnr.ffi.Platform$Linux.&lt;init&gt;(Platform.java:730) E/AndroidRuntime(19579):    \nat jnr.ffi.Platform.determinePlatform(Platform.java:193) E/AndroidRuntime(19579):   \nat jnr.ffi.Platform.determinePlatform(Platform.java:211) E/AndroidRuntime(19579):   \nat jnr.ffi.Platform.access$000(Platform.java:31) E/AndroidRuntime(19579):   \nat jnr.ffi.Platform$SingletonHolder.&lt;clinit&gt;(Platform.java:40) E/AndroidRuntime(19579):     \nat jnr.ffi.Platform.getNativePlatform(Platform.java:327) E/AndroidRuntime(19579):   \nat jnr.unixsocket.SockAddrUnix.&lt;clinit&gt;(SockAddrUnix.java:34) E/AndroidRuntime(19579):  \nat jnr.unixsocket.SockAddrUnix.create(SockAddrUnix.java:174) E/AndroidRuntime(19579):   \nat jnr.unixsocket.UnixSocketAddress.&lt;init&gt;(UnixSocketAddress.java:47) E/AndroidRuntime(19579):  \nat com.example.grpc_proxy.unixdomainsockets.UnixDomainServerSocketFactory$UnixDomainServerSocket.bind(UnixDomainServerSocketFactory.java:54) E/AndroidRuntime(19579):   \nat java.net.ServerSocket.bind(ServerSocket.java:331) E/AndroidRuntime(19579):   \nat io.grpc.okhttp.OkHttpServer.start(OkHttpServer.java:79) E/AndroidRuntime(19579):     \nat io.grpc.internal.ServerImpl.start(ServerImpl.java:185) E/AndroidRuntime(19579):  \nat io.grpc.internal.ServerImpl.start(ServerImpl.java:94)\n</code></pre>\n<p>So how can I use Unix domain socket for android as a server with gRPC.LocalServerSocket isn't a serverSocket,so it can't be returned.</p>\n"},{"tags":["java","arraylist","foreach"],"comments":[{"owner":{"account_id":445619,"reputation":7236,"user_id":838180,"accept_rate":88,"display_name":"bilash.saha"},"score":0,"creation_date":1321104490,"post_id":8104692,"comment_id":9937477,"body_markdown":"http://www.javacodegeeks.com/2011/05/avoid-concurrentmodificationexception.html","body":"<a href=\"http://www.javacodegeeks.com/2011/05/avoid-concurrentmodificationexception.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2011/05/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":429,"is_accepted":true,"score":429,"last_activity_date":1321104284,"creation_date":1321104284,"answer_id":8104702,"question_id":8104692,"body_markdown":"Two options:\r\n\r\n- Create a list of values you wish to remove, *adding* to that list within the loop, then call  `originalList.removeAll(valuesToRemove)` at the end\r\n- Use the `remove()` method on the iterator itself. Note that this means you can&#39;t use the enhanced for loop.\r\n\r\nAs an example of the second option, removing any strings with a length greater than 5 from a list:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    ...\r\n    for (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); ) {\r\n        String value = iterator.next();\r\n        if (value.length() &gt; 5) {\r\n            iterator.remove();\r\n        }\r\n    }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Two options:</p>\n\n<ul>\n<li>Create a list of values you wish to remove, <em>adding</em> to that list within the loop, then call  <code>originalList.removeAll(valuesToRemove)</code> at the end</li>\n<li>Use the <code>remove()</code> method on the iterator itself. Note that this means you can't use the enhanced for loop.</li>\n</ul>\n\n<p>As an example of the second option, removing any strings with a length greater than 5 from a list:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n...\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); ) {\n    String value = iterator.next();\n    if (value.length() &gt; 5) {\n        iterator.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1321104998,"creation_date":1321104998,"answer_id":8104758,"question_id":8104692,"body_markdown":"From the JavaDocs of the ArrayList\r\n\r\n&gt; The iterators returned by this class&#39;s iterator and listIterator\r\n&gt; methods are fail-fast: if  the list is structurally modified at any\r\n&gt; time after the iterator is created, **in any way except  through the\r\n&gt; iterator&#39;s own remove or add methods**, the iterator will throw a \r\n&gt; ConcurrentModificationException.\r\n\r\n\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>From the JavaDocs of the ArrayList</p>\n\n<blockquote>\n  <p>The iterators returned by this class's iterator and listIterator\n  methods are fail-fast: if  the list is structurally modified at any\n  time after the iterator is created, <strong>in any way except  through the\n  iterator's own remove or add methods</strong>, the iterator will throw a \n  ConcurrentModificationException.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1321106073,"creation_date":1321106073,"answer_id":8104869,"question_id":8104692,"body_markdown":"\r\nOne option is to modify the `removeA` method to this -\r\n\r\n    public void removeA(A a,Iterator&lt;A&gt; iterator) {\r\n         iterator.remove(a);\r\n         }\r\n\r\nBut this would mean your `doSomething()` should be able to pass the `iterator` to the `remove` method. Not a very good idea.\r\n\r\nCan you do this in two step approach : \r\n In the first loop when you iterate over the list , instead of removing the selected elements , *mark* them as *to be deleted*. For this , you may simply copy these elements ( shallow copy ) into another `List`.\r\n\r\n Then , once your iteration is done , simply do a `removeAll` from the first list all elements in the second list.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>One option is to modify the <code>removeA</code> method to this -</p>\n\n<pre><code>public void removeA(A a,Iterator&lt;A&gt; iterator) {\n     iterator.remove(a);\n     }\n</code></pre>\n\n<p>But this would mean your <code>doSomething()</code> should be able to pass the <code>iterator</code> to the <code>remove</code> method. Not a very good idea.</p>\n\n<p>Can you do this in two step approach : \n In the first loop when you iterate over the list , instead of removing the selected elements , <em>mark</em> them as <em>to be deleted</em>. For this , you may simply copy these elements ( shallow copy ) into another <code>List</code>.</p>\n\n<p>Then , once your iteration is done , simply do a <code>removeAll</code> from the first list all elements in the second list.</p>\n"},{"tags":[],"owner":{"account_id":1160493,"reputation":209,"user_id":1140084,"display_name":"Arjen Rodenhuis"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1367312211,"creation_date":1367311412,"answer_id":16295655,"question_id":8104692,"body_markdown":"&quot;Should I clone the list first?&quot;\r\n\r\nThat will be the easiest solution, remove from the clone, and copy the clone back after removal.\r\n\r\nAn example from my rummikub game:\r\n\r\n    SuppressWarnings(&quot;unchecked&quot;)\r\n    public void removeStones() {\r\n      ArrayList&lt;Stone&gt; clone = (ArrayList&lt;Stone&gt;) stones.clone();\r\n      // remove the stones moved to the table\r\n      for (Stone stone : stones) {\r\n          if (stone.isOnTable()) {\r\n\t         clone.remove(stone);\r\n          }\r\n      }\r\n      stones = (ArrayList&lt;Stone&gt;) clone.clone();\r\n      sortStones();\r\n    }\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>\"Should I clone the list first?\"</p>\n\n<p>That will be the easiest solution, remove from the clone, and copy the clone back after removal.</p>\n\n<p>An example from my rummikub game:</p>\n\n<pre><code>SuppressWarnings(\"unchecked\")\npublic void removeStones() {\n  ArrayList&lt;Stone&gt; clone = (ArrayList&lt;Stone&gt;) stones.clone();\n  // remove the stones moved to the table\n  for (Stone stone : stones) {\n      if (stone.isOnTable()) {\n         clone.remove(stone);\n      }\n  }\n  stones = (ArrayList&lt;Stone&gt;) clone.clone();\n  sortStones();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1931986,"reputation":3714,"user_id":3990012,"accept_rate":64,"display_name":"serup"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467790503,"creation_date":1467790503,"answer_id":38218535,"question_id":8104692,"body_markdown":"Here is an example where I use a different list to add the objects for removal, then afterwards I use stream.foreach to remove elements from original list :\r\n\r\n   \tprivate ObservableList&lt;CustomerTableEntry&gt; customersTableViewItems = FXCollections.observableArrayList();\r\n    ...\r\n   \tprivate void removeOutdatedRowsElementsFromCustomerView()\r\n\t{\r\n\t\tObjectProperty&lt;TimeStamp&gt; currentTimestamp = new SimpleObjectProperty&lt;&gt;(TimeStamp.getCurrentTime());\r\n\t\tlong diff;\r\n\t\tlong diffSeconds;\r\n\t\tList&lt;Object&gt; objectsToRemove = new ArrayList&lt;&gt;();\r\n\t\tfor(CustomerTableEntry item: customersTableViewItems) {\r\n\t\t\tdiff = currentTimestamp.getValue().getTime() - item.timestamp.getValue().getTime();\r\n\t\t\tdiffSeconds = diff / 1000 % 60;\r\n\t\t\tif(diffSeconds &gt; 10) {\r\n\t\t\t\t// Element has been idle for too long, meaning no communication, hence remove it\r\n\t\t\t\tSystem.out.printf(&quot;- Idle element [%s] - will be removed\\n&quot;, item.getUserName());\r\n\t\t\t\tobjectsToRemove.add(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\tobjectsToRemove.stream().forEach(o -&gt; customersTableViewItems.remove(o));\r\n\t}\r\n\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Here is an example where I use a different list to add the objects for removal, then afterwards I use stream.foreach to remove elements from original list :</p>\n\n<pre><code>private ObservableList&lt;CustomerTableEntry&gt; customersTableViewItems = FXCollections.observableArrayList();\n...\nprivate void removeOutdatedRowsElementsFromCustomerView()\n{\n    ObjectProperty&lt;TimeStamp&gt; currentTimestamp = new SimpleObjectProperty&lt;&gt;(TimeStamp.getCurrentTime());\n    long diff;\n    long diffSeconds;\n    List&lt;Object&gt; objectsToRemove = new ArrayList&lt;&gt;();\n    for(CustomerTableEntry item: customersTableViewItems) {\n        diff = currentTimestamp.getValue().getTime() - item.timestamp.getValue().getTime();\n        diffSeconds = diff / 1000 % 60;\n        if(diffSeconds &gt; 10) {\n            // Element has been idle for too long, meaning no communication, hence remove it\n            System.out.printf(\"- Idle element [%s] - will be removed\\n\", item.getUserName());\n            objectsToRemove.add(item);\n        }\n    }\n    objectsToRemove.stream().forEach(o -&gt; customersTableViewItems.remove(o));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541459,"reputation":688,"user_id":2207175,"display_name":"suhas0sn07"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1516338292,"creation_date":1472033952,"answer_id":39120559,"question_id":8104692,"body_markdown":"You are trying to remove value from list in advanced &quot;for loop&quot;, which is not possible, even if you apply any trick (which you did in your code).\r\nBetter way is to code iterator level as other advised here.\r\n\r\nI wonder how people have not suggested traditional for loop approach.\r\n\r\n    for( int i = 0; i &lt; lStringList.size(); i++ )\r\n    {\r\n        String lValue = lStringList.get( i );\r\n        if(lValue.equals(&quot;_Not_Required&quot;))\r\n        {\r\n             lStringList.remove(lValue);\r\n             i--; \r\n        }  \r\n    }\r\n\r\nThis works as well.","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>You are trying to remove value from list in advanced \"for loop\", which is not possible, even if you apply any trick (which you did in your code).\nBetter way is to code iterator level as other advised here.</p>\n\n<p>I wonder how people have not suggested traditional for loop approach.</p>\n\n<pre><code>for( int i = 0; i &lt; lStringList.size(); i++ )\n{\n    String lValue = lStringList.get( i );\n    if(lValue.equals(\"_Not_Required\"))\n    {\n         lStringList.remove(lValue);\n         i--; \n    }  \n}\n</code></pre>\n\n<p>This works as well.</p>\n"},{"tags":[],"owner":{"account_id":5127914,"reputation":1434,"user_id":4109249,"display_name":"XMB5"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473530328,"creation_date":1473530328,"answer_id":39429000,"question_id":8104692,"body_markdown":"Do somehting simple like this:\r\n\r\n    for (Object object: (ArrayList&lt;String&gt;) list.clone()) {\r\n        list.remove(object);\r\n    }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Do somehting simple like this:</p>\n\n<pre><code>for (Object object: (ArrayList&lt;String&gt;) list.clone()) {\n    list.remove(object);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7214768,"reputation":121,"user_id":5507661,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1485127671,"creation_date":1485127671,"answer_id":41797331,"question_id":8104692,"body_markdown":"You should really just iterate back the array in the traditional way\r\n\r\nEvery time you remove an element from the list, the elements after will be push forward. As long as you don&#39;t change elements other than the iterating one, the following code should work.\r\n\r\n    public class Test(){\r\n        private ArrayList&lt;A&gt; abc = new ArrayList&lt;A&gt;();\r\n\r\n        public void doStuff(){\r\n            for(int i = (abc.size() - 1); i &gt;= 0; i--) \r\n                abc.get(i).doSomething();\r\n        }\r\n\r\n        public void removeA(A a){\r\n            abc.remove(a);\r\n        }\r\n    }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>You should really just iterate back the array in the traditional way</p>\n\n<p>Every time you remove an element from the list, the elements after will be push forward. As long as you don't change elements other than the iterating one, the following code should work.</p>\n\n<pre><code>public class Test(){\n    private ArrayList&lt;A&gt; abc = new ArrayList&lt;A&gt;();\n\n    public void doStuff(){\n        for(int i = (abc.size() - 1); i &gt;= 0; i--) \n            abc.get(i).doSomething();\n    }\n\n    public void removeA(A a){\n        abc.remove(a);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3585630,"reputation":452,"user_id":3166352,"display_name":"ggeo"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1488711251,"creation_date":1488711251,"answer_id":42607470,"question_id":8104692,"body_markdown":"In Java 8 you can use the Collection Interface and do this by calling the removeIf method:\r\n\r\n    yourList.removeIf((A a) -&gt; a.value == 2);\r\n\r\nMore information can be found [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>In Java 8 you can use the Collection Interface and do this by calling the removeIf method:</p>\n\n<pre><code>yourList.removeIf((A a) -&gt; a.value == 2);\n</code></pre>\n\n<p>More information can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11254205,"reputation":75,"user_id":8254518,"display_name":"Tacila"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1503856915,"creation_date":1500656258,"answer_id":45242961,"question_id":8104692,"body_markdown":"Do the loop in the normal way, the `java.util.ConcurrentModificationException` is an error related to the elements that are accessed.\r\n\r\nSo try:\r\n\r\n \r\n    for(int i = 0; i &lt; list.size(); i++){\r\n        lista.get(i).action();\r\n    }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Do the loop in the normal way, the <code>java.util.ConcurrentModificationException</code> is an error related to the elements that are accessed.</p>\n\n<p>So try:</p>\n\n<pre><code>for(int i = 0; i &lt; list.size(); i++){\n    lista.get(i).action();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2701094,"reputation":547,"user_id":2331809,"display_name":"Zsolt Sky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517470423,"creation_date":1517470423,"answer_id":48557520,"question_id":8104692,"body_markdown":"An alternative Java 8 solution using stream:\r\n\r\n            theList = theList.stream()\r\n                .filter(element -&gt; !shouldBeRemoved(element))\r\n                .collect(Collectors.toList());\r\n\r\nIn Java 7 you can use Guava instead:\r\n\r\n            theList = FluentIterable.from(theList)\r\n                .filter(new Predicate&lt;String&gt;() {\r\n                    @Override\r\n                    public boolean apply(String element) {\r\n                        return !shouldBeRemoved(element);\r\n                    }\r\n                })\r\n                .toImmutableList();\r\n\r\nNote, that the Guava example results in an immutable list which may or may not be what you want.\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>An alternative Java 8 solution using stream:</p>\n\n<pre><code>        theList = theList.stream()\n            .filter(element -&gt; !shouldBeRemoved(element))\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>In Java 7 you can use Guava instead:</p>\n\n<pre><code>        theList = FluentIterable.from(theList)\n            .filter(new Predicate&lt;String&gt;() {\n                @Override\n                public boolean apply(String element) {\n                    return !shouldBeRemoved(element);\n                }\n            })\n            .toImmutableList();\n</code></pre>\n\n<p>Note, that the Guava example results in an immutable list which may or may not be what you want.</p>\n"},{"tags":[],"owner":{"account_id":5154831,"reputation":124,"user_id":4128336,"display_name":"Indra K"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1517474097,"creation_date":1517474097,"answer_id":48558400,"question_id":8104692,"body_markdown":"While iterating the list, if you want to remove the element is possible. Let see below my examples,     \r\n\r\n    ArrayList&lt;String&gt;  names = new ArrayList&lt;String&gt;();\r\n    \t\tnames.add(&quot;abc&quot;);\r\n    \t\tnames.add(&quot;def&quot;);\r\n    \t\tnames.add(&quot;ghi&quot;);\r\n    \t\tnames.add(&quot;xyz&quot;);\r\n\r\nI have the above names of Array list. And i want to remove the &quot;def&quot; name from the above list, \r\n\r\n    for(String name : names){\r\n    \tif(name.equals(&quot;def&quot;)){\r\n    \t\tnames.remove(&quot;def&quot;);\r\n    \t}\r\n    }\r\n\r\nThe above code throws the **ConcurrentModificationException** exception because you are modifying the list while iterating.   \r\n\r\nSo, to remove the &quot;def&quot; name  from Arraylist by doing this way,\r\n\r\n    Iterator&lt;String&gt; itr = names.iterator();    \t\t\r\n    while(itr.hasNext()){\r\n    \tString name = itr.next();\r\n    \tif(name.equals(&quot;def&quot;)){\r\n    \t\titr.remove();\r\n    \t}\r\n    }\r\n\r\n   The above code, through iterator we can remove the &quot;def&quot; name from the Arraylist and try to print the array, you would be see the below output.\r\n\r\nOutput :  [abc, ghi, xyz]\r\n\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>While iterating the list, if you want to remove the element is possible. Let see below my examples,     </p>\n\n<pre><code>ArrayList&lt;String&gt;  names = new ArrayList&lt;String&gt;();\n        names.add(\"abc\");\n        names.add(\"def\");\n        names.add(\"ghi\");\n        names.add(\"xyz\");\n</code></pre>\n\n<p>I have the above names of Array list. And i want to remove the \"def\" name from the above list, </p>\n\n<pre><code>for(String name : names){\n    if(name.equals(\"def\")){\n        names.remove(\"def\");\n    }\n}\n</code></pre>\n\n<p>The above code throws the <strong>ConcurrentModificationException</strong> exception because you are modifying the list while iterating.   </p>\n\n<p>So, to remove the \"def\" name  from Arraylist by doing this way,</p>\n\n<pre><code>Iterator&lt;String&gt; itr = names.iterator();            \nwhile(itr.hasNext()){\n    String name = itr.next();\n    if(name.equals(\"def\")){\n        itr.remove();\n    }\n}\n</code></pre>\n\n<p>The above code, through iterator we can remove the \"def\" name from the Arraylist and try to print the array, you would be see the below output.</p>\n\n<p>Output :  [abc, ghi, xyz]</p>\n"},{"tags":[],"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1605798370,"creation_date":1520850911,"answer_id":49233087,"question_id":8104692,"body_markdown":"Instead of using For each loop, use normal for loop. for example,the below code removes all the element in the array list without giving java.util.ConcurrentModificationException. You can modify the condition in the loop according to your use case.\r\n\r\n    for(int i=0; i&lt;abc.size(); i++)  {\r\n           e.remove(i);\r\n     }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Instead of using For each loop, use normal for loop. for example,the below code removes all the element in the array list without giving java.util.ConcurrentModificationException. You can modify the condition in the loop according to your use case.</p>\n<pre><code>for(int i=0; i&lt;abc.size(); i++)  {\n       e.remove(i);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1534833759,"creation_date":1534833759,"answer_id":51942989,"question_id":8104692,"body_markdown":"If your goal is to remove all elements from the list, you can iterate over each item, and then call:\r\n\r\n    list.clear()","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>If your goal is to remove all elements from the list, you can iterate over each item, and then call:</p>\n\n<pre><code>list.clear()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14322109,"reputation":1,"user_id":10345144,"display_name":"Becquer Arguello Flores"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536641175,"creation_date":1536636376,"answer_id":52268221,"question_id":8104692,"body_markdown":"I arrive late I know but I answer this because I think this solution is simple and elegant:\r\n\r\n    List&lt;String&gt; listFixed = new ArrayList&lt;String&gt;();\r\n   \tList&lt;String&gt; dynamicList = new ArrayList&lt;String&gt;();\r\n      \t\r\n    public void fillingList() {\r\n        listFixed.add(&quot;Andrea&quot;);\r\n        listFixed.add(&quot;Susana&quot;);\r\n        listFixed.add(&quot;Oscar&quot;);\r\n        listFixed.add(&quot;Valeria&quot;);\r\n        listFixed.add(&quot;Kathy&quot;);\r\n        listFixed.add(&quot;Laura&quot;);\r\n        listFixed.add(&quot;Ana&quot;);\r\n        listFixed.add(&quot;Becker&quot;);\r\n        listFixed.add(&quot;Abraham&quot;);\r\n        dynamicList.addAll(listFixed);\r\n    }\r\n    \r\n    public void updatingListFixed() {\r\n        for (String newList : dynamicList) {\r\n            if (!listFixed.contains(newList)) {\r\n                listFixed.add(newList);\r\n            }\r\n        }\r\n        \r\n        //this is for add elements if you want eraser also \r\n        \r\n        String removeRegister=&quot;&quot;;\r\n        for (String fixedList : listFixed) {\r\n            if (!dynamicList.contains(fixedList)) {\r\n                removeResgister = fixedList;\r\n            }\r\n        }\r\n        fixedList.remove(removeRegister);\r\n    }\r\n\r\nAll this is for updating from one list to other and you can make all from just one list\r\nand in method updating you check both list and can eraser or add elements betwen list.\r\nThis means both list always it same size","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>I arrive late I know but I answer this because I think this solution is simple and elegant:</p>\n\n<pre><code>List&lt;String&gt; listFixed = new ArrayList&lt;String&gt;();\nList&lt;String&gt; dynamicList = new ArrayList&lt;String&gt;();\n\npublic void fillingList() {\n    listFixed.add(\"Andrea\");\n    listFixed.add(\"Susana\");\n    listFixed.add(\"Oscar\");\n    listFixed.add(\"Valeria\");\n    listFixed.add(\"Kathy\");\n    listFixed.add(\"Laura\");\n    listFixed.add(\"Ana\");\n    listFixed.add(\"Becker\");\n    listFixed.add(\"Abraham\");\n    dynamicList.addAll(listFixed);\n}\n\npublic void updatingListFixed() {\n    for (String newList : dynamicList) {\n        if (!listFixed.contains(newList)) {\n            listFixed.add(newList);\n        }\n    }\n\n    //this is for add elements if you want eraser also \n\n    String removeRegister=\"\";\n    for (String fixedList : listFixed) {\n        if (!dynamicList.contains(fixedList)) {\n            removeResgister = fixedList;\n        }\n    }\n    fixedList.remove(removeRegister);\n}\n</code></pre>\n\n<p>All this is for updating from one list to other and you can make all from just one list\nand in method updating you check both list and can eraser or add elements betwen list.\nThis means both list always it same size</p>\n"},{"tags":[],"owner":{"account_id":11709746,"reputation":39,"user_id":8572022,"display_name":"Sebastian Altamirano"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1541737083,"creation_date":1541737083,"answer_id":53219810,"question_id":8104692,"body_markdown":"Just add a *break* after your *ArrayList.remove(A)* statement","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Just add a <em>break</em> after your <em>ArrayList.remove(A)</em> statement</p>\n"},{"tags":[],"owner":{"account_id":10884080,"reputation":11,"user_id":8009263,"display_name":"nafics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544783985,"creation_date":1544782231,"answer_id":53777585,"question_id":8104692,"body_markdown":"Use Iterator instead of Array List\r\n\r\nHave a set be converted to iterator with type match\r\n\r\nAnd move to the next element and remove\r\n   \r\n    Iterator&lt;Insured&gt; itr = insuredSet.iterator();\r\n    while (itr.hasNext()) {\t\r\n        itr.next();\r\n        itr.remove();\r\n    }\r\n\r\nMoving to the next is important here as it should take the index to remove element.\r\n \r\n\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Use Iterator instead of Array List</p>\n\n<p>Have a set be converted to iterator with type match</p>\n\n<p>And move to the next element and remove</p>\n\n<pre><code>Iterator&lt;Insured&gt; itr = insuredSet.iterator();\nwhile (itr.hasNext()) { \n    itr.next();\n    itr.remove();\n}\n</code></pre>\n\n<p>Moving to the next is important here as it should take the index to remove element.</p>\n"},{"tags":[],"owner":{"account_id":3166194,"reputation":63,"user_id":2676157,"display_name":"Pathikreet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1661242046,"creation_date":1550492443,"answer_id":54747193,"question_id":8104692,"body_markdown":"You can also use `CopyOnWriteArrayList` instead of an `ArrayList`. This is the latest recommended approach by from JDK 1.5 onwards.","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>You can also use <code>CopyOnWriteArrayList</code> instead of an <code>ArrayList</code>. This is the latest recommended approach by from JDK 1.5 onwards.</p>\n"},{"tags":[],"owner":{"account_id":7503750,"reputation":5055,"user_id":5701085,"display_name":"Asad Ali Choudhry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574767281,"creation_date":1574767281,"answer_id":59049809,"question_id":8104692,"body_markdown":"In my case, the accepted answer is not working, It stops Exception but it causes some inconsistency in my List. The following solution is perfectly working for me.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; itemsToRemove = new ArrayList&lt;&gt;();\r\n\r\n    for (String value: list) {\r\n       if (value.length() &gt; 5) { // your condition\r\n           itemsToRemove.add(value);\r\n       }\r\n    }\r\n    list.removeAll(itemsToRemove);\r\n\r\nIn this code, I have added the items to remove, in another list and then used `list.removeAll` method to remove all required items.","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>In my case, the accepted answer is not working, It stops Exception but it causes some inconsistency in my List. The following solution is perfectly working for me.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nList&lt;String&gt; itemsToRemove = new ArrayList&lt;&gt;();\n\nfor (String value: list) {\n   if (value.length() &gt; 5) { // your condition\n       itemsToRemove.add(value);\n   }\n}\nlist.removeAll(itemsToRemove);\n</code></pre>\n\n<p>In this code, I have added the items to remove, in another list and then used <code>list.removeAll</code> method to remove all required items.</p>\n"},{"tags":[],"owner":{"account_id":428762,"reputation":1481,"user_id":811293,"accept_rate":30,"display_name":"joseluisbz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1586499177,"creation_date":1586499177,"answer_id":61134938,"question_id":8104692,"body_markdown":"What about of \r\n\r\n    import java.util.Collections;\r\n\r\n    List&lt;A&gt; abc = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>What about of </p>\n\n<pre><code>import java.util.Collections;\n\nList&lt;A&gt; abc = Collections.synchronizedList(new ArrayList&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19812456,"reputation":1189,"user_id":14510925,"display_name":" "},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1605973410,"creation_date":1605973410,"answer_id":64944946,"question_id":8104692,"body_markdown":"**ERROR**\r\n\r\nThere was a mistake when I added to the same list from where I took elements:\r\n\r\n    fun &lt;T&gt; MutableList&lt;T&gt;.mathList(_fun: (T) -&gt; T): MutableList&lt;T&gt; {\r\n        for (i in this) {\r\n            this.add(_fun(i))   &lt;---   ERROR\r\n        }\r\n        return this   &lt;--- ERROR\r\n    }\r\n**DECISION**\r\n\r\nWorks great when adding to a new list:\r\n\r\n    fun &lt;T&gt; MutableList&lt;T&gt;.mathList(_fun: (T) -&gt; T): MutableList&lt;T&gt; {\r\n        val newList = mutableListOf&lt;T&gt;()   &lt;---   DECISION\r\n        for (i in this) {\r\n            newList.add(_fun(i))   &lt;---   DECISION\r\n        }\r\n        return newList   &lt;---   DECISION\r\n    }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p><strong>ERROR</strong></p>\n<p>There was a mistake when I added to the same list from where I took elements:</p>\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.mathList(_fun: (T) -&gt; T): MutableList&lt;T&gt; {\n    for (i in this) {\n        this.add(_fun(i))   &lt;---   ERROR\n    }\n    return this   &lt;--- ERROR\n}\n</code></pre>\n<p><strong>DECISION</strong></p>\n<p>Works great when adding to a new list:</p>\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.mathList(_fun: (T) -&gt; T): MutableList&lt;T&gt; {\n    val newList = mutableListOf&lt;T&gt;()   &lt;---   DECISION\n    for (i in this) {\n        newList.add(_fun(i))   &lt;---   DECISION\n    }\n    return newList   &lt;---   DECISION\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11310403,"reputation":90,"user_id":9379812,"display_name":"gachokaeric"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615304617,"creation_date":1615304617,"answer_id":66550098,"question_id":8104692,"body_markdown":"    for (A a : new ArrayList&lt;&gt;(abc)) {\r\n        a.doSomething();\r\n        abc.remove(a);\r\n    }","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<pre><code>for (A a : new ArrayList&lt;&gt;(abc)) {\n    a.doSomething();\n    abc.remove(a);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19030962,"reputation":41,"user_id":13893087,"display_name":"Matt Strain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631628275,"creation_date":1631628275,"answer_id":69179276,"question_id":8104692,"body_markdown":"Sometimes old school is best. Just go for a simple for loop but make sure you start at the end of the list otherwise as you remove items you will get out of sync with your index.\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nfor (int i = list.size() - 1; i &gt;= 0; i--) {\r\n  if (&quot;removeMe&quot;.equals(list.get(i))) {\r\n    list.remove(i);\r\n  }\r\n}\r\n``` ","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>Sometimes old school is best. Just go for a simple for loop but make sure you start at the end of the list otherwise as you remove items you will get out of sync with your index.</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (int i = list.size() - 1; i &gt;= 0; i--) {\n  if (&quot;removeMe&quot;.equals(list.get(i))) {\n    list.remove(i);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3843421,"reputation":1681,"user_id":3185783,"display_name":"Delmirio Segura"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656553975,"creation_date":1656553975,"answer_id":72809520,"question_id":8104692,"body_markdown":"    List&lt;String&gt; list1 = new ArrayList&lt;&gt;();\r\n    list1.addAll(OriginalList);\r\n    \r\n    List&lt;String&gt; list2 = new ArrayList&lt;&gt;();\r\n    list2.addAll(OriginalList);\r\n\r\nThis is also an option.","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;&gt;();\nlist1.addAll(OriginalList);\n\nList&lt;String&gt; list2 = new ArrayList&lt;&gt;();\nlist2.addAll(OriginalList);\n</code></pre>\n<p>This is also an option.</p>\n"},{"tags":[],"owner":{"account_id":2140748,"reputation":374,"user_id":1899440,"display_name":"Bokili Production"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688696257,"creation_date":1688696257,"answer_id":76633569,"question_id":8104692,"body_markdown":"**Very important**\r\n\r\nConcurrentModificationException can occur during `ArrayList&lt;&gt;` sorting, if the `ArrayList&lt;&gt;` sorting method is called at the same time, ie. parallel (asynchronous).\r\n\r\nFor example from two background `Thread`s, or `Thread` and `UI`, but at the same time. This usually happens by **accident**, if you drop the order of operations somewhere during programming.\r\n\r\nHappened to me just now :-)","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p><strong>Very important</strong></p>\n<p>ConcurrentModificationException can occur during <code>ArrayList&lt;&gt;</code> sorting, if the <code>ArrayList&lt;&gt;</code> sorting method is called at the same time, ie. parallel (asynchronous).</p>\n<p>For example from two background <code>Thread</code>s, or <code>Thread</code> and <code>UI</code>, but at the same time. This usually happens by <strong>accident</strong>, if you drop the order of operations somewhere during programming.</p>\n<p>Happened to me just now :-)</p>\n"}],"owner":{"display_name":"anon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521228,"favorite_count":0,"down_vote_count":0,"up_vote_count":293,"accepted_answer_id":8104702,"answer_count":25,"score":293,"last_activity_date":1688696257,"creation_date":1321104160,"question_id":8104692,"body_markdown":"I have an ArrayList that I want to iterate over. While iterating over it I have to remove elements at the same time. Obviously this throws a `java.util.ConcurrentModificationException`.\r\n\r\nWhat is the best practice to handle this problem? Should I clone the list first?\r\n\r\nI remove the elements not in the loop itself but another part of the code.\r\n\r\nMy code looks like this:\r\n\r\n\r\n    public class Test() {\r\n        private ArrayList&lt;A&gt; abc = new ArrayList&lt;A&gt;();\r\n        \r\n        public void doStuff() {\r\n            for (A a : abc) \r\n            a.doSomething();\r\n        }\r\n    \r\n        public void removeA(A a) {\r\n            abc.remove(a);\r\n        }\r\n    }\r\n\r\n`a.doSomething` might call `Test.removeA()`;\r\n\r\n","title":"How to avoid java.util.ConcurrentModificationException when iterating through and removing elements from an ArrayList","body":"<p>I have an ArrayList that I want to iterate over. While iterating over it I have to remove elements at the same time. Obviously this throws a <code>java.util.ConcurrentModificationException</code>.</p>\n\n<p>What is the best practice to handle this problem? Should I clone the list first?</p>\n\n<p>I remove the elements not in the loop itself but another part of the code.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>public class Test() {\n    private ArrayList&lt;A&gt; abc = new ArrayList&lt;A&gt;();\n\n    public void doStuff() {\n        for (A a : abc) \n        a.doSomething();\n    }\n\n    public void removeA(A a) {\n        abc.remove(a);\n    }\n}\n</code></pre>\n\n<p><code>a.doSomething</code> might call <code>Test.removeA()</code>;</p>\n"},{"tags":["java","7zip"],"comments":[{"owner":{"account_id":3986640,"reputation":583,"user_id":3287010,"accept_rate":91,"display_name":"Nizam"},"score":0,"creation_date":1567684226,"post_id":56363475,"comment_id":102041360,"body_markdown":"can you share the code for compressing defined String to 7z and convert it into bytes array.","body":"can you share the code for compressing defined String to 7z and convert it into bytes array."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559143327,"creation_date":1559142701,"answer_id":56363706,"question_id":56363475,"body_markdown":"Since you are already using [commons-compress][1] for 7zip compression you can create `SevenZOutputFile(SeekableByteChannel)` instance with [`SeekableInMemoryByteChannel`][2] that wraps a byte array. As per javadoc:\r\n\r\n&gt; A SeekableByteChannel implementation that wraps a byte[].\r\n&gt;\r\n&gt; When this channel is used for writing an internal buffer grows to accommodate incoming data. A natural size limit is the value of Integer.MAX_VALUE. Internal buffer can be accessed via array().\r\n\r\nSomething like:\r\n\r\n```\r\nSeekableInMemoryByteChannel channel = new SeekableInMemoryByteChannel(new byte[1024]);\r\nSevenZOutputFile out = new SevenZOutputFile(channel);\r\n// modified addToArchiveCompression(out, ...); for String\r\n// encode channel.array() to Base64\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-compress/\r\n  [2]: https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/utils/SeekableInMemoryByteChannel.html","title":"Java 7zip compression of a String","body":"<p>Since you are already using <a href=\"https://commons.apache.org/proper/commons-compress/\" rel=\"nofollow noreferrer\">commons-compress</a> for 7zip compression you can create <code>SevenZOutputFile(SeekableByteChannel)</code> instance with <a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/utils/SeekableInMemoryByteChannel.html\" rel=\"nofollow noreferrer\"><code>SeekableInMemoryByteChannel</code></a> that wraps a byte array. As per javadoc:</p>\n\n<blockquote>\n  <p>A SeekableByteChannel implementation that wraps a byte[].</p>\n  \n  <p>When this channel is used for writing an internal buffer grows to accommodate incoming data. A natural size limit is the value of Integer.MAX_VALUE. Internal buffer can be accessed via array().</p>\n</blockquote>\n\n<p>Something like:</p>\n\n<pre><code>SeekableInMemoryByteChannel channel = new SeekableInMemoryByteChannel(new byte[1024]);\nSevenZOutputFile out = new SevenZOutputFile(channel);\n// modified addToArchiveCompression(out, ...); for String\n// encode channel.array() to Base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277107,"reputation":1320,"user_id":3497465,"display_name":"Filippo Possenti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559143141,"creation_date":1559143141,"answer_id":56363832,"question_id":56363475,"body_markdown":"You will of course have to apply several changes to the code you posted. That code is meant to compress a file or directory whereas your case is much simpler. You definitely won&#39;t need a `for` loop, for example.\r\n\r\nI break down the various parts you&#39;ll have to look into and leave the coding to you.\r\n\r\n\r\n**Converting a String to data for 7z:**\r\n\r\nOne of the options is to use a `ByteArrayInputStream` instead of a `FileInputStream`. The `ByteArrayInputStream` will have to be initialised with the bytes corresponding to the String.\r\n\r\nSee the following article for an example on how to do this conversion:\r\n\r\nhttps://www.baeldung.com/convert-string-to-input-stream\r\n\r\n**Converting output bytes to Base64:**\r\n\r\nThere are several approaches, detailed in this StackOverflow thread:\r\n\r\nhttps://stackoverflow.com/questions/2418485/how-do-i-convert-a-byte-array-to-base64-in-java\r\n\r\n**Outputting 7z to memory instead of File:**\r\n\r\nYou will have to use the `SevenZOutputFile` constructor taking a `SeekableByteChannel` interface as input. Your implementation of `SeekableByteChannel` will have to be backed by a byte array or stream of sorts. You can use the following implementation:\r\n\r\nhttps://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/utils/SeekableInMemoryByteChannel.html\r\n\r\n**Obtaining a `SevenZArchiveEntry` from something other than a file:**\r\n\r\nAlthough the `SevenZOutputFile` class doesn&#39;t seem to provide a facility to do that, if you look at its sourcecode you&#39;ll notice that you can manually create a `SevenZArchiveEntry` without any intermediation, as it has an empty constructor. You&#39;ll have to &quot;pretend&quot; it&#39;s still an actual file, but that shouldn&#39;t be a problem.\r\n\r\nSourcecode of `SevenZArchiveEntry`:\r\n\r\nhttps://commons.apache.org/proper/commons-compress/apidocs/src-html/org/apache/commons/compress/archivers/sevenz/SevenZOutputFile.html\r\n","title":"Java 7zip compression of a String","body":"<p>You will of course have to apply several changes to the code you posted. That code is meant to compress a file or directory whereas your case is much simpler. You definitely won't need a <code>for</code> loop, for example.</p>\n\n<p>I break down the various parts you'll have to look into and leave the coding to you.</p>\n\n<p><strong>Converting a String to data for 7z:</strong></p>\n\n<p>One of the options is to use a <code>ByteArrayInputStream</code> instead of a <code>FileInputStream</code>. The <code>ByteArrayInputStream</code> will have to be initialised with the bytes corresponding to the String.</p>\n\n<p>See the following article for an example on how to do this conversion:</p>\n\n<p><a href=\"https://www.baeldung.com/convert-string-to-input-stream\" rel=\"nofollow noreferrer\">https://www.baeldung.com/convert-string-to-input-stream</a></p>\n\n<p><strong>Converting output bytes to Base64:</strong></p>\n\n<p>There are several approaches, detailed in this StackOverflow thread:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2418485/how-do-i-convert-a-byte-array-to-base64-in-java\">How do I convert a byte array to Base64 in Java?</a></p>\n\n<p><strong>Outputting 7z to memory instead of File:</strong></p>\n\n<p>You will have to use the <code>SevenZOutputFile</code> constructor taking a <code>SeekableByteChannel</code> interface as input. Your implementation of <code>SeekableByteChannel</code> will have to be backed by a byte array or stream of sorts. You can use the following implementation:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/utils/SeekableInMemoryByteChannel.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/utils/SeekableInMemoryByteChannel.html</a></p>\n\n<p><strong>Obtaining a <code>SevenZArchiveEntry</code> from something other than a file:</strong></p>\n\n<p>Although the <code>SevenZOutputFile</code> class doesn't seem to provide a facility to do that, if you look at its sourcecode you'll notice that you can manually create a <code>SevenZArchiveEntry</code> without any intermediation, as it has an empty constructor. You'll have to \"pretend\" it's still an actual file, but that shouldn't be a problem.</p>\n\n<p>Sourcecode of <code>SevenZArchiveEntry</code>:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-compress/apidocs/src-html/org/apache/commons/compress/archivers/sevenz/SevenZOutputFile.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-compress/apidocs/src-html/org/apache/commons/compress/archivers/sevenz/SevenZOutputFile.html</a></p>\n"},{"tags":[],"owner":{"account_id":244340,"reputation":8860,"user_id":517073,"accept_rate":87,"display_name":"Stepan Yakovenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639720288,"creation_date":1639720288,"answer_id":70388949,"question_id":56363475,"body_markdown":"This is a bit offtopic, but assuming that LZMA is part of 7zip, this might help you:\r\n\r\n\tpublic static byte[]compress(byte[]arr,int level){\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream compr = new ByteArrayOutputStream();\r\n\t\t\tLZMA2Options options = new LZMA2Options();\r\n\t\t\toptions.setPreset(level); // play with this number: 6 is default but 7 works better for mid sized archives ( &gt; 8mb)\r\n\t\t\tXZOutputStream out = new XZOutputStream(compr, options);\r\n\t\t\tout.write(arr);\r\n\t\t\tout.finish();\r\n\t\t\treturn compr.toByteArray();\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static byte[]decompress(byte[]bts){\r\n\t\ttry {\r\n\t\t\tByteArrayInputStream bis = new ByteArrayInputStream(bts);\r\n\t\t\tXZInputStream is = new XZInputStream(bis);\r\n\t\t\tByteArrayInputStream decomp = new ByteArrayInputStream(is.readAllBytes());\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(decomp);\r\n\t\t\tbyte data[]= (byte[]) ois.readObject();\r\n\t\t\treturn data;\r\n\t\t} catch (IOException | ClassNotFoundException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nmaven dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.tukaani&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xz&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nconvert your String to byte[] with s.getBytes(StandardCharsets.UTF_8);\r\n\r\n\r\n","title":"Java 7zip compression of a String","body":"<p>This is a bit offtopic, but assuming that LZMA is part of 7zip, this might help you:</p>\n<pre><code>public static byte[]compress(byte[]arr,int level){\n    try {\n        ByteArrayOutputStream compr = new ByteArrayOutputStream();\n        LZMA2Options options = new LZMA2Options();\n        options.setPreset(level); // play with this number: 6 is default but 7 works better for mid sized archives ( &gt; 8mb)\n        XZOutputStream out = new XZOutputStream(compr, options);\n        out.write(arr);\n        out.finish();\n        return compr.toByteArray();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static byte[]decompress(byte[]bts){\n    try {\n        ByteArrayInputStream bis = new ByteArrayInputStream(bts);\n        XZInputStream is = new XZInputStream(bis);\n        ByteArrayInputStream decomp = new ByteArrayInputStream(is.readAllBytes());\n        ObjectInputStream ois = new ObjectInputStream(decomp);\n        byte data[]= (byte[]) ois.readObject();\n        return data;\n    } catch (IOException | ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.tukaani&lt;/groupId&gt;\n        &lt;artifactId&gt;xz&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>convert your String to byte[] with s.getBytes(StandardCharsets.UTF_8);</p>\n"},{"tags":[],"owner":{"account_id":4942033,"reputation":576,"user_id":3978491,"accept_rate":86,"display_name":"zebo zhuang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688695852,"creation_date":1687856934,"answer_id":76563313,"question_id":56363475,"body_markdown":"I found that someone had implemented the code.\r\n\r\n\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.commons.compress.archivers.sevenz.SevenZArchiveEntry;\r\nimport org.apache.commons.compress.archivers.sevenz.SevenZFile;\r\nimport org.apache.commons.compress.archivers.sevenz.SevenZOutputFile;\r\nimport org.apache.commons.compress.utils.SeekableInMemoryByteChannel;\r\n\r\n/**\r\n * the SevenZ Util\r\n *\r\n * @author ph3636\r\n */\r\npublic class SevenZUtil {\r\n\r\n    private static final int BUFFER_SIZE = 8192;\r\n\r\n    public static byte[] compress(byte[] bytes) {\r\n        if (bytes == null) {\r\n            throw new NullPointerException(&quot;bytes is null&quot;);\r\n        }\r\n        SeekableInMemoryByteChannel channel = new SeekableInMemoryByteChannel();\r\n        try (SevenZOutputFile z7z = new SevenZOutputFile(channel)) {\r\n            SevenZArchiveEntry entry = new SevenZArchiveEntry();\r\n            entry.setName(&quot;sevenZip&quot;);\r\n            entry.setSize(bytes.length);\r\n            z7z.putArchiveEntry(entry);\r\n            z7z.write(bytes);\r\n            z7z.closeArchiveEntry();\r\n            z7z.finish();\r\n            return channel.array();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;SevenZ compress error&quot;, e);\r\n        }\r\n    }\r\n\r\n    public static byte[] decompress(byte[] bytes) {\r\n        if (bytes == null) {\r\n            throw new NullPointerException(&quot;bytes is null&quot;);\r\n        }\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        SeekableInMemoryByteChannel channel = new SeekableInMemoryByteChannel(bytes);\r\n        try (SevenZFile sevenZFile = new SevenZFile(channel)) {\r\n            byte[] buffer = new byte[BUFFER_SIZE];\r\n            while (sevenZFile.getNextEntry() != null) {\r\n                int n;\r\n                while ((n = sevenZFile.read(buffer)) &gt; -1) {\r\n                    out.write(buffer, 0, n);\r\n                }\r\n            }\r\n            return out.toByteArray();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;SevenZ decompress error&quot;, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;commons-compress.version&gt;1.22&lt;/commons-compress.version&gt;\r\n&lt;xz.version&gt;1.9&lt;/xz.version&gt;\r\n```\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-compress.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.tukaani&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xz&lt;/artifactId&gt;\r\n            &lt;version&gt;${xz.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nreference: [SevenZUtil.java][1]\r\n\r\n\r\n  [1]: https://github.com/seata/seata/blob/2.x/compressor/seata-compressor-7z/src/main/java/io/seata/compressor/sevenz/SevenZUtil.java","title":"Java 7zip compression of a String","body":"<p>I found that someone had implemented the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\nimport org.apache.commons.compress.archivers.sevenz.SevenZArchiveEntry;\nimport org.apache.commons.compress.archivers.sevenz.SevenZFile;\nimport org.apache.commons.compress.archivers.sevenz.SevenZOutputFile;\nimport org.apache.commons.compress.utils.SeekableInMemoryByteChannel;\n\n/**\n * the SevenZ Util\n *\n * @author ph3636\n */\npublic class SevenZUtil {\n\n    private static final int BUFFER_SIZE = 8192;\n\n    public static byte[] compress(byte[] bytes) {\n        if (bytes == null) {\n            throw new NullPointerException(&quot;bytes is null&quot;);\n        }\n        SeekableInMemoryByteChannel channel = new SeekableInMemoryByteChannel();\n        try (SevenZOutputFile z7z = new SevenZOutputFile(channel)) {\n            SevenZArchiveEntry entry = new SevenZArchiveEntry();\n            entry.setName(&quot;sevenZip&quot;);\n            entry.setSize(bytes.length);\n            z7z.putArchiveEntry(entry);\n            z7z.write(bytes);\n            z7z.closeArchiveEntry();\n            z7z.finish();\n            return channel.array();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;SevenZ compress error&quot;, e);\n        }\n    }\n\n    public static byte[] decompress(byte[] bytes) {\n        if (bytes == null) {\n            throw new NullPointerException(&quot;bytes is null&quot;);\n        }\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        SeekableInMemoryByteChannel channel = new SeekableInMemoryByteChannel(bytes);\n        try (SevenZFile sevenZFile = new SevenZFile(channel)) {\n            byte[] buffer = new byte[BUFFER_SIZE];\n            while (sevenZFile.getNextEntry() != null) {\n                int n;\n                while ((n = sevenZFile.read(buffer)) &gt; -1) {\n                    out.write(buffer, 0, n);\n                }\n            }\n            return out.toByteArray();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;SevenZ decompress error&quot;, e);\n        }\n    }\n}\n</code></pre>\n<pre><code>&lt;commons-compress.version&gt;1.22&lt;/commons-compress.version&gt;\n&lt;xz.version&gt;1.9&lt;/xz.version&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n            &lt;version&gt;${commons-compress.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.tukaani&lt;/groupId&gt;\n            &lt;artifactId&gt;xz&lt;/artifactId&gt;\n            &lt;version&gt;${xz.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>reference: <a href=\"https://github.com/seata/seata/blob/2.x/compressor/seata-compressor-7z/src/main/java/io/seata/compressor/sevenz/SevenZUtil.java\" rel=\"nofollow noreferrer\">SevenZUtil.java</a></p>\n"}],"owner":{"account_id":7386680,"reputation":6144,"user_id":5621509,"accept_rate":100,"display_name":"Asier Gomez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56363706,"answer_count":4,"score":5,"last_activity_date":1688695852,"creation_date":1559141862,"question_id":56363475,"body_markdown":"I would like to compress an String manually defined to 7z in Java. So then I could convert it to base64. I found many examples compressing files to 7z and then saving into new File.\r\n\r\nI just try the next code, and it takes correctly the file and compress it:\r\n\r\n    private static void addToArchiveCompression(SevenZOutputFile out, File file, String dir) throws IOException {\r\n            String name = dir + File.separator + file.getName();\r\n            if (file.isFile()){\r\n                SevenZArchiveEntry entry = out.createArchiveEntry(file, name);\r\n                out.putArchiveEntry(entry);\r\n    \r\n                FileInputStream in = new FileInputStream(file);\r\n                byte[] b = new byte[1024];\r\n                int count = 0;\r\n                while ((count = in.read(b)) &gt; 0) {\r\n                    out.write(b, 0, count);\r\n                }\r\n                out.closeArchiveEntry();\r\n    \r\n            } else if (file.isDirectory()) {\r\n                File[] children = file.listFiles();\r\n                if (children != null){\r\n                    for (File child : children){\r\n                        addToArchiveCompression(out, child, name);\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.println(file.getName() + &quot; is not supported&quot;);\r\n            }\r\n        }  \r\n\r\nBut how can I compress an manually defined String to 7z and convert it to byte[]? So then I can convert the byte[] to base64 and print it, without generating or reading new Files?","title":"Java 7zip compression of a String","body":"<p>I would like to compress an String manually defined to 7z in Java. So then I could convert it to base64. I found many examples compressing files to 7z and then saving into new File.</p>\n\n<p>I just try the next code, and it takes correctly the file and compress it:</p>\n\n<pre><code>private static void addToArchiveCompression(SevenZOutputFile out, File file, String dir) throws IOException {\n        String name = dir + File.separator + file.getName();\n        if (file.isFile()){\n            SevenZArchiveEntry entry = out.createArchiveEntry(file, name);\n            out.putArchiveEntry(entry);\n\n            FileInputStream in = new FileInputStream(file);\n            byte[] b = new byte[1024];\n            int count = 0;\n            while ((count = in.read(b)) &gt; 0) {\n                out.write(b, 0, count);\n            }\n            out.closeArchiveEntry();\n\n        } else if (file.isDirectory()) {\n            File[] children = file.listFiles();\n            if (children != null){\n                for (File child : children){\n                    addToArchiveCompression(out, child, name);\n                }\n            }\n        } else {\n            System.out.println(file.getName() + \" is not supported\");\n        }\n    }  \n</code></pre>\n\n<p>But how can I compress an manually defined String to 7z and convert it to byte[]? So then I can convert the byte[] to base64 and print it, without generating or reading new Files?</p>\n"},{"tags":["java","nested-loops"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688682561,"post_id":76632875,"comment_id":135110629,"body_markdown":"JavaScript tag removed. This question and code have *nothing* to do with JavaScript programming.","body":"JavaScript tag removed. This question and code have <i>nothing</i> to do with JavaScript programming."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688683204,"post_id":76632875,"comment_id":135110690,"body_markdown":"In the inner loop, use `i` instead of `inputNum`. Unrelated: indenting your code makes it easier to understand.","body":"In the inner loop, use <code>i</code> instead of <code>inputNum</code>. Unrelated: indenting your code makes it easier to understand."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688683296,"creation_date":1688683296,"answer_id":76632929,"question_id":76632875,"body_markdown":"The inner loop should count down from `i`. Like,\r\n\r\n\tfor (i = 1; i &lt;= inputNum; ++i) {\r\n\t\tSystem.out.print(i);\r\n\t\tfor (j = i; j &gt;= 1; --j) {\r\n\t\t\tSystem.out.print(&quot;#&quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n","title":"Java: How can I fix this nested loops","body":"<p>The inner loop should count down from <code>i</code>. Like,</p>\n<pre><code>for (i = 1; i &lt;= inputNum; ++i) {\n    System.out.print(i);\n    for (j = i; j &gt;= 1; --j) {\n        System.out.print(&quot;#&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5980511,"reputation":31,"user_id":4699744,"display_name":"Sadakhat Alikhan Nawaab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688695011,"creation_date":1688695011,"answer_id":76633502,"question_id":76632875,"body_markdown":"Please try this, you will get following result: **1# 2## 3### 4####** 5##### \r\n \r\n```\r\npublic class LoopPattern {\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number&quot;);\r\n        int inputNum = s.nextInt();\r\n        for(int i=1; i&lt;=inputNum; i++) {\r\n            System.out.print(i);\r\n            for(int j=1; j&lt;=i;j++) {\r\n                System.out.print(&quot;#&quot;);\r\n            }\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Java: How can I fix this nested loops","body":"<p>Please try this, you will get following result: <strong>1# 2## 3### 4####</strong> 5#####</p>\n<pre><code>public class LoopPattern {\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter the number&quot;);\n        int inputNum = s.nextInt();\n        for(int i=1; i&lt;=inputNum; i++) {\n            System.out.print(i);\n            for(int j=1; j&lt;=i;j++) {\n                System.out.print(&quot;#&quot;);\n            }\n            System.out.print(&quot; &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28966095,"reputation":11,"user_id":22187492,"display_name":"El36"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76632929,"answer_count":2,"score":0,"last_activity_date":1688695011,"creation_date":1688682454,"question_id":76632875,"body_markdown":"Integer inputNum is read from input. For each number from 1 to inputNum, output the number followed by the number&#39;s value of hashtag characters (&#39;#&#39;). End each output with a newline.\r\n\r\nEx: If the input is 5, then the output is:\r\n\r\n1#\r\n2##\r\n3###\r\n4####\r\n5#####\r\n\r\n\r\nThis is what I tried but the problem is that I don&#39;t know how to fix it so in the output, the character (in this case &quot;#&quot;) is applied as many times as the number. \r\n\r\nfor instance, for input 5, my output was:\r\n\r\n1#####\r\n2#####\r\n3#####\r\n4#####\r\n5#####\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class LoopPatterns {\r\n       public static void main (String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int inputNum;\r\n          int i;\r\n          int j;\r\n   \r\n          inputNum = scnr.nextInt();\r\n      \r\n          for (i = 1; i &lt;= inputNum; ++i){\r\n             System.out.print(i);\r\n          for (j = inputNum; j &gt;= 1; --j){\r\n          System.out.print(&quot;#&quot;);\r\n          }\r\n          System.out.println();\r\n          }\r\n\r\n       }\r\n    }","title":"Java: How can I fix this nested loops","body":"<p>Integer inputNum is read from input. For each number from 1 to inputNum, output the number followed by the number's value of hashtag characters ('#'). End each output with a newline.</p>\n<p>Ex: If the input is 5, then the output is:</p>\n<p>1#\n2##\n3###\n4####\n5#####</p>\n<p>This is what I tried but the problem is that I don't know how to fix it so in the output, the character (in this case &quot;#&quot;) is applied as many times as the number.</p>\n<p>for instance, for input 5, my output was:</p>\n<p>1#####\n2#####\n3#####\n4#####\n5#####</p>\n<pre><code>import java.util.Scanner;\n\npublic class LoopPatterns {\n   public static void main (String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int inputNum;\n      int i;\n      int j;\n\n      inputNum = scnr.nextInt();\n  \n      for (i = 1; i &lt;= inputNum; ++i){\n         System.out.print(i);\n      for (j = inputNum; j &gt;= 1; --j){\n      System.out.print(&quot;#&quot;);\n      }\n      System.out.println();\n      }\n\n   }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","avro"],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688694754,"creation_date":1688623000,"answer_id":76625896,"question_id":76625581,"body_markdown":"You should be able to utilise Jackson&#39;s MixIn feature to implement an abstract class or interface that provides getter methods that are seen in the Sample class. Then you can apply @JsonProperty annotations to the interface getter methods and apply the MixIn to your objectMapper. You can take a look [here](https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations). [See also](https://www.grabanotherbyte.com/en/jackson/2020/10/18/jackson-mixins.html)\r\n\r\nYou could try:\r\n\r\n    public interface SampleMixIn {\r\n        @JsonProperty(&quot;Field1&quot;)\r\n        CharSequence getField1();\r\n        @JsonProperty(&quot;Field2&quot;)\r\n        CharSequence getField2();\r\n        @JsonProperty(&quot;Field3&quot;)\r\n        CharSequence getField3();\r\n    }\r\n\r\nThen when you call your object mapper:\r\n\r\n    mapper.addMixIn(Sample.class, SampleMixIn.class);\r\n    mapper.readValue(json, Sample.class); //or whatever other method you want to call to map/read\r\n\r\nYou can allow the mapping of incoming JSON to be case insensitive using the following [feature](https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html#ACCEPT_CASE_INSENSITIVE_PROPERTIES) (only available in Jackson 2.5 and after). See also [this thread](https://stackoverflow.com/q/26058854/16034206) which gives other possible solutions.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true); ","title":"How to override jackson ObjectMapper for getter/setter method name identification","body":"<p>You should be able to utilise Jackson's MixIn feature to implement an abstract class or interface that provides getter methods that are seen in the Sample class. Then you can apply @JsonProperty annotations to the interface getter methods and apply the MixIn to your objectMapper. You can take a look <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations\" rel=\"nofollow noreferrer\">here</a>. <a href=\"https://www.grabanotherbyte.com/en/jackson/2020/10/18/jackson-mixins.html\" rel=\"nofollow noreferrer\">See also</a></p>\n<p>You could try:</p>\n<pre><code>public interface SampleMixIn {\n    @JsonProperty(&quot;Field1&quot;)\n    CharSequence getField1();\n    @JsonProperty(&quot;Field2&quot;)\n    CharSequence getField2();\n    @JsonProperty(&quot;Field3&quot;)\n    CharSequence getField3();\n}\n</code></pre>\n<p>Then when you call your object mapper:</p>\n<pre><code>mapper.addMixIn(Sample.class, SampleMixIn.class);\nmapper.readValue(json, Sample.class); //or whatever other method you want to call to map/read\n</code></pre>\n<p>You can allow the mapping of incoming JSON to be case insensitive using the following <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html#ACCEPT_CASE_INSENSITIVE_PROPERTIES\" rel=\"nofollow noreferrer\">feature</a> (only available in Jackson 2.5 and after). See also <a href=\"https://stackoverflow.com/q/26058854/16034206\">this thread</a> which gives other possible solutions.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true); \n</code></pre>\n"}],"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688694754,"creation_date":1688619004,"question_id":76625581,"body_markdown":"I have some Pojo classes which are generated through avro schema. The problem is that the field name in the schema is declared with the first character as a capital letter. I am receiving a JSON string and in a JSON string also each key name starts with a capital letter, due to which Jackson is not able to map the data.\r\n\r\nIs there any way we can override the logic of the Jackson parser to find the getter/setter in pojo with just get + FieldName and set + FieldName.\r\n\r\nBellow is the sample POJO class and JSON which I am trying to parse.\r\n\r\n**POJO:**\r\n```java\r\npublic class Sample {\r\n    private java.lang.CharSequence Field1;\r\n    private java.lang.CharSequence Field2;\r\n    private java.lang.CharSequence Field3;\r\n\r\n    public java.lang.CharSequence getField1() {\r\n        return Field1;\r\n    }\r\n\r\n    public void setField1(java.lang.CharSequence Field1) {\r\n        this.Field1 = Field1;\r\n    }\r\n\r\n    public java.lang.CharSequence getField2() {\r\n        return Field2;\r\n    }\r\n\r\n    public void setField2(java.lang.CharSequence Field2) {\r\n        this.Field2 = Field2;\r\n    }\r\n\r\n    public java.lang.CharSequence getField3() {\r\n        return Field3;\r\n    }\r\n\r\n    public void setField3(java.lang.CharSequence Field3) {\r\n        this.Field3 = Field3;\r\n    }\r\n}\r\n```\r\n\r\n**JSON:**\r\n```json\r\n{\r\n  &quot;Field1&quot;: &quot;Value1&quot;,\r\n  &quot;Field2&quot;: &quot;Value2&quot;,\r\n  &quot;Field3&quot;: &quot;Value3&quot;\r\n}\r\n```\r\n\r\nCode to parse the JSON:\r\n```java\r\nString json = = &quot;&quot;;\r\nObjectMapper objectMapper = new ObjectMapper();\r\nSample sample = objectMapper.readValue(json, Sample.class);\r\n```\r\n\r\nIf I pass the below JSON then it&#39;s working perfectly fine. \r\n```json\r\n{\r\n  &quot;field1&quot;: &quot;Value1&quot;,\r\n  &quot;field2&quot;: &quot;Value2&quot;,\r\n  &quot;field3&quot;: &quot;Value3&quot;\r\n}\r\n```\r\n\r\nBut I am receiving the JSON in the previous format and I don&#39;t want to write a code to convert each JSON key&#39;s first character into lowercase (which would still create an issue for some fields where more than one starting letter is capital).\r\n","title":"How to override jackson ObjectMapper for getter/setter method name identification","body":"<p>I have some Pojo classes which are generated through avro schema. The problem is that the field name in the schema is declared with the first character as a capital letter. I am receiving a JSON string and in a JSON string also each key name starts with a capital letter, due to which Jackson is not able to map the data.</p>\n<p>Is there any way we can override the logic of the Jackson parser to find the getter/setter in pojo with just get + FieldName and set + FieldName.</p>\n<p>Bellow is the sample POJO class and JSON which I am trying to parse.</p>\n<p><strong>POJO:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sample {\n    private java.lang.CharSequence Field1;\n    private java.lang.CharSequence Field2;\n    private java.lang.CharSequence Field3;\n\n    public java.lang.CharSequence getField1() {\n        return Field1;\n    }\n\n    public void setField1(java.lang.CharSequence Field1) {\n        this.Field1 = Field1;\n    }\n\n    public java.lang.CharSequence getField2() {\n        return Field2;\n    }\n\n    public void setField2(java.lang.CharSequence Field2) {\n        this.Field2 = Field2;\n    }\n\n    public java.lang.CharSequence getField3() {\n        return Field3;\n    }\n\n    public void setField3(java.lang.CharSequence Field3) {\n        this.Field3 = Field3;\n    }\n}\n</code></pre>\n<p><strong>JSON:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Field1&quot;: &quot;Value1&quot;,\n  &quot;Field2&quot;: &quot;Value2&quot;,\n  &quot;Field3&quot;: &quot;Value3&quot;\n}\n</code></pre>\n<p>Code to parse the JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = = &quot;&quot;;\nObjectMapper objectMapper = new ObjectMapper();\nSample sample = objectMapper.readValue(json, Sample.class);\n</code></pre>\n<p>If I pass the below JSON then it's working perfectly fine.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;field1&quot;: &quot;Value1&quot;,\n  &quot;field2&quot;: &quot;Value2&quot;,\n  &quot;field3&quot;: &quot;Value3&quot;\n}\n</code></pre>\n<p>But I am receiving the JSON in the previous format and I don't want to write a code to convert each JSON key's first character into lowercase (which would still create an issue for some fields where more than one starting letter is capital).</p>\n"},{"tags":["java","forms","zipcode"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1587597829,"post_id":61376748,"comment_id":108578125,"body_markdown":"There is no international standard. Canada uses six characters. Japan uses seven. Good luck!","body":"There is no international standard. Canada uses six characters. Japan uses seven. Good luck!"},{"owner":{"account_id":18276776,"reputation":118,"user_id":13306412,"display_name":"user13306412"},"score":0,"creation_date":1587598635,"post_id":61376748,"comment_id":108578335,"body_markdown":"The US uses [zip+4](https://www.zip-codes.com/learn-about/what-is-a-zip-4-code.asp)","body":"The US uses <a href=\"https://www.zip-codes.com/learn-about/what-is-a-zip-4-code.asp\" rel=\"nofollow noreferrer\">zip+4</a>"}],"answers":[{"tags":[],"owner":{"account_id":10675972,"reputation":5000,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1688694586,"creation_date":1587683794,"answer_id":61398523,"question_id":61376748,"body_markdown":"Zipcodes have [a lot of complexities](https://en.wikipedia.org/wiki/ZIP_Code). For this reason, they feature in chronicles of [programmers&#39; incorrect assumptions](https://www.mjt.me.uk/posts/falsehoods-programmers-believe-about-addresses/).\r\n\r\nYou can use guidelines such as [this table](http://www.fedex.com/be/shippingguide/postalcodeformat.html) from FedEx, e.g.\r\n\r\n&gt;  PT - Portugal - `NNNN` or `NNNN-nnn` or `NNNNnnn`\r\n\r\nBut keep in mind that most sources, like that one, will be incomplete.\r\n\r\n______\r\n\r\nI suggest asking: *why bother*? If you want to accept zip codes from all over the world, and fail if they&#39;re not within the range of your allowed length, you&#39;re not actually protecting yourself very much at all. A user in a country with the shortest zip codes could enter a zipcode the length of the longest country&#39;s. A user in a country with strictly numerical zipcodes might input one with alpha characters.\r\n\r\nThe only way to be &quot;sure&quot; (for some meaningful value of sure) is to use some form of [address validation](https://smartystreets.com/articles/what-is-address-validation).\r\n\r\n","title":"What is the min and max character length for a non-US postal code","body":"<p>Zipcodes have <a href=\"https://en.wikipedia.org/wiki/ZIP_Code\" rel=\"nofollow noreferrer\">a lot of complexities</a>. For this reason, they feature in chronicles of <a href=\"https://www.mjt.me.uk/posts/falsehoods-programmers-believe-about-addresses/\" rel=\"nofollow noreferrer\">programmers' incorrect assumptions</a>.</p>\n<p>You can use guidelines such as <a href=\"http://www.fedex.com/be/shippingguide/postalcodeformat.html\" rel=\"nofollow noreferrer\">this table</a> from FedEx, e.g.</p>\n<blockquote>\n<p>PT - Portugal - <code>NNNN</code> or <code>NNNN-nnn</code> or <code>NNNNnnn</code></p>\n</blockquote>\n<p>But keep in mind that most sources, like that one, will be incomplete.</p>\n<hr />\n<p>I suggest asking: <em>why bother</em>? If you want to accept zip codes from all over the world, and fail if they're not within the range of your allowed length, you're not actually protecting yourself very much at all. A user in a country with the shortest zip codes could enter a zipcode the length of the longest country's. A user in a country with strictly numerical zipcodes might input one with alpha characters.</p>\n<p>The only way to be &quot;sure&quot; (for some meaningful value of sure) is to use some form of <a href=\"https://smartystreets.com/articles/what-is-address-validation\" rel=\"nofollow noreferrer\">address validation</a>.</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5776,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1587721964,"accepted_answer_id":61398523,"answer_count":1,"score":-1,"last_activity_date":1688694586,"creation_date":1587597662,"question_id":61376748,"body_markdown":"I am trying to develop an application that accepts a postal code from a form. The form is accessible worldwide. I know that for US zip codes the standard character length is 5, but what is the min and max for non-US postal codes? I need to know because I am using a validation constraint:\r\n```\r\n/**\r\n     * The zip code used to retrieve a US based customer&#39;s state.\r\n     */\r\n    @Nullable\r\n    @Size(min=5, max=5)\r\n    private final String zip;\r\n```\r\nThis question was marked as a duplicate because of this post: https://stackoverflow.com/questions/325041/i-need-to-store-postal-codes-in-a-database-how-big-should-the-column-be. Which doesn&#39;t specify the minimum for all non-US postal codes.","title":"What is the min and max character length for a non-US postal code","body":"<p>I am trying to develop an application that accepts a postal code from a form. The form is accessible worldwide. I know that for US zip codes the standard character length is 5, but what is the min and max for non-US postal codes? I need to know because I am using a validation constraint:</p>\n\n<pre><code>/**\n     * The zip code used to retrieve a US based customer's state.\n     */\n    @Nullable\n    @Size(min=5, max=5)\n    private final String zip;\n</code></pre>\n\n<p>This question was marked as a duplicate because of this post: <a href=\"https://stackoverflow.com/questions/325041/i-need-to-store-postal-codes-in-a-database-how-big-should-the-column-be\">I need to store postal codes in a database. How big should the column be?</a>. Which doesn't specify the minimum for all non-US postal codes.</p>\n"},{"tags":["java","sqlite"],"answers":[{"tags":[],"owner":{"account_id":480369,"reputation":735,"user_id":893574,"accept_rate":60,"display_name":"naveejr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688637206,"creation_date":1688637206,"answer_id":76627599,"question_id":76538042,"body_markdown":"Use the JDBC library \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.willena&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.41.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen Create the connection\r\n\r\n    Connection connection =\r\n\t\t\t\t\t DriverManager.getConnection(&quot;jdbc:sqlite:file:cryptedDB.db?cipher=sqlcipher&amp;key=kilikilikoinkoin&amp;legacy=3&quot;)\r\n\r\nAlso, make sure &quot;file&quot; part in the JDBC connection string.\r\n\r\n","title":"How to connect to an encrypted SQLite database?","body":"<p>Use the JDBC library</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.willena&lt;/groupId&gt;\n        &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.41.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then Create the connection</p>\n<pre><code>Connection connection =\n                 DriverManager.getConnection(&quot;jdbc:sqlite:file:cryptedDB.db?cipher=sqlcipher&amp;key=kilikilikoinkoin&amp;legacy=3&quot;)\n</code></pre>\n<p>Also, make sure &quot;file&quot; part in the JDBC connection string.</p>\n"}],"owner":{"account_id":20789987,"reputation":1,"user_id":15268397,"display_name":"Dif Abderrahmen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688694087,"creation_date":1687506287,"question_id":76538042,"body_markdown":"I created an SQLite database using &quot;DB Browser for SQLite&quot; and encrypted it using SQLCipher 3, but when I execute my code the database is unreadable. I removed the encryption and it works.\r\n\r\nHow can I connect to an encrypted SQLite database? I already added the SQLCipher jar to my build path \\&gt; library.\r\n\r\n&gt;ERROR :opening db: &#39;src/database/cryptedDB.db?key=kilikilikoinkoin&#39; : File, directory, or volume name syntax is incorrect\r\n\r\nCode:\r\n\r\n```\r\npublic class DBmanager {\r\n\t\r\n\tConnection connection;\r\n\tString database= &quot;jdbc:sqlite:src/database/cryptedDB.db&quot;;\r\n\tprivate String encryptionKey = &quot;kilikilikoinkoin&quot;;\r\n\t\r\n\tpublic DBmanager() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic boolean Connect() throws SQLException {\r\n        try {\r\n        \tString url = database + &quot;?key=&quot; + encryptionKey;\r\n\r\n             // Establish the connection with the modified URL\r\n             Connection connection = DriverManager.getConnection(url);\r\n        \tif (connection != null &amp;&amp; !connection.isClosed()) {\r\n        \t\treturn true;\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n        return false;\r\n        \r\n\t}\r\n}\r\n```\r\n\r\nChanging URL from  `?key=` to `?pragma_key=` is not working. Eclipse shows error in `sqLiteDatabase.rawQuery()` and the correction is to &quot;build path&quot; even though I already added SQLCipher.\r\n\r\n```\r\nSQLiteDatabase.loadLibs(); // Load SQLCipher native libraries\r\nSQLiteDatabase sqLiteDatabase = SQLiteDatabase.openDatabase(database, passphrase, null, SQLiteDatabase.OPEN_READWRITE);\r\nlong nativeConnectionPtr =sqLiteDatabase.rawQuery(&quot;SELECT sqlite3_handle_v2(&#39;main&#39;);&quot;,null).getLong(0);\r\n// Wrap the native connection in a java.sql.Connection object using SQLite JDBC driver\r\nSQLiteConfig config = new SQLiteConfig();\r\nconfig.setSharedCache(true);\r\n```","title":"How to connect to an encrypted SQLite database?","body":"<p>I created an SQLite database using &quot;DB Browser for SQLite&quot; and encrypted it using SQLCipher 3, but when I execute my code the database is unreadable. I removed the encryption and it works.</p>\n<p>How can I connect to an encrypted SQLite database? I already added the SQLCipher jar to my build path &gt; library.</p>\n<blockquote>\n<p>ERROR :opening db: 'src/database/cryptedDB.db?key=kilikilikoinkoin' : File, directory, or volume name syntax is incorrect</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>public class DBmanager {\n    \n    Connection connection;\n    String database= &quot;jdbc:sqlite:src/database/cryptedDB.db&quot;;\n    private String encryptionKey = &quot;kilikilikoinkoin&quot;;\n    \n    public DBmanager() {\n        \n    }\n    \n    public boolean Connect() throws SQLException {\n        try {\n            String url = database + &quot;?key=&quot; + encryptionKey;\n\n             // Establish the connection with the modified URL\n             Connection connection = DriverManager.getConnection(url);\n            if (connection != null &amp;&amp; !connection.isClosed()) {\n                return true;\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n            return false;\n        }\n        return false;\n        \n    }\n}\n</code></pre>\n<p>Changing URL from  <code>?key=</code> to <code>?pragma_key=</code> is not working. Eclipse shows error in <code>sqLiteDatabase.rawQuery()</code> and the correction is to &quot;build path&quot; even though I already added SQLCipher.</p>\n<pre><code>SQLiteDatabase.loadLibs(); // Load SQLCipher native libraries\nSQLiteDatabase sqLiteDatabase = SQLiteDatabase.openDatabase(database, passphrase, null, SQLiteDatabase.OPEN_READWRITE);\nlong nativeConnectionPtr =sqLiteDatabase.rawQuery(&quot;SELECT sqlite3_handle_v2('main');&quot;,null).getLong(0);\n// Wrap the native connection in a java.sql.Connection object using SQLite JDBC driver\nSQLiteConfig config = new SQLiteConfig();\nconfig.setSharedCache(true);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1688682781,"post_id":76632242,"comment_id":135110645,"body_markdown":"Why is there a parameter to the method?  A service class could delegate to the entity to ask if it&#39;s done.  So the entity itself will tell you if it&#39;s done (encapsulation), to avoid leaking of `EntityState`.","body":"Why is there a parameter to the method?  A service class could delegate to the entity to ask if it&#39;s done.  So the entity itself will tell you if it&#39;s done (encapsulation), to avoid leaking of <code>EntityState</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688714344,"post_id":76632242,"comment_id":135113529,"body_markdown":"Why should it be in the service, it should be on the entity. You shouldn&#39;t pass state around if the entity (or the class itself) can answer the question. Why would I need to retrieve the entity, prune the data out of the entity, call a service method. While I could be calling the `entity.isDone` in one pass.","body":"Why should it be in the service, it should be on the entity. You shouldn&#39;t pass state around if the entity (or the class itself) can answer the question. Why would I need to retrieve the entity, prune the data out of the entity, call a service method. While I could be calling the <code>entity.isDone</code> in one pass."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688691916,"creation_date":1688691916,"answer_id":76633347,"question_id":76632242,"body_markdown":"Since this seems to be checking the state of an entity, my preference would be to add this as an instance method on the entity class. \r\n\r\nIt really isn&#39;t clear if this interface has some other purpose or if it is created just to host this static method, so it isn&#39;t clear what the advantage is of having it. Putting the method on the service is ok if there is some reason to avoid adding the method to the entity class. \r\n\r\nIt would be better to use enums than to compare strings. You can also make this safer by reversing the order like \r\n\r\n     EntityState.DONE.equals(x);\r\n\r\nThis way if x is null it doesn&#39;t throw a NPE. ","title":"Spring boot interface declaring static method","body":"<p>Since this seems to be checking the state of an entity, my preference would be to add this as an instance method on the entity class.</p>\n<p>It really isn't clear if this interface has some other purpose or if it is created just to host this static method, so it isn't clear what the advantage is of having it. Putting the method on the service is ok if there is some reason to avoid adding the method to the entity class.</p>\n<p>It would be better to use enums than to compare strings. You can also make this safer by reversing the order like</p>\n<pre><code> EntityState.DONE.equals(x);\n</code></pre>\n<p>This way if x is null it doesn't throw a NPE.</p>\n"}],"owner":{"account_id":18582159,"reputation":169,"user_id":13541453,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76633347,"answer_count":1,"score":0,"last_activity_date":1688691916,"creation_date":1688674165,"question_id":76632242,"body_markdown":"I&#39;m wondering about one pure function, should I declared it as static method or as instance method in Spring boot app. Because I think the best place for this function is the Service class of the entity, in the case of declaring it as static, it should be placed in the interface, but I have some concerns that this is not following the best practices. I added the similar function to mint below. \r\n\r\n```\r\npublic boolean isDone(String x) {\r\n   return x.equals(EntityState.DONE);\r\n}\r\n```","title":"Spring boot interface declaring static method","body":"<p>I'm wondering about one pure function, should I declared it as static method or as instance method in Spring boot app. Because I think the best place for this function is the Service class of the entity, in the case of declaring it as static, it should be placed in the interface, but I have some concerns that this is not following the best practices. I added the similar function to mint below.</p>\n<pre><code>public boolean isDone(String x) {\n   return x.equals(EntityState.DONE);\n}\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1412142894,"post_id":26134896,"comment_id":40964024,"body_markdown":"For example using a NumberFormatException to test if input from a user is numeric.","body":"For example using a NumberFormatException to test if input from a user is numeric."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1412143817,"post_id":26134896,"comment_id":40964321,"body_markdown":"I think it has something to do with the computational complexity of setting up for and catching an exception vs. more conventional flow control.  But I can&#39;t elaborate, which is why this is a comment and not an answer.","body":"I think it has something to do with the computational complexity of setting up for and catching an exception vs. more conventional flow control.  But I can&#39;t elaborate, which is why this is a comment and not an answer."},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1412144035,"post_id":26134896,"comment_id":40964396,"body_markdown":"I think &quot;Javas exception-handling statements should not be considered a general mechanism for nonlocal branching&quot; means using the exception bubbling mechanism to branch to some other function by calling the other function in the `catch` block way up the call stack(similar to using `goto` statement to branch non locally). This breaks the conventional control flow and makes the logic difficult to understand and maintain.","body":"I think &quot;Javas exception-handling statements should not be considered a general mechanism for nonlocal branching&quot; means using the exception bubbling mechanism to branch to some other function by calling the other function in the <code>catch</code> block way up the call stack(similar to using <code>goto</code> statement to branch non locally). This breaks the conventional control flow and makes the logic difficult to understand and maintain."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688689935,"post_id":26134896,"comment_id":135111244,"body_markdown":"He means not using it as a `goto`. However as several generations of programmers have now been born who have never heard of a `goto` the warning is considerably out of date. They used to also say &quot;don&#39;t use exceptions as a form of flow control&quot;: the problem with that statement being that exceptions *are* a form of flow control. Just use them for errors and you won&#39;t get hurt.","body":"He means not using it as a <code>goto</code>. However as several generations of programmers have now been born who have never heard of a <code>goto</code> the warning is considerably out of date. They used to also say &quot;don&#39;t use exceptions as a form of flow control&quot;: the problem with that statement being that exceptions <i>are</i> a form of flow control. Just use them for errors and you won&#39;t get hurt."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1412145396,"creation_date":1412144131,"answer_id":26135179,"question_id":26134896,"body_markdown":"Here is an example of a local branch:\r\n\r\n    void foo() {\r\n      if (someCondition) {\r\n        doSomething();\r\n      } else {\r\n        doSomethingElse();\r\n      }\r\n    }\r\n\r\nThe branching is quite forward to understand, right? The reason for this simplicity is that all branching logic is defined within `foo`. Locally, so to speak. This means, a condition is checked and its path is taken depending on `someCondition` but the branching does not escape `foo`. By only looking at this one method, you know how the code flow might look like.\r\n\r\nNow think of this less-readable implementation:\r\n\r\n    void foo() {\r\n      if(bar()) {\r\n        // branch is handled by bar\r\n      } else {\r\n        doSomethingElse();\r\n      }\r\n    }\r\n\r\n    boolean bar() {\r\n      if(somethingWrong) {\r\n        return false;\r\n      }\r\n      doSomething();\r\n    }\r\n\r\nThis is less readable. But why is that? If you are calling a method `bar` from `foo`, the control flow is handled by `bar`. `bar` might however do something unexpected and still rely on `foo` to handle this unexpected condition. This is not a good practice as you distribute connected logic among `foo` and `bar` where a change at one place might cause a misbehavior at another place. This is somewhat what exceptions do if they are treated *too far down the stack*. You can even extend the complexity of the above example by adding more intermediate methods. Therefore, the book suggests, to keep branching locally as this often is more human readable and traceable what I would equally suggest as a good idea. Look at this exception-based implementation of the above code to visualize this more:\r\n\r\n    void foo() {\r\n      try {\r\n        bar()\r\n      } catch(SomeException e) {\r\n        doSomethingElse();\r\n      }\r\n    }\r\n\r\n    boolean bar() {\r\n      if(somethingWrong) {\r\n        throw new SomeException();\r\n      }\r\n      doSomething();\r\n    }\r\n\r\nObviously, this distributed branch is more error-prone than an `if`-`else` statement.","title":"Why Javas exception-handling statements should not be considered a general mechanism for nonlocal branching?","body":"<p>Here is an example of a local branch:</p>\n\n<pre><code>void foo() {\n  if (someCondition) {\n    doSomething();\n  } else {\n    doSomethingElse();\n  }\n}\n</code></pre>\n\n<p>The branching is quite forward to understand, right? The reason for this simplicity is that all branching logic is defined within <code>foo</code>. Locally, so to speak. This means, a condition is checked and its path is taken depending on <code>someCondition</code> but the branching does not escape <code>foo</code>. By only looking at this one method, you know how the code flow might look like.</p>\n\n<p>Now think of this less-readable implementation:</p>\n\n<pre><code>void foo() {\n  if(bar()) {\n    // branch is handled by bar\n  } else {\n    doSomethingElse();\n  }\n}\n\nboolean bar() {\n  if(somethingWrong) {\n    return false;\n  }\n  doSomething();\n}\n</code></pre>\n\n<p>This is less readable. But why is that? If you are calling a method <code>bar</code> from <code>foo</code>, the control flow is handled by <code>bar</code>. <code>bar</code> might however do something unexpected and still rely on <code>foo</code> to handle this unexpected condition. This is not a good practice as you distribute connected logic among <code>foo</code> and <code>bar</code> where a change at one place might cause a misbehavior at another place. This is somewhat what exceptions do if they are treated <em>too far down the stack</em>. You can even extend the complexity of the above example by adding more intermediate methods. Therefore, the book suggests, to keep branching locally as this often is more human readable and traceable what I would equally suggest as a good idea. Look at this exception-based implementation of the above code to visualize this more:</p>\n\n<pre><code>void foo() {\n  try {\n    bar()\n  } catch(SomeException e) {\n    doSomethingElse();\n  }\n}\n\nboolean bar() {\n  if(somethingWrong) {\n    throw new SomeException();\n  }\n  doSomething();\n}\n</code></pre>\n\n<p>Obviously, this distributed branch is more error-prone than an <code>if</code>-<code>else</code> statement.</p>\n"}],"owner":{"account_id":4870584,"reputation":13948,"user_id":3927264,"accept_rate":68,"display_name":"Farhan stands with Palestine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26135179,"answer_count":1,"score":9,"last_activity_date":1688689743,"creation_date":1412142662,"question_id":26134896,"body_markdown":"Going through Herbert Schildt : The Complete Reference Chapter 10 Exception Handling\r\n\r\n&gt;Exception handling provides a powerful mechanism for controlling complex programs that\r\n    have many dynamic run-time characteristics. It is important to think of try, throw, and catch\r\n    as clean ways to handle errors and unusual boundary conditions in your programs logic.\r\n    Unlike some other languages in which error return codes are used to indicate failure, Java\r\n    uses exceptions. Thus, when a method can fail, have it throw an exception. This is a cleaner\r\n    way to handle failure modes.\r\n    One last point: Javas exception-handling statements should not be considered a general\r\n    mechanism for nonlocal branching. If you do so, it will only confuse your code and make it\r\n    hard to maintain.\r\n\r\nWhat does he mean by the term &#39;nonlocal branching&#39;?\r\n","title":"Why Javas exception-handling statements should not be considered a general mechanism for nonlocal branching?","body":"<p>Going through Herbert Schildt : The Complete Reference Chapter 10 Exception Handling</p>\n<blockquote>\n<p>Exception handling provides a powerful mechanism for controlling complex programs that\nhave many dynamic run-time characteristics. It is important to think of try, throw, and catch\nas clean ways to handle errors and unusual boundary conditions in your programs logic.\nUnlike some other languages in which error return codes are used to indicate failure, Java\nuses exceptions. Thus, when a method can fail, have it throw an exception. This is a cleaner\nway to handle failure modes.\nOne last point: Javas exception-handling statements should not be considered a general\nmechanism for nonlocal branching. If you do so, it will only confuse your code and make it\nhard to maintain.</p>\n</blockquote>\n<p>What does he mean by the term 'nonlocal branching'?</p>\n"},{"tags":["java","testing","junit","mockito","stubbing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688687970,"post_id":76633034,"comment_id":135111096,"body_markdown":"If `method()` is on the class you are testing, then you can&#39;t stub it, because that would require mocking the object you want to test.","body":"If <code>method()</code> is on the class you are testing, then you can&#39;t stub it, because that would require mocking the object you want to test."},{"owner":{"account_id":28877534,"reputation":9,"user_id":22117693,"display_name":"Anonymous"},"score":0,"creation_date":1688688544,"post_id":76633034,"comment_id":135111138,"body_markdown":"@tgdavies the `method()` is from some other class.","body":"@tgdavies the <code>method()</code> is from some other class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688688594,"post_id":76633034,"comment_id":135111143,"body_markdown":"Then it would be `otherClass.method()` -- unless you mean a superclass?","body":"Then it would be <code>otherClass.method()</code> -- unless you mean a superclass?"},{"owner":{"account_id":28877534,"reputation":9,"user_id":22117693,"display_name":"Anonymous"},"score":0,"creation_date":1688688864,"post_id":76633034,"comment_id":135111166,"body_markdown":"@tgdavies I have edited. But what&#39;s solution for my question?","body":"@tgdavies I have edited. But what&#39;s solution for my question?"}],"answers":[{"tags":[],"owner":{"account_id":13717888,"reputation":1,"user_id":9898619,"display_name":"Demneru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688689011,"creation_date":1688688838,"answer_id":76633203,"question_id":76633034,"body_markdown":"You can use @Spy for your instance what are testing.\r\n\r\nSpies are like mocks but you can stub some methods of the same class what you are testing\r\n--well this answer was for your first question\r\n\r\nAfter edit, you can just chain the second stub\r\n\r\nwhen(method()).thenThrow(exception).thenThrow(exception);","title":"how to skip fist when-then call in junit","body":"<p>You can use @Spy for your instance what are testing.</p>\n<p>Spies are like mocks but you can stub some methods of the same class what you are testing\n--well this answer was for your first question</p>\n<p>After edit, you can just chain the second stub</p>\n<p>when(method()).thenThrow(exception).thenThrow(exception);</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688689637,"creation_date":1688689637,"answer_id":76633240,"question_id":76633034,"body_markdown":"You can repeat Mockito&#39;s `do...()` methods when you mock a void method:\r\n```\r\n        doNothing().doThrow(new RuntimeException(&quot;test&quot;)).when(mock).method();\r\n```\r\n\r\nThe effects will happen in sequence if there are multiple calls to `method`.","title":"how to skip fist when-then call in junit","body":"<p>You can repeat Mockito's <code>do...()</code> methods when you mock a void method:</p>\n<pre><code>        doNothing().doThrow(new RuntimeException(&quot;test&quot;)).when(mock).method();\n</code></pre>\n<p>The effects will happen in sequence if there are multiple calls to <code>method</code>.</p>\n"}],"owner":{"account_id":28877534,"reputation":9,"user_id":22117693,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76633240,"answer_count":2,"score":0,"last_activity_date":1688689637,"creation_date":1688685124,"question_id":76633034,"body_markdown":"I want to write a Junit test for a Java code similar to the code below. In the code, `method()` is called 2 times. In my Junit test, I have something like this `when(method()).thenThrow(exception);` but I want this when-then to be triggered on the 2nd `method()` call, and not on the 1st `method()` call. So, how can I do that?\r\n\r\n```\r\nclass Example {\r\n    public void example() {\r\n        OtherClass.method(); //1st method call\r\n        /*\r\n        * doing something\r\n        */\r\n        OtherClass.method(); //2nd method call\r\n    }\r\n}\r\n```","title":"how to skip fist when-then call in junit","body":"<p>I want to write a Junit test for a Java code similar to the code below. In the code, <code>method()</code> is called 2 times. In my Junit test, I have something like this <code>when(method()).thenThrow(exception);</code> but I want this when-then to be triggered on the 2nd <code>method()</code> call, and not on the 1st <code>method()</code> call. So, how can I do that?</p>\n<pre><code>class Example {\n    public void example() {\n        OtherClass.method(); //1st method call\n        /*\n        * doing something\n        */\n        OtherClass.method(); //2nd method call\n    }\n}\n</code></pre>\n"},{"tags":["java","image","javafx","imageview","color-picker"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1688624966,"post_id":76626020,"comment_id":135099113,"body_markdown":"Please don&#39;t put pictures of code, paste the code as text into the question.","body":"Please don&#39;t put pictures of code, paste the code as text into the question."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688632606,"post_id":76626020,"comment_id":135100651,"body_markdown":"But do include the pictures necessary to replicate your issue (the original t shirt &#128090; image).","body":"But do include the pictures necessary to replicate your issue (the original t shirt  image)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688689414,"creation_date":1688688934,"answer_id":76633210,"question_id":76626020,"body_markdown":"How to color an image from a color picker.\r\n\r\n * Ensure your `png` input image has appropriate areas of transparent color (your example t-shirt image does).\r\n * Define a [ColorPicker][1] to pick your color.\r\n * Bind the [picked color][2] to a [MULTIPLY][3] [blended][4] [ColorInput][5] effect on a [desaturated][6] monochrome [adjusted][7] or [grayscaled][8] image, with the image [clipped][9] by a clip defined by the image.\r\n\r\nFor more info see:\r\n\r\n * https://stackoverflow.com/questions/18124364/how-to-change-color-of-image-in-javafx/18124868#18124868\r\n\r\n**Example**\r\n\r\nPlace the image used (I used the image provided in your question) in a resource folder with the same directory structure as the package you place the sample code in.\r\n\r\n[![purple][10]][10]\r\n\r\n[![orange][11]][11]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ColorPicker;\r\n    import javafx.scene.effect.*;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class TShirtDesigner extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            ColorPicker colorPicker = new ColorPicker();\r\n    \r\n            Image tshirtImage = new Image(\r\n                    Objects.requireNonNull(\r\n                            TShirtDesigner.class.getResource(\r\n                                    &quot;tshirt.png&quot;\r\n                            )\r\n                    ).toExternalForm()\r\n            );\r\n    \r\n            ImageView tshirt = new ImageView(tshirtImage);\r\n            tshirt.setClip(new ImageView(tshirtImage));\r\n    \r\n            bindImageColor(\r\n                    tshirt,\r\n                    colorPicker.valueProperty()\r\n            );\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    colorPicker,\r\n                    tshirt\r\n            );\r\n            layout.setAlignment(Pos.CENTER);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            Scene scene = new Scene(layout);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private static void bindImageColor(\r\n                ImageView imageView,\r\n                ObjectProperty&lt;Color&gt; colorProperty\r\n        ) {\r\n            ColorInput colorInput = new ColorInput(\r\n                    0,\r\n                    0,\r\n                    imageView.getImage().getWidth(),\r\n                    imageView.getImage().getHeight(),\r\n                    colorProperty.get()\r\n            );\r\n            colorInput.paintProperty().bind(\r\n                    colorProperty\r\n            );\r\n    \r\n            ColorAdjust monochrome = new ColorAdjust();\r\n            monochrome.setSaturation(-1.0);\r\n    \r\n            Blend colorBlend = new Blend(\r\n                    BlendMode.MULTIPLY,\r\n                    monochrome,\r\n                    colorInput\r\n            );\r\n    \r\n            imageView.setEffect(colorBlend);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ColorPicker.html\r\n  [2]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBoxBase.html#valueProperty()\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/BlendMode.html#MULTIPLY\r\n  [4]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/Blend.html\r\n  [5]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/ColorInput.html\r\n  [6]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/ColorAdjust.html#setSaturation(double)\r\n  [7]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/ColorAdjust.html\r\n  [8]: https://stackoverflow.com/questions/43068319/how-to-create-javafx-16-bit-greyscale-images/43080085#43080085\r\n  [9]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#setClip(javafx.scene.Node)\r\n  [10]: https://i.stack.imgur.com/quWOz.png\r\n  [11]: https://i.stack.imgur.com/gS9VB.png","title":"Use of ColorPicker on an image in JavaFX","body":"<p>How to color an image from a color picker.</p>\n<ul>\n<li>Ensure your <code>png</code> input image has appropriate areas of transparent color (your example t-shirt image does).</li>\n<li>Define a <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ColorPicker.html\" rel=\"nofollow noreferrer\">ColorPicker</a> to pick your color.</li>\n<li>Bind the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/ComboBoxBase.html#valueProperty()\" rel=\"nofollow noreferrer\">picked color</a> to a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/BlendMode.html#MULTIPLY\" rel=\"nofollow noreferrer\">MULTIPLY</a> <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/Blend.html\" rel=\"nofollow noreferrer\">blended</a> <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/ColorInput.html\" rel=\"nofollow noreferrer\">ColorInput</a> effect on a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/ColorAdjust.html#setSaturation(double)\" rel=\"nofollow noreferrer\">desaturated</a> monochrome <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/effect/ColorAdjust.html\" rel=\"nofollow noreferrer\">adjusted</a> or <a href=\"https://stackoverflow.com/questions/43068319/how-to-create-javafx-16-bit-greyscale-images/43080085#43080085\">grayscaled</a> image, with the image <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#setClip(javafx.scene.Node)\" rel=\"nofollow noreferrer\">clipped</a> by a clip defined by the image.</li>\n</ul>\n<p>For more info see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18124364/how-to-change-color-of-image-in-javafx/18124868#18124868\">How to change color of image in JavaFX</a></li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Place the image used (I used the image provided in your question) in a resource folder with the same directory structure as the package you place the sample code in.</p>\n<p><a href=\"https://i.stack.imgur.com/quWOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/quWOz.png\" alt=\"purple\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gS9VB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gS9VB.png\" alt=\"orange\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.effect.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class TShirtDesigner extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ColorPicker colorPicker = new ColorPicker();\n\n        Image tshirtImage = new Image(\n                Objects.requireNonNull(\n                        TShirtDesigner.class.getResource(\n                                &quot;tshirt.png&quot;\n                        )\n                ).toExternalForm()\n        );\n\n        ImageView tshirt = new ImageView(tshirtImage);\n        tshirt.setClip(new ImageView(tshirtImage));\n\n        bindImageColor(\n                tshirt,\n                colorPicker.valueProperty()\n        );\n\n        VBox layout = new VBox(\n                10,\n                colorPicker,\n                tshirt\n        );\n        layout.setAlignment(Pos.CENTER);\n        layout.setPadding(new Insets(10));\n\n        Scene scene = new Scene(layout);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private static void bindImageColor(\n            ImageView imageView,\n            ObjectProperty&lt;Color&gt; colorProperty\n    ) {\n        ColorInput colorInput = new ColorInput(\n                0,\n                0,\n                imageView.getImage().getWidth(),\n                imageView.getImage().getHeight(),\n                colorProperty.get()\n        );\n        colorInput.paintProperty().bind(\n                colorProperty\n        );\n\n        ColorAdjust monochrome = new ColorAdjust();\n        monochrome.setSaturation(-1.0);\n\n        Blend colorBlend = new Blend(\n                BlendMode.MULTIPLY,\n                monochrome,\n                colorInput\n        );\n\n        imageView.setEffect(colorBlend);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28960438,"reputation":21,"user_id":22183025,"display_name":"zaman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688689414,"creation_date":1688624507,"question_id":76626020,"body_markdown":"I have an image in the imageview. What I want to do is add color to it. Basically it&#39;s like a layer of color on the image. So I am trying to add color to a t-shirt image using the ColorPicker and I don&#39;t know how I can do that. I&#39;ve tried it along with the colorAdjust class but its giving me a different color on the tshirt than the one I&#39;ve chosen from the ColorPicker. \r\n\r\nI am using SceneBuilder, btw.\r\n\r\n\r\nGUI\r\n\r\n[![GUI][1]][1]\r\n\r\nT-shirt\r\n\r\n[![T-shirt][2]][2]\r\n\r\n    @FXML\r\n    private void changecolor(ActionEvent event) {      \r\n        Color mycolor=mycolorpicker.getValue();\r\n        label.setBackground(new Background(new BackgroundFill(mycolor,null,null)));\r\n        Image img=new Image(getClass().getResourceAsStream(&quot;tshirt7.PNG&quot;));\r\n        imageV.setImage(img);\r\n        ColorAdjust colorAdjust = new ColorAdjust();\r\n        colorAdjust.setHue((mycolor.getHue()/360));\r\n        colorAdjust.setSaturation(mycolor.getSaturation());\r\n        colorAdjust.setBrightness(mycolor.getBrightness()-1);\r\n       \r\n        imageV.setEffect(colorAdjust);\r\n    }\r\n\r\nI was expecting the same color on the image as the one I&#39;ve chosen from ColorPicker. But the color on the tshirt is not accurate.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUNnY.png\r\n  [2]: https://i.stack.imgur.com/UaZEl.png","title":"Use of ColorPicker on an image in JavaFX","body":"<p>I have an image in the imageview. What I want to do is add color to it. Basically it's like a layer of color on the image. So I am trying to add color to a t-shirt image using the ColorPicker and I don't know how I can do that. I've tried it along with the colorAdjust class but its giving me a different color on the tshirt than the one I've chosen from the ColorPicker.</p>\n<p>I am using SceneBuilder, btw.</p>\n<p>GUI</p>\n<p><a href=\"https://i.stack.imgur.com/yUNnY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUNnY.png\" alt=\"GUI\" /></a></p>\n<p>T-shirt</p>\n<p><a href=\"https://i.stack.imgur.com/UaZEl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UaZEl.png\" alt=\"T-shirt\" /></a></p>\n<pre><code>@FXML\nprivate void changecolor(ActionEvent event) {      \n    Color mycolor=mycolorpicker.getValue();\n    label.setBackground(new Background(new BackgroundFill(mycolor,null,null)));\n    Image img=new Image(getClass().getResourceAsStream(&quot;tshirt7.PNG&quot;));\n    imageV.setImage(img);\n    ColorAdjust colorAdjust = new ColorAdjust();\n    colorAdjust.setHue((mycolor.getHue()/360));\n    colorAdjust.setSaturation(mycolor.getSaturation());\n    colorAdjust.setBrightness(mycolor.getBrightness()-1);\n   \n    imageV.setEffect(colorAdjust);\n}\n</code></pre>\n<p>I was expecting the same color on the image as the one I've chosen from ColorPicker. But the color on the tshirt is not accurate.</p>\n"},{"tags":["java","neovim","nvim-lspconfig"],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688689168,"creation_date":1688689168,"question_id":76633222,"body_markdown":"I have set up neovim to have all of the features that I want from intelij and none of the ones I don&#39;t, or at least I thought so until a couple days ago I realized that when I reference a static variable from another file the lsp freaks out and it won&#39;t complete it for me.\r\nThis means that I have to manually import the variables which is kinda annoying.\r\n\r\n\r\nI know this comes off as a rant more than a question, but I really don&#39;t mean it that way.\r\n\r\nany help is appreciated and if none is given I understand\r\n\r\nI use jdtls as my lsp client","title":"Is there a way to automagically import static variables like when importing objects in neovim with jdtls and nvim-cmp","body":"<p>I have set up neovim to have all of the features that I want from intelij and none of the ones I don't, or at least I thought so until a couple days ago I realized that when I reference a static variable from another file the lsp freaks out and it won't complete it for me.\nThis means that I have to manually import the variables which is kinda annoying.</p>\n<p>I know this comes off as a rant more than a question, but I really don't mean it that way.</p>\n<p>any help is appreciated and if none is given I understand</p>\n<p>I use jdtls as my lsp client</p>\n"},{"tags":["java","itext","flying-saucer"],"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1684132153,"post_id":76245031,"comment_id":134466100,"body_markdown":"Security concern of what library exactly? Or security concern in general?","body":"Security concern of what library exactly? Or security concern in general?"},{"owner":{"account_id":2882066,"reputation":336,"user_id":2472716,"display_name":"Saurabh"},"score":0,"creation_date":1684260090,"post_id":76245031,"comment_id":134491413,"body_markdown":"I apologize. There was no security concern. Our deployment/app security team is pushing for that update. I have tried multiple things but have had no luck rendering the pdf image.","body":"I apologize. There was no security concern. Our deployment/app security team is pushing for that update. I have tried multiple things but have had no luck rendering the pdf image."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1684305023,"post_id":76245031,"comment_id":134496884,"body_markdown":"Version 9.1.22 is still using an old version of openPDF. Try to exclude this version and use the latest one. `&lt;exclusion&gt;\n    &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\n    &lt;artifactId&gt;openpdf&lt;/artifactId&gt;    &lt;/exclusion&gt;` and then import the latest one\n`&lt;dependency&gt;\n    &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\n    &lt;artifactId&gt;openpdf&lt;/artifactId&gt;\n    &lt;version&gt;1.3.30&lt;/version&gt;\n&lt;/dependency&gt;` And then try again...","body":"Version 9.1.22 is still using an old version of openPDF. Try to exclude this version and use the latest one. <code>&lt;exclusion&gt;     &lt;groupId&gt;com.github.librepdf&lt;&#47;groupId&gt;     &lt;artifactId&gt;openpdf&lt;&#47;artifactId&gt;    &lt;&#47;exclusion&gt;</code> and then import the latest one <code>&lt;dependency&gt;     &lt;groupId&gt;com.github.librepdf&lt;&#47;groupId&gt;     &lt;artifactId&gt;openpdf&lt;&#47;artifactId&gt;     &lt;version&gt;1.3.30&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code> And then try again..."},{"owner":{"account_id":2882066,"reputation":336,"user_id":2472716,"display_name":"Saurabh"},"score":0,"creation_date":1684338321,"post_id":76245031,"comment_id":134504668,"body_markdown":"@Lonzak, I updated my pom.xml on my thread based on your suggestion. Does that look correct?","body":"@Lonzak, I updated my pom.xml on my thread based on your suggestion. Does that look correct?"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1684734455,"post_id":76245031,"comment_id":134554343,"body_markdown":"Yes it looks correct. To be really sure check you final build for those dependencies: There should be only version 1.3.30 in there but not version 1.3.11. When that&#39;s the case then try again...","body":"Yes it looks correct. To be really sure check you final build for those dependencies: There should be only version 1.3.30 in there but not version 1.3.11. When that&#39;s the case then try again..."},{"owner":{"account_id":2882066,"reputation":336,"user_id":2472716,"display_name":"Saurabh"},"score":0,"creation_date":1688688351,"post_id":76245031,"comment_id":135111122,"body_markdown":"Font &#39;STSong-Light,BoldItalic&#39; with &#39;UniGB-UCS2-H&#39; is not recognized. I started receiving this error now. I&#39;ve added the error trace to my original message @lonzak","body":"Font &#39;STSong-Light,BoldItalic&#39; with &#39;UniGB-UCS2-H&#39; is not recognized. I started receiving this error now. I&#39;ve added the error trace to my original message @lonzak"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1690269717,"post_id":76245031,"comment_id":135325806,"body_markdown":"You have to install the missing font. Check out this [post](https://stackoverflow.com/questions/73382606/pdfbox-how-to-solve-font-stsong-light-problem-when-converting-pdf-to-image)","body":"You have to install the missing font. Check out this <a href=\"https://stackoverflow.com/questions/73382606/pdfbox-how-to-solve-font-stsong-light-problem-when-converting-pdf-to-image\">post</a>"}],"owner":{"account_id":2882066,"reputation":336,"user_id":2472716,"display_name":"Saurabh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688688533,"creation_date":1684014786,"question_id":76245031,"body_markdown":"We recently upgraded flying-saucer-itext from 9.1.15 to 9.15.22, and the images are no longer rendering. We are using Docusign 3.23 SDK to fetch the signature images and try to render those in our app.\r\n\r\nThis is some part of the code.\r\n\r\npom.xml is\r\n\r\n```.xml\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\r\n      &lt;version&gt;9.1.22&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;openpdf&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;     \r\n      &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;     \r\n      &lt;artifactId&gt;openpdf&lt;/artifactId&gt;     \r\n      &lt;version&gt;1.3.30&lt;/version&gt; \r\n&lt;/dependency&gt;\r\n.\r\n.\r\n.\r\n &lt;docusign.sdk.version&gt;3.23.0&lt;/docusign.sdk.version&gt;\r\n\r\n```\r\nThe code logic is (truncated for privacy concerns)\r\n\r\n```.java\r\nimport org.stringtemplate.v4.DateRenderer;\r\nimport org.stringtemplate.v4.ST;\r\nimport org.stringtemplate.v4.STRawGroupDir;\r\nimport org.stringtemplate.v4.StringRenderer;\r\nimport org.xhtmlrenderer.pdf.ITextRenderer;\r\n.\r\n.\r\n.\r\nsignatureImageStringEncoded = Base64.getEncoder().encodeToString(signatureImage);\r\n.\r\n.\r\n```\r\n\r\nand rendering this in a .st (String template ST4) file \r\n\r\n```.html\r\n &lt;img src=&quot;data:image/gif;base64, signatureImageStringEncoded&quot; alt=&quot;Signature&quot; width=&quot;200&quot; height=&quot;75&quot;/&gt;\r\n```\r\n\r\nI went back to the 9.1.15 package, and it is rendering the image as expected, but our deployment team is pushing to update it to 9.1.22.\r\n\r\nI tried referring [to this page](https://stackoverflow.com/questions/11477065/using-flying-saucer-to-render-images-to-pdf-in-memory) but no luck.\r\n\r\n\r\n**Update on 7/6/2023.**\r\nI&#39;m encountering an error in the section of the code that handles creating PDF files.\r\n```\r\nError:  \r\njava.lang.RuntimeException: Font &#39;STSong-Light,BoldItalic&#39; with &#39;UniGB-UCS2-H&#39; is not recognized.\r\n\tat org.xhtmlrenderer.pdf.ITextFontResolver.createInitialFontMap(ITextFontResolver.java:469)\r\n\tat org.xhtmlrenderer.pdf.ITextFontResolver.&lt;init&gt;(ITextFontResolver.java:40)\r\n\tat org.xhtmlrenderer.pdf.ITextRenderer.&lt;init&gt;(ITextRenderer.java:117)\r\n\tat org.xhtmlrenderer.pdf.ITextRenderer.&lt;init&gt;(ITextRenderer.java:102)\r\n\tat com.oncor.corp.pete.api.services.pdf.PDFService.createPDFFromTemplate(PDFService.java:49)\r\n```","title":"flying saucer itext 9.1.22 not rendering image in the pdf","body":"<p>We recently upgraded flying-saucer-itext from 9.1.15 to 9.15.22, and the images are no longer rendering. We are using Docusign 3.23 SDK to fetch the signature images and try to render those in our app.</p>\n<p>This is some part of the code.</p>\n<p>pom.xml is</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n      &lt;artifactId&gt;flying-saucer-pdf-itext5&lt;/artifactId&gt;\n      &lt;version&gt;9.1.22&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n          &lt;artifactId&gt;bcprov-jdk14&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;\n          &lt;artifactId&gt;openpdf&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;     \n      &lt;groupId&gt;com.github.librepdf&lt;/groupId&gt;     \n      &lt;artifactId&gt;openpdf&lt;/artifactId&gt;     \n      &lt;version&gt;1.3.30&lt;/version&gt; \n&lt;/dependency&gt;\n.\n.\n.\n &lt;docusign.sdk.version&gt;3.23.0&lt;/docusign.sdk.version&gt;\n\n</code></pre>\n<p>The code logic is (truncated for privacy concerns)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.stringtemplate.v4.DateRenderer;\nimport org.stringtemplate.v4.ST;\nimport org.stringtemplate.v4.STRawGroupDir;\nimport org.stringtemplate.v4.StringRenderer;\nimport org.xhtmlrenderer.pdf.ITextRenderer;\n.\n.\n.\nsignatureImageStringEncoded = Base64.getEncoder().encodeToString(signatureImage);\n.\n.\n</code></pre>\n<p>and rendering this in a .st (String template ST4) file</p>\n<pre><code> &lt;img src=&quot;data:image/gif;base64, signatureImageStringEncoded&quot; alt=&quot;Signature&quot; width=&quot;200&quot; height=&quot;75&quot;/&gt;\n</code></pre>\n<p>I went back to the 9.1.15 package, and it is rendering the image as expected, but our deployment team is pushing to update it to 9.1.22.</p>\n<p>I tried referring <a href=\"https://stackoverflow.com/questions/11477065/using-flying-saucer-to-render-images-to-pdf-in-memory\">to this page</a> but no luck.</p>\n<p><strong>Update on 7/6/2023.</strong>\nI'm encountering an error in the section of the code that handles creating PDF files.</p>\n<pre><code>Error:  \njava.lang.RuntimeException: Font 'STSong-Light,BoldItalic' with 'UniGB-UCS2-H' is not recognized.\n    at org.xhtmlrenderer.pdf.ITextFontResolver.createInitialFontMap(ITextFontResolver.java:469)\n    at org.xhtmlrenderer.pdf.ITextFontResolver.&lt;init&gt;(ITextFontResolver.java:40)\n    at org.xhtmlrenderer.pdf.ITextRenderer.&lt;init&gt;(ITextRenderer.java:117)\n    at org.xhtmlrenderer.pdf.ITextRenderer.&lt;init&gt;(ITextRenderer.java:102)\n    at com.oncor.corp.pete.api.services.pdf.PDFService.createPDFFromTemplate(PDFService.java:49)\n</code></pre>\n"},{"tags":["java","docker","liquibase","java-17"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688687845,"post_id":76633133,"comment_id":135111081,"body_markdown":"Which version of liquibase are you using?","body":"Which version of liquibase are you using?"},{"owner":{"account_id":28901348,"reputation":1,"user_id":22136226,"display_name":"hhss"},"score":0,"creation_date":1688688025,"post_id":76633133,"comment_id":135111102,"body_markdown":"@tgdavies version 4.3.5","body":"@tgdavies version 4.3.5"}],"owner":{"account_id":28901348,"reputation":1,"user_id":22136226,"display_name":"hhss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688687088,"creation_date":1688687088,"question_id":76633133,"body_markdown":"I am encountering an error while running Liquibase with the following message: &quot;Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml&quot;. This happened after I changed my base image from java8 to java17.\r\nerror:\r\n\r\n```\r\n[2023-07-06T20:58:47.482Z] Unexpected error running Liquibase: Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml\r\n\r\n[2023-07-06T20:58:47.482Z] For more information, please use the --logLevel flag\r\n\r\n[2023-07-06T20:58:47.482Z] [2023-07-06 20:58:47] SEVERE [liquibase.integration] Unexpected error running Liquibase: Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml\r\n\r\n[2023-07-06T20:58:47.482Z] liquibase.exception.UnknownChangelogFormatException: Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml\r\n```\r\n\r\n\r\n```\r\n# args:\r\n#   change_log_file [required]\r\n#   extra args (eg. JVM args) [optional]\r\nfunction liquibase {\r\n    java \\\r\n        -Dliquibase.scan.packages=${LIQUIBASE_PACKAGES_SCAN} \\\r\n        $2 \\\r\n        -jar ${LIQUIBASE_JAR} \\\r\n        --url=${URL} \\\r\n        --username=${USERNAME} \\\r\n        --password=${PASSWORD} \\\r\n        --driver=${DRIVER} \\\r\n        --classpath=${DRIVER_JAR}:${LIQUIBASE_SESSION_LOCK_JAR} \\\r\n        --changeLogFile=$1 \\\r\n        --logLevel=${LOG_LEVEL} \\\r\n        update\r\n    return $?\r\n}\r\n```\r\n\r\n```\r\n  echo &quot;INFO: Running the auth-server specific upgrade...&quot;\r\n    liquibase &quot;db-upgrade/liquibase/auth-server/db.changelog-master.yaml&quot;\r\n    AUTH_SERVER_STATUS=$?\r\n    if [[ &quot;${AUTH_SERVER_STATUS}&quot; == 0 ]]; then\r\n        echo &quot;INFO: Finished running the auth-server specific upgrade.&quot;\r\n    else\r\n        echo &quot;ERROR: Running the auth-server liquibase scripts failed, see above for details; exiting&quot;\r\n        exit 4\r\n```\r\n\r\nAnother changelog can run successfully, but it is a `.xml` file\r\n` liquibase &quot;db-upgrade/liquibase/portal-data/portaldb-changelogs/portaldb-master-changelog.xml&quot; &quot;-Dapim_tenant_id=${TSSG_TENANT_ID}&quot;\r\n    PORTAL_DATA_STATUS=$?`\r\n\r\n\r\n\r\nfix the liquibase.exception.UnknownChangelogFormatException","title":"liquibase.exception.UnknownChangelogFormatException: Cannot find parser that supports","body":"<p>I am encountering an error while running Liquibase with the following message: &quot;Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml&quot;. This happened after I changed my base image from java8 to java17.\nerror:</p>\n<pre><code>[2023-07-06T20:58:47.482Z] Unexpected error running Liquibase: Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml\n\n[2023-07-06T20:58:47.482Z] For more information, please use the --logLevel flag\n\n[2023-07-06T20:58:47.482Z] [2023-07-06 20:58:47] SEVERE [liquibase.integration] Unexpected error running Liquibase: Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml\n\n[2023-07-06T20:58:47.482Z] liquibase.exception.UnknownChangelogFormatException: Cannot find parser that supports db-upgrade/liquibase/auth-server/db.changelog-master.yaml\n</code></pre>\n<pre><code># args:\n#   change_log_file [required]\n#   extra args (eg. JVM args) [optional]\nfunction liquibase {\n    java \\\n        -Dliquibase.scan.packages=${LIQUIBASE_PACKAGES_SCAN} \\\n        $2 \\\n        -jar ${LIQUIBASE_JAR} \\\n        --url=${URL} \\\n        --username=${USERNAME} \\\n        --password=${PASSWORD} \\\n        --driver=${DRIVER} \\\n        --classpath=${DRIVER_JAR}:${LIQUIBASE_SESSION_LOCK_JAR} \\\n        --changeLogFile=$1 \\\n        --logLevel=${LOG_LEVEL} \\\n        update\n    return $?\n}\n</code></pre>\n<pre><code>  echo &quot;INFO: Running the auth-server specific upgrade...&quot;\n    liquibase &quot;db-upgrade/liquibase/auth-server/db.changelog-master.yaml&quot;\n    AUTH_SERVER_STATUS=$?\n    if [[ &quot;${AUTH_SERVER_STATUS}&quot; == 0 ]]; then\n        echo &quot;INFO: Finished running the auth-server specific upgrade.&quot;\n    else\n        echo &quot;ERROR: Running the auth-server liquibase scripts failed, see above for details; exiting&quot;\n        exit 4\n</code></pre>\n<p>Another changelog can run successfully, but it is a <code>.xml</code> file\n<code> liquibase &quot;db-upgrade/liquibase/portal-data/portaldb-changelogs/portaldb-master-changelog.xml&quot; &quot;-Dapim_tenant_id=${TSSG_TENANT_ID}&quot; PORTAL_DATA_STATUS=$?</code></p>\n<p>fix the liquibase.exception.UnknownChangelogFormatException</p>\n"},{"tags":["java","image","javafx","garbage-collection","render"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1688662877,"post_id":76629736,"comment_id":135107422,"body_markdown":"Do not busy wait on the JavaFX application thread. Load images in the background and notify observers when ready.","body":"Do not busy wait on the JavaFX application thread. Load images in the background and notify observers when ready."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688666652,"post_id":76629736,"comment_id":135107994,"body_markdown":"@trashgod how would you do that?  The [Image constructors](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.io.InputStream)) that take an InputStream as a parameter, don&#39;t have a backgroundLoading option.","body":"@trashgod how would you do that?  The <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.io.InputStream)\" rel=\"nofollow noreferrer\">Image constructors</a> that take an InputStream as a parameter, don&#39;t have a backgroundLoading option."},{"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"score":0,"creation_date":1688673827,"post_id":76629736,"comment_id":135109324,"body_markdown":"@trashgod can you give me a example code, im using javafx 8 and there is no backgroundloading option","body":"@trashgod can you give me a example code, im using javafx 8 and there is no backgroundloading option"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1688679216,"post_id":76629736,"comment_id":135110186,"body_markdown":"Depending on the use, I&#39;d look at [`Task`](https://stackoverflow.com/search?q=%5Bjavafx%5D+Image+Task) or [`Service`](https://stackoverflow.com/search?q=%5Bjavafx%5D+Image+Service) for `Image`.","body":"Depending on the use, I&#39;d look at <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+Image+Task\"><code>Task</code></a> or <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+Image+Service\"><code>Service</code></a> for <code>Image</code>."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688685736,"creation_date":1688681204,"answer_id":76632784,"question_id":76629736,"body_markdown":"I don&#39;t have a way to reproduce your exact issue, and the info in this answer may not solve your issue, but perhaps it will help.\r\n\r\n**General Advice**\r\n\r\nWhat you don&#39;t want to do is write some busy loop that:\r\n\r\n * consumes the JavaFX thread and freezes the application. \r\n * rapidly gobbles up huge amounts of resource memory without allowing the memory management system to appropriately free up stale memory.\r\n * floods the JavaFX runLater queue with more runnables than the system can reasonably process.\r\n * corrupts memory by accessing it on multiple threads.\r\n\r\nIf you were repetitively loading the same images, you would want to cache the loaded images [(there is an example cache implementation in this answer)][1], so you don&#39;t need to load them again.  You also want to appropriately size the images in the image constructor if you don&#39;t need the full image resolution in your rendered images.\r\n\r\nAs advised by Trashgod in the comments, it is usually a good idea to load Images in the background.\r\n\r\nIf loading from a URL, you can [load (and size) images in the background via the appropriate image constructor][2].  You don&#39;t need to multithread with a task or service if you do that.  You can [listen to the progress property][3] to see how the loading is progressing if you need to know that.  \r\n\r\nYou can [periodically][4] load new images using a Timeline or PauseTransition, loading them in the background to ensure that the main JavaFX thread is not impacted.\r\n\r\n**Example**\r\n\r\nThis example uses a Task and ScheduledService to load images periodically in a background thread.\r\n\r\nThis is a Task that loads an image from a byte array in the background.\r\n\r\nThis is only provided because you are not loading from a URL, but from a ByteArrayInputStream for which there is no background loading constructor in the JavaFX 20 Image API.\r\n\r\n    import javafx.concurrent.Task;\r\n    import javafx.scene.image.Image;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    \r\n    class ImageLoadingTask extends Task&lt;Image&gt; {\r\n        private final byte[] imageBytes;\r\n    \r\n        public ImageLoadingTask(byte[] imageBytes) {\r\n            this.imageBytes = imageBytes;\r\n        }\r\n    \r\n        @Override\r\n        protected Image call() throws Exception {\r\n            Image image = new Image(\r\n                    new ByteArrayInputStream(\r\n                            imageBytes\r\n                    )\r\n            );\r\n    \r\n            if (image.isError()) {\r\n                throw image.getException();\r\n            }\r\n    \r\n            return image;\r\n        }\r\n    }\r\n\r\nYou say you are loading the images in a loop.  I&#39;m not exactly sure why you use a loop.  But I guess you are trying to load images periodically.  To do that, for the task defined above, you can use a ScheduledService.\r\n\r\nI am not sure where and how you get the bytes for your images.  So for this example, I just pass in all of the image bytes in a preloaded List for simplicity.  For an actual application implementation with a dynamic source of images, you wouldn&#39;t want to do that.\r\n\r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.concurrent.ScheduledService;\r\n    import javafx.concurrent.Task;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.List;\r\n    \r\n    class ImageLoadingService extends ScheduledService&lt;Image&gt; {\r\n        private static final Duration SHOW_IMAGE_PERIOD = Duration.seconds(2);\r\n        private final List&lt;byte[]&gt; imageByteList;\r\n        private int nextImageIdx = 0;\r\n    \r\n        public ImageLoadingService(\r\n                ImageView imageView,\r\n                List&lt;byte[]&gt; imageByteList\r\n        ) {\r\n            this.imageByteList = imageByteList;\r\n    \r\n            setPeriod(SHOW_IMAGE_PERIOD);\r\n            setRestartOnFailure(false);\r\n    \r\n            configureToLoadNextImage();\r\n    \r\n            valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if (newValue != null &amp;&amp; !newValue.isError()) {\r\n                    imageView.setImage(\r\n                            getValue()\r\n                    );\r\n    \r\n                    configureToLoadNextImage();\r\n                }\r\n            });\r\n    \r\n            exceptionProperty().addListener((observable, oldException, imageLoadingException) -&gt; {\r\n                if (imageLoadingException != null) {\r\n                    imageLoadingException.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private final ObjectProperty&lt;byte[]&gt; imageBytes = new SimpleObjectProperty&lt;&gt;(\r\n                this,\r\n                &quot;imageBytes&quot;\r\n        );\r\n    \r\n        public final void setImageBytes(byte[] value) {\r\n            imageBytes.set(value);\r\n        }\r\n    \r\n        public final byte[] getImageBytes() {\r\n            return imageBytes.get();\r\n        }\r\n    \r\n        public final ObjectProperty&lt;byte[]&gt; imageBytesProperty() {\r\n            return imageBytes;\r\n        }\r\n    \r\n        @Override\r\n        protected Task&lt;Image&gt; createTask() {\r\n            return new ImageLoadingTask(\r\n                    getImageBytes()\r\n            );\r\n        }\r\n    \r\n        private void configureToLoadNextImage() {\r\n            setImageBytes(imageByteList.get(nextImageIdx));\r\n            nextImageIdx = (nextImageIdx + 1) % imageByteList.size();\r\n        }\r\n    }\r\n\r\nSample app which demonstrates the use of the service and task.  It will periodically load images in the background from byte arrays and display them in an ImageView, to create a slideshow.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    public class BackgroundImageLoader extends Application {\r\n        private static final int IMAGE_SIZE = 96;\r\n        private final List&lt;byte[]&gt; monsterImages = MonsterImageCreator.createMonsterImageBytes();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            ImageView imageView = new ImageView();\r\n    \r\n            ImageLoadingService imageLoadingService = new ImageLoadingService(\r\n                    imageView,\r\n                    monsterImages\r\n            );\r\n            imageLoadingService.start();\r\n    \r\n            StackPane layout = new StackPane(imageView);\r\n            layout.setPrefSize(IMAGE_SIZE, IMAGE_SIZE);\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nUtility class to create some test data from image resources.\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    class MonsterImageCreator {\r\n        private enum Monster {\r\n            Medusa,\r\n            Dragon,\r\n            Treant,\r\n            Unicorn\r\n        }\r\n    \r\n        public static List&lt;byte[]&gt; createMonsterImageBytes() {\r\n            List&lt;byte[]&gt; imageBytes = new ArrayList&lt;&gt;(\r\n                    Monster.values().length\r\n            );\r\n    \r\n            for (Monster monster : Monster.values()) {\r\n                try (InputStream inputStream = Objects.requireNonNull(\r\n                        MonsterImageCreator.class.getResource(\r\n                                monster + &quot;-icon.png&quot;\r\n                        )\r\n                ).openStream()) {\r\n                    byte[] bytes = inputStream.readAllBytes();\r\n    \r\n                    imageBytes.add(\r\n                            bytes\r\n                    );\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n    \r\n            return imageBytes;\r\n        }\r\n    }\r\n\r\nThe images used here are provided in this answer:\r\n\r\n * https://stackoverflow.com/questions/72050368/javafx-combobox-with-custom-cell-factory-buggy-rendering/72050915#72050915\r\n\r\nThe images should be placed in a resource directory matching the package you place the MonsterImageCreator in.\r\n\r\n**Some additional points**\r\n\r\n&gt; I have even increased the memory\r\n\r\nYou can&#39;t really do that.  The Direct3D textures are native resources of the 3D graphic system used by your JavaFX implementation, you won&#39;t have any control over how the memory is used.  The memory used can be texture memory in the graphic card video ram, not memory associated with the Java heap.\r\n\r\nWhat you are doing is blowing up that video memory space in some way.  How I don&#39;t know.  \r\n\r\n - One way to do it is to load textures that exceed the max size allowed by the graphic device (typically something 4K x 4K pixels or 8K x 8K pixels).\r\n - Another way to do it is to load lots of textures into memory that exceeds the total texture memory of the graphics card (which will vary by graphics card, but is typically multiple gigabytes of compressed texture memory space).\r\n - You can also cause corruption of the texture memory space by incorrectly threaded code causing [race conditions][5].\r\n - Maybe you are running a busy loop that just loads massive amounts of textures into the system without giving the JavaFX texture manager time to appropriately release obsolete textures.\r\n\r\n&gt; What could be causing the growing pool\r\n\r\nAllocating new graphics textures is a frequent operation in a UI application. It is normal that the texture memory pool would change in size dynamically.  Textures are used widely, not just for your images, but also for the rendering engine (both in 2D and 3D mode).  \r\n\r\nGenerally, you don&#39;t really have to worry about the management of texture memory resources as the JavaFX implementation will take care of that work for you, in a similar way that you don&#39;t need to worry much about memory management in a Java application.  \r\n\r\nThe only things you really need to worry about are the standard things that you have to consider in managing memory resources in Java.  Those are things like:\r\n \r\n * Ensuring you don&#39;t have multiple threads corrupt memory.\r\n * Not creating very large objects which will exceed the available memory size.\r\n * Not holding onto object references you no longer need, so that the garbage collector (or JavaFX&#39;s internal manager of texture memory resources) can free those resources as it wishes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72821525/adding-an-image-into-a-javafx-tableview-column/72822740#72822740\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String,double,double,boolean,boolean,boolean)\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#progressProperty()\r\n  [4]: https://stackoverflow.com/a/60685975/1155209\r\n  [5]: https://en.wikipedia.org/wiki/Race_condition","title":"JavaFX exception on setImage in a loop problem","body":"<p>I don't have a way to reproduce your exact issue, and the info in this answer may not solve your issue, but perhaps it will help.</p>\n<p><strong>General Advice</strong></p>\n<p>What you don't want to do is write some busy loop that:</p>\n<ul>\n<li>consumes the JavaFX thread and freezes the application.</li>\n<li>rapidly gobbles up huge amounts of resource memory without allowing the memory management system to appropriately free up stale memory.</li>\n<li>floods the JavaFX runLater queue with more runnables than the system can reasonably process.</li>\n<li>corrupts memory by accessing it on multiple threads.</li>\n</ul>\n<p>If you were repetitively loading the same images, you would want to cache the loaded images <a href=\"https://stackoverflow.com/questions/72821525/adding-an-image-into-a-javafx-tableview-column/72822740#72822740\">(there is an example cache implementation in this answer)</a>, so you don't need to load them again.  You also want to appropriately size the images in the image constructor if you don't need the full image resolution in your rendered images.</p>\n<p>As advised by Trashgod in the comments, it is usually a good idea to load Images in the background.</p>\n<p>If loading from a URL, you can <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String,double,double,boolean,boolean,boolean)\" rel=\"nofollow noreferrer\">load (and size) images in the background via the appropriate image constructor</a>.  You don't need to multithread with a task or service if you do that.  You can <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html#progressProperty()\" rel=\"nofollow noreferrer\">listen to the progress property</a> to see how the loading is progressing if you need to know that.</p>\n<p>You can <a href=\"https://stackoverflow.com/a/60685975/1155209\">periodically</a> load new images using a Timeline or PauseTransition, loading them in the background to ensure that the main JavaFX thread is not impacted.</p>\n<p><strong>Example</strong></p>\n<p>This example uses a Task and ScheduledService to load images periodically in a background thread.</p>\n<p>This is a Task that loads an image from a byte array in the background.</p>\n<p>This is only provided because you are not loading from a URL, but from a ByteArrayInputStream for which there is no background loading constructor in the JavaFX 20 Image API.</p>\n<pre><code>import javafx.concurrent.Task;\nimport javafx.scene.image.Image;\n\nimport java.io.ByteArrayInputStream;\n\nclass ImageLoadingTask extends Task&lt;Image&gt; {\n    private final byte[] imageBytes;\n\n    public ImageLoadingTask(byte[] imageBytes) {\n        this.imageBytes = imageBytes;\n    }\n\n    @Override\n    protected Image call() throws Exception {\n        Image image = new Image(\n                new ByteArrayInputStream(\n                        imageBytes\n                )\n        );\n\n        if (image.isError()) {\n            throw image.getException();\n        }\n\n        return image;\n    }\n}\n</code></pre>\n<p>You say you are loading the images in a loop.  I'm not exactly sure why you use a loop.  But I guess you are trying to load images periodically.  To do that, for the task defined above, you can use a ScheduledService.</p>\n<p>I am not sure where and how you get the bytes for your images.  So for this example, I just pass in all of the image bytes in a preloaded List for simplicity.  For an actual application implementation with a dynamic source of images, you wouldn't want to do that.</p>\n<pre><code>import javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.concurrent.ScheduledService;\nimport javafx.concurrent.Task;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.util.Duration;\n\nimport java.util.List;\n\nclass ImageLoadingService extends ScheduledService&lt;Image&gt; {\n    private static final Duration SHOW_IMAGE_PERIOD = Duration.seconds(2);\n    private final List&lt;byte[]&gt; imageByteList;\n    private int nextImageIdx = 0;\n\n    public ImageLoadingService(\n            ImageView imageView,\n            List&lt;byte[]&gt; imageByteList\n    ) {\n        this.imageByteList = imageByteList;\n\n        setPeriod(SHOW_IMAGE_PERIOD);\n        setRestartOnFailure(false);\n\n        configureToLoadNextImage();\n\n        valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue != null &amp;&amp; !newValue.isError()) {\n                imageView.setImage(\n                        getValue()\n                );\n\n                configureToLoadNextImage();\n            }\n        });\n\n        exceptionProperty().addListener((observable, oldException, imageLoadingException) -&gt; {\n            if (imageLoadingException != null) {\n                imageLoadingException.printStackTrace();\n            }\n        });\n    }\n\n    private final ObjectProperty&lt;byte[]&gt; imageBytes = new SimpleObjectProperty&lt;&gt;(\n            this,\n            &quot;imageBytes&quot;\n    );\n\n    public final void setImageBytes(byte[] value) {\n        imageBytes.set(value);\n    }\n\n    public final byte[] getImageBytes() {\n        return imageBytes.get();\n    }\n\n    public final ObjectProperty&lt;byte[]&gt; imageBytesProperty() {\n        return imageBytes;\n    }\n\n    @Override\n    protected Task&lt;Image&gt; createTask() {\n        return new ImageLoadingTask(\n                getImageBytes()\n        );\n    }\n\n    private void configureToLoadNextImage() {\n        setImageBytes(imageByteList.get(nextImageIdx));\n        nextImageIdx = (nextImageIdx + 1) % imageByteList.size();\n    }\n}\n</code></pre>\n<p>Sample app which demonstrates the use of the service and task.  It will periodically load images in the background from byte arrays and display them in an ImageView, to create a slideshow.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class BackgroundImageLoader extends Application {\n    private static final int IMAGE_SIZE = 96;\n    private final List&lt;byte[]&gt; monsterImages = MonsterImageCreator.createMonsterImageBytes();\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        ImageView imageView = new ImageView();\n\n        ImageLoadingService imageLoadingService = new ImageLoadingService(\n                imageView,\n                monsterImages\n        );\n        imageLoadingService.start();\n\n        StackPane layout = new StackPane(imageView);\n        layout.setPrefSize(IMAGE_SIZE, IMAGE_SIZE);\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n}\n</code></pre>\n<p>Utility class to create some test data from image resources.</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\nclass MonsterImageCreator {\n    private enum Monster {\n        Medusa,\n        Dragon,\n        Treant,\n        Unicorn\n    }\n\n    public static List&lt;byte[]&gt; createMonsterImageBytes() {\n        List&lt;byte[]&gt; imageBytes = new ArrayList&lt;&gt;(\n                Monster.values().length\n        );\n\n        for (Monster monster : Monster.values()) {\n            try (InputStream inputStream = Objects.requireNonNull(\n                    MonsterImageCreator.class.getResource(\n                            monster + &quot;-icon.png&quot;\n                    )\n            ).openStream()) {\n                byte[] bytes = inputStream.readAllBytes();\n\n                imageBytes.add(\n                        bytes\n                );\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        return imageBytes;\n    }\n}\n</code></pre>\n<p>The images used here are provided in this answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/72050368/javafx-combobox-with-custom-cell-factory-buggy-rendering/72050915#72050915\">JavaFX: ComboBox with custom cell factory - buggy rendering</a></li>\n</ul>\n<p>The images should be placed in a resource directory matching the package you place the MonsterImageCreator in.</p>\n<p><strong>Some additional points</strong></p>\n<blockquote>\n<p>I have even increased the memory</p>\n</blockquote>\n<p>You can't really do that.  The Direct3D textures are native resources of the 3D graphic system used by your JavaFX implementation, you won't have any control over how the memory is used.  The memory used can be texture memory in the graphic card video ram, not memory associated with the Java heap.</p>\n<p>What you are doing is blowing up that video memory space in some way.  How I don't know.</p>\n<ul>\n<li>One way to do it is to load textures that exceed the max size allowed by the graphic device (typically something 4K x 4K pixels or 8K x 8K pixels).</li>\n<li>Another way to do it is to load lots of textures into memory that exceeds the total texture memory of the graphics card (which will vary by graphics card, but is typically multiple gigabytes of compressed texture memory space).</li>\n<li>You can also cause corruption of the texture memory space by incorrectly threaded code causing <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race conditions</a>.</li>\n<li>Maybe you are running a busy loop that just loads massive amounts of textures into the system without giving the JavaFX texture manager time to appropriately release obsolete textures.</li>\n</ul>\n<blockquote>\n<p>What could be causing the growing pool</p>\n</blockquote>\n<p>Allocating new graphics textures is a frequent operation in a UI application. It is normal that the texture memory pool would change in size dynamically.  Textures are used widely, not just for your images, but also for the rendering engine (both in 2D and 3D mode).</p>\n<p>Generally, you don't really have to worry about the management of texture memory resources as the JavaFX implementation will take care of that work for you, in a similar way that you don't need to worry much about memory management in a Java application.</p>\n<p>The only things you really need to worry about are the standard things that you have to consider in managing memory resources in Java.  Those are things like:</p>\n<ul>\n<li>Ensuring you don't have multiple threads corrupt memory.</li>\n<li>Not creating very large objects which will exceed the available memory size.</li>\n<li>Not holding onto object references you no longer need, so that the garbage collector (or JavaFX's internal manager of texture memory resources) can free those resources as it wishes.</li>\n</ul>\n"}],"owner":{"account_id":22184938,"reputation":11,"user_id":16428000,"display_name":"Finn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688685736,"creation_date":1688652697,"question_id":76629736,"body_markdown":"I have a JavaFX program where I continuously set an image in an ImageView using the setImage(new Image(new ByteArrayInputStream(imageBytes))) method within a loop. This entire process is wrapped in Platform.runLater() to ensure UI thread safety.\r\n\r\nThe issue I&#39;m facing is that when I enable -Dprism.verbose=true, the console continuously prints the message &quot;Growing pool D3D Vram Pool target,&quot; followed by an increasing number. Eventually, it leads to a NullPointerException. Surprisingly, adding System.gc() after the setImage call resolves the issue, and the exceptions stop after a short while.\r\n\r\nI understand that calling System.gc() in a loop is not recommended for performance reasons, and the garbage collector should handle this automatically. However, without this explicit call, the growing pool and exceptions persist.\r\n\r\nI have also tried calling setImage(null) before setting the actual image to inform the garbage collector, but it didn&#39;t make any difference. I have even increased the memory, but the issue remains.\r\n\r\nIs this behavior normal? What could be causing the growing pool and the NullPointerException? Any suggestions on how to resolve this issue without relying on System.gc()?\r\n\r\n\r\n`(This code constantily grows D3D Vram Pool like :\r\nGrowing pool D3D Vram Pool target to 524.167.168\r\nGrowing pool D3D Vram Pool target to 524.167.168\r\nGrowing pool D3D Vram Pool target to 535.226.368..)`\r\n\r\nand after a few seconds im getting:\r\n\r\n`java.lang.NullPointerException\r\n\tat com.sun.prism.d3d.D3DTexture.getContext(D3DTexture.java:84)\r\n\tat com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:207)\r\n\tat com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:151)...`\r\n\r\n\r\n \r\n\r\n       this.packetImage.setImageByteStream(new ImageByteStream() {\r\n                    @Override\r\n                    public void stream(byte[] imageBytes) {\r\n                        Platform.runLater(() -&gt; {\r\n                            imageView.setImage(new Image(new ByteArrayInputStream(imageBytes)));\r\n      System.gc(); //&lt;- fixes the problem\r\n                        });\r\n                    }\r\n                });\r\n\r\n","title":"JavaFX exception on setImage in a loop problem","body":"<p>I have a JavaFX program where I continuously set an image in an ImageView using the setImage(new Image(new ByteArrayInputStream(imageBytes))) method within a loop. This entire process is wrapped in Platform.runLater() to ensure UI thread safety.</p>\n<p>The issue I'm facing is that when I enable -Dprism.verbose=true, the console continuously prints the message &quot;Growing pool D3D Vram Pool target,&quot; followed by an increasing number. Eventually, it leads to a NullPointerException. Surprisingly, adding System.gc() after the setImage call resolves the issue, and the exceptions stop after a short while.</p>\n<p>I understand that calling System.gc() in a loop is not recommended for performance reasons, and the garbage collector should handle this automatically. However, without this explicit call, the growing pool and exceptions persist.</p>\n<p>I have also tried calling setImage(null) before setting the actual image to inform the garbage collector, but it didn't make any difference. I have even increased the memory, but the issue remains.</p>\n<p>Is this behavior normal? What could be causing the growing pool and the NullPointerException? Any suggestions on how to resolve this issue without relying on System.gc()?</p>\n<p><code>(This code constantily grows D3D Vram Pool like : Growing pool D3D Vram Pool target to 524.167.168 Growing pool D3D Vram Pool target to 524.167.168 Growing pool D3D Vram Pool target to 535.226.368..)</code></p>\n<p>and after a few seconds im getting:</p>\n<p><code>java.lang.NullPointerException at com.sun.prism.d3d.D3DTexture.getContext(D3DTexture.java:84) at com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:207) at com.sun.prism.d3d.D3DTexture.update(D3DTexture.java:151)...</code></p>\n<pre><code>   this.packetImage.setImageByteStream(new ImageByteStream() {\n                @Override\n                public void stream(byte[] imageBytes) {\n                    Platform.runLater(() -&gt; {\n                        imageView.setImage(new Image(new ByteArrayInputStream(imageBytes)));\n  System.gc(); //&lt;- fixes the problem\n                    });\n                }\n            });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":5485292,"reputation":506,"user_id":4360280,"display_name":"SleepyTonic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688684972,"creation_date":1688684972,"answer_id":76633018,"question_id":61616638,"body_markdown":"Add a `WebExpressionVoter` into your AccessDecisionManger.\r\n\r\n`.authenticated()`, `.fullyAuthenticated()`, `.anonymous()` all create \r\n WebExpressionConfigAttribute objects.\r\n\r\n`AuthenticatedVoter` (IS_AUTHENTICATED_FULLY attribute) is used in Spring XML security configurations.\r\n\r\nSpring Security: v5.7.8","title":"AuthenticationVoters has not valid attribute. SpringSecurity","body":"<p>Add a <code>WebExpressionVoter</code> into your AccessDecisionManger.</p>\n<p><code>.authenticated()</code>, <code>.fullyAuthenticated()</code>, <code>.anonymous()</code> all create\nWebExpressionConfigAttribute objects.</p>\n<p><code>AuthenticatedVoter</code> (IS_AUTHENTICATED_FULLY attribute) is used in Spring XML security configurations.</p>\n<p>Spring Security: v5.7.8</p>\n"}],"owner":{"account_id":2611171,"reputation":1028,"user_id":2261243,"display_name":"Damien C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688684972,"creation_date":1588691980,"question_id":61616638,"body_markdown":"I work on Spring Boot 2.1. \r\n\r\nI want all my default endpoints allowed\r\n\r\n* either if they&#39;re rightly authenticated\r\n* either if they pass on [specific authentication][1] rules I&#39;ve implemented and named * hashSerialSecurityVoter*.\r\n\r\nMy Code :\r\n\r\n**SecurityConfig.java**\r\n\r\n```\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n  http.csrf()\r\n\t.disable().cors().and().exceptionHandling()\r\n\t/* [...] */\r\n  .anyRequest()\r\n    .authenticated();\r\n    .accessDecisionManager(playerResourceDecisionManager());\r\n}\r\n```\r\n\r\n```\r\n@Bean\r\npublic AccessDecisionManager playerResourceDecisionManager() {\r\n    List&lt;AccessDecisionVoter&lt;? extends Object&gt;&gt; decisionVoters = Arrays.asList(\r\n        new AuthenticatedVoter(),\r\n        hashSerialSecurityVoter\r\n    );\r\n    return new UnanimousBased(decisionVoters);\r\n}\r\n```\r\n\r\nIt goes effectivly through both Voters.   \r\nBut in AuthenticatedVoter, it does not run as I expected.\r\n\r\nEven if I&#39;m authenticated, it returns *ACCESS_ABSTAIN*  value.  \r\n\r\nWhen I debug it, I&#39;ve noticed that Manager does not provide any ConfigAttribute.  \r\nSo ```authenticatedVoter.supports()``` methods returns false..\r\n\r\nDo I miss something on accessDecisionManager declaration ?\r\n\r\nResults is that my main API client does not work anymore because all my requests are returned with 403.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61521644/spring-boot-specific-url-accessdecisionvoter","title":"AuthenticationVoters has not valid attribute. SpringSecurity","body":"<p>I work on Spring Boot 2.1. </p>\n\n<p>I want all my default endpoints allowed</p>\n\n<ul>\n<li>either if they're rightly authenticated</li>\n<li>either if they pass on <a href=\"https://stackoverflow.com/questions/61521644/spring-boot-specific-url-accessdecisionvoter\">specific authentication</a> rules I've implemented and named * hashSerialSecurityVoter*.</li>\n</ul>\n\n<p>My Code :</p>\n\n<p><strong>SecurityConfig.java</strong></p>\n\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n  http.csrf()\n    .disable().cors().and().exceptionHandling()\n    /* [...] */\n  .anyRequest()\n    .authenticated();\n    .accessDecisionManager(playerResourceDecisionManager());\n}\n</code></pre>\n\n<pre><code>@Bean\npublic AccessDecisionManager playerResourceDecisionManager() {\n    List&lt;AccessDecisionVoter&lt;? extends Object&gt;&gt; decisionVoters = Arrays.asList(\n        new AuthenticatedVoter(),\n        hashSerialSecurityVoter\n    );\n    return new UnanimousBased(decisionVoters);\n}\n</code></pre>\n\n<p>It goes effectivly through both Voters.<br>\nBut in AuthenticatedVoter, it does not run as I expected.</p>\n\n<p>Even if I'm authenticated, it returns <em>ACCESS_ABSTAIN</em>  value.  </p>\n\n<p>When I debug it, I've noticed that Manager does not provide any ConfigAttribute.<br>\nSo <code>authenticatedVoter.supports()</code> methods returns false..</p>\n\n<p>Do I miss something on accessDecisionManager declaration ?</p>\n\n<p>Results is that my main API client does not work anymore because all my requests are returned with 403.</p>\n"},{"tags":["java","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688684139,"creation_date":1688684139,"answer_id":76632981,"question_id":76632980,"body_markdown":"Turns out that what&#39;s happening here is that if there is no `Authentication` header passed, then the `serverWebExchange.getPrincipal()` in the web filter is an empty `Mono`.  If that&#39;s the case, the entire block gets skipped, which causes the `HTTP 200` response.\r\n\r\nSolution is to add this at the end:\r\n\r\n```\r\n.switchIfEmpty(Mono.defer(() -&gt; webFilterChain.filter(serverWebExchange)))\r\n```\r\n\r\nso that the rest of the filter chain continues.","title":"Spring Webflux Custom WebFilter Causes HTTP 200 response for all open endpoints","body":"<p>Turns out that what's happening here is that if there is no <code>Authentication</code> header passed, then the <code>serverWebExchange.getPrincipal()</code> in the web filter is an empty <code>Mono</code>.  If that's the case, the entire block gets skipped, which causes the <code>HTTP 200</code> response.</p>\n<p>Solution is to add this at the end:</p>\n<pre><code>.switchIfEmpty(Mono.defer(() -&gt; webFilterChain.filter(serverWebExchange)))\n</code></pre>\n<p>so that the rest of the filter chain continues.</p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688684139,"creation_date":1688684139,"question_id":76632980,"body_markdown":"I&#39;m developing a Spring Boot Webflux application that has a custom WebFilter that does just-in-time user creation based on the Principal object derived from the request.\r\n\r\nThe WebFilter works fine for endpoints that require authentication.  But for endpoints that don&#39;t need authentication, anything matching the pattern below returns HTTP 200 - even if the endpoint doesn&#39;t exist.  Also, the endpoint doesn&#39;t appear to be called.\r\n\r\nMy Security configuration:\r\n\r\n```\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(\r\n            ServerHttpSecurity http) {\r\n        return http.cors(cors -&gt; cors.configurationSource(swx -&gt; corsConfiguration()))\r\n                .csrf(ServerHttpSecurity.CsrfSpec::disable)\r\n                .securityMatcher(new NegatedServerWebExchangeMatcher(\r\n                        ServerWebExchangeMatchers.pathMatchers(&quot;/actuator/**&quot;)))\r\n                .authorizeExchange((authorize) -&gt; authorize\r\n                        .pathMatchers(&quot;/foo/**&quot;)\r\n                        .permitAll()\r\n                        .anyExchange()\r\n                        .authenticated()\r\n                )\r\n                .oauth2ResourceServer(ors -&gt; ors.jwt(jwt -&gt; {}))\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\nMy WebFilter: \r\n\r\n```\r\n@Component\r\npublic class JITUserFilter implements WebFilter {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(JITUserFilter.class);\r\n\r\n    private final UserService userService;\r\n\r\n    public JITUserFilter(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\r\n                             WebFilterChain webFilterChain) {\r\n        return serverWebExchange.getPrincipal().flatMap(p -&gt; {\r\n            Optional&lt;String&gt; email = Optional.empty();\r\n            if (p instanceof JwtAuthenticationToken) {\r\n                email = Optional.of(((JwtAuthenticationToken)p).getToken().getClaimAsString(&quot;https://my-app.example.com/email&quot;));\r\n            }\r\n            Optional&lt;User&gt; userOpt = userService.findUserByExternalId(p.getName());\r\n            if (userOpt.isEmpty()) {\r\n                logger.info(&quot;No existing user found; creating new with externalId {}&quot;, p.getName());\r\n                User user = new User();\r\n                user.setExternalId(p.getName());\r\n                user.setEmail(email.orElse(null));\r\n                userService.createUser(user);\r\n            }\r\n            return webFilterChain.filter(serverWebExchange);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nI have a POST endpoint at `/foo/bar` that I expect to log some messages and return a dummy response when it gets hit, but all I get when making a post to this endpoint is a 200 OK response.  Why?","title":"Spring Webflux Custom WebFilter Causes HTTP 200 response for all open endpoints","body":"<p>I'm developing a Spring Boot Webflux application that has a custom WebFilter that does just-in-time user creation based on the Principal object derived from the request.</p>\n<p>The WebFilter works fine for endpoints that require authentication.  But for endpoints that don't need authentication, anything matching the pattern below returns HTTP 200 - even if the endpoint doesn't exist.  Also, the endpoint doesn't appear to be called.</p>\n<p>My Security configuration:</p>\n<pre><code>    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(\n            ServerHttpSecurity http) {\n        return http.cors(cors -&gt; cors.configurationSource(swx -&gt; corsConfiguration()))\n                .csrf(ServerHttpSecurity.CsrfSpec::disable)\n                .securityMatcher(new NegatedServerWebExchangeMatcher(\n                        ServerWebExchangeMatchers.pathMatchers(&quot;/actuator/**&quot;)))\n                .authorizeExchange((authorize) -&gt; authorize\n                        .pathMatchers(&quot;/foo/**&quot;)\n                        .permitAll()\n                        .anyExchange()\n                        .authenticated()\n                )\n                .oauth2ResourceServer(ors -&gt; ors.jwt(jwt -&gt; {}))\n                .build();\n    }\n\n</code></pre>\n<p>My WebFilter:</p>\n<pre><code>@Component\npublic class JITUserFilter implements WebFilter {\n\n    private static final Logger logger = LoggerFactory.getLogger(JITUserFilter.class);\n\n    private final UserService userService;\n\n    public JITUserFilter(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\n                             WebFilterChain webFilterChain) {\n        return serverWebExchange.getPrincipal().flatMap(p -&gt; {\n            Optional&lt;String&gt; email = Optional.empty();\n            if (p instanceof JwtAuthenticationToken) {\n                email = Optional.of(((JwtAuthenticationToken)p).getToken().getClaimAsString(&quot;https://my-app.example.com/email&quot;));\n            }\n            Optional&lt;User&gt; userOpt = userService.findUserByExternalId(p.getName());\n            if (userOpt.isEmpty()) {\n                logger.info(&quot;No existing user found; creating new with externalId {}&quot;, p.getName());\n                User user = new User();\n                user.setExternalId(p.getName());\n                user.setEmail(email.orElse(null));\n                userService.createUser(user);\n            }\n            return webFilterChain.filter(serverWebExchange);\n        });\n    }\n}\n</code></pre>\n<p>I have a POST endpoint at <code>/foo/bar</code> that I expect to log some messages and return a dummy response when it gets hit, but all I get when making a post to this endpoint is a 200 OK response.  Why?</p>\n"},{"tags":["java","validation","javax"],"comments":[{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1527143013,"post_id":50502163,"comment_id":88016921,"body_markdown":"https://stackoverflow.com/questions/38224733/size-annotation-to-validate-a-field?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","body":"<a href=\"https://stackoverflow.com/questions/38224733/size-annotation-to-validate-a-field?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"size annotation to validate a field\">stackoverflow.com/questions/38224733/&hellip;</a>"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1527143026,"post_id":50502163,"comment_id":88016927,"body_markdown":"check above link","body":"check above link"}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mnh Quyt Nguyn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527143208,"creation_date":1527142904,"answer_id":50502304,"question_id":50502163,"body_markdown":"You need a custom `cross field validation` annotation.\r\n\r\nOne way is to annotate your custom class with `@YourCustomAnnotation`.\r\n\r\nIn `YourCustomAnnotationValidator` you have access to your value, hence you can implement your logic there:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @Constraint(validatedBy = DateValidator.class)\r\n    public @interface RangeCheck {\r\n    \r\n        String message();\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n    \r\n    public class RangeCheckValidtor implements ConstraintValidator&lt;RangeCheck, YourDto&gt; {\r\n       \r\n        @Override\r\n        public void initialize(RangeCheck date) {\r\n            // Nothing here\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(YourDto dto, ConstraintValidatorContext constraintValidatorContext) {\r\n            if (dto.getFrom() == null || dto.getTo() == null) {\r\n                return true;\r\n            }\r\n            return from &lt; to;\r\n        }\r\n    }\r\n\r\nThen mark your `YourDto` class with `@RangeCheck`:\r\n\r\n    @RangeCheck(message = &quot;your messgae&quot;)\r\n    public class YourDto {\r\n       // from\r\n       // to\r\n    }\r\n\r\nOr simply manually validate the relation of two fields.","title":"javax validation greater or less than from other property","body":"<p>You need a custom <code>cross field validation</code> annotation.</p>\n\n<p>One way is to annotate your custom class with <code>@YourCustomAnnotation</code>.</p>\n\n<p>In <code>YourCustomAnnotationValidator</code> you have access to your value, hence you can implement your logic there:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Constraint(validatedBy = DateValidator.class)\npublic @interface RangeCheck {\n\n    String message();\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n\npublic class RangeCheckValidtor implements ConstraintValidator&lt;RangeCheck, YourDto&gt; {\n\n    @Override\n    public void initialize(RangeCheck date) {\n        // Nothing here\n    }\n\n    @Override\n    public boolean isValid(YourDto dto, ConstraintValidatorContext constraintValidatorContext) {\n        if (dto.getFrom() == null || dto.getTo() == null) {\n            return true;\n        }\n        return from &lt; to;\n    }\n}\n</code></pre>\n\n<p>Then mark your <code>YourDto</code> class with <code>@RangeCheck</code>:</p>\n\n<pre><code>@RangeCheck(message = \"your messgae\")\npublic class YourDto {\n   // from\n   // to\n}\n</code></pre>\n\n<p>Or simply manually validate the relation of two fields.</p>\n"},{"tags":[],"owner":{"account_id":128922,"reputation":1,"user_id":2019850,"display_name":"Mustafa Bolat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688684016,"creation_date":1688684016,"answer_id":76632971,"question_id":50502163,"body_markdown":"For anyone who needs a more generic solution, validator can be implemented to compare two given property. Here is what I came up with : \r\n\r\n\r\n    @Target({ TYPE, ANNOTATION_TYPE })\r\n    @Retention(RUNTIME)\r\n    @Constraint(validatedBy = { CompareFieldsValidator.class })\r\n    public @interface CompareFields {\r\n    \r\n        String message() default &quot;{CompareFields.message}&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        String left();\r\n    \r\n        String right();\r\n        \r\n        int[] vals() default {0};\r\n    \r\n        @Target({ TYPE, ANNOTATION_TYPE })\r\n        @Retention(RUNTIME)\r\n        public @interface List {\r\n        \tCompareFields[] value();\r\n        }\r\n    }\r\n\r\n\r\n    public class CompareFieldsValidator implements ConstraintValidator&lt;CompareFields, Object&gt; {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\r\n    \r\n        private String left;\r\n        private String right;\r\n        private Set&lt;Integer&gt; vals;\r\n    \r\n        @Override\r\n        public void initialize(CompareFields constraintAnnotation) {\r\n            left = constraintAnnotation.left();\r\n            right = constraintAnnotation.right();\r\n            vals = Arrays.stream(constraintAnnotation.vals()).boxed().collect(Collectors.toSet());\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(Object value, ConstraintValidatorContext context) {\r\n            if (value == null)\r\n                return true;\r\n    \r\n            try {\r\n                Class&lt;?&gt; clazz = value.getClass();\r\n                //get left operand as comparable\r\n                Field leftField = ReflectionUtils.findField(clazz, left);\r\n                leftField.setAccessible(true);\r\n                Object leftObj = leftField.get(value);\r\n                Comparable&lt;Object&gt; leftComparable = (Comparable&lt;Object&gt;)leftObj;\r\n                //get right operand\r\n                Field rightField = ReflectionUtils.findField(clazz, right);\r\n                rightField.setAccessible(true);\r\n                Object rightObj = rightField.get(value);\r\n                \r\n                //null check : return true if both null\r\n                if(leftComparable == null) {\r\n                \tif(rightObj == null) {\r\n                \t\treturn true;\r\n                \t} else {\r\n                \t\tcontext.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\r\n                \t\t\t.addPropertyNode(left).addPropertyNode(right);\r\n                \t\treturn false;\r\n                \t}\r\n                }\r\n                \r\n                //return true if compareTo result in vals array\r\n                if(vals.contains(leftComparable.compareTo(rightObj))) {\r\n                \treturn true;\r\n                }else {\r\n                \tcontext.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\r\n        \t\t\t.addPropertyNode(left).addConstraintViolation();\r\n                \treturn false;\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Cannot validate one of two field in &#39;&quot; + value + &quot;&#39;!&quot;, e);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //Usage: selling price must be smallar than or equal to list price\r\n    @CompareFields(left = &quot;sellingPrice&quot;, right = &quot;listPrice&quot;, vals = {-1,0})\r\n    public class InventoryDto{\r\n    ...\r\n    }\r\n    //Usage: start time must be before finish time\r\n    @CompareFields(left = &quot;startTime&quot;, right = &quot;finishTime&quot;, vals = {-1})\r\n    public class GateLogDto{\r\n    ...\r\n    }\r\n\r\n","title":"javax validation greater or less than from other property","body":"<p>For anyone who needs a more generic solution, validator can be implemented to compare two given property. Here is what I came up with :</p>\n<pre><code>@Target({ TYPE, ANNOTATION_TYPE })\n@Retention(RUNTIME)\n@Constraint(validatedBy = { CompareFieldsValidator.class })\npublic @interface CompareFields {\n\n    String message() default &quot;{CompareFields.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    String left();\n\n    String right();\n    \n    int[] vals() default {0};\n\n    @Target({ TYPE, ANNOTATION_TYPE })\n    @Retention(RUNTIME)\n    public @interface List {\n        CompareFields[] value();\n    }\n}\n\n\npublic class CompareFieldsValidator implements ConstraintValidator&lt;CompareFields, Object&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(FieldsEqualityValidator.class);\n\n    private String left;\n    private String right;\n    private Set&lt;Integer&gt; vals;\n\n    @Override\n    public void initialize(CompareFields constraintAnnotation) {\n        left = constraintAnnotation.left();\n        right = constraintAnnotation.right();\n        vals = Arrays.stream(constraintAnnotation.vals()).boxed().collect(Collectors.toSet());\n    }\n\n    @Override\n    public boolean isValid(Object value, ConstraintValidatorContext context) {\n        if (value == null)\n            return true;\n\n        try {\n            Class&lt;?&gt; clazz = value.getClass();\n            //get left operand as comparable\n            Field leftField = ReflectionUtils.findField(clazz, left);\n            leftField.setAccessible(true);\n            Object leftObj = leftField.get(value);\n            Comparable&lt;Object&gt; leftComparable = (Comparable&lt;Object&gt;)leftObj;\n            //get right operand\n            Field rightField = ReflectionUtils.findField(clazz, right);\n            rightField.setAccessible(true);\n            Object rightObj = rightField.get(value);\n            \n            //null check : return true if both null\n            if(leftComparable == null) {\n                if(rightObj == null) {\n                    return true;\n                } else {\n                    context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\n                        .addPropertyNode(left).addPropertyNode(right);\n                    return false;\n                }\n            }\n            \n            //return true if compareTo result in vals array\n            if(vals.contains(leftComparable.compareTo(rightObj))) {\n                return true;\n            }else {\n                context.buildConstraintViolationWithTemplate(context.getDefaultConstraintMessageTemplate())\n                .addPropertyNode(left).addConstraintViolation();\n                return false;\n            }\n        } catch (Exception e) {\n            log.error(&quot;Cannot validate one of two field in '&quot; + value + &quot;'!&quot;, e);\n            return false;\n        }\n    }\n}\n\n\n//Usage: selling price must be smallar than or equal to list price\n@CompareFields(left = &quot;sellingPrice&quot;, right = &quot;listPrice&quot;, vals = {-1,0})\npublic class InventoryDto{\n...\n}\n//Usage: start time must be before finish time\n@CompareFields(left = &quot;startTime&quot;, right = &quot;finishTime&quot;, vals = {-1})\npublic class GateLogDto{\n...\n}\n</code></pre>\n"}],"owner":{"account_id":551326,"reputation":3001,"user_id":916138,"accept_rate":45,"display_name":"Shahid Ghafoor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14943,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1688684016,"creation_date":1527142362,"question_id":50502163,"body_markdown":"with respect to `javax.validation`\r\n\r\n      @NotNull(message = &quot;From can&#39;t be null&quot;)\r\n      @Min(value = 1, message = &quot;From must be greater than zero&quot;)\r\n      private Long from;\r\n      @NotNull(message = &quot;To can&#39;t be null&quot;)\r\n      @Min(value = 1, message = &quot;To must be greater than zero&quot;)\r\n      private Long to;\r\n\r\nI want to also validate that **FROM** should be less than **TO** and **TO** should be greater than **FROM** ? how we can do this using javax validation&#39;s annotation ?","title":"javax validation greater or less than from other property","body":"<p>with respect to <code>javax.validation</code></p>\n\n<pre><code>  @NotNull(message = \"From can't be null\")\n  @Min(value = 1, message = \"From must be greater than zero\")\n  private Long from;\n  @NotNull(message = \"To can't be null\")\n  @Min(value = 1, message = \"To must be greater than zero\")\n  private Long to;\n</code></pre>\n\n<p>I want to also validate that <strong>FROM</strong> should be less than <strong>TO</strong> and <strong>TO</strong> should be greater than <strong>FROM</strong> ? how we can do this using javax validation's annotation ?</p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":2219078,"reputation":2030,"user_id":1959005,"accept_rate":55,"display_name":"Poutrathor"},"score":3,"creation_date":1413882193,"post_id":14832151,"comment_id":41600962,"body_markdown":"@anyone_reaching_this_issue : This question (http://stackoverflow.com/questions/6192781/month-name-as-a-string) mentions getDisplayName() and other intesreting tricks","body":"@anyone_reaching_this_issue : This question (<a href=\"http://stackoverflow.com/questions/6192781/month-name-as-a-string\" title=\"month name as a string\">stackoverflow.com/questions/6192781/month-name-as-a-string</a>) mentions getDisplayName() and other intesreting tricks"}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1636862621,"creation_date":1360670743,"answer_id":14832184,"question_id":14832151,"body_markdown":"You can achieve it using [`SimpleDateFormat`][1], which is meant to format date and times:\r\n\r\n```lang-java\r\nCalendar cal = Calendar.getInstance();\r\nSystem.out.println(new SimpleDateFormat(&quot;MMM&quot;).format(cal.getTime()));\r\n```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"How can I get Month Name from Calendar?","body":"<p>You can achieve it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>, which is meant to format date and times:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar cal = Calendar.getInstance();\nSystem.out.println(new SimpleDateFormat(&quot;MMM&quot;).format(cal.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"down_vote_count":2,"up_vote_count":105,"is_accepted":true,"score":103,"last_activity_date":1636862164,"creation_date":1360670955,"answer_id":14832267,"question_id":14832151,"body_markdown":"```lang-java\r\nString getMonthForInt(int num) {\r\n\tString month = &quot;wrong&quot;;\r\n\tDateFormatSymbols dfs = new DateFormatSymbols();\r\n\tString[] months = dfs.getMonths();\r\n\tif (num &gt;= 0 &amp;&amp; num &lt;= 11) {\r\n\t\tmonth = months[num];\r\n\t}\r\n\treturn month;\r\n}\r\n```","title":"How can I get Month Name from Calendar?","body":"<pre class=\"lang-java prettyprint-override\"><code>String getMonthForInt(int num) {\n    String month = &quot;wrong&quot;;\n    DateFormatSymbols dfs = new DateFormatSymbols();\n    String[] months = dfs.getMonths();\n    if (num &gt;= 0 &amp;&amp; num &lt;= 11) {\n        month = months[num];\n    }\n    return month;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1408129592,"creation_date":1360671018,"answer_id":14832283,"question_id":14832151,"body_markdown":"# Joda-Time\r\n\r\nHow about using [Joda-Time](http://www.joda.org/joda-time/). It&#39;s a far better date-time API to work with (And `January` means january here. It&#39;s not like Calendar, which uses `0-based` index for months). \r\n\r\nYou can use [`AbstractDateTime#toString( pattern )`](http://www.joda.org/joda-time/apidocs/org/joda/time/base/AbstractDateTime.html#toString(java.lang.String)) method to format the date in specified format:\r\n\r\n    DateTime date = DateTime.now();\r\n    String month = date.toString(&quot;MMM&quot;);\r\n\r\n## Month Name From Number\r\n\r\nIf you want month name for a particular month number, you can do it like this: \r\n\r\n    int month = 3;\r\n    String monthName = DateTime.now().withMonthOfYear(month).toString(&quot;MMM&quot;);\r\n\r\n## Localize \r\n\r\nThe above approach uses your JVMs current default Locale for the language of the month name. You want to specify a Locale object instead.\r\n\r\n    String month = date.toString( &quot;MMM&quot;, Locale.CANADA_FRENCH );\r\n\r\n\r\n    ","title":"How can I get Month Name from Calendar?","body":"<h1>Joda-Time</h1>\n\n<p>How about using <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>. It's a far better date-time API to work with (And <code>January</code> means january here. It's not like Calendar, which uses <code>0-based</code> index for months). </p>\n\n<p>You can use <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/base/AbstractDateTime.html#toString(java.lang.String)\" rel=\"noreferrer\"><code>AbstractDateTime#toString( pattern )</code></a> method to format the date in specified format:</p>\n\n<pre><code>DateTime date = DateTime.now();\nString month = date.toString(\"MMM\");\n</code></pre>\n\n<h2>Month Name From Number</h2>\n\n<p>If you want month name for a particular month number, you can do it like this: </p>\n\n<pre><code>int month = 3;\nString monthName = DateTime.now().withMonthOfYear(month).toString(\"MMM\");\n</code></pre>\n\n<h2>Localize</h2>\n\n<p>The above approach uses your JVMs current default Locale for the language of the month name. You want to specify a Locale object instead.</p>\n\n<pre><code>String month = date.toString( \"MMM\", Locale.CANADA_FRENCH );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3516321,"reputation":694,"user_id":2939648,"display_name":"Terry Chern"},"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1457237124,"creation_date":1383182095,"answer_id":19696776,"question_id":14832151,"body_markdown":"This is the solution I came up with for a class project:\r\n\r\n    public static String theMonth(int month){\r\n        String[] monthNames = {&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;};\r\n        return monthNames[month];\r\n\t}\r\n\r\nThe number you pass in comes from a `Calendar.MONTH` call.","title":"How can I get Month Name from Calendar?","body":"<p>This is the solution I came up with for a class project:</p>\n\n<pre><code>public static String theMonth(int month){\n    String[] monthNames = {\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"};\n    return monthNames[month];\n}\n</code></pre>\n\n<p>The number you pass in comes from a <code>Calendar.MONTH</code> call.</p>\n"},{"tags":[],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1398336163,"creation_date":1398336163,"answer_id":23266601,"question_id":14832151,"body_markdown":"As simple as this\r\n\r\n    mCalendar = Calendar.getInstance();    \r\n    String month = mCalendar.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.getDefault());","title":"How can I get Month Name from Calendar?","body":"<p>As simple as this</p>\n\n<pre><code>mCalendar = Calendar.getInstance();    \nString month = mCalendar.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.getDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125372,"reputation":7147,"user_id":321106,"accept_rate":73,"display_name":"artkoenig"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1410354414,"creation_date":1408117338,"answer_id":25329533,"question_id":14832151,"body_markdown":"    SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;LLLL&quot;, Locale.getDefault() );\r\n    dateFormat.format( date );\r\n\r\nFor some languages (e.g. Russian) this is the only correct way to get the stand-alone month names.\r\n\r\nThis is what you get, if you use `getDisplayName` from the `Calendar` or `DateFormatSymbols` for January:\r\n\r\n**** (which is correct for a complete date string: &quot;**10 , 2014**&quot;)\r\n\r\nbut in case of a stand-alone month name you would expect:\r\n\r\n****","title":"How can I get Month Name from Calendar?","body":"<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat( \"LLLL\", Locale.getDefault() );\ndateFormat.format( date );\n</code></pre>\n\n<p>For some languages (e.g. Russian) this is the only correct way to get the stand-alone month names.</p>\n\n<p>This is what you get, if you use <code>getDisplayName</code> from the <code>Calendar</code> or <code>DateFormatSymbols</code> for January:</p>\n\n<p><strong></strong> (which is correct for a complete date string: \"<strong>10 , 2014</strong>\")</p>\n\n<p>but in case of a stand-alone month name you would expect:</p>\n\n<p><strong></strong></p>\n"},{"tags":[],"owner":{"account_id":2172789,"reputation":6475,"user_id":1924299,"accept_rate":56,"display_name":"Eng. Samer T"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1636886147,"creation_date":1421516435,"answer_id":28002293,"question_id":14832151,"body_markdown":"If you have multi-language interface, you can use `getDisplayName` to display the name of month with control of displaying language.\r\n\r\nHere is an example of displaying the month name in English, French, Arabic and Arabic in specific country like &quot;Syria&quot;:\r\n\r\n```lang-java\r\nCalendar c = Calendar.getInstance();\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.ENGLISH ) );\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.FRANCE ) );\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;) ) );\r\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;, &quot;SY&quot;) ) );\r\nSystem.out.println(c.getTime().toString());\r\n```\r\n\r\nThe result is:\r\n\r\n```\r\nJanuary\r\njanvier\r\n\r\n \r\nSat Jan 17 19:31:30 EET 2015\r\n```","title":"How can I get Month Name from Calendar?","body":"<p>If you have multi-language interface, you can use <code>getDisplayName</code> to display the name of month with control of displaying language.</p>\n<p>Here is an example of displaying the month name in English, French, Arabic and Arabic in specific country like &quot;Syria&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar c = Calendar.getInstance();\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.ENGLISH ) );\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.FRANCE ) );\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;) ) );\nSystem.out.println(c.getDisplayName(Calendar.MONTH, Calendar.LONG, new Locale(&quot;ar&quot;, &quot;SY&quot;) ) );\nSystem.out.println(c.getTime().toString());\n</code></pre>\n<p>The result is:</p>\n<pre><code>January\njanvier\n\n \nSat Jan 17 19:31:30 EET 2015\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5737531,"reputation":199,"user_id":4531148,"accept_rate":80,"display_name":"Whirvis"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1688683568,"creation_date":1428530160,"answer_id":29526078,"question_id":14832151,"body_markdown":"You can get it one line like this:\r\n\r\n```lang-java\r\nString monthName = new DateFormatSymbols().getMonths()[cal.get(Calendar.MONTH)];\r\n````","title":"How can I get Month Name from Calendar?","body":"<p>You can get it one line like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String monthName = new DateFormatSymbols().getMonths()[cal.get(Calendar.MONTH)];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5847556,"reputation":397,"user_id":4607264,"display_name":"jhpg"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1477569863,"creation_date":1473710989,"answer_id":39458049,"question_id":14832151,"body_markdown":"This works for me:\r\n\r\n    String getMonthName(int monthNumber) {\r\n        String[] months = new DateFormatSymbols().getMonths();\r\n        int n = monthNumber-1;\r\n        return (n &gt;= 0 &amp;&amp; n &lt;= 11) ? months[n] : &quot;wrong number&quot;;\r\n    }\r\n\r\nTo returns `&quot;September&quot;` with one line:\r\n\r\n    String month = getMonthName(9);\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>This works for me:</p>\n\n<pre><code>String getMonthName(int monthNumber) {\n    String[] months = new DateFormatSymbols().getMonths();\n    int n = monthNumber-1;\n    return (n &gt;= 0 &amp;&amp; n &lt;= 11) ? months[n] : \"wrong number\";\n}\n</code></pre>\n\n<p>To returns <code>\"September\"</code> with one line:</p>\n\n<pre><code>String month = getMonthName(9);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7774796,"reputation":50,"user_id":5883240,"display_name":"Amit Mishra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1476131151,"creation_date":1476080204,"answer_id":39952276,"question_id":14832151,"body_markdown":"    DateFormat date =  new SimpleDateFormat(&quot;dd/MMM/yyyy&quot;);\r\n    Date date1 = new Date();\r\n    System.out.println(date.format(date1));","title":"How can I get Month Name from Calendar?","body":"<pre><code>DateFormat date =  new SimpleDateFormat(\"dd/MMM/yyyy\");\nDate date1 = new Date();\nSystem.out.println(date.format(date1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178361,"reputation":1833,"user_id":410293,"accept_rate":50,"display_name":"Rafael Sanches"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1477886507,"creation_date":1477886507,"answer_id":40336410,"question_id":14832151,"body_markdown":"from the SimpleDateFormat java doc:\r\n\r\n    *         &lt;td&gt;&lt;code&gt;&quot;yyyyy.MMMMM.dd GGG hh:mm aaa&quot;&lt;/code&gt;\r\n     *         &lt;td&gt;&lt;code&gt;02001.July.04 AD 12:08 PM&lt;/code&gt;\r\n     *         &lt;td&gt;&lt;code&gt;&quot;EEE, d MMM yyyy HH:mm:ss Z&quot;&lt;/code&gt;\r\n     *         &lt;td&gt;&lt;code&gt;Wed, 4 Jul 2001 12:08:56 -0700&lt;/code&gt;\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>from the SimpleDateFormat java doc:</p>\n\n<pre><code>*         &lt;td&gt;&lt;code&gt;\"yyyyy.MMMMM.dd GGG hh:mm aaa\"&lt;/code&gt;\n *         &lt;td&gt;&lt;code&gt;02001.July.04 AD 12:08 PM&lt;/code&gt;\n *         &lt;td&gt;&lt;code&gt;\"EEE, d MMM yyyy HH:mm:ss Z\"&lt;/code&gt;\n *         &lt;td&gt;&lt;code&gt;Wed, 4 Jul 2001 12:08:56 -0700&lt;/code&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3092120,"reputation":1588,"user_id":2618036,"display_name":"georger"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1485353682,"creation_date":1485353682,"answer_id":41853827,"question_id":14832151,"body_markdown":"It might be an old question, but as a one liner to get the name of the month when we know the indices, I used\r\n\r\n    String month = new DateFormatSymbols().getMonths()[monthNumber - 1];\r\n\r\nor for short names\r\n\r\n    String month = new DateFormatSymbols().getShortMonths()[monthNumber - 1];\r\nPlease be aware that your `monthNumber` starts counting from 1 while any of the methods above returns an array so you need to start counting from 0.","title":"How can I get Month Name from Calendar?","body":"<p>It might be an old question, but as a one liner to get the name of the month when we know the indices, I used</p>\n\n<pre><code>String month = new DateFormatSymbols().getMonths()[monthNumber - 1];\n</code></pre>\n\n<p>or for short names</p>\n\n<pre><code>String month = new DateFormatSymbols().getShortMonths()[monthNumber - 1];\n</code></pre>\n\n<p>Please be aware that your <code>monthNumber</code> starts counting from 1 while any of the methods above returns an array so you need to start counting from 0.</p>\n"},{"tags":[],"owner":{"account_id":8288224,"reputation":119,"user_id":6230744,"display_name":"Nikolay Fedorovskikh"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1547246237,"creation_date":1492432647,"answer_id":43451652,"question_id":14832151,"body_markdown":"# `Month::getDisplayName`\r\n\r\nSince Java 8, use the [`Month`][1] enum. The [`getDisplayName`][2] method automatically localizes the name of the month. \r\n\r\nPass:\r\n\r\n - A [`TextStyle`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/TextStyle.html) to determine how long or how abbreviated.\r\n - A [`Locale`][3] to specify the human language used in translation, and the cultural norms used for abbreviation, punctuation, etc.\r\n\r\nExample:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public static String getMonthStandaloneName(Month month) {\r\n        return month.getDisplayName(\r\n            TextStyle.FULL_STANDALONE, \r\n            Locale.getDefault()\r\n        );\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html","title":"How can I get Month Name from Calendar?","body":"<h1><code>Month::getDisplayName</code></h1>\n\n<p>Since Java 8, use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum. The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>getDisplayName</code></a> method automatically localizes the name of the month. </p>\n\n<p>Pass:</p>\n\n<ul>\n<li>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/TextStyle.html\" rel=\"nofollow noreferrer\"><code>TextStyle</code></a> to determine how long or how abbreviated.</li>\n<li>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> to specify the human language used in translation, and the cultural norms used for abbreviation, punctuation, etc.</li>\n</ul>\n\n<p>Example:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String getMonthStandaloneName(Month month) {\n    return month.getDisplayName(\n        TextStyle.FULL_STANDALONE, \n        Locale.getDefault()\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9014084,"reputation":3170,"user_id":6717610,"display_name":"Samet &#214;ZTOPRAK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538374898,"creation_date":1512464592,"answer_id":47649679,"question_id":14832151,"body_markdown":"This code has language support.\r\nI had used them in Android App.\r\n\r\n    String[] mons = new DateFormatSymbols().getShortMonths();//Jan,Feb,Mar,... \r\n\r\n    String[] months = new DateFormatSymbols().getMonths();//January,Februaty,March,...","title":"How can I get Month Name from Calendar?","body":"<p>This code has language support.\nI had used them in Android App.</p>\n\n<pre><code>String[] mons = new DateFormatSymbols().getShortMonths();//Jan,Feb,Mar,... \n\nString[] months = new DateFormatSymbols().getMonths();//January,Februaty,March,...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13858935,"reputation":29,"user_id":10005038,"display_name":"mxhc"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1530181838,"creation_date":1530181838,"answer_id":51080625,"question_id":14832151,"body_markdown":"It returns English name of the month.\r\n04 returns APRIL and so on.\r\n\r\n    String englishMonth (int month){\r\n            return Month.of(month);\r\n        }\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>It returns English name of the month.\n04 returns APRIL and so on.</p>\n\n<pre><code>String englishMonth (int month){\n        return Month.of(month);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10024548,"reputation":729,"user_id":7413086,"display_name":"kushal Baldev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636862443,"creation_date":1542015005,"answer_id":53259230,"question_id":14832151,"body_markdown":"**One way:**\r\n \r\nWe have `Month` API in Java (`java.time.Month`). We can get by using `Month.of(month);`\r\n\r\nHere, the `Month` are indexed as numbers so either you can provide by `Month.JANUARY` or provide an index in the above API such as 1, 2, 3, 4. \r\n\r\n**Second way:**\r\n\r\n```lang-java\r\nZonedDateTime.now().getMonth();\r\n```\r\n\r\nThis is available in `java.time.ZonedDateTime`.\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p><strong>One way:</strong></p>\n<p>We have <code>Month</code> API in Java (<code>java.time.Month</code>). We can get by using <code>Month.of(month);</code></p>\n<p>Here, the <code>Month</code> are indexed as numbers so either you can provide by <code>Month.JANUARY</code> or provide an index in the above API such as 1, 2, 3, 4.</p>\n<p><strong>Second way:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime.now().getMonth();\n</code></pre>\n<p>This is available in <code>java.time.ZonedDateTime</code>.</p>\n"},{"tags":[],"owner":{"account_id":5184894,"reputation":786,"user_id":4149548,"accept_rate":50,"display_name":"Felipe Castilhos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636862490,"creation_date":1547128584,"answer_id":54130258,"question_id":14832151,"body_markdown":"I created a Kotlin extension based on responses in this topic and using the `DateFormatSymbols` answers you get a localized response.\r\n\r\n```lang-java\r\nfun Date.toCalendar(): Calendar {\r\n    val calendar = Calendar.getInstance()\r\n    calendar.time = this\r\n    return calendar\r\n}\r\n\r\n\r\nfun Date.getMonthName(): String {\r\n    val month = toCalendar()[Calendar.MONTH]\r\n    val dfs = DateFormatSymbols()\r\n    val months = dfs.months\r\n    return months[month]\r\n}\r\n```","title":"How can I get Month Name from Calendar?","body":"<p>I created a Kotlin extension based on responses in this topic and using the <code>DateFormatSymbols</code> answers you get a localized response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>fun Date.toCalendar(): Calendar {\n    val calendar = Calendar.getInstance()\n    calendar.time = this\n    return calendar\n}\n\n\nfun Date.getMonthName(): String {\n    val month = toCalendar()[Calendar.MONTH]\n    val dfs = DateFormatSymbols()\n    val months = dfs.months\n    return months[month]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12003072,"reputation":119,"user_id":10011802,"display_name":"mahadev gouda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636862460,"creation_date":1552999716,"answer_id":55241462,"question_id":14832151,"body_markdown":"```lang-java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\n\r\n\r\nCalendar cal = Calendar.getInstance();\r\nString currentdate=new SimpleDateFormat(&quot;dd-MMM&quot;).format(cal.getTime());\r\n```","title":"How can I get Month Name from Calendar?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\n\n\nCalendar cal = Calendar.getInstance();\nString currentdate=new SimpleDateFormat(&quot;dd-MMM&quot;).format(cal.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8090685,"reputation":794,"user_id":6096715,"accept_rate":60,"display_name":"JibinNajeeb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565185849,"creation_date":1557213860,"answer_id":56017515,"question_id":14832151,"body_markdown":"I found this much easier(https://docs.oracle.com/javase/tutorial/datetime/iso/enum.html)\r\n\r\n\tprivate void getCalendarMonth(Date date) {\t\t\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tcalendar.setTime(date);\r\n\t\tMonth month = Month.of(calendar.get(Calendar.MONTH));\t\t\r\n\t\tLocale locale = Locale.getDefault();\r\n\t\tSystem.out.println(month.getDisplayName(TextStyle.FULL, locale));\r\n        System.out.println(month.getDisplayName(TextStyle.NARROW, locale));\r\n        System.out.println(month.getDisplayName(TextStyle.SHORT, locale));\r\n\t}\r\n\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>I found this much easier(<a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/datetime/iso/enum.html</a>)</p>\n\n<pre><code>private void getCalendarMonth(Date date) {      \n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    Month month = Month.of(calendar.get(Calendar.MONTH));       \n    Locale locale = Locale.getDefault();\n    System.out.println(month.getDisplayName(TextStyle.FULL, locale));\n    System.out.println(month.getDisplayName(TextStyle.NARROW, locale));\n    System.out.println(month.getDisplayName(TextStyle.SHORT, locale));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11389330,"reputation":642,"user_id":8349963,"display_name":"Milad jalali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607527991,"creation_date":1607527991,"answer_id":65219863,"question_id":14832151,"body_markdown":"    Calender cal = Calendar.getInstance(Locale.ENGLISH)\r\n    String[] mons = new DateFormatSymbols(Locale.ENGLISH).getShortMonths();\r\n    int m = cal.get(Calendar.MONTH);\r\n    String mName = mons[m];","title":"How can I get Month Name from Calendar?","body":"<pre><code>Calender cal = Calendar.getInstance(Locale.ENGLISH)\nString[] mons = new DateFormatSymbols(Locale.ENGLISH).getShortMonths();\nint m = cal.get(Calendar.MONTH);\nString mName = mons[m];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3908557,"reputation":95,"user_id":3234532,"display_name":"Naveen Roy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623256657,"creation_date":1623256657,"answer_id":67908311,"question_id":14832151,"body_markdown":"Easiest Way \r\n\r\n    import java.text.DateFormatSymbols;\r\n    \r\n    int month = 3; // March\r\n    System.out.println(new DateFormatSymbols().getMonths()[month-1]);\r\n\r\n","title":"How can I get Month Name from Calendar?","body":"<p>Easiest Way</p>\n<pre><code>import java.text.DateFormatSymbols;\n\nint month = 3; // March\nSystem.out.println(new DateFormatSymbols().getMonths()[month-1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10600166,"reputation":162,"user_id":7807339,"display_name":"Junaid Bashir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636861768,"creation_date":1632821407,"answer_id":69359156,"question_id":14832151,"body_markdown":"For full name of month:\r\n\r\n```lang-java\r\nval calendar = Calendar.getInstance()\r\ncalendar.timeInMillis = date\r\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.Long, Locale.ENGLISH)!!.toString()\r\n```\r\n\r\nAnd for short name of month:\r\n\r\n```lang-java\r\nval calendar = Calendar.getInstance()\r\ncalendar.timeInMillis = date\r\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.SHORT, Locale.ENGLISH)!!.toString()\r\n```","title":"How can I get Month Name from Calendar?","body":"<p>For full name of month:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val calendar = Calendar.getInstance()\ncalendar.timeInMillis = date\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.Long, Locale.ENGLISH)!!.toString()\n</code></pre>\n<p>And for short name of month:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val calendar = Calendar.getInstance()\ncalendar.timeInMillis = date\nreturn calendar.getDisplayName(Calendar.MONTH, Calendar.SHORT, Locale.ENGLISH)!!.toString()\n</code></pre>\n"}],"owner":{"account_id":1131741,"reputation":5562,"user_id":1117668,"accept_rate":80,"display_name":"ogzd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301121,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":14832267,"answer_count":22,"score":111,"last_activity_date":1688683568,"creation_date":1360670644,"question_id":14832151,"body_markdown":"Is there a oneliner to get the name of the month when we know: \r\n\r\n```lang-java\r\nint monthNumber  = calendar.get(Calendar.MONTH)\r\n``` \r\n\r\nOr what is the easiest way?","title":"How can I get Month Name from Calendar?","body":"<p>Is there a oneliner to get the name of the month when we know:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int monthNumber  = calendar.get(Calendar.MONTH)\n</code></pre>\n<p>Or what is the easiest way?</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687976503,"post_id":76574766,"comment_id":135013412,"body_markdown":"Search among these [examples](https://stackoverflow.com/questions/tagged/javafx) for ways to study each aspect in isolation; this [example](https://stackoverflow.com/q/76487091/230513)  of profiling might help you examine the size issue.","body":"Search among these <a href=\"https://stackoverflow.com/questions/tagged/javafx\">examples</a> for ways to study each aspect in isolation; this <a href=\"https://stackoverflow.com/q/76487091/230513\">example</a>  of profiling might help you examine the size issue."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1687979726,"post_id":76574766,"comment_id":135014019,"body_markdown":"Maybe you don&#39;t want a `TableView` at all, perhaps you want a spreadsheet, either by a ControlsFX [SpreadsheetView](https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/spreadsheet/SpreadsheetView.html) or a WebView embedded Google Docs (if that works in JavaFX), or some other technology.","body":"Maybe you don&#39;t want a <code>TableView</code> at all, perhaps you want a spreadsheet, either by a ControlsFX <a href=\"https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/spreadsheet/SpreadsheetView.html\" rel=\"nofollow noreferrer\">SpreadsheetView</a> or a WebView embedded Google Docs (if that works in JavaFX), or some other technology."},{"owner":{"account_id":28913070,"reputation":1,"user_id":22145647,"display_name":"Xavier D."},"score":0,"creation_date":1687990016,"post_id":76574766,"comment_id":135015599,"body_markdown":"@jewelsea thanks for the suggestion, I need to study this. I had in mind to limit dependencies and try to stay javafx only but if it really has all the needed features then the additional dependency is worth it. I need to experiment for a while before validating this solution.","body":"@jewelsea thanks for the suggestion, I need to study this. I had in mind to limit dependencies and try to stay javafx only but if it really has all the needed features then the additional dependency is worth it. I need to experiment for a while before validating this solution."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1687990234,"post_id":76574766,"comment_id":135015620,"body_markdown":"One &quot;solution&quot; you mention is using Canvas.  I do not recommend that at all.  There is no off-the-shelf component using Canvas that does what you want (or anything remotely close to it), so you would have to build such a solution from scratch, which would be a tremendous amount of work.  Plus, if using JavaFX, the scene graph is probably better suited for this component than a Canvas anyway.","body":"One &quot;solution&quot; you mention is using Canvas.  I do not recommend that at all.  There is no off-the-shelf component using Canvas that does what you want (or anything remotely close to it), so you would have to build such a solution from scratch, which would be a tremendous amount of work.  Plus, if using JavaFX, the scene graph is probably better suited for this component than a Canvas anyway."}],"answers":[{"tags":[],"owner":{"account_id":28913070,"reputation":1,"user_id":22145647,"display_name":"Xavier D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688682787,"creation_date":1688682787,"answer_id":76632899,"question_id":76574766,"body_markdown":"From the ideas given in the comments and further research, I would say that :\r\n\r\n - Tableview is definitely not adapted, if I want a simple similar solution on the view part, ControlsFX SpreadsheetView would do a better job with row and column headers that can be customized\r\n - Drawing on canvas is too much work, I may consider it if I encounter memory problems\r\n - I have not seen much examples using a webview in javafx, unless someone can tell me otherwise, this solution is considered as not adapted (maybe not possible)\r\n - the remaining solution, and the one that I will chose for now, will be to create my table in a scene using some kind of grid layout and the most appropriated components for headers and cells","title":"Creating a double entry table editor in javaFX : TableView, canvas or webview?","body":"<p>From the ideas given in the comments and further research, I would say that :</p>\n<ul>\n<li>Tableview is definitely not adapted, if I want a simple similar solution on the view part, ControlsFX SpreadsheetView would do a better job with row and column headers that can be customized</li>\n<li>Drawing on canvas is too much work, I may consider it if I encounter memory problems</li>\n<li>I have not seen much examples using a webview in javafx, unless someone can tell me otherwise, this solution is considered as not adapted (maybe not possible)</li>\n<li>the remaining solution, and the one that I will chose for now, will be to create my table in a scene using some kind of grid layout and the most appropriated components for headers and cells</li>\n</ul>\n"}],"owner":{"account_id":28913070,"reputation":1,"user_id":22145647,"display_name":"Xavier D."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76632899,"answer_count":1,"score":0,"last_activity_date":1688682787,"creation_date":1687967068,"question_id":76574766,"body_markdown":"I am trying to create an editor in javafx for data modelled as a boolean double entry table : basically I have a table with named rows, named columns and a checkbox in each cell.\r\nIn terms of features I would need to be able to:\r\n- check/uncheck a cell\r\n- rename/add/remove a column/row\r\n- load big tables (&gt; 1000 rows and columns)\r\n- select rows and colums to extract a sub-table\r\n\r\n\r\nI have tried to use the TableView class, but it&#39;s focused on columns, and I don&#39;t see any way to add row names in the same way as column names. There is still the solution to add a first column with row names, but it is not ideal. \r\nSo as far as I have looked, I found 2 other solutions: \r\n- drawing my table on a Canvas. As I understand it would allow me to do anything I want, but I would need to implement everything and I am not sure how to deal with really big canvas (how to not dr&#224;w the entire table) \r\n- draw my table in html and use a webview to display it. As I understand that would help with the drawing, but would require html, javascript and the communication with rest of the app does not appear to be easy.\r\nI have not much experience with JavaFX at the moment and I am not sure which would be the most practical or if another solution would be better. What do you think would be the best?\r\n\r\n","title":"Creating a double entry table editor in javaFX : TableView, canvas or webview?","body":"<p>I am trying to create an editor in javafx for data modelled as a boolean double entry table : basically I have a table with named rows, named columns and a checkbox in each cell.\nIn terms of features I would need to be able to:</p>\n<ul>\n<li>check/uncheck a cell</li>\n<li>rename/add/remove a column/row</li>\n<li>load big tables (&gt; 1000 rows and columns)</li>\n<li>select rows and colums to extract a sub-table</li>\n</ul>\n<p>I have tried to use the TableView class, but it's focused on columns, and I don't see any way to add row names in the same way as column names. There is still the solution to add a first column with row names, but it is not ideal.\nSo as far as I have looked, I found 2 other solutions:</p>\n<ul>\n<li>drawing my table on a Canvas. As I understand it would allow me to do anything I want, but I would need to implement everything and I am not sure how to deal with really big canvas (how to not drw the entire table)</li>\n<li>draw my table in html and use a webview to display it. As I understand that would help with the drawing, but would require html, javascript and the communication with rest of the app does not appear to be easy.\nI have not much experience with JavaFX at the moment and I am not sure which would be the most practical or if another solution would be better. What do you think would be the best?</li>\n</ul>\n"},{"tags":["java","generics","warnings"],"comments":[{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1688676019,"post_id":76632071,"comment_id":135109703,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688676229,"post_id":76632071,"comment_id":135109750,"body_markdown":"To understand the reason because Raw use of parameterized class is present in my code and where is the part of the code I wrong","body":"To understand the reason because Raw use of parameterized class is present in my code and where is the part of the code I wrong"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1688676647,"post_id":76632071,"comment_id":135109827,"body_markdown":"Does this answer your question? [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688676793,"post_id":76632071,"comment_id":135109851,"body_markdown":"yes I already view, but sorry this answer did not helped me","body":"yes I already view, but sorry this answer did not helped me"},{"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1688676824,"post_id":76632071,"comment_id":135109854,"body_markdown":"but thanks for your effort","body":"but thanks for your effort"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688681208,"post_id":76632071,"comment_id":135110480,"body_markdown":"What&#39;s the point of `E`? Shouldn&#39;t `tt` be a `T`? And what purpose does `t` serve?","body":"What&#39;s the point of <code>E</code>? Shouldn&#39;t <code>tt</code> be a <code>T</code>? And what purpose does <code>t</code> serve?"}],"answers":[{"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688682709,"creation_date":1688678427,"answer_id":76632584,"question_id":76632071,"body_markdown":"```\r\n    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\r\n        me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\r\n\r\n        return t;\r\n    }\r\n```\r\n\r\nRaw use of parameterized class &#39;AClass&#39; means you have a `class AClass&lt;T&gt;` parameterized definition, but reference it without a &quot;diamond&quot; - `AClass a = new AClass()`\r\n\r\nSome more examples of raw use:\r\n\r\n```\r\n\t\tList list = new ArrayList&lt;&gt;(); // --&gt; List&lt;?&gt; list\r\n\t\tList&lt;String&gt; list = new ArrayList(); // --&gt; new ArrayList&lt;&gt;();\r\n\t\tFunction function = o -&gt; o.toString(); // --&gt; Function&lt;Object, String&gt;\r\n```\r\n\r\n\r\nEDIT \r\n\r\nYou have a generic class \r\n```\r\nclass BaseUnitConverter&lt;T&gt; {\r\n\r\n\tprivate InstantiatorUnitConverter&lt;T&gt; me;\r\n\r\n\tprotected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\r\n\t\tthis.me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\r\n\t\treturn t;\r\n\t}\r\n}\r\n```\r\n\r\nThe problem is that you pass the `E` type to be assigned to a `T`-typed reference.\r\n\r\nIt is the same as if you did `List&lt;String&gt; list = new ArrayList&lt;Integer&gt;()`;\r\n\r\n\r\nI now see 2 ways to fix it, but it depends on your specifics.\r\n\r\n1) Make storeValue accept `T` as a parameter (you will lose type flexibility though)\r\n```\r\nclass BaseUnitConverter&lt;T&gt; {\r\n\r\n    private InstantiatorUnitConverter&lt;T&gt; me;\r\n\r\n    protected final &lt;M&gt; M storeValue(M t, double value, T tt) {\r\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\r\n        return t;\r\n    }\r\n}\r\n```\r\n\r\n2) &quot;De-generify&quot; the BaseUnitConverter class (you will have to cast at some point, the same way it works in Java Collections)\r\n```\r\nclass BaseUnitConverter {\r\n\r\n    private InstantiatorUnitConverter&lt;?&gt; me;\r\n\r\n    protected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\r\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\r\n        return t;\r\n    }\r\n\r\n    // You will lose the type here\r\n    public InstantiatorUnitConverter&lt;?&gt; getIstantiator(){\r\n        return this.me;\r\n    }\r\n\r\n    // Or generify the getter \r\n    // May throw java.lang.ClassCastException if referencing with the wrong type\r\n    // Java-collections-like style (e.g., see ArrayList)\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;T&gt; InstantiatorUnitConverter&lt;T&gt; getIstantiator() {\r\n\t\treturn (InstantiatorUnitConverter&lt;T&gt;) this.me;\r\n\t}\r\n}\r\n```","title":"Raw use of parameterized class in Java","body":"<pre><code>    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\n        me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\n\n        return t;\n    }\n</code></pre>\n<p>Raw use of parameterized class 'AClass' means you have a <code>class AClass&lt;T&gt;</code> parameterized definition, but reference it without a &quot;diamond&quot; - <code>AClass a = new AClass()</code></p>\n<p>Some more examples of raw use:</p>\n<pre><code>        List list = new ArrayList&lt;&gt;(); // --&gt; List&lt;?&gt; list\n        List&lt;String&gt; list = new ArrayList(); // --&gt; new ArrayList&lt;&gt;();\n        Function function = o -&gt; o.toString(); // --&gt; Function&lt;Object, String&gt;\n</code></pre>\n<p>EDIT</p>\n<p>You have a generic class</p>\n<pre><code>class BaseUnitConverter&lt;T&gt; {\n\n    private InstantiatorUnitConverter&lt;T&gt; me;\n\n    protected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\n        this.me = new InstantiatorUnitConverter&lt;E&gt;(value, tt, st(tt));\n        return t;\n    }\n}\n</code></pre>\n<p>The problem is that you pass the <code>E</code> type to be assigned to a <code>T</code>-typed reference.</p>\n<p>It is the same as if you did <code>List&lt;String&gt; list = new ArrayList&lt;Integer&gt;()</code>;</p>\n<p>I now see 2 ways to fix it, but it depends on your specifics.</p>\n<ol>\n<li>Make storeValue accept <code>T</code> as a parameter (you will lose type flexibility though)</li>\n</ol>\n<pre><code>class BaseUnitConverter&lt;T&gt; {\n\n    private InstantiatorUnitConverter&lt;T&gt; me;\n\n    protected final &lt;M&gt; M storeValue(M t, double value, T tt) {\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\n        return t;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>&quot;De-generify&quot; the BaseUnitConverter class (you will have to cast at some point, the same way it works in Java Collections)</li>\n</ol>\n<pre><code>class BaseUnitConverter {\n\n    private InstantiatorUnitConverter&lt;?&gt; me;\n\n    protected final &lt;M, E&gt; M storeValue(M t, double value, E tt) {\n        this.me = new InstantiatorUnitConverter&lt;&gt;(value, tt, st(tt));\n        return t;\n    }\n\n    // You will lose the type here\n    public InstantiatorUnitConverter&lt;?&gt; getIstantiator(){\n        return this.me;\n    }\n\n    // Or generify the getter \n    // May throw java.lang.ClassCastException if referencing with the wrong type\n    // Java-collections-like style (e.g., see ArrayList)\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; InstantiatorUnitConverter&lt;T&gt; getIstantiator() {\n        return (InstantiatorUnitConverter&lt;T&gt;) this.me;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688682709,"creation_date":1688672322,"question_id":76632071,"body_markdown":"I have two classes that use generics in Java in order to perform conversions between units of measure. In the BaseUnitConverter class I have two warnings, from the intellij IDE, that say:\r\n\r\n\r\n    Raw use of parameterized class &#39;InstantiatorUnitConverter&#39; \r\n    Unchecked assignment: &#39;org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&#39; to &#39;org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&lt;T&gt;&#39; \r\n    Unchecked call to &#39;InstantiatorUnitConverter(Object, T, String)&#39; as a member of raw type &#39;org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&#39; \r\n\r\nfor methods:\r\n\r\n    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\r\n            me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n            return t;\r\n        }\r\n\r\nand\r\n\r\n    protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\r\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n        return t;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe basic classes of this conversion system are as follows:\r\n\r\n    import java.io.Serializable;\r\n    \r\n    /**\r\n     * Instantiated variables from new UnitConverter instance (Only used in class BaseUnitConverter).\r\n     */\r\n    public final class InstantiatorUnitConverter&lt;T&gt; implements Serializable {\r\n        private final Object o;      //Only used in DataType and NumericBase measurements (classes), user passed &quot;from&quot; value (Object). When this is the case, variable &quot;v&quot; is not used.\r\n        private final double v;      //User passed &quot;from&quot; value (double). When this is the case, variable &quot;o&quot; is not used.\r\n        private final T t;        //Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n        private final String ts;  //String value of enum constant representing the &quot;from&quot; method of the measurement used.\r\n        private final boolean d;  //Used in class B.java &quot;getValuePassed()&quot;. True if &quot;from&quot; value was a double, false for Object (Object only used in DataType and NumericBase measurements (classes)).\r\n    \r\n        /**\r\n         * Empty constructor only called when instantiating from class B.java\r\n         */\r\n        public InstantiatorUnitConverter(){\r\n            o = &quot;&quot;;\r\n            v = -1;\r\n            t = null;\r\n            ts = &quot;&quot;;\r\n            d = true;\r\n        }\r\n    \r\n        /**\r\n         * Only used in class B.java when measurement &quot;from&quot; method only converts numbers.\r\n         * All measurements other than DataType and NumericBase use this constructor.\r\n         * @param value User passed &quot;from&quot; value (double).\r\n         * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        public InstantiatorUnitConverter(double value, T enumConstant, String enumTag){\r\n            o = &quot;&quot;;     //This variable (Object value) will not be used when this constructor is called, default it to an empty string.\r\n            v = value;\r\n            t = enumConstant;\r\n            ts = enumTag;\r\n            d = true;   //Variable d set to true as &quot;from&quot; value passed is a numeric type not an Object.\r\n        }\r\n    \r\n        /**\r\n         * Only used in class B.java when measurement &quot;from&quot; method can convert more than numbers and an Object is passed as the value.\r\n         * Only measurements DataType and NumericBase use this constructor.\r\n         * @param value User passed &quot;from&quot; value (Object).\r\n         * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        public InstantiatorUnitConverter(Object value, T enumConstant, String enumTag){\r\n            o = value;\r\n            v = -1;     //This variable (double value) will not be used when this constructor is called, default it to -1\r\n            t = enumConstant;\r\n            ts = enumTag;\r\n            d = false;  //Variable d set to false as &quot;from&quot; value passed is an Object not double.\r\n        }\r\n    \r\n    \r\n        public Object getO() {\r\n            return o;\r\n        }\r\n    \r\n        public double getV() {\r\n            return v;\r\n        }\r\n    \r\n        public T getT() {\r\n            return t;\r\n        }\r\n    \r\n        public String getTs() {\r\n            return ts;\r\n        }\r\n    \r\n        public boolean isD() {\r\n            return d;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n\r\n    import java.io.Serializable;\r\n    \r\n    /**\r\n     * Generic base class for most UnitConverter measurement classes.\r\n     */\r\n    public class BaseUnitConverter&lt;T&gt; implements Serializable {\r\n    \r\n        private InstantiatorUnitConverter&lt;T&gt; me; //Instantiate class A.java for variables needed to perform conversions.\r\n    \r\n        public BaseUnitConverter() {\r\n            this.me = new InstantiatorUnitConverter&lt;&gt;();\r\n        }\r\n    \r\n        public InstantiatorUnitConverter&lt;T&gt; getIstantiator(){\r\n            return this.me;\r\n        }\r\n    \r\n        /**\r\n         * Returns value initially passed into the measurement&#39;s &quot;from&quot; method.\r\n         */\r\n        public final Object getValuePassed(){\r\n            return (me.isD()) ? me.getV() : me.getO();    //true returns numeric value passed, false returns Object passed.\r\n        }\r\n    \r\n        /**\r\n         * Returns the enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        public final String getTypeConstantPassed(){\r\n    \r\n            return me.getTs();\r\n        }\r\n    \r\n        /**\r\n         * Stores the needed values to do conversions of the measurement.\r\n         * This overload of the method is used in &quot;from&quot; methods in every measurement class other than Anything(), DataType(), and NumericBase().\r\n         *\r\n         * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param value User passed &quot;from&quot; value (double).\r\n         * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @return class context passed in so variable like &quot;UnitOf.Length len&quot; can be used as the variable type\r\n         */\r\n        protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\r\n            me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n            return t;\r\n        }\r\n    \r\n        /**\r\n         * Stores the needed values to do conversions of the measurement.\r\n         * This overload of the method is used only in DataType and NumericBase as Objects can be passed as &quot;from&quot; values.\r\n         *\r\n         * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\r\n         * @param value User passed &quot;from&quot; value (Object).\r\n         * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\r\n         * @return class context passed in so variable like &quot;UnitOf.DataType dt&quot; can be used as the variable type\r\n         */\r\n        protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\r\n            me = new InstantiatorUnitConverter(value, tt, st(tt));\r\n            return t;\r\n        }\r\n    \r\n        /**\r\n         * Gets and returns the string value of constant representing the &quot;from&quot; method of the measurement used.\r\n         */\r\n        private &lt;E&gt; String st(E tt){\r\n            String unitType = &quot;&quot;;\r\n            try{\r\n                unitType = tt.toString();\r\n            } catch(Exception ignored){ }\r\n            return unitType;\r\n        }\r\n    \r\n        /**\r\n         * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here).\r\n         * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\r\n         * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\r\n         * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\r\n         * @return Finished conversion. &quot;From&quot; converted into &quot;to&quot; value.\r\n         */\r\n        protected final double k(double a, double b){\r\n    \r\n            return k(a,b,true);\r\n        }\r\n    \r\n        /**\r\n         * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here)\r\n         * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\r\n         * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\r\n         * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\r\n         * @param q Multiply then divide conversion algorithm, false will divide then multiply when converting &quot;to&quot;\r\n         * @return Finished conversion. &quot;from&quot; converted into &quot;to&quot; value.\r\n         */\r\n        protected final double k(double a, double b, boolean q){\r\n    \r\n            return UnitConverterUtils.i(UnitConverterUtils.i(me.getV(), a, q), b, !q);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nI tried the solution proposed by Serg Vasylchak but I got an error message (note just change letter symbols):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3RULI.png\r\n  [2]: https://i.stack.imgur.com/5whCZ.png\r\n  [3]: https://i.stack.imgur.com/DCWGf.png","title":"Raw use of parameterized class in Java","body":"<p>I have two classes that use generics in Java in order to perform conversions between units of measure. In the BaseUnitConverter class I have two warnings, from the intellij IDE, that say:</p>\n<pre><code>Raw use of parameterized class 'InstantiatorUnitConverter' \nUnchecked assignment: 'org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter' to 'org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter&lt;T&gt;' \nUnchecked call to 'InstantiatorUnitConverter(Object, T, String)' as a member of raw type 'org.cnr.lambertools.utils.unitconverter.InstantiatorUnitConverter' \n</code></pre>\n<p>for methods:</p>\n<pre><code>protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\n        return t;\n    }\n</code></pre>\n<p>and</p>\n<pre><code>protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\n    me = new InstantiatorUnitConverter(value, tt, st(tt));\n    return t;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3RULI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3RULI.png\" alt=\"enter image description here\" /></a></p>\n<p>The basic classes of this conversion system are as follows:</p>\n<pre><code>import java.io.Serializable;\n\n/**\n * Instantiated variables from new UnitConverter instance (Only used in class BaseUnitConverter).\n */\npublic final class InstantiatorUnitConverter&lt;T&gt; implements Serializable {\n    private final Object o;      //Only used in DataType and NumericBase measurements (classes), user passed &quot;from&quot; value (Object). When this is the case, variable &quot;v&quot; is not used.\n    private final double v;      //User passed &quot;from&quot; value (double). When this is the case, variable &quot;o&quot; is not used.\n    private final T t;        //Enum constant value representing the &quot;from&quot; method of the measurement used.\n    private final String ts;  //String value of enum constant representing the &quot;from&quot; method of the measurement used.\n    private final boolean d;  //Used in class B.java &quot;getValuePassed()&quot;. True if &quot;from&quot; value was a double, false for Object (Object only used in DataType and NumericBase measurements (classes)).\n\n    /**\n     * Empty constructor only called when instantiating from class B.java\n     */\n    public InstantiatorUnitConverter(){\n        o = &quot;&quot;;\n        v = -1;\n        t = null;\n        ts = &quot;&quot;;\n        d = true;\n    }\n\n    /**\n     * Only used in class B.java when measurement &quot;from&quot; method only converts numbers.\n     * All measurements other than DataType and NumericBase use this constructor.\n     * @param value User passed &quot;from&quot; value (double).\n     * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\n     */\n    public InstantiatorUnitConverter(double value, T enumConstant, String enumTag){\n        o = &quot;&quot;;     //This variable (Object value) will not be used when this constructor is called, default it to an empty string.\n        v = value;\n        t = enumConstant;\n        ts = enumTag;\n        d = true;   //Variable d set to true as &quot;from&quot; value passed is a numeric type not an Object.\n    }\n\n    /**\n     * Only used in class B.java when measurement &quot;from&quot; method can convert more than numbers and an Object is passed as the value.\n     * Only measurements DataType and NumericBase use this constructor.\n     * @param value User passed &quot;from&quot; value (Object).\n     * @param enumConstant Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param enumTag String value of enum constant representing the &quot;from&quot; method of the measurement used.\n     */\n    public InstantiatorUnitConverter(Object value, T enumConstant, String enumTag){\n        o = value;\n        v = -1;     //This variable (double value) will not be used when this constructor is called, default it to -1\n        t = enumConstant;\n        ts = enumTag;\n        d = false;  //Variable d set to false as &quot;from&quot; value passed is an Object not double.\n    }\n\n\n    public Object getO() {\n        return o;\n    }\n\n    public double getV() {\n        return v;\n    }\n\n    public T getT() {\n        return t;\n    }\n\n    public String getTs() {\n        return ts;\n    }\n\n    public boolean isD() {\n        return d;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>import java.io.Serializable;\n\n/**\n * Generic base class for most UnitConverter measurement classes.\n */\npublic class BaseUnitConverter&lt;T&gt; implements Serializable {\n\n    private InstantiatorUnitConverter&lt;T&gt; me; //Instantiate class A.java for variables needed to perform conversions.\n\n    public BaseUnitConverter() {\n        this.me = new InstantiatorUnitConverter&lt;&gt;();\n    }\n\n    public InstantiatorUnitConverter&lt;T&gt; getIstantiator(){\n        return this.me;\n    }\n\n    /**\n     * Returns value initially passed into the measurement's &quot;from&quot; method.\n     */\n    public final Object getValuePassed(){\n        return (me.isD()) ? me.getV() : me.getO();    //true returns numeric value passed, false returns Object passed.\n    }\n\n    /**\n     * Returns the enum constant value representing the &quot;from&quot; method of the measurement used.\n     */\n    public final String getTypeConstantPassed(){\n\n        return me.getTs();\n    }\n\n    /**\n     * Stores the needed values to do conversions of the measurement.\n     * This overload of the method is used in &quot;from&quot; methods in every measurement class other than Anything(), DataType(), and NumericBase().\n     *\n     * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param value User passed &quot;from&quot; value (double).\n     * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @return class context passed in so variable like &quot;UnitOf.Length len&quot; can be used as the variable type\n     */\n    protected final &lt;M,E&gt; M storeValue(M t, double value, E tt){\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\n        return t;\n    }\n\n    /**\n     * Stores the needed values to do conversions of the measurement.\n     * This overload of the method is used only in DataType and NumericBase as Objects can be passed as &quot;from&quot; values.\n     *\n     * @param &lt;M&gt; Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param &lt;E&gt; Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @param t Class context of measurement passed (usually &quot;this&quot; is passed from caller).\n     * @param value User passed &quot;from&quot; value (Object).\n     * @param tt Enum constant value representing the &quot;from&quot; method of the measurement used.\n     * @return class context passed in so variable like &quot;UnitOf.DataType dt&quot; can be used as the variable type\n     */\n    protected final &lt;M, E&gt; M storeValue(M t, Object value, E tt){\n        me = new InstantiatorUnitConverter(value, tt, st(tt));\n        return t;\n    }\n\n    /**\n     * Gets and returns the string value of constant representing the &quot;from&quot; method of the measurement used.\n     */\n    private &lt;E&gt; String st(E tt){\n        String unitType = &quot;&quot;;\n        try{\n            unitType = tt.toString();\n        } catch(Exception ignored){ }\n        return unitType;\n    }\n\n    /**\n     * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here).\n     * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\n     * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\n     * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\n     * @return Finished conversion. &quot;From&quot; converted into &quot;to&quot; value.\n     */\n    protected final double k(double a, double b){\n\n        return k(a,b,true);\n    }\n\n    /**\n     * Used by every measurement class that converts just numbers (Anything(), DataType(), NumericBase() do not apply here)\n     * Method performs the full conversion of taking the user defined &quot;from&quot; value and converting it into the user desired &quot;to&quot; value.\n     * @param a Enum constant value of &quot;to&quot; unit. Unit being converted into conversion constant value.\n     * @param b Enum constant value of &quot;from&quot; unit. Unit starting from conversion constant value.\n     * @param q Multiply then divide conversion algorithm, false will divide then multiply when converting &quot;to&quot;\n     * @return Finished conversion. &quot;from&quot; converted into &quot;to&quot; value.\n     */\n    protected final double k(double a, double b, boolean q){\n\n        return UnitConverterUtils.i(UnitConverterUtils.i(me.getV(), a, q), b, !q);\n    }\n\n\n}\n</code></pre>\n<p>I tried the solution proposed by Serg Vasylchak but I got an error message (note just change letter symbols):</p>\n<p><a href=\"https://i.stack.imgur.com/5whCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5whCZ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DCWGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DCWGf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","openapi"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1683041353,"post_id":76153735,"comment_id":134304101,"body_markdown":"Here ? https://stackoverflow.com/questions/43524355/how-to-display-required-user-roles-access-control-information-in-swagger-ui-fo","body":"Here ? <a href=\"https://stackoverflow.com/questions/43524355/how-to-display-required-user-roles-access-control-information-in-swagger-ui-fo\" title=\"how to display required user roles access control information in swagger ui fo\">stackoverflow.com/questions/43524355/&hellip;</a>"},{"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"score":0,"creation_date":1683102359,"post_id":76153735,"comment_id":134313447,"body_markdown":"@TacheDeChoco thats for using Swagger, not OpenApi","body":"@TacheDeChoco thats for using Swagger, not OpenApi"}],"answers":[{"tags":[],"owner":{"account_id":20731826,"reputation":1,"user_id":15223603,"display_name":"mahh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688490126,"creation_date":1688490126,"answer_id":76614647,"question_id":76153735,"body_markdown":"I propose a workaround for that.\r\nAs roles in applications are strictly defined we can create a special annotation for each role that will be used for authorization and include *@PreAuthorize* annotation together with *@Operation* annotation.\r\n*@Operation* enriches endpoint documentation by custom description.\r\n\r\nSo create annotation:\r\n\r\n    @Target({ ElementType.METHOD, ElementType.TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @Documented\r\n    @PreAuthorize(&quot;hasRole(&#39;bar-admin&#39;)&quot;)\r\n    @Operation(description = &quot;Required role: bar-admin&quot;)\r\n    public @interface AuthorizeBarAdmin {\r\n    }\r\n\r\nNow you can use the *@AuthorizeBarAdmin* annotation instead \r\n*@PreAuthorize(&quot;hasRole(&#39;bar-admin&#39;)&quot;)* and the custom description will be included.\r\n\r\nNote: *@Operation* can be annotated on REST endpoint next to the *@Preauthorize* anyway, but always you need to remember about the additional annotation and copy the description many times. That&#39;s why the above solution is better.\r\n  ","title":"How to display required user roles in for OpenAPI UI?","body":"<p>I propose a workaround for that.\nAs roles in applications are strictly defined we can create a special annotation for each role that will be used for authorization and include <em>@PreAuthorize</em> annotation together with <em>@Operation</em> annotation.\n<em>@Operation</em> enriches endpoint documentation by custom description.</p>\n<p>So create annotation:</p>\n<pre><code>@Target({ ElementType.METHOD, ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\n@PreAuthorize(&quot;hasRole('bar-admin')&quot;)\n@Operation(description = &quot;Required role: bar-admin&quot;)\npublic @interface AuthorizeBarAdmin {\n}\n</code></pre>\n<p>Now you can use the <em>@AuthorizeBarAdmin</em> annotation instead\n<em>@PreAuthorize(&quot;hasRole('bar-admin')&quot;)</em> and the custom description will be included.</p>\n<p>Note: <em>@Operation</em> can be annotated on REST endpoint next to the <em>@Preauthorize</em> anyway, but always you need to remember about the additional annotation and copy the description many times. That's why the above solution is better.</p>\n"},{"tags":[],"owner":{"account_id":28767978,"reputation":11,"user_id":22032423,"display_name":"Grzegorz Jewusiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688682414,"creation_date":1688682276,"answer_id":76632859,"question_id":76153735,"body_markdown":"I use a custom annotation `@UserRoleDescription` with a controller&#39;s method as below:\r\n\r\n    @GetMapping(&quot;/bytin/{tin}&quot;)\r\n    @Secured(&quot;ROLE_ADMIN&quot;)\r\n    @Operation(summary = &quot;Get company by Tax ID Number&quot;)\r\n    @UserRoleDescription\r\n    public CompanyDto getCompanyByTin(@PathVariable String tin) {\r\n        ...\r\n    }\r\n\r\nIt results in a description containing an information about the required role:\r\n[Swagger UI result here][1].\r\n\r\nAnnotation:\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface UserRoleDescription {\r\n\r\n    }\r\n\r\nAnd description customizer:\r\n\r\n    @Component\r\n    public class UserRoleDescriptionCustomizer implements OperationCustomizer {\r\n        @Override\r\n        public Operation customize(Operation operation, HandlerMethod handlerMethod) {\r\n            var annotation = handlerMethod.getMethodAnnotation(UserRoleDescription.class);\r\n            if (annotation != null) {\r\n                var securedAnnotation = handlerMethod.getMethodAnnotation(Secured.class);\r\n                if(securedAnnotation != null) {\r\n                    String description = operation.getDescription()==null ? &quot;&quot; : (operation.getDescription()+&quot;\\n&quot;);\r\n                    operation.setDescription(description + &quot;Required role: **&quot;+ String.join(&quot;or&quot;, securedAnnotation.value()) + &quot;**&quot;);\r\n                }\r\n            }\r\n            return operation;\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/FLrvt.png","title":"How to display required user roles in for OpenAPI UI?","body":"<p>I use a custom annotation <code>@UserRoleDescription</code> with a controller's method as below:</p>\n<pre><code>@GetMapping(&quot;/bytin/{tin}&quot;)\n@Secured(&quot;ROLE_ADMIN&quot;)\n@Operation(summary = &quot;Get company by Tax ID Number&quot;)\n@UserRoleDescription\npublic CompanyDto getCompanyByTin(@PathVariable String tin) {\n    ...\n}\n</code></pre>\n<p>It results in a description containing an information about the required role:\n<a href=\"https://i.stack.imgur.com/FLrvt.png\" rel=\"nofollow noreferrer\">Swagger UI result here</a>.</p>\n<p>Annotation:</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface UserRoleDescription {\n\n}\n</code></pre>\n<p>And description customizer:</p>\n<pre><code>@Component\npublic class UserRoleDescriptionCustomizer implements OperationCustomizer {\n    @Override\n    public Operation customize(Operation operation, HandlerMethod handlerMethod) {\n        var annotation = handlerMethod.getMethodAnnotation(UserRoleDescription.class);\n        if (annotation != null) {\n            var securedAnnotation = handlerMethod.getMethodAnnotation(Secured.class);\n            if(securedAnnotation != null) {\n                String description = operation.getDescription()==null ? &quot;&quot; : (operation.getDescription()+&quot;\\n&quot;);\n                operation.setDescription(description + &quot;Required role: **&quot;+ String.join(&quot;or&quot;, securedAnnotation.value()) + &quot;**&quot;);\n            }\n        }\n        return operation;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688682414,"creation_date":1683021541,"question_id":76153735,"body_markdown":"I have a Spring Boot 3 project and I want to show the required role/permission in the OpenApi UI for my endpoints. I have had this working before, in the past when I used Swagger instead OpenApi, however I am not sure what changes I need to make to get it to work for this.\r\n\r\nHere is what I have:\r\n\r\n    import java.util.Optional;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.stereotype.Component;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spi.service.OperationBuilderPlugin;\r\n    import springfox.documentation.spi.service.contexts.OperationContext;\r\n    import springfox.documentation.spring.web.DescriptionResolver;\r\n    import springfox.documentation.swagger.common.SwaggerPluginSupport;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    @Order(SwaggerPluginSupport.OAS_PLUGIN_ORDER)// this used to be: SWAGGER_PLUGIN_ORDER for Swagger\r\n    @RequiredArgsConstructor\r\n    class MyOperationBuilderPlugin implements OperationBuilderPlugin {\r\n    \r\n      private final DescriptionResolver descriptionResolver;\r\n    \r\n      @Override\r\n      public void apply(OperationContext context) {\r\n        try {\r\n          String apiRoleAccessNoteText = &quot;Required role: None&quot;;\r\n          Optional&lt;PreAuthorize&gt; preAuthorizeAnnotation = context.findAnnotation(PreAuthorize.class);\r\n          if (preAuthorizeAnnotation.isPresent()) {\r\n            apiRoleAccessNoteText =\r\n                &quot;Required role: &quot;\r\n                    + preAuthorizeAnnotation\r\n                        .get()\r\n                        .value()\r\n                        .replace(&quot;hasAuthority(&#39;&quot;, &quot;&quot;)\r\n                        .replace(&quot;&#39;)&quot;, &quot;&quot;);\r\n          }\r\n          context.operationBuilder().notes(descriptionResolver.resolve(apiRoleAccessNoteText));\r\n        } catch (Exception e) {\r\n          log.error(&quot;Error when creating swagger documentation for security roles: &quot; + e);\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public boolean supports(DocumentationType delimiter) {\r\n        return SwaggerPluginSupport.pluginDoesApply(delimiter);\r\n      }\r\n    }\r\n\r\n\r\nThe UI looks like this\r\n\r\n[![No role showing][1]][1]\r\n\r\nHowever, it should show something like this (this is for a previous service using Swagger instead of OpenApi)\r\n[![Should look like this][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bkmu1.png\r\n  [2]: https://i.stack.imgur.com/gQnuK.png","title":"How to display required user roles in for OpenAPI UI?","body":"<p>I have a Spring Boot 3 project and I want to show the required role/permission in the OpenApi UI for my endpoints. I have had this working before, in the past when I used Swagger instead OpenApi, however I am not sure what changes I need to make to get it to work for this.</p>\n<p>Here is what I have:</p>\n<pre><code>import java.util.Optional;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.stereotype.Component;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spi.service.OperationBuilderPlugin;\nimport springfox.documentation.spi.service.contexts.OperationContext;\nimport springfox.documentation.spring.web.DescriptionResolver;\nimport springfox.documentation.swagger.common.SwaggerPluginSupport;\n\n@Slf4j\n@Component\n@Order(SwaggerPluginSupport.OAS_PLUGIN_ORDER)// this used to be: SWAGGER_PLUGIN_ORDER for Swagger\n@RequiredArgsConstructor\nclass MyOperationBuilderPlugin implements OperationBuilderPlugin {\n\n  private final DescriptionResolver descriptionResolver;\n\n  @Override\n  public void apply(OperationContext context) {\n    try {\n      String apiRoleAccessNoteText = &quot;Required role: None&quot;;\n      Optional&lt;PreAuthorize&gt; preAuthorizeAnnotation = context.findAnnotation(PreAuthorize.class);\n      if (preAuthorizeAnnotation.isPresent()) {\n        apiRoleAccessNoteText =\n            &quot;Required role: &quot;\n                + preAuthorizeAnnotation\n                    .get()\n                    .value()\n                    .replace(&quot;hasAuthority('&quot;, &quot;&quot;)\n                    .replace(&quot;')&quot;, &quot;&quot;);\n      }\n      context.operationBuilder().notes(descriptionResolver.resolve(apiRoleAccessNoteText));\n    } catch (Exception e) {\n      log.error(&quot;Error when creating swagger documentation for security roles: &quot; + e);\n    }\n  }\n\n  @Override\n  public boolean supports(DocumentationType delimiter) {\n    return SwaggerPluginSupport.pluginDoesApply(delimiter);\n  }\n}\n</code></pre>\n<p>The UI looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/Bkmu1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bkmu1.png\" alt=\"No role showing\" /></a></p>\n<p>However, it should show something like this (this is for a previous service using Swagger instead of OpenApi)\n<a href=\"https://i.stack.imgur.com/gQnuK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQnuK.png\" alt=\"Should look like this\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security","jwt","backend"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":1,"creation_date":1688678019,"post_id":76632497,"comment_id":135110028,"body_markdown":"Well, you explicitily configured POST to `/api/v1/auth` as secured (`hasRole(&quot;ADMIN&quot;)`), which looks wrong - at this point, you have nothing in security context yet. Generally, the sign-in/sign-up requests are `.permitAll()`, while all the others are protected - e.g., closing the customizer chain with `.anyRequest().authenticated();`","body":"Well, you explicitily configured POST to <code>&#47;api&#47;v1&#47;auth</code> as secured (<code>hasRole(&quot;ADMIN&quot;)</code>), which looks wrong - at this point, you have nothing in security context yet. Generally, the sign-in/sign-up requests are <code>.permitAll()</code>, while all the others are protected - e.g., closing the customizer chain with <code>.anyRequest().authenticated();</code>"},{"owner":{"account_id":18328343,"reputation":11,"user_id":16968310,"display_name":"Bohdan"},"score":0,"creation_date":1688679071,"post_id":76632497,"comment_id":135110160,"body_markdown":"@SergVasylchak **/api/v1/auth** only for Admin. I don&#39;t have others controller and this is like test controller","body":"@SergVasylchak <b>/api/v1/auth</b> only for Admin. I don&#39;t have others controller and this is like test controller"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1688681540,"post_id":76632497,"comment_id":135110522,"body_markdown":"You need to be more specific on how this should work. Assuming it&#39;s just username/password login, then the user has no authorities yet. `PreAuthorize` does a check _before_ it allows access to the endpoint. If you need additional checks, like user type, do those checks in the endpoint. e.g. `if userIsNotAdmin then return 401`","body":"You need to be more specific on how this should work. Assuming it&#39;s just username/password login, then the user has no authorities yet. <code>PreAuthorize</code> does a check <i>before</i> it allows access to the endpoint. If you need additional checks, like user type, do those checks in the endpoint. e.g. <code>if userIsNotAdmin then return 401</code>"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688682395,"creation_date":1688682395,"answer_id":76632869,"question_id":76632497,"body_markdown":"you are creating a loop here. for a user to login they need to be an admin, and for them to be an admin they must login first !! this does not work. usually login endpoint should not have any authorization required","title":"Back-end doesn&#39;t send me a response (JWT) while using Spring Security","body":"<p>you are creating a loop here. for a user to login they need to be an admin, and for them to be an admin they must login first !! this does not work. usually login endpoint should not have any authorization required</p>\n"}],"owner":{"account_id":18328343,"reputation":11,"user_id":16968310,"display_name":"Bohdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688682395,"creation_date":1688677165,"question_id":76632497,"body_markdown":"I don&#39;t get a `token JWT` after send a request to the restcontroller.\r\nI tried to rewrite, but this didn&#39;t solve the problem.\r\nI&#39;m confused becuase I thought that I need to enter the default security password, but `&quot;Basic auth&quot;` is disabled.\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception\r\n    {\r\n        http\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests(\r\n                        requests -&gt; requests\r\n                                .requestMatchers(&quot;/&quot;).permitAll()\r\n                                .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;).hasRole(&quot;ADMIN&quot;)\r\n                                .anyRequest().authenticated()\r\n\r\n                )\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\r\n                //.addFilterAfter(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n        return http.build();\r\n    }\r\n\r\n---------------------\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class AuthController\r\n    {\r\n        private final UserDetailsServiceImpl userDetailsService;\r\n        private final JwtProvider jwtProvider;\r\n        private final AuthenticationManager authenticationManager;\r\n    \r\n        @PreAuthorize(&quot;hasAuthority(&#39;ADMIN&#39;)&quot;)\r\n        @PostMapping(&quot;/auth&quot;)\r\n        public ResponseEntity&lt;?&gt; createAuthToken(@RequestBody AuthRequestDTO authRequestDTO)\r\n        {\r\n            try\r\n            {\r\n                authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authRequestDTO.getUsername(), authRequestDTO.getPassword()));\r\n            }\r\n            catch (BadCredentialsException e)\r\n            {\r\n                return new ResponseEntity&lt;&gt;(new ApiError(HttpStatus.UNAUTHORIZED, &quot;Invalid username or password&quot;), HttpStatus.UNAUTHORIZED);\r\n            }\r\n    \r\n            UserDetails userDetails = userDetailsService.loadUserByUsername(authRequestDTO.getUsername());\r\n    \r\n            String token = jwtProvider.generateToken(userDetails);\r\n    \r\n            return ResponseEntity.ok(new AuthResponseDTO(token));\r\n        }\r\n    }\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gUjN5.png","title":"Back-end doesn&#39;t send me a response (JWT) while using Spring Security","body":"<p>I don't get a <code>token JWT</code> after send a request to the restcontroller.\nI tried to rewrite, but this didn't solve the problem.\nI'm confused becuase I thought that I need to enter the default security password, but <code>&quot;Basic auth&quot;</code> is disabled.</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception\n{\n    http\n            .csrf().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeHttpRequests(\n                    requests -&gt; requests\n                            .requestMatchers(&quot;/&quot;).permitAll()\n                            .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;).hasRole(&quot;ADMIN&quot;)\n                            .anyRequest().authenticated()\n\n            )\n            .exceptionHandling()\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED));\n            //.addFilterAfter(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n\n    return http.build();\n}\n</code></pre>\n<hr />\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/v1&quot;)\npublic class AuthController\n{\n    private final UserDetailsServiceImpl userDetailsService;\n    private final JwtProvider jwtProvider;\n    private final AuthenticationManager authenticationManager;\n\n    @PreAuthorize(&quot;hasAuthority('ADMIN')&quot;)\n    @PostMapping(&quot;/auth&quot;)\n    public ResponseEntity&lt;?&gt; createAuthToken(@RequestBody AuthRequestDTO authRequestDTO)\n    {\n        try\n        {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(authRequestDTO.getUsername(), authRequestDTO.getPassword()));\n        }\n        catch (BadCredentialsException e)\n        {\n            return new ResponseEntity&lt;&gt;(new ApiError(HttpStatus.UNAUTHORIZED, &quot;Invalid username or password&quot;), HttpStatus.UNAUTHORIZED);\n        }\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(authRequestDTO.getUsername());\n\n        String token = jwtProvider.generateToken(userDetails);\n\n        return ResponseEntity.ok(new AuthResponseDTO(token));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gUjN5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","javafx","jackson","nosql"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687748224,"creation_date":1687748224,"answer_id":76553271,"question_id":76552717,"body_markdown":"&gt; `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible\r\n\r\nadd setter for id property so that jackson can access it\r\n\r\n    public void setId(int id) {\r\n       this.id= id;\r\n    }","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException Invalid type definition for type `com.app.bankapplet.bank.Bank`","body":"<blockquote>\n<p><code>java.lang.reflect.InaccessibleObjectException</code>, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible</p>\n</blockquote>\n<p>add setter for id property so that jackson can access it</p>\n<pre><code>public void setId(int id) {\n   this.id= id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688682081,"creation_date":1688166717,"answer_id":76592655,"question_id":76552717,"body_markdown":"**Solution: Update your Maven project and Java module-info**\r\n\r\nTo get your example to run, I needed to make the following changes.\r\n\r\n1. Replace the FXML scene with an empty scene, as there is no FXML in your question.\r\n\r\n       // FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\r\n       // Scene scene = new Scene(fxmlLoader.load(), 800, 600);\r\n       stage.setScene(new Scene(new Group()));\r\n\r\n2. Add a dependency management section to the pom.xml as recommended by [the Jackson maven guide][1] and replace the remove the version for the jackson-databind so that it could be derived from the bill of materials (bom) in the dependency management section.  (I am not sure why this was required, but, without it, my IDE complained that the dependent jackson-core jar file was empty).\r\n\r\n       &lt;dependencyManagement&gt;\r\n           &lt;dependencies&gt;\r\n               &lt;dependency&gt;\r\n                   &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\r\n                   &lt;version&gt;2.15.2&lt;/version&gt;\r\n                   &lt;scope&gt;import&lt;/scope&gt;\r\n                   &lt;type&gt;pom&lt;/type&gt;\r\n               &lt;/dependency&gt;\r\n           &lt;/dependencies&gt;\r\n       &lt;/dependencyManagement&gt;\r\n       . . .\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-databind&lt;/&gt;\r\n       &lt;/dependency&gt;\r\n\r\n3. Update the module-info.java to require the jackson databind module.\r\n\r\n       requires com.fasterxml.jackson.databind;\r\n\r\n4. Update the module-info.java to open the bank package to the jackson databind module.\r\n\r\n       opens com.app.bankapplet.bank to com.fasterxml.jackson.databind;\r\n\r\nI did not need to apply the modification to add an id setter proposed by [AhmedNabil&#39;s answer][2].  This is because Jackson works on introspection by reflection, and was able to introspect your Bank class once the package opened it to the module, even without a public setter on the id field.  You might want to consider using an ID setter regardless. \r\n\r\n**Additional Comments**\r\n\r\nYou need to:\r\n\r\n1. Require the jackson modules in your module-info, (look for the names in their module-info or META-INF). \r\n2. In your module-info open the required package (you can see it in the error message) to the appropriate jackson module (it will tell you the name of the jackson module you need to open it to in the error it will generate after you fix step 1). \r\n\r\nIf you don&#39;t understand, study [Understanding Java 9 modules][3].\r\n\r\n\r\nAlthough my answer solves the issue marked in your question, future work may also be more complicated because of the use of the non-modular nitrate jar which you are using as an [automatic module][4] (so stuff like `jlink` like you have in your Maven project) won&#39;t work with it. \r\n\r\nYou might want to consider getting rid of the module info altogether and creating a non-modular project, then either having JavaFX in the runtime (e.g. [Azul Zulu JDK FX distribution][5]) or providing the JavaFX modules via command line arguments (see [openjfx.io getting started][6] for more info about that configuration). \r\n\r\n**FAQ**\r\n\r\n&gt; Why would I be required to load an empty Scene?\r\n\r\nYou dont need to do that. \r\n\r\nIt is what I needed to do, to be able to run the app in my environment. Your application loads an fxml file which I dont have. The required fxml file is not included your question, so unless I changed your code, it would not run.\r\n\r\n&gt; What is `jlink`?\r\n\r\n[`jlink`][7] is a Java linker. \r\n\r\nIt is a part of the JDK. It builds custom native runtimes for Java and for modular Java applications. \r\n\r\nThe Maven project file you provided in your question refers to it using an execution of the [`javafx-maven-plugin`][8], so I thought you might be trying to use it (which won&#39;t work for an app with automatic modules such as you have).\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind#maven\r\n  [2]: https://stackoverflow.com/a/76553271/1155209\r\n  [3]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [4]: https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n  [5]: https://www.azul.com/downloads/?package=jdk-fx#zulu\r\n  [6]: https://openjfx.io/openjfx-docs/\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html\r\n  [8]: https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException Invalid type definition for type `com.app.bankapplet.bank.Bank`","body":"<p><strong>Solution: Update your Maven project and Java module-info</strong></p>\n<p>To get your example to run, I needed to make the following changes.</p>\n<ol>\n<li><p>Replace the FXML scene with an empty scene, as there is no FXML in your question.</p>\n<pre><code>// FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\n// Scene scene = new Scene(fxmlLoader.load(), 800, 600);\nstage.setScene(new Scene(new Group()));\n</code></pre>\n</li>\n<li><p>Add a dependency management section to the pom.xml as recommended by <a href=\"https://github.com/FasterXML/jackson-databind#maven\" rel=\"nofollow noreferrer\">the Jackson maven guide</a> and replace the remove the version for the jackson-databind so that it could be derived from the bill of materials (bom) in the dependency management section.  (I am not sure why this was required, but, without it, my IDE complained that the dependent jackson-core jar file was empty).</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-bom&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n. . .\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Update the module-info.java to require the jackson databind module.</p>\n<pre><code>requires com.fasterxml.jackson.databind;\n</code></pre>\n</li>\n<li><p>Update the module-info.java to open the bank package to the jackson databind module.</p>\n<pre><code>opens com.app.bankapplet.bank to com.fasterxml.jackson.databind;\n</code></pre>\n</li>\n</ol>\n<p>I did not need to apply the modification to add an id setter proposed by <a href=\"https://stackoverflow.com/a/76553271/1155209\">AhmedNabil's answer</a>.  This is because Jackson works on introspection by reflection, and was able to introspect your Bank class once the package opened it to the module, even without a public setter on the id field.  You might want to consider using an ID setter regardless.</p>\n<p><strong>Additional Comments</strong></p>\n<p>You need to:</p>\n<ol>\n<li>Require the jackson modules in your module-info, (look for the names in their module-info or META-INF).</li>\n<li>In your module-info open the required package (you can see it in the error message) to the appropriate jackson module (it will tell you the name of the jackson module you need to open it to in the error it will generate after you fix step 1).</li>\n</ol>\n<p>If you don't understand, study <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understanding Java 9 modules</a>.</p>\n<p>Although my answer solves the issue marked in your question, future work may also be more complicated because of the use of the non-modular nitrate jar which you are using as an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a> (so stuff like <code>jlink</code> like you have in your Maven project) won't work with it.</p>\n<p>You might want to consider getting rid of the module info altogether and creating a non-modular project, then either having JavaFX in the runtime (e.g. <a href=\"https://www.azul.com/downloads/?package=jdk-fx#zulu\" rel=\"nofollow noreferrer\">Azul Zulu JDK FX distribution</a>) or providing the JavaFX modules via command line arguments (see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io getting started</a> for more info about that configuration).</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>Why would I be required to load an empty Scene?</p>\n</blockquote>\n<p>You dont need to do that.</p>\n<p>It is what I needed to do, to be able to run the app in my environment. Your application loads an fxml file which I dont have. The required fxml file is not included your question, so unless I changed your code, it would not run.</p>\n<blockquote>\n<p>What is <code>jlink</code>?</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> is a Java linker.</p>\n<p>It is a part of the JDK. It builds custom native runtimes for Java and for modular Java applications.</p>\n<p>The Maven project file you provided in your question refers to it using an execution of the <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\"><code>javafx-maven-plugin</code></a>, so I thought you might be trying to use it (which won't work for an app with automatic modules such as you have).</p>\n"}],"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76592655,"answer_count":2,"score":1,"last_activity_date":1688682081,"creation_date":1687733980,"question_id":76552717,"body_markdown":"Trying to create a Java Object and store it in a [NOsql Object (NO2 a.k.a Nitrite) database](https://www.dizitart.org/nitrite-database/).\r\n\r\nUpon trying to store the object in an object repository the com.fasterxml.jackson.databind.exc.InvalidDefinitionException exception is thrown.\r\n\r\nI have tried to export the bank.java class in the module-info.java file; I have tried to add a default constructor in the bank.java class. Neither have solved the problem.\r\n\r\nThank you for the help in solving this error.\r\n\r\nThe full error is displayed as follows:\r\n```lang-java\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.app.bankapplet.bank.Bank`: Failed to construct BeanSerializer for [simple type, class com.app.bankapplet.bank.Bank]: (java.lang.IllegalArgumentException) Failed to call `setAccess()` on Field &#39;id&#39; (of class `com.app.bankapplet.bank.Bank`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible: module com.app.bankapplet does not &quot;opens com.app.bankapplet.bank&quot; to unnamed module @6293abcc\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:72)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadTypeDefinition(SerializerProvider.java:1280)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.constructBeanOrAddOnSerializer(BeanSerializerFactory.java:475)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.findBeanOrAddOnSerializer(BeanSerializerFactory.java:295)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory._createSerializer2(BeanSerializerFactory.java:240)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:174)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider._createUntypedSerializer(SerializerProvider.java:1503)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1451)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.findValueSerializer(SerializerProvider.java:556)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.findTypedValueSerializer(SerializerProvider.java:834)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:307)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4522)\r\n\t... 18 more\r\nException running application com.app.bankapplet.Main\r\n```\r\n\r\nWhat I would expect to have happen is the object is stored in the object repository.\r\n\r\nPlease find below my code:\r\n\r\nMain.java\r\n```lang-java\r\npackage com.app.bankapplet;\r\n\r\nimport com.app.bankapplet.bank.Bank;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Callback;\r\nimport org.dizitart.no2.Nitrite;\r\nimport org.dizitart.no2.NitriteCollection;\r\nimport org.dizitart.no2.objects.ObjectRepository;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class Main extends Application {\r\n    private static Nitrite db;\r\n    private static Bank bank;\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        // Generates a bank\r\n        bank = getBank();\r\n        ObjectRepository&lt;Bank&gt; bankObjectStore = db.getRepository(Bank.class);\r\n        bankObjectStore.insert(bank);\r\n\r\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 800, 600);\r\n        stage.setTitle(&quot;Bank Manager&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        db = Nitrite.builder()\r\n                .filePath(new File(&quot;target/appdb.db&quot;))\r\n                .compressed()\r\n                .openOrCreate();\r\n        launch();\r\n    }\r\n    protected static Bank getBank() {\r\n        Dialog&lt;Bank&gt; dialog = new Dialog&lt;&gt;();\r\n        dialog.setTitle(&quot;New Bank&quot;);\r\n        dialog.setHeaderText(&quot;Enter the name of the bank:&quot;);\r\n\r\n        Label label = new Label(&quot;Bank Name: &quot;);\r\n        TextField text = new TextField();\r\n\r\n        GridPane gridPane = new GridPane();\r\n        gridPane.add(label, 1, 1);\r\n        gridPane.add(text, 2, 1);\r\n        dialog.getDialogPane().setContent(gridPane);\r\n\r\n        ButtonType buttonTypeOK = new ButtonType(&quot;OK&quot;, ButtonBar.ButtonData.OK_DONE);\r\n        dialog.getDialogPane().getButtonTypes().add(buttonTypeOK);\r\n\r\n        dialog.setResultConverter(new Callback&lt;ButtonType, Bank&gt;() {\r\n            @Override\r\n            public Bank call(ButtonType b) {\r\n                if(b == buttonTypeOK) {\r\n                    return new Bank(text.getText());\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n\r\n        Optional&lt;Bank&gt; result = dialog.showAndWait();\r\n\r\n        if(result.isPresent()) {\r\n            return result.get();\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBank.java\r\n```lang-java\r\npackage com.app.bankapplet.bank;\r\n\r\nimport org.dizitart.no2.objects.Id;\r\n\r\npublic class Bank {\r\n    @Id\r\n    private int id;\r\n    private String name;\r\n\r\n    public Bank() {\r\n\r\n    }\r\n    public Bank(String name) {\r\n        this.id = 0;\r\n        this.name = name;\r\n    }\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    private static String toTitleCase(String item) {\r\n        if (item == null || item.isEmpty()) {\r\n            return item;\r\n        }\r\n\r\n        StringBuilder convertedString = new StringBuilder();\r\n        boolean convertNext = true;\r\n\r\n        for (char ch : item.toCharArray()) {\r\n            if (Character.isSpaceChar(ch)) {\r\n                convertNext = true;\r\n            } else if (convertNext) {\r\n                ch = Character.toTitleCase(ch);\r\n                convertNext = false;\r\n            } else {\r\n                ch = Character.toLowerCase(ch);\r\n            }\r\n            convertedString.append(ch);\r\n        }\r\n\r\n        return convertedString.toString();\r\n    }\r\n}\r\n```\r\n\r\nmodule-info.java\r\n```lang-java\r\nmodule com.app.bankapplet {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires nitrite;\r\n\r\n    opens com.app.bankapplet to javafx.fxml;\r\n    exports com.app.bankapplet.bank;\r\n    exports com.app.bankapplet;\r\n}\r\n```\r\n\r\npom.xml\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BankApplet&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;BankApplet&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.dizitart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nitrite&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;20&lt;/source&gt;\r\n                    &lt;target&gt;20&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.app.bankapplet/com.app.bankapplet.Main&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException Invalid type definition for type `com.app.bankapplet.bank.Bank`","body":"<p>Trying to create a Java Object and store it in a <a href=\"https://www.dizitart.org/nitrite-database/\" rel=\"nofollow noreferrer\">NOsql Object (NO2 a.k.a Nitrite) database</a>.</p>\n<p>Upon trying to store the object in an object repository the com.fasterxml.jackson.databind.exc.InvalidDefinitionException exception is thrown.</p>\n<p>I have tried to export the bank.java class in the module-info.java file; I have tried to add a default constructor in the bank.java class. Neither have solved the problem.</p>\n<p>Thank you for the help in solving this error.</p>\n<p>The full error is displayed as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.app.bankapplet.bank.Bank`: Failed to construct BeanSerializer for [simple type, class com.app.bankapplet.bank.Bank]: (java.lang.IllegalArgumentException) Failed to call `setAccess()` on Field 'id' (of class `com.app.bankapplet.bank.Bank`) due to `java.lang.reflect.InaccessibleObjectException`, problem: Unable to make field private int com.app.bankapplet.bank.Bank.id accessible: module com.app.bankapplet does not &quot;opens com.app.bankapplet.bank&quot; to unnamed module @6293abcc\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:72)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadTypeDefinition(SerializerProvider.java:1280)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.constructBeanOrAddOnSerializer(BeanSerializerFactory.java:475)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.findBeanOrAddOnSerializer(BeanSerializerFactory.java:295)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory._createSerializer2(BeanSerializerFactory.java:240)\n    at com.fasterxml.jackson.databind.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:174)\n    at com.fasterxml.jackson.databind.SerializerProvider._createUntypedSerializer(SerializerProvider.java:1503)\n    at com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1451)\n    at com.fasterxml.jackson.databind.SerializerProvider.findValueSerializer(SerializerProvider.java:556)\n    at com.fasterxml.jackson.databind.SerializerProvider.findTypedValueSerializer(SerializerProvider.java:834)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:307)\n    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4522)\n    ... 18 more\nException running application com.app.bankapplet.Main\n</code></pre>\n<p>What I would expect to have happen is the object is stored in the object repository.</p>\n<p>Please find below my code:</p>\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.bankapplet;\n\nimport com.app.bankapplet.bank.Bank;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\nimport org.dizitart.no2.Nitrite;\nimport org.dizitart.no2.NitriteCollection;\nimport org.dizitart.no2.objects.ObjectRepository;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class Main extends Application {\n    private static Nitrite db;\n    private static Bank bank;\n    @Override\n    public void start(Stage stage) throws IOException {\n        // Generates a bank\n        bank = getBank();\n        ObjectRepository&lt;Bank&gt; bankObjectStore = db.getRepository(Bank.class);\n        bankObjectStore.insert(bank);\n\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;main.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 800, 600);\n        stage.setTitle(&quot;Bank Manager&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n    public static void main(String[] args) {\n        db = Nitrite.builder()\n                .filePath(new File(&quot;target/appdb.db&quot;))\n                .compressed()\n                .openOrCreate();\n        launch();\n    }\n    protected static Bank getBank() {\n        Dialog&lt;Bank&gt; dialog = new Dialog&lt;&gt;();\n        dialog.setTitle(&quot;New Bank&quot;);\n        dialog.setHeaderText(&quot;Enter the name of the bank:&quot;);\n\n        Label label = new Label(&quot;Bank Name: &quot;);\n        TextField text = new TextField();\n\n        GridPane gridPane = new GridPane();\n        gridPane.add(label, 1, 1);\n        gridPane.add(text, 2, 1);\n        dialog.getDialogPane().setContent(gridPane);\n\n        ButtonType buttonTypeOK = new ButtonType(&quot;OK&quot;, ButtonBar.ButtonData.OK_DONE);\n        dialog.getDialogPane().getButtonTypes().add(buttonTypeOK);\n\n        dialog.setResultConverter(new Callback&lt;ButtonType, Bank&gt;() {\n            @Override\n            public Bank call(ButtonType b) {\n                if(b == buttonTypeOK) {\n                    return new Bank(text.getText());\n                }\n                return null;\n            }\n        });\n\n        Optional&lt;Bank&gt; result = dialog.showAndWait();\n\n        if(result.isPresent()) {\n            return result.get();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>Bank.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.bankapplet.bank;\n\nimport org.dizitart.no2.objects.Id;\n\npublic class Bank {\n    @Id\n    private int id;\n    private String name;\n\n    public Bank() {\n\n    }\n    public Bank(String name) {\n        this.id = 0;\n        this.name = name;\n    }\n    public int getId() {\n        return id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    private static String toTitleCase(String item) {\n        if (item == null || item.isEmpty()) {\n            return item;\n        }\n\n        StringBuilder convertedString = new StringBuilder();\n        boolean convertNext = true;\n\n        for (char ch : item.toCharArray()) {\n            if (Character.isSpaceChar(ch)) {\n                convertNext = true;\n            } else if (convertNext) {\n                ch = Character.toTitleCase(ch);\n                convertNext = false;\n            } else {\n                ch = Character.toLowerCase(ch);\n            }\n            convertedString.append(ch);\n        }\n\n        return convertedString.toString();\n    }\n}\n</code></pre>\n<p>module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.app.bankapplet {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires nitrite;\n\n    opens com.app.bankapplet to javafx.fxml;\n    exports com.app.bankapplet.bank;\n    exports com.app.bankapplet;\n}\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;BankApplet&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;BankApplet&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dizitart&lt;/groupId&gt;\n            &lt;artifactId&gt;nitrite&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;20&lt;/source&gt;\n                    &lt;target&gt;20&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.app.bankapplet/com.app.bankapplet.Main&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","bean-validation","resourcebundle"],"comments":[{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":0,"creation_date":1343160374,"post_id":11599208,"comment_id":15416590,"body_markdown":"What is it you actually want to achieve? Why do you want to add the bundle several times to your application?","body":"What is it you actually want to achieve? Why do you want to add the bundle several times to your application?"},{"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"score":0,"creation_date":1343202159,"post_id":11599208,"comment_id":15427294,"body_markdown":"Can  you clarify your configuration? Where and how do you add another _ValidationMessages_it.properties_. Maybe you can outline the full structure of your war and of course why you want to add the same property file twice. In case you want to be able to specify multiple different properties file you should have a look at AggregateResourceBundleLocator (provided you are using Hibernate Validator)","body":"Can  you clarify your configuration? Where and how do you add another <i>ValidationMessages_it.properties</i>. Maybe you can outline the full structure of your war and of course why you want to add the same property file twice. In case you want to be able to specify multiple different properties file you should have a look at AggregateResourceBundleLocator (provided you are using Hibernate Validator)"},{"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"score":0,"creation_date":1343209005,"post_id":11599208,"comment_id":15430336,"body_markdown":"@Hardy: it&#39;s not the same bundle, it is another one that contains other messages. See the edit on my post","body":"@Hardy: it&#39;s not the same bundle, it is another one that contains other messages. See the edit on my post"},{"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"score":0,"creation_date":1343461748,"post_id":11599208,"comment_id":15515543,"body_markdown":"@Gunnar, since you are in JSR 349 EG may you have a look at my edits? I don&#39;t know if it&#39;s an error in my configuration, a bug or an expected behavior.","body":"@Gunnar, since you are in JSR 349 EG may you have a look at my edits? I don&#39;t know if it&#39;s an error in my configuration, a bug or an expected behavior."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1607677603,"post_id":11599208,"comment_id":115352766,"body_markdown":"The FileFactory links for the uploaded webapps are now invalid: &quot;Invalid Download Link: This file may have been deleted, or it may have expired. This error can also occur if the file link is invalid.&quot;","body":"The FileFactory links for the uploaded webapps are now invalid: &quot;Invalid Download Link: This file may have been deleted, or it may have expired. This error can also occur if the file link is invalid.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1607677750,"creation_date":1343312571,"answer_id":11671418,"question_id":11599208,"body_markdown":"I think the solution in your case is the mentioned _AggregateResourceBundleLocator_. However, you cannot have the same name for the property files. Internally _ResourceBundle#getBundle_ is called which does return a single _ResourceBundle_. There is no concept of combining/merging properties files with the same name. \r\n\r\n**EDIT 1**\r\n\r\nRegarding a standard way of doing it - unfortunately there is none. There is an open issue for Bean Validation 1.1 ([BVAL-252](https://hibernate.atlassian.net/browse/BVAL-252)) to address the ability to provide constraint libraries, but there is nothing decided yet and the message interpolation would needs addressing as well. Maybe you have an idea on how it should work. If so provide your suggestion to the expert group. Check beanvalidation.org","title":"Conflict between ValidationMessages.properties files","body":"<p>I think the solution in your case is the mentioned <em>AggregateResourceBundleLocator</em>. However, you cannot have the same name for the property files. Internally <em>ResourceBundle#getBundle</em> is called which does return a single <em>ResourceBundle</em>. There is no concept of combining/merging properties files with the same name.</p>\n<p><strong>EDIT 1</strong></p>\n<p>Regarding a standard way of doing it - unfortunately there is none. There is an open issue for Bean Validation 1.1 (<a href=\"https://hibernate.atlassian.net/browse/BVAL-252\" rel=\"nofollow noreferrer\">BVAL-252</a>) to address the ability to provide constraint libraries, but there is nothing decided yet and the message interpolation would needs addressing as well. Maybe you have an idea on how it should work. If so provide your suggestion to the expert group. Check beanvalidation.org</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688681583,"creation_date":1446229915,"answer_id":33442715,"question_id":11599208,"body_markdown":"By default, if multiple JAR/WAR/etc. files contain a resource bundle file with the exact same name, only one of them will be used for validator messages.  This is the issue here: both `commons.jar` and the application WAR contain a resource with name `ValidationMessages_it.properties`.\r\n\r\nHibernate Validator 5.2, released in July 2015, added support for aggregating all resource bundles with the same name from different JAR files.  This functionality is disabled by default, and can be configured in [org.hibernate.validator.resourceloading.PlatformResourceBundleLocator](http://docs.jboss.org/hibernate/validator/5.2/api/org/hibernate/validator/resourceloading/PlatformResourceBundleLocator.html#PlatformResourceBundleLocator-java.lang.String-java.lang.ClassLoader-boolean-).\r\n\r\nExample:\r\n\r\n```lang-java\r\nPlatformResourceBundleLocator resourceBundleLocator =\r\n        new PlatformResourceBundleLocator(\r\n                ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \r\n                null, true);\r\n\r\nValidator validator = Validation.byProvider(HibernateValidator)\r\n    .configure()\r\n    .messageInterpolator(\r\n            new ResourceBundleMessageInterpolator(resourceBundleLocator))\r\n    .buildValidatorFactory()\r\n    .getValidator();\r\n```\r\n\r\nEquivalent code for a Spring project using Java config:\r\n\r\n```lang-java\r\n@Bean\r\npublic LocalValidatorFactoryBean validator() {\r\n    PlatformResourceBundleLocator resourceBundleLocator =\r\n            new PlatformResourceBundleLocator(\r\n                    ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \r\n                    null, true);\r\n\r\n    LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n    factoryBean.setMessageInterpolator(\r\n            new ResourceBundleMessageInterpolator(resourceBundleLocator));\r\n    return factoryBean;\r\n}\r\n```\r\n\r\nFor a Spring Boot 3.x project using Web MVC, the following configures both the default validator used by Spring, as well as the validator used by Web MVC for validating controller parameters and the like:\r\n\r\n```lang-java\r\nimport org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator;\r\nimport org.hibernate.validator.resourceloading.PlatformResourceBundleLocator;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Import;\r\nimport org.springframework.validation.Validator;\r\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class ValidationConfig {\r\n    /**\r\n     * Matches the bean name from {@code ValidationAutoConfiguration.defaultValidator}.\r\n     */\r\n    @Bean\r\n    public LocalValidatorFactoryBean defaultValidator() {\r\n        PlatformResourceBundleLocator resourceBundleLocator =\r\n                new PlatformResourceBundleLocator(\r\n                        ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \r\n                        null, true);\r\n\r\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\r\n        factoryBean.setMessageInterpolator(\r\n                new ResourceBundleMessageInterpolator(resourceBundleLocator));\r\n        return factoryBean;\r\n    }\r\n\r\n    @Bean\r\n    public WebMvcConfigurer validatorConfigurer(Validator defaultValidator) {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public Validator getValidator() {\r\n                return defaultValidator;\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Conflict between ValidationMessages.properties files","body":"<p>By default, if multiple JAR/WAR/etc. files contain a resource bundle file with the exact same name, only one of them will be used for validator messages.  This is the issue here: both <code>commons.jar</code> and the application WAR contain a resource with name <code>ValidationMessages_it.properties</code>.</p>\n<p>Hibernate Validator 5.2, released in July 2015, added support for aggregating all resource bundles with the same name from different JAR files.  This functionality is disabled by default, and can be configured in <a href=\"http://docs.jboss.org/hibernate/validator/5.2/api/org/hibernate/validator/resourceloading/PlatformResourceBundleLocator.html#PlatformResourceBundleLocator-java.lang.String-java.lang.ClassLoader-boolean-\" rel=\"nofollow noreferrer\">org.hibernate.validator.resourceloading.PlatformResourceBundleLocator</a>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlatformResourceBundleLocator resourceBundleLocator =\n        new PlatformResourceBundleLocator(\n                ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \n                null, true);\n\nValidator validator = Validation.byProvider(HibernateValidator)\n    .configure()\n    .messageInterpolator(\n            new ResourceBundleMessageInterpolator(resourceBundleLocator))\n    .buildValidatorFactory()\n    .getValidator();\n</code></pre>\n<p>Equivalent code for a Spring project using Java config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic LocalValidatorFactoryBean validator() {\n    PlatformResourceBundleLocator resourceBundleLocator =\n            new PlatformResourceBundleLocator(\n                    ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \n                    null, true);\n\n    LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n    factoryBean.setMessageInterpolator(\n            new ResourceBundleMessageInterpolator(resourceBundleLocator));\n    return factoryBean;\n}\n</code></pre>\n<p>For a Spring Boot 3.x project using Web MVC, the following configures both the default validator used by Spring, as well as the validator used by Web MVC for validating controller parameters and the like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator;\nimport org.hibernate.validator.resourceloading.PlatformResourceBundleLocator;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.validation.Validator;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class ValidationConfig {\n    /**\n     * Matches the bean name from {@code ValidationAutoConfiguration.defaultValidator}.\n     */\n    @Bean\n    public LocalValidatorFactoryBean defaultValidator() {\n        PlatformResourceBundleLocator resourceBundleLocator =\n                new PlatformResourceBundleLocator(\n                        ResourceBundleMessageInterpolator.USER_VALIDATION_MESSAGES, \n                        null, true);\n\n        LocalValidatorFactoryBean factoryBean = new LocalValidatorFactoryBean();\n        factoryBean.setMessageInterpolator(\n                new ResourceBundleMessageInterpolator(resourceBundleLocator));\n        return factoryBean;\n    }\n\n    @Bean\n    public WebMvcConfigurer validatorConfigurer(Validator defaultValidator) {\n        return new WebMvcConfigurer() {\n            @Override\n            public Validator getValidator() {\n                return defaultValidator;\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":192508,"reputation":2301,"user_id":433693,"accept_rate":89,"display_name":"Alf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3509,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11671418,"answer_count":2,"score":5,"last_activity_date":1688681583,"creation_date":1342950130,"question_id":11599208,"body_markdown":"I use to collect all my validation constraints in a common library. In the root of the jar I put a `ValidationMessages_it.properties` file.\r\nAll works fine, if I put this library into a jsf 2 war project all validation messages are shown correctly.\r\nHowever a problem arise if I put another `ValidationMessages_it.properties` in the war artifact too. In this case a `{library.message_key}` string is shown.\r\n\r\nI think Bean Validation find the right property file in the war and does not take into account that in the library.\r\nHow can I solve?\r\n\r\n# Example\r\n\r\nI have a library, commons.jar, that contains custom constraints. In order to set messages for these constraints I&#39;ve added a `ValidationMessages_it.properties` in the root of this library\r\n\r\n```lang-none\r\ncommons.jar\r\n    |\r\n    + library\r\n    |   |\r\n    |   + CustomConstraint.class\r\n    |\r\n    + ValidationMessages_it.properties\r\n```\r\n\r\n## ValidationMessages_it.properties\r\n\r\n```lang-none\r\nlibrary.custom=Questo &#232; l&#39;errore di cui parlavo\r\n```\r\n\r\n## CustomConstraint.java\r\n\r\n```java\r\n@Pattern( regexp = &quot;[a-z]&quot;, message = &quot;{library.custom}&quot; )\r\n@Constraint( validatedBy = {} )\r\n@Documented\r\n@Target( { ElementType.METHOD, ElementType.FIELD } )\r\n@Retention( RetentionPolicy.RUNTIME )\r\npublic @interface CustomConstraint {\r\n    String message() default &quot;C&#39;&#232; un errore&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n**PS:** *note that the message key is on the @Pattern annotation instead of message(), this could seem a mistake but otherwise it never works!*\r\n\r\nAfter that I want to use this `commons.jar` in my web app project (jsf/mojarra 2.1). All works fine. The displayed error message is &quot;Questo &#232; l&#39;errore di cui parlavo&quot;.\r\n\r\nBut now suppose I define new validation constraints in my webapp, so I want to supply translations for these constraints by adding a `ValidationMessages_it.properties` in `WEB-INF/classes` folder. In this case the displayed error message is &quot;{library.custom}&quot;\r\n\r\nSo I think that BV (or jsf?) find the bundle in the war and does not take into account that in the commons.jar. It does not find the key `library.custom` in the `ValidationMessages_it.properties` that resides in the `WEB-INF/classes` folder thus return `{library.custom}` literally.\r\n\r\n# Example 2\r\n\r\nBased on [Bean Validation constraints in a shared library][1], my package structure seems correct. I uploaded a simple web app to show the problem:\r\n\r\n - [a war artifact that can be deployed in a java EE 6 compliant application server][2]\r\n - [a source zip that contains two maven projects, one for library and one for webapp][3]\r\n\r\nI tested the webapp in Glassfish 3.1.2, JBoss AS 7.1.1, Geronimo 3.0.0\r\n\r\nGlassfish and JBoss have the same behavior. In Geronimo it works a little bit better.\r\n\r\n  [1]: https://stackoverflow.com/questions/11683708/bean-validation-constraints-in-a-shared-library\r\n  [2]: http://www.filefactory.com/file/1v4e61w0ty77/n/bvtest-1_0_war\r\n  [3]: http://www.filefactory.com/file/1iteiatld9of/n/bvsource_zip","title":"Conflict between ValidationMessages.properties files","body":"<p>I use to collect all my validation constraints in a common library. In the root of the jar I put a <code>ValidationMessages_it.properties</code> file.\nAll works fine, if I put this library into a jsf 2 war project all validation messages are shown correctly.\nHowever a problem arise if I put another <code>ValidationMessages_it.properties</code> in the war artifact too. In this case a <code>{library.message_key}</code> string is shown.</p>\n<p>I think Bean Validation find the right property file in the war and does not take into account that in the library.\nHow can I solve?</p>\n<h1>Example</h1>\n<p>I have a library, commons.jar, that contains custom constraints. In order to set messages for these constraints I've added a <code>ValidationMessages_it.properties</code> in the root of this library</p>\n<pre class=\"lang-none prettyprint-override\"><code>commons.jar\n    |\n    + library\n    |   |\n    |   + CustomConstraint.class\n    |\n    + ValidationMessages_it.properties\n</code></pre>\n<h2>ValidationMessages_it.properties</h2>\n<pre class=\"lang-none prettyprint-override\"><code>library.custom=Questo  l'errore di cui parlavo\n</code></pre>\n<h2>CustomConstraint.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Pattern( regexp = &quot;[a-z]&quot;, message = &quot;{library.custom}&quot; )\n@Constraint( validatedBy = {} )\n@Documented\n@Target( { ElementType.METHOD, ElementType.FIELD } )\n@Retention( RetentionPolicy.RUNTIME )\npublic @interface CustomConstraint {\n    String message() default &quot;C' un errore&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p><strong>PS:</strong> <em>note that the message key is on the @Pattern annotation instead of message(), this could seem a mistake but otherwise it never works!</em></p>\n<p>After that I want to use this <code>commons.jar</code> in my web app project (jsf/mojarra 2.1). All works fine. The displayed error message is &quot;Questo  l'errore di cui parlavo&quot;.</p>\n<p>But now suppose I define new validation constraints in my webapp, so I want to supply translations for these constraints by adding a <code>ValidationMessages_it.properties</code> in <code>WEB-INF/classes</code> folder. In this case the displayed error message is &quot;{library.custom}&quot;</p>\n<p>So I think that BV (or jsf?) find the bundle in the war and does not take into account that in the commons.jar. It does not find the key <code>library.custom</code> in the <code>ValidationMessages_it.properties</code> that resides in the <code>WEB-INF/classes</code> folder thus return <code>{library.custom}</code> literally.</p>\n<h1>Example 2</h1>\n<p>Based on <a href=\"https://stackoverflow.com/questions/11683708/bean-validation-constraints-in-a-shared-library\">Bean Validation constraints in a shared library</a>, my package structure seems correct. I uploaded a simple web app to show the problem:</p>\n<ul>\n<li><a href=\"http://www.filefactory.com/file/1v4e61w0ty77/n/bvtest-1_0_war\" rel=\"nofollow noreferrer\">a war artifact that can be deployed in a java EE 6 compliant application server</a></li>\n<li><a href=\"http://www.filefactory.com/file/1iteiatld9of/n/bvsource_zip\" rel=\"nofollow noreferrer\">a source zip that contains two maven projects, one for library and one for webapp</a></li>\n</ul>\n<p>I tested the webapp in Glassfish 3.1.2, JBoss AS 7.1.1, Geronimo 3.0.0</p>\n<p>Glassfish and JBoss have the same behavior. In Geronimo it works a little bit better.</p>\n"},{"tags":["java","swing","user-interface","methods","filewriter"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688681678,"post_id":76632802,"comment_id":135110537,"body_markdown":"You&#39;re asking a question about multiple steps, but you have not shown what you&#39;ve tried nor have you told us which step you&#39;re stuck on. If you state, &quot;all of them&quot;, then perhaps you&#39;re here too soon with this question and might want to try to solve this yourself first.  Then if still stuck, show your code and ask your more specific and site-appropriate question For best results on this site, please check out the [ask], [tour] and [help] links.","body":"You&#39;re asking a question about multiple steps, but you have not shown what you&#39;ve tried nor have you told us which step you&#39;re stuck on. If you state, &quot;all of them&quot;, then perhaps you&#39;re here too soon with this question and might want to try to solve this yourself first.  Then if still stuck, show your code and ask your more specific and site-appropriate question For best results on this site, please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/help\">help center</a> links."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688681923,"post_id":76632802,"comment_id":135110563,"body_markdown":"Also, have a look at the [Swing Tutorials](http://docs.oracle.com/javase/tutorial/uiswing/index.html), in particular, the sections on using ActionListeners with JButtons and the use of JTextFields. Also, the main Java tutorials can help you with File I&amp;O, all information needed to solve this problem.","body":"Also, have a look at the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a>, in particular, the sections on using ActionListeners with JButtons and the use of JTextFields. Also, the main Java tutorials can help you with File I&amp;O, all information needed to solve this problem."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688687138,"post_id":76632802,"comment_id":135111026,"body_markdown":"*&quot;What should I do in general.&quot;* - In general ... break down complex tasks into simpler ones.  For example 1) work out how to do something in response to a button press, 2) work out how to get the text from a text box (e.g. as a string),  3) work out how to save some text (e.g. a string) to a file.","body":"<i>&quot;What should I do in general.&quot;</i> - In general ... break down complex tasks into simpler ones.  For example 1) work out how to do something in response to a button press, 2) work out how to get the text from a text box (e.g. as a string),  3) work out how to save some text (e.g. a string) to a file."}],"owner":{"account_id":23053650,"reputation":11,"user_id":17170043,"display_name":"Mert &#199;etinkaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1688681586,"answer_count":0,"score":0,"last_activity_date":1688681435,"creation_date":1688681435,"question_id":76632802,"body_markdown":"I want to write to a txt file by pressing JButton.I want to write JTextField.getText() to a txt file by pressing JButton. [enter image description here](https://i.stack.imgur.com/4d7d3.png) \r\nWhat should I do in general.\r\n\r\nI tried to write FileWriter class but didn&#39;t actually get it.","title":"Java Swing File Organization","body":"<p>I want to write to a txt file by pressing JButton.I want to write JTextField.getText() to a txt file by pressing JButton. <a href=\"https://i.stack.imgur.com/4d7d3.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nWhat should I do in general.</p>\n<p>I tried to write FileWriter class but didn't actually get it.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk-java-2.0","boxsdk"],"comments":[{"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1555814296,"post_id":55778575,"comment_id":98230316,"body_markdown":"What is your specific question? Are you having a particular problem?","body":"What is your specific question? Are you having a particular problem?"}],"answers":[{"tags":[],"owner":{"account_id":11885621,"reputation":135,"user_id":8698105,"display_name":"pat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556203332,"creation_date":1556203332,"answer_id":55851966,"question_id":55778575,"body_markdown":"So i came up with this java code to copy files from box folder to Aws S3. I have used box-sdk-java, aws-sdk-java here.\r\n```\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.auth.profile.ProfileCredentialsProvider;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\r\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\r\nimport com.amazonaws.services.s3.model.PartETag;\r\nimport com.amazonaws.services.s3.model.UploadPartRequest;\r\nimport com.amazonaws.services.s3.model.UploadPartResult;\r\nimport com.box.sdk.BoxAPIConnection;\r\nimport com.box.sdk.BoxFile;\r\nimport com.box.sdk.BoxFolder;\r\nimport com.box.sdk.BoxItem;\r\nimport com.box.sdk.Metadata;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\n\r\npublic static String fileObjKeyName = &quot;&quot;;\r\npublic static String bucketName = &quot;s3Bucket&quot;;\r\n// store credentials in your local machine in aws config / credentials file.\r\npublic static ProfileCredentialsProvider credentialsProvider = new ProfileCredentialsProvider();\r\npublic static AmazonS3 s3Client = AmazonS3ClientBuilder\r\n\t\t\t.standard()\r\n\t\t\t.withCredentials(credentialsProvider)\r\n\t\t\t.withRegion(regionfOfS3Bucket)\r\n\t\t\t.build();\r\nString access_token = &quot;some_access_token&quot;;\r\nString refresh_token = &quot;some_refresh_token&quot;;\r\nBoxAPIConnection api = new BoxAPIConnection(client_id,\r\n                client_secret,\r\n                access_token,\r\n                refresh_token);\r\nBoxFolder folder = new BoxFolder(api,folderId);\r\n\r\nfor (BoxItem.Info itemInfo : folder) {\r\n    if (itemInfo instanceof BoxFile.Info) {\r\n        // getting file info, metadata\r\n        // have to upload the file content here to S3 bucket\r\n        BoxFile file = new BoxFile(api, itemInfo.getID());\r\n    \t    \tBoxFile.Info info = file.getInfo();\r\n    \t    \tSystem.out.println(info.getName());\r\n    \t    \tFileOutputStream stream;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstream = new FileOutputStream(info.getName());\r\n\t\t\t\t\tfile.download(stream);\r\n\t    \t    \tstream.close();\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n    \t    \t\r\n    \t    \tFile file_new = FileUtils.getFile(info.getName());\r\n    \t    \tfileObjKeyName =  itemInfo.getID() + &quot;_&quot; + info.getName();\r\n    \t\t\tlong contentLength = file_new.length();\r\n    \t\t\tSystem.out.println(contentLength);\r\n    \t\t\tlong partSize = 5 * 1024 * 1024;\r\n    \t\t\tList&lt;PartETag&gt; partETags = new ArrayList&lt;PartETag&gt;();\r\n    \t\t\tInitiateMultipartUploadRequest initRequest = new InitiateMultipartUploadRequest(bucketName, fileObjKeyName);\r\n    \t\t\tInitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(initRequest);\r\n    \t\t\tlong filePosition = 0;\r\n    \t\t\tfor (int i = 1; filePosition &lt; contentLength; i++) {\r\n    \t\t\t\t// Because the last part could be less than 5 MB, adjust the\r\n    \t\t\t\t// part size as needed.\r\n    \t\t\t\tpartSize = Math.min(partSize, (contentLength - filePosition));\r\n    \t\t\t\t// Create the request to upload a part.\r\n    \t\t\t\tUploadPartRequest uploadRequest = new UploadPartRequest().withBucketName(bucketName).withKey(fileObjKeyName)\r\n    \t\t\t\t\t\t.withUploadId(initResponse.getUploadId()).withPartNumber(i).withFileOffset(filePosition).withFile(file_new).withPartSize(partSize);\r\n\r\n    \t\t\t\t// Upload the part and add the response&#39;s ETag to our list.\r\n    \t\t\t\tUploadPartResult uploadResult = s3Client.uploadPart(uploadRequest);\r\n    \t\t\t\tpartETags.add(uploadResult.getPartETag());\r\n\r\n    \t\t\t\tfilePosition += partSize;\r\n    \t\t\t}\r\n    \t\t\tCompleteMultipartUploadRequest compRequest = new CompleteMultipartUploadRequest(bucketName, fileObjKeyName, initResponse.getUploadId(), partETags);\r\n    \t\t\ts3Client.completeMultipartUpload(compRequest);\r\n    \t        file_new.delete();\r\n    } else if (itemInfo instanceof BoxFolder.Info)\r\n    {\r\n        BoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\r\n       // Do something with the folder.\r\n\r\n\r\n     }\r\n        }\r\n```","title":"Copy files from box folder to AWS s3 bucket","body":"<p>So i came up with this java code to copy files from box folder to Aws S3. I have used box-sdk-java, aws-sdk-java here.</p>\n\n<pre><code>import com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.auth.profile.ProfileCredentialsProvider;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.CompleteMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadRequest;\nimport com.amazonaws.services.s3.model.InitiateMultipartUploadResult;\nimport com.amazonaws.services.s3.model.PartETag;\nimport com.amazonaws.services.s3.model.UploadPartRequest;\nimport com.amazonaws.services.s3.model.UploadPartResult;\nimport com.box.sdk.BoxAPIConnection;\nimport com.box.sdk.BoxFile;\nimport com.box.sdk.BoxFolder;\nimport com.box.sdk.BoxItem;\nimport com.box.sdk.Metadata;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.apache.commons.io.FileUtils;\n\npublic static String fileObjKeyName = \"\";\npublic static String bucketName = \"s3Bucket\";\n// store credentials in your local machine in aws config / credentials file.\npublic static ProfileCredentialsProvider credentialsProvider = new ProfileCredentialsProvider();\npublic static AmazonS3 s3Client = AmazonS3ClientBuilder\n            .standard()\n            .withCredentials(credentialsProvider)\n            .withRegion(regionfOfS3Bucket)\n            .build();\nString access_token = \"some_access_token\";\nString refresh_token = \"some_refresh_token\";\nBoxAPIConnection api = new BoxAPIConnection(client_id,\n                client_secret,\n                access_token,\n                refresh_token);\nBoxFolder folder = new BoxFolder(api,folderId);\n\nfor (BoxItem.Info itemInfo : folder) {\n    if (itemInfo instanceof BoxFile.Info) {\n        // getting file info, metadata\n        // have to upload the file content here to S3 bucket\n        BoxFile file = new BoxFile(api, itemInfo.getID());\n                BoxFile.Info info = file.getInfo();\n                System.out.println(info.getName());\n                FileOutputStream stream;\n                try {\n                    stream = new FileOutputStream(info.getName());\n                    file.download(stream);\n                    stream.close();\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n                File file_new = FileUtils.getFile(info.getName());\n                fileObjKeyName =  itemInfo.getID() + \"_\" + info.getName();\n                long contentLength = file_new.length();\n                System.out.println(contentLength);\n                long partSize = 5 * 1024 * 1024;\n                List&lt;PartETag&gt; partETags = new ArrayList&lt;PartETag&gt;();\n                InitiateMultipartUploadRequest initRequest = new InitiateMultipartUploadRequest(bucketName, fileObjKeyName);\n                InitiateMultipartUploadResult initResponse = s3Client.initiateMultipartUpload(initRequest);\n                long filePosition = 0;\n                for (int i = 1; filePosition &lt; contentLength; i++) {\n                    // Because the last part could be less than 5 MB, adjust the\n                    // part size as needed.\n                    partSize = Math.min(partSize, (contentLength - filePosition));\n                    // Create the request to upload a part.\n                    UploadPartRequest uploadRequest = new UploadPartRequest().withBucketName(bucketName).withKey(fileObjKeyName)\n                            .withUploadId(initResponse.getUploadId()).withPartNumber(i).withFileOffset(filePosition).withFile(file_new).withPartSize(partSize);\n\n                    // Upload the part and add the response's ETag to our list.\n                    UploadPartResult uploadResult = s3Client.uploadPart(uploadRequest);\n                    partETags.add(uploadResult.getPartETag());\n\n                    filePosition += partSize;\n                }\n                CompleteMultipartUploadRequest compRequest = new CompleteMultipartUploadRequest(bucketName, fileObjKeyName, initResponse.getUploadId(), partETags);\n                s3Client.completeMultipartUpload(compRequest);\n                file_new.delete();\n    } else if (itemInfo instanceof BoxFolder.Info)\n    {\n        BoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\n       // Do something with the folder.\n\n\n     }\n        }\n</code></pre>\n"}],"owner":{"account_id":11885621,"reputation":135,"user_id":8698105,"display_name":"pat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3032,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55851966,"answer_count":1,"score":1,"last_activity_date":1688680969,"creation_date":1555802415,"question_id":55778575,"body_markdown":"I am working to copy box files to S3 bucket. How to get file object from box file to copy in to S3 bucket using box-java-sdk\r\n\r\nI have to tried to get file&#39;s metadata from box folder, but end up with limited documentation to get file object.\r\n\r\n```\r\nimport com.box.sdk.BoxAPIConnection;\r\nimport com.box.sdk.BoxFile;\r\nimport com.box.sdk.BoxFolder;\r\nimport com.box.sdk.BoxItem;\r\nimport com.box.sdk.Metadata;\r\n\r\nString access_token = &quot;some_access_token&quot;;\r\nString refresh_token = &quot;some_refresh_token&quot;;\r\nBoxAPIConnection api = new BoxAPIConnection(client_id,\r\n    \t\t\tclient_secret,\r\n    \t\t\taccess_token,\r\n    \t\t\trefresh_token);\r\nfor (BoxItem.Info itemInfo : folder) {\r\n    if (itemInfo instanceof BoxFile.Info) {\r\n    \t// getting file info, metadata\r\n        // have to upload the file content here to S3 bucket\r\n    } else if (itemInfo instanceof BoxFolder.Info)\r\n    {\r\n    \tBoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\r\n       // Do something with the folder.\r\n    \t     \r\n\r\n     }\r\n    \t}\r\n ```\r\n\r\nGoal is to upload box content to S3 bucket.","title":"Copy files from box folder to AWS s3 bucket","body":"<p>I am working to copy box files to S3 bucket. How to get file object from box file to copy in to S3 bucket using box-java-sdk</p>\n\n<p>I have to tried to get file's metadata from box folder, but end up with limited documentation to get file object.</p>\n\n<pre><code>import com.box.sdk.BoxAPIConnection;\nimport com.box.sdk.BoxFile;\nimport com.box.sdk.BoxFolder;\nimport com.box.sdk.BoxItem;\nimport com.box.sdk.Metadata;\n\nString access_token = \"some_access_token\";\nString refresh_token = \"some_refresh_token\";\nBoxAPIConnection api = new BoxAPIConnection(client_id,\n                client_secret,\n                access_token,\n                refresh_token);\nfor (BoxItem.Info itemInfo : folder) {\n    if (itemInfo instanceof BoxFile.Info) {\n        // getting file info, metadata\n        // have to upload the file content here to S3 bucket\n    } else if (itemInfo instanceof BoxFolder.Info)\n    {\n        BoxFolder.Info folderInfo = (BoxFolder.Info) itemInfo;\n       // Do something with the folder.\n\n\n     }\n        }\n</code></pre>\n\n<p>Goal is to upload box content to S3 bucket.</p>\n"},{"tags":["java","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1688442678,"post_id":76609084,"comment_id":135071201,"body_markdown":"Using `private final static Model INSTANCE = new Model();` is frowned upon in `JavaFX`. Try to learn https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx","body":"Using <code>private final static Model INSTANCE = new Model();</code> is frowned upon in <code>JavaFX</code>. Try to learn <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688499373,"post_id":76609084,"comment_id":135081230,"body_markdown":"May readers infer that `model` is meant to be a [singleton](https://stackoverflow.com/a/5724953/230513)?","body":"May readers infer that <code>model</code> is meant to be a <a href=\"https://stackoverflow.com/a/5724953/230513\">singleton</a>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1688572758,"post_id":76609084,"comment_id":135092447,"body_markdown":"Never initialize fields annotated `@FXML` (like `@FXML private TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();`).","body":"Never initialize fields annotated <code>@FXML</code> (like <code>@FXML private TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688573238,"post_id":76609084,"comment_id":135092587,"body_markdown":"Anyway, the problem seems to be that you are loading `employeeTab.fxml` twice: once in code in your (badly-named) `setControllers()` method (where it is never displayed) and once via the `&lt;fx:include&gt;` (where you never have a reference to the controller). I can&#39;t see anywhere where `populateTable()` is ever invoked, and if it was (in the controller for the view loaded by `&lt;fx:include&gt;`), surely it would throw a null pointer exception (because `model` is never initialized in that controller).","body":"Anyway, the problem seems to be that you are loading <code>employeeTab.fxml</code> twice: once in code in your (badly-named) <code>setControllers()</code> method (where it is never displayed) and once via the <code>&lt;fx:include&gt;</code> (where you never have a reference to the controller). I can&#39;t see anywhere where <code>populateTable()</code> is ever invoked, and if it was (in the controller for the view loaded by <code>&lt;fx:include&gt;</code>), surely it would throw a null pointer exception (because <code>model</code> is never initialized in that controller)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688573361,"post_id":76609084,"comment_id":135092621,"body_markdown":"See the [documentation](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers) for how to properly access controllers for elements loaded via `&lt;fx:include&gt;`.","body":"See the <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"nofollow noreferrer\">documentation</a> for how to properly access controllers for elements loaded via <code>&lt;fx:include&gt;</code>."},{"owner":{"account_id":15062476,"reputation":68,"user_id":10870722,"display_name":"avalc"},"score":0,"creation_date":1688606323,"post_id":76609084,"comment_id":135097350,"body_markdown":"@James_D removing the first load in `setControllers()` and adding `@FXML` fields for the tabs worked. Since you didn&#39;t post this as an answer, is there a way to mark my post as resolved?","body":"@James_D removing the first load in <code>setControllers()</code> and adding <code>@FXML</code> fields for the tabs worked. Since you didn&#39;t post this as an answer, is there a way to mark my post as resolved?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1688634609,"post_id":76609084,"comment_id":135101097,"body_markdown":"You can [write and accept your own answer](https://stackoverflow.com/help/self-answer), which you might want to do if you worked out how to solve your issue from comments.  You can quote the comment for attribution.","body":"You can <a href=\"https://stackoverflow.com/help/self-answer\">write and accept your own answer</a>, which you might want to do if you worked out how to solve your issue from comments.  You can quote the comment for attribution."}],"answers":[{"tags":[],"owner":{"account_id":15062476,"reputation":68,"user_id":10870722,"display_name":"avalc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688678219,"creation_date":1688678219,"answer_id":76632572,"question_id":76609084,"body_markdown":"@James_D&#39;s comment helped me find this solution:\r\n\r\nnew `tabHandler.fxml` for clarity of variables\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\r\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n\r\n    &lt;TabPane&gt;\r\n        &lt;tabs&gt;\r\n            &lt;Tab text=&quot;Employees&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab text=&quot;Events&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n\r\n    &lt;/TabPane&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nI edited `ControllerMain` to instead include the FXML `AnchorPane` and corresponding `ControllerEmployeeTab` variables :\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.layout.AnchorPane;\r\n\r\npublic class ControllerMain extends Controller {\r\n    @FXML\r\n    public AnchorPane employeeTabPage;\r\n    @FXML\r\n    private ControllerEmployeeTab employeeTabPageController;\r\n\r\n    public ControllerEmployeeTab getControllerEmployeeTab() { return employeeTabPageController;}\r\n\r\n}\r\n```\r\n\r\nAnd finally removed `setControllers()` entirely and changed that call (in `start()`) to `mainController.getControllerEmployeeTab().setModel(model)`","title":"JavaFX TableView not displaying data (complex project structure)","body":"<p>@James_D's comment helped me find this solution:</p>\n<p>new <code>tabHandler.fxml</code> for clarity of variables</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\n\n    &lt;TabPane&gt;\n        &lt;tabs&gt;\n            &lt;Tab text=&quot;Employees&quot;&gt;\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n            &lt;Tab text=&quot;Events&quot;&gt;\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n        &lt;/tabs&gt;\n\n    &lt;/TabPane&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>I edited <code>ControllerMain</code> to instead include the FXML <code>AnchorPane</code> and corresponding <code>ControllerEmployeeTab</code> variables :</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.layout.AnchorPane;\n\npublic class ControllerMain extends Controller {\n    @FXML\n    public AnchorPane employeeTabPage;\n    @FXML\n    private ControllerEmployeeTab employeeTabPageController;\n\n    public ControllerEmployeeTab getControllerEmployeeTab() { return employeeTabPageController;}\n\n}\n</code></pre>\n<p>And finally removed <code>setControllers()</code> entirely and changed that call (in <code>start()</code>) to <code>mainController.getControllerEmployeeTab().setModel(model)</code></p>\n"}],"owner":{"account_id":15062476,"reputation":68,"user_id":10870722,"display_name":"avalc"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632572,"answer_count":1,"score":1,"last_activity_date":1688678219,"creation_date":1688437954,"question_id":76609084,"body_markdown":"I have a seemingly common problem with JavaFX&#39;s TableView not displaying my data, but my project structure is complicated enough that I think I am missing something or something is not being properly passed to a different class. I am using the ```CellValueFactory``` method to identify the columns of my ```TableView&lt;Employee&gt;``` object, where ```Employee``` is a class I use to represent employees (ID, name, email, and phone, but only the first two fields are to be displayed in the table). The project uses the H2 embedded SQL database package, but that seems to be working so I didn&#39;t include my database package. The relevant parts of this project are structured like this:\r\n\r\n```\r\njava\r\n|__ myorg.scheduler\r\n    |__ gui\r\n        |__ [Abstract] Controller\r\n        |__ Model\r\n        |__ ControllerMain\r\n        |__ ControllerEmployeeTab\r\n        |__ ControllerAddEmployee\r\n        |__ MainApp\r\nresources\r\n|__ myorg.scheduler\r\n    |__ gui\r\n        |__ tabHandler.fxml\r\n        |__ employeeTab.fxml\r\n        |__ addEmployeePopup.fxml\r\n```\r\n\r\nAt this stage, the software should allow the user to add an employee to the database:\r\n[![enter image description here][1]][1]\r\n\r\nPressing the &quot;Add&quot; button brings up this menu, from addEmployeePopup.fxml\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cLcCm.png\r\n  [2]: https://i.stack.imgur.com/unRPD.png\r\n\r\nThe code is as follows:\r\n\r\n\r\nGUI package:\r\n-\r\n\r\n**Model**\r\nSince I need to pass data from one controller to another, I have a ```Model``` class:\r\n\r\n```\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXML;\r\nimport myorg.scheduler.database.EmployeeDAO;\r\nimport myorg.scheduler.people.Employee;\r\n\r\nimport java.sql.SQLException;\r\n\r\npublic class Model {\r\n\r\n    private final static Model INSTANCE = new Model();\r\n\r\n    @FXML\r\n    ObservableList&lt;Employee&gt; employeeList =  FXCollections.observableArrayList();\r\n\r\n    public static synchronized Model getInstance() {\r\n        return INSTANCE;\r\n    }\r\n\r\n    public void addEmployee(Employee employee) {\r\n        employeeList.add(employee);\r\n    }\r\n\r\n    public ObservableList&lt;Employee&gt; getAllEmployees() {\r\n        return employeeList;\r\n    }\r\n\r\n    public void setEmployeeList() throws SQLException, ClassNotFoundException {\r\n        employeeList = EmployeeDAO.getAllEmployees();\r\n    }\r\n}\r\n```\r\n\r\n**Controller**\r\n\r\nAll of the classes starting with &quot;Controller&quot; inherit from the abstract ```Controller``` class.\r\n\r\n\r\n```\r\npublic abstract class Controller {\r\n\r\n    private Model model;\r\n    public void setModel(Model model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public Model getModel() {\r\n        return model;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**ControllerEmployeeTab**\r\n\r\nThis is where the problem starts: ```populateTable()``` is supposed to get (from the synchronized ```Model``` class) the ```ObservableList``` of employees and populate the ```TableView``` with their IDs and Names. For some reason, it is not doing this.\r\n\r\n```\r\nimport javafx.beans.property.SimpleIntegerProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport myorg.scheduler.people.Employee;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static myorg.scheduler.gui.MainApp.loadEmployeePopup;\r\n\r\n\r\npublic class ControllerEmployeeTab extends Controller {\r\n\r\n    @FXML\r\n    public Button btnAddEmployee;\r\n    @FXML\r\n    TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();\r\n    @FXML\r\n    TableColumn&lt;Employee, Integer&gt; employeeIDColumn;\r\n    @FXML\r\n    TableColumn&lt;Employee, String&gt; employeeNameColumn;\r\n\r\n\r\n\r\n    @FXML\r\n    public void populateTable() {\r\n        employeeIDColumn.setCellValueFactory(cellData -&gt; new SimpleIntegerProperty(cellData.getValue().getID()).asObject());\r\n        employeeNameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\r\n        employeeTable.setItems(super.getModel().getAllEmployees());\r\n    }\r\n\r\n    @FXML\r\n    private void addEmployeePressed(ActionEvent ae) throws IOException {\r\n        loadEmployeePopup();\r\n    }\r\n}\r\n```\r\n\r\n**ControllerMain**\r\n\r\n\r\n```\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.AnchorPane;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class ControllerMain extends Controller {\r\n\r\n    @FXML\r\n    private ControllerEmployeeTab controllerEmployeeTab;\r\n    @FXML\r\n    private ControllerAddEmployee controllerAddEmployee;\r\n\r\n    public ControllerEmployeeTab getControllerEmployeeTab() { return controllerEmployeeTab;}\r\n\r\n    public void setControllerEmployeeTab(ControllerEmployeeTab controllerEmployeeTab) {\r\n        this.controllerEmployeeTab = controllerEmployeeTab;\r\n    }\r\n    public ControllerAddEmployee getControllerAddEmployee() { return controllerAddEmployee;}\r\n\r\n    public void setControllerAddEmployee(ControllerAddEmployee controllerAddEmployee) {\r\n        this.controllerAddEmployee = controllerAddEmployee;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**ControllerAddEmploye**\r\n\r\nEmployees are added by pressing the ```add``` button which calls ```addEmployeePressed()``` from the ```ControllerEmployeeTab``` class. The ```ControllerAddEmployee``` class handles this, and as far as I can tell employees are added to the database, the ```ObservableList``` of employees, and even the ```TableView``` but for some reason are not displaying. Adding employees to the database is working, but the code for that menu is here:\r\n\r\n\r\n```\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.stage.Stage;\r\nimport myorg.scheduler.database.EmployeeDAO;\r\nimport myorg.scheduler.people.Employee;\r\n\r\nimport java.sql.SQLException;\r\n\r\npublic class ControllerAddEmployee extends Controller {\r\n\r\n    @FXML\r\n    private TextField nameField;\r\n\r\n    @FXML\r\n    private TextField emailField;\r\n\r\n    @FXML\r\n    private TextField phoneField;\r\n\r\n    @FXML\r\n    private TextField idField;\r\n\r\n    @FXML\r\n    private void addEmployee(ActionEvent ae) throws SQLException, ClassNotFoundException {\r\n        if (idField.getText() == null || nameField.getText() == null || emailField.getText() == null || phoneField.getText() == null ||\r\n                idField.getText().equals(&quot;&quot;) || nameField.getText().equals(&quot;&quot;) || emailField.getText().equals(&quot;&quot;) || phoneField.getText().equals(&quot;&quot;)) {\r\n            System.out.println(&quot;missing a field&quot;);\r\n        } else {\r\n            Employee newEmployee = new Employee(Integer.parseInt(idField.getText()), nameField.getText(), emailField.getText(), phoneField.getText());\r\n            super.getModel().addEmployee(newEmployee);\r\n            try {\r\n                EmployeeDAO.insertEmployee(newEmployee);\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;Problem occurred while inserting employee: &quot; + e);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**MainApp**\r\n\r\nThis is where the model is instantiated, and where ```public void start``` is for the JavaFX package. ```populateTable()``` from the ```ControllerEmployeeTab``` class is called in ```start``\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Modality;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MainApp extends Application {\r\n\r\n    private static final Model model= Model.getInstance();\r\n\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader();\r\n        loader.setLocation(MainApp.class.getResource(&quot;tabHandler.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n        ControllerMain mainController = loader.getController();\r\n        mainController.setModel(model);\r\n        model.setEmployeeList();\r\n\r\n        setControllers(mainController);\r\n        mainController.getControllerEmployeeTab().populateTable();\r\n\r\n        Scene mainScene = new Scene(root);\r\n        stage.setScene(mainScene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public void setControllers(ControllerMain controller) throws IOException {\r\n        FXMLLoader employeeTabLoader = new FXMLLoader();\r\n        employeeTabLoader.setLocation(MainApp.class.getResource(&quot;employeeTab.fxml&quot;));\r\n        employeeTabLoader.load();\r\n        controller.setControllerEmployeeTab(employeeTabLoader.getController());\r\n        controller.getControllerEmployeeTab().setModel(model);\r\n\r\n    }\r\n\r\n    public static void loadEmployeePopup() throws IOException {\r\n        FXMLLoader addEmployeeLoader = new FXMLLoader();\r\n        addEmployeeLoader.setLocation(MainApp.class.getResource(&quot;addEmployeePopup.fxml&quot;));\r\n        Parent addEmployeeRoot = addEmployeeLoader.load();\r\n\r\n        ControllerAddEmployee employeeController = addEmployeeLoader.getController();\r\n        employeeController.setModel(model);\r\n\r\n        Scene newEmployeeScene = new Scene(addEmployeeRoot);\r\n        Stage newEmployeeMenu = new Stage();\r\n        newEmployeeMenu.initModality(Modality.APPLICATION_MODAL);\r\n        newEmployeeMenu.setScene(newEmployeeScene);\r\n        newEmployeeMenu.setResizable(false);\r\n        newEmployeeMenu.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nGUI references\r\n-\r\n\r\n\r\n**tabHandler.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Tab?&gt;\r\n&lt;?import javafx.scene.control.TabPane?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\r\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n\r\n    &lt;TabPane&gt;\r\n        &lt;tabs&gt;\r\n            &lt;Tab fx:id=&quot;employeeTab&quot; text=&quot;Employees&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n            &lt;Tab fx:id=&quot;eventTab&quot; text=&quot;Events&quot;&gt;\r\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\r\n            &lt;/Tab&gt;\r\n        &lt;/tabs&gt;\r\n\r\n    &lt;/TabPane&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\n**employeeTab.fxml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;myorg.scheduler.gui.ControllerEmployeeTab&quot;\r\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n     &lt;children&gt;\r\n            &lt;HBox AnchorPane.bottomAnchor=&quot;531.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;ToolBar prefHeight=&quot;40.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n                        &lt;items&gt;\r\n                            &lt;Button fx:id=&quot;btnAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployeePressed&quot; text=&quot;Add&quot; /&gt;\r\n                        &lt;/items&gt;\r\n                    &lt;/ToolBar&gt;\r\n                &lt;/children&gt;\r\n            &lt;/HBox&gt;\r\n            &lt;SplitPane dividerPositions=&quot;0.3&quot; layoutY=&quot;39.0&quot; prefHeight=&quot;532.0&quot; prefWidth=&quot;800.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;39.0&quot;&gt;\r\n                &lt;items&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\r\n                        &lt;children&gt;\r\n                            &lt;TableView fx:id=&quot;employeeTable&quot; layoutX=&quot;18.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;530.0&quot; prefWidth=&quot;235.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                                &lt;columns&gt;\r\n                                    &lt;TableColumn fx:id=&quot;employeeIDColumn&quot; prefWidth=&quot;73.0&quot; text=&quot;ID&quot; /&gt;\r\n                                    &lt;TableColumn fx:id=&quot;employeeNameColumn&quot; prefWidth=&quot;161.0&quot; text=&quot;Name&quot; /&gt;\r\n                                &lt;/columns&gt;\r\n                            &lt;/TableView&gt;\r\n                        &lt;/children&gt;&lt;/AnchorPane&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;557.0&quot; /&gt;\r\n                &lt;/items&gt;\r\n            &lt;/SplitPane&gt;\r\n        &lt;/children&gt;&lt;/AnchorPane&gt;\r\n```\r\n\r\n**addEmployeePopup.fxml**\r\n\r\nI don&#39;t think the issue is here but regardless:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import javafx.scene.text.*?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;myorg.scheduler.gui.ControllerAddEmployee&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TitledPane animated=&quot;false&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; text=&quot;Add Employee&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n        &lt;content&gt;\r\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;GridPane layoutX=&quot;87.6&quot; layoutY=&quot;41.6&quot; prefHeight=&quot;191.0&quot; prefWidth=&quot;307.0&quot; AnchorPane.bottomAnchor=&quot;251.0&quot; AnchorPane.leftAnchor=&quot;78.0&quot; AnchorPane.rightAnchor=&quot;113.0&quot; AnchorPane.topAnchor=&quot;32.0&quot;&gt;\r\n                    &lt;columnConstraints&gt;\r\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;219.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;156.0&quot; /&gt;\r\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;304.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;227.0&quot; /&gt;\r\n                    &lt;/columnConstraints&gt;\r\n                    &lt;rowConstraints&gt;\r\n                        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                      &lt;RowConstraints maxHeight=&quot;40.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                      &lt;RowConstraints maxHeight=&quot;39.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;38.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                    &lt;/rowConstraints&gt;\r\n                     &lt;children&gt;\r\n                        &lt;Label text=&quot;ID:&quot; GridPane.halignment=&quot;RIGHT&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Label text=&quot;Full Name:&quot; textAlignment=&quot;RIGHT&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Label text=&quot;Email:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;Label text=&quot;Phone:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font size=&quot;18.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                        &lt;/Label&gt;\r\n                        &lt;TextField fx:id=&quot;idField&quot; GridPane.columnIndex=&quot;1&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/TextField&gt;\r\n                        &lt;TextField fx:id=&quot;nameField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;&lt;/TextField&gt;\r\n                        &lt;TextField fx:id=&quot;emailField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/TextField&gt;\r\n                        &lt;TextField fx:id=&quot;phoneField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n                           &lt;opaqueInsets&gt;\r\n                              &lt;Insets /&gt;\r\n                           &lt;/opaqueInsets&gt;\r\n                           &lt;GridPane.margin&gt;\r\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                           &lt;/GridPane.margin&gt;\r\n                        &lt;/TextField&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/GridPane&gt;\r\n                  &lt;ButtonBar layoutX=&quot;171.0&quot; layoutY=&quot;435.0&quot;&gt;\r\n                     &lt;buttons&gt;\r\n                        &lt;Button fx:id=&quot;btnCloseAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#closeAddEmployeeMenu&quot; text=&quot;Cancel&quot; /&gt;\r\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployee&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;137.0&quot; text=&quot;Add Employee&quot; /&gt;\r\n                     &lt;/buttons&gt;\r\n                  &lt;/ButtonBar&gt;\r\n               &lt;/children&gt;&lt;/AnchorPane&gt;\r\n        &lt;/content&gt;\r\n      &lt;/TitledPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nIn summary, employees are added to the ```TableView``` but not displayed, and I cannot figure out why. Thank you in advance for any assistance.","title":"JavaFX TableView not displaying data (complex project structure)","body":"<p>I have a seemingly common problem with JavaFX's TableView not displaying my data, but my project structure is complicated enough that I think I am missing something or something is not being properly passed to a different class. I am using the <code>CellValueFactory</code> method to identify the columns of my <code>TableView&lt;Employee&gt;</code> object, where <code>Employee</code> is a class I use to represent employees (ID, name, email, and phone, but only the first two fields are to be displayed in the table). The project uses the H2 embedded SQL database package, but that seems to be working so I didn't include my database package. The relevant parts of this project are structured like this:</p>\n<pre><code>java\n|__ myorg.scheduler\n    |__ gui\n        |__ [Abstract] Controller\n        |__ Model\n        |__ ControllerMain\n        |__ ControllerEmployeeTab\n        |__ ControllerAddEmployee\n        |__ MainApp\nresources\n|__ myorg.scheduler\n    |__ gui\n        |__ tabHandler.fxml\n        |__ employeeTab.fxml\n        |__ addEmployeePopup.fxml\n</code></pre>\n<p>At this stage, the software should allow the user to add an employee to the database:\n<a href=\"https://i.stack.imgur.com/cLcCm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLcCm.png\" alt=\"enter image description here\" /></a></p>\n<p>Pressing the &quot;Add&quot; button brings up this menu, from addEmployeePopup.fxml\n<a href=\"https://i.stack.imgur.com/unRPD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/unRPD.png\" alt=\"enter image description here\" /></a></p>\n<p>The code is as follows:</p>\n<h2>GUI package:</h2>\n<p><strong>Model</strong>\nSince I need to pass data from one controller to another, I have a <code>Model</code> class:</p>\n<pre><code>import javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport myorg.scheduler.database.EmployeeDAO;\nimport myorg.scheduler.people.Employee;\n\nimport java.sql.SQLException;\n\npublic class Model {\n\n    private final static Model INSTANCE = new Model();\n\n    @FXML\n    ObservableList&lt;Employee&gt; employeeList =  FXCollections.observableArrayList();\n\n    public static synchronized Model getInstance() {\n        return INSTANCE;\n    }\n\n    public void addEmployee(Employee employee) {\n        employeeList.add(employee);\n    }\n\n    public ObservableList&lt;Employee&gt; getAllEmployees() {\n        return employeeList;\n    }\n\n    public void setEmployeeList() throws SQLException, ClassNotFoundException {\n        employeeList = EmployeeDAO.getAllEmployees();\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<p>All of the classes starting with &quot;Controller&quot; inherit from the abstract <code>Controller</code> class.</p>\n<pre><code>public abstract class Controller {\n\n    private Model model;\n    public void setModel(Model model) {\n        this.model = model;\n    }\n\n    public Model getModel() {\n        return model;\n    }\n}\n</code></pre>\n<p><strong>ControllerEmployeeTab</strong></p>\n<p>This is where the problem starts: <code>populateTable()</code> is supposed to get (from the synchronized <code>Model</code> class) the <code>ObservableList</code> of employees and populate the <code>TableView</code> with their IDs and Names. For some reason, it is not doing this.</p>\n<pre><code>import javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport myorg.scheduler.people.Employee;\n\nimport java.io.IOException;\n\nimport static myorg.scheduler.gui.MainApp.loadEmployeePopup;\n\n\npublic class ControllerEmployeeTab extends Controller {\n\n    @FXML\n    public Button btnAddEmployee;\n    @FXML\n    TableView&lt;Employee&gt; employeeTable = new TableView&lt;Employee&gt;();\n    @FXML\n    TableColumn&lt;Employee, Integer&gt; employeeIDColumn;\n    @FXML\n    TableColumn&lt;Employee, String&gt; employeeNameColumn;\n\n\n\n    @FXML\n    public void populateTable() {\n        employeeIDColumn.setCellValueFactory(cellData -&gt; new SimpleIntegerProperty(cellData.getValue().getID()).asObject());\n        employeeNameColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getName()));\n        employeeTable.setItems(super.getModel().getAllEmployees());\n    }\n\n    @FXML\n    private void addEmployeePressed(ActionEvent ae) throws IOException {\n        loadEmployeePopup();\n    }\n}\n</code></pre>\n<p><strong>ControllerMain</strong></p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.VBox;\n\npublic class ControllerMain extends Controller {\n\n    @FXML\n    private ControllerEmployeeTab controllerEmployeeTab;\n    @FXML\n    private ControllerAddEmployee controllerAddEmployee;\n\n    public ControllerEmployeeTab getControllerEmployeeTab() { return controllerEmployeeTab;}\n\n    public void setControllerEmployeeTab(ControllerEmployeeTab controllerEmployeeTab) {\n        this.controllerEmployeeTab = controllerEmployeeTab;\n    }\n    public ControllerAddEmployee getControllerAddEmployee() { return controllerAddEmployee;}\n\n    public void setControllerAddEmployee(ControllerAddEmployee controllerAddEmployee) {\n        this.controllerAddEmployee = controllerAddEmployee;\n    }\n}\n</code></pre>\n<p><strong>ControllerAddEmploye</strong></p>\n<p>Employees are added by pressing the <code>add</code> button which calls <code>addEmployeePressed()</code> from the <code>ControllerEmployeeTab</code> class. The <code>ControllerAddEmployee</code> class handles this, and as far as I can tell employees are added to the database, the <code>ObservableList</code> of employees, and even the <code>TableView</code> but for some reason are not displaying. Adding employees to the database is working, but the code for that menu is here:</p>\n<pre><code>import javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.stage.Stage;\nimport myorg.scheduler.database.EmployeeDAO;\nimport myorg.scheduler.people.Employee;\n\nimport java.sql.SQLException;\n\npublic class ControllerAddEmployee extends Controller {\n\n    @FXML\n    private TextField nameField;\n\n    @FXML\n    private TextField emailField;\n\n    @FXML\n    private TextField phoneField;\n\n    @FXML\n    private TextField idField;\n\n    @FXML\n    private void addEmployee(ActionEvent ae) throws SQLException, ClassNotFoundException {\n        if (idField.getText() == null || nameField.getText() == null || emailField.getText() == null || phoneField.getText() == null ||\n                idField.getText().equals(&quot;&quot;) || nameField.getText().equals(&quot;&quot;) || emailField.getText().equals(&quot;&quot;) || phoneField.getText().equals(&quot;&quot;)) {\n            System.out.println(&quot;missing a field&quot;);\n        } else {\n            Employee newEmployee = new Employee(Integer.parseInt(idField.getText()), nameField.getText(), emailField.getText(), phoneField.getText());\n            super.getModel().addEmployee(newEmployee);\n            try {\n                EmployeeDAO.insertEmployee(newEmployee);\n            } catch (SQLException e) {\n                System.out.println(&quot;Problem occurred while inserting employee: &quot; + e);\n                throw e;\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>MainApp</strong></p>\n<p>This is where the model is instantiated, and where <code>public void start</code> is for the JavaFX package. <code>populateTable()</code> from the <code>ControllerEmployeeTab</code> class is called in ```start``</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class MainApp extends Application {\n\n    private static final Model model= Model.getInstance();\n\n    public void start(Stage stage) throws Exception {\n        FXMLLoader loader = new FXMLLoader();\n        loader.setLocation(MainApp.class.getResource(&quot;tabHandler.fxml&quot;));\n        Parent root = loader.load();\n\n        ControllerMain mainController = loader.getController();\n        mainController.setModel(model);\n        model.setEmployeeList();\n\n        setControllers(mainController);\n        mainController.getControllerEmployeeTab().populateTable();\n\n        Scene mainScene = new Scene(root);\n        stage.setScene(mainScene);\n        stage.show();\n    }\n\n\n    public void setControllers(ControllerMain controller) throws IOException {\n        FXMLLoader employeeTabLoader = new FXMLLoader();\n        employeeTabLoader.setLocation(MainApp.class.getResource(&quot;employeeTab.fxml&quot;));\n        employeeTabLoader.load();\n        controller.setControllerEmployeeTab(employeeTabLoader.getController());\n        controller.getControllerEmployeeTab().setModel(model);\n\n    }\n\n    public static void loadEmployeePopup() throws IOException {\n        FXMLLoader addEmployeeLoader = new FXMLLoader();\n        addEmployeeLoader.setLocation(MainApp.class.getResource(&quot;addEmployeePopup.fxml&quot;));\n        Parent addEmployeeRoot = addEmployeeLoader.load();\n\n        ControllerAddEmployee employeeController = addEmployeeLoader.getController();\n        employeeController.setModel(model);\n\n        Scene newEmployeeScene = new Scene(addEmployeeRoot);\n        Stage newEmployeeMenu = new Stage();\n        newEmployeeMenu.initModality(Modality.APPLICATION_MODAL);\n        newEmployeeMenu.setScene(newEmployeeScene);\n        newEmployeeMenu.setResizable(false);\n        newEmployeeMenu.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<h2>GUI references</h2>\n<p><strong>tabHandler.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Tab?&gt;\n&lt;?import javafx.scene.control.TabPane?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;myorg.scheduler.gui.ControllerMain&quot;\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\n\n    &lt;TabPane&gt;\n        &lt;tabs&gt;\n            &lt;Tab fx:id=&quot;employeeTab&quot; text=&quot;Employees&quot;&gt;\n                &lt;fx:include fx:id=&quot;employeeTabPage&quot; source=&quot;employeeTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n            &lt;Tab fx:id=&quot;eventTab&quot; text=&quot;Events&quot;&gt;\n                &lt;fx:include fx:id=&quot;eventTabPage&quot; source=&quot;eventTab.fxml&quot;/&gt;\n            &lt;/Tab&gt;\n        &lt;/tabs&gt;\n\n    &lt;/TabPane&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p><strong>employeeTab.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;myorg.scheduler.gui.ControllerEmployeeTab&quot;\n            prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot;&gt;\n     &lt;children&gt;\n            &lt;HBox AnchorPane.bottomAnchor=&quot;531.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                &lt;children&gt;\n                    &lt;ToolBar prefHeight=&quot;40.0&quot; prefWidth=&quot;800.0&quot;&gt;\n                        &lt;items&gt;\n                            &lt;Button fx:id=&quot;btnAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployeePressed&quot; text=&quot;Add&quot; /&gt;\n                        &lt;/items&gt;\n                    &lt;/ToolBar&gt;\n                &lt;/children&gt;\n            &lt;/HBox&gt;\n            &lt;SplitPane dividerPositions=&quot;0.3&quot; layoutY=&quot;39.0&quot; prefHeight=&quot;532.0&quot; prefWidth=&quot;800.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;39.0&quot;&gt;\n                &lt;items&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\n                        &lt;children&gt;\n                            &lt;TableView fx:id=&quot;employeeTable&quot; layoutX=&quot;18.0&quot; layoutY=&quot;34.0&quot; prefHeight=&quot;530.0&quot; prefWidth=&quot;235.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n                                &lt;columns&gt;\n                                    &lt;TableColumn fx:id=&quot;employeeIDColumn&quot; prefWidth=&quot;73.0&quot; text=&quot;ID&quot; /&gt;\n                                    &lt;TableColumn fx:id=&quot;employeeNameColumn&quot; prefWidth=&quot;161.0&quot; text=&quot;Name&quot; /&gt;\n                                &lt;/columns&gt;\n                            &lt;/TableView&gt;\n                        &lt;/children&gt;&lt;/AnchorPane&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;557.0&quot; /&gt;\n                &lt;/items&gt;\n            &lt;/SplitPane&gt;\n        &lt;/children&gt;&lt;/AnchorPane&gt;\n</code></pre>\n<p><strong>addEmployeePopup.fxml</strong></p>\n<p>I don't think the issue is here but regardless:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n\n&lt;AnchorPane prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;myorg.scheduler.gui.ControllerAddEmployee&quot;&gt;\n   &lt;children&gt;\n      &lt;TitledPane animated=&quot;false&quot; prefHeight=&quot;500.0&quot; prefWidth=&quot;500.0&quot; text=&quot;Add Employee&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n        &lt;content&gt;\n          &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;GridPane layoutX=&quot;87.6&quot; layoutY=&quot;41.6&quot; prefHeight=&quot;191.0&quot; prefWidth=&quot;307.0&quot; AnchorPane.bottomAnchor=&quot;251.0&quot; AnchorPane.leftAnchor=&quot;78.0&quot; AnchorPane.rightAnchor=&quot;113.0&quot; AnchorPane.topAnchor=&quot;32.0&quot;&gt;\n                    &lt;columnConstraints&gt;\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;219.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;156.0&quot; /&gt;\n                      &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;304.0&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;227.0&quot; /&gt;\n                    &lt;/columnConstraints&gt;\n                    &lt;rowConstraints&gt;\n                        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                      &lt;RowConstraints maxHeight=&quot;40.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;40.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                      &lt;RowConstraints maxHeight=&quot;39.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;38.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                    &lt;/rowConstraints&gt;\n                     &lt;children&gt;\n                        &lt;Label text=&quot;ID:&quot; GridPane.halignment=&quot;RIGHT&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/Label&gt;\n                        &lt;Label text=&quot;Full Name:&quot; textAlignment=&quot;RIGHT&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/Label&gt;\n                        &lt;Label text=&quot;Email:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/Label&gt;\n                        &lt;Label text=&quot;Phone:&quot; GridPane.halignment=&quot;RIGHT&quot; GridPane.rowIndex=&quot;3&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                           &lt;font&gt;\n                              &lt;Font size=&quot;18.0&quot; /&gt;\n                           &lt;/font&gt;\n                        &lt;/Label&gt;\n                        &lt;TextField fx:id=&quot;idField&quot; GridPane.columnIndex=&quot;1&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/TextField&gt;\n                        &lt;TextField fx:id=&quot;nameField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;&lt;/TextField&gt;\n                        &lt;TextField fx:id=&quot;emailField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/TextField&gt;\n                        &lt;TextField fx:id=&quot;phoneField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot;&gt;\n                           &lt;opaqueInsets&gt;\n                              &lt;Insets /&gt;\n                           &lt;/opaqueInsets&gt;\n                           &lt;GridPane.margin&gt;\n                              &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n                           &lt;/GridPane.margin&gt;\n                        &lt;/TextField&gt;\n                     &lt;/children&gt;\n                  &lt;/GridPane&gt;\n                  &lt;ButtonBar layoutX=&quot;171.0&quot; layoutY=&quot;435.0&quot;&gt;\n                     &lt;buttons&gt;\n                        &lt;Button fx:id=&quot;btnCloseAddEmployee&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#closeAddEmployeeMenu&quot; text=&quot;Cancel&quot; /&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#addEmployee&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;137.0&quot; text=&quot;Add Employee&quot; /&gt;\n                     &lt;/buttons&gt;\n                  &lt;/ButtonBar&gt;\n               &lt;/children&gt;&lt;/AnchorPane&gt;\n        &lt;/content&gt;\n      &lt;/TitledPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>In summary, employees are added to the <code>TableView</code> but not displayed, and I cannot figure out why. Thank you in advance for any assistance.</p>\n"},{"tags":["java","spring-boot","jwt","bearer-token","spring-boot-security"],"comments":[{"owner":{"account_id":8047538,"reputation":423,"user_id":6067302,"display_name":"TomekK"},"score":1,"creation_date":1688676985,"post_id":76632398,"comment_id":135109886,"body_markdown":"General way to do this is to add Roles to the jwt token and then use an annotation like @PreAuthorize on the controller methods. I think you need to add the roles to the authToken in the filter so that principal has these roles.","body":"General way to do this is to add Roles to the jwt token and then use an annotation like @PreAuthorize on the controller methods. I think you need to add the roles to the authToken in the filter so that principal has these roles."},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1688677801,"post_id":76632398,"comment_id":135110000,"body_markdown":"https://www.baeldung.com/spring-security-check-user-role check this out.\n/@PreAuthorize will probably do the trick as mentioned by @TomeKK","body":"<a href=\"https://www.baeldung.com/spring-security-check-user-role\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-check-user-role</a> check this out. /@PreAuthorize will probably do the trick as mentioned by @TomeKK"}],"answers":[{"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688677049,"creation_date":1688677049,"answer_id":76632487,"question_id":76632398,"body_markdown":"You already have a fully working solution. Just extend a customizer\r\n\r\n```\r\n\t\t\t\t.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t\t\t\t.requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n\t\t\t\t\t\t.requestMatchers(...).hasRole(&quot;USER&quot;)\r\n\t\t\t\t\t\t.requestMatchers(...).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n\t\t\t\t\t\t.requestMatchers(...).hasAuthority(&quot;USER&quot;)\r\n\t\t\t\t\t\t.requestMatchers(...).hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n\t\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t)\r\n```","title":"Spring-Boot Security use Roles","body":"<p>You already have a fully working solution. Just extend a customizer</p>\n<pre><code>                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .requestMatchers(...).hasRole(&quot;USER&quot;)\n                        .requestMatchers(...).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                        .requestMatchers(...).hasAuthority(&quot;USER&quot;)\n                        .requestMatchers(...).hasAnyAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n                        .anyRequest().authenticated()\n                )\n</code></pre>\n"}],"owner":{"account_id":28965643,"reputation":11,"user_id":22187164,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632487,"answer_count":1,"score":1,"last_activity_date":1688677049,"creation_date":1688675777,"question_id":76632398,"body_markdown":"I have recently looked into Spring-Boot and wanted to make a registration and login form for my application.\r\nI have watched a video and build my application around, what he said in the video.\r\n\r\nThe authentication works and a jwt token is generated. When I have a valid token, i can send requests to methods without getting a 403 response.\r\n\r\nMy question: My User Class has a Role, which is an enum (USER, ADMIN)\r\n\r\nHow can I configure my application to check what role the current User has and bind this role to certain methods?\r\n\r\nHere is my Code:\r\n\r\n*User Entity*\r\n\r\n\r\n```\r\n@Builder\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity(name = &quot;users&quot;)\r\npublic class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true, columnDefinition = &quot;varchar(30)&quot;)\r\n    @Email\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(nullable = false)\r\n    private String lastName;\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;varchar(60)&quot;)\r\n    @Length(min = 8, max = 256)\r\n    @NotBlank\r\n    private String password;\r\n\r\n    @Column\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role;\r\n\r\n    @Column(nullable = false)\r\n    private String teamName;\r\n\r\n    @Column(nullable = false)\r\n    private int overallScore;\r\n\r\n    @Column(nullable = false)\r\n    private int gameDayScore;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;users_players&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, nullable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;player_id&quot;, nullable = false)}\r\n    )\r\n    @JsonIgnoreProperties({&quot;users&quot;})\r\n    private List&lt;Player&gt; players;\r\n\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return List.of(new SimpleGrantedAuthority(role.name()));\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n*Role Enum Class*\r\n\r\n\r\n```\r\npublic enum Role{\r\n    USER,\r\n    ADMIN;\r\n}\r\n```\r\n\r\n*JwtService*\r\n\r\n\r\n```\r\n@Service\r\npublic class JwtService {\r\n\r\n    private static final String SECRET_KEY = &quot;b7acf8204b85ab7cec6e73b91f682677d642d328fdec7788e8cbff11ff1a5b22&quot;;\r\n\r\n    public String extractUsername(String jwtToken) {\r\n        return extractClaim(jwtToken, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String jwtToken, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllclaims(jwtToken);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public String generateJwtToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n        return Jwts.builder()\r\n                .setClaims(extraClaims)\r\n                .setSubject(userDetails.getUsername())\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    public String generateJwtToken(UserDetails userDetails) {\r\n        return generateJwtToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public boolean isJwtTokenValid(String jwtToken, UserDetails userDetails) {\r\n        final String username = extractUsername(jwtToken);\r\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isJwtTokenExpired(jwtToken);\r\n    }\r\n\r\n    private boolean isJwtTokenExpired(String jwtToken) {\r\n        return extractExpiration(jwtToken).before(new Date());\r\n    }\r\n\r\n    private Date extractExpiration(String jwtToken) {\r\n        return extractClaim(jwtToken, Claims::getExpiration);\r\n    }\r\n\r\n    private Claims extractAllclaims(String jwtToken) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(getSigningKey())\r\n                .build()\r\n                .parseClaimsJws(jwtToken)\r\n                .getBody();\r\n    }\r\n\r\n    private Key getSigningKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n}\r\n```\r\n\r\n*JwtAuthFilter*\r\n\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwtToken;\r\n        final String userEmail;\r\n\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        jwtToken = authHeader.substring(7);\r\n        userEmail = jwtService.extractUsername(jwtToken);\r\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if (jwtService.isJwtTokenValid(jwtToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(\r\n                        new WebAuthenticationDetailsSource().buildDetails(request)\r\n                );\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n*SecurityConfig*\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        httpSecurity\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n}\r\n```\r\n\r\n*ApplicationConfig*\r\n\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; userRepository.findByEmail(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nThe *AuthenticationController*\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n    private final AuthenticationService authenticationService;\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(@RequestBody RegisterRequestDto request) {\r\n        return authenticationService.registerUser(request);\r\n    }\r\n\r\n    @PostMapping(&quot;/authenticate&quot;)\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(@RequestBody AuthRequestDto request) {\r\n        return authenticationService.authenticateUser(request);\r\n    }\r\n}\r\n```\r\n\r\nThe *DemoController* where i want the &quot;sayHelloAdmin&quot; method to be only accessed by an admin and the &quot;sayHelloUser&quot; method by user and admin:\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/demo-controller&quot;)\r\npublic class DemoController {\r\n\r\n\r\n    @GetMapping(value = &quot;/admin&quot;)\r\n    public ResponseEntity&lt;String&gt; sayHelloAdmin() {\r\n        return ResponseEntity.ok(&quot;Hello from admin endpoint&quot;);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/user&quot;)\r\n    public ResponseEntity&lt;String&gt; sayHelloUser() {\r\n        return ResponseEntity.ok(&quot;Hello from user endpoint&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the *AuthenticationService*\r\n\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class AuthenticationServiceImpl implements AuthenticationService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    private final JwtService jwtService;\r\n    private final AuthenticationManager authManager;\r\n    private final UserMapper userMapper;\r\n\r\n    @Override\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(RegisterRequestDto request) {\r\n\r\n        request.setPassword(passwordEncoder.encode(request.getPassword()));\r\n\r\n        User user = userMapper.registerRequestDtoToUser(request);\r\n\r\n        user.setRole(Role.USER);\r\n        user.setGameDayScore(0);\r\n        user.setOverallScore(0);\r\n        user.setPlayers(new ArrayList&lt;&gt;());\r\n\r\n        userRepository.save(user);\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\r\n                .jwtToken(jwtToken)\r\n                .build(), HttpStatus.CREATED);\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(AuthRequestDto request) {\r\n        authManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword())\r\n        );\r\n        var user = userRepository.findByEmail(request.getEmail())\r\n                .orElseThrow();\r\n        var jwtToken = jwtService.generateJwtToken((user));\r\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\r\n                .jwtToken(jwtToken)\r\n                .build(), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n*AuthRequestDto* and *RegisterRequestDto* are almost identical to the user entity but with fewer attributes.\r\n\r\nThanks in advance for your help!\r\n\r\nsorry for the many codeblocks^^\r\n\r\ncya!\r\n\r\n~ Max","title":"Spring-Boot Security use Roles","body":"<p>I have recently looked into Spring-Boot and wanted to make a registration and login form for my application.\nI have watched a video and build my application around, what he said in the video.</p>\n<p>The authentication works and a jwt token is generated. When I have a valid token, i can send requests to methods without getting a 403 response.</p>\n<p>My question: My User Class has a Role, which is an enum (USER, ADMIN)</p>\n<p>How can I configure my application to check what role the current User has and bind this role to certain methods?</p>\n<p>Here is my Code:</p>\n<p><em>User Entity</em></p>\n<pre><code>@Builder\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity(name = &quot;users&quot;)\npublic class User implements UserDetails {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, unique = true, columnDefinition = &quot;varchar(30)&quot;)\n    @Email\n    private String email;\n\n    @Column(nullable = false)\n    private String firstName;\n\n    @Column(nullable = false)\n    private String lastName;\n\n    @Column(nullable = false, columnDefinition = &quot;varchar(60)&quot;)\n    @Length(min = 8, max = 256)\n    @NotBlank\n    private String password;\n\n    @Column\n    @Enumerated(EnumType.STRING)\n    private Role role;\n\n    @Column(nullable = false)\n    private String teamName;\n\n    @Column(nullable = false)\n    private int overallScore;\n\n    @Column(nullable = false)\n    private int gameDayScore;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;users_players&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, nullable = false)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;player_id&quot;, nullable = false)}\n    )\n    @JsonIgnoreProperties({&quot;users&quot;})\n    private List&lt;Player&gt; players;\n\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return List.of(new SimpleGrantedAuthority(role.name()));\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p><em>Role Enum Class</em></p>\n<pre><code>public enum Role{\n    USER,\n    ADMIN;\n}\n</code></pre>\n<p><em>JwtService</em></p>\n<pre><code>@Service\npublic class JwtService {\n\n    private static final String SECRET_KEY = &quot;b7acf8204b85ab7cec6e73b91f682677d642d328fdec7788e8cbff11ff1a5b22&quot;;\n\n    public String extractUsername(String jwtToken) {\n        return extractClaim(jwtToken, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String jwtToken, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllclaims(jwtToken);\n        return claimsResolver.apply(claims);\n    }\n\n    public String generateJwtToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n        return Jwts.builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSigningKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    public String generateJwtToken(UserDetails userDetails) {\n        return generateJwtToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public boolean isJwtTokenValid(String jwtToken, UserDetails userDetails) {\n        final String username = extractUsername(jwtToken);\n        return (username.equals(userDetails.getUsername())) &amp;&amp; !isJwtTokenExpired(jwtToken);\n    }\n\n    private boolean isJwtTokenExpired(String jwtToken) {\n        return extractExpiration(jwtToken).before(new Date());\n    }\n\n    private Date extractExpiration(String jwtToken) {\n        return extractClaim(jwtToken, Claims::getExpiration);\n    }\n\n    private Claims extractAllclaims(String jwtToken) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(getSigningKey())\n                .build()\n                .parseClaimsJws(jwtToken)\n                .getBody();\n    }\n\n    private Key getSigningKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n}\n</code></pre>\n<p><em>JwtAuthFilter</em></p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwtToken;\n        final String userEmail;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwtToken = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwtToken);\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if (jwtService.isJwtTokenValid(jwtToken, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p><em>SecurityConfig</em></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p><em>ApplicationConfig</em></p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepository userRepository;\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userRepository.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>The <em>AuthenticationController</em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n    private final AuthenticationService authenticationService;\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(@RequestBody RegisterRequestDto request) {\n        return authenticationService.registerUser(request);\n    }\n\n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(@RequestBody AuthRequestDto request) {\n        return authenticationService.authenticateUser(request);\n    }\n}\n</code></pre>\n<p>The <em>DemoController</em> where i want the &quot;sayHelloAdmin&quot; method to be only accessed by an admin and the &quot;sayHelloUser&quot; method by user and admin:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/demo-controller&quot;)\npublic class DemoController {\n\n\n    @GetMapping(value = &quot;/admin&quot;)\n    public ResponseEntity&lt;String&gt; sayHelloAdmin() {\n        return ResponseEntity.ok(&quot;Hello from admin endpoint&quot;);\n    }\n\n    @GetMapping(value = &quot;/user&quot;)\n    public ResponseEntity&lt;String&gt; sayHelloUser() {\n        return ResponseEntity.ok(&quot;Hello from user endpoint&quot;);\n    }\n\n}\n</code></pre>\n<p>and the <em>AuthenticationService</em></p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class AuthenticationServiceImpl implements AuthenticationService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final JwtService jwtService;\n    private final AuthenticationManager authManager;\n    private final UserMapper userMapper;\n\n    @Override\n    public ResponseEntity&lt;AuthenticationResponse&gt; registerUser(RegisterRequestDto request) {\n\n        request.setPassword(passwordEncoder.encode(request.getPassword()));\n\n        User user = userMapper.registerRequestDtoToUser(request);\n\n        user.setRole(Role.USER);\n        user.setGameDayScore(0);\n        user.setOverallScore(0);\n        user.setPlayers(new ArrayList&lt;&gt;());\n\n        userRepository.save(user);\n        var jwtToken = jwtService.generateJwtToken(user);\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\n                .jwtToken(jwtToken)\n                .build(), HttpStatus.CREATED);\n    }\n\n    @Override\n    public ResponseEntity&lt;AuthenticationResponse&gt; authenticateUser(AuthRequestDto request) {\n        authManager.authenticate(\n                new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword())\n        );\n        var user = userRepository.findByEmail(request.getEmail())\n                .orElseThrow();\n        var jwtToken = jwtService.generateJwtToken((user));\n        return new ResponseEntity&lt;&gt;(AuthenticationResponse.builder()\n                .jwtToken(jwtToken)\n                .build(), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><em>AuthRequestDto</em> and <em>RegisterRequestDto</em> are almost identical to the user entity but with fewer attributes.</p>\n<p>Thanks in advance for your help!</p>\n<p>sorry for the many codeblocks^^</p>\n<p>cya!</p>\n<p>~ Max</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688676607,"creation_date":1688602093,"answer_id":76624754,"question_id":76624671,"body_markdown":"Basically, the solution is already given in the error message: export the package to the module. To do so, add a line\r\n\r\n```Java\r\nexports com.democompany.app.api to com.fasterxml.jackson.databind;\r\n```\r\n\r\nto your `module-info.java` file.\r\n\r\nHave a look [here][1] for more details  but this is *really* just the starting point.\r\n\r\n\r\n  [1]: https://openjdk.org/projects/jigsaw/quick-start","title":"java.lang.reflect.InaccessibleObjectException: Unable to make public accessible","body":"<p>Basically, the solution is already given in the error message: export the package to the module. To do so, add a line</p>\n<pre><code>exports com.democompany.app.api to com.fasterxml.jackson.databind;\n</code></pre>\n<p>to your <code>module-info.java</code> file.</p>\n<p>Have a look <a href=\"https://openjdk.org/projects/jigsaw/quick-start\" rel=\"nofollow noreferrer\">here</a> for more details  but this is <em>really</em> just the starting point.</p>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76624754,"answer_count":1,"score":0,"last_activity_date":1688676607,"creation_date":1688600408,"question_id":76624671,"body_markdown":"I&#39;m having issues processing an API JSON response in a JavaFX app. I get the error:\r\n\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make public com.democompany.app.api.ResponseToken() accessible: module com.democompany.app does not &quot;exports com.democompany.app.api&quot; to module com.fasterxml.jackson.databind\r\n```\r\n\r\nThe code:\r\n\r\n```\r\nString responseString = responseBody.string();                \r\nObjectMapper objectMapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\nResponseToken responseToken = objectMapper.readValue(responseString, ResponseToken.class);\r\n```          \r\n\r\nHow can I fix this?","title":"java.lang.reflect.InaccessibleObjectException: Unable to make public accessible","body":"<p>I'm having issues processing an API JSON response in a JavaFX app. I get the error:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make public com.democompany.app.api.ResponseToken() accessible: module com.democompany.app does not &quot;exports com.democompany.app.api&quot; to module com.fasterxml.jackson.databind\n</code></pre>\n<p>The code:</p>\n<pre><code>String responseString = responseBody.string();                \nObjectMapper objectMapper = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nResponseToken responseToken = objectMapper.readValue(responseString, ResponseToken.class);\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1688671490,"post_id":76631955,"comment_id":135108874,"body_markdown":"`private` means private to the _class_, not private to _each object of that class._","body":"<code>private</code> means private to the <i>class</i>, not private to <i>each object of that class.</i>"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1688671651,"post_id":76631955,"comment_id":135108907,"body_markdown":"You can read private attribute of another object if its&quot; in the same class as you&#39;re actually in, and the return type has NO thing to do with it","body":"You can read private attribute of another object if its&quot; in the same class as you&#39;re actually in, and the return type has NO thing to do with it"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688671788,"post_id":76631955,"comment_id":135108928,"body_markdown":"Thanks but why didn&#39;t it work in the LargerThan method then? When I try it the error Message says &quot;squares has private access in Apartment&quot;","body":"Thanks but why didn&#39;t it work in the LargerThan method then? When I try it the error Message says &quot;squares has private access in Apartment&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1688671814,"post_id":76631955,"comment_id":135108933,"body_markdown":"what do you mean by &quot;*but boolean return type can&#39;t?*&quot; ?? Please post the no-working code and what is not working/error message","body":"what do you mean by &quot;<i>but boolean return type can&#39;t?</i>&quot; ?? Please post the no-working code and what is not working/error message"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688671815,"post_id":76631955,"comment_id":135108934,"body_markdown":"By the way, i really don&#39;t get what the &quot;...but boolean return type can&#39;t?&quot; part of the question is supposed to mean. What did you try and what error did you get? The access modifiers work the same for each method and field and don&#39;t act different depending on data or return types.","body":"By the way, i really don&#39;t get what the &quot;...but boolean return type can&#39;t?&quot; part of the question is supposed to mean. What did you try and what error did you get? The access modifiers work the same for each method and field and don&#39;t act different depending on data or return types."},{"owner":{"account_id":20650084,"reputation":2646,"user_id":15160601,"display_name":"zoldxk"},"score":0,"creation_date":1688671997,"post_id":76631955,"comment_id":135108961,"body_markdown":"check [this](https://stackoverflow.com/a/3728101/15160601)","body":"check <a href=\"https://stackoverflow.com/a/3728101/15160601\">this</a>"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672245,"post_id":76631955,"comment_id":135109003,"body_markdown":"Alright so I tried `if (this.squares &gt; compared.squares)` in the largerThan method. I got the error message &quot;squares has private access in Apartment&quot;.\nWhat I meant by boolean return type is, once I changed the largerThan method from `public boolean largerThan` to `public int largerThan` the red lines below .squares disappeared.","body":"Alright so I tried <code>if (this.squares &gt; compared.squares)</code> in the largerThan method. I got the error message &quot;squares has private access in Apartment&quot;. What I meant by boolean return type is, once I changed the largerThan method from <code>public boolean largerThan</code> to <code>public int largerThan</code> the red lines below .squares disappeared."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1688672339,"post_id":76631955,"comment_id":135109031,"body_markdown":"Post the code where you are running this from","body":"Post the code where you are running this from"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672605,"post_id":76631955,"comment_id":135109066,"body_markdown":"Ok I&#39;m using NetBeans with TMC (Maven) no idea where to check the version. I have screenshots of the code with boolean return and int return:","body":"Ok I&#39;m using NetBeans with TMC (Maven) no idea where to check the version. I have screenshots of the code with boolean return and int return:"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672671,"post_id":76631955,"comment_id":135109073,"body_markdown":"https://imgur.com/a/A7uiETV","body":"<a href=\"https://imgur.com/a/A7uiETV\" rel=\"nofollow noreferrer\">imgur.com/a/A7uiETV</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1688672900,"post_id":76631955,"comment_id":135109112,"body_markdown":"Have you tried restarting your IDE or computer, or running a Maven update?  I use Eclipse, but sometimes I get weird errors that aren&#39;t real, but Eclipse is messing up","body":"Have you tried restarting your IDE or computer, or running a Maven update?  I use Eclipse, but sometimes I get weird errors that aren&#39;t real, but Eclipse is messing up"},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688672937,"post_id":76631955,"comment_id":135109123,"body_markdown":"ALRIGHT it must be a bug with my IDE or something. Because if I change it to int, the code works, like in the image above. but then when I ALT+Z back so it&#39;s boolean again, it STILL WORKS. The error is gone. THEN when I delete the .squares and type it in again, the error is back. So weird.","body":"ALRIGHT it must be a bug with my IDE or something. Because if I change it to int, the code works, like in the image above. but then when I ALT+Z back so it&#39;s boolean again, it STILL WORKS. The error is gone. THEN when I delete the .squares and type it in again, the error is back. So weird."},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688673124,"post_id":76631955,"comment_id":135109170,"body_markdown":"@Nexevis Yeah I&#39;m betting it&#39;s not a real error since when you do change something then alt-z back to the code that was showing the error, the error is gone. But only if you alt-z. If you delete the now errorless code and write it again, the error shows up again. \nI don&#39;t want to mess something up by updating since this is the modified NetBeans to be used by the mooc.fi course. It&#39;s not a problem I just didn&#39;t understand why that error was appearing and it was bugging me.","body":"@Nexevis Yeah I&#39;m betting it&#39;s not a real error since when you do change something then alt-z back to the code that was showing the error, the error is gone. But only if you alt-z. If you delete the now errorless code and write it again, the error shows up again.  I don&#39;t want to mess something up by updating since this is the modified NetBeans to be used by the mooc.fi course. It&#39;s not a problem I just didn&#39;t understand why that error was appearing and it was bugging me."},{"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"score":0,"creation_date":1688673188,"post_id":76631955,"comment_id":135109183,"body_markdown":"@user16320675 is that not allowed? don&#39;t know how to upload images internally","body":"@user16320675 is that not allowed? don&#39;t know how to upload images internally"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688675893,"post_id":76631955,"comment_id":135109684,"body_markdown":"You don&#39;t need to tell a story to ask a question. We don&#39;t need the build up, the &quot;so far so good&quot;, &quot;again no errors&quot;. Just show use the code that works, and the code that doesn&#39;t work. Tell and why it doesn&#39;t work and why you think it should.","body":"You don&#39;t need to tell a story to ask a question. We don&#39;t need the build up, the &quot;so far so good&quot;, &quot;again no errors&quot;. Just show use the code that works, and the code that doesn&#39;t work. Tell and why it doesn&#39;t work and why you think it should."}],"answers":[{"tags":[],"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688675438,"creation_date":1688675438,"answer_id":76632356,"question_id":76631955,"body_markdown":"i will try to explainn this refering to the method:\r\n\r\n```\r\npublic boolean largerThan(Apartment compared) {\r\n        if (this.squares &gt; compared.getSquares()) {\r\n            return true;\r\n        }\r\n        return false;\r\n\r\n    }\r\n```\r\n\r\nInside the main class of Apartment you can have methods that have as parameters variables of the same type of your class, but at runtime they will be different  objects. So you must refer to this object with the appropiate methods.","title":"Java: Method with int return type can access private variable, but boolean return type can&#39;t?","body":"<p>i will try to explainn this refering to the method:</p>\n<pre><code>public boolean largerThan(Apartment compared) {\n        if (this.squares &gt; compared.getSquares()) {\n            return true;\n        }\n        return false;\n\n    }\n</code></pre>\n<p>Inside the main class of Apartment you can have methods that have as parameters variables of the same type of your class, but at runtime they will be different  objects. So you must refer to this object with the appropiate methods.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688676278,"creation_date":1688676278,"answer_id":76632434,"question_id":76631955,"body_markdown":"Let&#39;s make this simple.\r\n\r\n```\r\npublic class Hide{\r\n    private boolean privy = false;    \r\n    public boolean test( Hide h){\r\n        return h.privy;\r\n    }\r\n    public static void main(String[] args){\r\n        Hide a = new Hide();\r\n        Hide b = new Hide();\r\n        System.out.println(a.test(b));   \r\n    }\r\n}\r\n```\r\n\r\nThat compiles and runs fine. It is a boolean method, that accesses the private member of another instance of the same class. So it seems your error is occurring somewhere else in the build process.","title":"Java: Method with int return type can access private variable, but boolean return type can&#39;t?","body":"<p>Let's make this simple.</p>\n<pre><code>public class Hide{\n    private boolean privy = false;    \n    public boolean test( Hide h){\n        return h.privy;\n    }\n    public static void main(String[] args){\n        Hide a = new Hide();\n        Hide b = new Hide();\n        System.out.println(a.test(b));   \n    }\n}\n</code></pre>\n<p>That compiles and runs fine. It is a boolean method, that accesses the private member of another instance of the same class. So it seems your error is occurring somewhere else in the build process.</p>\n"}],"owner":{"account_id":28965285,"reputation":1,"user_id":22186893,"display_name":"cubi11"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1688676278,"creation_date":1688671269,"question_id":76631955,"body_markdown":"So there&#39;s probably a really obvious answer to this but at the moment I&#39;m very confused.\r\n\r\nI started learning Java and am doing the mooc.fi Java Programming course. There&#39;s an exercise where I have an Apartment class and I have to make a couple of methods that compare a variable from one object to another (both objects are from the same class).\r\n\r\nSo I made a boolean return type method with an (Apartment compared) constructor. Then I used this.variable to get the value of the variable of the current object. I made a getter method to be able to get the value of the &quot;compared&quot; object. Then I used compared.getVariable() to get the value of the compared object. \r\n\r\nSo far so good.\r\n\r\nThe second methods objective was to return the value difference between the two objects variables. So again, I made a method with an int return type with the same (Apartment compared) constructor. I used the same this.variable for the object. But then instead of using the getter method for the second object, I typed compared.variable. It showed no errors. The program worked. \r\n\r\nSo I went back to the first method and changed the boolean return type to int return type. and I changed compared.getVariable to compared.variable\r\n\r\nAgain, no errors. \r\n\r\nSo why can a method read a private variable of a different object? Why does it work with int but not with boolean?\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic class Apartment {\r\n\r\n    private int rooms;\r\n    private int squares;\r\n    private int princePerSquare;\r\n\r\n    public Apartment(int rooms, int squares, int pricePerSquare) {\r\n        this.rooms = rooms;\r\n        this.squares = squares;\r\n        this.princePerSquare = pricePerSquare;\r\n    }\r\n\r\n    public int getSquares() {\r\n        return squares;\r\n    }\r\n\r\n    public int getPrincePerSquare() {\r\n        return princePerSquare;\r\n    }\r\n\r\n    public boolean largerThan(Apartment compared) {\r\n        if (this.squares &gt; compared.getSquares()) {\r\n            return true;\r\n        }\r\n        return false;\r\n\r\n    }\r\n\r\n    public int priceDifference(Apartment compared) {\r\n        if ((this.princePerSquare * this.squares) &gt; (compared.princePerSquare * compared.squares)) {\r\n            return (this.princePerSquare * this.squares) - (compared.princePerSquare * compared.squares);\r\n        }\r\n    \r\n        return (compared.princePerSquare * compared.squares) - (this.princePerSquare * this.squares);\r\n    }\r\n}\r\n```\r\n\r\nThe two relevant methods are LargerThan and PriceDifference\r\n\r\nThanks in advance and sorry if it&#39;s a stupid question\r\n\r\nEdit: I know it should be pricePerSquare instead of PrincePerSquare but that&#39;s how it was pre-written by mooc.fi and I don&#39;t wanna change it in case the tester uses PrincePerSquare.\r\n\r\n","title":"Java: Method with int return type can access private variable, but boolean return type can&#39;t?","body":"<p>So there's probably a really obvious answer to this but at the moment I'm very confused.</p>\n<p>I started learning Java and am doing the mooc.fi Java Programming course. There's an exercise where I have an Apartment class and I have to make a couple of methods that compare a variable from one object to another (both objects are from the same class).</p>\n<p>So I made a boolean return type method with an (Apartment compared) constructor. Then I used this.variable to get the value of the variable of the current object. I made a getter method to be able to get the value of the &quot;compared&quot; object. Then I used compared.getVariable() to get the value of the compared object.</p>\n<p>So far so good.</p>\n<p>The second methods objective was to return the value difference between the two objects variables. So again, I made a method with an int return type with the same (Apartment compared) constructor. I used the same this.variable for the object. But then instead of using the getter method for the second object, I typed compared.variable. It showed no errors. The program worked.</p>\n<p>So I went back to the first method and changed the boolean return type to int return type. and I changed compared.getVariable to compared.variable</p>\n<p>Again, no errors.</p>\n<p>So why can a method read a private variable of a different object? Why does it work with int but not with boolean?</p>\n<p>Here's my code:</p>\n<pre><code>public class Apartment {\n\n    private int rooms;\n    private int squares;\n    private int princePerSquare;\n\n    public Apartment(int rooms, int squares, int pricePerSquare) {\n        this.rooms = rooms;\n        this.squares = squares;\n        this.princePerSquare = pricePerSquare;\n    }\n\n    public int getSquares() {\n        return squares;\n    }\n\n    public int getPrincePerSquare() {\n        return princePerSquare;\n    }\n\n    public boolean largerThan(Apartment compared) {\n        if (this.squares &gt; compared.getSquares()) {\n            return true;\n        }\n        return false;\n\n    }\n\n    public int priceDifference(Apartment compared) {\n        if ((this.princePerSquare * this.squares) &gt; (compared.princePerSquare * compared.squares)) {\n            return (this.princePerSquare * this.squares) - (compared.princePerSquare * compared.squares);\n        }\n    \n        return (compared.princePerSquare * compared.squares) - (this.princePerSquare * this.squares);\n    }\n}\n</code></pre>\n<p>The two relevant methods are LargerThan and PriceDifference</p>\n<p>Thanks in advance and sorry if it's a stupid question</p>\n<p>Edit: I know it should be pricePerSquare instead of PrincePerSquare but that's how it was pre-written by mooc.fi and I don't wanna change it in case the tester uses PrincePerSquare.</p>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1688642874,"post_id":76628062,"comment_id":135102899,"body_markdown":"why are you doing it this way?","body":"why are you doing it this way?"},{"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"score":0,"creation_date":1688646107,"post_id":76628062,"comment_id":135103615,"body_markdown":"I want to enable job-level metrics. So that under one cluster, I can have multiple jobs. Each of these would send metrics for a different purpose.","body":"I want to enable job-level metrics. So that under one cluster, I can have multiple jobs. Each of these would send metrics for a different purpose."}],"owner":{"account_id":15827515,"reputation":33,"user_id":11419939,"display_name":"dhinesh bala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688676193,"creation_date":1688640789,"question_id":76628062,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/1E02I.png)](https://i.stack.imgur.com/1E02I.png)\r\nAttached logs: (Facing this issue while stop/start the existing sparkcontext in databricks.Facing this issue while stop/start the existing sparkcontext in databricks. Need to enable spark default metrics in job level.\r\n\r\n\r\n```\r\ncom.timgroup.statsd.StatsDClientException: Failed to start StatsD client\r\n\tat com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:95)\r\n\tat com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:64)\r\n\tat org.zignallabs.streaming.metrics.SerializableStatsDClient.readObject(SerializableStatsDClient.java:124)\r\n\tat sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\r\n\tat sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\r\n\tat sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129)\r\n\tat org.apache.spark.scheduler.ResultTask.$anonfun$runTask$2(ResultTask.scala:65)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:65)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\r\n\tat org.apache.spark.scheduler.Task.doRunTask(Task.scala:169)\r\n\tat org.apache.spark.scheduler.Task.$anonfun$run$4(Task.scala:137)\r\n\tat com.databricks.unity.EmptyHandle$.runWithAndClose(UCSHandle.scala:125)\r\n\tat org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:137)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:96)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:902)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1697)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:905)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:760)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.net.SocketException: **maximum number of DatagramSockets reached**\r\n\tat sun.net.ResourceManager.beforeUdpCreate(ResourceManager.java:73)\r\n\tat sun.nio.ch.DatagramChannelImpl.&lt;init&gt;(DatagramChannelImpl.java:107)\r\n\tat sun.nio.ch.SelectorProviderImpl.openDatagramChannel(SelectorProviderImpl.java:42)\r\n\tat java.nio.channels.DatagramChannel.open(DatagramChannel.java:149)\r\n\tat com.timgroup.statsd.NonBlockingUdpSender.&lt;init&gt;(NonBlockingUdpSender.java:22)\r\n\tat com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:93)\r\n\t... 95 more\r\n```\r\n\r\n","title":"Getting &quot; maximum number of DatagramSockets reached&quot; issue while stop/start exisiting sparkcontext in databricks","body":"<p><a href=\"https://i.stack.imgur.com/1E02I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1E02I.png\" alt=\"enter image description here\" /></a>\nAttached logs: (Facing this issue while stop/start the existing sparkcontext in databricks.Facing this issue while stop/start the existing sparkcontext in databricks. Need to enable spark default metrics in job level.</p>\n<pre><code>com.timgroup.statsd.StatsDClientException: Failed to start StatsD client\n    at com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:95)\n    at com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:64)\n    at org.zignallabs.streaming.metrics.SerializableStatsDClient.readObject(SerializableStatsDClient.java:124)\n    at sun.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2119)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1657)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\n    at sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527)\n    at sun.reflect.GeneratedMethodAccessor157.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87)\n    at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129)\n    at org.apache.spark.scheduler.ResultTask.$anonfun$runTask$2(ResultTask.scala:65)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:65)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\n    at org.apache.spark.scheduler.Task.doRunTask(Task.scala:169)\n    at org.apache.spark.scheduler.Task.$anonfun$run$4(Task.scala:137)\n    at com.databricks.unity.EmptyHandle$.runWithAndClose(UCSHandle.scala:125)\n    at org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:137)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.scheduler.Task.run(Task.scala:96)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:902)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1697)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:905)\n    at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n    at com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:760)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: java.net.SocketException: **maximum number of DatagramSockets reached**\n    at sun.net.ResourceManager.beforeUdpCreate(ResourceManager.java:73)\n    at sun.nio.ch.DatagramChannelImpl.&lt;init&gt;(DatagramChannelImpl.java:107)\n    at sun.nio.ch.SelectorProviderImpl.openDatagramChannel(SelectorProviderImpl.java:42)\n    at java.nio.channels.DatagramChannel.open(DatagramChannel.java:149)\n    at com.timgroup.statsd.NonBlockingUdpSender.&lt;init&gt;(NonBlockingUdpSender.java:22)\n    at com.timgroup.statsd.NonBlockingStatsDClient.&lt;init&gt;(NonBlockingStatsDClient.java:93)\n    ... 95 more\n</code></pre>\n"},{"tags":["java","multithreading","thread-synchronization"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1688673195,"post_id":76632091,"comment_id":135109185,"body_markdown":"At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking.  Modifications to things like ArrayLists need to be done under a lock.","body":"At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking.  Modifications to things like ArrayLists need to be done under a lock."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688673702,"post_id":76632091,"comment_id":135109294,"body_markdown":"@LouisWasserman Thank you! It seems to have a positive effect. But why don&#39;t I get `ConcurrentModificationException` or the like? I know that `ExecutorService` &quot;swallows&quot; exceptions, but I don&#39;t use it here","body":"@LouisWasserman Thank you! It seems to have a positive effect. But why don&#39;t I get <code>ConcurrentModificationException</code> or the like? I know that <code>ExecutorService</code> &quot;swallows&quot; exceptions, but I don&#39;t use it here"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688674714,"post_id":76632091,"comment_id":135109485,"body_markdown":"Also, why is there some weird `null` element? Shouldn&#39;t the removal be atomic in the sense &quot;it either happens completely or not at all&quot;? Was there some swallowed exception between nullifying the removed element&#39;s index and `size--`?","body":"Also, why is there some weird <code>null</code> element? Shouldn&#39;t the removal be atomic in the sense &quot;it either happens completely or not at all&quot;? Was there some swallowed exception between nullifying the removed element&#39;s index and <code>size--</code>?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688677166,"post_id":76632091,"comment_id":135109909,"body_markdown":"Why are you extending Thread... with an abstract class? I&#39;m surprised the compiler lets you do that. What is the abstract method? This is horrible.","body":"Why are you extending Thread... with an abstract class? I&#39;m surprised the compiler lets you do that. What is the abstract method? This is horrible."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688677461,"post_id":76632091,"comment_id":135109943,"body_markdown":"In the code you have provided, addPassenger is only ever called on &quot;this&quot;, this can never be null. The problem you&#39;re seeing is not caused by the existing code.","body":"In the code you have provided, addPassenger is only ever called on &quot;this&quot;, this can never be null. The problem you&#39;re seeing is not caused by the existing code."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":1,"creation_date":1688683521,"post_id":76632091,"comment_id":135110723,"body_markdown":"@matt it&#39;s pretty straightforward: I want to avoid code duplication since both `Passenger` and `BoatKeeper` share report functionality. As far as I know, there&#39;s nothing inherently wrong with having an abstract class as a `Thread` child. Abstract classes are classes that can&#39;t be instantiated, that&#39;s it. `StatusReporter` doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract","body":"@matt it&#39;s pretty straightforward: I want to avoid code duplication since both <code>Passenger</code> and <code>BoatKeeper</code> share report functionality. As far as I know, there&#39;s nothing inherently wrong with having an abstract class as a <code>Thread</code> child. Abstract classes are classes that can&#39;t be instantiated, that&#39;s it. <code>StatusReporter</code> doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688683597,"post_id":76632091,"comment_id":135110731,"body_markdown":"@matt as a matter of fact, it *was* caused by the existing code. See the answer below","body":"@matt as a matter of fact, it <i>was</i> caused by the existing code. See the answer below"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688697426,"post_id":76632091,"comment_id":135111841,"body_markdown":"@JoreJoh: No, who promised that changes to `ArrayList` would be atomic?  The documentation specifically _doesn&#39;t_ promise that.  Every single operation you need to do to an `ArrayList` needs to use a lock, and it needs to be the same lock.","body":"@JoreJoh: No, who promised that changes to <code>ArrayList</code> would be atomic?  The documentation specifically <i>doesn&#39;t</i> promise that.  Every single operation you need to do to an <code>ArrayList</code> needs to use a lock, and it needs to be the same lock."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688714521,"post_id":76632091,"comment_id":135113555,"body_markdown":"@JoreJoh I don&#39;t see how the answer says why your array list contains null. Maybe since your in a threaded environment with a debugger you&#39;ve captured a transient state where null is in the list.","body":"@JoreJoh I don&#39;t see how the answer says why your array list contains null. Maybe since your in a threaded environment with a debugger you&#39;ve captured a transient state where null is in the list."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688714566,"post_id":76632091,"comment_id":135113565,"body_markdown":"In general you shouldn&#39;t extend Thread. Also, when you extend something, the thing your extend is the parent. &quot;StatusReporter doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract&quot; It&#39;s not clear *why* that is the case. If doesn&#39;t make sense on it&#39;s own, then dont give it a public constructor. Use protected constructor, then it would need to be extended. Really it doesn&#39;t need to be a class at all, an interface should work.","body":"In general you shouldn&#39;t extend Thread. Also, when you extend something, the thing your extend is the parent. &quot;StatusReporter doesn&#39;t make sense on its own so it&#39;s reasonable to make it abstract&quot; It&#39;s not clear <i>why</i> that is the case. If doesn&#39;t make sense on it&#39;s own, then dont give it a public constructor. Use protected constructor, then it would need to be extended. Really it doesn&#39;t need to be a class at all, an interface should work."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688731148,"post_id":76632091,"comment_id":135116694,"body_markdown":"Re, &quot;why don&#39;t I get `ConcurrentModificationException`...?&quot; That exception is poorly named. The JRE doesn&#39;t raise it because of anything to do with threads. It is raised when your program tries to use an `Iterator` after the Iterator has been invalidated by the program mutating the `Collection` to which the Iterator belongs. The kinds of errors that are caused by threads accessing shared variables with no synchronization are practically impossible to _reliably_ detect and identify. You cannot count on threading errors to cause _meaningful_ exceptions.","body":"Re, &quot;why don&#39;t I get <code>ConcurrentModificationException</code>...?&quot; That exception is poorly named. The JRE doesn&#39;t raise it because of anything to do with threads. It is raised when your program tries to use an <code>Iterator</code> after the Iterator has been invalidated by the program mutating the <code>Collection</code> to which the Iterator belongs. The kinds of errors that are caused by threads accessing shared variables with no synchronization are practically impossible to <i>reliably</i> detect and identify. You cannot count on threading errors to cause <i>meaningful</i> exceptions."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688731483,"post_id":76632091,"comment_id":135116748,"body_markdown":"@matt no, it wouldn&#39;t work since interfaces can&#39;t have instance fields. In this case, `status` is an instance field","body":"@matt no, it wouldn&#39;t work since interfaces can&#39;t have instance fields. In this case, <code>status</code> is an instance field"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688731563,"post_id":76632091,"comment_id":135116763,"body_markdown":"@SolomonSlow but was there any exception at all? If so, was it swallowed?","body":"@SolomonSlow but was there any exception at all? If so, was it swallowed?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688733542,"post_id":76632091,"comment_id":135117188,"body_markdown":"You want your object to extend thread, and you want your object to extend status report. So you&#39;ve made StatusReport extend Thread. You want StatusReport to be abstract because you don&#39;t think it makes sense to exist on its own. I&#39;m definitely a fan of composition over inheritance. Your class could just have an instance of StatusReport and implement Runnable. But you&#39;re right, it is pretty much just practice.","body":"You want your object to extend thread, and you want your object to extend status report. So you&#39;ve made StatusReport extend Thread. You want StatusReport to be abstract because you don&#39;t think it makes sense to exist on its own. I&#39;m definitely a fan of composition over inheritance. Your class could just have an instance of StatusReport and implement Runnable. But you&#39;re right, it is pretty much just practice."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688733712,"post_id":76632091,"comment_id":135117229,"body_markdown":"Re, &quot;was there any exception at all?&quot; A &quot;race condition&quot; (result of unsynchronized access to shared variables) could cause some kind of data corruption or it could cause some kind of logic error. It could affect your own program&#39;s data/logic, it could affect the JRE, or it could affect the JVM. Literally _anything_ could happen; It could cause an immediate program crash (e.g., &quot;segfault&quot;), it could cause a &quot;glitch&quot; in the GUI, it could cause your program to write an incorrect value to a record in a database that you don&#39;t discover until months later. Literally, _anything_ could happen.","body":"Re, &quot;was there any exception at all?&quot; A &quot;race condition&quot; (result of unsynchronized access to shared variables) could cause some kind of data corruption or it could cause some kind of logic error. It could affect your own program&#39;s data/logic, it could affect the JRE, or it could affect the JVM. Literally <i>anything</i> could happen; It could cause an immediate program crash (e.g., &quot;segfault&quot;), it could cause a &quot;glitch&quot; in the GUI, it could cause your program to write an incorrect value to a record in a database that you don&#39;t discover until months later. Literally, <i>anything</i> could happen."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688733919,"post_id":76632091,"comment_id":135117279,"body_markdown":"P.S., &quot;_Could_ cause...&quot; For example, in a big, commercial, back-end system, it might _not_ cause any of the above during weeks of testing, and then months later, after being released into the field, it could cause a major problem on some client&#39;s web site. (Ask me some time how much fun it is to do a post-mortem on a client&#39;s four gigabyte core-file when the debug symbols for that release have somehow gone missing.)","body":"P.S., &quot;<i>Could</i> cause...&quot; For example, in a big, commercial, back-end system, it might <i>not</i> cause any of the above during weeks of testing, and then months later, after being released into the field, it could cause a major problem on some client&#39;s web site. (Ask me some time how much fun it is to do a post-mortem on a client&#39;s four gigabyte core-file when the debug symbols for that release have somehow gone missing.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688764105,"post_id":76632091,"comment_id":135122522,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688675958,"creation_date":1688674517,"answer_id":76632272,"question_id":76632091,"body_markdown":"***Note.** It&#39;s not my answer but rather the answer [Louis Wasserman][1] gave in the comments (apparently, he doesn&#39;t want to post it as an answer).*\r\n\r\n&gt; At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking. Modifications to things like ArrayLists need to be done under a lock.\r\n&gt;\r\n&gt; *Louis Wasserman*\r\n\r\nIndeed, changing this part of `disembark()` method\r\n```java\r\n            boatKeeper.getBoat().removePassenger(this);\r\n            lock.lock();\r\n            condition.signalAll();\r\n            lock.unlock();\r\n```\r\nto this\r\n```java\r\n            lock.lock();\r\n            boatKeeper.getBoat().removePassenger(this);\r\n            condition.signalAll();\r\n            lock.unlock();\r\n```\r\nhelped. Thank you!\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/869736/louis-wasserman","title":"A thread can&#39;t properly remove itself from a List. Why?","body":"<p><em><strong>Note.</strong> It's not my answer but rather the answer <a href=\"https://stackoverflow.com/users/869736/louis-wasserman\">Louis Wasserman</a> gave in the comments (apparently, he doesn't want to post it as an answer).</em></p>\n<blockquote>\n<p>At a glance, this looks like a standard thread safety issue caused by trying to concurrently modify a non-thread-safe collection without any sort of locking. Modifications to things like ArrayLists need to be done under a lock.</p>\n<p><em>Louis Wasserman</em></p>\n</blockquote>\n<p>Indeed, changing this part of <code>disembark()</code> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>            boatKeeper.getBoat().removePassenger(this);\n            lock.lock();\n            condition.signalAll();\n            lock.unlock();\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>            lock.lock();\n            boatKeeper.getBoat().removePassenger(this);\n            condition.signalAll();\n            lock.unlock();\n</code></pre>\n<p>helped. Thank you!</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76632272,"answer_count":1,"score":0,"last_activity_date":1688675958,"creation_date":1688672513,"question_id":76632091,"body_markdown":"When I try to get accustomed with a new library or concept, I typically do a small toy project that utilizes those libraries or concepts. `java.util.concurrent` is no different. I only start to learn that library so I made a few simple apps. Some of them work, but this one (it was supposed to teach me to get comfortable with `Semaphore`) misbehaves. Here&#39;s the complete code. It&#39;s not minimal, but since I don&#39;t know which part I can safely cut (except for `River`, `speed`, but it&#39;s not much code anyway), I decided to include it in its entirety\r\n```java\r\npublic record River(short width) {\r\n}\r\n```\r\n```java\r\npublic interface Status {\r\n    String description();\r\n}\r\n```\r\n```java\r\npublic abstract class StatusReporter extends Thread {\r\n    protected Status status;\r\n    public StatusReporter(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public void setAndReportStatus(Status status) {\r\n        this.status = status;\r\n        System.out.println(getName() + &quot;: &quot; + status.description());\r\n    }\r\n}\r\n```\r\n```java\r\npublic class SharedSynchronizers {\r\n    static final Lock FAIR_LOCK = new ReentrantLock(true);\r\n    static final Condition CONDITION = FAIR_LOCK.newCondition();\r\n}\r\n```\r\n```java\r\npublic class Boat {\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final byte capacity;\r\n    @Getter\r\n    private final byte speed;\r\n    private final List&lt;Passenger&gt; passengersOnBoard;\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final Semaphore semaphore;\r\n    private final Condition condition = SharedSynchronizers.CONDITION;\r\n\r\n    private Boat(Builder builder) {\r\n        capacity = builder.capacity;\r\n        speed = builder.speed;\r\n        passengersOnBoard = builder.passengersOnBoard;\r\n        semaphore = builder.semaphore;\r\n    }\r\n\r\n    public static Builder withCapacity(byte capacity) {\r\n        return new Builder(capacity);\r\n    }\r\n\r\n    public static class Builder {\r\n        private final byte capacity;\r\n        private byte speed;\r\n        private final List&lt;Passenger&gt; passengersOnBoard;\r\n        private final Semaphore semaphore;\r\n\r\n        private Builder(byte capacity) {\r\n            this.capacity = capacity;\r\n            this.passengersOnBoard = new ArrayList&lt;&gt;(capacity);\r\n            this.semaphore = new Semaphore(capacity, true);\r\n        }\r\n\r\n        public Boat andSpeed(byte speed) {\r\n            this.speed = speed;\r\n            return new Boat(this);\r\n        }\r\n    }\r\n\r\n    void addPassenger(Passenger passenger) {\r\n        try {\r\n            while (semaphore.availablePermits() &lt; 1) {\r\n                condition.await(); // so that a thread releases a lock if it can&#39;t acquire a permit\r\n            }\r\n            semaphore.acquire();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        passengersOnBoard.add(passenger);\r\n    }\r\n\r\n    void removePassenger(Passenger passenger) {\r\n        passengersOnBoard.remove(passenger);\r\n    }\r\n\r\n    boolean hasPassengers() {\r\n        return !passengersOnBoard.isEmpty();\r\n    }\r\n\r\n    boolean isFull() {\r\n        return passengersOnBoard.size() == capacity;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Passenger extends StatusReporter {\r\n    @Setter(AccessLevel.PACKAGE)\r\n    private BoatKeeper boatKeeper;\r\n    private static final short EMBARK_DISEMBARK_TIME = 500;\r\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\r\n    private final Condition condition = SharedSynchronizers.CONDITION;\r\n\r\n    public Passenger(String name) {\r\n        super(name);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        tryToGetOnBoat();\r\n        stayOnBoat();\r\n        disembark();\r\n    }\r\n\r\n    private void tryToGetOnBoat() {\r\n        setAndReportStatus(PassengerStatus.GOING_TO_EMBARK);\r\n        try {\r\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        lock.lock();\r\n        boatKeeper.getBoat().addPassenger(this);\r\n        boatKeeper.getPassengersToFerry().remove(this);\r\n        setAndReportStatus(PassengerStatus.EMBARKED_THE_BOAT);\r\n        condition.signalAll();\r\n        lock.unlock();\r\n    }\r\n\r\n    private void stayOnBoat() {\r\n        try {\r\n            lock.lock();\r\n            while (!boatKeeper.isRowing()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        setAndReportStatus(PassengerStatus.CROSSING_THE_RIVER);\r\n    }\r\n\r\n    private void disembark() {\r\n        try {\r\n            lock.lock();\r\n            while (!boatKeeper.isDisembarking()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\r\n            boatKeeper.getBoat().removePassenger(this);\r\n            lock.lock();\r\n            condition.signalAll();\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        setAndReportStatus(PassengerStatus.ON_THE_OTHER_BANK);\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    enum PassengerStatus implements Status {\r\n        GOING_TO_EMBARK(&quot;going to embark the boat...&quot;),\r\n        EMBARKED_THE_BOAT(&quot;embarked the boat!&quot;),\r\n        WAITING_FOR_OTHER_PASSENGERS(&quot;waiting for other passengers to join...&quot;),\r\n        CROSSING_THE_RIVER(&quot;crossing the river...&quot;),\r\n        ON_THE_OTHER_BANK(&quot;on the other bank!&quot;);\r\n\r\n        private final String description;\r\n\r\n        @Override\r\n        public String description() {\r\n            return description;\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class BoatKeeper extends StatusReporter {\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final Boat boat;\r\n    private int timeToCrossRiver;\r\n    @Getter(AccessLevel.PACKAGE)\r\n    private final List&lt;Passenger&gt; passengersToFerry = new ArrayList&lt;&gt;();\r\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\r\n    private final Condition condition = SharedSynchronizers.CONDITION;\r\n\r\n    public BoatKeeper(Boat boat) {\r\n        super(&quot;Boat keeper&quot;);\r\n        this.boat = boat;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        performFerrying();\r\n    }\r\n\r\n    public BoatKeeper ferry(Passenger... passengers) {\r\n        Collections.addAll(passengersToFerry, passengers);\r\n        return this;\r\n    }\r\n\r\n    public void acrossRiver(River river) {\r\n        timeToCrossRiver = river.width() / boat.getSpeed();\r\n        start();\r\n    }\r\n\r\n    private void performFerrying() {\r\n        invitePassengersToEmbark();\r\n        while (hasFerryingToDo()) {\r\n            waitTillBoatReadyToGo();\r\n            crossRiver();\r\n            disembarkPassengers();\r\n            rowBack();\r\n        }\r\n        setAndReportStatus(BoatKeeperStatus.DONE);\r\n    }\r\n\r\n    private void invitePassengersToEmbark() {\r\n        passengersToFerry.forEach(p -&gt; {\r\n            p.setBoatKeeper(this);\r\n            p.start();\r\n        });\r\n    }\r\n\r\n    private void waitTillBoatReadyToGo() {\r\n        if (!isBoardingComplete()) {\r\n            setAndReportStatus(BoatKeeperStatus.WAITING_FOR_PASSENGERS_TO_EMBARK);\r\n        }\r\n        try {\r\n            lock.lock();\r\n            while (!isBoardingComplete()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void crossRiver() {\r\n        setAndReportStatus(BoatKeeperStatus.FERRYING_PASSENGERS);\r\n        lock.lock();\r\n        condition.signalAll();\r\n        lock.unlock();\r\n        try {\r\n            Thread.sleep(timeToCrossRiver);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void disembarkPassengers() {\r\n        setAndReportStatus(BoatKeeperStatus.DISEMBARKING_PASSENGERS);\r\n        lock.lock();\r\n        condition.signalAll();\r\n        try {\r\n            while (boat.hasPassengers()) {\r\n                condition.await();\r\n            }\r\n            lock.unlock();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void rowBack() {\r\n        setAndReportStatus(BoatKeeperStatus.RETURNING);\r\n        try {\r\n            Thread.sleep(timeToCrossRiver);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        lock.lock();\r\n        /*\r\n        doesn&#39;t matter if the boat keeper releases more permits than \r\n        the number of passengers it ferried: if it&#39;s less than the boat&#39;s\r\n        max capacity, then it was the last trip anyway\r\n        */\r\n        boat.getSemaphore().release(boat.getCapacity());\r\n        condition.signalAll();\r\n        lock.unlock();\r\n    }\r\n\r\n    private boolean hasFerryingToDo() {\r\n        return !passengersToFerry.isEmpty() || boat.hasPassengers();\r\n    }\r\n\r\n    private boolean isBoardingComplete() {\r\n        return boat.isFull() ||\r\n                (boat.hasPassengers() &amp;&amp; passengersToFerry.isEmpty());\r\n    }\r\n\r\n    boolean isRowing() {\r\n        return status == BoatKeeperStatus.FERRYING_PASSENGERS;\r\n    }\r\n\r\n    boolean isDisembarking() {\r\n        return status == BoatKeeperStatus.DISEMBARKING_PASSENGERS;\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    enum BoatKeeperStatus implements Status {\r\n        WAITING_FOR_PASSENGERS_TO_EMBARK(&quot;waiting for passengers to embark...&quot;),\r\n        FERRYING_PASSENGERS(&quot;ferrying passengers across the river...&quot;),\r\n        DISEMBARKING_PASSENGERS(&quot;disembarking passengers...&quot;),\r\n        RETURNING(&quot;returning...&quot;),\r\n        DONE(&quot;all passengers are ferried!&quot;);\r\n        private final String description;\r\n\r\n        @Override\r\n        public String description() {\r\n            return description;\r\n        }\r\n    }\r\n}\r\n```\r\nClient code:\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        River river = new River((short) 2800);\r\n        Boat tinyBoat = Boat.withCapacity((byte) 2).andSpeed((byte) 10);\r\n        BoatKeeper boatKeeper = new BoatKeeper(tinyBoat);\r\n        Passenger[] passengers = {\r\n                new Passenger(&quot;Frank&quot;), new Passenger(&quot;Liz&quot;), new Passenger(&quot;Gabriel&quot;)\r\n        };\r\n        boatKeeper.ferry(passengers).acrossRiver(river);\r\n    }\r\n}\r\n```\r\nBehavior varies. Whether you run it with or without the IntelliJ IDEA debugger seems to have some effect, but it&#39;s not a fail-proof predictor either\r\n\r\n**Scenario #1: Ghost passenger** (typical without the debugger, unless it&#39;s attached after the freeze)\r\n\r\nThe passenger threads disembark and finish, but the boat still has one `null` element making the boat keeper wait indefinitely and not row back.\r\n```\r\nBoat keeper: waiting for passengers to embark...\r\nFrank: going to embark the boat...\r\nLiz: going to embark the boat...\r\nGabriel: going to embark the boat...\r\nFrank: embarked the boat!\r\nLiz: embarked the boat!\r\nBoat keeper: ferrying passengers across the river...\r\nLiz: crossing the river...\r\nFrank: crossing the river...\r\nBoat keeper: disembarking passengers...\r\nLiz: on the other bank!\r\nFrank: on the other bank!\r\n\r\n// freezes!\r\n```\r\n[screenshot showing that there&#39;s some null passenger on the boat](https://i.stack.imgur.com/NFb9y.png)\r\n\r\n**Scenario #2: Everything is fine** (typically with the debugger, rarely without)\r\n\r\nNo issues observed\r\n```\r\nGabriel: going to embark the boat...\r\nLiz: going to embark the boat...\r\nFrank: going to embark the boat...\r\nBoat keeper: waiting for passengers to embark...\r\nFrank: embarked the boat!\r\nLiz: embarked the boat!\r\nBoat keeper: ferrying passengers across the river...\r\nFrank: crossing the river...\r\nLiz: crossing the river...\r\nBoat keeper: disembarking passengers...\r\nFrank: on the other bank!\r\nLiz: on the other bank!\r\nBoat keeper: returning...\r\nGabriel: embarked the boat!\r\nBoat keeper: ferrying passengers across the river...\r\nGabriel: crossing the river...\r\nBoat keeper: disembarking passengers...\r\nGabriel: on the other bank!\r\nBoat keeper: returning...\r\nBoat keeper: all passengers are ferried!\r\n\r\nProcess finished with exit code 0\r\n```\r\nSince I can&#39;t reproduce the issue while debugging the program, I&#39;m completely at a loss. **Why do those freezes happen? How do I fix it so that I get the second scenario all the time?**\r\n\r\nI debugged thoroughly, spent a lot of hours trying to pinpoint the issue. I don&#39;t see any other choice but to ask for your help","title":"A thread can&#39;t properly remove itself from a List. Why?","body":"<p>When I try to get accustomed with a new library or concept, I typically do a small toy project that utilizes those libraries or concepts. <code>java.util.concurrent</code> is no different. I only start to learn that library so I made a few simple apps. Some of them work, but this one (it was supposed to teach me to get comfortable with <code>Semaphore</code>) misbehaves. Here's the complete code. It's not minimal, but since I don't know which part I can safely cut (except for <code>River</code>, <code>speed</code>, but it's not much code anyway), I decided to include it in its entirety</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record River(short width) {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Status {\n    String description();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class StatusReporter extends Thread {\n    protected Status status;\n    public StatusReporter(String name) {\n        super(name);\n    }\n\n    public void setAndReportStatus(Status status) {\n        this.status = status;\n        System.out.println(getName() + &quot;: &quot; + status.description());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SharedSynchronizers {\n    static final Lock FAIR_LOCK = new ReentrantLock(true);\n    static final Condition CONDITION = FAIR_LOCK.newCondition();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Boat {\n    @Getter(AccessLevel.PACKAGE)\n    private final byte capacity;\n    @Getter\n    private final byte speed;\n    private final List&lt;Passenger&gt; passengersOnBoard;\n    @Getter(AccessLevel.PACKAGE)\n    private final Semaphore semaphore;\n    private final Condition condition = SharedSynchronizers.CONDITION;\n\n    private Boat(Builder builder) {\n        capacity = builder.capacity;\n        speed = builder.speed;\n        passengersOnBoard = builder.passengersOnBoard;\n        semaphore = builder.semaphore;\n    }\n\n    public static Builder withCapacity(byte capacity) {\n        return new Builder(capacity);\n    }\n\n    public static class Builder {\n        private final byte capacity;\n        private byte speed;\n        private final List&lt;Passenger&gt; passengersOnBoard;\n        private final Semaphore semaphore;\n\n        private Builder(byte capacity) {\n            this.capacity = capacity;\n            this.passengersOnBoard = new ArrayList&lt;&gt;(capacity);\n            this.semaphore = new Semaphore(capacity, true);\n        }\n\n        public Boat andSpeed(byte speed) {\n            this.speed = speed;\n            return new Boat(this);\n        }\n    }\n\n    void addPassenger(Passenger passenger) {\n        try {\n            while (semaphore.availablePermits() &lt; 1) {\n                condition.await(); // so that a thread releases a lock if it can't acquire a permit\n            }\n            semaphore.acquire();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        passengersOnBoard.add(passenger);\n    }\n\n    void removePassenger(Passenger passenger) {\n        passengersOnBoard.remove(passenger);\n    }\n\n    boolean hasPassengers() {\n        return !passengersOnBoard.isEmpty();\n    }\n\n    boolean isFull() {\n        return passengersOnBoard.size() == capacity;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Passenger extends StatusReporter {\n    @Setter(AccessLevel.PACKAGE)\n    private BoatKeeper boatKeeper;\n    private static final short EMBARK_DISEMBARK_TIME = 500;\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\n    private final Condition condition = SharedSynchronizers.CONDITION;\n\n    public Passenger(String name) {\n        super(name);\n    }\n\n    @Override\n    public void run() {\n        tryToGetOnBoat();\n        stayOnBoat();\n        disembark();\n    }\n\n    private void tryToGetOnBoat() {\n        setAndReportStatus(PassengerStatus.GOING_TO_EMBARK);\n        try {\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        lock.lock();\n        boatKeeper.getBoat().addPassenger(this);\n        boatKeeper.getPassengersToFerry().remove(this);\n        setAndReportStatus(PassengerStatus.EMBARKED_THE_BOAT);\n        condition.signalAll();\n        lock.unlock();\n    }\n\n    private void stayOnBoat() {\n        try {\n            lock.lock();\n            while (!boatKeeper.isRowing()) {\n                condition.await();\n            }\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        setAndReportStatus(PassengerStatus.CROSSING_THE_RIVER);\n    }\n\n    private void disembark() {\n        try {\n            lock.lock();\n            while (!boatKeeper.isDisembarking()) {\n                condition.await();\n            }\n            lock.unlock();\n            Thread.sleep(EMBARK_DISEMBARK_TIME);\n            boatKeeper.getBoat().removePassenger(this);\n            lock.lock();\n            condition.signalAll();\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        setAndReportStatus(PassengerStatus.ON_THE_OTHER_BANK);\n    }\n\n    @RequiredArgsConstructor\n    enum PassengerStatus implements Status {\n        GOING_TO_EMBARK(&quot;going to embark the boat...&quot;),\n        EMBARKED_THE_BOAT(&quot;embarked the boat!&quot;),\n        WAITING_FOR_OTHER_PASSENGERS(&quot;waiting for other passengers to join...&quot;),\n        CROSSING_THE_RIVER(&quot;crossing the river...&quot;),\n        ON_THE_OTHER_BANK(&quot;on the other bank!&quot;);\n\n        private final String description;\n\n        @Override\n        public String description() {\n            return description;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BoatKeeper extends StatusReporter {\n    @Getter(AccessLevel.PACKAGE)\n    private final Boat boat;\n    private int timeToCrossRiver;\n    @Getter(AccessLevel.PACKAGE)\n    private final List&lt;Passenger&gt; passengersToFerry = new ArrayList&lt;&gt;();\n    private final Lock lock = SharedSynchronizers.FAIR_LOCK;\n    private final Condition condition = SharedSynchronizers.CONDITION;\n\n    public BoatKeeper(Boat boat) {\n        super(&quot;Boat keeper&quot;);\n        this.boat = boat;\n    }\n\n    @Override\n    public void run() {\n        performFerrying();\n    }\n\n    public BoatKeeper ferry(Passenger... passengers) {\n        Collections.addAll(passengersToFerry, passengers);\n        return this;\n    }\n\n    public void acrossRiver(River river) {\n        timeToCrossRiver = river.width() / boat.getSpeed();\n        start();\n    }\n\n    private void performFerrying() {\n        invitePassengersToEmbark();\n        while (hasFerryingToDo()) {\n            waitTillBoatReadyToGo();\n            crossRiver();\n            disembarkPassengers();\n            rowBack();\n        }\n        setAndReportStatus(BoatKeeperStatus.DONE);\n    }\n\n    private void invitePassengersToEmbark() {\n        passengersToFerry.forEach(p -&gt; {\n            p.setBoatKeeper(this);\n            p.start();\n        });\n    }\n\n    private void waitTillBoatReadyToGo() {\n        if (!isBoardingComplete()) {\n            setAndReportStatus(BoatKeeperStatus.WAITING_FOR_PASSENGERS_TO_EMBARK);\n        }\n        try {\n            lock.lock();\n            while (!isBoardingComplete()) {\n                condition.await();\n            }\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void crossRiver() {\n        setAndReportStatus(BoatKeeperStatus.FERRYING_PASSENGERS);\n        lock.lock();\n        condition.signalAll();\n        lock.unlock();\n        try {\n            Thread.sleep(timeToCrossRiver);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void disembarkPassengers() {\n        setAndReportStatus(BoatKeeperStatus.DISEMBARKING_PASSENGERS);\n        lock.lock();\n        condition.signalAll();\n        try {\n            while (boat.hasPassengers()) {\n                condition.await();\n            }\n            lock.unlock();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void rowBack() {\n        setAndReportStatus(BoatKeeperStatus.RETURNING);\n        try {\n            Thread.sleep(timeToCrossRiver);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        lock.lock();\n        /*\n        doesn't matter if the boat keeper releases more permits than \n        the number of passengers it ferried: if it's less than the boat's\n        max capacity, then it was the last trip anyway\n        */\n        boat.getSemaphore().release(boat.getCapacity());\n        condition.signalAll();\n        lock.unlock();\n    }\n\n    private boolean hasFerryingToDo() {\n        return !passengersToFerry.isEmpty() || boat.hasPassengers();\n    }\n\n    private boolean isBoardingComplete() {\n        return boat.isFull() ||\n                (boat.hasPassengers() &amp;&amp; passengersToFerry.isEmpty());\n    }\n\n    boolean isRowing() {\n        return status == BoatKeeperStatus.FERRYING_PASSENGERS;\n    }\n\n    boolean isDisembarking() {\n        return status == BoatKeeperStatus.DISEMBARKING_PASSENGERS;\n    }\n\n    @RequiredArgsConstructor\n    enum BoatKeeperStatus implements Status {\n        WAITING_FOR_PASSENGERS_TO_EMBARK(&quot;waiting for passengers to embark...&quot;),\n        FERRYING_PASSENGERS(&quot;ferrying passengers across the river...&quot;),\n        DISEMBARKING_PASSENGERS(&quot;disembarking passengers...&quot;),\n        RETURNING(&quot;returning...&quot;),\n        DONE(&quot;all passengers are ferried!&quot;);\n        private final String description;\n\n        @Override\n        public String description() {\n            return description;\n        }\n    }\n}\n</code></pre>\n<p>Client code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        River river = new River((short) 2800);\n        Boat tinyBoat = Boat.withCapacity((byte) 2).andSpeed((byte) 10);\n        BoatKeeper boatKeeper = new BoatKeeper(tinyBoat);\n        Passenger[] passengers = {\n                new Passenger(&quot;Frank&quot;), new Passenger(&quot;Liz&quot;), new Passenger(&quot;Gabriel&quot;)\n        };\n        boatKeeper.ferry(passengers).acrossRiver(river);\n    }\n}\n</code></pre>\n<p>Behavior varies. Whether you run it with or without the IntelliJ IDEA debugger seems to have some effect, but it's not a fail-proof predictor either</p>\n<p><strong>Scenario #1: Ghost passenger</strong> (typical without the debugger, unless it's attached after the freeze)</p>\n<p>The passenger threads disembark and finish, but the boat still has one <code>null</code> element making the boat keeper wait indefinitely and not row back.</p>\n<pre><code>Boat keeper: waiting for passengers to embark...\nFrank: going to embark the boat...\nLiz: going to embark the boat...\nGabriel: going to embark the boat...\nFrank: embarked the boat!\nLiz: embarked the boat!\nBoat keeper: ferrying passengers across the river...\nLiz: crossing the river...\nFrank: crossing the river...\nBoat keeper: disembarking passengers...\nLiz: on the other bank!\nFrank: on the other bank!\n\n// freezes!\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NFb9y.png\" rel=\"nofollow noreferrer\">screenshot showing that there's some null passenger on the boat</a></p>\n<p><strong>Scenario #2: Everything is fine</strong> (typically with the debugger, rarely without)</p>\n<p>No issues observed</p>\n<pre><code>Gabriel: going to embark the boat...\nLiz: going to embark the boat...\nFrank: going to embark the boat...\nBoat keeper: waiting for passengers to embark...\nFrank: embarked the boat!\nLiz: embarked the boat!\nBoat keeper: ferrying passengers across the river...\nFrank: crossing the river...\nLiz: crossing the river...\nBoat keeper: disembarking passengers...\nFrank: on the other bank!\nLiz: on the other bank!\nBoat keeper: returning...\nGabriel: embarked the boat!\nBoat keeper: ferrying passengers across the river...\nGabriel: crossing the river...\nBoat keeper: disembarking passengers...\nGabriel: on the other bank!\nBoat keeper: returning...\nBoat keeper: all passengers are ferried!\n\nProcess finished with exit code 0\n</code></pre>\n<p>Since I can't reproduce the issue while debugging the program, I'm completely at a loss. <strong>Why do those freezes happen? How do I fix it so that I get the second scenario all the time?</strong></p>\n<p>I debugged thoroughly, spent a lot of hours trying to pinpoint the issue. I don't see any other choice but to ask for your help</p>\n"},{"tags":["java","spring-boot","apache-kafka","confluent-platform","kafka-cluster"],"answers":[{"tags":[],"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592462912,"creation_date":1592462597,"answer_id":62443889,"question_id":62443782,"body_markdown":"You don&#39;t actually create topics in one specific node in a Kakfa cluster.  When you issue a request to create a topic, the partitions will automatically be spread out across all nodes belonging to the cluster, and the replicas will also be spread out.  That is how Kafka handles high-availability.  If one of the nodes is down, some other node has all the required data, so there is no downtime or impact to users of the cluster.\r\n\r\nYou can issue a `--describe` command like this:\r\n\r\n    &gt; bin/kafka-topics.sh --describe --bootstrap-server localhost:9092 --topic my-replicated-topic\r\n\r\n        Topic:my-replicated-topic   PartitionCount:1    ReplicationFactor:3 Configs:\r\n            Topic: my-replicated-topic  Partition: 0    Leader: 1   Replicas: 1,2,0 Isr: 1,2,0\r\n\r\nThat will give you a list of the partitions for your topic, where are they located, which node is the leader for that partition (the one consumers are told to consume from when they need data from that partition), and some more info like the In-Sync Replica status, or ISR, and the replication factor.\r\n\r\nThere&#39;s more info at the official Kafka docs [here][1] and [here][2].\r\n\r\nBear in mind that when your client connects to the `bootstrap-server` it is not specifying a complete list of brokers *from which to read data*. It&#39;s just specifying one (or more) brokers from which to pull *information about the cluster*. When the client reads/writes from a given topic and partition that is done directly to the relevant broker that holds that data (_regardless_ of the particular brokers specified in the bootstrap). You can see more about this process [here][3] and [here][4].\r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/#quickstart_multibroker\r\n  [2]: http://kafka.apache.org/documentation/#replication\r\n  [3]: https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc\r\n  [4]: http://kafka.apache.org/documentation/#bootstrap.servers","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>You don't actually create topics in one specific node in a Kakfa cluster.  When you issue a request to create a topic, the partitions will automatically be spread out across all nodes belonging to the cluster, and the replicas will also be spread out.  That is how Kafka handles high-availability.  If one of the nodes is down, some other node has all the required data, so there is no downtime or impact to users of the cluster.</p>\n\n<p>You can issue a <code>--describe</code> command like this:</p>\n\n<pre><code>&gt; bin/kafka-topics.sh --describe --bootstrap-server localhost:9092 --topic my-replicated-topic\n\n    Topic:my-replicated-topic   PartitionCount:1    ReplicationFactor:3 Configs:\n        Topic: my-replicated-topic  Partition: 0    Leader: 1   Replicas: 1,2,0 Isr: 1,2,0\n</code></pre>\n\n<p>That will give you a list of the partitions for your topic, where are they located, which node is the leader for that partition (the one consumers are told to consume from when they need data from that partition), and some more info like the In-Sync Replica status, or ISR, and the replication factor.</p>\n\n<p>There's more info at the official Kafka docs <a href=\"https://kafka.apache.org/documentation/#quickstart_multibroker\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://kafka.apache.org/documentation/#replication\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Bear in mind that when your client connects to the <code>bootstrap-server</code> it is not specifying a complete list of brokers <em>from which to read data</em>. It's just specifying one (or more) brokers from which to pull <em>information about the cluster</em>. When the client reads/writes from a given topic and partition that is done directly to the relevant broker that holds that data (<em>regardless</em> of the particular brokers specified in the bootstrap). You can see more about this process <a href=\"https://www.confluent.io/blog/kafka-client-cannot-connect-to-broker-on-aws-on-docker-etc\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://kafka.apache.org/documentation/#bootstrap.servers\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5495279,"reputation":31,"user_id":4366627,"display_name":"si889"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592494706,"creation_date":1592494706,"answer_id":62453801,"question_id":62443782,"body_markdown":"Like the other answer said, a topic is not owned by or created for a particular node, it is created for the cluster altogether. \r\nWhenever a topic is created, the partitions are divided among the cluster nodes. Each partition has a leader node and replica nodes. Producers write to the leader node and Kafka internally replicates the data on the replica nodes. Consumers consume data of a partition from its leader node.  \r\n\r\nFor a better understanding/visualisation of topic partition distribution in Kafka, you can use tools like [Kafdrop](https://github.com/obsidiandynamics/kafdrop)\r\nYou can follow the steps in readme section of the repo for setup. \r\nYou can download the latest binary from [here](https://dl.bintray.com/obsidiandynamics/kafdrop/com/obsidiandynamics/kafdrop/kafdrop/).\r\nIn the UI, you can see the leader and replica nodes for each partition of a topic.\r\n\r\nThe setup is pretty straightforward and I personally find the tool VERY useful! ","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>Like the other answer said, a topic is not owned by or created for a particular node, it is created for the cluster altogether. \nWhenever a topic is created, the partitions are divided among the cluster nodes. Each partition has a leader node and replica nodes. Producers write to the leader node and Kafka internally replicates the data on the replica nodes. Consumers consume data of a partition from its leader node.  </p>\n\n<p>For a better understanding/visualisation of topic partition distribution in Kafka, you can use tools like <a href=\"https://github.com/obsidiandynamics/kafdrop\" rel=\"nofollow noreferrer\">Kafdrop</a>\nYou can follow the steps in readme section of the repo for setup. \nYou can download the latest binary from <a href=\"https://dl.bintray.com/obsidiandynamics/kafdrop/com/obsidiandynamics/kafdrop/kafdrop/\" rel=\"nofollow noreferrer\">here</a>.\nIn the UI, you can see the leader and replica nodes for each partition of a topic.</p>\n\n<p>The setup is pretty straightforward and I personally find the tool VERY useful! </p>\n"},{"tags":[],"owner":{"account_id":3420602,"reputation":39,"user_id":2868368,"display_name":"Michael Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688675474,"creation_date":1688675474,"answer_id":76632361,"question_id":62443782,"body_markdown":"So a Kafka topic is a logic concept, not a physical unit.","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>So a Kafka topic is a logic concept, not a physical unit.</p>\n"}],"owner":{"account_id":10694195,"reputation":338,"user_id":7871999,"display_name":"Ananya Antony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2085,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62443889,"answer_count":3,"score":2,"last_activity_date":1688675474,"creation_date":1592462183,"question_id":62443782,"body_markdown":"My application has a list of kafka cluster nodes specified in the spring.kafka.bootstrap-servers property and listens to topics on all these nodes.\r\n\r\nIf I were to create a topic on one of these nodes, with lets say 5 partitions, will these partitions be spread across these multiple nodes or will they be created on a single node? Also, how can I find out which node a topic partition actually exists on?","title":"Can kafka partitions be spread across multiple kafka cluster nodes?","body":"<p>My application has a list of kafka cluster nodes specified in the spring.kafka.bootstrap-servers property and listens to topics on all these nodes.</p>\n\n<p>If I were to create a topic on one of these nodes, with lets say 5 partitions, will these partitions be spread across these multiple nodes or will they be created on a single node? Also, how can I find out which node a topic partition actually exists on?</p>\n"},{"tags":["java","mysql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5077780,"reputation":24088,"user_id":4074715,"display_name":"Predrag Maric"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1424871762,"creation_date":1424871762,"answer_id":28720562,"question_id":28720498,"body_markdown":"You need to cascade the persist operation down to child entities. Change `empDept` mapping to \r\n\r\n    @OneToMany(mappedBy=&quot;emp1000&quot;, cascade = CascadeType.ALL)","title":"Hibernate child object not saving","body":"<p>You need to cascade the persist operation down to child entities. Change <code>empDept</code> mapping to </p>\n\n<pre><code>@OneToMany(mappedBy=\"emp1000\", cascade = CascadeType.ALL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9997008,"reputation":19,"user_id":7394282,"display_name":"sandhya nayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688673474,"creation_date":1488523080,"answer_id":42572242,"question_id":28720498,"body_markdown":"Use this field annotation:\r\n\r\n    @Cascade({org.hibernate.annotations.CascadeType.ALL}) \r\n\r\nInstead of using `javax.persistence.CascadeType.ALL` because there is an issue if you use both Hibernate and JPA together.","title":"Hibernate child object not saving","body":"<p>Use this field annotation:</p>\n<pre><code>@Cascade({org.hibernate.annotations.CascadeType.ALL}) \n</code></pre>\n<p>Instead of using <code>javax.persistence.CascadeType.ALL</code> because there is an issue if you use both Hibernate and JPA together.</p>\n"}],"owner":{"account_id":1045541,"reputation":20122,"user_id":1050619,"accept_rate":50,"display_name":"user1050619"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9605,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28720562,"answer_count":2,"score":4,"last_activity_date":1688673474,"creation_date":1424871575,"question_id":28720498,"body_markdown":"I have a Employee and Employee Dept table. One employee can have multiple departments.\r\n\r\nI have defined the tables in MySQL and generated the entities using JPA.\r\n\r\n    package model;\r\n    \r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * The persistent class for the emp1000 database table.\r\n     * \r\n     */\r\n    @Entity\r\n    @NamedQuery(name=&quot;Emp1000.findAll&quot;, query=&quot;SELECT e FROM Emp1000 e&quot;)\r\n    public class Emp1000 implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \r\n    \tprivate String firstName;\r\n    \r\n    \tprivate String lastName;\r\n    \r\n    \t//bi-directional many-to-one association to EmpDept\r\n    \t@OneToMany(mappedBy=&quot;emp1000&quot;)\r\n    \tprivate List&lt;EmpDept&gt; empDepts;\r\n    \r\n    \tpublic Emp1000() {\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn this.firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn this.lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic List&lt;EmpDept&gt; getEmpDepts() {\r\n    \t\treturn this.empDepts;\r\n    \t}\r\n    \r\n    \tpublic void setEmpDepts(List&lt;EmpDept&gt; empDepts) {\r\n    \t\tthis.empDepts = empDepts;\r\n    \t}\r\n    \r\n    \tpublic EmpDept addEmpDept(EmpDept empDept) {\r\n    \t\tgetEmpDepts().add(empDept);\r\n    \t\tempDept.setEmp1000(this);\r\n    \r\n    \t\treturn empDept;\r\n    \t}\r\n    \r\n    \tpublic EmpDept removeEmpDept(EmpDept empDept) {\r\n    \t\tgetEmpDepts().remove(empDept);\r\n    \t\tempDept.setEmp1000(null);\r\n    \r\n    \t\treturn empDept;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;emp_dept&quot;)\r\n    @NamedQuery(name=&quot;EmpDept.findAll&quot;, query=&quot;SELECT e FROM EmpDept e&quot;)\r\n    public class EmpDept implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \r\n    \t@Column(name=&quot;emp_dept&quot;)\r\n    \tprivate String empDept;\r\n    \r\n    \t//bi-directional many-to-one association to Emp1000\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name=&quot;emp_id&quot;)\r\n    \tprivate Emp1000 emp1000;\r\n    \r\n    \tpublic EmpDept() {\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getEmpDept() {\r\n    \t\treturn this.empDept;\r\n    \t}\r\n    \r\n    \tpublic void setEmpDept(String empDept) {\r\n    \t\tthis.empDept = empDept;\r\n    \t}\r\n    \r\n    \tpublic Emp1000 getEmp1000() {\r\n    \t\treturn this.emp1000;\r\n    \t}\r\n    \r\n    \tpublic void setEmp1000(Emp1000 emp1000) {\r\n    \t\tthis.emp1000 = emp1000;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nWhen I try to generate to create a Employee object and associated dept objects and save it to database, the child table never gets saved.\r\n\r\n\r\n\r\n    public class StoreData {\r\n    \tpublic static void main(String[] args) {\r\n    \t    Session session=new AnnotationConfiguration()  \r\n            .configure().buildSessionFactory().openSession();  \r\n    \t      \r\n    \t    //creating transaction object  \r\n    \t    Transaction t=session.beginTransaction();  \r\n    \t    \r\n    \t    \r\n    \t    Emp1000 e1 = new Emp1000();\r\n    \t    e1.setFirstName(&quot;Prem&quot;);\r\n    \t    e1.setLastName(&quot;Anand&quot;);\r\n    \t    \r\n    \t    EmpDept d1 = new EmpDept();\r\n    \t    d1.setEmpDept(&quot;Maths&quot;);\r\n    \t    d1.setEmp1000(e1);\r\n    \t    \r\n    \t    EmpDept d2 = new EmpDept();\r\n    \t    d1.setEmpDept(&quot;Science&quot;);\r\n    \t    d1.setEmp1000(e1);\r\n    \t    \r\n    \t    ArrayList&lt;EmpDept&gt; deptlist = new ArrayList();\r\n    \t    deptlist.add(d1);\r\n    \t    deptlist.add(d2);\r\n    \t    \r\n    \t    \r\n    \t    e1.setEmpDepts(deptlist);\r\n    \t    \r\n    \t    //session.saveOrUpdate(e1);\r\n    \t    \r\n    \t    session.persist(e1);//persisting the object  \r\n    \t    \r\n    \t      \r\n    \t    t.commit();//transaction is committed  \r\n    \t    \r\n    \t    session.close();  \r\n    \t      \r\n    \t    System.out.println(&quot;successfully saved&quot;);  \r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \t}\r\n\r\nThe Employee object is created in the table but not the Employee dept objects. What settings do I need to change?\r\n\r\nI get a new error after adding `@OneToMany(mappedBy=&quot;emp1000&quot;, cascade = CascadeType.ALL)`:\r\n\r\n    Feb 25, 2015 8:43:43 AM org.hibernate.util.JDBCExceptionReporter logExceptions\r\n    SEVERE: Field &#39;id&#39; doesn&#39;t have a default value\r\n    Exception in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not insert: [model.EmpDept]\r\n    \tat org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\r\n    \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)","title":"Hibernate child object not saving","body":"<p>I have a Employee and Employee Dept table. One employee can have multiple departments.</p>\n<p>I have defined the tables in MySQL and generated the entities using JPA.</p>\n<pre><code>package model;\n\nimport java.io.Serializable;\nimport javax.persistence.*;\nimport java.util.List;\n\n/**\n * The persistent class for the emp1000 database table.\n * \n */\n@Entity\n@NamedQuery(name=&quot;Emp1000.findAll&quot;, query=&quot;SELECT e FROM Emp1000 e&quot;)\npublic class Emp1000 implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n\n    private String firstName;\n\n    private String lastName;\n\n    //bi-directional many-to-one association to EmpDept\n    @OneToMany(mappedBy=&quot;emp1000&quot;)\n    private List&lt;EmpDept&gt; empDepts;\n\n    public Emp1000() {\n    }\n\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return this.firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return this.lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public List&lt;EmpDept&gt; getEmpDepts() {\n        return this.empDepts;\n    }\n\n    public void setEmpDepts(List&lt;EmpDept&gt; empDepts) {\n        this.empDepts = empDepts;\n    }\n\n    public EmpDept addEmpDept(EmpDept empDept) {\n        getEmpDepts().add(empDept);\n        empDept.setEmp1000(this);\n\n        return empDept;\n    }\n\n    public EmpDept removeEmpDept(EmpDept empDept) {\n        getEmpDepts().remove(empDept);\n        empDept.setEmp1000(null);\n\n        return empDept;\n    }\n\n}\n\n\n\n@Entity\n@Table(name=&quot;emp_dept&quot;)\n@NamedQuery(name=&quot;EmpDept.findAll&quot;, query=&quot;SELECT e FROM EmpDept e&quot;)\npublic class EmpDept implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name=&quot;emp_dept&quot;)\n    private String empDept;\n\n    //bi-directional many-to-one association to Emp1000\n    @ManyToOne\n    @JoinColumn(name=&quot;emp_id&quot;)\n    private Emp1000 emp1000;\n\n    public EmpDept() {\n    }\n\n    public int getId() {\n        return this.id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getEmpDept() {\n        return this.empDept;\n    }\n\n    public void setEmpDept(String empDept) {\n        this.empDept = empDept;\n    }\n\n    public Emp1000 getEmp1000() {\n        return this.emp1000;\n    }\n\n    public void setEmp1000(Emp1000 emp1000) {\n        this.emp1000 = emp1000;\n    }\n\n}\n</code></pre>\n<p>When I try to generate to create a Employee object and associated dept objects and save it to database, the child table never gets saved.</p>\n<pre><code>public class StoreData {\n    public static void main(String[] args) {\n        Session session=new AnnotationConfiguration()  \n        .configure().buildSessionFactory().openSession();  \n          \n        //creating transaction object  \n        Transaction t=session.beginTransaction();  \n        \n        \n        Emp1000 e1 = new Emp1000();\n        e1.setFirstName(&quot;Prem&quot;);\n        e1.setLastName(&quot;Anand&quot;);\n        \n        EmpDept d1 = new EmpDept();\n        d1.setEmpDept(&quot;Maths&quot;);\n        d1.setEmp1000(e1);\n        \n        EmpDept d2 = new EmpDept();\n        d1.setEmpDept(&quot;Science&quot;);\n        d1.setEmp1000(e1);\n        \n        ArrayList&lt;EmpDept&gt; deptlist = new ArrayList();\n        deptlist.add(d1);\n        deptlist.add(d2);\n        \n        \n        e1.setEmpDepts(deptlist);\n        \n        //session.saveOrUpdate(e1);\n        \n        session.persist(e1);//persisting the object  \n        \n          \n        t.commit();//transaction is committed  \n        \n        session.close();  \n          \n        System.out.println(&quot;successfully saved&quot;);  \n        \n\n    }\n\n    }\n</code></pre>\n<p>The Employee object is created in the table but not the Employee dept objects. What settings do I need to change?</p>\n<p>I get a new error after adding <code>@OneToMany(mappedBy=&quot;emp1000&quot;, cascade = CascadeType.ALL)</code>:</p>\n<pre><code>Feb 25, 2015 8:43:43 AM org.hibernate.util.JDBCExceptionReporter logExceptions\nSEVERE: Field 'id' doesn't have a default value\nException in thread &quot;main&quot; org.hibernate.exception.GenericJDBCException: could not insert: [model.EmpDept]\n    at org.hibernate.exception.SQLStateConverter.handledNonSpecificException(SQLStateConverter.java:103)\n    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:91)\n</code></pre>\n"},{"tags":["java","jakarta-ee","jndi"],"comments":[{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":0,"creation_date":1254835014,"post_id":1525385,"comment_id":1380623,"body_markdown":"If you are new to J2EE check the JNDI section on http://java.sun.com/docs/books/tutorial/","body":"If you are new to J2EE check the JNDI section on <a href=\"http://java.sun.com/docs/books/tutorial/\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial</a>"},{"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"score":0,"creation_date":1369862645,"post_id":1525385,"comment_id":24255323,"body_markdown":"In my has it was a stupid &lt;session-factory name=&quot;&quot;&gt; , see http://stackoverflow.com/questions/6293052/hibernate-javax-naming-noinitialcontextexception-component-mapping-via-annotat","body":"In my has it was a stupid &lt;session-factory name=&quot;&quot;&gt; , see <a href=\"http://stackoverflow.com/questions/6293052/hibernate-javax-naming-noinitialcontextexception-component-mapping-via-annotat\" title=\"hibernate javax naming noinitialcontextexception component mapping via annotat\">stackoverflow.com/questions/6293052/&hellip;</a>"},{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":1,"creation_date":1448025887,"post_id":1525385,"comment_id":55420495,"body_markdown":"https://docs.oracle.com/javase/tutorial/jndi/ops/faq.html#1","body":"<a href=\"https://docs.oracle.com/javase/tutorial/jndi/ops/faq.html#1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jndi/ops/faq.html#1</a>"}],"answers":[{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1552399295,"creation_date":1254834408,"answer_id":1525465,"question_id":1525385,"body_markdown":"Is a JNDI problem. You will see that exception if the `InitialContext` class has neither default properties for the JNDI service provider nor explicitly configured server properties.\r\n\r\nSet the `Context.INITIAL_CONTEXT_FACTORY` environment property to the class name of the initial context implementation that you are using. This class must be available to your program in the classpath.\r\n\r\nCheck:\r\n\r\n* [http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html][1]\r\n\r\n* [http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html][2]  (runtime problems)\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html\r\n  [2]: http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html","title":"The meaning of NoInitialContextException error","body":"<p>Is a JNDI problem. You will see that exception if the <code>InitialContext</code> class has neither default properties for the JNDI service provider nor explicitly configured server properties.</p>\n\n<p>Set the <code>Context.INITIAL_CONTEXT_FACTORY</code> environment property to the class name of the initial context implementation that you are using. This class must be available to your program in the classpath.</p>\n\n<p>Check:</p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/naming/InitialContext.html</a></p></li>\n<li><p><a href=\"http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html\" rel=\"nofollow noreferrer\">http://java.sun.com/products/jndi/tutorial/getStarted/TOC.html</a>  (runtime problems)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1552399806,"creation_date":1262276994,"answer_id":1986022,"question_id":1525385,"body_markdown":"you need to put the following name/value pairs into a hash table and call this constructor:\r\n\r\n    public InitialContext(Hashtable&lt;?,?&gt; environment)\r\n\r\nthe exact values depend on your application server, this example is for jboss\r\n\r\n    jndi.java.naming.provider.url=jnp://localhost:1099/\r\n    jndi.java.naming.factory.url=org.jboss.naming:org.jnp.interfaces\r\n    jndi.java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory","title":"The meaning of NoInitialContextException error","body":"<p>you need to put the following name/value pairs into a hash table and call this constructor:</p>\n\n<pre><code>public InitialContext(Hashtable&lt;?,?&gt; environment)\n</code></pre>\n\n<p>the exact values depend on your application server, this example is for jboss</p>\n\n<pre><code>jndi.java.naming.provider.url=jnp://localhost:1099/\njndi.java.naming.factory.url=org.jboss.naming:org.jnp.interfaces\njndi.java.naming.factory.initial=org.jnp.interfaces.NamingContextFactory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1262367219,"creation_date":1262367219,"answer_id":1989115,"question_id":1525385,"body_markdown":"The `javax.naming` package comprises the JNDI API. Since it&#39;s just an API, rather than an implementation, you need to tell it which implementation of JNDI to use. The implementations are typically specific to the server you&#39;re trying to talk to.\r\n\r\nTo specify an implementation, you pass in a `Properties` object when you construct the `InitialContext`. These properties specify the implementation to use, as well as the location of the server. The default `InitialContext` constructor is only useful when there are system properties present, but the properties are the same as if you passed them in manually.\r\n\r\nAs to which properties you need to set, that depends on your server. You need to hunt those settings down and plug them in.","title":"The meaning of NoInitialContextException error","body":"<p>The <code>javax.naming</code> package comprises the JNDI API. Since it's just an API, rather than an implementation, you need to tell it which implementation of JNDI to use. The implementations are typically specific to the server you're trying to talk to.</p>\n\n<p>To specify an implementation, you pass in a <code>Properties</code> object when you construct the <code>InitialContext</code>. These properties specify the implementation to use, as well as the location of the server. The default <code>InitialContext</code> constructor is only useful when there are system properties present, but the properties are the same as if you passed them in manually.</p>\n\n<p>As to which properties you need to set, that depends on your server. You need to hunt those settings down and plug them in.</p>\n"},{"tags":[],"owner":{"account_id":181683,"reputation":442,"user_id":415848,"display_name":"Maarten van Leunen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281540492,"creation_date":1281540492,"answer_id":3460025,"question_id":1525385,"body_markdown":"Most of the time these settings are also defined in a `jndi.properties` file. Do you have that one lying around somewhere?\r\n","title":"The meaning of NoInitialContextException error","body":"<p>Most of the time these settings are also defined in a <code>jndi.properties</code> file. Do you have that one lying around somewhere?</p>\n"},{"tags":[],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319737645,"creation_date":1319737645,"answer_id":7920105,"question_id":1525385,"body_markdown":"My problem with this one was that I was creating a hibernate session, but had the JNDI settings for my database instance wrong because of a classpath problem. Just FYI...","title":"The meaning of NoInitialContextException error","body":"<p>My problem with this one was that I was creating a hibernate session, but had the JNDI settings for my database instance wrong because of a classpath problem. Just FYI...</p>\n"},{"tags":[],"owner":{"account_id":1752346,"reputation":166,"user_id":1601150,"display_name":"Neocy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375380094,"creation_date":1375380094,"answer_id":18001311,"question_id":1525385,"body_markdown":"make sure dependencies for jetty naming and jetty plus are included (not just provided scope). \r\nThis fixed it for me.","title":"The meaning of NoInitialContextException error","body":"<p>make sure dependencies for jetty naming and jetty plus are included (not just provided scope). \nThis fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":1372640,"reputation":892,"user_id":1307273,"accept_rate":47,"display_name":"nichu09"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1448025702,"creation_date":1384760296,"answer_id":20042444,"question_id":1525385,"body_markdown":"You should set jndi.properties. I&#39;ve given below some piece of code that explain how the properties are set for activemq. Like that you can set for your application. Inside a J2EE container like JBoss no need to set these properties.\r\n\r\n    Properties props = new Properties();\r\n\tprops.setProperty(Context.INITIAL_CONTEXT_FACTORY,&quot;org.apache.activemq.jndi.ActiveMQInitialContextFactory&quot;);\r\n\tprops.setProperty(Context.PROVIDER_URL,&quot;tcp://localhost:61616&quot;);\r\n\tInitialContext ctx = new InitialContext(props);\r\n\t// get the initial context\r\n\t// InitialContext ctx = new InitialContext();\r\n\tQueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(&quot;ConnectionFactory&quot;);        \r\n\t// create a queue connection\r\n\tQueueConnection queueConn = connFactory.createQueueConnection();   \r\n\tqueueConn.start();\r\n\t// lookup the queue object\r\n\tQueue queue = (Queue) ctx.lookup(&quot;dynamicQueues/Payment_Check&quot;);  \r\n\r\nI know this is a late answer, but just giving for future reference.","title":"The meaning of NoInitialContextException error","body":"<p>You should set jndi.properties. I've given below some piece of code that explain how the properties are set for activemq. Like that you can set for your application. Inside a J2EE container like JBoss no need to set these properties.</p>\n\n<pre><code>Properties props = new Properties();\nprops.setProperty(Context.INITIAL_CONTEXT_FACTORY,\"org.apache.activemq.jndi.ActiveMQInitialContextFactory\");\nprops.setProperty(Context.PROVIDER_URL,\"tcp://localhost:61616\");\nInitialContext ctx = new InitialContext(props);\n// get the initial context\n// InitialContext ctx = new InitialContext();\nQueueConnectionFactory connFactory = (QueueConnectionFactory) ctx.lookup(\"ConnectionFactory\");        \n// create a queue connection\nQueueConnection queueConn = connFactory.createQueueConnection();   \nqueueConn.start();\n// lookup the queue object\nQueue queue = (Queue) ctx.lookup(\"dynamicQueues/Payment_Check\");  \n</code></pre>\n\n<p>I know this is a late answer, but just giving for future reference.</p>\n"},{"tags":[],"owner":{"account_id":4404758,"reputation":527,"user_id":3589481,"display_name":"Yannickv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1398866110,"creation_date":1398864977,"answer_id":23389636,"question_id":1525385,"body_markdown":"I solved the same problem by adding the following Jar libraries to my project:\r\n\r\n - appserv-rt.jar\r\n - javaee.jar\r\n\r\nfrom the folder : `C:\\Program Files\\glassfish-4.0\\glassfish\\lib`\r\n\r\nThe links to these libraries were broken and Netbeans didn&#39;t found the right classes to use.","title":"The meaning of NoInitialContextException error","body":"<p>I solved the same problem by adding the following Jar libraries to my project:</p>\n\n<ul>\n<li>appserv-rt.jar</li>\n<li>javaee.jar</li>\n</ul>\n\n<p>from the folder : <code>C:\\Program Files\\glassfish-4.0\\glassfish\\lib</code></p>\n\n<p>The links to these libraries were broken and Netbeans didn't found the right classes to use.</p>\n"},{"tags":[],"owner":{"account_id":3741904,"reputation":2009,"user_id":3128652,"display_name":"Vaibhav Jain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1439287588,"creation_date":1439287588,"answer_id":31938848,"question_id":1525385,"body_markdown":"Easy &amp; configurable solution is create one jndi.properties file and put this file in classpath.\r\njndi.properties can be created as\r\n\r\n    java.naming.factory.initial = org.apache.activemq.jndi.ActiveMQInitialContextFactory\r\n     \r\n    # use the following property to configure the default connector\r\n    java.naming.provider.url = vm://localhost\r\n     \r\n    # use the following property to specify the JNDI name the connection factory\r\n    # should appear as. \r\n    #connectionFactoryNames = connectionFactory, queueConnectionFactory, topicConnectionFactry\r\n     \r\n    # register some queues in JNDI using the form\r\n    # queue.[jndiName] = [physicalName]\r\n    queue.MyQueue = example.MyQueue\r\n     \r\n     \r\n    # register some topics in JNDI using the form\r\n    # topic.[jndiName] = [physicalName]\r\n    topic.MyTopic = example.MyTopic\r\n\r\nJust specify your naming factory &amp; url and put this file in your classpath. JMS will fetch required info by itself and it&#39;s easily configurable in future also.","title":"The meaning of NoInitialContextException error","body":"<p>Easy &amp; configurable solution is create one jndi.properties file and put this file in classpath.\njndi.properties can be created as</p>\n\n<pre><code>java.naming.factory.initial = org.apache.activemq.jndi.ActiveMQInitialContextFactory\n\n# use the following property to configure the default connector\njava.naming.provider.url = vm://localhost\n\n# use the following property to specify the JNDI name the connection factory\n# should appear as. \n#connectionFactoryNames = connectionFactory, queueConnectionFactory, topicConnectionFactry\n\n# register some queues in JNDI using the form\n# queue.[jndiName] = [physicalName]\nqueue.MyQueue = example.MyQueue\n\n\n# register some topics in JNDI using the form\n# topic.[jndiName] = [physicalName]\ntopic.MyTopic = example.MyTopic\n</code></pre>\n\n<p>Just specify your naming factory &amp; url and put this file in your classpath. JMS will fetch required info by itself and it's easily configurable in future also.</p>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448366600,"creation_date":1442242881,"answer_id":32568038,"question_id":1525385,"body_markdown":"Do this:\r\n\r\n    Properties props = new Properties();\r\n    props.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.enterprise.naming.SerialInitContextFactory&quot;);\r\n    Context initialContext = new InitialContext(props);\r\n\r\nAlso add this to the libraries of the project:\r\n\r\n`C:\\installs\\glassfish\\glassfish-4.1\\glassfish\\lib\\gf-client.jar`\r\nadjust path accordingly","title":"The meaning of NoInitialContextException error","body":"<p>Do this:</p>\n\n<pre><code>Properties props = new Properties();\nprops.setProperty(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.enterprise.naming.SerialInitContextFactory\");\nContext initialContext = new InitialContext(props);\n</code></pre>\n\n<p>Also add this to the libraries of the project:</p>\n\n<p><code>C:\\installs\\glassfish\\glassfish-4.1\\glassfish\\lib\\gf-client.jar</code>\nadjust path accordingly</p>\n"},{"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1462413861,"creation_date":1462413861,"answer_id":37041131,"question_id":1525385,"body_markdown":"Specifically, I got this issue when attempting to retrieve the default (no-args) `InitialContext` within an embedded Tomcat7 instance, in SpringBoot.\r\n\r\nThe solution for me, was to tell Tomcat to `enableNaming`.\r\n\r\ni.e.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public TomcatEmbeddedServletContainerFactory tomcatFactory() {\r\n        return new TomcatEmbeddedServletContainerFactory() {\r\n            @Override\r\n            protected TomcatEmbeddedServletContainer getTomcatEmbeddedServletContainer(\r\n                    Tomcat tomcat) {\r\n                tomcat.enableNaming();\r\n                return super.getTomcatEmbeddedServletContainer(tomcat);\r\n            }\r\n        };\r\n    }","title":"The meaning of NoInitialContextException error","body":"<p>Specifically, I got this issue when attempting to retrieve the default (no-args) <code>InitialContext</code> within an embedded Tomcat7 instance, in SpringBoot.</p>\n\n<p>The solution for me, was to tell Tomcat to <code>enableNaming</code>.</p>\n\n<p>i.e.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic TomcatEmbeddedServletContainerFactory tomcatFactory() {\n    return new TomcatEmbeddedServletContainerFactory() {\n        @Override\n        protected TomcatEmbeddedServletContainer getTomcatEmbeddedServletContainer(\n                Tomcat tomcat) {\n            tomcat.enableNaming();\n            return super.getTomcatEmbeddedServletContainer(tomcat);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8929263,"reputation":4088,"user_id":6662421,"accept_rate":85,"display_name":"Sangram Badi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473246018,"creation_date":1473246018,"answer_id":39368104,"question_id":1525385,"body_markdown":"you need to use jboss-client.jar in your client project and you need to use jnp-client jar in your ejb project","title":"The meaning of NoInitialContextException error","body":"<p>you need to use jboss-client.jar in your client project and you need to use jnp-client jar in your ejb project</p>\n"},{"tags":[],"owner":{"account_id":25667243,"reputation":1,"user_id":19431995,"display_name":"Kratika Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656395787,"creation_date":1656395787,"answer_id":72781368,"question_id":1525385,"body_markdown":"Try adding rmi java modules in you runtime environment :\r\n--add-modules jdk.naming.rmi,java.base","title":"The meaning of NoInitialContextException error","body":"<p>Try adding rmi java modules in you runtime environment :\n--add-modules jdk.naming.rmi,java.base</p>\n"}],"owner":{"account_id":32896,"reputation":17696,"user_id":91607,"accept_rate":68,"display_name":"Attilah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260606,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"answer_count":13,"score":83,"last_activity_date":1688673441,"creation_date":1254833423,"question_id":1525385,"body_markdown":"I am writing a client for my EJB and when trying to execute it, I get the following exception :\r\n\r\n&gt; `javax.naming.NoInitialContextException`: Need to specify class name\r\n&gt; in environment or system property, or as an applet parameter, or in an\r\n&gt; application resource file.\r\n\r\nI just can&#39;t understand what the problem is.","title":"The meaning of NoInitialContextException error","body":"<p>I am writing a client for my EJB and when trying to execute it, I get the following exception :</p>\n\n<blockquote>\n  <p><code>javax.naming.NoInitialContextException</code>: Need to specify class name\n  in environment or system property, or as an applet parameter, or in an\n  application resource file.</p>\n</blockquote>\n\n<p>I just can't understand what the problem is.</p>\n"},{"tags":["java","security","dns","enumeration"],"comments":[{"owner":{"account_id":2522425,"reputation":577,"user_id":2192527,"accept_rate":61,"display_name":"Dave"},"score":0,"creation_date":1688665809,"post_id":76628656,"comment_id":135107860,"body_markdown":"What type of errors did it give?","body":"What type of errors did it give?"}],"owner":{"account_id":19589548,"reputation":3,"user_id":14336877,"display_name":"Amadeus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688673440,"creation_date":1688645197,"question_id":76628656,"body_markdown":"How can I find the subdomains of a specific domain without brute force using java.\r\n\r\nI used the WhoisClient in my code but It gave me errors.\r\n\r\n\r\n```java\r\npublic static List&lt;String&gt; enumerateSubdomains(String domain) {\r\n    List&lt;String&gt; subdomains = new ArrayList&lt;&gt;();\r\n\r\n    try {\r\n        WhoisClient whoisClient = new WhoisClient();\r\n        whoisClient.setDefaultTimeout(100000);\r\n        whoisClient.connect(WhoisClient.DEFAULT_HOST);\r\n\r\n        String whoisData = whoisClient.query(&quot;=&quot; + domain);\r\n        whoisClient.disconnect();\r\n\r\n        Pattern pattern = Pattern.compile(&quot;Domain Name: (.+?)\\\\.&quot;);\r\n        Matcher matcher = pattern.matcher(whoisData);\r\n\r\n        while (matcher.find()) {\r\n            subdomains.add(matcher.group(1));\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return subdomains;\r\n}\r\n```\r\n","title":"How Can I find the subdomains of a specific domain or ip address In Java?","body":"<p>How can I find the subdomains of a specific domain without brute force using java.</p>\n<p>I used the WhoisClient in my code but It gave me errors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; enumerateSubdomains(String domain) {\n    List&lt;String&gt; subdomains = new ArrayList&lt;&gt;();\n\n    try {\n        WhoisClient whoisClient = new WhoisClient();\n        whoisClient.setDefaultTimeout(100000);\n        whoisClient.connect(WhoisClient.DEFAULT_HOST);\n\n        String whoisData = whoisClient.query(&quot;=&quot; + domain);\n        whoisClient.disconnect();\n\n        Pattern pattern = Pattern.compile(&quot;Domain Name: (.+?)\\\\.&quot;);\n        Matcher matcher = pattern.matcher(whoisData);\n\n        while (matcher.find()) {\n            subdomains.add(matcher.group(1));\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return subdomains;\n}\n</code></pre>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688673399,"creation_date":1688629074,"answer_id":76626520,"question_id":76626438,"body_markdown":"`repeat(int n)` runs the flux n number of times. But in your case, you&#39;ve used `repeatWhen` before that, and it produces an infinite flux. That&#39;s why your flux does not ends anymore.\r\n\r\n\r\nIf you want to retry subscription until you receive the right value, you can use [retryWhen](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#retryWhen-reactor.util.retry.Retry-) function. It takes a retry configuration as input, to limit the number of retries, specifies delays between retrys, etc. In your case, you can:\r\n\r\n1. Fail the stream if you do not receive the right value\r\n2. Append a *retryWhen* operation to retry subscription.\r\n\r\nLet&#39;s illustrate it with an example:\r\n\r\n```java\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.util.retry.Retry;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\nimport static java.lang.System.nanoTime;\r\n\r\npublic class RetryWhen {\r\n\r\n    /**\r\n     * Emit a decreased value on each subscription\r\n     * @param initial First value to emit\r\n     */\r\n    static Mono&lt;Integer&gt; countdown(int initial) {\r\n        var current = new AtomicInteger(initial);\r\n        var t0 = nanoTime();\r\n        return Mono.fromCallable(() -&gt; current.getAndDecrement())\r\n                .doOnNext(i -&gt; System.out.printf(\r\n                        &quot;Emit %d at %d ms%n&quot;,\r\n                        i, (int)((nanoTime() - t0) * 1e-6)\r\n                ));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var source = countdown(4);\r\n        // raise an error if value is different than one.\r\n        var oneOrError = source.filter(i -&gt; i == 1)\r\n                .switchIfEmpty(Mono.error(new RuntimeException(&quot;bad value&quot;)));\r\n\r\n        // Retry 4 times maximum. Each retry is spaced by ~ 500 ms\r\n        var retried = oneOrError.retryWhen(Retry.fixedDelay(4, Duration.ofMillis(500)));\r\n\r\n        var result = retried.block();\r\n        System.out.println(&quot;Result: &quot;+result);\r\n    }\r\n}\r\n```\r\n\r\nThe above program produces:\r\n\r\n```stdout\r\nEmit 4 at 173 ms\r\nEmit 3 at 696 ms\r\nEmit 2 at 1198 ms\r\nEmit 1 at 1699 ms\r\nResult: 1\r\n```\r\n\r\n*Notes* :\r\n\r\n- in your case, repeatWhen produces an infinite stream, because the function you passed to it never returns an empty publisher. It causes continuous subscription to your original mono (which returns &quot;2&quot;).\r\n- Also, as *repeatWhen* repeat values from the **source/caller**, your `.takeUntil(response -&gt; response.equals(&quot;1&quot;))` statement will never be matched (it will always receive &quot;2&quot;).","title":"Reactor based polling is not terminating","body":"<p><code>repeat(int n)</code> runs the flux n number of times. But in your case, you've used <code>repeatWhen</code> before that, and it produces an infinite flux. That's why your flux does not ends anymore.</p>\n<p>If you want to retry subscription until you receive the right value, you can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#retryWhen-reactor.util.retry.Retry-\" rel=\"nofollow noreferrer\">retryWhen</a> function. It takes a retry configuration as input, to limit the number of retries, specifies delays between retrys, etc. In your case, you can:</p>\n<ol>\n<li>Fail the stream if you do not receive the right value</li>\n<li>Append a <em>retryWhen</em> operation to retry subscription.</li>\n</ol>\n<p>Let's illustrate it with an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.core.publisher.Mono;\nimport reactor.util.retry.Retry;\n\nimport java.time.Duration;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport static java.lang.System.nanoTime;\n\npublic class RetryWhen {\n\n    /**\n     * Emit a decreased value on each subscription\n     * @param initial First value to emit\n     */\n    static Mono&lt;Integer&gt; countdown(int initial) {\n        var current = new AtomicInteger(initial);\n        var t0 = nanoTime();\n        return Mono.fromCallable(() -&gt; current.getAndDecrement())\n                .doOnNext(i -&gt; System.out.printf(\n                        &quot;Emit %d at %d ms%n&quot;,\n                        i, (int)((nanoTime() - t0) * 1e-6)\n                ));\n    }\n\n    public static void main(String[] args) {\n        var source = countdown(4);\n        // raise an error if value is different than one.\n        var oneOrError = source.filter(i -&gt; i == 1)\n                .switchIfEmpty(Mono.error(new RuntimeException(&quot;bad value&quot;)));\n\n        // Retry 4 times maximum. Each retry is spaced by ~ 500 ms\n        var retried = oneOrError.retryWhen(Retry.fixedDelay(4, Duration.ofMillis(500)));\n\n        var result = retried.block();\n        System.out.println(&quot;Result: &quot;+result);\n    }\n}\n</code></pre>\n<p>The above program produces:</p>\n<pre><code>Emit 4 at 173 ms\nEmit 3 at 696 ms\nEmit 2 at 1198 ms\nEmit 1 at 1699 ms\nResult: 1\n</code></pre>\n<p><em>Notes</em> :</p>\n<ul>\n<li>in your case, repeatWhen produces an infinite stream, because the function you passed to it never returns an empty publisher. It causes continuous subscription to your original mono (which returns &quot;2&quot;).</li>\n<li>Also, as <em>repeatWhen</em> repeat values from the <strong>source/caller</strong>, your <code>.takeUntil(response -&gt; response.equals(&quot;1&quot;))</code> statement will never be matched (it will always receive &quot;2&quot;).</li>\n</ul>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688673399,"creation_date":1688628473,"question_id":76626438,"body_markdown":"Intention is to poll a certain number of times until I receive a particular response. Here is the piece of code I have compiled:\r\n\r\n    Mono.defer(() -&gt; webClient.getResponse())\r\n            // repeat GET call after every 500 ms\r\n            .repeatWhen(repeat -&gt; repeat.delayElements(Duration.ofMillis(500)))\r\n            .repeat(4) // max repeat attempts\r\n            .takeUntil(response -&gt; response.equals(&quot;1&quot;))\r\n            //.retryWhen(Retry.max(3))\r\n            .log()\r\n            .subscribe(response -&gt; {\r\n                System.out.println(&quot;response received: &quot; + response);\r\n            });\r\n\r\nBut, there&#39;s a problem. It is not stopping at all. I was expecting it to run 4 times and exit.\r\n\r\n    12:54:54.527 [parallel-7] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:55.034 [parallel-8] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:55.540 [parallel-9] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:56.045 [parallel-10] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:56.551 [parallel-1] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:57.057 [parallel-2] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    12:54:57.563 [parallel-3] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\r\n    response received: 2\r\n    .......","title":"Reactor based polling is not terminating","body":"<p>Intention is to poll a certain number of times until I receive a particular response. Here is the piece of code I have compiled:</p>\n<pre><code>Mono.defer(() -&gt; webClient.getResponse())\n        // repeat GET call after every 500 ms\n        .repeatWhen(repeat -&gt; repeat.delayElements(Duration.ofMillis(500)))\n        .repeat(4) // max repeat attempts\n        .takeUntil(response -&gt; response.equals(&quot;1&quot;))\n        //.retryWhen(Retry.max(3))\n        .log()\n        .subscribe(response -&gt; {\n            System.out.println(&quot;response received: &quot; + response);\n        });\n</code></pre>\n<p>But, there's a problem. It is not stopping at all. I was expecting it to run 4 times and exit.</p>\n<pre><code>12:54:54.527 [parallel-7] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:55.034 [parallel-8] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:55.540 [parallel-9] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:56.045 [parallel-10] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:56.551 [parallel-1] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:57.057 [parallel-2] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n12:54:57.563 [parallel-3] INFO  reactor.Flux.TakeUntil.1 - onNext(2)\nresponse received: 2\n.......\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688625025,"post_id":76626013,"comment_id":135099120,"body_markdown":"Remove `@EnableWebMvc` (this disables large parts of the auto-configuration of SPring Boot) and your controller needs either a `@RestController` instead of `@Controller` or `@ResponseBody` on the methods as you aren&#39;t returning a model/view.","body":"Remove <code>@EnableWebMvc</code> (this disables large parts of the auto-configuration of SPring Boot) and your controller needs either a <code>@RestController</code> instead of <code>@Controller</code> or <code>@ResponseBody</code> on the methods as you aren&#39;t returning a model/view."},{"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"score":0,"creation_date":1688631576,"post_id":76626013,"comment_id":135100405,"body_markdown":"@M.Deinum, Sir, I did as you suggested, still it is not working as I say after enabling `server.servlet.contextPath=/my-service`.","body":"@M.Deinum, Sir, I did as you suggested, still it is not working as I say after enabling <code>server.servlet.contextPath=&#47;my-service</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688633629,"post_id":76626013,"comment_id":135100870,"body_markdown":"If you put `my-service` as the context path that is the root so `/` is `/my-service/` and not `/` on your server. Everything you write here is for inside your context path.  You would need to configure tomcat to redirect always to `/my-service`.","body":"If you put <code>my-service</code> as the context path that is the root so <code>&#47;</code> is <code>&#47;my-service&#47;</code> and not <code>&#47;</code> on your server. Everything you write here is for inside your context path.  You would need to configure tomcat to redirect always to <code>&#47;my-service</code>."},{"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"score":0,"creation_date":1688634586,"post_id":76626013,"comment_id":135101094,"body_markdown":"Sir, that is exactly I want, by default it should point `localhost:8080/my-service/info`. How can do it Sir if someone simply types `localhost:8080/`","body":"Sir, that is exactly I want, by default it should point <code>localhost:8080&#47;my-service&#47;info</code>. How can do it Sir if someone simply types <code>localhost:8080&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688673165,"creation_date":1688673165,"answer_id":76632156,"question_id":76626013,"body_markdown":"This code may be useful which I got from stackoverflow. This code satisfies my requirement. The link is given below.\r\n\r\nhttps://stackoverflow.com/questions/56188883/auto-redirect-root-path-to-spring-boot-context-path\r\n\r\n    import java.io.IOException;\r\n    import java.util.Collections;\r\n    \r\n    import org.apache.catalina.Host;\r\n    import org.apache.catalina.core.StandardContext;\r\n    import org.apache.catalina.startup.Tomcat;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.servlet.ServletContextInitializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import jakarta.servlet.Servlet;\r\n    import jakarta.servlet.ServletContainerInitializer;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    @Configuration\r\n    public class RootServletConfig {\r\n    \r\n        @Bean\r\n        public TomcatServletWebServerFactory servletWebServerFactory() {\r\n            return new TomcatServletWebServerFactory() {\r\n    \r\n                @Override\r\n                protected void prepareContext(Host host, ServletContextInitializer[] initializers) {\r\n                    super.prepareContext(host, initializers);\r\n                    StandardContext child = new StandardContext();\r\n                    child.addLifecycleListener(new Tomcat.FixContextListener());\r\n                    child.setPath(&quot;&quot;);\r\n                    ServletContainerInitializer initializer = getServletContextInitializer(getContextPath());\r\n                    child.addServletContainerInitializer(initializer, Collections.emptySet());\r\n                    child.setCrossContext(true);\r\n                    host.addChild(child);\r\n                }\r\n            };\r\n        }\r\n    \r\n        private ServletContainerInitializer getServletContextInitializer(String contextPath) {\r\n            return (c, context) -&gt; {\r\n                Servlet servlet = new HttpServlet() {\r\n                    @Override\r\n                    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n                        resp.sendRedirect(contextPath);\r\n                    }\r\n                };\r\n                context.addServlet(&quot;root&quot;, servlet).addMapping(&quot;/&quot;);\r\n            };\r\n        }\r\n    }","title":"How to redirect to a controller or a web page from localhost:8080/ in spring boot 3.1.1 with server.servlet.contextPath","body":"<p>This code may be useful which I got from stackoverflow. This code satisfies my requirement. The link is given below.</p>\n<p><a href=\"https://stackoverflow.com/questions/56188883/auto-redirect-root-path-to-spring-boot-context-path\">Auto-redirect root path to Spring Boot Context Path</a></p>\n<pre><code>import java.io.IOException;\nimport java.util.Collections;\n\nimport org.apache.catalina.Host;\nimport org.apache.catalina.core.StandardContext;\nimport org.apache.catalina.startup.Tomcat;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.ServletContextInitializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport jakarta.servlet.Servlet;\nimport jakarta.servlet.ServletContainerInitializer;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@Configuration\npublic class RootServletConfig {\n\n    @Bean\n    public TomcatServletWebServerFactory servletWebServerFactory() {\n        return new TomcatServletWebServerFactory() {\n\n            @Override\n            protected void prepareContext(Host host, ServletContextInitializer[] initializers) {\n                super.prepareContext(host, initializers);\n                StandardContext child = new StandardContext();\n                child.addLifecycleListener(new Tomcat.FixContextListener());\n                child.setPath(&quot;&quot;);\n                ServletContainerInitializer initializer = getServletContextInitializer(getContextPath());\n                child.addServletContainerInitializer(initializer, Collections.emptySet());\n                child.setCrossContext(true);\n                host.addChild(child);\n            }\n        };\n    }\n\n    private ServletContainerInitializer getServletContextInitializer(String contextPath) {\n        return (c, context) -&gt; {\n            Servlet servlet = new HttpServlet() {\n                @Override\n                protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n                    resp.sendRedirect(contextPath);\n                }\n            };\n            context.addServlet(&quot;root&quot;, servlet).addMapping(&quot;/&quot;);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17894866,"reputation":899,"user_id":13000512,"display_name":"Deba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632156,"answer_count":1,"score":1,"last_activity_date":1688673165,"creation_date":1688624393,"question_id":76626013,"body_markdown":"I have a requirement that in case of localhost:8080 , it should point to a default web page in spring Boot application. Currently I am using Spring Boot 3.1.1. Normally everything works, but I add `server.servlet.contextPath=my-service`, it does not work. I provide below the code.\r\n\r\nMy Controller Code\r\n\r\n    @RestController\r\n    public class DefaultController {\r\n        \r\n    \t@GetMapping(path = &quot;/&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; getValue() {\r\n    \t\treturn ResponseEntity.ok(&quot;Hello World&quot;);\r\n    \t}\r\n    \r\n        @GetMapping(path = &quot;/info&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; getInfoValue() {\r\n    \t\treturn ResponseEntity.ok(&quot;Some Information&quot;);\r\n    \t}\r\n    }\r\n\r\nI have also tried with the following `@Configuration` option.\r\n\r\n    @Configuration\r\n    public class WebMVCApplicationConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n       public void addViewControllers(ViewControllerRegistry registry) {\r\n           registry.addRedirectViewController(&quot;/&quot;, &quot;/my-service/info&quot;);\r\n       }\r\n    }\r\n\r\nIf I comment the following in application.properties, everything works fine.\r\n\r\n    # server.servlet.contextPath=/my-service\r\n\r\nIf I uncomment the contextPath, I get **HTTP Status 404  Not Found**\r\n\r\nPlease suggest me. I want to redirect to a web page along with contextPath. If someone is accessing `localhost:8080`, it should redirect to `localhost:8080/my-service/info`. \r\n\r\nPlease help me.","title":"How to redirect to a controller or a web page from localhost:8080/ in spring boot 3.1.1 with server.servlet.contextPath","body":"<p>I have a requirement that in case of localhost:8080 , it should point to a default web page in spring Boot application. Currently I am using Spring Boot 3.1.1. Normally everything works, but I add <code>server.servlet.contextPath=my-service</code>, it does not work. I provide below the code.</p>\n<p>My Controller Code</p>\n<pre><code>@RestController\npublic class DefaultController {\n    \n    @GetMapping(path = &quot;/&quot;)\n    public ResponseEntity&lt;String&gt; getValue() {\n        return ResponseEntity.ok(&quot;Hello World&quot;);\n    }\n\n    @GetMapping(path = &quot;/info&quot;)\n    public ResponseEntity&lt;String&gt; getInfoValue() {\n        return ResponseEntity.ok(&quot;Some Information&quot;);\n    }\n}\n</code></pre>\n<p>I have also tried with the following <code>@Configuration</code> option.</p>\n<pre><code>@Configuration\npublic class WebMVCApplicationConfig implements WebMvcConfigurer {\n\n    @Override\n   public void addViewControllers(ViewControllerRegistry registry) {\n       registry.addRedirectViewController(&quot;/&quot;, &quot;/my-service/info&quot;);\n   }\n}\n</code></pre>\n<p>If I comment the following in application.properties, everything works fine.</p>\n<pre><code># server.servlet.contextPath=/my-service\n</code></pre>\n<p>If I uncomment the contextPath, I get <strong>HTTP Status 404  Not Found</strong></p>\n<p>Please suggest me. I want to redirect to a web page along with contextPath. If someone is accessing <code>localhost:8080</code>, it should redirect to <code>localhost:8080/my-service/info</code>.</p>\n<p>Please help me.</p>\n"},{"tags":["java","apache-spark-sql","spark-streaming","spark-structured-streaming","spark-submit"],"owner":{"account_id":28964821,"reputation":1,"user_id":22186536,"display_name":"Saurabh Sable"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688672292,"creation_date":1688666760,"question_id":76631481,"body_markdown":"I have a Java Spark application, which I run using Spark-submit command.\r\nMy Specific use case involves fetching offsets data from Kafka using spark consumer in a Dataframe (Dataset\\&lt;Row\\&gt;) and performing transformation(spark sql) on each row of this dataframe.\r\n\r\n\r\nIssue: when I use following command where Spark.master is &quot;yarn&quot;, line of code inside foreach does nothing. I cannot see any Log on terminal and if we try to do some transformation on this it gives NullPointerException.\r\nBut when we use Spark.master as &quot;local&quot; in this command we can see each row in Log.\r\n(In case of information on why yarn and why local : [https://spark.apache.org/docs/latest/submitting-applications.html#master-urls](https://spark.apache.org/docs/latest/submitting-applications.html#master-urls)\r\n\r\nThis is the command I am using:\r\n\r\n```\r\nspark-submit --conf spark.app.name=SparkHwcIntegration --conf spark.master=yarn --conf spark.submit.deployMode=client --conf spark.driver.memory=1g --conf spark.executor.memory=1g --conf spark.driver.cores=1 --conf spark.executor.cores=3 --conf spark.executor.instances=2 --class &quot;com.saurabh.kafkaExtractorMain&quot; --jars kafka-spark-1.0.jar\r\n```\r\n\r\nJava code snippet for which I am experiencing this issue:\r\n\r\n```\r\npackage com.saurabh;\r\n\r\nimport com.saurabh.SparkSessionSingleton;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport org.apache.spark.sql.streaming.StreamingQuery;\r\nimport org.apache.spark.sql.streaming.StreamingQueryException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport static org.apache.spark.sql.functions.col;\r\nimport static org.apache.spark.sql.functions.get_json_object;\r\nimport static org.apache.spark.sql.types.DataTypes.StringType;\r\n\r\npublic class SparkDfSam {\r\n    public static Logger LOG = LoggerFactory.getLogger(SparkDfSam.class);\r\n\r\n    public static void extractKafkaDataframeFromSparkNew() {\r\n        LOG.info(&quot;::Creating Session::&quot;);\r\n        SparkSession spark = SparkSessionSingleton.getInstance();\r\n\r\n        LOG.info(&quot;::Spark Read() start::&quot;);\r\n\r\n        Dataset&lt;Row&gt; df = spark\r\n                .readStream()\r\n                .format(&quot;kafka&quot;)\r\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;&lt;List of kafka broker&gt;&quot;)\r\n                .option(&quot;subscribe&quot;, &quot;&lt;TopicName&gt;&quot;)\r\n                .option(&quot;startingOffsets&quot;, &quot;earliest&quot;)\r\n                .load();\r\n        df.printSchema();\r\n        LOG.info(&quot;-------------------Spark ReadStream() end -------------------&quot;);\r\n\r\n        Dataset&lt;Row&gt; processedDF =\r\n                df.withColumn(&quot;key2&quot;, col(&quot;key&quot;).cast(StringType))\r\n                        .withColumn(&quot;value2&quot;, col(&quot;value&quot;).cast(StringType)).drop(&quot;key&quot;, &quot;value&quot;, &quot;topic&quot;, &quot;partition&quot;, &quot;offset&quot;, &quot;timestamp&quot;, &quot;timestampType&quot;);\r\n        Dataset&lt;Row&gt; colRep = processedDF.withColumn(&quot;new&quot;, get_json_object(col(&quot;value2&quot;), &quot;$.repeatedMessages&quot;));\r\n        LOG.info(&quot;-------------------Spark writeStream() start -------------------&quot;);\r\n        StreamingQuery query = colRep.writeStream()\r\n                .foreachBatch((batchDf, batchId) -&gt; {\r\n\r\n                    batchDf.foreach(row -&gt; {\r\n                        LOG.info(&quot;Row String value is: {}&quot;, row.getString(0)); // this logs nothing\r\n                        LOG.info(&quot;Row value: {}&quot;, row); // this also logs nothing\r\n                    });\r\n\r\n\r\n                }).start();\r\n\r\n        try {\r\n            query.awaitTermination(30 * 1000); // 30s\r\n        } catch (StreamingQueryException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        LOG.info(&quot;-------------------Spark writeStream() end -------------------&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSample Json data read from Kafka:\r\n\r\n```\r\n{\r\n  &quot;startTransaction&quot;: true,\r\n  &quot;transactionId&quot;: &quot;REFERENCE_TABLES&quot;,\r\n  &quot;endTransaction&quot;: true,\r\n  &quot;repeatedMessages&quot;: {\r\n    &quot;HortonWorks&quot;: [\r\n      {\r\n        &quot;productCatalogParameterRelKey&quot;: &quot;testProductKey&quot;,\r\n        &quot;queryTime&quot;: 1002839,\r\n        &quot;transactionTime&quot;: 18929,\r\n        &quot;catalogItemName&quot;: &quot;testCatalogItem&quot;,\r\n        &quot;endDate&quot;: 978,\r\n        &quot;itemRoleInd&quot;: &quot;OC&quot;\r\n      }\r\n    ],\r\n    &quot;HiveWHC&quot;: [\r\n      {\r\n        &quot;HWC&quot;: 1687238823610,\r\n        &quot;Amd&quot;: &quot;SAMSON_100009925_MEMO_947067743&quot;,\r\n        &quot;Kart&quot;: 1687264015000,\r\n        &quot;customerKey&quot;: &quot;SAMSON_100009925&quot;,\r\n        &quot;systemMessage&quot;: &quot;Message&quot;\r\n      },\r\n      {\r\n        &quot;HWC&quot;: 78244,\r\n        &quot;Amd&quot;: &quot;&quot;,\r\n        &quot;Kart&quot;: 1687264015000,\r\n        &quot;customerKey&quot;: &quot;Apple&quot;,\r\n        &quot;systemMessage&quot;: &quot;Message-Json&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n","title":"In Java Application, Dataframe.foreach() not able to fetch row when Spark.master=yarn is used","body":"<p>I have a Java Spark application, which I run using Spark-submit command.\nMy Specific use case involves fetching offsets data from Kafka using spark consumer in a Dataframe (Dataset&lt;Row&gt;) and performing transformation(spark sql) on each row of this dataframe.</p>\n<p>Issue: when I use following command where Spark.master is &quot;yarn&quot;, line of code inside foreach does nothing. I cannot see any Log on terminal and if we try to do some transformation on this it gives NullPointerException.\nBut when we use Spark.master as &quot;local&quot; in this command we can see each row in Log.\n(In case of information on why yarn and why local : <a href=\"https://spark.apache.org/docs/latest/submitting-applications.html#master-urls\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/submitting-applications.html#master-urls</a></p>\n<p>This is the command I am using:</p>\n<pre><code>spark-submit --conf spark.app.name=SparkHwcIntegration --conf spark.master=yarn --conf spark.submit.deployMode=client --conf spark.driver.memory=1g --conf spark.executor.memory=1g --conf spark.driver.cores=1 --conf spark.executor.cores=3 --conf spark.executor.instances=2 --class &quot;com.saurabh.kafkaExtractorMain&quot; --jars kafka-spark-1.0.jar\n</code></pre>\n<p>Java code snippet for which I am experiencing this issue:</p>\n<pre><code>package com.saurabh;\n\nimport com.saurabh.SparkSessionSingleton;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.streaming.StreamingQuery;\nimport org.apache.spark.sql.streaming.StreamingQueryException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport static org.apache.spark.sql.functions.col;\nimport static org.apache.spark.sql.functions.get_json_object;\nimport static org.apache.spark.sql.types.DataTypes.StringType;\n\npublic class SparkDfSam {\n    public static Logger LOG = LoggerFactory.getLogger(SparkDfSam.class);\n\n    public static void extractKafkaDataframeFromSparkNew() {\n        LOG.info(&quot;::Creating Session::&quot;);\n        SparkSession spark = SparkSessionSingleton.getInstance();\n\n        LOG.info(&quot;::Spark Read() start::&quot;);\n\n        Dataset&lt;Row&gt; df = spark\n                .readStream()\n                .format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;&lt;List of kafka broker&gt;&quot;)\n                .option(&quot;subscribe&quot;, &quot;&lt;TopicName&gt;&quot;)\n                .option(&quot;startingOffsets&quot;, &quot;earliest&quot;)\n                .load();\n        df.printSchema();\n        LOG.info(&quot;-------------------Spark ReadStream() end -------------------&quot;);\n\n        Dataset&lt;Row&gt; processedDF =\n                df.withColumn(&quot;key2&quot;, col(&quot;key&quot;).cast(StringType))\n                        .withColumn(&quot;value2&quot;, col(&quot;value&quot;).cast(StringType)).drop(&quot;key&quot;, &quot;value&quot;, &quot;topic&quot;, &quot;partition&quot;, &quot;offset&quot;, &quot;timestamp&quot;, &quot;timestampType&quot;);\n        Dataset&lt;Row&gt; colRep = processedDF.withColumn(&quot;new&quot;, get_json_object(col(&quot;value2&quot;), &quot;$.repeatedMessages&quot;));\n        LOG.info(&quot;-------------------Spark writeStream() start -------------------&quot;);\n        StreamingQuery query = colRep.writeStream()\n                .foreachBatch((batchDf, batchId) -&gt; {\n\n                    batchDf.foreach(row -&gt; {\n                        LOG.info(&quot;Row String value is: {}&quot;, row.getString(0)); // this logs nothing\n                        LOG.info(&quot;Row value: {}&quot;, row); // this also logs nothing\n                    });\n\n\n                }).start();\n\n        try {\n            query.awaitTermination(30 * 1000); // 30s\n        } catch (StreamingQueryException e) {\n            throw new RuntimeException(e);\n        }\n\n        LOG.info(&quot;-------------------Spark writeStream() end -------------------&quot;);\n    }\n\n}\n</code></pre>\n<p>Sample Json data read from Kafka:</p>\n<pre><code>{\n  &quot;startTransaction&quot;: true,\n  &quot;transactionId&quot;: &quot;REFERENCE_TABLES&quot;,\n  &quot;endTransaction&quot;: true,\n  &quot;repeatedMessages&quot;: {\n    &quot;HortonWorks&quot;: [\n      {\n        &quot;productCatalogParameterRelKey&quot;: &quot;testProductKey&quot;,\n        &quot;queryTime&quot;: 1002839,\n        &quot;transactionTime&quot;: 18929,\n        &quot;catalogItemName&quot;: &quot;testCatalogItem&quot;,\n        &quot;endDate&quot;: 978,\n        &quot;itemRoleInd&quot;: &quot;OC&quot;\n      }\n    ],\n    &quot;HiveWHC&quot;: [\n      {\n        &quot;HWC&quot;: 1687238823610,\n        &quot;Amd&quot;: &quot;SAMSON_100009925_MEMO_947067743&quot;,\n        &quot;Kart&quot;: 1687264015000,\n        &quot;customerKey&quot;: &quot;SAMSON_100009925&quot;,\n        &quot;systemMessage&quot;: &quot;Message&quot;\n      },\n      {\n        &quot;HWC&quot;: 78244,\n        &quot;Amd&quot;: &quot;&quot;,\n        &quot;Kart&quot;: 1687264015000,\n        &quot;customerKey&quot;: &quot;Apple&quot;,\n        &quot;systemMessage&quot;: &quot;Message-Json&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":24891735,"reputation":103,"user_id":18763596,"display_name":"Iva_Only_Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688672030,"creation_date":1688672030,"answer_id":76632042,"question_id":76605751,"body_markdown":"In case someone has a similiar use case, here&#39;s how I did it. `Base` class is basically a placeholder for all the `static final` instances (or should I call them `constants`) - `ALL_MAPS` contains key as the name of the class which extends `Base` and as of value - a `Map` of keys - code of the instance and the instance itself as value. When the subclass of `Base` is loaded into the JVM, all the `constants` in it (as they are `static`) are placed in the `ALL_MAP`. So when deserializing, apart from loading the class into the memory, I only need a class of the `constant` and a key to it (`code`). I can get the class in the custom deserializer just like this: https://github.com/FasterXML/jackson-databind/issues/2711\r\n\r\nAfter that, all is left is to load the class into memory - I achieved it via reflection by calling `get` method on any static field with `null` value as I don&#39;t want to allow creating instances of `const` subclasses at all. And then - to read the json node which contains the `code` and get the `constant`.\r\n\r\nAs a note: on the `Base` class I used `@JsonDeserialize(using = BaseConstDeserializer.class)` where `BaseConstDeserializer` is the custom deserializer.\r\n\r\nHere is the code of the deserializer:\r\n\r\n\r\n\r\n    public class BaseConstDeserializer&lt;CONST extends BaseConst&gt; extends StdDeserializer&lt;CONST&gt; implements ContextualDeserializer {\r\n    private final Class&lt;CONST&gt; deserializedFieldClazz;\r\n\r\n    protected BaseConstDeserializer(Class&lt;CONST&gt; deserializedFieldClazz) {\r\n        super(BaseConst.class);\r\n        this.deserializedFieldClazz = deserializedFieldClazz;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public CONST deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        Integer code = JsonUtils.readSingleNode(node, &quot;code&quot;, JsonNode::asInt, ValidUtils::isInteger);\r\n        if (code != null) {\r\n            BaseConst.initConst(deserializedFieldClazz);\r\n            return (CONST) BaseConst.getConstAndClearMap(code, deserializedFieldClazz);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty property) throws JsonMappingException {\r\n        Class&lt;CONST&gt; rawClass = (Class&lt;CONST&gt;) property.getType().getRawClass();\r\n        return new BaseConstDeserializer&lt;&gt;(rawClass);\r\n    }\r\n    }\r\n\r\nThe only drawback I can guess here is that I need to manage the memory usage by myself - by clearing the map every time I deserialized json. I know that in Spring I can use `@Scope` to set the &quot;lifespan&quot; of an instance of bean to the scope of request but I don&#39;t like creating and having those instances in this case at all. This is propably an unorthodox approach, but it serves my case and I like the solution. \r\nAnyway, if someone sees any other potentials cons and pros of it, I&#39;d like to hear.  \r\n","title":"Java Static final instances hierarchy deserialization","body":"<p>In case someone has a similiar use case, here's how I did it. <code>Base</code> class is basically a placeholder for all the <code>static final</code> instances (or should I call them <code>constants</code>) - <code>ALL_MAPS</code> contains key as the name of the class which extends <code>Base</code> and as of value - a <code>Map</code> of keys - code of the instance and the instance itself as value. When the subclass of <code>Base</code> is loaded into the JVM, all the <code>constants</code> in it (as they are <code>static</code>) are placed in the <code>ALL_MAP</code>. So when deserializing, apart from loading the class into the memory, I only need a class of the <code>constant</code> and a key to it (<code>code</code>). I can get the class in the custom deserializer just like this: <a href=\"https://github.com/FasterXML/jackson-databind/issues/2711\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2711</a></p>\n<p>After that, all is left is to load the class into memory - I achieved it via reflection by calling <code>get</code> method on any static field with <code>null</code> value as I don't want to allow creating instances of <code>const</code> subclasses at all. And then - to read the json node which contains the <code>code</code> and get the <code>constant</code>.</p>\n<p>As a note: on the <code>Base</code> class I used <code>@JsonDeserialize(using = BaseConstDeserializer.class)</code> where <code>BaseConstDeserializer</code> is the custom deserializer.</p>\n<p>Here is the code of the deserializer:</p>\n<pre><code>public class BaseConstDeserializer&lt;CONST extends BaseConst&gt; extends StdDeserializer&lt;CONST&gt; implements ContextualDeserializer {\nprivate final Class&lt;CONST&gt; deserializedFieldClazz;\n\nprotected BaseConstDeserializer(Class&lt;CONST&gt; deserializedFieldClazz) {\n    super(BaseConst.class);\n    this.deserializedFieldClazz = deserializedFieldClazz;\n}\n\n@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic CONST deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JacksonException {\n    JsonNode node = jp.getCodec().readTree(jp);\n    Integer code = JsonUtils.readSingleNode(node, &quot;code&quot;, JsonNode::asInt, ValidUtils::isInteger);\n    if (code != null) {\n        BaseConst.initConst(deserializedFieldClazz);\n        return (CONST) BaseConst.getConstAndClearMap(code, deserializedFieldClazz);\n    }\n    return null;\n}\n\n@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic JsonDeserializer&lt;?&gt; createContextual(DeserializationContext deserializationContext, BeanProperty property) throws JsonMappingException {\n    Class&lt;CONST&gt; rawClass = (Class&lt;CONST&gt;) property.getType().getRawClass();\n    return new BaseConstDeserializer&lt;&gt;(rawClass);\n}\n}\n</code></pre>\n<p>The only drawback I can guess here is that I need to manage the memory usage by myself - by clearing the map every time I deserialized json. I know that in Spring I can use <code>@Scope</code> to set the &quot;lifespan&quot; of an instance of bean to the scope of request but I don't like creating and having those instances in this case at all. This is propably an unorthodox approach, but it serves my case and I like the solution.\nAnyway, if someone sees any other potentials cons and pros of it, I'd like to hear.</p>\n"}],"owner":{"account_id":24891735,"reputation":103,"user_id":18763596,"display_name":"Iva_Only_Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76632042,"answer_count":1,"score":1,"last_activity_date":1688672030,"creation_date":1688394861,"question_id":76605751,"body_markdown":"I have 3 classes:\r\n\r\n    public class Base {\r\n      private int code;\r\n      private static final Map&lt;String, Map&lt;Integer, Base&gt;&gt; ALL_MAPS = \r\n      new HashMap&lt;&gt;();\r\n\r\n     protected Base(int code) {\r\n      this.code = code;\r\n      getConstMap(this.getClass()).put(code, this);\r\n    }\r\n   \r\n    protected Map&lt;Integer, Base&gt; getConstMap(Class&lt;?&gt; clazz) {\r\n      Map&lt;Integer, Base&gt; res;\r\n      if ((res = ALL_MAPS.get(clazz.getName())) == null) {\r\n         res = new HashMap&lt;&gt;();\r\n         ALL_MAPS.put(clazz.getName(), res);\r\n      }\r\n      return res;\r\n    }\r\n    //...\r\n    }\r\n\r\n    public class AConstants extends Base {\r\n       public static final AConstants A_1 = new AConstants(1, \r\n     &quot;sample1&quot;);\r\n     public static final AConstants A_2 = new AConstants(2, &quot;sample2&quot;);\r\n       //...\r\n       private final String text;\r\n       private AConstants(int code, String text) {\r\n          super(code);\r\n          this.text = text;\r\n       }\r\n    }\r\n\r\n    public class BConstants extends Base {\r\n       public static final BConstants B_1 = new BConstants(1, \r\n    &quot;sample1&quot;, &quot;moreText&quot;);\r\n       public static final BConstants B_2 = new BConstants(2, \r\n    &quot;sample2&quot;, &quot;moreText&quot;);\r\n       //...\r\n       private final String text;\r\n       private final String moreText;\r\n       private BConstants(int code, String text, String moreText) {\r\n          super(code);\r\n          this.text = text;\r\n          this.moreText = moreText;\r\n       }\r\n    }\r\n\r\nWhat I want to achieve is having a base method for deserializing (and serealizing) static final instances in the `Base` class. Obviously, I can&#39;t do smth like this due to generic type being unable to be referenced from static context during compilation (plus I obviously can&#39;t get the class of `CONST`):\r\n\r\n    @JsonCreator\r\n    public static CONST deserialize(@JsonProperty(&quot;code&quot;) int code) {\r\n        // Should get the class of CONST and retrieve static final instance by code\r\n        return ALL_MAPS.get(CONST.class).get(code);\r\n    }\r\n    \r\n    @JsonValue\r\n    public Integer serialize() {\r\n        // Return code for static final instance of the necessary class\r\n        return getKeyByValue(ALL_MAPS.get(CONST.class), this);\r\n    }\r\n      \r\n Is there a way to achieve this with Jackson? Or if not, how do I write a custom serializer/deserializer for this?","title":"Java Static final instances hierarchy deserialization","body":"<p>I have 3 classes:</p>\n<pre><code>public class Base {\n  private int code;\n  private static final Map&lt;String, Map&lt;Integer, Base&gt;&gt; ALL_MAPS = \n  new HashMap&lt;&gt;();\n\n protected Base(int code) {\n  this.code = code;\n  getConstMap(this.getClass()).put(code, this);\n}\n\nprotected Map&lt;Integer, Base&gt; getConstMap(Class&lt;?&gt; clazz) {\n  Map&lt;Integer, Base&gt; res;\n  if ((res = ALL_MAPS.get(clazz.getName())) == null) {\n     res = new HashMap&lt;&gt;();\n     ALL_MAPS.put(clazz.getName(), res);\n  }\n  return res;\n}\n//...\n}\n\npublic class AConstants extends Base {\n   public static final AConstants A_1 = new AConstants(1, \n &quot;sample1&quot;);\n public static final AConstants A_2 = new AConstants(2, &quot;sample2&quot;);\n   //...\n   private final String text;\n   private AConstants(int code, String text) {\n      super(code);\n      this.text = text;\n   }\n}\n\npublic class BConstants extends Base {\n   public static final BConstants B_1 = new BConstants(1, \n&quot;sample1&quot;, &quot;moreText&quot;);\n   public static final BConstants B_2 = new BConstants(2, \n&quot;sample2&quot;, &quot;moreText&quot;);\n   //...\n   private final String text;\n   private final String moreText;\n   private BConstants(int code, String text, String moreText) {\n      super(code);\n      this.text = text;\n      this.moreText = moreText;\n   }\n}\n</code></pre>\n<p>What I want to achieve is having a base method for deserializing (and serealizing) static final instances in the <code>Base</code> class. Obviously, I can't do smth like this due to generic type being unable to be referenced from static context during compilation (plus I obviously can't get the class of <code>CONST</code>):</p>\n<pre><code>@JsonCreator\npublic static CONST deserialize(@JsonProperty(&quot;code&quot;) int code) {\n    // Should get the class of CONST and retrieve static final instance by code\n    return ALL_MAPS.get(CONST.class).get(code);\n}\n\n@JsonValue\npublic Integer serialize() {\n    // Return code for static final instance of the necessary class\n    return getKeyByValue(ALL_MAPS.get(CONST.class), this);\n}\n  \n</code></pre>\n<p>Is there a way to achieve this with Jackson? Or if not, how do I write a custom serializer/deserializer for this?</p>\n"},{"tags":["java","selenium-webdriver","testing","testng","selenium-grid"],"comments":[{"owner":{"account_id":6717404,"reputation":1454,"user_id":5178801,"display_name":"J. Murray"},"score":0,"creation_date":1688673628,"post_id":76629980,"comment_id":135109277,"body_markdown":"Please add the error you received to your post (because this will help to resolve the issue faster)","body":"Please add the error you received to your post (because this will help to resolve the issue faster)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688673639,"post_id":76629980,"comment_id":135109279,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28919695,"reputation":3,"user_id":22150935,"display_name":"Ezhumalai Shanmugam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688671858,"creation_date":1688654309,"question_id":76629980,"body_markdown":"Selenium code unable to run on LambdaTest platform\r\n```\r\nDesiredCapabilities capabilities = new DesiredCapabilities(); \r\n```\r\nI tried multiple time but same error showing on console.\r\n\r\n\r\nMultiple browser need to run with different platform and different version.\r\n\r\n\r\n\r\n\r\nThis is my Java package \r\n```\r\npackage lambdatest;\r\n\r\nimport org.openqa.selenium.*;\r\nimport org.openqa.selenium.remote.*;\r\nimport org.testng.Assert;\r\nimport org.testng.annotations.*;\r\n\r\nimport java.net.URL;\r\n\r\npublic class Lambdatest {\r\n\r\n    private WebDriver driver;\r\n\r\n    @BeforeClass\r\n    @Parameters({&quot;browserName&quot;, &quot;browserVersion&quot;, &quot;platform&quot;})\r\n    public void setUp(String browserName, String browserVersion, String platform) throws Exception {\r\n    \t\r\n    \t\r\n        MutableCapabilities capabilities = new MutableCapabilities();\r\n        capabilities.setCapability(&quot;browserName&quot;, browserName);\r\n        capabilities.setCapability(&quot;browserVersion&quot;, browserVersion);\r\n        capabilities.setCapability(&quot;platform&quot;, platform);\r\n        capabilities.setCapability(&quot;name&quot;, &quot;LambdaTest Assignment&quot;);\r\n\r\n        String username = &quot;**************&quot;;\r\n        String accessKey = &quot;*************************************&quot;;\r\n\r\n        driver = new RemoteWebDriver(new URL(&quot;https://&quot; + username + &quot;:&quot; + accessKey + &quot;@hub.lambdatest.com/wd/hub&quot;), capabilities);\r\n    }\r\n\r\n    @AfterClass\r\n    public void tearDown() {\r\n        if (driver != null) {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n    @Test(priority = 1)\r\n    public void testScenario1() {\r\n        driver.get(&quot;https://www.lambdatest.com/selenium-playground/&quot;);\r\n\r\n        // Perform explicit wait\r\n\r\n        String pageTitle = driver.getTitle();\r\n        Assert.assertEquals(pageTitle, &quot;LambdaTest&quot;); // Expecting failure\r\n    }\r\n}\r\n\r\n\r\n[RemoteTestNG] detected TestNG version 7.4.0\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\r\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n\r\n===============================================\r\nTestNGAssignmentSuite\r\nTotal tests run: 12, Passes: 0, Failures: 0, Skips: 12\r\nConfiguration Failures: 4, Skips: 4\r\n===============================================\r\n```\r\n","title":"Selenium code Unable to Run on LambdaTest platform","body":"<p>Selenium code unable to run on LambdaTest platform</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities(); \n</code></pre>\n<p>I tried multiple time but same error showing on console.</p>\n<p>Multiple browser need to run with different platform and different version.</p>\n<p>This is my Java package</p>\n<pre><code>package lambdatest;\n\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.remote.*;\nimport org.testng.Assert;\nimport org.testng.annotations.*;\n\nimport java.net.URL;\n\npublic class Lambdatest {\n\n    private WebDriver driver;\n\n    @BeforeClass\n    @Parameters({&quot;browserName&quot;, &quot;browserVersion&quot;, &quot;platform&quot;})\n    public void setUp(String browserName, String browserVersion, String platform) throws Exception {\n        \n        \n        MutableCapabilities capabilities = new MutableCapabilities();\n        capabilities.setCapability(&quot;browserName&quot;, browserName);\n        capabilities.setCapability(&quot;browserVersion&quot;, browserVersion);\n        capabilities.setCapability(&quot;platform&quot;, platform);\n        capabilities.setCapability(&quot;name&quot;, &quot;LambdaTest Assignment&quot;);\n\n        String username = &quot;**************&quot;;\n        String accessKey = &quot;*************************************&quot;;\n\n        driver = new RemoteWebDriver(new URL(&quot;https://&quot; + username + &quot;:&quot; + accessKey + &quot;@hub.lambdatest.com/wd/hub&quot;), capabilities);\n    }\n\n    @AfterClass\n    public void tearDown() {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n\n    @Test(priority = 1)\n    public void testScenario1() {\n        driver.get(&quot;https://www.lambdatest.com/selenium-playground/&quot;);\n\n        // Perform explicit wait\n\n        String pageTitle = driver.getTitle();\n        Assert.assertEquals(pageTitle, &quot;LambdaTest&quot;); // Expecting failure\n    }\n}\n\n\n[RemoteTestNG] detected TestNG version 7.4.0\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nJul 06, 2023 7:34:36 PM org.openqa.selenium.remote.RemoteWebDriver checkNonW3CCapabilities\nWARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [name, platform]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\n\n===============================================\nTestNGAssignmentSuite\nTotal tests run: 12, Passes: 0, Failures: 0, Skips: 12\nConfiguration Failures: 4, Skips: 4\n===============================================\n</code></pre>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1661890467,"post_id":73547954,"comment_id":129878632,"body_markdown":"1) With any large database deadlocks are not only possible, but sometimes unavoidable. In which case you either need a retry mechanism *OR* a serialisation mechanism.","body":"1) With any large database deadlocks are not only possible, but sometimes unavoidable. In which case you either need a retry mechanism <i>OR</i> a serialisation mechanism."},{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1661890506,"post_id":73547954,"comment_id":129878636,"body_markdown":"And yes there are monitoring tools and solutions out there, your favourite search engine should assist you with that.","body":"And yes there are monitoring tools and solutions out there, your favourite search engine should assist you with that."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1661891817,"post_id":73547954,"comment_id":129878998,"body_markdown":"Query/index tuning often mitigates deadlocks by touch only data needed for the task at hand. Take a look at the execution plan.","body":"Query/index tuning often mitigates deadlocks by touch only data needed for the task at hand. Take a look at the execution plan."}],"answers":[{"tags":[],"owner":{"account_id":5342445,"reputation":4807,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688671856,"creation_date":1663016728,"answer_id":73695238,"question_id":73547954,"body_markdown":"To anyone who finds themselves in my same predicament, the solution that had the best results so far is `Optimistic Locking`. Following this very helpful [Baeldung guide][1], I managed to solve my issue in a elegant way. \r\n\r\nYou can find below a summary of what I did to achieve this.\r\n\r\n1. Added a `bigint` field to the tables that were modified in the commonly deadlocked transactions (database wise)\r\n2. Then, added this new field with the `@Version` annotation to the JPA entities that are being modified\r\n\r\nThis simple solution solved most of my deadlocked issues. \r\n\r\nAdditionally, you can use [Spring Retry](https://www.baeldung.com/spring-retry) to retry deadlock transactions automatically, without needing to resend the request. Also, you can tell Spring to only retry deadlock related exceptions with the following annotation.\r\n\r\n    @Retryable(value = {CannotAcquireLockException.class, OptimisticLockException.class, TransactionException.class, ObjectOptimisticLockingFailureException.class})\r\n\r\nHope it helps somebody else. \r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-optimistic-locking","title":"Spring Data JPA Deadlock Issues with SQL Server","body":"<p>To anyone who finds themselves in my same predicament, the solution that had the best results so far is <code>Optimistic Locking</code>. Following this very helpful <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">Baeldung guide</a>, I managed to solve my issue in a elegant way.</p>\n<p>You can find below a summary of what I did to achieve this.</p>\n<ol>\n<li>Added a <code>bigint</code> field to the tables that were modified in the commonly deadlocked transactions (database wise)</li>\n<li>Then, added this new field with the <code>@Version</code> annotation to the JPA entities that are being modified</li>\n</ol>\n<p>This simple solution solved most of my deadlocked issues.</p>\n<p>Additionally, you can use <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">Spring Retry</a> to retry deadlock transactions automatically, without needing to resend the request. Also, you can tell Spring to only retry deadlock related exceptions with the following annotation.</p>\n<pre><code>@Retryable(value = {CannotAcquireLockException.class, OptimisticLockException.class, TransactionException.class, ObjectOptimisticLockingFailureException.class})\n</code></pre>\n<p>Hope it helps somebody else.</p>\n"}],"owner":{"account_id":5342445,"reputation":4807,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73695238,"answer_count":1,"score":1,"last_activity_date":1688671856,"creation_date":1661890186,"question_id":73547954,"body_markdown":"I have a complex business web application that receives multiple concurrent requests. One of those requests is to process a new invoice. If multiple of these requests are received at the same time, at least one of the requests will suffer a rollback because of the following error `Transaction (Process ID X) was deadlocked on lock resources`.\r\n\r\nI have been browsing through lots of StackOverflow entries about this topic, but none of them have given me a solution. I tried turning on `SNAPSHOT ISOLATION`, but nothing changed. I have try reordering my code, but to no avail. User https://stackoverflow.com/users/1560836/user1560836 commented on https://stackoverflow.com/questions/34551005/correct-way-to-handle-deadlocks-in-hibernate that there simply was no solution to this issue, and it seems likely. Still, I find it hard to believe, given how **used** these frameworks are.\r\n\r\nDoes anybody have a recommendation or maybe a solution? Also, do you have a solution to at least monitor these occurrences? Any help would be greatly appreciated.","title":"Spring Data JPA Deadlock Issues with SQL Server","body":"<p>I have a complex business web application that receives multiple concurrent requests. One of those requests is to process a new invoice. If multiple of these requests are received at the same time, at least one of the requests will suffer a rollback because of the following error <code>Transaction (Process ID X) was deadlocked on lock resources</code>.</p>\n<p>I have been browsing through lots of StackOverflow entries about this topic, but none of them have given me a solution. I tried turning on <code>SNAPSHOT ISOLATION</code>, but nothing changed. I have try reordering my code, but to no avail. User <a href=\"https://stackoverflow.com/users/1560836/user1560836\">https://stackoverflow.com/users/1560836/user1560836</a> commented on <a href=\"https://stackoverflow.com/questions/34551005/correct-way-to-handle-deadlocks-in-hibernate\">Correct way to handle deadlocks in Hibernate</a> that there simply was no solution to this issue, and it seems likely. Still, I find it hard to believe, given how <strong>used</strong> these frameworks are.</p>\n<p>Does anybody have a recommendation or maybe a solution? Also, do you have a solution to at least monitor these occurrences? Any help would be greatly appreciated.</p>\n"},{"tags":["java","oop","uuid"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688670598,"post_id":76631876,"comment_id":135108729,"body_markdown":"I mean, you could do that but it&#39;s unlikely to be as distributed as the existing UUID implementation. Of course, you could use an existing UUID implementation and then prepend and append whatever you want.","body":"I mean, you could do that but it&#39;s unlikely to be as distributed as the existing UUID implementation. Of course, you could use an existing UUID implementation and then prepend and append whatever you want."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1688671119,"post_id":76631876,"comment_id":135108810,"body_markdown":"*&quot;for example the ID will need to be made of the first 3 letters of the user&#39;s name, the last 3 digits of the user&#39;s birthday as well as the number of hours they have worked&quot;* - And have you tried using those values to produce this ID?  What have you tried and what didn&#39;t work as expected?  It sounds like you know what you want to do, it&#39;s not clear what&#39;s stopping you from doing it.","body":"<i>&quot;for example the ID will need to be made of the first 3 letters of the user&#39;s name, the last 3 digits of the user&#39;s birthday as well as the number of hours they have worked&quot;</i> - And have you tried using those values to produce this ID?  What have you tried and what didn&#39;t work as expected?  It sounds like you know what you want to do, it&#39;s not clear what&#39;s stopping you from doing it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688678423,"post_id":76631876,"comment_id":135110080,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1688771312,"post_id":76631876,"comment_id":135123248,"body_markdown":"Show an example of how you would like the UUID to look like.","body":"Show an example of how you would like the UUID to look like."}],"answers":[{"tags":[],"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688671643,"creation_date":1688671643,"answer_id":76631997,"question_id":76631876,"body_markdown":"According to the pattern you provided:\r\n\r\n- 3 first letters of the name: you can use the username.substring(0,2) function;\r\n - The last 3 digits of the user&#39;s birthday, assuming it is 31/12/1999 you mean the year.\r\n\r\n\r\nIf it is string, the same substring function will suffice in the range that you see.\r\nIf it is date you will have to use the SimpleDateFormat class and instantiate a pattern of how to get the data Ex: &#39;SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); sdf.format(tu_date);&#39;\r\nThis code may give you an exception so lock it in a try/catch.","title":"how do I create a unique id in java with information that has been inputted by the user?","body":"<p>According to the pattern you provided:</p>\n<ul>\n<li>3 first letters of the name: you can use the username.substring(0,2) function;</li>\n<li>The last 3 digits of the user's birthday, assuming it is 31/12/1999 you mean the year.</li>\n</ul>\n<p>If it is string, the same substring function will suffice in the range that you see.\nIf it is date you will have to use the SimpleDateFormat class and instantiate a pattern of how to get the data Ex: 'SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); sdf.format(tu_date);'\nThis code may give you an exception so lock it in a try/catch.</p>\n"}],"owner":{"account_id":28964938,"reputation":1,"user_id":22186630,"display_name":"Instant_ Dweeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688671643,"creation_date":1688670490,"question_id":76631876,"body_markdown":"I need the program to create a unique ID for tasks, people, etc. I am having trouble, however with getting it to create a unique id with information provided by the user in the form of an input.\r\n\r\nI have not tried yet, but I simply can&#39;t remember how. I have seen other people create unique IDs using the GUID function/import, but I haven&#39;t seen people create an id based on information provided by the user/ for example the ID will need to be made of the first 3 letters of the user&#39;s name, the last 3 digits of the user&#39;s birthday as well as the number of hours they have worked.","title":"how do I create a unique id in java with information that has been inputted by the user?","body":"<p>I need the program to create a unique ID for tasks, people, etc. I am having trouble, however with getting it to create a unique id with information provided by the user in the form of an input.</p>\n<p>I have not tried yet, but I simply can't remember how. I have seen other people create unique IDs using the GUID function/import, but I haven't seen people create an id based on information provided by the user/ for example the ID will need to be made of the first 3 letters of the user's name, the last 3 digits of the user's birthday as well as the number of hours they have worked.</p>\n"},{"tags":["java","rest-assured","serenity-bdd"],"owner":{"account_id":18626114,"reputation":1,"user_id":13575182,"display_name":"sridhar sekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688671637,"creation_date":1589898373,"question_id":61893510,"body_markdown":"I am running the following code in serenity.\r\n\r\n    Response authenticationResponse = SerenityRest.given().relaxedHTTPSValidation().\r\n                    header(&quot;Cookie&quot;,**Validvalue**).\r\n                    queryParam(&quot;response_type&quot;,&quot;code&quot;).\r\n                    queryParam(&quot;state&quot;,&quot;nothing&quot;).\r\n                    queryParam(&quot;client_id&quot;,**Validvalue**).\r\n                 queryParam(&quot;scope&quot;,&quot;openid&quot;).\r\n                    queryParam(&quot;redirect_uri&quot;,&quot;http%3A%2F%2Flocalhost%3A4200%2Flogin%2Fsuccess&quot;).\r\n                    get(&quot;https://account.tst.com/auth&quot;);\r\n\r\nRunning serenity throws a runtime error as shown below,\r\n\r\n*Some exception during recording fields\r\njava.lang.RuntimeException: Some exception during recording fields\r\n\tat net.serenitybdd.rest.filters.FieldsRecordingFilter.filter(FieldsRecordingFilter.java:52)\r\n\tat io.restassured.filter.Filter$filter.call(Unknown Source)*\r\n\r\nPlease help me get rid of this error.","title":"Some exception during recording fields java.lang.RuntimeException: Some exception during recording fields","body":"<p>I am running the following code in serenity.</p>\n\n<pre><code>Response authenticationResponse = SerenityRest.given().relaxedHTTPSValidation().\n                header(\"Cookie\",**Validvalue**).\n                queryParam(\"response_type\",\"code\").\n                queryParam(\"state\",\"nothing\").\n                queryParam(\"client_id\",**Validvalue**).\n             queryParam(\"scope\",\"openid\").\n                queryParam(\"redirect_uri\",\"http%3A%2F%2Flocalhost%3A4200%2Flogin%2Fsuccess\").\n                get(\"https://account.tst.com/auth\");\n</code></pre>\n\n<p>Running serenity throws a runtime error as shown below,</p>\n\n<p><em>Some exception during recording fields\njava.lang.RuntimeException: Some exception during recording fields\n    at net.serenitybdd.rest.filters.FieldsRecordingFilter.filter(FieldsRecordingFilter.java:52)\n    at io.restassured.filter.Filter$filter.call(Unknown Source)</em></p>\n\n<p>Please help me get rid of this error.</p>\n"},{"tags":["java","lambda","expression"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688670898,"creation_date":1688666816,"answer_id":76631487,"question_id":76631448,"body_markdown":"You need braces around the lambda body when it consists of more than one expression. Also, `Integer.compare` should be preferred over subtracting (consider overflow).\r\n\r\n```java\r\nArrays.sort(input, (a, b) -&gt; {\r\n    int c1 = a[0];\r\n    int c2 = b[0];\r\n    if (c1 == c2) return Integer.compare(a[1], b[1]);\r\n    return Integer.compare(c1, c2);\r\n});\r\n```\r\n\r\nThis can be simplified with `Comparator` methods.\r\n\r\n```\r\nArrays.sort(input, Comparator.&lt;int[]&gt;comparingInt(x -&gt; x[0]).thenComparingInt(x -&gt; x[1]));\r\n```\r\n\r\n[`Arrays.compare`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#compare(int%5B%5D,int%5B%5D)) generalizes this lexicographic order for arrays of any length (as mentioned by [Eritrean](https://stackoverflow.com/users/5176992)).\r\n\r\n```java\r\nArrays.sort(input, Arrays::compare);\r\n```","title":"How to sort a 2d array using the second index for tiebreaks","body":"<p>You need braces around the lambda body when it consists of more than one expression. Also, <code>Integer.compare</code> should be preferred over subtracting (consider overflow).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(input, (a, b) -&gt; {\n    int c1 = a[0];\n    int c2 = b[0];\n    if (c1 == c2) return Integer.compare(a[1], b[1]);\n    return Integer.compare(c1, c2);\n});\n</code></pre>\n<p>This can be simplified with <code>Comparator</code> methods.</p>\n<pre><code>Arrays.sort(input, Comparator.&lt;int[]&gt;comparingInt(x -&gt; x[0]).thenComparingInt(x -&gt; x[1]));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#compare(int%5B%5D,int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.compare</code></a> generalizes this lexicographic order for arrays of any length (as mentioned by <a href=\"https://stackoverflow.com/users/5176992\">Eritrean</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(input, Arrays::compare);\n</code></pre>\n"}],"owner":{"account_id":28964965,"reputation":1,"user_id":22186651,"display_name":"Abhay Iyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688670898,"creation_date":1688666448,"question_id":76631448,"body_markdown":"Anyone know the correct syntax for sorting an 2d array using Lambdas in java where in the need to tiebreak we move on to the second element?\r\nlike if the array is { {1,0}, {2,5}, {1,55}}\r\nit becomes {{1,0}, {1,55}, {2,5}}\r\n\r\nSo Im familair that the syntax for just sorting the array as input follows the syntax of\r\n\r\n   \r\n         ```java\r\n             Arrays.sort(input, (a, b) -&gt; (a[0] - b[0));\r\n          ```\r\n\r\n\r\nI have tried some of my own experimental ways around this, such as \r\n\r\n    ```java\r\n     Arrays.sort(input, (a,b) -&gt;\r\n      int c1 = a[0];\r\n      int c2 = b[0];\r\n    if(c1 == c2) return a[1] - b[1];\r\n       return c1 - c2;\r\n    );\r\n    \r\n\r\n\r\n\r\nbut these still have syntax errors in various places. Any help is appreciated!","title":"How to sort a 2d array using the second index for tiebreaks","body":"<p>Anyone know the correct syntax for sorting an 2d array using Lambdas in java where in the need to tiebreak we move on to the second element?\nlike if the array is { {1,0}, {2,5}, {1,55}}\nit becomes {{1,0}, {1,55}, {2,5}}</p>\n<p>So Im familair that the syntax for just sorting the array as input follows the syntax of</p>\n<pre><code>     ```java\n         Arrays.sort(input, (a, b) -&gt; (a[0] - b[0));\n      ```\n</code></pre>\n<p>I have tried some of my own experimental ways around this, such as</p>\n<pre><code>```java\n Arrays.sort(input, (a,b) -&gt;\n  int c1 = a[0];\n  int c2 = b[0];\nif(c1 == c2) return a[1] - b[1];\n   return c1 - c2;\n);\n</code></pre>\n<p>but these still have syntax errors in various places. Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","rabbitmq","amqp"],"comments":[{"owner":{"account_id":13862323,"reputation":1355,"user_id":10007682,"display_name":"Dylan"},"score":0,"creation_date":1552680674,"post_id":55189827,"comment_id":97118317,"body_markdown":"somewhere `SimpleMessageConverter.createMessage` is being called. I can&#39;t remember if convertAndSend calls that for you or not.","body":"somewhere <code>SimpleMessageConverter.createMessage</code> is being called. I can&#39;t remember if convertAndSend calls that for you or not."},{"owner":{"account_id":13862323,"reputation":1355,"user_id":10007682,"display_name":"Dylan"},"score":0,"creation_date":1552681409,"post_id":55189827,"comment_id":97118639,"body_markdown":"Looking at the source for spring, convertAndSend, calls `MessageConverter.toMessage` which calls `MessageConverter.createMessage` and since this is an instance of `SimpleMessage` we get `SimpleMessageConverter.createMessage`.","body":"Looking at the source for spring, convertAndSend, calls <code>MessageConverter.toMessage</code> which calls <code>MessageConverter.createMessage</code> and since this is an instance of <code>SimpleMessage</code> we get <code>SimpleMessageConverter.createMessage</code>."},{"owner":{"account_id":2252370,"reputation":457,"user_id":1984342,"display_name":"Neeraj Singh"},"score":1,"creation_date":1552683420,"post_id":55189827,"comment_id":97119484,"body_markdown":"Agree with what Dylan has mentioned below. You need to make your object as Serializable. Take a look at some samples on sending message similar to your use case here. https://thepracticaldeveloper.com/2016/10/23/produce-and-consume-json-messages-with-spring-boot-amqp/","body":"Agree with what Dylan has mentioned below. You need to make your object as Serializable. Take a look at some samples on sending message similar to your use case here. <a href=\"https://thepracticaldeveloper.com/2016/10/23/produce-and-consume-json-messages-with-spring-boot-amqp/\" rel=\"nofollow noreferrer\">thepracticaldeveloper.com/2016/10/23/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13862323,"reputation":1355,"user_id":10007682,"display_name":"Dylan"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1552681824,"creation_date":1552681824,"answer_id":55190241,"question_id":55189827,"body_markdown":"The problem is that your class `SimpleMessage` does not implement `Serializable`.\r\n\r\n`RabbitTemplate.convertAndSend` uses `SimpleMessageConveter` to convert your message into an amqp message. However `SimpleMessageConverter` requires that message to implement the interface `Serializable`.\r\n\r\nYour `SimpleMessage` class should look like follows:\r\n\r\n    public class SimpleMessage implements Serializable {\r\n        ... your code here\r\n    }\r\n\r\nYou can learn more about Serializable objects [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>The problem is that your class <code>SimpleMessage</code> does not implement <code>Serializable</code>.</p>\n\n<p><code>RabbitTemplate.convertAndSend</code> uses <code>SimpleMessageConveter</code> to convert your message into an amqp message. However <code>SimpleMessageConverter</code> requires that message to implement the interface <code>Serializable</code>.</p>\n\n<p>Your <code>SimpleMessage</code> class should look like follows:</p>\n\n<pre><code>public class SimpleMessage implements Serializable {\n    ... your code here\n}\n</code></pre>\n\n<p>You can learn more about Serializable objects <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":21534452,"reputation":51,"user_id":15873316,"display_name":"Evgene Krylov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646744982,"creation_date":1646744982,"answer_id":71395623,"question_id":55189827,"body_markdown":"There is another solution: use a different implementation of the MessageConverter instead of default SimpleMessageConverter.\r\n\r\nFor example, Jackson2JsonMessageConverter:\r\n\r\n    public RabbitTemplate jsonRabbitTemplate(ConnectionFactory connectionFactory, ObjectMapper mapper) {\r\n        final var jsonRabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        jsonRabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter(mapper));\r\n        return jsonRabbitTemplate;\r\n    }","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>There is another solution: use a different implementation of the MessageConverter instead of default SimpleMessageConverter.</p>\n<p>For example, Jackson2JsonMessageConverter:</p>\n<pre><code>public RabbitTemplate jsonRabbitTemplate(ConnectionFactory connectionFactory, ObjectMapper mapper) {\n    final var jsonRabbitTemplate = new RabbitTemplate(connectionFactory);\n    jsonRabbitTemplate.setMessageConverter(new Jackson2JsonMessageConverter(mapper));\n    return jsonRabbitTemplate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1321712,"reputation":2088,"user_id":1267404,"accept_rate":77,"display_name":"Victoria Agafonova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688670261,"creation_date":1688670261,"answer_id":76631845,"question_id":55189827,"body_markdown":"In my case changing rabbitTemplate helped. First I had this one:\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate() {\r\n        return new RabbitTemplate(connectionFactory());\r\n    }\r\n\r\nAnd then I&#39;ve changed it to this one:\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, MessageConverter messageConverter) {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(messageConverter);\r\n        return rabbitTemplate;\r\n    }\r\n    \r\n    @Bean\r\n    public MessageConverter messageConverter(ObjectMapper jsonMapper) {\r\n        return new Jackson2JsonMessageConverter(jsonMapper);\r\n    }","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>In my case changing rabbitTemplate helped. First I had this one:</p>\n<pre><code>@Bean\npublic RabbitTemplate rabbitTemplate() {\n    return new RabbitTemplate(connectionFactory());\n}\n</code></pre>\n<p>And then I've changed it to this one:</p>\n<pre><code>@Bean\npublic RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, MessageConverter messageConverter) {\n    RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n    rabbitTemplate.setMessageConverter(messageConverter);\n    return rabbitTemplate;\n}\n\n@Bean\npublic MessageConverter messageConverter(ObjectMapper jsonMapper) {\n    return new Jackson2JsonMessageConverter(jsonMapper);\n}\n</code></pre>\n"}],"owner":{"account_id":2683361,"reputation":145,"user_id":2318215,"accept_rate":25,"display_name":"el-chico"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10805,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55190241,"answer_count":3,"score":9,"last_activity_date":1688670261,"creation_date":1552679615,"question_id":55189827,"body_markdown":"I try to publish a message on a Queue with RabbitTemplate (using Spring Boot) and I got this message. I already tried to search for a solution.\r\n\r\n    Caused by: java.lang.IllegalArgumentException: SimpleMessageConverter only supports String, byte[] and Serializable payloads, received: com.example.demo.SimpleMessage\r\n\r\nMaybe this part of code can help\r\n\r\n    @Override\r\n    \tpublic void run(String...strings) throws Exception {\r\n    \t\t\r\n    \t\tSimpleMessage simpleMessage = new SimpleMessage();\r\n    \t\tsimpleMessage.setName(&quot;FirstMessage&quot;);\r\n    \t\tsimpleMessage.setDescription(&quot;simpleDescription&quot;);\r\n    \t\t\r\n    \t\trabbitTemplate.convertAndSend(&quot;TestExchange&quot;, &quot;testRouting&quot;, simpleMessage);\r\n    \t}\r\n\r\nI appreciate any collaboration.","title":"java.lang.IllegalArgumentException when publishing a message with RabbitTemplate","body":"<p>I try to publish a message on a Queue with RabbitTemplate (using Spring Boot) and I got this message. I already tried to search for a solution.</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: SimpleMessageConverter only supports String, byte[] and Serializable payloads, received: com.example.demo.SimpleMessage\n</code></pre>\n\n<p>Maybe this part of code can help</p>\n\n<pre><code>@Override\n    public void run(String...strings) throws Exception {\n\n        SimpleMessage simpleMessage = new SimpleMessage();\n        simpleMessage.setName(\"FirstMessage\");\n        simpleMessage.setDescription(\"simpleDescription\");\n\n        rabbitTemplate.convertAndSend(\"TestExchange\", \"testRouting\", simpleMessage);\n    }\n</code></pre>\n\n<p>I appreciate any collaboration.</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1688654143,"post_id":76629651,"comment_id":135105597,"body_markdown":"How did you create the `imageView` (show your xml)? most likely the image view is scaling the image down to fit the screen, thus the coordinates are off by the scale factor.","body":"How did you create the <code>imageView</code> (show your xml)? most likely the image view is scaling the image down to fit the screen, thus the coordinates are off by the scale factor."},{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1688661048,"post_id":76629651,"comment_id":135107085,"body_markdown":"My apologies, I added the XML to the post. I currently have it to wrap_content, however switching it to match_parent gives the same result.","body":"My apologies, I added the XML to the post. I currently have it to wrap_content, however switching it to match_parent gives the same result."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1688664116,"post_id":76629651,"comment_id":135107603,"body_markdown":"Thanks xml was to see if you had set any of the scaling stuff, but it still might be scaling it. Try something like `Matrix imgMatrix = mapImage.getImageMatrix()` then try `dump` or `toString` on that to get values of the Matrix being applied to the image. Or try `imgMatrix.isIdentity()` to see if it returns false.","body":"Thanks xml was to see if you had set any of the scaling stuff, but it still might be scaling it. Try something like <code>Matrix imgMatrix = mapImage.getImageMatrix()</code> then try <code>dump</code> or <code>toString</code> on that to get values of the Matrix being applied to the image. Or try <code>imgMatrix.isIdentity()</code> to see if it returns false."},{"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"score":0,"creation_date":1688667683,"post_id":76629651,"comment_id":135108182,"body_markdown":"`mapImage.getImageMatrix().toString()` returns this: `Matrix{[0.8178694, 0.0, 0.0][0.0, 0.8178694, 69.391754][0.0, 0.0, 1.0]}`\nand `mapImage.getImageMatrix().toString` returns `false`. Can you help me decipher the first one because I would like to know what it means. Thanks!","body":"<code>mapImage.getImageMatrix().toString()</code> returns this: <code>Matrix{[0.8178694, 0.0, 0.0][0.0, 0.8178694, 69.391754][0.0, 0.0, 1.0]}</code> and <code>mapImage.getImageMatrix().toString</code> returns <code>false</code>. Can you help me decipher the first one because I would like to know what it means. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688669888,"creation_date":1688669888,"answer_id":76631801,"question_id":76629651,"body_markdown":"So the imageView is being scaled down and translated in the Y direction based on matrix used.\r\n\r\n[This post][1] gives some explanation of Matrix&#39;s used with view\r\n\r\n[Another article][2] to explain the matrix\r\n\r\nFrom memory of doing something similar a while ago you need to invert the matrix as you want to find the coordinates on the imageView that match the point you clicked (so they need to be scaled up)\r\n\r\nThen map your points\r\n\r\ne.g. something like this should work (not tested but I do something similar in my app to handle clicks on a scaled view)\r\n\r\n```\r\n// Create a new matrix to hold the inverted matrix\r\nMatrix mappingMatrix = new Matrix();\r\n// Create a copy of the imageView matrix but inverted\r\nimgMatrix.invert(mappingMatrix);\r\n// map your input points to where they should appear on the imageView\r\n// x and y in a float array as that how mapPoints takes input\r\nfloat[] points = new float[2];\r\npoints[0] = motionEvent.getX();\r\npoints[1] = motionEvent.getY();\r\nmappingMatrix.mapPoints(points);\r\nfloat x = points[0];\r\nfloat y = points[1];\r\n\r\n```\r\n\r\n[mapPoints][3] reference\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13246914/2373819\r\n  [2]: https://medium.com/mobile-app-development-publication/android-matrix-scaletype-explained-4501f0796be8\r\n  [3]: https://developer.android.com/reference/android/graphics/Matrix#mapPoints(float[])","title":"MotionEvent.getX() and MotionEvent.getY() returning values that are strangely shifted","body":"<p>So the imageView is being scaled down and translated in the Y direction based on matrix used.</p>\n<p><a href=\"https://stackoverflow.com/a/13246914/2373819\">This post</a> gives some explanation of Matrix's used with view</p>\n<p><a href=\"https://medium.com/mobile-app-development-publication/android-matrix-scaletype-explained-4501f0796be8\" rel=\"nofollow noreferrer\">Another article</a> to explain the matrix</p>\n<p>From memory of doing something similar a while ago you need to invert the matrix as you want to find the coordinates on the imageView that match the point you clicked (so they need to be scaled up)</p>\n<p>Then map your points</p>\n<p>e.g. something like this should work (not tested but I do something similar in my app to handle clicks on a scaled view)</p>\n<pre><code>// Create a new matrix to hold the inverted matrix\nMatrix mappingMatrix = new Matrix();\n// Create a copy of the imageView matrix but inverted\nimgMatrix.invert(mappingMatrix);\n// map your input points to where they should appear on the imageView\n// x and y in a float array as that how mapPoints takes input\nfloat[] points = new float[2];\npoints[0] = motionEvent.getX();\npoints[1] = motionEvent.getY();\nmappingMatrix.mapPoints(points);\nfloat x = points[0];\nfloat y = points[1];\n\n</code></pre>\n<p><a href=\"https://developer.android.com/reference/android/graphics/Matrix#mapPoints(float%5B%5D)\" rel=\"nofollow noreferrer\">mapPoints</a> reference</p>\n"}],"owner":{"account_id":25692231,"reputation":3,"user_id":19453499,"display_name":"Phantom37"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688669888,"creation_date":1688652091,"question_id":76629651,"body_markdown":"I am trying to make an app where you can place points/markers on an image using an imageview. What I am trying to do is get the coordinates of a touch event and then drawing a marker bitmap at those coordinates, however MotionEvent.getX() and MotionEvent.getY() return values that are strangely shifted. When I click the imageView, the markers appear shifted down and left. I have tried using MotionEvent.getRawX() and MotionEvent.getRawY(), however these seem to make the shifting become worse. Here is an example:\r\n[![Image of shifted points][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9FSL.jpg\r\n\r\nHere is the current code:\r\n```java\r\n        ImageView mapImage = findViewById(R.id.mapImageView);\r\n        Bitmap imageBitmap = BitmapFactory.decodeFile(projectfile2.getPath()).copy(Bitmap.Config.ARGB_8888,true);\r\n        mapImage.setImageBitmap(imageBitmap);\r\n        Canvas canvas = new Canvas(imageBitmap);\r\n        //canvas.setBitmap(imageBitmap);\r\n        //canvas.drawBitmap(imageBitmap,0,0,null);\r\n        Bitmap pinBitmap = BitmapFactory.decodeResource(getResources(),R.drawable.red_marker);\r\n        mapImage.setOnTouchListener((view, motionEvent) -&gt; {\r\n            ImageView view2 = (ImageView) view;\r\n            //view2.bringToFront();\r\n            viewTransformation(view2, motionEvent);\r\n            if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n                float x = motionEvent.getX();\r\n                float y = motionEvent.getY();\r\n                canvas.drawBitmap(pinBitmap,x,y,null);\r\n                Log.d(&quot;app123_X_and_Y&quot;,x+&quot; | &quot;+y);\r\n            }\r\n            return true;\r\n        });\r\n```\r\nXML:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.IndoorMapView&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/mapImageView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/rectangle&quot;\r\n        tools:srcCompat=&quot;@tools:sample/avatars&quot;\r\n        android:contentDescription=&quot;Map&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nAny ideas on how to get the correct coordinates? One quick theory I have is that when I set the canvas bitmap, its not setting it to the same size, however I&#39;m not sure if that&#39;s how canvas&#39; work.\r\nThank you.","title":"MotionEvent.getX() and MotionEvent.getY() returning values that are strangely shifted","body":"<p>I am trying to make an app where you can place points/markers on an image using an imageview. What I am trying to do is get the coordinates of a touch event and then drawing a marker bitmap at those coordinates, however MotionEvent.getX() and MotionEvent.getY() return values that are strangely shifted. When I click the imageView, the markers appear shifted down and left. I have tried using MotionEvent.getRawX() and MotionEvent.getRawY(), however these seem to make the shifting become worse. Here is an example:\n<a href=\"https://i.stack.imgur.com/X9FSL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9FSL.jpg\" alt=\"Image of shifted points\" /></a></p>\n<p>Here is the current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ImageView mapImage = findViewById(R.id.mapImageView);\n        Bitmap imageBitmap = BitmapFactory.decodeFile(projectfile2.getPath()).copy(Bitmap.Config.ARGB_8888,true);\n        mapImage.setImageBitmap(imageBitmap);\n        Canvas canvas = new Canvas(imageBitmap);\n        //canvas.setBitmap(imageBitmap);\n        //canvas.drawBitmap(imageBitmap,0,0,null);\n        Bitmap pinBitmap = BitmapFactory.decodeResource(getResources(),R.drawable.red_marker);\n        mapImage.setOnTouchListener((view, motionEvent) -&gt; {\n            ImageView view2 = (ImageView) view;\n            //view2.bringToFront();\n            viewTransformation(view2, motionEvent);\n            if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n                float x = motionEvent.getX();\n                float y = motionEvent.getY();\n                canvas.drawBitmap(pinBitmap,x,y,null);\n                Log.d(&quot;app123_X_and_Y&quot;,x+&quot; | &quot;+y);\n            }\n            return true;\n        });\n</code></pre>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.IndoorMapView&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/mapImageView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/rectangle&quot;\n        tools:srcCompat=&quot;@tools:sample/avatars&quot;\n        android:contentDescription=&quot;Map&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Any ideas on how to get the correct coordinates? One quick theory I have is that when I set the canvas bitmap, its not setting it to the same size, however I'm not sure if that's how canvas' work.\nThank you.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth2resourceserver"],"answers":[{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688666541,"creation_date":1688666541,"answer_id":76631460,"question_id":76630475,"body_markdown":"In a separate config class, You might have to add a bean for the jwt decoder like this:\r\n\r\n\t@Bean\r\n\tpublic JwtDecoder jwtDecoder(OAuth2ResourceServerProperties properties) {\r\n\t\treturn JwtDecoders.fromIssuerLocation(properties.getJwt().getIssuerUri());\r\n\t}\r\n\r\nThe import for the properties would be:\r\n\r\n    import org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;","title":"SpringBoot 3 OAuth2 Resource Server missing bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39;","body":"<p>In a separate config class, You might have to add a bean for the jwt decoder like this:</p>\n<pre><code>@Bean\npublic JwtDecoder jwtDecoder(OAuth2ResourceServerProperties properties) {\n    return JwtDecoders.fromIssuerLocation(properties.getJwt().getIssuerUri());\n}\n</code></pre>\n<p>The import for the properties would be:</p>\n<pre><code>import org.springframework.boot.autoconfigure.security.oauth2.resource.OAuth2ResourceServerProperties;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9563876,"reputation":351,"user_id":7103768,"display_name":"Benaya Trabelsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688669721,"creation_date":1688669721,"answer_id":76631782,"question_id":76630475,"body_markdown":"Where is the actual dependency injection? and where does it try to get the value from your application properties? or do you count on auto-configuration? please show the entire flow of your code, looks like some of it is missing. \r\nHow would Spring boot know where to take the decoder from? you should make sure you have the relevant bean available in the application context, and then use the @Autowired annotation, or use @RequiredArgsConstructor, since you use lombok. \r\n","title":"SpringBoot 3 OAuth2 Resource Server missing bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39;","body":"<p>Where is the actual dependency injection? and where does it try to get the value from your application properties? or do you count on auto-configuration? please show the entire flow of your code, looks like some of it is missing.\nHow would Spring boot know where to take the decoder from? you should make sure you have the relevant bean available in the application context, and then use the @Autowired annotation, or use @RequiredArgsConstructor, since you use lombok.</p>\n"}],"owner":{"account_id":23010353,"reputation":5,"user_id":17132957,"display_name":"slt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76631460,"answer_count":2,"score":0,"last_activity_date":1688669721,"creation_date":1688657744,"question_id":76630475,"body_markdown":"I made an application with *spring-boot-starter-oauth2-resource-server* in *pom.xml* and a value for *spring.security.oauth2.resourceserver.jwt.issuer-uri* in *application.properties*. It works fine when I start it for the first time.\r\nThen I added a @Service class with org.springframework.security.oauth2.jwt.JwtDecoder injected as below\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class MyService {\r\n    \r\n        private final JwtDecoder jwtDecoder;\r\n        private final WebClient webClient;\r\n    \r\n        public MyService(\r\n                JwtDecoder jwtDecoder,\r\n                WebClient webClient\r\n        ) {\r\n            this.jwtDecoder = jwtDecoder;\r\n            this.webClient = webClient;\r\n        }\r\n    \r\n        // method definitions\r\n    \r\n    }\r\n\r\nWhen I run, it throws error \r\n&gt; Parameter 0 of constructor in MyService required a bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39; that could not be found.\r\n\r\nWhen I remove the injection it works fine again.\r\n\r\nWhat should I do?","title":"SpringBoot 3 OAuth2 Resource Server missing bean of type &#39;org.springframework.security.oauth2.jwt.JwtDecoder&#39;","body":"<p>I made an application with <em>spring-boot-starter-oauth2-resource-server</em> in <em>pom.xml</em> and a value for <em>spring.security.oauth2.resourceserver.jwt.issuer-uri</em> in <em>application.properties</em>. It works fine when I start it for the first time.\nThen I added a @Service class with org.springframework.security.oauth2.jwt.JwtDecoder injected as below</p>\n<pre><code>@Slf4j\n@Service\npublic class MyService {\n\n    private final JwtDecoder jwtDecoder;\n    private final WebClient webClient;\n\n    public MyService(\n            JwtDecoder jwtDecoder,\n            WebClient webClient\n    ) {\n        this.jwtDecoder = jwtDecoder;\n        this.webClient = webClient;\n    }\n\n    // method definitions\n\n}\n</code></pre>\n<p>When I run, it throws error</p>\n<blockquote>\n<p>Parameter 0 of constructor in MyService required a bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' that could not be found.</p>\n</blockquote>\n<p>When I remove the injection it works fine again.</p>\n<p>What should I do?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":19515913,"reputation":31,"user_id":14278790,"display_name":"satyapal saran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688669563,"creation_date":1688668963,"question_id":76631705,"body_markdown":"I want to download sample_private.key some other location and given path location in Application-test.yml.\r\nsample_private.key file is every time change . I need to reload Util configuration. Util.java is from some other repo. So we cant modify.\r\n\r\n```\r\n\r\n\r\n@Configuration\r\npublic class Util {\r\n\r\n  private final String privateKeyLocation;\r\n\r\n  @Autowired\r\n  public Util(\r\n      @Value(${parent.child.privateKeyLocation}&quot;) String privateKeyLocation\r\n     ) {\r\n    this.privateKeyLocation = privateKeyLocation;\r\n  }\r\n\r\n\r\nApplication-test.yml\r\nparent:\r\n  child:\r\n    privateKeyLocation: sample_private.key\r\n```\r\n\r\n\r\n\r\n\r\n\r\nIs any way to reload applicationContext/Application-test.yml.  I did some way but not working like below\r\n```\r\n1.@DirtiesContext\r\n2.((ConfigurableApplicationContext) applicationContext).refresh();\r\n ```\r\n","title":"reload application.yml in spring-boot","body":"<p>I want to download sample_private.key some other location and given path location in Application-test.yml.\nsample_private.key file is every time change . I need to reload Util configuration. Util.java is from some other repo. So we cant modify.</p>\n<pre><code>\n\n@Configuration\npublic class Util {\n\n  private final String privateKeyLocation;\n\n  @Autowired\n  public Util(\n      @Value(${parent.child.privateKeyLocation}&quot;) String privateKeyLocation\n     ) {\n    this.privateKeyLocation = privateKeyLocation;\n  }\n\n\nApplication-test.yml\nparent:\n  child:\n    privateKeyLocation: sample_private.key\n</code></pre>\n<p>Is any way to reload applicationContext/Application-test.yml.  I did some way but not working like below</p>\n<pre><code>1.@DirtiesContext\n2.((ConfigurableApplicationContext) applicationContext).refresh();\n</code></pre>\n"},{"tags":["java","arrays","annotations"],"comments":[{"owner":{"account_id":10167890,"reputation":113,"user_id":7509149,"display_name":"Greg St.Onge"},"score":0,"creation_date":1688666898,"post_id":76631471,"comment_id":135108040,"body_markdown":"Also, if this can be solved using Spring and `@AliasFor`, I&#39;m happy to see that as well.","body":"Also, if this can be solved using Spring and <code>@AliasFor</code>, I&#39;m happy to see that as well."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1688666951,"post_id":76631471,"comment_id":135108053,"body_markdown":"How are you processing the annotated types?","body":"How are you processing the annotated types?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1688667751,"post_id":76631471,"comment_id":135108194,"body_markdown":"You could maybe do it in the code that uses MyAnnotation, but I&#39;d be shocked if there was a better alternative short of bytecode rewriting.","body":"You could maybe do it in the code that uses MyAnnotation, but I&#39;d be shocked if there was a better alternative short of bytecode rewriting."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1688668737,"post_id":76631471,"comment_id":135108405,"body_markdown":"If it&#39;s a custom annotation, with probably custom handling via Reflection, then what about separating 2 annotation fields: kind of &quot;basicValues&quot; and &quot;additionalValues&quot; and specify only the latter in user code? Concat both arrays while annotation processing.","body":"If it&#39;s a custom annotation, with probably custom handling via Reflection, then what about separating 2 annotation fields: kind of &quot;basicValues&quot; and &quot;additionalValues&quot; and specify only the latter in user code? Concat both arrays while annotation processing."},{"owner":{"account_id":10167890,"reputation":113,"user_id":7509149,"display_name":"Greg St.Onge"},"score":0,"creation_date":1688669189,"post_id":76631471,"comment_id":135108496,"body_markdown":"@Unmitigated I&#39;m not processing it - in my actual use case, `@MyAnnotation` is a composition annotation composing a number of Spring annotations - so it is Spring that is processing the annotation.","body":"@Unmitigated I&#39;m not processing it - in my actual use case, <code>@MyAnnotation</code> is a composition annotation composing a number of Spring annotations - so it is Spring that is processing the annotation."}],"owner":{"account_id":10167890,"reputation":113,"user_id":7509149,"display_name":"Greg St.Onge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688669312,"creation_date":1688666671,"question_id":76631471,"body_markdown":"I&#39;d like to create a custom annotation that defines some default values in an array and where usages of that annotation are able to add values to that array without re-specifying them.\r\n\r\nSo, annotation definition:\r\n\r\n    public @interface MyAnnotation {\r\n        String[] value() default { &quot;A&quot;, &quot;B&quot; };\r\n    }\r\n\r\nThen the usage:\r\n\r\n    @MyAnnotation({&quot;C&quot;, &quot;D&quot;})\r\n    public class MyClass { }\r\n\r\nI&#39;d like the runtime value on the annotation to be `{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;}` - is there a way to do this? Again - I&#39;d like it to be *without* re-specifying.\r\n\r\nConsider having a large number of usages of `@MyAnnotation` and wanting to add `&quot;X&quot;` to the array value for each, without having to change each usages of `@MyAnnotation` - ie, changing just the `@MyAnnotation` to look like this:\r\n\r\n    public @interface MyAnnotation {\r\n        String[] value() default { &quot;A&quot;, &quot;B&quot;, &quot;X&quot; };\r\n    }","title":"Java Annotations: how to add to default array?","body":"<p>I'd like to create a custom annotation that defines some default values in an array and where usages of that annotation are able to add values to that array without re-specifying them.</p>\n<p>So, annotation definition:</p>\n<pre><code>public @interface MyAnnotation {\n    String[] value() default { &quot;A&quot;, &quot;B&quot; };\n}\n</code></pre>\n<p>Then the usage:</p>\n<pre><code>@MyAnnotation({&quot;C&quot;, &quot;D&quot;})\npublic class MyClass { }\n</code></pre>\n<p>I'd like the runtime value on the annotation to be <code>{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;}</code> - is there a way to do this? Again - I'd like it to be <em>without</em> re-specifying.</p>\n<p>Consider having a large number of usages of <code>@MyAnnotation</code> and wanting to add <code>&quot;X&quot;</code> to the array value for each, without having to change each usages of <code>@MyAnnotation</code> - ie, changing just the <code>@MyAnnotation</code> to look like this:</p>\n<pre><code>public @interface MyAnnotation {\n    String[] value() default { &quot;A&quot;, &quot;B&quot;, &quot;X&quot; };\n}\n</code></pre>\n"},{"tags":["java","elasticsearch","knn","opensearch","scoring"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688601438,"post_id":76624659,"comment_id":135096937,"body_markdown":"If you have already made query in dev tool, why don&#39;t you make it search-template, and invoke that particular search-template in Java client.","body":"If you have already made query in dev tool, why don&#39;t you make it search-template, and invoke that particular search-template in Java client."},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1688612029,"post_id":76624659,"comment_id":135097822,"body_markdown":"Because I have multiple filters in my bool query and they will change depending on the input. It&#39;d be cleaner if I do it programmatically.","body":"Because I have multiple filters in my bool query and they will change depending on the input. It&#39;d be cleaner if I do it programmatically."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688617115,"post_id":76624659,"comment_id":135098176,"body_markdown":"Multiple filters can be configured in search-template, actually it&#39;s quite easy if you do some study, and also most used approach because you can use that template also in dev tool not only in Java client. And in fact, sometimes in Java client it gets so complicated because of Strings.","body":"Multiple filters can be configured in search-template, actually it&#39;s quite easy if you do some study, and also most used approach because you can use that template also in dev tool not only in Java client. And in fact, sometimes in Java client it gets so complicated because of Strings."},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1688663112,"post_id":76624659,"comment_id":135107456,"body_markdown":"Do you have a link for the search-template?","body":"Do you have a link for the search-template?"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":1,"creation_date":1688683714,"post_id":76624659,"comment_id":135110746,"body_markdown":"Sure, [following shows how to make search template in dev tool](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html), and [this github repo](https://github.com/af4092/Elasticsearch-Search-Template-Invoking-Java-Client) shows how to invoke search template. Additionally [you can build](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html) search template directly in the Java client as well. But personally I would recommend to build them in dev tool, because in this way you can use them both in the elastic query and java client","body":"Sure, <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html\" rel=\"nofollow noreferrer\">following shows how to make search template in dev tool</a>, and <a href=\"https://github.com/af4092/Elasticsearch-Search-Template-Invoking-Java-Client\" rel=\"nofollow noreferrer\">this github repo</a> shows how to invoke search template. Additionally <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html\" rel=\"nofollow noreferrer\">you can build</a> search template directly in the Java client as well. But personally I would recommend to build them in dev tool, because in this way you can use them both in the elastic query and java client"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688668346,"creation_date":1688600217,"question_id":76624659,"body_markdown":"I have the following example from Opensearch documentation\r\n\r\n```\r\nInlineScript inlineScript = new InlineScript.Builder()\r\n        .source(&quot;knn_score&quot;)\r\n        .lang(&quot;knn&quot;)\r\n        .params(Map.of(\r\n                &quot;field&quot;, JsonData.of(&quot;my_vector&quot;),\r\n                &quot;query_value&quot;, JsonData.of(List.of(1.5, 5.5, 4.5, 6.4)),\r\n                &quot;space_type&quot;, JsonData.of(&quot;cosinesimil&quot;)\r\n                ))\r\n        .build();\r\nQuery query = new Query.Builder()\r\n        .scriptScore(new ScriptScoreQuery.Builder()\r\n            .query(new Query.Builder()\r\n                .matchAll(new MatchAllQuery.Builder().build())\r\n                .build())\r\n            .script(new Script.Builder()\r\n                .inline(inlineScript)\r\n                .build())\r\n            .build())\r\n        .build();\r\nSearchRequest searchRequest = new SearchRequest.Builder()\r\n        .index(index)\r\n        .query(query)\r\n        .build();\r\nSearchResponse&lt;JsonNode&gt; searchResponse = client.search(searchRequest, JsonNode.class);\r\n```\r\n\r\nI would like to do something similar, but instead of a matchAll query, I would like to use a BoolQuery. This is a sample BoolQuery:\r\n\r\n```\r\n      BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\r\n\r\n      BoolQueryBuilder innerBoolQuery = QueryBuilders.boolQuery();\r\n\r\n      innerBoolQuery.must(QueryBuilders.rangeQuery(&quot;price&quot;).gte(200).lte(350));\r\n\r\n      boolQuery.filter(innerBoolQuery);\r\n\r\n```\r\n\r\nI want to do something like this, but have been unsuccessful:\r\n```\r\nQuery query = new Query.Builder()\r\n        .scriptScore(new ScriptScoreQuery.Builder()\r\n            .query(boolQuery) ---&gt; Compilation error.\r\n            .script(new Script.Builder()\r\n                .inline(inlineScript)\r\n                .build())\r\n            .build())\r\n        .build();\r\n```\r\n\r\nAn example of how I want my actual query to look like:\r\n```\r\nGET /my_index/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;script_score&quot;: {\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;filter&quot;: {\r\n            &quot;bool&quot;: {\r\n              &quot;must&quot;: [\r\n                {\r\n                  &quot;range&quot;: {\r\n                    &quot;price&quot;: {\r\n                      &quot;gte&quot;: 200,\r\n                      &quot;lte&quot;: 350\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;script&quot;: {\r\n        &quot;source&quot;: &quot;knn_score&quot;,\r\n        &quot;lang&quot;: &quot;knn&quot;,\r\n        &quot;params&quot;: {\r\n          &quot;field&quot;: &quot;my_vector&quot;,\r\n          &quot;query_value&quot;: [1.5, 5.5, 4.5, 6.4],\r\n          &quot;space_type&quot;: &quot;cosinesimil&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI am using the opensearch-java client. Kindly help.","title":"Opensearch scoring script with bool filter java","body":"<p>I have the following example from Opensearch documentation</p>\n<pre><code>InlineScript inlineScript = new InlineScript.Builder()\n        .source(&quot;knn_score&quot;)\n        .lang(&quot;knn&quot;)\n        .params(Map.of(\n                &quot;field&quot;, JsonData.of(&quot;my_vector&quot;),\n                &quot;query_value&quot;, JsonData.of(List.of(1.5, 5.5, 4.5, 6.4)),\n                &quot;space_type&quot;, JsonData.of(&quot;cosinesimil&quot;)\n                ))\n        .build();\nQuery query = new Query.Builder()\n        .scriptScore(new ScriptScoreQuery.Builder()\n            .query(new Query.Builder()\n                .matchAll(new MatchAllQuery.Builder().build())\n                .build())\n            .script(new Script.Builder()\n                .inline(inlineScript)\n                .build())\n            .build())\n        .build();\nSearchRequest searchRequest = new SearchRequest.Builder()\n        .index(index)\n        .query(query)\n        .build();\nSearchResponse&lt;JsonNode&gt; searchResponse = client.search(searchRequest, JsonNode.class);\n</code></pre>\n<p>I would like to do something similar, but instead of a matchAll query, I would like to use a BoolQuery. This is a sample BoolQuery:</p>\n<pre><code>      BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\n\n      BoolQueryBuilder innerBoolQuery = QueryBuilders.boolQuery();\n\n      innerBoolQuery.must(QueryBuilders.rangeQuery(&quot;price&quot;).gte(200).lte(350));\n\n      boolQuery.filter(innerBoolQuery);\n\n</code></pre>\n<p>I want to do something like this, but have been unsuccessful:</p>\n<pre><code>Query query = new Query.Builder()\n        .scriptScore(new ScriptScoreQuery.Builder()\n            .query(boolQuery) ---&gt; Compilation error.\n            .script(new Script.Builder()\n                .inline(inlineScript)\n                .build())\n            .build())\n        .build();\n</code></pre>\n<p>An example of how I want my actual query to look like:</p>\n<pre><code>GET /my_index/_search\n{\n  &quot;query&quot;: {\n    &quot;script_score&quot;: {\n      &quot;query&quot;: {\n        &quot;bool&quot;: {\n          &quot;filter&quot;: {\n            &quot;bool&quot;: {\n              &quot;must&quot;: [\n                {\n                  &quot;range&quot;: {\n                    &quot;price&quot;: {\n                      &quot;gte&quot;: 200,\n                      &quot;lte&quot;: 350\n                    }\n                  }\n                }\n              ]\n            }\n          }\n        }\n      },\n      &quot;script&quot;: {\n        &quot;source&quot;: &quot;knn_score&quot;,\n        &quot;lang&quot;: &quot;knn&quot;,\n        &quot;params&quot;: {\n          &quot;field&quot;: &quot;my_vector&quot;,\n          &quot;query_value&quot;: [1.5, 5.5, 4.5, 6.4],\n          &quot;space_type&quot;: &quot;cosinesimil&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am using the opensearch-java client. Kindly help.</p>\n"},{"tags":["java","odata","olingo"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688673155,"post_id":76630293,"comment_id":135109174,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28963951,"reputation":1,"user_id":22185860,"display_name":"jdev_17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688667391,"creation_date":1688656425,"question_id":76630293,"body_markdown":"`Looking to filter result using datetime with odata v2 (implemented odata v2 using olingo )\r\n\r\n\r\n\r\ntried below datetime filter but getting error\r\n\r\nhttps://api01.dev.xyz.com/abc/Odata.svc/TableDTOs?$filter=SystemUpdateTime gt datetime&#39;2023-06-16T15:01:25&#39;\r\n\r\n**error:**\r\nclass java.util.GregorianCalendar cannot be cast to class java.util.Date (java.util.GregorianCalendar and java.util.Date are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\r\nlooks like need to write some custom filter in my java application using olingo any input on using existing filter or writing custom filter will be helpful\r\n\r\nNote: Using odatav2 and Olingo-odata2 jars`","title":"Datetime filter with olingo (odata v2)","body":"<p>`Looking to filter result using datetime with odata v2 (implemented odata v2 using olingo )</p>\n<p>tried below datetime filter but getting error</p>\n<p><a href=\"https://api01.dev.xyz.com/abc/Odata.svc/TableDTOs?$filter=SystemUpdateTime\" rel=\"nofollow noreferrer\">https://api01.dev.xyz.com/abc/Odata.svc/TableDTOs?$filter=SystemUpdateTime</a> gt datetime'2023-06-16T15:01:25'</p>\n<p><strong>error:</strong>\nclass java.util.GregorianCalendar cannot be cast to class java.util.Date (java.util.GregorianCalendar and java.util.Date are in module java.base of loader 'bootstrap')</p>\n<p>looks like need to write some custom filter in my java application using olingo any input on using existing filter or writing custom filter will be helpful</p>\n<p>Note: Using odatav2 and Olingo-odata2 jars`</p>\n"},{"tags":["java","javascript","eclipse","spring","swing"],"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1580297814,"post_id":27425472,"comment_id":106049319,"body_markdown":"this jar needs to be present in the dependencies.","body":"this jar needs to be present in the dependencies."}],"answers":[{"tags":[],"owner":{"account_id":5427641,"reputation":101,"user_id":4319442,"display_name":"kyzh101"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418310103,"creation_date":1418310103,"answer_id":27425860,"question_id":27425472,"body_markdown":"May be you are missing org.springframework.beans-3.0.4.RELEASE   jar","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>May be you are missing org.springframework.beans-3.0.4.RELEASE   jar</p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1418310541,"creation_date":1418310139,"answer_id":27425869,"question_id":27425472,"body_markdown":"If you aren&#39;t using maven (or any other dependency management tool, for that matter), you should add `spring-context` dependencies manually, which are `spring-beans`, `spring-core`, `spring-aop` and `spring-expression`, of course each of them have their own dependencies either (Transitive Dependency). By the way, `BeansException` is part of `spring-beans` module","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>If you aren't using maven (or any other dependency management tool, for that matter), you should add <code>spring-context</code> dependencies manually, which are <code>spring-beans</code>, <code>spring-core</code>, <code>spring-aop</code> and <code>spring-expression</code>, of course each of them have their own dependencies either (Transitive Dependency). By the way, <code>BeansException</code> is part of <code>spring-beans</code> module</p>\n"},{"tags":[],"owner":{"account_id":3780797,"reputation":21,"user_id":3140328,"display_name":"adiarray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481512876,"creation_date":1481512618,"answer_id":41093721,"question_id":27425472,"body_markdown":"Yes I&#39;ve managed to resolve the issue.... I use the following pattern: the program and the results without error\r\n\r\nVersion:\r\n3.0.4.RELEASE\r\n\r\nThen select -&gt; Maven-&gt; Update Project\r\n\r\n","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>Yes I've managed to resolve the issue.... I use the following pattern: the program and the results without error</p>\n\n<p>Version:\n3.0.4.RELEASE</p>\n\n<p>Then select -> Maven-> Update Project</p>\n"},{"tags":[],"owner":{"account_id":2191415,"reputation":159,"user_id":1938347,"display_name":"Pichitron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517468201,"creation_date":1517468201,"answer_id":48556969,"question_id":27425472,"body_markdown":"    I have problems with *org.springframework.context.EnvironmentAware*\r\n    Adding this dependency in pom from maven repository solve my problem.\r\n    \r\n    *&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;*","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<pre><code>I have problems with *org.springframework.context.EnvironmentAware*\nAdding this dependency in pom from maven repository solve my problem.\n\n*&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n    &lt;version&gt;5.0.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3732901,"reputation":491,"user_id":3913894,"display_name":"khwilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618294569,"creation_date":1618294569,"answer_id":67069612,"question_id":27425472,"body_markdown":"The error occurs because you are missing the Spring Beans dependency. If you are using Maven, add the Spring Beans dependency to your **pom.xml** file.\r\n\r\nAn example would be as follows:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can search for the latest version of Spring Beans from the Maven Repository website: [https://mvnrepository.com/][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>The error occurs because you are missing the Spring Beans dependency. If you are using Maven, add the Spring Beans dependency to your <strong>pom.xml</strong> file.</p>\n<p>An example would be as follows:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n  &lt;version&gt;5.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can search for the latest version of Spring Beans from the Maven Repository website: <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a></p>\n"},{"tags":[],"owner":{"account_id":17999776,"reputation":1,"user_id":13081967,"display_name":"Priyal Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688666811,"creation_date":1688666811,"answer_id":76631485,"question_id":27425472,"body_markdown":"Right-click on your project&gt;Select Maven&gt;Update Project&gt;Select your project name&gt;Ok\r\n\r\nThis resolved my error.\r\n\r\n","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>Right-click on your project&gt;Select Maven&gt;Update Project&gt;Select your project name&gt;Ok</p>\n<p>This resolved my error.</p>\n"}],"owner":{"account_id":3903951,"reputation":301,"user_id":3231075,"accept_rate":60,"display_name":"Elavarasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37914,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27425869,"answer_count":6,"score":8,"last_activity_date":1688666811,"creation_date":1418309016,"question_id":27425472,"body_markdown":"Hi am facing issue with below error in eclipse please help to resolve this issue.\r\n\r\n **Error message**\r\n\r\n***The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files***\r\n\r\nI imported the jar file (org.springframework.context-3.0.4.RELEASE) even then am facing this issue.\r\n\r\n**see below code**( where am getting issue at line ApplicationContext appCtx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);)\r\n\r\n\r\n\t\tpackage com.csp.test.document;\r\n\t\t\r\n\t\timport static org.junit.Assert.*;\r\n\t\timport org.junit.Test;\r\n\t\timport org.springframework.context.ApplicationContext;\r\n\t\timport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\t\t\r\n\t\timport com.csp.model.Document;\r\n\t\timport com.csp.service.DocumentService;\r\n\t\t\r\n\t\tpublic class DocumentTest {\r\n\t\t\r\n\t\t\t@Test\r\n\t\t\tpublic void testGetDocument() {\r\n\t\t\t\tApplicationContext appCtx = new ClassPathXmlApplicationContext(\r\n\t\t\t\t\t\t&quot;applicationContext.xml&quot;);\r\n\t\t\r\n\t\t\t\tDocumentService documentService = (DocumentService) appCtx\r\n\t\t\t\t\t\t.getBean(&quot;documentService&quot;);\r\n\t\t\r\n\t\t\t\tDocument doc = documentService.getDocument(1);\r\n\t\t\r\n\t\t\t\tString status = null;\r\n\t\t\r\n\t\t\t\tif (doc != null) {\r\n\t\t\t\t\tstatus = documentService.saveDocument(doc);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;error in retreiving document&quot;);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tassertEquals(&quot;Success Status&quot;, &quot;SUCCESS&quot;, status);\r\n\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t}","title":"The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>Hi am facing issue with below error in eclipse please help to resolve this issue.</p>\n\n<p><strong>Error message</strong></p>\n\n<p><strong><em>The type org.springframework.beans.BeansException cannot be resolved. It is indirectly referenced from required .class files</em></strong></p>\n\n<p>I imported the jar file (org.springframework.context-3.0.4.RELEASE) even then am facing this issue.</p>\n\n<p><strong>see below code</strong>( where am getting issue at line ApplicationContext appCtx = new ClassPathXmlApplicationContext(\"applicationContext.xml\");)</p>\n\n<pre><code>    package com.csp.test.document;\n\n    import static org.junit.Assert.*;\n    import org.junit.Test;\n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\n\n    import com.csp.model.Document;\n    import com.csp.service.DocumentService;\n\n    public class DocumentTest {\n\n        @Test\n        public void testGetDocument() {\n            ApplicationContext appCtx = new ClassPathXmlApplicationContext(\n                    \"applicationContext.xml\");\n\n            DocumentService documentService = (DocumentService) appCtx\n                    .getBean(\"documentService\");\n\n            Document doc = documentService.getDocument(1);\n\n            String status = null;\n\n            if (doc != null) {\n                status = documentService.saveDocument(doc);\n            } else {\n                System.out.println(\"error in retreiving document\");\n            }\n\n            assertEquals(\"Success Status\", \"SUCCESS\", status);\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","string","replaceall"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1587309938,"post_id":61306644,"comment_id":108455240,"body_markdown":"Consider using `String.replace` instead of `String.replaceAll`","body":"Consider using <code>String.replace</code> instead of <code>String.replaceAll</code>"}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587309345,"creation_date":1587309345,"answer_id":61306720,"question_id":61306644,"body_markdown":"You need to escape the initial { with \\\\. I.e;\r\n\r\n```java\r\n        String card = &quot;{Player1}&quot;;\r\n\r\n        if (card.contains(&quot;{Player1}&quot;)) {\r\n            String replacedCard = card.replaceAll(&quot;\\\\{Player1}&quot;, &quot;Poep&quot;);\r\n\r\n            System.out.println(&quot;replace: &quot; + replacedCard);\r\n        }\r\n```","title":"Java String replaceAll() method using {} curly brackets","body":"<p>You need to escape the initial { with \\. I.e;</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        String card = \"{Player1}\";\n\n        if (card.contains(\"{Player1}\")) {\n            String replacedCard = card.replaceAll(\"\\\\{Player1}\", \"Poep\");\n\n            System.out.println(\"replace: \" + replacedCard);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688666618,"creation_date":1587309381,"answer_id":61306729,"question_id":61306644,"body_markdown":"the first Argument of `replaceAll` is a String that is parsed to a [regular Expression][1] (regEx). The braces `{ }` are special reserved meta characters to express something within the regular expression. To match them as normal characters, you need to escape them with a leading backslash `\\` and because the backslash is also a special character you need to escape itself with an additional backslash:\r\n\r\n    String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Java String replaceAll() method using {} curly brackets","body":"<p>the first Argument of <code>replaceAll</code> is a String that is parsed to a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">regular Expression</a> (regEx). The braces <code>{ }</code> are special reserved meta characters to express something within the regular expression. To match them as normal characters, you need to escape them with a leading backslash <code>\\</code> and because the backslash is also a special character you need to escape itself with an additional backslash:</p>\n<pre><code>String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15919003,"reputation":2828,"user_id":11486670,"display_name":"apt-get_install_skill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587310090,"creation_date":1587309384,"answer_id":61306730,"question_id":61306644,"body_markdown":"Since the input value of the replaceAll method expects a regex, you need to escape the curly brackets with a backslash. The curly brackets are special characters in the context of regular expressions.\r\n\r\nIn Java a backslash in a regex is accomplished by a double backslash `\\\\` (see https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html for reference).\r\n\r\nSo you would need to adjust the line like so:\r\n\r\n    String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);","title":"Java String replaceAll() method using {} curly brackets","body":"<p>Since the input value of the replaceAll method expects a regex, you need to escape the curly brackets with a backslash. The curly brackets are special characters in the context of regular expressions.</p>\n\n<p>In Java a backslash in a regex is accomplished by a double backslash <code>\\\\</code> (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html</a> for reference).</p>\n\n<p>So you would need to adjust the line like so:</p>\n\n<pre><code>String replacedCard = card.replaceAll(\"\\\\{Player1\\\\}\", \"Poep\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4213779,"reputation":816,"user_id":3450684,"display_name":"Lungu Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587309397,"creation_date":1587309397,"answer_id":61306736,"question_id":61306644,"body_markdown":"{} are special characters for Regular Expressions. replaceAll method takes as first parameter a Regular Expressions, so if you want also to replace the curly brackets you have to skip them with \\\\\\ , as follow:\r\n\r\n        String card = cards.get(count).getCard();\r\n        if (card.contains(&quot;{Player1}&quot;)) {\r\n            String replacedCard = card.replaceAll(&quot;\\\\{Player1}&quot;, &quot;Poep&quot;);\r\n        } ","title":"Java String replaceAll() method using {} curly brackets","body":"<p>{} are special characters for Regular Expressions. replaceAll method takes as first parameter a Regular Expressions, so if you want also to replace the curly brackets you have to skip them with \\\\ , as follow:</p>\n\n<pre><code>    String card = cards.get(count).getCard();\n    if (card.contains(\"{Player1}\")) {\n        String replacedCard = card.replaceAll(\"\\\\{Player1}\", \"Poep\");\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587309839,"creation_date":1587309839,"answer_id":61306850,"question_id":61306644,"body_markdown":"Both `{ }` are reserved regex characters. Since the `replaceAll()` function takes in a regex parameter, you have to explicitly state that **`{`** and **`}`** are part of your actual string. You can do this by prefixing them with the escape character: `\\`. But because the escape character is also a reserved character, you need to escape it too.\r\n\r\nHere&#39;s the correct way to write your code:\r\n\r\n    String card = cards.get(count).getCard();\r\n    if (card.contains(&quot;{Player1}&quot;)) {\r\n        String replacedCard = card.replaceAll(&quot;\\\\{Player1\\\\}&quot;, &quot;Poep&quot;);\r\n    }","title":"Java String replaceAll() method using {} curly brackets","body":"<p>Both <code>{ }</code> are reserved regex characters. Since the <code>replaceAll()</code> function takes in a regex parameter, you have to explicitly state that <strong><code>{</code></strong> and <strong><code>}</code></strong> are part of your actual string. You can do this by prefixing them with the escape character: <code>\\</code>. But because the escape character is also a reserved character, you need to escape it too.</p>\n\n<p>Here's the correct way to write your code:</p>\n\n<pre><code>String card = cards.get(count).getCard();\nif (card.contains(\"{Player1}\")) {\n    String replacedCard = card.replaceAll(\"\\\\{Player1\\\\}\", \"Poep\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587310057,"creation_date":1587310057,"answer_id":61306902,"question_id":61306644,"body_markdown":"The method `String.replaceAll` expects a regular expression. The other answers already give a solution for this. However, if you don&#39;t need regular expressions, then you can also use [`String.replace`][1]:\r\n\r\n```\r\nString replacedCard = card.replace(&quot;{Player1}&quot;, &quot;Poep&quot;);\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)","title":"Java String replaceAll() method using {} curly brackets","body":"<p>The method <code>String.replaceAll</code> expects a regular expression. The other answers already give a solution for this. However, if you don't need regular expressions, then you can also use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>String.replace</code></a>:</p>\n\n<pre><code>String replacedCard = card.replace(\"{Player1}\", \"Poep\");\n</code></pre>\n"}],"owner":{"account_id":17967214,"reputation":95,"user_id":13056855,"display_name":"Dani&#235;lle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1640,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":61306729,"answer_count":6,"score":3,"last_activity_date":1688666618,"creation_date":1587309018,"question_id":61306644,"body_markdown":"So for my app in Android Studio I want to replace the following:\r\n\r\n    String card = cards.get(count).getCard();\r\n    if (card.contains(&quot;{Player1}&quot;)) {\r\n                String replacedCard = card.replaceAll(&quot;{Player1}&quot;, &quot;Poep&quot;);\r\n    }\r\n\r\n*An example of String card can be: {Player1} switch drinks with the person next to you.*\r\n\r\nSomehow I can&#39;t use {} for the replacing. With the { it says: &quot;Dangling metacharacter&quot;. Screenshot: https://prnt.sc/s2bbl8\r\n\r\nIs there a solution for this?\r\n","title":"Java String replaceAll() method using {} curly brackets","body":"<p>So for my app in Android Studio I want to replace the following:</p>\n\n<pre><code>String card = cards.get(count).getCard();\nif (card.contains(\"{Player1}\")) {\n            String replacedCard = card.replaceAll(\"{Player1}\", \"Poep\");\n}\n</code></pre>\n\n<p><em>An example of String card can be: {Player1} switch drinks with the person next to you.</em></p>\n\n<p>Somehow I can't use {} for the replacing. With the { it says: \"Dangling metacharacter\". Screenshot: <a href=\"https://prnt.sc/s2bbl8\" rel=\"nofollow noreferrer\">https://prnt.sc/s2bbl8</a></p>\n\n<p>Is there a solution for this?</p>\n"},{"tags":["java","xml","string","log4j"],"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":1,"creation_date":1279293739,"post_id":3266324,"comment_id":3378139,"body_markdown":"Is performance in any way critical? Removing some characters out of a String can be done quite fast; parsing XML and then serializing it again can be quite expensive.","body":"Is performance in any way critical? Removing some characters out of a String can be done quite fast; parsing XML and then serializing it again can be quite expensive."},{"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"score":0,"creation_date":1279293863,"post_id":3266324,"comment_id":3378162,"body_markdown":"@extraneon: I don&#39;t think about that when I answer...","body":"@extraneon: I don&#39;t think about that when I answer..."},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":1,"creation_date":1279294009,"post_id":3266324,"comment_id":3378194,"body_markdown":"@Sylvain M You shouldn&#39;t :) But for James it may be something to consider. It also needn&#39;t be a problem if the log is produced like `if (logger.isDebugEnabled()) { /* log */}`","body":"@Sylvain M You shouldn&#39;t :) But for James it may be something to consider. It also needn&#39;t be a problem if the log is produced like <code>if (logger.isDebugEnabled()) { &#47;* log *&#47;}</code>"}],"answers":[{"tags":[],"owner":{"account_id":156145,"reputation":11981,"user_id":373254,"accept_rate":100,"display_name":"sly7_7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279293552,"creation_date":1279293552,"answer_id":3266356,"question_id":3266324,"body_markdown":"Perhaps with JDom http://www.jdom.org/\r\n\r\n    public static Document createFromString(final String xml) {\r\n        try {\r\n            return new SAXBuilder().build(new ByteArrayInputStream(xml.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (JDOMException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static String renderRaw(final Document description) {\r\n        return renderDocument(description, getRawFormat());\r\n    }\r\n\r\n    public static String renderDocument(final Document description, final Format format) {\r\n        return new XMLOutputter(format).outputString(description);\r\n    }","title":"How to format a String onto one line, StringUtils?","body":"<p>Perhaps with JDom <a href=\"http://www.jdom.org/\" rel=\"nofollow noreferrer\">http://www.jdom.org/</a></p>\n\n<pre><code>public static Document createFromString(final String xml) {\n    try {\n        return new SAXBuilder().build(new ByteArrayInputStream(xml.getBytes(\"UTF-8\")));\n    } catch (JDOMException e) {\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static String renderRaw(final Document description) {\n    return renderDocument(description, getRawFormat());\n}\n\npublic static String renderDocument(final Document description, final Format format) {\n    return new XMLOutputter(format).outputString(description);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403527282,"creation_date":1279294105,"answer_id":3266436,"question_id":3266324,"body_markdown":"    String oneline(String multiline) {\r\n        String[] lines = multiline.split(System.getProperty(&quot;line.separator&quot;));\r\n        StringBuilder builder = new StringBuilder();\r\n        builder.ensureCapacity(multiline.length()); // prevent resizing\r\n        for(String line : lines) builder.append(line);\r\n        return builder.toString();\r\n    }","title":"How to format a String onto one line, StringUtils?","body":"<pre><code>String oneline(String multiline) {\n    String[] lines = multiline.split(System.getProperty(\"line.separator\"));\n    StringBuilder builder = new StringBuilder();\n    builder.ensureCapacity(multiline.length()); // prevent resizing\n    for(String line : lines) builder.append(line);\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1279295775,"creation_date":1279294123,"answer_id":3266440,"question_id":3266324,"body_markdown":"I&#39;d throw a regexp replace on it. That&#39;s not highly efficient but sure to be faster than XML parsing!\r\n\r\nThis is untested:\r\n\r\n     String cleaned = original.replaceAll(&quot;\\\\s*[\\\\r\\\\n]+\\\\s*&quot;, &quot;&quot;).trim();\r\n\r\nIf I haven&#39;t goofed, that will eliminate all line terminators as well as any whitespace immediately following those line terminators. The whitespace at the beginning of the pattern should kill any trailing whitespace on individual lines. `trim()` is thrown in for good measure to eliminate whitespace at the start of the first line and the end of the last.","title":"How to format a String onto one line, StringUtils?","body":"<p>I'd throw a regexp replace on it. That's not highly efficient but sure to be faster than XML parsing!</p>\n\n<p>This is untested:</p>\n\n<pre><code> String cleaned = original.replaceAll(\"\\\\s*[\\\\r\\\\n]+\\\\s*\", \"\").trim();\n</code></pre>\n\n<p>If I haven't goofed, that will eliminate all line terminators as well as any whitespace immediately following those line terminators. The whitespace at the beginning of the pattern should kill any trailing whitespace on individual lines. <code>trim()</code> is thrown in for good measure to eliminate whitespace at the start of the first line and the end of the last.</p>\n"},{"tags":[],"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688666102,"creation_date":1688666102,"answer_id":76631411,"question_id":3266324,"body_markdown":"@corsiKa&#39;s answer, but using Java 8+ Optional. Also, I found that using the line separator system property didn&#39;t work as a regex to `String.split`.\r\n\r\n    Optional.ofNullable(multilineString)\r\n        .map(s -&gt; s.split(&quot;[\\\\r\\\\n]+&quot;))\r\n        .stream()\r\n        .flatMap(Arrays::stream)\r\n        .map(String::trim)\r\n        .reduce(&quot;&quot;, (accumulator, current) -&gt; accumulator + current);\r\n","title":"How to format a String onto one line, StringUtils?","body":"<p>@corsiKa's answer, but using Java 8+ Optional. Also, I found that using the line separator system property didn't work as a regex to <code>String.split</code>.</p>\n<pre><code>Optional.ofNullable(multilineString)\n    .map(s -&gt; s.split(&quot;[\\\\r\\\\n]+&quot;))\n    .stream()\n    .flatMap(Arrays::stream)\n    .map(String::trim)\n    .reduce(&quot;&quot;, (accumulator, current) -&gt; accumulator + current);\n</code></pre>\n"}],"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7180,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3266440,"answer_count":4,"score":4,"last_activity_date":1688666102,"creation_date":1279293328,"question_id":3266324,"body_markdown":"I have a String that I&#39;m passing to log4j to have it logged to a file, the contents of that string is XML, and it is formatted to be on multiple lines with indentations and so forth, to make it easy to read.\r\n\r\nHowever, I would like that XML to be all on one line, how can I do this? I&#39;ve had a look at StringUtils, I guess I could strip the tabs and carriage returns, but there must be a cleaner way?\r\n\r\nThanks","title":"How to format a String onto one line, StringUtils?","body":"<p>I have a String that I'm passing to log4j to have it logged to a file, the contents of that string is XML, and it is formatted to be on multiple lines with indentations and so forth, to make it easy to read.</p>\n\n<p>However, I would like that XML to be all on one line, how can I do this? I've had a look at StringUtils, I guess I could strip the tabs and carriage returns, but there must be a cleaner way?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-mvc","thymeleaf","field"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688708561,"post_id":76631397,"comment_id":135112661,"body_markdown":"No. There is no way an HTML form can retain an object, the parameters are just that `String`. So you need to have some type of conversion in place. Spring is perfectly capable of converting the id to the object directly, there is no need for you to do it manually.","body":"No. There is no way an HTML form can retain an object, the parameters are just that <code>String</code>. So you need to have some type of conversion in place. Spring is perfectly capable of converting the id to the object directly, there is no need for you to do it manually."}],"owner":{"account_id":26831031,"reputation":101,"user_id":20418991,"display_name":"Byb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688665952,"creation_date":1688665952,"question_id":76631397,"body_markdown":"Suppose I have a `Department` class and an `Employee` class. They enter into a *&quot;one-to-many&quot;* relationship. The `Employee` class has a `Department` type field. There is a `@ManyToOne` annotation and so on.\r\n\r\nI have a form for entering an employee. Among other input data, there is an option to select a department for it. This part of the form looks like this:\r\n```\r\n&lt;select th:field=&quot;*{department}&quot;&gt;\r\n    &lt;option th:each=&quot;each : ${departments}&quot; th:text=&quot;${each.name}&quot; th:value=&quot;${each}&quot;&gt;\r\n\r\n    &lt;/option&gt;\r\n&lt;/select&gt;\r\n```\r\nOf course, I first pass the `departments` attribute to the form, which is a list of departments taken from the database.\r\n\r\nI read the following in the Thymeleaf documentation:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xmoxo.png)](https://i.stack.imgur.com/xmoxo.png)\r\n\r\nTherefore, when I then try to get a ready `Employee` object in the controller method after *submit*, I get an error, since Spring is trying to assign a string to a field of type `Department`.\r\n\r\nIs there a way to avoid this? Is there a way to use an object in such cases, and not a string?\r\n\r\nI understand that I can, for example, use the ID of the received object, and then set the object in the controller, but this is much less convenient than working with objects directly.","title":"Is there a way to avoid automatic string conversion when using th:field in Thymeleaf?","body":"<p>Suppose I have a <code>Department</code> class and an <code>Employee</code> class. They enter into a <em>&quot;one-to-many&quot;</em> relationship. The <code>Employee</code> class has a <code>Department</code> type field. There is a <code>@ManyToOne</code> annotation and so on.</p>\n<p>I have a form for entering an employee. Among other input data, there is an option to select a department for it. This part of the form looks like this:</p>\n<pre><code>&lt;select th:field=&quot;*{department}&quot;&gt;\n    &lt;option th:each=&quot;each : ${departments}&quot; th:text=&quot;${each.name}&quot; th:value=&quot;${each}&quot;&gt;\n\n    &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Of course, I first pass the <code>departments</code> attribute to the form, which is a list of departments taken from the database.</p>\n<p>I read the following in the Thymeleaf documentation:</p>\n<p><a href=\"https://i.stack.imgur.com/xmoxo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xmoxo.png\" alt=\"enter image description here\" /></a></p>\n<p>Therefore, when I then try to get a ready <code>Employee</code> object in the controller method after <em>submit</em>, I get an error, since Spring is trying to assign a string to a field of type <code>Department</code>.</p>\n<p>Is there a way to avoid this? Is there a way to use an object in such cases, and not a string?</p>\n<p>I understand that I can, for example, use the ID of the received object, and then set the object in the controller, but this is much less convenient than working with objects directly.</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688563704,"post_id":74350974,"comment_id":135090104,"body_markdown":"The only way I am aware this can be done is to not use the annotation and rather use the Transaction Manager to retrieve a existing/create a new transaction (the problem with the private function not having a transaction would not have been a problem either)","body":"The only way I am aware this can be done is to not use the annotation and rather use the Transaction Manager to retrieve a existing/create a new transaction (the problem with the private function not having a transaction would not have been a problem either)"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1688632343,"post_id":74350974,"comment_id":135100592,"body_markdown":"That would be too time consuming (both in terms of implementing, and in terms of running the tests). You need just one test to check that @Transactional works in general, and for the rest I&#39;d look into static code analysis. Also, on your Repository level put `@Transactional` with propagation=MANDATORY. So that your code fails if your services forgot to start a tx.","body":"That would be too time consuming (both in terms of implementing, and in terms of running the tests). You need just one test to check that @Transactional works in general, and for the rest I&#39;d look into static code analysis. Also, on your Repository level put <code>@Transactional</code> with propagation=MANDATORY. So that your code fails if your services forgot to start a tx."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688648427,"post_id":74350974,"comment_id":135104196,"body_markdown":"@StanislavBashkyrtsev the Repository annotation won&#39;t actually fail if it&#39;s in a subfunction of a bean aswell tho...\nIt&#39;s also not really sensical as atomicity isn&#39;t defined by repositories and using a repository without transactions should be fine (in most cases): https://vladmihalcea.com/spring-transaction-best-practices/","body":"@StanislavBashkyrtsev the Repository annotation won&#39;t actually fail if it&#39;s in a subfunction of a bean aswell tho... It&#39;s also not really sensical as atomicity isn&#39;t defined by repositories and using a repository without transactions should be fine (in most cases): <a href=\"https://vladmihalcea.com/spring-transaction-best-practices/\" rel=\"nofollow noreferrer\">vladmihalcea.com/spring-transaction-best-practices</a>"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1688651111,"post_id":74350974,"comment_id":135104852,"body_markdown":"@EatonEmmerich, I&#39;m not sure you understood me correctly. You don&#39;t put `propagation=MANDATORY` to start a tx. You put it to detect if the method was invoked outside of a tx. And no - Repository should not be invoked outside of a tx as this would lead to the autocommit.","body":"@EatonEmmerich, I&#39;m not sure you understood me correctly. You don&#39;t put <code>propagation=MANDATORY</code> to start a tx. You put it to detect if the method was invoked outside of a tx. And no - Repository should not be invoked outside of a tx as this would lead to the autocommit."},{"owner":{"account_id":3116526,"reputation":472,"user_id":2637167,"accept_rate":25,"display_name":"Eaton Emmerich"},"score":0,"creation_date":1688653978,"post_id":74350974,"comment_id":135105565,"body_markdown":"That&#39;s my point though, sometimes autocommit is the required behaviour. and a annotation on a repo prevents that, normally a repository has more than one usecase","body":"That&#39;s my point though, sometimes autocommit is the required behaviour. and a annotation on a repo prevents that, normally a repository has more than one usecase"}],"answers":[{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667845154,"creation_date":1667845154,"answer_id":74351134,"question_id":74350974,"body_markdown":"You do not need a specific test, just read the doc: \r\n\r\n&gt; When you use transactional proxies with Springs standard configuration, you should apply the @Transactional annotation only to methods with public visibility. If you do annotate protected, private, or package-visible methods with the @Transactional annotation, no error is raised, but the annotated method does not exhibit the configured transactional settings. If you need to annotate non-public methods, consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving (described later).\r\n\r\nSee the [doc][1] for more details\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/data-access.html#transaction-declarative-annotations","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You do not need a specific test, just read the doc:</p>\n<blockquote>\n<p>When you use transactional proxies with Springs standard configuration, you should apply the @Transactional annotation only to methods with public visibility. If you do annotate protected, private, or package-visible methods with the @Transactional annotation, no error is raised, but the annotated method does not exhibit the configured transactional settings. If you need to annotate non-public methods, consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving (described later).</p>\n</blockquote>\n<p>See the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.x/reference/html/data-access.html#transaction-declarative-annotations\" rel=\"nofollow noreferrer\">doc</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688631715,"creation_date":1688631715,"answer_id":76626860,"question_id":74350974,"body_markdown":"You need an integration tests for this feature because you want to check how your implementation integrates with Spring&#39;s transaction management. So you&#39;ll need a Spring application context for the test, with your Spring components needed for this feature - you probably will try to reuse as much as possible your production app context (maybe changing the persistence configuration to use an in memory db). You should replace one or more of your components with a mock that would throw an exception that would trigger the transaction rollback - you can set this as a primary autowiring candidate for your test or use some other way to set this object so it&#39;s used by the code you&#39;re testing.\r\nThen write tests to check all is working in normal conditions and also in case of rollbacks. Probably there are multiple rollback scenarios you&#39;ll test having multiple places where exceptions can occur and also maybe special behavior for some of those exceptions.\r\n\r\nAn additional step would be to include in your CI/CD pipeline tools that automatically analyze code for common problems. I know Sonar detects this particular problem and many others.","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You need an integration tests for this feature because you want to check how your implementation integrates with Spring's transaction management. So you'll need a Spring application context for the test, with your Spring components needed for this feature - you probably will try to reuse as much as possible your production app context (maybe changing the persistence configuration to use an in memory db). You should replace one or more of your components with a mock that would throw an exception that would trigger the transaction rollback - you can set this as a primary autowiring candidate for your test or use some other way to set this object so it's used by the code you're testing.\nThen write tests to check all is working in normal conditions and also in case of rollbacks. Probably there are multiple rollback scenarios you'll test having multiple places where exceptions can occur and also maybe special behavior for some of those exceptions.</p>\n<p>An additional step would be to include in your CI/CD pipeline tools that automatically analyze code for common problems. I know Sonar detects this particular problem and many others.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688665817,"creation_date":1688646575,"answer_id":76628852,"question_id":74350974,"body_markdown":"You need a custom implementation of `TransactionInterceptor` intercepting all invocations of `@Transactional`-annotated methods and incrementing invocation count:\r\n```java\r\n@Configuration\r\npublic class AppConfiguration {\r\n\r\n  public static class MyTransactionInterceptor extends TransactionInterceptor {\r\n    //implement counter with e.g. LongAdder\r\n  }\r\n    \r\n  @Bean\r\n  public TransactionInterceptor transactionInterceptor(TransactionAttributeSource transactionAttributeSource) {\r\n    TransactionInterceptor interceptor = new MyTransactionInterceptor();\r\n    interceptor.setTransactionAttributeSource(transactionAttributeSource);\r\n    return interceptor;\r\n  }  \r\n}\r\n```\r\n\r\nAs soon as your method is package-private it&#39;s available from the test class residing in the same package under `/test` directory. In other words if your code looks like\r\n```java\r\npackage com.my.app;\r\n\r\n@Service\r\npublic class SomeService {\r\n\r\n  @Transactional\r\n  void foo() {\r\n   //...\r\n  }\r\n}\r\n```\r\nand the path to this class is `/project-root/src/main/java/com/my/app/SomeService.java`\r\nyou create a test class located in `/project-root/src/test/java/com/my/app/SomeServiceTest.java`\r\n(here we assume that you use standard Maven-based project structure):\r\n```java\r\npackage com.my.app;\r\n\r\n@SpringBootTest\r\nclass SomeServiceTest {\r\n  @Autowired\r\n  private SomeService service;\r\n  @Autowired\r\n  private ApplicationContext context;\r\n\r\n  @Test\r\n  void foo() {\r\n    //make sure there&#39;s no ongoing transaction  \r\n    assertFalse(TransactionSynchronizationManager.isActualTransactionActive());\r\n    long beforeCount = countTransactions();\r\n    service.foo(); //no compilation error as we are in the same package\r\n    long afterCount = countTransactions();\r\n    //this is going to fail as afterCount is the same as beforeCount\r\n    assertEquals(afterCount, beforeCount + 1);\r\n  }\r\n\r\n  private long countTransactions() {\r\n    return context.getBean(MyTransactionInterceptor.class).getTransactionCount();\r\n  }\r\n}\r\n```\r\n","title":"How to test if `@Transactional` annotation works as expected","body":"<p>You need a custom implementation of <code>TransactionInterceptor</code> intercepting all invocations of <code>@Transactional</code>-annotated methods and incrementing invocation count:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfiguration {\n\n  public static class MyTransactionInterceptor extends TransactionInterceptor {\n    //implement counter with e.g. LongAdder\n  }\n    \n  @Bean\n  public TransactionInterceptor transactionInterceptor(TransactionAttributeSource transactionAttributeSource) {\n    TransactionInterceptor interceptor = new MyTransactionInterceptor();\n    interceptor.setTransactionAttributeSource(transactionAttributeSource);\n    return interceptor;\n  }  \n}\n</code></pre>\n<p>As soon as your method is package-private it's available from the test class residing in the same package under <code>/test</code> directory. In other words if your code looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.app;\n\n@Service\npublic class SomeService {\n\n  @Transactional\n  void foo() {\n   //...\n  }\n}\n</code></pre>\n<p>and the path to this class is <code>/project-root/src/main/java/com/my/app/SomeService.java</code>\nyou create a test class located in <code>/project-root/src/test/java/com/my/app/SomeServiceTest.java</code>\n(here we assume that you use standard Maven-based project structure):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.my.app;\n\n@SpringBootTest\nclass SomeServiceTest {\n  @Autowired\n  private SomeService service;\n  @Autowired\n  private ApplicationContext context;\n\n  @Test\n  void foo() {\n    //make sure there's no ongoing transaction  \n    assertFalse(TransactionSynchronizationManager.isActualTransactionActive());\n    long beforeCount = countTransactions();\n    service.foo(); //no compilation error as we are in the same package\n    long afterCount = countTransactions();\n    //this is going to fail as afterCount is the same as beforeCount\n    assertEquals(afterCount, beforeCount + 1);\n  }\n\n  private long countTransactions() {\n    return context.getBean(MyTransactionInterceptor.class).getTransactionCount();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1688665817,"creation_date":1667844157,"question_id":74350974,"body_markdown":"I do have a case where the `@Transactional` annotation was used on a method with `package-private` scope. It turned out that the transaction does not work in this method. \r\n\r\nIs there a way to write a RED test to prove this? How can we test if a transaction was opened for a method, or if a rollback was made when an exception occurred. I thought about an INT test, but not sure how to deal with that.","title":"How to test if `@Transactional` annotation works as expected","body":"<p>I do have a case where the <code>@Transactional</code> annotation was used on a method with <code>package-private</code> scope. It turned out that the transaction does not work in this method.</p>\n<p>Is there a way to write a RED test to prove this? How can we test if a transaction was opened for a method, or if a rollback was made when an exception occurred. I thought about an INT test, but not sure how to deal with that.</p>\n"},{"tags":["java","jboss7.x","fedora"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1688671874,"post_id":76631340,"comment_id":135108945,"body_markdown":"Is ServiceA using 127.0.0.1 or &#39;localhost&#39; for ServiceB? In docker&#39;s default network mode (bridge) programs in the host can access ports exposed by or mapped to container(s) using that address but programs in a container can access _only_ ports in the same container not the host. See https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach https://stackoverflow.com/questions/31324981/ https://stackoverflow.com/questions/70006997/ https://stackoverflow.com/questions/46973456/ and many more.","body":"Is ServiceA using 127.0.0.1 or &#39;localhost&#39; for ServiceB? In docker&#39;s default network mode (bridge) programs in the host can access ports exposed by or mapped to container(s) using that address but programs in a container can access <i>only</i> ports in the same container not the host. See <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach\" title=\"from inside of a docker container how do i connect to the localhost of the mach\">stackoverflow.com/questions/24319662/&hellip;</a> <a href=\"https://stackoverflow.com/questions/31324981/\">stackoverflow.com/questions/31324981</a> <a href=\"https://stackoverflow.com/questions/70006997/\">stackoverflow.com/questions/70006997</a> <a href=\"https://stackoverflow.com/questions/46973456/\">stackoverflow.com/questions/46973456</a> and many more."},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1688692826,"post_id":76631340,"comment_id":135111452,"body_markdown":"Yes, that was it: I&#39;ve configured the host.docker.internal and now it works, thanks.\nPlease turn your comment into an answer and I&#39;ll be happy to accept it.","body":"Yes, that was it: I&#39;ve configured the host.docker.internal and now it works, thanks. Please turn your comment into an answer and I&#39;ll be happy to accept it."}],"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688665424,"creation_date":1688665424,"question_id":76631340,"body_markdown":"I&#39;ve got a Fedora 38 running:\r\n- ServiceA hosted in a dockerized JBoss EAP 7.3, listening on 0.0.0.0:8080\r\n- ServiceB on a plain JBoss EAP 7.3, listening on 0.0.0.0:8085\r\n\r\nThe two services have to communicate with each other, but while ServiceB can successfully call ServiceA, when ServiceA calls ServiceB it always receives a `java.net.ConnectException: Connection refused (Connection refused)`.\r\n\r\nI can successfully call ServiceB through Postman.\r\n\r\nI&#39;ve enabled the broader possible `public` interface in the standalone.xml of ServiceB, this is the relevant:\r\n```\r\n    &lt;interfaces&gt;\r\n        &lt;interface name=&quot;management&quot;&gt;\r\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n        &lt;interface name=&quot;public&quot;&gt;\r\n                &lt;inet-address value=&quot;${jboss.bind.address:0.0.0.0}&quot;/&gt;\r\n        &lt;/interface&gt;\r\n    &lt;/interfaces&gt;\r\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\r\n        &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8085}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9992}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\r\n        &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\r\n        &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\r\n        &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\r\n            &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\r\n        &lt;/outbound-socket-binding&gt;\r\n    &lt;/socket-binding-group&gt;\r\n```\r\n\r\nStill ServiceA is failing to call ServiceB.\r\n\r\nAs a test also stopped `firewalld`, but to no avail.\r\n\r\nI&#39;m clearly missing something, but I have run out of ideas.\r\nSuggestions?","title":"Connection refused between JBoss EAP 7.3 services in the same machine","body":"<p>I've got a Fedora 38 running:</p>\n<ul>\n<li>ServiceA hosted in a dockerized JBoss EAP 7.3, listening on 0.0.0.0:8080</li>\n<li>ServiceB on a plain JBoss EAP 7.3, listening on 0.0.0.0:8085</li>\n</ul>\n<p>The two services have to communicate with each other, but while ServiceB can successfully call ServiceA, when ServiceA calls ServiceB it always receives a <code>java.net.ConnectException: Connection refused (Connection refused)</code>.</p>\n<p>I can successfully call ServiceB through Postman.</p>\n<p>I've enabled the broader possible <code>public</code> interface in the standalone.xml of ServiceB, this is the relevant:</p>\n<pre><code>    &lt;interfaces&gt;\n        &lt;interface name=&quot;management&quot;&gt;\n            &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\n        &lt;/interface&gt;\n        &lt;interface name=&quot;public&quot;&gt;\n                &lt;inet-address value=&quot;${jboss.bind.address:0.0.0.0}&quot;/&gt;\n        &lt;/interface&gt;\n    &lt;/interfaces&gt;\n    &lt;socket-binding-group name=&quot;standard-sockets&quot; default-interface=&quot;public&quot; port-offset=&quot;${jboss.socket.binding.port-offset:0}&quot;&gt;\n        &lt;socket-binding name=&quot;ajp&quot; port=&quot;${jboss.ajp.port:8009}&quot;/&gt;\n        &lt;socket-binding name=&quot;http&quot; port=&quot;${jboss.http.port:8085}&quot;/&gt;\n        &lt;socket-binding name=&quot;https&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\n        &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9992}&quot;/&gt;\n        &lt;socket-binding name=&quot;management-https&quot; interface=&quot;management&quot; port=&quot;${jboss.management.https.port:9993}&quot;/&gt;\n        &lt;socket-binding name=&quot;txn-recovery-environment&quot; port=&quot;4712&quot;/&gt;\n        &lt;socket-binding name=&quot;txn-status-manager&quot; port=&quot;4713&quot;/&gt;\n        &lt;outbound-socket-binding name=&quot;mail-smtp&quot;&gt;\n            &lt;remote-destination host=&quot;localhost&quot; port=&quot;25&quot;/&gt;\n        &lt;/outbound-socket-binding&gt;\n    &lt;/socket-binding-group&gt;\n</code></pre>\n<p>Still ServiceA is failing to call ServiceB.</p>\n<p>As a test also stopped <code>firewalld</code>, but to no avail.</p>\n<p>I'm clearly missing something, but I have run out of ideas.\nSuggestions?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688981419,"post_id":76631184,"comment_id":135143118,"body_markdown":"Possibly related:  https://github.com/redhat-developer/vscode-java/issues/3191","body":"Possibly related:  <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"}],"owner":{"account_id":19103895,"reputation":19,"user_id":13951505,"display_name":"Brahvim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689239624,"answer_count":0,"score":0,"last_activity_date":1688665293,"creation_date":1688664033,"question_id":76631184,"body_markdown":"I have already tried doing what [this post](https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code) says (the solution completely sounded unrelated anyway), asked Bing for a lot of help on the issue, changed a lot of things in `settings.json`, re-installed all Java extensions *after* deleting them from `~/.vscode/extensions`, but I still can&#39;t figure out what went wrong.\r\n\r\nSettings I tried adding:\r\n```json\r\n&quot;java.project.sourcePaths&quot;: [\r\n        &quot;src&quot;\r\n    ],\r\n&quot;java.completion.enabled&quot;: true,\r\n&quot;java.configuration.runtimes&quot;: [ // This one comes from the post I mentioned.\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7/&quot;,\r\n            &quot;default&quot;: true\r\n        }\r\n    ],\r\n&quot;java.jdt.ls.java.home&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7&quot;,\r\n// ^^^ Still have this from the older days for some reason - didn&#39;t *add* it in explicitly.\r\n```\r\n\r\nThe issue? VSCode does not automatically type out the body of a method that&#39;s overriden, when given method signatures. *For example,*\r\n\r\n```java\r\nclass A {\r\n  protected void draw() {\r\n  }\r\n}\r\n\r\n// ...In some other file:\r\n\r\nclass B extends A {\r\n  draw // &lt;-- Upon pressing `Tab`, VSCode should automatically fill:\r\n\r\n  /*\r\n   * @Override\r\n   * protected void draw() {\r\n   * }\r\n   */\r\n\r\n  // ...But I see nothing of value in the autocompletions list.\r\n  // The only suggestion says &quot;double&quot; - must&#39;ve gotten fuzzy matched with &quot;draw&quot;.\r\n\r\n}\r\n```\r\n\r\nPS The class I extended **is** from the source code in my workspace.\r\n\r\nI&#39;ve also started a [GitHub issue](https://github.com/redhat-developer/vscode-java/issues/3186).\r\n\r\n*Thank you very much for any comments or help you may offer!*","title":"VSCode Java Automcomplete Issues","body":"<p>I have already tried doing what <a href=\"https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code\">this post</a> says (the solution completely sounded unrelated anyway), asked Bing for a lot of help on the issue, changed a lot of things in <code>settings.json</code>, re-installed all Java extensions <em>after</em> deleting them from <code>~/.vscode/extensions</code>, but I still can't figure out what went wrong.</p>\n<p>Settings I tried adding:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.sourcePaths&quot;: [\n        &quot;src&quot;\n    ],\n&quot;java.completion.enabled&quot;: true,\n&quot;java.configuration.runtimes&quot;: [ // This one comes from the post I mentioned.\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7/&quot;,\n            &quot;default&quot;: true\n        }\n    ],\n&quot;java.jdt.ls.java.home&quot;: &quot;/home/brahvim/java/jdk-17.0.7+7&quot;,\n// ^^^ Still have this from the older days for some reason - didn't *add* it in explicitly.\n</code></pre>\n<p>The issue? VSCode does not automatically type out the body of a method that's overriden, when given method signatures. <em>For example,</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n  protected void draw() {\n  }\n}\n\n// ...In some other file:\n\nclass B extends A {\n  draw // &lt;-- Upon pressing `Tab`, VSCode should automatically fill:\n\n  /*\n   * @Override\n   * protected void draw() {\n   * }\n   */\n\n  // ...But I see nothing of value in the autocompletions list.\n  // The only suggestion says &quot;double&quot; - must've gotten fuzzy matched with &quot;draw&quot;.\n\n}\n</code></pre>\n<p>PS The class I extended <strong>is</strong> from the source code in my workspace.</p>\n<p>I've also started a <a href=\"https://github.com/redhat-developer/vscode-java/issues/3186\" rel=\"nofollow noreferrer\">GitHub issue</a>.</p>\n<p><em>Thank you very much for any comments or help you may offer!</em></p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688665175,"creation_date":1688665175,"answer_id":76631312,"question_id":76502584,"body_markdown":"I&#39;ve done this in another way by using a json field and then converting to whatever object I needed in a mapping step.\r\n\r\nFor example, I might have an entity like this:\r\n\r\n    import io.r2dbc.postgresql.codec.Json;\r\n\r\n    @Table(&quot;table_name&quot;)\r\n    @Data\r\n    @Builder\r\n    public class MyObject {\r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private Json data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\nWith a DTO class like\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObjectDTO {\r\n\t    private Integer id;\r\n\t    private YourNestedObjectType data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\n    \r\n\r\nAnd then a mapping class that does something like this:\r\n\r\n\r\n    public MyObjectDTO to(MyObject myObj) {\r\n\t\ttry {\r\n            ObjectMapper objectMapper = \r\n\t\t\tYourNestedObjectType somethingNested = objectMapper.readValue(\r\n                myObj.getData().asString(), \r\n                YourNestedObjectType.class);\r\n    \r\n\t\t\treturn MyObjectDTO.builder()\r\n\t\t\t\t\t.id(myObj.getId())\r\n\t\t\t\t\t.data(somethingNested)\r\n\t\t\t\t\t.createdAt(myObj.getCreatedAt())\r\n\t\t\t\t\t.updatedAt(myObj.getUpdatedAt())\r\n\t\t\t\t\t.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\nwith the understanding that YourNestedObjectType can be a wrapper class that holds other classes like\r\n\r\n    public class YourNestedObjectType {\r\n       private String field1;\r\n\t   private List&lt;OtherObject&gt; otherObjects;\r\n    }","title":"Generic way to handle nested objects in Spring Data R2DBC","body":"<p>I've done this in another way by using a json field and then converting to whatever object I needed in a mapping step.</p>\n<p>For example, I might have an entity like this:</p>\n<pre><code>import io.r2dbc.postgresql.codec.Json;\n\n@Table(&quot;table_name&quot;)\n@Data\n@Builder\npublic class MyObject {\n    @Id\n    private Integer id;\n    private Json data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>With a DTO class like</p>\n<pre><code>@Data\n@Builder\npublic class MyObjectDTO {\n    private Integer id;\n    private YourNestedObjectType data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>And then a mapping class that does something like this:</p>\n<pre><code>public MyObjectDTO to(MyObject myObj) {\n    try {\n        ObjectMapper objectMapper = \n        YourNestedObjectType somethingNested = objectMapper.readValue(\n            myObj.getData().asString(), \n            YourNestedObjectType.class);\n\n        return MyObjectDTO.builder()\n                .id(myObj.getId())\n                .data(somethingNested)\n                .createdAt(myObj.getCreatedAt())\n                .updatedAt(myObj.getUpdatedAt())\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>with the understanding that YourNestedObjectType can be a wrapper class that holds other classes like</p>\n<pre><code>public class YourNestedObjectType {\n   private String field1;\n   private List&lt;OtherObject&gt; otherObjects;\n}\n</code></pre>\n"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688665175,"creation_date":1687123639,"question_id":76502584,"body_markdown":"In my Spring Boot Webflux project, I&#39;m using Spring Data R2DBC for reactive data access. The project involves fetching data from a relational database, where some tables have columns containing JSON data that represent nested objects. \r\n\r\nMy current approach is to fetch the data and then manually parse the JSON into my POJO using custom read converters. However, this process becomes cumbersome when I have multiple nested objects and differing structures.\r\n\r\nHere&#39;s a simplified example of what I&#39;ve been doing:\r\n\r\n```java\r\n@UtilityClass\r\npublic class ConverterHelper {\r\n    // ObjectMapper initialization\r\n\r\n    public static &lt;T&gt; T readJson(Row row, String field, Class&lt;T&gt; clazz) {\r\n        // implementation\r\n    }\r\n}\r\n\r\n@ReadingConverter\r\npublic class CustomReadingConverter implements Converter&lt;String, Object&gt; {\r\n    // implementation\r\n}\r\n\r\n@Configuration\r\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\r\n    // implementation\r\n}\r\n```\r\n\r\nThe question I have is: Is there a more generic way to handle this, similar to how Spring Data JPA automatically maps nested objects? I&#39;d prefer not to write custom converters every time I encounter this situation.\r\n\r\nI understand that JPA or Hibernate might handle these scenarios more gracefully, but those aren&#39;t suitable for my project as I need the non-blocking I/O provided by R2DBC. Is there a solution to this in the realm of Spring Data R2DBC, or am I confined to using custom converters for these complex/nested objects?\r\n\r\nAny suggestions or insights would be greatly appreciated.","title":"Generic way to handle nested objects in Spring Data R2DBC","body":"<p>In my Spring Boot Webflux project, I'm using Spring Data R2DBC for reactive data access. The project involves fetching data from a relational database, where some tables have columns containing JSON data that represent nested objects.</p>\n<p>My current approach is to fetch the data and then manually parse the JSON into my POJO using custom read converters. However, this process becomes cumbersome when I have multiple nested objects and differing structures.</p>\n<p>Here's a simplified example of what I've been doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic class ConverterHelper {\n    // ObjectMapper initialization\n\n    public static &lt;T&gt; T readJson(Row row, String field, Class&lt;T&gt; clazz) {\n        // implementation\n    }\n}\n\n@ReadingConverter\npublic class CustomReadingConverter implements Converter&lt;String, Object&gt; {\n    // implementation\n}\n\n@Configuration\npublic class R2dbcConfiguration extends AbstractR2dbcConfiguration {\n    // implementation\n}\n</code></pre>\n<p>The question I have is: Is there a more generic way to handle this, similar to how Spring Data JPA automatically maps nested objects? I'd prefer not to write custom converters every time I encounter this situation.</p>\n<p>I understand that JPA or Hibernate might handle these scenarios more gracefully, but those aren't suitable for my project as I need the non-blocking I/O provided by R2DBC. Is there a solution to this in the realm of Spring Data R2DBC, or am I confined to using custom converters for these complex/nested objects?</p>\n<p>Any suggestions or insights would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":0,"creation_date":1427998546,"post_id":5419039,"comment_id":47011248,"body_markdown":"`java.library.path` refers to *directory* not a *file*","body":"<code>java.library.path</code> refers to <i>directory</i> not a <i>file</i>"},{"owner":{"account_id":11695031,"reputation":3614,"user_id":8561957,"display_name":"fountainhead"},"score":1,"creation_date":1572955973,"post_id":5419039,"comment_id":103715854,"body_markdown":"As of Java 13, the [API doc](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()) says --- &quot;Property values may be cached during initialization or on first use. Setting a standard property after initialization using getProperties(), setProperties(Properties), setProperty(String, String), or clearProperty(String) may not have the desired effect&quot;.","body":"As of Java 13, the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">API doc</a> says --- &quot;Property values may be cached during initialization or on first use. Setting a standard property after initialization using getProperties(), setProperties(Properties), setProperty(String, String), or clearProperty(String) may not have the desired effect&quot;."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1300969868,"creation_date":1300969868,"answer_id":5419120,"question_id":5419039,"body_markdown":"Generally speaking, both approaches have the same net effect in that the system property `java.library.path` is set to the value `./lib`.\r\n\r\n*However*, some system properties are only evaluated at specific points in time, such as the startup of the JVM. *If* `java.library.path` is among those properties (and your experiment seems to indicate that), then using the second approach will have no noticeable effect except for returning the new value on future invocations of `getProperty()`.\r\n\r\nAs a rule of thumb, using the `-D` command line property works on all system properties, while `System.setProperty()` only works on properties that are not only checked during startup.","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>Generally speaking, both approaches have the same net effect in that the system property <code>java.library.path</code> is set to the value <code>./lib</code>.</p>\n\n<p><em>However</em>, some system properties are only evaluated at specific points in time, such as the startup of the JVM. <em>If</em> <code>java.library.path</code> is among those properties (and your experiment seems to indicate that), then using the second approach will have no noticeable effect except for returning the new value on future invocations of <code>getProperty()</code>.</p>\n\n<p>As a rule of thumb, using the <code>-D</code> command line property works on all system properties, while <code>System.setProperty()</code> only works on properties that are not only checked during startup.</p>\n"},{"tags":[],"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1308557805,"creation_date":1308557805,"answer_id":6408467,"question_id":5419039,"body_markdown":"Although it is not well documented, the `java.library.path` system property is a &quot;read-only&quot; property as far as the `System.loadLibrary()` method is concerned. This is a [reported bug][1] but it was closed by Sun as opposed to getting fixed. The problem is that the JVM&#39;s ClassLoader reads this property once at startup and then caches it, not allowing us to change it programatically afterward. The line `System.setProperty(&quot;java.library.path&quot;, anyVal);` will have no effect except for `System.getProperty()` method calls.\r\n\r\nLuckily, someone [posted a workaround on the Sun forums][2]. Unfortunately, that link no longer works but I did find [the code on another source][3]. Here is the code you can use to work around not being able to set the `java.library.path` system property:\r\n\r\n    public static void addDir(String s) throws IOException {\r\n        try {\r\n            // This enables the java.library.path to be modified at runtime\r\n            // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176\r\n            //\r\n            Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;);\r\n            field.setAccessible(true);\r\n            String[] paths = (String[])field.get(null);\r\n            for (int i = 0; i &lt; paths.length; i++) {\r\n                if (s.equals(paths[i])) {\r\n                    return;\r\n                }\r\n            }\r\n            String[] tmp = new String[paths.length+1];\r\n            System.arraycopy(paths,0,tmp,0,paths.length);\r\n            tmp[paths.length] = s;\r\n            field.set(null,tmp);\r\n            System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\r\n        } catch (IllegalAccessException e) {\r\n            throw new IOException(&quot;Failed to get permissions to set library path&quot;);\r\n        } catch (NoSuchFieldException e) {\r\n            throw new IOException(&quot;Failed to get field handle to set library path&quot;);\r\n        }\r\n    }\r\n\r\n**WARNING:** This may not work on all platforms and/or JVMs.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4280189\r\n  [2]: http://forums.sun.com/thread.jspa?threadID=707176\r\n  [3]: http://nicklothian.com/blog/2008/11/19/modify-javalibrarypath-at-runtime/","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>Although it is not well documented, the <code>java.library.path</code> system property is a &quot;read-only&quot; property as far as the <code>System.loadLibrary()</code> method is concerned. This is a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4280189\" rel=\"nofollow noreferrer\">reported bug</a> but it was closed by Sun as opposed to getting fixed. The problem is that the JVM's ClassLoader reads this property once at startup and then caches it, not allowing us to change it programatically afterward. The line <code>System.setProperty(&quot;java.library.path&quot;, anyVal);</code> will have no effect except for <code>System.getProperty()</code> method calls.</p>\n<p>Luckily, someone <a href=\"http://forums.sun.com/thread.jspa?threadID=707176\" rel=\"nofollow noreferrer\">posted a workaround on the Sun forums</a>. Unfortunately, that link no longer works but I did find <a href=\"http://nicklothian.com/blog/2008/11/19/modify-javalibrarypath-at-runtime/\" rel=\"nofollow noreferrer\">the code on another source</a>. Here is the code you can use to work around not being able to set the <code>java.library.path</code> system property:</p>\n<pre><code>public static void addDir(String s) throws IOException {\n    try {\n        // This enables the java.library.path to be modified at runtime\n        // From a Sun engineer at http://forums.sun.com/thread.jspa?threadID=707176\n        //\n        Field field = ClassLoader.class.getDeclaredField(&quot;usr_paths&quot;);\n        field.setAccessible(true);\n        String[] paths = (String[])field.get(null);\n        for (int i = 0; i &lt; paths.length; i++) {\n            if (s.equals(paths[i])) {\n                return;\n            }\n        }\n        String[] tmp = new String[paths.length+1];\n        System.arraycopy(paths,0,tmp,0,paths.length);\n        tmp[paths.length] = s;\n        field.set(null,tmp);\n        System.setProperty(&quot;java.library.path&quot;, System.getProperty(&quot;java.library.path&quot;) + File.pathSeparator + s);\n    } catch (IllegalAccessException e) {\n        throw new IOException(&quot;Failed to get permissions to set library path&quot;);\n    } catch (NoSuchFieldException e) {\n        throw new IOException(&quot;Failed to get field handle to set library path&quot;);\n    }\n}\n</code></pre>\n<p><strong>WARNING:</strong> This may not work on all platforms and/or JVMs.</p>\n"},{"tags":[],"owner":{"account_id":4808882,"reputation":459,"user_id":3882948,"display_name":"luyifan"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1406518582,"creation_date":1406518582,"answer_id":24988095,"question_id":5419039,"body_markdown":"you can add three lines \r\n\r\n     System.setProperty(&quot;java.library.path&quot;, &quot;/path/to/libs&quot; );\r\n     Field fieldSysPath = ClassLoader.class.getDeclaredField( &quot;sys_paths&quot; );\r\n     fieldSysPath.setAccessible( true );\r\n     fieldSysPath.set( null, null );\r\n\r\nand also import java.lang.reflect.Field \r\nIt&#39;s ok to solve the problem \r\n\r\n\r\n","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>you can add three lines </p>\n\n<pre><code> System.setProperty(\"java.library.path\", \"/path/to/libs\" );\n Field fieldSysPath = ClassLoader.class.getDeclaredField( \"sys_paths\" );\n fieldSysPath.setAccessible( true );\n fieldSysPath.set( null, null );\n</code></pre>\n\n<p>and also import java.lang.reflect.Field \nIt's ok to solve the problem </p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637938409,"creation_date":1637937406,"answer_id":70126075,"question_id":5419039,"body_markdown":"This is an addendum to this answer to Jesse Webb&#39;s amazing answer above: https://stackoverflow.com/a/6408467/257299\r\n\r\nFor Java 17:\r\n\r\n    import jdk.internal.loader.NativeLibraries;\r\n    final Class&lt;?&gt;[] declClassArr = NativeLibraries.class.getDeclaredClasses();\r\n    final Class&lt;?&gt; libraryPaths =\r\n        Arrays.stream(declClassArr)\r\n            .filter(klass -&gt; klass.getSimpleName().equals(&quot;LibraryPaths&quot;))\r\n            .findFirst()\r\n            .get();\r\n    final Field field = libraryPaths.getDeclaredField(&quot;USER_PATHS&quot;);\r\n    final MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Field.class, MethodHandles.lookup());\r\n    final VarHandle varHandle = lookup.findVarHandle(Field.class, &quot;modifiers&quot;, int.class);\r\n    varHandle.set(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\nSince package `jdk.internal.loader` from module `java.base` is not normally accessible, you will need to add &quot;exports&quot; and &quot;opens&quot; to **both** the compiler and JVM runtime args.\r\n\r\n    --add-exports=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n\r\nRead more here:\r\n* `--add-exports`: https://stackoverflow.com/a/53647605/257299\r\n* `--add-opens`: https://stackoverflow.com/a/61663667/257299\r\n* Remove `final` modifier on Java12+: https://stackoverflow.com/a/56043252/257299","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>This is an addendum to this answer to Jesse Webb's amazing answer above: <a href=\"https://stackoverflow.com/a/6408467/257299\">https://stackoverflow.com/a/6408467/257299</a></p>\n<p>For Java 17:</p>\n<pre><code>import jdk.internal.loader.NativeLibraries;\nfinal Class&lt;?&gt;[] declClassArr = NativeLibraries.class.getDeclaredClasses();\nfinal Class&lt;?&gt; libraryPaths =\n    Arrays.stream(declClassArr)\n        .filter(klass -&gt; klass.getSimpleName().equals(&quot;LibraryPaths&quot;))\n        .findFirst()\n        .get();\nfinal Field field = libraryPaths.getDeclaredField(&quot;USER_PATHS&quot;);\nfinal MethodHandles.Lookup lookup = MethodHandles.privateLookupIn(Field.class, MethodHandles.lookup());\nfinal VarHandle varHandle = lookup.findVarHandle(Field.class, &quot;modifiers&quot;, int.class);\nvarHandle.set(field, field.getModifiers() &amp; ~Modifier.FINAL);\n</code></pre>\n<p>Since package <code>jdk.internal.loader</code> from module <code>java.base</code> is not normally accessible, you will need to add &quot;exports&quot; and &quot;opens&quot; to <strong>both</strong> the compiler and JVM runtime args.</p>\n<pre><code>--add-exports=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/jdk.internal.loader=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n</code></pre>\n<p>Read more here:</p>\n<ul>\n<li><code>--add-exports</code>: <a href=\"https://stackoverflow.com/a/53647605/257299\">https://stackoverflow.com/a/53647605/257299</a></li>\n<li><code>--add-opens</code>: <a href=\"https://stackoverflow.com/a/61663667/257299\">https://stackoverflow.com/a/61663667/257299</a></li>\n<li>Remove <code>final</code> modifier on Java12+: <a href=\"https://stackoverflow.com/a/56043252/257299\">https://stackoverflow.com/a/56043252/257299</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688664819,"creation_date":1678724466,"answer_id":75724448,"question_id":5419039,"body_markdown":"In the Temurin JDK setting `sys_paths` to `null` doesn&#39;t work. It leads to a `NullPointerException`.\r\n\r\nThe following works in Temurin:\r\n\r\n```\r\nMethod initLibraryPaths = ClassLoader.class.getDeclaredMethod(&quot;initLibraryPaths&quot;);\r\ninitLibraryPaths.setAccessible(true);\r\ninitLibraryPaths.invoke(null);\r\n```\r\n","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>In the Temurin JDK setting <code>sys_paths</code> to <code>null</code> doesn't work. It leads to a <code>NullPointerException</code>.</p>\n<p>The following works in Temurin:</p>\n<pre><code>Method initLibraryPaths = ClassLoader.class.getDeclaredMethod(&quot;initLibraryPaths&quot;);\ninitLibraryPaths.setAccessible(true);\ninitLibraryPaths.invoke(null);\n</code></pre>\n"}],"owner":{"account_id":47175,"reputation":6248,"user_id":139594,"accept_rate":96,"display_name":"czuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80067,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":5419120,"answer_count":5,"score":55,"last_activity_date":1688664819,"creation_date":1300969523,"question_id":5419039,"body_markdown":"I load an external library that is placed in `./lib`. Are these two solutions to set the java.library.path equivalent?\r\n\r\n1. Set path in console when executing jar:\r\n\r\n        java -Djava.library.path=./lib -jar myApplication.jar\r\n\r\n2. Set path in the code before loading library:\r\n\r\n        System.setProperty(&quot;java.library.path&quot;, &quot;./lib&quot;);\r\n\r\nIf they _are equivalent_, why in the second solution can Java not find the library while the first one is ok?\r\n\r\nIf _not_, is there a way the set the path in the code?","title":"Is -Djava.library.path=... equivalent to System.setProperty(&quot;java.library.path&quot;, ...)","body":"<p>I load an external library that is placed in <code>./lib</code>. Are these two solutions to set the java.library.path equivalent?</p>\n\n<ol>\n<li><p>Set path in console when executing jar:</p>\n\n<pre><code>java -Djava.library.path=./lib -jar myApplication.jar\n</code></pre></li>\n<li><p>Set path in the code before loading library:</p>\n\n<pre><code>System.setProperty(\"java.library.path\", \"./lib\");\n</code></pre></li>\n</ol>\n\n<p>If they <em>are equivalent</em>, why in the second solution can Java not find the library while the first one is ok?</p>\n\n<p>If <em>not</em>, is there a way the set the path in the code?</p>\n"},{"tags":["java","function","for-loop"],"comments":[{"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"score":1,"creation_date":1368634508,"post_id":16570091,"comment_id":23808738,"body_markdown":"Have you tried to write it yourself? It&#39;s not that hard","body":"Have you tried to write it yourself? It&#39;s not that hard"},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1441116937,"post_id":16570091,"comment_id":52542110,"body_markdown":"Some nice solutions are also in this question: http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java","body":"Some nice solutions are also in this question: <a href=\"http://stackoverflow.com/questions/371026/shortest-way-to-get-an-iterator-over-a-range-of-integers-in-java\" title=\"shortest way to get an iterator over a range of integers in java\">stackoverflow.com/questions/371026/&hellip;</a>"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1525841773,"post_id":16570091,"comment_id":87508930,"body_markdown":"For a range of any `Comparable` s see [this](https://stackoverflow.com/a/50245738/3992939) answer","body":"For a range of any <code>Comparable</code> s see <a href=\"https://stackoverflow.com/a/50245738/3992939\">this</a> answer"}],"answers":[{"tags":[],"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1368634517,"creation_date":1368634517,"answer_id":16570113,"question_id":16570091,"body_markdown":"Um... `for (int i = 0; i &lt; k; i++)`? You don&#39;t have to write enhanced for loops all day, you know, although they are cool...\r\n\r\nAnd just for the sake of argument:\r\n\r\n`for (int i : range(k))`  char count: 22\r\n\r\n`for (int i = 0; i &lt; k; i++)` char count: 27\r\n\r\nDiscounting the implementation of `range`, it is pseudo even.","title":"For loop - like Python range function","body":"<p>Um... <code>for (int i = 0; i &lt; k; i++)</code>? You don't have to write enhanced for loops all day, you know, although they are cool...</p>\n\n<p>And just for the sake of argument:</p>\n\n<p><code>for (int i : range(k))</code>  char count: 22</p>\n\n<p><code>for (int i = 0; i &lt; k; i++)</code> char count: 27</p>\n\n<p>Discounting the implementation of <code>range</code>, it is pseudo even.</p>\n"},{"tags":[],"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1368634981,"creation_date":1368634540,"answer_id":16570122,"question_id":16570091,"body_markdown":"There&#39;s no Java equivalent to the `range` function, but there is an [enhanced for-loop][1]:\r\n\r\n    for (String s : strings) {\r\n        // Do stuff\r\n    }\r\n\r\nYou could also roll your own `range` function, if you&#39;re really attached to the syntax, but it seems a little silly.\r\n\r\n    public static int[] range(int length) {\r\n        int[] r = new int[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            r[i] = i;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    // ...\r\n\r\n    String s;\r\n    for (int i : range(arrayOfStrings.length)) {\r\n        s = arrayOfStrings[i];\r\n        // Do stuff\r\n    }\r\n\r\n\r\n  [1]: https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with","title":"For loop - like Python range function","body":"<p>There's no Java equivalent to the <code>range</code> function, but there is an <a href=\"https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with\" rel=\"nofollow\">enhanced for-loop</a>:</p>\n\n<pre><code>for (String s : strings) {\n    // Do stuff\n}\n</code></pre>\n\n<p>You could also roll your own <code>range</code> function, if you're really attached to the syntax, but it seems a little silly.</p>\n\n<pre><code>public static int[] range(int length) {\n    int[] r = new int[length];\n    for (int i = 0; i &lt; length; i++) {\n        r[i] = i;\n    }\n    return r;\n}\n\n// ...\n\nString s;\nfor (int i : range(arrayOfStrings.length)) {\n    s = arrayOfStrings[i];\n    // Do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368637854,"creation_date":1368634622,"answer_id":16570145,"question_id":16570091,"body_markdown":"If you really, really want to obtain an equivalent result in Java, you&#39;ll have to do some more work:\r\n\r\n    public int[] range(int start, int end, int step) {\r\n        int n = (int) Math.ceil((end-start)/(double)step);\r\n        int[] arange = new int[n];\r\n        for (int i = 0; i &lt; n; i++)\r\n            arange[i] = i*step+start;\r\n        return arange;\r\n    }\r\n\r\nNow `range(0, 4, 1)` will return the expected value, just like Python: `[0, 1, 2, 3]`. Sadly there isn&#39;t a simpler way in Java, it&#39;s _not_ a very expressive language, like Python.","title":"For loop - like Python range function","body":"<p>If you really, really want to obtain an equivalent result in Java, you'll have to do some more work:</p>\n\n<pre><code>public int[] range(int start, int end, int step) {\n    int n = (int) Math.ceil((end-start)/(double)step);\n    int[] arange = new int[n];\n    for (int i = 0; i &lt; n; i++)\n        arange[i] = i*step+start;\n    return arange;\n}\n</code></pre>\n\n<p>Now <code>range(0, 4, 1)</code> will return the expected value, just like Python: <code>[0, 1, 2, 3]</code>. Sadly there isn't a simpler way in Java, it's <em>not</em> a very expressive language, like Python.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368634682,"creation_date":1368634682,"answer_id":16570169,"question_id":16570091,"body_markdown":"Its not available that true. But you make a static method and use it -\r\n\r\n\r\n    public static int[] range(int index){\r\n        int[] arr = new int[index];\r\n        for(int i=0;i&lt;index;i++){\r\n            arr[i]=i;\r\n        }\r\n        return arr;\r\n    }","title":"For loop - like Python range function","body":"<p>Its not available that true. But you make a static method and use it -</p>\n\n<pre><code>public static int[] range(int index){\n    int[] arr = new int[index];\n    for(int i=0;i&lt;index;i++){\n        arr[i]=i;\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1941613,"reputation":5357,"user_id":1747706,"accept_rate":100,"display_name":"Zutty"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1478158471,"creation_date":1368634686,"answer_id":16570171,"question_id":16570091,"body_markdown":"Use [Apache Commons Lang][1]:\r\n\r\n    new IntRange(0, 3).toArray();\r\n\r\nI wouldn&#39;t normally advocate introducing external libraries for something so simple, but Apache Commons are so widely used that you probably already have it in your project!\r\n\r\nEdit: I know its not necessarily as simple or fast as a for loop, but its a nice bit of syntactic sugar that makes the intent clear.\r\n\r\nEdit: See @zengr&#39;s [answer](https://stackoverflow.com/a/31867991/231917) using `IntStream` in Java 8 .\r\n\r\n[1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html#toArray()","title":"For loop - like Python range function","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/math/IntRange.html#toArray()\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>:</p>\n\n<pre><code>new IntRange(0, 3).toArray();\n</code></pre>\n\n<p>I wouldn't normally advocate introducing external libraries for something so simple, but Apache Commons are so widely used that you probably already have it in your project!</p>\n\n<p>Edit: I know its not necessarily as simple or fast as a for loop, but its a nice bit of syntactic sugar that makes the intent clear.</p>\n\n<p>Edit: See @zengr's <a href=\"https://stackoverflow.com/a/31867991/231917\">answer</a> using <code>IntStream</code> in Java 8 .</p>\n"},{"tags":[],"owner":{"account_id":145851,"reputation":20697,"user_id":355931,"accept_rate":88,"display_name":"Barranka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368634756,"creation_date":1368634756,"answer_id":16570192,"question_id":16570091,"body_markdown":"As far as I know, there&#39;s not an equivalent function in java. But you can write it yourself:\r\n\r\n    public static int[] range(int n) {\r\n        int[] ans = new int[n];\r\n        int i;\r\n        for(i = 0; i &lt; n; i++) {\r\n            ans[i] = i;\r\n        }\r\n        return ans;\r\n    }\r\n","title":"For loop - like Python range function","body":"<p>As far as I know, there's not an equivalent function in java. But you can write it yourself:</p>\n\n<pre><code>public static int[] range(int n) {\n    int[] ans = new int[n];\n    int i;\n    for(i = 0; i &lt; n; i++) {\n        ans[i] = i;\n    }\n    return ans;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1368638105,"creation_date":1368635778,"answer_id":16570509,"question_id":16570091,"body_markdown":"Without an external library, you can do the following. It will consume significantly less memory for big ranges than the current accepted answer, as there is no array created.\r\n\r\nHave a class like this:\r\n\r\n\tclass Range implements Iterable&lt;Integer&gt; {\r\n\r\n\t\tprivate int limit;\r\n\t\t\r\n\t\tpublic Range(int limit) {\r\n\t\t\tthis.limit = limit;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\tfinal int max = limit;\r\n\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\r\n\t\t\t\tprivate int current = 0;\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn current &lt; max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\tif (hasNext()) {\r\n\t\t\t\t\t\treturn current++;\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new NoSuchElementException(&quot;Range reached the end&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void remove() {\r\n\t\t\t\t\tthrow new UnsupportedOperationException(&quot;Can&#39;t remove values from a Range&quot;);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nand you can simply use it like this:\r\n\r\n\t\tfor (int i : new Range(5)) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\r\nyou can even reuse it:\r\n\r\n\t\tRange range5 = new Range(5);\r\n\t\t\r\n\t\tfor (int i : range5) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t\tfor (int i : range5) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\r\n---\r\nAs [Henry Keiter][1] pointed out in the comment below, we could add following method to the `Range` class (or anywhere else):\r\n\r\n    public static Range range(int max) {\r\n        return new Range(max);\r\n    }\r\n\r\nand then, in the other classes we can \r\n\r\n    import static package.name.Range.range;\r\n\r\nand simply call\r\n\r\n    for (int i : range(5)) {\r\n        System.out.println(i);\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/2069350/henry-keiter","title":"For loop - like Python range function","body":"<p>Without an external library, you can do the following. It will consume significantly less memory for big ranges than the current accepted answer, as there is no array created.</p>\n\n<p>Have a class like this:</p>\n\n<pre><code>class Range implements Iterable&lt;Integer&gt; {\n\n    private int limit;\n\n    public Range(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public Iterator&lt;Integer&gt; iterator() {\n        final int max = limit;\n        return new Iterator&lt;Integer&gt;() {\n\n            private int current = 0;\n\n            @Override\n            public boolean hasNext() {\n                return current &lt; max;\n            }\n\n            @Override\n            public Integer next() {\n                if (hasNext()) {\n                    return current++;   \n                } else {\n                    throw new NoSuchElementException(\"Range reached the end\");\n                }\n            }\n\n            @Override\n            public void remove() {\n                throw new UnsupportedOperationException(\"Can't remove values from a Range\");\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>and you can simply use it like this:</p>\n\n<pre><code>    for (int i : new Range(5)) {\n        System.out.println(i);\n    }\n</code></pre>\n\n<p>you can even reuse it:</p>\n\n<pre><code>    Range range5 = new Range(5);\n\n    for (int i : range5) {\n        System.out.println(i);\n    }\n    for (int i : range5) {\n        System.out.println(i);\n    }\n</code></pre>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/users/2069350/henry-keiter\">Henry Keiter</a> pointed out in the comment below, we could add following method to the <code>Range</code> class (or anywhere else):</p>\n\n<pre><code>public static Range range(int max) {\n    return new Range(max);\n}\n</code></pre>\n\n<p>and then, in the other classes we can </p>\n\n<pre><code>import static package.name.Range.range;\n</code></pre>\n\n<p>and simply call</p>\n\n<pre><code>for (int i : range(5)) {\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1577660793,"creation_date":1438908493,"answer_id":31867991,"question_id":16570091,"body_markdown":"Java 8 (2014) has added [IntStream][1] (similar to apache commons IntRange), so you don&#39;t need external lib now.\r\n\r\n```java\r\nimport java.util.stream.IntStream; \r\n\r\nIntStream.range(0, 3).forEachOrdered(n -&gt; {\r\n    System.out.println(n);\r\n});\r\n```\r\n\r\n`forEach` can be used in place of `forEachOrdered` too if order is not important.\r\n\r\n`IntStream.range(0, 3).parallel()` can be used for loops to run in parallel\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html","title":"For loop - like Python range function","body":"<p>Java 8 (2014) has added <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">IntStream</a> (similar to apache commons IntRange), so you don't need external lib now.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.IntStream; \n\nIntStream.range(0, 3).forEachOrdered(n -&gt; {\n    System.out.println(n);\n});\n</code></pre>\n\n<p><code>forEach</code> can be used in place of <code>forEachOrdered</code> too if order is not important.</p>\n\n<p><code>IntStream.range(0, 3).parallel()</code> can be used for loops to run in parallel</p>\n"},{"tags":[],"owner":{"account_id":19699664,"reputation":1,"user_id":14422751,"display_name":"Anvith "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606608523,"creation_date":1606608523,"answer_id":65055712,"question_id":16570091,"body_markdown":"What you can do to substitute the range in python in java can be done with the following code. NOTE: I am not going off of your code, I am just writing a small piece of code and showing it to you.\r\n\r\nin python you would do.. . . \r\n\r\n    if -2 &lt;= x &lt;= 10:\r\n         print(x) \r\n\r\nin java you would substitute this range and do. . .. \r\n\r\n    if(x &gt;= -2 &amp;&amp; x &lt;= 10){\r\n    System.out.println(&quot;x&quot;)\r\n    }\r\n\r\nBy doing the above code in java, you don&#39;t need a range, but you have the\r\n-2 &lt;= x &lt;=10 range and split it into x &gt;= -2 and x &lt;= 10. It means the same thing, but the one I explained in java may take the compiler a longer time to read. So if you are using python go with the former&#39;s code format, and if you are using java, use the latter&#39;s code format. \r\n","title":"For loop - like Python range function","body":"<p>What you can do to substitute the range in python in java can be done with the following code. NOTE: I am not going off of your code, I am just writing a small piece of code and showing it to you.</p>\n<p>in python you would do.. . .</p>\n<pre><code>if -2 &lt;= x &lt;= 10:\n     print(x) \n</code></pre>\n<p>in java you would substitute this range and do. . ..</p>\n<pre><code>if(x &gt;= -2 &amp;&amp; x &lt;= 10){\nSystem.out.println(&quot;x&quot;)\n}\n</code></pre>\n<p>By doing the above code in java, you don't need a range, but you have the\n-2 &lt;= x &lt;=10 range and split it into x &gt;= -2 and x &lt;= 10. It means the same thing, but the one I explained in java may take the compiler a longer time to read. So if you are using python go with the former's code format, and if you are using java, use the latter's code format.</p>\n"}],"owner":{"account_id":2644820,"reputation":780,"user_id":2287751,"accept_rate":100,"display_name":"Kacper Lubisz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88955,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"accepted_answer_id":31867991,"answer_count":9,"score":38,"last_activity_date":1688664673,"creation_date":1368634430,"question_id":16570091,"body_markdown":"I was wondering if in Java there is a function like the python range function.\r\n\r\n    range(4)\r\n and it would return\r\n\r\n    [0,1,2,3]\r\n\r\nThis was an easy way to make for enhanced loops. It would be great to do this in Java because it would make for loops a lot easier. Is this possible?","title":"For loop - like Python range function","body":"<p>I was wondering if in Java there is a function like the python range function.</p>\n\n<pre><code>range(4)\n</code></pre>\n\n<p>and it would return</p>\n\n<pre><code>[0,1,2,3]\n</code></pre>\n\n<p>This was an easy way to make for enhanced loops. It would be great to do this in Java because it would make for loops a lot easier. Is this possible?</p>\n"},{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc","r2dbc-postgresql"],"comments":[{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641329484,"post_id":70584887,"comment_id":124776282,"body_markdown":"We tried with sysout as well in each converter as well, but those are not getting printed . so i think they are not getting called. please clarify","body":"We tried with sysout as well in each converter as well, but those are not getting printed . so i think they are not getting called. please clarify"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1641385940,"post_id":70584887,"comment_id":124790184,"body_markdown":"`The issue is existing json values becomes null, whenever trying to update the record`i have no idea what you mean by this. Also `The new value is inserted as json along with null object as well.` i have no idea what you mean by this either.","body":"<code>The issue is existing json values becomes null, whenever trying to update the record</code>i have no idea what you mean by this. Also <code>The new value is inserted as json along with null object as well.</code> i have no idea what you mean by this either."},{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1641419755,"post_id":70584887,"comment_id":124803410,"body_markdown":"could you please share your complete code if possible?. Also have you looked at this sample -&gt; https://github.com/hantsy/spring-r2dbc-sample/blob/master/data-r2dbc-repositories/src/main/java/com/example/demo/Post.java","body":"could you please share your complete code if possible?. Also have you looked at this sample -&gt; <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/data-r2dbc-repositories/src/main/java/com/example/demo/Post.java\" rel=\"nofollow noreferrer\">github.com/hantsy/spring-r2dbc-sample/blob/master/&hellip;</a>"},{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641579154,"post_id":70584887,"comment_id":124849584,"body_markdown":"@Toerktumlare  - I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it .","body":"@Toerktumlare  - I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it ."},{"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"score":0,"creation_date":1641579176,"post_id":70584887,"comment_id":124849591,"body_markdown":"@Harry -  I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it .","body":"@Harry -  I am trying to use custom converter to convert from Json to list or vice -versa. I have defined customer converter for that and in entity defined json column as List (check enity class). The issue while reading the data List object is always contain null even if DB column contains data. So, when trying to update this, only new data gets inserted to DB and not appends it ."},{"owner":{"account_id":2427398,"reputation":4736,"user_id":2119041,"accept_rate":100,"display_name":"NikolaB"},"score":0,"creation_date":1641803871,"post_id":70584887,"comment_id":124892775,"body_markdown":"@user1111880 You can create a wrapper class which has a property: private List&lt;SeasonsJsonDto&gt; seasonsDtl; Then create a custom converter from/to MyWrapperClass/Json. That should work but your JSON will have to have a property named seasonsDtl which will hold a list of SeasonsJsonDto","body":"@user1111880 You can create a wrapper class which has a property: private List&lt;SeasonsJsonDto&gt; seasonsDtl; Then create a custom converter from/to MyWrapperClass/Json. That should work but your JSON will have to have a property named seasonsDtl which will hold a list of SeasonsJsonDto"}],"answers":[{"tags":[],"owner":{"account_id":11390194,"reputation":119,"user_id":8350542,"display_name":"mys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687881466,"creation_date":1687881466,"answer_id":76566695,"question_id":70584887,"body_markdown":"I think the answer here might be a hint.\r\n\r\nhttps://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017\r\n\r\nHow about wrapping a List&lt;?&gt; in a outer class?\r\nI think it&#39;s because of Java&#39;s Generic Type Erasure, so that can not find the exact converter.","title":"Spring r2dbc custom Json converter not working","body":"<p>I think the answer here might be a hint.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-r2dbc/issues/298#issuecomment-586965017</a></p>\n<p>How about wrapping a List&lt;?&gt; in a outer class?\nI think it's because of Java's Generic Type Erasure, so that can not find the exact converter.</p>\n"},{"tags":[],"owner":{"account_id":4191531,"reputation":261,"user_id":3434042,"display_name":"BeLEEver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688664337,"creation_date":1688664337,"answer_id":76631221,"question_id":70584887,"body_markdown":"I know this answer is late, but I feel like I should add another perspective on how to do this. I&#39;ve done this in another way by using a json field and then converting to whatever object I needed in a mapping step.\r\n\r\nFor example, I might have an entity like this:\r\n\r\n    import io.r2dbc.postgresql.codec.Json;\r\n\r\n    @Table(&quot;table_name&quot;)\r\n    @Data\r\n    @Builder\r\n    public class MyObject {\r\n\t    @Id\r\n\t    private Integer id;\r\n\t    private Json data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\nWith a DTO class like\r\n\r\n    @Data\r\n    @Builder\r\n    public class MyObjectDTO {\r\n\t    private Integer id;\r\n\t    private List&lt;YourObjectType&gt; data;\r\n\t    private LocalDateTime createdAt;\r\n\t    private LocalDateTime updatedAt;\r\n    }\r\n    \r\n\r\nAnd then a mapping class that does something like this:\r\n\r\n\r\n    public MyObjectDTO to(MyObject myObj) {\r\n\t\ttry {\r\n            ObjectMapper objectMapper = \r\n\t\t\tList&lt;YourObjectType&gt; yourList = objectMapper.readValue(\r\n                myObj.getData().asString(), \r\n                new TypeReference&lt;List&lt;YourObjectType&gt;&gt;() {});\r\n    \r\n\t\t\treturn MyObjectDTO.builder()\r\n\t\t\t\t\t.id(myObj.getId())\r\n\t\t\t\t\t.data(yourList)\r\n\t\t\t\t\t.createdAt(myObj.getCreatedAt())\r\n\t\t\t\t\t.updatedAt(myObj.getUpdatedAt())\r\n\t\t\t\t\t.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"Spring r2dbc custom Json converter not working","body":"<p>I know this answer is late, but I feel like I should add another perspective on how to do this. I've done this in another way by using a json field and then converting to whatever object I needed in a mapping step.</p>\n<p>For example, I might have an entity like this:</p>\n<pre><code>import io.r2dbc.postgresql.codec.Json;\n\n@Table(&quot;table_name&quot;)\n@Data\n@Builder\npublic class MyObject {\n    @Id\n    private Integer id;\n    private Json data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>With a DTO class like</p>\n<pre><code>@Data\n@Builder\npublic class MyObjectDTO {\n    private Integer id;\n    private List&lt;YourObjectType&gt; data;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>And then a mapping class that does something like this:</p>\n<pre><code>public MyObjectDTO to(MyObject myObj) {\n    try {\n        ObjectMapper objectMapper = \n        List&lt;YourObjectType&gt; yourList = objectMapper.readValue(\n            myObj.getData().asString(), \n            new TypeReference&lt;List&lt;YourObjectType&gt;&gt;() {});\n\n        return MyObjectDTO.builder()\n                .id(myObj.getId())\n                .data(yourList)\n                .createdAt(myObj.getCreatedAt())\n                .updatedAt(myObj.getUpdatedAt())\n                .build();\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1124229,"reputation":443,"user_id":1111880,"accept_rate":31,"display_name":"user1111880"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688664337,"creation_date":1641329409,"question_id":70584887,"body_markdown":"I am trying to insert json into json column using spring webflux with postgres sql. I have created custom converter for reading and writing. The issue is existing json values becomes null, whenever trying to update the record. The new value is inserted as json along with null object as well.\r\nPlease let me know where i am doing it wrong\r\n\r\n\r\n    @Configuration\r\n    @AllArgsConstructor\r\n    @EnableR2dbcRepositories(&quot;com.gohunt.hd.hunts.entity&quot;)\r\n    public class ReactivePostgresConfig extends AbstractR2dbcConfiguration {\r\n    private final ObjectMapper objectMapper;\r\n    \r\n    @Bean\r\n    @Override\r\n    public R2dbcCustomConversions r2dbcCustomConversions() {\r\n    \tSystem.out.println(&quot;r2dbcCustomConversions ++++++++++++++++++&quot;);\r\n        List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n        converters.add(new JsonToMapConverter(objectMapper));\r\n        converters.add(new MapToJsonConverter(objectMapper));\r\n        return new R2dbcCustomConversions(getStoreConversions(), converters);\r\n    }\r\n\r\n\t@Override\r\n\tpublic ConnectionFactory connectionFactory() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null; // configured via properties file\r\n\t}\r\n \r\n\r\n    @Slf4j\r\n    @ReadingConverter\r\n    @AllArgsConstructor\r\n    public class JsonToMapConverter implements Converter&lt;Json, List&lt;SeasonsJsonDto&gt;&gt; {\r\n\t\r\n\tprivate final ObjectMapper objectMapper;\r\n\t@Override\r\n\tpublic List&lt;SeasonsJsonDto&gt; convert(Json json) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;json +++++++++++++ &quot;+json);\r\n\t\t\t//return AppJsonUtil.parseMessageAsList(json.toString(), SeasonsJsonDto.class);\r\n\t\t\treturn Arrays.asList(objectMapper.readValue(json.toString(), SeasonsJsonDto[].class));\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Problem while parsing JSON: {}&quot;, json, e);\r\n\t\t}\r\n\t\treturn new ArrayList&lt;SeasonsJsonDto&gt;();\r\n\t}\r\n\r\n}\r\n\r\n    @Slf4j\r\n    @WritingConverter\r\n    @AllArgsConstructor\r\n    public class MapToJsonConverter implements Converter&lt;List&lt;SeasonsJsonDto&gt;, Json&gt; {\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Override\r\n    public Json convert(List&lt;SeasonsJsonDto&gt; source) {\r\n        try {\r\n           return Json.of(objectMapper.writeValueAsString(source));\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Error occurred while serializing map to JSON: {}&quot;, source, e);\r\n        }\r\n        return Json.of(&quot;&quot;);\r\n    }\r\n\r\n}\r\n\r\n    @Table(&quot;aaaa&quot;)\r\n    @Data\r\n    public class HuntsDetail extends BaseEntity implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@Column(&quot;id&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(&quot;hunter_id&quot;)\r\n    \tprivate Long hunterId;\r\n    \r\n    \t@Column(&quot;hunts_collection_id&quot;)\r\n    \tprivate String huntCollectionId;\r\n    \r\n    \t@Column(&quot;folder_id&quot;)\r\n    \tprivate Long folderId;\r\n    \r\n    \t@Column(&quot;hunts_coverimgUrl&quot;)\r\n    \tprivate String huntsCoverImgUrl;\r\n    \r\n    \t@Column(&quot;seasons_dtl&quot;)\r\n    \tprivate List&lt;SeasonsJsonDto&gt; seasonsDtl; // json datatype in DB  using above converters to get it as List or json while reading/writing.\r\n    \r\n    }","title":"Spring r2dbc custom Json converter not working","body":"<p>I am trying to insert json into json column using spring webflux with postgres sql. I have created custom converter for reading and writing. The issue is existing json values becomes null, whenever trying to update the record. The new value is inserted as json along with null object as well.\nPlease let me know where i am doing it wrong</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableR2dbcRepositories(&quot;com.gohunt.hd.hunts.entity&quot;)\npublic class ReactivePostgresConfig extends AbstractR2dbcConfiguration {\nprivate final ObjectMapper objectMapper;\n\n@Bean\n@Override\npublic R2dbcCustomConversions r2dbcCustomConversions() {\n    System.out.println(&quot;r2dbcCustomConversions ++++++++++++++++++&quot;);\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\n    converters.add(new JsonToMapConverter(objectMapper));\n    converters.add(new MapToJsonConverter(objectMapper));\n    return new R2dbcCustomConversions(getStoreConversions(), converters);\n}\n\n@Override\npublic ConnectionFactory connectionFactory() {\n    // TODO Auto-generated method stub\n    return null; // configured via properties file\n}\n\n\n@Slf4j\n@ReadingConverter\n@AllArgsConstructor\npublic class JsonToMapConverter implements Converter&lt;Json, List&lt;SeasonsJsonDto&gt;&gt; {\n\nprivate final ObjectMapper objectMapper;\n@Override\npublic List&lt;SeasonsJsonDto&gt; convert(Json json) {\n    try {\n        System.out.println(&quot;json +++++++++++++ &quot;+json);\n        //return AppJsonUtil.parseMessageAsList(json.toString(), SeasonsJsonDto.class);\n        return Arrays.asList(objectMapper.readValue(json.toString(), SeasonsJsonDto[].class));\n        \n    } catch (Exception e) {\n        log.error(&quot;Problem while parsing JSON: {}&quot;, json, e);\n    }\n    return new ArrayList&lt;SeasonsJsonDto&gt;();\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Slf4j\n@WritingConverter\n@AllArgsConstructor\npublic class MapToJsonConverter implements Converter&lt;List&lt;SeasonsJsonDto&gt;, Json&gt; {\nprivate final ObjectMapper objectMapper;\n\n@Override\npublic Json convert(List&lt;SeasonsJsonDto&gt; source) {\n    try {\n       return Json.of(objectMapper.writeValueAsString(source));\n    } catch (JsonProcessingException e) {\n        log.error(&quot;Error occurred while serializing map to JSON: {}&quot;, source, e);\n    }\n    return Json.of(&quot;&quot;);\n}\n</code></pre>\n<p>}</p>\n<pre><code>@Table(&quot;aaaa&quot;)\n@Data\npublic class HuntsDetail extends BaseEntity implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(&quot;id&quot;)\n    private Long id;\n\n    @Column(&quot;hunter_id&quot;)\n    private Long hunterId;\n\n    @Column(&quot;hunts_collection_id&quot;)\n    private String huntCollectionId;\n\n    @Column(&quot;folder_id&quot;)\n    private Long folderId;\n\n    @Column(&quot;hunts_coverimgUrl&quot;)\n    private String huntsCoverImgUrl;\n\n    @Column(&quot;seasons_dtl&quot;)\n    private List&lt;SeasonsJsonDto&gt; seasonsDtl; // json datatype in DB  using above converters to get it as List or json while reading/writing.\n\n}\n</code></pre>\n"},{"tags":["java","c++","user-interface"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1688556761,"post_id":76619375,"comment_id":135088357,"body_markdown":"To call C/C++ stuff from inside Java is only halfway straight forward as long as this stuff is not a GUI component. The integration of GUI elements written in something else then Java requires also the integration of the GUI framework underneath that GUI component  but most of these frameworks refuse to be integrated into another.","body":"To call C/C++ stuff from inside Java is only halfway straight forward as long as this stuff is not a GUI component. The integration of GUI elements written in something else then Java requires also the integration of the GUI framework underneath that GUI component  but most of these frameworks refuse to be integrated into another."},{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688560306,"post_id":76619375,"comment_id":135089181,"body_markdown":"So are you planning to use your own code with Java JNI to use GLFW in Java from scratch, or use helpful libraries like LWJGL or JOGL?","body":"So are you planning to use your own code with Java JNI to use GLFW in Java from scratch, or use helpful libraries like LWJGL or JOGL?"},{"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"score":0,"creation_date":1688654133,"post_id":76619375,"comment_id":135105592,"body_markdown":"@newQOpenGLWidget  I am using my own code which is actually stored as DLL file, I am not sure what JAVA JNI is and I am not using any JAVA libraries like the ones you mentioned","body":"@newQOpenGLWidget  I am using my own code which is actually stored as DLL file, I am not sure what JAVA JNI is and I am not using any JAVA libraries like the ones you mentioned"},{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1688668712,"post_id":76619375,"comment_id":135108399,"body_markdown":"&#39;I am using my own code which is actually stored as DLL file&#39; ; sorry, I&#39;m a bit flustered. Do you want to directly use that DLL, with all its functions and classes, in Java?","body":"&#39;I am using my own code which is actually stored as DLL file&#39; ; sorry, I&#39;m a bit flustered. Do you want to directly use that DLL, with all its functions and classes, in Java?"},{"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"score":0,"creation_date":1688708413,"post_id":76619375,"comment_id":135112645,"body_markdown":"@newQOpenGLWidget  Yes I am directly calling the DLL files for calling the functions and classes in my JAVA code snippet, using JNA not JNI after researching what JNI I just want to know whether it is possible for GLFW to create a window while calling it in a JAVA code.","body":"@newQOpenGLWidget  Yes I am directly calling the DLL files for calling the functions and classes in my JAVA code snippet, using JNA not JNI after researching what JNI I just want to know whether it is possible for GLFW to create a window while calling it in a JAVA code."}],"owner":{"account_id":25590492,"reputation":1,"user_id":19367336,"display_name":"Alan Linto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688664167,"creation_date":1688552436,"question_id":76619375,"body_markdown":"How can I add GLFW in JAVA Swing GUI like JFrame since I am trying to create a simple 3D/2D modeler using some JButtons? I already wrote a simple 2d + 3d model builder using OpenGL (Legacy Version) using C++ in Visual Studio 2022 and used GLFW API for displays and inputs. I know that I can create a linked library to call my renderer(C++) functions in JAVA.\r\n\r\nApparently I couldn&#39;t find any resources on how to do so, all I know is GLFW might only work within Visual C++ compilers but when I tried using the gcc/g++ (GNU) compilers on Visual Studio Code but no GLFW windows seems to be popping up while running the same code. I don&#39;t know whether I need to use another GUI API like OpenGUI to create it instead of JAVA GUI.","title":"Displaying GLFW Windows in JAVA GUI","body":"<p>How can I add GLFW in JAVA Swing GUI like JFrame since I am trying to create a simple 3D/2D modeler using some JButtons? I already wrote a simple 2d + 3d model builder using OpenGL (Legacy Version) using C++ in Visual Studio 2022 and used GLFW API for displays and inputs. I know that I can create a linked library to call my renderer(C++) functions in JAVA.</p>\n<p>Apparently I couldn't find any resources on how to do so, all I know is GLFW might only work within Visual C++ compilers but when I tried using the gcc/g++ (GNU) compilers on Visual Studio Code but no GLFW windows seems to be popping up while running the same code. I don't know whether I need to use another GUI API like OpenGUI to create it instead of JAVA GUI.</p>\n"},{"tags":["java","itext7","licensing"],"answers":[{"tags":[],"owner":{"account_id":1957172,"reputation":88,"user_id":1759923,"display_name":"Matthias Keisse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688664137,"creation_date":1688664137,"answer_id":76631201,"question_id":76630925,"body_markdown":"It looks like your license requires the usage of the remote reporting module iText provides. \r\n\r\nYou can add it to your project using Maven, or download the jar and manually include it. It can be found here: https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote\r\n\r\nMore information on volume and remote reporting licenses can be found here:\r\nhttps://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs\r\n\r\nPlease make sure you&#39;re using the correct licensing-base and licensing-remote versions for your version of iText. \r\n\r\nA compatibility matrix can be found here:\r\nhttps://kb.itextpdf.com/home/it7kb/compatibility-matrix","title":"REMOTE_REPORTING_MISSING_REMOTE_MODULE Itext 7.2.2","body":"<p>It looks like your license requires the usage of the remote reporting module iText provides.</p>\n<p>You can add it to your project using Maven, or download the jar and manually include it. It can be found here: <a href=\"https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.itextpdf.licensing/licensing-remote</a></p>\n<p>More information on volume and remote reporting licenses can be found here:\n<a href=\"https://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/faq/volume-counter-faqs</a></p>\n<p>Please make sure you're using the correct licensing-base and licensing-remote versions for your version of iText.</p>\n<p>A compatibility matrix can be found here:\n<a href=\"https://kb.itextpdf.com/home/it7kb/compatibility-matrix\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/compatibility-matrix</a></p>\n"}],"owner":{"account_id":16037219,"reputation":25,"user_id":11574594,"display_name":"Cemail Sn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76631201,"answer_count":1,"score":0,"last_activity_date":1688664137,"creation_date":1688661655,"question_id":76630925,"body_markdown":"I am trying to consume an **itext 7.2 license** from java, however when loading it, it throws an exception of type: REMOTE_REPORTING_MISSING_REMOTE_MODULE\r\n\r\nI have a .json file in C and I use **licensing-base** in **version 4.1.0**, please if someone could tell me what I might be doing wrong or if I&#39;m missing something to do. Before doing a test with a temporary license and everything ok but when I use the paid license it throws an exception and doesn&#39;t let me continue.\r\n\r\nIn advance thanks for the help.","title":"REMOTE_REPORTING_MISSING_REMOTE_MODULE Itext 7.2.2","body":"<p>I am trying to consume an <strong>itext 7.2 license</strong> from java, however when loading it, it throws an exception of type: REMOTE_REPORTING_MISSING_REMOTE_MODULE</p>\n<p>I have a .json file in C and I use <strong>licensing-base</strong> in <strong>version 4.1.0</strong>, please if someone could tell me what I might be doing wrong or if I'm missing something to do. Before doing a test with a temporary license and everything ok but when I use the paid license it throws an exception and doesn't let me continue.</p>\n<p>In advance thanks for the help.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":402,"is_accepted":false,"score":401,"last_activity_date":1483785825,"creation_date":1292332932,"answer_id":4439612,"question_id":4439595,"body_markdown":"You can use   \r\n\r\nJDK &gt; 1.5\r\n---------   \r\n\r\n    Arrays.copyOfRange(Object[] src, int from, int to)\r\n\r\n[Javadoc][1]  \r\n\r\n\r\nJDK &lt;= 1.5\r\n-----------\r\n\r\n    System.arraycopy(Object[] src, int srcStartIndex, Object[] dest, int dstStartIndex, int lengthOfCopiedIndices); \r\n\r\n[Javadoc][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html","title":"How to create a sub array from another array in Java?","body":"<p>You can use   </p>\n\n<h2>JDK > 1.5</h2>\n\n<pre><code>Arrays.copyOfRange(Object[] src, int from, int to)\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\">Javadoc</a>  </p>\n\n<h2>JDK &lt;= 1.5</h2>\n\n<pre><code>System.arraycopy(Object[] src, int srcStartIndex, Object[] dest, int dstStartIndex, int lengthOfCopiedIndices); \n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html\">Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":32058,"reputation":6692,"user_id":88485,"accept_rate":100,"display_name":"Gerco Dries"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1411205431,"creation_date":1292332951,"answer_id":4439615,"question_id":4439595,"body_markdown":"Yes, it&#39;s called [System.arraycopy(Object, int, Object, int, int)](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)) .\r\n\r\nIt&#39;s still going to perform a loop somewhere though, unless this can get optimized into something like `REP STOSW` by the JIT (in which case the loop is inside the CPU).\r\n\r\n    int[] src = new int[] {1, 2, 3, 4, 5};\r\n    int[] dst = new int[3];\r\n\r\n    System.arraycopy(src, 1, dst, 0, 3); // Copies 2, 3, 4 into dst","title":"How to create a sub array from another array in Java?","body":"<p>Yes, it's called <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"noreferrer\">System.arraycopy(Object, int, Object, int, int)</a> .</p>\n\n<p>It's still going to perform a loop somewhere though, unless this can get optimized into something like <code>REP STOSW</code> by the JIT (in which case the loop is inside the CPU).</p>\n\n<pre><code>int[] src = new int[] {1, 2, 3, 4, 5};\nint[] dst = new int[3];\n\nSystem.arraycopy(src, 1, dst, 0, 3); // Copies 2, 3, 4 into dst\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":146,"is_accepted":false,"score":146,"last_activity_date":1292334485,"creation_date":1292334485,"answer_id":4439809,"question_id":4439595,"body_markdown":"`Arrays.copyOfRange(..)` was added in Java 1.6. So perhaps you don&#39;t have the latest version. If it&#39;s not possible to upgrade, look at `System.arraycopy(..)`","title":"How to create a sub array from another array in Java?","body":"<p><code>Arrays.copyOfRange(..)</code> was added in Java 1.6. So perhaps you don't have the latest version. If it's not possible to upgrade, look at <code>System.arraycopy(..)</code></p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292334650,"creation_date":1292334650,"answer_id":4439833,"question_id":4439595,"body_markdown":"I you are using java prior to version 1.6 use `System.arraycopy()` instead. Or upgrade your environment.","title":"How to create a sub array from another array in Java?","body":"<p>I you are using java prior to version 1.6 use <code>System.arraycopy()</code> instead. Or upgrade your environment.</p>\n"},{"tags":[],"owner":{"account_id":55005,"reputation":1117,"user_id":164680,"display_name":"Milan Jaros"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1292335233,"creation_date":1292334698,"answer_id":4439841,"question_id":4439595,"body_markdown":"    int newArrayLength = 30; \r\n\r\n    int[] newArray = new int[newArrayLength];\r\n\r\n    System.arrayCopy(oldArray, 0, newArray, 0, newArray.length);\r\n\r\n","title":"How to create a sub array from another array in Java?","body":"<pre><code>int newArrayLength = 30; \n\nint[] newArray = new int[newArrayLength];\n\nSystem.arrayCopy(oldArray, 0, newArray, 0, newArray.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236375,"reputation":494,"user_id":503825,"display_name":"Merky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292334746,"creation_date":1292334746,"answer_id":4439851,"question_id":4439595,"body_markdown":"The code is correct so I&#39;m guessing that you are using an older JDK.  The javadoc for that method says it has been there since 1.6.  At the command line type:\r\n\r\n    java -version\r\n\r\nI&#39;m guessing that you are not running 1.6","title":"How to create a sub array from another array in Java?","body":"<p>The code is correct so I'm guessing that you are using an older JDK.  The javadoc for that method says it has been there since 1.6.  At the command line type:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>I'm guessing that you are not running 1.6</p>\n"},{"tags":[],"owner":{"account_id":4140184,"reputation":816,"user_id":3395760,"display_name":"Alessandro Muzzi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433178844,"creation_date":1433178844,"answer_id":30579320,"question_id":4439595,"body_markdown":"Using Apache [ArrayUtils][1] downloadable at [this link][2] you can easy use the method \r\n\r\n    subarray(boolean[] array, int startIndexInclusive, int endIndexExclusive) \r\n&quot;boolean&quot; is only an example, there are methods for all primitives java types\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"How to create a sub array from another array in Java?","body":"<p>Using Apache <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/ArrayUtils.html\" rel=\"noreferrer\">ArrayUtils</a> downloadable at <a href=\"https://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"noreferrer\">this link</a> you can easy use the method </p>\n\n<pre><code>subarray(boolean[] array, int startIndexInclusive, int endIndexExclusive) \n</code></pre>\n\n<p>\"boolean\" is only an example, there are methods for all primitives java types</p>\n"},{"tags":[],"owner":{"account_id":2460326,"reputation":2469,"user_id":5175180,"accept_rate":76,"display_name":"enator"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1581232153,"creation_date":1542655302,"answer_id":53381282,"question_id":4439595,"body_markdown":"**JDK &gt;= 1.8**\r\n\r\nI agree with all the answers above. There is also a nice way with Java 8 Streams:\r\n\r\n    int[] subArr = IntStream.range(startInclusive, endExclusive)\r\n                            .map(i -&gt; src[i])\r\n                            .toArray();\r\n\r\nThe benefit about this is, it can be useful for many different types of &quot;src&quot; array and helps to improve writing pipeline operations on the stream.\r\n\r\nNot particular about this question, but for example, if the source array was `double[]` and we wanted to take `average()` of the sub-array:\r\n\r\n    double avg = IntStream.range(startInclusive, endExclusive)\r\n                        .mapToDouble(index -&gt; src[index])\r\n                        .average()\r\n                        .getAsDouble();","title":"How to create a sub array from another array in Java?","body":"<p><strong>JDK >= 1.8</strong></p>\n\n<p>I agree with all the answers above. There is also a nice way with Java 8 Streams:</p>\n\n<pre><code>int[] subArr = IntStream.range(startInclusive, endExclusive)\n                        .map(i -&gt; src[i])\n                        .toArray();\n</code></pre>\n\n<p>The benefit about this is, it can be useful for many different types of \"src\" array and helps to improve writing pipeline operations on the stream.</p>\n\n<p>Not particular about this question, but for example, if the source array was <code>double[]</code> and we wanted to take <code>average()</code> of the sub-array:</p>\n\n<pre><code>double avg = IntStream.range(startInclusive, endExclusive)\n                    .mapToDouble(index -&gt; src[index])\n                    .average()\n                    .getAsDouble();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677599136,"creation_date":1677599136,"answer_id":75594283,"question_id":4439595,"body_markdown":"For Java &gt;= 1.8\r\n\r\n    Arrays.stream(array, incIndex, exclusiveIndex)","title":"How to create a sub array from another array in Java?","body":"<p>For Java &gt;= 1.8</p>\n<pre><code>Arrays.stream(array, incIndex, exclusiveIndex)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24585581,"reputation":21,"user_id":18490137,"display_name":"Hsabes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688663931,"creation_date":1688663931,"answer_id":76631177,"question_id":4439595,"body_markdown":"OP said they didn&#39;t want a for loop but in case anyone does:\r\n\r\n```\r\nint[] subArr = new int[end - start];\r\n\r\nfor (int i = 0; i &lt; end - start; i++){\r\n    subArr[i] = sourceArr[i + start];\r\n}\r\n```\r\n\r\n","title":"How to create a sub array from another array in Java?","body":"<p>OP said they didn't want a for loop but in case anyone does:</p>\n<pre><code>int[] subArr = new int[end - start];\n\nfor (int i = 0; i &lt; end - start; i++){\n    subArr[i] = sourceArr[i + start];\n}\n</code></pre>\n"}],"owner":{"account_id":690697,"reputation":3773,"user_id":539411,"accept_rate":0,"display_name":"Gain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524652,"favorite_count":0,"down_vote_count":3,"up_vote_count":372,"answer_count":10,"score":369,"last_activity_date":1688663931,"creation_date":1292332850,"question_id":4439595,"body_markdown":"How to create a sub-array from another array? Is there a method that takes the indexes from the first array such as:\r\n\r\n    methodName(object array, int start, int end)\r\n\r\nI don&#39;t want to go over making loops and making my program suffer.\r\n\r\nI keep getting error:\r\n\r\n&gt; cannot find symbol method copyOfRange(int[],int,int)\r\n\r\nThis is my code:\r\n\r\n    import java.util.*;\r\n\r\n    public class testing \r\n    {\r\n        public static void main(String [] arg) \r\n        {\t\r\n            int[] src = new int[] {1, 2, 3, 4, 5}; \r\n            int b1[] = Arrays.copyOfRange(src, 0, 2);\r\n        }\r\n    }\r\n","title":"How to create a sub array from another array in Java?","body":"<p>How to create a sub-array from another array? Is there a method that takes the indexes from the first array such as:</p>\n\n<pre><code>methodName(object array, int start, int end)\n</code></pre>\n\n<p>I don't want to go over making loops and making my program suffer.</p>\n\n<p>I keep getting error:</p>\n\n<blockquote>\n  <p>cannot find symbol method copyOfRange(int[],int,int)</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>import java.util.*;\n\npublic class testing \n{\n    public static void main(String [] arg) \n    {   \n        int[] src = new int[] {1, 2, 3, 4, 5}; \n        int b1[] = Arrays.copyOfRange(src, 0, 2);\n    }\n}\n</code></pre>\n"},{"tags":["java","cucumber","testng","appium"],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663689,"creation_date":1684162373,"question_id":76255312,"body_markdown":"I am running some automation scripts using Appium, TestNG, and Cucumber in Java. I was just wondering if there was a way to set the value of the noRest cap at the feature file level. \r\n\r\nI have to jump between users a lot of my testing. So I currently have noRest=true but that adds a lot of time having to login in for every scenario. I was hoping there is a way to only have the app reset between feature files so that all scenarios in a feature file run in the same app session using the same user.\r\n\r\nIs that a possibility?\r\n\r\nNote: Appium 2.0 and Java 11","title":"Can I set noReset Appium Capability at the test level","body":"<p>I am running some automation scripts using Appium, TestNG, and Cucumber in Java. I was just wondering if there was a way to set the value of the noRest cap at the feature file level.</p>\n<p>I have to jump between users a lot of my testing. So I currently have noRest=true but that adds a lot of time having to login in for every scenario. I was hoping there is a way to only have the app reset between feature files so that all scenarios in a feature file run in the same app session using the same user.</p>\n<p>Is that a possibility?</p>\n<p>Note: Appium 2.0 and Java 11</p>\n"},{"tags":["java","javafx","line","rsyntaxtextarea"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1688666927,"post_id":76631154,"comment_id":135108044,"body_markdown":"Why is this marked JavaFX?  [RSyntaxTextArea](https://bobbylight.github.io/RSyntaxTextArea/) is a Swing control.","body":"Why is this marked JavaFX?  <a href=\"https://bobbylight.github.io/RSyntaxTextArea/\" rel=\"nofollow noreferrer\">RSyntaxTextArea</a> is a Swing control."}],"owner":{"account_id":27101024,"reputation":11,"user_id":20647584,"display_name":"TRKirua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663669,"creation_date":1688663669,"question_id":76631154,"body_markdown":"In my code I&#39;m using RSyntaxTextArea and RTextScrollPane but the line numbers of the RTextScrollPane are not perfectly aligned with the lines of the RSyntaxTextArea.\r\n\r\nHere is my code :\r\n```\r\nRSyntaxTextArea tabTextArea = new RSyntaxTextArea();\r\ntabTextArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\r\ntabTextArea.setCodeFoldingEnabled(true);\r\ntabTextArea.setAntiAliasingEnabled(true);\r\n\r\nRTextScrollPane tabScrollPane = new RTextScrollPane(tabTextArea);\r\ntabScrollPane.setLineNumbersEnabled(true);\r\ntabScrollPane.getGutter().setSpacingBetweenLineNumbersAndFoldIndicator(10);\r\n```\r\n\r\nI&#39;ve also changed the font in another part of the code, here are the parts where I made these :\r\n\r\nFor the RTextScrollPane (fontText is &quot;OCR A Extended&quot;) :\r\n```\r\n((RTextScrollPane) (((SwingNode) tab.getContent()).getContent())).getGutter().setLineNumberFont(new Font(fontText, Font.PLAIN, 14));\r\n```\r\n\r\nFor the RSyntaxTextArea (OCR_FONT_FAMILY is same as fontText) :\r\n```\r\nrSyntaxTextArea.setFont(new Font(OCR_FONT_FAMILY, Font.PLAIN, 14));\r\n```\r\n\r\nIt&#39;s the same font and same size but it&#39;s not aligned. Can someone help me ?\r\nAnd an important important information is that if I do not set theses font it&#39;s perfectly aligned.\r\n\r\nThanks !","title":"Line alignment RSyntaxTextArea and RTextScrollPane","body":"<p>In my code I'm using RSyntaxTextArea and RTextScrollPane but the line numbers of the RTextScrollPane are not perfectly aligned with the lines of the RSyntaxTextArea.</p>\n<p>Here is my code :</p>\n<pre><code>RSyntaxTextArea tabTextArea = new RSyntaxTextArea();\ntabTextArea.setSyntaxEditingStyle(SyntaxConstants.SYNTAX_STYLE_JAVA);\ntabTextArea.setCodeFoldingEnabled(true);\ntabTextArea.setAntiAliasingEnabled(true);\n\nRTextScrollPane tabScrollPane = new RTextScrollPane(tabTextArea);\ntabScrollPane.setLineNumbersEnabled(true);\ntabScrollPane.getGutter().setSpacingBetweenLineNumbersAndFoldIndicator(10);\n</code></pre>\n<p>I've also changed the font in another part of the code, here are the parts where I made these :</p>\n<p>For the RTextScrollPane (fontText is &quot;OCR A Extended&quot;) :</p>\n<pre><code>((RTextScrollPane) (((SwingNode) tab.getContent()).getContent())).getGutter().setLineNumberFont(new Font(fontText, Font.PLAIN, 14));\n</code></pre>\n<p>For the RSyntaxTextArea (OCR_FONT_FAMILY is same as fontText) :</p>\n<pre><code>rSyntaxTextArea.setFont(new Font(OCR_FONT_FAMILY, Font.PLAIN, 14));\n</code></pre>\n<p>It's the same font and same size but it's not aligned. Can someone help me ?\nAnd an important important information is that if I do not set theses font it's perfectly aligned.</p>\n<p>Thanks !</p>\n"},{"tags":["java","file","swing","linked-list","file-handling"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688671239,"post_id":76631104,"comment_id":135108832,"body_markdown":"Using a LinkedList is the wrong approach. Related data should be stored together, not as a separate item in the List. The data can be read from the file and added directly to the TableModel. When you want to save the data you get the data from the TableModel and write it to a file. I would suggest that the file should contain one row of data for each &quot;Contact&quot;. So maybe the name, phone, email is separated by a special character, like a &quot;,&quot;. Then you read a row of data, parse it and then add the row to the table model. See: https://stackoverflow.com/a/43197145/131872 for the most basic example.","body":"Using a LinkedList is the wrong approach. Related data should be stored together, not as a separate item in the List. The data can be read from the file and added directly to the TableModel. When you want to save the data you get the data from the TableModel and write it to a file. I would suggest that the file should contain one row of data for each &quot;Contact&quot;. So maybe the name, phone, email is separated by a special character, like a &quot;,&quot;. Then you read a row of data, parse it and then add the row to the table model. See: <a href=\"https://stackoverflow.com/a/43197145/131872\">stackoverflow.com/a/43197145/131872</a> for the most basic example."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688671249,"post_id":76631104,"comment_id":135108836,"body_markdown":"A more advanced design would be to create a custom &quot;Contact&quot; object and a custom &quot;ContactTableModel&quot; for your data. Then when you read the data from the file you would create a Contact object and add it to the ContactTableModel. See the example at the start of [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) to get you started.","body":"A more advanced design would be to create a custom &quot;Contact&quot; object and a custom &quot;ContactTableModel&quot; for your data. Then when you read the data from the file you would create a Contact object and add it to the ContactTableModel. See the example at the start of <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> to get you started."}],"owner":{"account_id":25834219,"reputation":1,"user_id":19570844,"display_name":"Franco Luis Rosel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688663211,"creation_date":1688663211,"question_id":76631104,"body_markdown":"I have a question to ask. To cut this short, I have a problem regarding writing the elements to a file and then load it to the JFrame me and my classmates are working with. The simple draft of the program is good so far, and the writing of the contents to the file by just using a user-defined function is also great. But I want to try using LinkedList to write the contents using the elements I provided (Because we also need to delete the contents one by one).\r\n\r\nIn the draft I tried using a 2-dim LinkedList to make sure that each of my index have 3 elements inside, namely &quot;name&quot;, &quot;phone&quot;, and &quot;email&quot;. Also to organize the data in their respective order, I used JTable, when I used it without LinkedList, it&#39;s ok, but as I used the LinkedList, it throws an error. Also the thrown error is called &quot;IndexOutofBoundsException&quot;, I think the error is in the method called &quot;loadFileContents&quot;, but idk how to fix it.\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.io.*;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\nimport java.util.LinkedList;\r\n\r\npublic class FileContentApp {\r\n    private static final String FILE_PATH = &quot;contacts.txt&quot;;\r\n    private static DefaultTableModel tableModel;\r\n    public static LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts = new LinkedList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;Contact File&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 300);\r\n        frame.getContentPane().setLayout(new BorderLayout());\r\n        frame.getContentPane().setBackground(Color.WHITE);\r\n\r\n        JPanel topPanel = new JPanel(new BorderLayout());\r\n        topPanel.setBackground(Color.WHITE);\r\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\r\n        buttonPanel.setBackground(Color.WHITE);\r\n        JLabel titleLabel = new JLabel(&quot;Contacts&quot;);\r\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        topPanel.add(titleLabel, BorderLayout.NORTH);\r\n        JButton addButton = new JButton(&quot;+&quot;);\r\n        addButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                showDialog(frame);\r\n            }\r\n        });\r\n        JButton settingButton = new JButton(&quot;...&quot;);\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(settingButton);\r\n        topPanel.add(buttonPanel, BorderLayout.EAST);\r\n        frame.getContentPane().add(topPanel, BorderLayout.NORTH);\r\n\r\n        JPanel contentPanel = new JPanel(new BorderLayout());\r\n        contentPanel.setBackground(Color.WHITE);\r\n        JTable table = createTable();\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        contentPanel.add(scrollPane, BorderLayout.CENTER);\r\n        frame.getContentPane().add(contentPanel, BorderLayout.CENTER);\r\n\r\n        loadFileContents();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private static JTable createTable() {\r\n        tableModel = new DefaultTableModel();\r\n        tableModel.addColumn(&quot;Name&quot;);\r\n        tableModel.addColumn(&quot;Phone&quot;);\r\n        tableModel.addColumn(&quot;Email&quot;);\r\n        JTable table = new JTable(tableModel);\r\n        table.setGridColor(Color.LIGHT_GRAY);\r\n        table.setShowGrid(true);\r\n        return table;\r\n    }\r\n\r\n    private static void showDialog(JFrame parentFrame) {\r\n    LinkedList&lt;String&gt; listContact = new LinkedList&lt;&gt;();\r\n    JDialog dialog = new JDialog(parentFrame, &quot;Add Contact&quot;, true);\r\n    dialog.setSize(300, 200);\r\n    dialog.setLayout(new BorderLayout());\r\n    dialog.setLocationRelativeTo(parentFrame);\r\n\r\n    JPanel inputPanel = new JPanel(new GridLayout(3, 2));\r\n    inputPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    JLabel nameLabel = new JLabel(&quot;Name : &quot;);\r\n    JTextField nameField = new JTextField();\r\n    JLabel phoneLabel = new JLabel(&quot;Phone : &quot;);\r\n    JTextField phoneField = new JTextField();\r\n    JLabel emailLabel = new JLabel(&quot;Email : &quot;);\r\n    JTextField emailField = new JTextField();\r\n\r\n    inputPanel.add(nameLabel);\r\n    inputPanel.add(nameField);\r\n    inputPanel.add(phoneLabel);\r\n    inputPanel.add(phoneField);\r\n    inputPanel.add(emailLabel);\r\n    inputPanel.add(emailField);\r\n\r\n    JPanel buttonPanel = new JPanel();\r\n    buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n    JButton addButton = new JButton(&quot;Add&quot;);\r\n    addButton.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {\r\n            String name = nameField.getText();\r\n            String phone = phoneField.getText();\r\n            String email = emailField.getText();\r\n            listContact.add(name);\r\n            listContact.add(phone);\r\n            listContact.add(email);\r\n            fileContacts.add(listContact);\r\n            addContactToFile(fileContacts);\r\n            loadFileContents();\r\n            dialog.dispose();\r\n        }\r\n    });\r\n    buttonPanel.add(addButton);\r\n\r\n    dialog.add(inputPanel, BorderLayout.CENTER);\r\n    dialog.add(buttonPanel, BorderLayout.SOUTH);\r\n    dialog.setVisible(true);\r\n}\r\n\r\n\r\n    private static void addContactToFile(LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts) {\r\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(FILE_PATH, true))) {\r\n            writer.write(fileContacts.get(0) + &quot;\\n&quot; + fileContacts.get(1) + &quot;\\n&quot; + fileContacts.get(2));\r\n            writer.newLine();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void loadFileContents() {\r\n    tableModel.setRowCount(0); // Clear existing table data\r\n\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(FILE_PATH))) {\r\n        String line;\r\n        int lineCount = 0;\r\n        while ((line = reader.readLine()) != null) {\r\n            if (lineCount % 3 == 0) {\r\n                fileContacts.add(new LinkedList&lt;&gt;());\r\n            }\r\n            fileContacts.get(lineCount / 3).add(line);\r\n            lineCount++;\r\n        }\r\n\r\n        for (LinkedList&lt;String&gt; contact : fileContacts) {\r\n            tableModel.addRow(contact.toArray());\r\n        }\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n}\r\n```\r\nHere is the whole code I used, I&#39;m still inexperienced in regards of using this part of Java so it&#39;s kind of clunky, and used some ChatGPT.","title":"Storing LinkedList values from a file and showing it to JFrame","body":"<p>I have a question to ask. To cut this short, I have a problem regarding writing the elements to a file and then load it to the JFrame me and my classmates are working with. The simple draft of the program is good so far, and the writing of the contents to the file by just using a user-defined function is also great. But I want to try using LinkedList to write the contents using the elements I provided (Because we also need to delete the contents one by one).</p>\n<p>In the draft I tried using a 2-dim LinkedList to make sure that each of my index have 3 elements inside, namely &quot;name&quot;, &quot;phone&quot;, and &quot;email&quot;. Also to organize the data in their respective order, I used JTable, when I used it without LinkedList, it's ok, but as I used the LinkedList, it throws an error. Also the thrown error is called &quot;IndexOutofBoundsException&quot;, I think the error is in the method called &quot;loadFileContents&quot;, but idk how to fix it.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\nimport java.util.LinkedList;\n\npublic class FileContentApp {\n    private static final String FILE_PATH = &quot;contacts.txt&quot;;\n    private static DefaultTableModel tableModel;\n    public static LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts = new LinkedList&lt;&gt;();\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Contact File&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 300);\n        frame.getContentPane().setLayout(new BorderLayout());\n        frame.getContentPane().setBackground(Color.WHITE);\n\n        JPanel topPanel = new JPanel(new BorderLayout());\n        topPanel.setBackground(Color.WHITE);\n        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));\n        buttonPanel.setBackground(Color.WHITE);\n        JLabel titleLabel = new JLabel(&quot;Contacts&quot;);\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        topPanel.add(titleLabel, BorderLayout.NORTH);\n        JButton addButton = new JButton(&quot;+&quot;);\n        addButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                showDialog(frame);\n            }\n        });\n        JButton settingButton = new JButton(&quot;...&quot;);\n        buttonPanel.add(addButton);\n        buttonPanel.add(settingButton);\n        topPanel.add(buttonPanel, BorderLayout.EAST);\n        frame.getContentPane().add(topPanel, BorderLayout.NORTH);\n\n        JPanel contentPanel = new JPanel(new BorderLayout());\n        contentPanel.setBackground(Color.WHITE);\n        JTable table = createTable();\n        JScrollPane scrollPane = new JScrollPane(table);\n        contentPanel.add(scrollPane, BorderLayout.CENTER);\n        frame.getContentPane().add(contentPanel, BorderLayout.CENTER);\n\n        loadFileContents();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static JTable createTable() {\n        tableModel = new DefaultTableModel();\n        tableModel.addColumn(&quot;Name&quot;);\n        tableModel.addColumn(&quot;Phone&quot;);\n        tableModel.addColumn(&quot;Email&quot;);\n        JTable table = new JTable(tableModel);\n        table.setGridColor(Color.LIGHT_GRAY);\n        table.setShowGrid(true);\n        return table;\n    }\n\n    private static void showDialog(JFrame parentFrame) {\n    LinkedList&lt;String&gt; listContact = new LinkedList&lt;&gt;();\n    JDialog dialog = new JDialog(parentFrame, &quot;Add Contact&quot;, true);\n    dialog.setSize(300, 200);\n    dialog.setLayout(new BorderLayout());\n    dialog.setLocationRelativeTo(parentFrame);\n\n    JPanel inputPanel = new JPanel(new GridLayout(3, 2));\n    inputPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n    JLabel nameLabel = new JLabel(&quot;Name : &quot;);\n    JTextField nameField = new JTextField();\n    JLabel phoneLabel = new JLabel(&quot;Phone : &quot;);\n    JTextField phoneField = new JTextField();\n    JLabel emailLabel = new JLabel(&quot;Email : &quot;);\n    JTextField emailField = new JTextField();\n\n    inputPanel.add(nameLabel);\n    inputPanel.add(nameField);\n    inputPanel.add(phoneLabel);\n    inputPanel.add(phoneField);\n    inputPanel.add(emailLabel);\n    inputPanel.add(emailField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\n    JButton addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            String name = nameField.getText();\n            String phone = phoneField.getText();\n            String email = emailField.getText();\n            listContact.add(name);\n            listContact.add(phone);\n            listContact.add(email);\n            fileContacts.add(listContact);\n            addContactToFile(fileContacts);\n            loadFileContents();\n            dialog.dispose();\n        }\n    });\n    buttonPanel.add(addButton);\n\n    dialog.add(inputPanel, BorderLayout.CENTER);\n    dialog.add(buttonPanel, BorderLayout.SOUTH);\n    dialog.setVisible(true);\n}\n\n\n    private static void addContactToFile(LinkedList&lt;LinkedList&lt;String&gt;&gt; fileContacts) {\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(FILE_PATH, true))) {\n            writer.write(fileContacts.get(0) + &quot;\\n&quot; + fileContacts.get(1) + &quot;\\n&quot; + fileContacts.get(2));\n            writer.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void loadFileContents() {\n    tableModel.setRowCount(0); // Clear existing table data\n\n    try (BufferedReader reader = new BufferedReader(new FileReader(FILE_PATH))) {\n        String line;\n        int lineCount = 0;\n        while ((line = reader.readLine()) != null) {\n            if (lineCount % 3 == 0) {\n                fileContacts.add(new LinkedList&lt;&gt;());\n            }\n            fileContacts.get(lineCount / 3).add(line);\n            lineCount++;\n        }\n\n        for (LinkedList&lt;String&gt; contact : fileContacts) {\n            tableModel.addRow(contact.toArray());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>Here is the whole code I used, I'm still inexperienced in regards of using this part of Java so it's kind of clunky, and used some ChatGPT.</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-data-jpa"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1550919749,"post_id":54840769,"comment_id":96455243,"body_markdown":"so you have an error in JSON, which is not JPA. And even if it was JPA, you&#39;d need to mention which JPA provider you use, and where you think this LocalDate is not being treated right. What does your debugging say","body":"so you have an error in JSON, which is not JPA. And even if it was JPA, you&#39;d need to mention which JPA provider you use, and where you think this LocalDate is not being treated right. What does your debugging say"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550920542,"post_id":54840769,"comment_id":96455433,"body_markdown":"@BillyFrost I edited my question. I print `myObject` in `JSON`. The format is not the format specified in my formatter...","body":"@BillyFrost I edited my question. I print <code>myObject</code> in <code>JSON</code>. The format is not the format specified in my formatter..."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1550921977,"post_id":54840769,"comment_id":96455797,"body_markdown":"which does nothing to isolate WHERE the problem is. Is your problem in JPA not persisting data into your database, or not retrieving data from your database .... or is it just in converting a Java object into JSON ????? If the problem is in persistence then DEFINE what SQL is used to persist and where you think the problem is with that SQL ... and &quot;persist&quot; does not involve POST / PUT ... it involves JPA em.persist","body":"which does nothing to isolate WHERE the problem is. Is your problem in JPA not persisting data into your database, or not retrieving data from your database .... or is it just in converting a Java object into JSON ????? If the problem is in persistence then DEFINE what SQL is used to persist and where you think the problem is with that SQL ... and &quot;persist&quot; does not involve POST / PUT ... it involves JPA em.persist"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550922515,"post_id":54840769,"comment_id":96455936,"body_markdown":"So, what I don&#39;t understand is why the format into the `sysout()` is not `yyyy-MM-dd`. Because if I do `sysout(myObject.getStartdate())` the result is a date with `yyyy-MM-dd` format ...","body":"So, what I don&#39;t understand is why the format into the <code>sysout()</code> is not <code>yyyy-MM-dd</code>. Because if I do <code>sysout(myObject.getStartdate())</code> the result is a date with <code>yyyy-MM-dd</code> format ..."},{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1550927382,"post_id":54840769,"comment_id":96457221,"body_markdown":"Ok, so nothing to do with JPA then. A `LocalDate`.toString() method has its own output format defined by JAVADOCS, as per https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--  Which has what to do with the &quot;problem&quot;?","body":"Ok, so nothing to do with JPA then. A <code>LocalDate</code>.toString() method has its own output format defined by JAVADOCS, as per <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>  Which has what to do with the &quot;problem&quot;?"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550927552,"post_id":54840769,"comment_id":96457260,"body_markdown":"@BillyFrost thanks. I will look that.","body":"@BillyFrost thanks. I will look that."}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550919208,"creation_date":1550919208,"answer_id":54840805,"question_id":54840769,"body_markdown":"Hibernate 5 supports java 8, so you can add this to your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis gives you mapping for `LocalDate` and `LocalDateTime` out of box.","title":"How to persist LocalDate with JPA?","body":"<p>Hibernate 5 supports java 8, so you can add this to your pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This gives you mapping for <code>LocalDate</code> and <code>LocalDateTime</code> out of box.</p>\n"},{"tags":[],"owner":{"account_id":2331687,"reputation":2858,"user_id":2044957,"display_name":"Peter &#225;ly"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1688662524,"creation_date":1550922320,"answer_id":54841227,"question_id":54840769,"body_markdown":"JPA 2.2 supports `LocalDate`, so no converter is needed. \r\n\r\nHibernate also supports it as of 5.3 version.\r\n\r\nCheck out this article: [Whats new in JPA **2.2**  Java 8 Date and Time Types](https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/) for more details.","title":"How to persist LocalDate with JPA?","body":"<p>JPA 2.2 supports <code>LocalDate</code>, so no converter is needed.</p>\n<p>Hibernate also supports it as of 5.3 version.</p>\n<p>Check out this article: <a href=\"https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\" rel=\"nofollow noreferrer\">Whats new in JPA <strong>2.2</strong>  Java 8 Date and Time Types</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":11596870,"reputation":403,"user_id":8495354,"display_name":"Romas Augustinaviius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551015756,"creation_date":1551015756,"answer_id":54852503,"question_id":54840769,"body_markdown":"I think you could write your own Converter, please check an answer: https://stackoverflow.com/questions/50916404/spring-data-jpa-conversion-failed-when-converting-date-and-or-time-from-charac","title":"How to persist LocalDate with JPA?","body":"<p>I think you could write your own Converter, please check an answer: <a href=\"https://stackoverflow.com/questions/50916404/spring-data-jpa-conversion-failed-when-converting-date-and-or-time-from-charac\">Spring Data JPA - Conversion failed when converting date and/or time from character string</a></p>\n"},{"tags":[],"owner":{"account_id":10043347,"reputation":546,"user_id":7425560,"display_name":"Michael Mesfin"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1576273865,"creation_date":1576273865,"answer_id":59330245,"question_id":54840769,"body_markdown":"With JPA 2.2, you no longer need to use converter it added support for the mapping of the following java.time types:\r\n\r\n```\r\njava.time.LocalDate\r\njava.time.LocalTime\r\njava.time.LocalDateTime\r\njava.time.OffsetTime\r\njava.time.OffsetDateTime\r\n```\r\n```\r\n@Column(columnDefinition = &quot;DATE&quot;)\r\nprivate LocalDate date;\r\n@Column(columnDefinition = &quot;TIMESTAMP&quot;)\r\nprivate LocalDateTime dateTime;\r\n@Column(columnDefinition = &quot;TIME&quot;)\r\nprivate LocalTime localTime;\r\n```","title":"How to persist LocalDate with JPA?","body":"<p>With JPA 2.2, you no longer need to use converter it added support for the mapping of the following java.time types:</p>\n\n<pre><code>java.time.LocalDate\njava.time.LocalTime\njava.time.LocalDateTime\njava.time.OffsetTime\njava.time.OffsetDateTime\n</code></pre>\n\n<pre><code>@Column(columnDefinition = \"DATE\")\nprivate LocalDate date;\n@Column(columnDefinition = \"TIMESTAMP\")\nprivate LocalDateTime dateTime;\n@Column(columnDefinition = \"TIME\")\nprivate LocalTime localTime;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610144107,"creation_date":1588253735,"answer_id":61524652,"question_id":54840769,"body_markdown":"JPA 2.2 added support for mapping Java 8 Date/Time API, like `LocalDate`, `LocalTime`, `LocalDateTime`, `OffsetDateTime` or `OffsetTime`.\r\n\r\nSo, let&#39;s assume we have the following entity:\r\n\r\n    @Entity(name = &quot;UserAccount&quot;)\r\n    @Table(name = &quot;user_account&quot;)\r\n    public class UserAccount {\r\n    \r\n    \t@Id\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;first_name&quot;, length = 50)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Column(name = &quot;last_name&quot;, length = 50)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Column(name = &quot;subscribed_on&quot;)\r\n    \tprivate LocalDate subscribedOn;\r\n    \r\n    \t//Getters and setters omitted for brevity\r\n    }\r\n\r\nNotice that the `subscribedOn` attribute is a `LocalDate` Java object.\r\n\r\nWhen persisting the `UserAccount`:\r\n\r\n    UserAccount user = new UserAccount()\r\n        .setId(1L)\r\n        .setFirstName(&quot;Vlad&quot;)\r\n        .setLastName(&quot;Mihalcea&quot;)\r\n        .setSubscribedOn(\r\n            LocalDate.of(\r\n                2013, 9, 29\r\n            )\r\n        );\r\n    \r\n    entityManager.persist(user);\r\n\r\nHibernate generates the proper SQL INSERT statement:\r\n\r\n    INSERT INTO user_account (\r\n        first_name, \r\n        last_name, \r\n        subscribed_on, \r\n        id\r\n    ) \r\n    VALUES (\r\n        &#39;Vlad&#39;, \r\n        &#39;Mihalcea&#39;, \r\n        &#39;2013-09-29&#39;, \r\n        1\r\n    )\r\n\r\nWhen fetching the `UserAccount` entity, we can see that the `LocalDate` is properly fetched from the database:\r\n\r\n    UserAccount userAccount = entityManager.find(\r\n        UserAccount.class, 1L\r\n    );\r\n    \r\n    assertEquals(\r\n        LocalDate.of(\r\n            2013, 9, 29\r\n        ),\r\n        userAccount.getSubscribedOn()\r\n    );\r\n\r\n","title":"How to persist LocalDate with JPA?","body":"<p>JPA 2.2 added support for mapping Java 8 Date/Time API, like <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code>, <code>OffsetDateTime</code> or <code>OffsetTime</code>.</p>\n<p>So, let's assume we have the following entity:</p>\n<pre><code>@Entity(name = &quot;UserAccount&quot;)\n@Table(name = &quot;user_account&quot;)\npublic class UserAccount {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;, length = 50)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, length = 50)\n    private String lastName;\n\n    @Column(name = &quot;subscribed_on&quot;)\n    private LocalDate subscribedOn;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Notice that the <code>subscribedOn</code> attribute is a <code>LocalDate</code> Java object.</p>\n<p>When persisting the <code>UserAccount</code>:</p>\n<pre><code>UserAccount user = new UserAccount()\n    .setId(1L)\n    .setFirstName(&quot;Vlad&quot;)\n    .setLastName(&quot;Mihalcea&quot;)\n    .setSubscribedOn(\n        LocalDate.of(\n            2013, 9, 29\n        )\n    );\n\nentityManager.persist(user);\n</code></pre>\n<p>Hibernate generates the proper SQL INSERT statement:</p>\n<pre><code>INSERT INTO user_account (\n    first_name, \n    last_name, \n    subscribed_on, \n    id\n) \nVALUES (\n    'Vlad', \n    'Mihalcea', \n    '2013-09-29', \n    1\n)\n</code></pre>\n<p>When fetching the <code>UserAccount</code> entity, we can see that the <code>LocalDate</code> is properly fetched from the database:</p>\n<pre><code>UserAccount userAccount = entityManager.find(\n    UserAccount.class, 1L\n);\n\nassertEquals(\n    LocalDate.of(\n        2013, 9, 29\n    ),\n    userAccount.getSubscribedOn()\n);\n</code></pre>\n"}],"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53000,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":54841227,"answer_count":5,"score":30,"last_activity_date":1688662524,"creation_date":1550918908,"question_id":54840769,"body_markdown":"I want to store Date without time into my database. So, I choose to use `LocalDate` type. \r\n\r\nAs mentioned in this article: [How to persist LocalDate and LocalDateTime with JPA **2.1**][1], I use a JPA converter to convert `LocalDate` to `Date`.\r\n\r\nHowever, I have some troubles when I want to persist my entity (with POST and PUT requests).\r\n\r\n**Error**\r\n\r\n    2019-02-23 11:26:30.254  WARN 2720 --- [-auto-1-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\r\n     at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: ...entity.MyObject[&quot;startdate&quot;])]\r\n    \r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.ResponseEntity]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.http.ResponseEntity` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n     at [Source: (PushbackInputStream); line: 1, column: 2]\r\n\r\n**Code**\r\n\r\n*Converter*\r\n\r\n    package ...entity;\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    import java.time.LocalDate;\r\n    import java.sql.Date;\r\n\r\n    @Converter(autoApply = true)\r\n    public class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n    \r\n        @Override\r\n        public Date convertToDatabaseColumn(LocalDate locDate) {\r\n            return (locDate == null ? null : Date.valueOf(locDate));\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate convertToEntityAttribute(Date sqlDate) {\r\n            return (sqlDate == null ? null : sqlDate.toLocalDate());\r\n        }\r\n    }\r\n\r\n*Entity*\r\n\r\n    package ...entity;\r\n    \r\n    import org.hibernate.annotations.ColumnDefault;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDate;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    public class MyObject {\r\n    \r\n        @Id\r\n        private String id;\r\n        private LocalDate startdate;\r\n        private LocalDate enddate;\r\n    \r\n        public MyObject() {}\r\n    \r\n        public MyObject(LocalDate enddate) {\r\n            this.startdate = LocalDate.now();\r\n            this.enddate = enddate;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\n*&quot;Main&quot;*\r\n\r\n    private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    MyObject myobject = new MyObject(LocalDate.parse(&quot;2019-03-01&quot;, formatter));\r\n\r\nThanks for help.\r\n\r\n**EDIT 1 : Print of MyObject**\r\n\r\n     HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.APPLICATION_JSON);\r\n     HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(this.toJsonString(myObject), headers);\r\n     System.out.println(entity.toString());\r\n\r\n     // &lt;{&quot;id&quot;:&quot;ba6649e4-6e65-4f54-8f1a-f8fc7143b05a&quot;,&quot;startdate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;FEBRUARY&quot;,&quot;dayOfMonth&quot;:23,&quot;dayOfWeek&quot;:&quot;SATURDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:54,&quot;leapYear&quot;:false,&quot;monthValue&quot;:2,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},&quot;enddate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;MARCH&quot;,&quot;dayOfMonth&quot;:1,&quot;dayOfWeek&quot;:&quot;FRIDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:60,&quot;leapYear&quot;:false,&quot;monthValue&quot;:3,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}},[Content-Type:&quot;application/json&quot;]&gt;\r\n \r\n\r\n\r\n  [1]: https://thoughts-on-java.org/persist-localdate-localdatetime-jpa/","title":"How to persist LocalDate with JPA?","body":"<p>I want to store Date without time into my database. So, I choose to use <code>LocalDate</code> type.</p>\n<p>As mentioned in this article: <a href=\"https://thoughts-on-java.org/persist-localdate-localdatetime-jpa/\" rel=\"nofollow noreferrer\">How to persist LocalDate and LocalDateTime with JPA <strong>2.1</strong></a>, I use a JPA converter to convert <code>LocalDate</code> to <code>Date</code>.</p>\n<p>However, I have some troubles when I want to persist my entity (with POST and PUT requests).</p>\n<p><strong>Error</strong></p>\n<pre><code>2019-02-23 11:26:30.254  WARN 2720 --- [-auto-1-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Expected array or string.\n at [Source: (PushbackInputStream); line: 1, column: 104] (through reference chain: ...entity.MyObject[&quot;startdate&quot;])]\n\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.http.ResponseEntity]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.http.ResponseEntity` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (PushbackInputStream); line: 1, column: 2]\n</code></pre>\n<p><strong>Code</strong></p>\n<p><em>Converter</em></p>\n<pre><code>package ...entity;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.time.LocalDate;\nimport java.sql.Date;\n\n@Converter(autoApply = true)\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate locDate) {\n        return (locDate == null ? null : Date.valueOf(locDate));\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date sqlDate) {\n        return (sqlDate == null ? null : sqlDate.toLocalDate());\n    }\n}\n</code></pre>\n<p><em>Entity</em></p>\n<pre><code>package ...entity;\n\nimport org.hibernate.annotations.ColumnDefault;\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\npublic class MyObject {\n\n    @Id\n    private String id;\n    private LocalDate startdate;\n    private LocalDate enddate;\n\n    public MyObject() {}\n\n    public MyObject(LocalDate enddate) {\n        this.startdate = LocalDate.now();\n        this.enddate = enddate;\n    }\n\n    ...\n}\n</code></pre>\n<p><em>&quot;Main&quot;</em></p>\n<pre><code>private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nMyObject myobject = new MyObject(LocalDate.parse(&quot;2019-03-01&quot;, formatter));\n</code></pre>\n<p>Thanks for help.</p>\n<p><strong>EDIT 1 : Print of MyObject</strong></p>\n<pre><code> HttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.APPLICATION_JSON);\n HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(this.toJsonString(myObject), headers);\n System.out.println(entity.toString());\n\n // &lt;{&quot;id&quot;:&quot;ba6649e4-6e65-4f54-8f1a-f8fc7143b05a&quot;,&quot;startdate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;FEBRUARY&quot;,&quot;dayOfMonth&quot;:23,&quot;dayOfWeek&quot;:&quot;SATURDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:54,&quot;leapYear&quot;:false,&quot;monthValue&quot;:2,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}},&quot;enddate&quot;:{&quot;year&quot;:2019,&quot;month&quot;:&quot;MARCH&quot;,&quot;dayOfMonth&quot;:1,&quot;dayOfWeek&quot;:&quot;FRIDAY&quot;,&quot;era&quot;:&quot;CE&quot;,&quot;dayOfYear&quot;:60,&quot;leapYear&quot;:false,&quot;monthValue&quot;:3,&quot;chronology&quot;:{&quot;id&quot;:&quot;ISO&quot;,&quot;calendarType&quot;:&quot;iso8601&quot;}}},[Content-Type:&quot;application/json&quot;]&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":6018528,"reputation":3054,"user_id":4726477,"accept_rate":83,"display_name":"Master Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1431482277,"creation_date":1431482277,"answer_id":30204353,"question_id":30202490,"body_markdown":"It&#39;s related to the correction of [HHH-8740][1] :\r\n\r\n&gt; In some cases, the database metadata is incorrect (i.e., says something is not supported, when it actually is supported). In this case it would be preferable to simply log a warning. If it turns out that named parameters really are not supported, then a SQLException will be thrown later when the named parameter is bound to the SQL statement.\r\n\r\nSo, the warning warn you from calling a method that queries metadata on named parameters.\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-8740","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<p>It's related to the correction of <a href=\"https://hibernate.atlassian.net/browse/HHH-8740\" rel=\"nofollow\">HHH-8740</a> :</p>\n\n<blockquote>\n  <p>In some cases, the database metadata is incorrect (i.e., says something is not supported, when it actually is supported). In this case it would be preferable to simply log a warning. If it turns out that named parameters really are not supported, then a SQLException will be thrown later when the named parameter is bound to the SQL statement.</p>\n</blockquote>\n\n<p>So, the warning warn you from calling a method that queries metadata on named parameters.</p>\n"},{"tags":[],"owner":{"account_id":28961170,"reputation":1,"user_id":22183613,"display_name":"fouziya shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688661732,"creation_date":1688661732,"answer_id":76630937,"question_id":30202490,"body_markdown":"\r\n\t\tSession session=HibernateUtil.getSessionFactory().openSession();\r\n\t\tTransaction tx=session.beginTransaction();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter Id:&quot;);\r\n\t\tint id=sc.nextInt();\r\n\t\t\r\n\t\tStoredProcedureQuery query=session.createStoredProcedureCall(&quot;Delete&quot;,Employee.class);\r\n\t\tquery.registerStoredProcedureParameter(&quot;id&quot;, Integer.class, ParameterMode.IN);\r\n\t\t\r\n\t\tquery.setParameter(&quot;id&quot;,sc.nextInt());\r\n\t\tquery.executeUpdate();\r\n\t\ttx.commit();\r\n\t\t","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<pre><code>    Session session=HibernateUtil.getSessionFactory().openSession();\n    Transaction tx=session.beginTransaction();\n    \n    System.out.println(&quot;Enter Id:&quot;);\n    int id=sc.nextInt();\n    \n    StoredProcedureQuery query=session.createStoredProcedureCall(&quot;Delete&quot;,Employee.class);\n    query.registerStoredProcedureParameter(&quot;id&quot;, Integer.class, ParameterMode.IN);\n    \n    query.setParameter(&quot;id&quot;,sc.nextInt());\n    query.executeUpdate();\n    tx.commit();\n    \n</code></pre>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30204353,"answer_count":2,"score":2,"last_activity_date":1688661732,"creation_date":1431469552,"question_id":30202490,"body_markdown":"I have a Java project where I call a stored procedure using hibernate.\r\n\r\nHere is sample code I am using\r\n\r\n      public String findCloudName(Long cloudId) {\r\n            LOG.info(&quot;Entered findCloudName Method - cloudId:{}&quot;, cloudId);\r\n    \r\n            String cloudName  = null;\r\n            ProcedureCall  procedureCall = currentSession().createStoredProcedureCall(&quot;p_getCloudDetails&quot;);\r\n            procedureCall.registerParameter( &quot;cloudId&quot;, Long.class, ParameterMode.IN ).bindValue( cloudId );\r\n            procedureCall.registerParameter( &quot;cloudName&quot;, String.class, ParameterMode.OUT );\r\n            \r\n            ProcedureOutputs  outputs = procedureCall.getOutputs();\r\n    \r\n            cloudName = (String) outputs.getOutputParameterValue( &quot;cloudName&quot; );\r\n            \r\n            LOG.info(&quot;Exiting findCloudName Method - cloudName:{}&quot;, cloudName);\r\n            return cloudName; \r\n        }\r\n\r\nThis works fine and results the expected results.\r\nHowever It leaves the following message in my logs\r\n\r\n    [WARN] [320]org.hibernate.procedure.internal.ProcedureCallImpl[prepareForNamedParameters]  - HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\r\n\r\nI was looking through websites and the source code of hibernate to try and figure out how to get rid of this warning\r\n\r\nAny help is greatly appreciated\r\n\r\nCheers\r\nDamien","title":"Java - Hibernate calling a MySql Stored Procedure - Warning Message","body":"<p>I have a Java project where I call a stored procedure using hibernate.</p>\n\n<p>Here is sample code I am using</p>\n\n<pre><code>  public String findCloudName(Long cloudId) {\n        LOG.info(\"Entered findCloudName Method - cloudId:{}\", cloudId);\n\n        String cloudName  = null;\n        ProcedureCall  procedureCall = currentSession().createStoredProcedureCall(\"p_getCloudDetails\");\n        procedureCall.registerParameter( \"cloudId\", Long.class, ParameterMode.IN ).bindValue( cloudId );\n        procedureCall.registerParameter( \"cloudName\", String.class, ParameterMode.OUT );\n\n        ProcedureOutputs  outputs = procedureCall.getOutputs();\n\n        cloudName = (String) outputs.getOutputParameterValue( \"cloudName\" );\n\n        LOG.info(\"Exiting findCloudName Method - cloudName:{}\", cloudName);\n        return cloudName; \n    }\n</code></pre>\n\n<p>This works fine and results the expected results.\nHowever It leaves the following message in my logs</p>\n\n<pre><code>[WARN] [320]org.hibernate.procedure.internal.ProcedureCallImpl[prepareForNamedParameters]  - HHH000456: Named parameters are used for a callable statement, but database metadata indicates named parameters are not supported.\n</code></pre>\n\n<p>I was looking through websites and the source code of hibernate to try and figure out how to get rid of this warning</p>\n\n<p>Any help is greatly appreciated</p>\n\n<p>Cheers\nDamien</p>\n"},{"tags":["java","android","batterymanager"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688661641,"creation_date":1688661641,"answer_id":76630923,"question_id":76630868,"body_markdown":"That&#39;s not going to work.  First off, you&#39;re going to have rounding errors.  None of this stuff is exact.  Secondly, you&#39;re assuming that the capacity of the battery as reported by the manufacturer and the capacity of the battery Android treats as 100% are the same.  They may be, but they don&#39;t have to be- Android might decide to treat 90% of battery as full, so it has the remaining 10% for emergency power/shutdown/battery maintenance (some batteries are physically harmed if actually run to 0).  Or it may reserve power to account for environmental conditions (batteries work differently depending on temperature, for example).  4900 from the manufacturer is the maximum amount of charge under optimal conditions, not an actual useful number.  Its only value is in direct comparison to another battery of the same technology.","title":"How to Calculate Android Device Battery Capacity?","body":"<p>That's not going to work.  First off, you're going to have rounding errors.  None of this stuff is exact.  Secondly, you're assuming that the capacity of the battery as reported by the manufacturer and the capacity of the battery Android treats as 100% are the same.  They may be, but they don't have to be- Android might decide to treat 90% of battery as full, so it has the remaining 10% for emergency power/shutdown/battery maintenance (some batteries are physically harmed if actually run to 0).  Or it may reserve power to account for environmental conditions (batteries work differently depending on temperature, for example).  4900 from the manufacturer is the maximum amount of charge under optimal conditions, not an actual useful number.  Its only value is in direct comparison to another battery of the same technology.</p>\n"}],"owner":{"account_id":28964392,"reputation":1,"user_id":22186208,"display_name":"Ayan Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688661641,"creation_date":1688661031,"question_id":76630868,"body_markdown":"Currently, I am working on an Android project for which I need to get the device&#39;s Battery Capacity. This function retrieves battery percentage and remaining battery current from BatteryManager and then calculates Maximum capacity (mAh). But I need to get the Battery capacity that the manufacturer claims.\r\n\r\nExample: \r\n\r\n&gt; My device&#39;s battery capacity is 4900 mAh (As per the manufacturer),\r\n&gt; but this function returns 4600 mAh. I need to get that 4900 mAh.\r\n\r\n\r\n\r\n    public long getBatteryCapacity(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {            \r\n            BatteryManager mBatteryManager = (BatteryManager) context.getSystemService(Context.BATTERY_SERVICE);\r\n            \r\n            Long chargeCounter = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CHARGE_COUNTER);\r\n            Long capacity = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\r\n    \r\n            if (chargeCounter != null &amp;&amp; capacity != null) {\r\n                long value = (long) (((float) chargeCounter / (float) capacity) * 100f);\r\n                return value;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"How to Calculate Android Device Battery Capacity?","body":"<p>Currently, I am working on an Android project for which I need to get the device's Battery Capacity. This function retrieves battery percentage and remaining battery current from BatteryManager and then calculates Maximum capacity (mAh). But I need to get the Battery capacity that the manufacturer claims.</p>\n<p>Example:</p>\n<blockquote>\n<p>My device's battery capacity is 4900 mAh (As per the manufacturer),\nbut this function returns 4600 mAh. I need to get that 4900 mAh.</p>\n</blockquote>\n<pre><code>public long getBatteryCapacity(Context context) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {            \n        BatteryManager mBatteryManager = (BatteryManager) context.getSystemService(Context.BATTERY_SERVICE);\n        \n        Long chargeCounter = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CHARGE_COUNTER);\n        Long capacity = mBatteryManager.getLongProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\n\n        if (chargeCounter != null &amp;&amp; capacity != null) {\n            long value = (long) (((float) chargeCounter / (float) capacity) * 100f);\n            return value;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1688661201,"post_id":76630823,"comment_id":135107112,"body_markdown":"PLease take care of java naming conventions. Class names should start with upper case character","body":"PLease take care of java naming conventions. Class names should start with upper case character"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688660848,"creation_date":1688660848,"answer_id":76630842,"question_id":76630823,"body_markdown":"Your class `reversellusingiteration` has two problems. The `static Node head;` should not be `static`. And it is **not** named `LinkedList`. So you need to change\r\n\r\n    LinkedList list=new LinkedList();\r\n\r\nto\r\n\r\n    reversellusingiteration list = new reversellusingiteration();","title":"Hello. I am new to java and stuck at Linked List reverse problem and don&#39;t know how to solve it","body":"<p>Your class <code>reversellusingiteration</code> has two problems. The <code>static Node head;</code> should not be <code>static</code>. And it is <strong>not</strong> named <code>LinkedList</code>. So you need to change</p>\n<pre><code>LinkedList list=new LinkedList();\n</code></pre>\n<p>to</p>\n<pre><code>reversellusingiteration list = new reversellusingiteration();\n</code></pre>\n"}],"owner":{"account_id":27575151,"reputation":11,"user_id":21045538,"display_name":"stranger1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1688661170,"answer_count":1,"score":-1,"last_activity_date":1688661221,"creation_date":1688660660,"question_id":76630823,"body_markdown":"It&#39;s showing some kind to error at head &quot;Cannot resolve symbol &#39;head&#39; &quot;.\r\n\r\n    import java.util.LinkedList;\r\n    \r\n    public class reversellusingiteration {\r\n        static Node head;\r\n    \r\n        static class Node{\r\n            int data;\r\n            Node next;\r\n            Node(int d) {\r\n                this.data = d;\r\n                this.next = null;\r\n            }\r\n        }\r\n    \r\n        Node reverse(Node node){\r\n            Node curr=node;\r\n            Node prev=null;\r\n            while(curr!=null){\r\n                Node temp=curr.next;\r\n                curr.next=prev;\r\n                prev=curr;\r\n                curr=temp;\r\n            }\r\n            return prev;\r\n        }\r\n        public static void main(String[] args) {\r\n            LinkedList list=new LinkedList();\r\n            list.head =new Node(90); //here is the problem\r\n            list.head.next=new Node(78);\r\n        }\r\n    }\r\n\r\nPlease someone help me with this ","title":"Hello. I am new to java and stuck at Linked List reverse problem and don&#39;t know how to solve it","body":"<p>It's showing some kind to error at head &quot;Cannot resolve symbol 'head' &quot;.</p>\n<pre><code>import java.util.LinkedList;\n\npublic class reversellusingiteration {\n    static Node head;\n\n    static class Node{\n        int data;\n        Node next;\n        Node(int d) {\n            this.data = d;\n            this.next = null;\n        }\n    }\n\n    Node reverse(Node node){\n        Node curr=node;\n        Node prev=null;\n        while(curr!=null){\n            Node temp=curr.next;\n            curr.next=prev;\n            prev=curr;\n            curr=temp;\n        }\n        return prev;\n    }\n    public static void main(String[] args) {\n        LinkedList list=new LinkedList();\n        list.head =new Node(90); //here is the problem\n        list.head.next=new Node(78);\n    }\n}\n</code></pre>\n<p>Please someone help me with this</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","zoneddatetime"],"answers":[{"tags":[],"owner":{"account_id":6453880,"reputation":1,"user_id":4999961,"display_name":"Drazev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688660396,"creation_date":1688659430,"answer_id":76630668,"question_id":76623614,"body_markdown":"After further debugging I did confirm that spring does load the new module into the ObjectMapper.\r\n\r\nThis lead me to find that the problem actually was sourced from another object mapper created to do some logging. I resolved this by having it autowire ObjectMapper instance from the spring context instead of creating a local version. Alternatively you could have it load the modules via its builder for the local instance.\r\n\r\nI also found an interesting conclusion.\r\n\r\nThe module jackson-datatype-jsr310 is now considered legacy. The JavaTime module was included into Jackson core but is not auto registered. This can be found in official documentation [here][1].\r\n\r\n&gt; Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html","title":"How do I properly configure Spring boot to use java.time.ZonedDateTime for persistance with postgresql?","body":"<p>After further debugging I did confirm that spring does load the new module into the ObjectMapper.</p>\n<p>This lead me to find that the problem actually was sourced from another object mapper created to do some logging. I resolved this by having it autowire ObjectMapper instance from the spring context instead of creating a local version. Alternatively you could have it load the modules via its builder for the local instance.</p>\n<p>I also found an interesting conclusion.</p>\n<p>The module jackson-datatype-jsr310 is now considered legacy. The JavaTime module was included into Jackson core but is not auto registered. This can be found in official documentation <a href=\"https://fasterxml.github.io/jackson-modules-java8/javadoc/datetime/2.9/com/fasterxml/jackson/datatype/jsr310/JavaTimeModule.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Note that as of 2.6, this module does NOT support auto-registration, because of existence of legacy version, JSR310Module. Legacy version has the same functionality, but slightly different default configuration: see JSR310Module for details.</p>\n</blockquote>\n"}],"owner":{"account_id":6453880,"reputation":1,"user_id":4999961,"display_name":"Drazev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688660396,"creation_date":1688586526,"question_id":76623614,"body_markdown":"I am working on upgrading an existing microservice and extending the database with some new features. \r\n\r\nI upgraded the program to use Spring 3.0.6 which uses hibernate 6.1.7. The database I&#39;m using is postgresl testcontainers 1.18.1.\r\n\r\nWhen I attempt to run my program it crashes when attempting to persist the data in the database. The error it provides is as follows...\r\n\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling ...\r\n```\r\n\r\nWhen I looked into the issue I did verify that \r\n- Postgresql supports Zoned Timestmaps\r\n- Hibernate 6 supports `ZonedDateTime`\r\n\r\nHere are some snips from the project.\r\n\r\npom.xml\r\n\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\tJava 8 Date/time\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;billable_Data&quot;,schema=&quot;mySchema&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class BillableMetric {\r\n\r\n    @Id\r\n    UUID guid;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    CustomerInvoice invoice;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    CustomerRecord billingAccount;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    CatalogueItem skuItem;\r\n\r\n    @Column(name=&quot;dataSourceIdentifier&quot;)\r\n    BillableMetricDataSource dataSource;\r\n\r\n    Double quantity;\r\n\r\n    String unitType;\r\n\r\n    ZonedDateTime startTimeInclusive;\r\n\r\n    ZonedDateTime endTimeExclusive;\r\n}\r\n```\r\n\r\nTable Schema\r\n\r\n```sql\r\nCREATE TABLE mySchema.billable_Data (\r\n    guid uuid  NOT NULL DEFAULT mySchema.gen_random_uuid(),\r\n    invoice bigserial,\r\n    billingAccount uuid, -- Can be null since one possible error is the billing account cannot be found\r\n    skuItem bigserial, -- Can be null since one possible error is the sku is not valid.\r\n    dataSource numeric NOT NULL, --Should be an enum that is associated to a MetricReading Table\r\n    quantity numeric,\r\n    unitType varchar(100),\r\n    startTimeInclusive timestamp ,\r\n    endTimeExclusive timestamp ,\r\n    CONSTRAINT guid_is_pk PRIMARY KEY (guid),\r\n    CONSTRAINT invoice_is_fk FOREIGN KEY (invoice) REFERENCES mySchema.customer_invoice(id),\r\n    CONSTRAINT billable_data_sku_is_fk FOREIGN KEY (skuItem) REFERENCES mySchema.catalog_item(id),\r\n    CONSTRAINT billable_data_billing_account_is_fk FOREIGN KEY (billingAccount)  REFERENCES mySchema.customer(guid)\r\n);\r\n```\r\n\r\nWhat I have read is that if I include jackson-datatype-jsr310 into the project then spring should automatically configure the jackson object mapper to use that module. I would like to use this behavior if possible rather than customizing the object mapper through other means.\r\n\r\nI looked up some possible solutions and tried them. The things I tried were\r\n1. Adding the `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` dependency\r\n2. Adding the `@TimeZoneStorage` to the `@Entity` class on the attribute that uses `ZonedDateTime`\r\n3. Adding `spring.jackson.serialization.write_dates_as_timestamps=true` to `application.properties`\r\n\r\nNone of the solutions seemed to resolve the error. I am suspicious of solution (2) because I suspect that was replaced by Hibernate 6&#39;s behavior where it automatically chooses the right conversion based on the database and java type. Solution (3) also makes me suspicious because it seems to be defining a behavior that is now expected to be automated with hibernate 6 and could potentially cause problems.","title":"How do I properly configure Spring boot to use java.time.ZonedDateTime for persistance with postgresql?","body":"<p>I am working on upgrading an existing microservice and extending the database with some new features.</p>\n<p>I upgraded the program to use Spring 3.0.6 which uses hibernate 6.1.7. The database I'm using is postgresl testcontainers 1.18.1.</p>\n<p>When I attempt to run my program it crashes when attempting to persist the data in the database. The error it provides is as follows...</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling ...\n</code></pre>\n<p>When I looked into the issue I did verify that</p>\n<ul>\n<li>Postgresql supports Zoned Timestmaps</li>\n<li>Hibernate 6 supports <code>ZonedDateTime</code></li>\n</ul>\n<p>Here are some snips from the project.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;/parent&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;       \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-csv&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--    Java 8 Date/time    --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;billable_Data&quot;,schema=&quot;mySchema&quot;)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BillableMetric {\n\n    @Id\n    UUID guid;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    CustomerInvoice invoice;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    CustomerRecord billingAccount;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    CatalogueItem skuItem;\n\n    @Column(name=&quot;dataSourceIdentifier&quot;)\n    BillableMetricDataSource dataSource;\n\n    Double quantity;\n\n    String unitType;\n\n    ZonedDateTime startTimeInclusive;\n\n    ZonedDateTime endTimeExclusive;\n}\n</code></pre>\n<p>Table Schema</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE mySchema.billable_Data (\n    guid uuid  NOT NULL DEFAULT mySchema.gen_random_uuid(),\n    invoice bigserial,\n    billingAccount uuid, -- Can be null since one possible error is the billing account cannot be found\n    skuItem bigserial, -- Can be null since one possible error is the sku is not valid.\n    dataSource numeric NOT NULL, --Should be an enum that is associated to a MetricReading Table\n    quantity numeric,\n    unitType varchar(100),\n    startTimeInclusive timestamp ,\n    endTimeExclusive timestamp ,\n    CONSTRAINT guid_is_pk PRIMARY KEY (guid),\n    CONSTRAINT invoice_is_fk FOREIGN KEY (invoice) REFERENCES mySchema.customer_invoice(id),\n    CONSTRAINT billable_data_sku_is_fk FOREIGN KEY (skuItem) REFERENCES mySchema.catalog_item(id),\n    CONSTRAINT billable_data_billing_account_is_fk FOREIGN KEY (billingAccount)  REFERENCES mySchema.customer(guid)\n);\n</code></pre>\n<p>What I have read is that if I include jackson-datatype-jsr310 into the project then spring should automatically configure the jackson object mapper to use that module. I would like to use this behavior if possible rather than customizing the object mapper through other means.</p>\n<p>I looked up some possible solutions and tried them. The things I tried were</p>\n<ol>\n<li>Adding the <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> dependency</li>\n<li>Adding the <code>@TimeZoneStorage</code> to the <code>@Entity</code> class on the attribute that uses <code>ZonedDateTime</code></li>\n<li>Adding <code>spring.jackson.serialization.write_dates_as_timestamps=true</code> to <code>application.properties</code></li>\n</ol>\n<p>None of the solutions seemed to resolve the error. I am suspicious of solution (2) because I suspect that was replaced by Hibernate 6's behavior where it automatically chooses the right conversion based on the database and java type. Solution (3) also makes me suspicious because it seems to be defining a behavior that is now expected to be automated with hibernate 6 and could potentially cause problems.</p>\n"},{"tags":["java","multithreading","concurrency","mapreduce","reactor"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1421354605,"post_id":27971274,"comment_id":44337891,"body_markdown":"Just curious, is there a particular reason you are not using the ForkJoin framework for this?","body":"Just curious, is there a particular reason you are not using the ForkJoin framework for this?"},{"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"score":0,"creation_date":1421358153,"post_id":27971274,"comment_id":44339727,"body_markdown":"@JohnVint Reactor provides a fairly comprehensive API for all sorts of streaming behavior in addition to map/reduce aka fork/join.  We&#39;ll be leveraging these other things in our app in various places, so it helps to &#39;standardize&#39; on a common framework with shared taxonomy so that the overall codebase is more cohesive/maintainable.","body":"@JohnVint Reactor provides a fairly comprehensive API for all sorts of streaming behavior in addition to map/reduce aka fork/join.  We&#39;ll be leveraging these other things in our app in various places, so it helps to &#39;standardize&#39; on a common framework with shared taxonomy so that the overall codebase is more cohesive/maintainable."}],"answers":[{"tags":[],"owner":{"account_id":180078,"reputation":1299,"user_id":413159,"accept_rate":33,"display_name":"Jon Brisbin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688660259,"creation_date":1421354839,"answer_id":27972689,"question_id":27971274,"body_markdown":"It&#39;s actually pretty easy now with Reactor 2.0. You could do something like this:\r\n\r\n```java\r\nList&lt;Map&lt;String, Object&gt;&gt; data = readData(); // &lt;1&gt;\r\n\r\nStreams.from(data)\r\n    .flatMap(m -&gt; Streams.just(m)\r\n                            .dispatchOn(Environment.cachedDispatcher()) // &lt;2&gt;\r\n                            .map(ignored -&gt; Thread.currentThread().getName()))\r\n       .buffer() // &lt;3&gt;\r\n\t   .consume(s -&gt; System.out.println(&quot;s: &quot; + s)); // &lt;4&gt;\r\n```\r\n\r\n1. Create a `Stream` based on the input data.\r\n2. Create a new `Stream` for each `Map` and dispatch map operations on the given `Dispatcher`.\r\n3. Buffer all values until complete, which will be sent downstream when collection is emptied.\r\n4. Consume List&lt;String&gt; which is the result of load-balanced transforms from the substream.\r\n","title":"How to perform multi-threaded map/reduce using Reactor framework 2.x?","body":"<p>It's actually pretty easy now with Reactor 2.0. You could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, Object&gt;&gt; data = readData(); // &lt;1&gt;\n\nStreams.from(data)\n    .flatMap(m -&gt; Streams.just(m)\n                            .dispatchOn(Environment.cachedDispatcher()) // &lt;2&gt;\n                            .map(ignored -&gt; Thread.currentThread().getName()))\n       .buffer() // &lt;3&gt;\n       .consume(s -&gt; System.out.println(&quot;s: &quot; + s)); // &lt;4&gt;\n</code></pre>\n<ol>\n<li>Create a <code>Stream</code> based on the input data.</li>\n<li>Create a new <code>Stream</code> for each <code>Map</code> and dispatch map operations on the given <code>Dispatcher</code>.</li>\n<li>Buffer all values until complete, which will be sent downstream when collection is emptied.</li>\n<li>Consume List which is the result of load-balanced transforms from the substream.</li>\n</ol>\n"}],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27972689,"answer_count":1,"score":3,"last_activity_date":1688660259,"creation_date":1421349485,"question_id":27971274,"body_markdown":"I previously asked [this question](https://stackoverflow.com/questions/22844717/how-do-you-execute-map-reduce-operations-with-the-reactor-framework) for Reactor 1.x:\r\n\r\n&gt; Let&#39;s say I have a `Collection&lt;Map&gt;`. I want to:\r\n&gt; \r\n&gt; Transform each `Map` instance to an object of type `Foo` concurrently (each instance is totally independent of another - there is no need to convert each serially/iteratively).\r\n&gt; \r\n&gt; When all of them are converted, I want a a method, `onReduce(Collection&lt;Foo&gt; foos)`, to be called - the argument contains all of the resulting `Foo` instances.\r\n\r\nBut we can&#39;t seem to find an equivalent solution for Reactor 2.x - just single threaded.\r\n\r\nHow do you perform multi-threaded map/reduce in Reactor 2.x?  For example, how might you do this with an ExecutorService-based Dispatcher?\r\n","title":"How to perform multi-threaded map/reduce using Reactor framework 2.x?","body":"<p>I previously asked <a href=\"https://stackoverflow.com/questions/22844717/how-do-you-execute-map-reduce-operations-with-the-reactor-framework\">this question</a> for Reactor 1.x:</p>\n\n<blockquote>\n  <p>Let's say I have a <code>Collection&lt;Map&gt;</code>. I want to:</p>\n  \n  <p>Transform each <code>Map</code> instance to an object of type <code>Foo</code> concurrently (each instance is totally independent of another - there is no need to convert each serially/iteratively).</p>\n  \n  <p>When all of them are converted, I want a a method, <code>onReduce(Collection&lt;Foo&gt; foos)</code>, to be called - the argument contains all of the resulting <code>Foo</code> instances.</p>\n</blockquote>\n\n<p>But we can't seem to find an equivalent solution for Reactor 2.x - just single threaded.</p>\n\n<p>How do you perform multi-threaded map/reduce in Reactor 2.x?  For example, how might you do this with an ExecutorService-based Dispatcher?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688660932,"post_id":76630727,"comment_id":135107069,"body_markdown":"Are the colums orderded? if yes you can use the position binding","body":"Are the colums orderded? if yes you can use the position binding"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":0,"creation_date":1688661934,"post_id":76630727,"comment_id":135107253,"body_markdown":"@Jens I use CsvBindByName because I need binding by name","body":"@Jens I use CsvBindByName because I need binding by name"},{"owner":{"account_id":14878684,"reputation":775,"user_id":10744028,"display_name":"Fizik26"},"score":0,"creation_date":1696851648,"post_id":76630727,"comment_id":136201659,"body_markdown":"@PavelPetrashov did you found a solution ? I have the same issue as you","body":"@PavelPetrashov did you found a solution ? I have the same issue as you"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688659933,"creation_date":1688659933,"question_id":76630727,"body_markdown":"I use opencsv\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I have this class for mapping:\r\n\r\n    public class LineDto {\r\n    \r\n        @CsvBindByName(column = &quot;First name&quot;, required = true)\r\n        private String firstName;\r\n    \r\n        //getters setters\r\n    \r\n    }\r\n\r\nI need to prevent some user mistakes and if user uplods CSV file where header is `&quot; First name &quot;` it should be OK. For now, I get this error:\r\n\r\n    Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [FIRST NAME, ...]. The list of headers encountered is [ First name ,...].\r\n\r\nHow can I trim headers or improve mapping to support those spaces?\r\n\r\n","title":"Trim spaces in headers when use @CsvBindByName annotation","body":"<p>I use opencsv</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I have this class for mapping:</p>\n<pre><code>public class LineDto {\n\n    @CsvBindByName(column = &quot;First name&quot;, required = true)\n    private String firstName;\n\n    //getters setters\n\n}\n</code></pre>\n<p>I need to prevent some user mistakes and if user uplods CSV file where header is <code>&quot; First name &quot;</code> it should be OK. For now, I get this error:</p>\n<pre><code>Caused by: com.opencsv.exceptions.CsvRequiredFieldEmptyException: Header is missing required fields [FIRST NAME, ...]. The list of headers encountered is [ First name ,...].\n</code></pre>\n<p>How can I trim headers or improve mapping to support those spaces?</p>\n"},{"tags":["java","sql-server","ssl","jdbc","jtds"],"comments":[{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1474742286,"post_id":39677960,"comment_id":66659706,"body_markdown":"For jTDS, the default is `ssl=off`. Try adding `ssl=request` or `ssl=require` to the end of your jTDS connection URL. (jTDS has a [long-standing issue with SSL connections](https://sourceforge.net/p/jtds/bugs/725/) and neither of those worked for me, but I didn&#39;t go downloading patched JAR files or anything like that.) As for Microsoft&#39;s JDBC driver, it is not officially supported on Mac OS (as per &quot;System Requirements listed [here](https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774)).","body":"For jTDS, the default is <code>ssl=off</code>. Try adding <code>ssl=request</code> or <code>ssl=require</code> to the end of your jTDS connection URL. (jTDS has a <a href=\"https://sourceforge.net/p/jtds/bugs/725/\" rel=\"nofollow noreferrer\">long-standing issue with SSL connections</a> and neither of those worked for me, but I didn&#39;t go downloading patched JAR files or anything like that.) As for Microsoft&#39;s JDBC driver, it is not officially supported on Mac OS (as per &quot;System Requirements listed <a href=\"https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474742804,"post_id":39677960,"comment_id":66659853,"body_markdown":"I will try this tomorrow . Thanks.","body":"I will try this tomorrow . Thanks."},{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1474753541,"post_id":39677960,"comment_id":66662717,"body_markdown":"Also, since it appears that you are trying to connect to Azure, you should make sure that you are using a current version of the Microsoft JDBC driver. FWIW, I just tried the latest version of the Microsoft driver in &quot;sqljdbc_6.0.7507.100_enu.tar.gz&quot; and it worked just fine over SSL from a Ubuntu 16.04 LTS box. Even though macOS may not be officially supported, a web search uncovered a number of claims that the Microsoft JDBC can (or at least *used to*) work on Macs, e.g., [here](http://razorsql.com/articles/sql_server_mac.html).","body":"Also, since it appears that you are trying to connect to Azure, you should make sure that you are using a current version of the Microsoft JDBC driver. FWIW, I just tried the latest version of the Microsoft driver in &quot;sqljdbc_6.0.7507.100_enu.tar.gz&quot; and it worked just fine over SSL from a Ubuntu 16.04 LTS box. Even though macOS may not be officially supported, a web search uncovered a number of claims that the Microsoft JDBC can (or at least <i>used to</i>) work on Macs, e.g., <a href=\"http://razorsql.com/articles/sql_server_mac.html\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474753966,"post_id":39677960,"comment_id":66662828,"body_markdown":"@GordThompson i was fine a few days ago but this error started to randomly appear.. already tried reinstalling java etc. But no success... i will try a different network soon as I think it might be related to that. Thanks for your reply","body":"@GordThompson i was fine a few days ago but this error started to randomly appear.. already tried reinstalling java etc. But no success... i will try a different network soon as I think it might be related to that. Thanks for your reply"},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1474961379,"post_id":39677960,"comment_id":66734709,"body_markdown":"Do you have a SQL server installed in a VM on your mac laptop or is it a different database server on your home network? Are you accessing the database across a VPN? Can you give any details on the network? What version of SQL server are you using? What version of java? I use the official microsoft driver with SQL Server 2008,2012, and I have similar errors, but it was probably not the same scenario. Sorry for all the questions.","body":"Do you have a SQL server installed in a VM on your mac laptop or is it a different database server on your home network? Are you accessing the database across a VPN? Can you give any details on the network? What version of SQL server are you using? What version of java? I use the official microsoft driver with SQL Server 2008,2012, and I have similar errors, but it was probably not the same scenario. Sorry for all the questions."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474961866,"post_id":39677960,"comment_id":66735054,"body_markdown":"@J-Bar java version: 1.8.0_10; SQL Server; Microsoft SQL Azure (RTM) - 12.0.2000.8","body":"@J-Bar java version: 1.8.0_10; SQL Server; Microsoft SQL Azure (RTM) - 12.0.2000.8"},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1474962256,"post_id":39677960,"comment_id":66735297,"body_markdown":"If the only variable is the network, then that is probably where the problem is. I had this same error happen when the windows server went to install updates.","body":"If the only variable is the network, then that is probably where the problem is. I had this same error happen when the windows server went to install updates."},{"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"score":0,"creation_date":1474985481,"post_id":39677960,"comment_id":66751250,"body_markdown":"But how does it even matter what network I am working on? I have no clue where to begin looking :/","body":"But how does it even matter what network I am working on? I have no clue where to begin looking :/"}],"answers":[{"tags":[],"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475513366,"creation_date":1475513366,"answer_id":39836553,"question_id":39677960,"body_markdown":"I suspect that when your laptop is on a &quot;different network&quot; that it is then inside the firewall that is also protecting the database servers you are connecting to. Hence, there is no problem making the database connections for this case.\r\n\r\nYour &quot;network at home&quot; I presume is outside of the firewall protecting the database servers that you are trying to connect to. Hence, your database connection attempts for this case are being ignored due to the firewall protection.\r\n\r\nIf these assumptions are correct, you will need to contact the network administrator of the &quot;different network&quot; to gain access through the firewall from your home network.\r\n\r\nI hope this helps.","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>I suspect that when your laptop is on a \"different network\" that it is then inside the firewall that is also protecting the database servers you are connecting to. Hence, there is no problem making the database connections for this case.</p>\n\n<p>Your \"network at home\" I presume is outside of the firewall protecting the database servers that you are trying to connect to. Hence, your database connection attempts for this case are being ignored due to the firewall protection.</p>\n\n<p>If these assumptions are correct, you will need to contact the network administrator of the \"different network\" to gain access through the firewall from your home network.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":252159,"reputation":503,"user_id":529998,"display_name":"wonsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485252866,"creation_date":1485252866,"answer_id":41825457,"question_id":39677960,"body_markdown":"Your problem is similar to https://youtrack.jetbrains.com/issue/IDEA-163324\r\n\r\nThe solution is:\r\n\r\n - open terminal\r\n - run `scutil --getHostName`\r\n - if hostname is not set or contains .local, run `sudo scutil --set HostName &quot;&lt;YOUR HOSTNAME HERE&gt;&quot;`\r\n\r\n\r\n\r\n","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Your problem is similar to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-163324\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-163324</a></p>\n\n<p>The solution is:</p>\n\n<ul>\n<li>open terminal</li>\n<li>run <code>scutil --getHostName</code></li>\n<li>if hostname is not set or contains .local, run <code>sudo scutil --set HostName \"&lt;YOUR HOSTNAME HERE&gt;\"</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14782139,"reputation":2029,"user_id":10675401,"display_name":"Sunil Kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542713059,"creation_date":1542708319,"answer_id":53390562,"question_id":39677960,"body_markdown":"Please make your string `url` like below and add `sqljdbc42.jar` in your project\r\n\r\n    url = &quot;jdbc:sqlserver://&quot; +serverName + &quot;:1433;DatabaseName=&quot; + dbName +&quot;;\r\n\r\n    encrypt = true;\r\n\r\n    trustServerCertificate=true;","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Please make your string <code>url</code> like below and add <code>sqljdbc42.jar</code> in your project</p>\n\n<pre><code>url = \"jdbc:sqlserver://\" +serverName + \":1433;DatabaseName=\" + dbName +\";\n\nencrypt = true;\n\ntrustServerCertificate=true;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3174520,"reputation":529,"user_id":2682721,"accept_rate":67,"display_name":"ChiranjeeviIT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622033970,"creation_date":1622033970,"answer_id":67705420,"question_id":39677960,"body_markdown":"This exception also be present when your SQLJDBC driver jar is old .. for example if your SQL server is latest 2018 or 2019 then if you use old JDBC jar file like sqljdbc4.0 then you will get this exception\r\n\r\n**Solution for this would be** take latest jar file to support 2018 or 2020 version .. i have used below jar file **mssql-jdbc-7.2.2.jre8.jar** to solve the issue. so look into this way as well","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>This exception also be present when your SQLJDBC driver jar is old .. for example if your SQL server is latest 2018 or 2019 then if you use old JDBC jar file like sqljdbc4.0 then you will get this exception</p>\n<p><strong>Solution for this would be</strong> take latest jar file to support 2018 or 2020 version .. i have used below jar file <strong>mssql-jdbc-7.2.2.jre8.jar</strong> to solve the issue. so look into this way as well</p>\n"},{"tags":[],"owner":{"account_id":4028793,"reputation":27,"user_id":3315830,"display_name":"Hassan Ali Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633510535,"creation_date":1633443573,"answer_id":69452156,"question_id":39677960,"body_markdown":"Use:\r\n\r\n\tjava.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;,&quot;&quot;);","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>Use:</p>\n<pre><code>java.security.Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;,&quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2575000,"reputation":2740,"user_id":2232902,"accept_rate":62,"display_name":"rahulroy9202"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688659449,"creation_date":1688659449,"answer_id":76630671,"question_id":39677960,"body_markdown":"for DataGrip\r\n\r\ngo to advanced and set `trustServerCertificate` to `true`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zRmGm.png","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>for DataGrip</p>\n<p>go to advanced and set <code>trustServerCertificate</code> to <code>true</code></p>\n<p><a href=\"https://i.stack.imgur.com/zRmGm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRmGm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7518954,"reputation":530,"user_id":5711524,"accept_rate":84,"display_name":"Mees Kluivers"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25400,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39836553,"answer_count":6,"score":14,"last_activity_date":1688659449,"creation_date":1474730530,"question_id":39677960,"body_markdown":"I&#39;m having problems connecting to SQL databases. Whenever I try to connect to a SQL server I get the following error;\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n    \tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\r\n    \t... 143 more\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....&quot;.\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1667)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1323)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\r\n    \t... 160 more\r\n    Caused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:651)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:708)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:700)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:895)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:883)\r\n    \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n    \tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)\r\n    \t... 165 more\r\n\r\nThis is using `com.microsoft.sqlserver.jdbc.SQLServerDriver`\r\n\r\nWhenever I use the JtDS driver (suggested by eg. [this post][1]), I&#39;m still not able to connect to the SQL server and I get the following error.\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\r\n    \tat org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n    \tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\r\n    \t... 143 more\r\n    Caused by: java.sql.SQLException: I/O Error: DB server closed connection.\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\r\n    \tat net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\r\n    \t... 160 more\r\n    Caused by: java.io.IOException: DB server closed connection.\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:852)\r\n    \tat net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)\r\n    \tat net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)\r\n    \tat net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368)\r\n    \t... 164 more\r\n\r\nThe connection string I use: (using jtds)\r\n\r\n`jdbc:jtds:sqlserver://url.database.windows.net:[PORT];database=name;`\r\n\r\nOR when not using jtds..\r\n\r\n`jdbc:sqlserver://url.database.windows.net:[PORT];database=name;`\r\n\r\n\r\nI also have a server that is actually able to run and connect to the database using these configurations. I just keep getting these errors trying to connect to the database locally.\r\n\r\n\r\nI am running macOS Sierra version 10.21\r\n\r\njtds version:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nsqlserver version:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n       &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n       &lt;version&gt;4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**EDIT:**\r\n\r\n**I am able to connect to the database using the same configuration AND same laptop on a different network. It is only on my network at home that I get this error**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18620869/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure","title":"The driver could not establish a secure connection to SQL Server by using SSL","body":"<p>I'm having problems connecting to SQL databases. Whenever I try to connect to a SQL server I get the following error;</p>\n\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\n    ... 143 more\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\".\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1667)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1668)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1323)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\n    ... 160 more\nCaused by: java.io.IOException: SQL Server did not return a response. The connection has been closed. ClientConnectionId:.....\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:651)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:708)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:700)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:895)\n    at com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:883)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:973)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1618)\n    ... 165 more\n</code></pre>\n\n<p>This is using <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code></p>\n\n<p>Whenever I use the JtDS driver (suggested by eg. <a href=\"https://stackoverflow.com/questions/18620869/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure\">this post</a>), I'm still not able to connect to the SQL server and I get the following error.</p>\n\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:132)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator$1$1.convert(BasicConnectionCreator.java:118)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:140)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:75)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:106)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.buildJdbcConnectionAccess(JdbcServicesImpl.java:260)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:94)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:111)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:234)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:206)\n    at org.hibernate.cfg.Configuration.buildTypeRegistrations(Configuration.java:1887)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1845)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:857)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:425)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:849)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:75)\n    ... 143 more\nCaused by: java.sql.SQLException: I/O Error: DB server closed connection.\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)\n    at net.sourceforge.jtds.jdbc.TdsCore.login(TdsCore.java:632)\n    at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:371)\n    at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:55)\n    ... 160 more\nCaused by: java.io.IOException: DB server closed connection.\n    at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:852)\n    at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)\n    at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)\n    at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:114)\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2368)\n    ... 164 more\n</code></pre>\n\n<p>The connection string I use: (using jtds)</p>\n\n<p><code>jdbc:jtds:sqlserver://url.database.windows.net:[PORT];database=name;</code></p>\n\n<p>OR when not using jtds..</p>\n\n<p><code>jdbc:sqlserver://url.database.windows.net:[PORT];database=name;</code></p>\n\n<p>I also have a server that is actually able to run and connect to the database using these configurations. I just keep getting these errors trying to connect to the database locally.</p>\n\n<p>I am running macOS Sierra version 10.21</p>\n\n<p>jtds version:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n    &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>sqlserver version:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n   &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n   &lt;version&gt;4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>I am able to connect to the database using the same configuration AND same laptop on a different network. It is only on my network at home that I get this error</strong></p>\n"},{"tags":["java","dependency-injection","cdi"],"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1688658347,"post_id":76623787,"comment_id":135106518,"body_markdown":"You might be interested in https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/, or an approach like it.","body":"You might be interested in <a href=\"https://lairdnelson.wordpress.com/2017/02/11/dynamic-cdi-producer-methods/\" rel=\"nofollow noreferrer\">lairdnelson.wordpress.com/2017/02/11/&hellip;</a>, or an approach like it."}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1688589220,"creation_date":1688589220,"answer_id":76623875,"question_id":76623787,"body_markdown":"Why don&#39;t you start with plain old Java interface design?\r\n\r\nWhat is methods signature that is in use?\r\n\r\nDo you know how to do without CDI with `new` ?\r\n\r\nIf you don&#39;t that taking about CDI (Contexts and Dependency Injection) only complicates. Why not Spring? etc\r\n\r\nThe best design does not depend on any framework.\r\n\r\nP.S. And please share real code.","title":"CDI producer that handles any qualifier","body":"<p>Why don't you start with plain old Java interface design?</p>\n<p>What is methods signature that is in use?</p>\n<p>Do you know how to do without CDI with <code>new</code> ?</p>\n<p>If you don't that taking about CDI (Contexts and Dependency Injection) only complicates. Why not Spring? etc</p>\n<p>The best design does not depend on any framework.</p>\n<p>P.S. And please share real code.</p>\n"},{"tags":[],"owner":{"account_id":6693816,"reputation":763,"user_id":5162472,"display_name":"dfogni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688597662,"creation_date":1688597662,"answer_id":76624524,"question_id":76623787,"body_markdown":"The question is too generic to provide a direct answer.\r\n\r\nIt looks like what you are trying to do should be implemented as a *CDI portable extension*.\r\n\r\nThe extension SPI provides hooks that can dynamically modify both qualifiers and producers.\r\n\r\nThe *InjectionTarget* is the abstraction of the concept you are trying to apply, see this documentation https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget","title":"CDI producer that handles any qualifier","body":"<p>The question is too generic to provide a direct answer.</p>\n<p>It looks like what you are trying to do should be implemented as a <em>CDI portable extension</em>.</p>\n<p>The extension SPI provides hooks that can dynamically modify both qualifiers and producers.</p>\n<p>The <em>InjectionTarget</em> is the abstraction of the concept you are trying to apply, see this documentation <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget\" rel=\"nofollow noreferrer\">https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html#_wrapping_an_injectiontarget</a></p>\n"},{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688659333,"creation_date":1688659333,"answer_id":76630656,"question_id":76623787,"body_markdown":"You&#39;ll need to write a portable extension that:\r\n\r\n1. is notified upon the appearance of any `Set` of qualifiers that qualify non-vetoed injection scenarios (observing `ProcessInjectionPoint` will get you most of the way there, if not all the way)\r\n2. at `AfterBeanDiscovery` time, for each `Set` of harvested qualifiers, adds beans that produce the qualified things\r\n\r\nor something of this nature.\r\n\r\nTo do (2), you may just want to use the `BeanConfigurator` stuff, i.e.:\r\n```\r\nprivate void addMyBeans(@Observes AfterBeanDiscovery event) {\r\n  event.addBean()\r\n    .types(...)\r\n    .qualifiers(harvestedQualifiers)\r\n    .scope(...)\r\n    .produceWith(i -&gt; new Frobnicator()) // create whatever it is you&#39;re making\r\n    .disposeWith(...)\r\n```\r\n","title":"CDI producer that handles any qualifier","body":"<p>You'll need to write a portable extension that:</p>\n<ol>\n<li>is notified upon the appearance of any <code>Set</code> of qualifiers that qualify non-vetoed injection scenarios (observing <code>ProcessInjectionPoint</code> will get you most of the way there, if not all the way)</li>\n<li>at <code>AfterBeanDiscovery</code> time, for each <code>Set</code> of harvested qualifiers, adds beans that produce the qualified things</li>\n</ol>\n<p>or something of this nature.</p>\n<p>To do (2), you may just want to use the <code>BeanConfigurator</code> stuff, i.e.:</p>\n<pre><code>private void addMyBeans(@Observes AfterBeanDiscovery event) {\n  event.addBean()\n    .types(...)\n    .qualifiers(harvestedQualifiers)\n    .scope(...)\n    .produceWith(i -&gt; new Frobnicator()) // create whatever it is you're making\n    .disposeWith(...)\n</code></pre>\n"}],"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76630656,"answer_count":3,"score":1,"last_activity_date":1688659333,"creation_date":1688588456,"question_id":76623787,"body_markdown":"Can I create a producer method that handles *any* arbitrary qualifier?  i.e.: even qualifiers I&#39;m not &quot;aware-of&quot; at design time?\r\n\r\nThe challenge is that I want to create an injectable simplification of an outside-developed injectable component.  The tough part is: I want my simplification to support all the qualifier annotations of the original component.  And to be future-proof, I want to be agnostic to those qualifiers.\r\n\r\nMy plan was to have my producer dynamically create the original component using qualifiers passed to my producer method&#39;s `InjectionPoint`, but CDI isn&#39;t matching my producer with the original component&#39;s qualifiers.  Is there a way to declare my producer to handle arbitrary qualifiers?  I don&#39;t think `@Decorator` is an option, since I want to wrap the original component without exposing its interface.","title":"CDI producer that handles any qualifier","body":"<p>Can I create a producer method that handles <em>any</em> arbitrary qualifier?  i.e.: even qualifiers I'm not &quot;aware-of&quot; at design time?</p>\n<p>The challenge is that I want to create an injectable simplification of an outside-developed injectable component.  The tough part is: I want my simplification to support all the qualifier annotations of the original component.  And to be future-proof, I want to be agnostic to those qualifiers.</p>\n<p>My plan was to have my producer dynamically create the original component using qualifiers passed to my producer method's <code>InjectionPoint</code>, but CDI isn't matching my producer with the original component's qualifiers.  Is there a way to declare my producer to handle arbitrary qualifiers?  I don't think <code>@Decorator</code> is an option, since I want to wrap the original component without exposing its interface.</p>\n"},{"tags":["java","endpoint","datadog","datadog-dashboard"],"owner":{"account_id":7496453,"reputation":33,"user_id":5696544,"display_name":"Alexandre Mateus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688659199,"creation_date":1688653146,"question_id":76629800,"body_markdown":"How to find on Datadog all applications that call a specific endpoint, like &quot;/my-endpoint/test&quot; ?\r\nI&#39;ve tried to search on Logs, but I&#39;m not sure if it&#39;s reliable.\r\nWhat&#39;s the better way?\r\n","title":"Datadog - Find API calls","body":"<p>How to find on Datadog all applications that call a specific endpoint, like &quot;/my-endpoint/test&quot; ?\nI've tried to search on Logs, but I'm not sure if it's reliable.\nWhat's the better way?</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":1,"creation_date":1653641705,"post_id":72401149,"comment_id":127904971,"body_markdown":"Welcome to StackOverflow! Does it help if you [set the feature](https://xml.apache.org/xalan-j/apidocs/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,%20boolean)) `XMLConstants.FEATURE_SECURE_PROCESSING` to false?","body":"Welcome to StackOverflow! Does it help if you <a href=\"https://xml.apache.org/xalan-j/apidocs/javax/xml/transform/TransformerFactory.html#setFeature(java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\">set the feature</a> <code>XMLConstants.FEATURE_SECURE_PROCESSING</code> to false?"}],"answers":[{"tags":[],"owner":{"account_id":25703034,"reputation":96,"user_id":19462805,"display_name":"Ingo Wilkening"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1656700490,"creation_date":1656700490,"answer_id":72833393,"question_id":72401149,"body_markdown":"That behaviour seems to come from new FEATURE_SECURE_PROCESSING, which Oracle introduced in a recent &quot;update&quot; of their Java. See: [https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html][1]\r\n\r\nIt is 3 parameters they introduced:\r\n\r\n 1. jdk.xml.xpathExprGrpLimit Description: Limits the number of groups\r\n    an XPath expression can contain. Default 10.\r\n 2. jdk.xml.xpathExprOpLimit Description: Limits the number of operators\r\n    an XPath expression can contain. Default 100.\r\n 3. jdk.xml.xpathTotalOpLimit Description: Limits the total number of\r\n    XPath operators in an XSL Stylesheet. Default 10000.\r\n\r\nYour problem is on #2 (JAXP0801002, default 100).\r\nWe got a very similar issue on #3 (JAXP0801003, default 10.000), with this message (quoted, so google will find it):\r\n\r\n```\r\nERROR:  &#39;JAXP0801003: the compiler encountered XPath expressions with an accumulated &#39;10.002&#39; operators that exceeds the &#39;10.000&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.&#39;\r\nFATAL ERROR:  &#39;JAXP0801003: the compiler encountered XPath expressions with an accumulated &#39;10.002&#39; operators that exceeds the &#39;10.000&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.&#39;\r\n```\r\n\r\nWe wasted 2 days in getting away of that sh*t.\r\n\r\nWe added some parameters to the java call:\r\n```\r\n    java -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0 -Xmx2g -Xms512m -XX:-UseGCOverheadLimit ....\r\n\r\n```\r\n\r\nParameters 1,2,3 to to solve the issue. Values &quot;0&quot; set the limits to &quot;off&quot;. As XPath can now get huge, it might be advisable to set the heap and stack size and change behaviour of the garbage collection (parameters 4-6).\r\n\r\nI hope it will help you too. Have fun!\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>That behaviour seems to come from new FEATURE_SECURE_PROCESSING, which Oracle introduced in a recent &quot;update&quot; of their Java. See: <a href=\"https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/11-0-15-relnotes.html</a></p>\n<p>It is 3 parameters they introduced:</p>\n<ol>\n<li>jdk.xml.xpathExprGrpLimit Description: Limits the number of groups\nan XPath expression can contain. Default 10.</li>\n<li>jdk.xml.xpathExprOpLimit Description: Limits the number of operators\nan XPath expression can contain. Default 100.</li>\n<li>jdk.xml.xpathTotalOpLimit Description: Limits the total number of\nXPath operators in an XSL Stylesheet. Default 10000.</li>\n</ol>\n<p>Your problem is on #2 (JAXP0801002, default 100).\nWe got a very similar issue on #3 (JAXP0801003, default 10.000), with this message (quoted, so google will find it):</p>\n<pre><code>ERROR:  'JAXP0801003: the compiler encountered XPath expressions with an accumulated '10.002' operators that exceeds the '10.000' limit set by 'FEATURE_SECURE_PROCESSING'.'\nFATAL ERROR:  'JAXP0801003: the compiler encountered XPath expressions with an accumulated '10.002' operators that exceeds the '10.000' limit set by 'FEATURE_SECURE_PROCESSING'.'\n</code></pre>\n<p>We wasted 2 days in getting away of that sh*t.</p>\n<p>We added some parameters to the java call:</p>\n<pre><code>    java -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0 -Xmx2g -Xms512m -XX:-UseGCOverheadLimit ....\n\n</code></pre>\n<p>Parameters 1,2,3 to to solve the issue. Values &quot;0&quot; set the limits to &quot;off&quot;. As XPath can now get huge, it might be advisable to set the heap and stack size and change behaviour of the garbage collection (parameters 4-6).</p>\n<p>I hope it will help you too. Have fun!</p>\n"},{"tags":[],"owner":{"account_id":26347521,"reputation":1,"user_id":20005652,"display_name":"Sam B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663260449,"creation_date":1663260293,"answer_id":73734773,"question_id":72401149,"body_markdown":"If you are running into this problem on MacBook M1 or newer. Try a compatible jdk version from either amazon corretto or zulu. I had to try multiple versions for it to work but specifically 8.275. \r\nhttps://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true\r\n\r\nHope this helps!","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>If you are running into this problem on MacBook M1 or newer. Try a compatible jdk version from either amazon corretto or zulu. I had to try multiple versions for it to work but specifically 8.275.\n<a href=\"https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?version=java-8-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk&amp;show-old-builds=true</a></p>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":26352361,"reputation":1,"user_id":20009784,"display_name":"Rahul Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663309509,"creation_date":1663309388,"answer_id":73740690,"question_id":72401149,"body_markdown":"Rahul Meena\r\n-Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0\r\n\r\nPut 3 steps in your restart files.","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>Rahul Meena\n-Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0</p>\n<p>Put 3 steps in your restart files.</p>\n"},{"tags":[],"owner":{"account_id":12256558,"reputation":1,"user_id":8945448,"display_name":"Leon Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676558801,"creation_date":1676558801,"answer_id":75473918,"question_id":72401149,"body_markdown":"I encounter this error in my M1 mbp with Oracle OpenJDK17. It also occurs when running in product env that is based on OpenJDK17 and centos.\r\n\r\nThis [answer](https://stackoverflow.com/a/72833393/8945448) surely helps me. But I can not modify all JVM configurations in our product cluster.\r\n\r\nSo I just set these three parameters using Java code: \r\n\r\n\r\n    System.setProperty(&quot;jdk.xml.xpathExprGrpLimit&quot;, &quot;0&quot;);\r\n    System.setProperty(&quot;jdk.xml.xpathExprOpLimit&quot;, &quot;0&quot;);\r\n    System.setProperty(&quot;jdk.xml.xpathTotalOpLimit&quot;, &quot;0&quot;);\r\n\r\nNotice: Set these parameters before TransformerFactory initialization.","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>I encounter this error in my M1 mbp with Oracle OpenJDK17. It also occurs when running in product env that is based on OpenJDK17 and centos.</p>\n<p>This <a href=\"https://stackoverflow.com/a/72833393/8945448\">answer</a> surely helps me. But I can not modify all JVM configurations in our product cluster.</p>\n<p>So I just set these three parameters using Java code:</p>\n<pre><code>System.setProperty(&quot;jdk.xml.xpathExprGrpLimit&quot;, &quot;0&quot;);\nSystem.setProperty(&quot;jdk.xml.xpathExprOpLimit&quot;, &quot;0&quot;);\nSystem.setProperty(&quot;jdk.xml.xpathTotalOpLimit&quot;, &quot;0&quot;);\n</code></pre>\n<p>Notice: Set these parameters before TransformerFactory initialization.</p>\n"},{"tags":[],"owner":{"account_id":422488,"reputation":942,"user_id":801300,"accept_rate":40,"display_name":"Dapper Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688658804,"creation_date":1688658804,"answer_id":76630597,"question_id":72401149,"body_markdown":"Thanks to @`Ingo Wilkening` for providing a solution that worked effectively for me. If your application is running on the Tomcat web server,    \r\n\r\nLocate the `catalina.sh` script in your Tomcat installation directory. You can use the find command as follows:\r\n \r\n\r\n    find /path/to/tomcat -name catalina.sh\r\n\r\nOnce you have found the catalina.sh file, open it in a text editor. You can use the vi editor,  \r\n \r\n\r\n    vi /path/to/tomcat/bin/catalina.sh\r\n\r\nWithin the catalina.sh file, look for the section where Java options (JAVA_OPTS) are typically set. \r\nAdd the following lines to set the desired Java system properties:\r\n \r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0&quot;\r\n\r\nSave the changes and restart tomcat. \r\n \r\n ","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>Thanks to @<code>Ingo Wilkening</code> for providing a solution that worked effectively for me. If your application is running on the Tomcat web server,</p>\n<p>Locate the <code>catalina.sh</code> script in your Tomcat installation directory. You can use the find command as follows:</p>\n<pre><code>find /path/to/tomcat -name catalina.sh\n</code></pre>\n<p>Once you have found the catalina.sh file, open it in a text editor. You can use the vi editor,</p>\n<pre><code>vi /path/to/tomcat/bin/catalina.sh\n</code></pre>\n<p>Within the catalina.sh file, look for the section where Java options (JAVA_OPTS) are typically set.\nAdd the following lines to set the desired Java system properties:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djdk.xml.xpathExprGrpLimit=0 -Djdk.xml.xpathExprOpLimit=0 -Djdk.xml.xpathTotalOpLimit=0&quot;\n</code></pre>\n<p>Save the changes and restart tomcat.</p>\n"}],"owner":{"account_id":22606522,"reputation":93,"user_id":16787371,"display_name":"Vladimir Hambalek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8839,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":72833393,"answer_count":5,"score":9,"last_activity_date":1688658804,"creation_date":1653631843,"question_id":72401149,"body_markdown":"I used my own xlst transformator in java (XSLTTransformator) but transformation is very big and I have got error:\r\n \r\n\r\n    Caused by: javax.xml.transform.TransformerConfigurationException: JAXP0801002: the compiler encountered an XPath expression containing &#39;107&#39; operators that exceeds the &#39;100&#39; limit set by &#39;FEATURE_SECURE_PROCESSING&#39;.\r\n                    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\r\n                    at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:44)\r\n                    at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:21)\r\n                    at com.gratex.java.util.SoftValueCache.get(SoftValueCache.java:41)\r\n                    at com.aspp.dms.ruleengine.transformation.XSLTTransformator.transform(XSLTTransformator.java:73)\r\n\r\nCan you please help me find correct argument for java to solve my problem? Something like -DxpathOperatorsLimit=150\r\n\r\nthank you","title":"limit set by &#39;FEATURE_SECURE_PROCESSING&#39;","body":"<p>I used my own xlst transformator in java (XSLTTransformator) but transformation is very big and I have got error:</p>\n<pre><code>Caused by: javax.xml.transform.TransformerConfigurationException: JAXP0801002: the compiler encountered an XPath expression containing '107' operators that exceeds the '100' limit set by 'FEATURE_SECURE_PROCESSING'.\n                at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\n                at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:44)\n                at com.aspp.dms.ruleengine.transformation.TemplatesCache.retrieveUncached(TemplatesCache.java:21)\n                at com.gratex.java.util.SoftValueCache.get(SoftValueCache.java:41)\n                at com.aspp.dms.ruleengine.transformation.XSLTTransformator.transform(XSLTTransformator.java:73)\n</code></pre>\n<p>Can you please help me find correct argument for java to solve my problem? Something like -DxpathOperatorsLimit=150</p>\n<p>thank you</p>\n"},{"tags":["java","cross-compiling"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1688641314,"post_id":76628100,"comment_id":135102549,"body_markdown":"The method does not exist in version 8 of Java. So you can&#39;t use it with version 8 of Java. Assume you built a new house. Assume that new house has a new stove. Why can&#39;t you use that stove in your old house? **Because** it is in the new house.","body":"The method does not exist in version 8 of Java. So you can&#39;t use it with version 8 of Java. Assume you built a new house. Assume that new house has a new stove. Why can&#39;t you use that stove in your old house? <b>Because</b> it is in the new house."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688641416,"post_id":76628100,"comment_id":135102571,"body_markdown":"But as I said, the methods are already available. Why can&#39;t it just use them?","body":"But as I said, the methods are already available. Why can&#39;t it just use them?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688641870,"post_id":76628100,"comment_id":135102679,"body_markdown":"You explicitly asked for a class which was compatible with Java 1.8, so `javac` refuses to compile code with `Map.of()` in it. Because that `.class` file wouldn&#39;t work with a 1.8 JRE.","body":"You explicitly asked for a class which was compatible with Java 1.8, so <code>javac</code> refuses to compile code with <code>Map.of()</code> in it. Because that <code>.class</code> file wouldn&#39;t work with a 1.8 JRE."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1688641894,"post_id":76628100,"comment_id":135102687,"body_markdown":"Because, even though you are having JDK 17, you are asking the compiler to use the syntax of JDK 8. What JRE is installed on the target system is immaterial at the time of compilation. Compilation has to restrict the API usage of JDK 8 and before as you have specified that source and target. When actually it is deployed in JDK 17, then it runs with all the features of 17 at the JVM level, but your code is still compiled with compatibility with JDK 8. It can run on JRE 8 too.","body":"Because, even though you are having JDK 17, you are asking the compiler to use the syntax of JDK 8. What JRE is installed on the target system is immaterial at the time of compilation. Compilation has to restrict the API usage of JDK 8 and before as you have specified that source and target. When actually it is deployed in JDK 17, then it runs with all the features of 17 at the JVM level, but your code is still compiled with compatibility with JDK 8. It can run on JRE 8 too."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1688642014,"post_id":76628100,"comment_id":135102713,"body_markdown":"Actually, I&#39;m wrong above. You can use `javac -source 1.8 -target 1.8` to compile code which uses `Map.of()`.","body":"Actually, I&#39;m wrong above. You can use <code>javac -source 1.8 -target 1.8</code> to compile code which uses <code>Map.of()</code>."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688642028,"post_id":76628100,"comment_id":135102720,"body_markdown":"Maybe I&#39;m wrong:  You using the tools from java17 and the code syntax from Java 8. The jre from Java8 does know the format from bytecode but has no implementation for newer tools.","body":"Maybe I&#39;m wrong:  You using the tools from java17 and the code syntax from Java 8. The jre from Java8 does know the format from bytecode but has no implementation for newer tools."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688642061,"post_id":76628100,"comment_id":135102729,"body_markdown":"When you say &quot;I noticed I can&#39;t use Map.of() function&quot;, what was preventing you from using it?","body":"When you say &quot;I noticed I can&#39;t use Map.of() function&quot;, what was preventing you from using it?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688642195,"post_id":76628100,"comment_id":135102760,"body_markdown":"@tgdavies Really? but your explanation sounds reasonable. If I target jre 1.8, it should be runnable on 1.8 so it must not have `Map.of`.\nFor me it just says &quot;cannot find symbol&quot;","body":"@tgdavies Really? but your explanation sounds reasonable. If I target jre 1.8, it should be runnable on 1.8 so it must not have <code>Map.of</code>. For me it just says &quot;cannot find symbol&quot;"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1688642635,"post_id":76628100,"comment_id":135102836,"body_markdown":"@tgdavies  When I look at the source code for the RTL, I cannot find a marker for methods or classes that restricts that code to a particular version. There is only the `@since` JavaDoc tag, and I doubt that this will be translated somehow to something like `if( version &gt; 1.8 )` or alike. So that pure extensions of classes like `map.of()` will work does not surprises me. But `var` should not work, also pattern matching should not work, when compiling with `-source 1.8`. The `-target 1.8` only controls the binary output.","body":"@tgdavies  When I look at the source code for the RTL, I cannot find a marker for methods or classes that restricts that code to a particular version. There is only the <code>@since</code> JavaDoc tag, and I doubt that this will be translated somehow to something like <code>if( version &gt; 1.8 )</code> or alike. So that pure extensions of classes like <code>map.of()</code> will work does not surprises me. But <code>var</code> should not work, also pattern matching should not work, when compiling with <code>-source 1.8</code>. The <code>-target 1.8</code> only controls the binary output."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688643962,"post_id":76628100,"comment_id":135103112,"body_markdown":"Anyway -- you don&#39;t want to do this. Your &quot;older Java program which uses Map.of()&quot; is not going to run on a 1.8 JRE, because it won&#39;t find that method, so why bother targeting 1.8 in the first place?","body":"Anyway -- you don&#39;t want to do this. Your &quot;older Java program which uses Map.of()&quot; is not going to run on a 1.8 JRE, because it won&#39;t find that method, so why bother targeting 1.8 in the first place?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688644262,"post_id":76628100,"comment_id":135103186,"body_markdown":"It&#39;s this big old project which was running on java 8, we changed the jre to 17 to use the GC algorithms. Changing language level to 17 is another step which we might take in the future. Since the only people running our program are us, I thought why not use features in java 17 if we can.","body":"It&#39;s this big old project which was running on java 8, we changed the jre to 17 to use the GC algorithms. Changing language level to 17 is another step which we might take in the future. Since the only people running our program are us, I thought why not use features in java 17 if we can."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688645118,"post_id":76628100,"comment_id":135103394,"body_markdown":"Map.of doesn&#39;t exist in jdk 1.8 but it is valid. You can compile fine with source/target set for java 1.8. When you try to run it on a 1.8 jvm though, it cannot find the method. How do you think it could have that method available? Also, if you compile code, then run it on a 1.8 jvm, it will use the 1.8 GC. What problem do you think you would have if you change the language level?","body":"Map.of doesn&#39;t exist in jdk 1.8 but it is valid. You can compile fine with source/target set for java 1.8. When you try to run it on a 1.8 jvm though, it cannot find the method. How do you think it could have that method available? Also, if you compile code, then run it on a 1.8 jvm, it will use the 1.8 GC. What problem do you think you would have if you change the language level?"},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688646350,"post_id":76628100,"comment_id":135103680,"body_markdown":"@matt I only run on jre 17 which should find the method. My question was how is it that it can use GC from java 17, but not `Map.of` from it?","body":"@matt I only run on jre 17 which should find the method. My question was how is it that it can use GC from java 17, but not <code>Map.of</code> from it?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688646510,"post_id":76628100,"comment_id":135103712,"body_markdown":"&quot;it just says &quot;cannot find symbol&quot;&quot; -- what is *it*?","body":"&quot;it just says &quot;cannot find symbol&quot;&quot; -- what is <i>it</i>?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688646546,"post_id":76628100,"comment_id":135103718,"body_markdown":"(and I still don&#39;t understand why you aren&#39;t compiling with source and target 17)","body":"(and I still don&#39;t understand why you aren&#39;t compiling with source and target 17)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688647087,"post_id":76628100,"comment_id":135103869,"body_markdown":"@ParSal I don&#39;t believe it. If you are using JRE 8, then it will use that GC and it will not be able to find the symbol for Map.of, they dont&#39; exist. They&#39;re not included in the class file you compile. If you are using JRE 17, then it will use the new GC and it will find the symbol for Map.of.","body":"@ParSal I don&#39;t believe it. If you are using JRE 8, then it will use that GC and it will not be able to find the symbol for Map.of, they dont&#39; exist. They&#39;re not included in the class file you compile. If you are using JRE 17, then it will use the new GC and it will find the symbol for Map.of."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688647175,"post_id":76628100,"comment_id":135103897,"body_markdown":"Assume I wrote instructions for preparing a recipe with a two burner stove. You have a four burner stove. So you ***can*** do several of the steps at the same time (when you use a four burner stove), but if you use a two burner stove you **can&#39;t**. It&#39;s the stove that&#39;s different. Not the actual recipe. When you run Java 8 bytecode on Java 17 JVM it can use more burners, it understands the recipe (your bytecode). What you can&#39;t do is say this recipe is for a two burner stove, start by lighting all four burners.","body":"Assume I wrote instructions for preparing a recipe with a two burner stove. You have a four burner stove. So you <b><i>can</i></b> do several of the steps at the same time (when you use a four burner stove), but if you use a two burner stove you <b>can&#39;t</b>. It&#39;s the stove that&#39;s different. Not the actual recipe. When you run Java 8 bytecode on Java 17 JVM it can use more burners, it understands the recipe (your bytecode). What you can&#39;t do is say this recipe is for a two burner stove, start by lighting all four burners."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688649787,"post_id":76628100,"comment_id":135104487,"body_markdown":"Update: I was wrong: as @tgdavies said the code compiles. The culprit in my case was `&lt;maven.compiler.release&gt;` [which does just that](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html#:~:text=The%20%2D%2Drelease%20option%20ensures%20that%20the%20code%20is%20compiled%20following%20the%20rules%20of%20the%20programming%20language%20of%20the%20specified%20release%2C%20and%20that%20generated%20classes%20target%20the%20release%20as%20well%20as%20the%20public%20API%20of%20that%20release)! Based on everything so far, the answer by @matt below seems correct.","body":"Update: I was wrong: as @tgdavies said the code compiles. The culprit in my case was <code>&lt;maven.compiler.release&gt;</code> <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-release.html#:~:text=The%20%2D%2Drelease%20option%20ensures%20that%20the%20code%20is%20compiled%20following%20the%20rules%20of%20the%20programming%20language%20of%20the%20specified%20release%2C%20and%20that%20generated%20classes%20target%20the%20release%20as%20well%20as%20the%20public%20API%20of%20that%20release\" rel=\"nofollow noreferrer\">which does just that</a>! Based on everything so far, the answer by @matt below seems correct."},{"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"score":0,"creation_date":1688649934,"post_id":76628100,"comment_id":135104543,"body_markdown":"@tgdavies Can it introduce any complications for the existing code? If I have a java 8 source code which is compiled to java 8 using java 17 and is always ran by java 17, I can&#39;t think of anything that would go wrong if I change language level to 17.","body":"@tgdavies Can it introduce any complications for the existing code? If I have a java 8 source code which is compiled to java 8 using java 17 and is always ran by java 17, I can&#39;t think of anything that would go wrong if I change language level to 17."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688652206,"post_id":76628100,"comment_id":135105131,"body_markdown":"Right, &quot;nothing&quot; could go wrong. If you&#39;re compiling it with jdk 17 with source and target set. It will still compile without source and target set. Essentially, declaring source and target make jdk 17 work on a subset of code that it works with. I quoted &quot;nothing&quot; because there is always an exception, especially with the audience you reach on SO.","body":"Right, &quot;nothing&quot; could go wrong. If you&#39;re compiling it with jdk 17 with source and target set. It will still compile without source and target set. Essentially, declaring source and target make jdk 17 work on a subset of code that it works with. I quoted &quot;nothing&quot; because there is always an exception, especially with the audience you reach on SO."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688647783,"creation_date":1688647783,"answer_id":76629022,"question_id":76628100,"body_markdown":"As java updates a couple things change, although it is supposed to remain backwards compatible. ie unless you&#39;re using deprecated classes your code should compile and run with a new jdk.\r\n\r\nThe bytecode changes, but you can make compatible bytecode by telling javac to &quot;target&quot; an older bytecode version. \r\n\r\nOn top of that the source code changes. For example, lambda expressions. They didn&#39;t exist in java 1.6 so you cannot used them and expect to create 1.6 compatible bytecode. You can tell javac that you want to only compile java 1.6 compatible source code and you&#39;ll get an error about lambda expressions. \r\n\r\nOnce you have compatible source code, and compatible bytecode you have a problem with libraries. This is very simple, say I have a library, &quot;mylibrary.jar&quot; and it has a class &quot;MyClass.class&quot;. I can compile the code by providing the library, if you want to run that code. *You still need the library*. \r\n\r\n`Map.of` is an addition to the standard jdk, so it doesn&#39;t exist in 1.8 jdk&#39;s. Everything about it is compatible with java 8, so it passes the source and target tests. You just have to provide it when you run the program. Just like you would any other library.","title":"Can I use newer Java APIs when running older Java programs with a newer JRE","body":"<p>As java updates a couple things change, although it is supposed to remain backwards compatible. ie unless you're using deprecated classes your code should compile and run with a new jdk.</p>\n<p>The bytecode changes, but you can make compatible bytecode by telling javac to &quot;target&quot; an older bytecode version.</p>\n<p>On top of that the source code changes. For example, lambda expressions. They didn't exist in java 1.6 so you cannot used them and expect to create 1.6 compatible bytecode. You can tell javac that you want to only compile java 1.6 compatible source code and you'll get an error about lambda expressions.</p>\n<p>Once you have compatible source code, and compatible bytecode you have a problem with libraries. This is very simple, say I have a library, &quot;mylibrary.jar&quot; and it has a class &quot;MyClass.class&quot;. I can compile the code by providing the library, if you want to run that code. <em>You still need the library</em>.</p>\n<p><code>Map.of</code> is an addition to the standard jdk, so it doesn't exist in 1.8 jdk's. Everything about it is compatible with java 8, so it passes the source and target tests. You just have to provide it when you run the program. Just like you would any other library.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76629022,"answer_count":1,"score":-3,"last_activity_date":1688658210,"creation_date":1688641098,"question_id":76628100,"body_markdown":"I have a Java 8 application with I compiled to Java 8 bytecode using Java 17. So `source` and `target` are both Java 8. Why I did this is that there were many improvements in GC algorithms in Java 17. I did a bit of research and I know that I should write in Java 8 (or earlier) syntax if I want to compile to Java 8 bytecode.\r\n\r\nThen I noticed I can&#39;t use `Map.of()` function since the api is marked `@since 9` and it confused me. I&#39;m not using any newer Java syntax. **Why is it that I can use GC algorithms that come with Java 17 but I can&#39;t use standard libraries that come with it?**\r\n\r\nHere&#39;s how I think It should work:  \r\nJRE 17 (which runs my app) already containts all Java 17 standard libraries compiled in Java 17 bytecode. So when JVM encounters `Map.of()` (or any other methods marked with `@since 9+`) it should just run the standard library as usual.\r\n\r\nAlso, what is the problem with running `Map.of()` specifically?","title":"Can I use newer Java APIs when running older Java programs with a newer JRE","body":"<p>I have a Java 8 application with I compiled to Java 8 bytecode using Java 17. So <code>source</code> and <code>target</code> are both Java 8. Why I did this is that there were many improvements in GC algorithms in Java 17. I did a bit of research and I know that I should write in Java 8 (or earlier) syntax if I want to compile to Java 8 bytecode.</p>\n<p>Then I noticed I can't use <code>Map.of()</code> function since the api is marked <code>@since 9</code> and it confused me. I'm not using any newer Java syntax. <strong>Why is it that I can use GC algorithms that come with Java 17 but I can't use standard libraries that come with it?</strong></p>\n<p>Here's how I think It should work:<br />\nJRE 17 (which runs my app) already containts all Java 17 standard libraries compiled in Java 17 bytecode. So when JVM encounters <code>Map.of()</code> (or any other methods marked with <code>@since 9+</code>) it should just run the standard library as usual.</p>\n<p>Also, what is the problem with running <code>Map.of()</code> specifically?</p>\n"},{"tags":["java","amazon-dynamodb","amazon-dynamodb-local"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688658115,"creation_date":1688658115,"answer_id":76630511,"question_id":76627811,"body_markdown":"You cannot do a `Query` using `between` on a partition key: \r\n```\r\n.keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\r\n```\r\n\r\nIf `REJECTION_DATE` is a non-key attribute then you must do a `Scan` and `FilterExpression` to obtain all of the items which have dates between your provided values. \r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html","title":"Query condition missed key schema element(Service: DynamoDb","body":"<p>You cannot do a <code>Query</code> using <code>between</code> on a partition key:</p>\n<pre><code>.keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\n</code></pre>\n<p>If <code>REJECTION_DATE</code> is a non-key attribute then you must do a <code>Scan</code> and <code>FilterExpression</code> to obtain all of the items which have dates between your provided values.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html</a></p>\n"}],"owner":{"account_id":27296994,"reputation":1,"user_id":20814486,"display_name":"Ashok S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688658115,"creation_date":1688638819,"question_id":76627811,"body_markdown":"```\r\npublic class DynamoDBExample {\r\n    public static void main(String[] args) {\r\n\r\n        cred Cred = new cred();\r\n        var akey = Cred.getkey();\r\n        var aid = Cred.getid();\r\n        var region = Region.AP_SOUTH_1;\r\n\r\n        AwsCredentials Credentials = AwsBasicCredentials.create(akey, aid);\r\n        var dynamoDBClient = DynamoDbClient.builder()\r\n                .region(region)\r\n                .endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\r\n                .credentialsProvider(StaticCredentialsProvider.create(Credentials))\r\n                .build();\r\n\r\n        String startDate = &quot;2023-01-01&quot;;\r\n        String endDate = &quot;2023-06-30&quot;;\r\n\r\n        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\r\n        expressionAttributeValues.put(&quot;:startDate&quot;, AttributeValue.builder().s(startDate).build());\r\n        expressionAttributeValues.put(&quot;:endDate&quot;, AttributeValue.builder().s(endDate).build());\r\n\r\n        var queryRequest = QueryRequest.builder()\r\n                .tableName(&quot;IA_REJECTION&quot;)\r\n                .keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\r\n                .expressionAttributeValues(expressionAttributeValues)\r\n                .build();\r\n\r\n        var starttime = System.currentTimeMillis();\r\n        QueryResponse response = dynamoDBClient.query(queryRequest);\r\n        var endtime = System.currentTimeMillis();\r\n\r\n        response.items().forEach(item -&gt; {\r\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; --&gt; &quot; + value));\r\n            System.out.println();\r\n        });\r\n\r\n        var timetaken = endtime - starttime;\r\n        System.out.println(&quot;Total Time Taken To Run This Code: &quot; + timetaken + &quot;ms&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\ni want to ressolve this issure i have a iapk -partision key and rejection no as a sort based on that i dont know use that.","title":"Query condition missed key schema element(Service: DynamoDb","body":"<pre><code>public class DynamoDBExample {\n    public static void main(String[] args) {\n\n        cred Cred = new cred();\n        var akey = Cred.getkey();\n        var aid = Cred.getid();\n        var region = Region.AP_SOUTH_1;\n\n        AwsCredentials Credentials = AwsBasicCredentials.create(akey, aid);\n        var dynamoDBClient = DynamoDbClient.builder()\n                .region(region)\n                .endpointOverride(URI.create(&quot;http://localhost:8000&quot;))\n                .credentialsProvider(StaticCredentialsProvider.create(Credentials))\n                .build();\n\n        String startDate = &quot;2023-01-01&quot;;\n        String endDate = &quot;2023-06-30&quot;;\n\n        Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\n        expressionAttributeValues.put(&quot;:startDate&quot;, AttributeValue.builder().s(startDate).build());\n        expressionAttributeValues.put(&quot;:endDate&quot;, AttributeValue.builder().s(endDate).build());\n\n        var queryRequest = QueryRequest.builder()\n                .tableName(&quot;IA_REJECTION&quot;)\n                .keyConditionExpression(&quot;REJECTION_DATE BETWEEN :startDate AND :endDate&quot;)\n                .expressionAttributeValues(expressionAttributeValues)\n                .build();\n\n        var starttime = System.currentTimeMillis();\n        QueryResponse response = dynamoDBClient.query(queryRequest);\n        var endtime = System.currentTimeMillis();\n\n        response.items().forEach(item -&gt; {\n            item.forEach((key, value) -&gt; System.out.println(key + &quot; --&gt; &quot; + value));\n            System.out.println();\n        });\n\n        var timetaken = endtime - starttime;\n        System.out.println(&quot;Total Time Taken To Run This Code: &quot; + timetaken + &quot;ms&quot;);\n    }\n}\n</code></pre>\n<p>i want to ressolve this issure i have a iapk -partision key and rejection no as a sort based on that i dont know use that.</p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"display_name":"user6073886"},"score":6,"creation_date":1688658211,"post_id":76630499,"comment_id":135106483,"body_markdown":"In your class declaration `public class FamilyGraph&lt;Person, E&gt;` the `Person` part is just a generic placeholder just like `E` and not referring to any class. If you want to extend a class and have a generic type always be a specific class in the subclass you need to declare the subclass with that 1 parameter less and put the concrete class in the extends syntax: `public class FamilyGraph&lt;E&gt; extends DirectedAcyclicGraph&lt;Person, E&gt;`. After all your new class only needs one generic parameter as the other one is fixed to a concrete class and not variable.","body":"In your class declaration <code>public class FamilyGraph&lt;Person, E&gt;</code> the <code>Person</code> part is just a generic placeholder just like <code>E</code> and not referring to any class. If you want to extend a class and have a generic type always be a specific class in the subclass you need to declare the subclass with that 1 parameter less and put the concrete class in the extends syntax: <code>public class FamilyGraph&lt;E&gt; extends DirectedAcyclicGraph&lt;Person, E&gt;</code>. After all your new class only needs one generic parameter as the other one is fixed to a concrete class and not variable."}],"owner":{"account_id":19615409,"reputation":3,"user_id":14357015,"display_name":"brian8267"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688657950,"creation_date":1688657950,"question_id":76630499,"body_markdown":"I want to extend JGraphT&#39;s DirectedAcyclicGraph class with signature `public class DirectedAcyclicGraph&lt;V,E&gt; extends AbstractBaseGraph&lt;V,E&gt; implements Iterable&lt;V&gt;` to create a FamilyGraph class where vertices are always of type Person. This would allow me to write methods such as:\r\n\r\n```\r\npublic List&lt;Person&gt; getMothers(final Person person) {\r\n        return getAncestors(person).stream().filter(p -&gt; p.getSex() == Sex.FEMALE).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n\r\nI tried `public class FamilyGraph&lt;Person, E&gt; extends DirectedAcyclicGraph&lt;V, E&gt;`, but that seemed like it didn&#39;t leverage the Person class I had.","title":"How do you extend a class with type parameters while enforcing a specific type?","body":"<p>I want to extend JGraphT's DirectedAcyclicGraph class with signature <code>public class DirectedAcyclicGraph&lt;V,E&gt; extends AbstractBaseGraph&lt;V,E&gt; implements Iterable&lt;V&gt;</code> to create a FamilyGraph class where vertices are always of type Person. This would allow me to write methods such as:</p>\n<pre><code>public List&lt;Person&gt; getMothers(final Person person) {\n        return getAncestors(person).stream().filter(p -&gt; p.getSex() == Sex.FEMALE).collect(Collectors.toList());\n    }\n</code></pre>\n<p>I tried <code>public class FamilyGraph&lt;Person, E&gt; extends DirectedAcyclicGraph&lt;V, E&gt;</code>, but that seemed like it didn't leverage the Person class I had.</p>\n"}],"has_more":false,"quota_max":10000,"quota_remaining":9668,"page":324,"page_size":100}
