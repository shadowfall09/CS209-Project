{"items":[{"tags":["java","apache-zookeeper"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1665540428,"post_id":74027365,"comment_id":130722555,"body_markdown":"Does this answer your question? [Apache ZooKeeper: How do writes work](https://stackoverflow.com/questions/5420087/apache-zookeeper-how-do-writes-work)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5420087/apache-zookeeper-how-do-writes-work\">Apache ZooKeeper: How do writes work</a>"},{"owner":{"account_id":16097021,"reputation":251,"user_id":12176903,"display_name":"Areej Fatimah"},"score":0,"creation_date":1666352327,"post_id":74027365,"comment_id":130922391,"body_markdown":"Client has to call the `sync()` method from the ZooKeeper API method in order to get thr latest value","body":"Client has to call the <code>sync()</code> method from the ZooKeeper API method in order to get thr latest value"}],"owner":{"account_id":17778645,"reputation":103,"user_id":12910300,"display_name":"SJZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665540074,"creation_date":1665487672,"question_id":74027365,"body_markdown":"In my understanding, Zookeeper doesn&#39;t guarantee to return the newest value, because a client may be connecting to a server that doesn&#39;t receive the newest update request.\r\n\r\nLet&#39;s suppose that if I use one client and three servers, for example, client M, server {A, B, C}, and A becomes a leader, B, C become followers. I think this is what may happen below:\r\n1. znode z has value &quot;zero&quot;.\r\n1. M connects to server C (follower)\r\n2. M set znode z to &quot;one&quot;.\r\n3. C send request (setData z &quot;one&quot;) to A, which is a leader.\r\n4. M is waiting for success, then A and B successfully set node z to &quot;one&quot;.\r\n5. M getData z, then C returns value &quot;zero&quot; to M. (just read local)\r\n6. C successfully set node z to &quot;one&quot;.\r\n7. M getData z again, then get &quot;one&quot; from C.\r\n\r\nThen M data will have a &quot;backward&quot;, M write &quot;one&quot; then read &quot;zero&quot;.\r\n\r\nMy questions is:\r\n1. Is my description about what zookeeper actually works correct? I mean the same client can write &quot;one&quot; but read &quot;zero&quot;.\r\n2. If one client can write &quot;one&quot; and must read &quot;one&quot; after writing, how can Zookeeper do that?","title":"Zookeeper read newest value after write using the same client","body":"<p>In my understanding, Zookeeper doesn't guarantee to return the newest value, because a client may be connecting to a server that doesn't receive the newest update request.</p>\n<p>Let's suppose that if I use one client and three servers, for example, client M, server {A, B, C}, and A becomes a leader, B, C become followers. I think this is what may happen below:</p>\n<ol>\n<li>znode z has value &quot;zero&quot;.</li>\n<li>M connects to server C (follower)</li>\n<li>M set znode z to &quot;one&quot;.</li>\n<li>C send request (setData z &quot;one&quot;) to A, which is a leader.</li>\n<li>M is waiting for success, then A and B successfully set node z to &quot;one&quot;.</li>\n<li>M getData z, then C returns value &quot;zero&quot; to M. (just read local)</li>\n<li>C successfully set node z to &quot;one&quot;.</li>\n<li>M getData z again, then get &quot;one&quot; from C.</li>\n</ol>\n<p>Then M data will have a &quot;backward&quot;, M write &quot;one&quot; then read &quot;zero&quot;.</p>\n<p>My questions is:</p>\n<ol>\n<li>Is my description about what zookeeper actually works correct? I mean the same client can write &quot;one&quot; but read &quot;zero&quot;.</li>\n<li>If one client can write &quot;one&quot; and must read &quot;one&quot; after writing, how can Zookeeper do that?</li>\n</ol>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665536667,"post_id":74035254,"comment_id":130722063,"body_markdown":"you sort of can&#39;t call a `suspend` function from java directly. The second attempt is closer but you should either use https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class to make a java compatible version out of it or simply not use suspend for code that is meant to be shared across languages.","body":"you sort of can&#39;t call a <code>suspend</code> function from java directly. The second attempt is closer but you should either use <a href=\"https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class\" title=\"call kotlin suspend function in java class\">stackoverflow.com/questions/52869672/&hellip;</a> to make a java compatible version out of it or simply not use suspend for code that is meant to be shared across languages."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1665539456,"post_id":74035254,"comment_id":130722442,"body_markdown":"Instead of embedding links that may or may not remain valid, please embed code.","body":"Instead of embedding links that may or may not remain valid, please embed code."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1665725299,"post_id":74035254,"comment_id":130769767,"body_markdown":"Does this answer your question? [Call Kotlin suspend function in Java class](https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52869672/call-kotlin-suspend-function-in-java-class\">Call Kotlin suspend function in Java class</a>"}],"owner":{"account_id":14916337,"reputation":1,"user_id":10770038,"display_name":"A. Munk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665539421,"creation_date":1665534119,"question_id":74035254,"body_markdown":"I have no experience with Kotlin and I am faced with having to write a function in Kotlin because my understanding is that the API I need is not available in Java. I tried 2 ways to call the function with no success. Can someone help me to correct this? Here is the relevant code.\r\n\r\n```\r\nimport android.os.Build\r\nimport androidx.annotation.RequiresApi\r\nimport androidx.health.connect.client.HealthConnectClient\r\nimport androidx.health.connect.client.records.StepsRecord\r\nimport androidx.health.connect.client.request.ReadRecordsRequest\r\nimport androidx.health.connect.client.time.TimeRangeFilter\r\nimport java.time.Instant\r\n\r\nclass StepCounter {\r\n    private var count: Long = 0\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    suspend fun getCount(): Long {\r\n        val healthConnectClient: HealthConnectClient\r\n\r\n        healthConnectClient = HealthConnectClient.getOrCreate(App.context)\r\n        val response =\r\n            healthConnectClient.readRecords(\r\n                ReadRecordsRequest(\r\n                    StepsRecord::class,\r\n                    timeRangeFilter = TimeRangeFilter.between(Instant.now(), Instant.MAX)\r\n                )\r\n            )\r\n        for (stepRecord in response.records) {\r\n            count += stepRecord.count\r\n        }\r\n        return count;\r\n    }\r\n}\r\n\r\n```\r\n[Here is one attempt to call the function with the errors][1]\r\n\r\n\r\n[Here is another way I tried][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BPCmV.png\r\n  [2]: https://i.stack.imgur.com/bzMK3.png","title":"How to call Kotlin suspend function from Java","body":"<p>I have no experience with Kotlin and I am faced with having to write a function in Kotlin because my understanding is that the API I need is not available in Java. I tried 2 ways to call the function with no success. Can someone help me to correct this? Here is the relevant code.</p>\n<pre><code>import android.os.Build\nimport androidx.annotation.RequiresApi\nimport androidx.health.connect.client.HealthConnectClient\nimport androidx.health.connect.client.records.StepsRecord\nimport androidx.health.connect.client.request.ReadRecordsRequest\nimport androidx.health.connect.client.time.TimeRangeFilter\nimport java.time.Instant\n\nclass StepCounter {\n    private var count: Long = 0\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    suspend fun getCount(): Long {\n        val healthConnectClient: HealthConnectClient\n\n        healthConnectClient = HealthConnectClient.getOrCreate(App.context)\n        val response =\n            healthConnectClient.readRecords(\n                ReadRecordsRequest(\n                    StepsRecord::class,\n                    timeRangeFilter = TimeRangeFilter.between(Instant.now(), Instant.MAX)\n                )\n            )\n        for (stepRecord in response.records) {\n            count += stepRecord.count\n        }\n        return count;\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BPCmV.png\" rel=\"nofollow noreferrer\">Here is one attempt to call the function with the errors</a></p>\n<p><a href=\"https://i.stack.imgur.com/bzMK3.png\" rel=\"nofollow noreferrer\">Here is another way I tried</a></p>\n"},{"tags":["java","parsing","lexer"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665534269,"post_id":74035249,"comment_id":130721716,"body_markdown":"You&#39;ll have to remember whether the previous character was a digit.","body":"You&#39;ll have to remember whether the previous character was a digit."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665537088,"post_id":74035249,"comment_id":130722120,"body_markdown":"The algorithm suggested by tgdavies and user16320675 is a good one.  An alternative would be to do a pre-pass, in which you replace any string of digits (using a regular expression such as `\\d+`) with a single `0`.","body":"The algorithm suggested by tgdavies and user16320675 is a good one.  An alternative would be to do a pre-pass, in which you replace any string of digits (using a regular expression such as <code>\\d+</code>) with a single <code>0</code>."}],"answers":[{"tags":[],"owner":{"account_id":7259802,"reputation":130,"user_id":5537029,"display_name":"Laxman Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665539096,"creation_date":1665539096,"answer_id":74035646,"question_id":74035249,"body_markdown":"I added a bolean `isPrevNum` which keeps track of the last character, as soon as I get something other than a number and the previous value is a number I add `Num` to the desired array.\r\n\r\n*Since the last number with this approach will get skipped, I added a check at the very end to see if the last character was a number or not and added `Num` if it&#39;s true.*\r\n\r\nHere&#39;s the discussed algorithm updated in your code for your reference:\r\n\r\n```\r\n/* package whatever; // don&#39;t place package name! */\r\n\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass Ideone\r\n{\r\n   public static void main(String[] args)throws Exception{\r\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n        System.out.println(&quot;Enter string:&quot;);\r\n        String lexerInput = myObj.nextLine();\r\n        System.out.println(&quot;String entered: &quot; + lexerInput);\r\n        char[] ch = lexerInput.toCharArray();\r\n        boolean isPrevNum = false;\r\n        List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\r\n    \r\n        //String arrayName[] = new String[ch.length];\r\n        boolean invalidToken = false;\r\n    \r\n        // Traverse the character array\r\n        for (int i = 0; i &lt; ch.length; i++) {\r\n        \r\n        switch(ch[i]) {\r\n        case &#39;-&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[] = &quot;Minus&quot;;\r\n            arrayName.add(&quot;Minus&quot;);\r\n            System.out.println(&quot;Minus&quot;);\r\n        // code block\r\n        break;\r\n        case &#39;+&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Plus&quot;;\r\n            arrayName.add(&quot;Plus&quot;);\r\n            System.out.println(&quot;Plus&quot;);\r\n    // code block\r\n        break;\r\n        case &#39;/&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Divide&quot;;\r\n            arrayName.add(&quot;Divide&quot;);\r\n            System.out.println(&quot;Divide&quot;);\r\n        // code block\r\n        break;\r\n        case &#39;*&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            // arrayName[i] = &quot;Multiply&quot;;\r\n            arrayName.add(&quot;Multiply&quot;);\r\n            System.out.println(&quot;Multiply&quot;);\r\n    // code block\r\n        break;\r\n        case &#39;(&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            // arrayName[i] = &quot;Open Bracket&quot;;\r\n            arrayName.add(&quot;OB&quot;);\r\n            System.out.println(&quot;Open Bracket&quot;);\r\n        // code block\r\n        break;\r\n        case &#39;)&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Closed Bracket&quot;;\r\n            arrayName.add(&quot;CB&quot;);\r\n            System.out.println(&quot;Closed Bracket&quot;);\r\n    // code block\r\n        break;\r\n        case &#39;.&#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Dot&quot;;\r\n            arrayName.add(&quot;Dot&quot;);\r\n            System.out.println(&quot;Dot&quot;);\r\n        // code block\r\n        break;\r\n        case &#39; &#39;:\r\n        \tif(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n        \tisPrevNum = false;\r\n            //arrayName[i] = &quot;Space&quot;;\r\n            System.out.println(&quot;Space&quot;);\r\n        // code block\r\n            break;\r\n        default:\r\n            // code block\r\n            if(Character.isDigit(ch[i])){\r\n                //arrayName[i] = &quot;Num&quot;;\r\n                // arrayName.add(&quot;Num&quot;);\r\n                isPrevNum = true;\r\n                System.out.println(&quot;Character is a number&quot;);\r\n            }\r\n            else{\r\n                invalidToken = true;\r\n                System.out.println(&quot;Invalid Character&quot;);\r\n            }\r\n            //System.out.println(&quot;Not a accepted operator&quot;);\r\n        }\r\n        if(invalidToken){\r\n            System.out.println(&quot;Invalid Expression&quot;);\r\n            break;\r\n        }\r\n            // Print current character\r\n            System.out.println(ch[i] + &quot; &quot;);\r\n        }\r\n        \r\n        \r\n        // Adds the last number\r\n        if(isPrevNum) arrayName.add(&quot;Num&quot;);\r\n\r\n    \r\n        for(int i = 0; i &lt; arrayName.size(); i++){\r\n            System.out.println(arrayName.get(i));\r\n        }\r\n    }\r\n}\r\n```","title":"Java array concat","body":"<p>I added a bolean <code>isPrevNum</code> which keeps track of the last character, as soon as I get something other than a number and the previous value is a number I add <code>Num</code> to the desired array.</p>\n<p><em>Since the last number with this approach will get skipped, I added a check at the very end to see if the last character was a number or not and added <code>Num</code> if it's true.</em></p>\n<p>Here's the discussed algorithm updated in your code for your reference:</p>\n<pre><code>/* package whatever; // don't place package name! */\n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass Ideone\n{\n   public static void main(String[] args)throws Exception{\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;Enter string:&quot;);\n        String lexerInput = myObj.nextLine();\n        System.out.println(&quot;String entered: &quot; + lexerInput);\n        char[] ch = lexerInput.toCharArray();\n        boolean isPrevNum = false;\n        List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\n    \n        //String arrayName[] = new String[ch.length];\n        boolean invalidToken = false;\n    \n        // Traverse the character array\n        for (int i = 0; i &lt; ch.length; i++) {\n        \n        switch(ch[i]) {\n        case '-':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[] = &quot;Minus&quot;;\n            arrayName.add(&quot;Minus&quot;);\n            System.out.println(&quot;Minus&quot;);\n        // code block\n        break;\n        case '+':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Plus&quot;;\n            arrayName.add(&quot;Plus&quot;);\n            System.out.println(&quot;Plus&quot;);\n    // code block\n        break;\n        case '/':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Divide&quot;;\n            arrayName.add(&quot;Divide&quot;);\n            System.out.println(&quot;Divide&quot;);\n        // code block\n        break;\n        case '*':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            // arrayName[i] = &quot;Multiply&quot;;\n            arrayName.add(&quot;Multiply&quot;);\n            System.out.println(&quot;Multiply&quot;);\n    // code block\n        break;\n        case '(':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            // arrayName[i] = &quot;Open Bracket&quot;;\n            arrayName.add(&quot;OB&quot;);\n            System.out.println(&quot;Open Bracket&quot;);\n        // code block\n        break;\n        case ')':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Closed Bracket&quot;;\n            arrayName.add(&quot;CB&quot;);\n            System.out.println(&quot;Closed Bracket&quot;);\n    // code block\n        break;\n        case '.':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Dot&quot;;\n            arrayName.add(&quot;Dot&quot;);\n            System.out.println(&quot;Dot&quot;);\n        // code block\n        break;\n        case ' ':\n            if(isPrevNum) arrayName.add(&quot;Num&quot;);\n            isPrevNum = false;\n            //arrayName[i] = &quot;Space&quot;;\n            System.out.println(&quot;Space&quot;);\n        // code block\n            break;\n        default:\n            // code block\n            if(Character.isDigit(ch[i])){\n                //arrayName[i] = &quot;Num&quot;;\n                // arrayName.add(&quot;Num&quot;);\n                isPrevNum = true;\n                System.out.println(&quot;Character is a number&quot;);\n            }\n            else{\n                invalidToken = true;\n                System.out.println(&quot;Invalid Character&quot;);\n            }\n            //System.out.println(&quot;Not a accepted operator&quot;);\n        }\n        if(invalidToken){\n            System.out.println(&quot;Invalid Expression&quot;);\n            break;\n        }\n            // Print current character\n            System.out.println(ch[i] + &quot; &quot;);\n        }\n        \n        \n        // Adds the last number\n        if(isPrevNum) arrayName.add(&quot;Num&quot;);\n\n    \n        for(int i = 0; i &lt; arrayName.size(); i++){\n            System.out.println(arrayName.get(i));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26309086,"reputation":1,"user_id":19972950,"display_name":"Dakarai Arnold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665539096,"creation_date":1665534076,"question_id":74035249,"body_markdown":"So I am trying to implement a way for the code to return just num when a double-digit number is entered instead of printing num num. To demonstrate if you run &#39;45 - 23+8&#39; the output will return &#39;num num minus num num plus num&#39; and I would like it just to print &#39;num minus num plus num&#39;. How would I go about doing this?\r\n\r\n    \r\n    public class Main{\r\n        public static void main(String[] args)throws Exception{\r\n            Scanner myObj = new Scanner(System.in);  // Create a Scanner object\r\n            System.out.println(&quot;Enter string:&quot;);\r\n            String lexerInput = myObj.nextLine();\r\n            System.out.println(&quot;String entered: &quot; + lexerInput);\r\n            char[] ch = lexerInput.toCharArray();\r\n            List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\r\n        \r\n            //String arrayName[] = new String[ch.length];\r\n            boolean invalidToken = false;\r\n        \r\n            // Traverse the character array\r\n            for (int i = 0; i &lt; ch.length; i++) {\r\n            \r\n            switch(ch[i]) {\r\n            case &#39;-&#39;:\r\n                //arrayName[] = &quot;Minus&quot;;\r\n                arrayName.add(&quot;Minus&quot;);\r\n                System.out.println(&quot;Minus&quot;);\r\n            // code block\r\n            break;\r\n            case &#39;+&#39;:\r\n                //arrayName[i] = &quot;Plus&quot;;\r\n                arrayName.add(&quot;Plus&quot;);\r\n                System.out.println(&quot;Plus&quot;);\r\n        // code block\r\n            break;\r\n            case &#39;/&#39;:\r\n                //arrayName[i] = &quot;Divide&quot;;\r\n                arrayName.add(&quot;Divide&quot;);\r\n                System.out.println(&quot;Divide&quot;);\r\n            // code block\r\n            break;\r\n            case &#39;*&#39;:\r\n                // arrayName[i] = &quot;Multiply&quot;;\r\n                arrayName.add(&quot;Multiply&quot;);\r\n                System.out.println(&quot;Multiply&quot;);\r\n        // code block\r\n            break;\r\n            case &#39;(&#39;:\r\n                // arrayName[i] = &quot;Open Bracket&quot;;\r\n                arrayName.add(&quot;OB&quot;);\r\n                System.out.println(&quot;Open Bracket&quot;);\r\n            // code block\r\n            break;\r\n            case &#39;)&#39;:\r\n                //arrayName[i] = &quot;Closed Bracket&quot;;\r\n                arrayName.add(&quot;CB&quot;);\r\n                System.out.println(&quot;Closed Bracket&quot;);\r\n        // code block\r\n            break;\r\n            case &#39;.&#39;:\r\n                //arrayName[i] = &quot;Dot&quot;;\r\n                arrayName.add(&quot;Dot&quot;);\r\n                System.out.println(&quot;Dot&quot;);\r\n            // code block\r\n            break;\r\n            case &#39; &#39;:\r\n                //arrayName[i] = &quot;Space&quot;;\r\n                System.out.println(&quot;Space&quot;);\r\n            // code block\r\n                break;\r\n                default:\r\n            \r\n            \r\n                // code block\r\n            \r\n                if(Character.isDigit(ch[i])){\r\n                    //arrayName[i] = &quot;Num&quot;;\r\n                    arrayName.add(&quot;Num&quot;);\r\n                    System.out.println(&quot;Character is a number&quot;);\r\n                }\r\n                else{\r\n                    invalidToken = true;\r\n                    System.out.println(&quot;Invalid Character&quot;);\r\n                }\r\n                //System.out.println(&quot;Not a accepted operator&quot;);\r\n            }\r\n            if(invalidToken){\r\n                System.out.println(&quot;Invalid Expression&quot;);\r\n                break;\r\n            }\r\n                // Print current character\r\n                System.out.println(ch[i] + &quot; &quot;);\r\n            }\r\n        \r\n            for(int i = 0; i &lt; arrayName.size(); i++){\r\n                System.out.println(arrayName.get(i));\r\n            }\r\n        }\r\n    \r\n    } \r\n   \r\nthis is my code as of right now","title":"Java array concat","body":"<p>So I am trying to implement a way for the code to return just num when a double-digit number is entered instead of printing num num. To demonstrate if you run '45 - 23+8' the output will return 'num num minus num num plus num' and I would like it just to print 'num minus num plus num'. How would I go about doing this?</p>\n<pre><code>public class Main{\n    public static void main(String[] args)throws Exception{\n        Scanner myObj = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;Enter string:&quot;);\n        String lexerInput = myObj.nextLine();\n        System.out.println(&quot;String entered: &quot; + lexerInput);\n        char[] ch = lexerInput.toCharArray();\n        List&lt;String&gt; arrayName = new ArrayList&lt;String&gt;();\n    \n        //String arrayName[] = new String[ch.length];\n        boolean invalidToken = false;\n    \n        // Traverse the character array\n        for (int i = 0; i &lt; ch.length; i++) {\n        \n        switch(ch[i]) {\n        case '-':\n            //arrayName[] = &quot;Minus&quot;;\n            arrayName.add(&quot;Minus&quot;);\n            System.out.println(&quot;Minus&quot;);\n        // code block\n        break;\n        case '+':\n            //arrayName[i] = &quot;Plus&quot;;\n            arrayName.add(&quot;Plus&quot;);\n            System.out.println(&quot;Plus&quot;);\n    // code block\n        break;\n        case '/':\n            //arrayName[i] = &quot;Divide&quot;;\n            arrayName.add(&quot;Divide&quot;);\n            System.out.println(&quot;Divide&quot;);\n        // code block\n        break;\n        case '*':\n            // arrayName[i] = &quot;Multiply&quot;;\n            arrayName.add(&quot;Multiply&quot;);\n            System.out.println(&quot;Multiply&quot;);\n    // code block\n        break;\n        case '(':\n            // arrayName[i] = &quot;Open Bracket&quot;;\n            arrayName.add(&quot;OB&quot;);\n            System.out.println(&quot;Open Bracket&quot;);\n        // code block\n        break;\n        case ')':\n            //arrayName[i] = &quot;Closed Bracket&quot;;\n            arrayName.add(&quot;CB&quot;);\n            System.out.println(&quot;Closed Bracket&quot;);\n    // code block\n        break;\n        case '.':\n            //arrayName[i] = &quot;Dot&quot;;\n            arrayName.add(&quot;Dot&quot;);\n            System.out.println(&quot;Dot&quot;);\n        // code block\n        break;\n        case ' ':\n            //arrayName[i] = &quot;Space&quot;;\n            System.out.println(&quot;Space&quot;);\n        // code block\n            break;\n            default:\n        \n        \n            // code block\n        \n            if(Character.isDigit(ch[i])){\n                //arrayName[i] = &quot;Num&quot;;\n                arrayName.add(&quot;Num&quot;);\n                System.out.println(&quot;Character is a number&quot;);\n            }\n            else{\n                invalidToken = true;\n                System.out.println(&quot;Invalid Character&quot;);\n            }\n            //System.out.println(&quot;Not a accepted operator&quot;);\n        }\n        if(invalidToken){\n            System.out.println(&quot;Invalid Expression&quot;);\n            break;\n        }\n            // Print current character\n            System.out.println(ch[i] + &quot; &quot;);\n        }\n    \n        for(int i = 0; i &lt; arrayName.size(); i++){\n            System.out.println(arrayName.get(i));\n        }\n    }\n\n} \n</code></pre>\n<p>this is my code as of right now</p>\n"},{"tags":["java","mongodb","nosql-aggregation"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1665528785,"post_id":74034427,"comment_id":130720952,"body_markdown":"So the first sample document in your question should _not_ be included in the results? Or are you saying that that first document should increment the count for `ACCEPTED` values twice and `REMOVED` a single time? (and the other sample document should increment `UNPROVISIONED` once?","body":"So the first sample document in your question should <i>not</i> be included in the results? Or are you saying that that first document should increment the count for <code>ACCEPTED</code> values twice and <code>REMOVED</code> a single time? (and the other sample document should increment <code>UNPROVISIONED</code> once?"},{"owner":{"account_id":2856230,"reputation":380,"user_id":2452448,"display_name":"Castyr"},"score":0,"creation_date":1665529855,"post_id":74034427,"comment_id":130721106,"body_markdown":"In the first example, `ACCEPTED` and `REMOVED` should be counted once, in the latter example `UNPROVISIONED` should be counted once.","body":"In the first example, <code>ACCEPTED</code> and <code>REMOVED</code> should be counted once, in the latter example <code>UNPROVISIONED</code> should be counted once."}],"answers":[{"tags":[],"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665537545,"creation_date":1665537545,"answer_id":74035502,"question_id":74034427,"body_markdown":"I&#39;m not sure I fully understand the grouping/counting logic, but perhaps this provides the output you are looking for.\r\n```mongodb\r\ndb.collection.aggregate([\r\n  {\r\n    &quot;$set&quot;: {\r\n      &quot;statuses&quot;: {\r\n        &quot;$cond&quot;: [\r\n          { // if there are statuses.status ...\r\n            &quot;$gt&quot;: [{&quot;$size&quot;: &quot;$statuses.status&quot;}, 0]\r\n          },\r\n          // ... use those\r\n          &quot;$statuses.status&quot;,\r\n          // ... otherwise use status\r\n          [&quot;$status&quot;]\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;$unwind&quot;: &quot;$statuses&quot;\r\n  },\r\n  {\r\n    &quot;$group&quot;: {\r\n      &quot;_id&quot;: {\r\n        &quot;groupId&quot;: &quot;$groupId&quot;,\r\n        &quot;status&quot;: &quot;$statuses&quot;\r\n      },\r\n      &quot;count&quot;: {&quot;$count&quot;: {}}\r\n    }\r\n  }\r\n])\r\n```\r\nTry it on [mongoplayground.net](https://mongoplayground.net/p/rxdJk72etkg &quot;Click me!&quot;).","title":"Count nested items conditionally in an aggregation","body":"<p>I'm not sure I fully understand the grouping/counting logic, but perhaps this provides the output you are looking for.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  {\n    &quot;$set&quot;: {\n      &quot;statuses&quot;: {\n        &quot;$cond&quot;: [\n          { // if there are statuses.status ...\n            &quot;$gt&quot;: [{&quot;$size&quot;: &quot;$statuses.status&quot;}, 0]\n          },\n          // ... use those\n          &quot;$statuses.status&quot;,\n          // ... otherwise use status\n          [&quot;$status&quot;]\n        ]\n      }\n    }\n  },\n  {\n    &quot;$unwind&quot;: &quot;$statuses&quot;\n  },\n  {\n    &quot;$group&quot;: {\n      &quot;_id&quot;: {\n        &quot;groupId&quot;: &quot;$groupId&quot;,\n        &quot;status&quot;: &quot;$statuses&quot;\n      },\n      &quot;count&quot;: {&quot;$count&quot;: {}}\n    }\n  }\n])\n</code></pre>\n<p>Try it on <a href=\"https://mongoplayground.net/p/rxdJk72etkg\" rel=\"nofollow noreferrer\" title=\"Click me!\">mongoplayground.net</a>.</p>\n"}],"owner":{"account_id":2856230,"reputation":380,"user_id":2452448,"display_name":"Castyr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74035502,"answer_count":1,"score":2,"last_activity_date":1665537545,"creation_date":1665524650,"question_id":74034427,"body_markdown":"I am trying to count status occurrences in a MongoDB collection from two places. Given document like the one below, I would like to count `status` from the root of the document if there are no statues under `statuses` in one aggregation, but haven&#39;t been able to determine how to do this conditionally.\r\n\r\n    {\r\n        &quot;id&quot;: &quot;some unique id&quot;,\r\n        &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\r\n        ...\r\n        &quot;status&quot;: &quot;ACCEPTED&quot;,\r\n        &quot;statuses&quot;: [{\r\n            &quot;personId&quot;: &quot;some id&quot;,\r\n            &quot;status&quot;: &quot;ACCEPTED&quot;\r\n        }, {\r\n        &quot;personId&quot;: &quot;some other person&quot;,\r\n            &quot;status&quot;: &quot;REMOVED&quot;\r\n        }]\r\n    }\r\n\r\nRight now I have an aggregation to count all `statuses.status` but haven&#39;t been able to get accurate counts if there are no statues. This may require a model change, but ideally I would think there is a method to do this conditionally.\r\n\r\nMy aggregation pipeline looks like this:\r\n\r\n    final List&lt;DBObject&gt; statusPipeline = Aggregation.newAggregation(\r\n                            match,\r\n                            Aggregation.group(&quot;groupId&quot;, &quot;statuses.personId&quot;, &quot;statuses.status&quot;),\r\n                            Aggregation.unwind(&quot;status&quot;),\r\n                            Aggregation.group(&quot;$groupId&quot;, &quot;status&quot;).count().as(&quot;total&quot;)\r\n                    )\r\n                    .toPipeline(Aggregation.DEFAULT_CONTEXT).stream()\r\n                    .map(BasicDBObject::new)\r\n                    .collect(Collectors.toList());\r\n\r\n\r\nAn example of a document that I want to include in the aggregate:\r\n\r\n    {\r\n            &quot;id&quot;: &quot;some unique id&quot;,\r\n            &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\r\n            ...\r\n            &quot;status&quot;: &quot;UNPROVISIONED&quot;,\r\n            &quot;statuses&quot;: []\r\n    }\r\n\r\nThe final counts for these two documents should be UNPROVISIONED: 1, ACCEPTED: 1, and REMOVED: 1. Or something like:\r\n\r\n    [{\r\n       &quot;groupId&quot;: &quot;A&quot;,\r\n       &quot;UNPROVISIONED&quot;: 1\r\n    }, {\r\n       &quot;groupId&quot;: &quot;A&quot;,\r\n       &quot;ACCEPTED&quot;: 1\r\n    }, {\r\n       &quot;groupId&quot;: &quot;A&quot;,\r\n       &quot;REMOVED&quot;: 1,\r\n    }]","title":"Count nested items conditionally in an aggregation","body":"<p>I am trying to count status occurrences in a MongoDB collection from two places. Given document like the one below, I would like to count <code>status</code> from the root of the document if there are no statues under <code>statuses</code> in one aggregation, but haven't been able to determine how to do this conditionally.</p>\n<pre><code>{\n    &quot;id&quot;: &quot;some unique id&quot;,\n    &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\n    ...\n    &quot;status&quot;: &quot;ACCEPTED&quot;,\n    &quot;statuses&quot;: [{\n        &quot;personId&quot;: &quot;some id&quot;,\n        &quot;status&quot;: &quot;ACCEPTED&quot;\n    }, {\n    &quot;personId&quot;: &quot;some other person&quot;,\n        &quot;status&quot;: &quot;REMOVED&quot;\n    }]\n}\n</code></pre>\n<p>Right now I have an aggregation to count all <code>statuses.status</code> but haven't been able to get accurate counts if there are no statues. This may require a model change, but ideally I would think there is a method to do this conditionally.</p>\n<p>My aggregation pipeline looks like this:</p>\n<pre><code>final List&lt;DBObject&gt; statusPipeline = Aggregation.newAggregation(\n                        match,\n                        Aggregation.group(&quot;groupId&quot;, &quot;statuses.personId&quot;, &quot;statuses.status&quot;),\n                        Aggregation.unwind(&quot;status&quot;),\n                        Aggregation.group(&quot;$groupId&quot;, &quot;status&quot;).count().as(&quot;total&quot;)\n                )\n                .toPipeline(Aggregation.DEFAULT_CONTEXT).stream()\n                .map(BasicDBObject::new)\n                .collect(Collectors.toList());\n</code></pre>\n<p>An example of a document that I want to include in the aggregate:</p>\n<pre><code>{\n        &quot;id&quot;: &quot;some unique id&quot;,\n        &quot;groupId&quot;: &quot;some many to one id mapping&quot;,\n        ...\n        &quot;status&quot;: &quot;UNPROVISIONED&quot;,\n        &quot;statuses&quot;: []\n}\n</code></pre>\n<p>The final counts for these two documents should be UNPROVISIONED: 1, ACCEPTED: 1, and REMOVED: 1. Or something like:</p>\n<pre><code>[{\n   &quot;groupId&quot;: &quot;A&quot;,\n   &quot;UNPROVISIONED&quot;: 1\n}, {\n   &quot;groupId&quot;: &quot;A&quot;,\n   &quot;ACCEPTED&quot;: 1\n}, {\n   &quot;groupId&quot;: &quot;A&quot;,\n   &quot;REMOVED&quot;: 1,\n}]\n</code></pre>\n"},{"tags":["java","php","algorithm","bit-manipulation"],"comments":[{"owner":{"account_id":12308020,"reputation":551,"user_id":8980452,"display_name":"Fernando Bravo Diaz"},"score":1,"creation_date":1550770516,"post_id":54812971,"comment_id":96402775,"body_markdown":"Hi, roger_that, you also would like to post this as a puzzle in [here](https://codegolf.stackexchange.com/)","body":"Hi, roger_that, you also would like to post this as a puzzle in <a href=\"https://codegolf.stackexchange.com/\">here</a>"},{"owner":{"account_id":7690023,"reputation":744,"user_id":5826609,"accept_rate":20,"display_name":"Trunk"},"score":1,"creation_date":1550770591,"post_id":54812971,"comment_id":96402811,"body_markdown":"And clarify your process, i.e. what is &#39;set&#39; (= 1?) and &#39;rest&#39; ?","body":"And clarify your process, i.e. what is &#39;set&#39; (= 1?) and &#39;rest&#39; ?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550770627,"post_id":54812971,"comment_id":96402831,"body_markdown":"@FernandoBravoDiaz already posted, see https://codegolf.stackexchange.com/questions/180220/minimum-steps-to-convert-a-binary-number-to-zero\n .I was told to post it here.","body":"@FernandoBravoDiaz already posted, see <a href=\"https://codegolf.stackexchange.com/questions/180220/minimum-steps-to-convert-a-binary-number-to-zero\" title=\"minimum steps to convert a binary number to zero\">codegolf.stackexchange.com/questions/180220/&hellip;</a>  .I was told to post it here."},{"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1550770684,"post_id":54812971,"comment_id":96402871,"body_markdown":"This seems more like a logic / math question, rather than a *specific, programming* one. Weird that they told you to post it here, unless my understanding of how SO works is flawed.","body":"This seems more like a logic / math question, rather than a <i>specific, programming</i> one. Weird that they told you to post it here, unless my understanding of how SO works is flawed."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550770730,"post_id":54812971,"comment_id":96402897,"body_markdown":"As per the comment on `codegolf`, it says `This might be a better fit for the stack overflow site`","body":"As per the comment on <code>codegolf</code>, it says <code>This might be a better fit for the stack overflow site</code>"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1550770928,"post_id":54812971,"comment_id":96403000,"body_markdown":"@Fureeish The people there might thing StackOverflow is an automatic homework machine. Wouldn&#39;t blame them. Could fool anyone. :)","body":"@Fureeish The people there might thing StackOverflow is an automatic homework machine. Wouldn&#39;t blame them. Could fool anyone. :)"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1550771034,"post_id":54812971,"comment_id":96403057,"body_markdown":"@roger_that Instead of believeing random people off the internet, you should read the site descriptions.","body":"@roger_that Instead of believeing random people off the internet, you should read the site descriptions."},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550771067,"post_id":54812971,"comment_id":96403068,"body_markdown":"Did that. Can we get some help here with the algo?","body":"Did that. Can we get some help here with the algo?"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":4,"creation_date":1550771130,"post_id":54812971,"comment_id":96403094,"body_markdown":"Nope. You need to try it yourself first. Write some code and get back if you get stumped.","body":"Nope. You need to try it yourself first. Write some code and get back if you get stumped."},{"owner":{"account_id":10647693,"reputation":955,"user_id":7839759,"display_name":"Habebit"},"score":0,"creation_date":1550771457,"post_id":54812971,"comment_id":96403248,"body_markdown":"@roger_that Is `1.` and `2.` one step?","body":"@roger_that Is <code>1.</code> and <code>2.</code> one step?"},{"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"score":0,"creation_date":1550771769,"post_id":54812971,"comment_id":96403399,"body_markdown":"@TabmanRekoj: No, they are two different steps, can perform either of those.","body":"@TabmanRekoj: No, they are two different steps, can perform either of those."},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":2,"creation_date":1550776559,"post_id":54812971,"comment_id":96405665,"body_markdown":"This is a straightforward breadth-first search of a graph.  The nodes are the binary values; the edges are allowable moves from each node.  There are many examples on line of such searches.  Code your transitions, test your result.  Post here if you get *stuck*.","body":"This is a straightforward breadth-first search of a graph.  The nodes are the binary values; the edges are allowable moves from each node.  There are many examples on line of such searches.  Code your transitions, test your result.  Post here if you get <i>stuck</i>."},{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1586897686,"post_id":54812971,"comment_id":108297330,"body_markdown":"@roger_that Did you solve it or not? Can you post a link to a working solution?","body":"@roger_that Did you solve it or not? Can you post a link to a working solution?"},{"owner":{"account_id":433754,"reputation":38783,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1586952474,"post_id":54812971,"comment_id":108316835,"body_markdown":"@Developerium this question is tagged Java, not PHP. You need to post another question. But the algorithm is already available, why don&#39;t just implement it yourself?","body":"@Developerium this question is tagged Java, not PHP. You need to post another question. But the algorithm is already available, why don&#39;t just implement it yourself?"},{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1586978974,"post_id":54812971,"comment_id":108332931,"body_markdown":"@phuclv I&#39;m having a hard time coming up with a clean solution, so that&#39;s why I offered a bounty. BTW I added the PHP tag, so feel free to post an answer and get that yummy bounty ;)","body":"@phuclv I&#39;m having a hard time coming up with a clean solution, so that&#39;s why I offered a bounty. BTW I added the PHP tag, so feel free to post an answer and get that yummy bounty ;)"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1587131448,"post_id":54812971,"comment_id":108395937,"body_markdown":"@Developerium Do you want just the number of steps or the complete list of steps?","body":"@Developerium Do you want just the number of steps or the complete list of steps?"},{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1587140141,"post_id":54812971,"comment_id":108400957,"body_markdown":"@Olivier I&#39;m looking for the recursive one, I can see the fast one here!","body":"@Olivier I&#39;m looking for the recursive one, I can see the fast one here!"}],"answers":[{"comments":[{"owner":{"display_name":"user4668606"},"score":3,"creation_date":1587369567,"post_id":54813388,"comment_id":108474073,"body_markdown":"The actual question in the OP is &quot;what&#39;s the index of this gray-code-number&quot; (https://en.wikipedia.org/wiki/Gray_code#Gray_code_counters_and_arithmetic). And this is pretty much what the faster version in your code does.","body":"The actual question in the OP is &quot;what&#39;s the index of this gray-code-number&quot; (<a href=\"https://en.wikipedia.org/wiki/Gray_code#Gray_code_counters_and_arithmetic\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>). And this is pretty much what the faster version in your code does."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1643777967,"creation_date":1550771833,"answer_id":54813388,"question_id":54812971,"body_markdown":"This is a wonderful problem for a recursive algorithm.\r\n\r\nIf the length of the binary representation is 0, you can already tell the answer. Or if length 0 is not allowed, then if the length is 1 you tell the answer depending on whether that one bit is 0 or 1.\r\n\r\nIf the length is longer than 1:\r\n\r\n - If the first bit is 0, the answer is the same as it would be without that 0 bit. Remove it and call recursively to get the answer.\r\n - If the first bit is 1, divide into three subproblems and find the step count for each:\r\n    1. Establish a situation where you are allowed to change the leading 1 to 0. This means it should be followed by a 1 and then all 0s. Write a recursive auxiliary algorithm for this. It is going to be quite similar to the main algorithm, and likely they can share some logic.\r\n    2. Flip the 1 to 0 (1 step)\r\n    3. Convert the remaining bits bits to 0. Another recursive call.\r\n\r\nThe algorithm may take a long time. It is actually counting the steps, so takes time proportional to the number of steps, which I think is roughly proportional to the input number. Your method takes a `long` argument, but with my algorithm for large `long` values it may not terminate witin the lifetime of the computer it is running on. Also the number of steps may overflow an `int` and even a `long` (if the input is a negative `long` value).\r\n\r\n\r\n## The fast way\r\n\r\nThe following solution doesn’t require recursion and runs in constant time. I can’t explain properly how it works, which is a serious problem if we want to use it for something. I played with some examples, saw a pattern and generalized it. By contrast IMHO some of the beauty of the recursive solution above is that it is straightforward to understand (if you understand recursion).\r\n\r\nExample: Input 8 or `1000` binary. Result 15 or `1111` binary. The pattern is: each bit of the result is the XOR of the previous bit of the result and the bit in the same position in the input. So from `1000` just copy the front bit, 1. The following bit is 1 XOR 0 = 1, where 1 is the front bit of the result and 0 is taken from the input. The remaining two bits are calculated the same way.\r\n\r\nA longer example so you can check if you understood:\r\n\r\n    Input:  115 = 1110011\r\n    Result:       1011101 = 93\r\n\r\nOr in code:\r\n\r\n\tstatic BigInteger calculateStepsRequired(long number) {\r\n\t\t// Take sign bit\r\n\t\tint bit = number &lt; 0 ? 1 : 0;\r\n\t\tBigInteger result = BigInteger.valueOf(bit);\r\n\t\tfor (int i = 0; i &lt; 63; i++) {\r\n\t\t\tnumber = number &lt;&lt; 1;\r\n\t\t\tint sign = number &lt; 0 ? 1 : 0;\r\n\t\t\tbit = (bit + sign) % 2;\r\n\t\t\tresult = result.shiftLeft(1).add(BigInteger.valueOf(bit));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nI have checked this method against my own implementation of the first algorithm above using various inputs up to 100 000 000, and they always agree, so I believe that the fast method is correct too. I still suggest that you should code, run and test it to verify that I got it right.","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>This is a wonderful problem for a recursive algorithm.</p>\n<p>If the length of the binary representation is 0, you can already tell the answer. Or if length 0 is not allowed, then if the length is 1 you tell the answer depending on whether that one bit is 0 or 1.</p>\n<p>If the length is longer than 1:</p>\n<ul>\n<li>If the first bit is 0, the answer is the same as it would be without that 0 bit. Remove it and call recursively to get the answer.</li>\n<li>If the first bit is 1, divide into three subproblems and find the step count for each:\n<ol>\n<li>Establish a situation where you are allowed to change the leading 1 to 0. This means it should be followed by a 1 and then all 0s. Write a recursive auxiliary algorithm for this. It is going to be quite similar to the main algorithm, and likely they can share some logic.</li>\n<li>Flip the 1 to 0 (1 step)</li>\n<li>Convert the remaining bits bits to 0. Another recursive call.</li>\n</ol>\n</li>\n</ul>\n<p>The algorithm may take a long time. It is actually counting the steps, so takes time proportional to the number of steps, which I think is roughly proportional to the input number. Your method takes a <code>long</code> argument, but with my algorithm for large <code>long</code> values it may not terminate witin the lifetime of the computer it is running on. Also the number of steps may overflow an <code>int</code> and even a <code>long</code> (if the input is a negative <code>long</code> value).</p>\n<h2>The fast way</h2>\n<p>The following solution doesn’t require recursion and runs in constant time. I can’t explain properly how it works, which is a serious problem if we want to use it for something. I played with some examples, saw a pattern and generalized it. By contrast IMHO some of the beauty of the recursive solution above is that it is straightforward to understand (if you understand recursion).</p>\n<p>Example: Input 8 or <code>1000</code> binary. Result 15 or <code>1111</code> binary. The pattern is: each bit of the result is the XOR of the previous bit of the result and the bit in the same position in the input. So from <code>1000</code> just copy the front bit, 1. The following bit is 1 XOR 0 = 1, where 1 is the front bit of the result and 0 is taken from the input. The remaining two bits are calculated the same way.</p>\n<p>A longer example so you can check if you understood:</p>\n<pre><code>Input:  115 = 1110011\nResult:       1011101 = 93\n</code></pre>\n<p>Or in code:</p>\n<pre><code>static BigInteger calculateStepsRequired(long number) {\n    // Take sign bit\n    int bit = number &lt; 0 ? 1 : 0;\n    BigInteger result = BigInteger.valueOf(bit);\n    for (int i = 0; i &lt; 63; i++) {\n        number = number &lt;&lt; 1;\n        int sign = number &lt; 0 ? 1 : 0;\n        bit = (bit + sign) % 2;\n        result = result.shiftLeft(1).add(BigInteger.valueOf(bit));\n    }\n    return result;\n}\n</code></pre>\n<p>I have checked this method against my own implementation of the first algorithm above using various inputs up to 100 000 000, and they always agree, so I believe that the fast method is correct too. I still suggest that you should code, run and test it to verify that I got it right.</p>\n"},{"comments":[{"owner":{"account_id":3568223,"reputation":145,"user_id":2979234,"display_name":"hasancc"},"score":0,"creation_date":1587539870,"post_id":57760301,"comment_id":108547285,"body_markdown":"The reason this is happening is in each step you&#39;re basically negating the sign of the entire calculation. so instead of thinking about it like alternating between addition and subtraction, you can think of it as 63 - (15 - 3) = 51. Hence, as others pointed out, a great problem for a recursive solution.","body":"The reason this is happening is in each step you&#39;re basically negating the sign of the entire calculation. so instead of thinking about it like alternating between addition and subtraction, you can think of it as 63 - (15 - 3) = 51. Hence, as others pointed out, a great problem for a recursive solution."},{"owner":{"account_id":1529504,"reputation":158,"user_id":1427077,"display_name":"nicolasdij"},"score":1,"creation_date":1587644000,"post_id":57760301,"comment_id":108595434,"body_markdown":"as I mentioned at the beginning of my post, recursion didn&#39;t work for big numbers, hence the workaround explained here","body":"as I mentioned at the beginning of my post, recursion didn&#39;t work for big numbers, hence the workaround explained here"}],"tags":[],"owner":{"account_id":1529504,"reputation":158,"user_id":1427077,"display_name":"nicolasdij"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1597016484,"creation_date":1567442168,"answer_id":57760301,"question_id":54812971,"body_markdown":"At first, I tried to solve it with a recursive depth-first function (in NodeJS) but it just worked for small numbers - an input value such as `10^5` would generate a runtime error due to the number of recursive calls in the stack.\r\n\r\nSo then I tried to see how I could reduce the problem to the sum of smaller problems and found out that the number of steps for N, being N a power of 2, was \r\n\r\nRule #1\r\n-------\r\n&gt; N * 2 - 1\r\n\r\n(e.g.: number of steps for 2 is 3, for 32 is 63, for 256 is 511, and so on). \r\n\r\nThen I had find what to do with any other number (that is not a power of 2) and since any integer is the sum of different powers of 2 (hence the binary representation), I only had to see if the number of steps would add up as well ... but it was not the case. However, I did find that I had to not just add the number of steps from every power of two, but to \r\n\r\nRule #2\r\n-------\r\n&gt; subtract and add the steps in an alternate fashion, starting from the highest order digit\r\n\r\n\r\nDemonstration\r\n=============\r\nGiven number **42** (`101010` in binary)\r\n\r\nLet&#39;s first apply **Rule #1**\r\n\r\n```\r\n1 0 1 0 1 0\r\n^ ^ ^ ^ ^ ^\r\n| | | | | |_           0 steps\r\n| | | | |___  2*2-1 =  3 steps\r\n| | | |_____           0 steps\r\n| | |_______  2*8-1 = 15 steps\r\n| |_________           0 steps\r\n|___________ 2*32-1 = 63 steps\r\n```\r\n\r\nAnd secondly, applying **Rule #2**:\r\n```\r\n63 - 15 + 3 = 51\r\n```\r\n\r\n&gt; The total number of steps is **51**\r\n\r\n\r\nImplementation (JavaScript)\r\n===\r\n\r\n``` lang-js\r\nfunction minOperations(n) {\r\n  const bin = n.toString(2);\r\n  const digitCount = bin.length;\r\n  let accumulator = 0;\r\n  let sign = 1;\r\n\r\n  for (let i = 0; i &lt; digitCount; ++i) {\r\n    const digit = Number.parseInt(bin.charAt(i));\r\n    const power = digit &gt; 0 ? Math.pow(2, digitCount - (i + 1)) : 0;\r\n    const steps = digit * (power * 2 - 1);\r\n\r\n    accumulator += steps * sign;\r\n    sign = sign * (digit == 0 ? 1 : -1);\r\n  }\r\n  \r\n  return accumulator;\r\n}\r\n```\r\n","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>At first, I tried to solve it with a recursive depth-first function (in NodeJS) but it just worked for small numbers - an input value such as <code>10^5</code> would generate a runtime error due to the number of recursive calls in the stack.</p>\n<p>So then I tried to see how I could reduce the problem to the sum of smaller problems and found out that the number of steps for N, being N a power of 2, was</p>\n<h2>Rule #1</h2>\n<blockquote>\n<p>N * 2 - 1</p>\n</blockquote>\n<p>(e.g.: number of steps for 2 is 3, for 32 is 63, for 256 is 511, and so on).</p>\n<p>Then I had find what to do with any other number (that is not a power of 2) and since any integer is the sum of different powers of 2 (hence the binary representation), I only had to see if the number of steps would add up as well ... but it was not the case. However, I did find that I had to not just add the number of steps from every power of two, but to</p>\n<h2>Rule #2</h2>\n<blockquote>\n<p>subtract and add the steps in an alternate fashion, starting from the highest order digit</p>\n</blockquote>\n<h1>Demonstration</h1>\n<p>Given number <strong>42</strong> (<code>101010</code> in binary)</p>\n<p>Let's first apply <strong>Rule #1</strong></p>\n<pre><code>1 0 1 0 1 0\n^ ^ ^ ^ ^ ^\n| | | | | |_           0 steps\n| | | | |___  2*2-1 =  3 steps\n| | | |_____           0 steps\n| | |_______  2*8-1 = 15 steps\n| |_________           0 steps\n|___________ 2*32-1 = 63 steps\n</code></pre>\n<p>And secondly, applying <strong>Rule #2</strong>:</p>\n<pre><code>63 - 15 + 3 = 51\n</code></pre>\n<blockquote>\n<p>The total number of steps is <strong>51</strong></p>\n</blockquote>\n<h1>Implementation (JavaScript)</h1>\n<pre class=\"lang-js prettyprint-override\"><code>function minOperations(n) {\n  const bin = n.toString(2);\n  const digitCount = bin.length;\n  let accumulator = 0;\n  let sign = 1;\n\n  for (let i = 0; i &lt; digitCount; ++i) {\n    const digit = Number.parseInt(bin.charAt(i));\n    const power = digit &gt; 0 ? Math.pow(2, digitCount - (i + 1)) : 0;\n    const steps = digit * (power * 2 - 1);\n\n    accumulator += steps * sign;\n    sign = sign * (digit == 0 ? 1 : -1);\n  }\n  \n  return accumulator;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2921506,"reputation":7195,"user_id":2503644,"accept_rate":70,"display_name":"Developerium"},"score":0,"creation_date":1587140087,"post_id":61275045,"comment_id":108400936,"body_markdown":"Could you please explain the steps?","body":"Could you please explain the steps?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1587141621,"post_id":61275045,"comment_id":108401760,"body_markdown":"@Developerium I have added some more details.","body":"@Developerium I have added some more details."}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1587141485,"creation_date":1587136768,"answer_id":61275045,"question_id":54812971,"body_markdown":"Here is a PHP implementation of Ole&#39;s &quot;fast way&quot; algorithm. The idea is the same:\r\n\r\n-  Initialize the result with the first bit of the number (starting from the left)\r\n-  For every following bit of the number, XOR it with the previous bit of the result, which gives a new bit for the result\r\n\r\n&lt;!-- language: lang-php --&gt;\r\n\r\n\tfunction getBit($number, $i)\r\n\t{\r\n\t\t// Extracts bit i from number\r\n\t\treturn ($number &amp; (1&lt;&lt;$i)) == 0 ? 0 : 1;\r\n\t}\r\n\r\n\tfunction minStepsRequired($number)\r\n\t{\r\n\t\t$i = 30; // Enough to handle all positive 32-bit integers\r\n\t\t$bit = getBit($number, $i); // First bit\r\n\t\t$res = $bit;\r\n\t\tdo\r\n\t\t{\r\n\t\t\t$i--;\r\n\t\t\t$bit ^= getBit($number, $i); // Computes XOR between previous bit of the result and current bit of the number\r\n\t\t\t$res = ($res&lt;&lt;1) + $bit; // Shifts the result to the left by 1 position and adds the new bit\r\n\t\t}\r\n\t\twhile($i&gt;0);\r\n\t\treturn $res;\r\n\t}\r\n\r\n\tvar_dump(minStepsRequired(8)); // Outputs 15\r\n\tvar_dump(minStepsRequired(115)); // Outputs 93\r\n","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>Here is a PHP implementation of Ole's \"fast way\" algorithm. The idea is the same:</p>\n\n<ul>\n<li>Initialize the result with the first bit of the number (starting from the left)</li>\n<li>For every following bit of the number, XOR it with the previous bit of the result, which gives a new bit for the result</li>\n</ul>\n\n<pre class=\"lang-php prettyprint-override\"><code>function getBit($number, $i)\n{\n    // Extracts bit i from number\n    return ($number &amp; (1&lt;&lt;$i)) == 0 ? 0 : 1;\n}\n\nfunction minStepsRequired($number)\n{\n    $i = 30; // Enough to handle all positive 32-bit integers\n    $bit = getBit($number, $i); // First bit\n    $res = $bit;\n    do\n    {\n        $i--;\n        $bit ^= getBit($number, $i); // Computes XOR between previous bit of the result and current bit of the number\n        $res = ($res&lt;&lt;1) + $bit; // Shifts the result to the left by 1 position and adds the new bit\n    }\n    while($i&gt;0);\n    return $res;\n}\n\nvar_dump(minStepsRequired(8)); // Outputs 15\nvar_dump(minStepsRequired(115)); // Outputs 93\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587141502,"creation_date":1587141502,"answer_id":61276476,"question_id":54812971,"body_markdown":"It is important to notice that the first k bits, which are zeroes can be left as they are and you only start with the (k + 1)&#39;th bit and we ignore all the starting bits, having a value of zero and always aim to increase their number. This is our primary goal and thus, we always reduce the problem-space to a similar, but smaller problem-space. Now, assuming that your number looks like\r\n\r\n**1**b1b2b3...bn\r\n\r\nyou need to make sure that b1 is 1 and b2, b3, ..., bn is 0 in order to be able to modify the bit prior to b1 to 0. After that happened, you know that b2 is 1 and all the subsequent bits are 0, then the new goal is to change b2 to 0, knowing that all the subsequent bits are 0.\r\n\r\nYou can keep track of your progress with a stack which can have as much elements as many bits you are working with, always its top will represent your current goal.\r\n\r\nSo, when you want to zero your first bit, then achieving the right sequence of subsequent bits represent subtasks for you before you can change your bit and once you succeeded doing so, you need to proceed similarly, but ignoring the first bit. You can number the steps.\r\n\r\nAssuming that a number of\r\n\r\n1...0000000\r\n\r\ncan be zeroed in 2^n - 1 steps, the total number of steps to do equals with 2^n - 1 + the number of steps needed to achieve the combination we see above. I didn&#39;t check whether it&#39;s 2^n - 1 though","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>It is important to notice that the first k bits, which are zeroes can be left as they are and you only start with the (k + 1)'th bit and we ignore all the starting bits, having a value of zero and always aim to increase their number. This is our primary goal and thus, we always reduce the problem-space to a similar, but smaller problem-space. Now, assuming that your number looks like</p>\n\n<p><strong>1</strong>b1b2b3...bn</p>\n\n<p>you need to make sure that b1 is 1 and b2, b3, ..., bn is 0 in order to be able to modify the bit prior to b1 to 0. After that happened, you know that b2 is 1 and all the subsequent bits are 0, then the new goal is to change b2 to 0, knowing that all the subsequent bits are 0.</p>\n\n<p>You can keep track of your progress with a stack which can have as much elements as many bits you are working with, always its top will represent your current goal.</p>\n\n<p>So, when you want to zero your first bit, then achieving the right sequence of subsequent bits represent subtasks for you before you can change your bit and once you succeeded doing so, you need to proceed similarly, but ignoring the first bit. You can number the steps.</p>\n\n<p>Assuming that a number of</p>\n\n<p>1...0000000</p>\n\n<p>can be zeroed in 2^n - 1 steps, the total number of steps to do equals with 2^n - 1 + the number of steps needed to achieve the combination we see above. I didn't check whether it's 2^n - 1 though</p>\n"},{"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1587209505,"post_id":61284755,"comment_id":108422535,"body_markdown":"Great answer. I had also found the connection with Gray Code thanks to [this site](https://oeis.org/A006068) (you give it the beginning of a sequence and it tells you what it is).","body":"Great answer. I had also found the connection with Gray Code thanks to <a href=\"https://oeis.org/A006068\" rel=\"nofollow noreferrer\">this site</a> (you give it the beginning of a sequence and it tells you what it is)."},{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1587214756,"post_id":61284755,"comment_id":108424599,"body_markdown":"@Olivier thanks. I started life as an EE and had to design one of these for an asynchronous interface so recognised the pattern once I started writing the code. That site you gave a link to looks really useful thanks - I will add it to my reference list.","body":"@Olivier thanks. I started life as an EE and had to design one of these for an asynchronous interface so recognised the pattern once I started writing the code. That site you gave a link to looks really useful thanks - I will add it to my reference list."}],"tags":[],"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1587248454,"creation_date":1587188982,"answer_id":61284755,"question_id":54812971,"body_markdown":"Here is a recursive PHP function for computing the number of steps required. It operates by noting there are two possible requirements:\r\n\r\n 1. convert a string to `0`s (the overall requirement); and\r\n 2. convert a string to a `1` followed by a string of `0`s (to allow flipping the preceding digit)\r\n\r\nThe second requirement is obviously an extension of the first, and so it&#39;s possible to write a recursive function which does both. It has a special case for the single digit length string, just checking if it needs to be flipped or not.\r\n\r\n    function reduce($bits, $value = &#39;0&#39;) {\r\n        if (strlen($bits) == 1) {\r\n            // a single bit can be flipped as needed\r\n            return ($bits[0] == $value) ? 0 : 1;\r\n        }\r\n        if ($bits[0] == $value) {\r\n            // nothing to do with this bit, flip the remainder\r\n            return reduce(substr($bits, 1));\r\n        }\r\n        // need to convert balance of string to 1 followed by 0&#39;s \r\n        // then we can flip this bit, and then reduce the new string to 0\r\n        return reduce(substr($bits, 1), &#39;1&#39;) + 1 + reduce(str_pad(&#39;1&#39;, strlen($bits) - 1, &#39;0&#39;));\r\n    }\r\n\r\n[Demo on 3v4l.org][1]\r\n\r\nThis function can be adapted to store the actual steps taken, then the number of steps is just the count of that array (-1, since we put the original value in the array too). To store the steps we need to keep track of the first part of the string (`$prefix` in the below code) as well as the part we are reducing:\r\n\r\n    function reduce($bits, $prefix, $value = &#39;0&#39;) {\r\n        if (strlen($bits) == 1) {\r\n            // a single bit can be flipped as needed\r\n            return array($prefix . ($bits[0] == &#39;0&#39; ? &#39;1&#39; : &#39;0&#39;));\r\n        }\r\n        if ($bits[0] == $value) {\r\n            // nothing to do with this bit, flip the remainder\r\n            $prefix .= $bits[0];\r\n            return reduce(substr($bits, 1), $prefix);\r\n        }\r\n        // need to convert balance of string to 1 followed by 0&#39;s \r\n        $prefix .= $bits[0];\r\n        $steps = reduce(substr($bits, 1), $prefix, &#39;1&#39;);\r\n        // now we can flip this bit\r\n        $prefix = substr($prefix, 0, -1) . ($bits[0] == &#39;0&#39; ? &#39;1&#39; : &#39;0&#39;);\r\n        $steps[] = $prefix . str_pad(&#39;1&#39;, strlen($bits) - 1, &#39;0&#39;);\r\n        // now reduce the new string to 0\r\n        $steps = array_merge($steps, reduce(str_pad(&#39;1&#39;, strlen($bits) - 1, &#39;0&#39;), $prefix));\r\n        return $steps;\r\n    }\r\n\r\nYou can run this like so:\r\n\r\n    $bin = decbin($i);\r\n    $steps = array_merge(array($bin), reduce($bin, &#39;&#39;));\r\n    echo &quot;$i ($bin) takes &quot; . (count($steps) - 1) . &quot; steps\\n&quot;;\r\n    print_r($steps);\r\n\r\nOutput for an input of 8:\r\n\r\n    8 (1000) takes 15 steps\r\n    Array\r\n    (\r\n        [0] =&gt; 1000\r\n        [1] =&gt; 1001\r\n        [2] =&gt; 1011\r\n        [3] =&gt; 1010\r\n        [4] =&gt; 1110\r\n        [5] =&gt; 1111\r\n        [6] =&gt; 1101\r\n        [7] =&gt; 1100\r\n        [8] =&gt; 0100\r\n        [9] =&gt; 0101\r\n        [10] =&gt; 0111\r\n        [11] =&gt; 0110\r\n        [12] =&gt; 0010\r\n        [13] =&gt; 0011\r\n        [14] =&gt; 0001\r\n        [15] =&gt; 0000\r\n    )\r\n\r\n[Demo on 3v4l.org][2]\r\n\r\n**Gray code**\r\n\r\nLooking at the steps we can see that this is actually a [Gray code][3] (Reflected Binary Code) counting from the original value down to 0. So if we generate a list of sufficient codes to cover the starting value, we can simply look for the binary representation of the starting value in that list, and that will give us the number of steps required to get back to 0:\r\n\r\n    function gray_code($bits) {\r\n        if ($bits == 1) {\r\n            return array(&#39;0&#39;, &#39;1&#39;);\r\n        }\r\n        else {\r\n            $codes = gray_code($bits - 1);\r\n            return array_merge(array_map(function ($v) { return &#39;0&#39; . $v; }, $codes),\r\n                               array_map(function ($v) { return &#39;1&#39; . $v; }, array_reverse($codes))\r\n            );\r\n        }\r\n    }\r\n    \r\n    $value = 8;\r\n    $bin = decbin($value);\r\n    // get sufficient gray codes to cover the input\r\n    $gray_codes = gray_code(strlen($bin));\r\n    $codes = array_flip($gray_codes);\r\n    echo &quot;$bin takes {$codes[$bin]} steps to reduce to 0\\n&quot;;\r\n    // echo the steps\r\n    for ($i = $codes[$bin]; $i &gt;= 0; $i--) {\r\n        echo $gray_codes[$i] . PHP_EOL;\r\n    }\r\n\r\n[Demo on 3v4l.org][4]\r\n\r\nIf you don&#39;t need the individual steps you can just use a Gray code to binary converter to find the number of steps. This is super fast:\r\n\r\n    function gray_to_binary($value) {\r\n        $dec = $value;\r\n        for ($i = 1; $i &lt; strlen($value); $i++) {\r\n            $dec[$i] = (int)$dec[$i-1] ^ (int)$value[$i];\r\n        }\r\n        return $dec;\r\n    }\r\n    \r\n    echo bindec(gray_to_binary(decbin(115)));\r\n\r\nOutput:\r\n\r\n    93\r\n\r\n[Demo on 3v4l.org][5]\r\n\r\n**A Gray Code Generator**\r\n\r\nWe can use an iterative Gray code generator to count down the steps from our original code. The advantage of this is that it doesn&#39;t consume any memory to store the codes so it can work for very large numbers. This version uses a Gray code to binary converter that works with integers rather than strings as did the one above:\r\n\r\n    function gray_to_binary($value) {\r\n        $dec = 0;\r\n        $bits = floor(log($value, 2));\r\n        for ($i = $bits; $i &gt;= 0; $i--) {\r\n            $dec = $dec | (((($dec &gt;&gt; ($i + 1)) ^ ($value &gt;&gt; $i)) &amp; 1) &lt;&lt; $i);\r\n        }\r\n        return $dec;\r\n    }\r\n    \r\n    function iterate_gray($value) {\r\n        // get the equivalent starting binary value\r\n        $code = decbin($value);\r\n        yield $code;\r\n        $len = strlen($code);\r\n        $count = gray_to_binary($value);\r\n        while ($count &gt; 0) {\r\n            // flip the bit which corresponds to the least significant 1 bit in $count\r\n            $xor = 1;\r\n            while (($count &amp; $xor) == 0) $xor &lt;&lt;= 1;\r\n            $value ^= $xor;\r\n            yield sprintf(&quot;%0{$len}b&quot;, $value);\r\n            $count--;\r\n        }\r\n    }\r\n    \r\n    foreach (iterate_gray(8) as $code) {\r\n        echo $code . PHP_EOL;\r\n    }\r\n\r\nOutput:\r\n\r\n    1000\r\n    1001\r\n    1011\r\n    1010\r\n    1110\r\n    1111\r\n    1101\r\n    1100\r\n    0100\r\n    0101\r\n    0111\r\n    0110\r\n    0010\r\n    0011\r\n    0001\r\n    0000\r\n\r\n[Demo on 3v4l.org][7]\r\n\r\n\r\n  [1]: https://3v4l.org/colSe\r\n  [2]: https://3v4l.org/TJZuB\r\n  [3]: https://en.wikipedia.org/wiki/Gray_code\r\n  [4]: https://3v4l.org/9I40K\r\n  [5]: https://3v4l.org/c1k1H\r\n  [6]: https://3v4l.org/2TQMd\r\n  [7]: https://3v4l.org/aSJJh","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>Here is a recursive PHP function for computing the number of steps required. It operates by noting there are two possible requirements:</p>\n\n<ol>\n<li>convert a string to <code>0</code>s (the overall requirement); and</li>\n<li>convert a string to a <code>1</code> followed by a string of <code>0</code>s (to allow flipping the preceding digit)</li>\n</ol>\n\n<p>The second requirement is obviously an extension of the first, and so it's possible to write a recursive function which does both. It has a special case for the single digit length string, just checking if it needs to be flipped or not.</p>\n\n<pre><code>function reduce($bits, $value = '0') {\n    if (strlen($bits) == 1) {\n        // a single bit can be flipped as needed\n        return ($bits[0] == $value) ? 0 : 1;\n    }\n    if ($bits[0] == $value) {\n        // nothing to do with this bit, flip the remainder\n        return reduce(substr($bits, 1));\n    }\n    // need to convert balance of string to 1 followed by 0's \n    // then we can flip this bit, and then reduce the new string to 0\n    return reduce(substr($bits, 1), '1') + 1 + reduce(str_pad('1', strlen($bits) - 1, '0'));\n}\n</code></pre>\n\n<p><a href=\"https://3v4l.org/colSe\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p>This function can be adapted to store the actual steps taken, then the number of steps is just the count of that array (-1, since we put the original value in the array too). To store the steps we need to keep track of the first part of the string (<code>$prefix</code> in the below code) as well as the part we are reducing:</p>\n\n<pre><code>function reduce($bits, $prefix, $value = '0') {\n    if (strlen($bits) == 1) {\n        // a single bit can be flipped as needed\n        return array($prefix . ($bits[0] == '0' ? '1' : '0'));\n    }\n    if ($bits[0] == $value) {\n        // nothing to do with this bit, flip the remainder\n        $prefix .= $bits[0];\n        return reduce(substr($bits, 1), $prefix);\n    }\n    // need to convert balance of string to 1 followed by 0's \n    $prefix .= $bits[0];\n    $steps = reduce(substr($bits, 1), $prefix, '1');\n    // now we can flip this bit\n    $prefix = substr($prefix, 0, -1) . ($bits[0] == '0' ? '1' : '0');\n    $steps[] = $prefix . str_pad('1', strlen($bits) - 1, '0');\n    // now reduce the new string to 0\n    $steps = array_merge($steps, reduce(str_pad('1', strlen($bits) - 1, '0'), $prefix));\n    return $steps;\n}\n</code></pre>\n\n<p>You can run this like so:</p>\n\n<pre><code>$bin = decbin($i);\n$steps = array_merge(array($bin), reduce($bin, ''));\necho \"$i ($bin) takes \" . (count($steps) - 1) . \" steps\\n\";\nprint_r($steps);\n</code></pre>\n\n<p>Output for an input of 8:</p>\n\n<pre><code>8 (1000) takes 15 steps\nArray\n(\n    [0] =&gt; 1000\n    [1] =&gt; 1001\n    [2] =&gt; 1011\n    [3] =&gt; 1010\n    [4] =&gt; 1110\n    [5] =&gt; 1111\n    [6] =&gt; 1101\n    [7] =&gt; 1100\n    [8] =&gt; 0100\n    [9] =&gt; 0101\n    [10] =&gt; 0111\n    [11] =&gt; 0110\n    [12] =&gt; 0010\n    [13] =&gt; 0011\n    [14] =&gt; 0001\n    [15] =&gt; 0000\n)\n</code></pre>\n\n<p><a href=\"https://3v4l.org/TJZuB\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p><strong>Gray code</strong></p>\n\n<p>Looking at the steps we can see that this is actually a <a href=\"https://en.wikipedia.org/wiki/Gray_code\" rel=\"noreferrer\">Gray code</a> (Reflected Binary Code) counting from the original value down to 0. So if we generate a list of sufficient codes to cover the starting value, we can simply look for the binary representation of the starting value in that list, and that will give us the number of steps required to get back to 0:</p>\n\n<pre><code>function gray_code($bits) {\n    if ($bits == 1) {\n        return array('0', '1');\n    }\n    else {\n        $codes = gray_code($bits - 1);\n        return array_merge(array_map(function ($v) { return '0' . $v; }, $codes),\n                           array_map(function ($v) { return '1' . $v; }, array_reverse($codes))\n        );\n    }\n}\n\n$value = 8;\n$bin = decbin($value);\n// get sufficient gray codes to cover the input\n$gray_codes = gray_code(strlen($bin));\n$codes = array_flip($gray_codes);\necho \"$bin takes {$codes[$bin]} steps to reduce to 0\\n\";\n// echo the steps\nfor ($i = $codes[$bin]; $i &gt;= 0; $i--) {\n    echo $gray_codes[$i] . PHP_EOL;\n}\n</code></pre>\n\n<p><a href=\"https://3v4l.org/9I40K\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p>If you don't need the individual steps you can just use a Gray code to binary converter to find the number of steps. This is super fast:</p>\n\n<pre><code>function gray_to_binary($value) {\n    $dec = $value;\n    for ($i = 1; $i &lt; strlen($value); $i++) {\n        $dec[$i] = (int)$dec[$i-1] ^ (int)$value[$i];\n    }\n    return $dec;\n}\n\necho bindec(gray_to_binary(decbin(115)));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>93\n</code></pre>\n\n<p><a href=\"https://3v4l.org/c1k1H\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n\n<p><strong>A Gray Code Generator</strong></p>\n\n<p>We can use an iterative Gray code generator to count down the steps from our original code. The advantage of this is that it doesn't consume any memory to store the codes so it can work for very large numbers. This version uses a Gray code to binary converter that works with integers rather than strings as did the one above:</p>\n\n<pre><code>function gray_to_binary($value) {\n    $dec = 0;\n    $bits = floor(log($value, 2));\n    for ($i = $bits; $i &gt;= 0; $i--) {\n        $dec = $dec | (((($dec &gt;&gt; ($i + 1)) ^ ($value &gt;&gt; $i)) &amp; 1) &lt;&lt; $i);\n    }\n    return $dec;\n}\n\nfunction iterate_gray($value) {\n    // get the equivalent starting binary value\n    $code = decbin($value);\n    yield $code;\n    $len = strlen($code);\n    $count = gray_to_binary($value);\n    while ($count &gt; 0) {\n        // flip the bit which corresponds to the least significant 1 bit in $count\n        $xor = 1;\n        while (($count &amp; $xor) == 0) $xor &lt;&lt;= 1;\n        $value ^= $xor;\n        yield sprintf(\"%0{$len}b\", $value);\n        $count--;\n    }\n}\n\nforeach (iterate_gray(8) as $code) {\n    echo $code . PHP_EOL;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1000\n1001\n1011\n1010\n1110\n1111\n1101\n1100\n0100\n0101\n0111\n0110\n0010\n0011\n0001\n0000\n</code></pre>\n\n<p><a href=\"https://3v4l.org/aSJJh\" rel=\"noreferrer\">Demo on 3v4l.org</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1641549526,"post_id":70619329,"comment_id":124837945,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70619329/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12162633,"reputation":1,"user_id":8879764,"display_name":"Ravi Yadav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641548596,"creation_date":1641548596,"answer_id":70619329,"question_id":54812971,"body_markdown":"    private static int reduce(String s) {\r\n        int count = 0;\r\n        char[] ch = s.toCharArray();\r\n        for (int i = ch.length - 1; i &gt;= 0; i--) {\r\n\r\n            if (i == 0 &amp;&amp; ch[i] == &#39;0&#39;) {\r\n                return count - 1;\r\n            }\r\n\r\n            if (i == 0 &amp;&amp; ch[i] == &#39;1&#39;) {\r\n                return count + 1;\r\n            }\r\n\r\n            if (ch[i] == &#39;0&#39;) {\r\n                count++;\r\n            } else {\r\n                count++;\r\n                ch[i] = &#39;0&#39;;\r\n                i++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<pre><code>private static int reduce(String s) {\n    int count = 0;\n    char[] ch = s.toCharArray();\n    for (int i = ch.length - 1; i &gt;= 0; i--) {\n\n        if (i == 0 &amp;&amp; ch[i] == '0') {\n            return count - 1;\n        }\n\n        if (i == 0 &amp;&amp; ch[i] == '1') {\n            return count + 1;\n        }\n\n        if (ch[i] == '0') {\n            count++;\n        } else {\n            count++;\n            ch[i] = '0';\n            i++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":552377,"reputation":2230,"user_id":917492,"display_name":"jasie"},"score":1,"creation_date":1665554998,"post_id":74035451,"comment_id":130724930,"body_markdown":"While this code may solve the question, [including an explanation](//meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please edit your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please edit your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":11626211,"reputation":657,"user_id":8515913,"display_name":"YIMIN TANG"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665536825,"creation_date":1665536825,"answer_id":74035451,"question_id":54812971,"body_markdown":"    def minOperations(n):\r\n        number = []\r\n        while n&gt;0:\r\n            number.append(n%2)\r\n            n = n // 2\r\n    \r\n        ans = 0\r\n        sign = 1\r\n        for i in range(len(number)):\r\n            if number[i] == 1:\r\n                ans = (2**(i+1) - 1) - ans\r\n        return ans","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<pre><code>def minOperations(n):\n    number = []\n    while n&gt;0:\n        number.append(n%2)\n        n = n // 2\n\n    ans = 0\n    sign = 1\n    for i in range(len(number)):\n        if number[i] == 1:\n            ans = (2**(i+1) - 1) - ans\n    return ans\n</code></pre>\n"}],"owner":{"account_id":1587261,"reputation":9583,"user_id":1471314,"accept_rate":43,"display_name":"roger_that"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27216,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"answer_count":7,"score":19,"last_activity_date":1665536825,"creation_date":1550770158,"question_id":54812971,"body_markdown":"I was working on a programming exercise and was stuck on figuring out the correct algorithm. Here is the problem:\r\n\r\n&gt; Given a decimal number, how many minimum possible steps are required to convert this to zero provided:    \r\n&gt;\r\n1. Change the bit i if the next bit i+1 is &#39;1&#39; and all the other bits i+2 and later are 0\r\n2. Change the last bit without restriction\r\n     \r\nFor example:\r\n\r\nif input is (8)Base10 = (1000)Base2, then the steps taken are:\r\n\r\n    1000→1001→1011→1010→1110→1111→1101→1100→0100→0101→0111→0110→0010→0011→0001→0000\r\n\r\ntotal 15 steps are required.\r\n    \r\nComplete the following definition:\r\n    \r\n    int minStepsRequired(long number)\r\n\r\nIt&#39;s ok to get a pseudo code or just the algorithm. This is not a homework or assignment.","title":"Programming: Minimum steps required to convert a binary number to zero","body":"<p>I was working on a programming exercise and was stuck on figuring out the correct algorithm. Here is the problem:</p>\n\n<blockquote>\n  <p>Given a decimal number, how many minimum possible steps are required to convert this to zero provided:    </p>\n  \n  <ol>\n  <li>Change the bit i if the next bit i+1 is '1' and all the other bits i+2 and later are 0</li>\n  <li>Change the last bit without restriction</li>\n  </ol>\n</blockquote>\n\n<p>For example:</p>\n\n<p>if input is (8)Base10 = (1000)Base2, then the steps taken are:</p>\n\n<pre><code>1000→1001→1011→1010→1110→1111→1101→1100→0100→0101→0111→0110→0010→0011→0001→0000\n</code></pre>\n\n<p>total 15 steps are required.</p>\n\n<p>Complete the following definition:</p>\n\n<pre><code>int minStepsRequired(long number)\n</code></pre>\n\n<p>It's ok to get a pseudo code or just the algorithm. This is not a homework or assignment.</p>\n"},{"tags":["java","selenium-webdriver","cucumber-jvm"],"comments":[{"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"score":0,"creation_date":1412566112,"post_id":25923405,"comment_id":41102163,"body_markdown":"Can you post your pom.xml file","body":"Can you post your pom.xml file"}],"answers":[{"comments":[{"owner":{"account_id":61884,"reputation":22496,"user_id":184184,"accept_rate":67,"display_name":"Raj"},"score":3,"creation_date":1443007367,"post_id":26088881,"comment_id":53316984,"body_markdown":"How to do this for gradle?","body":"How to do this for gradle?"},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1515445824,"post_id":26088881,"comment_id":83295600,"body_markdown":"add cucumber dependencies to your gradle build file","body":"add cucumber dependencies to your gradle build file"}],"tags":[],"owner":{"account_id":7203,"reputation":3648,"user_id":12405,"accept_rate":78,"display_name":"Seb Rose"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1411933297,"creation_date":1411933297,"answer_id":26088881,"question_id":25923405,"body_markdown":"This error is thrown when no &#39;backends&#39; are found on the classpath. There is a &#39;backend&#39; for each supported language (e.g. cucumber-java, cucumber-groovy etc.)\r\n\r\nIt&#39;s probably a classpath error, although if cucumber-core and cucumber-java are in the same location that does seem strange.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>This error is thrown when no 'backends' are found on the classpath. There is a 'backend' for each supported language (e.g. cucumber-java, cucumber-groovy etc.)</p>\n\n<p>It's probably a classpath error, although if cucumber-core and cucumber-java are in the same location that does seem strange.</p>\n"},{"comments":[{"owner":{"account_id":3926804,"reputation":312,"user_id":3246928,"display_name":"Brian"},"score":0,"creation_date":1544758574,"post_id":39952534,"comment_id":94397937,"body_markdown":"Also, the versions of cucumber have to be correct for your version of Java - I had to do an exclude group on &#39;io.cucumber&#39; and &#39;info.cukes&#39; when adding com.github.mkolisnyk:cucumber-runner, because it brought in an older version","body":"Also, the versions of cucumber have to be correct for your version of Java - I had to do an exclude group on &#39;io.cucumber&#39; and &#39;info.cukes&#39; when adding com.github.mkolisnyk:cucumber-runner, because it brought in an older version"},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1559585632,"post_id":39952534,"comment_id":99459605,"body_markdown":"Make sure all dependencies for Cucumber are the same version. Note that we are currently at v4 and counting. Also note that as of v2 the `groupId` changed from `info.cukes` to `io.cucumber`.","body":"Make sure all dependencies for Cucumber are the same version. Note that we are currently at v4 and counting. Also note that as of v2 the <code>groupId</code> changed from <code>info.cukes</code> to <code>io.cucumber</code>."}],"tags":[],"owner":{"account_id":6754500,"reputation":1960,"user_id":5203451,"accept_rate":0,"display_name":"hemanto"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1625426581,"creation_date":1476081582,"answer_id":39952534,"question_id":25923405,"body_markdown":"Make sure you&#39;re adding below dependencies for Maven project:\r\n\r\nYou can replace version to the latest or the required version:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Make sure you're adding below dependencies for Maven project:</p>\n<p>You can replace version to the latest or the required version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11045517,"reputation":1,"user_id":8111822,"display_name":"Bryan Houder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496647350,"creation_date":1496615339,"answer_id":44359421,"question_id":25923405,"body_markdown":"I encountered this same error message when trying to run a Cucumber feature file in Eclipse (&quot;No backends were found. Please make sure you have a backend module on your CLASSPATH&quot;).\r\n\r\nWhat fixed it for me was going into my pom.xml and changing the cucumber-java and cucumber-junit versions away from 1.2.5 ([per their documentation][1]) to 1.2.0.\r\n\r\nI&#39;m not 100% sure if I&#39;m ignoring a real issue by doing this or not. Here is more information about my setup:\r\n\r\n - Windows 10\r\n - Eclipse Neon (4.6.0)\r\n - Apache Maven 3.5.0\r\n - Java 1.8\r\n\r\nI verified via quick commands that java and maven are installed successfully and running on my machine. I also verified that Maven pulled in the cucumber-java, and cucumber-core jars in my Eclipse project. Odd.\r\n\r\n\r\n  [1]: https://cucumber.io/docs/reference/jvm#java","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I encountered this same error message when trying to run a Cucumber feature file in Eclipse (\"No backends were found. Please make sure you have a backend module on your CLASSPATH\").</p>\n\n<p>What fixed it for me was going into my pom.xml and changing the cucumber-java and cucumber-junit versions away from 1.2.5 (<a href=\"https://cucumber.io/docs/reference/jvm#java\" rel=\"nofollow noreferrer\">per their documentation</a>) to 1.2.0.</p>\n\n<p>I'm not 100% sure if I'm ignoring a real issue by doing this or not. Here is more information about my setup:</p>\n\n<ul>\n<li>Windows 10</li>\n<li>Eclipse Neon (4.6.0)</li>\n<li>Apache Maven 3.5.0</li>\n<li>Java 1.8</li>\n</ul>\n\n<p>I verified via quick commands that java and maven are installed successfully and running on my machine. I also verified that Maven pulled in the cucumber-java, and cucumber-core jars in my Eclipse project. Odd.</p>\n"},{"tags":[],"owner":{"account_id":1993324,"reputation":105,"user_id":1786828,"display_name":"abhinavgoyal02"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502075020,"creation_date":1502075020,"answer_id":45538849,"question_id":25923405,"body_markdown":"You can try the cucumber-java-1.2.4 at https://mvnrepository.com/artifact/info.cukes/cucumber-java/1.2.4.\r\n\r\nI found that trying a previous version of the same JAR file worked for me.\r\nI guess this may solve for other people as well. In case it does not, please add another answer.\r\n\r\nLet me know if it worked for you and saved some valuable time :-)","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>You can try the cucumber-java-1.2.4 at <a href=\"https://mvnrepository.com/artifact/info.cukes/cucumber-java/1.2.4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/info.cukes/cucumber-java/1.2.4</a>.</p>\n\n<p>I found that trying a previous version of the same JAR file worked for me.\nI guess this may solve for other people as well. In case it does not, please add another answer.</p>\n\n<p>Let me know if it worked for you and saved some valuable time :-)</p>\n"},{"tags":[],"owner":{"account_id":1972482,"reputation":3741,"user_id":1771073,"accept_rate":50,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509548072,"creation_date":1509546306,"answer_id":47057135,"question_id":25923405,"body_markdown":"Here is the fix:\r\nin eclipse projects add the following in the **.project** file\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;buildSpec&gt;\r\n      ...\r\n      &lt;buildCommand&gt;\r\n    \t&lt;name&gt;cucumber.eclipse.steps.jdt.stepsBuilder&lt;/name&gt;\r\n    \t&lt;arguments&gt;\r\n    \t&lt;/arguments&gt;\r\n      &lt;/buildCommand&gt;\r\n    &lt;/buildSpec&gt;\r\n    &lt;natures&gt;\r\n      ...\r\n      &lt;nature&gt;cucumber.eclipse.steps.jdt.stepsNature&lt;/nature&gt;\r\n    &lt;/natures&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf  this did not fix the issue,\r\n add the dependency\r\n\r\n&gt; cucumber-java\r\n\r\nin the project classpath or change the version of the jar to latest or n-1\r\n\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Here is the fix:\nin eclipse projects add the following in the <strong>.project</strong> file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;buildSpec&gt;\r\n  ...\r\n  &lt;buildCommand&gt;\r\n\t&lt;name&gt;cucumber.eclipse.steps.jdt.stepsBuilder&lt;/name&gt;\r\n\t&lt;arguments&gt;\r\n\t&lt;/arguments&gt;\r\n  &lt;/buildCommand&gt;\r\n&lt;/buildSpec&gt;\r\n&lt;natures&gt;\r\n  ...\r\n  &lt;nature&gt;cucumber.eclipse.steps.jdt.stepsNature&lt;/nature&gt;\r\n&lt;/natures&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If  this did not fix the issue,\n add the dependency</p>\n\n<blockquote>\n  <p>cucumber-java</p>\n</blockquote>\n\n<p>in the project classpath or change the version of the jar to latest or n-1</p>\n"},{"tags":[],"owner":{"account_id":10520380,"reputation":1,"user_id":7753128,"display_name":"Raghav"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1553701181,"creation_date":1553701181,"answer_id":55381159,"question_id":25923405,"body_markdown":"Adding the following dependency I got resolved this issue \r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n           &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n           &lt;version&gt;4.2.6&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Adding the following dependency I got resolved this issue </p>\n\n<pre><code>   &lt;dependency&gt;\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n       &lt;version&gt;4.2.6&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18701221,"reputation":1,"user_id":13633401,"display_name":"manjoosha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590657587,"creation_date":1590657587,"answer_id":62061174,"question_id":25923405,"body_markdown":"i had &lt;type&gt;pom&lt;/type&gt; in my dependency for cucumber-java. Once i removed that worked fine ","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>i had pom in my dependency for cucumber-java. Once i removed that worked fine </p>\n"},{"tags":[],"owner":{"account_id":11590617,"reputation":11,"user_id":9334312,"display_name":"Danish Dogra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625426549,"creation_date":1590664998,"answer_id":62063487,"question_id":25923405,"body_markdown":"You are not providing the path of the step definition class \r\nAdd glue in the cucumber options may be it will help.\r\n\r\n    @RunWith(Cucumber.class) @CucumberOptions( \r\n\t\tfeatures =&quot;Path of the feature file&quot;, \r\n\t\tglue = {&quot;path of step definition class or package &quot;},\r\n        format={&quot;pretty&quot;,&quot;json:target/&quot;},\r\n \t\tdryRun = true, \r\n        strict = true, \t\t\r\n        monochrome = true )\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>You are not providing the path of the step definition class\nAdd glue in the cucumber options may be it will help.</p>\n<pre><code>@RunWith(Cucumber.class) @CucumberOptions( \n    features =&quot;Path of the feature file&quot;, \n    glue = {&quot;path of step definition class or package &quot;},\n    format={&quot;pretty&quot;,&quot;json:target/&quot;},\n    dryRun = true, \n    strict = true,      \n    monochrome = true )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18964985,"reputation":1,"user_id":13839662,"display_name":"Amit P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625426499,"creation_date":1593506998,"answer_id":62653669,"question_id":25923405,"body_markdown":"```xml\r\n&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-jvm-deps --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.5&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nKeep only three tags (`groupId`, `artifactId` and `version`) in your dependencies. Delete `&lt;scope&gt;` and other additional tags in `pom.xml` and then try.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-jvm-deps --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n    &lt;version&gt;1.0.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Keep only three tags (<code>groupId</code>, <code>artifactId</code> and <code>version</code>) in your dependencies. Delete <code>&lt;scope&gt;</code> and other additional tags in <code>pom.xml</code> and then try.</p>\n"},{"tags":[],"owner":{"account_id":19592540,"reputation":191,"user_id":14339247,"display_name":"vikasbashu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601027030,"creation_date":1601027030,"answer_id":64061700,"question_id":25923405,"body_markdown":"I have updated my pom.xml file with the latest version of following libraries. It works for me. \r\n\r\n - junit\r\n - cucumber-java\r\n - cucumber-junit\r\n\r\nMake sure you are using the correct version of junit, cucumber-java, cucumber-junit. It should not be like you are using some older version of junit and latest versions of cucumber junit and java. I have list down the dependencies which I have used. You can try these.\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;6.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I have updated my pom.xml file with the latest version of following libraries. It works for me.</p>\n<ul>\n<li>junit</li>\n<li>cucumber-java</li>\n<li>cucumber-junit</li>\n</ul>\n<p>Make sure you are using the correct version of junit, cucumber-java, cucumber-junit. It should not be like you are using some older version of junit and latest versions of cucumber junit and java. I have list down the dependencies which I have used. You can try these.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;6.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;6.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18246486,"reputation":11,"user_id":14442467,"display_name":"mahima sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602594302,"creation_date":1602594302,"answer_id":64335899,"question_id":25923405,"body_markdown":"Writing in 2020, though enough discussion has already gone on this topic. Still if it helps someone. For me the issue got resolved with same version of \r\n1. cucumber-java\r\n2. cucumber-junit\r\n3. cucumber-core \r\ndependencies\r\nsnippet of my POM\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;6.4.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.4.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;6.4.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Writing in 2020, though enough discussion has already gone on this topic. Still if it helps someone. For me the issue got resolved with same version of</p>\n<ol>\n<li><p>cucumber-java</p>\n</li>\n<li><p>cucumber-junit</p>\n</li>\n<li><p>cucumber-core\ndependencies\nsnippet of my POM</p>\n \n         io.cucumber\n         cucumber-java\n         6.4.0\n  \n  \n             io.cucumber\n             cucumber-core\n             6.4.0\n   \n \n             io.cucumber\n             cucumber-junit\n             6.4.0\n             compile\n   \n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11770116,"reputation":21,"user_id":8613386,"display_name":"Siva K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665536039,"creation_date":1613556618,"answer_id":66239793,"question_id":25923405,"body_markdown":"I got this same error message when trying to run a Cucumber feature file in Eclipse.\r\n\r\nThese steps worked for me: \r\n\r\nUpdated my pom.xml file with the latest and same version of the following libraries.\r\n\r\n - cucumber-junit - 1.2.6\r\n - cucumber-java - 1.2.6\r\n\r\nAlso I updated &#39;junit&#39; to the latest version ","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I got this same error message when trying to run a Cucumber feature file in Eclipse.</p>\n<p>These steps worked for me:</p>\n<p>Updated my pom.xml file with the latest and same version of the following libraries.</p>\n<ul>\n<li>cucumber-junit - 1.2.6</li>\n<li>cucumber-java - 1.2.6</li>\n</ul>\n<p>Also I updated 'junit' to the latest version</p>\n"},{"comments":[{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":0,"creation_date":1617771442,"post_id":66979175,"comment_id":118395573,"body_markdown":"Instead of the descriptive answer, provide with code snippet or example for clean illustration of the answer","body":"Instead of the descriptive answer, provide with code snippet or example for clean illustration of the answer"}],"tags":[],"owner":{"account_id":21174909,"reputation":1,"user_id":15570430,"display_name":"Devesh Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617765987,"creation_date":1617765987,"answer_id":66979175,"question_id":25923405,"body_markdown":"The error simply says that cucumber is not configured properly on your device.\r\nThis can be because of missing dependencies or the dependencies are not loaded properly.\r\nCheck for the dependencies first and then save all, close the editor, and then reopen it.\r\nTry to run again and check.\r\n","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>The error simply says that cucumber is not configured properly on your device.\nThis can be because of missing dependencies or the dependencies are not loaded properly.\nCheck for the dependencies first and then save all, close the editor, and then reopen it.\nTry to run again and check.</p>\n"},{"tags":[],"owner":{"account_id":21662602,"reputation":1,"user_id":15981521,"display_name":"Vijendra "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624021240,"creation_date":1624021240,"answer_id":68035630,"question_id":25923405,"body_markdown":"Removed Cucumber Core dependency from POM.XML it is working fine","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Removed Cucumber Core dependency from POM.XML it is working fine</p>\n"},{"tags":[],"owner":{"account_id":21996076,"reputation":1,"user_id":16268608,"display_name":"ProgressiveLearner "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624119844,"creation_date":1624119844,"answer_id":68048746,"question_id":25923405,"body_markdown":"Commenting in 2021. This might help someone.\r\nThe issues is simple, cucumber groupid has been changed to &gt;io.cucumber&lt; so if you are still using &gt;info cukes&lt; you will be getting exceptions. That is why when you update your cucumber java to the latest it solves the issue bc the latest groupid comes as io.cucumber. You can as well change all the groupid info cukes in your pom.xml to io.cucumber. This will solve the issue","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Commenting in 2021. This might help someone.\nThe issues is simple, cucumber groupid has been changed to &gt;io.cucumber&lt; so if you are still using &gt;info cukes&lt; you will be getting exceptions. That is why when you update your cucumber java to the latest it solves the issue bc the latest groupid comes as io.cucumber. You can as well change all the groupid info cukes in your pom.xml to io.cucumber. This will solve the issue</p>\n"},{"comments":[{"owner":{"account_id":5155157,"reputation":1193,"user_id":4128576,"display_name":"Dhamo"},"score":0,"creation_date":1647552778,"post_id":69818366,"comment_id":126406956,"body_markdown":"It helped me with above version., thanks to you","body":"It helped me with above version., thanks to you"}],"tags":[],"owner":{"account_id":2366927,"reputation":1802,"user_id":2072444,"accept_rate":41,"display_name":"rishi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635899161,"creation_date":1635899161,"answer_id":69818366,"question_id":25923405,"body_markdown":"Used the latest and same version for all dependencies and it works fine.\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;6.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Used the latest and same version for all dependencies and it works fine.</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26217349,"reputation":1,"user_id":19895313,"display_name":"Nayaz Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662031222,"creation_date":1662031222,"answer_id":73568508,"question_id":25923405,"body_markdown":"Errors on running Cucumber Feature\r\nException in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\r\n\r\nSolution\r\n\r\nMost probably this means that your cucumber-java version and java version on your machine is not compatible with each other.  First, check Java Version on your machine by going through this article How to check Java/JDK Version Installed on your Machine.\r\n\r\nOn my machine, I have Java 1.8.0 with cucumber-Java8-1.2.5 and it did not work. When I degraded my cucumber java version to cucumber-Java-1.2.5, it worked fine for me. Just make sure that first, you remove the cucumber-java which did not work for you from Project build path &gt;&gt; Libraries and then add new.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>Errors on running Cucumber Feature\nException in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.</p>\n<p>Solution</p>\n<p>Most probably this means that your cucumber-java version and java version on your machine is not compatible with each other.  First, check Java Version on your machine by going through this article How to check Java/JDK Version Installed on your Machine.</p>\n<p>On my machine, I have Java 1.8.0 with cucumber-Java8-1.2.5 and it did not work. When I degraded my cucumber java version to cucumber-Java-1.2.5, it worked fine for me. Just make sure that first, you remove the cucumber-java which did not work for you from Project build path &gt;&gt; Libraries and then add new.</p>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665481131,"creation_date":1665481131,"answer_id":74026023,"question_id":25923405,"body_markdown":"It can also be caused by having 2 backend: for example:\r\n\r\n\r\n    \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand \r\n   \r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nAlso make sure you have compatible versions","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>It can also be caused by having 2 backend: for example:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Also make sure you have compatible versions</p>\n"}],"owner":{"account_id":1027185,"reputation":4338,"user_id":1036242,"accept_rate":33,"display_name":"Anand Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67207,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39952534,"answer_count":18,"score":14,"last_activity_date":1665536039,"creation_date":1411079180,"question_id":25923405,"body_markdown":"I am developing my Selenium-JVM framework with Cucumber and while running my first feature got below error.\r\n\r\nPlease help.\r\n\r\nHow did I launch the feature -\r\n\r\n1. Right click on feature file \r\n2. Select Run As -&gt; Cucumber Feature\r\n\r\nImmediate Exception -\r\n\r\n    Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\r\n    \tat cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:78)\r\n    \tat cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:67)\r\n    \tat cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:63)\r\n    \tat cucumber.api.cli.Main.run(Main.java:24)\r\n    \tat cucumber.api.cli.Main.main(Main.java:16)\r\n\r\n\r\nWhat I have in code -\r\n\r\nLauncher.java -\r\n\r\n    package cucumber;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(format={&quot;pretty&quot;,&quot;json:target/&quot;} , features=&quot;/src/test/java/cucumber/features&quot;)\r\n    public class Launcher {\r\n    \r\n    }\r\n\r\n\r\nFeature file -\r\n\r\n    Feature: it works demo\r\n    \r\n      Scenario: First test\r\n        Given this is my step\r\n        When this is my second step\r\n        Then this is my final step\r\n\r\nList of Dependencies added to list -\r\n\r\n    cucumber-core-1.1.8\r\n    cucumber-html-0.2.3\r\n    cucumber-java-1.1.8\r\n    cucumber-junit-1.1.8\r\n    cucumber-jvm-deps-1.0.3\r\n    gherkin-2.12.2\r\n    hamcrest-all-1.3\r\n    junit-4.11\r\n    selenium-api-2.42.2\r\n    selenium-firefox-driver-2.42.2\r\n    selenium-java-2.42.2\r\n    selenium-remote-driver-2.42.2\r\n    selenium-support-2.42.2\r\n\r\nMy JVM - 1.7\r\n\r\n\r\nOnly this much is available in project.\r\n\r\nPlease help.","title":"Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: No backends were found","body":"<p>I am developing my Selenium-JVM framework with Cucumber and while running my first feature got below error.</p>\n\n<p>Please help.</p>\n\n<p>How did I launch the feature -</p>\n\n<ol>\n<li>Right click on feature file </li>\n<li>Select Run As -> Cucumber Feature</li>\n</ol>\n\n<p>Immediate Exception -</p>\n\n<pre><code>Exception in thread \"main\" cucumber.runtime.CucumberException: No backends were found. Please make sure you have a backend module on your CLASSPATH.\n    at cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:78)\n    at cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:67)\n    at cucumber.runtime.Runtime.&lt;init&gt;(Runtime.java:63)\n    at cucumber.api.cli.Main.run(Main.java:24)\n    at cucumber.api.cli.Main.main(Main.java:16)\n</code></pre>\n\n<p>What I have in code -</p>\n\n<p>Launcher.java -</p>\n\n<pre><code>package cucumber;\n\nimport org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(format={\"pretty\",\"json:target/\"} , features=\"/src/test/java/cucumber/features\")\npublic class Launcher {\n\n}\n</code></pre>\n\n<p>Feature file -</p>\n\n<pre><code>Feature: it works demo\n\n  Scenario: First test\n    Given this is my step\n    When this is my second step\n    Then this is my final step\n</code></pre>\n\n<p>List of Dependencies added to list -</p>\n\n<pre><code>cucumber-core-1.1.8\ncucumber-html-0.2.3\ncucumber-java-1.1.8\ncucumber-junit-1.1.8\ncucumber-jvm-deps-1.0.3\ngherkin-2.12.2\nhamcrest-all-1.3\njunit-4.11\nselenium-api-2.42.2\nselenium-firefox-driver-2.42.2\nselenium-java-2.42.2\nselenium-remote-driver-2.42.2\nselenium-support-2.42.2\n</code></pre>\n\n<p>My JVM - 1.7</p>\n\n<p>Only this much is available in project.</p>\n\n<p>Please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1140957,"reputation":2536,"user_id":1124868,"display_name":"mdewitt"},"score":0,"creation_date":1390444395,"post_id":21298187,"comment_id":32097748,"body_markdown":"Look at the documentation for String: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int) indexOf(char) always gives you the first occurrence","body":"Look at the documentation for String: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> indexOf(char) always gives you the first occurrence"},{"owner":{"account_id":1765526,"reputation":452,"user_id":1611488,"display_name":"Lotus"},"score":2,"creation_date":1390444575,"post_id":21298187,"comment_id":32097792,"body_markdown":"Your problem was already solved here: http://stackoverflow.com/questions/5034442/java-indexes-of-all-occurrences-of-character-in-a-string","body":"Your problem was already solved here: <a href=\"http://stackoverflow.com/questions/5034442/java-indexes-of-all-occurrences-of-character-in-a-string\" title=\"java indexes of all occurrences of character in a string\">stackoverflow.com/questions/5034442/&hellip;</a>"},{"owner":{"account_id":1239497,"reputation":1821,"user_id":1202432,"accept_rate":79,"display_name":"Ian Lundberg"},"score":0,"creation_date":1390444597,"post_id":21298187,"comment_id":32097799,"body_markdown":"Yup you&#39;re right @mdewitt I completely forgot about that.","body":"Yup you&#39;re right @mdewitt I completely forgot about that."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1390445240,"post_id":21298187,"comment_id":32097956,"body_markdown":"Use two parameter form of `indexOf` and start searching at previously found position + 1.","body":"Use two parameter form of <code>indexOf</code> and start searching at previously found position + 1."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1390447601,"post_id":21298187,"comment_id":32098647,"body_markdown":"What you actually trying to achieve? Is this hangman?","body":"What you actually trying to achieve? Is this hangman?"}],"answers":[{"tags":[],"owner":{"account_id":3890685,"reputation":515,"user_id":3220968,"accept_rate":100,"display_name":"java-love"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390506830,"creation_date":1390449447,"answer_id":21299058,"question_id":21298187,"body_markdown":"I think this is the code you&#39;re looking for,  \r\n \r\n\r\n     String word, letter;\r\n    \t\tword = &quot;test&quot;;\r\n    \t\tletter = &quot;t&quot;;\r\n    \t\tint i = 0;\r\n    \r\n    \t\ti = word.indexOf(letter);\r\n    \r\n    \t\twhile (i &gt; -1) {\r\n    \t\t\t// store i in arrayList\r\n    \t\t\ti = word.indexOf(letter, i + 1);}\r\n\r\n","title":"How to replace second occurence of char in a String? (Java)","body":"<p>I think this is the code you're looking for,  </p>\n\n<pre><code> String word, letter;\n        word = \"test\";\n        letter = \"t\";\n        int i = 0;\n\n        i = word.indexOf(letter);\n\n        while (i &gt; -1) {\n            // store i in arrayList\n            i = word.indexOf(letter, i + 1);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16499277,"reputation":11,"user_id":11920992,"display_name":"PallaviNikamQA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565680628,"creation_date":1565680628,"answer_id":57472880,"question_id":21298187,"body_markdown":"Another Way is \r\n\r\n     String string1= &quot;Hello&quot;;\r\n\t int first=string1.indexOf(&#39;l&#39;);\r\n\t String newstr= string1.substring(0, first+1);\r\n     String newstr2= string1.substring(first+1, string1.length()).replaceFirst(&quot;l&quot;, &quot;k&quot;);\r\n\t System.out.println(newstr+newstr2);","title":"How to replace second occurence of char in a String? (Java)","body":"<p>Another Way is </p>\n\n<pre><code> String string1= \"Hello\";\n int first=string1.indexOf('l');\n String newstr= string1.substring(0, first+1);\n String newstr2= string1.substring(first+1, string1.length()).replaceFirst(\"l\", \"k\");\n System.out.println(newstr+newstr2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16499277,"reputation":11,"user_id":11920992,"display_name":"PallaviNikamQA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565691203,"creation_date":1565691203,"answer_id":57475628,"question_id":21298187,"body_markdown":"By using StringBuilder you can achieve this by using below code\r\n\r\n        String string1= &quot;Hello&quot;;\r\n\t\tint first=string1.indexOf(&#39;l&#39;,string1.indexOf(&#39;l&#39;)+1);\r\n\t\tStringBuilder SB = new StringBuilder(string1); \r\n        SB.setCharAt(first, &#39;k&#39;); \r\n\t    System.out.println(SB);\r\n\t\t","title":"How to replace second occurence of char in a String? (Java)","body":"<p>By using StringBuilder you can achieve this by using below code</p>\n\n<pre><code>    String string1= \"Hello\";\n    int first=string1.indexOf('l',string1.indexOf('l')+1);\n    StringBuilder SB = new StringBuilder(string1); \n    SB.setCharAt(first, 'k'); \n    System.out.println(SB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665535781,"creation_date":1566248726,"answer_id":57563950,"question_id":21298187,"body_markdown":"    private String replaceOccurrence(String text, String replaceFrom, String replaceTo, int occurrenceIndex)\r\n    {\r\n        StringBuffer sb = new StringBuffer();\r\n        Pattern p = Pattern.compile(replaceFrom);\r\n        Matcher m = p.matcher(text);\r\n        int count = 0;\r\n        while (m.find())\r\n        {\r\n            if (count++ == occurrenceIndex - 1)\r\n            {\r\n                m.appendReplacement(sb, replaceTo);\r\n            }\r\n        }\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n\r\nFor example if you want to replace the second occurrence of &quot;_&quot; with &quot;A&quot;, then:\r\n\r\n    String theLetters = &quot;_ _ _ _ _\\n&quot;;\r\n    String replacedText = replaceOccurrence(theLetters, &quot;_&quot;, &quot;A&quot;, 2);\r\n\r\nResult: _ A _ _ _\r\n\r\n","title":"How to replace second occurence of char in a String? (Java)","body":"<pre><code>private String replaceOccurrence(String text, String replaceFrom, String replaceTo, int occurrenceIndex)\n{\n    StringBuffer sb = new StringBuffer();\n    Pattern p = Pattern.compile(replaceFrom);\n    Matcher m = p.matcher(text);\n    int count = 0;\n    while (m.find())\n    {\n        if (count++ == occurrenceIndex - 1)\n        {\n            m.appendReplacement(sb, replaceTo);\n        }\n    }\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n<p>For example if you want to replace the second occurrence of &quot;_&quot; with &quot;A&quot;, then:</p>\n<pre><code>String theLetters = &quot;_ _ _ _ _\\n&quot;;\nString replacedText = replaceOccurrence(theLetters, &quot;_&quot;, &quot;A&quot;, 2);\n</code></pre>\n<p>Result: _ A _ _ _</p>\n"}],"owner":{"account_id":1239497,"reputation":1821,"user_id":1202432,"accept_rate":79,"display_name":"Ian Lundberg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13410,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1665535781,"creation_date":1390444042,"question_id":21298187,"body_markdown":"    private String theLetters = &quot;_ _ _ _ _\\n&quot;;\r\n\r\n\r\n\r\n    StringBuilder myName = new StringBuilder(theLetters);    \r\n    \r\n    for(char e : theSecretWord.toLowerCase().toCharArray())\r\n    {\r\n        if(e == theUsersGuess.charAt(0))\r\n        {\r\n            int index = theSecretWord.indexOf(e) * 2;\r\n            myName.setCharAt(index, theUsersGuess.charAt(0));\r\n            theLetters = myName.toString();\r\n        }\r\n    }\r\n\r\n   For some reason this will only replace the first occurrence of a letter from the String theSecretWord and not the second, even though this for each loop goes through each character and replaces it in theLetters accordingly. I don&#39;t understand why it won&#39;t replace more than one occurrence of a letter.\r\n\r\n   I think it&#39;s because the loop stops once it finds a matching letter even though it shouldn&#39;t.","title":"How to replace second occurence of char in a String? (Java)","body":"<pre><code>private String theLetters = \"_ _ _ _ _\\n\";\n\n\n\nStringBuilder myName = new StringBuilder(theLetters);    \n\nfor(char e : theSecretWord.toLowerCase().toCharArray())\n{\n    if(e == theUsersGuess.charAt(0))\n    {\n        int index = theSecretWord.indexOf(e) * 2;\n        myName.setCharAt(index, theUsersGuess.charAt(0));\n        theLetters = myName.toString();\n    }\n}\n</code></pre>\n\n<p>For some reason this will only replace the first occurrence of a letter from the String theSecretWord and not the second, even though this for each loop goes through each character and replaces it in theLetters accordingly. I don't understand why it won't replace more than one occurrence of a letter.</p>\n\n<p>I think it's because the loop stops once it finds a matching letter even though it shouldn't.</p>\n"},{"tags":["java","spring","annotations","spring-batch","scheduler"],"answers":[{"comments":[{"owner":{"account_id":1103505,"reputation":1621,"user_id":1095394,"accept_rate":49,"display_name":"MRX"},"score":2,"creation_date":1489725040,"post_id":42836912,"comment_id":72806381,"body_markdown":"Yes It was that simple. :)","body":"Yes It was that simple. :)"}],"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1489674492,"creation_date":1489674492,"answer_id":42836912,"question_id":42834725,"body_markdown":"A step will run until your `ItemReader` returns null.  In your case, your `ItemReader` never does (it always returns a new `Person`) so it will never end.","title":"Spring Batch Job Running in Infinite loop","body":"<p>A step will run until your <code>ItemReader</code> returns null.  In your case, your <code>ItemReader</code> never does (it always returns a new <code>Person</code>) so it will never end.</p>\n"},{"comments":[{"owner":{"account_id":9484719,"reputation":218,"user_id":7051404,"accept_rate":45,"display_name":"Soham"},"score":0,"creation_date":1607921457,"post_id":44278809,"comment_id":115414647,"body_markdown":"This approach won&#39;t work if the job is annotated as @EnableScheduling. Since the batchJobState value will be true after 1st execution, it will prevent the program to run in next successive execution.","body":"This approach won&#39;t work if the job is annotated as @EnableScheduling. Since the batchJobState value will be true after 1st execution, it will prevent the program to run in next successive execution."}],"tags":[],"owner":{"account_id":9018482,"reputation":822,"user_id":6720343,"accept_rate":80,"display_name":"Anuj Vishwakarma"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1496218232,"creation_date":1496217121,"answer_id":44278809,"question_id":42834725,"body_markdown":"Add a flag to resist the reader to run in infinite loop.\r\n\r\nReader: \r\n    \r\n    public class PersonReader implements ItemReader&lt;Person&gt; {\r\n        private boolean batchJobState = false;\r\n        \r\n        @Override\r\n        public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n            if(!batchJobState){\r\n                Person person = new Person();\r\n                System.out.println(&quot;In PersonReader&quot;);\r\n                batchJobState=true;\r\n                return person;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n","title":"Spring Batch Job Running in Infinite loop","body":"<p>Add a flag to resist the reader to run in infinite loop.</p>\n\n<p>Reader: </p>\n\n<pre><code>public class PersonReader implements ItemReader&lt;Person&gt; {\n    private boolean batchJobState = false;\n\n    @Override\n    public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        if(!batchJobState){\n            Person person = new Person();\n            System.out.println(\"In PersonReader\");\n            batchJobState=true;\n            return person;\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539609605,"creation_date":1538188676,"answer_id":52564599,"question_id":42834725,"body_markdown":"Is someone came here with the same error, but using `FlatFileItemReader` (what is a `Reader` implementation), see if you have more than one `step` with the **same name**.\r\n\r\nI had two steps on my Spring Batch project with the same name. The last step among this two executed caused a infinite loop.","title":"Spring Batch Job Running in Infinite loop","body":"<p>Is someone came here with the same error, but using <code>FlatFileItemReader</code> (what is a <code>Reader</code> implementation), see if you have more than one <code>step</code> with the <strong>same name</strong>.</p>\n\n<p>I had two steps on my Spring Batch project with the same name. The last step among this two executed caused a infinite loop.</p>\n"},{"tags":[],"owner":{"account_id":21796251,"reputation":11,"user_id":16095789,"display_name":"Sadanand Burud"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665533579,"creation_date":1622552545,"answer_id":67789379,"question_id":42834725,"body_markdown":"Use the interface **StepExecutionListener**. \r\nThis will provide two methods\r\n\r\nUse a variable boolean FLAG at instance level.\r\n\r\n\r\n    public class PersonReader implements ItemReader&lt;Person&gt;,StepExecutionListener {\r\n        private boolean jobState = false;\r\n    \r\n        @Override\r\n        public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n            if(!jobState){\r\n                Person person = new Person();\r\n                System.out.println(&quot;In PersonReader&quot;);\r\n                jobState=true;\r\n                return person;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void beforeStep(StepExecution stepExecution) { }\r\n    \r\n      @Override\r\n        public ExitStatus afterStep(StepExecution stepExecution) {\r\n        \r\n            jobStat = false;\r\n            return stepExecution.getExitStatus();\r\n        }\r\n    }\r\n\r\n1. before read() method execution beforeStep method executes.\r\n2. read() method set a flag to true.\r\n3. after read() method execution, afterStep method will executes and set the flag as false.\r\n4. Whenever your scheduler start the job after 10 minutes the value will be false initially.","title":"Spring Batch Job Running in Infinite loop","body":"<p>Use the interface <strong>StepExecutionListener</strong>.\nThis will provide two methods</p>\n<p>Use a variable boolean FLAG at instance level.</p>\n<pre><code>public class PersonReader implements ItemReader&lt;Person&gt;,StepExecutionListener {\n    private boolean jobState = false;\n\n    @Override\n    public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        if(!jobState){\n            Person person = new Person();\n            System.out.println(&quot;In PersonReader&quot;);\n            jobState=true;\n            return person;\n        }\n        return null;\n    }\n}\n\n\n\n@Override\npublic void beforeStep(StepExecution stepExecution) { }\n\n  @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n    \n        jobStat = false;\n        return stepExecution.getExitStatus();\n    }\n}\n</code></pre>\n<ol>\n<li>before read() method execution beforeStep method executes.</li>\n<li>read() method set a flag to true.</li>\n<li>after read() method execution, afterStep method will executes and set the flag as false.</li>\n<li>Whenever your scheduler start the job after 10 minutes the value will be false initially.</li>\n</ol>\n"}],"owner":{"account_id":1103505,"reputation":1621,"user_id":1095394,"accept_rate":49,"display_name":"MRX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15733,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42836912,"answer_count":4,"score":5,"last_activity_date":1665533579,"creation_date":1489668919,"question_id":42834725,"body_markdown":"I am working on simple Spring Batch Job. When I launch job its running in infinite loop. It doesn&#39;t stop. According to my scheduler time it should run after every 10 seconds. But when job starts it doesn&#39;t stop. Its just keeps printing sysouts from reader, processor and writer respectively. I am creating job with reader, processor and writer. And I am doing all configuration by annotations. Not by xml. \r\n\r\nHere is Batch Configuration\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @EnableScheduling\r\n    public class BatchJobConfig {\r\n    \r\n    \t@Autowired\r\n    \tprivate JobBuilderFactory jobBuilderFactory;\r\n    \r\n    \t@Autowired\r\n    \tprivate StepBuilderFactory stepBuilderFactory;\r\n    \t\r\n    \t@Autowired\r\n        private SimpleJobLauncher jobLauncher;\r\n    \r\n    \t@Scheduled(cron=&quot;*/10 * * * * *&quot;)\r\n        public void perform() throws Exception \r\n        {\r\n    \t\tJob job = job(step1());\r\n            JobParameters jobParameters = new JobParameters();\r\n            jobLauncher.run(job, jobParameters);\t\t\r\n        }\r\n    \t\r\n    \t@Bean\r\n        public Step step1() \r\n    \t{\r\n    \t\treturn stepBuilderFactory.get(&quot;step1&quot;).&lt;Person, Person&gt; chunk(1)\r\n                    .reader(reader()).processor(processor()).writer(writer())\r\n                    .build();\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \tpublic Job job(Step step1) throws Exception \r\n    \t{\r\n    \t\treturn jobBuilderFactory.get(&quot;job&quot;)\r\n                    .incrementer(new RunIdIncrementer()).flow(step1())\r\n                    .end().build();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n        public DataSource dataSource()\r\n    \t{\r\n            EmbeddedDatabaseBuilder embeddedDatabaseBuilder = new EmbeddedDatabaseBuilder();\r\n            return embeddedDatabaseBuilder.addScript(&quot;classpath:org/springframework/batch/core/schema-drop-hsqldb.sql&quot;)\r\n                    .addScript(&quot;classpath:org/springframework/batch/core/schema-hsqldb.sql&quot;)\r\n                    .setType(EmbeddedDatabaseType.HSQL)\r\n                    .build();\r\n        }\r\n    \r\n    \t@Bean\r\n        public PersonReader reader() {\r\n        \treturn new PersonReader();\r\n        }\r\n        @Bean\r\n        public PersonWriter writer() {\r\n        \treturn new PersonWriter();\r\n        }\r\n        @Bean\r\n        public PersonProcessor processor() {\r\n        \treturn new PersonProcessor();\r\n        }\r\n        \r\n        @Bean\r\n        public MapJobRepositoryFactoryBean mapJobRepositoryFactory(ResourcelessTransactionManager txManager) throws Exception  {    \r\n            MapJobRepositoryFactoryBean factory = new MapJobRepositoryFactoryBean(txManager);\r\n            factory.afterPropertiesSet();\r\n            return factory;\r\n        }\r\n        @Bean\r\n        public JobRepository jobRepository(MapJobRepositoryFactoryBean factory) throws Exception {\r\n            return factory.getObject();\r\n        }\r\n        @Bean\r\n        public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\r\n            SimpleJobLauncher launcher = new SimpleJobLauncher();\r\n            launcher.setJobRepository(jobRepository);\r\n            return launcher;\r\n        }\r\n        @Bean\r\n        public ResourcelessTransactionManager transactionManager() {\r\n            return new ResourcelessTransactionManager();\r\n        }\r\n    }\r\n\r\nPersonReader.java\r\n\r\n  \r\n\r\n      public class PersonReader implements ItemReader&lt;Person&gt; {\r\n    \t@Override\r\n    \tpublic Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n    \t\tPerson person = new Person();\r\n    \t\tSystem.out.println(&quot;In PersonReader&quot;);\r\n    \t\treturn person;\r\n    \t}\r\n    }\r\n\r\nPersonWriter.java\r\n\r\n    public class PersonWriter implements ItemWriter&lt;Person&gt; {\r\n    \t@Override\r\n    \tpublic void write(List&lt;? extends Person&gt; arg0) throws Exception {\r\n    \t\tSystem.out.println(&quot;IN PersonWriter&quot;);\r\n    \t}\r\n    }\r\n\r\nPersonProcessor.java\r\n\r\n    public class PersonProcessor implements ItemProcessor&lt;Person, Person&gt; {\r\n    \t@Override\r\n    \tpublic Person process(Person arg0) throws Exception  {\r\n    \t\tSystem.out.println(&quot;In PersonProcessor&quot;);\r\n    \t\treturn arg0;\r\n    \t}\r\n    }","title":"Spring Batch Job Running in Infinite loop","body":"<p>I am working on simple Spring Batch Job. When I launch job its running in infinite loop. It doesn't stop. According to my scheduler time it should run after every 10 seconds. But when job starts it doesn't stop. Its just keeps printing sysouts from reader, processor and writer respectively. I am creating job with reader, processor and writer. And I am doing all configuration by annotations. Not by xml. </p>\n\n<p>Here is Batch Configuration</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\n@EnableScheduling\npublic class BatchJobConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private SimpleJobLauncher jobLauncher;\n\n    @Scheduled(cron=\"*/10 * * * * *\")\n    public void perform() throws Exception \n    {\n        Job job = job(step1());\n        JobParameters jobParameters = new JobParameters();\n        jobLauncher.run(job, jobParameters);        \n    }\n\n    @Bean\n    public Step step1() \n    {\n        return stepBuilderFactory.get(\"step1\").&lt;Person, Person&gt; chunk(1)\n                .reader(reader()).processor(processor()).writer(writer())\n                .build();\n    }\n\n    @Bean\n    public Job job(Step step1) throws Exception \n    {\n        return jobBuilderFactory.get(\"job\")\n                .incrementer(new RunIdIncrementer()).flow(step1())\n                .end().build();\n    }\n\n    @Bean\n    public DataSource dataSource()\n    {\n        EmbeddedDatabaseBuilder embeddedDatabaseBuilder = new EmbeddedDatabaseBuilder();\n        return embeddedDatabaseBuilder.addScript(\"classpath:org/springframework/batch/core/schema-drop-hsqldb.sql\")\n                .addScript(\"classpath:org/springframework/batch/core/schema-hsqldb.sql\")\n                .setType(EmbeddedDatabaseType.HSQL)\n                .build();\n    }\n\n    @Bean\n    public PersonReader reader() {\n        return new PersonReader();\n    }\n    @Bean\n    public PersonWriter writer() {\n        return new PersonWriter();\n    }\n    @Bean\n    public PersonProcessor processor() {\n        return new PersonProcessor();\n    }\n\n    @Bean\n    public MapJobRepositoryFactoryBean mapJobRepositoryFactory(ResourcelessTransactionManager txManager) throws Exception  {    \n        MapJobRepositoryFactoryBean factory = new MapJobRepositoryFactoryBean(txManager);\n        factory.afterPropertiesSet();\n        return factory;\n    }\n    @Bean\n    public JobRepository jobRepository(MapJobRepositoryFactoryBean factory) throws Exception {\n        return factory.getObject();\n    }\n    @Bean\n    public SimpleJobLauncher jobLauncher(JobRepository jobRepository) {\n        SimpleJobLauncher launcher = new SimpleJobLauncher();\n        launcher.setJobRepository(jobRepository);\n        return launcher;\n    }\n    @Bean\n    public ResourcelessTransactionManager transactionManager() {\n        return new ResourcelessTransactionManager();\n    }\n}\n</code></pre>\n\n<p>PersonReader.java</p>\n\n<pre><code>  public class PersonReader implements ItemReader&lt;Person&gt; {\n    @Override\n    public Person read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n        Person person = new Person();\n        System.out.println(\"In PersonReader\");\n        return person;\n    }\n}\n</code></pre>\n\n<p>PersonWriter.java</p>\n\n<pre><code>public class PersonWriter implements ItemWriter&lt;Person&gt; {\n    @Override\n    public void write(List&lt;? extends Person&gt; arg0) throws Exception {\n        System.out.println(\"IN PersonWriter\");\n    }\n}\n</code></pre>\n\n<p>PersonProcessor.java</p>\n\n<pre><code>public class PersonProcessor implements ItemProcessor&lt;Person, Person&gt; {\n    @Override\n    public Person process(Person arg0) throws Exception  {\n        System.out.println(\"In PersonProcessor\");\n        return arg0;\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","amazon-s3"],"comments":[{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1665478293,"post_id":74025190,"comment_id":130703866,"body_markdown":"You will have to implement that.","body":"You will have to implement that."},{"owner":{"account_id":16480455,"reputation":33,"user_id":11907366,"display_name":"Ritik Kamra"},"score":0,"creation_date":1665478637,"post_id":74025190,"comment_id":130703992,"body_markdown":"Yeah, but how? That&#39;s the question","body":"Yeah, but how? That&#39;s the question"}],"answers":[{"tags":[],"owner":{"account_id":13794086,"reputation":536,"user_id":10174866,"display_name":"Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665503200,"creation_date":1665503200,"answer_id":74030801,"question_id":74025190,"body_markdown":"I think you can just collect the records and save it through the driver, since you are coalescing 1, you need to transfer all records to one node in all cases.\r\n\r\nBut before you collect it to local, i think it&#39;s better to transform your dataframe to a dataset.\r\n\r\nJust do something like:\r\n\r\n    dataframe.as[TypeToDefine].collect()\r\nthen you get an Array of TypeToDefine, and you can write your csv using any popular java/scala csv library you like with the name you want.\r\n","title":"Write spark dataFrame as a single CSV file (no folders) to S3?","body":"<p>I think you can just collect the records and save it through the driver, since you are coalescing 1, you need to transfer all records to one node in all cases.</p>\n<p>But before you collect it to local, i think it's better to transform your dataframe to a dataset.</p>\n<p>Just do something like:</p>\n<pre><code>dataframe.as[TypeToDefine].collect()\n</code></pre>\n<p>then you get an Array of TypeToDefine, and you can write your csv using any popular java/scala csv library you like with the name you want.</p>\n"},{"tags":[],"owner":{"account_id":7808038,"reputation":1546,"user_id":5905245,"accept_rate":90,"display_name":"kmh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665532114,"creation_date":1665532114,"answer_id":74035102,"question_id":74025190,"body_markdown":"I think this is what you&#39;re asking.\r\n\r\n    import org.apache.hadoop.fs.Path\r\n\r\n    val s3Path: String = ???      // full S3 path &amp; file name\r\n    val textToWrite: String = ??? // collect your dataframe and convert to a single String\r\n\r\n    val path = new Path(s3Path)\r\n    val fs = path.getFileSystem(spark.sparkContext.hadoopConfiguration)\r\n    val out = fs.create(path, true)\r\n    out.write( textToWrite.getBytes )\r\n    out.close()\r\n","title":"Write spark dataFrame as a single CSV file (no folders) to S3?","body":"<p>I think this is what you're asking.</p>\n<pre><code>import org.apache.hadoop.fs.Path\n\nval s3Path: String = ???      // full S3 path &amp; file name\nval textToWrite: String = ??? // collect your dataframe and convert to a single String\n\nval path = new Path(s3Path)\nval fs = path.getFileSystem(spark.sparkContext.hadoopConfiguration)\nval out = fs.create(path, true)\nout.write( textToWrite.getBytes )\nout.close()\n</code></pre>\n"}],"owner":{"account_id":16480455,"reputation":33,"user_id":11907366,"display_name":"Ritik Kamra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665532114,"creation_date":1665477041,"question_id":74025190,"body_markdown":"My requirement is simple, I need to write my spark DataFrame to S3 as a single csv file of a specified name\r\nWrite now I am using .coalesce(1) which puts all the data in a single CSV but still creates a folder with some additional files and the name of the main csv file is some id.\r\n[I&#39;m using java/scala]\r\n\r\n    dataFrame.coalesce(1).write.mode(SaveMode.Overwrite).option(&quot;header&quot;, &quot;true&quot;).csv(&quot;s3a://&lt;mypath&gt;&quot;)\r\n\r\n\r\n[this is how the data is being saved][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jH5OZ.png","title":"Write spark dataFrame as a single CSV file (no folders) to S3?","body":"<p>My requirement is simple, I need to write my spark DataFrame to S3 as a single csv file of a specified name\nWrite now I am using .coalesce(1) which puts all the data in a single CSV but still creates a folder with some additional files and the name of the main csv file is some id.\n[I'm using java/scala]</p>\n<pre><code>dataFrame.coalesce(1).write.mode(SaveMode.Overwrite).option(&quot;header&quot;, &quot;true&quot;).csv(&quot;s3a://&lt;mypath&gt;&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jH5OZ.png\" rel=\"nofollow noreferrer\">this is how the data is being saved</a></p>\n"},{"tags":["java","save","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":3483035,"reputation":756,"user_id":2914592,"accept_rate":79,"display_name":"Freaky Thommi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385057225,"creation_date":1385057225,"answer_id":20128647,"question_id":20128511,"body_markdown":"You might want to serialize this object to a file so that it can get the data back when it runs next time through deserialize. Check ObjectOutputstream class&#39;s documentation. Having said that you need to have some logic to go with it,","title":"How to Save a Node","body":"<p>You might want to serialize this object to a file so that it can get the data back when it runs next time through deserialize. Check ObjectOutputstream class's documentation. Having said that you need to have some logic to go with it,</p>\n"},{"comments":[{"owner":{"account_id":3420211,"reputation":23,"user_id":2868085,"accept_rate":60,"display_name":"metelofe"},"score":0,"creation_date":1385151263,"post_id":20128648,"comment_id":30039894,"body_markdown":"No, apparently its not seriazable or whatever this meansException in thread &quot;main&quot; java.io.NotSerializableException: LearningTree$Node\n\tat java.io.ObjectOutputStream.writeObject0(Unknown Source)\n\tat java.io.ObjectOutputStream.writeObject(Unknown Source)\n\tat LearningTree.saveNode(LearningTree.java:103)\n\tat LearningTree.main(LearningTree.java:167)","body":"No, apparently its not seriazable or whatever this meansException in thread &quot;main&quot; java.io.NotSerializableException: LearningTree$Node \tat java.io.ObjectOutputStream.writeObject0(Unknown Source) \tat java.io.ObjectOutputStream.writeObject(Unknown Source) \tat LearningTree.saveNode(LearningTree.java:103) \tat LearningTree.main(LearningTree.java:167)"}],"tags":[],"owner":{"account_id":2364390,"reputation":752,"user_id":2070400,"accept_rate":67,"display_name":"Mike M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1385057236,"creation_date":1385057236,"answer_id":20128648,"question_id":20128511,"body_markdown":"Maybe you could use a local file and serialize the data. Java handles this pretty well.\r\n\r\nNOTE: I haven&#39;t tested this code but it&#39;s a starting place. \r\n\r\n    private void saveNode(Node n){\r\n        FileOutputStream fout = new FileOutputStream(&quot;file.txt&quot;);\r\n        ObjectOutputStream oos = new ObjectOutputStream(fout);\r\n        oos.writeObject(n);\r\n        oos.close();\r\n    }\r\n    \r\n    private Node readNode(){\r\n       FileInputStream fin = new FileInputStream(&quot;file.txt&quot;);\r\n       ObjectInputStream ois = new ObjectInputStream(fin);\r\n       Node n = (Node)ois.readObject();\r\n       ois.close();\r\n       return n;\r\n    }","title":"How to Save a Node","body":"<p>Maybe you could use a local file and serialize the data. Java handles this pretty well.</p>\n\n<p>NOTE: I haven't tested this code but it's a starting place. </p>\n\n<pre><code>private void saveNode(Node n){\n    FileOutputStream fout = new FileOutputStream(\"file.txt\");\n    ObjectOutputStream oos = new ObjectOutputStream(fout);\n    oos.writeObject(n);\n    oos.close();\n}\n\nprivate Node readNode(){\n   FileInputStream fin = new FileInputStream(\"file.txt\");\n   ObjectInputStream ois = new ObjectInputStream(fin);\n   Node n = (Node)ois.readObject();\n   ois.close();\n   return n;\n}\n</code></pre>\n"}],"owner":{"account_id":3420211,"reputation":23,"user_id":2868085,"accept_rate":60,"display_name":"metelofe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20128648,"answer_count":2,"score":0,"last_activity_date":1665531537,"creation_date":1385056825,"question_id":20128511,"body_markdown":"I&#39;ve been coding a basic binary Tree in Java and have run into a problem. The goal of this program is to &quot;learn&quot; new questions in order to guess an animal similar to 20 questions. However, I have no idea how to &quot;save&quot; a node so it can be recalled by this same class the next time it runs. How to do this? \r\n\r\n    public class LearningTree {\r\n\tNode root;\r\n\t\r\n\tpublic void addNode(double key, String name){\r\n\t\tNode newNode = new Node(key, name);\r\n\t\t\r\n\t\tif (root == null){\r\n\t\t\troot = newNode;\r\n\t\t} else {\r\n\t\t\tNode focusNode = root;\r\n\t\t\t\r\n\t\t\tNode parent;\r\n\t\t\t\r\n\t\t\twhile(true){\r\n\t\t\t\tparent = focusNode;`enter code here`\r\n\t\t\t\t\r\n\t\t\t\tif(key &lt; focusNode.key){\r\n\t\t\t\t\tfocusNode = focusNode.leftChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(focusNode == null){\r\n\t\t\t\t\t\tparent.leftChild = newNode;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfocusNode = focusNode.rightChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(focusNode == null){\r\n\t\t\t\t\t\tparent.rightChild = newNode;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n     public void traverse(Node focusNode){\r\n\t if(focusNode != null){\r\n\t\t \r\n\t\t traverse(focusNode.leftChild);\r\n\t\t \r\n\t\t traverse(focusNode.rightChild);\r\n\t }\r\n     }\r\n\t\r\n\t\r\n     class Node{\r\n\t \r\n\t double key;\r\n\t String name;\r\n\t \r\n\t Node leftChild;\r\n\t Node rightChild;\r\n\t \r\n\t Node(double key, String name){\r\n\t\t this.key = key;\r\n\t\t this.name = name;\r\n\t }\r\n\t\r\n    }\r\n \r\n    public void keyChange(Node focusNode, double newkey){\r\n\tfocusNode.key = newkey;\r\n     }\r\n \r\n    public Node findNode(double key) {\r\n\t \t \r\n\t \r\n\r\n\t Node focusNode = root;\r\n\t\r\n        while (focusNode.key != key) {\r\n\t\r\n\t\r\n          if (key &lt; focusNode.key) {\r\n\t\r\n        \t  focusNode = focusNode.leftChild;\r\n\t\t \r\n\t \t      } else {\r\n\t \r\n\t \t    \t  focusNode = focusNode.rightChild;\r\n\t \t      }\r\n\r\n\t          if (focusNode == null)\r\n\t            \treturn null;\r\n\t\r\n    }\r\n\r\n       return focusNode;\r\n\t\t \r\n    }\r\n\t \r\n \r\n     public static void main(String[] args){\r\n\t LearningTree Tree = new LearningTree();\r\n\t Scanner sc = new Scanner(System.in);\r\n\t \r\n\t //Nodes\r\n\t Tree.addNode(1500, &quot;Does it have wings?&quot;);\r\n\t Tree.addNode(750, &quot;Is it a dog?&quot;);\r\n\t \r\n\t \r\n\t \r\n\t System.out.println(&quot;Is it an animal?&quot;);\r\n\t \r\n\t double n = 1000;\r\n\t \r\n\t while(true){\r\n\t String Answer = sc.nextLine();\r\n\t String answer = Answer.toLowerCase();\r\n\t \r\n\t double k = n;\r\n\t \r\n\t\r\n\t if(answer.equals(&quot;y&quot;)){\r\n\t\t n = 1.5* n;\r\n\t }\r\n\t if(answer.equals(&quot;n&quot;)){\r\n\t\t n = .5*n;\r\n\t }\r\n\t if(Tree.findNode(n) != null){\r\n\t \r\n\t System.out.println(Tree.findNode(n).name + &quot; (y/n)&quot;);\r\n\t }\r\n\t \r\n\t if(Tree.findNode(n) == null){\r\n\t\t System.out.println(&quot;What is it?&quot;);\r\n\t\t String answer1 = sc.nextLine();\r\n\t\t System.out.println(&quot;What would distinguish a &quot; + answer1 + &quot;from the     previous guess?&quot;);\r\n\t\t String answer2 = sc.nextLine();\r\n\t\t System.out.println(&quot;What would the answer be to &quot; + answer2 + &quot;? (y/n)&quot;);\r\n\t\t String answer3 = sc.nextLine();\r\n\t\t double s;\r\n\t\t \r\n\t\t if(Tree.findNode(k/1.5) == null){\r\n\t\t\t Tree.findNode(k/.5);\r\n\t\t } else {\r\n\t\t\t Tree.findNode(k/1.5);\r\n\t\t }\r\n\t\t \r\n\t\t if(answer3.equals(&quot;y&quot;)){\r\n\t\t\t Tree.keyChange(Tree.findNode(k), n );\r\n\t\t\t s = 1.5;\r\n\t\t\t Tree.addNode(n, Tree.findNode(n).name);\r\n\t\t }\r\n\t\t\t \r\n\t\t if(answer3.equals(&quot;n&quot;)){\r\n\t\t\t\t Tree.keyChange(Tree.findNode(k), n);\r\n\t\t\t\t s = .5;\r\n\t\t\t\t Tree.addNode(n, Tree.findNode(n).name );\r\n\t\t }\r\n\t\t Tree.addNode(k, answer2);\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\t \r\n\t\t\t\t \r\n\r\n\t\t\t \t}\r\n\t\t\t\r\n\t\t\t \r\n\t\t }\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t \r\n\t }\r\n\t\r\n\t \r\n\t \r\n     }\r\n","title":"How to Save a Node","body":"<p>I've been coding a basic binary Tree in Java and have run into a problem. The goal of this program is to &quot;learn&quot; new questions in order to guess an animal similar to 20 questions. However, I have no idea how to &quot;save&quot; a node so it can be recalled by this same class the next time it runs. How to do this?</p>\n<pre><code>public class LearningTree {\nNode root;\n\npublic void addNode(double key, String name){\n    Node newNode = new Node(key, name);\n    \n    if (root == null){\n        root = newNode;\n    } else {\n        Node focusNode = root;\n        \n        Node parent;\n        \n        while(true){\n            parent = focusNode;`enter code here`\n            \n            if(key &lt; focusNode.key){\n                focusNode = focusNode.leftChild;\n                \n                if(focusNode == null){\n                    parent.leftChild = newNode;\n                    return;\n                }\n            } else {\n                focusNode = focusNode.rightChild;\n                \n                if(focusNode == null){\n                    parent.rightChild = newNode;\n                    return;\n                }\n            }\n            \n        }\n    }\n}\n public void traverse(Node focusNode){\n if(focusNode != null){\n     \n     traverse(focusNode.leftChild);\n     \n     traverse(focusNode.rightChild);\n }\n }\n\n\n class Node{\n \n double key;\n String name;\n \n Node leftChild;\n Node rightChild;\n \n Node(double key, String name){\n     this.key = key;\n     this.name = name;\n }\n\n}\n\npublic void keyChange(Node focusNode, double newkey){\nfocusNode.key = newkey;\n }\n\npublic Node findNode(double key) {\n     \n \n\n Node focusNode = root;\n\n    while (focusNode.key != key) {\n\n\n      if (key &lt; focusNode.key) {\n\n          focusNode = focusNode.leftChild;\n     \n          } else {\n \n              focusNode = focusNode.rightChild;\n          }\n\n          if (focusNode == null)\n                return null;\n\n}\n\n   return focusNode;\n     \n}\n \n\n public static void main(String[] args){\n LearningTree Tree = new LearningTree();\n Scanner sc = new Scanner(System.in);\n \n //Nodes\n Tree.addNode(1500, &quot;Does it have wings?&quot;);\n Tree.addNode(750, &quot;Is it a dog?&quot;);\n \n \n \n System.out.println(&quot;Is it an animal?&quot;);\n \n double n = 1000;\n \n while(true){\n String Answer = sc.nextLine();\n String answer = Answer.toLowerCase();\n \n double k = n;\n \n\n if(answer.equals(&quot;y&quot;)){\n     n = 1.5* n;\n }\n if(answer.equals(&quot;n&quot;)){\n     n = .5*n;\n }\n if(Tree.findNode(n) != null){\n \n System.out.println(Tree.findNode(n).name + &quot; (y/n)&quot;);\n }\n \n if(Tree.findNode(n) == null){\n     System.out.println(&quot;What is it?&quot;);\n     String answer1 = sc.nextLine();\n     System.out.println(&quot;What would distinguish a &quot; + answer1 + &quot;from the     previous guess?&quot;);\n     String answer2 = sc.nextLine();\n     System.out.println(&quot;What would the answer be to &quot; + answer2 + &quot;? (y/n)&quot;);\n     String answer3 = sc.nextLine();\n     double s;\n     \n     if(Tree.findNode(k/1.5) == null){\n         Tree.findNode(k/.5);\n     } else {\n         Tree.findNode(k/1.5);\n     }\n     \n     if(answer3.equals(&quot;y&quot;)){\n         Tree.keyChange(Tree.findNode(k), n );\n         s = 1.5;\n         Tree.addNode(n, Tree.findNode(n).name);\n     }\n         \n     if(answer3.equals(&quot;n&quot;)){\n             Tree.keyChange(Tree.findNode(k), n);\n             s = .5;\n             Tree.addNode(n, Tree.findNode(n).name );\n     }\n     Tree.addNode(k, answer2);\n            \n    \n        \n         \n             \n\n            }\n        \n         \n     }\n     \n     \n     \n     \n     \n }\n\n \n \n }\n</code></pre>\n"},{"tags":["java","logging","log4j","string-formatting"],"comments":[{"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"score":3,"creation_date":1434961660,"post_id":30975026,"comment_id":49981411,"body_markdown":"Look at slf4j, which I think implements this approach","body":"Look at slf4j, which I think implements this approach"}],"answers":[{"comments":[{"owner":{"account_id":1483555,"reputation":2434,"user_id":1392312,"accept_rate":92,"display_name":"Rossiar"},"score":1,"creation_date":1434964491,"post_id":30976122,"comment_id":49983084,"body_markdown":"Besides my personal preference, it is recommended best practice to use `String.format()`, usually because it is easier to read and modify:  http://stackoverflow.com/questions/925423/is-it-better-practice-to-use-string-format-over-string-concatenation-in-java","body":"Besides my personal preference, it is recommended best practice to use <code>String.format()</code>, usually because it is easier to read and modify:  <a href=\"http://stackoverflow.com/questions/925423/is-it-better-practice-to-use-string-format-over-string-concatenation-in-java\" title=\"is it better practice to use string format over string concatenation in java\">stackoverflow.com/questions/925423/&hellip;</a>"},{"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"score":0,"creation_date":1665531073,"post_id":30976122,"comment_id":130721266,"body_markdown":"`+` will allocate as many `String`s as there are `+` sings minus 1. `format()` will only allocate one `String` and one `Array`.","body":"<code>+</code> will allocate as many <code>String</code>s as there are <code>+</code> sings minus 1. <code>format()</code> will only allocate one <code>String</code> and one <code>Array</code>."}],"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1434964403,"creation_date":1434964403,"answer_id":30976122,"question_id":30975026,"body_markdown":"Btw, In this scenario there is not much difference between using `+` to add your variables to the string and `String.format` - unless you really want to reuse the &quot;Your var is...&quot; in all your logs. \r\n\r\nslf4j lets you log as \r\n\r\n`log.info(&quot;Your var is {} and you are {}&quot;, myVar, myVar1);` \r\n\r\nNote the use of `{}` instead of print formatters. Also this requires Java &gt;= 1.5","title":"Log4j Implicit String Formatting","body":"<p>Btw, In this scenario there is not much difference between using <code>+</code> to add your variables to the string and <code>String.format</code> - unless you really want to reuse the \"Your var is...\" in all your logs. </p>\n\n<p>slf4j lets you log as </p>\n\n<p><code>log.info(\"Your var is {} and you are {}\", myVar, myVar1);</code> </p>\n\n<p>Note the use of <code>{}</code> instead of print formatters. Also this requires Java >= 1.5</p>\n"},{"comments":[{"owner":{"account_id":4265761,"reputation":330,"user_id":3488930,"accept_rate":67,"display_name":"Thomas"},"score":1,"creation_date":1588173476,"post_id":30976958,"comment_id":108799534,"body_markdown":"Just for additional information (maybe this has changed in the meantime): The plain log4j API supports this as well. The same code as you already wrote can be used.","body":"Just for additional information (maybe this has changed in the meantime): The plain log4j API supports this as well. The same code as you already wrote can be used."}],"tags":[],"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"comment_count":1,"down_vote_count":1,"up_vote_count":79,"is_accepted":true,"score":78,"last_activity_date":1434966821,"creation_date":1434966821,"answer_id":30976958,"question_id":30975026,"body_markdown":"[slf4j][1]&#39;s api provides &quot;[parameterized logging][2]&quot;, which allows you to do exactly that, although with a slightly different syntax. The example there is:\r\n\r\n    logger.debug(&quot;Value {} was inserted between {} and {}.&quot;, newVal, below, above);\r\n\r\nFor an implementation, you can use Logback which implements slf4j natively, or the slf4j bindings to connect with log4j or other loggers. [The User Manual][3] explains that, along with a short example.\r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://www.slf4j.org/faq.html#logging_performance\r\n  [3]: http://www.slf4j.org/manual.html","title":"Log4j Implicit String Formatting","body":"<p><a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">slf4j</a>'s api provides \"<a href=\"http://www.slf4j.org/faq.html#logging_performance\" rel=\"noreferrer\">parameterized logging</a>\", which allows you to do exactly that, although with a slightly different syntax. The example there is:</p>\n\n<pre><code>logger.debug(\"Value {} was inserted between {} and {}.\", newVal, below, above);\n</code></pre>\n\n<p>For an implementation, you can use Logback which implements slf4j natively, or the slf4j bindings to connect with log4j or other loggers. <a href=\"http://www.slf4j.org/manual.html\" rel=\"noreferrer\">The User Manual</a> explains that, along with a short example.</p>\n"},{"comments":[{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":3,"creation_date":1550029040,"post_id":53677315,"comment_id":96115269,"body_markdown":"&quot;is considered as a bad practice&quot; ??","body":"&quot;is considered as a bad practice&quot; ??"},{"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"score":0,"creation_date":1566399305,"post_id":53677315,"comment_id":101646046,"body_markdown":"Please elaborate on why that&#39;s bad practice.  Also, a followup question (and I think the OP&#39;s actual question), what is the string formatter provided by log4j?  Does one exist?","body":"Please elaborate on why that&#39;s bad practice.  Also, a followup question (and I think the OP&#39;s actual question), what is the string formatter provided by log4j?  Does one exist?"},{"owner":{"account_id":4853240,"reputation":5791,"user_id":3915006,"accept_rate":80,"display_name":"Doug"},"score":0,"creation_date":1604994314,"post_id":53677315,"comment_id":114509798,"body_markdown":"This went a bit off-topic with what was asked but it is exactly what I was searching for (why the log4j parameters are better than using String.format). Thanks. Extra resource: http://www.slf4j.org/faq.html#logging_performance","body":"This went a bit off-topic with what was asked but it is exactly what I was searching for (why the log4j parameters are better than using String.format). Thanks. Extra resource: <a href=\"http://www.slf4j.org/faq.html#logging_performance\" rel=\"nofollow noreferrer\">slf4j.org/faq.html#logging_performance</a>"},{"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"score":0,"creation_date":1665529515,"post_id":53677315,"comment_id":130721055,"body_markdown":"I guess [calling varargs function](https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html) still implicitly allocates an `Array`. In this case, surrounding the log line with `log.isDebugEnabled()` should reduce the overhead even further.","body":"I guess <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">calling varargs function</a> still implicitly allocates an <code>Array</code>. In this case, surrounding the log line with <code>log.isDebugEnabled()</code> should reduce the overhead even further."}],"tags":[],"owner":{"account_id":7507725,"reputation":301,"user_id":5703751,"display_name":"Mathieu"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1665528882,"creation_date":1544219959,"answer_id":53677315,"question_id":30975026,"body_markdown":"Using `String.format`, `+`, or a string formatter other than the one provided by your logging system (`log4j` for example) is considered as a bad practice.\r\n\r\nUsually, in the code there are lots of low level logs (debug, info) you don&#39;t want to see in production. If you use for example `String.format` to format the string to log, then you will allocate on the heap and format a new `String`, which can be very long and consume resources, even if at the end nothing will be logged (for example if the `log4j` min level is set to warning or error).\r\n\r\nBy using the logger formatter system (like the one from `log4j`), you allow your logger to avoid the generation of the formatted string if it doesn&#39;t need to be logged.\r\n\r\nThis may make a great difference in some cases.","title":"Log4j Implicit String Formatting","body":"<p>Using <code>String.format</code>, <code>+</code>, or a string formatter other than the one provided by your logging system (<code>log4j</code> for example) is considered as a bad practice.</p>\n<p>Usually, in the code there are lots of low level logs (debug, info) you don't want to see in production. If you use for example <code>String.format</code> to format the string to log, then you will allocate on the heap and format a new <code>String</code>, which can be very long and consume resources, even if at the end nothing will be logged (for example if the <code>log4j</code> min level is set to warning or error).</p>\n<p>By using the logger formatter system (like the one from <code>log4j</code>), you allow your logger to avoid the generation of the formatted string if it doesn't need to be logged.</p>\n<p>This may make a great difference in some cases.</p>\n"},{"tags":[],"owner":{"account_id":3342792,"reputation":849,"user_id":2808664,"accept_rate":100,"display_name":"bobanahalf"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1566407593,"creation_date":1566407184,"answer_id":57596292,"question_id":30975026,"body_markdown":"Log4j supports internal formatting.  I haven&#39;t found it documented anywhere, but I saw an example of it here:\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/markers.html\r\n\r\nI tried it out and it works!  I&#39;m on log4j 2.11.2.\r\n\r\n    int i = 42;\r\n    String str1 = &quot;the answer&quot;;\r\n    String str2 = &quot;life, the universe, and everything&quot;;\r\n    console.info(&quot;{} is {} to {}&quot;, i, str1, str2);\r\n\r\n\r\nLooking at the javadoc for Logger, I&#39;d say it was introduced in Lo4j 2, and supports up to 10 parameters.\r\n\r\nhttps://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\r\n    \r\n\r\n\r\n","title":"Log4j Implicit String Formatting","body":"<p>Log4j supports internal formatting.  I haven't found it documented anywhere, but I saw an example of it here:</p>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/markers.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/manual/markers.html</a></p>\n\n<p>I tried it out and it works!  I'm on log4j 2.11.2.</p>\n\n<pre><code>int i = 42;\nString str1 = \"the answer\";\nString str2 = \"life, the universe, and everything\";\nconsole.info(\"{} is {} to {}\", i, str1, str2);\n</code></pre>\n\n<p>Looking at the javadoc for Logger, I'd say it was introduced in Lo4j 2, and supports up to 10 parameters.</p>\n\n<p><a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html</a></p>\n"},{"comments":[{"owner":{"account_id":435566,"reputation":984,"user_id":822223,"display_name":"DiamondDrake"},"score":0,"creation_date":1698209383,"post_id":74035015,"comment_id":136374610,"body_markdown":"Many loggers (logback, log4j2, etc) implement non variadic versions of the parametric logging functions up to 3 arguments to prevent this array allocation overhead for simple use cases, some implement it up to 9.","body":"Many loggers (logback, log4j2, etc) implement non variadic versions of the parametric logging functions up to 3 arguments to prevent this array allocation overhead for simple use cases, some implement it up to 9."}],"tags":[],"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665531378,"creation_date":1665531017,"answer_id":74035015,"question_id":30975026,"body_markdown":"I upvoted the &quot;use `logger.debug(format, varargs)`&quot; approach first, because it doesn&#39;t allocate extra `String` when it&#39;s not needed.\r\n\r\nBut then it occurred to me that `logger.debug(String format, Object... varargs)` still allocates an `Array` for the varargs.\r\n\r\nTried this on https://godbolt.org/noscript/java\r\n\r\n```\r\n\r\nclass VarargTest {\r\n    static boolean debugging = false;\r\n    static void debug(String format, Object... args) {\r\n       if (debugging) {\r\n           System.out.println(String.format(format, args));\r\n       }\r\n    }\r\n\r\n    static void logVarargs(int n) {\r\n        debug(&quot;debug message {}&quot;, n);\r\n    }\r\n\r\n    static void logIf(int n) {\r\n        if (VarargTest.debugging) {\r\n            debug(&quot;debug message 2 &quot; + n);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand indeed, the resulting `debug()` call allocates an `Array`.\r\n\r\nSo the fastest code should be \r\n```\r\nif (logger.isDebugEnabled()) {\r\n    logger.debug(&quot;format {}&quot;, arg);\r\n}\r\n```\r\n\r\nIf it&#39;s not super performance critical, a more readable and reasonably fast code would be simply\r\n```\r\n    logger.debug(&quot;format {}&quot;, arg);\r\n```","title":"Log4j Implicit String Formatting","body":"<p>I upvoted the &quot;use <code>logger.debug(format, varargs)</code>&quot; approach first, because it doesn't allocate extra <code>String</code> when it's not needed.</p>\n<p>But then it occurred to me that <code>logger.debug(String format, Object... varargs)</code> still allocates an <code>Array</code> for the varargs.</p>\n<p>Tried this on <a href=\"https://godbolt.org/noscript/java\" rel=\"nofollow noreferrer\">https://godbolt.org/noscript/java</a></p>\n<pre><code>\nclass VarargTest {\n    static boolean debugging = false;\n    static void debug(String format, Object... args) {\n       if (debugging) {\n           System.out.println(String.format(format, args));\n       }\n    }\n\n    static void logVarargs(int n) {\n        debug(&quot;debug message {}&quot;, n);\n    }\n\n    static void logIf(int n) {\n        if (VarargTest.debugging) {\n            debug(&quot;debug message 2 &quot; + n);\n        }\n    }\n}\n</code></pre>\n<p>and indeed, the resulting <code>debug()</code> call allocates an <code>Array</code>.</p>\n<p>So the fastest code should be</p>\n<pre><code>if (logger.isDebugEnabled()) {\n    logger.debug(&quot;format {}&quot;, arg);\n}\n</code></pre>\n<p>If it's not super performance critical, a more readable and reasonably fast code would be simply</p>\n<pre><code>    logger.debug(&quot;format {}&quot;, arg);\n</code></pre>\n"}],"owner":{"account_id":1483555,"reputation":2434,"user_id":1392312,"accept_rate":92,"display_name":"Rossiar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100034,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":30976958,"answer_count":5,"score":51,"last_activity_date":1665531378,"creation_date":1434961043,"question_id":30975026,"body_markdown":"I am using `log4j v1.2.14` for logging in my project and I am also using `Java 7` [String.format()][1] to put variables in my output. Currently I am writing\r\n\r\n    LOGGER.info(String.format(&quot;Your var is [%s] and you are [%s]&quot;, myVar, myVar1));\r\n\r\nIs this really the best way to output strings? I feel that `log4j` should have this implemented implicitly as below:\r\n\r\n    LOGGER.info(&quot;Your var is [%s] and you are [%s]&quot;, myVar, myVar1);\r\n\r\nHave I missed something? Further, are there any Java logging frameworks that support this?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"Log4j Implicit String Formatting","body":"<p>I am using <code>log4j v1.2.14</code> for logging in my project and I am also using <code>Java 7</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"noreferrer\">String.format()</a> to put variables in my output. Currently I am writing</p>\n\n<pre><code>LOGGER.info(String.format(\"Your var is [%s] and you are [%s]\", myVar, myVar1));\n</code></pre>\n\n<p>Is this really the best way to output strings? I feel that <code>log4j</code> should have this implemented implicitly as below:</p>\n\n<pre><code>LOGGER.info(\"Your var is [%s] and you are [%s]\", myVar, myVar1);\n</code></pre>\n\n<p>Have I missed something? Further, are there any Java logging frameworks that support this?</p>\n"},{"tags":["java","encoding"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1665518710,"post_id":74033519,"comment_id":130718667,"body_markdown":"&quot;i have this string &quot;\\303\\255&quot;&quot; - how are you observing that string? It&#39;s not clear whether you&#39;ve got a string that actually contains backslashes. Is \\303\\255 what you see if you print it to the console, for example?","body":"&quot;i have this string &quot;\\303\\255&quot;&quot; - how are you observing that string? It&#39;s not clear whether you&#39;ve got a string that actually contains backslashes. Is \\303\\255 what you see if you print it to the console, for example?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665521417,"post_id":74033519,"comment_id":130719455,"body_markdown":"assuming the string really has that content, that is, the characters `&#39;\\303&#39;` and `&#39; \\255&#39;` (octal values) then: `new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)`  (but, if the data is being received as bytes, better do the conversion to string already using the correct charset)","body":"assuming the string really has that content, that is, the characters <code>&#39;\\303&#39;</code> and <code>&#39; \\255&#39;</code> (octal values) then: <code>new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)</code>  (but, if the data is being received as bytes, better do the conversion to string already using the correct charset)"},{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665522972,"post_id":74033519,"comment_id":130719856,"body_markdown":"Jon Skeet, thanks. the text indeed contain backSlashees.i saw that in console.  (these are octal values) as user 16320675 said. (below answer)","body":"Jon Skeet, thanks. the text indeed contain backSlashees.i saw that in console.  (these are octal values) as user 16320675 said. (below answer)"},{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665523109,"post_id":74033519,"comment_id":130719891,"body_markdown":"thanks user16320675 . now, i know that these are octal. that data recieved as string (not as byte[]). but i didnt understand your answer, what you suggest ? using this command ?         new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)","body":"thanks user16320675 . now, i know that these are octal. that data recieved as string (not as byte[]). but i didnt understand your answer, what you suggest ? using this command ?         new String(text.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)"},{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665524740,"post_id":74033519,"comment_id":130720259,"body_markdown":"i used this &gt;.   String result = new String(value1.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);   but still get same situation. the text not converted and it still include \\303\\255.","body":"i used this &gt;.   String result = new String(value1.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);   but still get same situation. the text not converted and it still include \\303\\255."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665525900,"post_id":74033519,"comment_id":130720477,"body_markdown":"What do you expect - **&#221;&#197;** ?","body":"What do you expect - <b>&#221;&#197;</b> ?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665535606,"post_id":74033519,"comment_id":130721886,"body_markdown":"It could actually be Java that did this, these are legal octal escape sequences you can use in source code. If I run `System.out.println(&quot;Libert\\303\\251 Greek Yogourt&quot;);` (linux utf8 source) I get `Libert&#233; Greek Yogourt`. When doing that with this code https://udojava.com/tag/string-decode/ I can also reverse the encoding if it appears with literal \\ characters. Weirdly enough when using https://ideone.com/cC72cd as an example it prints `Libert&#195;&#169; Greek Yogourt`.","body":"It could actually be Java that did this, these are legal octal escape sequences you can use in source code. If I run <code>System.out.println(&quot;Libert\\303\\251 Greek Yogourt&quot;);</code> (linux utf8 source) I get <code>Libert&#233; Greek Yogourt</code>. When doing that with this code <a href=\"https://udojava.com/tag/string-decode/\" rel=\"nofollow noreferrer\">udojava.com/tag/string-decode</a> I can also reverse the encoding if it appears with literal \\ characters. Weirdly enough when using <a href=\"https://ideone.com/cC72cd\" rel=\"nofollow noreferrer\">ideone.com/cC72cd</a> as an example it prints <code>Libert&#195;&#169; Greek Yogourt</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665566155,"post_id":74033519,"comment_id":130728511,"body_markdown":"It could be Unicode combining diacritics, in which case, those are not octal values but hex ones. But those particular ones are not &#39;correct&#39;.","body":"It could be Unicode combining diacritics, in which case, those are not octal values but hex ones. But those particular ones are not &#39;correct&#39;."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1665587993,"post_id":74033519,"comment_id":130737177,"body_markdown":"It is still not clear to me whether your string has the eight characters \\, 3, 0, 3, \\, 2, 5, 5, or if you are simply seeing an octal *representation* of two bytes in an internal byte array in your String.  Please tell us exactly what steps you are taking to observe the contents of the String.  Don’t just say you saw it on the console;  tell us exactly what you did to make it appear on the console.","body":"It is still not clear to me whether your string has the eight characters \\, 3, 0, 3, \\, 2, 5, 5, or if you are simply seeing an octal <i>representation</i> of two bytes in an internal byte array in your String.  Please tell us exactly what steps you are taking to observe the contents of the String.  Don’t just say you saw it on the console;  tell us exactly what you did to make it appear on the console."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1665599017,"post_id":74033519,"comment_id":130740948,"body_markdown":"*Never* “fix” a String that way—you will corrupt the data.  The correct way to address this is to fix the code that converts bytes to a String in the first place, and make sure it uses the correct charset.","body":"<i>Never</i> “fix” a String that way—you will corrupt the data.  The correct way to address this is to fix the code that converts bytes to a String in the first place, and make sure it uses the correct charset."}],"answers":[{"comments":[{"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"score":0,"creation_date":1665531749,"post_id":74034749,"comment_id":130721356,"body_markdown":"indeed, i got many values and the above (was an example) . real example that &quot;Libert&#200; Greek Yogourt&quot; appear as &quot;Libert\\303\\251 Greek Yogourt &quot;. note that the E was converted. i believe \\303 is for the char and \\251 is for signal (&#39;) above it. i dont understand why there is no way to convert\\encode these numbers with back slashes to real char  &#200; ? i expect to see the charcter &#200;. thanks","body":"indeed, i got many values and the above (was an example) . real example that &quot;Libert&#200; Greek Yogourt&quot; appear as &quot;Libert\\303\\251 Greek Yogourt &quot;. note that the E was converted. i believe \\303 is for the char and \\251 is for signal (&#39;) above it. i dont understand why there is no way to convert\\encode these numbers with back slashes to real char  &#200; ? i expect to see the charcter &#200;. thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665566352,"post_id":74034749,"comment_id":130728584,"body_markdown":"`echo -e &#39;\\u0251\\u0301&#39;` gives\nɑ́  Those would be hexadecimal sequences not octal ones, forming what are called &#39;combining &#39;diacritics&#39;.","body":"<code>echo -e &#39;\\u0251\\u0301&#39;</code> gives ɑ́  Those would be hexadecimal sequences not octal ones, forming what are called &#39;combining &#39;diacritics&#39;."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665595405,"post_id":74034749,"comment_id":130739840,"body_markdown":"not sure about `iconv`, but `new String(&quot;\\303\\255&quot;.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)` results in `&quot;&#237;&quot;` [jshell](https://i.stack.imgur.com/2VnGW.png) or [IDEone](https://ideone.com/Afxs0j)  || LATIN SMALL LETTER I WITH ACUTE, code point `U+000ED` is `0xC3AD` in UTF-8 (Hex) which is `0303` `0255` (Octal bytes) (from https://decodeunicode.org/en/u+000ED)","body":"not sure about <code>iconv</code>, but <code>new String(&quot;\\303\\255&quot;.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8)</code> results in <code>&quot;&#237;&quot;</code> <a href=\"https://i.stack.imgur.com/2VnGW.png\" rel=\"nofollow noreferrer\">jshell</a> or <a href=\"https://ideone.com/Afxs0j\" rel=\"nofollow noreferrer\">IDEone</a>  || LATIN SMALL LETTER I WITH ACUTE, code point <code>U+000ED</code> is <code>0xC3AD</code> in UTF-8 (Hex) which is <code>0303</code> <code>0255</code> (Octal bytes) (from <a href=\"https://decodeunicode.org/en/u+000ED\" rel=\"nofollow noreferrer\">decodeunicode.org/en/u+000ED</a>)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665597710,"post_id":74034749,"comment_id":130740544,"body_markdown":"@user16320675 You&#39;re dead right. So sorry to all. I had a bad invocation of ```bc``` If you get the input base and output base the wrong way around you can get wrong and nastily misleading results :) My octal conversions to hex were wrong. If you&#39;d like to put up your answer, I&#39;ll delete my wrong one","body":"@user16320675 You&#39;re dead right. So sorry to all. I had a bad invocation of <code>bc</code> If you get the input base and output base the wrong way around you can get wrong and nastily misleading results :) My octal conversions to hex were wrong. If you&#39;d like to put up your answer, I&#39;ll delete my wrong one"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665530983,"creation_date":1665527830,"answer_id":74034749,"question_id":74033519,"body_markdown":"But the answer to your question *Which encoding replaces &quot;&#237;&quot; with &quot;\\303 \\255&quot;?*  is - none (probably). Of the well over 1000 character encodings known to `iconv`, none encodes that two-byte sequence to that single character, which is LATIN SMALL LETTER I WITH ACUTE ","title":"Which encoding replaces &quot;\\303 \\255&quot; with &quot;&#237;&quot; in java?","body":"<p>But the answer to your question <em>Which encoding replaces &quot;í&quot; with &quot;\\303 \\255&quot;?</em>  is - none (probably). Of the well over 1000 character encodings known to <code>iconv</code>, none encodes that two-byte sequence to that single character, which is LATIN SMALL LETTER I WITH ACUTE</p>\n"}],"owner":{"account_id":26593993,"reputation":1,"user_id":20216705,"display_name":"Benan Mozalbet"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665530983,"creation_date":1665518559,"question_id":74033519,"body_markdown":"im using java 11. i have this string &quot;\\303\\255&quot; which get from an api call response. \r\n\r\nseems that somehow, the api send it converted.  i want to convert it to charcter &quot;&#237;&quot;. in java. \r\n\r\ni found similar issues with opposite problems. as you see here \r\n\r\nhttps://stackoverflow.com/questions/30795562/which-encoding-replaces-%c3%ad-with-303-255/74033323?noredirect=1#comment130718212_74033323 ? \r\n\r\n\r\n\r\n","title":"Which encoding replaces &quot;\\303 \\255&quot; with &quot;&#237;&quot; in java?","body":"<p>im using java 11. i have this string &quot;\\303\\255&quot; which get from an api call response.</p>\n<p>seems that somehow, the api send it converted.  i want to convert it to charcter &quot;í&quot;. in java.</p>\n<p>i found similar issues with opposite problems. as you see here</p>\n<p><a href=\"https://stackoverflow.com/questions/30795562/which-encoding-replaces-%c3%ad-with-303-255/74033323?noredirect=1#comment130718212_74033323\">Which encoding replaces &quot;&#237;&quot; with &quot;\\303 \\255&quot;?</a> ?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"score":0,"creation_date":1665503893,"post_id":74030885,"comment_id":130713827,"body_markdown":"In your LinearLayout android:id=&quot;@+id/layout_top&quot;, remove the marginTop","body":"In your LinearLayout android:id=&quot;@+id/layout_top&quot;, remove the marginTop"},{"owner":{"account_id":26592005,"reputation":11,"user_id":20215062,"display_name":"jeesk"},"score":0,"creation_date":1665504483,"post_id":74030885,"comment_id":130714054,"body_markdown":"thank you, the margintop is statusbar height ,Remove the status bar, and the title will be moved to the status bar。","body":"thank you, the margintop is statusbar height ,Remove the status bar, and the title will be moved to the status bar。"}],"answers":[{"comments":[{"owner":{"account_id":26592005,"reputation":11,"user_id":20215062,"display_name":"jeesk"},"score":0,"creation_date":1665538106,"post_id":74034970,"comment_id":130722260,"body_markdown":"Yes, I set the height When the top is 30dp, the white line will appear, but when I set it to 29.7dp, the white line will disappear. The height of the status bar I obtained is 78px. If the dp is converted to the int type, it is 30dp. If the dp is converted to the float type, it is actually 29.7 dp However, I found that the float type cannot be set through Java. Do you know of any other methods?","body":"Yes, I set the height When the top is 30dp, the white line will appear, but when I set it to 29.7dp, the white line will disappear. The height of the status bar I obtained is 78px. If the dp is converted to the int type, it is 30dp. If the dp is converted to the float type, it is actually 29.7 dp However, I found that the float type cannot be set through Java. Do you know of any other methods?"},{"owner":{"account_id":26592005,"reputation":11,"user_id":20215062,"display_name":"jeesk"},"score":0,"creation_date":1665538640,"post_id":74034970,"comment_id":130722322,"body_markdown":"Different devices have different height of status bar, unless the height is dynamically set by means of programming code.","body":"Different devices have different height of status bar, unless the height is dynamically set by means of programming code."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1665599151,"post_id":74034970,"comment_id":130740989,"body_markdown":"@jeesk You can set the `margin_top` value in code: https://developer.android.com/reference/android/view/ViewGroup.MarginLayoutParams#setMargins(int,%20int,%20int,%20int) and that takes a pixel value. So if you&#39;ve determined your status bar is *78px* high, you can just set that exact value on your `layout_top` `LinearLayout`. No need to mess around with *dp* values and do conversions, and worry about rounding errors!","body":"@jeesk You can set the <code>margin_top</code> value in code: <a href=\"https://developer.android.com/reference/android/view/ViewGroup.MarginLayoutParams#setMargins(int,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/&hellip;</a> and that takes a pixel value. So if you&#39;ve determined your status bar is <i>78px</i> high, you can just set that exact value on your <code>layout_top</code> <code>LinearLayout</code>. No need to mess around with <i>dp</i> values and do conversions, and worry about rounding errors!"}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665530483,"creation_date":1665530483,"answer_id":74034970,"question_id":74030885,"body_markdown":"The &quot;line&quot; is because your dark overlay doesn&#39;t exactly line up with the top of your content/bottom of the status bar. There&#39;s a gap where the content shows through:\r\n\r\n[![A crop of the image showing where the overlay shim doesn&#39;t cover the photos beneath][1]][1]\r\n\r\nYou can see the photos through that gap. I&#39;m assuming this layout is overlaid on the entire screen, and you&#39;re using `layout_marginTop=&quot;30dp&quot;` to try and move it below the status bar? That&#39;s going to have problems - the size of the bar depends on the device. On stock Android (following [Material Design guidelines][2]) the status bar is *24dp*. On your device, it&#39;s obviously close to *30dp* - but not exactly! That&#39;s why it doesn&#39;t line up.\r\n\r\n----\r\n\r\nI think making this work perfectly is going to be difficult. If I were you, I wouldn&#39;t try to overlay the entire screen. If you use a `NoActionBar` theme, and add a `Toolbar` into your layout instead, then you can add your overlay in the same layout. You can cover the `Toolbar` if you like, and the top of the `Activity`/`Fragment` will be below the status bar.\r\n\r\nBut it looks like you&#39;re making some kind of overlay over other apps - in that case, have a look at this thread for some ideas about getting the current device&#39;s status bar height (if any): https://stackoverflow.com/q/3407256/13598222\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TV4kG.png\r\n  [2]: https://material.io/design/platform-guidance/android-bars.html#status-bar","title":"statusbar has a white line?","body":"<p>The &quot;line&quot; is because your dark overlay doesn't exactly line up with the top of your content/bottom of the status bar. There's a gap where the content shows through:</p>\n<p><a href=\"https://i.stack.imgur.com/TV4kG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TV4kG.png\" alt=\"A crop of the image showing where the overlay shim doesn't cover the photos beneath\" /></a></p>\n<p>You can see the photos through that gap. I'm assuming this layout is overlaid on the entire screen, and you're using <code>layout_marginTop=&quot;30dp&quot;</code> to try and move it below the status bar? That's going to have problems - the size of the bar depends on the device. On stock Android (following <a href=\"https://material.io/design/platform-guidance/android-bars.html#status-bar\" rel=\"nofollow noreferrer\">Material Design guidelines</a>) the status bar is <em>24dp</em>. On your device, it's obviously close to <em>30dp</em> - but not exactly! That's why it doesn't line up.</p>\n<hr />\n<p>I think making this work perfectly is going to be difficult. If I were you, I wouldn't try to overlay the entire screen. If you use a <code>NoActionBar</code> theme, and add a <code>Toolbar</code> into your layout instead, then you can add your overlay in the same layout. You can cover the <code>Toolbar</code> if you like, and the top of the <code>Activity</code>/<code>Fragment</code> will be below the status bar.</p>\n<p>But it looks like you're making some kind of overlay over other apps - in that case, have a look at this thread for some ideas about getting the current device's status bar height (if any): <a href=\"https://stackoverflow.com/q/3407256/13598222\">Height of status bar in Android</a></p>\n"}],"owner":{"account_id":26592005,"reputation":11,"user_id":20215062,"display_name":"jeesk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665530483,"creation_date":1665503560,"question_id":74030885,"body_markdown":"Here is my layout， Why is there a white line between the status bar and the title? How do I remove this white line。\r\nI made an album, but found white lines in the nested layout. I didn&#39;t search for relevant content on Google, so I posted a post for you to look at. Here are my code and screenshots.\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@color/image_display_color&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/surface_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;&gt;\r\n        &lt;com.github.chrisbanes.photoview.PhotoView\r\n            android:id=&quot;@+id/big_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n    &lt;!-- toolbar --&gt;\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/layout_top&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        android:background=&quot;#80000000&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/back&quot;\r\n            android:layout_width=&quot;48dp&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:contentDescription=&quot;TODO&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:src=&quot;@drawable/video_back&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/title&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;48dp&quot;\r\n            android:paddingLeft=&quot;10dp&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;18sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;!-- 播放进度--&gt;\r\n    &lt;LinearLayout\r\n        android:background=&quot;#80000000&quot;\r\n        android:id=&quot;@+id/layout_bottom&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:alpha=&quot;0.9&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:weightSum=&quot;5&quot;\r\n        android:visibility=&quot;visible&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_share&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:text=&quot;分享&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_share_24&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_favaite&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;收藏&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_favorite_24&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_copy&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:text=&quot;复制&quot;\r\n            android:drawableTop=&quot;@drawable/ic_copy_white&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_delete&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:text=&quot;删除&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_delete_24&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_more&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:drawableTop=&quot;@drawable/ic_baseline_more_vert_24&quot;\r\n            android:text=&quot;更多&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n```\r\nHere is my screenshot。\r\n\r\n[image1][1]\r\n[image2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rJUGu.jpg\r\n  [2]: https://i.stack.imgur.com/T2TJz.jpg","title":"statusbar has a white line?","body":"<p>Here is my layout， Why is there a white line between the status bar and the title? How do I remove this white line。\nI made an album, but found white lines in the nested layout. I didn't search for relevant content on Google, so I posted a post for you to look at. Here are my code and screenshots.</p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/image_display_color&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/surface_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;&gt;\n        &lt;com.github.chrisbanes.photoview.PhotoView\n            android:id=&quot;@+id/big_image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n    &lt;/FrameLayout&gt;\n\n\n    &lt;!-- toolbar --&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/layout_top&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:visibility=&quot;visible&quot;\n        android:background=&quot;#80000000&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/back&quot;\n            android:layout_width=&quot;48dp&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:contentDescription=&quot;TODO&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:src=&quot;@drawable/video_back&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;48dp&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;!-- 播放进度--&gt;\n    &lt;LinearLayout\n        android:background=&quot;#80000000&quot;\n        android:id=&quot;@+id/layout_bottom&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:alpha=&quot;0.9&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginBottom=&quot;20dp&quot;\n        android:gravity=&quot;center_vertical&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:weightSum=&quot;5&quot;\n        android:visibility=&quot;visible&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn_share&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:text=&quot;分享&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_share_24&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btn_favaite&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;收藏&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_favorite_24&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn_copy&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;复制&quot;\n            android:drawableTop=&quot;@drawable/ic_copy_white&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn_delete&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:text=&quot;删除&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_delete_24&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n        &lt;Button\n            android:id=&quot;@+id/btn_more&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:drawableTop=&quot;@drawable/ic_baseline_more_vert_24&quot;\n            android:text=&quot;更多&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n\n</code></pre>\n<p>Here is my screenshot。</p>\n<p><a href=\"https://i.stack.imgur.com/rJUGu.jpg\" rel=\"nofollow noreferrer\">image1</a>\n<a href=\"https://i.stack.imgur.com/T2TJz.jpg\" rel=\"nofollow noreferrer\">image2</a></p>\n"},{"tags":["java","image","bufferedimage"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665524445,"post_id":74034265,"comment_id":130720183,"body_markdown":"Removed my comments, suddenly the code isn&#39;t displaying all black for output, not sure why.","body":"Removed my comments, suddenly the code isn&#39;t displaying all black for output, not sure why."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665524598,"post_id":74034265,"comment_id":130720220,"body_markdown":"The code works for me (I&#39;ll post my version if you like).  Be careful of the alpha channel, I&#39;d had bad images related to the alpha channel being some value other than 0xFF (0xFF means no transparency).","body":"The code works for me (I&#39;ll post my version if you like).  Be careful of the alpha channel, I&#39;d had bad images related to the alpha channel being some value other than 0xFF (0xFF means no transparency)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1665524866,"post_id":74034265,"comment_id":130720291,"body_markdown":"I copied both of those images into GIMP, I&#39;m not 100% certain, but I think the second image is a grey scale or RGB image with transparency.  Definitely look at that part of your algorithm.","body":"I copied both of those images into GIMP, I&#39;m not 100% certain, but I think the second image is a grey scale or RGB image with transparency.  Definitely look at that part of your algorithm."},{"owner":{"account_id":123052,"reputation":11225,"user_id":317266,"accept_rate":87,"display_name":"Seki"},"score":0,"creation_date":1665676772,"post_id":74034265,"comment_id":130760333,"body_markdown":"@markspace if you have some working code or explanation different from AlexR, feel free to post! Think of the poor soul that will read in 10 years that you managed to get some working code but that solution is now list in time... :)","body":"@markspace if you have some working code or explanation different from AlexR, feel free to post! Think of the poor soul that will read in 10 years that you managed to get some working code but that solution is now list in time... :)"}],"answers":[{"comments":[{"owner":{"account_id":123052,"reputation":11225,"user_id":317266,"accept_rate":87,"display_name":"Seki"},"score":0,"creation_date":1665676919,"post_id":74034758,"comment_id":130760375,"body_markdown":"Thanks for the explanation and fix. It works. My usage of a `int[]` might have been a bit naive and I was suggested by a colleague to get pixels via a `Color` instead of expecting a 3 bytes values.","body":"Thanks for the explanation and fix. It works. My usage of a <code>int[]</code> might have been a bit naive and I was suggested by a colleague to get pixels via a <code>Color</code> instead of expecting a 3 bytes values."}],"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665527916,"creation_date":1665527916,"answer_id":74034758,"question_id":74034265,"body_markdown":"When the `ImageIO.read` function creates a `BufferedImage` it uses the type that it thinks is best suited. This type might not be what you expect. In particular, for a JPG image the type might not be `TYPE_INT_ARGB`.\r\n\r\nThis is the case for your second image and becomes evident when you print the type of that image:\r\n\r\n```java\r\nSystem.out.println(bi_in.getType());\r\n```\r\n\r\nFor that image, this prints `10` on my machine, which represents [TYPE_BYTE_GRAY](https://docs.oracle.com/en/java/javase/18/docs/api/constant-values.html#java.awt.image.BufferedImage.TYPE_BYTE_GRAY).\r\n\r\nSo, to fix your problem you should use:\r\n\r\n```java\r\nBufferedImage bi_out = new BufferedImage(width, height, bi_in.getType()); \r\n```\r\n\r\n","title":"BufferedImage -&gt; int[] -&gt; BufferedImage result in greyed black","body":"<p>When the <code>ImageIO.read</code> function creates a <code>BufferedImage</code> it uses the type that it thinks is best suited. This type might not be what you expect. In particular, for a JPG image the type might not be <code>TYPE_INT_ARGB</code>.</p>\n<p>This is the case for your second image and becomes evident when you print the type of that image:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(bi_in.getType());\n</code></pre>\n<p>For that image, this prints <code>10</code> on my machine, which represents <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/constant-values.html#java.awt.image.BufferedImage.TYPE_BYTE_GRAY\" rel=\"nofollow noreferrer\">TYPE_BYTE_GRAY</a>.</p>\n<p>So, to fix your problem you should use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage bi_out = new BufferedImage(width, height, bi_in.getType()); \n</code></pre>\n"}],"owner":{"account_id":123052,"reputation":11225,"user_id":317266,"accept_rate":87,"display_name":"Seki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74034758,"answer_count":1,"score":2,"last_activity_date":1665527916,"creation_date":1665523364,"question_id":74034265,"body_markdown":"I am doing some basic experimentation on picture filtering using convolution matrix, based on the [Wikipedia page about kernels in image processing](https://en.wikipedia.org/wiki/Kernel_(image_processing)). \r\n\r\nIn order to compute the RGB transformations, I am reading the bitmap via a `BufferedImage` then get the pixels with `getRgb()`. While testing the simplest identity filter I noticed that for a specific picture I was getting some grey instead of the original black, while for some other picture, the black was OK.\r\n\r\nAfter more testing, I found that without any transform, a simple `BufferedImage -&gt; int[] -&gt; BufferedImage` results in the greyed result.\r\n\r\nWhat am I missing ? ImageMagick `identify` shows that both are 8-bit 256 colors pictures without alpha channels.\r\n\r\n    betty1.png PNG 339x600 339x600+0+0 8-bit Gray 256c 24526B 0.000u 0:00.000\r\n    betty2.jpg JPEG 603x797 603x797+0+0 8-bit Gray 256c 126773B 0.000u 0:00.001\r\n\r\n\r\nWith [this picture][1] the result is as expected.\r\n![result ok][2]\r\n\r\nWith [this one][3], the result is unexpectedly greyed.\r\n![result nok][4]\r\n\r\nHere is a simple sscce test class to show the problem:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.WindowConstants;\r\n    \r\n    /* simple test class for convolution matrix */\r\n    public class CopyPic {\r\n    \r\n        public static void main(String args[]) throws FileNotFoundException, IOException {\r\n            if (args.length &lt; 1) {\r\n                System.err.println(&quot;Usage: CopyPic &lt;picture_file&gt;&quot;);\r\n                System.exit(1);\r\n            }\r\n            String        imgPath   = args[0];\r\n            String        inputName = imgPath.substring(0, imgPath.lastIndexOf(&quot;.&quot;));\r\n            File          ifile     = new File(imgPath);\r\n            InputStream   fis_in    = new FileInputStream(ifile);\r\n            BufferedImage bi_in     = ImageIO.read(fis_in);\r\n            fis_in.close();\r\n    \r\n            int width  = bi_in.getWidth();\r\n            int height = bi_in.getHeight();\r\n            System.out.println(String.format(&quot;%s = %d x %d&quot;, imgPath, width, height));\r\n            int[] rgb_in = new int[width * height];\r\n            bi_in.getRGB(0, 0, width, height, rgb_in, 0, width);\r\n    \r\n            BufferedImage bi_out = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n            // for (int y = 0; y &lt; height; y++) {\r\n                // for (int x = 0; x &lt; width; x++) {\r\n                    // bi_out.setRGB(x, y, rgb_out[y * width + x]);\r\n                // }\r\n            // }\r\n            bi_out.setRGB(0, 0, width, height, rgb_in, 0, width);\r\n            \r\n            display(bi_in, bi_out);\r\n            \r\n            String outputName = inputName + &quot;-copy.png&quot;;\r\n            File         ofile   = new File(outputName);\r\n            OutputStream fos_out = new FileOutputStream(ofile);\r\n            ImageIO.write(bi_out, &quot;PNG&quot;, fos_out);\r\n            fos_out.flush();\r\n            fos_out.close();\r\n            System.out.println(&quot;Wrote &quot; + outputName);\r\n        }\r\n        // use that to have internal viewer\r\n        private static JFrame frame;\r\n        private static JLabel label1, label2;\r\n        private static void display(BufferedImage img1, BufferedImage img2) {\r\n            if (frame == null) {\r\n                frame = new JFrame();\r\n                frame.setTitle(String.format(&quot;%dx%d Original / Copy&quot;, img1.getWidth(), img1.getHeight()));\r\n                frame.setSize(img1.getWidth() + img2.getWidth(), img1.getHeight());\r\n                frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n                label1 = new JLabel();\r\n                label1.setIcon(new ImageIcon(img1));\r\n                frame.getContentPane().add(label1, BorderLayout.WEST);\r\n                label2 = new JLabel();\r\n                label2.setIcon(new ImageIcon(img2));\r\n                frame.getContentPane().add(label2, BorderLayout.EAST);\r\n                frame.setLocationRelativeTo(null);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            } else {\r\n                label1.setIcon(new ImageIcon(img1));\r\n                label2.setIcon(new ImageIcon(img2));\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UI7Ui.png\r\n  [2]: https://i.stack.imgur.com/GP1Xw.png\r\n  [3]: https://i.stack.imgur.com/OYJQp.jpg\r\n  [4]: https://i.stack.imgur.com/4fzsh.png","title":"BufferedImage -&gt; int[] -&gt; BufferedImage result in greyed black","body":"<p>I am doing some basic experimentation on picture filtering using convolution matrix, based on the <a href=\"https://en.wikipedia.org/wiki/Kernel_(image_processing)\" rel=\"nofollow noreferrer\">Wikipedia page about kernels in image processing</a>.</p>\n<p>In order to compute the RGB transformations, I am reading the bitmap via a <code>BufferedImage</code> then get the pixels with <code>getRgb()</code>. While testing the simplest identity filter I noticed that for a specific picture I was getting some grey instead of the original black, while for some other picture, the black was OK.</p>\n<p>After more testing, I found that without any transform, a simple <code>BufferedImage -&gt; int[] -&gt; BufferedImage</code> results in the greyed result.</p>\n<p>What am I missing ? ImageMagick <code>identify</code> shows that both are 8-bit 256 colors pictures without alpha channels.</p>\n<pre><code>betty1.png PNG 339x600 339x600+0+0 8-bit Gray 256c 24526B 0.000u 0:00.000\nbetty2.jpg JPEG 603x797 603x797+0+0 8-bit Gray 256c 126773B 0.000u 0:00.001\n</code></pre>\n<p>With <a href=\"https://i.stack.imgur.com/UI7Ui.png\" rel=\"nofollow noreferrer\">this picture</a> the result is as expected.\n<img src=\"https://i.stack.imgur.com/GP1Xw.png\" alt=\"result ok\" /></p>\n<p>With <a href=\"https://i.stack.imgur.com/OYJQp.jpg\" rel=\"nofollow noreferrer\">this one</a>, the result is unexpectedly greyed.\n<img src=\"https://i.stack.imgur.com/4fzsh.png\" alt=\"result nok\" /></p>\n<p>Here is a simple sscce test class to show the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.WindowConstants;\n\n/* simple test class for convolution matrix */\npublic class CopyPic {\n\n    public static void main(String args[]) throws FileNotFoundException, IOException {\n        if (args.length &lt; 1) {\n            System.err.println(&quot;Usage: CopyPic &lt;picture_file&gt;&quot;);\n            System.exit(1);\n        }\n        String        imgPath   = args[0];\n        String        inputName = imgPath.substring(0, imgPath.lastIndexOf(&quot;.&quot;));\n        File          ifile     = new File(imgPath);\n        InputStream   fis_in    = new FileInputStream(ifile);\n        BufferedImage bi_in     = ImageIO.read(fis_in);\n        fis_in.close();\n\n        int width  = bi_in.getWidth();\n        int height = bi_in.getHeight();\n        System.out.println(String.format(&quot;%s = %d x %d&quot;, imgPath, width, height));\n        int[] rgb_in = new int[width * height];\n        bi_in.getRGB(0, 0, width, height, rgb_in, 0, width);\n\n        BufferedImage bi_out = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n        // for (int y = 0; y &lt; height; y++) {\n            // for (int x = 0; x &lt; width; x++) {\n                // bi_out.setRGB(x, y, rgb_out[y * width + x]);\n            // }\n        // }\n        bi_out.setRGB(0, 0, width, height, rgb_in, 0, width);\n        \n        display(bi_in, bi_out);\n        \n        String outputName = inputName + &quot;-copy.png&quot;;\n        File         ofile   = new File(outputName);\n        OutputStream fos_out = new FileOutputStream(ofile);\n        ImageIO.write(bi_out, &quot;PNG&quot;, fos_out);\n        fos_out.flush();\n        fos_out.close();\n        System.out.println(&quot;Wrote &quot; + outputName);\n    }\n    // use that to have internal viewer\n    private static JFrame frame;\n    private static JLabel label1, label2;\n    private static void display(BufferedImage img1, BufferedImage img2) {\n        if (frame == null) {\n            frame = new JFrame();\n            frame.setTitle(String.format(&quot;%dx%d Original / Copy&quot;, img1.getWidth(), img1.getHeight()));\n            frame.setSize(img1.getWidth() + img2.getWidth(), img1.getHeight());\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            label1 = new JLabel();\n            label1.setIcon(new ImageIcon(img1));\n            frame.getContentPane().add(label1, BorderLayout.WEST);\n            label2 = new JLabel();\n            label2.setIcon(new ImageIcon(img2));\n            frame.getContentPane().add(label2, BorderLayout.EAST);\n            frame.setLocationRelativeTo(null);\n            frame.pack();\n            frame.setVisible(true);\n        } else {\n            label1.setIcon(new ImageIcon(img1));\n            label2.setIcon(new ImageIcon(img2));\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","slf4j","lombok"],"owner":{"account_id":9450053,"reputation":420,"user_id":7027284,"display_name":"guru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1665527632,"creation_date":1665527632,"question_id":74034731,"body_markdown":"Does anyone have a Lombok CustomLog example with a custom logger implemented in Java? All examples I see online use simple Java Util logging which I don&#39;t want to use. I would like to write a custom logger with lombok, CustomLog, slf4j. \r\n\r\nAny pointers?","title":"Lombok CustomLog Example En-to-end","body":"<p>Does anyone have a Lombok CustomLog example with a custom logger implemented in Java? All examples I see online use simple Java Util logging which I don't want to use. I would like to write a custom logger with lombok, CustomLog, slf4j.</p>\n<p>Any pointers?</p>\n"},{"tags":["java","spring","spring-webclient"],"comments":[{"owner":{"account_id":14342948,"reputation":186,"user_id":10360613,"display_name":"Rostyslav Barmakov"},"score":0,"creation_date":1634226032,"post_id":69572904,"comment_id":122973851,"body_markdown":"Using `retrieve()` you are not able to access any response information except a body. Therefore there is no way to handle &quot;bad&quot; scenarios in a short simple manner.\nIs it really forbidden to use `exchange()`?","body":"Using <code>retrieve()</code> you are not able to access any response information except a body. Therefore there is no way to handle &quot;bad&quot; scenarios in a short simple manner. Is it really forbidden to use <code>exchange()</code>?"},{"owner":{"account_id":14342948,"reputation":186,"user_id":10360613,"display_name":"Rostyslav Barmakov"},"score":1,"creation_date":1634226212,"post_id":69572904,"comment_id":122973926,"body_markdown":"https://stackoverflow.com/a/67471061 - does it help?","body":"<a href=\"https://stackoverflow.com/a/67471061\">stackoverflow.com/a/67471061</a> - does it help?"},{"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"score":0,"creation_date":1634290414,"post_id":69572904,"comment_id":122990095,"body_markdown":"Because exchange is now deprecated in Spring.","body":"Because exchange is now deprecated in Spring."},{"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"score":0,"creation_date":1634290463,"post_id":69572904,"comment_id":122990110,"body_markdown":"I found a solution with this code :  \n .onErrorResume(WebClientResponseException.class, ex -&gt; {\n\t\t\t\t\tex.getResponseBodyAsString();\n\t\t\t\t\treturn Mono.empty();\n\t\t\t\t})","body":"I found a solution with this code :    .onErrorResume(WebClientResponseException.class, ex -&gt; { \t\t\t\t\tex.getResponseBodyAsString(); \t\t\t\t\treturn Mono.empty(); \t\t\t\t})"}],"answers":[{"tags":[],"owner":{"account_id":23033780,"reputation":1,"user_id":17152853,"display_name":"Tamara Stankovska"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634236994,"creation_date":1634236638,"answer_id":69575758,"question_id":69572904,"body_markdown":"You can specify the set of acceptable media types, as specified by the Accept header. For example,\r\n\r\n    ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\r\n                    .uri(&quot;http://localhost:8051/callAPI/&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .toEntity(DTODemo.class)\r\n                    .block();","title":"WebClient - UnsupportedMediaTypeException","body":"<p>You can specify the set of acceptable media types, as specified by the Accept header. For example,</p>\n<pre><code>ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\n                .uri(&quot;http://localhost:8051/callAPI/&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .toEntity(DTODemo.class)\n                .block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8875336,"reputation":44,"user_id":6627676,"display_name":"Mohamed Eldefrawy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665527145,"creation_date":1665527145,"answer_id":74034687,"question_id":69572904,"body_markdown":"I suggest to create a custom Exception class DtoNotFoundException for instance and surround your code with try/catch block and catch the UnsupportedMediaTypeException the  throw your custom exception so you can catch it in any other piece of code and do whatever you want\r\n```\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\n@ResponseStatus(code = HttpStatus.NOT_FOUND, reason = &quot;Dto not found&quot;)\r\npublic class DtoNotFoundException extends RuntimeException {\r\n\r\n    public DtoNotFoundException() {\r\n    }\r\n\r\n    public DtoNotFoundException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\nthen your code can be like that : \r\n```\r\ntry{\r\n    ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\r\n                    .uri(&quot;http://localhost:8051/callAPI/&quot;)\r\n                    .retrieve()\r\n                    .toEntity(DTODemo.class)\r\n                    .block();\r\n}catch(UnsupportedMediaTypeException e){\r\n    throw new DtoNotFoundException(&quot;Dto not found&quot;);\r\n}\r\n```\r\nso if you have a scenario using your code you can catch your custom exception and take an action like returning 404 response code with the exception message\r\n```\r\n     @GetMapping(&quot;/dto&quot;)\r\n    ResponseEntity&lt;?&gt; getDto() {\r\n        try {\r\n            var dtoUseExample = this.yourService.yourClientFunction() // request done;\r\n        } catch (DtoNotFoundException e) {\r\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n","title":"WebClient - UnsupportedMediaTypeException","body":"<p>I suggest to create a custom Exception class DtoNotFoundException for instance and surround your code with try/catch block and catch the UnsupportedMediaTypeException the  throw your custom exception so you can catch it in any other piece of code and do whatever you want</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(code = HttpStatus.NOT_FOUND, reason = &quot;Dto not found&quot;)\npublic class DtoNotFoundException extends RuntimeException {\n\n    public DtoNotFoundException() {\n    }\n\n    public DtoNotFoundException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>then your code can be like that :</p>\n<pre><code>try{\n    ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\n                    .uri(&quot;http://localhost:8051/callAPI/&quot;)\n                    .retrieve()\n                    .toEntity(DTODemo.class)\n                    .block();\n}catch(UnsupportedMediaTypeException e){\n    throw new DtoNotFoundException(&quot;Dto not found&quot;);\n}\n</code></pre>\n<p>so if you have a scenario using your code you can catch your custom exception and take an action like returning 404 response code with the exception message</p>\n<pre><code>     @GetMapping(&quot;/dto&quot;)\n    ResponseEntity&lt;?&gt; getDto() {\n        try {\n            var dtoUseExample = this.yourService.yourClientFunction() // request done;\n        } catch (DtoNotFoundException e) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8523491,"reputation":123,"user_id":6389566,"accept_rate":40,"display_name":"Samshay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4734,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1665527145,"creation_date":1634223330,"question_id":69572904,"body_markdown":"I have this code :\r\n```\r\nResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\r\n\t\t\t\t.uri(&quot;http://localhost:8051/callAPI/&quot;)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.toEntity(DTODemo.class)\r\n\t\t\t\t.block();\r\n```\r\n\r\nIt work, when my api return an object `DTODemo`.\r\nBut, the API can return with code HTTP 404 a message in the body ( type **String**).\r\nI have this exception : \r\n```\r\norg.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type &#39;text/plain;charset=UTF-8&#39; not supported for bodyType=com.example.demo.DTODemo \r\n```\r\n\r\nI try many of things but i haven&#39;t found a good solution.\r\n\r\nAny idea to solve my problem using **retrieve** and not **exchange** ?\r\n\r\nThanks a lot.","title":"WebClient - UnsupportedMediaTypeException","body":"<p>I have this code :</p>\n<pre><code>ResponseEntity&lt;DTODemo&gt; responseEntity = webClient.get()\n                .uri(&quot;http://localhost:8051/callAPI/&quot;)\n                .retrieve()\n                .toEntity(DTODemo.class)\n                .block();\n</code></pre>\n<p>It work, when my api return an object <code>DTODemo</code>.\nBut, the API can return with code HTTP 404 a message in the body ( type <strong>String</strong>).\nI have this exception :</p>\n<pre><code>org.springframework.web.reactive.function.UnsupportedMediaTypeException: Content type 'text/plain;charset=UTF-8' not supported for bodyType=com.example.demo.DTODemo \n</code></pre>\n<p>I try many of things but i haven't found a good solution.</p>\n<p>Any idea to solve my problem using <strong>retrieve</strong> and not <strong>exchange</strong> ?</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","string","if-statement","null","conditional-statements"],"comments":[{"owner":{"account_id":23781360,"reputation":126,"user_id":17793995,"display_name":"Duncan Lutz"},"score":4,"creation_date":1665429670,"post_id":74019743,"comment_id":130693959,"body_markdown":"Hey it seems that this is supposed to be tagged in Java but you&#39;ve tagged it in Javascript","body":"Hey it seems that this is supposed to be tagged in Java but you&#39;ve tagged it in Javascript"},{"owner":{"account_id":1749597,"reputation":1030,"user_id":1599011,"display_name":"mykaf"},"score":0,"creation_date":1665429803,"post_id":74019743,"comment_id":130694000,"body_markdown":"I&#39;m terribly rusty in Java, but wouldn&#39;t it be similar to how you assigned `price`? in the if-statement, `answer =&quot;Buying new shirt&quot;;`","body":"I&#39;m terribly rusty in Java, but wouldn&#39;t it be similar to how you assigned <code>price</code>? in the if-statement, <code>answer =&quot;Buying new shirt&quot;;</code>"},{"owner":{"account_id":5114238,"reputation":1148,"user_id":4099925,"accept_rate":92,"display_name":"Stereo"},"score":0,"creation_date":1665739434,"post_id":74019743,"comment_id":130773401,"body_markdown":"for homework related questions, I&#39;d recommend following this question when posting questions: https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"for homework related questions, I&#39;d recommend following this question when posting questions: <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":26541866,"reputation":1,"user_id":20172482,"display_name":"Terell Smith"},"score":0,"creation_date":1665514745,"post_id":74020055,"comment_id":130717484,"body_markdown":"Im getting an error code when i try and assign, it says org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;","body":"Im getting an error code when i try and assign, it says org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;"},{"owner":{"account_id":10978169,"reputation":33,"user_id":8066227,"display_name":"Abdur Rehman Khalid"},"score":0,"creation_date":1665601349,"post_id":74020055,"comment_id":130741665,"body_markdown":"What else you can do is to assign the answer = &quot;Something else&quot; and return the answer.","body":"What else you can do is to assign the answer = &quot;Something else&quot; and return the answer."}],"tags":[],"owner":{"account_id":10978169,"reputation":33,"user_id":8066227,"display_name":"Abdur Rehman Khalid"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665431413,"creation_date":1665431413,"answer_id":74020055,"question_id":74019743,"body_markdown":"It is clear from the code snippet that the return type is &quot;String&quot; so what you can do is the following if you want to return &quot;Buying new shirt&quot;.\r\n\r\n    public String simpleConditional(int price) {\r\n       String answer = null;\r\n       price = 20;\r\n       if(price &lt; 20) {\r\n         System.out.println(&quot;Buy new shirt&quot;);\r\n         answer = &quot;buy new shirt&quot;;\r\n         return answer;       \r\n       } else {\r\n         return &quot;Something else&quot;; \r\n       }\r\n    }","title":"How to assign the variable to a value in a conditional if statement","body":"<p>It is clear from the code snippet that the return type is &quot;String&quot; so what you can do is the following if you want to return &quot;Buying new shirt&quot;.</p>\n<pre><code>public String simpleConditional(int price) {\n   String answer = null;\n   price = 20;\n   if(price &lt; 20) {\n     System.out.println(&quot;Buy new shirt&quot;);\n     answer = &quot;buy new shirt&quot;;\n     return answer;       \n   } else {\n     return &quot;Something else&quot;; \n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26541866,"reputation":1,"user_id":20172482,"display_name":"Terell Smith"},"score":0,"creation_date":1665514707,"post_id":74021801,"comment_id":130717469,"body_markdown":"Im getting an error code when i try and assign, it says  org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;","body":"Im getting an error code when i try and assign, it says  org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1665524005,"post_id":74021801,"comment_id":130720092,"body_markdown":"Then change the final `else` statement to: `else { answer = null; }`. Or...just remove the `else` block altogether since `answer` is already assigned null.","body":"Then change the final <code>else</code> statement to: <code>else { answer = null; }</code>. Or...just remove the <code>else</code> block altogether since <code>answer</code> is already assigned null."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665524115,"creation_date":1665447790,"answer_id":74021801,"question_id":74019743,"body_markdown":"It could be something like this:\r\n\r\n    /**\r\n     * Assumes the monetary value supplied is a floating point value.\r\n     * \r\n     * @param price (double) Will return null if 0 or less is supplied.\r\n     * \r\n     * @return (String)\r\n     */\r\n    public static String simpleConditional(double price) {\r\n        String answer = null;\r\n        if (price &gt; 0d &amp;&amp; price &lt; 20d) {\r\n            System.out.println(&quot;Buy new shirt&quot;);\r\n            answer = &quot;buy new shirt&quot;;\r\n\r\n        }\r\n        else if (price &gt;= 20d &amp;&amp; price &lt; 80d) {\r\n            answer = &quot;Hmmm...buying a decent shirt!&quot;;\r\n        }\r\n        else if (price &gt;= 80d) {\r\n            answer = &quot;Wow...Big Spender, buying a really good shirt!&quot;;\r\n        }\r\n        return answer;\r\n    }\r\n\r\nTo use the method named `simpleConditional()` method within the class `main()` method you might do something like:\r\n\r\n    public static void main(String args[]) {\r\n        String anAnswer = simpleConditional(56.98);\r\n        System.out.println(anAnswer);\r\n    \r\n        // The following will work to:\r\n        System.out.println(simpleConditional(104));\r\n    }","title":"How to assign the variable to a value in a conditional if statement","body":"<p>It could be something like this:</p>\n<pre><code>/**\n * Assumes the monetary value supplied is a floating point value.\n * \n * @param price (double) Will return null if 0 or less is supplied.\n * \n * @return (String)\n */\npublic static String simpleConditional(double price) {\n    String answer = null;\n    if (price &gt; 0d &amp;&amp; price &lt; 20d) {\n        System.out.println(&quot;Buy new shirt&quot;);\n        answer = &quot;buy new shirt&quot;;\n\n    }\n    else if (price &gt;= 20d &amp;&amp; price &lt; 80d) {\n        answer = &quot;Hmmm...buying a decent shirt!&quot;;\n    }\n    else if (price &gt;= 80d) {\n        answer = &quot;Wow...Big Spender, buying a really good shirt!&quot;;\n    }\n    return answer;\n}\n</code></pre>\n<p>To use the method named <code>simpleConditional()</code> method within the class <code>main()</code> method you might do something like:</p>\n<pre><code>public static void main(String args[]) {\n    String anAnswer = simpleConditional(56.98);\n    System.out.println(anAnswer);\n\n    // The following will work to:\n    System.out.println(simpleConditional(104));\n}\n</code></pre>\n"}],"owner":{"account_id":26541866,"reputation":1,"user_id":20172482,"display_name":"Terell Smith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1665526604,"creation_date":1665429327,"question_id":74019743,"body_markdown":"    public String simpleConditional(int price)  {\r\n            String answer = null ;\r\n    price = 20;\r\n              if (price &lt; 20)\r\n                  System.out.println(&quot;Buying new shirt&quot;);\r\n    answer = &quot;Buying new shirt&quot;\r\n        \r\n    ConditionalStatementsTest &gt; simpleConditionalTest(int, String) &gt; com.ata.ConditionalStatements\r\n    Test.simpleConditionalTest(int, String)[3] FAILED                                             \r\n        org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;         \r\n            at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                  \r\n            at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)          \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)             \r\n            at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)             \r\n            at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1124)                \r\n            at com.ata.ConditionalStatementsTest.simpleConditionalTest(ConditionalStatementsTest.j\r\n\r\nI am trying to equal the &quot;answer&quot; variable to the &quot;Buying new shirt&quot; value. And that is the Assertion error code I Receive with the code  stated above. \r\nHow would I solve resolve this error, it looks correct to me.( this is for a homework checker program)","title":"How to assign the variable to a value in a conditional if statement","body":"<pre><code>public String simpleConditional(int price)  {\n        String answer = null ;\nprice = 20;\n          if (price &lt; 20)\n              System.out.println(&quot;Buying new shirt&quot;);\nanswer = &quot;Buying new shirt&quot;\n    \nConditionalStatementsTest &gt; simpleConditionalTest(int, String) &gt; com.ata.ConditionalStatements\nTest.simpleConditionalTest(int, String)[3] FAILED                                             \n    org.opentest4j.AssertionFailedError: expected: &lt;null&gt; but was: &lt;Buying new shirt&gt;         \n        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)                  \n        at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)          \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)             \n        at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)             \n        at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1124)                \n        at com.ata.ConditionalStatementsTest.simpleConditionalTest(ConditionalStatementsTest.j\n</code></pre>\n<p>I am trying to equal the &quot;answer&quot; variable to the &quot;Buying new shirt&quot; value. And that is the Assertion error code I Receive with the code  stated above.\nHow would I solve resolve this error, it looks correct to me.( this is for a homework checker program)</p>\n"},{"tags":["java","https","java-7","handshake","apache-httpcomponents"],"answers":[{"comments":[{"owner":{"account_id":15707121,"reputation":61,"user_id":11333562,"display_name":"Claudio Resende"},"score":0,"creation_date":1557496204,"post_id":56055455,"comment_id":98796025,"body_markdown":"Thank you for your reply, I will post my resolution.","body":"Thank you for your reply, I will post my resolution."}],"tags":[],"owner":{"account_id":3350195,"reputation":972,"user_id":2814402,"display_name":"Omoro"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557391215,"creation_date":1557391215,"answer_id":56055455,"question_id":56054612,"body_markdown":"Java 8 supports `TLSv1.2` by default and is likely the server of the url you are calling is using `TLSv1.2`. While Java 7 supports `TLSv1.2`, `TLSv1.0` is default for this version of Java. To use `TLSv1.2` in Java 7, you indeed have to set the vm property `-Djdk.tls.client.protocols=TLSv1.2`. However the system property `jdk.tls.client.protocols` was introduced from Java 1.7.0_95. So your options are either using Java 8 or upgrading to a version of Java 7 that supports `jdk.tls.client.protocols`.\r\n","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>Java 8 supports <code>TLSv1.2</code> by default and is likely the server of the url you are calling is using <code>TLSv1.2</code>. While Java 7 supports <code>TLSv1.2</code>, <code>TLSv1.0</code> is default for this version of Java. To use <code>TLSv1.2</code> in Java 7, you indeed have to set the vm property <code>-Djdk.tls.client.protocols=TLSv1.2</code>. However the system property <code>jdk.tls.client.protocols</code> was introduced from Java 1.7.0_95. So your options are either using Java 8 or upgrading to a version of Java 7 that supports <code>jdk.tls.client.protocols</code>.</p>\n"},{"tags":[],"owner":{"account_id":15707121,"reputation":61,"user_id":11333562,"display_name":"Claudio Resende"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557496265,"creation_date":1557496265,"answer_id":56079051,"question_id":56054612,"body_markdown":"I solved this issue but using this snippet code \r\n\r\n    if (hostType.getProtocol().equals(Protocol.HTTPS)) {\r\n\r\n        SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(SSLContexts.createDefault(),\r\n                new String[] { SSL_VERSION }, null, SSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n        client = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n    }\r\n\r\n ","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>I solved this issue but using this snippet code </p>\n\n<pre><code>if (hostType.getProtocol().equals(Protocol.HTTPS)) {\n\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(SSLContexts.createDefault(),\n            new String[] { SSL_VERSION }, null, SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n    client = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20984757,"reputation":1,"user_id":15418825,"display_name":"Fabr&#237;cio Souto Cardoso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665526118,"creation_date":1665519894,"answer_id":74033728,"question_id":56054612,"body_markdown":"In Claudio&#39;s solution, change SSL_VERSION for &quot;TLSv1.2&quot;.\r\n\r\nOther possible values are:\r\n\r\n```\r\nenum ProtocolVersion {\r\n    TLS13           (0x0304,    &quot;TLSv1.3&quot;,      false),\r\n    TLS12           (0x0303,    &quot;TLSv1.2&quot;,      false),\r\n    TLS11           (0x0302,    &quot;TLSv1.1&quot;,      false),\r\n    TLS10           (0x0301,    &quot;TLSv1&quot;,        false),\r\n    SSL30           (0x0300,    &quot;SSLv3&quot;,        false),\r\n    SSL20Hello      (0x0002,    &quot;SSLv2Hello&quot;,   false),\r\n\r\n    DTLS12          (0xFEFD,    &quot;DTLSv1.2&quot;,     true),\r\n    DTLS10          (0xFEFF,    &quot;DTLSv1.0&quot;,     true),\r\n\r\n    // Dummy protocol version value for invalid SSLSession\r\n    NONE            (-1,        &quot;NONE&quot;,         false);\r\n\r\n```","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>In Claudio's solution, change SSL_VERSION for &quot;TLSv1.2&quot;.</p>\n<p>Other possible values are:</p>\n<pre><code>enum ProtocolVersion {\n    TLS13           (0x0304,    &quot;TLSv1.3&quot;,      false),\n    TLS12           (0x0303,    &quot;TLSv1.2&quot;,      false),\n    TLS11           (0x0302,    &quot;TLSv1.1&quot;,      false),\n    TLS10           (0x0301,    &quot;TLSv1&quot;,        false),\n    SSL30           (0x0300,    &quot;SSLv3&quot;,        false),\n    SSL20Hello      (0x0002,    &quot;SSLv2Hello&quot;,   false),\n\n    DTLS12          (0xFEFD,    &quot;DTLSv1.2&quot;,     true),\n    DTLS10          (0xFEFF,    &quot;DTLSv1.0&quot;,     true),\n\n    // Dummy protocol version value for invalid SSLSession\n    NONE            (-1,        &quot;NONE&quot;,         false);\n\n</code></pre>\n"}],"owner":{"account_id":15707121,"reputation":61,"user_id":11333562,"display_name":"Claudio Resende"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56079051,"answer_count":3,"score":1,"last_activity_date":1665526118,"creation_date":1557388175,"question_id":56054612,"body_markdown":"I have an https web page that I need to access and get some file, I am using Java 1.7_45 and apache httpclient 4.5.1 when I execute the client request I get the error(If I change to Java 8 it works, but I cannot change it to Java 8):\r\n\r\nI tried everything that I found on the internet\r\nas add those VM arguments \r\n\r\n    -Dhttps.protocols=SSLv2Hello,SSLv2,SSLv3,TLSv1.1,TLSv1.2\r\n    -Djdk.tls.client.protocols=TLSv1.1,TLSv1.2\r\n    -Ddeployment.security.SSLv2Hello=false \r\n    -Ddeployment.security.SSLv3=false \r\n    -Ddeployment.security.TLSv1=false \r\n    -Ddeployment.security.TLSv1.1=true \r\n    -Ddeployment.security.TLSv1.2=true\r\n\r\nchange the jars on the folder jre/lib/security\r\n\r\nthe funny thing is on the bug shows that the java is using TLSv1 but the server does not accept that, I believe that is why of the error but I tried everything to change it.\r\n```\r\n\r\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n            javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n            at\r\n            sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n            at\r\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\r\n            at\r\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\r\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\r\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n    \r\n```\r\n\r\nMy block code that is getting the error basically is :\r\n\r\n```\r\n\r\nHttpGet httpGetRequest = new HttpGet(uri);\r\nCloseableHttpClient client = HttpClients.createDefault();\r\nCloseableHttpResponse httpResponse = null;\r\nhttpResponse = client.execute(httpGetRequest);\r\n\r\n```\r\n\r\nthe result of debug mode is \r\n```\r\n\r\n    keyStore is : \r\n        keyStore type is : jks\r\n        keyStore provider is : \r\n        init keystore\r\n        init keymanager of type SunX509\r\n        trustStore is: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts\r\n        trustStore type is : jks\r\n        trustStore provider is : \r\n        init truststore\r\n        \r\n        trigger seeding of SecureRandom\r\n        done seeding SecureRandom\r\n        \r\n        Received fatal alert: handshake_failure\r\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\r\n        main, setSoTimeout(0) called\r\n        Allow unsafe renegotiation: false\r\n        Allow legacy hello messages: true\r\n        Is initial handshake: true\r\n        Is secure renegotiation: false\r\n        %% No cached client session\r\n        *** ClientHello, TLSv1\r\n        RandomCookie:  GMT: 1540543037 bytes = { 231, 49, 252, 97, 250, 248, 100, 42, 169, 55, 229, 211, 3, 60, 228, 9, 116, 240, 119, 7, 189, 29, 9, 164, 233, 49, 92, 71 }\r\n        Session ID:  {}\r\n        Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n        Compression Methods:  { 0 }\r\n        Extension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\n        Extension ec_point_formats, formats: [uncompressed]\r\n        Extension server_name, server_name: [host_name: services.swpc.noaa.gov]\r\n        ***\r\n        main, WRITE: TLSv1 Handshake, length = 194\r\n        main, READ: TLSv1 Alert, length = 2\r\n        main, RECV TLSv1 ALERT:  fatal, handshake_failure\r\n        main, called closeSocket()\r\n        main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n        main, called close()enter code here\r\n        main, called closeInternal(true)\r\n\r\n```","title":"javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure java 1.7_45","body":"<p>I have an https web page that I need to access and get some file, I am using Java 1.7_45 and apache httpclient 4.5.1 when I execute the client request I get the error(If I change to Java 8 it works, but I cannot change it to Java 8):</p>\n\n<p>I tried everything that I found on the internet\nas add those VM arguments </p>\n\n<pre><code>-Dhttps.protocols=SSLv2Hello,SSLv2,SSLv3,TLSv1.1,TLSv1.2\n-Djdk.tls.client.protocols=TLSv1.1,TLSv1.2\n-Ddeployment.security.SSLv2Hello=false \n-Ddeployment.security.SSLv3=false \n-Ddeployment.security.TLSv1=false \n-Ddeployment.security.TLSv1.1=true \n-Ddeployment.security.TLSv1.2=true\n</code></pre>\n\n<p>change the jars on the folder jre/lib/security</p>\n\n<p>the funny thing is on the bug shows that the java is using TLSv1 but the server does not accept that, I believe that is why of the error but I tried everything to change it.</p>\n\n<pre><code>\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n            javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n            at\n            sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n            at\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:394)\n            at\n            org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)\n            at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:134)\n            at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n            at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n            at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n            at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n            at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n            at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n            at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n            at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n\n</code></pre>\n\n<p>My block code that is getting the error basically is :</p>\n\n<pre><code>\nHttpGet httpGetRequest = new HttpGet(uri);\nCloseableHttpClient client = HttpClients.createDefault();\nCloseableHttpResponse httpResponse = null;\nhttpResponse = client.execute(httpGetRequest);\n\n</code></pre>\n\n<p>the result of debug mode is </p>\n\n<pre><code>\n    keyStore is : \n        keyStore type is : jks\n        keyStore provider is : \n        init keystore\n        init keymanager of type SunX509\n        trustStore is: C:\\Program Files\\Java\\jdk1.7.0_45\\jre\\lib\\security\\cacerts\n        trustStore type is : jks\n        trustStore provider is : \n        init truststore\n\n        trigger seeding of SecureRandom\n        done seeding SecureRandom\n\n        Received fatal alert: handshake_failure\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\n        Ignoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n        Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\n        main, setSoTimeout(0) called\n        Allow unsafe renegotiation: false\n        Allow legacy hello messages: true\n        Is initial handshake: true\n        Is secure renegotiation: false\n        %% No cached client session\n        *** ClientHello, TLSv1\n        RandomCookie:  GMT: 1540543037 bytes = { 231, 49, 252, 97, 250, 248, 100, 42, 169, 55, 229, 211, 3, 60, 228, 9, 116, 240, 119, 7, 189, 29, 9, 164, 233, 49, 92, 71 }\n        Session ID:  {}\n        Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n        Compression Methods:  { 0 }\n        Extension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\n        Extension ec_point_formats, formats: [uncompressed]\n        Extension server_name, server_name: [host_name: services.swpc.noaa.gov]\n        ***\n        main, WRITE: TLSv1 Handshake, length = 194\n        main, READ: TLSv1 Alert, length = 2\n        main, RECV TLSv1 ALERT:  fatal, handshake_failure\n        main, called closeSocket()\n        main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n        main, called close()enter code here\n        main, called closeInternal(true)\n\n</code></pre>\n"},{"tags":["java","linked-list"],"answers":[{"comments":[{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1665522948,"post_id":74034097,"comment_id":130719851,"body_markdown":"Any alternative L-L implementations? Requirements look obvious...","body":"Any alternative L-L implementations? Requirements look obvious..."}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665522192,"creation_date":1665522192,"answer_id":74034097,"question_id":74033615,"body_markdown":"There is no class that fulfill all the criteria for `java.util.LinkedList`. You need to implement your own linked list for that.","title":"How to simulate a pointer to LinkedList element in Java?","body":"<p>There is no class that fulfill all the criteria for <code>java.util.LinkedList</code>. You need to implement your own linked list for that.</p>\n"},{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665526095,"creation_date":1665526095,"answer_id":74034576,"question_id":74033615,"body_markdown":"java.util.LinkedList and it&#39;s iterators have limitations. Assigning an iterator only creates another reference to the same iterator object, so not &quot;cloneable&quot; assuming that&#39;s what you mean by &quot;cloneable&quot;. If you create multiple iterators to a list, if any nodes are added or removed from a list, all iterators (except one used for add) will be invalidated. There&#39;s no equivalent of C++ std::list::splice(), which can move one or mode nodes within a list or from list to list.\r\n\r\n\r\n\r\n","title":"How to simulate a pointer to LinkedList element in Java?","body":"<p>java.util.LinkedList and it's iterators have limitations. Assigning an iterator only creates another reference to the same iterator object, so not &quot;cloneable&quot; assuming that's what you mean by &quot;cloneable&quot;. If you create multiple iterators to a list, if any nodes are added or removed from a list, all iterators (except one used for add) will be invalidated. There's no equivalent of C++ std::list::splice(), which can move one or mode nodes within a list or from list to list.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665526095,"creation_date":1665519100,"question_id":74033615,"body_markdown":"I need an object, that \r\n\r\n - points to element of linked list\r\n   \r\n - can be iterated to next\r\n   \r\n - can be cloned\r\n   \r\n - all operations should be O(1)\r\n\r\nI don&#39;t see proofs, that [ListIterator][1] complies these requirements. Particularly, I don&#39;t see it is `Cloneable`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/ListIterator.html","title":"How to simulate a pointer to LinkedList element in Java?","body":"<p>I need an object, that</p>\n<ul>\n<li><p>points to element of linked list</p>\n</li>\n<li><p>can be iterated to next</p>\n</li>\n<li><p>can be cloned</p>\n</li>\n<li><p>all operations should be O(1)</p>\n</li>\n</ul>\n<p>I don't see proofs, that <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a> complies these requirements. Particularly, I don't see it is <code>Cloneable</code>.</p>\n"},{"tags":["java","spring","spring-boot","webclient","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1595956192,"creation_date":1595956192,"answer_id":63139351,"question_id":63136226,"body_markdown":"Clearly the method doc says that it needs a `Consumer` of some Type. So you can **create an anonymous class implementing the `Consumer` interface** or **use lambda expression like this**:\r\n\r\n 1. Using anonymous inner class:\r\n\r\n```\r\nthis.someWebClient = WebClient.builder()\r\n        .baseUrl(someConfiguration.getApiUrl())\r\n        .clientConnector(buildTimeoutConnector())\r\n        .defaultHeaders(new Consumer&lt;HttpHeaders&gt;() {\r\n          @Override\r\n          public void accept(HttpHeaders httpHeaders) {\r\n            httpHeaders.addAll(createHeaders(token));\r\n          }\r\n        })\r\n        .build();\r\n```\r\n\r\n 2. Using lambda:\r\n\r\n```\r\nthis.someWebClient = WebClient.builder()\r\n        .baseUrl(someConfiguration.getApiUrl())\r\n        .clientConnector(buildTimeoutConnector())\r\n        .defaultHeaders(httpHeaders -&gt; {\r\n          httpHeaders.addAll(createHeaders(token));\r\n        })\r\n        .build();\r\n```\r\n\r\n ","title":"WebClient - adding defaultHeaders","body":"<p>Clearly the method doc says that it needs a <code>Consumer</code> of some Type. So you can <strong>create an anonymous class implementing the <code>Consumer</code> interface</strong> or <strong>use lambda expression like this</strong>:</p>\n<ol>\n<li>Using anonymous inner class:</li>\n</ol>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(new Consumer&lt;HttpHeaders&gt;() {\n          @Override\n          public void accept(HttpHeaders httpHeaders) {\n            httpHeaders.addAll(createHeaders(token));\n          }\n        })\n        .build();\n</code></pre>\n<ol start=\"2\">\n<li>Using lambda:</li>\n</ol>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(httpHeaders -&gt; {\n          httpHeaders.addAll(createHeaders(token));\n        })\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8147033,"reputation":314,"user_id":6135401,"display_name":"Muriithi Derrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635249185,"creation_date":1635249185,"answer_id":69722619,"question_id":63136226,"body_markdown":"Use this.\r\n```\r\n    @Bean\r\n    public WebClient webClientConfiguration() {\r\n        return WebClient\r\n                .builder()\r\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\r\n                        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\r\n                        .responseTimeout(Duration.ofMillis(responseTimeout))\r\n                ))\r\n                .baseUrl(this.msConfigProperties.getApiUrl())\r\n                .defaultHeaders(httpHeaders())\r\n                .build();\r\n    }\r\n```\r\nThen Consumer function\r\n```\r\n    private Consumer&lt;HttpHeaders&gt; httpHeaders(){\r\n        return headers -&gt; {\r\n            headers.set(HEADER_CONTENT_TYPE, String.valueOf(MediaType.APPLICATION_JSON));\r\n            headers.setBasicAuth(this.msConfigProperties.getUserName(),this.msConfigProperties.getPassword());\r\n            headers.set(HEADER_ACCEPT_ENCODING, String.valueOf(MediaType.APPLICATION_JSON));\r\n        };\r\n    }\r\n ```","title":"WebClient - adding defaultHeaders","body":"<p>Use this.</p>\n<pre><code>    @Bean\n    public WebClient webClientConfiguration() {\n        return WebClient\n                .builder()\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\n                        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\n                        .responseTimeout(Duration.ofMillis(responseTimeout))\n                ))\n                .baseUrl(this.msConfigProperties.getApiUrl())\n                .defaultHeaders(httpHeaders())\n                .build();\n    }\n</code></pre>\n<p>Then Consumer function</p>\n<pre><code>    private Consumer&lt;HttpHeaders&gt; httpHeaders(){\n        return headers -&gt; {\n            headers.set(HEADER_CONTENT_TYPE, String.valueOf(MediaType.APPLICATION_JSON));\n            headers.setBasicAuth(this.msConfigProperties.getUserName(),this.msConfigProperties.getPassword());\n            headers.set(HEADER_ACCEPT_ENCODING, String.valueOf(MediaType.APPLICATION_JSON));\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665525865,"creation_date":1665525865,"answer_id":74034553,"question_id":63136226,"body_markdown":"\r\n```\r\nprivate void addDefaultHeaders(final HttpHeaders headers) {\r\n    headers.add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n    headers.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n  }\r\n```\r\n\r\nand then \r\n```\r\nthis.someWebClient = WebClient.builder()\r\n        .baseUrl(someConfiguration.getApiUrl())\r\n        .clientConnector(buildTimeoutConnector())\r\n        .defaultHeaders(this::addDefaultHeaders)\r\n        .build();\r\n```","title":"WebClient - adding defaultHeaders","body":"<pre><code>private void addDefaultHeaders(final HttpHeaders headers) {\n    headers.add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n    headers.add(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n  }\n</code></pre>\n<p>and then</p>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(this::addDefaultHeaders)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":16414512,"reputation":89,"user_id":11857002,"display_name":"ore ore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14706,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63139351,"answer_count":3,"score":6,"last_activity_date":1665525865,"creation_date":1595945804,"question_id":63136226,"body_markdown":"I&#39;m trying to put multiple headers into defaultHeaders(), But I don&#39;t have idea how to create Consumer object from return of createHeaders() method\r\n\r\n    this.someWebClient = WebClient.builder()\r\n    \t\t.baseUrl(someConfiguration.getApiUrl())\r\n    \t\t.clientConnector(buildTimeoutConnector())\r\n    \t\t.defaultHeaders(????) // Consumer&lt;HttpHeaders&gt;\r\n    \t\t.build();\r\nI can build my header in that way:\r\n\r\n    private HttpHeaders createHeaders(String token) {\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \theaders.add(HttpHeaders.ACCEPT, V1_PUBLIC);\r\n    \theaders.add(HttpHeaders.HOST, &quot;abc&quot;);\r\n    \theaders.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token);\r\n    \treturn headers;\r\n    }\r\n\r\nbut how to wrap it into Consumer?","title":"WebClient - adding defaultHeaders","body":"<p>I'm trying to put multiple headers into defaultHeaders(), But I don't have idea how to create Consumer object from return of createHeaders() method</p>\n<pre><code>this.someWebClient = WebClient.builder()\n        .baseUrl(someConfiguration.getApiUrl())\n        .clientConnector(buildTimeoutConnector())\n        .defaultHeaders(????) // Consumer&lt;HttpHeaders&gt;\n        .build();\n</code></pre>\n<p>I can build my header in that way:</p>\n<pre><code>private HttpHeaders createHeaders(String token) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(HttpHeaders.ACCEPT, V1_PUBLIC);\n    headers.add(HttpHeaders.HOST, &quot;abc&quot;);\n    headers.add(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + token);\n    return headers;\n}\n</code></pre>\n<p>but how to wrap it into Consumer?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":12,"creation_date":1665524472,"post_id":74034389,"comment_id":130720191,"body_markdown":"An element of an `int[]` array can **not** be `null`. Only reference types can have a value of `null`. Maybe you&#39;re confusing `null` and zero `0` ?","body":"An element of an <code>int[]</code> array can <b>not</b> be <code>null</code>. Only reference types can have a value of <code>null</code>. Maybe you&#39;re confusing <code>null</code> and zero <code>0</code> ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1665524580,"post_id":74034389,"comment_id":130720218,"body_markdown":"Also note that the syntax for your `else if` is incorrect.","body":"Also note that the syntax for your <code>else if</code> is incorrect."},{"owner":{"account_id":23216231,"reputation":1,"user_id":17309106,"display_name":"Tiesss"},"score":0,"creation_date":1665524648,"post_id":74034389,"comment_id":130720233,"body_markdown":"@AlexanderIvanchenko, when i tried to check for 0 i got a NullPointException so if i didn&#39;t put anything in it what is?","body":"@AlexanderIvanchenko, when i tried to check for 0 i got a NullPointException so if i didn&#39;t put anything in it what is?"},{"owner":{"account_id":23216231,"reputation":1,"user_id":17309106,"display_name":"Tiesss"},"score":0,"creation_date":1665524683,"post_id":74034389,"comment_id":130720244,"body_markdown":"@JonSkeet yeah i saw that, it&#39;s fixed now","body":"@JonSkeet yeah i saw that, it&#39;s fixed now"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":2,"creation_date":1665524694,"post_id":74034389,"comment_id":130720250,"body_markdown":"Have you tried using the int wrapper class Integer ?","body":"Have you tried using the int wrapper class Integer ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":5,"creation_date":1665524766,"post_id":74034389,"comment_id":130720270,"body_markdown":"*&quot;when i tried to check for 0 i got a NullPointException&quot;* - have a careful at the code that gives you NPE. In the message on the console, there would be a reference to the line that causes the exception. Post the updated code and exception stack-trace if the issue would be unclear.","body":"<i>&quot;when i tried to check for 0 i got a NullPointException&quot;</i> - have a careful at the code that gives you NPE. In the message on the console, there would be a reference to the line that causes the exception. Post the updated code and exception stack-trace if the issue would be unclear."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1665524932,"post_id":74034389,"comment_id":130720301,"body_markdown":"Please provide a [mre] that exactly demonstrates the problem you&#39;re having. Include the stack trace of the error thrown by your example.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that exactly demonstrates the problem you&#39;re having. Include the stack trace of the error thrown by your example."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665525603,"creation_date":1665525232,"answer_id":74034489,"question_id":74034389,"body_markdown":"`new int[size]` will create an array of that size of all `0`. It **cannot** contains nulls. \r\n\r\nIf you did want to store `null`, then do as the error says, create `new Integer[size]`, which will default to all `null` references in an array of that size. \r\n\r\n&gt; can&#39;t add integer values to it\r\n\r\nWhy not?\r\n\r\n    x[0] = new Integer(1);\r\n    x[0] = 1; // or, auto-boxed\r\n\r\n&gt; when i tried to check for 0 i got a NullPointException\r\n\r\nSounds unrelated, and perhaps you are using a wrong reference to an `x` array which was not initialized. \r\n\r\nDepending on your use-case `OptionalInt[]` may be better, although initializing an array of any non-primitive will always start as all `null`s, so then you&#39;d have to check `.isPresent()` **and** `== null`","title":"How to check an int array value for null?","body":"<p><code>new int[size]</code> will create an array of that size of all <code>0</code>. It <strong>cannot</strong> contains nulls.</p>\n<p>If you did want to store <code>null</code>, then do as the error says, create <code>new Integer[size]</code>, which will default to all <code>null</code> references in an array of that size.</p>\n<blockquote>\n<p>can't add integer values to it</p>\n</blockquote>\n<p>Why not?</p>\n<pre><code>x[0] = new Integer(1);\nx[0] = 1; // or, auto-boxed\n</code></pre>\n<blockquote>\n<p>when i tried to check for 0 i got a NullPointException</p>\n</blockquote>\n<p>Sounds unrelated, and perhaps you are using a wrong reference to an <code>x</code> array which was not initialized.</p>\n<p>Depending on your use-case <code>OptionalInt[]</code> may be better, although initializing an array of any non-primitive will always start as all <code>null</code>s, so then you'd have to check <code>.isPresent()</code> <strong>and</strong> <code>== null</code></p>\n"}],"owner":{"account_id":23216231,"reputation":1,"user_id":17309106,"display_name":"Tiesss"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1665552163,"answer_count":1,"score":-3,"last_activity_date":1665525603,"creation_date":1665524334,"question_id":74034389,"body_markdown":"So I basically have an integer array and I need to check if a value in it is null, the &quot;==&quot; doesn&#39;t work since:\r\n&quot;The operator == is undefined for the argument type(s) int, null&quot;\r\nswitching to an Object array doesn&#39;t work since I can&#39;t add integer values to it.\r\n\r\nso this is basically what I&#39;m trying to do:\r\n\r\n```\r\nint [] x = new int [5];\r\ny()\r\n\r\nvoid y() {\r\n  if (x[0] == null) {\r\n    println(&quot;value is null&quot;);\r\n  } else if (x[0] != null) {\r\n      println(&quot;value is not null&quot;);\r\n    }\r\n  }\r\n```\r\n  \r\nHow do I fix this?\r\n\r\n","title":"How to check an int array value for null?","body":"<p>So I basically have an integer array and I need to check if a value in it is null, the &quot;==&quot; doesn't work since:\n&quot;The operator == is undefined for the argument type(s) int, null&quot;\nswitching to an Object array doesn't work since I can't add integer values to it.</p>\n<p>so this is basically what I'm trying to do:</p>\n<pre><code>int [] x = new int [5];\ny()\n\nvoid y() {\n  if (x[0] == null) {\n    println(&quot;value is null&quot;);\n  } else if (x[0] != null) {\n      println(&quot;value is not null&quot;);\n    }\n  }\n</code></pre>\n<p>How do I fix this?</p>\n"},{"tags":["java","android","android-studio","android-studio-dolphin"],"comments":[{"owner":{"account_id":17445070,"reputation":317,"user_id":12646287,"display_name":"Dragan.T"},"score":0,"creation_date":1665526619,"post_id":74034484,"comment_id":130720585,"body_markdown":"Did you try to install some older version of Android Studio?","body":"Did you try to install some older version of Android Studio?"},{"owner":{"account_id":15965343,"reputation":11,"user_id":11521185,"display_name":"Sobhan Bera"},"score":0,"creation_date":1665604509,"post_id":74034484,"comment_id":130742562,"body_markdown":"Yeah! That too doesn&#39;t work. So I deleted JDKs and many safe files related to android studio. And then reinstalled it again. And it worked!!","body":"Yeah! That too doesn&#39;t work. So I deleted JDKs and many safe files related to android studio. And then reinstalled it again. And it worked!!"}],"owner":{"account_id":15965343,"reputation":11,"user_id":11521185,"display_name":"Sobhan Bera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665525176,"creation_date":1665525176,"question_id":74034484,"body_markdown":"I am trying to launch Android Studio. It completes this loading every time and gets stuck.\r\n\r\nI am using macOS Monterey 12.6\r\n\r\n[![android studio got stuck at loadig][1]][1]\r\n\r\n\r\nI have tried deleting android studio from everywhere like android files inside ~/Library folder, its SDK, .gradle, .android, etc. And have also re-installed 2-3 times from different sources (Jetbrains toolbox, dmg file from its official website).\r\n\r\nI have also tried restarting my PC. I have also checked the path of JDK and JDK_HOME.\r\n\r\nPlease help!\r\n\r\n[1]: https://i.stack.imgur.com/jc9Km.jpg","title":"Android Studio got stuck on initial loading","body":"<p>I am trying to launch Android Studio. It completes this loading every time and gets stuck.</p>\n<p>I am using macOS Monterey 12.6</p>\n<p><a href=\"https://i.stack.imgur.com/jc9Km.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jc9Km.jpg\" alt=\"android studio got stuck at loadig\" /></a></p>\n<p>I have tried deleting android studio from everywhere like android files inside ~/Library folder, its SDK, .gradle, .android, etc. And have also re-installed 2-3 times from different sources (Jetbrains toolbox, dmg file from its official website).</p>\n<p>I have also tried restarting my PC. I have also checked the path of JDK and JDK_HOME.</p>\n<p>Please help!</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1665519841,"post_id":74033710,"comment_id":130719020,"body_markdown":"Post a log of the build, what command you used for it, and the run output as an edit to the question, please?","body":"Post a log of the build, what command you used for it, and the run output as an edit to the question, please?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1665521432,"post_id":74033710,"comment_id":130719457,"body_markdown":"The error you&#39;ve added to the question tells us that the error is actually in the class `InsertAlias`. We can&#39;t tell you what&#39;s wrong with that class because you haven&#39;t included in your question. Please edit the question to include the source of this class as well.","body":"The error you&#39;ve added to the question tells us that the error is actually in the class <code>InsertAlias</code>. We can&#39;t tell you what&#39;s wrong with that class because you haven&#39;t included in your question. Please edit the question to include the source of this class as well."}],"answers":[{"tags":[],"owner":{"display_name":"user19428866"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665524733,"creation_date":1665523115,"answer_id":74034230,"question_id":74033710,"body_markdown":"Name of the class was different from the name I was using in NetBeans. I copied the code directly from [the page][1] without trying to replicate the error.\r\n\r\n\r\n  [1]: https://zetcode.com/java/postgresql/","title":"JavaPostgreSqlPrepared cannot find symbol","body":"<p>Name of the class was different from the name I was using in NetBeans. I copied the code directly from <a href=\"https://zetcode.com/java/postgresql/\" rel=\"nofollow noreferrer\">the page</a> without trying to replicate the error.</p>\n"}],"owner":{"display_name":"user19428866"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1665669333,"answer_count":1,"score":-1,"last_activity_date":1665524733,"creation_date":1665519735,"question_id":74033710,"body_markdown":"I execute this code and get an error:\r\n\r\n    package com.zetcode;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class JavaPostgreSqlPrepared {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String url = &quot;jdbc:postgresql://localhost:5432/testdb&quot;;\r\n            String user = &quot;user12&quot;;\r\n            String password = &quot;34klq*&quot;;\r\n    \r\n            int id = 6;\r\n            String author = &quot;Trygve Gulbranssen&quot;;\r\n            String query = &quot;INSERT INTO authors(id, name) VALUES(?, ?)&quot;;\r\n    \r\n            try (Connection con = DriverManager.getConnection(url, user, password);\r\n                 PreparedStatement pst = con.prepareStatement(query)) {\r\n                \r\n                pst.setInt(1, id);\r\n                pst.setString(2, author);\r\n                pst.executeUpdate();\r\n    \r\n            } catch (SQLException ex) {\r\n    \r\n                Logger lgr = Logger.getLogger(JavaPostgreSqlPrepared.class.getName());\r\n                lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI am Using PostgreSQL14, Java19, JDBC libraries included in NetBeans15.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\r\n      symbol:   class JavaPostgreSqlPrepared\r\n      location: class insertalias.InsertAlias\r\n    \tat insertalias.InsertAlias.main(InsertAlias.java:1)\r\n    C:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:150: The following error occurred while executing this line:\r\n    C:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:129: The following error occurred while executing this line:\r\n    C:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:77: Java returned: 1\r\n    BUILD FAILED (total time: 6 seconds)","title":"JavaPostgreSqlPrepared cannot find symbol","body":"<p>I execute this code and get an error:</p>\n<pre><code>package com.zetcode;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class JavaPostgreSqlPrepared {\n\n    public static void main(String[] args) {\n\n        String url = &quot;jdbc:postgresql://localhost:5432/testdb&quot;;\n        String user = &quot;user12&quot;;\n        String password = &quot;34klq*&quot;;\n\n        int id = 6;\n        String author = &quot;Trygve Gulbranssen&quot;;\n        String query = &quot;INSERT INTO authors(id, name) VALUES(?, ?)&quot;;\n\n        try (Connection con = DriverManager.getConnection(url, user, password);\n             PreparedStatement pst = con.prepareStatement(query)) {\n            \n            pst.setInt(1, id);\n            pst.setString(2, author);\n            pst.executeUpdate();\n\n        } catch (SQLException ex) {\n\n            Logger lgr = Logger.getLogger(JavaPostgreSqlPrepared.class.getName());\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\n        }\n    }\n}\n</code></pre>\n<p>I am Using PostgreSQL14, Java19, JDBC libraries included in NetBeans15.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\n  symbol:   class JavaPostgreSqlPrepared\n  location: class insertalias.InsertAlias\n    at insertalias.InsertAlias.main(InsertAlias.java:1)\nC:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:150: The following error occurred while executing this line:\nC:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:129: The following error occurred while executing this line:\nC:\\Users\\pruebas\\AppData\\Local\\NetBeans\\Cache\\15\\executor-snippets\\debug.xml:77: Java returned: 1\nBUILD FAILED (total time: 6 seconds)\n</code></pre>\n"},{"tags":["java","sap-commerce-cloud","orika"],"comments":[{"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"score":0,"creation_date":1593621323,"post_id":62678172,"comment_id":110847444,"body_markdown":"Can you share a longer stacktrace? Is there more before and after that?","body":"Can you share a longer stacktrace? Is there more before and after that?"},{"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"score":0,"creation_date":1593629479,"post_id":62678172,"comment_id":110851276,"body_markdown":"Unfortunately, this is all I have and all that is logged. Another part of the log is related to Spring&#39;s Controller/Filters so I committed it.","body":"Unfortunately, this is all I have and all that is logged. Another part of the log is related to Spring&#39;s Controller/Filters so I committed it."},{"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"score":0,"creation_date":1593631178,"post_id":62678172,"comment_id":110852036,"body_markdown":"That&#39;s why I wanted to know how to enable the build of classes so I can dig more info.","body":"That&#39;s why I wanted to know how to enable the build of classes so I can dig more info."}],"answers":[{"comments":[{"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"score":0,"creation_date":1593614059,"post_id":62678853,"comment_id":110843524,"body_markdown":"Unfortunately, there is no data in debug mode to help me found out the root cause. Attached screenshot.","body":"Unfortunately, there is no data in debug mode to help me found out the root cause. Attached screenshot."}],"tags":[],"owner":{"account_id":1040112,"reputation":613,"user_id":1046365,"accept_rate":100,"display_name":"Andrii Andriichuk"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1593612867,"creation_date":1593612867,"answer_id":62678853,"question_id":62678172,"body_markdown":"[![catching any nullpointer in Intellij IDEA][1]][1]\r\nIn debug mode using Intellij you can catch any exception by type and easily see which field is causing the issue.\r\n\r\n  [1]: https://i.stack.imgur.com/ekq9U.png","title":"Hybris and Orika Nullpointer","body":"<p><a href=\"https://i.stack.imgur.com/ekq9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ekq9U.png\" alt=\"catching any nullpointer in Intellij IDEA\" /></a>\nIn debug mode using Intellij you can catch any exception by type and easily see which field is causing the issue.</p>\n"},{"tags":[],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1594217411,"creation_date":1594217411,"answer_id":62796766,"question_id":62678172,"body_markdown":"The issue was because of the mapping configuration:\r\n\r\n    &lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\r\n    &lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\r\n    &lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\r\n    &lt;property name=&quot;fieldMapping&quot;&gt;\r\n        &lt;map&gt;\r\n            &lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \r\n        &lt;/map&gt;\r\n    &lt;/property&gt;\r\n\r\nCustom mapper (extending de.hybris.platform.webservicescommons.mapping.mappers.AbstractCustomMapper) was created for this and solved an issue.  \r\nThis issue happens in Hybris + Orika, for clean Orika (outside of Hybris) wasn&#39;t able to reproduce this problem.","title":"Hybris and Orika Nullpointer","body":"<p>The issue was because of the mapping configuration:</p>\n<pre><code>&lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\n&lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\n&lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\n&lt;property name=&quot;fieldMapping&quot;&gt;\n    &lt;map&gt;\n        &lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \n    &lt;/map&gt;\n&lt;/property&gt;\n</code></pre>\n<p>Custom mapper (extending de.hybris.platform.webservicescommons.mapping.mappers.AbstractCustomMapper) was created for this and solved an issue.<br />\nThis issue happens in Hybris + Orika, for clean Orika (outside of Hybris) wasn't able to reproduce this problem.</p>\n"}],"owner":{"account_id":8226375,"reputation":447,"user_id":6297796,"accept_rate":39,"display_name":"Evgenii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":62796766,"answer_count":2,"score":-1,"last_activity_date":1665524198,"creation_date":1593610741,"question_id":62678172,"body_markdown":"I&#39;m using Hybris and Orika.  \r\nI have a NullpointerException when converting WsDto to Data.  \r\nThis is an exception:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n        at ma.glasnost.orika.generated.Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.mapBtoA(Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.java)\r\n        at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\r\n        at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\r\n        at ma.glasnost.orika.impl.DefaultBoundMapperFacade.mapReverse(DefaultBoundMapperFacade.java:152)\r\n        at ma.glasnost.orika.generated.Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.mapBtoA(Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.java)\r\n        at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\r\n        at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\r\n        at ma.glasnost.orika.impl.MapperFacadeImpl.map(MapperFacadeImpl.java:671)\r\n        ... 146 more\r\n\r\nThe issue - it happens in generated class so it&#39;s very hard to debug.  \r\nI&#39;ve also tried to enable code generation for Orika to check classes, but for some reason, the configuration doesn&#39;t apply. I&#39;ve done it this way:\r\n\r\n    tomcat.debugjavaoptions= -Dma.glasnost.orika.writeSourceFiles=true -Dma.glasnost.orika.writeClassFiles=true\r\n\r\nMy questions are:\r\n\r\n - Could you help me to enable this code generation for further debugging?\r\n - Could you point out why this exception could happen, since it&#39;s not clear at the moment? \r\n\r\nThe exception in debug mode doesn&#39;t provide data to me.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UXasZ.png\r\n\r\nUpdate  \r\nFound out that issue comes from mapping for fields, it&#39;s done in XML this way:\r\n\r\n    &lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\r\n\t&lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\r\n\t&lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\r\n\t&lt;property name=&quot;fieldMapping&quot;&gt;\r\n\t\t&lt;map&gt;\r\n\t\t\t&lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \r\n\t\t&lt;/map&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\nWhen Data mapped to WsDto there is no issue, but when WsDto mapped to the Data there is a null pointer exception.\r\nCould you help me to figure out how to better configure two-way mapping for this?","title":"Hybris and Orika Nullpointer","body":"<p>I'm using Hybris and Orika.<br />\nI have a NullpointerException when converting WsDto to Data.<br />\nThis is an exception:</p>\n<pre><code>Caused by: java.lang.NullPointerException\n    at ma.glasnost.orika.generated.Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.mapBtoA(Orika_OrderWsDTO_OrderData_Mapper15385839217600$109.java)\n    at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\n    at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\n    at ma.glasnost.orika.impl.DefaultBoundMapperFacade.mapReverse(DefaultBoundMapperFacade.java:152)\n    at ma.glasnost.orika.generated.Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.mapBtoA(Orika_ReturnRequestWsDTO_ReturnRequestData_Mapper15384183367700$80.java)\n    at ma.glasnost.orika.impl.ReversedMapper.mapAtoB(ReversedMapper.java:65)\n    at ma.glasnost.orika.impl.mapping.strategy.UseCustomMapperStrategy.map(UseCustomMapperStrategy.java:77)\n    at ma.glasnost.orika.impl.MapperFacadeImpl.map(MapperFacadeImpl.java:671)\n    ... 146 more\n</code></pre>\n<p>The issue - it happens in generated class so it's very hard to debug.<br />\nI've also tried to enable code generation for Orika to check classes, but for some reason, the configuration doesn't apply. I've done it this way:</p>\n<pre><code>tomcat.debugjavaoptions= -Dma.glasnost.orika.writeSourceFiles=true -Dma.glasnost.orika.writeClassFiles=true\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>Could you help me to enable this code generation for further debugging?</li>\n<li>Could you point out why this exception could happen, since it's not clear at the moment?</li>\n</ul>\n<p>The exception in debug mode doesn't provide data to me.\n<a href=\"https://i.stack.imgur.com/UXasZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXasZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Update<br />\nFound out that issue comes from mapping for fields, it's done in XML this way:</p>\n<pre><code>&lt;bean parent=&quot;fieldMapper&quot; id=&quot;cisOrderWsDTOFieldMapper&quot;&gt;\n&lt;property name=&quot;sourceClass&quot; value=&quot;Data&quot; /&gt;\n&lt;property name=&quot;destClass&quot; value=&quot;WsDto&quot; /&gt;\n&lt;property name=&quot;fieldMapping&quot;&gt;\n    &lt;map&gt;\n        &lt;entry key=&quot;price.discount&quot; value=&quot;discount&quot;/&gt;                \n    &lt;/map&gt;\n&lt;/property&gt;\n</code></pre>\n\nWhen Data mapped to WsDto there is no issue, but when WsDto mapped to the Data there is a null pointer exception.\nCould you help me to figure out how to better configure two-way mapping for this?\n"},{"tags":["javascript","java","node.js","express","frameworks"],"answers":[{"tags":[],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1575905068,"creation_date":1518450338,"answer_id":48750234,"question_id":48749900,"body_markdown":"Ok, I decided to roll out my own framework. It&#39;s called [java-express][1]. The API is very similar to the one of expressjs:\r\n\r\n    Express app  = new Express();\r\n\r\n    app.get(&quot;/&quot;, (req, res) -&gt; {\r\n        res.send(&quot;Hello World&quot;);\r\n    });\r\n\r\n    app.listen();\r\n\r\n\r\n  [1]: https://github.com/Simonwep/java-express &quot;java-express&quot;","title":"expressjs-similar Framework in Java?","body":"<p>Ok, I decided to roll out my own framework. It's called <a href=\"https://github.com/Simonwep/java-express\" rel=\"noreferrer\" title=\"java-express\">java-express</a>. The API is very similar to the one of expressjs:</p>\n\n<pre><code>Express app  = new Express();\n\napp.get(\"/\", (req, res) -&gt; {\n    res.send(\"Hello World\");\n});\n\napp.listen();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9967362,"reputation":581,"user_id":7374648,"display_name":"Rafael Paulino"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518782058,"creation_date":1518782058,"answer_id":48826229,"question_id":48749900,"body_markdown":"If you are looking to something more &quot;production-ready&quot;, you definitely want to take a look at [Spring Boot][1].\r\n\r\nThis tutorial is simple, but very useful for you to begin: [&quot;Building a RESTful Web Service&quot;][2]\r\n\r\nIf you like to use &quot;untyped&quot; variables, Groovy language can come to your help. 100% compatible with Java. There is even another frameworks called [Grails][3] that use groovy as main language. You may also take a look on that too.\r\n\r\n\r\n  [1]: https://projects.spring.io/spring-boot/\r\n  [2]: https://spring.io/guides/gs/rest-service/\r\n  [3]: https://grails.org/","title":"expressjs-similar Framework in Java?","body":"<p>If you are looking to something more \"production-ready\", you definitely want to take a look at <a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">Spring Boot</a>.</p>\n\n<p>This tutorial is simple, but very useful for you to begin: <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">\"Building a RESTful Web Service\"</a></p>\n\n<p>If you like to use \"untyped\" variables, Groovy language can come to your help. 100% compatible with Java. There is even another frameworks called <a href=\"https://grails.org/\" rel=\"nofollow noreferrer\">Grails</a> that use groovy as main language. You may also take a look on that too.</p>\n"},{"tags":[],"owner":{"account_id":14652907,"reputation":36,"user_id":10582385,"display_name":"Mohammed Farah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665523588,"creation_date":1665523415,"answer_id":74034272,"question_id":48749900,"body_markdown":"Another option is [Javalin][1], it&#39;s minimal and lightweight like Express but the API is more similar to [qua][2], they say it&#39;s is more of a library than a framework, No DI or annotations, here&#39;s a hello world example:\r\n\r\n    import io.javalin.Javalin;\r\n    \r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            Javalin app = Javalin.create().start(7000);\r\n            app.get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://javalin.io\r\n  [2]: https://koajs.com/","title":"expressjs-similar Framework in Java?","body":"<p>Another option is <a href=\"https://javalin.io\" rel=\"nofollow noreferrer\">Javalin</a>, it's minimal and lightweight like Express but the API is more similar to <a href=\"https://koajs.com/\" rel=\"nofollow noreferrer\">qua</a>, they say it's is more of a library than a framework, No DI or annotations, here's a hello world example:</p>\n<pre><code>import io.javalin.Javalin;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        Javalin app = Javalin.create().start(7000);\n        app.get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10394667,"reputation":2778,"user_id":7664765,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5752,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1665554873,"accepted_answer_id":48750234,"answer_count":3,"score":3,"last_activity_date":1665523588,"creation_date":1518449367,"question_id":48749900,"body_markdown":"Is outside there an expressjs similar framework for Java?\r\nI&#39;m looking for an small framework which can process different HTTP-Requests and send response, cookies etc. As in expressjs.","title":"expressjs-similar Framework in Java?","body":"<p>Is outside there an expressjs similar framework for Java?\nI'm looking for an small framework which can process different HTTP-Requests and send response, cookies etc. As in expressjs.</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1665521305,"post_id":74033920,"comment_id":130719423,"body_markdown":"Install Saxon HE from Saxonica, the latest supported releases are 10.8 and 11.4. The built-in Transformer in the Oracle or OpenJDK JREs uses Xalan, an XSLT 1.0 processor, which, when running into `version=&quot;2.0&quot;` code, runs in forwards compatible mode to try its best to execute XSLT/XPath 1 stuff, but it doesn&#39;t support any XSLT/XPath 2 stuff. Xalan has some support for EXSLT extension functions to tokenize, however.","body":"Install Saxon HE from Saxonica, the latest supported releases are 10.8 and 11.4. The built-in Transformer in the Oracle or OpenJDK JREs uses Xalan, an XSLT 1.0 processor, which, when running into <code>version=&quot;2.0&quot;</code> code, runs in forwards compatible mode to try its best to execute XSLT/XPath 1 stuff, but it doesn&#39;t support any XSLT/XPath 2 stuff. Xalan has some support for EXSLT extension functions to tokenize, however."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":2,"creation_date":1665521590,"post_id":74033920,"comment_id":130719485,"body_markdown":"Download for Saxon HE https://sourceforge.net/projects/saxon/files/Saxon-HE/10/Java/ and https://sourceforge.net/projects/saxon/files/Saxon-HE/11/Java/","body":"Download for Saxon HE <a href=\"https://sourceforge.net/projects/saxon/files/Saxon-HE/10/Java/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/saxon/files/Saxon-HE/10/Java</a> and <a href=\"https://sourceforge.net/projects/saxon/files/Saxon-HE/11/Java/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/saxon/files/Saxon-HE/11/Java</a>"},{"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"score":0,"creation_date":1665522678,"post_id":74033920,"comment_id":130719795,"body_markdown":"Ok so I replaced the Transformer to Saxon and it catches the string but it replaces &#39;/&#39; with &#39; &#39; for some reason. For example if I have aa/bb/cc it returns aa bb cc","body":"Ok so I replaced the Transformer to Saxon and it catches the string but it replaces &#39;/&#39; with &#39; &#39; for some reason. For example if I have aa/bb/cc it returns aa bb cc"},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1665522898,"post_id":74033920,"comment_id":130719835,"body_markdown":"Consider to edit your question and provide minimal but complete samples to demonstrate your issue to use `tokenize`, together with the wanted result and the current one. As for using `tokenize` to get the token after the last slash, I would use e.g. `tokenize($string, &#39;/&#39;)[last()]` to achieve that in XPath 2/3.","body":"Consider to edit your question and provide minimal but complete samples to demonstrate your issue to use <code>tokenize</code>, together with the wanted result and the current one. As for using <code>tokenize</code> to get the token after the last slash, I would use e.g. <code>tokenize($string, &#39;&#47;&#39;)[last()]</code> to achieve that in XPath 2/3."},{"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"score":0,"creation_date":1665523171,"post_id":74033920,"comment_id":130719915,"body_markdown":"The [last()] did the trick, I forgot about that after trying endless things haha. Thank you very much!","body":"The [last()] did the trick, I forgot about that after trying endless things haha. Thank you very much!"}],"answers":[{"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1665577799,"post_id":74034244,"comment_id":130732794,"body_markdown":"Xalan supports the `str:tokenize()` EXSLT extension function: http://exslt.org/str/functions/tokenize/index.html","body":"Xalan supports the <code>str:tokenize()</code> EXSLT extension function: <a href=\"http://exslt.org/str/functions/tokenize/index.html\" rel=\"nofollow noreferrer\">exslt.org/str/functions/tokenize/index.html</a>"}],"tags":[],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665523238,"creation_date":1665523238,"answer_id":74034244,"question_id":74033920,"body_markdown":"As Martin suggested in the comments, changing the java library to use Saxon HE version 11.4 and using [last()] did the trick","title":"XSLT Error checking type of the expression &#39;funcall(tokenize)&#39;","body":"<p>As Martin suggested in the comments, changing the java library to use Saxon HE version 11.4 and using [last()] did the trick</p>\n"}],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74034244,"answer_count":1,"score":0,"last_activity_date":1665523238,"creation_date":1665521076,"question_id":74033920,"body_markdown":"I am trying to get the latest word in a string that is splitted with &#39;/&#39; but for some reason I get the error \r\n```\r\nError checking type of the expression &#39;funcall(tokenize, [variable-ref(effect/node-set), literal-expr(/)])&#39;.\r\n```\r\n\r\nI know that it is only supported in xsl version 2 and I think that I have done so as can be seen in my xsl file\r\n```\r\n&lt;xsl:stylesheet version=&quot;2.0&quot;\r\n xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\r\n exclude-result-prefixes=&quot;xlink&quot;\r\n &gt;\r\n\t&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; /&gt;\r\n\t&lt;xsl:template match=&quot;/&quot;&gt;\r\n\t\t&lt;Tracks&gt;\r\n\t\t\t&lt;xsl:apply-templates select=&quot;//Tracks&quot;/&gt;\r\n\t\t&lt;/Tracks&gt;\r\n\t&lt;/xsl:template&gt;\r\n\t&lt;xsl:template match=\r\n\t\t&quot;//MidiTrack&quot;&gt;\r\n\t\t&lt;MidiTrack&gt;\r\n\t\t&lt;xsl:attribute name=&quot;id&quot;&gt;\r\n\t\t\t&lt;xsl:value-of select=&quot;@Id&quot;/&gt;\r\n\t\t&lt;/xsl:attribute&gt;\t\t\r\n\t\t&lt;Effects&gt;\r\n\t\t\t&lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::RelativePath/@Value&quot;/&gt;\r\n\t\t\t\t&lt;xsl:if test=&quot;$effect&quot;&gt;\r\n\t\t\t\t\t&lt;Name&gt;\r\n\t\t\t\t\t\t&lt;xsl:value-of select=&quot;substring-after($effect, &#39;Devices/Audio Effects/&#39;)&quot;/&gt;\r\n\t\t\t\t\t&lt;/Name&gt;\r\n\t\t\t\t&lt;/xsl:if&gt;\r\n\t\t\t&lt;/xsl:for-each&gt;\r\n\t\t&lt;/Effects&gt;\r\n\t\t&lt;/MidiTrack&gt;\r\n\t&lt;/xsl:template&gt;\r\n\t&lt;xsl:template match=\r\n\t\t&quot;//ReturnTrack&quot;&gt;\r\n\t\t&lt;ReturnTrack&gt;\t\t\r\n\t\t\t&lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\r\n\t\t\t\t&lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::Path/@Value&quot;/&gt;\r\n\t\t\t\t&lt;xsl:if test=&quot;$effect&quot;&gt;\r\n\t\t\t\t\t&lt;Name&gt;\r\n\t\t\t\t\t\t&lt;xsl:value-of select=&quot;tokenize($effect, &#39;/&#39;)&quot;/&gt;\r\n\t\t\t\t\t&lt;/Name&gt;\r\n\t\t\t\t&lt;/xsl:if&gt;\r\n\t\t\t&lt;/xsl:for-each&gt;\r\n\t\t&lt;/Effects&gt;\r\n\t\t&lt;/ReturnTrack&gt;\r\n\t&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nif I replace the tokenize with substring-after it does not complain about the arguments. A small xml example for the tokenize part\r\n```\r\n&lt;LastPresetRef&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;Value&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;FilePresetRef Id=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;FileRef&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;RelativePathType Value=&quot;0&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;RelativePath Value=&quot;&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;Path Value=&quot;/Reverb Default.adv&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;Type Value=&quot;1&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;LivePackName Value=&quot;&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;LivePackId Value=&quot;&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;OriginalFileSize Value=&quot;0&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;OriginalCrc Value=&quot;0&quot; /&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;/FileRef&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/FilePresetRef&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/Value&gt;\r\n\t\t\t\t\t\t\t\t&lt;/LastPresetRef&gt;\r\n```\r\n\r\nIf I run my code WITH the tokenize function in this website http://xslttest.appspot.com/ it works perfectly. Not sure what I am missing here.\r\n\r\nNot sure if it is worth noting but I run this template with the help of javax.xml.transform.TransformerFactory\r\n\r\nUPDATE:\r\n\r\nOk so I replaced the Transformer to Saxon as mentioned in the comments and it catches the string now but it replaces &#39;/&#39; with &#39; &#39; for some reason. For example if I have aa/bb/cc it returns aa bb cc","title":"XSLT Error checking type of the expression &#39;funcall(tokenize)&#39;","body":"<p>I am trying to get the latest word in a string that is splitted with '/' but for some reason I get the error</p>\n<pre><code>Error checking type of the expression 'funcall(tokenize, [variable-ref(effect/node-set), literal-expr(/)])'.\n</code></pre>\n<p>I know that it is only supported in xsl version 2 and I think that I have done so as can be seen in my xsl file</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;2.0&quot;\n xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n exclude-result-prefixes=&quot;xlink&quot;\n &gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; /&gt;\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;Tracks&gt;\n            &lt;xsl:apply-templates select=&quot;//Tracks&quot;/&gt;\n        &lt;/Tracks&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\n        &quot;//MidiTrack&quot;&gt;\n        &lt;MidiTrack&gt;\n        &lt;xsl:attribute name=&quot;id&quot;&gt;\n            &lt;xsl:value-of select=&quot;@Id&quot;/&gt;\n        &lt;/xsl:attribute&gt;        \n        &lt;Effects&gt;\n            &lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\n                &lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::RelativePath/@Value&quot;/&gt;\n                &lt;xsl:if test=&quot;$effect&quot;&gt;\n                    &lt;Name&gt;\n                        &lt;xsl:value-of select=&quot;substring-after($effect, 'Devices/Audio Effects/')&quot;/&gt;\n                    &lt;/Name&gt;\n                &lt;/xsl:if&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/Effects&gt;\n        &lt;/MidiTrack&gt;\n    &lt;/xsl:template&gt;\n    &lt;xsl:template match=\n        &quot;//ReturnTrack&quot;&gt;\n        &lt;ReturnTrack&gt;       \n            &lt;xsl:for-each select=&quot;descendant::DeviceChain/Devices/*&quot;&gt;\n                &lt;xsl:variable name=&quot;effect&quot; select=&quot;descendant::LastPresetRef/descendant::Path/@Value&quot;/&gt;\n                &lt;xsl:if test=&quot;$effect&quot;&gt;\n                    &lt;Name&gt;\n                        &lt;xsl:value-of select=&quot;tokenize($effect, '/')&quot;/&gt;\n                    &lt;/Name&gt;\n                &lt;/xsl:if&gt;\n            &lt;/xsl:for-each&gt;\n        &lt;/Effects&gt;\n        &lt;/ReturnTrack&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>if I replace the tokenize with substring-after it does not complain about the arguments. A small xml example for the tokenize part</p>\n<pre><code>&lt;LastPresetRef&gt;\n                                    &lt;Value&gt;\n                                        &lt;FilePresetRef Id=&quot;1&quot;&gt;\n                                            &lt;FileRef&gt;\n                                                &lt;RelativePathType Value=&quot;0&quot; /&gt;\n                                                &lt;RelativePath Value=&quot;&quot; /&gt;\n                                                &lt;Path Value=&quot;/Reverb Default.adv&quot; /&gt;\n                                                &lt;Type Value=&quot;1&quot; /&gt;\n                                                &lt;LivePackName Value=&quot;&quot; /&gt;\n                                                &lt;LivePackId Value=&quot;&quot; /&gt;\n                                                &lt;OriginalFileSize Value=&quot;0&quot; /&gt;\n                                                &lt;OriginalCrc Value=&quot;0&quot; /&gt;\n                                            &lt;/FileRef&gt;\n                                        &lt;/FilePresetRef&gt;\n                                    &lt;/Value&gt;\n                                &lt;/LastPresetRef&gt;\n</code></pre>\n<p>If I run my code WITH the tokenize function in this website <a href=\"http://xslttest.appspot.com/\" rel=\"nofollow noreferrer\">http://xslttest.appspot.com/</a> it works perfectly. Not sure what I am missing here.</p>\n<p>Not sure if it is worth noting but I run this template with the help of javax.xml.transform.TransformerFactory</p>\n<p>UPDATE:</p>\n<p>Ok so I replaced the Transformer to Saxon as mentioned in the comments and it catches the string now but it replaces '/' with ' ' for some reason. For example if I have aa/bb/cc it returns aa bb cc</p>\n"},{"tags":["java","image","javafx","colors"],"comments":[{"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"score":1,"creation_date":1665180213,"post_id":73992865,"comment_id":130647458,"body_markdown":"I suspect you are using a high-res display or your display scaling is set to something higher than normal 1x.\n\nIf you are on Windows 10 try `Override High DPI scaling behavior` to `Application` or `System`.","body":"I suspect you are using a high-res display or your display scaling is set to something higher than normal 1x.  If you are on Windows 10 try <code>Override High DPI scaling behavior</code> to <code>Application</code> or <code>System</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1665184270,"post_id":73992865,"comment_id":130648045,"body_markdown":"Please provide a [mcve] (including the image used) so this behavior can easily be replicated by copy and paste with no change or addition (no fxml is required for that).","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including the image used) so this behavior can easily be replicated by copy and paste with no change or addition (no fxml is required for that)."}],"answers":[{"comments":[{"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"score":0,"creation_date":1665215416,"post_id":73993352,"comment_id":130651488,"body_markdown":"Thank you for your response. In the FXML I already set the pickOnBounds property to true. For the picture, the problem is not only occurring for that specific image but all the ones I have tried.","body":"Thank you for your response. In the FXML I already set the pickOnBounds property to true. For the picture, the problem is not only occurring for that specific image but all the ones I have tried."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1665223667,"post_id":73993352,"comment_id":130652825,"body_markdown":"this example worksforme too, on win10 with 150% scaling - does is work for you @Starnec ? If so, there&#39;s something wrong in your code. If not, you have to dig further.","body":"this example worksforme too, on win10 with 150% scaling - does is work for you @Starnec ? If so, there&#39;s something wrong in your code. If not, you have to dig further."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1694882594,"post_id":73993352,"comment_id":135951151,"body_markdown":"Perfect example.","body":"Perfect example."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665185425,"creation_date":1665185026,"answer_id":73993352,"question_id":73992865,"body_markdown":"I can&#39;t reproduce this (OS X 12.5.1, JDK/JavaFX 18.0.2), here is an example, that you can try:\r\n\r\n[![example][1]][1]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class ColorPickerApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Circle swatch = new Circle(30);\r\n    \r\n            ImageView imageView =\r\n                    new ImageView(\r\n                            new Image(\r\n                                    Objects.requireNonNull(\r\n                                            ColorPickerApp.class.getResource(\r\n                                                    &quot;Dragon-icon.png&quot;\r\n                                            )\r\n                                    ).toExternalForm()\r\n                            )\r\n                    );\r\n            imageView.setPickOnBounds(true);\r\n    \r\n            imageView.setOnMouseMoved(event -&gt; {\r\n                int xPosition = (int) event.getX();\r\n                int yPosition = (int) event.getY();\r\n    \r\n                Color pixelColor = imageView.getImage().getPixelReader().getColor(xPosition, yPosition);\r\n                swatch.setFill(pixelColor);\r\n                System.out.println(pixelColor);\r\n            });\r\n    \r\n            VBox layout = new VBox(10, swatch, imageView);\r\n            layout.setAlignment(Pos.CENTER);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch();\r\n        }\r\n    }\r\n\r\nThe dragon image, Dragon-icon.png, in the sample:\r\n\r\n[![Dragon-icon.png][2]][2]\r\n\r\nI set [pickOnBounds][3] to true so that the transparent parts of the image will register as color changes when moused over.\r\n\r\nIf you move the mouse really rapidly, results may not be exact because the polling of the mouse info isn&#39;t immediate, but if you move the mouse slowly, it should work fine, at least from my testing.\r\n\r\n  [1]: https://i.stack.imgur.com/DfIUM.png\r\n  [2]: https://i.stack.imgur.com/1aCL3.png\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#pickOnBoundsProperty","title":"Can not get the right color when hovering over image node in javafx","body":"<p>I can't reproduce this (OS X 12.5.1, JDK/JavaFX 18.0.2), here is an example, that you can try:</p>\n<p><a href=\"https://i.stack.imgur.com/DfIUM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DfIUM.png\" alt=\"example\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.image.*;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class ColorPickerApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        Circle swatch = new Circle(30);\n\n        ImageView imageView =\n                new ImageView(\n                        new Image(\n                                Objects.requireNonNull(\n                                        ColorPickerApp.class.getResource(\n                                                &quot;Dragon-icon.png&quot;\n                                        )\n                                ).toExternalForm()\n                        )\n                );\n        imageView.setPickOnBounds(true);\n\n        imageView.setOnMouseMoved(event -&gt; {\n            int xPosition = (int) event.getX();\n            int yPosition = (int) event.getY();\n\n            Color pixelColor = imageView.getImage().getPixelReader().getColor(xPosition, yPosition);\n            swatch.setFill(pixelColor);\n            System.out.println(pixelColor);\n        });\n\n        VBox layout = new VBox(10, swatch, imageView);\n        layout.setAlignment(Pos.CENTER);\n        layout.setPadding(new Insets(10));\n\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch();\n    }\n}\n</code></pre>\n<p>The dragon image, Dragon-icon.png, in the sample:</p>\n<p><a href=\"https://i.stack.imgur.com/1aCL3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1aCL3.png\" alt=\"Dragon-icon.png\" /></a></p>\n<p>I set <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#pickOnBoundsProperty\" rel=\"noreferrer\">pickOnBounds</a> to true so that the transparent parts of the image will register as color changes when moused over.</p>\n<p>If you move the mouse really rapidly, results may not be exact because the polling of the mouse info isn't immediate, but if you move the mouse slowly, it should work fine, at least from my testing.</p>\n"},{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1665244719,"creation_date":1665229535,"answer_id":73996716,"question_id":73992865,"body_markdown":"you&#39;re explicitly setting the fitwidth / fitheight through fxml so the display resolution may differ from the original image resolution if the image dimensions are not equal to the manually set fit width and height.\r\n\r\nwhat you need to do is convert the mouse position x and y accordingly from the display range of [0...displayWidth] and [0...displayHeight] to the original dimensions [0...originalWidth] [0...originalHeight].\r\n\r\nnow the tricky part is that when you use preserveRatio, the display dimensions are calculated and are not always equal to the fit width and height, [this answer][1] describes a way to get the display width and height of an imageView that uses preserve ratio. \r\n\r\nnow that you have the display dimensions and the original dimensions, you can calculate a new pair (x, y) :\r\n\r\n    int adjustedX = mouseX * originalWidth / displayWidth;\r\n    int adjustedY = mouseY * originalHeight / displayHeight;\r\n\r\nand you can use those to get the color from the input image. \r\n\r\n  [1]: https://stackoverflow.com/a/48049156/8556269","title":"Can not get the right color when hovering over image node in javafx","body":"<p>you're explicitly setting the fitwidth / fitheight through fxml so the display resolution may differ from the original image resolution if the image dimensions are not equal to the manually set fit width and height.</p>\n<p>what you need to do is convert the mouse position x and y accordingly from the display range of [0...displayWidth] and [0...displayHeight] to the original dimensions [0...originalWidth] [0...originalHeight].</p>\n<p>now the tricky part is that when you use preserveRatio, the display dimensions are calculated and are not always equal to the fit width and height, <a href=\"https://stackoverflow.com/a/48049156/8556269\">this answer</a> describes a way to get the display width and height of an imageView that uses preserve ratio.</p>\n<p>now that you have the display dimensions and the original dimensions, you can calculate a new pair (x, y) :</p>\n<pre><code>int adjustedX = mouseX * originalWidth / displayWidth;\nint adjustedY = mouseY * originalHeight / displayHeight;\n</code></pre>\n<p>and you can use those to get the color from the input image.</p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73996716,"answer_count":2,"score":3,"last_activity_date":1665522714,"creation_date":1665179222,"question_id":73992865,"body_markdown":"When I **hover over** the **Image** I am getting the wrong **color** value in some pixels of the image, which seems to be a kind of pixel shift. \r\n\r\nI am using a **MouseMoved** event on the **ImageView** to get the x and y **coordinates** of the cursor on the image, then I create a **Color** instance using the color from those coordinates. Finally, I use that color to fill a Circle node.\r\n\r\nI would like to know why it is returning the wrong color value for some pixels.\r\n\r\n**PS**: I tried that on png and jpeg images but the same thing is happening.\r\n\r\nThis is the **initialize** method of the controller where I am setting the **event listener** to the **ImageView**:\r\n\r\n     @FXML\r\n        public ImageView inputImage;\r\n    \r\n        public void initialize() {\r\n    \r\n            inputImage.setOnMouseMoved(event -&gt; {\r\n                int xPosition = (int) event.getX();\r\n                int yPosition = (int) event.getY();\r\n    \r\n                Color pixelColor = inputImage.getImage().getPixelReader().getColor(xPosition, yPosition);\r\n    \r\n                circleColor.setFill(pixelColor);\r\n            });\r\n        }\r\n\r\n A part of the **FXML** file : \r\n\r\n                &lt;VBox HBox.hgrow=&quot;ALWAYS&quot; alignment=&quot;CENTER&quot;&gt;\r\n                    &lt;HBox alignment=&quot;CENTER&quot;&gt;\r\n                        &lt;VBox.margin&gt;\r\n                            &lt;Insets bottom=&quot;50.0&quot;/&gt;\r\n                        &lt;/VBox.margin&gt;\r\n    \r\n                        &lt;ImageView fx:id=&quot;inputImage&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; fitHeight=&quot;300&quot;\r\n                                   fitWidth=&quot;300&quot;&gt;\r\n                            &lt;Image url=&quot;@../Resources/Default-image.png&quot; backgroundLoading=&quot;true&quot;/&gt;\r\n                        &lt;/ImageView&gt;\r\n                    &lt;/HBox&gt;\r\n    \r\n                    &lt;HBox alignment=&quot;CENTER&quot;&gt;\r\n                        &lt;Button onAction=&quot;#handleFileChooserClick&quot; text=&quot;load image&quot;/&gt;\r\n                    &lt;/HBox&gt;\r\n                &lt;/VBox&gt;\r\n    \r\n                &lt;VBox prefWidth=&quot;200&quot; alignment=&quot;TOP_CENTER&quot;&gt;\r\n                    &lt;padding&gt;\r\n                        &lt;Insets top=&quot;60&quot; bottom=&quot;60&quot;/&gt;\r\n                    &lt;/padding&gt;\r\n    \r\n                    &lt;VBox alignment=&quot;TOP_CENTER&quot;&gt;\r\n                        &lt;Circle radius=&quot;70&quot; fill=&quot;orange&quot; stroke=&quot;black&quot; fx:id=&quot;circleColor&quot;/&gt;\r\n                        &lt;VBox.margin&gt;\r\n                            &lt;Insets bottom=&quot;50.0&quot;/&gt;\r\n                        &lt;/VBox.margin&gt;\r\n                    &lt;/VBox&gt;\r\n    \r\n                    &lt;Button textAlignment=&quot;CENTER&quot; text=&quot;Isolate Color&quot;/&gt;\r\n                &lt;/VBox&gt;\r\n\r\n This how it looks like : \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mpZ8t.gif","title":"Can not get the right color when hovering over image node in javafx","body":"<p>When I <strong>hover over</strong> the <strong>Image</strong> I am getting the wrong <strong>color</strong> value in some pixels of the image, which seems to be a kind of pixel shift.</p>\n<p>I am using a <strong>MouseMoved</strong> event on the <strong>ImageView</strong> to get the x and y <strong>coordinates</strong> of the cursor on the image, then I create a <strong>Color</strong> instance using the color from those coordinates. Finally, I use that color to fill a Circle node.</p>\n<p>I would like to know why it is returning the wrong color value for some pixels.</p>\n<p><strong>PS</strong>: I tried that on png and jpeg images but the same thing is happening.</p>\n<p>This is the <strong>initialize</strong> method of the controller where I am setting the <strong>event listener</strong> to the <strong>ImageView</strong>:</p>\n<pre><code> @FXML\n    public ImageView inputImage;\n\n    public void initialize() {\n\n        inputImage.setOnMouseMoved(event -&gt; {\n            int xPosition = (int) event.getX();\n            int yPosition = (int) event.getY();\n\n            Color pixelColor = inputImage.getImage().getPixelReader().getColor(xPosition, yPosition);\n\n            circleColor.setFill(pixelColor);\n        });\n    }\n</code></pre>\n<p>A part of the <strong>FXML</strong> file :</p>\n<pre><code>            &lt;VBox HBox.hgrow=&quot;ALWAYS&quot; alignment=&quot;CENTER&quot;&gt;\n                &lt;HBox alignment=&quot;CENTER&quot;&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets bottom=&quot;50.0&quot;/&gt;\n                    &lt;/VBox.margin&gt;\n\n                    &lt;ImageView fx:id=&quot;inputImage&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot; fitHeight=&quot;300&quot;\n                               fitWidth=&quot;300&quot;&gt;\n                        &lt;Image url=&quot;@../Resources/Default-image.png&quot; backgroundLoading=&quot;true&quot;/&gt;\n                    &lt;/ImageView&gt;\n                &lt;/HBox&gt;\n\n                &lt;HBox alignment=&quot;CENTER&quot;&gt;\n                    &lt;Button onAction=&quot;#handleFileChooserClick&quot; text=&quot;load image&quot;/&gt;\n                &lt;/HBox&gt;\n            &lt;/VBox&gt;\n\n            &lt;VBox prefWidth=&quot;200&quot; alignment=&quot;TOP_CENTER&quot;&gt;\n                &lt;padding&gt;\n                    &lt;Insets top=&quot;60&quot; bottom=&quot;60&quot;/&gt;\n                &lt;/padding&gt;\n\n                &lt;VBox alignment=&quot;TOP_CENTER&quot;&gt;\n                    &lt;Circle radius=&quot;70&quot; fill=&quot;orange&quot; stroke=&quot;black&quot; fx:id=&quot;circleColor&quot;/&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets bottom=&quot;50.0&quot;/&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/VBox&gt;\n\n                &lt;Button textAlignment=&quot;CENTER&quot; text=&quot;Isolate Color&quot;/&gt;\n            &lt;/VBox&gt;\n</code></pre>\n<p>This how it looks like :\n<a href=\"https://i.stack.imgur.com/mpZ8t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mpZ8t.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","flutter","dart","apple-musickit","flutter-platform-channel"],"comments":[{"owner":{"account_id":13499790,"reputation":497,"user_id":9739475,"display_name":"Yash Garg"},"score":0,"creation_date":1665521108,"post_id":74020138,"comment_id":130719372,"body_markdown":"What is the compileSdkVersion (should be inside :app build.gradle) of the library and your application?","body":"What is the compileSdkVersion (should be inside :app build.gradle) of the library and your application?"},{"owner":{"account_id":23058321,"reputation":50,"user_id":17174060,"display_name":"Harvey Jones"},"score":0,"creation_date":1665528115,"post_id":74020138,"comment_id":130720840,"body_markdown":"compileSdkVersion: 30","body":"compileSdkVersion: 30"},{"owner":{"account_id":13499790,"reputation":497,"user_id":9739475,"display_name":"Yash Garg"},"score":0,"creation_date":1665562481,"post_id":74020138,"comment_id":130727199,"body_markdown":"I think the library you are trying to use has a compileSdkVersion of 27 - https://github.com/zivost/flutter_musickit/blob/5eceddcef3658b816a0355d6e6b98f362cc2b1b4/android/build.gradle#L25. I will suggest forking it and updating it to 28 and then trying again once.","body":"I think the library you are trying to use has a compileSdkVersion of 27 - <a href=\"https://github.com/zivost/flutter_musickit/blob/5eceddcef3658b816a0355d6e6b98f362cc2b1b4/android/build.gradle#L25\" rel=\"nofollow noreferrer\">github.com/zivost/flutter_musickit/blob/&hellip;</a>. I will suggest forking it and updating it to 28 and then trying again once."}],"owner":{"account_id":23058321,"reputation":50,"user_id":17174060,"display_name":"Harvey Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665521095,"creation_date":1665431989,"question_id":74020138,"body_markdown":"I forked this Flutter [project][1] and it is supposed to be executing a native Java code which is `MusicKit Plugin`. But when I run the project I get this error:\r\n\r\n    Note: C:\\Users\\angel\\Desktop\\flutter_music_kit\\flutter_musickit\\android\\src\\main\\java\\com\\zivost\\musickit\\MusickitPlugin.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:processDebugResources&#39;.\r\n    &gt; Android resource linking failed\r\n      C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/fontVariationSettings not found.\r\n    \r\n      C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/ttcIndex not found.\r\n    \r\n      error: failed linking references.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BU�LD FAILED in 39s\r\n    Exception: Gradle task assembleDebug failed with exit code 1\r\n\r\nThe Java code which is mentioned in the error is:\r\n\r\n    package com.zivost.musickit;\r\n    \r\n    import io.flutter.plugin.common.MethodCall;\r\n    import io.flutter.plugin.common.MethodChannel;\r\n    import io.flutter.plugin.common.MethodChannel.MethodCallHandler;\r\n    import io.flutter.plugin.common.MethodChannel.Result;\r\n    import io.flutter.plugin.common.PluginRegistry.Registrar;\r\n    \r\n    /** MusickitPlugin */\r\n    public class MusickitPlugin implements MethodCallHandler {\r\n      /** Plugin registration. */\r\n      public static void registerWith(Registrar registrar) {\r\n        final MethodChannel channel = new MethodChannel(registrar.messenger(), &quot;musickit&quot;);\r\n        channel.setMethodCallHandler(new MusickitPlugin());\r\n      }\r\n    \r\n      @Override\r\n      public void onMethodCall(MethodCall call, Result result) {\r\n          result.notImplemented();\r\n      }\r\n    }\r\n\r\nSomething must be deprecated but I don&#39;t write Java so I couldn&#39;t find. Anyone knows?\r\n\r\n\r\n  [1]: https://github.com/zivost/flutter_musickit\r\n","title":"The Java code that I run in the Flutter App uses or overrides a deprecated API","body":"<p>I forked this Flutter <a href=\"https://github.com/zivost/flutter_musickit\" rel=\"nofollow noreferrer\">project</a> and it is supposed to be executing a native Java code which is <code>MusicKit Plugin</code>. But when I run the project I get this error:</p>\n<pre><code>Note: C:\\Users\\angel\\Desktop\\flutter_music_kit\\flutter_musickit\\android\\src\\main\\java\\com\\zivost\\musickit\\MusickitPlugin.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:processDebugResources'.\n&gt; Android resource linking failed\n  C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/fontVariationSettings not found.\n\n  C:\\Users\\angel\\.gradle\\caches\\transforms-1\\files-1.1\\core-1.6.0.aar\\11c6125161db973e0f4388722c28df2b\\res\\values\\values.xml:192:5-228:25: AAPT: error: resource android:attr/ttcIndex not found.\n\n  error: failed linking references.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBU�LD FAILED in 39s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>The Java code which is mentioned in the error is:</p>\n<pre><code>package com.zivost.musickit;\n\nimport io.flutter.plugin.common.MethodCall;\nimport io.flutter.plugin.common.MethodChannel;\nimport io.flutter.plugin.common.MethodChannel.MethodCallHandler;\nimport io.flutter.plugin.common.MethodChannel.Result;\nimport io.flutter.plugin.common.PluginRegistry.Registrar;\n\n/** MusickitPlugin */\npublic class MusickitPlugin implements MethodCallHandler {\n  /** Plugin registration. */\n  public static void registerWith(Registrar registrar) {\n    final MethodChannel channel = new MethodChannel(registrar.messenger(), &quot;musickit&quot;);\n    channel.setMethodCallHandler(new MusickitPlugin());\n  }\n\n  @Override\n  public void onMethodCall(MethodCall call, Result result) {\n      result.notImplemented();\n  }\n}\n</code></pre>\n<p>Something must be deprecated but I don't write Java so I couldn't find. Anyone knows?</p>\n"},{"tags":["java","xml","dom","types"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1631776557,"post_id":69203631,"comment_id":122314346,"body_markdown":"If there is no XSD schema defined for these fields, there is no way JAXB can guess what type they really are (String is the standard guess since everything can be a string). Either you define a schema (and so JAXB will be able to parse them accordingly), or you have to get them as string and parse them on your own following some logic.","body":"If there is no XSD schema defined for these fields, there is no way JAXB can guess what type they really are (String is the standard guess since everything can be a string). Either you define a schema (and so JAXB will be able to parse them accordingly), or you have to get them as string and parse them on your own following some logic."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1631776741,"post_id":69203631,"comment_id":122314407,"body_markdown":"@MatteoNNZ Thanks for the response. Even I was planning to write my own custom class to find the data type for these elements. In XSD they would be part of `any` type as they are completely user-defined so the confusion has arisen. If there is any other approach please let me know otherwise I will write my own custom class for this case.","body":"@MatteoNNZ Thanks for the response. Even I was planning to write my own custom class to find the data type for these elements. In XSD they would be part of <code>any</code> type as they are completely user-defined so the confusion has arisen. If there is any other approach please let me know otherwise I will write my own custom class for this case."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1631777288,"post_id":69203631,"comment_id":122314592,"body_markdown":"I think you can define your own XmlAdapter and annotate your custom XML field with it. For marshalling and unmarshalling you will be called by JAXB on this class, so you should be able somehow to control the flow. However, you&#39;ll still have to do your type check and parsing on your own.","body":"I think you can define your own XmlAdapter and annotate your custom XML field with it. For marshalling and unmarshalling you will be called by JAXB on this class, so you should be able somehow to control the flow. However, you&#39;ll still have to do your type check and parsing on your own."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1631780837,"post_id":69203631,"comment_id":122316128,"body_markdown":"There are (potentially) schema-aware object models, like XDM for schema-aware XPath 2, XSLT 2 or XQuery 1 and later. So in conjunction with a schema-aware XPath or XSLT/XQuery processor like Saxon EE you can build a tree and navigate and select typed node values.","body":"There are (potentially) schema-aware object models, like XDM for schema-aware XPath 2, XSLT 2 or XQuery 1 and later. So in conjunction with a schema-aware XPath or XSLT/XQuery processor like Saxon EE you can build a tree and navigate and select typed node values."}],"answers":[{"tags":[],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632452817,"creation_date":1632452817,"answer_id":69309070,"question_id":69203631,"body_markdown":"I created the class to determine the type:\r\n\r\n\r\n```\r\npublic class ExtensionsDatatypeFinder {\r\n\r\n    private ExtensionsDatatypeFinder() {}\r\n\r\n    //Method to check the datatype for user extension, ILMD, Error extensions\r\n    public static Object dataTypeFinder(String textContent) {\r\n\r\n        if (textContent.equalsIgnoreCase(&quot;true&quot;) || textContent.equalsIgnoreCase(&quot;false&quot;)) {\r\n            //Check if the Element Text content is of Boolean type\r\n            return Boolean.parseBoolean(textContent);\r\n        } else if (NumberUtils.isParsable(textContent)) {\r\n            //Check if the Element Text content is Number type if so determine the Int or Float\r\n            return textContent.contains(&quot;.&quot;) ? Float.parseFloat(textContent) : Integer.parseInt(textContent);\r\n        } else {\r\n            return textContent;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen called it bypassing the required data:\r\n```\r\n//Check for the datatype of the Element\r\n                final Object simpleFieldValue = ExtensionsDatatypeFinder.dataTypeFinder((String) extension.getValue());\r\n\r\n                //Based on the type of Element value write the value into the JSON accordingly\r\n                if (simpleFieldValue instanceof Boolean) {\r\n                    gen.writeBooleanField(extension.getKey(), (Boolean) simpleFieldValue);\r\n                } else if (simpleFieldValue instanceof Integer) {\r\n                    gen.writeNumberField(extension.getKey(), (Integer) simpleFieldValue);\r\n                } else if (simpleFieldValue instanceof Float) {\r\n                    gen.writeNumberField(extension.getKey(), (Float) simpleFieldValue);\r\n                } else {\r\n                    //If instance is String directly add it to the JSON\r\n                    gen.writeStringField(extension.getKey(), (String) extension.getValue());\r\n                }\r\n\r\n```","title":"How do I find the actual data type of the Element values of a Java DOM element? As of now everything considered as String","body":"<p>I created the class to determine the type:</p>\n<pre><code>public class ExtensionsDatatypeFinder {\n\n    private ExtensionsDatatypeFinder() {}\n\n    //Method to check the datatype for user extension, ILMD, Error extensions\n    public static Object dataTypeFinder(String textContent) {\n\n        if (textContent.equalsIgnoreCase(&quot;true&quot;) || textContent.equalsIgnoreCase(&quot;false&quot;)) {\n            //Check if the Element Text content is of Boolean type\n            return Boolean.parseBoolean(textContent);\n        } else if (NumberUtils.isParsable(textContent)) {\n            //Check if the Element Text content is Number type if so determine the Int or Float\n            return textContent.contains(&quot;.&quot;) ? Float.parseFloat(textContent) : Integer.parseInt(textContent);\n        } else {\n            return textContent;\n        }\n    }\n}\n\n</code></pre>\n<p>Then called it bypassing the required data:</p>\n<pre><code>//Check for the datatype of the Element\n                final Object simpleFieldValue = ExtensionsDatatypeFinder.dataTypeFinder((String) extension.getValue());\n\n                //Based on the type of Element value write the value into the JSON accordingly\n                if (simpleFieldValue instanceof Boolean) {\n                    gen.writeBooleanField(extension.getKey(), (Boolean) simpleFieldValue);\n                } else if (simpleFieldValue instanceof Integer) {\n                    gen.writeNumberField(extension.getKey(), (Integer) simpleFieldValue);\n                } else if (simpleFieldValue instanceof Float) {\n                    gen.writeNumberField(extension.getKey(), (Float) simpleFieldValue);\n                } else {\n                    //If instance is String directly add it to the JSON\n                    gen.writeStringField(extension.getKey(), (String) extension.getValue());\n                }\n\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69309070,"answer_count":1,"score":0,"last_activity_date":1665520899,"creation_date":1631775171,"question_id":69203631,"body_markdown":"I have a custom user-defined section within my standard XML. Something like this:\r\n```\r\n&lt;rail:JourneyDate&gt;2014-12-12&lt;/rail:JourneyDate&gt;\r\n&lt;rail:Name&gt;Rajadhani&lt;/rail:Name&gt;\r\n&lt;rail:AxelCount&gt;12&lt;/rail:AxelCount&gt;\r\n&lt;rail:VehicleCount&gt;true&lt;/rail:VehicleCount&gt;\r\n&lt;rail:PassangerCount&gt;20.5&lt;/rail:PassangerCount&gt;\r\n```\r\n\r\nThis part of the XML is completely user-defined and can be anything. I am reading it using JAXB and everything is working fine. \r\n\r\nThe problem is that all the values in the `Dom Element` are considered as `String` but as we can see in the above XML the values can be different data types such as `Date`, `Integer`, `Float`, `Boolean`, `String` etc.\r\n\r\nHowever when I read the value of each element using `element.getTextContent()` then this function always returns `String`. Is there a way to find the actual data type of each `Element` rather than the `String` every time?\r\n","title":"How do I find the actual data type of the Element values of a Java DOM element? As of now everything considered as String","body":"<p>I have a custom user-defined section within my standard XML. Something like this:</p>\n<pre><code>&lt;rail:JourneyDate&gt;2014-12-12&lt;/rail:JourneyDate&gt;\n&lt;rail:Name&gt;Rajadhani&lt;/rail:Name&gt;\n&lt;rail:AxelCount&gt;12&lt;/rail:AxelCount&gt;\n&lt;rail:VehicleCount&gt;true&lt;/rail:VehicleCount&gt;\n&lt;rail:PassangerCount&gt;20.5&lt;/rail:PassangerCount&gt;\n</code></pre>\n<p>This part of the XML is completely user-defined and can be anything. I am reading it using JAXB and everything is working fine.</p>\n<p>The problem is that all the values in the <code>Dom Element</code> are considered as <code>String</code> but as we can see in the above XML the values can be different data types such as <code>Date</code>, <code>Integer</code>, <code>Float</code>, <code>Boolean</code>, <code>String</code> etc.</p>\n<p>However when I read the value of each element using <code>element.getTextContent()</code> then this function always returns <code>String</code>. Is there a way to find the actual data type of each <code>Element</code> rather than the <code>String</code> every time?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516136,"post_id":74032700,"comment_id":130717843,"body_markdown":"An error should be thrown by the internal deserializer, yes, but this depends on how you configured your consumer factory. Please share your configs","body":"An error should be thrown by the internal deserializer, yes, but this depends on how you configured your consumer factory. Please share your configs"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665520318,"post_id":74032700,"comment_id":130719149,"body_markdown":"As long as the deserializer can handle them, you can configure a filter to discard the unwanted records. See my answer.","body":"As long as the deserializer can handle them, you can configure a filter to discard the unwanted records. See my answer."}],"answers":[{"comments":[{"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"score":0,"creation_date":1665520830,"post_id":74033797,"comment_id":130719296,"body_markdown":"Nice thank you. Could data overhead be a concern if we are sending a lot of datatypes then, end up getting filtered out ?","body":"Nice thank you. Could data overhead be a concern if we are sending a lot of datatypes then, end up getting filtered out ?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665521325,"post_id":74033797,"comment_id":130719428,"body_markdown":"Yes, clearly it would be best to use a different topic for each type, unless the volume is low.","body":"Yes, clearly it would be best to use a different topic for each type, unless the volume is low."},{"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"score":0,"creation_date":1665521997,"post_id":74033797,"comment_id":130719598,"body_markdown":"Originally, I was trying to go with an individual kafka partition approach on the same topic &amp; we could assign a listener to only listen to a specific partitions that way it could be more scalable as data types grow. However, I quickly found out that that disables group rebalance ? &amp; that I might need to manage the offset myself which sounded like a big hassle","body":"Originally, I was trying to go with an individual kafka partition approach on the same topic &amp; we could assign a listener to only listen to a specific partitions that way it could be more scalable as data types grow. However, I quickly found out that that disables group rebalance ? &amp; that I might need to manage the offset myself which sounded like a big hassle"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665522683,"post_id":74033797,"comment_id":130719798,"body_markdown":"You can still use the group for offset commit tracking without using group management (for partition balancing) (`group.id` servers 2 purposes) See it&#39;s docs `This property is required if the consumer uses either the group management functionality by using &lt;code&gt;subscribe(topic)&lt;/code&gt; or the Kafka-based offset management strategy.&quot;`. Just manually assign partitions that contain Object3 to `listenerB`. It&#39;s ok if you have complete control over the producers and can be sure they will not cross post records to the wrong partition(s). It&#39;s a bit more tricky if you need to add partitions later.","body":"You can still use the group for offset commit tracking without using group management (for partition balancing) (<code>group.id</code> servers 2 purposes) See it&#39;s docs <code>This property is required if the consumer uses either the group management functionality by using &lt;code&gt;subscribe(topic)&lt;&#47;code&gt; or the Kafka-based offset management strategy.&quot;</code>. Just manually assign partitions that contain Object3 to <code>listenerB</code>. It&#39;s ok if you have complete control over the producers and can be sure they will not cross post records to the wrong partition(s). It&#39;s a bit more tricky if you need to add partitions later."},{"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"score":0,"creation_date":1665523275,"post_id":74033797,"comment_id":130719934,"body_markdown":"I tried manually assigning partitions to a single listener but, my service continues to fail ever 9 mins (the default timelimit for the *connections_max_idle_ms* property). The exact error is basically these 3 lines repeating over &amp; over every 9mins:\n\n* Discovered group coordinator \n* Requesting disconnect from last known coordinator\n* Group coordinator is unavailable or invalid due to cause:\ncoordinator unavailable.isDisconnected: false. Rediscovery will be attempted.\n\nI was able to resolve by setting the kafka property `offsets.topic.replication.factor=1` but, I am hesitant to do that","body":"I tried manually assigning partitions to a single listener but, my service continues to fail ever 9 mins (the default timelimit for the <i>connections_max_idle_ms</i> property). The exact error is basically these 3 lines repeating over &amp; over every 9mins:  * Discovered group coordinator  * Requesting disconnect from last known coordinator * Group coordinator is unavailable or invalid due to cause: coordinator unavailable.isDisconnected: false. Rediscovery will be attempted.  I was able to resolve by setting the kafka property <code>offsets.topic.replication.factor=1</code> but, I am hesitant to do that"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1665524139,"post_id":74033797,"comment_id":130720124,"body_markdown":"Doesn&#39;t sound right; maybe ask a new question here or on one of the Kafka mailing lists. I don&#39;t recall seeing such problems with manual assignment.","body":"Doesn&#39;t sound right; maybe ask a new question here or on one of the Kafka mailing lists. I don&#39;t recall seeing such problems with manual assignment."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665520280,"creation_date":1665520280,"answer_id":74033797,"question_id":74032700,"body_markdown":"You can add a `RecordFilterStragegy` in the second listener container to discard unwanted types.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\r\n\r\n","title":"Using Multiple Kafka Listeners to handle specific data types on a shared topic","body":"<p>You can add a <code>RecordFilterStragegy</code> in the second listener container to discard unwanted types.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#filtering-messages</a></p>\n"}],"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74033797,"answer_count":1,"score":0,"last_activity_date":1665520280,"creation_date":1665513588,"question_id":74032700,"body_markdown":"I have two kafka listeners A &amp; B that are each in separate services listening to the same topic. Listener A only cares about data types 1, 2 &amp; 3 while Listener B only cares about data type 3. I was considering using individual `@KafkaHandler` methods to handle the different data types. However, my concern is about what will happen if listener B receives data types 1 or 2? Is an error thrown ? Does it safely ignore. \r\n\r\nAlso wanted to double confirm but, messages of the same type like data type 3 should be consumed by both listeners so long as the consumer group-id is different.\r\n\r\n```\r\n@KafkaListener\r\npublic class listenerA {\r\n    @KafkaHandler\r\n    public void dataType1(Object1 data) { ... }\r\n    @KafkaHandler\r\n    public void dataType2(Object2 data) { ... }\r\n    @KafkaHandler\r\n    public void dataType3(Object3 data) { ... }\r\n}\r\n```\r\n\r\n```\r\n@KafkaListener\r\npublic class listenerB {\r\n    @KafkaHandler\r\n    public void dataType3(Object3 data) { ... }\r\n}\r\n```","title":"Using Multiple Kafka Listeners to handle specific data types on a shared topic","body":"<p>I have two kafka listeners A &amp; B that are each in separate services listening to the same topic. Listener A only cares about data types 1, 2 &amp; 3 while Listener B only cares about data type 3. I was considering using individual <code>@KafkaHandler</code> methods to handle the different data types. However, my concern is about what will happen if listener B receives data types 1 or 2? Is an error thrown ? Does it safely ignore.</p>\n<p>Also wanted to double confirm but, messages of the same type like data type 3 should be consumed by both listeners so long as the consumer group-id is different.</p>\n<pre><code>@KafkaListener\npublic class listenerA {\n    @KafkaHandler\n    public void dataType1(Object1 data) { ... }\n    @KafkaHandler\n    public void dataType2(Object2 data) { ... }\n    @KafkaHandler\n    public void dataType3(Object3 data) { ... }\n}\n</code></pre>\n<pre><code>@KafkaListener\npublic class listenerB {\n    @KafkaHandler\n    public void dataType3(Object3 data) { ... }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665516490,"post_id":74032901,"comment_id":130717942,"body_markdown":"Consumers default to start at the very end of the topic (where there is nothing to consume), so are you actually producing anything while the app is trying to consume? Also, consumers never define partition counts, anyway (plus, you can only scale up to the number of partitions)","body":"Consumers default to start at the very end of the topic (where there is nothing to consume), so are you actually producing anything while the app is trying to consume? Also, consumers never define partition counts, anyway (plus, you can only scale up to the number of partitions)"},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665516905,"post_id":74032901,"comment_id":130718061,"body_markdown":"Yes, I have a kafka connect source producing the data and there is almost 24k messages now. About the partitions I&#39;m talking about the `mp.messaging.incoming.plac-fate.partitions` property.","body":"Yes, I have a kafka connect source producing the data and there is almost 24k messages now. About the partitions I&#39;m talking about the <code>mp.messaging.incoming.plac-fate.partitions</code> property."},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665517038,"post_id":74032901,"comment_id":130718101,"body_markdown":"@OneCricketeer is there a property that set the consumer to start from the oldest message?","body":"@OneCricketeer is there a property that set the consumer to start from the oldest message?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665517321,"post_id":74032901,"comment_id":130718177,"body_markdown":"`mp.messaging.incoming.plac-fate.auto.offset.reset=earliest`, but you also need to create a new `group.id` since you&#39;ve already started one consumer.","body":"<code>mp.messaging.incoming.plac-fate.auto.offset.reset=earliest</code>, but you also need to create a new <code>group.id</code> since you&#39;ve already started one consumer."},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665517670,"post_id":74032901,"comment_id":130718328,"body_markdown":"I&#39;m trying right now haha","body":"I&#39;m trying right now haha"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1665518204,"post_id":74032901,"comment_id":130718497,"body_markdown":"I&#39;d also suggest using [built in deserialization](https://quarkus.io/guides/kafka#jackson-serialization)","body":"I&#39;d also suggest using <a href=\"https://quarkus.io/guides/kafka#jackson-serialization\" rel=\"nofollow noreferrer\">built in deserialization</a>"},{"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"score":0,"creation_date":1665518435,"post_id":74032901,"comment_id":130718589,"body_markdown":"`mp.messaging.incoming.plac-fate.auto.offset.reset=earliest` works like a charm. Thx @OneCricketeer! Do you want to answer teh question?","body":"<code>mp.messaging.incoming.plac-fate.auto.offset.reset=earliest</code> works like a charm. Thx @OneCricketeer! Do you want to answer teh question?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665520149,"creation_date":1665520149,"answer_id":74033775,"question_id":74032901,"body_markdown":"Consumers default to start at the very end of the topic (where there is nothing to consume)\r\n\r\nIf you want to start at the beginning of the topic and read existing events, you&#39;ll need to add\r\n\r\n    mp.messaging.incoming.{channel-name}.auto.offset.reset=earliest","title":"Kafka consumer didn&#39;t consume","body":"<p>Consumers default to start at the very end of the topic (where there is nothing to consume)</p>\n<p>If you want to start at the beginning of the topic and read existing events, you'll need to add</p>\n<pre><code>mp.messaging.incoming.{channel-name}.auto.offset.reset=earliest\n</code></pre>\n"}],"owner":{"account_id":1773459,"reputation":341,"user_id":1617774,"accept_rate":100,"display_name":"Guto"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74033775,"answer_count":1,"score":1,"last_activity_date":1665520149,"creation_date":1665514812,"question_id":74032901,"body_markdown":"I&#39;m trying to create as app that will consume a Kafka topic with 10 partitions. I didn&#39;t define the number of partitions of the consumer at `application.properties` because the app will be deployed in OpenShift, and I want that the OpenShift do the load balance. The problem is that when I&#39;m start the application it didn&#39;t consume anything. The code is very simple, and I really don&#39;t know whats wrong:\r\n\r\nHere is the consumer, the log shows nothing:\r\n\r\n```java\r\n    @Incoming(&quot;plac-fate&quot;)\r\n    @Transactional\r\n    public void consume(NFeDistSVBAPayload payload) throws PlacException {\r\n        logger.info(&quot;Consumindo payload: &quot; + payload);\r\n        service.criaNFeDistSVBAEntity(payload);\r\n        logger.info(&quot;Payload com nrProtocolo &#39;&quot; + payload.getNrProtocolo() + &quot;&#39; consumido com sucesso.&quot;);\r\n    }\r\n```\r\n\r\nI also have as deserializer its log didn&#39;t show anything:\r\n\r\n```java\r\n@Override\r\n    public NFeDistSVBAPayload deserialize(String topic, byte[] data) {\r\n        logger.info(&quot;Deserializando mensagem do topico: &quot; + topic);\r\n        var strPayload = new String(data, StandardCharsets.UTF_8);\r\n        var module = new JaxbAnnotationModule();\r\n        var mapper = JsonMapper.builder()\r\n        .enable(JsonReadFeature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\r\n        .build();\r\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        mapper.registerModule(module);\r\n        try {\r\n            var payload =  mapper.readValue(strPayload, NFeDistSVBAPayload.class);\r\n            return payload;\r\n        } catch (JsonProcessingException e) {\r\n            logger.error(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nand here is the `&#224;pplication.properties`:\r\n\r\n```\r\nquarkus.kafka.devservices.enabled=false\r\nkafka.bootstrap.servers=${PLAC_KAFKA_URL}\r\nmp.messaging.incoming.plac-fate.connector=smallrye-kafka\r\nmp.messaging.incoming.plac-fate.value.deserializer=br.gov.pr.fazenda.plac.dominio.utils.DistNFePayloadSVBADeserializer\r\nmp.messaging.incoming.plac-fate.group.id=plac-fate-consumer\r\n```\r\n\r\nand here is the app log:\r\n\r\n```sh\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\r\n2022-10-11 18:53:42,919 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel &#39;plac-fate&#39;: [plac-fate]\r\n2022-10-11 18:53:42,949 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\r\n2022-10-11 18:53:43,764 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-consumer-thread-0) SRMSG18257: Kafka consumer kafka-consumer-plac-fate, connected to Kafka brokers &#39;kafka:9092&#39;, belongs to the &#39;plac-fate-consumer&#39; consumer group and is configured to poll records from [plac-fate]\r\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) consumer 1.0-SNAPSHOT on JVM (powered by Quarkus 2.12.3.Final) started in 12.193s. Listening on: http://localhost:8080\r\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2022-10-11 18:53:43,874 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, jdbc-oracle, kafka-client, micrometer, narayana-jta, qute, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\r\n```\r\n\r\nAs you can see the log says that the consumer was created and connected but it does nothing.\r\n\r\n","title":"Kafka consumer didn&#39;t consume","body":"<p>I'm trying to create as app that will consume a Kafka topic with 10 partitions. I didn't define the number of partitions of the consumer at <code>application.properties</code> because the app will be deployed in OpenShift, and I want that the OpenShift do the load balance. The problem is that when I'm start the application it didn't consume anything. The code is very simple, and I really don't know whats wrong:</p>\n<p>Here is the consumer, the log shows nothing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Incoming(&quot;plac-fate&quot;)\n    @Transactional\n    public void consume(NFeDistSVBAPayload payload) throws PlacException {\n        logger.info(&quot;Consumindo payload: &quot; + payload);\n        service.criaNFeDistSVBAEntity(payload);\n        logger.info(&quot;Payload com nrProtocolo '&quot; + payload.getNrProtocolo() + &quot;' consumido com sucesso.&quot;);\n    }\n</code></pre>\n<p>I also have as deserializer its log didn't show anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public NFeDistSVBAPayload deserialize(String topic, byte[] data) {\n        logger.info(&quot;Deserializando mensagem do topico: &quot; + topic);\n        var strPayload = new String(data, StandardCharsets.UTF_8);\n        var module = new JaxbAnnotationModule();\n        var mapper = JsonMapper.builder()\n        .enable(JsonReadFeature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER)\n        .build();\n        mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        mapper.registerModule(module);\n        try {\n            var payload =  mapper.readValue(strPayload, NFeDistSVBAPayload.class);\n            return payload;\n        } catch (JsonProcessingException e) {\n            logger.error(e);\n            return null;\n        }\n    }\n</code></pre>\n<p>and here is the <code>àpplication.properties</code>:</p>\n<pre><code>quarkus.kafka.devservices.enabled=false\nkafka.bootstrap.servers=${PLAC_KAFKA_URL}\nmp.messaging.incoming.plac-fate.connector=smallrye-kafka\nmp.messaging.incoming.plac-fate.value.deserializer=br.gov.pr.fazenda.plac.dominio.utils.DistNFePayloadSVBADeserializer\nmp.messaging.incoming.plac-fate.group.id=plac-fate-consumer\n</code></pre>\n<p>and here is the app log:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\n2022-10-11 18:53:42,919 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel 'plac-fate': [plac-fate]\n2022-10-11 18:53:42,949 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\n2022-10-11 18:53:43,764 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-consumer-thread-0) SRMSG18257: Kafka consumer kafka-consumer-plac-fate, connected to Kafka brokers 'kafka:9092', belongs to the 'plac-fate-consumer' consumer group and is configured to poll records from [plac-fate]\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) consumer 1.0-SNAPSHOT on JVM (powered by Quarkus 2.12.3.Final) started in 12.193s. Listening on: http://localhost:8080\n2022-10-11 18:53:43,873 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2022-10-11 18:53:43,874 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, hibernate-orm, hibernate-orm-panache, jdbc-oracle, kafka-client, micrometer, narayana-jta, qute, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\n</code></pre>\n<p>As you can see the log says that the consumer was created and connected but it does nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665115640,"post_id":73982251,"comment_id":130628520,"body_markdown":"`private static String raiz;` is how you declare fields.  Fields are declared at h\\the class level not as a local variable","body":"<code>private static String raiz;</code> is how you declare fields.  Fields are declared at h\\the class level not as a local variable"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1665115989,"post_id":73982251,"comment_id":130628571,"body_markdown":"What do you think `private` and `static` mean in this context? More to the point, what would a *non-private*, *non-static* local variable look like, and how would it be different?","body":"What do you think <code>private</code> and <code>static</code> mean in this context? More to the point, what would a <i>non-private</i>, <i>non-static</i> local variable look like, and how would it be different?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1665116545,"post_id":73982251,"comment_id":130628667,"body_markdown":"Access modifiers like `private` and the keyword `static` can be used only at the class level. That means they cannot be used inside a method, constructor, or any other block that is encapsulated by a class.","body":"Access modifiers like <code>private</code> and the keyword <code>static</code> can be used only at the class level. That means they cannot be used inside a method, constructor, or any other block that is encapsulated by a class."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1665122082,"post_id":73982251,"comment_id":130629547,"body_markdown":"Please don&#39;t post errors as images","body":"Please don&#39;t post errors as images"}],"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665519948,"creation_date":1665115537,"question_id":73982251,"body_markdown":"[This is the error I get][1]\r\nSo i&#39;m working on java CC, but I keep getting this error from creating arraylists and strings variables on the .jj\r\n``` \r\npublic class Parser\r\n{\r\n  public static void main(String args []) throws ParseException\r\n  {\r\n    Parser parser = new Parser(System.in);\r\n    while (true)\r\n    {\r\n      System.out.println(&quot;Reading from standard input...&quot;);\r\n      System.out.print(&quot;Enter a TREE:&quot;);\r\n      private static ArrayList nodosCheck = new ArrayList();\r\n\t  private static ArrayList nodos = new ArrayList();\r\n\t  private static String raiz;\r\n\t  private static String print=&quot;Todo anda bien&quot;;\r\n\t  System.out.println(&quot;Bienvenidos&quot;);\r\n     \r\n``` \r\n      \r\nsomeone know what is wrong?\r\nI cant run the application since the error is from the .java file of the parser.\r\nbut idk how to solve this on the .jj file \r\nThis are lists and variables that I have to modify during the program, just to clarify.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7k9A.png","title":"Illegal modifier for the variable print; only final is permitted on javaCC","body":"<p><a href=\"https://i.stack.imgur.com/Q7k9A.png\" rel=\"nofollow noreferrer\">This is the error I get</a>\nSo i'm working on java CC, but I keep getting this error from creating arraylists and strings variables on the .jj</p>\n<pre><code>public class Parser\n{\n  public static void main(String args []) throws ParseException\n  {\n    Parser parser = new Parser(System.in);\n    while (true)\n    {\n      System.out.println(&quot;Reading from standard input...&quot;);\n      System.out.print(&quot;Enter a TREE:&quot;);\n      private static ArrayList nodosCheck = new ArrayList();\n      private static ArrayList nodos = new ArrayList();\n      private static String raiz;\n      private static String print=&quot;Todo anda bien&quot;;\n      System.out.println(&quot;Bienvenidos&quot;);\n     \n</code></pre>\n<p>someone know what is wrong?\nI cant run the application since the error is from the .java file of the parser.\nbut idk how to solve this on the .jj file\nThis are lists and variables that I have to modify during the program, just to clarify.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":1,"creation_date":1665518233,"post_id":74033351,"comment_id":130718504,"body_markdown":"Without any data source how you  can configure the  jpa because it need a datsource bean to inject?","body":"Without any data source how you  can configure the  jpa because it need a datsource bean to inject?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1665518953,"post_id":74033351,"comment_id":130718740,"body_markdown":"Seconding @YJR. Your `JpaEntityConfig` should also be created only if the respective profile is active.","body":"Seconding @YJR. Your <code>JpaEntityConfig</code> should also be created only if the respective profile is active."}],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1665519165,"post_id":74033551,"comment_id":130718796,"body_markdown":"This only sets the reference as null. If the code uses the variable, it’ll throw a NPE.","body":"This only sets the reference as null. If the code uses the variable, it’ll throw a NPE."}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665518711,"creation_date":1665518711,"answer_id":74033551,"question_id":74033351,"body_markdown":"As JpaEntityConfig is expecting a DataSource you can make this optional if you so wish\r\n```\r\n@Configuration\r\n@ConfigurationProperties()\r\npublic class JpaEntityConfig {\r\n\r\n    @Autowired(required = false)\r\n    DataSource dataSource;\r\n\r\n```","title":"Create a data source based on the spring profile","body":"<p>As JpaEntityConfig is expecting a DataSource you can make this optional if you so wish</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class JpaEntityConfig {\n\n    @Autowired(required = false)\n    DataSource dataSource;\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"score":0,"creation_date":1665520621,"post_id":74033643,"comment_id":130719241,"body_markdown":"I did that ... it gave the same error still ...","body":"I did that ... it gave the same error still ..."},{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1665521359,"post_id":74033643,"comment_id":130719439,"body_markdown":"@Profile({&quot;first&quot;}) instead above","body":"@Profile({&quot;first&quot;}) instead above"}],"tags":[],"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665519347,"creation_date":1665519347,"answer_id":74033643,"question_id":74033351,"body_markdown":"    @Configuration\r\n    @ConfigurationProperties()\r\n    @Profile(&quot;!second&quot;)\r\n    public class JpaEntityConfig {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        public DataSource dataSource() {\r\n            return dataSource;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nYou can skip this jpa configuration when profile `second` is active as above.","title":"Create a data source based on the spring profile","body":"<pre><code>@Configuration\n@ConfigurationProperties()\n@Profile(&quot;!second&quot;)\npublic class JpaEntityConfig {\n\n    @Autowired\n    DataSource dataSource;\n\n    public DataSource dataSource() {\n        return dataSource;\n    }\n\n    ...\n}\n</code></pre>\n<p>You can skip this jpa configuration when profile <code>second</code> is active as above.</p>\n"}],"owner":{"account_id":1032733,"reputation":10647,"user_id":1040718,"accept_rate":57,"display_name":"cybertextron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665519347,"creation_date":1665517496,"question_id":74033351,"body_markdown":"I have two profiles in Spring: `first` and `second`. If I use the `first` profile, I want to create a datasource based on postgres, but if I use `second` I don&#39;t want any datasource created at all. I&#39;ve defined my `JpaEntityConfig` class as:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties()\r\n    public class JpaEntityConfig {\r\n    \r\n        @Autowired\r\n        DataSource dataSource;\r\n    \r\n        public DataSource dataSource() {\r\n            return dataSource;\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nif I set `spring.profiles.active=first` then it works fine, however if I set it to `spring.profiles.active=second` then I&#39;m getting the following error:\r\n\r\n    Field dataSource in com.package.JpaEntityConfig required a bean of type &#39;javax.sql.DataSource&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    Consider defining a bean of type &#39;javax.sql.DataSource&#39; in your configuration.\r\n\r\nhow can I get around this? \r\n ","title":"Create a data source based on the spring profile","body":"<p>I have two profiles in Spring: <code>first</code> and <code>second</code>. If I use the <code>first</code> profile, I want to create a datasource based on postgres, but if I use <code>second</code> I don't want any datasource created at all. I've defined my <code>JpaEntityConfig</code> class as:</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class JpaEntityConfig {\n\n    @Autowired\n    DataSource dataSource;\n\n    public DataSource dataSource() {\n        return dataSource;\n    }\n\n    ...\n}\n</code></pre>\n<p>if I set <code>spring.profiles.active=first</code> then it works fine, however if I set it to <code>spring.profiles.active=second</code> then I'm getting the following error:</p>\n<pre><code>Field dataSource in com.package.JpaEntityConfig required a bean of type 'javax.sql.DataSource' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\nConsider defining a bean of type 'javax.sql.DataSource' in your configuration.\n</code></pre>\n<p>how can I get around this?</p>\n"},{"tags":["java","generics","instanceof","typechecking"],"answers":[{"comments":[{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":8,"creation_date":1270647371,"post_id":1570099,"comment_id":2600490,"body_markdown":"@luis, Tom&#39;s comment probably meant I should use isInstance() and pass the actual arg0 parameter. It has the advantage of avoiding the null check.","body":"@luis, Tom&#39;s comment probably meant I should use isInstance() and pass the actual arg0 parameter. It has the advantage of avoiding the null check."},{"owner":{"account_id":1033733,"reputation":4315,"user_id":1041533,"accept_rate":100,"display_name":"AgentKnopf"},"score":0,"creation_date":1336249616,"post_id":1570099,"comment_id":13517818,"body_markdown":"@RubensMariuzzo maybe this helps: http://www.ralfebert.de/blog/java/isassignablefrom/ the important part here is: isAssignableFrom tells you if the generic type T is a super class of the instance arg0.","body":"@RubensMariuzzo maybe this helps: <a href=\"http://www.ralfebert.de/blog/java/isassignablefrom/\" rel=\"nofollow noreferrer\">ralfebert.de/blog/java/isassignablefrom</a> the important part here is: isAssignableFrom tells you if the generic type T is a super class of the instance arg0."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1339162365,"post_id":1570099,"comment_id":14290929,"body_markdown":"@Emerald214, you do not need to extend the class, but the class does have the static method (this is the static factory pattern http://www.javaworld.com/javaworld/jw-06-2001/j1-01-sintes2.html)","body":"@Emerald214, you do not need to extend the class, but the class does have the static method (this is the static factory pattern <a href=\"http://www.javaworld.com/javaworld/jw-06-2001/j1-01-sintes2.html\" rel=\"nofollow noreferrer\">javaworld.com/javaworld/jw-06-2001/j1-01-sintes2.html</a>)"}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":3,"down_vote_count":1,"up_vote_count":93,"is_accepted":true,"score":92,"last_activity_date":1665519272,"creation_date":1255576239,"answer_id":1570099,"question_id":1570073,"body_markdown":"The error message says it all. At runtime, the type is gone, there is no way to check for it.\r\n\r\nYou could catch it by making a factory for your object like this:\r\n\r\n```java\r\npublic static &lt;T&gt; MyObject&lt;T&gt; createMyObject(Class&lt;T&gt; type) {\r\n    return new MyObject&lt;T&gt;(type);\r\n}\r\n```\r\n\r\nAnd then in the object&#39;s constructor store that type, so variable so that your method could look like this:\r\n```java\r\nif (arg0 != null &amp;&amp; !(this.type.isAssignableFrom(arg0.getClass())) {\r\n    return -1;\r\n}\r\n```","title":"Java: Instanceof and Generics","body":"<p>The error message says it all. At runtime, the type is gone, there is no way to check for it.</p>\n<p>You could catch it by making a factory for your object like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; MyObject&lt;T&gt; createMyObject(Class&lt;T&gt; type) {\n    return new MyObject&lt;T&gt;(type);\n}\n</code></pre>\n<p>And then in the object's constructor store that type, so variable so that your method could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (arg0 != null &amp;&amp; !(this.type.isAssignableFrom(arg0.getClass())) {\n    return -1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"score":0,"creation_date":1255576724,"post_id":1570105,"comment_id":1430330,"body_markdown":"yeah, the List interface demands that the function take an object parameter.","body":"yeah, the List interface demands that the function take an object parameter."},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1255576895,"post_id":1570105,"comment_id":1430334,"body_markdown":"you&#39;re implementing List? Why aren&#39;t you implementing List&lt;E&gt; ?","body":"you&#39;re implementing List? Why aren&#39;t you implementing List&lt;E&gt; ?"},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1255576999,"post_id":1570105,"comment_id":1430337,"body_markdown":"(see for example the declaration of ArrayList: http://java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html)","body":"(see for example the declaration of ArrayList: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/util/ArrayList.html</a>)"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1255588366,"post_id":1570105,"comment_id":1430904,"body_markdown":"@Rosarch: the List interface&#39;s indexOf() method does not require that the argument given is the same type as the object you are looking for. it just has to be .equals() to it, and objects of different types can be .equals() to each other. This is the same issue as for the remove() method, see: http://stackoverflow.com/questions/104799/why-arent-java-collections-remove-methods-generic","body":"@Rosarch: the List interface&#39;s indexOf() method does not require that the argument given is the same type as the object you are looking for. it just has to be .equals() to it, and objects of different types can be .equals() to each other. This is the same issue as for the remove() method, see: <a href=\"http://stackoverflow.com/questions/104799/why-arent-java-collections-remove-methods-generic\" title=\"why arent java collections remove methods generic\">stackoverflow.com/questions/104799/&hellip;</a>"},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":1,"creation_date":1255611806,"post_id":1570105,"comment_id":1432640,"body_markdown":"[[[sheepishly]]] never mind, I thought indexOf() required E as a parameter rather than Object. (why did they do that?!??!)","body":"[[[sheepishly]]] never mind, I thought indexOf() required E as a parameter rather than Object. (why did they do that?!??!)"},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1255612740,"post_id":1570105,"comment_id":1432740,"body_markdown":"@Jason basically because it would break perfectly valid code that didn&#39;t require an potentially unsafe type cast. Also, because Generics are not covariant you can get into some edge cases with type parameters (say a list of lists that itself has a type parameter) that the compiler would block even though the indexOf() would actually return a real index (the object is in the list but the compiler can&#39;t let you see it).","body":"@Jason basically because it would break perfectly valid code that didn&#39;t require an potentially unsafe type cast. Also, because Generics are not covariant you can get into some edge cases with type parameters (say a list of lists that itself has a type parameter) that the compiler would block even though the indexOf() would actually return a real index (the object is in the list but the compiler can&#39;t let you see it)."}],"tags":[],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255576405,"creation_date":1255576405,"answer_id":1570105,"question_id":1570073,"body_markdown":"Technically you shouldn&#39;t have to, that&#39;s the point of generics, so you can do compile-type checking:\r\n\r\n    public int indexOf(E arg0) {\r\n       ...\r\n    }\r\n\r\nbut then the @Override may be a problem if you have a class hierarchy. Otherwise see Yishai&#39;s answer.","title":"Java: Instanceof and Generics","body":"<p>Technically you shouldn't have to, that's the point of generics, so you can do compile-type checking:</p>\n\n<pre><code>public int indexOf(E arg0) {\n   ...\n}\n</code></pre>\n\n<p>but then the @Override may be a problem if you have a class hierarchy. Otherwise see Yishai's answer.</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1255581979,"post_id":1570232,"comment_id":1430542,"body_markdown":"(Although you might want to do an instance type check if you are using `Comparator` or similar.)","body":"(Although you might want to do an instance type check if you are using <code>Comparator</code> or similar.)"}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255579709,"creation_date":1255579709,"answer_id":1570232,"question_id":1570073,"body_markdown":"The runtime type of the object is a relatively arbitrary condition to filter on. I suggest keeping such muckiness away from your collection. This is simply achieved by having your collection delegate to a filter passed in a construction.\r\n\r\n    public interface FilterObject {\r\n         boolean isAllowed(Object obj);\r\n    }\r\n\r\n    public class FilterOptimizedList&lt;E&gt; implements List&lt;E&gt; {\r\n         private final FilterObject filter;\r\n         ...\r\n         public FilterOptimizedList(FilterObject filter) {\r\n             if (filter == null) {\r\n                 throw NullPointerException();\r\n             }\r\n             this.filter = filter;\r\n         }\r\n         ...\r\n         public int indexOf(Object obj) {\r\n             if (!filter.isAllows(obj)) {\r\n                  return -1;\r\n             }\r\n             ...\r\n         }\r\n         ...\r\n    }\r\n\r\n         final List&lt;String&gt; longStrs = new FilterOptimizedList&lt;String&gt;(\r\n             new FilterObject() { public boolean isAllowed(Object obj) {\r\n                 if (obj == null) {\r\n                     return true;\r\n                 } else if (obj instanceof String) {\r\n                     String str = (String)str;\r\n                     return str.length() &gt; = 4;\r\n                 } else {\r\n                     return false;\r\n                 }\r\n             }}\r\n         );","title":"Java: Instanceof and Generics","body":"<p>The runtime type of the object is a relatively arbitrary condition to filter on. I suggest keeping such muckiness away from your collection. This is simply achieved by having your collection delegate to a filter passed in a construction.</p>\n\n<pre><code>public interface FilterObject {\n     boolean isAllowed(Object obj);\n}\n\npublic class FilterOptimizedList&lt;E&gt; implements List&lt;E&gt; {\n     private final FilterObject filter;\n     ...\n     public FilterOptimizedList(FilterObject filter) {\n         if (filter == null) {\n             throw NullPointerException();\n         }\n         this.filter = filter;\n     }\n     ...\n     public int indexOf(Object obj) {\n         if (!filter.isAllows(obj)) {\n              return -1;\n         }\n         ...\n     }\n     ...\n}\n\n     final List&lt;String&gt; longStrs = new FilterOptimizedList&lt;String&gt;(\n         new FilterObject() { public boolean isAllowed(Object obj) {\n             if (obj == null) {\n                 return true;\n             } else if (obj instanceof String) {\n                 String str = (String)str;\n                 return str.length() &gt; = 4;\n             } else {\n                 return false;\n             }\n         }}\n     );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":779815,"reputation":151,"user_id":836265,"display_name":"terryscotttaylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1310170251,"creation_date":1310170251,"answer_id":6631819,"question_id":1570073,"body_markdown":"Provided your class extends a class with a generic parameter, you can also get this at runtime via reflection, and then use that for comparison, i.e.\r\n\r\n    class YourClass extends SomeOtherClass&lt;String&gt;\r\n    {\r\n\r\n       private Class&lt;?&gt; clazz;\r\n    \r\n       public Class&lt;?&gt; getParameterizedClass()\r\n       {\r\n          if(clazz == null)\r\n          {\r\n             ParameterizedType pt = (ParameterizedType)this.getClass().getGenericSuperclass();\r\n              clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\r\n           }\r\n           return clazz;\r\n        }\r\n    }\r\n\r\n\r\nIn the case above, at runtime you will get String.class from getParameterizedClass(), and it caches so you don&#39;t get any reflection overhead upon multiple checks.  Note that you can get the other parameterized types by index from the ParameterizedType.getActualTypeArguments() method.\r\n","title":"Java: Instanceof and Generics","body":"<p>Provided your class extends a class with a generic parameter, you can also get this at runtime via reflection, and then use that for comparison, i.e.</p>\n\n<pre><code>class YourClass extends SomeOtherClass&lt;String&gt;\n{\n\n   private Class&lt;?&gt; clazz;\n\n   public Class&lt;?&gt; getParameterizedClass()\n   {\n      if(clazz == null)\n      {\n         ParameterizedType pt = (ParameterizedType)this.getClass().getGenericSuperclass();\n          clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\n       }\n       return clazz;\n    }\n}\n</code></pre>\n\n<p>In the case above, at runtime you will get String.class from getParameterizedClass(), and it caches so you don't get any reflection overhead upon multiple checks.  Note that you can get the other parameterized types by index from the ParameterizedType.getActualTypeArguments() method.</p>\n"},{"comments":[{"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"score":1,"creation_date":1351638982,"post_id":13106609,"comment_id":17887019,"body_markdown":"+1 A pragmatic non-over engineered solution for a simple check! I wish I could up voted this more","body":"+1 A pragmatic non-over engineered solution for a simple check! I wish I could up voted this more"},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":30,"creation_date":1357752086,"post_id":13106609,"comment_id":19761400,"body_markdown":"This wouldn&#39;t work. E is erased at runtime, so the cast won&#39;t fail, you will just get a compiler warning about it.","body":"This wouldn&#39;t work. E is erased at runtime, so the cast won&#39;t fail, you will just get a compiler warning about it."}],"tags":[],"owner":{"account_id":1984761,"reputation":157,"user_id":1780345,"display_name":"ben"},"comment_count":2,"down_vote_count":12,"up_vote_count":18,"is_accepted":false,"score":6,"last_activity_date":1351403728,"creation_date":1351402140,"answer_id":13106609,"question_id":1570073,"body_markdown":"Or you could catch a failed attempt to cast into E **eg.**&lt;br/&gt;\r\n\r\n    public int indexOf(Object arg0){\r\n      try{\r\n        E test=(E)arg0;\r\n        return doStuff(test);\r\n      }catch(ClassCastException e){\r\n        return -1;\r\n      }\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Or you could catch a failed attempt to cast into E <strong>eg.</strong><br/></p>\n\n<pre><code>public int indexOf(Object arg0){\n  try{\n    E test=(E)arg0;\n    return doStuff(test);\n  }catch(ClassCastException e){\n    return -1;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269969,"reputation":11509,"user_id":559634,"accept_rate":100,"display_name":"SharkAlley"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1371090973,"creation_date":1371059598,"answer_id":17072077,"question_id":1570073,"body_markdown":"Two options for runtime type checking with generics:\r\n\r\n**Option 1 - Corrupt your constructor**\r\n\r\nLet&#39;s assume you are overriding indexOf(...), and you want to check the type just for performance, to save yourself iterating the entire collection. \r\n\r\nMake a filthy constructor like this:\r\n\r\n    public MyCollection&lt;T&gt;(Class&lt;T&gt; t) {\r\n   \r\n        this.t = t;\r\n    }\r\n\r\nThen you can use [isAssignableFrom][1] to check the type.\r\n\r\n    public int indexOf(Object o) {\r\n        \r\n        if (\r\n            o != null &amp;&amp;\r\n\r\n            !t.isAssignableFrom(o.getClass())\r\n        \r\n        ) return -1;\r\n        \r\n    //...\r\n\r\nEach time you instantiate your object you would have to repeat yourself:\r\n\r\n    new MyCollection&lt;Apples&gt;(Apples.class);\r\n\r\nYou might decide it isn&#39;t worth it. In the implementation of [ArrayList.indexOf(...)][2], they do not check that the type matches.\r\n\r\n**Option 2 - Let it fail**\r\n\r\nIf you need to use an abstract method that requires your unknown type, then all you really want is for the compiler to stop crying about **instanceof**. If you have a method like this:\r\n\r\n    protected abstract void abstractMethod(T element);\r\n\r\nYou can use it like this:\r\n\r\n    public int indexOf(Object o) {\r\n\r\n        try {\r\n\r\n            abstractMethod((T) o);\r\n\r\n        } catch (ClassCastException e) {\r\n\r\n    //...\r\n \r\n\r\nYou are casting the object to T (your generic type), just to fool the compiler. [Your cast does nothing at runtime][3], but you will still get a ClassCastException when you try to pass the wrong type of object into your abstract method.\r\n\r\nNOTE 1: If you are doing additional unchecked casts in your abstract method, your ClassCastExceptions will get caught here. That could be good or bad, so think it through.\r\n\r\nNOTE 2: [You get a free null check when you use instanceof][4]. Since you can&#39;t use it, you may need to check for null with your bare hands.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast\r\n  [4]: https://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof","title":"Java: Instanceof and Generics","body":"<p>Two options for runtime type checking with generics:</p>\n\n<p><strong>Option 1 - Corrupt your constructor</strong></p>\n\n<p>Let's assume you are overriding indexOf(...), and you want to check the type just for performance, to save yourself iterating the entire collection. </p>\n\n<p>Make a filthy constructor like this:</p>\n\n<pre><code>public MyCollection&lt;T&gt;(Class&lt;T&gt; t) {\n\n    this.t = t;\n}\n</code></pre>\n\n<p>Then you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29\" rel=\"noreferrer\">isAssignableFrom</a> to check the type.</p>\n\n<pre><code>public int indexOf(Object o) {\n\n    if (\n        o != null &amp;&amp;\n\n        !t.isAssignableFrom(o.getClass())\n\n    ) return -1;\n\n//...\n</code></pre>\n\n<p>Each time you instantiate your object you would have to repeat yourself:</p>\n\n<pre><code>new MyCollection&lt;Apples&gt;(Apples.class);\n</code></pre>\n\n<p>You might decide it isn't worth it. In the implementation of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\" rel=\"noreferrer\">ArrayList.indexOf(...)</a>, they do not check that the type matches.</p>\n\n<p><strong>Option 2 - Let it fail</strong></p>\n\n<p>If you need to use an abstract method that requires your unknown type, then all you really want is for the compiler to stop crying about <strong>instanceof</strong>. If you have a method like this:</p>\n\n<pre><code>protected abstract void abstractMethod(T element);\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>public int indexOf(Object o) {\n\n    try {\n\n        abstractMethod((T) o);\n\n    } catch (ClassCastException e) {\n\n//...\n</code></pre>\n\n<p>You are casting the object to T (your generic type), just to fool the compiler. <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/restrictions.html#cannotCast\" rel=\"noreferrer\">Your cast does nothing at runtime</a>, but you will still get a ClassCastException when you try to pass the wrong type of object into your abstract method.</p>\n\n<p>NOTE 1: If you are doing additional unchecked casts in your abstract method, your ClassCastExceptions will get caught here. That could be good or bad, so think it through.</p>\n\n<p>NOTE 2: <a href=\"https://stackoverflow.com/questions/2950319/is-null-check-needed-before-calling-instanceof\">You get a free null check when you use instanceof</a>. Since you can't use it, you may need to check for null with your bare hands.</p>\n"},{"tags":[],"owner":{"account_id":5335539,"reputation":107,"user_id":4254661,"display_name":"hsaturn"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1416096666,"creation_date":1416051682,"answer_id":26945416,"question_id":1570073,"body_markdown":"I had the same problem and here is my solution (very humble, @george: this time compiling AND working ...).\r\n\r\nMy probem was inside an abstract class that implements Observer.\r\nThe Observable fires method update(...) with Object class that can be any kind of Object.\r\n\r\nI only want to handler Objects of type T \r\n\r\n\r\nThe solution is to pass the class to the constructor in order to be able to compare types at runtime.\r\n\r\n\r\n   \r\n\r\n    public abstract class AbstractOne&lt;T&gt; implements Observer {\r\n        \r\n      private Class&lt;T&gt; tClass;\r\n        public AbstractOne(Class&lt;T&gt; clazz) {\r\n        tClass = clazz;\r\n      }\r\n\r\n      @Override\r\n      public void update(Observable o, Object arg) {\r\n        if (tClass.isInstance(arg)) {\r\n          // Here I am, arg has the type T\r\n          foo((T) arg);\r\n      \t}\r\n      }\r\n\r\n      public abstract foo(T t);\r\n\r\n    }\r\n   \r\nFor the implementation we just have to pass the Class to the constructor\r\n\r\n    public class OneImpl extends AbstractOne&lt;Rule&gt; {\r\n      public OneImpl() {\r\n        super(Rule.class);\r\n      }\r\n\r\n      @Override\r\n      public void foo(Rule t){\r\n      }\r\n    }\r\n    ","title":"Java: Instanceof and Generics","body":"<p>I had the same problem and here is my solution (very humble, @george: this time compiling AND working ...).</p>\n\n<p>My probem was inside an abstract class that implements Observer.\nThe Observable fires method update(...) with Object class that can be any kind of Object.</p>\n\n<p>I only want to handler Objects of type T </p>\n\n<p>The solution is to pass the class to the constructor in order to be able to compare types at runtime.</p>\n\n<pre><code>public abstract class AbstractOne&lt;T&gt; implements Observer {\n\n  private Class&lt;T&gt; tClass;\n    public AbstractOne(Class&lt;T&gt; clazz) {\n    tClass = clazz;\n  }\n\n  @Override\n  public void update(Observable o, Object arg) {\n    if (tClass.isInstance(arg)) {\n      // Here I am, arg has the type T\n      foo((T) arg);\n    }\n  }\n\n  public abstract foo(T t);\n\n}\n</code></pre>\n\n<p>For the implementation we just have to pass the Class to the constructor</p>\n\n<pre><code>public class OneImpl extends AbstractOne&lt;Rule&gt; {\n  public OneImpl() {\n    super(Rule.class);\n  }\n\n  @Override\n  public void foo(Rule t){\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":39,"creation_date":1508243794,"post_id":28580762,"comment_id":80526906,"body_markdown":"It&#39;s unclear what you&#39;re actually contributing here.","body":"It&#39;s unclear what you&#39;re actually contributing here."},{"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"score":0,"creation_date":1699038355,"post_id":28580762,"comment_id":136485657,"body_markdown":"Usable in special cases","body":"Usable in special cases"}],"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"comment_count":2,"down_vote_count":6,"up_vote_count":30,"is_accepted":false,"score":24,"last_activity_date":1424253873,"creation_date":1424253873,"answer_id":28580762,"question_id":1570073,"body_markdown":"Old post, but a simple way to do generic instanceOf checking.\r\n\r\n    public static &lt;T&gt; boolean isInstanceOf(Class&lt;T&gt; clazz, Class&lt;T&gt; targetClass) {\r\n        return clazz.isInstance(targetClass);\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Old post, but a simple way to do generic instanceOf checking.</p>\n\n<pre><code>public static &lt;T&gt; boolean isInstanceOf(Class&lt;T&gt; clazz, Class&lt;T&gt; targetClass) {\n    return clazz.isInstance(targetClass);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616009572,"creation_date":1616009572,"answer_id":66680005,"question_id":1570073,"body_markdown":"Let Java determine it and catch the exception bottom line.\r\n\r\n    public class Behaviour&lt;T&gt; {\r\n        public void behave(Object object) {\r\n            T typedObject = null;\r\n            \r\n            try { typedObject = (T) object; }\r\n            catch (ClassCastException ignored) {}\r\n            \r\n            if (null != typedObject) {\r\n                // Do something type-safe with typedObject\r\n            }\r\n        }\r\n    }","title":"Java: Instanceof and Generics","body":"<p>Let Java determine it and catch the exception bottom line.</p>\n<pre><code>public class Behaviour&lt;T&gt; {\n    public void behave(Object object) {\n        T typedObject = null;\n        \n        try { typedObject = (T) object; }\n        catch (ClassCastException ignored) {}\n        \n        if (null != typedObject) {\n            // Do something type-safe with typedObject\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230226,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":1570099,"answer_count":9,"score":172,"last_activity_date":1665519272,"creation_date":1255575603,"question_id":1570073,"body_markdown":"Before I look through my generic data structure for a value&#39;s index, I&#39;d like to see if it is even an instance of the type `this` has been parametrized to.\r\n\r\nBut Eclipse complains when I do this:\r\n\r\n\t@Override\r\n\tpublic int indexOf(Object arg0) {\r\n\t\tif (!(arg0 instanceof E)) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\r\nThis is the error message:\r\n\r\n&gt; Cannot perform instanceof check against type parameter E. Use instead its erasure Object since generic type information will be erased at runtime\r\n\r\nWhat is the better way to do it?","title":"Java: Instanceof and Generics","body":"<p>Before I look through my generic data structure for a value's index, I'd like to see if it is even an instance of the type <code>this</code> has been parametrized to.</p>\n\n<p>But Eclipse complains when I do this:</p>\n\n<pre><code>@Override\npublic int indexOf(Object arg0) {\n    if (!(arg0 instanceof E)) {\n        return -1;\n    }\n</code></pre>\n\n<p>This is the error message:</p>\n\n<blockquote>\n  <p>Cannot perform instanceof check against type parameter E. Use instead its erasure Object since generic type information will be erased at runtime</p>\n</blockquote>\n\n<p>What is the better way to do it?</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1665162818,"post_id":73989740,"comment_id":130643203,"body_markdown":"Please, show your test class code.","body":"Please, show your test class code."},{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665167125,"post_id":73989740,"comment_id":130644467,"body_markdown":"when(remotecall.callAPI()).thenThrow(Exception.class); AssertTrue(logmessage);","body":"when(remotecall.callAPI()).thenThrow(Exception.class); AssertTrue(logmessage);"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1665222870,"post_id":73989740,"comment_id":130652671,"body_markdown":"Can you share the error stacktrace to see where exactly the null pointer exception is trown?","body":"Can you share the error stacktrace to see where exactly the null pointer exception is trown?"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":1,"creation_date":1665521648,"post_id":73989740,"comment_id":130719505,"body_markdown":"As far as I can see, the code in your test should not compile. `remotecall.callAPI()` appears to return `void`, and you can&#39;t call a method returning `void` in a call to `when()`. You can write `doThrow(Exception.class).when(remotecall).callAPI();` instead. I can&#39;t say how you could test the value passed to the `logMessage` method, because you haven&#39;t shared with us how this method is defined.","body":"As far as I can see, the code in your test should not compile. <code>remotecall.callAPI()</code> appears to return <code>void</code>, and you can&#39;t call a method returning <code>void</code> in a call to <code>when()</code>. You can write <code>doThrow(Exception.class).when(remotecall).callAPI();</code> instead. I can&#39;t say how you could test the value passed to the <code>logMessage</code> method, because you haven&#39;t shared with us how this method is defined."},{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665602993,"post_id":73989740,"comment_id":130742154,"body_markdown":"Thank you for your answer, I would not be able to simulate the real scenario because it is confidential work. But I can assure you that what you have written was really helpful, helping me figuring out the solution. Thanks","body":"Thank you for your answer, I would not be able to simulate the real scenario because it is confidential work. But I can assure you that what you have written was really helpful, helping me figuring out the solution. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"score":0,"creation_date":1665164978,"post_id":73990513,"comment_id":130643866,"body_markdown":"yes but the question mainly after throwing exception and putting that in when(), how can I assert the value in catch block?","body":"yes but the question mainly after throwing exception and putting that in when(), how can I assert the value in catch block?"}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665162702,"creation_date":1665162702,"answer_id":73990513,"question_id":73989740,"body_markdown":"The method callAPI() takes no arguments so your &#39;when&#39; statement should be\r\n```\r\nwhen(remotecall.callAPI()).thenThrow(Exception.class); \r\n```","title":"Assert Values After Exception Happened with Mokito","body":"<p>The method callAPI() takes no arguments so your 'when' statement should be</p>\n<pre><code>when(remotecall.callAPI()).thenThrow(Exception.class); \n</code></pre>\n"}],"owner":{"account_id":16652013,"reputation":63,"user_id":12034595,"display_name":"WhiteFlower"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73990513,"answer_count":1,"score":0,"last_activity_date":1665519210,"creation_date":1665158117,"question_id":73989740,"body_markdown":"I am trying to test a service by using Mockito that made a remote call to external API. \r\nIf the call is fails, I should do some other operations. \r\nSO I mock the external remote call, and I use the following:\r\n\r\n    public class Service {\r\n    \r\n        private Remotecall remotecall;\r\n    \r\n        public void method1() {\r\n            try {\r\n                remotecall.callAPI();\r\n            } catch (Exception e) {\r\n                logMessage(&quot;Important Log message&quot;); // goes to another method to add somedata!\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Remotecall {\r\n    \r\n        public void callAPI() {\r\n            try {\r\n    \r\n                callExternalAPI();\r\n            } catch (Exception e) {\r\n                throw new GenericException(&quot;some message&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI tried to use this way:\r\n \r\n\r\n    when(remotecall.callAPI()).thenThrow(Exception.class);\r\n    AssertTrue(logmessage);\r\n\r\nThe test return null point exception!\r\n\r\nHow can I write a test in java using Mockito to test the value in the logMessage() method.\r\nIs it right to mock the remotecall class and inject callAPI()?","title":"Assert Values After Exception Happened with Mokito","body":"<p>I am trying to test a service by using Mockito that made a remote call to external API.\nIf the call is fails, I should do some other operations.\nSO I mock the external remote call, and I use the following:</p>\n<pre><code>public class Service {\n\n    private Remotecall remotecall;\n\n    public void method1() {\n        try {\n            remotecall.callAPI();\n        } catch (Exception e) {\n            logMessage(&quot;Important Log message&quot;); // goes to another method to add somedata!\n        }\n    }\n}\n\npublic class Remotecall {\n\n    public void callAPI() {\n        try {\n\n            callExternalAPI();\n        } catch (Exception e) {\n            throw new GenericException(&quot;some message&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried to use this way:</p>\n<pre><code>when(remotecall.callAPI()).thenThrow(Exception.class);\nAssertTrue(logmessage);\n</code></pre>\n<p>The test return null point exception!</p>\n<p>How can I write a test in java using Mockito to test the value in the logMessage() method.\nIs it right to mock the remotecall class and inject callAPI()?</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1665430119,"post_id":74019849,"comment_id":130694094,"body_markdown":"You can set the &#39;Compiler compliance level&#39; in the Java Compiler section of the project Properties - that sets the level of Java to use.","body":"You can set the &#39;Compiler compliance level&#39; in the Java Compiler section of the project Properties - that sets the level of Java to use."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1665430435,"post_id":74019849,"comment_id":130694183,"body_markdown":"You create a JAR file from your Eclipse project and you create an installer to install the Java runtime, your JAR, and SQLite.","body":"You create a JAR file from your Eclipse project and you create an installer to install the Java runtime, your JAR, and SQLite."},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665465879,"post_id":74019849,"comment_id":130700376,"body_markdown":"I think the reason your question was downvoted is that it&#39;s not quite full. If you have already tried what you intended to do, why didn&#39;t you post the results? Any errors? Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read [ask] and its linked resources","body":"I think the reason your question was downvoted is that it&#39;s not quite full. If you have already tried what you intended to do, why didn&#39;t you post the results? Any errors? Please provide specific information about that attempt and what didn&#39;t work as expected. To learn more about this community and how we can help you, please start with the tour and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665516893,"post_id":74019849,"comment_id":130718059,"body_markdown":"compiled Java programs can usually run on any newer version of java, they usually even compile with newer versions  as well. What kind of error do you get when you try to run it on a new version?","body":"compiled Java programs can usually run on any newer version of java, they usually even compile with newer versions  as well. What kind of error do you get when you try to run it on a new version?"}],"owner":{"account_id":26583403,"reputation":21,"user_id":20207714,"display_name":"JonasSnell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1665518726,"creation_date":1665429949,"question_id":74019849,"body_markdown":"My application uses SQLite and the JDBC driver.When I export my .jar from Eclipse it doesn&#39;t run on my computer because it&#39;s on an older version of Java. I could downgrade Java, but then I can&#39;t have it run on other people&#39;s computers without them having to downgrade Java. I can&#39;t update compiler because SQLite and JDBC driver need an older version of Java.\r\n\r\nHow to have it runnable on any computer?","title":"Project compiled on an older version, how to have it runnable on any computer?","body":"<p>My application uses SQLite and the JDBC driver.When I export my .jar from Eclipse it doesn't run on my computer because it's on an older version of Java. I could downgrade Java, but then I can't have it run on other people's computers without them having to downgrade Java. I can't update compiler because SQLite and JDBC driver need an older version of Java.</p>\n<p>How to have it runnable on any computer?</p>\n"},{"tags":["python","java","optapy"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665518705,"creation_date":1665518705,"answer_id":74033549,"question_id":74030316,"body_markdown":"From the error message, it appears the constraint stream use one version of `Shift`, and the domain model use a DIFFERENT version of `Shift`. Do not redefine or define multiple versions of entity classes/problem fact classes: they will be considered distinct from one another. Note `...domain.Shift...` (the one used by Constraint Streams) is different from `...shift_planning.domain.Shift...` (the one used by the domain). Either use `domain.Shift` in your Constraint Stream or use `shift_planning.domain.Shift` in your domain. ","title":"Optapy error at &quot;solver_manager_create(solver_config)&quot;","body":"<p>From the error message, it appears the constraint stream use one version of <code>Shift</code>, and the domain model use a DIFFERENT version of <code>Shift</code>. Do not redefine or define multiple versions of entity classes/problem fact classes: they will be considered distinct from one another. Note <code>...domain.Shift...</code> (the one used by Constraint Streams) is different from <code>...shift_planning.domain.Shift...</code> (the one used by the domain). Either use <code>domain.Shift</code> in your Constraint Stream or use <code>shift_planning.domain.Shift</code> in your domain.</p>\n"}],"owner":{"account_id":16282497,"reputation":49,"user_id":11758017,"display_name":"Kerem Tatlıcı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74033549,"answer_count":1,"score":0,"last_activity_date":1665518705,"creation_date":1665500987,"question_id":74030316,"body_markdown":"I am trying to run solver_manager_create method as it shown in the quick start code in optapy repo (https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168)\r\n\r\n```\r\nSINGLETON_ID = 1\r\nsolver_config = optapy.config.solver.SolverConfig()\r\nsolver_config\\\r\n    .withSolutionClass(EmployeeSchedule)\\\r\n    .withEntityClasses(Shift)\\\r\n    .withConstraintProviderClass(employee_scheduling_constraints)\\\r\n    .withTerminationSpentLimit(Duration.ofSeconds(60))\r\n\r\n#error occurs in this line\r\nsolver_manager = solver_manager_create(solver_config)\r\n```\r\n\r\nBut i am receiving a java.lang.IllegalArgumentException error.\r\n\r\nFull Error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Cannot use class (org.optaplanner.optapy.generated.class6.domain.Shift.GeneratedClass) in a constraint stream as it is neither the same as, nor a superclass or superinterface of one of planning entities or problem facts.\r\nEnsure that all from(), join(), ifExists() and ifNotExists() building blocks only reference classes assignable from planning entities or problem facts ([org.optaplanner.optapy.generated.class0.shift_planning.domain.Employee.GeneratedClass, org.optaplanner.optapy.generated.class1.shift_planning.domain.ConstraintForTag.GeneratedClass, org.optaplanner.optapy.generated.class2.shift_planning.domain.Shift.GeneratedClass]) annotated on the planning solution (org.optaplanner.optapy.generated.class3.shift_planning.domain.EmployeeSchedule.GeneratedClass).\r\n```\r\n\r\nwhat am i missing?\r\n","title":"Optapy error at &quot;solver_manager_create(solver_config)&quot;","body":"<p>I am trying to run solver_manager_create method as it shown in the quick start code in optapy repo (<a href=\"https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168\" rel=\"nofollow noreferrer\">https://github.com/optapy/optapy-quickstarts/blob/04fd102ee31919cacc4145d0517fe07b2627ca02/employee-scheduling/services.py#L168</a>)</p>\n<pre><code>SINGLETON_ID = 1\nsolver_config = optapy.config.solver.SolverConfig()\nsolver_config\\\n    .withSolutionClass(EmployeeSchedule)\\\n    .withEntityClasses(Shift)\\\n    .withConstraintProviderClass(employee_scheduling_constraints)\\\n    .withTerminationSpentLimit(Duration.ofSeconds(60))\n\n#error occurs in this line\nsolver_manager = solver_manager_create(solver_config)\n</code></pre>\n<p>But i am receiving a java.lang.IllegalArgumentException error.</p>\n<p>Full Error:</p>\n<pre><code>java.lang.IllegalArgumentException: java.lang.IllegalArgumentException: Cannot use class (org.optaplanner.optapy.generated.class6.domain.Shift.GeneratedClass) in a constraint stream as it is neither the same as, nor a superclass or superinterface of one of planning entities or problem facts.\nEnsure that all from(), join(), ifExists() and ifNotExists() building blocks only reference classes assignable from planning entities or problem facts ([org.optaplanner.optapy.generated.class0.shift_planning.domain.Employee.GeneratedClass, org.optaplanner.optapy.generated.class1.shift_planning.domain.ConstraintForTag.GeneratedClass, org.optaplanner.optapy.generated.class2.shift_planning.domain.Shift.GeneratedClass]) annotated on the planning solution (org.optaplanner.optapy.generated.class3.shift_planning.domain.EmployeeSchedule.GeneratedClass).\n</code></pre>\n<p>what am i missing?</p>\n"},{"tags":["java","android","printing","windev","sunmi"],"comments":[{"owner":{"account_id":5977033,"reputation":125,"user_id":4697506,"display_name":"Rastislav Struh&#225;r"},"score":0,"creation_date":1665406917,"post_id":68794777,"comment_id":130686104,"body_markdown":"Hi, i wave similar issue, did u managed how to print on sunmi k2 ? THANKS","body":"Hi, i wave similar issue, did u managed how to print on sunmi k2 ? THANKS"},{"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"score":1,"creation_date":1665518624,"post_id":68794777,"comment_id":130718642,"body_markdown":"I edited my question, hope it can help you.","body":"I edited my question, hope it can help you."},{"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"score":0,"creation_date":1665519406,"post_id":68794777,"comment_id":130718878,"body_markdown":"All inside WinDev Mobile 27, create a global procedure, switch above from WL to JAVA, then call the PrintToSunmiPrinter from WinDev Mobile with the data attached. You need to send ESC/POS commands, no iPrint or so...","body":"All inside WinDev Mobile 27, create a global procedure, switch above from WL to JAVA, then call the PrintToSunmiPrinter from WinDev Mobile with the data attached. You need to send ESC/POS commands, no iPrint or so..."}],"owner":{"account_id":14467128,"reputation":51,"user_id":10450150,"display_name":"Harvey68"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665518595,"creation_date":1629055836,"question_id":68794777,"body_markdown":"I&#39;m using a Sunmi K2 POS Checkout Terminal running with Android 7.1.2\r\n\r\nI&#39;m developing a POS software with WinDev for Mobile 26, I&#39;m already displaying some windows, now the question is, how can I print on the build-in pos printer??\r\n\r\nThere is a print-test app on the kiosk installed, this works fine.\r\n\r\nIn the settings there is a printer settings too, but this says &quot;no device installed&quot;...\r\n\r\nIn the documentation there is a &quot;AIDL interface&quot; mentioned...\r\n\r\nAnd more, there is a API sample written:\r\n\r\nBound Service\r\n\r\n    Intent intent = new Intent();\r\n    intent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\r\n    intent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\r\n    bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n\r\nIt is necessary to establish a new ServiceConnection service to bind the callback\r\n\r\n    ServiceConnection serviceConnection = new ServiceConnection() {\r\n    @Override public void onServiceConnected(ComponentName name, IBinder service) {\r\n    ExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\r\n    }\r\n    @Override public void onServiceDisconnected(ComponentName name) { }\r\n    };\r\n\r\nUse ext object to realize one’s own printing task\r\n\r\n    ext.printText(“123456\\n”);\r\n\r\nUnbind the service after the completion of the usage\r\n\r\n    unbindService(serviceConnection);\r\n\r\nQuestion is, how can I use this Java code in WinDev Mobile??\r\n\r\nEDIT:\r\n\r\nI managed to print to the printer, but there is a small bug, so sometime it doesn&#39;t start immediatly, so therefore is the loop...\r\n\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import static android.content.Context.BIND_AUTO_CREATE;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.content.Intent;\r\n    import android.content.ServiceConnection;\r\n    import android.os.IBinder;\r\n    import android.widget.Toast;\r\n    import com.sunmi.extprinterservice.ExtPrinterService;\r\n    \r\n    public static void PrintToSunmiPrinter(byte[] cmd) {\r\n    \t\r\n    \tgetCurrentActivity();\r\n    \tContext context = getApplicationContext();\r\n    \tExtPrinterService ext;\r\n    \t\r\n    \tServiceConnection serviceConnection = new ServiceConnection() {\r\n    \t\t@Override public void onServiceConnected(ComponentName className, IBinder service) {\r\n    \t\t\t// This is called when the connection with the service has been\r\n    \t\t\t// established, giving us the service object we can use to\r\n    \t\t\t// interact with the service.  Because we have bound to a explicit\r\n    \t\t\t// service that we know is running in our own process, we can\r\n    \t\t\t// cast its IBinder to a concrete class and directly access it.\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\r\n    \t\t\t\tint ret_code;\r\n    \t\t\t\tint zz=0;\r\n    \t\t\t\t\r\n    \t\t\t\tret_code=ext.printerInit();\r\n    \t\t\t\twhile(ret_code==-1){\r\n    \t\t\t\t\tzz++;\r\n    \t\t\t\t\tif (zz&gt;100) { Toast.makeText(context, &quot;ERROR! / &quot;+ret_code, Toast.LENGTH_SHORT).show(); break; }\r\n    \t\t\t\t\tret_code=ext.printerInit();\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\text.sendRawData(cmd);\r\n    \t\t\t\text.cutPaper(1, 0);\r\n    \t\t\t\text.flush();\r\n    \t\t\t}  catch(Exception ex){\r\n    \t\t\t\tToast.makeText(getApplicationContext(), &quot;ERROR! &quot;+ex.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override public void onServiceDisconnected(ComponentName className) {\r\n    \t\t\t// This is called when the connection with the service has been\r\n    \t\t\t// unexpectedly disconnected -- that is, its process crashed.\r\n    \t\t\t// Because it is running in our same process, we should never\r\n    \t\t\t// see this happen.\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tIntent intent = new Intent();\r\n    \tintent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\r\n    \tintent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\r\n    \tcontext.bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\r\n    }\r\n\r\n\r\n","title":"On a Sunmi K2 Terminal how can I print (on the build-in printer) something using WinDev Mobile?","body":"<p>I'm using a Sunmi K2 POS Checkout Terminal running with Android 7.1.2</p>\n<p>I'm developing a POS software with WinDev for Mobile 26, I'm already displaying some windows, now the question is, how can I print on the build-in pos printer??</p>\n<p>There is a print-test app on the kiosk installed, this works fine.</p>\n<p>In the settings there is a printer settings too, but this says &quot;no device installed&quot;...</p>\n<p>In the documentation there is a &quot;AIDL interface&quot; mentioned...</p>\n<p>And more, there is a API sample written:</p>\n<p>Bound Service</p>\n<pre><code>Intent intent = new Intent();\nintent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\nintent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\nbindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\n</code></pre>\n<p>It is necessary to establish a new ServiceConnection service to bind the callback</p>\n<pre><code>ServiceConnection serviceConnection = new ServiceConnection() {\n@Override public void onServiceConnected(ComponentName name, IBinder service) {\nExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\n}\n@Override public void onServiceDisconnected(ComponentName name) { }\n};\n</code></pre>\n<p>Use ext object to realize one’s own printing task</p>\n<pre><code>ext.printText(“123456\\n”);\n</code></pre>\n<p>Unbind the service after the completion of the usage</p>\n<pre><code>unbindService(serviceConnection);\n</code></pre>\n<p>Question is, how can I use this Java code in WinDev Mobile??</p>\n<p>EDIT:</p>\n<p>I managed to print to the printer, but there is a small bug, so sometime it doesn't start immediatly, so therefore is the loop...</p>\n<pre><code>import android.content.ComponentName;\nimport android.content.Context;\nimport static android.content.Context.BIND_AUTO_CREATE;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.os.IBinder;\nimport android.widget.Toast;\nimport com.sunmi.extprinterservice.ExtPrinterService;\n\npublic static void PrintToSunmiPrinter(byte[] cmd) {\n    \n    getCurrentActivity();\n    Context context = getApplicationContext();\n    ExtPrinterService ext;\n    \n    ServiceConnection serviceConnection = new ServiceConnection() {\n        @Override public void onServiceConnected(ComponentName className, IBinder service) {\n            // This is called when the connection with the service has been\n            // established, giving us the service object we can use to\n            // interact with the service.  Because we have bound to a explicit\n            // service that we know is running in our own process, we can\n            // cast its IBinder to a concrete class and directly access it.\n            try {\n\n                ExtPrinterService ext = ExtPrinterService.Stub.asInterface(service);\n                int ret_code;\n                int zz=0;\n                \n                ret_code=ext.printerInit();\n                while(ret_code==-1){\n                    zz++;\n                    if (zz&gt;100) { Toast.makeText(context, &quot;ERROR! / &quot;+ret_code, Toast.LENGTH_SHORT).show(); break; }\n                    ret_code=ext.printerInit();\n                }\n                \n                ext.sendRawData(cmd);\n                ext.cutPaper(1, 0);\n                ext.flush();\n            }  catch(Exception ex){\n                Toast.makeText(getApplicationContext(), &quot;ERROR! &quot;+ex.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        }\n        \n        @Override public void onServiceDisconnected(ComponentName className) {\n            // This is called when the connection with the service has been\n            // unexpectedly disconnected -- that is, its process crashed.\n            // Because it is running in our same process, we should never\n            // see this happen.\n        }\n    };\n    \n    Intent intent = new Intent();\n    intent.setPackage(&quot;com.sunmi.extprinterservice&quot;);\n    intent.setAction(&quot;com.sunmi.extprinterservice.PrinterService&quot;);\n    context.bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE);\n}\n</code></pre>\n"},{"tags":["java","git"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665516178,"post_id":74033068,"comment_id":130717856,"body_markdown":"I wonder.. the files that you changed - they use _your_ formatting settings. Do you commit those as is disregarding the team&#39;s conventions or do you go into trouble changing the formatting to the one the team prefers?","body":"I wonder.. the files that you changed - they use <i>your</i> formatting settings. Do you commit those as is disregarding the team&#39;s conventions or do you go into trouble changing the formatting to the one the team prefers?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665516351,"post_id":74033068,"comment_id":130717891,"body_markdown":"BTW, this is where the Tab guys would say &quot;we told you so&quot; :)","body":"BTW, this is where the Tab guys would say &quot;we told you so&quot; :)"},{"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"score":0,"creation_date":1665516876,"post_id":74033068,"comment_id":130718052,"body_markdown":"The merge errors happen when I&#39;m rebasing to discard my formatting commit but include the rest of the commits that I&#39;ve made (the actual changes). So while I&#39;m switching back to my teams formatting.","body":"The merge errors happen when I&#39;m rebasing to discard my formatting commit but include the rest of the commits that I&#39;ve made (the actual changes). So while I&#39;m switching back to my teams formatting."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1665517121,"post_id":74033068,"comment_id":130718125,"body_markdown":"I get that. But the real changes - they will use your formatting too. So even though you discard the extra formatting-only-commit, you want the real changes to stay - which formatting are you going to expect for those? Are you going to reformat them manually to follow the team&#39;s conventions?","body":"I get that. But the real changes - they will use your formatting too. So even though you discard the extra formatting-only-commit, you want the real changes to stay - which formatting are you going to expect for those? Are you going to reformat them manually to follow the team&#39;s conventions?"},{"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"score":0,"creation_date":1665517274,"post_id":74033068,"comment_id":130718162,"body_markdown":"Yes right now the files w real changes all have merge conflicts after I rebase so I resolve each one manually and reset to the teams format before pushing to remote. Its a pain in the ass but I don&#39;t ever push my formatting to remote.","body":"Yes right now the files w real changes all have merge conflicts after I rebase so I resolve each one manually and reset to the teams format before pushing to remote. Its a pain in the ass but I don&#39;t ever push my formatting to remote."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665518389,"creation_date":1665518389,"answer_id":74033493,"question_id":74033068,"body_markdown":"If you pass `-X theirs` during rebasing (or merge, or cherry-pick), it&#39;ll automatically resolve merge conflicts by choosing the changes you made. So the full syntax:\r\n\r\n```\r\ngit rebase -i [commit before formatting] -X theirs\r\n```\r\n\r\nThen you&#39;ll still need to update the files that you actually changed to use the team&#39;s conventions.","title":"Remove formatting commit from branch before pushing to remote without ugly merge conflicts","body":"<p>If you pass <code>-X theirs</code> during rebasing (or merge, or cherry-pick), it'll automatically resolve merge conflicts by choosing the changes you made. So the full syntax:</p>\n<pre><code>git rebase -i [commit before formatting] -X theirs\n</code></pre>\n<p>Then you'll still need to update the files that you actually changed to use the team's conventions.</p>\n"}],"owner":{"account_id":18321667,"reputation":158,"user_id":13342296,"display_name":"bbnt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665518389,"creation_date":1665515822,"question_id":74033068,"body_markdown":"I&#39;m working on a java project that uses two spaces as indent but I&#39;ve always used 4 spaces and find it much more readable. I&#39;d like a way to change my code to 4 indents (along w other minor styling changes provided by IntelliJ) while I&#39;m working on it but then discard those changes when I push to remote so that my PR doesn&#39;t show that I changed all of the files in the project and the rest of the team can keep their styling. What I&#39;ve been doing is having an initial formatting commit when I create a new branch, doing my work and making more commits, and then using &#39;git rebase -i&#39; to delete this initial commit. This works for files that I haven&#39;t edited in later commits but if I edit the files, it gives me some messy merge conflicts. Is there a better system to do this?\r\n\r\nOne other option I looked at was using the ignore blame rev but that doesn&#39;t actually change the code, it just changes the blame for the commit (so you can still see the original author) which isn&#39;t what I&#39;m looking for. ","title":"Remove formatting commit from branch before pushing to remote without ugly merge conflicts","body":"<p>I'm working on a java project that uses two spaces as indent but I've always used 4 spaces and find it much more readable. I'd like a way to change my code to 4 indents (along w other minor styling changes provided by IntelliJ) while I'm working on it but then discard those changes when I push to remote so that my PR doesn't show that I changed all of the files in the project and the rest of the team can keep their styling. What I've been doing is having an initial formatting commit when I create a new branch, doing my work and making more commits, and then using 'git rebase -i' to delete this initial commit. This works for files that I haven't edited in later commits but if I edit the files, it gives me some messy merge conflicts. Is there a better system to do this?</p>\n<p>One other option I looked at was using the ignore blame rev but that doesn't actually change the code, it just changes the blame for the commit (so you can still see the original author) which isn't what I'm looking for.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664824357,"creation_date":1664824357,"answer_id":73939812,"question_id":73806804,"body_markdown":"This might be the answer to your question:\r\n\r\n    public static Specification&lt;OrderEntity&gt; addReference(List&lt;String&gt; orderTypes, List&lt;String&gt; refNums) {\r\n            return (root, query, builder) -&gt; {\r\n                if (null != orderTypes &amp;&amp; !orderTypes.isEmpty() &amp;&amp; null != refNums &amp;&amp; !refNums.isEmpty()) {\r\n                    Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\r\n                            root.join(OrderEntity_.orderDetailEntityList);\r\n                    query.distinct(true);\r\n                    return builder.and(orderSearchJoin.get(OrderDetailEntity_.orderType).in(orderTypes),\r\n                            orderSearchJoin.get(OrderDetailEntity_.referenceNum).in(refNums));\r\n                } else {\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n\r\nReference:\r\n\r\nhttps://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html\r\nhttps://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html","title":"Add IN clause to join specification","body":"<p>This might be the answer to your question:</p>\n<pre><code>public static Specification&lt;OrderEntity&gt; addReference(List&lt;String&gt; orderTypes, List&lt;String&gt; refNums) {\n        return (root, query, builder) -&gt; {\n            if (null != orderTypes &amp;&amp; !orderTypes.isEmpty() &amp;&amp; null != refNums &amp;&amp; !refNums.isEmpty()) {\n                Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\n                        root.join(OrderEntity_.orderDetailEntityList);\n                query.distinct(true);\n                return builder.and(orderSearchJoin.get(OrderDetailEntity_.orderType).in(orderTypes),\n                        orderSearchJoin.get(OrderDetailEntity_.referenceNum).in(refNums));\n            } else {\n                return null;\n            }\n        };\n    }\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/Join.html</a>\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/criteria/CriteriaBuilder.html</a></p>\n"}],"owner":{"account_id":26406069,"reputation":11,"user_id":20055836,"display_name":"kalaparthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665518240,"creation_date":1663793431,"question_id":73806804,"body_markdown":"Here is the existing code and I need to pass the List of order types instead of one orderType. And this specification is already added to the `WHERE` clause of the existing search query. \r\n\r\nHow to modify the existing specification for the `IN` clause?\r\n\r\n```\r\npublic static Specification&lt;OrderEntity&gt; addReference(String orderType, String refNum) {\r\n  return (root, query, builder) -&gt; {\r\n    if (null != refType &amp;&amp; null != refNum) {\r\n      Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\r\n                root.join(OrderEntity_.orderDetailEntityList);\r\n      query.distinct(true);      \r\n      return builder.and(\r\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.orderType), orderType),\r\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.referenceNum), refNum));\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n}\r\n```","title":"Add IN clause to join specification","body":"<p>Here is the existing code and I need to pass the List of order types instead of one orderType. And this specification is already added to the <code>WHERE</code> clause of the existing search query.</p>\n<p>How to modify the existing specification for the <code>IN</code> clause?</p>\n<pre><code>public static Specification&lt;OrderEntity&gt; addReference(String orderType, String refNum) {\n  return (root, query, builder) -&gt; {\n    if (null != refType &amp;&amp; null != refNum) {\n      Join&lt;OrderEntity, OrderDetailEntity&gt; orderSearchJoin =\n                root.join(OrderEntity_.orderDetailEntityList);\n      query.distinct(true);      \n      return builder.and(\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.orderType), orderType),\n                builder.equal(orderSearchJoin.get(OrderDetailEntity_.referenceNum), refNum));\n    } else {\n      return null;\n    }\n  };\n}\n</code></pre>\n"},{"tags":["java","openoffice-writer","odftoolkit","odfdom"],"comments":[{"owner":{"account_id":7561520,"reputation":129,"user_id":5738901,"accept_rate":25,"display_name":"j-dimension"},"score":0,"creation_date":1682289154,"post_id":73909144,"comment_id":134187587,"body_markdown":"did you ever find a solution to this issue? I am running into the same.","body":"did you ever find a solution to this issue? I am running into the same."}],"owner":{"account_id":26492574,"reputation":11,"user_id":20130811,"display_name":"bale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665518193,"creation_date":1664542604,"question_id":73909144,"body_markdown":"I couldn&#39;t find a way to copy the header from an OpenOffice writer doc to another with ODFDOM.  \r\nI tried this:\r\n```\r\nTextDocument docIntestazione = TextDocument.loadDocument(&quot;intestazione.odt&quot;);//the file with only the header\r\nTextDocument docBody = TextDocument.loadDocument(&quot;body.odt&quot;);//the file with another header which has to be replaced\r\nHeader headerBody = docBody.getHeader();\r\nHeader headerIntestazione = docIntestazione.getHeader();\r\nStyleHeaderElement styleHeaderIntestazione =  headerIntestazione.getOdfElement();\r\ndocBody.insertOdfElement(headerBody.getOdfElement(), (Document)docIntestazione, (OdfElement)styleHeaderIntestazione, true);\r\n```\r\nBut `insertOdfElement` method returns null and does nothing.\r\n\r\nI also tried:\r\n```\r\nStyleHeaderElement styleHeaderBody =  headerBody.getOdfElement();\r\nStyleHeaderElement clone = (StyleHeaderElement)styleHeaderIntestazione.cloneNode(true);\r\nstyleHeaderBody.removeChild(styleHeaderBody.getFirstChild());//it works. It removes the table that in my case is the only child of the header which has to be replaced\r\nstyleHeaderBody.appendChild(clone);\r\n```\r\nBut I get this exception:\r\n&gt; org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\r\n\r\nFor org.w3c.dom.Document there is an `importNode` method, but I couldn&#39;t find it for `org.odftoolkit.simple.TextDocument`\r\n\r\n","title":"Java Odftoolkit: Copy header (with its style, tables etc) from an OpenOffice writer doc to another with ODFDOM","body":"<p>I couldn't find a way to copy the header from an OpenOffice writer doc to another with ODFDOM.<br />\nI tried this:</p>\n<pre><code>TextDocument docIntestazione = TextDocument.loadDocument(&quot;intestazione.odt&quot;);//the file with only the header\nTextDocument docBody = TextDocument.loadDocument(&quot;body.odt&quot;);//the file with another header which has to be replaced\nHeader headerBody = docBody.getHeader();\nHeader headerIntestazione = docIntestazione.getHeader();\nStyleHeaderElement styleHeaderIntestazione =  headerIntestazione.getOdfElement();\ndocBody.insertOdfElement(headerBody.getOdfElement(), (Document)docIntestazione, (OdfElement)styleHeaderIntestazione, true);\n</code></pre>\n<p>But <code>insertOdfElement</code> method returns null and does nothing.</p>\n<p>I also tried:</p>\n<pre><code>StyleHeaderElement styleHeaderBody =  headerBody.getOdfElement();\nStyleHeaderElement clone = (StyleHeaderElement)styleHeaderIntestazione.cloneNode(true);\nstyleHeaderBody.removeChild(styleHeaderBody.getFirstChild());//it works. It removes the table that in my case is the only child of the header which has to be replaced\nstyleHeaderBody.appendChild(clone);\n</code></pre>\n<p>But I get this exception:</p>\n<blockquote>\n<p>org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.</p>\n</blockquote>\n<p>For org.w3c.dom.Document there is an <code>importNode</code> method, but I couldn't find it for <code>org.odftoolkit.simple.TextDocument</code></p>\n"},{"tags":["java","eclipse","algorithm"],"comments":[{"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"score":0,"creation_date":1665518236,"post_id":74033460,"comment_id":130718505,"body_markdown":"Or is it that the algorithm takes too long to finish because of the array sizes?","body":"Or is it that the algorithm takes too long to finish because of the array sizes?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1665518327,"post_id":74033460,"comment_id":130718541,"body_markdown":"`n =+ 5000` at the top of  your main loop - that doesn&#39;t look right.","body":"<code>n =+ 5000</code> at the top of  your main loop - that doesn&#39;t look right."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1665518689,"post_id":74033460,"comment_id":130718661,"body_markdown":"Yes, it should be `n += 5000` or `n = n+5000`. What you are doing is `n = (+5000)`, i.e. you are assigning the value 5000 to `n` after each iteration.","body":"Yes, it should be <code>n += 5000</code> or <code>n = n+5000</code>. What you are doing is <code>n = (+5000)</code>, i.e. you are assigning the value 5000 to <code>n</code> after each iteration."},{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1665555292,"post_id":74033460,"comment_id":130725007,"body_markdown":"`for(int n = 5000; n &lt;= 50000; n =+ 5000) {  arrsize = n;...`","body":"<code>for(int n = 5000; n &lt;= 50000; n =+ 5000) {  arrsize = n;...</code>"}],"owner":{"account_id":19900483,"reputation":11,"user_id":14580580,"display_name":"leomarrg1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665518180,"creation_date":1665518180,"question_id":74033460,"body_markdown":"    NUMSEXP = 10\r\n    for n in 5000, 10000, 15000 ... 50000\r\n    totalTime = 0;\r\n    \tfor i in 1 ... NUMSEXP\r\n    \t\tA &lt;- new array of n random numbers from 1 to 10*n \r\n    \t\tstartTime &lt;- get currentTime\r\n    \t\tinversions &lt;- countInversions and Sort\r\n    \t\tendTime &lt;- end time\r\n    \t\ttotalTime &lt;- totalTime + (endTime + startTime)\r\n    \tprint n, totalTime/NUMSEXP\r\n\r\nI&#39;m trying to implement the algorithm above using this code but i&#39;m having trouble creating the for loop that changes the array size from 5000 to 10000 until 50000.\r\nI already have the part that makes the algorithm runs 10 times and counts the inversion with the timers. This is the code i have, it keeps running an infinite loop.\r\n\r\n    for(int n = 0; n &lt; 50000; n =+ 5000) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//primer inicializador de array con numeros random\r\n\t\t\t\t\t\tfor(int i = 0; i &lt; arrSize; i++) {\r\n\t\t\t\t\t\t\tarr[i] = (int) (Math.random() * (10 * arrSize));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//para verificar si el algoritmo corre 10 veces\r\n\t\t\t\t\t\tint count = 1;\r\n\t\t\t\t\t\t//corre el algoritmo 10 veces\r\n\t\t\t\t\t\tfor(int j = 0; j &lt; NUMSEXP; j++) {\r\n\t\t\t\t\t\t\t//inicializa array con numeros random\r\n\t\t\t\t\t\t\tfor(int i = 0; i &lt; arrSize; i++) {\r\n\t\t\t\t\t\t\t\tarr[i] = (int) (Math.random() * (10 * arrSize));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlong srtTime = System.nanoTime();\r\n\t\t\t\t\t\t\t//corre algoritmo\r\n\t\t\t\t\t\t\tint inversionCount = countInversionAndSort(arr, 0, arr.length-1);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//termina de contar en nano segundos cuanto se tarda en correr el algoritmo\r\n\t\t\t\t\t\t\tlong ndTime = System.nanoTime();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//imprime cuantas veces conto el algoritmo\r\n\t\t\t\t\t\t\tSystem.out.println(count++ + &quot; Inversion Count: &quot; + inversionCount);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//imprime cuanto tiempo se tardo el algoritmo en completar\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Elapsed Time in Nano seconds: &quot;+ (ndTime-srtTime) + &quot;\\n \\n&quot;);\r\n\r\n\t\t\t\t\t}\t\r\n\t\t\t\t}","title":"How to implement this algorithm to counting inversions in different array sizes?","body":"<pre><code>NUMSEXP = 10\nfor n in 5000, 10000, 15000 ... 50000\ntotalTime = 0;\n    for i in 1 ... NUMSEXP\n        A &lt;- new array of n random numbers from 1 to 10*n \n        startTime &lt;- get currentTime\n        inversions &lt;- countInversions and Sort\n        endTime &lt;- end time\n        totalTime &lt;- totalTime + (endTime + startTime)\n    print n, totalTime/NUMSEXP\n</code></pre>\n<p>I'm trying to implement the algorithm above using this code but i'm having trouble creating the for loop that changes the array size from 5000 to 10000 until 50000.\nI already have the part that makes the algorithm runs 10 times and counts the inversion with the timers. This is the code i have, it keeps running an infinite loop.</p>\n<pre><code>for(int n = 0; n &lt; 50000; n =+ 5000) {\n                \n                    //primer inicializador de array con numeros random\n                    for(int i = 0; i &lt; arrSize; i++) {\n                        arr[i] = (int) (Math.random() * (10 * arrSize));\n                    }\n                    //para verificar si el algoritmo corre 10 veces\n                    int count = 1;\n                    //corre el algoritmo 10 veces\n                    for(int j = 0; j &lt; NUMSEXP; j++) {\n                        //inicializa array con numeros random\n                        for(int i = 0; i &lt; arrSize; i++) {\n                            arr[i] = (int) (Math.random() * (10 * arrSize));\n                        }\n                        \n                        long srtTime = System.nanoTime();\n                        //corre algoritmo\n                        int inversionCount = countInversionAndSort(arr, 0, arr.length-1);\n                                    \n                        //termina de contar en nano segundos cuanto se tarda en correr el algoritmo\n                        long ndTime = System.nanoTime();\n                                    \n                        //imprime cuantas veces conto el algoritmo\n                        System.out.println(count++ + &quot; Inversion Count: &quot; + inversionCount);\n                                    \n                        //imprime cuanto tiempo se tardo el algoritmo en completar\n                        System.out.println(&quot;Elapsed Time in Nano seconds: &quot;+ (ndTime-srtTime) + &quot;\\n \\n&quot;);\n\n                }   \n            }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":2,"creation_date":1665446116,"post_id":74021677,"comment_id":130697650,"body_markdown":"`return new String[]{&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;}[value % 13];`","body":"<code>return new String[]{&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;}[value % 13];</code>"},{"owner":{"account_id":22466920,"reputation":321,"user_id":16667945,"display_name":"AbdullahSaidAbdeaaziz"},"score":0,"creation_date":1665446500,"post_id":74021677,"comment_id":130697695,"body_markdown":"[Check this](https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern) for multiple methods.","body":"<a href=\"https://stackoverflow.com/questions/28049094/replacing-if-else-statement-with-pattern\">Check this</a> for multiple methods."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665447513,"post_id":74021677,"comment_id":130697839,"body_markdown":"There are much nicer solutions but a switch expression would already reduce the repetition quite a lot: https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html `return switch (rank) { case 0 -&gt; &quot;2&quot;; case 1 -&gt; &quot;3&quot;;  ... }`","body":"There are much nicer solutions but a switch expression would already reduce the repetition quite a lot: <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/language/&hellip;</a> <code>return switch (rank) { case 0 -&gt; &quot;2&quot;; case 1 -&gt; &quot;3&quot;;  ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665446354,"creation_date":1665446354,"answer_id":74021721,"question_id":74021677,"body_markdown":"Seems you can do:\r\n\r\n    if (rank &lt; 9) {\r\n      return String.valueOf(rank + 2);\r\n    }\r\n    // handle rest individually","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>Seems you can do:</p>\n<pre><code>if (rank &lt; 9) {\n  return String.valueOf(rank + 2);\n}\n// handle rest individually\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665447208,"creation_date":1665446620,"answer_id":74021734,"question_id":74021677,"body_markdown":"For the rank, you can set your string values in a `List` with [`List.of`][3] and use `rank` as an index into the list.\r\n\r\n    private static final List&lt;String&gt; ranks = List.of(\r\n        &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;);\r\n\r\nThen in the `getVal` method:\r\n\r\n    return ranks.get(rank);\r\n\r\nFor the suit, you need to map a `String` to another `String`, using [`Map.of`][1].\r\n\r\n    private static final Map&lt;String, String&gt; suits = Map.of(\r\n        &quot;spade&quot;, &quot;\\u2660&quot;, &quot;club&quot;, &quot;\\u2663&quot;, &quot;heart&quot;, &quot;\\u2665&quot;, &quot;diamond&quot;, &quot;\\u2666&quot;);\r\n\r\nThen in the `getSuit` method:\r\n\r\n    return suits.getOrDefault(suit.toLowerCase(), &quot;&quot;);\r\n\r\nThe [`getOrDefault` method][2] returns an alternative value in case the mapping doesn&#39;t exist, which appears to be what your code is doing after your if-else if block.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V)\r\n[2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\r\n[3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>For the rank, you can set your string values in a <code>List</code> with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> and use <code>rank</code> as an index into the list.</p>\n<pre><code>private static final List&lt;String&gt; ranks = List.of(\n    &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;J&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;A&quot;);\n</code></pre>\n<p>Then in the <code>getVal</code> method:</p>\n<pre><code>return ranks.get(rank);\n</code></pre>\n<p>For the suit, you need to map a <code>String</code> to another <code>String</code>, using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a>.</p>\n<pre><code>private static final Map&lt;String, String&gt; suits = Map.of(\n    &quot;spade&quot;, &quot;\\u2660&quot;, &quot;club&quot;, &quot;\\u2663&quot;, &quot;heart&quot;, &quot;\\u2665&quot;, &quot;diamond&quot;, &quot;\\u2666&quot;);\n</code></pre>\n<p>Then in the <code>getSuit</code> method:</p>\n<pre><code>return suits.getOrDefault(suit.toLowerCase(), &quot;&quot;);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><code>getOrDefault</code> method</a> returns an alternative value in case the mapping doesn't exist, which appears to be what your code is doing after your if-else if block.</p>\n"}],"owner":{"account_id":26329622,"reputation":1,"user_id":19990326,"display_name":"Adam Lenarduzzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665518143,"creation_date":1665445639,"question_id":74021677,"body_markdown":"I&#39;m trying to clean up code so a selection of values pertaining to a deck of cards rank is an array, I was able to accomplish this with suits, though I can not seem to accomplish it with rank. I simply want to type this out in a way where it will return the same values but not take up so many lines, preferably through an array or linked list. \r\n\r\n```java\r\n  public String toString() {\r\n    return getVal() + getSuit();\r\n  }\r\n\r\n  public String getVal() {\r\n    int rank = value % 13;\r\n\r\n    if (rank == 0) return &quot;2&quot;; else if (rank == 1) return &quot;3&quot;; else if (\r\n      rank == 2\r\n    ) return &quot;4&quot;; else if (rank == 3) return &quot;5&quot;; else if (\r\n      rank == 4\r\n    ) return &quot;6&quot;; else if (rank == 5) return &quot;7&quot;; else if (\r\n      rank == 6\r\n    ) return &quot;8&quot;; else if (rank == 7) return &quot;9&quot;; else if (\r\n      rank == 8\r\n    ) return &quot;10&quot;; else if (rank == 9) return &quot;J&quot;; else if (\r\n      rank == 10\r\n    ) return &quot;Q&quot;; else if (rank == 11) return &quot;K&quot;; else return &quot;A&quot;;\r\n  }\r\n\r\n  public String getSuit() {\r\n    if (suit.toLowerCase().contains(&quot;spade&quot;)) {\r\n      return &quot;\\u2660&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;club&quot;)) {\r\n      return &quot;\\u2663&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;heart&quot;)) {\r\n      return &quot;\\u2665&quot;;\r\n    } else if (suit.toLowerCase().contains(&quot;diamond&quot;)) {\r\n      return &quot;\\u2666&quot;;\r\n    }\r\n\r\n    return &quot;&quot;;\r\n  }\r\n```","title":"how can I make an int rank based on cards into an Array that will return string values?","body":"<p>I'm trying to clean up code so a selection of values pertaining to a deck of cards rank is an array, I was able to accomplish this with suits, though I can not seem to accomplish it with rank. I simply want to type this out in a way where it will return the same values but not take up so many lines, preferably through an array or linked list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public String toString() {\n    return getVal() + getSuit();\n  }\n\n  public String getVal() {\n    int rank = value % 13;\n\n    if (rank == 0) return &quot;2&quot;; else if (rank == 1) return &quot;3&quot;; else if (\n      rank == 2\n    ) return &quot;4&quot;; else if (rank == 3) return &quot;5&quot;; else if (\n      rank == 4\n    ) return &quot;6&quot;; else if (rank == 5) return &quot;7&quot;; else if (\n      rank == 6\n    ) return &quot;8&quot;; else if (rank == 7) return &quot;9&quot;; else if (\n      rank == 8\n    ) return &quot;10&quot;; else if (rank == 9) return &quot;J&quot;; else if (\n      rank == 10\n    ) return &quot;Q&quot;; else if (rank == 11) return &quot;K&quot;; else return &quot;A&quot;;\n  }\n\n  public String getSuit() {\n    if (suit.toLowerCase().contains(&quot;spade&quot;)) {\n      return &quot;\\u2660&quot;;\n    } else if (suit.toLowerCase().contains(&quot;club&quot;)) {\n      return &quot;\\u2663&quot;;\n    } else if (suit.toLowerCase().contains(&quot;heart&quot;)) {\n      return &quot;\\u2665&quot;;\n    } else if (suit.toLowerCase().contains(&quot;diamond&quot;)) {\n      return &quot;\\u2666&quot;;\n    }\n\n    return &quot;&quot;;\n  }\n</code></pre>\n"},{"tags":["java","sql","sql-server","jpa"],"comments":[{"owner":{"account_id":275368,"reputation":31453,"user_id":568209,"accept_rate":38,"display_name":"Ben Thul"},"score":2,"creation_date":1665495963,"post_id":74027164,"comment_id":130710641,"body_markdown":"What is the datatype in the table? My guess is BINARY(255) based on your &quot;this is the UUID stored in my DB&quot; statement. UUIDs are 16 bytes though, so binary(16) would be a better choice. Or, if that&#39;s not possible, varbinary(255) might work (so your db isn&#39;t storing all of the extra `00` bytes to fill out the fixed-width field). Also, what is your actual database backend? You&#39;ve tagged it with sql-server which is for MSSQL, but that&#39;s not an error from MSSQL.","body":"What is the datatype in the table? My guess is BINARY(255) based on your &quot;this is the UUID stored in my DB&quot; statement. UUIDs are 16 bytes though, so binary(16) would be a better choice. Or, if that&#39;s not possible, varbinary(255) might work (so your db isn&#39;t storing all of the extra <code>00</code> bytes to fill out the fixed-width field). Also, what is your actual database backend? You&#39;ve tagged it with sql-server which is for MSSQL, but that&#39;s not an error from MSSQL."},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1665496331,"post_id":74027164,"comment_id":130710832,"body_markdown":"i use H2 as server, but just moved it to MariaDB and yes, it is indeed BINARY(255)","body":"i use H2 as server, but just moved it to MariaDB and yes, it is indeed BINARY(255)"}],"answers":[{"comments":[{"owner":{"account_id":275368,"reputation":31453,"user_id":568209,"accept_rate":38,"display_name":"Ben Thul"},"score":0,"creation_date":1665499857,"post_id":74029668,"comment_id":130712385,"body_markdown":"I&#39;m glad that solved your issue. I&#39;d still recommend reevaluating the data type in your actual database. binary(255) is storing an extra 255 - 16 = 239 bytes per row. That&#39;s a lot.","body":"I&#39;m glad that solved your issue. I&#39;d still recommend reevaluating the data type in your actual database. binary(255) is storing an extra 255 - 16 = 239 bytes per row. That&#39;s a lot."}],"tags":[],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665497914,"creation_date":1665497914,"answer_id":74029668,"question_id":74027164,"body_markdown":"Adding the parameter `columnDefinition = &#39;BINARY(16)` to the `@Column` annotation solved the issue","title":"How to query server using UUIDs","body":"<p>Adding the parameter <code>columnDefinition = 'BINARY(16)</code> to the <code>@Column</code> annotation solved the issue</p>\n"},{"tags":[],"owner":{"account_id":23204213,"reputation":71,"user_id":17298652,"display_name":"Antonio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665517796,"creation_date":1665517796,"answer_id":74033401,"question_id":74027164,"body_markdown":"in my case I used &quot;String&quot; for the field with UUID in the Java class mapping the table.\r\nThe column in the table on the database is a VARCHAR. It has worked ok for me.\r\n\r\n      @Entity\r\n      @Access(AccessType.FIELD)\r\n      @Table(name = &quot;TABLE_WITH_UUID&quot;)\r\n      @NoArgsConstructor\r\n      @AllArgsConstructor\r\n      public class TableWithUuid implements Serializable {\r\n      private static final long serialVersionUID = 1L;\r\n      \r\n      [... other fields ...]\r\n      \r\n      @Column\r\n      @Getter\r\n      @Setter\r\n      private String uuid;\r\n\r\n      [... other fields ....]\r\n\r\n\r\nThe code to create the UUID is the following:\r\n\r\n        UUID uuid = UUID.randomUUID();\r\n        String uuidString = uuid.toString();\r\n\r\nI hope it can help.","title":"How to query server using UUIDs","body":"<p>in my case I used &quot;String&quot; for the field with UUID in the Java class mapping the table.\nThe column in the table on the database is a VARCHAR. It has worked ok for me.</p>\n<pre><code>  @Entity\n  @Access(AccessType.FIELD)\n  @Table(name = &quot;TABLE_WITH_UUID&quot;)\n  @NoArgsConstructor\n  @AllArgsConstructor\n  public class TableWithUuid implements Serializable {\n  private static final long serialVersionUID = 1L;\n  \n  [... other fields ...]\n  \n  @Column\n  @Getter\n  @Setter\n  private String uuid;\n\n  [... other fields ....]\n</code></pre>\n<p>The code to create the UUID is the following:</p>\n<pre><code>    UUID uuid = UUID.randomUUID();\n    String uuidString = uuid.toString();\n</code></pre>\n<p>I hope it can help.</p>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665517796,"creation_date":1665486640,"question_id":74027164,"body_markdown":"I have a project I am working on that uses UUIDs. Unfortunately, when I try to query my DB to check if a specific UUID exists it always returns false even if I can see it in it. To check that my program works fine I switched UUIDs to normal Long IDs and all works fine. Any help would be appreciated.\r\n\r\nThis is how I generate UUIDs in my Entity:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(insertable = false, updatable = false, nullable = false)\r\n    private UUID uuid;\r\n\r\nThis is my logic check in my service class:\r\n\r\n    boolean exists = technologyRepository.existsByUuid(t.getUuid());\r\n    if (!exists) {\r\n        throw new IllegalStateException(&quot;Technology with id &quot; + t.getUuid() + &quot; does not exist.&quot; );\r\n    }\r\n\r\n`exists` always returns false when using UUIDS \r\n\r\n`java.lang.IllegalStateException: Technology with id 61b78428-8bbf-4d84-997f-62e0484c21cc does not exist.`\r\n\r\nthis is the UUID stored in my DB:\r\n\r\n`61b784288bbf4d84997f62e0484c21cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`\r\n\r\nThe following is the error message I get by running the query on my H2 server directly: \r\n\r\n`Values of types &quot;BINARY(255)&quot; and &quot;CHARACTER VARYING(32)&quot; are not comparable; SQL statement:\r\nSELECT * FROM TECHNOLOGY WHERE UUID = &#39;61b784288bbf4d84997f62e0484c21cc&#39; [90110-214] 90110/90110`\r\n\r\n\r\n\r\n\r\n","title":"How to query server using UUIDs","body":"<p>I have a project I am working on that uses UUIDs. Unfortunately, when I try to query my DB to check if a specific UUID exists it always returns false even if I can see it in it. To check that my program works fine I switched UUIDs to normal Long IDs and all works fine. Any help would be appreciated.</p>\n<p>This is how I generate UUIDs in my Entity:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(insertable = false, updatable = false, nullable = false)\nprivate UUID uuid;\n</code></pre>\n<p>This is my logic check in my service class:</p>\n<pre><code>boolean exists = technologyRepository.existsByUuid(t.getUuid());\nif (!exists) {\n    throw new IllegalStateException(&quot;Technology with id &quot; + t.getUuid() + &quot; does not exist.&quot; );\n}\n</code></pre>\n<p><code>exists</code> always returns false when using UUIDS</p>\n<p><code>java.lang.IllegalStateException: Technology with id 61b78428-8bbf-4d84-997f-62e0484c21cc does not exist.</code></p>\n<p>this is the UUID stored in my DB:</p>\n<p><code>61b784288bbf4d84997f62e0484c21cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</code></p>\n<p>The following is the error message I get by running the query on my H2 server directly:</p>\n<p><code>Values of types &quot;BINARY(255)&quot; and &quot;CHARACTER VARYING(32)&quot; are not comparable; SQL statement: SELECT * FROM TECHNOLOGY WHERE UUID = '61b784288bbf4d84997f62e0484c21cc' [90110-214] 90110/90110</code></p>\n"},{"tags":["java","java.util.scanner","primes"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665515082,"post_id":74032910,"comment_id":130717574,"body_markdown":"`for(int i=0;i&lt;X;++i){Y;}` is `int=0;while(i&lt;X){Y;++i}`","body":"<code>for(int i=0;i&lt;X;++i){Y;}</code> is <code>int=0;while(i&lt;X){Y;++i}</code>"}],"answers":[{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515541,"creation_date":1665515541,"answer_id":74033021,"question_id":74032910,"body_markdown":"Your `for` loop \r\n\r\n    for (int j = 2; j &lt;= n; j++){\r\n        //Do whatever\r\n    }\r\n\r\ncan be easily re-written as a `while` loop\r\n\r\n    int j = 2;\r\n\r\n    while (j &lt;= n){\r\n        //Do whatever\r\n        j++;\r\n    }\r\n\r\nA `for` loop is basically a specialized `while` loop that lets you define a starting variable, a stop condition, and an increment value.\r\n\r\nA basic `while` loop only has a stop condition, so in order to accomplish what a `for` loop does, you just need to define the starting variable `j` and the incremental `j++`","title":"print prime numbers between 2 and n","body":"<p>Your <code>for</code> loop</p>\n<pre><code>for (int j = 2; j &lt;= n; j++){\n    //Do whatever\n}\n</code></pre>\n<p>can be easily re-written as a <code>while</code> loop</p>\n<pre><code>int j = 2;\n\nwhile (j &lt;= n){\n    //Do whatever\n    j++;\n}\n</code></pre>\n<p>A <code>for</code> loop is basically a specialized <code>while</code> loop that lets you define a starting variable, a stop condition, and an increment value.</p>\n<p>A basic <code>while</code> loop only has a stop condition, so in order to accomplish what a <code>for</code> loop does, you just need to define the starting variable <code>j</code> and the incremental <code>j++</code></p>\n"},{"tags":[],"owner":{"account_id":26593733,"reputation":1,"user_id":20216489,"display_name":"JJmorg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665517623,"creation_date":1665516855,"answer_id":74033242,"question_id":74032910,"body_markdown":"   ```java\r\n     public static boolean isPrime(int n) {\r\n\t\tif(n == 1) {\r\n\t\t\treturn false;\r\n\t\t} \r\n\t\t\r\n\t\tfor(int i = 2; i &lt;= (long) Math.sqrt(n); i++) {\r\n\t\t\tif(n % i == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\treturn true;\r\n\t}\r\n\r\n    public static void printPrimes(int endPoint) {\r\n\t\tint i = 2;\r\n\t\tSystem.out.printf(&quot;The prime numbers between 2 and %d are:%n&quot;, endPoint);\r\n\t\twhile(i &lt;= endPoint) {\r\n\t\t\tif(isPrime(i)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n```\r\nThis is my first submission here so please forgive me if this is formatted poorly. \r\nEchoing what mmartinez04 said, the while loop functions very similarly to a for as far as iterating through a sequence of integers in this particular situation. The key aspect is ensuring that you are incrementing i in the body of the loop to prevent an endless loop.\r\n","title":"print prime numbers between 2 and n","body":"<pre class=\"lang-java prettyprint-override\"><code>  public static boolean isPrime(int n) {\n     if(n == 1) {\n         return false;\n     } \n     \n     for(int i = 2; i &lt;= (long) Math.sqrt(n); i++) {\n         if(n % i == 0) {\n             return false;\n         }\n     }\n         return true;\n }\n\n public static void printPrimes(int endPoint) {\n     int i = 2;\n     System.out.printf(&quot;The prime numbers between 2 and %d are:%n&quot;, endPoint);\n     while(i &lt;= endPoint) {\n         if(isPrime(i)) {\n             System.out.println(i);\n         }\n         i++;\n     }\n }\n</code></pre>\n<p>This is my first submission here so please forgive me if this is formatted poorly.\nEchoing what mmartinez04 said, the while loop functions very similarly to a for as far as iterating through a sequence of integers in this particular situation. The key aspect is ensuring that you are incrementing i in the body of the loop to prevent an endless loop.</p>\n"}],"owner":{"account_id":25918815,"reputation":1,"user_id":19641837,"display_name":"PedroVb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665517623,"creation_date":1665514855,"question_id":74032910,"body_markdown":"I need to find all prime numbers between 2 and n, the user informs n. However, I cannot use &quot;for&quot;, only &quot;while&quot;, but I can&#39;t make the program works using &quot;while&quot;. Can somebody help me?\r\nThis is the program I made with &quot;for&quot;\r\n```\r\nimport java.util.Scanner;\r\nclass Main {\r\n\tpublic static void main(String [] args)\t{\r\n\t\tint i;\r\n\t\tint cont;\r\n\t\tint n;\r\n\t    System.out.print(&quot;Enter a number: &quot;);\r\n\t\tScanner leia = new Scanner(System.in);\r\n\t\tn = leia.nextInt();\r\n\t    System.out.println(&quot;The prime numbers from 2 to &quot;+n+&quot; are: &quot;);\r\n\t\tfor(int j = 2; j &lt;= n; j++) {\r\n\t\tcont = 0;\r\n\t\t\tfor(i = 1;i &lt;= j; i++) {\r\n\t\t\t   if(j % i == 0) {\r\n\t\t\t        cont++;        \r\n\t\t\t   }\r\n\t\t\t} if(cont == 2) {\r\n\t\t\t       System.out.print(j+&quot;  &quot;);   \r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"print prime numbers between 2 and n","body":"<p>I need to find all prime numbers between 2 and n, the user informs n. However, I cannot use &quot;for&quot;, only &quot;while&quot;, but I can't make the program works using &quot;while&quot;. Can somebody help me?\nThis is the program I made with &quot;for&quot;</p>\n<pre><code>import java.util.Scanner;\nclass Main {\n    public static void main(String [] args) {\n        int i;\n        int cont;\n        int n;\n        System.out.print(&quot;Enter a number: &quot;);\n        Scanner leia = new Scanner(System.in);\n        n = leia.nextInt();\n        System.out.println(&quot;The prime numbers from 2 to &quot;+n+&quot; are: &quot;);\n        for(int j = 2; j &lt;= n; j++) {\n        cont = 0;\n            for(i = 1;i &lt;= j; i++) {\n               if(j % i == 0) {\n                    cont++;        \n               }\n            } if(cont == 2) {\n                   System.out.print(j+&quot;  &quot;);   \n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1665515464,"post_id":74033000,"comment_id":130717664,"body_markdown":"base64 decode it? Or do you give him just the content? In that case the only way is by telling him","body":"base64 decode it? Or do you give him just the content? In that case the only way is by telling him"},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515536,"post_id":74033000,"comment_id":130717684,"body_markdown":"Yes I Just give him base64 string thats it.","body":"Yes I Just give him base64 string thats it."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515606,"post_id":74033000,"comment_id":130717712,"body_markdown":"When I try to decode I am getting contents inside zip file. But I dont want content inside Zip file . I just want sharath.zip as name","body":"When I try to decode I am getting contents inside zip file. But I dont want content inside Zip file . I just want sharath.zip as name"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1665515622,"post_id":74033000,"comment_id":130717716,"body_markdown":"It&#39;s a bit unclear what you&#39;re asking.  `sharath.zip` encodes to `c2hhcmF0aC56aXA=` (non-url safe encoding).  That decodes back to the file name.  What are you actually trying to do?","body":"It&#39;s a bit unclear what you&#39;re asking.  <code>sharath.zip</code> encodes to <code>c2hhcmF0aC56aXA=</code> (non-url safe encoding).  That decodes back to the file name.  What are you actually trying to do?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1665515766,"post_id":74033000,"comment_id":130717752,"body_markdown":"the file content does not contain the file name, but you can encode both the file name and it&#39;s content into a string, e.g. `&quot;sharath.zip|c2VjcmV0IGNvbnRlbnQgOkQ=&quot;`, then when decoding, split the string on `|`, then write a file using the first part as name, the second as content after base64 decoding it.","body":"the file content does not contain the file name, but you can encode both the file name and it&#39;s content into a string, e.g. <code>&quot;sharath.zip|c2VjcmV0IGNvbnRlbnQgOkQ=&quot;</code>, then when decoding, split the string on <code>|</code>, then write a file using the first part as name, the second as content after base64 decoding it."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515772,"post_id":74033000,"comment_id":130717753,"body_markdown":"I am not giving sharath.zip as String sharath.zip is a file i have encoded sharath.zip file and given it to my friend","body":"I am not giving sharath.zip as String sharath.zip is a file i have encoded sharath.zip file and given it to my friend"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665517649,"post_id":74033000,"comment_id":130718318,"body_markdown":"@sharath: That means you&#39;ve encoded the wrong thing.  If you want your friend to decode the string `&quot;sharath.zip&quot;`, then you need to encode that, and you haven&#39;t.  If you want your friend to decode the contents of the zip file, then you need to do that instead.  If you give your friend the wrong thing, then they won&#39;t be able to decode something that you didn&#39;t give them.","body":"@sharath: That means you&#39;ve encoded the wrong thing.  If you want your friend to decode the string <code>&quot;sharath.zip&quot;</code>, then you need to encode that, and you haven&#39;t.  If you want your friend to decode the contents of the zip file, then you need to do that instead.  If you give your friend the wrong thing, then they won&#39;t be able to decode something that you didn&#39;t give them."}],"answers":[{"comments":[{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665515701,"post_id":74033030,"comment_id":130717736,"body_markdown":"tried this But getting mimeType as null value","body":"tried this But getting mimeType as null value"},{"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"score":0,"creation_date":1665515928,"post_id":74033030,"comment_id":130717791,"body_markdown":"Can you just send extension type as request parameter, I think it would be an easy way to achieve our goal","body":"Can you just send extension type as request parameter, I think it would be an easy way to achieve our goal"},{"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"score":0,"creation_date":1665515968,"post_id":74033030,"comment_id":130717799,"body_markdown":"this thread might help? https://stackoverflow.com/questions/37269838/restore-filename-and-extension-from-base64-encoding","body":"this thread might help? <a href=\"https://stackoverflow.com/questions/37269838/restore-filename-and-extension-from-base64-encoding\" title=\"restore filename and extension from base64 encoding\">stackoverflow.com/questions/37269838/&hellip;</a>"},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665516414,"post_id":74033030,"comment_id":130717911,"body_markdown":"but base64 encoded value in like this &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;","body":"but base64 encoded value in like this &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOu&zwnj;&#8203;rtuWViwAAAAAAAAgkAAA&zwnj;&#8203;AIAAAAOaNgealtOa5r+a&zwnj;&#8203;MrgogAAABGOSRgeajgO2&zwnj;&#8203;2mseY5JGB5qOA7baax5j&zwnj;&#8203;kkYHmo4DttprHmOStkNi&zwnj;&#8203;FAAABAVoAJgAA&quot;"},{"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"score":0,"creation_date":1665516919,"post_id":74033030,"comment_id":130718068,"body_markdown":"see in a request such like post, you can send like\nbase64: &quot;YOUR_STRING&quot;\nextension: &quot;.your_extension&quot;\n\nat controller  you can access it both.","body":"see in a request such like post, you can send like base64: &quot;YOUR_STRING&quot; extension: &quot;.your_extension&quot;  at controller  you can access it both."},{"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"score":0,"creation_date":1665517109,"post_id":74033030,"comment_id":130718117,"body_markdown":"I know the extension but I want my friend to retrieve from base64 string itself.","body":"I know the extension but I want my friend to retrieve from base64 string itself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665528753,"post_id":74033030,"comment_id":130720947,"body_markdown":"*but base64 encoded value in like this...* That&#39;s not a rar archive according to unrar","body":"<i>but base64 encoded value in like this...</i> That&#39;s not a rar archive according to unrar"}],"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515581,"creation_date":1665515581,"answer_id":74033030,"question_id":74033000,"body_markdown":"I think for decoding, you can try something like this,\r\n\r\n```\r\n String delims=&quot;[,]&quot;;\r\n    String[] parts = base64ImageString.split(delims);\r\n    String imageString = parts[1];\r\n    byte[] imageByteArray = Base64.decode(imageString );\r\n\r\n    InputStream is = new ByteArrayInputStream(imageByteArray);\r\n\r\n    //Find out image type\r\n    String mimeType = null;\r\n    String fileExtension = null;\r\n    try {\r\n        mimeType = URLConnection.guessContentTypeFromStream(is); //mimeType is something like &quot;image/jpeg&quot;\r\n        String delimiter=&quot;[/]&quot;;\r\n        String[] tokens = mimeType.split(delimiter);\r\n        fileExtension = tokens[1];\r\n    } catch (IOException ioException){\r\n\r\n    }\r\n```","title":"Get File extension from base64 encoded In Java","body":"<p>I think for decoding, you can try something like this,</p>\n<pre><code> String delims=&quot;[,]&quot;;\n    String[] parts = base64ImageString.split(delims);\n    String imageString = parts[1];\n    byte[] imageByteArray = Base64.decode(imageString );\n\n    InputStream is = new ByteArrayInputStream(imageByteArray);\n\n    //Find out image type\n    String mimeType = null;\n    String fileExtension = null;\n    try {\n        mimeType = URLConnection.guessContentTypeFromStream(is); //mimeType is something like &quot;image/jpeg&quot;\n        String delimiter=&quot;[/]&quot;;\n        String[] tokens = mimeType.split(delimiter);\n        fileExtension = tokens[1];\n    } catch (IOException ioException){\n\n    }\n</code></pre>\n"}],"owner":{"account_id":17923488,"reputation":3,"user_id":13022676,"display_name":"sharath"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1917,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665517529,"creation_date":1665515392,"question_id":74033000,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0F6wb.png\r\n\r\nConsider this file type as `sharath.zip`. Suppose I have encoded `sharath.zip` to Base64 String. When I give base64String my friend. How my friend should get `sharath.zip` as file name from base64String. \r\n\r\nbase64 encoded String is &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;","title":"Get File extension from base64 encoded In Java","body":"<p><img src=\"https://i.stack.imgur.com/0F6wb.png\" alt=\"enter image description here\" /></p>\n<p>Consider this file type as <code>sharath.zip</code>. Suppose I have encoded <code>sharath.zip</code> to Base64 String. When I give base64String my friend. How my friend should get <code>sharath.zip</code> as file name from base64String.</p>\n<p>base64 encoded String is &quot;5K2Q0IMKAADrq7bllYsAAAAAAAAIAOaNgealtOa5r+aMruStkMiBHwoAAOurtuWViwAAAAAAAAgkAAAAIAAAAOaNgealtOa5r+aMrgogAAABGOSRgeajgO22mseY5JGB5qOA7baax5jkkYHmo4DttprHmOStkNiFAAABAVoAJgAA&quot;</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1662372124,"post_id":73604960,"comment_id":129983091,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/73604960/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666116224,"post_id":73604960,"comment_id":130857935,"body_markdown":"Does this answer your question? [My service test fails when I have an if statement in the class under test SpringBoot](https://stackoverflow.com/questions/73743671/my-service-test-fails-when-i-have-an-if-statement-in-the-class-under-test-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73743671/my-service-test-fails-when-i-have-an-if-statement-in-the-class-under-test-spring\">My service test fails when I have an if statement in the class under test SpringBoot</a>"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662584450,"creation_date":1662584101,"answer_id":73641363,"question_id":73604960,"body_markdown":"I don&#39;t have your code, but I tried to be the more generic as I can.\r\nI have test like the one below and it works great.\r\nHope to been helpful.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyTest {\r\n\r\n        @Mock\r\n    \tprivate AClass aclass;\r\n\r\n        @Mock\r\n    \tprivate BClass bclass;\r\n\r\n        @Mock\r\n    \tprivate CClass cclass;\r\n    \r\n    \t@Test\r\n    \tvoid testExecute() {\r\n    \t\t\r\n    \t\twhen(aclass.getAbc(any(String.class), any(Date.class), anyString()))\r\n    \t\t\t.thenAnswer(i -&gt; getAbc(i.getArgument(0), i.getArgument(1), i.getArgument(2)));\r\n    \r\n\t\t    when(bclass.isOk())\r\n\t\t\t    .thenAnswer(i -&gt; false);\r\n\r\n\t\t    when(cclass.getCdf(anyString()))\r\n\t\t\t    .thenAnswer(i -&gt; getCdf());\r\n            ...\r\n            ...\r\n            ...\r\n    \r\n        }\r\n\r\n\t\tprivate List&lt;ABC&gt; getAbc(final String myString, final Date now, final String x) {\r\n\t\t\t...\r\n            ...\r\n            ...\r\n\t\t}\r\n\r\n\t\tprivate CDF getCdf() {\r\n\t\t\t...\r\n            ...\r\n            ...\r\n\t\t}\r\n\r\n    }\r\n\r\nAs you can see, for a simple answer I write the answer directly, for a more complex one, I create a private method with the same name and use it as answer.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>I don't have your code, but I tried to be the more generic as I can.\nI have test like the one below and it works great.\nHope to been helpful.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyTest {\n\n    @Mock\n    private AClass aclass;\n\n    @Mock\n    private BClass bclass;\n\n    @Mock\n    private CClass cclass;\n\n    @Test\n    void testExecute() {\n        \n        when(aclass.getAbc(any(String.class), any(Date.class), anyString()))\n            .thenAnswer(i -&gt; getAbc(i.getArgument(0), i.getArgument(1), i.getArgument(2)));\n\n        when(bclass.isOk())\n            .thenAnswer(i -&gt; false);\n\n        when(cclass.getCdf(anyString()))\n            .thenAnswer(i -&gt; getCdf());\n        ...\n        ...\n        ...\n\n    }\n\n    private List&lt;ABC&gt; getAbc(final String myString, final Date now, final String x) {\n        ...\n        ...\n        ...\n    }\n\n    private CDF getCdf() {\n        ...\n        ...\n        ...\n    }\n\n}\n</code></pre>\n<p>As you can see, for a simple answer I write the answer directly, for a more complex one, I create a private method with the same name and use it as answer.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515966,"creation_date":1665515966,"answer_id":74033104,"question_id":73604960,"body_markdown":"Your code will still call the real method, unless `A` is an interface. I assume it is an implementation (a class) in your code.\r\n\r\n```\r\nA a = mock(A.class);\r\nwhen(a.doX()).thenReturn(&quot;X&quot;);\r\n//   ^^^^^^^-- this is calling the real method\r\n```\r\n\r\nIf you must use the class and cannot switch to an interface, you have do use `Mockito.doReturn` instead of `Mockito.when`:\r\n\r\n```\r\nA a = mock(A.class);\r\ndoReturn(&quot;X&quot;).when(a).doX();\r\n```\r\n\r\nBut it is probably better to extract an interface and create mocks from the interface, not by subclassing your real class.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>Your code will still call the real method, unless <code>A</code> is an interface. I assume it is an implementation (a class) in your code.</p>\n<pre><code>A a = mock(A.class);\nwhen(a.doX()).thenReturn(&quot;X&quot;);\n//   ^^^^^^^-- this is calling the real method\n</code></pre>\n<p>If you must use the class and cannot switch to an interface, you have do use <code>Mockito.doReturn</code> instead of <code>Mockito.when</code>:</p>\n<pre><code>A a = mock(A.class);\ndoReturn(&quot;X&quot;).when(a).doX();\n</code></pre>\n<p>But it is probably better to extract an interface and create mocks from the interface, not by subclassing your real class.</p>\n"}],"owner":{"account_id":22509486,"reputation":67,"user_id":16704621,"display_name":"George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665515966,"creation_date":1662356806,"question_id":73604960,"body_markdown":"I have used Mockito very long time. With Mockito 4.7.0 version (and also for example with the version 3.12.4) the code:\r\n\r\n    A a = mock(A.class);\r\n    when(a.doX()).thenReturn(&quot;X&quot;);\r\n\r\ncauses the `java.lang.NullPointerException` in the second line.\r\n\r\nWhen I print the content of the variable `a`\r\n\r\n    System.out.println(a);\r\n\r\nI got also &quot;java.lang.NullPointerException&quot;.\r\n\r\nFor any other class the `Mockito.mock` and `Mockito.when` are working perfectly and if I print a content of some other class instance `b` I got &quot;Mock for B, hashcode: some hash code&quot;\r\n\r\nDo you know what could be problem? My example is simplified and I can&#39;t show the actual classes.","title":"Mockito.mock is not working, using Mockito.when causes NullPointerException","body":"<p>I have used Mockito very long time. With Mockito 4.7.0 version (and also for example with the version 3.12.4) the code:</p>\n<pre><code>A a = mock(A.class);\nwhen(a.doX()).thenReturn(&quot;X&quot;);\n</code></pre>\n<p>causes the <code>java.lang.NullPointerException</code> in the second line.</p>\n<p>When I print the content of the variable <code>a</code></p>\n<pre><code>System.out.println(a);\n</code></pre>\n<p>I got also &quot;java.lang.NullPointerException&quot;.</p>\n<p>For any other class the <code>Mockito.mock</code> and <code>Mockito.when</code> are working perfectly and if I print a content of some other class instance <code>b</code> I got &quot;Mock for B, hashcode: some hash code&quot;</p>\n<p>Do you know what could be problem? My example is simplified and I can't show the actual classes.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664892555,"post_id":73949112,"comment_id":130570764,"body_markdown":"You cannot for a native(SQL) query - with SQL, just as in your example SQL, every parameter must be bound individually. JPQL on the other hand can break out the list parameter in the JPQL string into individual parameters when building the SQL statement. Simply @Query(value = &quot;SELECT e FROM Entity e WHERE e.field_one IN :field_one_list&quot;)","body":"You cannot for a native(SQL) query - with SQL, just as in your example SQL, every parameter must be bound individually. JPQL on the other hand can break out the list parameter in the JPQL string into individual parameters when building the SQL statement. Simply @Query(value = &quot;SELECT e FROM Entity e WHERE e.field_one IN :field_one_list&quot;)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664893134,"post_id":73949112,"comment_id":130571012,"body_markdown":"Take care of java naming conventions. names should be camelCase not snake_case","body":"Take care of java naming conventions. names should be camelCase not snake_case"}],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665515947,"creation_date":1665138673,"answer_id":73985809,"question_id":73949112,"body_markdown":"You can try like this.\r\n\r\n```java\r\n@Query(value=&quot;select * from data_table where field_one = &#39;1000&#39; And (field_two, field_three, field_four) IN :?1 And field_type = ?2 And date &lt;=&#39;2022-09-17&#39;&quot;, nativeQuery = true)\r\n\tList&lt;Entity&gt; findByEntityConditions(String[] data, String[] fieldType);\r\n```\r\nTake data and fieldType as String Array.","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>You can try like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value=&quot;select * from data_table where field_one = '1000' And (field_two, field_three, field_four) IN :?1 And field_type = ?2 And date &lt;='2022-09-17'&quot;, nativeQuery = true)\n    List&lt;Entity&gt; findByEntityConditions(String[] data, String[] fieldType);\n</code></pre>\n<p>Take data and fieldType as String Array.</p>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214468,"creation_date":1665214468,"answer_id":73995208,"question_id":73949112,"body_markdown":"You can try this: \r\n\r\n    @Query( SELECT *\r\n    FROM data_table\r\n    WHERE field_one = &#39;1000&#39;\r\n    AND (field_two, field_three, field_four) IN (:param1)\r\n    AND field_type IN (:param2)\r\n    AND date &lt;= &#39;2022-09-17&#39;, nativeQuery = true)\r\n    List&lt;Entity&gt; findByCustomData(@Param(&quot;param1&quot;)List&lt;String&gt; list1, @Param(&quot;param2) List&lt;String&gt; list2)\r\n\r\n","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>You can try this:</p>\n<pre><code>@Query( SELECT *\nFROM data_table\nWHERE field_one = '1000'\nAND (field_two, field_three, field_four) IN (:param1)\nAND field_type IN (:param2)\nAND date &lt;= '2022-09-17', nativeQuery = true)\nList&lt;Entity&gt; findByCustomData(@Param(&quot;param1&quot;)List&lt;String&gt; list1, @Param(&quot;param2) List&lt;String&gt; list2)\n</code></pre>\n"}],"owner":{"account_id":7018074,"reputation":29,"user_id":5378635,"display_name":"kaushal singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665515947,"creation_date":1664892065,"question_id":73949112,"body_markdown":"I have following SQL query\r\n\r\n    SELECT *\r\n    FROM data_table\r\n    WHERE field_one = &#39;1000&#39;\r\n      AND (field_two, field_three, field_four) IN ((&#39;70033100&#39;, &#39;0090047002&#39;, &#39;CAT&#39;), (&#39;70033100&#39;, &#39;0004712&#39;, &#39;SAT&#39;), (&#39;70031337&#39;, &#39;0233263&#39;, &#39;DAT&#39;), (&#39;70033100&#39;, &#39;0090000001&#39;, &#39;CAT&#39;))\r\n      AND field_type IN (&#39;TYPE_1&#39;, &#39;TYPE_2&#39;)\r\n      AND date &lt;= &#39;2022-09-17&#39;\r\n\r\nI need to write corresponding JPA native query. I have a Entity Class given below, which is referred by query above.\r\n\r\n      class Entity {\r\n        String field_one;\r\n        String field_two;\r\n        String field_three;\r\n        String field_four;\r\n        LocalDate date;\r\n        String field_type;\r\n        }\r\n\r\nI understand that we can simply refer the list in jpa query like `:list`, for example I can have a method like\r\n\r\n    @Query(nativeQuery=true,\r\n    value = &quot;SELECT * FROM Entity WHERE field_one IN :field_one_list&quot;)\r\n    public List&lt;Entity&gt; findByFieldOneList(List&lt;String&gt; field_one_list)\r\n\r\nHow to do it for the given query?","title":"How to access a member of object in native query params with &#39;IN&#39; clause in JPA?","body":"<p>I have following SQL query</p>\n<pre><code>SELECT *\nFROM data_table\nWHERE field_one = '1000'\n  AND (field_two, field_three, field_four) IN (('70033100', '0090047002', 'CAT'), ('70033100', '0004712', 'SAT'), ('70031337', '0233263', 'DAT'), ('70033100', '0090000001', 'CAT'))\n  AND field_type IN ('TYPE_1', 'TYPE_2')\n  AND date &lt;= '2022-09-17'\n</code></pre>\n<p>I need to write corresponding JPA native query. I have a Entity Class given below, which is referred by query above.</p>\n<pre><code>  class Entity {\n    String field_one;\n    String field_two;\n    String field_three;\n    String field_four;\n    LocalDate date;\n    String field_type;\n    }\n</code></pre>\n<p>I understand that we can simply refer the list in jpa query like <code>:list</code>, for example I can have a method like</p>\n<pre><code>@Query(nativeQuery=true,\nvalue = &quot;SELECT * FROM Entity WHERE field_one IN :field_one_list&quot;)\npublic List&lt;Entity&gt; findByFieldOneList(List&lt;String&gt; field_one_list)\n</code></pre>\n<p>How to do it for the given query?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665516220,"post_id":74033034,"comment_id":130717865,"body_markdown":"No, consumers don&#39;t know about broker urls to include in tags. If you want to get broker server metadata, best to use Prometheus JMX + Node exporter on the brokers, rather than write your own metric gatherer... Also, print the metric name if you want to actually compare against the documentation","body":"No, consumers don&#39;t know about broker urls to include in tags. If you want to get broker server metadata, best to use Prometheus JMX + Node exporter on the brokers, rather than write your own metric gatherer... Also, print the metric name if you want to actually compare against the documentation"},{"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"score":0,"creation_date":1665518301,"post_id":74033034,"comment_id":130718528,"body_markdown":"Thanks @OneCricketeer! That makes sense. But I am not even getting topic tag. If you look at the Apache Kafka documentation, you&#39;ll see the following line: kafka.consumer:type=consumer-fetch-manager-metrics,client-id=&quot;{client-id}&quot;,topic=&quot;{topic}&quot;","body":"Thanks @OneCricketeer! That makes sense. But I am not even getting topic tag. If you look at the Apache Kafka documentation, you&#39;ll see the following line: kafka.consumer:type=consumer-fetch-manager-metrics,client-id&zwnj;&#8203;=&quot;{client-id}&quot;,topic&zwnj;&#8203;=&quot;{topic}&quot;"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665520086,"post_id":74033034,"comment_id":130719081,"body_markdown":"Those are JMX metrics in the docs... Not sure `consumer.metrics()` method is the exact same data","body":"Those are JMX metrics in the docs... Not sure <code>consumer.metrics()</code> method is the exact same data"}],"owner":{"account_id":23894548,"reputation":1,"user_id":17893730,"display_name":"saksham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665515921,"creation_date":1665515609,"question_id":74033034,"body_markdown":"According to [Apache Kafka documentation](https://kafka.apache.org/28/documentation.html#consumer_fetch_monitoring), bytes-consumed-rate metric should contain the tags: client-id and topic, but I am only seeing the tags client-id and node-id. Can someone please help me understand what I am doing wrong here?\r\n\r\nAlso, is there a way to get additional information (like broker urls, consumer group name, etc.) in the form of tags? \r\n\r\nConsumer client code:\r\n\r\n        kafkaConsumer.subscribe(kafkaTopicNames);\r\n\r\n        while (true) {\r\n            try {\r\n                ConsumerRecords&lt;String, String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\r\n\r\n                for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\r\n                    logger.info(&quot;Message received &quot; + consumerRecord.value());\r\n                }\r\n\r\n                Map&lt;MetricName, ? extends Metric&gt; kafkaConsumerMetrics = kafkaConsumer.metrics();\r\n\r\n                for (MetricName metricName: kafkaConsumerMetrics.keySet()) {\r\n                    Map&lt;String, String&gt; metricNameTags = metricName.tags();\r\n\r\n                    logger.info(&quot;&gt;&gt;&gt; Kafka consumer metric tags: &quot; + metricNameTags);\r\n                }\r\n            } catch (Exception exception) {}\r\n\r\n            break;\r\n        }\r\n\r\nOutput:\r\n\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\r\n    &gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id, node-id=node-xxxxx}\r\n    .\r\n    .\r\n    .","title":"How to get additional information for each Kafka client (producer/consumer) metric?","body":"<p>According to <a href=\"https://kafka.apache.org/28/documentation.html#consumer_fetch_monitoring\" rel=\"nofollow noreferrer\">Apache Kafka documentation</a>, bytes-consumed-rate metric should contain the tags: client-id and topic, but I am only seeing the tags client-id and node-id. Can someone please help me understand what I am doing wrong here?</p>\n<p>Also, is there a way to get additional information (like broker urls, consumer group name, etc.) in the form of tags?</p>\n<p>Consumer client code:</p>\n<pre><code>    kafkaConsumer.subscribe(kafkaTopicNames);\n\n    while (true) {\n        try {\n            ConsumerRecords&lt;String, String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(1000));\n\n            for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\n                logger.info(&quot;Message received &quot; + consumerRecord.value());\n            }\n\n            Map&lt;MetricName, ? extends Metric&gt; kafkaConsumerMetrics = kafkaConsumer.metrics();\n\n            for (MetricName metricName: kafkaConsumerMetrics.keySet()) {\n                Map&lt;String, String&gt; metricNameTags = metricName.tags();\n\n                logger.info(&quot;&gt;&gt;&gt; Kafka consumer metric tags: &quot; + metricNameTags);\n            }\n        } catch (Exception exception) {}\n\n        break;\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id}\n&gt;&gt;&gt; Kafka consumer metric tags: {client-id=this-is-a-consumer-id, node-id=node-xxxxx}\n.\n.\n.\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","cloudevents"],"comments":[{"owner":{"account_id":324521,"reputation":22913,"user_id":645128,"accept_rate":84,"display_name":"ryyker"},"score":0,"creation_date":1665511851,"post_id":74032278,"comment_id":130716514,"body_markdown":"[This discussion](https://github.com/cloudevents/sdk-java/issues/196) may have something useful for you.","body":"<a href=\"https://github.com/cloudevents/sdk-java/issues/196\" rel=\"nofollow noreferrer\">This discussion</a> may have something useful for you."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665515931,"post_id":74032278,"comment_id":130717792,"body_markdown":"Please share your Spring properties where you&#39;ve set `value.deserializer` to something other than StringDeserializer","body":"Please share your Spring properties where you&#39;ve set <code>value.deserializer</code> to something other than StringDeserializer"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665515978,"post_id":74032278,"comment_id":130717804,"body_markdown":"@ryyker That [shouldn&#39;t be necessary with Kafka](https://github.com/cloudevents/sdk-java/blob/master/kafka/src/main/java/io/cloudevents/kafka/CloudEventMessageDeserializer.java)","body":"@ryyker That <a href=\"https://github.com/cloudevents/sdk-java/blob/master/kafka/src/main/java/io/cloudevents/kafka/CloudEventMessageDeserializer.java\" rel=\"nofollow noreferrer\">shouldn&#39;t be necessary with Kafka</a>"},{"owner":{"account_id":324521,"reputation":22913,"user_id":645128,"accept_rate":84,"display_name":"ryyker"},"score":0,"creation_date":1665521414,"post_id":74032278,"comment_id":130719454,"body_markdown":"@OneCricketeer - LOL, Mine was a complete shot in the dark.   But thanks for linking the small example code.  Kafka looks powerful.","body":"@OneCricketeer - LOL, Mine was a complete shot in the dark.   But thanks for linking the small example code.  Kafka looks powerful."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1665521485,"post_id":74032278,"comment_id":130719466,"body_markdown":"@ryyker It&#39;s not example code. Kafka always stores bytes. Spring-Kafka library defaults to consume as Strings, I believe, so that needs overwritten with the linked class.","body":"@ryyker It&#39;s not example code. Kafka always stores bytes. Spring-Kafka library defaults to consume as Strings, I believe, so that needs overwritten with the linked class."},{"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"score":0,"creation_date":1665579843,"post_id":74032278,"comment_id":130733620,"body_markdown":"Hi guys, thank you all, Found that I did not use the right deserializer. I does not figure in the code above.","body":"Hi guys, thank you all, Found that I did not use the right deserializer. I does not figure in the code above."}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665515897,"creation_date":1665511166,"question_id":74032278,"body_markdown":"I am new to Kafka and trying to do some testing with a producer/consumer pair.\r\n\r\nI have a producer that looks like the below code.\r\n\r\n    String key = &quot;key1&quot;;\r\n        String message = &quot;{}&quot;; // has valid json\r\n        CloudEventBuilder ceb = new CloudEventBuilder().withId(&quot;123&quot;).withSource(xxxxxxxx)\r\n            .withType(&quot;test&quot;).withData(message.getBytes());\r\n    \r\n        topicPublisher.publish(key, ceb.build());\r\n\r\n\r\n\r\nOn my consumer side, I am trying to retrieve the message.\r\n\r\n    @KafkaListener(topics = {&quot;quickstart-events&quot;},groupId = &quot;group1&quot;)\r\n      public void listen(ConsumerRecord&lt;String, CloudEvent&gt; cloudEventRecord) {\r\n        eventHandler.processEvent(cloudEventRecord);\r\n        System.out.println(&quot;received: &quot;+ &quot; key-&gt;&quot;+ cloudEventRecord.key() + &quot; value-&gt; &quot;+cloudEventRecord.value().getId());\r\n      }\r\n\r\n   An error is thrown at this line.\r\n\r\n    cloudEventRecord.value().getId()\r\n\r\nThis is the reason:\r\n\r\n&gt; Caused by: java.lang.ClassCastException: java.lang.String cannot be\r\n&gt; cast to io.cloudevents.CloudEvent","title":"String cannot be converted to CloudEvents","body":"<p>I am new to Kafka and trying to do some testing with a producer/consumer pair.</p>\n<p>I have a producer that looks like the below code.</p>\n<pre><code>String key = &quot;key1&quot;;\n    String message = &quot;{}&quot;; // has valid json\n    CloudEventBuilder ceb = new CloudEventBuilder().withId(&quot;123&quot;).withSource(xxxxxxxx)\n        .withType(&quot;test&quot;).withData(message.getBytes());\n\n    topicPublisher.publish(key, ceb.build());\n</code></pre>\n<p>On my consumer side, I am trying to retrieve the message.</p>\n<pre><code>@KafkaListener(topics = {&quot;quickstart-events&quot;},groupId = &quot;group1&quot;)\n  public void listen(ConsumerRecord&lt;String, CloudEvent&gt; cloudEventRecord) {\n    eventHandler.processEvent(cloudEventRecord);\n    System.out.println(&quot;received: &quot;+ &quot; key-&gt;&quot;+ cloudEventRecord.key() + &quot; value-&gt; &quot;+cloudEventRecord.value().getId());\n  }\n</code></pre>\n<p>An error is thrown at this line.</p>\n<pre><code>cloudEventRecord.value().getId()\n</code></pre>\n<p>This is the reason:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassCastException: java.lang.String cannot be\ncast to io.cloudevents.CloudEvent</p>\n</blockquote>\n"},{"tags":["java","maven","hadoop"],"answers":[{"tags":[],"owner":{"account_id":11942884,"reputation":26,"user_id":8739074,"display_name":"Ironchef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665515423,"creation_date":1665515423,"answer_id":74033005,"question_id":72130233,"body_markdown":"In my project, we had to exclude com.nimbusds:nimbus-jose-jwt from hadoop-auth because of an odd transitive dependency. This ticket: https://issues.apache.org/jira/browse/HADOOP-14903 appears to relate to the problem. We are not using this updated version. Based on your error, maybe this &quot;fix&quot; didn&#39;t work.  ","title":"How to bypass json-smart:2.3-SNAPSHOT imported","body":"<p>In my project, we had to exclude com.nimbusds:nimbus-jose-jwt from hadoop-auth because of an odd transitive dependency. This ticket: <a href=\"https://issues.apache.org/jira/browse/HADOOP-14903\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-14903</a> appears to relate to the problem. We are not using this updated version. Based on your error, maybe this &quot;fix&quot; didn't work.</p>\n"}],"owner":{"account_id":14036111,"reputation":375,"user_id":10138767,"display_name":"DeenOub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74033005,"answer_count":1,"score":2,"last_activity_date":1665515423,"creation_date":1651766298,"question_id":72130233,"body_markdown":"I am building a Java Maven Project and I have a dependency &quot;net.minidev.json-smart:2.3-SNAPSHOT&quot; imported in my package hbase 2.4.9 with another dependency and this displays a warning and Jenkins takes 1 or 2 minutes to resolve only this dependency. \r\n\r\nthe dependency tree is the following : \r\n\r\n org.apache.hbase:hbase-server:2.4.9 -&gt; org.apache.hadoop:hadoop-auth:2.10 -&gt; com.nimbusds:nimbus-jose-jwt:4.41.1 -&gt; net.minidev:json-smart:2.3-SNAPSHOT)\r\n\r\nBut when I exclude hadoop-auth 2.10 to use latest ...\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hbase-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.9&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI have this dependency-tree:\r\n\r\n    [INFO] +- org.apache.hadoop:hadoop-auth:jar:3.3.2:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n    [INFO] |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\r\n    [INFO] |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\r\n    [INFO] |  +- net.minidev:json-smart:jar:2.4.7:compile\r\n    [INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\r\n    [INFO] |  |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n\r\nand when I build with `mvn -U clean install` I have this message:\r\n\r\n    [WARNING] The POM for net.minidev:json-smart:jar:2.3-SNAPSHOT is missing, no dependency information available\r\n\r\nThe debug logs do not say anything more\r\n\r\nhow can I completely remove it ?\r\n\r\nThanks a lot for your help  ","title":"How to bypass json-smart:2.3-SNAPSHOT imported","body":"<p>I am building a Java Maven Project and I have a dependency &quot;net.minidev.json-smart:2.3-SNAPSHOT&quot; imported in my package hbase 2.4.9 with another dependency and this displays a warning and Jenkins takes 1 or 2 minutes to resolve only this dependency.</p>\n<p>the dependency tree is the following :</p>\n<p>org.apache.hbase:hbase-server:2.4.9 -&gt; org.apache.hadoop:hadoop-auth:2.10 -&gt; com.nimbusds:nimbus-jose-jwt:4.41.1 -&gt; net.minidev:json-smart:2.3-SNAPSHOT)</p>\n<p>But when I exclude hadoop-auth 2.10 to use latest ...</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n        &lt;artifactId&gt;hbase-server&lt;/artifactId&gt;\n        &lt;version&gt;2.4.9&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have this dependency-tree:</p>\n<pre><code>[INFO] +- org.apache.hadoop:hadoop-auth:jar:3.3.2:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:compile\n[INFO] |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] |  +- net.minidev:json-smart:jar:2.4.7:compile\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.7:compile\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.1:compile\n</code></pre>\n<p>and when I build with <code>mvn -U clean install</code> I have this message:</p>\n<pre><code>[WARNING] The POM for net.minidev:json-smart:jar:2.3-SNAPSHOT is missing, no dependency information available\n</code></pre>\n<p>The debug logs do not say anything more</p>\n<p>how can I completely remove it ?</p>\n<p>Thanks a lot for your help</p>\n"},{"tags":["java","substring","brackets"],"comments":[{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":0,"creation_date":1528455173,"post_id":50759012,"comment_id":88525407,"body_markdown":"So what is your question ?","body":"So what is your question ?"},{"owner":{"account_id":13687210,"reputation":55,"user_id":9876023,"display_name":"Sia_malhotra"},"score":0,"creation_date":1528457363,"post_id":50759012,"comment_id":88526632,"body_markdown":"wnat to write in code so that it would automatically print all the possible combination of a set of bracket and expession so that they can be evaluated later is my question @soufrk","body":"wnat to write in code so that it would automatically print all the possible combination of a set of bracket and expession so that they can be evaluated later is my question @soufrk"}],"answers":[{"comments":[{"owner":{"account_id":13687210,"reputation":55,"user_id":9876023,"display_name":"Sia_malhotra"},"score":0,"creation_date":1528457905,"post_id":50759732,"comment_id":88526922,"body_markdown":"thanks @ideano1 for pointing my mistake out. But yes I have a certain set of bracket as input and a certain set of expression as input too. So I want to combine both of them and produce some valid expresssions so that I can extract values later . The brackets cannot be like (((a)))|b|c&amp;d. It needs to be valid expresion.\\","body":"thanks @ideano1 for pointing my mistake out. But yes I have a certain set of bracket as input and a certain set of expression as input too. So I want to combine both of them and produce some valid expresssions so that I can extract values later . The brackets cannot be like (((a)))|b|c&amp;d. It needs to be valid expresion.\\"},{"owner":{"account_id":1894006,"reputation":140,"user_id":1711367,"display_name":"ideano1"},"score":0,"creation_date":1528459629,"post_id":50759732,"comment_id":88527918,"body_markdown":"[link] https://www.geeksforgeeks.org/print-all-combinations-of-balanced-parentheses/ \nthis link will give you the valid paranthesis..\n\nand we need to evaluate for valid expressions","body":"[link] <a href=\"https://www.geeksforgeeks.org/print-all-combinations-of-balanced-parentheses/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>  this link will give you the valid paranthesis..  and we need to evaluate for valid expressions"}],"tags":[],"owner":{"account_id":1894006,"reputation":140,"user_id":1711367,"display_name":"ideano1"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665514897,"creation_date":1528457551,"answer_id":50759732,"question_id":50759012,"body_markdown":"clarify me whether your output seems to be wrong , as  `myExpression=a|b|c&amp;d` \r\n so when wrapping up this with brackets, the valid one will be as,\r\n\r\n    ((a|b)|(c&amp;d))\r\n\r\nbut what your example showing is \r\n\r\n    (((a|b)|c)|d)\r\n\r\nwhich is wrong as you dont have `&amp;` in it.\r\n","title":"how to print all the possible combination of a set of bracket and expession so that they can be evaluated later?","body":"<p>clarify me whether your output seems to be wrong , as  <code>myExpression=a|b|c&amp;d</code>\nso when wrapping up this with brackets, the valid one will be as,</p>\n<pre><code>((a|b)|(c&amp;d))\n</code></pre>\n<p>but what your example showing is</p>\n<pre><code>(((a|b)|c)|d)\n</code></pre>\n<p>which is wrong as you dont have <code>&amp;</code> in it.</p>\n"}],"owner":{"account_id":13687210,"reputation":55,"user_id":9876023,"display_name":"Sia_malhotra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665514897,"creation_date":1528455050,"question_id":50759012,"body_markdown":"Below is a code snippet where brack is a set of brackets which are balanced and myExpression contains a logical operation may be having a | and &amp; operator. Is there any way by which I can print all possible combination of bracket. \r\n\r\n     /*  //  myExpression=a|b|c&amp;d brack=((()))    */\r\n            \r\n\r\n    brack = brack.substring(0,1) + brack.substring(1,2) + brack.substring(2,3) + \r\n      myExpression.substring(0,3) + brack.substring(3,4) + \r\n      myExpression.substring(3,5) + brack.substring(4,5) + \r\n      myExpression.substring(5,7) + brack.substring(5,6);\r\n\r\nThis is a manual approach I have tried.\r\nThese should print `(((a|b)|c)&amp;d), (a|(b|(c&amp;d))), ((a|b)|(c&amp;d)), (a|((b|c)&amp;d)), ((a|(b|c))&amp;d)` and as soon as we increase the brackets and expression length then it should show all the possible combination of bracket and variables.","title":"how to print all the possible combination of a set of bracket and expession so that they can be evaluated later?","body":"<p>Below is a code snippet where brack is a set of brackets which are balanced and myExpression contains a logical operation may be having a | and &amp; operator. Is there any way by which I can print all possible combination of bracket. </p>\n\n<pre><code> /*  //  myExpression=a|b|c&amp;d brack=((()))    */\n\n\nbrack = brack.substring(0,1) + brack.substring(1,2) + brack.substring(2,3) + \n  myExpression.substring(0,3) + brack.substring(3,4) + \n  myExpression.substring(3,5) + brack.substring(4,5) + \n  myExpression.substring(5,7) + brack.substring(5,6);\n</code></pre>\n\n<p>This is a manual approach I have tried.\nThese should print <code>(((a|b)|c)&amp;d), (a|(b|(c&amp;d))), ((a|b)|(c&amp;d)), (a|((b|c)&amp;d)), ((a|(b|c))&amp;d)</code> and as soon as we increase the brackets and expression length then it should show all the possible combination of bracket and variables.</p>\n"},{"tags":["java","sonarqube","windows-server-2012","sonarqube-scan"],"answers":[{"tags":[],"owner":{"account_id":12223265,"reputation":8608,"user_id":8921755,"display_name":"Ivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1534881339,"creation_date":1534881339,"answer_id":51955817,"question_id":51951961,"body_markdown":"This is only a warning. And you see it because you use Java 9 or higher which introduced concept of modules. That concept also provides possibilities to limit access event to methods annotated as `public`. \r\nAnd in your case you use Java 9 or higher with SonarQube version which doesn&#39;t support Java modules. \r\nYour SonarQube version uses reflection to access `java.nio.DirectByteBuffer` which was made internal JVM class and not directly accessible for other modules.\r\nBut because such access restriction due to Java modules introduction was a big change Java 9 only shows warnings in case of illegal reflection accesses.\r\nSo if SonarQube works OK in your case you may continue to work but upgrade to next Java version may break it.\r\nYou may try to upgrade SonarQube version to version compatible with Java 9 and higher if you do not want those warnings to appear in logs.","title":"Why am I seeing &quot;An illegal reflective access operation has occurred&quot; from Sonarqube on Windows Server 2012?","body":"<p>This is only a warning. And you see it because you use Java 9 or higher which introduced concept of modules. That concept also provides possibilities to limit access event to methods annotated as <code>public</code>. \nAnd in your case you use Java 9 or higher with SonarQube version which doesn't support Java modules. \nYour SonarQube version uses reflection to access <code>java.nio.DirectByteBuffer</code> which was made internal JVM class and not directly accessible for other modules.\nBut because such access restriction due to Java modules introduction was a big change Java 9 only shows warnings in case of illegal reflection accesses.\nSo if SonarQube works OK in your case you may continue to work but upgrade to next Java version may break it.\nYou may try to upgrade SonarQube version to version compatible with Java 9 and higher if you do not want those warnings to appear in logs.</p>\n"}],"owner":{"account_id":1215378,"reputation":2564,"user_id":1183088,"accept_rate":62,"display_name":"Jack M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51955817,"answer_count":1,"score":2,"last_activity_date":1665514774,"creation_date":1534864942,"question_id":51951961,"body_markdown":"I am running Sonarqube on Windows Server 2012 without a SQL database, but I am getting this error:\r\n\r\n```\r\nSonarQube installed.\r\n--&gt; Wrapper Started as Console\r\nLaunching a JVM...\r\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#39;es&#39;, ipcIndex=1, logFilenamePrefix=es]] from \r\n[C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch]: \r\nC:\\Program Files\\Java\\jre-10.0.2\\bin\\java -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djdk.io.permissionsUseCanonicalPath=true -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j.skipJansi=true -Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch -cp lib/* org.elasticsearch.bootstrap.Elasticsearch -Epath.conf=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\conf\\es\r\n2018.08.21 16:01:49 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] no modules loaded\r\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2018.08.21 16:01:58 INFO  app[][o.s.a.SchedulerImpl] Process[es] is up\r\n2018.08.21 16:01:58 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#39;web&#39;, ipcIndex=2, logFilenamePrefix=web]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.server.app.WebServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process1965346097759412139properties\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2018.08.21 16:02:36 INFO  app[][o.s.a.SchedulerImpl] Process[web] is up\r\n2018.08.21 16:02:36 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#39;ce&#39;, ipcIndex=3, logFilenamePrefix=ce]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.ce.app.CeServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process9239565289637734744properties\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] Process[ce] is up\r\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] SonarQube is up\r\n```","title":"Why am I seeing &quot;An illegal reflective access operation has occurred&quot; from Sonarqube on Windows Server 2012?","body":"<p>I am running Sonarqube on Windows Server 2012 without a SQL database, but I am getting this error:</p>\n<pre><code>SonarQube installed.\n--&gt; Wrapper Started as Console\nLaunching a JVM...\nWrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\n  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\n2018.08.21 16:01:49 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\n2018.08.21 16:01:49 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on /127.0.0.1:9001\n2018.08.21 16:01:49 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key='es', ipcIndex=1, logFilenamePrefix=es]] from \n[C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch]: \nC:\\Program Files\\Java\\jre-10.0.2\\bin\\java -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djdk.io.permissionsUseCanonicalPath=true -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j.skipJansi=true -Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\elasticsearch -cp lib/* org.elasticsearch.bootstrap.Elasticsearch -Epath.conf=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\conf\\es\n2018.08.21 16:01:49 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] no modules loaded\n2018.08.21 16:01:49 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018.08.21 16:01:58 INFO  app[][o.s.a.SchedulerImpl] Process[es] is up\n2018.08.21 16:01:58 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key='web', ipcIndex=2, logFilenamePrefix=web]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.server.app.WebServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process1965346097759412139properties\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018.08.21 16:02:36 INFO  app[][o.s.a.SchedulerImpl] Process[web] is up\n2018.08.21 16:02:36 INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key='ce', ipcIndex=3, logFilenamePrefix=ce]] from [C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3]: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -cp ./lib/common/*;C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\lib\\jdbc\\h2\\h2-1.3.176.jar org.sonar.ce.app.CeServer C:\\Users\\teamcityuser\\Desktop\\sonarqube\\sonarqube-7.3\\temp\\sq-process9239565289637734744properties\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by io.netty.util.internal.ReflectionUtil (file:/C:/Users/teamcityuser/Desktop/sonarqube/sonarqube-7.3/lib/common/netty-common-4.1.13.Final.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of io.netty.util.internal.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] Process[ce] is up\n2018.08.21 16:02:42 INFO  app[][o.s.a.SchedulerImpl] SonarQube is up\n</code></pre>\n"},{"tags":["java","security","wildfly","elytron"],"answers":[{"comments":[{"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"score":0,"creation_date":1665667968,"post_id":74032876,"comment_id":130756924,"body_markdown":"Thanks, the example helped me figure it out. But I still have one question: in line `СlearPassword.createRaw(ClearPassword.ALGORITHM_CLEAR, &quot;ExamplePassword&quot;.toCharArray());`, I need to specify the password from the storage, which I also have to get from somewhere, since it may be different for different servers. It turns out that it should be stored in the vault","body":"Thanks, the example helped me figure it out. But I still have one question: in line <code>СlearPassword.createRaw(ClearPassword.ALGORITHM_CLEAR, &quot;ExamplePassword&quot;.toCharArray());</code>, I need to specify the password from the storage, which I also have to get from somewhere, since it may be different for different servers. It turns out that it should be stored in the vault"},{"owner":{"account_id":25804559,"reputation":161,"user_id":19546298,"display_name":"cam-rod"},"score":0,"creation_date":1665759162,"post_id":74032876,"comment_id":130780168,"body_markdown":"If you added the password using the CLI commands in (2), you should be able to retrieve it [by referencing its alias](https://github.com/wildfly-security-incubator/elytron-examples/blob/58a4b3c78883ba5e1802535bbaafac128d160d08/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java#L80).\n\nThe store is saved as a file, so you can add it to other servers by using the same `add` CLI command with an updated filepath. You can also create a store [with the included bash script](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#keystorecredentialstore).","body":"If you added the password using the CLI commands in (2), you should be able to retrieve it <a href=\"https://github.com/wildfly-security-incubator/elytron-examples/blob/58a4b3c78883ba5e1802535bbaafac128d160d08/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java#L80\" rel=\"nofollow noreferrer\">by referencing its alias</a>.  The store is saved as a file, so you can add it to other servers by using the same <code>add</code> CLI command with an updated filepath. You can also create a store <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#keystorecredentialstore\" rel=\"nofollow noreferrer\">with the included bash script</a>."},{"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"score":0,"creation_date":1665847430,"post_id":74032876,"comment_id":130796848,"body_markdown":"I&#39;m sorry, I copied the wrong line. I&#39;m talking about the password for the store `Password storePassword = ClearPassword.createRaw(ClearPassword.ALGORITHM_CLEAR, &quot;StorePassword&quot;.toCharArray())` To get it by alias, I need to initialize store, and for this I need a password `ProtectionParameter protectionParameter = new CredentialSourceProtectionParameter(IdentityCredentials.NONE.withCredential(new PasswordCredential(storePassword)));\n        credentialStore.initialize(configuration, protectionParameter);`","body":"I&#39;m sorry, I copied the wrong line. I&#39;m talking about the password for the store <code>Password storePassword = ClearPassword.createRaw(ClearPassword.ALGORITHM_CLEAR, &quot;StorePassword&quot;.toCharArray())</code> To get it by alias, I need to initialize store, and for this I need a password <code>ProtectionParameter protectionParameter = new CredentialSourceProtectionParameter(IdentityCredentials.NONE&zwnj;&#8203;.withCredential(new PasswordCredential(storePassword)));         credentialStore.initialize(configuration, protectionParameter);</code>"},{"owner":{"account_id":25804559,"reputation":161,"user_id":19546298,"display_name":"cam-rod"},"score":0,"creation_date":1665891405,"post_id":74032876,"comment_id":130803574,"body_markdown":"Ah, then yeah in that case you need either some secure storage, or you can use a masked password instead ([details](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#Passwords), [implementation](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#referencing-credentials))","body":"Ah, then yeah in that case you need either some secure storage, or you can use a masked password instead (<a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#Passwords\" rel=\"nofollow noreferrer\">details</a>, <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#referencing-credentials\" rel=\"nofollow noreferrer\">implementation</a>)"}],"tags":[],"owner":{"account_id":25804559,"reputation":161,"user_id":19546298,"display_name":"cam-rod"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665514652,"creation_date":1665514652,"answer_id":74032876,"question_id":74017764,"body_markdown":"1. No, vaults are [a legacy tool](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#Security_Vault_Migration) and you should use a credential store to secure passwords.\r\n2. Yes, those commands should be sufficient. You can find more information in the [Elytron documentation](https://docs.wildfly.org/19/WildFly_Elytron_Security.html#create-and-use-a-credential-store). The [docs for the current Wildfly 26.1](https://docs.wildfly.org/26.1/WildFly_Elytron_Security.html#CredentialStore) may also be helpful.\r\n3. You can find [an example application here](https://github.com/wildfly-security-incubator/elytron-examples/tree/main/credential-store).","title":"How to get a password from Wildfly","body":"<ol>\n<li>No, vaults are <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#Security_Vault_Migration\" rel=\"nofollow noreferrer\">a legacy tool</a> and you should use a credential store to secure passwords.</li>\n<li>Yes, those commands should be sufficient. You can find more information in the <a href=\"https://docs.wildfly.org/19/WildFly_Elytron_Security.html#create-and-use-a-credential-store\" rel=\"nofollow noreferrer\">Elytron documentation</a>. The <a href=\"https://docs.wildfly.org/26.1/WildFly_Elytron_Security.html#CredentialStore\" rel=\"nofollow noreferrer\">docs for the current Wildfly 26.1</a> may also be helpful.</li>\n<li>You can find <a href=\"https://github.com/wildfly-security-incubator/elytron-examples/tree/main/credential-store\" rel=\"nofollow noreferrer\">an example application here</a>.</li>\n</ol>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74032876,"answer_count":1,"score":-1,"last_activity_date":1665514652,"creation_date":1665418237,"question_id":74017764,"body_markdown":"I have a password to some service. I need to save it in WildFly 19 and then get it in a java application. \r\n\r\nI found a certain amount of information, but I&#39;m not sure if it&#39;s outdated.\r\n1. Do I need vault?\r\n2. How do I write my password to the Wildfly? I found the following commands. Is this enough to save the password?\r\n```\r\n/subsystem=elytron/credential-store=test:add(relative-to=jboss.server.data.dir, location=test.jceks, create=true,credential-reference={clear-text=storepass})\r\n\r\n/subsystem=elytron/credential-store=test:add-alias(alias=keystorepw,secret-value=secret)\r\n```\r\n3. How do I get a password in a java application?","title":"How to get a password from Wildfly","body":"<p>I have a password to some service. I need to save it in WildFly 19 and then get it in a java application.</p>\n<p>I found a certain amount of information, but I'm not sure if it's outdated.</p>\n<ol>\n<li>Do I need vault?</li>\n<li>How do I write my password to the Wildfly? I found the following commands. Is this enough to save the password?</li>\n</ol>\n<pre><code>/subsystem=elytron/credential-store=test:add(relative-to=jboss.server.data.dir, location=test.jceks, create=true,credential-reference={clear-text=storepass})\n\n/subsystem=elytron/credential-store=test:add-alias(alias=keystorepw,secret-value=secret)\n</code></pre>\n<ol start=\"3\">\n<li>How do I get a password in a java application?</li>\n</ol>\n"},{"tags":["java","sorting","comparator","comparable"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1492902784,"post_id":43565582,"comment_id":74182048,"body_markdown":"Your basic implementation of `Comparable` compares the names of the hills, it has nothing to do with the height","body":"Your basic implementation of <code>Comparable</code> compares the names of the hills, it has nothing to do with the height"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1492902963,"post_id":43565582,"comment_id":74182078,"body_markdown":"Create a new `Comparator` which implements the logic you need to compare the `height`s and use that with `Collections.sort`","body":"Create a new <code>Comparator</code> which implements the logic you need to compare the <code>height</code>s and use that with <code>Collections.sort</code>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1494430576,"post_id":43565582,"comment_id":74828005,"body_markdown":"By defacing your question you&#39;ve rendered it off-topic.","body":"By defacing your question you&#39;ve rendered it off-topic."},{"owner":{"account_id":1348049,"reputation":5104,"user_id":1288408,"display_name":"Modus Tollens"},"score":0,"creation_date":1494430797,"post_id":43565582,"comment_id":74828156,"body_markdown":"Hi Benjamin, I rolled back your edit to keep your question on-topic.","body":"Hi Benjamin, I rolled back your edit to keep your question on-topic."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492903036,"creation_date":1492903036,"answer_id":43565644,"question_id":43565582,"body_markdown":"Here is an example that shows how you can use `Comparable` or a `Comparator`:\r\n\r\n    /*\r\n    **  Use the Collections API to sort a List for you.\r\n    **\r\n    **  When your class has a &quot;natural&quot; sort order you can implement\r\n    **  the Comparable interface.\r\n    **\r\n    **  You can use an alternate sort order when you implement\r\n    **  a Comparator for your class.\r\n    */\r\n    import java.util.*;\r\n    \r\n    public class Person implements Comparable&lt;Person&gt;\r\n    {\r\n    \tString name;\r\n    \tint age;\r\n    \r\n    \tpublic Person(String name, int age)\r\n    \t{\r\n    \t   \tthis.name = name;\r\n    \t   \tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic String getName()\r\n    \t{\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic int getAge()\r\n    \t{\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn name + &quot; : &quot; + age;\r\n    \t}\r\n    \r\n    \t/*\r\n    \t**  Implement the natural order for this class\r\n    \t*/\r\n    \tpublic int compareTo(Person p)\r\n    \t{\r\n    \t\treturn getName().compareTo(p.getName());\r\n    \t}\r\n    \r\n    \tstatic class AgeComparator implements Comparator&lt;Person&gt;\r\n    \t{\r\n    \t\tpublic int compare(Person p1, Person p2)\r\n    \t\t{\r\n    \t\t\treturn p1.getAge() - p2.getAge();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tList&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\r\n    \t\tpeople.add( new Person(&quot;Homer&quot;, 38) );\r\n    \t\tpeople.add( new Person(&quot;Marge&quot;, 35) );\r\n    \t\tpeople.add( new Person(&quot;Bart&quot;, 15) );\r\n    \t\tpeople.add( new Person(&quot;Lisa&quot;, 13) );\r\n    \r\n    \t\t// Sort by natural order\r\n    \r\n    \t\tCollections.sort(people);\r\n    \t\tSystem.out.println(&quot;Sort by Natural order&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t// Sort by reverse natural order\r\n    \r\n    \t\tCollections.sort(people, Collections.reverseOrder());\r\n    \t\tSystem.out.println(&quot;Sort by reverse natural order&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t//  Use a Comparator to sort by age\r\n    \r\n    \t\tCollections.sort(people, new Person.AgeComparator());\r\n    \t\tSystem.out.println(&quot;Sort using Age Comparator&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t//  Use a Comparator to sort by descending age\r\n    \r\n    \t\tCollections.sort(people, Collections.reverseOrder(new Person.AgeComparator()));\r\n    \t\tSystem.out.println(&quot;Sort using Reverse Age Comparator&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \r\n    \t\t//  Use a Comparator with lambda expression to sort by age\r\n    \r\n    //\t\tCollections.sort(people, (o1, o2) -&gt; o1.getAge() - o2.getAge());\r\n    //\t\tCollections.sort(people, Comparator.comparingInt(p -&gt; p.getAge()));\r\n    \t\tCollections.sort(people, Comparator.comparingInt(Person::getAge));\r\n    \t\tSystem.out.println(&quot;Sort using Lambda Age Comparator&quot;);\r\n    \t\tSystem.out.println(&quot;\\t&quot; + people);\r\n    \t}\r\n    }\r\n\r\nSo you just need to implement the `Comparator` for your `Hill` class on whatever property(s) you want.","title":"Descending sort of object using comparable or comparator","body":"<p>Here is an example that shows how you can use <code>Comparable</code> or a <code>Comparator</code>:</p>\n\n<pre><code>/*\n**  Use the Collections API to sort a List for you.\n**\n**  When your class has a \"natural\" sort order you can implement\n**  the Comparable interface.\n**\n**  You can use an alternate sort order when you implement\n**  a Comparator for your class.\n*/\nimport java.util.*;\n\npublic class Person implements Comparable&lt;Person&gt;\n{\n    String name;\n    int age;\n\n    public Person(String name, int age)\n    {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n\n    public int getAge()\n    {\n        return age;\n    }\n\n    public String toString()\n    {\n        return name + \" : \" + age;\n    }\n\n    /*\n    **  Implement the natural order for this class\n    */\n    public int compareTo(Person p)\n    {\n        return getName().compareTo(p.getName());\n    }\n\n    static class AgeComparator implements Comparator&lt;Person&gt;\n    {\n        public int compare(Person p1, Person p2)\n        {\n            return p1.getAge() - p2.getAge();\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        List&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\n        people.add( new Person(\"Homer\", 38) );\n        people.add( new Person(\"Marge\", 35) );\n        people.add( new Person(\"Bart\", 15) );\n        people.add( new Person(\"Lisa\", 13) );\n\n        // Sort by natural order\n\n        Collections.sort(people);\n        System.out.println(\"Sort by Natural order\");\n        System.out.println(\"\\t\" + people);\n\n        // Sort by reverse natural order\n\n        Collections.sort(people, Collections.reverseOrder());\n        System.out.println(\"Sort by reverse natural order\");\n        System.out.println(\"\\t\" + people);\n\n        //  Use a Comparator to sort by age\n\n        Collections.sort(people, new Person.AgeComparator());\n        System.out.println(\"Sort using Age Comparator\");\n        System.out.println(\"\\t\" + people);\n\n        //  Use a Comparator to sort by descending age\n\n        Collections.sort(people, Collections.reverseOrder(new Person.AgeComparator()));\n        System.out.println(\"Sort using Reverse Age Comparator\");\n        System.out.println(\"\\t\" + people);\n\n        //  Use a Comparator with lambda expression to sort by age\n\n//      Collections.sort(people, (o1, o2) -&gt; o1.getAge() - o2.getAge());\n//      Collections.sort(people, Comparator.comparingInt(p -&gt; p.getAge()));\n        Collections.sort(people, Comparator.comparingInt(Person::getAge));\n        System.out.println(\"Sort using Lambda Age Comparator\");\n        System.out.println(\"\\t\" + people);\n    }\n}\n</code></pre>\n\n<p>So you just need to implement the <code>Comparator</code> for your <code>Hill</code> class on whatever property(s) you want.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1492903049,"creation_date":1492903049,"answer_id":43565647,"question_id":43565582,"body_markdown":"Your basic implementation of `Comparable` compares the names of the hills, it has nothing to do with the height\r\n\r\n&gt; How can I adjust Comparable so that it allows me to sort by name and then by height after?\r\n\r\nCreate a new Comparator which implements the logic you need to compare the heights and use that with Collections.sort\r\n\r\n\tCollections.sort(listOfHills, new Comparator&lt;Hill&gt;() {\r\n\t\t@Override\r\n\t\tpublic int compare(Hill o1, Hill o2) {\r\n\t\t\treturn o2.height &gt; o1.height ? (o2.height == o1.height ? 0 : 1) : -1;\r\n\t\t}\r\n\t});\r\n\r\nThis is one of the reasons I don&#39;t normally implement `Comparator` on objects, unless their is a good business rule associated with how the object should be compared, it&#39;s easily to provide a number of custom `Comparator`s (or allow other developers to devise their own) which implement &quot;common&quot; algorithms - but that&#39;s me","title":"Descending sort of object using comparable or comparator","body":"<p>Your basic implementation of <code>Comparable</code> compares the names of the hills, it has nothing to do with the height</p>\n\n<blockquote>\n  <p>How can I adjust Comparable so that it allows me to sort by name and then by height after?</p>\n</blockquote>\n\n<p>Create a new Comparator which implements the logic you need to compare the heights and use that with Collections.sort</p>\n\n<pre><code>Collections.sort(listOfHills, new Comparator&lt;Hill&gt;() {\n    @Override\n    public int compare(Hill o1, Hill o2) {\n        return o2.height &gt; o1.height ? (o2.height == o1.height ? 0 : 1) : -1;\n    }\n});\n</code></pre>\n\n<p>This is one of the reasons I don't normally implement <code>Comparator</code> on objects, unless their is a good business rule associated with how the object should be compared, it's easily to provide a number of custom <code>Comparator</code>s (or allow other developers to devise their own) which implement \"common\" algorithms - but that's me</p>\n"}],"owner":{"display_name":"user5568417"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43565647,"answer_count":2,"score":-1,"last_activity_date":1665514581,"creation_date":1492902412,"question_id":43565582,"body_markdown":"So I have a Hill object that contains information about hills that is obtained from a CSV file. The file looks like this:\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.*;\r\n\r\n    \r\n    \r\n    public class Hill implements Comparable&lt;Hill&gt;{\r\n        public static final String CSV_FILE_URL = &quot;HIDDEN&quot;;\r\n        public static final String DELIMITER = &quot;,&quot;;\r\n        public int number;\r\n        public String name,county;\r\n        public double height,lat,lon;\r\n    \r\n    \r\n        public Hill(int number,String name,String county,double height,double lat,double lon){\r\n            this.number = number;\r\n            this.name = name;\r\n            this.county = county;\r\n            this.height = height;\r\n            this.lat = lat;\r\n            this.lon = lon;\r\n    \r\n        }\r\n    \r\n        public String toString(){\r\n            return(number + &quot;, &quot; + name + &quot;, &quot; + county + &quot;, &quot; + height + &quot;, &quot; + lat + &quot;, &quot; + lon);\r\n        }\r\n    \r\n        public static List&lt;Hill&gt; readHills() throws IOException{\r\n            String[] fields = new String[0];\r\n            URL url = new URL(CSV_FILE_URL);\r\n            Scanner input = new Scanner(url.openConnection().getInputStream());\r\n            List&lt;Hill&gt; hillList = new ArrayList&lt;&gt;();\r\n            input.nextLine();\r\n            while(input.hasNextLine()){\r\n                fields = input.nextLine().split(DELIMITER);\r\n                Hill hill = new Hill(Integer.parseInt(fields[0]),fields[1],fields[2],Double.parseDouble(fields[3]),Double.parseDouble(fields[4]),Double.parseDouble(fields[5]));\r\n                hillList.add(hill);\r\n    \r\n            }\r\n    \r\n            return hillList;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int compareTo(Hill o) {\r\n            return this.name.compareTo(o.name);\r\n        }\r\n        \r\n    \r\n    }\r\n\r\nInside my exercise class I am currently able to sort the hills alphabetically using the Comparable interface. I then get it to print the first 20 hills.\r\n\r\nNow I wish to sort the hills list by height but descending so that I can print out the 20 tallest hills.\r\n    \r\n    import java.io.IOException;\r\n    import java.util.*;\r\n\r\n    public class Exercise5 {\r\n\r\n        public static void exercise5d() throws IOException {\r\n            System.out.println(&quot;### Exercise 5D ###&quot;);\r\n            List listOfHills = Hill.readHills();\r\n            Collections.sort(listOfHills);\r\n            for(int x=0;x&lt;20;x++){\r\n                System.out.println(listOfHills.get(x));\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n    \r\n            //Attempt at reversing\r\n            Comparator&lt;Hill&gt; HillComparator = Collections.reverseOrder();\r\n            Collections.sort(listOfHills,HillComparator);\r\n            for(int x=0;x&lt;20;x++){\r\n                System.out.println(listOfHills.get(x));\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            exercise5d();\r\n        }\r\n    }\r\n\r\n","title":"Descending sort of object using comparable or comparator","body":"<p>So I have a Hill object that contains information about hills that is obtained from a CSV file. The file looks like this:</p>\n<pre><code>import java.io.IOException;\nimport java.net.URL;\nimport java.util.*;\n\n\n\npublic class Hill implements Comparable&lt;Hill&gt;{\n    public static final String CSV_FILE_URL = &quot;HIDDEN&quot;;\n    public static final String DELIMITER = &quot;,&quot;;\n    public int number;\n    public String name,county;\n    public double height,lat,lon;\n\n\n    public Hill(int number,String name,String county,double height,double lat,double lon){\n        this.number = number;\n        this.name = name;\n        this.county = county;\n        this.height = height;\n        this.lat = lat;\n        this.lon = lon;\n\n    }\n\n    public String toString(){\n        return(number + &quot;, &quot; + name + &quot;, &quot; + county + &quot;, &quot; + height + &quot;, &quot; + lat + &quot;, &quot; + lon);\n    }\n\n    public static List&lt;Hill&gt; readHills() throws IOException{\n        String[] fields = new String[0];\n        URL url = new URL(CSV_FILE_URL);\n        Scanner input = new Scanner(url.openConnection().getInputStream());\n        List&lt;Hill&gt; hillList = new ArrayList&lt;&gt;();\n        input.nextLine();\n        while(input.hasNextLine()){\n            fields = input.nextLine().split(DELIMITER);\n            Hill hill = new Hill(Integer.parseInt(fields[0]),fields[1],fields[2],Double.parseDouble(fields[3]),Double.parseDouble(fields[4]),Double.parseDouble(fields[5]));\n            hillList.add(hill);\n\n        }\n\n        return hillList;\n    }\n\n\n    @Override\n    public int compareTo(Hill o) {\n        return this.name.compareTo(o.name);\n    }\n    \n\n}\n</code></pre>\n<p>Inside my exercise class I am currently able to sort the hills alphabetically using the Comparable interface. I then get it to print the first 20 hills.</p>\n<p>Now I wish to sort the hills list by height but descending so that I can print out the 20 tallest hills.</p>\n<pre><code>import java.io.IOException;\nimport java.util.*;\n\npublic class Exercise5 {\n\n    public static void exercise5d() throws IOException {\n        System.out.println(&quot;### Exercise 5D ###&quot;);\n        List listOfHills = Hill.readHills();\n        Collections.sort(listOfHills);\n        for(int x=0;x&lt;20;x++){\n            System.out.println(listOfHills.get(x));\n        }\n        System.out.println(&quot;&quot;);\n\n        //Attempt at reversing\n        Comparator&lt;Hill&gt; HillComparator = Collections.reverseOrder();\n        Collections.sort(listOfHills,HillComparator);\n        for(int x=0;x&lt;20;x++){\n            System.out.println(listOfHills.get(x));\n        }\n\n\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        exercise5d();\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1665522707,"post_id":74032856,"comment_id":130719801,"body_markdown":"As a regular java app or within a container? Within a container, you generally point the persistence unit at a container managed connection pool. EclipseLink&#39;s internal &#39;pool&#39; is mostly for dev use and while I&#39;ve seen shops use it in production, but most will configure an external connection pool and have EclipseLink use it instead when they get to performance tuning - you can give it a DataSource instance in the jtaDataSource/nonJtaDataSource property instead of just a string.","body":"As a regular java app or within a container? Within a container, you generally point the persistence unit at a container managed connection pool. EclipseLink&#39;s internal &#39;pool&#39; is mostly for dev use and while I&#39;ve seen shops use it in production, but most will configure an external connection pool and have EclipseLink use it instead when they get to performance tuning - you can give it a DataSource instance in the jtaDataSource/nonJtaDataSource property instead of just a string."},{"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"score":0,"creation_date":1665555561,"post_id":74032856,"comment_id":130725076,"body_markdown":"Thank you for the quick response! This is for a regular java app. So the idea is to point to a Datasource !?, and have all idle connection settings inside the Datasource. Please correct if I have misunderstood this.","body":"Thank you for the quick response! This is for a regular java app. So the idea is to point to a Datasource !?, and have all idle connection settings inside the Datasource. Please correct if I have misunderstood this."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665588797,"post_id":74032856,"comment_id":130737510,"body_markdown":"Yes, that&#39;s what I&#39;ve done on projects where I need more control over pooling. EclipseLink&#39;s internal pooling is great, but runs synchronously in the app and why timeout/idle monitoring and some of the other features you&#39;ll find elsewhere are beyond what it supports.","body":"Yes, that&#39;s what I&#39;ve done on projects where I need more control over pooling. EclipseLink&#39;s internal pooling is great, but runs synchronously in the app and why timeout/idle monitoring and some of the other features you&#39;ll find elsewhere are beyond what it supports."}],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665514538,"creation_date":1665514538,"question_id":74032856,"body_markdown":"I am trying to use EclipseLink JPA for a sample java application. I am trying to configure the connection pool related settings in the persistence.xml, but I could not find any suitable property for specifying the minimum Idle connections to be maintained in the connection pool. I was not able to find any details around this property or idle connection time out property in the Eclipselink documentation, [here][1]. Can someone please point me to the documentation links that I am looking for?\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#connectionpool\r\n\r\n\r\n","title":"EclipseLink - Connection Pool Settings - Idle Connections","body":"<p>I am trying to use EclipseLink JPA for a sample java application. I am trying to configure the connection pool related settings in the persistence.xml, but I could not find any suitable property for specifying the minimum Idle connections to be maintained in the connection pool. I was not able to find any details around this property or idle connection time out property in the Eclipselink documentation, <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/jpa/extensions/persistenceproperties_ref.htm#connectionpool\" rel=\"nofollow noreferrer\">here</a>. Can someone please point me to the documentation links that I am looking for?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1665514021,"post_id":74003023,"comment_id":130717241,"body_markdown":"Could you amend this question so that the question post is a question, and the answer is posted in the answer section? Thanks!","body":"Could you amend this question so that the question post is a question, and the answer is posted in the answer section? Thanks!"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":2,"creation_date":1665514052,"post_id":74003023,"comment_id":130717259,"body_markdown":"As interesting this is, this needs to be in Q&amp;A format to be on-topic.","body":"As interesting this is, this needs to be in Q&amp;A format to be on-topic."}],"answers":[{"tags":[],"owner":{"account_id":20308672,"reputation":3,"user_id":14896299,"display_name":"Sivan Kakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665302352,"creation_date":1665302352,"answer_id":74003034,"question_id":74003023,"body_markdown":"this question is solved with answer given above.\r\n\r\nalso answer is provided on my github page: **https://github.com/bruce-Wayn/java-qns/blob/6a9714225b4884aefbdad0441e721416c5843576/magic-match-sticks.java**","title":"magic matchsticks problem geeks for geeks interview question","body":"<p>this question is solved with answer given above.</p>\n<p>also answer is provided on my github page: <strong><a href=\"https://github.com/bruce-Wayn/java-qns/blob/6a9714225b4884aefbdad0441e721416c5843576/magic-match-sticks.java\" rel=\"nofollow noreferrer\">https://github.com/bruce-Wayn/java-qns/blob/6a9714225b4884aefbdad0441e721416c5843576/magic-match-sticks.java</a></strong></p>\n"}],"owner":{"account_id":20308672,"reputation":3,"user_id":14896299,"display_name":"Sivan Kakkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665519217,"accepted_answer_id":74003034,"answer_count":1,"score":0,"last_activity_date":1665513985,"creation_date":1665302244,"question_id":74003023,"body_markdown":"I have given an interview in geeks for geeks where I was given a magic match sticks problem, I wasn&#39;t able to solve it in time. I solved it myself a day after, I wasn&#39;t able to find the solution as well on Stack Overflow, so here is the solution for you if you ever encounter that problem:\r\n\r\n```\r\n//magic match-stick problem\r\n/*in this problem set we are given n number of match boxes, \r\n* you need to add matches in a match that is \r\n* the n number of matches in each box,\r\n* but the catch is instead of adding the matches, \r\n* you need to subtract the matches pair that you will be inserting in place \r\n* of every new match stick until there is only last box left with final match stick score\r\n* eg: 1st match box: 4match sticks: 1,2,3,4 match numbers\r\n* 2nd time: 2 match sticks : (1-2), (3-4)=&gt; 1, 1\r\n* last time: (1-1) =&gt; 0\r\n* \r\n* I know I cannot explain the problem correctly in English, but I will be able to explain it to you in hindi v well\r\n* also if you can understand the code, you will understand the question\r\n* this took me one day to solve, many minor mistakes I did\r\n* this is a geeks for geeks interview question\r\n* question name magical matchsticks*/\r\n\r\npublic class practice{\r\n    public static void main(String args[]) {\t\r\n\t    int a[] = {1,2,3,4,5,6};\r\n\t\tint num;\r\n        int count;\r\n        int n = a.length;\r\n        \r\n\t    do\r\n        {\r\n\t\r\n\t    \tnum=0;\r\n\t    \tcount=0;\r\n\t    \t\r\n\t        if(n==1)\r\n            {\r\n\t            System.out.println(a[0]+&quot;last&quot;);\r\n\t        }\r\n\t        \r\n\t        else if(n&gt;1)\r\n            {\r\n\t        \t\r\n\t            \r\n\t            if(n%2==0)\r\n                {\r\n\t            \tn=n/2;\r\n\t            \t\r\n\t                for(int i = 0; i&lt;((n)) ; i++)\r\n                    {\r\n\t                \t\r\n\t                    a[i] = a[num]-a[num+1];\r\n\t                    \r\n\t                    if(a[i]&lt;0)\r\n                        {\r\n\t                        a[i] = a[i]*(-1);\r\n\t                        System.out.print(a[i]+&quot; &quot;+a[i + 1]);\r\n\t                    }\r\n\t                    \r\n\t                    System.out.println(&quot; a &quot;);\r\n\t                    \r\n\t                    num = num + 2;\r\n\t                    count++;\r\n\t                    \r\n\t                }\r\n\t            }\r\n\t            else if(n%2==1)\r\n               {\r\n\t            \tn = (n/2) +1;\r\n\t                for(int i = 0; i&lt;(n); i++)\r\n                   {    \r\n\t                    a[i] = a[num]-a[num+1];\r\n\t                    if(a[i]&lt;0)\r\n                        {\r\n\t                        a[i] = a[i]*(-1);\r\n\t                        System.out.print(a[i]+&quot; &quot;+a[i + 1]);\r\n\t                    }\r\n\t                    System.out.println(&quot;b &quot;);\r\n\t                    num = num + 2;\r\n\t                    count++;\r\n\t                }\r\n\t                \r\n\t            }\r\n\t        }\r\n\t        System.out.println(n);\r\n\t        for(int j = 0; j&lt;a.length;j++) \r\n            {\r\n\t        \tSystem.out.print(a[j]);\r\n\t        }\r\n\t        System.out.println(&quot; &quot;);\r\n\t            \r\n\t    }while(n&gt;1); \r\n\t    \r\n\t    \r\n\t    for(int k = 0; k&lt;a.length;k++) \r\n        {\r\n        \tSystem.out.print(a[k]);\r\n        }\r\n        System.out.println(&quot; &quot;);\r\n        \r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\nThis problem will show you all the steps as the program goes on, you will need to make changes so it returns value from a separate class or function.\r\n\r\nI&#39;ll be starting to provide solutions for competitive programming on this account.\r\n","title":"magic matchsticks problem geeks for geeks interview question","body":"<p>I have given an interview in geeks for geeks where I was given a magic match sticks problem, I wasn't able to solve it in time. I solved it myself a day after, I wasn't able to find the solution as well on Stack Overflow, so here is the solution for you if you ever encounter that problem:</p>\n<pre><code>//magic match-stick problem\n/*in this problem set we are given n number of match boxes, \n* you need to add matches in a match that is \n* the n number of matches in each box,\n* but the catch is instead of adding the matches, \n* you need to subtract the matches pair that you will be inserting in place \n* of every new match stick until there is only last box left with final match stick score\n* eg: 1st match box: 4match sticks: 1,2,3,4 match numbers\n* 2nd time: 2 match sticks : (1-2), (3-4)=&gt; 1, 1\n* last time: (1-1) =&gt; 0\n* \n* I know I cannot explain the problem correctly in English, but I will be able to explain it to you in hindi v well\n* also if you can understand the code, you will understand the question\n* this took me one day to solve, many minor mistakes I did\n* this is a geeks for geeks interview question\n* question name magical matchsticks*/\n\npublic class practice{\n    public static void main(String args[]) {    \n        int a[] = {1,2,3,4,5,6};\n        int num;\n        int count;\n        int n = a.length;\n        \n        do\n        {\n    \n            num=0;\n            count=0;\n            \n            if(n==1)\n            {\n                System.out.println(a[0]+&quot;last&quot;);\n            }\n            \n            else if(n&gt;1)\n            {\n                \n                \n                if(n%2==0)\n                {\n                    n=n/2;\n                    \n                    for(int i = 0; i&lt;((n)) ; i++)\n                    {\n                        \n                        a[i] = a[num]-a[num+1];\n                        \n                        if(a[i]&lt;0)\n                        {\n                            a[i] = a[i]*(-1);\n                            System.out.print(a[i]+&quot; &quot;+a[i + 1]);\n                        }\n                        \n                        System.out.println(&quot; a &quot;);\n                        \n                        num = num + 2;\n                        count++;\n                        \n                    }\n                }\n                else if(n%2==1)\n               {\n                    n = (n/2) +1;\n                    for(int i = 0; i&lt;(n); i++)\n                   {    \n                        a[i] = a[num]-a[num+1];\n                        if(a[i]&lt;0)\n                        {\n                            a[i] = a[i]*(-1);\n                            System.out.print(a[i]+&quot; &quot;+a[i + 1]);\n                        }\n                        System.out.println(&quot;b &quot;);\n                        num = num + 2;\n                        count++;\n                    }\n                    \n                }\n            }\n            System.out.println(n);\n            for(int j = 0; j&lt;a.length;j++) \n            {\n                System.out.print(a[j]);\n            }\n            System.out.println(&quot; &quot;);\n                \n        }while(n&gt;1); \n        \n        \n        for(int k = 0; k&lt;a.length;k++) \n        {\n            System.out.print(a[k]);\n        }\n        System.out.println(&quot; &quot;);\n        \n        \n    }\n}\n\n</code></pre>\n<p>This problem will show you all the steps as the program goes on, you will need to make changes so it returns value from a separate class or function.</p>\n<p>I'll be starting to provide solutions for competitive programming on this account.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":0,"creation_date":1619708633,"post_id":67314324,"comment_id":118992490,"body_markdown":"It works fine for me on Linux with Bash...","body":"It works fine for me on Linux with Bash..."},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1619716689,"post_id":67314324,"comment_id":118996230,"body_markdown":"Your gradle code works. You&#39;re messing up the setup of your env var. Run the &quot;export ...&quot; command from the same shell from where you run the gradlew script. Or just run it in one go with `USERNAME=test ./gradlew ...`","body":"Your gradle code works. You&#39;re messing up the setup of your env var. Run the &quot;export ...&quot; command from the same shell from where you run the gradlew script. Or just run it in one go with <code>USERNAME=test .&#47;gradlew ...</code>"},{"owner":{"account_id":11853101,"reputation":387,"user_id":8673809,"accept_rate":50,"display_name":"Kevin Dave"},"score":1,"creation_date":1619753421,"post_id":67314324,"comment_id":119005891,"body_markdown":"Tried both by running the &quot;export USERNAME=someusername&quot; and also &quot;USERNAME=someusername ./gradlew ...&quot; in the same shell that I use to run the gradlew script. Still failing","body":"Tried both by running the &quot;export USERNAME=someusername&quot; and also &quot;USERNAME=someusername ./gradlew ...&quot; in the same shell that I use to run the gradlew script. Still failing"},{"owner":{"account_id":1060892,"reputation":1641,"user_id":1062545,"accept_rate":17,"display_name":"Ross"},"score":0,"creation_date":1650997273,"post_id":67314324,"comment_id":127255329,"body_markdown":"@KevinDave have you ever found the solution for the problem?","body":"@KevinDave have you ever found the solution for the problem?"}],"answers":[{"tags":[],"owner":{"account_id":5467348,"reputation":43,"user_id":4347755,"display_name":"robboots"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665513877,"creation_date":1665513877,"answer_id":74032740,"question_id":67314324,"body_markdown":"The environment is likely cached by the Gradle daemon. Force the daemon to stop with this command:\r\n\r\n    ./gradlew --stop","title":"build.gradle cannot detect environment variable","body":"<p>The environment is likely cached by the Gradle daemon. Force the daemon to stop with this command:</p>\n<pre><code>./gradlew --stop\n</code></pre>\n"}],"owner":{"account_id":11853101,"reputation":387,"user_id":8673809,"accept_rate":50,"display_name":"Kevin Dave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665513877,"creation_date":1619687339,"question_id":67314324,"body_markdown":"I&#39;m trying to run a `./gradlew` script. Inside my `build.gradle`, I have a variable that takes value from the environment variable\r\n\r\n```groovy\r\ndef username = System.getenv(&#39;USERNAME&#39;)\r\nprint username\r\n```\r\n\r\nI&#39;ve exported the environment variable by running `export USERNAME=someusername` before I run the `./gradlew` script\r\n\r\nThe result of `print username` is always `null`. I use both IntelliJ and VS Code and run the `./gradlew` script from the built-in zsh terminal.\r\n\r\nDid I miss any setup? Previously before my Mac was formated, things go well. But after it was formatted, I just started to do Java again and install everything (JDK, IntelliJ). But suddenly I got this kind of result.","title":"build.gradle cannot detect environment variable","body":"<p>I'm trying to run a <code>./gradlew</code> script. Inside my <code>build.gradle</code>, I have a variable that takes value from the environment variable</p>\n<pre><code>def username = System.getenv('USERNAME')\nprint username\n</code></pre>\n<p>I've exported the environment variable by running <code>export USERNAME=someusername</code> before I run the <code>./gradlew</code> script</p>\n<p>The result of <code>print username</code> is always <code>null</code>. I use both IntelliJ and VS Code and run the <code>./gradlew</code> script from the built-in zsh terminal.</p>\n<p>Did I miss any setup? Previously before my Mac was formated, things go well. But after it was formatted, I just started to do Java again and install everything (JDK, IntelliJ). But suddenly I got this kind of result.</p>\n"},{"tags":["java","oop","methods"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665441307,"post_id":74021100,"comment_id":130696901,"body_markdown":"What is the problem exactly? The compiler should currently tell you that `int PrintEven()` for example needs to `return` something but it doesn&#39;t. You also try to evaluate (print) the returned result of those methods in `&quot;Even numbers &quot; + B.PrintEven()` for example. What number(?) should it print in those lines?","body":"What is the problem exactly? The compiler should currently tell you that <code>int PrintEven()</code> for example needs to <code>return</code> something but it doesn&#39;t. You also try to evaluate (print) the returned result of those methods in <code>&quot;Even numbers &quot; + B.PrintEven()</code> for example. What number(?) should it print in those lines?"},{"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"score":0,"creation_date":1665441308,"post_id":74021100,"comment_id":130696902,"body_markdown":"Okay, what is exactly your question? And please take a look at java code conventions","body":"Okay, what is exactly your question? And please take a look at java code conventions"},{"owner":{"account_id":26584389,"reputation":31,"user_id":20208544,"display_name":"Blu_Owl"},"score":0,"creation_date":1665442827,"post_id":74021100,"comment_id":130697177,"body_markdown":"@zapl hey there, that&#39;s my current issue aswell, where do I insert return in the line of code? when I&#39;m inserting it outside it tells me that &#39;variable&#39; is undefined.","body":"@zapl hey there, that&#39;s my current issue aswell, where do I insert return in the line of code? when I&#39;m inserting it outside it tells me that &#39;variable&#39; is undefined."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665443471,"post_id":74021100,"comment_id":130697284,"body_markdown":"I don&#39;t know what `variable` is either and I don&#39;t know what you wanted to return from those methods. If they don&#39;t need to return a result value (like your `Sum` method) , make them `void` and maybe do `System.out.println(&quot;Even numbers&quot;); B.PrintEven();`?","body":"I don&#39;t know what <code>variable</code> is either and I don&#39;t know what you wanted to return from those methods. If they don&#39;t need to return a result value (like your <code>Sum</code> method) , make them <code>void</code> and maybe do <code>System.out.println(&quot;Even numbers&quot;); B.PrintEven();</code>?"},{"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"score":0,"creation_date":1665828683,"post_id":74021100,"comment_id":130793109,"body_markdown":"You are probably new to Java too. As any other programming language, Java is used also to communicate your algorithm to other fellow programmers. Hence, it is very important to use the code conventions. JusT THInk how AnnOYINg it is tO rEAd soMEthInG LIKE tHIs.","body":"You are probably new to Java too. As any other programming language, Java is used also to communicate your algorithm to other fellow programmers. Hence, it is very important to use the code conventions. JusT THInk how AnnOYINg it is tO rEAd soMEthInG LIKE tHIs."}],"answers":[{"tags":[],"owner":{"account_id":5948731,"reputation":185,"user_id":4677472,"display_name":"Popovkov57"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665445248,"creation_date":1665444367,"answer_id":74021567,"question_id":74021100,"body_markdown":"If your function return nothing, you need to use `void` type method.\r\n\r\nFirst you can update PrindOdd and PrintEven method to print each odd and even numbers when these functions are called:\r\n\r\n```java\r\nclass ArrayMethod {\r\n    \r\n    ...\r\n\r\n    public void PrintOdd() {\r\n    \tSystem.out.println(&quot;PrintOdd&quot;);\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 != 0) {\r\n                int Odd = Array[i];\r\n\r\n                System.out.print(Odd + &quot; &quot;);\r\n            }\r\n    }\r\n\r\n    public void PrintEven() {\r\n    \tSystem.out.println(&quot;PrintEven&quot;);\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 == 0) {\r\n                int Even = Array[i];\r\n                System.out.print(Even + &quot; &quot;);\r\n            }\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nTo print the result you need to update the way to call these functions:\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        ....\r\n\r\n        B.PrintEven();\r\n        B.PrintOdd();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI hope that answers your question","title":"How do I print odd and even numbers using different classes in Java program?","body":"<p>If your function return nothing, you need to use <code>void</code> type method.</p>\n<p>First you can update PrindOdd and PrintEven method to print each odd and even numbers when these functions are called:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ArrayMethod {\n    \n    ...\n\n    public void PrintOdd() {\n        System.out.println(&quot;PrintOdd&quot;);\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 != 0) {\n                int Odd = Array[i];\n\n                System.out.print(Odd + &quot; &quot;);\n            }\n    }\n\n    public void PrintEven() {\n        System.out.println(&quot;PrintEven&quot;);\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 == 0) {\n                int Even = Array[i];\n                System.out.print(Even + &quot; &quot;);\n            }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>To print the result you need to update the way to call these functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        ....\n\n        B.PrintEven();\n        B.PrintOdd();\n\n    }\n}\n</code></pre>\n<p>I hope that answers your question</p>\n"},{"comments":[{"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"score":0,"creation_date":1665828884,"post_id":74032732,"comment_id":130793154,"body_markdown":"This is more of a thank-you than an answer. Maybe it would be better to move it to a comment on a referred answer. If you like to provide an answer, then please submit a full explanation  and a code example.","body":"This is more of a thank-you than an answer. Maybe it would be better to move it to a comment on a referred answer. If you like to provide an answer, then please submit a full explanation  and a code example."}],"tags":[],"owner":{"account_id":26584389,"reputation":31,"user_id":20208544,"display_name":"Blu_Owl"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665513838,"creation_date":1665513838,"answer_id":74032732,"question_id":74021100,"body_markdown":"thank you to everyone who answered my question, the issue was resolved by making PrintOdd and PrintEven methods into Void type and calling it to main method outside of a print System. \r\n\r\nmy dearest thanks to @popovko57 and @zapl, who provided the solution.","title":"How do I print odd and even numbers using different classes in Java program?","body":"<p>thank you to everyone who answered my question, the issue was resolved by making PrintOdd and PrintEven methods into Void type and calling it to main method outside of a print System.</p>\n<p>my dearest thanks to @popovko57 and @zapl, who provided the solution.</p>\n"}],"owner":{"account_id":26584389,"reputation":31,"user_id":20208544,"display_name":"Blu_Owl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665513838,"creation_date":1665439647,"question_id":74021100,"body_markdown":"I&#39;ve been running into the issue of calling the class that&#39;s supposed to print even and odd numbers into the main method, printing each number without overwriting the previous one.\r\nI&#39;ve tried replacing the public int with public void, and it still didn&#39;t work, if you guys could help me it would help a lot. \r\n**this is the code:**\r\n\r\n```java\r\npackage myprojects;\r\n\r\nimport java.util.*;\r\n\r\nclass ArrayMethod {\r\n    private int[] Array;\r\n\r\n    public void Calc(int[] Array) {\r\n        this.Array = Array;\r\n    }\r\n\r\n    public int Sum() {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; Array.length; i++) {\r\n            sum += Array[i];\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    public double Average() {\r\n        return Sum() / Array.length;\r\n    }\r\n\r\n    public int PrintOdd() {\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 != 0) {\r\n                int Odd = Array[i];\r\n\r\n                System.out.println(Odd);\r\n            }\r\n    }\r\n\r\n    public int PrintEven() {\r\n        for (int i = 0; i &lt; Array.length; i++)\r\n            if (Array[i] % 2 == 0) {\r\n                int Even = Array[i];\r\n                System.out.println(Even);\r\n            }\r\n    }\r\n}\r\n```\r\n```java\r\npublic class ArrayEX {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner S = new Scanner(System.in);\r\n\r\n        ArrayMethod B = new ArrayMethod();\r\n        int[] A = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n\r\n        B.Calc(A);\r\n        System.out.println(&quot;Sum of the numbers inside array is &quot; + B.Sum());\r\n        System.out.println(&quot;Average of the numbers inside array is &quot; + B.Average());\r\n        System.out.println(&quot;Even numbers &quot; + B.PrintEven());\r\n        System.out.println(&quot;Odd Numebrs &quot; + B.PrintOdd());\r\n\r\n\r\n    }\r\n}\r\n```","title":"How do I print odd and even numbers using different classes in Java program?","body":"<p>I've been running into the issue of calling the class that's supposed to print even and odd numbers into the main method, printing each number without overwriting the previous one.\nI've tried replacing the public int with public void, and it still didn't work, if you guys could help me it would help a lot.\n<strong>this is the code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package myprojects;\n\nimport java.util.*;\n\nclass ArrayMethod {\n    private int[] Array;\n\n    public void Calc(int[] Array) {\n        this.Array = Array;\n    }\n\n    public int Sum() {\n        int sum = 0;\n        for (int i = 0; i &lt; Array.length; i++) {\n            sum += Array[i];\n        }\n        return sum;\n    }\n\n    public double Average() {\n        return Sum() / Array.length;\n    }\n\n    public int PrintOdd() {\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 != 0) {\n                int Odd = Array[i];\n\n                System.out.println(Odd);\n            }\n    }\n\n    public int PrintEven() {\n        for (int i = 0; i &lt; Array.length; i++)\n            if (Array[i] % 2 == 0) {\n                int Even = Array[i];\n                System.out.println(Even);\n            }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayEX {\n\n    public static void main(String[] args) {\n        Scanner S = new Scanner(System.in);\n\n        ArrayMethod B = new ArrayMethod();\n        int[] A = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n\n        B.Calc(A);\n        System.out.println(&quot;Sum of the numbers inside array is &quot; + B.Sum());\n        System.out.println(&quot;Average of the numbers inside array is &quot; + B.Average());\n        System.out.println(&quot;Even numbers &quot; + B.PrintEven());\n        System.out.println(&quot;Odd Numebrs &quot; + B.PrintOdd());\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1665233333,"post_id":73997089,"comment_id":130654443,"body_markdown":"In your opinion, where should `@ElementCollection private List&lt;String&gt; tuesday` be stored?","body":"In your opinion, where should <code>@ElementCollection private List&lt;String&gt; tuesday</code> be stored?"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1665233357,"post_id":73997089,"comment_id":130654446,"body_markdown":"timetables_tuesday. I added the screen of my database to my question","body":"timetables_tuesday. I added the screen of my database to my question"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1665233660,"post_id":73997089,"comment_id":130654496,"body_markdown":"nope, `@ElementCollection` is designed to store data in separate table. in your case (postgresql, I believe) you need to use another approach: https://vladmihalcea.com/postgresql-array-java-list/","body":"nope, <code>@ElementCollection</code> is designed to store data in separate table. in your case (postgresql, I believe) you need to use another approach: <a href=\"https://vladmihalcea.com/postgresql-array-java-list/\" rel=\"nofollow noreferrer\">vladmihalcea.com/postgresql-array-java-list</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665243619,"post_id":73997089,"comment_id":130656432,"body_markdown":"You can do the same as what Andrey is suggesting with pure JPA by using a converter to serialize the List&lt;String&gt; to/from a String. This will keep your code provider independent (or at least, not depending on the types project - but it is nifty). Using your own converter though can give you control over the representation, which might allow querying over it and any special characters that might get into the list entries.","body":"You can do the same as what Andrey is suggesting with pure JPA by using a converter to serialize the List&lt;String&gt; to/from a String. This will keep your code provider independent (or at least, not depending on the types project - but it is nifty). Using your own converter though can give you control over the representation, which might allow querying over it and any special characters that might get into the list entries."}],"answers":[{"tags":[],"owner":{"account_id":2038896,"reputation":134,"user_id":1820567,"display_name":"max de simone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665392636,"creation_date":1665390437,"answer_id":74012070,"question_id":73997089,"body_markdown":"JPA 2.0 @ElementCollection and @CollectionTable annotations allow to store a collection of Java types. Try to modify the mapping, adding the @CollectionTable annotation to your entity.\r\n\r\n```\r\n@Entity\r\n@Table(schema = &quot;working_schema&quot;)\r\npublic class Timetables {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Monday&quot;)\r\n    private List&lt;String&gt; monday = new ArrayList&lt;&gt;();\r\n\r\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Tuesday&quot;)\r\n    private List&lt;String&gt; tuesday = new ArrayList&lt;&gt;();\r\n    ...\r\n}\r\n```\r\n","title":"JPA ERROR: timetable_entity_tuesday relation does not exists","body":"<p>JPA 2.0 @ElementCollection and @CollectionTable annotations allow to store a collection of Java types. Try to modify the mapping, adding the @CollectionTable annotation to your entity.</p>\n<pre><code>@Entity\n@Table(schema = &quot;working_schema&quot;)\npublic class Timetables {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Monday&quot;)\n    private List&lt;String&gt; monday = new ArrayList&lt;&gt;();\n\n    @Getter @Setter @ElementCollection @CollectionTable(name = &quot;Tuesday&quot;)\n    private List&lt;String&gt; tuesday = new ArrayList&lt;&gt;();\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665513269,"creation_date":1665513269,"answer_id":74032641,"question_id":73997089,"body_markdown":"I think, hibernate query should be like \r\nHibernate: \r\n```\r\ninsert into timetables (id, Monday, Tuesday) \r\nvalues (?, ?, ?);\r\n```\r\n\r\nI hope it helps!","title":"JPA ERROR: timetable_entity_tuesday relation does not exists","body":"<p>I think, hibernate query should be like\nHibernate:</p>\n<pre><code>insert into timetables (id, Monday, Tuesday) \nvalues (?, ?, ?);\n</code></pre>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665513269,"creation_date":1665233129,"question_id":73997089,"body_markdown":"I&#39;m creating a school diary app using spring boot and faced with a small problem. When I try to add some data to database, JPA shows me such error:\r\n\r\n```\r\nERROR: relation &quot;timetable_entity_tuesday&quot; does not exist\r\n```\r\n\r\nI don&#39;t know why it&#39;s happening, because I gave all the settings to my entity, where it should look for the table. \r\n\r\nSo here is my code.\r\n\r\n**TimetableEntity**\r\n```java\r\n@Entity\r\n@Table(name = &quot;timetables&quot;, schema = &quot;working_schema&quot;)\r\npublic class TimetableEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Getter @Setter\r\n    private long id;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; monday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; tuesday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; wednesday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; thursday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; friday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; saturday;\r\n\r\n    @Getter @Setter @ElementCollection\r\n    private List&lt;String&gt; sunday;\r\n\r\n    @OneToOne(mappedBy = &quot;timetable&quot;)\r\n    @Getter @Setter\r\n    private ClassEntity schoolClass;\r\n\r\n    public TimetableEntity() {\r\n    }\r\n}\r\n```\r\n\r\n**TimetableRepository**\r\n```java\r\npublic interface TimetableRepository extends JpaRepository&lt;TimetableEntity, Long&gt; {\r\n}\r\n```\r\nMethod, which adds data to database, stored in service:\r\n```java\r\npublic TimetableEntity addTimetable(TimetableAddModel timetableData) throws SubjectNotFoundException {\r\n        TimetableEntity timetable = new TimetableEntity();\r\n        timetable.setTuesday(Arrays.asList(&quot;math&quot;));\r\n        timetableRepo.save(timetable);\r\n        return timetable;\r\n}\r\n```\r\n\r\nAnd here&#39; how hibernate makes queries:\r\n```sql\r\nHibernate: \r\n    insert \r\n    into\r\n        timetable_entity_tuesday\r\n        (timetable_entity_id, tuesday) \r\n    values\r\n        (?, ?)\r\n```\r\n\r\nIt tries to add data to ```timetable_entity```, although ```timetables``` table was given to entity.\r\n\r\nHere&#39;s my database:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you know what can be a problem, please tell me, I&#39;d really appreciate it!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iqgbd.png","title":"JPA ERROR: timetable_entity_tuesday relation does not exists","body":"<p>I'm creating a school diary app using spring boot and faced with a small problem. When I try to add some data to database, JPA shows me such error:</p>\n<pre><code>ERROR: relation &quot;timetable_entity_tuesday&quot; does not exist\n</code></pre>\n<p>I don't know why it's happening, because I gave all the settings to my entity, where it should look for the table.</p>\n<p>So here is my code.</p>\n<p><strong>TimetableEntity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;timetables&quot;, schema = &quot;working_schema&quot;)\npublic class TimetableEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Getter @Setter\n    private long id;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; monday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; tuesday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; wednesday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; thursday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; friday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; saturday;\n\n    @Getter @Setter @ElementCollection\n    private List&lt;String&gt; sunday;\n\n    @OneToOne(mappedBy = &quot;timetable&quot;)\n    @Getter @Setter\n    private ClassEntity schoolClass;\n\n    public TimetableEntity() {\n    }\n}\n</code></pre>\n<p><strong>TimetableRepository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TimetableRepository extends JpaRepository&lt;TimetableEntity, Long&gt; {\n}\n</code></pre>\n<p>Method, which adds data to database, stored in service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TimetableEntity addTimetable(TimetableAddModel timetableData) throws SubjectNotFoundException {\n        TimetableEntity timetable = new TimetableEntity();\n        timetable.setTuesday(Arrays.asList(&quot;math&quot;));\n        timetableRepo.save(timetable);\n        return timetable;\n}\n</code></pre>\n<p>And here' how hibernate makes queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    insert \n    into\n        timetable_entity_tuesday\n        (timetable_entity_id, tuesday) \n    values\n        (?, ?)\n</code></pre>\n<p>It tries to add data to <code>timetable_entity</code>, although <code>timetables</code> table was given to entity.</p>\n<p>Here's my database:</p>\n<p><a href=\"https://i.stack.imgur.com/iqgbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqgbd.png\" alt=\"enter image description here\" /></a></p>\n<p>If you know what can be a problem, please tell me, I'd really appreciate it!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1487711273,"post_id":42377980,"comment_id":71905013,"body_markdown":"Welcome to StackOverflow.  Sorry, this is not how StackOverflow works.  Questions of the form _&quot;Here&#39;s a bunch of my code, please debug it for me&quot;_ are considered off-topic. Please visit the [help] and read [ask] for more information.","body":"Welcome to StackOverflow.  Sorry, this is not how StackOverflow works.  Questions of the form <i>&quot;Here&#39;s a bunch of my code, please debug it for me&quot;</i> are considered off-topic. Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more information."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1487711298,"post_id":42377980,"comment_id":71905026,"body_markdown":"What is the data type for your &quot;sides&quot; vs. the &quot;ns&quot; variable in the example? (the solution cheated to make it easier)","body":"What is the data type for your &quot;sides&quot; vs. the &quot;ns&quot; variable in the example? (the solution cheated to make it easier)"},{"owner":{"account_id":1119808,"reputation":9752,"user_id":1108397,"accept_rate":65,"display_name":"rupps"},"score":0,"creation_date":1487711378,"post_id":42377980,"comment_id":71905072,"body_markdown":"have you tried using a good old calculator to see who&#39;s right?","body":"have you tried using a good old calculator to see who&#39;s right?"},{"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"score":0,"creation_date":1487711627,"post_id":42377980,"comment_id":71905226,"body_markdown":"a bit more effort before asking is appreciated","body":"a bit more effort before asking is appreciated"}],"answers":[{"tags":[],"owner":{"account_id":1664089,"reputation":1217,"user_id":1531855,"display_name":"borowis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487711554,"creation_date":1487711554,"answer_id":42378079,"question_id":42377980,"body_markdown":"Change 6 and 7 and you&#39;ll get the answer you want : ) And in the future, please try debugging your code first to see what&#39;s going on.","title":"&quot;Write a Java program to compute the area of a polygon.&quot; - getting a different solution than www.w3resource.com","body":"<p>Change 6 and 7 and you'll get the answer you want : ) And in the future, please try debugging your code first to see what's going on.</p>\n"},{"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487711567,"creation_date":1487711567,"answer_id":42378083,"question_id":42377980,"body_markdown":"You mixed sides and number in the formula.\r\n\r\nThat teaches an interesting lesson of programming: &quot;_Give sensible names to variables_&quot;.","title":"&quot;Write a Java program to compute the area of a polygon.&quot; - getting a different solution than www.w3resource.com","body":"<p>You mixed sides and number in the formula.</p>\n\n<p>That teaches an interesting lesson of programming: \"<em>Give sensible names to variables</em>\".</p>\n"}],"owner":{"account_id":8995053,"reputation":1,"user_id":6705793,"display_name":"spacespacespacespace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1665513149,"creation_date":1487711163,"question_id":42377980,"body_markdown":"Here&#39;s the exercise:\r\n\r\n    35. Write a Java program to compute the area of a polygon. Go to the editor\r\n    Area of a polygon = (n*s^2)/(4*tan(π/n))\r\n    where n is n-sided polygon and s is the length of a side\r\n    Input Data:\r\n    Input the number of sides on the polygon: 7\r\n    Input the length of one of the sides: 6\r\n    Expected Output\r\n    \r\n    The area is: 130.82084798405722\r\n\r\nMy code returns 127.30573435631248 (length = 7, sides = 6)\r\nThe code on the website returns 130.82084798405722 (length = 7, sides = 6)\r\n\r\nI&#39;m having trouble seeing why mine is different from theirs...\r\n\r\nAny ideas?\r\n\r\n**Here&#39;s my code:**\r\n\r\n    public static void exercise35(){\r\n        int number1 = integerInput(); //set to 7, length\r\n        int sides = integerInput(); //set to 6, sides\r\n    \r\n        double area = (sides * (number1 * number1)) / (4.0 * Math.tan((Math.PI / sides)));\r\n    \r\n        System.out.println(&quot;The area of a polygon with &quot; + sides + &quot; sides of length &quot; + number1 + &quot; = &quot; + area);\r\n    }\r\n\r\n**Here&#39;s the solution from http://www.w3resource.com/java-exercises/basic/index.php (exercise #35)**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Exercise35 {\r\n        \r\n      public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            System.out.print(&quot;Input the number of sides on the polygon: &quot;);\r\n            int ns = input.nextInt();\r\n            System.out.print(&quot;Input the length of one of the sides: &quot;);\r\n            double side = input.nextDouble();\r\n            System.out.print(&quot;The area is: &quot; + polygonArea(ns, side)+&quot;\\n&quot;);\r\n        }\r\n        public static double polygonArea(int ns, double side) {\r\n            return (ns * (side * side)) / (4.0 * Math.tan((Math.PI / ns)));\r\n        }\r\n    }","title":"&quot;Write a Java program to compute the area of a polygon.&quot; - getting a different solution than www.w3resource.com","body":"<p>Here's the exercise:</p>\n<pre><code>35. Write a Java program to compute the area of a polygon. Go to the editor\nArea of a polygon = (n*s^2)/(4*tan(π/n))\nwhere n is n-sided polygon and s is the length of a side\nInput Data:\nInput the number of sides on the polygon: 7\nInput the length of one of the sides: 6\nExpected Output\n\nThe area is: 130.82084798405722\n</code></pre>\n<p>My code returns 127.30573435631248 (length = 7, sides = 6)\nThe code on the website returns 130.82084798405722 (length = 7, sides = 6)</p>\n<p>I'm having trouble seeing why mine is different from theirs...</p>\n<p>Any ideas?</p>\n<p><strong>Here's my code:</strong></p>\n<pre><code>public static void exercise35(){\n    int number1 = integerInput(); //set to 7, length\n    int sides = integerInput(); //set to 6, sides\n\n    double area = (sides * (number1 * number1)) / (4.0 * Math.tan((Math.PI / sides)));\n\n    System.out.println(&quot;The area of a polygon with &quot; + sides + &quot; sides of length &quot; + number1 + &quot; = &quot; + area);\n}\n</code></pre>\n<p><strong>Here's the solution from <a href=\"http://www.w3resource.com/java-exercises/basic/index.php\" rel=\"nofollow noreferrer\">http://www.w3resource.com/java-exercises/basic/index.php</a> (exercise #35)</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Exercise35 {\n    \n  public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Input the number of sides on the polygon: &quot;);\n        int ns = input.nextInt();\n        System.out.print(&quot;Input the length of one of the sides: &quot;);\n        double side = input.nextDouble();\n        System.out.print(&quot;The area is: &quot; + polygonArea(ns, side)+&quot;\\n&quot;);\n    }\n    public static double polygonArea(int ns, double side) {\n        return (ns * (side * side)) / (4.0 * Math.tan((Math.PI / ns)));\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665513695,"post_id":74032500,"comment_id":130717130,"body_markdown":"Please share a sample project on GitHub to get help with your configuration. There are too many factors that can affect it and we can spend a lot of time guessing what exactly is wrong with your configuration. See [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please share a sample project on GitHub to get help with your configuration. There are too many factors that can affect it and we can spend a lot of time guessing what exactly is wrong with your configuration. See <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665513016,"creation_date":1665513016,"answer_id":74032601,"question_id":74032500,"body_markdown":"Why you have:\r\n \r\n\r\n       attributes[&quot;Main-Class&quot;] = ...\r\n\r\ndo you have actual Main-Class there instead of these three dots &quot;...&quot;?","title":"No main manifest attribute in jar, IntelliJ","body":"<p>Why you have:</p>\n<pre><code>   attributes[&quot;Main-Class&quot;] = ...\n</code></pre>\n<p>do you have actual Main-Class there instead of these three dots &quot;...&quot;?</p>\n"}],"owner":{"account_id":24651177,"reputation":21,"user_id":18548279,"display_name":"nathlrowe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665513016,"creation_date":1665512432,"question_id":74032500,"body_markdown":"This question has been asked many times before, but I have tried every solution and none of them worked for me.\r\n\r\nI am trying to build a simple, single-module .jar program using IntelliJ and Gradle. Here is my build.gradle.kts file:\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ngroup = ...\r\nversion = ...\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.itextpdf:itext7-core:7.2.3&quot;)\r\n    implementation(&quot;jakarta.mail:jakarta.mail-api:2.1.0&quot;)\r\n    implementation(&quot;org.apache.commons:commons-csv:1.9.0&quot;)\r\n    implementation(&quot;commons-net:commons-net:3.8.0&quot;)\r\n    implementation(&quot;mysql:mysql-connector-java:8.0.30&quot;)\r\n\r\n    val slf4jVersion = &quot;2.0.3&quot;\r\n    implementation(&quot;org.slf4j:slf4j-api:$slf4jVersion&quot;)\r\n    implementation(&quot;org.slf4j:slf4j-simple:$slf4jVersion&quot;)\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.8.1&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.1&quot;)\r\n}\r\n\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = ...\r\n        attributes[&quot;Class-Path&quot;] = configurations.runtimeClasspath.get().asPath\r\n    }\r\n\r\n//    from(configurations.compileClasspath.get().map { if (it.isDirectory) it else zipTree(it) })\r\n}\r\n\r\ntasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nI have the `from(configurations...)` line commented out now, but either way it wasn&#39;t working.\r\n\r\nThe issue is that when I try to build a .jar file and run it (in the terminal), I simply get the error:\r\n\r\n`no main manifest attribute, in ...jar`\r\n\r\nI have created dozens of different artifacts for this, trying different ways of arranging it. I&#39;ve tried having my META-INF folder in resources or src/main. I&#39;ve tried adding the contents of resources, META-INF, and the manifest itself to the jar file directly in the artifacts menu of project structure, but to no avail.\r\n\r\nI&#39;m at the end of my rope. What am I doing wrong?","title":"No main manifest attribute in jar, IntelliJ","body":"<p>This question has been asked many times before, but I have tried every solution and none of them worked for me.</p>\n<p>I am trying to build a simple, single-module .jar program using IntelliJ and Gradle. Here is my build.gradle.kts file:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ngroup = ...\nversion = ...\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;com.itextpdf:itext7-core:7.2.3&quot;)\n    implementation(&quot;jakarta.mail:jakarta.mail-api:2.1.0&quot;)\n    implementation(&quot;org.apache.commons:commons-csv:1.9.0&quot;)\n    implementation(&quot;commons-net:commons-net:3.8.0&quot;)\n    implementation(&quot;mysql:mysql-connector-java:8.0.30&quot;)\n\n    val slf4jVersion = &quot;2.0.3&quot;\n    implementation(&quot;org.slf4j:slf4j-api:$slf4jVersion&quot;)\n    implementation(&quot;org.slf4j:slf4j-simple:$slf4jVersion&quot;)\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:5.8.1&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:5.8.1&quot;)\n}\n\ntasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = ...\n        attributes[&quot;Class-Path&quot;] = configurations.runtimeClasspath.get().asPath\n    }\n\n//    from(configurations.compileClasspath.get().map { if (it.isDirectory) it else zipTree(it) })\n}\n\ntasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I have the <code>from(configurations...)</code> line commented out now, but either way it wasn't working.</p>\n<p>The issue is that when I try to build a .jar file and run it (in the terminal), I simply get the error:</p>\n<p><code>no main manifest attribute, in ...jar</code></p>\n<p>I have created dozens of different artifacts for this, trying different ways of arranging it. I've tried having my META-INF folder in resources or src/main. I've tried adding the contents of resources, META-INF, and the manifest itself to the jar file directly in the artifacts menu of project structure, but to no avail.</p>\n<p>I'm at the end of my rope. What am I doing wrong?</p>\n"},{"tags":["javascript","java","android","encryption","webcrypto-api"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1665527445,"post_id":74032512,"comment_id":130720722,"body_markdown":"This seems to be [this bug](https://stackoverflow.com/q/46042127/9014097). Note that the [suggested workaround](https://issuetracker.google.com/issues/36708951#comment15) with SHA-256 as MGF1 digest probably does not work because of [this bug](https://issuetracker.google.com/issues/36708951#comment23).","body":"This seems to be <a href=\"https://stackoverflow.com/q/46042127/9014097\">this bug</a>. Note that the <a href=\"https://issuetracker.google.com/issues/36708951#comment15\" rel=\"nofollow noreferrer\">suggested workaround</a> with SHA-256 as MGF1 digest probably does not work because of <a href=\"https://issuetracker.google.com/issues/36708951#comment23\" rel=\"nofollow noreferrer\">this bug</a>."},{"owner":{"account_id":26591876,"reputation":11,"user_id":20214962,"display_name":"AmInO"},"score":0,"creation_date":1665561541,"post_id":74032512,"comment_id":130726884,"body_markdown":"@Topaco Thanks for the links. After reading them I realized that there might be a with hash function. I tried SHA-512 on both sides but it did not work but after changing it to SHA-1 and specifically `RSA/NONE/OAEPwithSHA-1andMGF1Padding` on Android app which by the way is [not recommended](https://developer.mozilla.org/en-US/docs/Web/API/RsaHashedKeyGenParams#instance_properties) by WebCrypto, it worked! So is there a way to fix this e.g. increasing API version on Android side? Is this really a bug on which side? WebCrypto or Android?","body":"@Topaco Thanks for the links. After reading them I realized that there might be a with hash function. I tried SHA-512 on both sides but it did not work but after changing it to SHA-1 and specifically <code>RSA&#47;NONE&#47;OAEPwithSHA-1andMGF1Padding</code> on Android app which by the way is <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RsaHashedKeyGenParams#instance_properties\" rel=\"nofollow noreferrer\">not recommended</a> by WebCrypto, it worked! So is there a way to fix this e.g. increasing API version on Android side? Is this really a bug on which side? WebCrypto or Android?"}],"owner":{"account_id":26591876,"reputation":11,"user_id":20214962,"display_name":"AmInO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665512528,"creation_date":1665512528,"question_id":74032512,"body_markdown":"I am trying to generate an RSA key pair for encryption and decryption purposes which public key gets exported as base64 text and then it gets imported to Chrome extension which then it will be used for encryption purposes.\r\nHere is my Java code for Android which `publicKeyString` is saved in database and then fetched by the extension:\r\n```java\r\nclass EnCryptor {\r\n\r\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\r\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\r\n    private KeyStore keyStore;\r\n\r\n\r\n    private byte[] encryption;\r\n\r\n    EnCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\r\n            IOException {\r\n        initKeyStore();\r\n    }\r\n\r\n    private void initKeyStore() throws KeyStoreException, CertificateException,\r\n            NoSuchAlgorithmException, IOException {\r\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\r\n        keyStore.load(null);\r\n    }\r\n\r\n    byte[] encryptText(final String alias, final String textToEncrypt)\r\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\r\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\r\n            InvalidAlgorithmParameterException, SignatureException, BadPaddingException,\r\n            IllegalBlockSizeException {\r\n\r\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(alias));\r\n\r\n\r\n        return (encryption = cipher.doFinal(textToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n    }\r\n\r\n    @NonNull\r\n    private PublicKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\r\n            NoSuchProviderException, InvalidAlgorithmParameterException, UnrecoverableEntryException, KeyStoreException {\r\n\r\n        if (keyStore.getCertificate(alias) != null){\r\n            PublicKey pubKey = keyStore.getCertificate(alias).getPublicKey();\r\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\r\n            return keyStore.getCertificate(alias).getPublicKey();\r\n        }\r\n        else {\r\n            final KeyPairGenerator keyPairGenerator = KeyPairGenerator\r\n                    .getInstance(KeyProperties.KEY_ALGORITHM_RSA, ANDROID_KEY_STORE);\r\n\r\n            keyPairGenerator.initialize(new KeyGenParameterSpec.Builder(alias,\r\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_RSA_OAEP)\r\n                    .setKeySize(2048)\r\n                    .setDigests(KeyProperties.DIGEST_SHA256)\r\n                    .build());\r\n\r\n            PublicKey pubKey = keyPairGenerator.genKeyPair().getPublic();\r\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\r\n\r\n            return keyPairGenerator.genKeyPair().getPublic();\r\n        }\r\n    }\r\n}\r\n```\r\nAnd here is my `JavaScript` code which imports key and does the encryption:\r\n```javascript\r\nfunction encryptUsingImportedKey(pubKey,data){\r\n\r\n\r\n        const fromBase64 = buffer =&gt;\r\n            Uint8Array.from(atob(buffer), c =&gt; c.charCodeAt(0));\r\n\r\n        var pubKeyArray = fromBase64(pubKey);\r\n\r\n        keyMaterial = await window.crypto.subtle.importKey(\r\n            &#39;spki&#39;,\r\n            pubKeyArray,\r\n            {name: &#39;RSA-OAEP&#39;, hash: &#39;SHA-256&#39;,},\r\n            false,\r\n            [&#39;encrypt&#39;]\r\n        );\r\n\r\n        const encoder = new TextEncoder();\r\n        const encoded_data = encoder.encode(data);\r\n        const toBase64 = buffer =&gt;\r\n            btoa(String.fromCharCode(...new Uint8Array(buffer)));\r\n\r\n        var encrypted_array = await window.crypto.subtle.encrypt(\r\n            {\r\n                name: &quot;RSA-OAEP&quot;,\r\n            },\r\n            keyMaterial,\r\n            encoded_data\r\n        )\r\n\r\n        var encrypted = toBase64(encrypted_array);\r\n}       \r\n```\r\nbut in the end when I put `encrypted` in my `Android` app trying to decrypt it, app throws `javax.crypto.IllegalBlockSizeException` in `cipher.doFinal(encryptedData)` line. But every sample text encrypted by app itself gets decrypted without problem. Here is the `DeCryptor` class:\r\n```java\r\nclass DeCryptor {\r\n\r\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\r\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\r\n\r\n    private KeyStore keyStore;\r\n\r\n    DeCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\r\n            IOException {\r\n        initKeyStore();\r\n    }\r\n\r\n    private void initKeyStore() throws KeyStoreException, CertificateException,\r\n            NoSuchAlgorithmException, IOException {\r\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\r\n        keyStore.load(null);\r\n    }\r\n\r\n    String decryptData(final String alias, final byte[] encryptedData)\r\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\r\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\r\n            BadPaddingException, IllegalBlockSizeException, InvalidAlgorithmParameterException {\r\n\r\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\r\n        KeyStore.Entry secretKey = keyStore.getEntry(alias, null);\r\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(alias));\r\n        byte[] decryptData = cipher.doFinal(encryptedData);\r\n\r\n        return new String(decryptData, &quot;UTF-8&quot;);\r\n    }\r\n\r\n    private PrivateKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\r\n            UnrecoverableEntryException, KeyStoreException {\r\n        return ((KeyStore.PrivateKeyEntry) keyStore.getEntry(alias, null)).getPrivateKey();\r\n    }\r\n}\r\n```\r\nI also tried to read documentation for supported Algorithms for both sides and that is why I chose `RSA/NONE/OAEPwithSHA-256andMGF1Padding`.\r\nCan you please help me where is my mistake?","title":"Unable to properly use public key the generated by Android app for encryption using WebCrypto API","body":"<p>I am trying to generate an RSA key pair for encryption and decryption purposes which public key gets exported as base64 text and then it gets imported to Chrome extension which then it will be used for encryption purposes.\nHere is my Java code for Android which <code>publicKeyString</code> is saved in database and then fetched by the extension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class EnCryptor {\n\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\n    private KeyStore keyStore;\n\n\n    private byte[] encryption;\n\n    EnCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\n            IOException {\n        initKeyStore();\n    }\n\n    private void initKeyStore() throws KeyStoreException, CertificateException,\n            NoSuchAlgorithmException, IOException {\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\n        keyStore.load(null);\n    }\n\n    byte[] encryptText(final String alias, final String textToEncrypt)\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\n            InvalidAlgorithmParameterException, SignatureException, BadPaddingException,\n            IllegalBlockSizeException {\n\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n        cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(alias));\n\n\n        return (encryption = cipher.doFinal(textToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    }\n\n    @NonNull\n    private PublicKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\n            NoSuchProviderException, InvalidAlgorithmParameterException, UnrecoverableEntryException, KeyStoreException {\n\n        if (keyStore.getCertificate(alias) != null){\n            PublicKey pubKey = keyStore.getCertificate(alias).getPublicKey();\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\n            return keyStore.getCertificate(alias).getPublicKey();\n        }\n        else {\n            final KeyPairGenerator keyPairGenerator = KeyPairGenerator\n                    .getInstance(KeyProperties.KEY_ALGORITHM_RSA, ANDROID_KEY_STORE);\n\n            keyPairGenerator.initialize(new KeyGenParameterSpec.Builder(alias,\n                    KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                    .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_RSA_OAEP)\n                    .setKeySize(2048)\n                    .setDigests(KeyProperties.DIGEST_SHA256)\n                    .build());\n\n            PublicKey pubKey = keyPairGenerator.genKeyPair().getPublic();\n            String publicKeyString = Base64.encodeToString(pubKey.getEncoded(), 2);\n\n            return keyPairGenerator.genKeyPair().getPublic();\n        }\n    }\n}\n</code></pre>\n<p>And here is my <code>JavaScript</code> code which imports key and does the encryption:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function encryptUsingImportedKey(pubKey,data){\n\n\n        const fromBase64 = buffer =&gt;\n            Uint8Array.from(atob(buffer), c =&gt; c.charCodeAt(0));\n\n        var pubKeyArray = fromBase64(pubKey);\n\n        keyMaterial = await window.crypto.subtle.importKey(\n            'spki',\n            pubKeyArray,\n            {name: 'RSA-OAEP', hash: 'SHA-256',},\n            false,\n            ['encrypt']\n        );\n\n        const encoder = new TextEncoder();\n        const encoded_data = encoder.encode(data);\n        const toBase64 = buffer =&gt;\n            btoa(String.fromCharCode(...new Uint8Array(buffer)));\n\n        var encrypted_array = await window.crypto.subtle.encrypt(\n            {\n                name: &quot;RSA-OAEP&quot;,\n            },\n            keyMaterial,\n            encoded_data\n        )\n\n        var encrypted = toBase64(encrypted_array);\n}       \n</code></pre>\n<p>but in the end when I put <code>encrypted</code> in my <code>Android</code> app trying to decrypt it, app throws <code>javax.crypto.IllegalBlockSizeException</code> in <code>cipher.doFinal(encryptedData)</code> line. But every sample text encrypted by app itself gets decrypted without problem. Here is the <code>DeCryptor</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DeCryptor {\n\n    private static final String TRANSFORMATION = &quot;RSA/NONE/OAEPwithSHA-256andMGF1Padding&quot;;\n    private static final String ANDROID_KEY_STORE = &quot;AndroidKeyStore&quot;;\n\n    private KeyStore keyStore;\n\n    DeCryptor() throws CertificateException, NoSuchAlgorithmException, KeyStoreException,\n            IOException {\n        initKeyStore();\n    }\n\n    private void initKeyStore() throws KeyStoreException, CertificateException,\n            NoSuchAlgorithmException, IOException {\n        keyStore = KeyStore.getInstance(ANDROID_KEY_STORE);\n        keyStore.load(null);\n    }\n\n    String decryptData(final String alias, final byte[] encryptedData)\n            throws UnrecoverableEntryException, NoSuchAlgorithmException, KeyStoreException,\n            NoSuchProviderException, NoSuchPaddingException, InvalidKeyException, IOException,\n            BadPaddingException, IllegalBlockSizeException, InvalidAlgorithmParameterException {\n\n        final Cipher cipher = Cipher.getInstance(TRANSFORMATION);\n        KeyStore.Entry secretKey = keyStore.getEntry(alias, null);\n        cipher.init(Cipher.DECRYPT_MODE, getSecretKey(alias));\n        byte[] decryptData = cipher.doFinal(encryptedData);\n\n        return new String(decryptData, &quot;UTF-8&quot;);\n    }\n\n    private PrivateKey getSecretKey(final String alias) throws NoSuchAlgorithmException,\n            UnrecoverableEntryException, KeyStoreException {\n        return ((KeyStore.PrivateKeyEntry) keyStore.getEntry(alias, null)).getPrivateKey();\n    }\n}\n</code></pre>\n<p>I also tried to read documentation for supported Algorithms for both sides and that is why I chose <code>RSA/NONE/OAEPwithSHA-256andMGF1Padding</code>.\nCan you please help me where is my mistake?</p>\n"},{"tags":["java","interface","boolean","comparator"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665508912,"post_id":74031761,"comment_id":130715499,"body_markdown":"comparators have 3 cases, when x &gt; y then of `x - y` is greater 0, when x == y then exactly 0, otherwise it&#39;s smaller than 0. That&#39;s why the comparator interface (https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html) needs to return a number. i.e. checking for equality would be `if (Compare(x,y) ==0)`. You should probably just use Java&#39;s Comparator interface and the many utility functions it provides if you want to use it outside of study code. You also can&#39;t return values from an interface, like you do.","body":"comparators have 3 cases, when x &gt; y then of <code>x - y</code> is greater 0, when x == y then exactly 0, otherwise it&#39;s smaller than 0. That&#39;s why the comparator interface (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>&zwnj;&#8203;) needs to return a number. i.e. checking for equality would be <code>if (Compare(x,y) ==0)</code>. You should probably just use Java&#39;s Comparator interface and the many utility functions it provides if you want to use it outside of study code. You also can&#39;t return values from an interface, like you do."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1665509043,"post_id":74031761,"comment_id":130715540,"body_markdown":"I think you would be better of just writing a method with name `isOffByOne`.","body":"I think you would be better of just writing a method with name <code>isOffByOne</code>."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1665509048,"post_id":74031761,"comment_id":130715544,"body_markdown":"A Comparator is something that implements the [Comparator interface](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html).  It&#39;s difficult to make sense of what you&#39;re trying to do, since the code is syntactically invalid, and a method that determines if two integers differ by unity cannot be the basis for a Comparator anyway","body":"A Comparator is something that implements the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator interface</a>.  It&#39;s difficult to make sense of what you&#39;re trying to do, since the code is syntactically invalid, and a method that determines if two integers differ by unity cannot be the basis for a Comparator anyway"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665509627,"post_id":74031761,"comment_id":130715733,"body_markdown":"```public boolean isOffByOne (int x, int y) { return Math.abs(x - y) == 1; }```","body":"<code>public boolean isOffByOne (int x, int y) { return Math.abs(x - y) == 1; }</code>"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1665509742,"post_id":74031761,"comment_id":130715778,"body_markdown":"@g00se I want to try and use comparators for this though","body":"@g00se I want to try and use comparators for this though"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665509795,"post_id":74031761,"comment_id":130715793,"body_markdown":"That&#39;s not appropriate","body":"That&#39;s not appropriate"},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1665512379,"post_id":74031761,"comment_id":130716693,"body_markdown":"@accessviolation thats what im trying to understand right now and my code, which is wrong, is based off my understanding of it. Can you please show me how to implement it. Sorry about the messed up code, I&#39;m really new so I&#39;m prone to making mistakes","body":"@accessviolation thats what im trying to understand right now and my code, which is wrong, is based off my understanding of it. Can you please show me how to implement it. Sorry about the messed up code, I&#39;m really new so I&#39;m prone to making mistakes"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665525826,"post_id":74031761,"comment_id":130720468,"body_markdown":"The job of a `Comparator` is to define an ordering - i.e., &quot;does X come before Y?&quot;.  I can&#39;t see any way to use a method that computes &quot;do X and Y differ by 1&quot; in a Comparator.  For a start,, the result for your Compare(1,999) is the same as the result for Compare(999,1); if you somehow forced that into a Comparator, you&#39;d apparently be claiming that 1 is before 999 and 999 is before 1.  So, which are you interested in achieving: using a Comparator, or having some &quot;differ by one&quot; method?","body":"The job of a <code>Comparator</code> is to define an ordering - i.e., &quot;does X come before Y?&quot;.  I can&#39;t see any way to use a method that computes &quot;do X and Y differ by 1&quot; in a Comparator.  For a start,, the result for your Compare(1,999) is the same as the result for Compare(999,1); if you somehow forced that into a Comparator, you&#39;d apparently be claiming that 1 is before 999 and 999 is before 1.  So, which are you interested in achieving: using a Comparator, or having some &quot;differ by one&quot; method?"}],"answers":[{"comments":[{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1665513004,"post_id":74032508,"comment_id":130716912,"body_markdown":"Thank you for taking ur time off to explain this concept to me! Really appreciate it!","body":"Thank you for taking ur time off to explain this concept to me! Really appreciate it!"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665512505,"creation_date":1665512505,"answer_id":74032508,"question_id":74031761,"body_markdown":"Comparator already exists in java - `java.util.Comparator`. It is something _completely different_ from what you describe: Java&#39;s own comparator is a thing that you give 2 objects, and the comparator tells you which of the two &#39;comes earlier&#39; in a sorting. Such an oracle is all you need to efficiently sort stuff.\r\n\r\nIt&#39;s allowed, but a bad idea, to name types the same as core java types. You can make your own `String`, which is different from java&#39;s own `String` in all ways (your `String` does not in any way replace java&#39;s string), it&#39;s just a confusing name, is all. You&#39;re doing the same thing with `Comparator` here. Bad idea. I&#39;d call it `OffByOne` or similar.\r\n\r\n&gt; declare an interface as a comparator called compare where I&#39;m supposed to take two integers and return True if the difference between two integers is 1, and false if not.\r\n\r\nThis makes no sense whatsoever. You must have misunderstood the assignment. An interface describes the what __and does not describe the how__, whereas what you just said is describing the how. That&#39;s just not what interfaces do - they don&#39;t get to define the how. They only define the what. You&#39;re describing an implementation, not an interface.\r\n\r\n&gt; ```java\r\n&gt; public interface Compare {\r\n&gt;             int x;\r\n&gt;            int y;\r\n&gt;             if ((x-y) == 1) {\r\n&gt; ```\r\n\r\nYou can&#39;t stick code in types like this. You can stick only methods, fields, constructors, and other types in there. You can stick code in a method and then stick the method in a type, if you want. In addition, given that it is an interface, you can&#39;t stick code in one __at all__ - interfaces define what a `class` can do, not how it does it (there is the `default` mechanism. That&#39;s definitely not what this assignments wants you to do so, so it doesn&#39;t apply here).\r\n\r\nThis would be an interface:\r\n\r\n```\r\npublic interface DifferenceOfOne&lt;T&gt; {\r\n  public boolean isDifferenceOfOne(T a, T B);\r\n}\r\n```\r\n\r\nThis says: There is such a thing as a &#39;DifferenceOfOne&#39; implementation for any given type. Such a class would implement the method `isDifferenceOfOne`, which takes in 2 parameters, both of that given type, and which then returns a boolean.\r\n\r\nYou can then make an implementation for the Integer type:\r\n\r\n```\r\nclass IntDiffOfOne implements DifferenceOfOne&lt;Integer&gt; {\r\n  public boolean isDifferenceOfOne(Integer a, Integer b) {\r\n    return (a - 1 == b || b - 1 == a);\r\n  }\r\n}\r\n\r\nDifferenceOfOne&lt;Integer&gt; intDiffOfOne = new IntDiffOfOne();\r\n```\r\n\r\nOr in more common, modern java syntax:\r\n\r\n```\r\nDifferenceOfOne&lt;Integer&gt; intDiffOfOne = (a, b) -&gt; (a - 1 == b || b - 1 == a);\r\n```\r\n\r\nAnd someone else can write a DiffOfOne implementation that, I dunno, tells you if any 2 `LocalDate` instances differ by exactly 1 day, perhaps, that would be a `DifferenceOfOne&lt;LocalDate&gt;`.\r\n\r\nIf this all sounds confusing to you - go back to whomever gave you this assignment, as either the assignment makes no sense, or you misheard/misunderstood it.\r\n\r\n","title":"How can I implement a comparator to compare two numbers?","body":"<p>Comparator already exists in java - <code>java.util.Comparator</code>. It is something <em>completely different</em> from what you describe: Java's own comparator is a thing that you give 2 objects, and the comparator tells you which of the two 'comes earlier' in a sorting. Such an oracle is all you need to efficiently sort stuff.</p>\n<p>It's allowed, but a bad idea, to name types the same as core java types. You can make your own <code>String</code>, which is different from java's own <code>String</code> in all ways (your <code>String</code> does not in any way replace java's string), it's just a confusing name, is all. You're doing the same thing with <code>Comparator</code> here. Bad idea. I'd call it <code>OffByOne</code> or similar.</p>\n<blockquote>\n<p>declare an interface as a comparator called compare where I'm supposed to take two integers and return True if the difference between two integers is 1, and false if not.</p>\n</blockquote>\n<p>This makes no sense whatsoever. You must have misunderstood the assignment. An interface describes the what <strong>and does not describe the how</strong>, whereas what you just said is describing the how. That's just not what interfaces do - they don't get to define the how. They only define the what. You're describing an implementation, not an interface.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Compare {\n            int x;\n           int y;\n            if ((x-y) == 1) {\n</code></pre>\n</blockquote>\n<p>You can't stick code in types like this. You can stick only methods, fields, constructors, and other types in there. You can stick code in a method and then stick the method in a type, if you want. In addition, given that it is an interface, you can't stick code in one <strong>at all</strong> - interfaces define what a <code>class</code> can do, not how it does it (there is the <code>default</code> mechanism. That's definitely not what this assignments wants you to do so, so it doesn't apply here).</p>\n<p>This would be an interface:</p>\n<pre><code>public interface DifferenceOfOne&lt;T&gt; {\n  public boolean isDifferenceOfOne(T a, T B);\n}\n</code></pre>\n<p>This says: There is such a thing as a 'DifferenceOfOne' implementation for any given type. Such a class would implement the method <code>isDifferenceOfOne</code>, which takes in 2 parameters, both of that given type, and which then returns a boolean.</p>\n<p>You can then make an implementation for the Integer type:</p>\n<pre><code>class IntDiffOfOne implements DifferenceOfOne&lt;Integer&gt; {\n  public boolean isDifferenceOfOne(Integer a, Integer b) {\n    return (a - 1 == b || b - 1 == a);\n  }\n}\n\nDifferenceOfOne&lt;Integer&gt; intDiffOfOne = new IntDiffOfOne();\n</code></pre>\n<p>Or in more common, modern java syntax:</p>\n<pre><code>DifferenceOfOne&lt;Integer&gt; intDiffOfOne = (a, b) -&gt; (a - 1 == b || b - 1 == a);\n</code></pre>\n<p>And someone else can write a DiffOfOne implementation that, I dunno, tells you if any 2 <code>LocalDate</code> instances differ by exactly 1 day, perhaps, that would be a <code>DifferenceOfOne&lt;LocalDate&gt;</code>.</p>\n<p>If this all sounds confusing to you - go back to whomever gave you this assignment, as either the assignment makes no sense, or you misheard/misunderstood it.</p>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74032508,"answer_count":1,"score":-1,"last_activity_date":1665512505,"creation_date":1665508174,"question_id":74031761,"body_markdown":"I have a class `OffbyOne` where I declare an interface as a comparator called `compare` where I&#39;m supposed to take two integers and return True if the difference between two integers is 1, and false if not.\r\n\r\nHere is my code so far:\r\n\r\n    public static class OffbyOne {\r\n            public interface Compare {\r\n                int x;\r\n                int y;\r\n                if ((x-y) == 1) {\r\n                    return true;\r\n                } else if ((y-x)==1) {\r\n                    return true;\r\n                }\r\n                return false\r\n                public boolean equalChars(char x, char y); {\r\n                    if (Compare(x,y) == true) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n\r\nI&#39;m struggling to understand how comparators work in Java and what do I have to do. If anyone can please help me with this and then provide explanations for how it is supposed to be done, it would be great for me. \r\n\r\nThank you. \r\n","title":"How can I implement a comparator to compare two numbers?","body":"<p>I have a class <code>OffbyOne</code> where I declare an interface as a comparator called <code>compare</code> where I'm supposed to take two integers and return True if the difference between two integers is 1, and false if not.</p>\n<p>Here is my code so far:</p>\n<pre><code>public static class OffbyOne {\n        public interface Compare {\n            int x;\n            int y;\n            if ((x-y) == 1) {\n                return true;\n            } else if ((y-x)==1) {\n                return true;\n            }\n            return false\n            public boolean equalChars(char x, char y); {\n                if (Compare(x,y) == true) {\n                    return true;\n                }\n                return false;\n            }\n</code></pre>\n<p>I'm struggling to understand how comparators work in Java and what do I have to do. If anyone can please help me with this and then provide explanations for how it is supposed to be done, it would be great for me.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":24944212,"reputation":61,"user_id":18809717,"display_name":"rg226965"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650281600,"creation_date":1650281600,"answer_id":71911231,"question_id":71910914,"body_markdown":"You can use the ```ModelMapper``` class to convert ```Dto to Model ``` and vice versa. ```ModelMapper``` class has ``` map()``` which maps Model to Dto and vice versa.\r\nOnce you convert the Dto to Model you can call ```currencyRepository.save()``` to save the Model to the database.\r\n\r\nYou can refer [this link][1].\r\n\r\n\r\n  [1]: https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/","title":"How to map Dto objects to Entities?","body":"<p>You can use the <code>ModelMapper</code> class to convert <code>Dto to Model </code> and vice versa. <code>ModelMapper</code> class has <code> map()</code> which maps Model to Dto and vice versa.\nOnce you convert the Dto to Model you can call <code>currencyRepository.save()</code> to save the Model to the database.</p>\n<p>You can refer <a href=\"https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":20032990,"reputation":59,"user_id":14685347,"display_name":"Andrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650285925,"creation_date":1650285925,"answer_id":71911991,"question_id":71910914,"body_markdown":"You need to map Dto objects with Entities. Use [Mapstruct][1] for the purpose. Next configure any Data base in your project and make connection to it. For ease it could be [H2][2] data base. It&#39;s better to write set of CRUD REST controllers that will get all needed information from a site accordingly it&#39;s api specification and save it to DB. Then in main Spring Boot application class you code some logic applying to the REST controllers.\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://www.h2database.com/html/main.html","title":"How to map Dto objects to Entities?","body":"<p>You need to map Dto objects with Entities. Use <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">Mapstruct</a> for the purpose. Next configure any Data base in your project and make connection to it. For ease it could be <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a> data base. It's better to write set of CRUD REST controllers that will get all needed information from a site accordingly it's api specification and save it to DB. Then in main Spring Boot application class you code some logic applying to the REST controllers.</p>\n"},{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665512381,"creation_date":1665512381,"answer_id":74032492,"question_id":71910914,"body_markdown":"Don&#39;t overthink it - just do `new Currency()` and set all the fields (or better - pass them into the constructor) by taking values from `CurrencyModelDto`. And then save the Entity using the Repository.\r\n\r\nAnd for god sake don&#39;t use additional libraries/frameworks to covert between Entity &amp; DTO as others suggest. This is a very simple problem and it can be solved with very simple code - no need to introduce extra dependencies to your project.\r\n\r\n","title":"How to map Dto objects to Entities?","body":"<p>Don't overthink it - just do <code>new Currency()</code> and set all the fields (or better - pass them into the constructor) by taking values from <code>CurrencyModelDto</code>. And then save the Entity using the Repository.</p>\n<p>And for god sake don't use additional libraries/frameworks to covert between Entity &amp; DTO as others suggest. This is a very simple problem and it can be solved with very simple code - no need to introduce extra dependencies to your project.</p>\n"}],"owner":{"account_id":23586290,"reputation":5,"user_id":17624701,"display_name":"JJJokers223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665512381,"creation_date":1650279575,"question_id":71910914,"body_markdown":"I have written a simple program that retrieves the exchange rate and some basic information about the currency using api(bank).\r\n\r\nI would like to add a database to it so that the information is stored. \r\n\r\nTo do this, I have created a `Currency` entity that references a `DTO` and a `CurrencyRepository` that I have injected into a `CurrencyService`. \r\n\r\nAnd at this point I am stuck, I don&#39;t really know how I can retrieve the values of `code`, `mid`, `effectiveDate` and save to the database.\r\n\r\nCould someone please suggest what I should do to go further?\r\n\r\n\r\n**DTO:CurrencyModelDto**\r\n\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import org.springframework.format.annotation.DateTimeFormat;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    \r\n    @Getter\r\n    @Builder\r\n    public class CurrencyModelDto {\r\n        private String code;\r\n        private float mid;\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate effectiveDate;\r\n    }\r\n\r\n**Entity:Currency**\r\n\r\n    import lombok.Getter;\r\n    import org.springframework.format.annotation.DateTimeFormat;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDate;\r\n    \r\n    @Entity\r\n    @Getter\r\n    public class Currency {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String code;\r\n        private float mid;\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        private LocalDate effectiveDate;\r\n    }\r\n\r\n**Repository:CurrencyRepository**\r\n\r\n    import com.example.nbpmaster.repository.entity.Currency;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface CurrencyRepository extends JpaRepository&lt;Currency, Long&gt; {\r\n    }\r\n\r\n**Service:CurrencyService**\r\n\r\n    import com.example.nbpmaster.model.CurrencyModelDto;\r\n    import com.example.nbpmaster.repository.CurrencyRepository;\r\n    import com.example.nbpmaster.webclient.currency.CurrencyClient;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class CurrencyService {\r\n    \r\n        private final CurrencyClient currencyClient;\r\n        private final CurrencyRepository currencyRepository;\r\n    \r\n        public CurrencyModelDto getCurrency() {\r\n            return currencyClient.getCurrencyType(&quot;usd&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**Client:CurrencyClient**\r\n\r\n    import com.example.nbpmaster.model.CurrencyModelDto;\r\n    import com.example.nbpmaster.webclient.dto.CurrencyDto;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @Component\r\n    public class CurrencyClient {\r\n    \r\n        public static final String URL_API_NBP = &quot;http://api.nbp.pl/api/&quot;;\r\n        private final RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        public CurrencyModelDto getCurrencyType(String value) {\r\n            CurrencyDto currencyDto = callGetMethod(&quot;exchangerates/rates/a/{currency}/&quot;, CurrencyDto.class, value);\r\n            return CurrencyModelDto.builder()\r\n                    .code(currencyDto.getCode())\r\n                    .mid(currencyDto.getRates().stream().findFirst().get().getMid())\r\n                    .effectiveDate(currencyDto.getRates().stream().findFirst().get().getEffectiveDate())\r\n                    .build();\r\n        }\r\n    \r\n        private &lt;T&gt; T callGetMethod(String url, Class&lt;T&gt; responseType, Object... objects) {\r\n            return restTemplate.getForObject(URL_API_NBP + url,\r\n                    responseType, objects);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"How to map Dto objects to Entities?","body":"<p>I have written a simple program that retrieves the exchange rate and some basic information about the currency using api(bank).</p>\n<p>I would like to add a database to it so that the information is stored.</p>\n<p>To do this, I have created a <code>Currency</code> entity that references a <code>DTO</code> and a <code>CurrencyRepository</code> that I have injected into a <code>CurrencyService</code>.</p>\n<p>And at this point I am stuck, I don't really know how I can retrieve the values of <code>code</code>, <code>mid</code>, <code>effectiveDate</code> and save to the database.</p>\n<p>Could someone please suggest what I should do to go further?</p>\n<p><strong>DTO:CurrencyModelDto</strong></p>\n<pre><code>import lombok.Builder;\nimport lombok.Getter;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport java.time.LocalDate;\n\n\n@Getter\n@Builder\npublic class CurrencyModelDto {\n    private String code;\n    private float mid;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate effectiveDate;\n}\n</code></pre>\n<p><strong>Entity:Currency</strong></p>\n<pre><code>import lombok.Getter;\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.time.LocalDate;\n\n@Entity\n@Getter\npublic class Currency {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String code;\n    private float mid;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate effectiveDate;\n}\n</code></pre>\n<p><strong>Repository:CurrencyRepository</strong></p>\n<pre><code>import com.example.nbpmaster.repository.entity.Currency;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CurrencyRepository extends JpaRepository&lt;Currency, Long&gt; {\n}\n</code></pre>\n<p><strong>Service:CurrencyService</strong></p>\n<pre><code>import com.example.nbpmaster.model.CurrencyModelDto;\nimport com.example.nbpmaster.repository.CurrencyRepository;\nimport com.example.nbpmaster.webclient.currency.CurrencyClient;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\n\n@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class CurrencyService {\n\n    private final CurrencyClient currencyClient;\n    private final CurrencyRepository currencyRepository;\n\n    public CurrencyModelDto getCurrency() {\n        return currencyClient.getCurrencyType(&quot;usd&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Client:CurrencyClient</strong></p>\n<pre><code>import com.example.nbpmaster.model.CurrencyModelDto;\nimport com.example.nbpmaster.webclient.dto.CurrencyDto;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.RestTemplate;\n\n@Component\npublic class CurrencyClient {\n\n    public static final String URL_API_NBP = &quot;http://api.nbp.pl/api/&quot;;\n    private final RestTemplate restTemplate = new RestTemplate();\n\n    public CurrencyModelDto getCurrencyType(String value) {\n        CurrencyDto currencyDto = callGetMethod(&quot;exchangerates/rates/a/{currency}/&quot;, CurrencyDto.class, value);\n        return CurrencyModelDto.builder()\n                .code(currencyDto.getCode())\n                .mid(currencyDto.getRates().stream().findFirst().get().getMid())\n                .effectiveDate(currencyDto.getRates().stream().findFirst().get().getEffectiveDate())\n                .build();\n    }\n\n    private &lt;T&gt; T callGetMethod(String url, Class&lt;T&gt; responseType, Object... objects) {\n        return restTemplate.getForObject(URL_API_NBP + url,\n                responseType, objects);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","maven-compiler-plugin","system-properties"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644242606,"post_id":71019097,"comment_id":125545602,"body_markdown":"Using `maven.compiler.release` with JDK 8 will fail because the `--release` option is supported starting with JDK9+... For JDK11 you can simply set it to `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;`.. If you set release you don&#39;t need source/target anymore..","body":"Using <code>maven.compiler.release</code> with JDK 8 will fail because the <code>--release</code> option is supported starting with JDK9+... For JDK11 you can simply set it to <code>&lt;maven.compiler.release&gt;11&lt;&#47;maven.compiler.release&gt;</code>.. If you set release you don&#39;t need source/target anymore.."}],"answers":[{"tags":[],"owner":{"account_id":990065,"reputation":1340,"user_id":1007631,"accept_rate":60,"display_name":"ocarlsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665512238,"creation_date":1665512238,"answer_id":74032462,"question_id":71019097,"body_markdown":"I had similar problem.  Here is how to delete `release` property from parent POM and use `--add-exports`.\r\n\r\nUse the `combine.self=&quot;override&quot;` attribute like this\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release combine.self=&quot;override&quot;/&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;--add-exports&lt;/arg&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;jdk.compiler/com.sun.tools.javac.api=ALL-NNAMED&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t\t...\r\n\r\n*et, voila!*","title":"Clear/unset a system property maven.compiler.release so that is is no longer present","body":"<p>I had similar problem.  Here is how to delete <code>release</code> property from parent POM and use <code>--add-exports</code>.</p>\n<p>Use the <code>combine.self=&quot;override&quot;</code> attribute like this</p>\n<pre><code>    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release combine.self=&quot;override&quot;/&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--add-exports&lt;/arg&gt;\n                    &lt;arg&gt;jdk.compiler/com.sun.tools.javac.api=ALL-NNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n                ...\n</code></pre>\n<p><em>et, voila!</em></p>\n"}],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74032462,"answer_count":1,"score":3,"last_activity_date":1665512238,"creation_date":1644239269,"question_id":71019097,"body_markdown":"I have a project with complicated build setup (parent POM&#39;s with parent POM&#39;s) and so it happens that my compiler plugin executes with `maven.compiler.release=8`.\r\n\r\nThis prevents me from setting source/target to Java 11 and I can&#39;t set release to 11 since I need to specify some `--add-exports`.\r\n\r\nIs there a way to remove a system property in a profile so that it will not appear and my source/target switches would work? The best I could think of is setting `maven.compiler.release` to empty value but it won&#39;t work with compiler plugin.\r\n\r\nHow do I clear the system property in a profile? Alternatively, is there a way to trace who actually set it in the first place?","title":"Clear/unset a system property maven.compiler.release so that is is no longer present","body":"<p>I have a project with complicated build setup (parent POM's with parent POM's) and so it happens that my compiler plugin executes with <code>maven.compiler.release=8</code>.</p>\n<p>This prevents me from setting source/target to Java 11 and I can't set release to 11 since I need to specify some <code>--add-exports</code>.</p>\n<p>Is there a way to remove a system property in a profile so that it will not appear and my source/target switches would work? The best I could think of is setting <code>maven.compiler.release</code> to empty value but it won't work with compiler plugin.</p>\n<p>How do I clear the system property in a profile? Alternatively, is there a way to trace who actually set it in the first place?</p>\n"},{"tags":["java","spring","rx-java","rx-java2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665511332,"post_id":74032139,"comment_id":130716319,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511762,"creation_date":1665511762,"answer_id":74032389,"question_id":74032139,"body_markdown":"You can try something like this which is asynchronous:\r\n\r\n    String variableString=&quot;&quot;;\r\n        a.subscribe( result -&gt; {\r\n              variableString = result.toString();\r\n            });\r\n        System.out.println(convertToSentence(variableString));","title":"How to get the object or item of a Single with rxJava?","body":"<p>You can try something like this which is asynchronous:</p>\n<pre><code>String variableString=&quot;&quot;;\n    a.subscribe( result -&gt; {\n          variableString = result.toString();\n        });\n    System.out.println(convertToSentence(variableString));\n</code></pre>\n"}],"owner":{"account_id":24921199,"reputation":1,"user_id":19118268,"display_name":"Sinvie Jondres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665511762,"creation_date":1665510351,"question_id":74032139,"body_markdown":"I would like to know how to obtain the value contained in a Single and contain it in a variable? (In the example that I am going to add, capturing it is a String, but I would like its proposals to be indifferent to the type since it could be an object created by oneself or another type whatever), mention that in this case it would no longer accept a blockingGet() which for concepts I would like to keep the detail async.\r\n\r\nIn the current context it is shown that the map still gets a Single, but my goal is still to get just String, its support with the fundamentals to be able to understand this detail that has emerged when researching and practicing rxJava.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYDp6.png","title":"How to get the object or item of a Single with rxJava?","body":"<p>I would like to know how to obtain the value contained in a Single and contain it in a variable? (In the example that I am going to add, capturing it is a String, but I would like its proposals to be indifferent to the type since it could be an object created by oneself or another type whatever), mention that in this case it would no longer accept a blockingGet() which for concepts I would like to keep the detail async.</p>\n<p>In the current context it is shown that the map still gets a Single, but my goal is still to get just String, its support with the fundamentals to be able to understand this detail that has emerged when researching and practicing rxJava.</p>\n<p><a href=\"https://i.stack.imgur.com/tYDp6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":0,"creation_date":1426691506,"post_id":29083490,"comment_id":46477468,"body_markdown":"Your answer works great, but I decided to accept another answer since there seems to be a built in version that does exactly what I want. Still, your answer is a great guideline!","body":"Your answer works great, but I decided to accept another answer since there seems to be a built in version that does exactly what I want. Still, your answer is a great guideline!"},{"owner":{"account_id":403854,"reputation":465667,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"score":1,"creation_date":1426691578,"post_id":29083490,"comment_id":46477531,"body_markdown":"@Thunderforge thanks, I was aware about the method. Though I was assuming you need to wait for an element not be present in DOM as opposed to becoming invisible. Anyway, glad it is solved!","body":"@Thunderforge thanks, I was aware about the method. Though I was assuming you need to wait for an element not be present in DOM as opposed to becoming invisible. Anyway, glad it is solved!"},{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":0,"creation_date":1426691687,"post_id":29083490,"comment_id":46477616,"body_markdown":"I discovered that the method also handles it being absent from the DOM, not just if it is invisible. Since the former is my use case and I don&#39;t care about the latter, it works for me and saves the effort of rolling my own.","body":"I discovered that the method also handles it being absent from the DOM, not just if it is invisible. Since the former is my use case and I don&#39;t care about the latter, it works for me and saves the effort of rolling my own."}],"tags":[],"owner":{"account_id":403854,"reputation":465667,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426529514,"creation_date":1426527797,"answer_id":29083490,"question_id":29082862,"body_markdown":"The solution would still rely on exception-handling. And this is pretty much ok, even [standard Expected Conditions][1] rely on exceptions being thrown by `findElement()`.\r\n\r\nThe idea is to create a *custom Expected Condition*:\r\n\r\n      public static ExpectedCondition&lt;Boolean&gt; absenceOfElementLocated(\r\n          final By locator) {\r\n        return new ExpectedCondition&lt;Boolean&gt;() {\r\n          @Override\r\n          public Boolean apply(WebDriver driver) {\r\n            try {\r\n              driver.findElement(locator);\r\n              return false;\r\n            } catch (NoSuchElementException e) {\r\n              return true;\r\n            } catch (StaleElementReferenceException e) {\r\n              return true;\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public String toString() {\r\n            return &quot;element to not being present: &quot; + locator;\r\n          }\r\n        };\r\n      }\r\n\r\n\r\n  [1]: https://code.google.com/p/selenium/source/browse/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#453","title":"How to wait until an element no longer exists in Selenium","body":"<p>The solution would still rely on exception-handling. And this is pretty much ok, even <a href=\"https://code.google.com/p/selenium/source/browse/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#453\" rel=\"nofollow\">standard Expected Conditions</a> rely on exceptions being thrown by <code>findElement()</code>.</p>\n\n<p>The idea is to create a <em>custom Expected Condition</em>:</p>\n\n<pre><code>  public static ExpectedCondition&lt;Boolean&gt; absenceOfElementLocated(\n      final By locator) {\n    return new ExpectedCondition&lt;Boolean&gt;() {\n      @Override\n      public Boolean apply(WebDriver driver) {\n        try {\n          driver.findElement(locator);\n          return false;\n        } catch (NoSuchElementException e) {\n          return true;\n        } catch (StaleElementReferenceException e) {\n          return true;\n        }\n      }\n\n      @Override\n      public String toString() {\n        return \"element to not being present: \" + locator;\n      }\n    };\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":2,"creation_date":1426529096,"post_id":29083637,"comment_id":46400753,"body_markdown":"Unfortunately, this solution doesn&#39;t wait for the element to no longer exist; it just checks it once.","body":"Unfortunately, this solution doesn&#39;t wait for the element to no longer exist; it just checks it once."},{"owner":{"account_id":1215900,"reputation":1981,"user_id":1183506,"accept_rate":100,"display_name":"mrfreester"},"score":0,"creation_date":1458770701,"post_id":29083637,"comment_id":60014270,"body_markdown":"The solution by @VivekSingh is the best imo to not reinvent the wheel, but this solution would be great combined with an Expected Condition if the situation was slightly different. Would look something like this: `(new WebDriverWait(driver, 30)).withMessage(&quot;element was still displayed after timeout&quot;).until((ExpectedCondition&lt;Boolean&gt;) d -&gt; d.findElements(By.id(&quot;foo&quot;).size() &gt; 0));`","body":"The solution by @VivekSingh is the best imo to not reinvent the wheel, but this solution would be great combined with an Expected Condition if the situation was slightly different. Would look something like this: <code>(new WebDriverWait(driver, 30)).withMessage(&quot;element was still displayed after timeout&quot;).until((ExpectedCondition&lt;Boolean&gt;) d -&gt; d.findElements(By.id(&quot;foo&quot;).size() &gt; 0));</code>"}],"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1426528294,"creation_date":1426528294,"answer_id":29083637,"question_id":29082862,"body_markdown":"Why don&#39;t you simply find the size of `elements`. We know the the collection of elements&#39; *size* would be **0** if *element* does not exist.\r\n\r\n    if(driver.findElements(By.id(&quot;foo&quot;).size() &gt; 0 ){\r\n    \t//It should fail\r\n    }else{\r\n    \t//pass\r\n    }\r\n\r\n","title":"How to wait until an element no longer exists in Selenium","body":"<p>Why don't you simply find the size of <code>elements</code>. We know the the collection of elements' <em>size</em> would be <strong>0</strong> if <em>element</em> does not exist.</p>\n\n<pre><code>if(driver.findElements(By.id(\"foo\").size() &gt; 0 ){\n    //It should fail\n}else{\n    //pass\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3447189,"reputation":3101,"user_id":2887713,"accept_rate":25,"display_name":"Steve Staple"},"score":0,"creation_date":1519728254,"post_id":29084080,"comment_id":85017915,"body_markdown":"odd syntax error in above code: Syntax error, insert &quot;;&quot; to complete BlockStatements","body":"odd syntax error in above code: Syntax error, insert &quot;;&quot; to complete BlockStatements"}],"tags":[],"owner":{"account_id":3001560,"reputation":3651,"user_id":2546966,"accept_rate":60,"display_name":"Vivek Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1590165316,"creation_date":1426529690,"answer_id":29084080,"question_id":29082862,"body_markdown":"You can also use - \r\n\r\n    new WebDriverWait(driver, 10).until(ExpectedConditions.invisibilityOfElementLocated(locator));\r\n\r\nIf you go through [the source][1] of it you can see that both `NoSuchElementException` and `staleElementReferenceException` are handled.\r\n\r\n    /**\r\n       * An expectation for checking that an element is either invisible or not\r\n       * present on the DOM.\r\n       *\r\n       * @param locator used to find the element\r\n       */\r\n      public static ExpectedCondition&lt;Boolean&gt; invisibilityOfElementLocated(\r\n          final By locator) {\r\n        return new ExpectedCondition&lt;Boolean&gt;() {\r\n          @Override\r\n          public Boolean apply(WebDriver driver) {\r\n            try {\r\n              return !(findElement(locator, driver).isDisplayed());\r\n            } catch (NoSuchElementException e) {\r\n              // Returns true because the element is not present in DOM. The\r\n              // try block checks if the element is present but is invisible.\r\n              return true;\r\n            } catch (StaleElementReferenceException e) {\r\n              // Returns true because stale element reference implies that element\r\n              // is no longer visible.\r\n              return true;\r\n            }\r\n          }\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/blob/d1a06e59f242e7920c3b7ba8f6dcd2f546857b4b/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#L572","title":"How to wait until an element no longer exists in Selenium","body":"<p>You can also use - </p>\n\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.invisibilityOfElementLocated(locator));\n</code></pre>\n\n<p>If you go through <a href=\"https://github.com/SeleniumHQ/selenium/blob/d1a06e59f242e7920c3b7ba8f6dcd2f546857b4b/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java#L572\" rel=\"noreferrer\">the source</a> of it you can see that both <code>NoSuchElementException</code> and <code>staleElementReferenceException</code> are handled.</p>\n\n<pre><code>/**\n   * An expectation for checking that an element is either invisible or not\n   * present on the DOM.\n   *\n   * @param locator used to find the element\n   */\n  public static ExpectedCondition&lt;Boolean&gt; invisibilityOfElementLocated(\n      final By locator) {\n    return new ExpectedCondition&lt;Boolean&gt;() {\n      @Override\n      public Boolean apply(WebDriver driver) {\n        try {\n          return !(findElement(locator, driver).isDisplayed());\n        } catch (NoSuchElementException e) {\n          // Returns true because the element is not present in DOM. The\n          // try block checks if the element is present but is invisible.\n          return true;\n        } catch (StaleElementReferenceException e) {\n          // Returns true because stale element reference implies that element\n          // is no longer visible.\n          return true;\n        }\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5551529,"reputation":21,"user_id":5194132,"display_name":"Nagaraju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460448318,"creation_date":1460446874,"answer_id":36566681,"question_id":29082862,"body_markdown":"    // pseudo code\r\n    public Fun&lt;driver,webelement&gt; ElemtDisappear(locator)\r\n    {\r\n\t\twebelement element=null;\r\n\t\tiList&lt;webelement&gt; elemt =null;\r\n\t\treturn driver=&gt;\r\n\t\t{\r\n\t\ttry\r\n\t\t{\r\n\t\telemt = driver.findelements(By.locator);\r\n\t\tif(elemt.count!=0)\r\n\t\t{\r\n\t\telement=driver.findelement(By.locator);\r\n\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t}\r\n\t\treturn(elemnt==0)?element:null;\r\n    };\r\n    \r\n    // call function\r\n    public void waitforelemDiappear(driver,locator)\r\n    {\r\n\t\twebdriverwaiter wait = new webdriverwaiter(driver,time);\r\n\t\ttry\r\n\t\t{\r\n\t\twait.until(ElemtDisappear(locator));\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t}\r\n    }\r\n\r\nAs findelement throws exception on element unaviability.so i implemented using findelements. please feel free to correct and use it as per your need.","title":"How to wait until an element no longer exists in Selenium","body":"<pre><code>// pseudo code\npublic Fun&lt;driver,webelement&gt; ElemtDisappear(locator)\n{\n    webelement element=null;\n    iList&lt;webelement&gt; elemt =null;\n    return driver=&gt;\n    {\n    try\n    {\n    elemt = driver.findelements(By.locator);\n    if(elemt.count!=0)\n    {\n    element=driver.findelement(By.locator);\n    }\n    }\n    catch(Exception e)\n    {\n    }\n    return(elemnt==0)?element:null;\n};\n\n// call function\npublic void waitforelemDiappear(driver,locator)\n{\n    webdriverwaiter wait = new webdriverwaiter(driver,time);\n    try\n    {\n    wait.until(ElemtDisappear(locator));\n    }\n    catch(Exception e)\n    {\n    }\n}\n</code></pre>\n\n<p>As findelement throws exception on element unaviability.so i implemented using findelements. please feel free to correct and use it as per your need.</p>\n"},{"tags":[],"owner":{"account_id":5958620,"reputation":3514,"user_id":4684417,"accept_rate":0,"display_name":"Abhinav Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495712633,"creation_date":1495712633,"answer_id":44179746,"question_id":29082862,"body_markdown":"I found a workaround to fix this for me in efficient way, used following C# code to handle this, you may convert it to Java\r\n\r\n        public bool WaitForElementDisapper(By element)\r\n        {\r\n            try\r\n            {\r\n                while (true)\r\n                {\r\n                    try\r\n                    {\r\n                        if (driver.FindElement(element).Displayed)\r\n                            Thread.Sleep(2000);\r\n                    }\r\n                    catch (NoSuchElementException)\r\n                    {\r\n                        break;\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                logger.Error(e.Message);\r\n                return false;\r\n            }\r\n        }","title":"How to wait until an element no longer exists in Selenium","body":"<p>I found a workaround to fix this for me in efficient way, used following C# code to handle this, you may convert it to Java</p>\n\n<pre><code>    public bool WaitForElementDisapper(By element)\n    {\n        try\n        {\n            while (true)\n            {\n                try\n                {\n                    if (driver.FindElement(element).Displayed)\n                        Thread.Sleep(2000);\n                }\n                catch (NoSuchElementException)\n                {\n                    break;\n                }\n            }\n            return true;\n        }\n        catch (Exception e)\n        {\n            logger.Error(e.Message);\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4825397,"reputation":597,"user_id":3894987,"accept_rate":100,"display_name":"Huy H&#243;m Hỉnh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570615609,"creation_date":1570615609,"answer_id":58301757,"question_id":29082862,"body_markdown":"I don&#39;t know why but `ExpectedConditions.invisibilityOf(element)` is the only work for me while `ExpectedConditions.invisibilityOfElementLocated(By)`, `!ExpectedConditions.presenceOfElementLocated(By)` ... not. Try it!\r\n\r\nHope this help!","title":"How to wait until an element no longer exists in Selenium","body":"<p>I don't know why but <code>ExpectedConditions.invisibilityOf(element)</code> is the only work for me while <code>ExpectedConditions.invisibilityOfElementLocated(By)</code>, <code>!ExpectedConditions.presenceOfElementLocated(By)</code> ... not. Try it!</p>\n\n<p>Hope this help!</p>\n"},{"comments":[{"owner":{"account_id":5903213,"reputation":3284,"user_id":4753431,"display_name":"Skylar Brown"},"score":0,"creation_date":1631817397,"post_id":68813416,"comment_id":122332118,"body_markdown":"the description of this function is: `Creates a condition that will wait for the given element to be in the DOM, yet not visible to the user.` That is not what most people are looking for here. Myself, and likely others are looking for a way to assert an element is NOT in the dom, not that is is in the dom but just invisible","body":"the description of this function is: <code>Creates a condition that will wait for the given element to be in the DOM, yet not visible to the user.</code> That is not what most people are looking for here. Myself, and likely others are looking for a way to assert an element is NOT in the dom, not that is is in the dom but just invisible"}],"tags":[],"owner":{"account_id":9316336,"reputation":3758,"user_id":7107094,"accept_rate":100,"display_name":"Trev14"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629186069,"creation_date":1629186069,"answer_id":68813416,"question_id":29082862,"body_markdown":"## Good news, it&#39;s built in now (I&#39;m using Node.js in 2021)\r\n\r\nIt looks like `elementIsNotVisible` has been added to `until` after the previous answers were given. I&#39;m using selenium webdriver `4.0.0-beta.3`\r\n\r\nCheck it out:\r\n\r\n    const timeout = 60 * 1000; // 60 seconds\r\n    const element = await driver.findElement(By.id(elementId));\r\n    \r\n    // this is the important line \r\n    await driver.wait(until.elementIsNotVisible(element), timeout);","title":"How to wait until an element no longer exists in Selenium","body":"<h2>Good news, it's built in now (I'm using Node.js in 2021)</h2>\n<p>It looks like <code>elementIsNotVisible</code> has been added to <code>until</code> after the previous answers were given. I'm using selenium webdriver <code>4.0.0-beta.3</code></p>\n<p>Check it out:</p>\n<pre><code>const timeout = 60 * 1000; // 60 seconds\nconst element = await driver.findElement(By.id(elementId));\n\n// this is the important line \nawait driver.wait(until.elementIsNotVisible(element), timeout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12610891,"reputation":29,"user_id":9170076,"display_name":"Ilnarello"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511647,"creation_date":1665511647,"answer_id":74032369,"question_id":29082862,"body_markdown":"You can use the following logic:\r\n\r\nC# code sinppet:\r\n\r\n    //wait is the instance of WebDriverWait\r\n    wait.Until(driver =&gt; driver.FindElements(By.Xpath(&quot;your element expath&quot;)).Count == 0);    \r\nNotice how I use `FindElements` that does NOT throw `NoSuchElementException` which is swallowed by `Until()` function. So when element is gone collection size is zero.","title":"How to wait until an element no longer exists in Selenium","body":"<p>You can use the following logic:</p>\n<p>C# code sinppet:</p>\n<pre><code>//wait is the instance of WebDriverWait\nwait.Until(driver =&gt; driver.FindElements(By.Xpath(&quot;your element expath&quot;)).Count == 0);    \n</code></pre>\n<p>Notice how I use <code>FindElements</code> that does NOT throw <code>NoSuchElementException</code> which is swallowed by <code>Until()</code> function. So when element is gone collection size is zero.</p>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102489,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":29084080,"answer_count":8,"score":56,"last_activity_date":1665511647,"creation_date":1426525808,"question_id":29082862,"body_markdown":"I am testing a UI in which the user clicks a delete button and a table entry disappears. As such, I want to be able to check that the table entry no longer exists.\r\n\r\nI have tried using `ExpectedConditions.not()` to invert `ExpectedConditions.presenceOfElementLocated()`, hoping that it would mean &quot;expect that there is not a presence of the specified element&quot;. My code is like so:\r\n\r\n\tbrowser.navigate().to(&quot;http://stackoverflow.com&quot;);\r\n\tnew WebDriverWait(browser, 1).until(\r\n\t\t\tExpectedConditions.not(\r\n\t\t\t\t\tExpectedConditions.presenceOfElementLocated(By.id(&quot;foo&quot;))));\r\n\r\nHowever, I found that even doing this, I get a `TimeoutExpcetion` caused by a `NoSuchElementException` saying that the element &quot;foo&quot; does not exist. Of course, having no such element is what I want, but I don&#39;t want an exception to be thrown.\r\n\r\nSo how can I wait until an element no longer exists? I would prefer an example that does not rely on catching an exception if at all possible (as I understand it, exceptions should be thrown for exceptional behavior).","title":"How to wait until an element no longer exists in Selenium","body":"<p>I am testing a UI in which the user clicks a delete button and a table entry disappears. As such, I want to be able to check that the table entry no longer exists.</p>\n\n<p>I have tried using <code>ExpectedConditions.not()</code> to invert <code>ExpectedConditions.presenceOfElementLocated()</code>, hoping that it would mean \"expect that there is not a presence of the specified element\". My code is like so:</p>\n\n<pre><code>browser.navigate().to(\"http://stackoverflow.com\");\nnew WebDriverWait(browser, 1).until(\n        ExpectedConditions.not(\n                ExpectedConditions.presenceOfElementLocated(By.id(\"foo\"))));\n</code></pre>\n\n<p>However, I found that even doing this, I get a <code>TimeoutExpcetion</code> caused by a <code>NoSuchElementException</code> saying that the element \"foo\" does not exist. Of course, having no such element is what I want, but I don't want an exception to be thrown.</p>\n\n<p>So how can I wait until an element no longer exists? I would prefer an example that does not rely on catching an exception if at all possible (as I understand it, exceptions should be thrown for exceptional behavior).</p>\n"},{"tags":["java","algorithm","hashmap","hashset","disjoint-sets"],"comments":[{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665434486,"post_id":74020449,"comment_id":130695364,"body_markdown":"feel free to say if something needs to be clarified","body":"feel free to say if something needs to be clarified"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665435890,"post_id":74020449,"comment_id":130695751,"body_markdown":"Please do clarify what you are trying to achieve, example input helps. The value of x will always equals a y (when x==y itself) so you get same outcome by removing the inner for and if statements, and get a map containing a key for every member of Sets, and every value is Sets.","body":"Please do clarify what you are trying to achieve, example input helps. The value of x will always equals a y (when x==y itself) so you get same outcome by removing the inner for and if statements, and get a map containing a key for every member of Sets, and every value is Sets."},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665437005,"post_id":74020449,"comment_id":130696036,"body_markdown":"@DuncG For example, if the input Sets are: \n&#39; [0] [0, 4, 5] [1, 2] &#39;\n The method output should be:\n&#39; [0] : [ [1, 2] ],\n [0, 4, 5] : [ [1, 2] ],\n [1, 2] : [ [0] [0, 4, 5] ] &#39;\nwhere the each key is a set checked, and the value for each key is the sets disjoint from the key set. I&#39;m still trying to figure out HashMap, so I know my code is far from the correct way to achieve this.","body":"@DuncG For example, if the input Sets are:  &#39; [0] [0, 4, 5] [1, 2] &#39;  The method output should be: &#39; [0] : [ [1, 2] ],  [0, 4, 5] : [ [1, 2] ],  [1, 2] : [ [0] [0, 4, 5] ] &#39; where the each key is a set checked, and the value for each key is the sets disjoint from the key set. I&#39;m still trying to figure out HashMap, so I know my code is far from the correct way to achieve this."},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665440679,"post_id":74020449,"comment_id":130696798,"body_markdown":"@AlexanderIvanchenko I think there is a misunderstanding here. I know the definition of &quot;disjoint&quot;. In the output example, I have used commas to separate each key &amp; their value. I understand that was a poor way to display that. So in my example for set `[1, 2]` the disjoint sets are `[0], [0, 4, 5]`. The &quot;:&quot; separates a key from it&#39;s own value. I hope this clarifies everything.","body":"@AlexanderIvanchenko I think there is a misunderstanding here. I know the definition of &quot;disjoint&quot;. In the output example, I have used commas to separate each key &amp; their value. I understand that was a poor way to display that. So in my example for set <code>[1, 2]</code> the disjoint sets are <code>[0], [0, 4, 5]</code>. The &quot;:&quot; separates a key from it&#39;s own value. I hope this clarifies everything."}],"answers":[{"comments":[{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665441776,"post_id":74021313,"comment_id":130696971,"body_markdown":"Thanks! But what if I don&#39;t want to use the boolean? Can I just leave it out and make it work like that?","body":"Thanks! But what if I don&#39;t want to use the boolean? Can I just leave it out and make it work like that?"},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665442434,"post_id":74021313,"comment_id":130697095,"body_markdown":"Update: that works! Now I have the compared sets added to the result Map as keys, but each keys value has to be a set of the other sets that are disjoint. I tried to put this condition: `if (!x.contains(ey)) { result.put(x, y); }` but it gives me an error for the y, because there has to be a Set&lt;Set&lt;E&gt;&gt; placed there. How do I add all of the disjoint sets to the keys value?","body":"Update: that works! Now I have the compared sets added to the result Map as keys, but each keys value has to be a set of the other sets that are disjoint. I tried to put this condition: <code>if (!x.contains(ey)) { result.put(x, y); }</code> but it gives me an error for the y, because there has to be a Set&lt;Set&lt;E&gt;&gt; placed there. How do I add all of the disjoint sets to the keys value?"},{"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"score":0,"creation_date":1665443000,"post_id":74021313,"comment_id":130697205,"body_markdown":"@bells check [Map.computeIfAbsent](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function))","body":"@bells check <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">Map.computeIfAbsent</a>"},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665596168,"post_id":74021313,"comment_id":130740079,"body_markdown":"What do I do if the key set does not have any disjoint sets? I want the key value to be empty, like this &#39;[ ]&#39;","body":"What do I do if the key set does not have any disjoint sets? I want the key value to be empty, like this &#39;[ ]&#39;"}],"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665441470,"creation_date":1665441470,"answer_id":74021313,"question_id":74020449,"body_markdown":"&gt; How do I check the elements within the sets\r\n\r\nYou can just cycle trough them and use [Set.contains][1]\r\n\r\n    for (Set&lt;E&gt; x : Sets) {\r\n        for (Set&lt;E&gt; y : Sets) {\r\n            boolean isDisjoint = true;\r\n            for (E ey : y) {\r\n                if (x.contains(ey)) {\r\n                    isDisjoint = false;\r\n                    break;\r\n                }\r\n            }\r\n            ...\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html#contains(java.lang.Object)","title":"How to check which of multiple given sets are disjoint?","body":"<blockquote>\n<p>How do I check the elements within the sets</p>\n</blockquote>\n<p>You can just cycle trough them and use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Set.html#contains(java.lang.Object)\" rel=\"nofollow noreferrer\">Set.contains</a></p>\n<pre><code>for (Set&lt;E&gt; x : Sets) {\n    for (Set&lt;E&gt; y : Sets) {\n        boolean isDisjoint = true;\n        for (E ey : y) {\n            if (x.contains(ey)) {\n                isDisjoint = false;\n                break;\n            }\n        }\n        ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665504368,"post_id":74025653,"comment_id":130714008,"body_markdown":"Thank you for your effort. I would prefer not creating any copies of the given sets, they have to be referred to.","body":"Thank you for your effort. I would prefer not creating any copies of the given sets, they have to be referred to."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665505188,"post_id":74025653,"comment_id":130714283,"body_markdown":"@bells What you&#39;re talking about is inherently **impossible** - every value should be represented with a separate Set of Sets (otherwise they would all be identical, which makes no sense). And I guess have a misconception regarding what copy-constructor of any Collection does. `new Set&lt;&gt;(sets)` creates a so-called ***shallow copy***, i.e. none of the nested Sets would be actually copied, but instead references to them would be placed into a newly created Set of Set. Is it clear?","body":"@bells What you&#39;re talking about is inherently <b>impossible</b> - every value should be represented with a separate Set of Sets (otherwise they would all be identical, which makes no sense). And I guess have a misconception regarding what copy-constructor of any Collection does. <code>new Set&lt;&gt;(sets)</code> creates a so-called <b><i>shallow copy</i></b>, i.e. none of the nested Sets would be actually copied, but instead references to them would be placed into a newly created Set of Set. Is it clear?"},{"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"score":0,"creation_date":1665508363,"post_id":74025653,"comment_id":130715342,"body_markdown":"Yes. What is the time complexity for this algorithm?","body":"Yes. What is the time complexity for this algorithm?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665511843,"post_id":74025653,"comment_id":130716512,"body_markdown":"@bells Time complexity of this solution **O(n*m)** (considering that we are given `n` sets containing `m` elements), which is the best possible in this case.","body":"@bells Time complexity of this solution <b>O(n*m)</b> (considering that we are given <code>n</code> sets containing <code>m</code> elements), which is the best possible in this case."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511641,"creation_date":1665479371,"answer_id":74025653,"question_id":74020449,"body_markdown":"You can generate a map of type `Map&lt;E,Set&lt;Set&lt;E&gt;&gt;&gt;` which associates each *distinct element* which might be found in these Sets with a *group of Sets* to which it belongs. This approach would allow to avoid redundant performing redundant iterations.\r\n\r\nA *disjoint Set* that corresponds to each *Set* can be found in the following steps:\r\n\r\n* For each *Set* create a copy of the *given Sets* (that would be a value that corresponds to a particular set in the resulting map);\r\n\r\n* Iterate over the elements of a current Set and remove a value (denoted as `disjoint` in the code below) of all Sets to which a particular element belongs. A previously generated Map containing Sets associated with each distinct element would be handy for that.\r\n\r\nIn the code below, I&#39;ve used Java 8 method [`computeIfAbsent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)), which is concise and expressive (*an **alternative option** provided in the comments*):\r\n\r\n    public static &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; sets) {\r\n\r\n        Map&lt;E, Set&lt;Set&lt;E&gt;&gt;&gt; containsElement = new HashMap&lt;&gt;();\r\n        \r\n        for (Set&lt;E&gt; set: sets) {\r\n            for (E next: set) {\r\n                containsElement   // alternatively you can use: containsElement.putIfAbsent() + containsElement.get()add()\r\n                    .computeIfAbsent(next, k -&gt; new HashSet&lt;&gt;())\r\n                    .add(set);\r\n            }\r\n        }\r\n        \r\n        Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n        \r\n        for (Set&lt;E&gt; set: sets) {\r\n            Set&lt;Set&lt;E&gt;&gt; disjoint = new HashSet&lt;&gt;(sets);\r\n            result.put(Collections.unmodifiableSet(set), disjoint);\r\n            \r\n            for (E next: set) {\r\n                disjoint.removeAll(containsElement.get(next));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Set&lt;Set&lt;Integer&gt;&gt; sets = Set.of(\r\n            Set.of(0), Set.of(0, 4, 5), Set.of(1, 2)\r\n        );\r\n        \r\n        disjointSets(sets).forEach((element, disjoint) -&gt; System.out.println(element + &quot; -&gt; &quot; + disjoint));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[0] -&gt; [[1, 2]]\r\n[1, 2] -&gt; [[0], [0, 5, 4]]\r\n[0, 5, 4] -&gt; [[1, 2]]\r\n```\r\n\r\n*Time Complexity:* **O(n*m)** (considering that we are given `n` sets containing `m` elements).","title":"How to check which of multiple given sets are disjoint?","body":"<p>You can generate a map of type <code>Map&lt;E,Set&lt;Set&lt;E&gt;&gt;&gt;</code> which associates each <em>distinct element</em> which might be found in these Sets with a <em>group of Sets</em> to which it belongs. This approach would allow to avoid redundant performing redundant iterations.</p>\n<p>A <em>disjoint Set</em> that corresponds to each <em>Set</em> can be found in the following steps:</p>\n<ul>\n<li><p>For each <em>Set</em> create a copy of the <em>given Sets</em> (that would be a value that corresponds to a particular set in the resulting map);</p>\n</li>\n<li><p>Iterate over the elements of a current Set and remove a value (denoted as <code>disjoint</code> in the code below) of all Sets to which a particular element belongs. A previously generated Map containing Sets associated with each distinct element would be handy for that.</p>\n</li>\n</ul>\n<p>In the code below, I've used Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>computeIfAbsent()</code></a>, which is concise and expressive (<em>an <strong>alternative option</strong> provided in the comments</em>):</p>\n<pre><code>public static &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; sets) {\n\n    Map&lt;E, Set&lt;Set&lt;E&gt;&gt;&gt; containsElement = new HashMap&lt;&gt;();\n    \n    for (Set&lt;E&gt; set: sets) {\n        for (E next: set) {\n            containsElement   // alternatively you can use: containsElement.putIfAbsent() + containsElement.get()add()\n                .computeIfAbsent(next, k -&gt; new HashSet&lt;&gt;())\n                .add(set);\n        }\n    }\n    \n    Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n    \n    for (Set&lt;E&gt; set: sets) {\n        Set&lt;Set&lt;E&gt;&gt; disjoint = new HashSet&lt;&gt;(sets);\n        result.put(Collections.unmodifiableSet(set), disjoint);\n        \n        for (E next: set) {\n            disjoint.removeAll(containsElement.get(next));\n        }\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Set&lt;Set&lt;Integer&gt;&gt; sets = Set.of(\n        Set.of(0), Set.of(0, 4, 5), Set.of(1, 2)\n    );\n    \n    disjointSets(sets).forEach((element, disjoint) -&gt; System.out.println(element + &quot; -&gt; &quot; + disjoint));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[0] -&gt; [[1, 2]]\n[1, 2] -&gt; [[0], [0, 5, 4]]\n[0, 5, 4] -&gt; [[1, 2]]\n</code></pre>\n<p><em>Time Complexity:</em> <strong>O(n*m)</strong> (considering that we are given <code>n</code> sets containing <code>m</code> elements).</p>\n"}],"owner":{"account_id":26583844,"reputation":11,"user_id":20208080,"display_name":"bells"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1665511641,"creation_date":1665434214,"question_id":74020449,"body_markdown":"I want to write a method that uses the standard for loop to iterate through a given set of sets, and returns a hashmap that the disjoint sets are added to. I&#39;m aware that the does not work correctly, it&#39;s an example of how I&#39;ve tried to solve this. How do I check the elements within the sets, also without the algorithm becoming too inefficient? \r\n\r\n    public &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; Sets) {\r\n        Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\n        for (Set&lt;E&gt; x : Sets) {\r\n            for (Set&lt;E&gt; y : Sets) {\r\n                if (!x.equals(y)) {\r\n                    result.put(x, Sets);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * As an example, if input sets would be:\r\n     * [0]\r\n     * [0, 4, 5]\r\n     * [1, 2]\r\n     * -&gt; expected output should be:\r\n     * [0] : [ [1, 2] ]\r\n     * [0, 4, 5] : [ [1, 2] ]\r\n     * [1, 2] : [ [0] [0, 4, 5] ]\r\n     */","title":"How to check which of multiple given sets are disjoint?","body":"<p>I want to write a method that uses the standard for loop to iterate through a given set of sets, and returns a hashmap that the disjoint sets are added to. I'm aware that the does not work correctly, it's an example of how I've tried to solve this. How do I check the elements within the sets, also without the algorithm becoming too inefficient?</p>\n<pre><code>public &lt;E&gt; Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; disjointSets(Set&lt;Set&lt;E&gt;&gt; Sets) {\n    Map&lt;Set&lt;E&gt;, Set&lt;Set&lt;E&gt;&gt;&gt; result = new HashMap&lt;&gt;();\n\n    for (Set&lt;E&gt; x : Sets) {\n        for (Set&lt;E&gt; y : Sets) {\n            if (!x.equals(y)) {\n                result.put(x, Sets);\n            }\n        }\n    }\n    return result;\n}\n/**\n * As an example, if input sets would be:\n * [0]\n * [0, 4, 5]\n * [1, 2]\n * -&gt; expected output should be:\n * [0] : [ [1, 2] ]\n * [0, 4, 5] : [ [1, 2] ]\n * [1, 2] : [ [0] [0, 4, 5] ]\n */\n</code></pre>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":5,"creation_date":1492502218,"post_id":43466682,"comment_id":73988453,"body_markdown":"Without any dirty magics, you cannot create an instance of abstract class.","body":"Without any dirty magics, you cannot create an instance of abstract class."},{"owner":{"account_id":10545748,"reputation":698,"user_id":7770095,"accept_rate":75,"display_name":"Hienz"},"score":2,"creation_date":1492502475,"post_id":43466682,"comment_id":73988589,"body_markdown":"You cannot instantiate an abstract class, but from a child-class, u can call the parent constructor with the super() method.","body":"You cannot instantiate an abstract class, but from a child-class, u can call the parent constructor with the super() method."},{"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1492502771,"post_id":43466682,"comment_id":73988752,"body_markdown":"@Deepak luckily I know the dirty magic `MyAbstract  childObject= new MyChildClass();`","body":"@Deepak luckily I know the dirty magic <code>MyAbstract  childObject= new MyChildClass();</code>"}],"answers":[{"tags":[],"owner":{"account_id":9131612,"reputation":821,"user_id":6792999,"accept_rate":76,"display_name":"Aldeguer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1492502409,"creation_date":1492502409,"answer_id":43466753,"question_id":43466682,"body_markdown":"In the constructor of a child-class you can call\r\n\r\n    super(/*params if needed*/);\r\n\r\nin order to call its parent&#39;s constructor","title":"How to call default constructor of an abstract class in Java","body":"<p>In the constructor of a child-class you can call</p>\n\n<pre><code>super(/*params if needed*/);\n</code></pre>\n\n<p>in order to call its parent's constructor</p>\n"},{"comments":[{"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"score":0,"creation_date":1492523118,"post_id":43466791,"comment_id":74002842,"body_markdown":"Sanket D, I am good with super() and the fact that instance of abstract class can&#39;t be created. But my confusion with respect to your answer is that &#39;Parent()&#39; having print statement should be default constructor, so as per your example default constructor can be defined in an abstract class.","body":"Sanket D, I am good with super() and the fact that instance of abstract class can&#39;t be created. But my confusion with respect to your answer is that &#39;Parent()&#39; having print statement should be default constructor, so as per your example default constructor can be defined in an abstract class."},{"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"score":0,"creation_date":1492523808,"post_id":43466791,"comment_id":74003404,"body_markdown":"default and parameterized constructor both can be defined in abstract class","body":"default and parameterized constructor both can be defined in abstract class"}],"tags":[],"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1492524531,"creation_date":1492502537,"answer_id":43466791,"question_id":43466682,"body_markdown":"You can use super() in your child class. You cannot create instance of abstract class(you might know that)  \r\n\r\n      abstract class Parent{\r\n        \tParent(){\r\n        \t\tSystem.out.println(&quot;Parent contructor!&quot;);\r\n        \t}\r\n        }\r\n        \r\n        \r\n        public class Child extends Parent{\r\n        \r\n        \tpublic Child() {\r\n        \t\tsuper();\r\n        \t\tSystem.out.println(&quot;Child contructor!&quot;);\r\n        \t}\r\n        \t\r\n        \tpublic static void main(String[] args) {\r\n        \t\tnew Child();\r\n        \t}\r\n        }\r\n\r\nEven if you do not specify &lt;code&gt;super()&lt;/code&gt; in &lt;code&gt;Child&lt;/code&gt; class, still the parent class constructor will be called because &lt;code&gt;super()&lt;/code&gt; will be put by compiler in default constructor of &lt;code&gt;Child&lt;/code&gt; class while generating the .class. If you only have parameterized constructor in Parent class then you will have to explicitly call the parent class constructor by &lt;code&gt;super(..parameter)&lt;/code&gt; in your child class constructor . Hope this helps!  ","title":"How to call default constructor of an abstract class in Java","body":"<p>You can use super() in your child class. You cannot create instance of abstract class(you might know that)  </p>\n\n<pre><code>  abstract class Parent{\n        Parent(){\n            System.out.println(\"Parent contructor!\");\n        }\n    }\n\n\n    public class Child extends Parent{\n\n        public Child() {\n            super();\n            System.out.println(\"Child contructor!\");\n        }\n\n        public static void main(String[] args) {\n            new Child();\n        }\n    }\n</code></pre>\n\n<p>Even if you do not specify <code>super()</code> in <code>Child</code> class, still the parent class constructor will be called because <code>super()</code> will be put by compiler in default constructor of <code>Child</code> class while generating the .class. If you only have parameterized constructor in Parent class then you will have to explicitly call the parent class constructor by <code>super(..parameter)</code> in your child class constructor . Hope this helps!  </p>\n"},{"comments":[{"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"score":0,"creation_date":1492522640,"post_id":43466813,"comment_id":74002415,"body_markdown":"mir, I believe MyClass is a parametrized constructor  within Abstract class.","body":"mir, I believe MyClass is a parametrized constructor  within Abstract class."},{"owner":{"account_id":9204199,"reputation":300,"user_id":6840126,"display_name":"Younes Ouchala"},"score":0,"creation_date":1492523921,"post_id":43466813,"comment_id":74003502,"body_markdown":"@Deepak  there is no default  constructor in the parent abstract class, the constructor used in subclass must explicitly call the parent constructor.","body":"@Deepak  there is no default  constructor in the parent abstract class, the constructor used in subclass must explicitly call the parent constructor."}],"tags":[],"owner":{"account_id":9204199,"reputation":300,"user_id":6840126,"display_name":"Younes Ouchala"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492523780,"creation_date":1492502619,"answer_id":43466813,"question_id":43466682,"body_markdown":"Something like this : \r\n\r\n    abstract class MyClass{ \r\n        int val;\r\n        public MyClass( int val) {\r\n            this.val= val;\r\n        }\r\n     \r\n    }\r\n    \r\n    class Test extends MyClass{\r\n        public Test () {\r\n            super(2);\r\n        }\r\n    }\r\n    \r\n     ","title":"How to call default constructor of an abstract class in Java","body":"<p>Something like this : </p>\n\n<pre><code>abstract class MyClass{ \n    int val;\n    public MyClass( int val) {\n        this.val= val;\n    }\n\n}\n\nclass Test extends MyClass{\n    public Test () {\n        super(2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665511444,"creation_date":1537412562,"answer_id":52416944,"question_id":43466682,"body_markdown":"While you may not call upon a default constructor for an Abastract class, you can invoke the default constructor for the sub-class that embodies your abstract class.\r\n\r\nFor example:\r\n\r\n     abstract class Animal {\r\n\r\n          public Animal (){ ... }\r\n\r\n          abstract public String sound();\r\n     }\r\n\r\n\r\n     class Horse extends Animal{\r\n\r\n        public Horse(){ \r\n            super()\r\n        }\r\n\r\n        @Override \r\n        public String sound(){ \r\n            return &quot;neigh&quot;;\r\n        }\r\n     }\r\n\r\n     class Dog extends Animal{\r\n\r\n        public Dog(){ \r\n            super()\r\n        }\r\n\r\n        @Override \r\n        public String sound(){ \r\n            return &quot;woof&quot;;\r\n        }\r\n     }\r\n\r\n\r\nIt is not directly possible to make a new Animal. You can make new `Dog`-s and `Horse`-s with annomyously for (common) Type `Animal` example:\r\n\r\n     public Animal makeAnimals( Animal existingCreature ) \r\n         throws InstantiationException, IllegalAccessException\r\n     {\r\n         return existingCreature.getClass.newInstance();\r\n     }\r\n\r\nWill make a new instance of the concrete class you provided:\r\n\r\n     Dog   fido  = new Dog();\r\n     Horse hack  = new Horse();\r\n\r\n     Dog   puppy = makeAnimals( fido );   //  new uninitialised Dog   instance\r\n     Horse foal  = makeAnimals( hack );   //  new uninitialised Horse instance\r\n\r\n\r\nAlternatively you can make an annomyous instance\r\n\r\n    Animal parrot = new Animal() {\r\n\r\n        @Override \r\n        public String sound(){ \r\n            return &quot;squawk&quot;;\r\n        }\r\n    }\r\n\r\nAs a way to make new animal types.  If you were doing something for real like Animals it would probably be better to make a `Parot` subclass.\r\n","title":"How to call default constructor of an abstract class in Java","body":"<p>While you may not call upon a default constructor for an Abastract class, you can invoke the default constructor for the sub-class that embodies your abstract class.</p>\n<p>For example:</p>\n<pre><code> abstract class Animal {\n\n      public Animal (){ ... }\n\n      abstract public String sound();\n }\n\n\n class Horse extends Animal{\n\n    public Horse(){ \n        super()\n    }\n\n    @Override \n    public String sound(){ \n        return &quot;neigh&quot;;\n    }\n }\n\n class Dog extends Animal{\n\n    public Dog(){ \n        super()\n    }\n\n    @Override \n    public String sound(){ \n        return &quot;woof&quot;;\n    }\n }\n</code></pre>\n<p>It is not directly possible to make a new Animal. You can make new <code>Dog</code>-s and <code>Horse</code>-s with annomyously for (common) Type <code>Animal</code> example:</p>\n<pre><code> public Animal makeAnimals( Animal existingCreature ) \n     throws InstantiationException, IllegalAccessException\n {\n     return existingCreature.getClass.newInstance();\n }\n</code></pre>\n<p>Will make a new instance of the concrete class you provided:</p>\n<pre><code> Dog   fido  = new Dog();\n Horse hack  = new Horse();\n\n Dog   puppy = makeAnimals( fido );   //  new uninitialised Dog   instance\n Horse foal  = makeAnimals( hack );   //  new uninitialised Horse instance\n</code></pre>\n<p>Alternatively you can make an annomyous instance</p>\n<pre><code>Animal parrot = new Animal() {\n\n    @Override \n    public String sound(){ \n        return &quot;squawk&quot;;\n    }\n}\n</code></pre>\n<p>As a way to make new animal types.  If you were doing something for real like Animals it would probably be better to make a <code>Parot</code> subclass.</p>\n"}],"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3398,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":43466791,"answer_count":4,"score":-1,"last_activity_date":1665511444,"creation_date":1492502171,"question_id":43466682,"body_markdown":"I tried to research over this topic but could not find a clarity over this. Please help me in this. ","title":"How to call default constructor of an abstract class in Java","body":"<p>I tried to research over this topic but could not find a clarity over this. Please help me in this. </p>\n"},{"tags":["java","exception","checked-exceptions","unchecked-exception"],"answers":[{"tags":[],"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507475563,"creation_date":1268241498,"answer_id":2418985,"question_id":2418947,"body_markdown":"If the exception class is a subclass of `RuntimeException`, it&#39;s not checked and does not have to be declared for functions or caught, etc. `Error` exceptions also do not have to be declared/caught.  Is that what you&#39;re asking?","title":"How to identify checked and unchecked exceptions in java?","body":"<p>If the exception class is a subclass of <code>RuntimeException</code>, it's not checked and does not have to be declared for functions or caught, etc. <code>Error</code> exceptions also do not have to be declared/caught.  Is that what you're asking?</p>\n"},{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1268241965,"post_id":2418989,"comment_id":2400949,"body_markdown":"Errors are also unchecked, though I guess you could argue that they&#39;re not exceptions...","body":"Errors are also unchecked, though I guess you could argue that they&#39;re not exceptions..."}],"tags":[],"owner":{"account_id":66731,"reputation":1081,"user_id":2569122,"display_name":"Derek Mortimer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268241851,"creation_date":1268241529,"answer_id":2418989,"question_id":2418947,"body_markdown":"Quite sure this will have been asked and answered before, but for the sake of it, it is covered quite nicely here: &lt;http://www.javapractices.com/topic/TopicAction.do?Id=129&gt;.\r\n\r\nStrictly speaking, unchecked exceptions will always extend `RuntimeException` whereas checked exceptions do not. The mentioned link explains when to use either.\r\n\r\nAs their name indicates, callers are obliged to deal with **checked** exceptions, typically handling them (`try/catch`) or passing them further up the stack. Unchecked exceptions are usually deemed to be caused by elements outside of the caller&#39;s control.","title":"How to identify checked and unchecked exceptions in java?","body":"<p>Quite sure this will have been asked and answered before, but for the sake of it, it is covered quite nicely here: <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=129\" rel=\"nofollow noreferrer\">http://www.javapractices.com/topic/TopicAction.do?Id=129</a>.</p>\n\n<p>Strictly speaking, unchecked exceptions will always extend <code>RuntimeException</code> whereas checked exceptions do not. The mentioned link explains when to use either.</p>\n\n<p>As their name indicates, callers are obliged to deal with <strong>checked</strong> exceptions, typically handling them (<code>try/catch</code>) or passing them further up the stack. Unchecked exceptions are usually deemed to be caused by elements outside of the caller's control.</p>\n"},{"comments":[{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":1,"creation_date":1350940615,"post_id":2418994,"comment_id":17671215,"body_markdown":"This misses exceptions which inherit from `Throwable` but not from `Exception`, which are checked.\n\nGenerally you have:\n\nAn unchecked &#39;exception&#39; t will satisfy:\n\n`t instanceof Error || t instanceof Exception`\n\nEverything else which is `instanceof Throwable` is checked.  An error is a type of Exception in the general sense.","body":"This misses exceptions which inherit from <code>Throwable</code> but not from <code>Exception</code>, which are checked.  Generally you have:  An unchecked &#39;exception&#39; t will satisfy:  <code>t instanceof Error || t instanceof Exception</code>  Everything else which is <code>instanceof Throwable</code> is checked.  An error is a type of Exception in the general sense."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1351015848,"post_id":2418994,"comment_id":17698537,"body_markdown":"@Bee: In one sense that&#39;s quite correct; but, `Error`s are ***Errors***, not ***Exceptions***, and Java makes the distinction in naming (`Error` handling is another case where theory fails in practice, but, I thought, a related yet separate discussion).  That is, `Error`s are also checked, but in Java nomenclature they are errors, not exceptions; However both errors and exceptions are `Throwable`s.  According to Java, an `Error` is a `Throwable` but not an `Exception` (more generally in English, `Error`s are &quot;exceptions&quot;, but they are not &quot;Exceptions&quot;).","body":"@Bee: In one sense that&#39;s quite correct; but, <code>Error</code>s are <b><i>Errors</i></b>, not <b><i>Exceptions</i></b>, and Java makes the distinction in naming (<code>Error</code> handling is another case where theory fails in practice, but, I thought, a related yet separate discussion).  That is, <code>Error</code>s are also checked, but in Java nomenclature they are errors, not exceptions; However both errors and exceptions are <code>Throwable</code>s.  According to Java, an <code>Error</code> is a <code>Throwable</code> but not an <code>Exception</code> (more generally in English, <code>Error</code>s are &quot;exceptions&quot;, but they are not &quot;Exceptions&quot;)."},{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":1,"creation_date":1351019118,"post_id":2418994,"comment_id":17699981,"body_markdown":"Exactly.  That said, I&#39;d assume a method which decided whether a throwable was a checked or not would return true for all checked exceptions, not just checked Exceptions.  That is, it would take the little e sense of the word.\n\nI can&#39;t see a valid use case for excluding things which extend `Throwable` but not `Exception` or `Error`.  What do you call those anyway?","body":"Exactly.  That said, I&#39;d assume a method which decided whether a throwable was a checked or not would return true for all checked exceptions, not just checked Exceptions.  That is, it would take the little e sense of the word.  I can&#39;t see a valid use case for excluding things which extend <code>Throwable</code> but not <code>Exception</code> or <code>Error</code>.  What do you call those anyway?"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1351053600,"post_id":2418994,"comment_id":17709510,"body_markdown":"@Bee: I don&#39;t call them anything; I&#39;ve never encountered someone using a direct subclass of `Throwable`.  BTW I have updated my answer to assuage your concern.","body":"@Bee: I don&#39;t call them anything; I&#39;ve never encountered someone using a direct subclass of <code>Throwable</code>.  BTW I have updated my answer to assuage your concern."},{"owner":{"account_id":50030,"reputation":61455,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"score":0,"creation_date":1351061434,"post_id":2418994,"comment_id":17711353,"body_markdown":"Looks good.  Often the check itself for `instanceof Throwable` can be itself omitted because if you caught something, it must be a `Throwable`.  Similarly for `Exception` if you caught `Exception` (or a subclass), etc.","body":"Looks good.  Often the check itself for <code>instanceof Throwable</code> can be itself omitted because if you caught something, it must be a <code>Throwable</code>.  Similarly for <code>Exception</code> if you caught <code>Exception</code> (or a subclass), etc."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":1,"creation_date":1351097258,"post_id":2418994,"comment_id":17726749,"body_markdown":"@Bee: Yes, that&#39;s what I meant by my last paragraph.","body":"@Bee: Yes, that&#39;s what I meant by my last paragraph."}],"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":6,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1411153718,"creation_date":1268241591,"answer_id":2418994,"question_id":2418947,"body_markdown":"All `Throwable`s except subclasses of `java.lang.RuntimeException` or `java.lang.Error` are checked. Properly, in Java, &quot;exceptions&quot; are subclasses of `java.lang.Exception`, &quot;errors&quot; are subclasses of `java.lang.Error` and `java.lang.Throwable` is not usually subclassed directly. \r\n\r\nPrograms are not supposed to create their own `Error` subclasses (though the documentation is rather ambiguous on that) so generally you always create `Exceptions`, using a `RuntimeException` if you don&#39;t want it to be checked.\r\n\r\nTo know at run-time if you have a checked **exception** you could use:\r\n\r\n    if(throwable instanceof Exception &amp;&amp; !(throwable instanceof RuntimeException)) {\r\n        // this is a checked Exception\r\n        }\r\n\r\nA checked exception is one which must be either handled in a catch clause, or declared as being thrown in the method signature; the compiler enforces this.  Generally, one uses checked exceptions for exceptions which should be handled by the calling code, while unchecked exceptions are for conditions which are the result of a programming error and should be fixed by correcting the code.\r\n\r\nThat said there is much debate in the Java community about the efficacy of using checked exceptions vs. unchecked exceptions everywhere - a subject way to deep to discuss in this answer.\r\n\r\n**EDIT 2012-10-23:** In response to comments (which are quite valid), to clarify, the following would be what is required to determine if a captured `Throwable` is a checked  ***`Throwable`*** as opposed to a checked ***`Exception`***:\r\n\r\n    if(obj instanceof Throwable &amp;&amp; !(obj instanceof RuntimeException) &amp;&amp; !(obj instanceof Error)) {\r\n        // this is a checked Throwable - i.e. Throwable, but not RuntimeException or Error\r\n        }\r\n\r\nIf the object in question is *known* to be an instance of `Throwable` (e.g. it was caught), only the second part of the above &#39;if&#39; is needed (e.g. testing for Throwable is redundant).","title":"How to identify checked and unchecked exceptions in java?","body":"<p>All <code>Throwable</code>s except subclasses of <code>java.lang.RuntimeException</code> or <code>java.lang.Error</code> are checked. Properly, in Java, \"exceptions\" are subclasses of <code>java.lang.Exception</code>, \"errors\" are subclasses of <code>java.lang.Error</code> and <code>java.lang.Throwable</code> is not usually subclassed directly. </p>\n\n<p>Programs are not supposed to create their own <code>Error</code> subclasses (though the documentation is rather ambiguous on that) so generally you always create <code>Exceptions</code>, using a <code>RuntimeException</code> if you don't want it to be checked.</p>\n\n<p>To know at run-time if you have a checked <strong>exception</strong> you could use:</p>\n\n<pre><code>if(throwable instanceof Exception &amp;&amp; !(throwable instanceof RuntimeException)) {\n    // this is a checked Exception\n    }\n</code></pre>\n\n<p>A checked exception is one which must be either handled in a catch clause, or declared as being thrown in the method signature; the compiler enforces this.  Generally, one uses checked exceptions for exceptions which should be handled by the calling code, while unchecked exceptions are for conditions which are the result of a programming error and should be fixed by correcting the code.</p>\n\n<p>That said there is much debate in the Java community about the efficacy of using checked exceptions vs. unchecked exceptions everywhere - a subject way to deep to discuss in this answer.</p>\n\n<p><strong>EDIT 2012-10-23:</strong> In response to comments (which are quite valid), to clarify, the following would be what is required to determine if a captured <code>Throwable</code> is a checked  <strong><em><code>Throwable</code></em></strong> as opposed to a checked <strong><em><code>Exception</code></em></strong>:</p>\n\n<pre><code>if(obj instanceof Throwable &amp;&amp; !(obj instanceof RuntimeException) &amp;&amp; !(obj instanceof Error)) {\n    // this is a checked Throwable - i.e. Throwable, but not RuntimeException or Error\n    }\n</code></pre>\n\n<p>If the object in question is <em>known</em> to be an instance of <code>Throwable</code> (e.g. it was caught), only the second part of the above 'if' is needed (e.g. testing for Throwable is redundant).</p>\n"},{"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1268258876,"post_id":2419016,"comment_id":2403481,"body_markdown":"@Christoph: and of course there&#39;s a whole school of programming that consider that &quot;an expected error condition&quot; is not really an error and that seen that a lot of languages do perfectly fine without even the *concept* of checked exception their existence is debatable. Joshua Bloch, Effective Java, *&quot;Prefer state testing method over exception&quot;*. And then of course there&#39;s the school of programming that hates GOTOs and considered using checked exceptions for flow control to be spaghetti-like GOTO programming. I&#39;m not siding with one camp or another, just stating the current state of affair :)","body":"@Christoph: and of course there&#39;s a whole school of programming that consider that &quot;an expected error condition&quot; is not really an error and that seen that a lot of languages do perfectly fine without even the <i>concept</i> of checked exception their existence is debatable. Joshua Bloch, Effective Java, <i>&quot;Prefer state testing method over exception&quot;</i>. And then of course there&#39;s the school of programming that hates GOTOs and considered using checked exceptions for flow control to be spaghetti-like GOTO programming. I&#39;m not siding with one camp or another, just stating the current state of affair :)"}],"tags":[],"owner":{"account_id":20189,"reputation":166057,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268242467,"creation_date":1268241824,"answer_id":2419016,"question_id":2418947,"body_markdown":"See the [Java Language Spec, chapter 11](http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html#11.2):\r\n\r\n&gt; The unchecked exceptions classes are the class `RuntimeException`  and its subclasses, and the class `Error` and its subclasses. All other exception classes are checked exception classes. The Java API defines a number of exception classes, both checked and unchecked. Additional exception classes, both checked and unchecked, may be declared by programmers.\r\n\r\nYou could check this via `instanceof` at runtime, though I don&#39;t really see where this would be useful.\r\n\r\nAs to the second part of your question:\r\n\r\n* checked exception represent expected error conditions, which can occur during normal program execution and therefore always have to be handled programatically (which the compiler enforces)\r\n\r\n* unchecked exception represent unexpected error conditions and signify an abnormal state of your program, due to invalid input, bugs or runtime restrictions (eg memory); the compiler won&#39;t force the programmer to handle these, ie you only have to care for them if you know of their occurrence","title":"How to identify checked and unchecked exceptions in java?","body":"<p>See the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/exceptions.html#11.2\" rel=\"noreferrer\">Java Language Spec, chapter 11</a>:</p>\n\n<blockquote>\n  <p>The unchecked exceptions classes are the class <code>RuntimeException</code>  and its subclasses, and the class <code>Error</code> and its subclasses. All other exception classes are checked exception classes. The Java API defines a number of exception classes, both checked and unchecked. Additional exception classes, both checked and unchecked, may be declared by programmers.</p>\n</blockquote>\n\n<p>You could check this via <code>instanceof</code> at runtime, though I don't really see where this would be useful.</p>\n\n<p>As to the second part of your question:</p>\n\n<ul>\n<li><p>checked exception represent expected error conditions, which can occur during normal program execution and therefore always have to be handled programatically (which the compiler enforces)</p></li>\n<li><p>unchecked exception represent unexpected error conditions and signify an abnormal state of your program, due to invalid input, bugs or runtime restrictions (eg memory); the compiler won't force the programmer to handle these, ie you only have to care for them if you know of their occurrence</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":208332,"reputation":51998,"user_id":458741,"accept_rate":67,"display_name":"Ben"},"score":0,"creation_date":1379011333,"post_id":18771662,"comment_id":27674982,"body_markdown":"Could you explain _why_ this might work to improve your answer?","body":"Could you explain <i>why</i> this might work to improve your answer?"}],"tags":[],"owner":{"account_id":3296758,"reputation":1,"user_id":2773853,"display_name":"Ravi Kiran Lanka"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1379010128,"creation_date":1379010128,"answer_id":18771662,"question_id":2418947,"body_markdown":"    package practice;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    class Practice\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tException n=new NullPointerException();\r\n    \t\tif(n instanceof RuntimeException)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;this is a runtime(unchecked) exception&quot;);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;this is not a compiletime(checked) exception&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }","title":"How to identify checked and unchecked exceptions in java?","body":"<pre><code>package practice;\n\nimport java.io.IOException;\n\nclass Practice\n{\n    public static void main(String args[])\n    {\n        Exception n=new NullPointerException();\n        if(n instanceof RuntimeException)\n        {\n            System.out.println(\"this is a runtime(unchecked) exception\");\n        }\n        else\n        {\n            System.out.println(\"this is not a compiletime(checked) exception\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665511339,"creation_date":1586512134,"answer_id":61137750,"question_id":2418947,"body_markdown":"**Java checked vs unchecked exception**\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Rib78.png&quot; height=&quot;300&quot;&gt;\r\n\r\n\r\n- `Error` is internal VM error and usually you can not manage it. \r\n- `Exception` - you are able to catch and handle it\r\n\r\n**Checked vs Unchecked**\r\n\r\n- **checked** exception is checked by the compiler and as a programmer you have to handle it using `try-catch-finally`, `throws`\r\n- **unchecked** exception is not checked by the compiler but you optionally can manage it explicitly \r\n\r\n\r\n`IntelliJ IDEA&#39;s` `Type Hierarchy` tool is useful when you want to find more \r\n\r\n  [2]: https://i.stack.imgur.com/0U3U9.png","title":"How to identify checked and unchecked exceptions in java?","body":"<p><strong>Java checked vs unchecked exception</strong></p>\n<img src=\"https://i.stack.imgur.com/Rib78.png\" height=\"300\">\n<ul>\n<li><code>Error</code> is internal VM error and usually you can not manage it.</li>\n<li><code>Exception</code> - you are able to catch and handle it</li>\n</ul>\n<p><strong>Checked vs Unchecked</strong></p>\n<ul>\n<li><strong>checked</strong> exception is checked by the compiler and as a programmer you have to handle it using <code>try-catch-finally</code>, <code>throws</code></li>\n<li><strong>unchecked</strong> exception is not checked by the compiler but you optionally can manage it explicitly</li>\n</ul>\n<p><code>IntelliJ IDEA's</code> <code>Type Hierarchy</code> tool is useful when you want to find more</p>\n"}],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15637,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":2418994,"answer_count":6,"score":23,"last_activity_date":1665511339,"creation_date":1268241236,"question_id":2418947,"body_markdown":"While reading about exception, I will always come across checked exceptions and unchecked exceptions, So wanted to know how to distinguish that which is what?\r\n\r\nEdit: I want to know if i create any exception class then how can i create as a checked or as an unchecked?\r\n\r\nand what is the significance of each?","title":"How to identify checked and unchecked exceptions in java?","body":"<p>While reading about exception, I will always come across checked exceptions and unchecked exceptions, So wanted to know how to distinguish that which is what?</p>\n\n<p>Edit: I want to know if i create any exception class then how can i create as a checked or as an unchecked?</p>\n\n<p>and what is the significance of each?</p>\n"},{"tags":["java","eclipse","unit-testing","package","junit5"],"answers":[{"comments":[{"owner":{"display_name":"user17557638"},"score":0,"creation_date":1640783125,"post_id":70519618,"comment_id":124657190,"body_markdown":"I tried that too but the test is still failing when I run it. I&#39;m guessing that because \t\tassertEquals(4, e.getEmployeeCount()); that the count size needs to be greater than or equal to 4? Not sure how to write it though if I&#39;m correct","body":"I tried that too but the test is still failing when I run it. I&#39;m guessing that because \t\tassertEquals(4, e.getEmployeeCount()); that the count size needs to be greater than or equal to 4? Not sure how to write it though if I&#39;m correct"},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1640783503,"post_id":70519618,"comment_id":124657343,"body_markdown":"Your code does nothing on `fire()`, just returning `false`. right? Thus, you should do **something** to remove specified instance from `employees` Code doesn&#39;t work with listing of what you want. Write what code should does specifically.","body":"Your code does nothing on <code>fire()</code>, just returning <code>false</code>. right? Thus, you should do <b>something</b> to remove specified instance from <code>employees</code> Code doesn&#39;t work with listing of what you want. Write what code should does specifically."},{"owner":{"display_name":"user17557638"},"score":0,"creation_date":1640784145,"post_id":70519618,"comment_id":124657563,"body_markdown":"It does nothing on fire yet because I need to code the functionality of that next, I&#39;m doing it one by one. The ones with nothing in them are skeleton classes. I need to code the functionality into them. I&#39;m struggling to do that.","body":"It does nothing on fire yet because I need to code the functionality of that next, I&#39;m doing it one by one. The ones with nothing in them are skeleton classes. I need to code the functionality into them. I&#39;m struggling to do that."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1640823754,"post_id":70519618,"comment_id":124669568,"body_markdown":"As you said, you&#39;re trying to code it one by one, then why you want the test to be passed which you didn&#39;t finish yet? It doesn&#39;t make sense, right? `testGetEmployeeCount` method is testing for `hire` and `fire` method, so you need to complete both method with utilizing `add` and `remove` method from List Collections","body":"As you said, you&#39;re trying to code it one by one, then why you want the test to be passed which you didn&#39;t finish yet? It doesn&#39;t make sense, right? <code>testGetEmployeeCount</code> method is testing for <code>hire</code> and <code>fire</code> method, so you need to complete both method with utilizing <code>add</code> and <code>remove</code> method from List Collections"}],"tags":[],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640781971,"creation_date":1640781971,"answer_id":70519618,"question_id":70519510,"body_markdown":"I can&#39;t see any code which initialize or increment `int count` variable. But as you said, you don&#39;t need `count` variable and just use `size()` method in `employees` List\r\n\r\n```java\r\n@Override\r\npublic int getEmployeeCount() {\r\n    return this.employees.size();\r\n}\r\n```\r\n\r\n","title":"Junit5 how to count employees in UnitTest","body":"<p>I can't see any code which initialize or increment <code>int count</code> variable. But as you said, you don't need <code>count</code> variable and just use <code>size()</code> method in <code>employees</code> List</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int getEmployeeCount() {\n    return this.employees.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640790917,"creation_date":1640790917,"answer_id":70521340,"question_id":70519510,"body_markdown":"In @BeforeEach you&#39;re test by creating 4 employees.\r\n\r\n- Your hire method does &#39;employees.add(p);&#39; , so it expands your list.\r\n- Your fire method does not do anything, just returning false.\r\n\r\nYet you expect in test `testFire` and `testGetEmployeeCount` that the number of employees has decreased. That does not happen and will fail.\r\n\r\nYou need the following fix:\r\nIMPORTANT - Implement an equals and hash code on your PersonImpl class (so you can compare equal objects content instead of object-hash value). You can use guava or apache commmons or lombok or any other way to do that.\r\n\r\nThen implement in &#39;fire&#39; method:\r\n\r\n```\r\n    @Override\r\n    public boolean fire(Person p) {\r\n        return employees.remove(p);\r\n    }\r\n\r\n```\r\n\r\nIn this case I assume you will implement limitations in the &#39;hire&#39; method on your class to have duplicate employees, so you need only to remove it once. If employees can be duplicate, then do to remove the employee including duplicates:\r\n```\r\nreturn employees.removeAll(Collections.singletonList(p));\r\n```\r\n\r\n","title":"Junit5 how to count employees in UnitTest","body":"<p>In @BeforeEach you're test by creating 4 employees.</p>\n<ul>\n<li>Your hire method does 'employees.add(p);' , so it expands your list.</li>\n<li>Your fire method does not do anything, just returning false.</li>\n</ul>\n<p>Yet you expect in test <code>testFire</code> and <code>testGetEmployeeCount</code> that the number of employees has decreased. That does not happen and will fail.</p>\n<p>You need the following fix:\nIMPORTANT - Implement an equals and hash code on your PersonImpl class (so you can compare equal objects content instead of object-hash value). You can use guava or apache commmons or lombok or any other way to do that.</p>\n<p>Then implement in 'fire' method:</p>\n<pre><code>    @Override\n    public boolean fire(Person p) {\n        return employees.remove(p);\n    }\n\n</code></pre>\n<p>In this case I assume you will implement limitations in the 'hire' method on your class to have duplicate employees, so you need only to remove it once. If employees can be duplicate, then do to remove the employee including duplicates:</p>\n<pre><code>return employees.removeAll(Collections.singletonList(p));\n</code></pre>\n"}],"owner":{"display_name":"user17557638"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665511240,"creation_date":1640781398,"question_id":70519510,"body_markdown":"So I have 3 packages, Implementation, interfaces and test. I want to write the functionality into EmployeeImp so my unit test passes without error when I run it on TestEmployeeImp. However I&#39;m not sure how getEmployeeCount is written as it fails in the unit test. I tried to  solve it by creating the int count but it doesn&#39;t work. I know I need to use the array list to count the number of employees but I cannot come up with a solution and I can&#39;t find any samples of code that are like my unit test. If anyone can help it would be very appreciated. \r\n\r\n```\r\n//EmployeeImp\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport interfaces.Employer;\r\nimport interfaces.Person;\r\n\r\npublic class EmployerImpl implements Employer {\r\n\t\r\n\tprivate String name;\r\n\tprivate List&lt;Person&gt; employees;\r\n\tprivate int count;\r\n\r\n\r\n\tpublic EmployerImpl(String n) {\r\n\t\t//gets name\r\n\t\tthis.name = n;\r\n\t\t//Array List\r\n\t\temployees = new ArrayList&lt;Person&gt;();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void hire(Person p, String title, double salary) {\r\n\t\tp.setJob(null);\r\n\t\temployees.add(p);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;Person&gt; getEmployees() {\r\n\t\t//Returns Employees in a List\r\n\t\treturn employees;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getEmployeeCount() {\r\n\t\treturn this.count;\r\n\t\t//Returns employees size\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean fire(Person p) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\t//returns name\r\n\t\treturn name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEmployed(Person p) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Person getHighestPaid() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Person getLowestPaid() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic double getStaffCost() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getCountOf(String title) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;Person&gt; getAll(String title) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n//Employer.java\r\nimport java.util.List;\r\n\r\npublic interface Employer {\r\n\r\n\tvoid hire(Person p, String title, double salary);\r\n\tList&lt;Person&gt; getEmployees();\r\n\tint getEmployeeCount();\r\n\tboolean fire(Person p);\r\n\tString getName();\r\n\tboolean isEmployed(Person p);\r\n\tPerson getHighestPaid();\r\n\tPerson getLowestPaid();\r\n\tdouble getStaffCost();\r\n\tint getCountOf(String title);\r\n\tList&lt;Person&gt; getAll(String title);\r\n}\r\n\r\n```\r\n\r\n```\r\n//TestEmployeeImp\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport implementation.EmployerImpl;\r\nimport implementation.PersonImpl;\r\nimport interfaces.Employer;\r\nimport interfaces.Person;\r\n\r\nclass TestEmployerImpl {\r\n\r\n\tprivate Employer e;\r\n\tprivate Person highest;\r\n\tprivate Person lowest;\r\n\t\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n\t\te = new EmployerImpl(&quot;NCCO&quot;);\r\n\t\tlowest = new PersonImpl(&quot;John&quot;, 18);\r\n\t\te.hire(lowest, &quot;Lab Assistant&quot;, 20000);\r\n\t\thighest = new PersonImpl(&quot;Anu&quot;, 50);\r\n\t\te.hire(highest, &quot;Best Teacher&quot;, 80000);\r\n\t\te.hire(new PersonImpl(&quot;Damien&quot;, 18), &quot;Teacher&quot;, 41000);\r\n\t\te.hire(new PersonImpl(&quot;Malachy&quot;, 45), &quot;Teacher&quot;, 50000);\r\n\t\t\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetEmployees() {\r\n\t\tList&lt;Person&gt; l = e.getEmployees();\r\n\t\tassertNotNull(l);\r\n\t\tassertEquals(4, l.size());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetEmployeeCount() {\r\n\t\tassertEquals(4, e.getEmployeeCount());\r\n\t\tPerson p = new PersonImpl(&quot;Paul H&quot;, 50);\r\n\t\te.hire(p, &quot;teacher&quot;, 1000);\r\n\t\tassertEquals(5, e.getEmployeeCount());\r\n\t\te.fire(p);\r\n\t\tassertEquals(4, e.getEmployeeCount());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testFire() {\r\n\t\tPerson p = new PersonImpl(&quot;Damien&quot;, 18);\r\n\t\tboolean f= e.fire(p);\r\n\t\tassertTrue(f);\r\n\t\tassertEquals(3, e.getEmployeeCount());\r\n\t\t\r\n\t\tp = new PersonImpl(&quot;Danika&quot;, 23);\r\n\t\tf = e.fire(p);\r\n\t\tassertFalse(f);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testGetName() {\r\n\t\tassertEquals(&quot;NCCO&quot;, e.getName());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testIsEmployed() {\r\n\t\tPerson p = new PersonImpl(&quot;Damien&quot;, 18);\r\n\t\tassertTrue(e.isEmployed(p));\r\n\t\t\r\n\t\tp = new PersonImpl(&quot;Danika&quot;, 23);\r\n\t\tassertFalse(e.isEmployed(p));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testGetHighestPaid() {\r\n\t\tassertEquals(highest, e.getHighestPaid());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getLowestPaid() {\r\n\t\tassertEquals(lowest, e.getLowestPaid());\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getStaffCost() {\r\n\t\tassertEquals(191000, e.getStaffCost());\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testGetCountOf() {\r\n\t\tassertEquals(2, e.getCountOf(&quot;Teacher&quot;));\r\n\t\tassertEquals(0, e.getCountOf(&quot;Awesome Teacher&quot;));\r\n\t}\r\n\t\r\n\t@Test \r\n\tvoid testGetAll(){\r\n\t\tassertEquals(2, e.getAll(&quot;Teacher&quot;).size());\r\n\t\tassertNotNull(e.getAll(&quot;Dean&quot;));\r\n\t\tassertTrue(e.getAll(&quot;Dean&quot;).isEmpty());\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"Junit5 how to count employees in UnitTest","body":"<p>So I have 3 packages, Implementation, interfaces and test. I want to write the functionality into EmployeeImp so my unit test passes without error when I run it on TestEmployeeImp. However I'm not sure how getEmployeeCount is written as it fails in the unit test. I tried to  solve it by creating the int count but it doesn't work. I know I need to use the array list to count the number of employees but I cannot come up with a solution and I can't find any samples of code that are like my unit test. If anyone can help it would be very appreciated.</p>\n<pre><code>//EmployeeImp\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport interfaces.Employer;\nimport interfaces.Person;\n\npublic class EmployerImpl implements Employer {\n    \n    private String name;\n    private List&lt;Person&gt; employees;\n    private int count;\n\n\n    public EmployerImpl(String n) {\n        //gets name\n        this.name = n;\n        //Array List\n        employees = new ArrayList&lt;Person&gt;();\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void hire(Person p, String title, double salary) {\n        p.setJob(null);\n        employees.add(p);\n\n    }\n\n    @Override\n    public List&lt;Person&gt; getEmployees() {\n        //Returns Employees in a List\n        return employees;\n    }\n\n    @Override\n    public int getEmployeeCount() {\n        return this.count;\n        //Returns employees size\n        \n        \n    }\n\n    @Override\n    public boolean fire(Person p) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public String getName() {\n        //returns name\n        return name;\n    }\n\n    @Override\n    public boolean isEmployed(Person p) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public Person getHighestPaid() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Person getLowestPaid() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public double getStaffCost() {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public int getCountOf(String title) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public List&lt;Person&gt; getAll(String title) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<pre><code>//Employer.java\nimport java.util.List;\n\npublic interface Employer {\n\n    void hire(Person p, String title, double salary);\n    List&lt;Person&gt; getEmployees();\n    int getEmployeeCount();\n    boolean fire(Person p);\n    String getName();\n    boolean isEmployed(Person p);\n    Person getHighestPaid();\n    Person getLowestPaid();\n    double getStaffCost();\n    int getCountOf(String title);\n    List&lt;Person&gt; getAll(String title);\n}\n\n</code></pre>\n<pre><code>//TestEmployeeImp\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport implementation.EmployerImpl;\nimport implementation.PersonImpl;\nimport interfaces.Employer;\nimport interfaces.Person;\n\nclass TestEmployerImpl {\n\n    private Employer e;\n    private Person highest;\n    private Person lowest;\n    \n    @BeforeEach\n    void setUp() throws Exception {\n        e = new EmployerImpl(&quot;NCCO&quot;);\n        lowest = new PersonImpl(&quot;John&quot;, 18);\n        e.hire(lowest, &quot;Lab Assistant&quot;, 20000);\n        highest = new PersonImpl(&quot;Anu&quot;, 50);\n        e.hire(highest, &quot;Best Teacher&quot;, 80000);\n        e.hire(new PersonImpl(&quot;Damien&quot;, 18), &quot;Teacher&quot;, 41000);\n        e.hire(new PersonImpl(&quot;Malachy&quot;, 45), &quot;Teacher&quot;, 50000);\n        \n    }\n\n    @Test\n    void testGetEmployees() {\n        List&lt;Person&gt; l = e.getEmployees();\n        assertNotNull(l);\n        assertEquals(4, l.size());\n    }\n\n    @Test\n    void testGetEmployeeCount() {\n        assertEquals(4, e.getEmployeeCount());\n        Person p = new PersonImpl(&quot;Paul H&quot;, 50);\n        e.hire(p, &quot;teacher&quot;, 1000);\n        assertEquals(5, e.getEmployeeCount());\n        e.fire(p);\n        assertEquals(4, e.getEmployeeCount());\n    }\n\n    @Test\n    void testFire() {\n        Person p = new PersonImpl(&quot;Damien&quot;, 18);\n        boolean f= e.fire(p);\n        assertTrue(f);\n        assertEquals(3, e.getEmployeeCount());\n        \n        p = new PersonImpl(&quot;Danika&quot;, 23);\n        f = e.fire(p);\n        assertFalse(f);\n    }\n\n    @Test\n    void testGetName() {\n        assertEquals(&quot;NCCO&quot;, e.getName());\n    }\n\n    @Test\n    void testIsEmployed() {\n        Person p = new PersonImpl(&quot;Damien&quot;, 18);\n        assertTrue(e.isEmployed(p));\n        \n        p = new PersonImpl(&quot;Danika&quot;, 23);\n        assertFalse(e.isEmployed(p));\n    }\n    \n    @Test\n    public void testGetHighestPaid() {\n        assertEquals(highest, e.getHighestPaid());\n    }\n\n    @Test\n    void getLowestPaid() {\n        assertEquals(lowest, e.getLowestPaid());\n    }\n\n    @Test\n    void getStaffCost() {\n        assertEquals(191000, e.getStaffCost());\n    }\n    \n    @Test\n    void testGetCountOf() {\n        assertEquals(2, e.getCountOf(&quot;Teacher&quot;));\n        assertEquals(0, e.getCountOf(&quot;Awesome Teacher&quot;));\n    }\n    \n    @Test \n    void testGetAll(){\n        assertEquals(2, e.getAll(&quot;Teacher&quot;).size());\n        assertNotNull(e.getAll(&quot;Dean&quot;));\n        assertTrue(e.getAll(&quot;Dean&quot;).isEmpty());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","television"],"comments":[{"owner":{"account_id":6191571,"reputation":840,"user_id":4824159,"display_name":"Amit Basliyal"},"score":0,"creation_date":1469099634,"post_id":38502724,"comment_id":64404062,"body_markdown":"where you use this code in activity or adapter","body":"where you use this code in activity or adapter"},{"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"score":0,"creation_date":1469099687,"post_id":38502724,"comment_id":64404103,"body_markdown":"I use this code in my custom adapter","body":"I use this code in my custom adapter"},{"owner":{"account_id":3750342,"reputation":1368,"user_id":3117966,"display_name":"Nisarg"},"score":1,"creation_date":1469099892,"post_id":38502724,"comment_id":64404231,"body_markdown":"@Rodriquez you can prevent it using OnTouchListener","body":"@Rodriquez you can prevent it using OnTouchListener"},{"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"score":0,"creation_date":1469100277,"post_id":38502724,"comment_id":64404475,"body_markdown":"hey thanks for reply, i think i cant use it becouse its aplication for tv. No touch at all, just focus.","body":"hey thanks for reply, i think i cant use it becouse its aplication for tv. No touch at all, just focus."}],"answers":[{"comments":[{"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"score":0,"creation_date":1469100880,"post_id":38503070,"comment_id":64404915,"body_markdown":"Yea i change it but when i click LongClick i got spam from onClick","body":"Yea i change it but when i click LongClick i got spam from onClick"},{"owner":{"account_id":8116777,"reputation":1012,"user_id":6115035,"accept_rate":75,"display_name":"Nikhil PV"},"score":0,"creation_date":1469101418,"post_id":38503070,"comment_id":64405269,"body_markdown":"add this line holder.title.setOnClickListener(null);","body":"add this line holder.title.setOnClickListener(null);"}],"tags":[],"owner":{"account_id":8116777,"reputation":1012,"user_id":6115035,"accept_rate":75,"display_name":"Nikhil PV"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469105167,"creation_date":1469100535,"answer_id":38503070,"question_id":38502724,"body_markdown":"Add this line\r\n\r\n    holder.title.setOnClickListener(null);","title":"disable onClick on recyclerView when is OnlongClick option","body":"<p>Add this line</p>\n\n<pre><code>holder.title.setOnClickListener(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665511020,"creation_date":1533627151,"answer_id":51721247,"question_id":38502724,"body_markdown":"In case if there is necessity to listen both `onLongClick` and `onClick`,\r\nHere is another approach:\r\n\r\nExample:\r\n\r\n    @Override\r\n    public boolean onLongClick(View view) {\r\n        //return value true to make sure only onLongClick is executed without triggering normal onClick\r\n        return true; // or false\r\n    }\r\n\r\n`return true` means that the event is consumed. It is handled. No other click events will be notified.  \r\n`return false` means the event is not consumed. Any other click events will continue to receive notifications.  \r\n\r\nSo to make sure both `onClick` and `onLongClick` are not triggered at the same time, `return true` from `onLongClick` event.  \r\n","title":"disable onClick on recyclerView when is OnlongClick option","body":"<p>In case if there is necessity to listen both <code>onLongClick</code> and <code>onClick</code>,\nHere is another approach:</p>\n<p>Example:</p>\n<pre><code>@Override\npublic boolean onLongClick(View view) {\n    //return value true to make sure only onLongClick is executed without triggering normal onClick\n    return true; // or false\n}\n</code></pre>\n<p><code>return true</code> means that the event is consumed. It is handled. No other click events will be notified.<br />\n<code>return false</code> means the event is not consumed. Any other click events will continue to receive notifications.</p>\n<p>So to make sure both <code>onClick</code> and <code>onLongClick</code> are not triggered at the same time, <code>return true</code> from <code>onLongClick</code> event.</p>\n"}],"owner":{"account_id":8855188,"reputation":981,"user_id":6613180,"accept_rate":84,"display_name":"Rodriquez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38503070,"answer_count":2,"score":2,"last_activity_date":1665511020,"creation_date":1469099540,"question_id":38502724,"body_markdown":"How to disable `onClick` when I click for `LongClick`?\r\nIt&#39;s a code from `recyclerView`, when I try long click I just see that normal click just spamming like hell.\r\n\r\n\r\n     holder.title.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Toast.makeText(context, &quot;To clear your recomendations, press for few seconds. &quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                    holder.title.setOnLongClickListener(new View.OnLongClickListener() {\r\n                        @Override\r\n                        public boolean onLongClick(View v) {\r\n                            clearPreferences(R.string.preferences_reminder);\r\n                            Toast.makeText(context, &quot;Recomendations cleared.&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n    \r\n                            return true;\r\n                        }\r\n                    });","title":"disable onClick on recyclerView when is OnlongClick option","body":"<p>How to disable <code>onClick</code> when I click for <code>LongClick</code>?\nIt's a code from <code>recyclerView</code>, when I try long click I just see that normal click just spamming like hell.</p>\n\n<pre><code> holder.title.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Toast.makeText(context, \"To clear your recomendations, press for few seconds. \", Toast.LENGTH_SHORT).show();\n                    }\n                });\n                holder.title.setOnLongClickListener(new View.OnLongClickListener() {\n                    @Override\n                    public boolean onLongClick(View v) {\n                        clearPreferences(R.string.preferences_reminder);\n                        Toast.makeText(context, \"Recomendations cleared.\", Toast.LENGTH_SHORT).show();\n\n\n                        return true;\n                    }\n                });\n</code></pre>\n"},{"tags":["java","generics","groovy"],"answers":[{"comments":[{"owner":{"account_id":992621,"reputation":2261,"user_id":1009459,"accept_rate":68,"display_name":"matcauthon"},"score":1,"creation_date":1341840568,"post_id":11395596,"comment_id":15023795,"body_markdown":"Thanks. That works. I just want to understand a groovy (ast transforming) dependency injection system from [telluriumsource](http://code.google.com/p/aost/source/browse/branches/trunk-0.8.0/injector/src/?r=5219#src%2Fmain%2Fgroovy%2Forg%2Ftelluriumsource). Just now its copy-paste-debug, later on I will change it to my needs.","body":"Thanks. That works. I just want to understand a groovy (ast transforming) dependency injection system from <a href=\"http://code.google.com/p/aost/source/browse/branches/trunk-0.8.0/injector/src/?r=5219#src%2Fmain%2Fgroovy%2Forg%2Ftelluriumsource\" rel=\"nofollow noreferrer\">telluriumsource</a>. Just now its copy-paste-debug, later on I will change it to my needs."}],"tags":[],"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1665511004,"creation_date":1341838989,"answer_id":11395596,"question_id":11395527,"body_markdown":"The Groovy parser does not handle [method signatures beginning with Generic information][1]...\r\n\r\nIt parses if you add the public modifier:\r\n\r\n    interface A {\r\n      public &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\r\n    }\r\n\r\nThough I don&#39;t believe you&#39;ll gain any type checking at compile time for adding this annotation\r\n\r\n\r\n  [1]: https://user.groovy.codehaus.narkive.com/G7kxM22B/groovy-generic-interface-declaration-incompatibility#post2","title":"Groovy Generics failure","body":"<p>The Groovy parser does not handle <a href=\"https://user.groovy.codehaus.narkive.com/G7kxM22B/groovy-generic-interface-declaration-incompatibility#post2\" rel=\"nofollow noreferrer\">method signatures beginning with Generic information</a>...</p>\n<p>It parses if you add the public modifier:</p>\n<pre><code>interface A {\n  public &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\n}\n</code></pre>\n<p>Though I don't believe you'll gain any type checking at compile time for adding this annotation</p>\n"},{"tags":[],"owner":{"account_id":11395668,"reputation":99,"user_id":8354156,"display_name":"Tomi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656770627,"creation_date":1656770627,"answer_id":72839629,"question_id":11395527,"body_markdown":"Just for the completeness. You can use `def` instead of `public`. The result is identical since methods in groovy are public by default.\r\n\r\n    interface A {\r\n      def &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\r\n    }","title":"Groovy Generics failure","body":"<p>Just for the completeness. You can use <code>def</code> instead of <code>public</code>. The result is identical since methods in groovy are public by default.</p>\n<pre><code>interface A {\n  def &lt;T&gt; T getByClass( Class&lt;T&gt; clazz )\n}\n</code></pre>\n"}],"owner":{"account_id":992621,"reputation":2261,"user_id":1009459,"accept_rate":68,"display_name":"matcauthon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4163,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":11395596,"answer_count":2,"score":16,"last_activity_date":1665511004,"creation_date":1341838735,"question_id":11395527,"body_markdown":"Besides groovy is way more dynamic then java...\r\n\r\nWhy is this a compile time error in groovy (unexpected token `&lt;`):\r\n\r\n    interface A {\r\n         &lt;T&gt; T getByClass(Class&lt;T&gt; clazz)\r\n    }\r\n\r\nHow do I write this the groovy way?","title":"Groovy Generics failure","body":"<p>Besides groovy is way more dynamic then java...</p>\n\n<p>Why is this a compile time error in groovy (unexpected token <code>&lt;</code>):</p>\n\n<pre><code>interface A {\n     &lt;T&gt; T getByClass(Class&lt;T&gt; clazz)\n}\n</code></pre>\n\n<p>How do I write this the groovy way?</p>\n"},{"tags":["java","spring","spring-boot","grails","groovy"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665557025,"post_id":74031987,"comment_id":130725463,"body_markdown":"Please check how to write a question title: [ask]. Don&#39;t post phrases like &quot;any help will be appreciated&quot; there...","body":"Please check how to write a question title: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Don&#39;t post phrases like &quot;any help will be appreciated&quot; there..."}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665510937,"creation_date":1665510937,"answer_id":74032236,"question_id":74031987,"body_markdown":"    maven { url &quot;https://maven.repository.redhat.com/ga/&quot;}\r\n    compile &#39;org.springframework:org.springframework.beans:2.5.6.SEC01&#39;\r\n\r\nTry with this","title":"Trying to upgrade Groovy app from 2.3.1 to 3.3.15, I am getting lots of errors like below. any help will be appriciated","body":"<pre><code>maven { url &quot;https://maven.repository.redhat.com/ga/&quot;}\ncompile 'org.springframework:org.springframework.beans:2.5.6.SEC01'\n</code></pre>\n<p>Try with this</p>\n"}],"owner":{"account_id":22315422,"reputation":9,"user_id":16538842,"display_name":"Rahul kumar dhiman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665510937,"creation_date":1665509512,"question_id":74031987,"body_markdown":"| Running application...\r\n2022-10-11 17:19:04.189 ERROR --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [splitseasontickets.main4.Application]; nested exception is java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\r\n        - org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration\r\n\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:561)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:187)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\r\n        at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:55)\r\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:374)\r\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:363)\r\n        at grails.boot.GrailsApp$run.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\r\n        at splitseasontickets.main4.Application.main(Application.groovy:8)\r\nCaused by: java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\r\n        - org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration\r\n\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.handleInvalidExcludes(AutoConfigurationImportSelector.java:183)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.checkExcludedClasses(AutoConfigurationImportSelector.java:169)\r\n        at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.selectImports(AutoConfigurationImportSelector.java:97)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:552)\r\n        ... 19 common frames omitted\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:bootRun&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-8-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n| Error Failed to start server (Use --stacktrace to see the full trace)\r\n\r\nI am using the below dependencies in gradle...\r\n````\r\nbuildscript {\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url &quot;https://repo.grails.org/grails/core&quot; }\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.grails:grails-gradle-plugin:$grailsVersion&quot;\r\n        classpath &quot;org.grails.plugins:hibernate5:${gormVersion-&quot;.RELEASE&quot;}&quot;\r\n        classpath &quot;com.bertramlabs.plugins:asset-pipeline-gradle:2.15.1&quot;\r\n    }\r\n}\r\n\r\nversion &quot;0.1&quot;\r\ngroup &quot;splitseasontickets.main4&quot;\r\n\r\napply plugin:&quot;eclipse&quot;\r\napply plugin:&quot;idea&quot;\r\napply plugin:&quot;war&quot;\r\napply plugin:&quot;org.grails.grails-web&quot;\r\napply plugin:&quot;asset-pipeline&quot;\r\napply plugin:&quot;org.grails.grails-gsp&quot;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven { url &quot;https://repo.grails.org/grails/core&quot; }\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile &quot;org.springframework.boot:spring-boot-starter-logging&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-autoconfigure&quot;\r\n    compile &quot;org.grails:grails-core&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\r\n    compile &quot;org.grails:grails-web-boot&quot;\r\n    compile &quot;org.grails:grails-logging&quot;\r\n    compile &quot;org.grails:grails-plugin-rest&quot;\r\n    compile &quot;org.grails:grails-plugin-databinding&quot;\r\n    compile &quot;org.grails:grails-plugin-i18n&quot;\r\n    compile &quot;org.grails:grails-plugin-services&quot;\r\n    compile &quot;org.grails:grails-plugin-url-mappings&quot;\r\n    compile &quot;org.grails:grails-plugin-interceptors&quot;\r\n    compile &quot;org.grails.plugins:cache&quot;\r\n    compile &quot;org.grails.plugins:async&quot;\r\n    compile &quot;org.grails.plugins:scaffolding&quot;\r\n    compile &quot;org.grails.plugins:events&quot;\r\n    compile &quot;org.grails.plugins:hibernate5&quot;\r\n    compile &quot;org.hibernate:hibernate-core:5.1.16.Final&quot;\r\n    compile &quot;org.grails.plugins:gsp&quot;\r\n    console &quot;org.grails:grails-console&quot;\r\n    profile &quot;org.grails.profiles:web&quot;\r\n    runtime &#39;org.glassfish.web:el-impl:2.2&#39;\r\n    runtime &quot;com.h2database:h2&quot;\r\n    runtime &quot;org.apache.tomcat:tomcat-jdbc&quot;\r\n    runtime &#39;com.bertramlabs.plugins:asset-pipeline-grails:3.4.7&#39;\r\n    testCompile &quot;org.grails:grails-gorm-testing-support&quot;\r\n    testCompile &quot;org.grails.plugins:geb&quot;\r\n    testCompile &quot;org.grails:grails-web-testing-support&quot;\r\n    testCompile &quot;org.grails.plugins:geb:1.1.2&quot;\r\n    testRuntime &#39;org.seleniumhq.selenium:selenium-htmlunit-driver:2.52.0&#39;\r\n    testRuntime &#39;net.sourceforge.htmlunit:htmlunit:2.64.0&#39;\r\n    testRuntime &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.5.0&#39;\r\n   // compile &quot;org.grails.plugins:hibernate&quot;\r\n    compile &quot;org.hibernate:hibernate-ehcache&quot;\r\n    testCompile &quot;org.grails:grails-plugin-testing&quot;\r\n    // Note: It is recommended to update to a more robust driver (Chrome, Firefox etc.)\r\n    compile group: &#39;org.apache.httpcomponents&#39;, name: &#39;httpcore&#39;, version: &#39;4.1-beta2&#39;\r\n    compile &#39;org.grails:grails-datastore-rest-client:6.1.9.RELEASE&#39;\r\n    compile &#39;org.codehaus.groovy:groovy-sql:3.0.13&#39;\r\n    //compile group: &#39;org.grails&#39;, name: &#39;grails-web-common&#39;, version: &#39;3.0.17&#39;\r\n   compile group: &#39;org.grails&#39;, name: &#39;grails-core&#39;, version: &#39;3.1.14&#39;\r\n    compile group: &#39;net.sourceforge.jexcelapi&#39;, name: &#39;jxl&#39;, version: &#39;2.6.12&#39;\r\n    compile group: &#39;org.jmdware&#39;, name: &#39;s3-bucket-recursor&#39;, version: &#39;1.0.1&#39;\r\n\r\n    // compile group: &#39;org.apache.camel&#39;, name: &#39;camel-grape&#39;, version: &#39;3.19.0&#39;\r\n\r\n    //compile &#39;org.grails.plugins:spring-security-core:3.0.3&#39;\r\n    compile &#39;org.grails.plugins:spring-security-core:3.2.0.M1&#39;\r\n    compile &#39;org.grails.plugins:spring-security-ui:3.1.2&#39;\r\n    compile &#39;org.springframework.boot:spring-boot-starter-security:1.5.4.RELEASE&#39;\r\n    compile group: &#39;org.grails&#39;, name: &#39;grails-plugin-controllers&#39;, version: &#39;3.3.16&#39;\r\n\r\n\r\n\r\n}\r\n\r\nbootRun {\r\n    jvmArgs(&#39;-Dspring.output.ansi.enabled=always&#39;)\r\n    addResources = true\r\n    String springProfilesActive = &#39;spring.profiles.active&#39;\r\n    systemProperty springProfilesActive, System.getProperty(springProfilesActive)\r\n}\r\n\r\ntasks.withType(Test) {\r\n    systemProperty &quot;geb.env&quot;, System.getProperty(&#39;geb.env&#39;)\r\n    systemProperty &quot;geb.build.reportsDir&quot;, reporting.file(&quot;geb/integrationTest&quot;)\r\n    systemProperty &quot;webdriver.chrome.driver&quot;, System.getProperty(&#39;webdriver.chrome.driver&#39;)\r\n    systemProperty &quot;webdriver.gecko.driver&quot;, System.getProperty(&#39;webdriver.gecko.driver&#39;)\r\n}\r\n\r\nassets {\r\n    minifyJs = true\r\n    minifyCss = true\r\n}\r\n\r\n````","title":"Trying to upgrade Groovy app from 2.3.1 to 3.3.15, I am getting lots of errors like below. any help will be appriciated","body":"<p>| Running application...\n2022-10-11 17:19:04.189 ERROR --- [           main] o.s.boot.SpringApplication               : Application startup failed</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [splitseasontickets.main4.Application]; nested exception is java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\n- org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration</p>\n<pre><code>    at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:561)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:187)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:55)\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:374)\n    at grails.boot.GrailsApp.run(GrailsApp.groovy:363)\n    at grails.boot.GrailsApp$run.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:136)\n    at splitseasontickets.main4.Application.main(Application.groovy:8)\n</code></pre>\n<p>Caused by: java.lang.IllegalStateException: The following classes could not be excluded because they are not auto-configuration classes:\n- org.springframework.boot.autoconfigure.MessageSourceAutoConfiguration</p>\n<pre><code>    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.handleInvalidExcludes(AutoConfigurationImportSelector.java:183)\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.checkExcludedClasses(AutoConfigurationImportSelector.java:169)\n    at org.springframework.boot.autoconfigure.AutoConfigurationImportSelector.selectImports(AutoConfigurationImportSelector.java:97)\n    at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:552)\n    ... 19 common frames omitted\n</code></pre>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':bootRun'.</li>\n</ul>\n<blockquote>\n<p>Process 'command '/usr/lib/jvm/java-8-openjdk-amd64/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<ul>\n<li>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n| Error Failed to start server (Use --stacktrace to see the full trace)</li>\n</ul>\n<p>I am using the below dependencies in gradle...</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        maven { url &quot;https://repo.grails.org/grails/core&quot; }\n    }\n    dependencies {\n        classpath &quot;org.grails:grails-gradle-plugin:$grailsVersion&quot;\n        classpath &quot;org.grails.plugins:hibernate5:${gormVersion-&quot;.RELEASE&quot;}&quot;\n        classpath &quot;com.bertramlabs.plugins:asset-pipeline-gradle:2.15.1&quot;\n    }\n}\n\nversion &quot;0.1&quot;\ngroup &quot;splitseasontickets.main4&quot;\n\napply plugin:&quot;eclipse&quot;\napply plugin:&quot;idea&quot;\napply plugin:&quot;war&quot;\napply plugin:&quot;org.grails.grails-web&quot;\napply plugin:&quot;asset-pipeline&quot;\napply plugin:&quot;org.grails.grails-gsp&quot;\n\nrepositories {\n    mavenLocal()\n    maven { url &quot;https://repo.grails.org/grails/core&quot; }\n    mavenCentral()\n}\n\ndependencies {\n    compile &quot;org.springframework.boot:spring-boot-starter-logging&quot;\n    compile &quot;org.springframework.boot:spring-boot-autoconfigure&quot;\n    compile &quot;org.grails:grails-core&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    compile &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\n    compile &quot;org.grails:grails-web-boot&quot;\n    compile &quot;org.grails:grails-logging&quot;\n    compile &quot;org.grails:grails-plugin-rest&quot;\n    compile &quot;org.grails:grails-plugin-databinding&quot;\n    compile &quot;org.grails:grails-plugin-i18n&quot;\n    compile &quot;org.grails:grails-plugin-services&quot;\n    compile &quot;org.grails:grails-plugin-url-mappings&quot;\n    compile &quot;org.grails:grails-plugin-interceptors&quot;\n    compile &quot;org.grails.plugins:cache&quot;\n    compile &quot;org.grails.plugins:async&quot;\n    compile &quot;org.grails.plugins:scaffolding&quot;\n    compile &quot;org.grails.plugins:events&quot;\n    compile &quot;org.grails.plugins:hibernate5&quot;\n    compile &quot;org.hibernate:hibernate-core:5.1.16.Final&quot;\n    compile &quot;org.grails.plugins:gsp&quot;\n    console &quot;org.grails:grails-console&quot;\n    profile &quot;org.grails.profiles:web&quot;\n    runtime 'org.glassfish.web:el-impl:2.2'\n    runtime &quot;com.h2database:h2&quot;\n    runtime &quot;org.apache.tomcat:tomcat-jdbc&quot;\n    runtime 'com.bertramlabs.plugins:asset-pipeline-grails:3.4.7'\n    testCompile &quot;org.grails:grails-gorm-testing-support&quot;\n    testCompile &quot;org.grails.plugins:geb&quot;\n    testCompile &quot;org.grails:grails-web-testing-support&quot;\n    testCompile &quot;org.grails.plugins:geb:1.1.2&quot;\n    testRuntime 'org.seleniumhq.selenium:selenium-htmlunit-driver:2.52.0'\n    testRuntime 'net.sourceforge.htmlunit:htmlunit:2.64.0'\n    testRuntime 'org.seleniumhq.selenium:selenium-chrome-driver:4.5.0'\n   // compile &quot;org.grails.plugins:hibernate&quot;\n    compile &quot;org.hibernate:hibernate-ehcache&quot;\n    testCompile &quot;org.grails:grails-plugin-testing&quot;\n    // Note: It is recommended to update to a more robust driver (Chrome, Firefox etc.)\n    compile group: 'org.apache.httpcomponents', name: 'httpcore', version: '4.1-beta2'\n    compile 'org.grails:grails-datastore-rest-client:6.1.9.RELEASE'\n    compile 'org.codehaus.groovy:groovy-sql:3.0.13'\n    //compile group: 'org.grails', name: 'grails-web-common', version: '3.0.17'\n   compile group: 'org.grails', name: 'grails-core', version: '3.1.14'\n    compile group: 'net.sourceforge.jexcelapi', name: 'jxl', version: '2.6.12'\n    compile group: 'org.jmdware', name: 's3-bucket-recursor', version: '1.0.1'\n\n    // compile group: 'org.apache.camel', name: 'camel-grape', version: '3.19.0'\n\n    //compile 'org.grails.plugins:spring-security-core:3.0.3'\n    compile 'org.grails.plugins:spring-security-core:3.2.0.M1'\n    compile 'org.grails.plugins:spring-security-ui:3.1.2'\n    compile 'org.springframework.boot:spring-boot-starter-security:1.5.4.RELEASE'\n    compile group: 'org.grails', name: 'grails-plugin-controllers', version: '3.3.16'\n\n\n\n}\n\nbootRun {\n    jvmArgs('-Dspring.output.ansi.enabled=always')\n    addResources = true\n    String springProfilesActive = 'spring.profiles.active'\n    systemProperty springProfilesActive, System.getProperty(springProfilesActive)\n}\n\ntasks.withType(Test) {\n    systemProperty &quot;geb.env&quot;, System.getProperty('geb.env')\n    systemProperty &quot;geb.build.reportsDir&quot;, reporting.file(&quot;geb/integrationTest&quot;)\n    systemProperty &quot;webdriver.chrome.driver&quot;, System.getProperty('webdriver.chrome.driver')\n    systemProperty &quot;webdriver.gecko.driver&quot;, System.getProperty('webdriver.gecko.driver')\n}\n\nassets {\n    minifyJs = true\n    minifyCss = true\n}\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665559088,"post_id":74031582,"comment_id":130726065,"body_markdown":"Is any of the toast messages displayed?","body":"Is any of the toast messages displayed?"},{"owner":{"account_id":26592431,"reputation":11,"user_id":20215414,"display_name":"Leen Saleh"},"score":0,"creation_date":1665573438,"post_id":74031582,"comment_id":130731240,"body_markdown":"Unfortunately no. But I tried to connect to firebase using my friend&#39;s pc and it&#39;s working completely fine. I think the problem is with my laptop or Android Studio configurations I made when I firstly installed it","body":"Unfortunately no. But I tried to connect to firebase using my friend&#39;s pc and it&#39;s working completely fine. I think the problem is with my laptop or Android Studio configurations I made when I firstly installed it"},{"owner":{"account_id":26592431,"reputation":11,"user_id":20215414,"display_name":"Leen Saleh"},"score":0,"creation_date":1665573562,"post_id":74031582,"comment_id":130731285,"body_markdown":"Should I reinstall Android Studio and try to go with the default configurations as possible as I can?","body":"Should I reinstall Android Studio and try to go with the default configurations as possible as I can?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665574041,"post_id":74031582,"comment_id":130731445,"body_markdown":"I&#39;m not sure about Android Studio. Be sure to have an internet connection.","body":"I&#39;m not sure about Android Studio. Be sure to have an internet connection."}],"owner":{"account_id":26592431,"reputation":11,"user_id":20215414,"display_name":"Leen Saleh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665510444,"creation_date":1665507175,"question_id":74031582,"body_markdown":"I am starting to work with firebase firestore in combination with an Android/Java project. I have connected my project to Firestore and added cloud firestore as well. I am in the stage of adding data to the firestore database from the emulator&#39;s UI. The java code I&#39;m using is supposed to show a Toast indicating if the data is saved successfully or show a Toast if failed.\r\n\r\n    db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\nThe problem is when I enter information in the EditText views and hit the button, the data doesn&#39;t get saved to the database and the firestore console doesn&#39;t show anything no matter how I try to refresh the page. I have been searching for two days now but no luck at all. Please help me I&#39;m stuck.\r\n\r\nI will include the code of java and XML layout even though I don&#39;t think the problem is the code since it&#39;s so simple.\r\n\r\n**activity_main.xml:**\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/surname&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;21dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Surname&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/name&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;126dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/ok&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:text=&quot;OK&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/age&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/age&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;19dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Age&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/surname&quot; /&gt;\r\n\r\n**MainActivity.java:**\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText user_name, user_surname, user_age;\r\n    Button okBtn;\r\n    FirebaseFirestore db;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        user_name = findViewById(R.id.name);\r\n        user_surname = findViewById(R.id.surname);\r\n        user_age = findViewById(R.id.age);\r\n        okBtn = findViewById(R.id.ok);\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        okBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String Name = user_name.getText().toString();\r\n                String Surname = user_surname.getText().toString();\r\n                String Age = user_age.getText().toString();\r\n\r\n                Map&lt;String, Object&gt; test = new HashMap&lt;&gt;();\r\n                test.put(&quot;name&quot;, Name);\r\n                test.put(&quot;surname&quot;, Surname);\r\n                test.put(&quot;age&quot;, Age);\r\n\r\n                db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n    }\r\n}","title":"Firebase firestore is not accepting or showing any data on the console","body":"<p>I am starting to work with firebase firestore in combination with an Android/Java project. I have connected my project to Firestore and added cloud firestore as well. I am in the stage of adding data to the firestore database from the emulator's UI. The java code I'm using is supposed to show a Toast indicating if the data is saved successfully or show a Toast if failed.</p>\n<pre><code>db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                @Override\n                public void onSuccess(DocumentReference documentReference) {\n                    Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\n                }\n            });\n</code></pre>\n<p>The problem is when I enter information in the EditText views and hit the button, the data doesn't get saved to the database and the firestore console doesn't show anything no matter how I try to refresh the page. I have been searching for two days now but no luck at all. Please help me I'm stuck.</p>\n<p>I will include the code of java and XML layout even though I don't think the problem is the code since it's so simple.</p>\n<p><strong>activity_main.xml:</strong></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/surname&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;21dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Surname&quot;\n    android:inputType=&quot;textPersonName&quot;\n    android:minHeight=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/name&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/name&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;126dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Name&quot;\n    android:inputType=&quot;textPersonName&quot;\n    android:minHeight=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/ok&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;15dp&quot;\n    android:text=&quot;OK&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/age&quot; /&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/age&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;19dp&quot;\n    android:ems=&quot;10&quot;\n    android:hint=&quot;Age&quot;\n    android:inputType=&quot;textPersonName&quot;\n    android:minHeight=&quot;48dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/surname&quot; /&gt;\n</code></pre>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText user_name, user_surname, user_age;\nButton okBtn;\nFirebaseFirestore db;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    user_name = findViewById(R.id.name);\n    user_surname = findViewById(R.id.surname);\n    user_age = findViewById(R.id.age);\n    okBtn = findViewById(R.id.ok);\n    db = FirebaseFirestore.getInstance();\n\n    okBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String Name = user_name.getText().toString();\n            String Surname = user_surname.getText().toString();\n            String Age = user_age.getText().toString();\n\n            Map&lt;String, Object&gt; test = new HashMap&lt;&gt;();\n            test.put(&quot;name&quot;, Name);\n            test.put(&quot;surname&quot;, Surname);\n            test.put(&quot;age&quot;, Age);\n\n            db.collection(&quot;TEST&quot;).add(test).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                @Override\n                public void onSuccess(DocumentReference documentReference) {\n                    Toast.makeText(MainActivity.this,&quot;Successful&quot;,Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(MainActivity.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\n                }\n            });\n\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1665500726,"post_id":74030261,"comment_id":130712701,"body_markdown":"Questions about optimizing running code is better asked at [codereview.se]","body":"Questions about optimizing running code is better asked at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665501720,"creation_date":1665501720,"answer_id":74030481,"question_id":74030261,"body_markdown":"I see two general approaches:\r\n\r\n1. create objects encapsulating the varying part of the if statements:\r\n\r\n    ```java\r\n    record ChangeCheck(Function&lt;CompanyDTO, Object&gt; dtoField, Function&lt;Company, Object&gt; entityField, Change change){\r\n\r\n        boolean check (CompanyDTO dto, Company entity){\r\n            return Objects.equals(dtoField.apply(dto), entityField.apply(company);\r\n        }\r\n    }\r\n    ```\r\n\r\n    You can then create a collection of such objects\r\n\r\n    ```java\r\n    List&lt;ChangeCheck&gt; checkers = new ArrayList&lt;&gt;();\r\n\r\n    checkers.add(new ChangeCheck(CompanyDTO::getBankName, Company::getBankName, COMPANY_BANK_NAME));\r\n    ```\r\n\r\n    In your method you just iterate of that collection.\r\n\r\n    ```java\r\n    for (ChangeCheck check : checkers){\r\n        if (check.check(companyDTO, company)) {\r\n            changes.add(check.check);\r\n        }\r\n    }\r\n    ```\r\n2. Alternatively you can use reflection to find all the fields of the dto, the matching fields of the entity and the constant/enum whatever to add to your collection of changes.\r\n\r\nThe first approach is easy to implement and to understand, but requires about the same amount of typing as the if conditions. At least it does remove the duplication of logic.\r\n","title":"How can I reduce if statements","body":"<p>I see two general approaches:</p>\n<ol>\n<li><p>create objects encapsulating the varying part of the if statements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record ChangeCheck(Function&lt;CompanyDTO, Object&gt; dtoField, Function&lt;Company, Object&gt; entityField, Change change){\n\n    boolean check (CompanyDTO dto, Company entity){\n        return Objects.equals(dtoField.apply(dto), entityField.apply(company);\n    }\n}\n</code></pre>\n<p>You can then create a collection of such objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ChangeCheck&gt; checkers = new ArrayList&lt;&gt;();\n\ncheckers.add(new ChangeCheck(CompanyDTO::getBankName, Company::getBankName, COMPANY_BANK_NAME));\n</code></pre>\n<p>In your method you just iterate of that collection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (ChangeCheck check : checkers){\n    if (check.check(companyDTO, company)) {\n        changes.add(check.check);\n    }\n}\n</code></pre>\n</li>\n<li><p>Alternatively you can use reflection to find all the fields of the dto, the matching fields of the entity and the constant/enum whatever to add to your collection of changes.</p>\n</li>\n</ol>\n<p>The first approach is easy to implement and to understand, but requires about the same amount of typing as the if conditions. At least it does remove the duplication of logic.</p>\n"},{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665501794,"creation_date":1665501794,"answer_id":74030498,"question_id":74030261,"body_markdown":"You could extract those calls that get the value into a (lambda) function, then use a list of those functions and iterate them, roughly like\r\n\r\n\r\n\t@Value // lombok to write the constructor, write out the class if you don&#39;t have that\r\n\tstatic class Extractor {\r\n\t\tfinal Function&lt;CompanyDTO, Object&gt; dtoValue;\r\n\t\tfinal Function&lt;Company, Object&gt; value;\r\n\t\tString name;\r\n\t}\r\n\r\n\tList&lt;Extractor&gt; extractors = Arrays.asList(\r\n\t\t\tnew Extractor(CompanyDTO::getA, Company::getA, &quot;company.a&quot;),\r\n\t\t\tnew Extractor(CompanyDTO::getB, Company::getB, &quot;company.b&quot;)\r\n\t);\r\n\r\n\tprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\t\textractors.forEach(e -&gt; {\r\n\t\t\tObject old = e.value.apply(company);\r\n\t\t\tObject updated = e.dtoValue.apply(companyDTO);\r\n\t\t\tif (old != null &amp;&amp; !old.equals(updated))\r\n\t\t\t\tresult.add(e.name);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\r\n\t@Value\r\n\tstatic class CompanyDTO {\r\n\t\tfinal String a;\r\n\t\tfinal Date b;\r\n\t}\r\n\r\n\t@Value\r\n\tstatic class Company {\r\n\t\tfinal String a;\r\n\t\tfinal Date b;\r\n\t}\r\n","title":"How can I reduce if statements","body":"<p>You could extract those calls that get the value into a (lambda) function, then use a list of those functions and iterate them, roughly like</p>\n<pre><code>@Value // lombok to write the constructor, write out the class if you don't have that\nstatic class Extractor {\n    final Function&lt;CompanyDTO, Object&gt; dtoValue;\n    final Function&lt;Company, Object&gt; value;\n    String name;\n}\n\nList&lt;Extractor&gt; extractors = Arrays.asList(\n        new Extractor(CompanyDTO::getA, Company::getA, &quot;company.a&quot;),\n        new Extractor(CompanyDTO::getB, Company::getB, &quot;company.b&quot;)\n);\n\nprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    extractors.forEach(e -&gt; {\n        Object old = e.value.apply(company);\n        Object updated = e.dtoValue.apply(companyDTO);\n        if (old != null &amp;&amp; !old.equals(updated))\n            result.add(e.name);\n    });\n    return result;\n}\n\n@Value\nstatic class CompanyDTO {\n    final String a;\n    final Date b;\n}\n\n@Value\nstatic class Company {\n    final String a;\n    final Date b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21746151,"reputation":433,"user_id":16052812,"display_name":"Lasslos05"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665501959,"creation_date":1665501959,"answer_id":74030530,"question_id":74030261,"body_markdown":"You could create three Lists, one of the objects you want to compare, one with the other objects you want to compare, and a third one with all the constants: \r\n```java\r\nprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\r\n   List&lt;String&gt; changes = new ArrayList&lt;&gt;();\r\n\r\n   Object[] first = [company.getName(), company.getCity(), company.getCountry() ...];\r\n   Object[] second = [companyDTO.getName(), companyDTO.getCity(), companyDTO.getCountry() ...];\r\n   String[] constants = [COMPANY_NAME, COMPANY_CITY, COMPANY_COUNTRY ...];\r\n\r\n   for (int i = 0; i &lt; first.length; i++) {\r\n      if (first != null &amp;&amp; !first[i].equals(second[i])) {\r\n         changes.add(constants[i]);\r\n      }\r\n   }\r\n\r\n   return changes;\r\n}\r\n```","title":"How can I reduce if statements","body":"<p>You could create three Lists, one of the objects you want to compare, one with the other objects you want to compare, and a third one with all the constants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\n   List&lt;String&gt; changes = new ArrayList&lt;&gt;();\n\n   Object[] first = [company.getName(), company.getCity(), company.getCountry() ...];\n   Object[] second = [companyDTO.getName(), companyDTO.getCity(), companyDTO.getCountry() ...];\n   String[] constants = [COMPANY_NAME, COMPANY_CITY, COMPANY_COUNTRY ...];\n\n   for (int i = 0; i &lt; first.length; i++) {\n      if (first != null &amp;&amp; !first[i].equals(second[i])) {\n         changes.add(constants[i]);\n      }\n   }\n\n   return changes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665510018,"creation_date":1665510018,"answer_id":74032074,"question_id":74030261,"body_markdown":"I&#39;ll say use Reflection here.\r\n\r\nAssuming Company &amp; CompanyDTO have same field names.\r\n\r\n```java\r\nprivate List&lt;String&gt; getChanges(final Company company, final CompanyDTO companyDTO) {\r\n     final List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n     for (final Field dtoField : CompanyDTO.class.getDeclaredFields()) {\r\n          ReflectionUtils.makeAccessible(dtoField);\r\n          for (final Field comField : Company.class.getDeclaredFields()) {\r\n               ReflectionUtils.makeAccessible(comField);\r\n               if (dtoField.getName().equals(comField.getName())) {\r\n                    final Object dtoObject = ReflectionUtils.getField(dtoField, dto);\r\n                    final Object companyObject = ReflectionUtils.getField(comField, com);\r\n                    if (!Objects.equals(dtoObject, companyObject)) {\r\n                         result.add(dtoField.getName());\r\n                    }\r\n               }\r\n          }\r\n     }\r\n     return result;\r\n}\r\n\r\n```","title":"How can I reduce if statements","body":"<p>I'll say use Reflection here.</p>\n<p>Assuming Company &amp; CompanyDTO have same field names.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; getChanges(final Company company, final CompanyDTO companyDTO) {\n     final List&lt;String&gt; result = new ArrayList&lt;&gt;();\n     for (final Field dtoField : CompanyDTO.class.getDeclaredFields()) {\n          ReflectionUtils.makeAccessible(dtoField);\n          for (final Field comField : Company.class.getDeclaredFields()) {\n               ReflectionUtils.makeAccessible(comField);\n               if (dtoField.getName().equals(comField.getName())) {\n                    final Object dtoObject = ReflectionUtils.getField(dtoField, dto);\n                    final Object companyObject = ReflectionUtils.getField(comField, com);\n                    if (!Objects.equals(dtoObject, companyObject)) {\n                         result.add(dtoField.getName());\n                    }\n               }\n          }\n     }\n     return result;\n}\n\n</code></pre>\n"}],"owner":{"account_id":20432579,"reputation":9,"user_id":14991202,"display_name":"Aron.jt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1665510018,"creation_date":1665500617,"question_id":74030261,"body_markdown":"I want to update an object, but beforehand I check the fields that can be updated; then I collect the fields&#39; names to a list.\r\n\r\nMy problem is that it has too many if-statements, and I want to reduce them.\r\nIs there any nice way to do it?\r\n\r\n    /**\r\n     * This method checks if there are any updates for a company\r\n     *\r\n     * @param company The data that comes from the database, and we want to update.\r\n     * @param companyDTO The data that may contain updates.\r\n     * @return The method returns with a list that contains the changes.\r\n     */\r\n    private List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\r\n        List&lt;String&gt; changes = new ArrayList&lt;&gt;();\r\n\r\n        if (companyDTO.getName() != null &amp;&amp; !companyDTO.getName().equals(company.getName())) {\r\n            changes.add(COMPANY_NAME);\r\n        }\r\n        if (companyDTO.getShortName() != null &amp;&amp; !companyDTO.getShortName().equals(company.getShortName())) {\r\n            changes.add(COMPANY_SHORTNAME);\r\n        }\r\n        if (companyDTO.getAddress() != null &amp;&amp; !companyDTO.getAddress().equals(company.getAddress())) {\r\n            changes.add(COMPANY_ADDRESS);\r\n        }\r\n        if (companyDTO.getTaxNumber() != null &amp;&amp; !companyDTO.getTaxNumber().equals(company.getTaxNumber())) {\r\n            changes.add(COMPANY_TAX_NUMBER);\r\n        }\r\n        if (companyDTO.getFirmId() != null &amp;&amp; !companyDTO.getFirmId().equals(company.getFirmId())) {\r\n            changes.add(COMPANY_FIRM_ID);\r\n        }\r\n        if (companyDTO.getBankName() != null &amp;&amp; !companyDTO.getBankName().equals(company.getBankName())) {\r\n            changes.add(COMPANY_BANK_NAME);\r\n        }\r\n        if (companyDTO.getBankAccountNumber() != null &amp;&amp; !companyDTO.getBankAccountNumber().equals(company.getBankAccountNumber())) {\r\n            changes.add(COMPANY_BANK_ACCOUNT_NUMBER);\r\n        }\r\n        if (companyDTO.getInternalComment() != null &amp;&amp; !companyDTO.getInternalComment().equals(company.getInternalComment())) {\r\n            changes.add(COMPANY_INTERNAL_COMMENT);\r\n        }\r\n        if (companyDTO.getEnabled() != null &amp;&amp; !companyDTO.getEnabled().equals(company.getEnabled())) {\r\n            changes.add(ENABLED);\r\n        }\r\n        return changes;\r\n    }","title":"How can I reduce if statements","body":"<p>I want to update an object, but beforehand I check the fields that can be updated; then I collect the fields' names to a list.</p>\n<p>My problem is that it has too many if-statements, and I want to reduce them.\nIs there any nice way to do it?</p>\n<pre><code>/**\n * This method checks if there are any updates for a company\n *\n * @param company The data that comes from the database, and we want to update.\n * @param companyDTO The data that may contain updates.\n * @return The method returns with a list that contains the changes.\n */\nprivate List&lt;String&gt; getChanges(Company company, CompanyDTO companyDTO) {\n    List&lt;String&gt; changes = new ArrayList&lt;&gt;();\n\n    if (companyDTO.getName() != null &amp;&amp; !companyDTO.getName().equals(company.getName())) {\n        changes.add(COMPANY_NAME);\n    }\n    if (companyDTO.getShortName() != null &amp;&amp; !companyDTO.getShortName().equals(company.getShortName())) {\n        changes.add(COMPANY_SHORTNAME);\n    }\n    if (companyDTO.getAddress() != null &amp;&amp; !companyDTO.getAddress().equals(company.getAddress())) {\n        changes.add(COMPANY_ADDRESS);\n    }\n    if (companyDTO.getTaxNumber() != null &amp;&amp; !companyDTO.getTaxNumber().equals(company.getTaxNumber())) {\n        changes.add(COMPANY_TAX_NUMBER);\n    }\n    if (companyDTO.getFirmId() != null &amp;&amp; !companyDTO.getFirmId().equals(company.getFirmId())) {\n        changes.add(COMPANY_FIRM_ID);\n    }\n    if (companyDTO.getBankName() != null &amp;&amp; !companyDTO.getBankName().equals(company.getBankName())) {\n        changes.add(COMPANY_BANK_NAME);\n    }\n    if (companyDTO.getBankAccountNumber() != null &amp;&amp; !companyDTO.getBankAccountNumber().equals(company.getBankAccountNumber())) {\n        changes.add(COMPANY_BANK_ACCOUNT_NUMBER);\n    }\n    if (companyDTO.getInternalComment() != null &amp;&amp; !companyDTO.getInternalComment().equals(company.getInternalComment())) {\n        changes.add(COMPANY_INTERNAL_COMMENT);\n    }\n    if (companyDTO.getEnabled() != null &amp;&amp; !companyDTO.getEnabled().equals(company.getEnabled())) {\n        changes.add(ENABLED);\n    }\n    return changes;\n}\n</code></pre>\n"},{"tags":["java","windows","intellij-idea","java-nio"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665510440,"post_id":74032034,"comment_id":130715993,"body_markdown":"how do you get that path? Issue is not related to the editor you use I guess.","body":"how do you get that path? Issue is not related to the editor you use I guess."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665510785,"post_id":74032034,"comment_id":130716109,"body_markdown":"Please show your code to reproduce this issue.","body":"Please show your code to reproduce this issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1665511663,"post_id":74032034,"comment_id":130716453,"body_markdown":"*I can get the path...* It&#39;s not a path. It&#39;s a ```java.net.URL```  I would beware of mixing that up with file/path related classes and operations. More often than not, you will need ```getResourceAsStream``` not ```getResource```. Since it&#39;s a resource, forget ```File```  and ```Path```","body":"<i>I can get the path...</i> It&#39;s not a path. It&#39;s a <code>java.net.URL</code>  I would beware of mixing that up with file/path related classes and operations. More often than not, you will need <code>getResourceAsStream</code> not <code>getResource</code>. Since it&#39;s a resource, forget <code>File</code>  and <code>Path</code>"},{"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"score":0,"creation_date":1665566471,"post_id":74032034,"comment_id":130728629,"body_markdown":"@CrazyCoder  I am using below code \n\n private String readFileToString(String filename) throws Exception {\n        URL url = getClass().getResource(filename);\n        return new String(Files.readAllBytes(Path.of(url.getPath())));\n    }\n\n\n\nIf you see there url.getPath() its giving path extra forward slash","body":"@CrazyCoder  I am using below code    private String readFileToString(String filename) throws Exception {         URL url = getClass().getResource(filename);         return new String(Files.readAllBytes(Path.of(url.getPath())));     }    If you see there url.getPath() its giving path extra forward slash"},{"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"score":0,"creation_date":1665569318,"post_id":74032034,"comment_id":130729711,"body_markdown":"@g00se even if I use url.toURI() even though it  is working. But my question is why it is not working with url.getPath() in windows OS. Why getPath() is giving absolute path in windows and virtual path in Mac OS.","body":"@g00se even if I use url.toURI() even though it  is working. But my question is why it is not working with url.getPath() in windows OS. Why getPath() is giving absolute path in windows and virtual path in Mac OS."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665569531,"post_id":74032034,"comment_id":130729784,"body_markdown":"Easier ```String text = new String(getClass().getResourceAsStream(&quot;/bar&quot;).readAllBytes());``` *Why getPath() is giving absolute path in windows and virtual path in Mac OS* What is the *exact* path given by Mac?","body":"Easier <code>String text = new String(getClass().getResourceAsStream(&quot;&#47;bar&quot;).readAllBytes()&zwnj;&#8203;);</code> <i>Why getPath() is giving absolute path in windows and virtual path in Mac OS</i> What is the <i>exact</i> path given by Mac?"}],"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665509799,"creation_date":1665509799,"question_id":74032034,"body_markdown":"I am using IntelliJ IDEA 2022.2.1 editor. In one of my test case I am reading the file from resource folder using below method ***getClass().getResource(filename)***\r\n\r\nI can get the path, but problem is it&#39;s always returning with extra forward slash(&#39;/&#39;) for an instance **/C:/Users/test/IdeaProjects/data.json** like this.\r\n\r\nDue to that extra slash at 0 index. I am getting java.nio.file.InvalidPathException.\r\n\r\nNote: this works fine in mac book, This issue is only with window OS.\r\n\r\nAny suggestion would be reuired.","title":"How to avoid auto forward slash IntelliJ IDEA 2022.2.1 in Windows 10","body":"<p>I am using IntelliJ IDEA 2022.2.1 editor. In one of my test case I am reading the file from resource folder using below method <em><strong>getClass().getResource(filename)</strong></em></p>\n<p>I can get the path, but problem is it's always returning with extra forward slash('/') for an instance <strong>/C:/Users/test/IdeaProjects/data.json</strong> like this.</p>\n<p>Due to that extra slash at 0 index. I am getting java.nio.file.InvalidPathException.</p>\n<p>Note: this works fine in mac book, This issue is only with window OS.</p>\n<p>Any suggestion would be reuired.</p>\n"},{"tags":["java","libphonenumber"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664618428,"post_id":73912826,"comment_id":130516002,"body_markdown":"*we are using the following shell commands...*  Those are Unix shell commands - are you using Powershell by any chance?","body":"<i>we are using the following shell commands...</i>  Those are Unix shell commands - are you using Powershell by any chance?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664619177,"post_id":73912826,"comment_id":130516142,"body_markdown":"*IntelliJ has no problems finding the classes and their methods when we type in the code window.* This suggests to me that it is using Maven, whereas you&#39;re attempting to us Ant. If it runs OK, it means that it has ```PhoneNumberUtil``` in its classpath. Incidentally it will be called something like libphonenumber-8.12.10.jar. Put that in your Ant classpath and you should be OK","body":"<i>IntelliJ has no problems finding the classes and their methods when we type in the code window.</i> This suggests to me that it is using Maven, whereas you&#39;re attempting to us Ant. If it runs OK, it means that it has <code>PhoneNumberUtil</code> in its classpath. Incidentally it will be called something like libphonenumber-8.12.10.jar. Put that in your Ant classpath and you should be OK"},{"owner":{"display_name":"user3033043"},"score":0,"creation_date":1664634879,"post_id":73912826,"comment_id":130518990,"body_markdown":"Hi g00se, thanks for your answer. We indeed have the jar file mentioned in the class path in the build.xml, I just forgot to add it to the post due all the stress. I also edited the original post and added a screenshot.","body":"Hi g00se, thanks for your answer. We indeed have the jar file mentioned in the class path in the build.xml, I just forgot to add it to the post due all the stress. I also edited the original post and added a screenshot."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664635153,"post_id":73912826,"comment_id":130519059,"body_markdown":"I&#39;m not sure why you&#39;re obfuscating the names of jar files, but as a result, that hasn&#39;t really helped at all. And I don&#39;t know why you have one called &#39;libphonenumber.jar&#39;, without any version string","body":"I&#39;m not sure why you&#39;re obfuscating the names of jar files, but as a result, that hasn&#39;t really helped at all. And I don&#39;t know why you have one called &#39;libphonenumber.jar&#39;, without any version string"},{"owner":{"display_name":"user3033043"},"score":0,"creation_date":1665506084,"post_id":73912826,"comment_id":130714554,"body_markdown":"Company secrets, please ignore these. There are files without any version number attachted to their names, they work fine in our project, that&#39;s why we did not use any here. I am about to post another update.","body":"Company secrets, please ignore these. There are files without any version number attachted to their names, they work fine in our project, that&#39;s why we did not use any here. I am about to post another update."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665509380,"post_id":73912826,"comment_id":130715646,"body_markdown":"*I am about to post another update.* OK, but please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<i>I am about to post another update.</i> OK, but please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."},{"owner":{"display_name":"user3033043"},"score":0,"creation_date":1665509716,"post_id":73912826,"comment_id":130715763,"body_markdown":"You&#39;re right, I will try to post code from now on. Another update in a few, I created a github repo.","body":"You&#39;re right, I will try to post code from now on. Another update in a few, I created a github repo."}],"owner":{"display_name":"user3033043"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665509790,"creation_date":1664563462,"question_id":73912826,"body_markdown":"We are trying to get the libphonenumber to run in our java project.\r\n\r\nThe java project is running as a service on one of our servers. \r\n\r\nOn our local machines, we are using the following shell commands to include the libraries (please ignore the version numbers):\r\n\r\n    export ANT_HOME=&quot;C:\\DEV\\apache-ant-1.9.16&quot;\r\n    export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-15.0.2&quot;\r\n    export MAVEN_HOME=&quot;C:\\DEV\\apache-maven-3.8.6&quot;\r\n    export PATH=${PATH}:${JAVA_HOME}/bin:${ANT_HOME}/bin:${MAVEN_HOME}/bin\r\n    export MB_API_HOME=&quot;C:\\DEV\\java-rest-api\\api\\target&quot;\r\n\r\nAfter we run the &quot;ant&quot; command, we move the result file (jar) on our server in the respective folder.\r\n\r\nThese are the 3 files that are needed for the library:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe have copied them on the server, in the respective lib folder.\r\n\r\nEverything runs fine until the following error shows up:\r\n\r\n\tjava.lang.NoClassDefFoundError: com/google/i18n/phonenumbers/PhoneNumberUtil\r\n\r\nThis happens when it comes to the following line:\r\n\r\n\tPhoneNumberUtil util = PhoneNumberUtil.getInstance();\r\n\r\nWe have found the following code on this website (https://www.baeldung.com/java-libphonenumber), where it is explained that this has to go to a pom-xml file:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.12.10&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nWe have no clue which pom.xml they are writing about. These are the files that are being found by IntelliJ:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIntelliJ has no problems finding the classes and their methods when we type in the code window.\r\n\r\nWhat else do we have to do and consider to get it to run on the server?\r\n\r\nThanks in advance.\r\n\r\n**Edit 1 of ?**: As g00se suggested, we already have the class path mentioned in the build.xml, which looks like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI had the idea of removing the libphonenumber.jar from the lib folder on the server itself to see if we receive a different error. But it is still the same NoClassDefFoundError. It is as if the result file of ant has no clue about libphonenumber at all!\r\n\r\n**Edit 2 of ?:**\r\nI have experimented with this library on my private computer.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIf I click on the run icon (1), it seems to work, as seen in (2).\r\n\r\nHowever, going to the folder with the Main class (3) and running ```java Main```, leads to the same error:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nBut then, I just copied the classes into the folder where the Main is, and the error changed:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nHere is the snippet in the build.xml of my private project:\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;init&quot;\r\n            description=&quot;compile the source&quot;&gt;\r\n        &lt;!-- Compile the Java code from ${src} into ${build} --&gt;\r\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement path=&quot;jars/libphonenumber.jar&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\nI guess I am missing the right approach here, do I?\r\n\r\n**Edit 3 of ?:** I created a repository of my private/test project.\r\n\r\nHere it is: https://github.com/3rc4n/libphonenumberexperiment\r\n\r\n  [1]: https://i.stack.imgur.com/jLQCh.png\r\n  [2]: https://i.stack.imgur.com/9TXlc.png\r\n  [3]: https://i.stack.imgur.com/2CBaR.png\r\n  [4]: https://i.stack.imgur.com/FR4zy.jpg\r\n  [5]: https://i.stack.imgur.com/hMMRu.jpg\r\n  [6]: https://i.stack.imgur.com/95x0z.jpg","title":"libphonenumber shows a NoClassDefFoundError during the attempt to get the object instance","body":"<p>We are trying to get the libphonenumber to run in our java project.</p>\n<p>The java project is running as a service on one of our servers.</p>\n<p>On our local machines, we are using the following shell commands to include the libraries (please ignore the version numbers):</p>\n<pre><code>export ANT_HOME=&quot;C:\\DEV\\apache-ant-1.9.16&quot;\nexport JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-15.0.2&quot;\nexport MAVEN_HOME=&quot;C:\\DEV\\apache-maven-3.8.6&quot;\nexport PATH=${PATH}:${JAVA_HOME}/bin:${ANT_HOME}/bin:${MAVEN_HOME}/bin\nexport MB_API_HOME=&quot;C:\\DEV\\java-rest-api\\api\\target&quot;\n</code></pre>\n<p>After we run the &quot;ant&quot; command, we move the result file (jar) on our server in the respective folder.</p>\n<p>These are the 3 files that are needed for the library:</p>\n<p><a href=\"https://i.stack.imgur.com/jLQCh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLQCh.png\" alt=\"enter image description here\" /></a></p>\n<p>We have copied them on the server, in the respective lib folder.</p>\n<p>Everything runs fine until the following error shows up:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/i18n/phonenumbers/PhoneNumberUtil\n</code></pre>\n<p>This happens when it comes to the following line:</p>\n<pre><code>PhoneNumberUtil util = PhoneNumberUtil.getInstance();\n</code></pre>\n<p>We have found the following code on this website (<a href=\"https://www.baeldung.com/java-libphonenumber\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-libphonenumber</a>), where it is explained that this has to go to a pom-xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.libphonenumber&lt;/groupId&gt;\n    &lt;artifactId&gt;libphonenumber&lt;/artifactId&gt;\n    &lt;version&gt;8.12.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We have no clue which pom.xml they are writing about. These are the files that are being found by IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/9TXlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9TXlc.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ has no problems finding the classes and their methods when we type in the code window.</p>\n<p>What else do we have to do and consider to get it to run on the server?</p>\n<p>Thanks in advance.</p>\n<p><strong>Edit 1 of ?</strong>: As g00se suggested, we already have the class path mentioned in the build.xml, which looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/2CBaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2CBaR.png\" alt=\"enter image description here\" /></a></p>\n<p>I had the idea of removing the libphonenumber.jar from the lib folder on the server itself to see if we receive a different error. But it is still the same NoClassDefFoundError. It is as if the result file of ant has no clue about libphonenumber at all!</p>\n<p><strong>Edit 2 of ?:</strong>\nI have experimented with this library on my private computer.</p>\n<p><a href=\"https://i.stack.imgur.com/FR4zy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FR4zy.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If I click on the run icon (1), it seems to work, as seen in (2).</p>\n<p>However, going to the folder with the Main class (3) and running <code>java Main</code>, leads to the same error:</p>\n<p><a href=\"https://i.stack.imgur.com/hMMRu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMMRu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But then, I just copied the classes into the folder where the Main is, and the error changed:</p>\n<p><a href=\"https://i.stack.imgur.com/95x0z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95x0z.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is the snippet in the build.xml of my private project:</p>\n<pre><code>&lt;target name=&quot;compile&quot; depends=&quot;init&quot;\n        description=&quot;compile the source&quot;&gt;\n    &lt;!-- Compile the Java code from ${src} into ${build} --&gt;\n    &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot;&gt;\n        &lt;classpath&gt;\n            &lt;pathelement path=&quot;jars/libphonenumber.jar&quot;/&gt;\n        &lt;/classpath&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n</code></pre>\n<p>I guess I am missing the right approach here, do I?</p>\n<p><strong>Edit 3 of ?:</strong> I created a repository of my private/test project.</p>\n<p>Here it is: <a href=\"https://github.com/3rc4n/libphonenumberexperiment\" rel=\"nofollow noreferrer\">https://github.com/3rc4n/libphonenumberexperiment</a></p>\n"},{"tags":["java","project-reactor","side-effects","publisher"],"answers":[{"tags":[],"owner":{"account_id":10711680,"reputation":499,"user_id":7883729,"display_name":"arap"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1626864474,"creation_date":1563832925,"answer_id":57154303,"question_id":57153569,"body_markdown":"First of all, you are not responsible for subscribing to flux in the controller. Fetching the data and returning it from the controller is just a small part of whole pipeline. It basically means that you need to provide only business logic, and the framework adds other transformations to your data. For example, it serializes the response and then, after it&#39;s finished, subscribes to it. \r\n\r\nSubscribing to the flux in the business code means that you start another pipeline, which might be totally independent from the data returned from the controller, but it just happened to be subscribed there. If you would had the same Flux and you would subscribe it somewhere else, the result would be exactly the same.\r\n\r\n**To sum up**: you need to take return value of `entities.hasElements()` (which is `Mono&lt;Boolean&gt;`) and wrap bool into response:\r\n\r\n     public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Mono&lt;ServerResponse&gt; response = null;\r\n            Flux&lt;DemoPOJO&gt;       entities = service.getAll();\r\n    \r\n            return entities.hasElements()\r\n               .flatMap(this::foo);\r\n    \r\n        }\r\n    \r\n        private Mono&lt;ServerResponse&gt; foo(Boolean hasElements) {\r\n            System.out.println(&quot;DEBUG &gt;&gt; Mono has elements -&gt; &quot; + hasElements);\r\n            return ServerResponse.ok().syncBody(hasElements);\r\n        }\r\n\r\n","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>First of all, you are not responsible for subscribing to flux in the controller. Fetching the data and returning it from the controller is just a small part of whole pipeline. It basically means that you need to provide only business logic, and the framework adds other transformations to your data. For example, it serializes the response and then, after it's finished, subscribes to it.</p>\n<p>Subscribing to the flux in the business code means that you start another pipeline, which might be totally independent from the data returned from the controller, but it just happened to be subscribed there. If you would had the same Flux and you would subscribe it somewhere else, the result would be exactly the same.</p>\n<p><strong>To sum up</strong>: you need to take return value of <code>entities.hasElements()</code> (which is <code>Mono&lt;Boolean&gt;</code>) and wrap bool into response:</p>\n<pre><code> public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Mono&lt;ServerResponse&gt; response = null;\n        Flux&lt;DemoPOJO&gt;       entities = service.getAll();\n\n        return entities.hasElements()\n           .flatMap(this::foo);\n\n    }\n\n    private Mono&lt;ServerResponse&gt; foo(Boolean hasElements) {\n        System.out.println(&quot;DEBUG &gt;&gt; Mono has elements -&gt; &quot; + hasElements);\n        return ServerResponse.ok().syncBody(hasElements);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665509614,"creation_date":1563837435,"answer_id":57154833,"question_id":57153569,"body_markdown":"\r\nMy revised *DemoPOJOHandler* is below. It seems to correctly return either a *ServerResponse.ok()* that wraps the *&#39;Flux&lt;DemoPOJO&gt;&#39;* returned by *service.getAll()*, or a *ServerResponse.noContent()* if the *Flux* was empty.\r\n\r\nWhile this &quot;works&quot;, and seems much better than what I previously had, any improvements, comments, or suggestions are greatly appreciated, as I&#39;m still trying to wrap my head around Reactor.\r\n\r\n    @Component\r\n    public class DemoPOJOHandler {\r\n    \r\n        public static final String PATH_VAR_ID = &quot;id&quot;;\r\n    \r\n        @Autowired\r\n        private DemoPOJOService service;\r\n    \r\n        public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Flux&lt;DemoPOJO&gt; entities = service.getAll();\r\n    \r\n            return entities.hasElements().flatMap(hasElement -&gt; {\r\n                return hasElement ? ServerResponse.ok()\r\n                                                  .contentType(MediaType.APPLICATION_JSON)\r\n                                                  .body(entities, DemoPOJO.class)\r\n                                  : ServerResponse.noContent().build();\r\n                });\r\n        }\r\n    }","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>My revised <em>DemoPOJOHandler</em> is below. It seems to correctly return either a <em>ServerResponse.ok()</em> that wraps the <em>'Flux'</em> returned by <em>service.getAll()</em>, or a <em>ServerResponse.noContent()</em> if the <em>Flux</em> was empty.</p>\n<p>While this &quot;works&quot;, and seems much better than what I previously had, any improvements, comments, or suggestions are greatly appreciated, as I'm still trying to wrap my head around Reactor.</p>\n<pre><code>@Component\npublic class DemoPOJOHandler {\n\n    public static final String PATH_VAR_ID = &quot;id&quot;;\n\n    @Autowired\n    private DemoPOJOService service;\n\n    public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Flux&lt;DemoPOJO&gt; entities = service.getAll();\n\n        return entities.hasElements().flatMap(hasElement -&gt; {\n            return hasElement ? ServerResponse.ok()\n                                              .contentType(MediaType.APPLICATION_JSON)\n                                              .body(entities, DemoPOJO.class)\n                              : ServerResponse.noContent().build();\n            });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"score":0,"creation_date":1563891900,"post_id":57164783,"comment_id":100846408,"body_markdown":"Thanks for the input/feedback! As a newb, many questions and false-starts. Some follow-on questions follow...","body":"Thanks for the input/feedback! As a newb, many questions and false-starts. Some follow-on questions follow..."},{"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"score":0,"creation_date":1563892240,"post_id":57164783,"comment_id":100846618,"body_markdown":"You are correct that the example code does not use any of the asynch capabilities of `Flux`. However, that &quot;is coming&quot;, and this code is &quot;just to get used to Monos and Fluxes. Does this mean that, when actually using asynch capabilities, the notion of returning any indication of availability of content is not feasible?","body":"You are correct that the example code does not use any of the asynch capabilities of <code>Flux</code>. However, that &quot;is coming&quot;, and this code is &quot;just to get used to Monos and Fluxes. Does this mean that, when actually using asynch capabilities, the notion of returning any indication of availability of content is not feasible?"},{"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"score":0,"creation_date":1563892351,"post_id":57164783,"comment_id":100846694,"body_markdown":"For what it&#39;s worth, the REST endpoint is being implemented using routes and controllers (vice annotations). This seems like, downstream, it will provide more flexibility in the implementation. Does this change your advice about `ResponseEntity` vice `ServerResponse`?","body":"For what it&#39;s worth, the REST endpoint is being implemented using routes and controllers (vice annotations). This seems like, downstream, it will provide more flexibility in the implementation. Does this change your advice about <code>ResponseEntity</code> vice <code>ServerResponse</code>?"},{"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"score":0,"creation_date":1563892628,"post_id":57164783,"comment_id":100846841,"body_markdown":"I&#39;m probably being dense, but I don&#39;t see a second invocation of *`service.getAll()`*. Can you point me to it? If you&#39;re referring to *`entities.hasElements().flatMap()`*, my understanding is that *`flatMap()`* is being invoked on the *Mono&lt;Boolean&gt;* being returned by *`entities.hasElements()`*. Grazi for the help!","body":"I&#39;m probably being dense, but I don&#39;t see a second invocation of <i><code>service.getAll()</code></i>. Can you point me to it? If you&#39;re referring to <i><code>entities.hasElements().flatMap()</code></i>, my understanding is that <i><code>flatMap()</code></i> is being invoked on the <i>Mono&lt;Boolean&gt;</i> being returned by <i><code>entities.hasElements()</code></i>. Grazi for the help!"},{"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"score":0,"creation_date":1563892861,"post_id":57164783,"comment_id":100846984,"body_markdown":"I note the use of *`syncBody`*, and have seen it used elsewhere. Is there an advantage (performance or conformance) to this style? I ask because, while it is more verbose and could be considered &quot;clunky&quot;, I like the &quot;documentation aspect&quot; of explicitly specifying the class.","body":"I note the use of <i><code>syncBody</code></i>, and have seen it used elsewhere. Is there an advantage (performance or conformance) to this style? I ask because, while it is more verbose and could be considered &quot;clunky&quot;, I like the &quot;documentation aspect&quot; of explicitly specifying the class."},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1563984357,"post_id":57164783,"comment_id":100884322,"body_markdown":"for getAll() it is more like the DB will be queried twice, once per _subscription_ to the `getAll()` `Mono`: once per the `hasElements()` operator and once per SPR in the `body`. In the case of my answer, using `body` instead of `syncBody` would mean you need to turn a collection _that you already have_ into a `Publisher`. Outside of readability, it brings no benefit and adds a bit of overhead by wrapping the collection.","body":"for getAll() it is more like the DB will be queried twice, once per <i>subscription</i> to the <code>getAll()</code> <code>Mono</code>: once per the <code>hasElements()</code> operator and once per SPR in the <code>body</code>. In the case of my answer, using <code>body</code> instead of <code>syncBody</code> would mean you need to turn a collection <i>that you already have</i> into a <code>Publisher</code>. Outside of readability, it brings no benefit and adds a bit of overhead by wrapping the collection."},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1563984401,"post_id":57164783,"comment_id":100884347,"body_markdown":"for `ResponseEntity`, if you plan on using the functional stack then of course you&#39;re on the right track with `ServerResponse`.","body":"for <code>ResponseEntity</code>, if you plan on using the functional stack then of course you&#39;re on the right track with <code>ServerResponse</code>."},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1563984472,"post_id":57164783,"comment_id":100884378,"body_markdown":"for the async capabilities of `Flux`, what I meant is that on the wire you&#39;re not transmitting the individual elements one by one, like say with Server Sent Events. So the Spring Framework would gather all the data before sending it over in one big JSON object anyway, hence the feasibility of my proposed approach.","body":"for the async capabilities of <code>Flux</code>, what I meant is that on the wire you&#39;re not transmitting the individual elements one by one, like say with Server Sent Events. So the Spring Framework would gather all the data before sending it over in one big JSON object anyway, hence the feasibility of my proposed approach."}],"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1563886906,"creation_date":1563886906,"answer_id":57164783,"question_id":57153569,"body_markdown":"@SoCal your answer might seem to work, but it suffers from a downside: `getAll()` DB call is made twice.\r\n\r\nThe difficulty is that you can only decide on the status code once you&#39;ve started receiving data.\r\n\r\nBut since you don&#39;t seem to really need the asynchronous nature of the body (you&#39;re not streaming the individual elements but producing a one shot JSON response), you could in this case collect the whole result set and map it to a response.\r\n\r\nSo call the DB, collect the elements in a `Mono&lt;List&gt;`, `map` that to A) an 404 empty response if the list is empty or B) a 200 successful JSON response otherwise (notice the use of `syncBody`):\r\n\r\n    @Component\r\n    public class DemoPOJOHandler {\r\n    \r\n        public static final String PATH_VAR_ID = &quot;id&quot;;\r\n    \r\n        @Autowired\r\n        private DemoPOJOService service;\r\n    \r\n        public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Flux&lt;DemoPOJO&gt; entities = service.getAll();\r\n            Mono&lt;List&lt;DemoPOJO&gt;&gt; collected = entities.collectList();\r\n    \r\n            return collected.map(list -&gt; list.isEmpty() ? \r\n                ServerResponse.noContent().build() :\r\n                ServerResponse.ok()\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .syncBody(list)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nSide note: I think `ResponseEntity` is the preferred type for annotated controllers rather than `ServerResponse`, see https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-responseentity.\r\n\r\n","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>@SoCal your answer might seem to work, but it suffers from a downside: <code>getAll()</code> DB call is made twice.</p>\n\n<p>The difficulty is that you can only decide on the status code once you've started receiving data.</p>\n\n<p>But since you don't seem to really need the asynchronous nature of the body (you're not streaming the individual elements but producing a one shot JSON response), you could in this case collect the whole result set and map it to a response.</p>\n\n<p>So call the DB, collect the elements in a <code>Mono&lt;List&gt;</code>, <code>map</code> that to A) an 404 empty response if the list is empty or B) a 200 successful JSON response otherwise (notice the use of <code>syncBody</code>):</p>\n\n<pre><code>@Component\npublic class DemoPOJOHandler {\n\n    public static final String PATH_VAR_ID = \"id\";\n\n    @Autowired\n    private DemoPOJOService service;\n\n    public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Flux&lt;DemoPOJO&gt; entities = service.getAll();\n        Mono&lt;List&lt;DemoPOJO&gt;&gt; collected = entities.collectList();\n\n        return collected.map(list -&gt; list.isEmpty() ? \n            ServerResponse.noContent().build() :\n            ServerResponse.ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .syncBody(list)\n        );\n    }\n}\n</code></pre>\n\n<p>Side note: I think <code>ResponseEntity</code> is the preferred type for annotated controllers rather than <code>ServerResponse</code>, see <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-responseentity\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-ann-responseentity</a>.</p>\n"}],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57164783,"answer_count":3,"score":0,"last_activity_date":1665509614,"creation_date":1563828771,"question_id":57153569,"body_markdown":"I have the following code, which &quot;works&quot;...so far. By &quot;works&quot;, I mean that the *`Flux&lt;DemoPOJO&gt;`* is being returned by *`service.getAll()`*, and the &quot;*`hasElements().subscribe(this::foo)`*&quot; results in *`foo()`* generating output that correctly reflects whether the *`Flux&lt;DemoPOJO&gt;`* has any elements.\r\n\r\nThe desired end state is to return a *`ServerResponse`* object, wrapping the *`Flux&lt;DemoPOJO&gt;`*, which reflects whether the returned Flux is empty or &quot;hasElements&quot;.\r\n\r\nMy problem is that *`Mono.subscribe()`* returns a *`reactor.core.Disposable`*, and I want to somehow get to a *`Mono&lt;ServerResponse&gt;`*. Or, am I &quot;barking up the wrong tree&quot;?\r\n\r\nAdd Note: I&#39;ve seen some examples using *`Flux.flatMap()`*, but this seems problematic if the returned Flux has a lot of elements (i.e., checking *`hasElements()`* seems a lot better than potentially flat-mapping all the elements).\r\n\r\n    @Component\r\n    public class DemoPOJOHandler {\r\n    \r\n        public static final String PATH_VAR_ID = &quot;id&quot;;\r\n    \r\n        @Autowired\r\n        private DemoPOJOService service;\r\n        \r\n        public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\r\n            Mono&lt;ServerResponse&gt; response = null;\r\n            Flux&lt;DemoPOJO&gt;       entities = service.getAll();\r\n    \r\n            entities.hasElements().subscribe(this::foo);\r\n            // just return something, for now\r\n            return ServerResponse.ok().build();\r\n        }\r\n    \r\n        private Mono&lt;ServerRequest&gt; foo(Boolean hasElements) {\r\n            System.out.println(&quot;DEBUG &gt;&gt; Mono has elements -&gt; &quot; + hasElements);\r\n            return Mono.empty();\r\n        }\r\n    }\r\n\r\nHere is the DemoPOJOService implementation...\r\n\r\n    @Component\r\n    public class DemoPOJOService {\r\n    \r\n        @Autowired\r\n        private DemoPOJORepo demoPOJORepo;\r\n    \r\n        public Flux&lt;DemoPOJO&gt; getAll() {\r\n            return Flux.fromArray(demoPOJORepo.getAll());\r\n        }\r\n    \r\n        // more implementation, omitted for brevity\r\n    }\r\n\r\nAnd, here is the DemoPOJORepo implementation...\r\n\r\n    @Component\r\n    public class DemoPOJORepo {\r\n    \r\n        private static final int NUM_OBJS =20;\r\n    \r\n        private static DemoPOJORepo demoRepo = null;\r\n    \r\n        private Map&lt;Integer, DemoPOJO&gt; demoPOJOMap;\r\n    \r\n        private DemoPOJORepo() {\r\n            initMap();\r\n        }\r\n    \r\n        public static DemoPOJORepo getInstance() {\r\n            if (demoRepo == null) {\r\n                demoRepo = new DemoPOJORepo();\r\n            }\r\n            return demoRepo;\r\n        }\r\n    \r\n        public DemoPOJO[] getAll() {\r\n            return demoPOJOMap.values().toArray(new DemoPOJO[demoPOJOMap.size()]);\r\n        }\r\n\r\n        // more implementation, omitted for brevity\r\n\r\n        private void initMap() {\r\n            demoPOJOMap = new TreeMap&lt;Integer, DemoPOJO&gt;();\r\n    \r\n            for(int ndx=1; ndx&lt;( NUM_OBJS + 1 ); ndx++) {\r\n                demoPOJOMap.put(ndx, new DemoPOJO(ndx, &quot;foo_&quot; + ndx, ndx+100));\r\n            }\r\n        }\r\n    }","title":"How to return a Mono&lt;ServerResponse&gt; (as a side effect?) of Mono.subscribe()?","body":"<p>I have the following code, which \"works\"...so far. By \"works\", I mean that the <em><code>Flux&lt;DemoPOJO&gt;</code></em> is being returned by <em><code>service.getAll()</code></em>, and the \"<em><code>hasElements().subscribe(this::foo)</code></em>\" results in <em><code>foo()</code></em> generating output that correctly reflects whether the <em><code>Flux&lt;DemoPOJO&gt;</code></em> has any elements.</p>\n\n<p>The desired end state is to return a <em><code>ServerResponse</code></em> object, wrapping the <em><code>Flux&lt;DemoPOJO&gt;</code></em>, which reflects whether the returned Flux is empty or \"hasElements\".</p>\n\n<p>My problem is that <em><code>Mono.subscribe()</code></em> returns a <em><code>reactor.core.Disposable</code></em>, and I want to somehow get to a <em><code>Mono&lt;ServerResponse&gt;</code></em>. Or, am I \"barking up the wrong tree\"?</p>\n\n<p>Add Note: I've seen some examples using <em><code>Flux.flatMap()</code></em>, but this seems problematic if the returned Flux has a lot of elements (i.e., checking <em><code>hasElements()</code></em> seems a lot better than potentially flat-mapping all the elements).</p>\n\n<pre><code>@Component\npublic class DemoPOJOHandler {\n\n    public static final String PATH_VAR_ID = \"id\";\n\n    @Autowired\n    private DemoPOJOService service;\n\n    public Mono&lt;ServerResponse&gt; getAll(ServerRequest request) {\n        Mono&lt;ServerResponse&gt; response = null;\n        Flux&lt;DemoPOJO&gt;       entities = service.getAll();\n\n        entities.hasElements().subscribe(this::foo);\n        // just return something, for now\n        return ServerResponse.ok().build();\n    }\n\n    private Mono&lt;ServerRequest&gt; foo(Boolean hasElements) {\n        System.out.println(\"DEBUG &gt;&gt; Mono has elements -&gt; \" + hasElements);\n        return Mono.empty();\n    }\n}\n</code></pre>\n\n<p>Here is the DemoPOJOService implementation...</p>\n\n<pre><code>@Component\npublic class DemoPOJOService {\n\n    @Autowired\n    private DemoPOJORepo demoPOJORepo;\n\n    public Flux&lt;DemoPOJO&gt; getAll() {\n        return Flux.fromArray(demoPOJORepo.getAll());\n    }\n\n    // more implementation, omitted for brevity\n}\n</code></pre>\n\n<p>And, here is the DemoPOJORepo implementation...</p>\n\n<pre><code>@Component\npublic class DemoPOJORepo {\n\n    private static final int NUM_OBJS =20;\n\n    private static DemoPOJORepo demoRepo = null;\n\n    private Map&lt;Integer, DemoPOJO&gt; demoPOJOMap;\n\n    private DemoPOJORepo() {\n        initMap();\n    }\n\n    public static DemoPOJORepo getInstance() {\n        if (demoRepo == null) {\n            demoRepo = new DemoPOJORepo();\n        }\n        return demoRepo;\n    }\n\n    public DemoPOJO[] getAll() {\n        return demoPOJOMap.values().toArray(new DemoPOJO[demoPOJOMap.size()]);\n    }\n\n    // more implementation, omitted for brevity\n\n    private void initMap() {\n        demoPOJOMap = new TreeMap&lt;Integer, DemoPOJO&gt;();\n\n        for(int ndx=1; ndx&lt;( NUM_OBJS + 1 ); ndx++) {\n            demoPOJOMap.put(ndx, new DemoPOJO(ndx, \"foo_\" + ndx, ndx+100));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","inheritance","interface"],"answers":[{"comments":[{"owner":{"account_id":4870745,"reputation":1321,"user_id":3927381,"accept_rate":62,"display_name":"solvingJ"},"score":0,"creation_date":1666317242,"post_id":74031679,"comment_id":130913857,"body_markdown":"I&#39;m upvoting this answer but not accepting it as the solution because it is correct and effectively equivalent to Andrey Tyukins but defines extra type parameter V to represent Task&lt;T,R&gt;, which seems fine but unnecessary. It seems just slightly less concise.  If there some other functional difference I missed let me know.","body":"I&#39;m upvoting this answer but not accepting it as the solution because it is correct and effectively equivalent to Andrey Tyukins but defines extra type parameter V to represent Task&lt;T,R&gt;, which seems fine but unnecessary. It seems just slightly less concise.  If there some other functional difference I missed let me know."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665507735,"creation_date":1665507735,"answer_id":74031679,"question_id":74031577,"body_markdown":"There is no connection between `ITask` and `TaskResult`. Sure, the task implementations override `make` with their respective return types, but this information can&#39;t be used in the declaration of the `run` method.\r\n\r\nYou can make the connection by adding an additional type parameter to `ITask`:\r\n\r\n```\r\ninterface ITask&lt;T, TResult extends TaskResult&lt;T&gt;&gt;{\r\n    TResult make();\r\n}\r\n\r\nclass TaskResult&lt;T&gt;{\r\n    T value;\r\n}\r\n```\r\n\r\nChange the task implementations and `run` accordingly:\r\n\r\n\r\n```\r\nclass AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\r\n    public AlphaTaskResult make(){\r\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\r\n    }\r\n}\r\n\r\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\r\n    public BetaTaskResult make(){\r\n        return new BetaTaskResult(9001);\r\n    }\r\n}\r\n\r\npublic class Main { // Main doesn&#39;t need a type parameter\r\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T, U&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\r\n\r\n        List&lt;U&gt; results =  tasks\r\n            .stream()\r\n            .map(ITask::make)\r\n            .collect(Collectors.toList());\r\n\r\n        return results;\r\n    }\r\n    public static void main(String[] args) {\r\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\r\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\r\n    }\r\n\r\n}\r\n```","title":"Java Generic Method to enforce type invariance between parameter type and return type","body":"<p>There is no connection between <code>ITask</code> and <code>TaskResult</code>. Sure, the task implementations override <code>make</code> with their respective return types, but this information can't be used in the declaration of the <code>run</code> method.</p>\n<p>You can make the connection by adding an additional type parameter to <code>ITask</code>:</p>\n<pre><code>interface ITask&lt;T, TResult extends TaskResult&lt;T&gt;&gt;{\n    TResult make();\n}\n\nclass TaskResult&lt;T&gt;{\n    T value;\n}\n</code></pre>\n<p>Change the task implementations and <code>run</code> accordingly:</p>\n<pre><code>class AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\n    public AlphaTaskResult make(){\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\n    }\n}\n\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\n    public BetaTaskResult make(){\n        return new BetaTaskResult(9001);\n    }\n}\n\npublic class Main { // Main doesn't need a type parameter\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T, U&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\n\n        List&lt;U&gt; results =  tasks\n            .stream()\n            .map(ITask::make)\n            .collect(Collectors.toList());\n\n        return results;\n    }\n    public static void main(String[] args) {\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4870745,"reputation":1321,"user_id":3927381,"accept_rate":62,"display_name":"solvingJ"},"score":1,"creation_date":1666316930,"post_id":74031680,"comment_id":130913817,"body_markdown":"Accepting this answer as the most concise. I believed I tried this very straightforward implementation but hit some problem, but I must have done something subtly different. Kudos, thank you so much!","body":"Accepting this answer as the most concise. I believed I tried this very straightforward implementation but hit some problem, but I must have done something subtly different. Kudos, thank you so much!"}],"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665509596,"creation_date":1665507749,"answer_id":74031680,"question_id":74031577,"body_markdown":"Just add the type `R extends TaskResult&lt;T&gt;` of the result to the type `ITask` of the task. The following compiles just fine:\r\n```\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\ninterface ITask&lt;T, R extends TaskResult&lt;T&gt;&gt;{\r\n    R make();\r\n}\r\n\r\nclass TaskResult&lt;T&gt;{\r\n    T value;\r\n}\r\n\r\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\r\n    AlphaTaskResult(String value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\r\n    BetaTaskResult(Integer value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\r\n    public AlphaTaskResult make(){\r\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\r\n    }\r\n}\r\n\r\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\r\n    public BetaTaskResult make(){\r\n        return new BetaTaskResult(9001);\r\n    }\r\n}\r\n\r\npublic class Main &lt;T&gt;{\r\n\r\n    public static &lt;T, R extends TaskResult&lt;T&gt;&gt; List&lt;R&gt; run(List&lt;ITask&lt;T, R&gt;&gt; tasks){\r\n\r\n        List&lt;R&gt; results =  tasks\r\n                .stream()\r\n                .map(ITask::make)\r\n                .collect(Collectors.toList());\r\n\r\n        return results;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\r\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\r\n\r\n    }\r\n}\r\n```\r\nThe reason why your version does not compile is that the exact type of the result is not included in the type of the task, and since there are no type refinements in Java, there is nothing from which the type `U` could be inferred.\r\n","title":"Java Generic Method to enforce type invariance between parameter type and return type","body":"<p>Just add the type <code>R extends TaskResult&lt;T&gt;</code> of the result to the type <code>ITask</code> of the task. The following compiles just fine:</p>\n<pre><code>import java.util.List;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\n\ninterface ITask&lt;T, R extends TaskResult&lt;T&gt;&gt;{\n    R make();\n}\n\nclass TaskResult&lt;T&gt;{\n    T value;\n}\n\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\n    AlphaTaskResult(String value){\n        this.value = value;\n    }\n}\n\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\n    BetaTaskResult(Integer value){\n        this.value = value;\n    }\n}\n\nclass AlphaTask implements ITask&lt;String, AlphaTaskResult&gt; {\n    public AlphaTaskResult make(){\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\n    }\n}\n\nclass BetaTask implements ITask&lt;Integer, BetaTaskResult&gt; {\n    public BetaTaskResult make(){\n        return new BetaTaskResult(9001);\n    }\n}\n\npublic class Main &lt;T&gt;{\n\n    public static &lt;T, R extends TaskResult&lt;T&gt;&gt; List&lt;R&gt; run(List&lt;ITask&lt;T, R&gt;&gt; tasks){\n\n        List&lt;R&gt; results =  tasks\n                .stream()\n                .map(ITask::make)\n                .collect(Collectors.toList());\n\n        return results;\n    }\n\n    public static void main(String[] args) {\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\n\n    }\n}\n</code></pre>\n<p>The reason why your version does not compile is that the exact type of the result is not included in the type of the task, and since there are no type refinements in Java, there is nothing from which the type <code>U</code> could be inferred.</p>\n"}],"owner":{"account_id":4870745,"reputation":1321,"user_id":3927381,"accept_rate":62,"display_name":"solvingJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74031680,"answer_count":2,"score":3,"last_activity_date":1665509596,"creation_date":1665507142,"question_id":74031577,"body_markdown":"I have tried a number of different variations of the code below and cannot find any solution which doesn&#39;t rely on an unsafe cast or cause another other compiler warning. I am confident the goal is possible, but maybe not?\r\n\r\nTo put it simply, the goal is that I have derived types which are related to each other and have invariant relationship, **which can be enforced by a generic method.** \r\n\r\n`AlphaTask` always returns `AlphaTaskResult`. \r\n`AlphaTask` is a concrete implementation of `ITask&lt;T&gt;`, where `T` is `String`.\r\n`AlphaTaskResult` extends the base class of `TaskResult&lt;T&gt;`, where again `T` is `String`. \r\n\r\nEverything checks out until it comes to writing a generic method which take any `Task` and get back the corresponding `TaskResult` type. \r\n\r\nThe error is: \r\n```\r\nRequired type: List&lt;U&gt;\r\nProvided:      List&lt;TaskResult&lt;T&gt;&gt;\r\nno instance(s) of type variable(s) exist so that TaskResult&lt;T&gt; conforms to U inference variable T has incompatible bounds: equality constraints: U lower bounds: TaskResult&lt;T&gt;\r\n```\r\n\r\n\r\n\r\n```java\r\npackage com.adobe.panpipe;\r\n\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\ninterface ITask&lt;T&gt;{\r\n    TaskResult&lt;T&gt; make();\r\n}\r\n\r\nclass TaskResult&lt;T&gt;{\r\n    T value;\r\n}\r\n\r\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\r\n    AlphaTaskResult(String value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\r\n    BetaTaskResult(Integer value){\r\n        this.value = value;\r\n    }\r\n}\r\n\r\nclass AlphaTask implements ITask&lt;String&gt; {\r\n    public AlphaTaskResult make(){\r\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\r\n    }\r\n}\r\n\r\nclass BetaTask implements ITask&lt;Integer&gt; {\r\n    public BetaTaskResult make(){\r\n        return new BetaTaskResult(9001);\r\n    }\r\n}\r\n\r\npublic class Main &lt;T&gt;{\r\n\r\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\r\n\r\n        List&lt;U&gt; results =  tasks\r\n                .stream()\r\n                .map(ITask::make)\r\n                .collect(Collectors.toList());\r\n\r\n        return results;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\r\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\r\n\r\n    }\r\n}\r\n```","title":"Java Generic Method to enforce type invariance between parameter type and return type","body":"<p>I have tried a number of different variations of the code below and cannot find any solution which doesn't rely on an unsafe cast or cause another other compiler warning. I am confident the goal is possible, but maybe not?</p>\n<p>To put it simply, the goal is that I have derived types which are related to each other and have invariant relationship, <strong>which can be enforced by a generic method.</strong></p>\n<p><code>AlphaTask</code> always returns <code>AlphaTaskResult</code>.\n<code>AlphaTask</code> is a concrete implementation of <code>ITask&lt;T&gt;</code>, where <code>T</code> is <code>String</code>.\n<code>AlphaTaskResult</code> extends the base class of <code>TaskResult&lt;T&gt;</code>, where again <code>T</code> is <code>String</code>.</p>\n<p>Everything checks out until it comes to writing a generic method which take any <code>Task</code> and get back the corresponding <code>TaskResult</code> type.</p>\n<p>The error is:</p>\n<pre><code>Required type: List&lt;U&gt;\nProvided:      List&lt;TaskResult&lt;T&gt;&gt;\nno instance(s) of type variable(s) exist so that TaskResult&lt;T&gt; conforms to U inference variable T has incompatible bounds: equality constraints: U lower bounds: TaskResult&lt;T&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.adobe.panpipe;\n\nimport java.util.List;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\n\ninterface ITask&lt;T&gt;{\n    TaskResult&lt;T&gt; make();\n}\n\nclass TaskResult&lt;T&gt;{\n    T value;\n}\n\nclass AlphaTaskResult extends TaskResult&lt;String&gt; {\n    AlphaTaskResult(String value){\n        this.value = value;\n    }\n}\n\nclass BetaTaskResult extends TaskResult&lt;Integer&gt; {\n    BetaTaskResult(Integer value){\n        this.value = value;\n    }\n}\n\nclass AlphaTask implements ITask&lt;String&gt; {\n    public AlphaTaskResult make(){\n        return new AlphaTaskResult(&quot;alphaTask&quot;);\n    }\n}\n\nclass BetaTask implements ITask&lt;Integer&gt; {\n    public BetaTaskResult make(){\n        return new BetaTaskResult(9001);\n    }\n}\n\npublic class Main &lt;T&gt;{\n\n    public static &lt;T, U extends TaskResult&lt;T&gt;, V extends ITask&lt;T&gt;&gt; List&lt;U&gt; run(List&lt;V&gt; tasks){\n\n        List&lt;U&gt; results =  tasks\n                .stream()\n                .map(ITask::make)\n                .collect(Collectors.toList());\n\n        return results;\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;AlphaTaskResult&gt; alphaResults = run(Arrays.asList(new AlphaTask(), new AlphaTask()));\n        List&lt;BetaTaskResult&gt; betaResults = run(Arrays.asList(new BetaTask(), new BetaTask()));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","classpath","classloader","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383649895,"post_id":19784477,"comment_id":29412981,"body_markdown":"The shade plugin extract the content into the original jar and it extract the meta-inf files as well. Unfortunately, I don&#39;t know abt the existing applications on the server to arrange for 1 copy.","body":"The shade plugin extract the content into the original jar and it extract the meta-inf files as well. Unfortunately, I don&#39;t know abt the existing applications on the server to arrange for 1 copy."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1383680399,"post_id":19784477,"comment_id":29430954,"body_markdown":"What server are you using?  Java EE application servers will include JavaMail, so there&#39;s no need for web applications or your application to include it.","body":"What server are you using?  Java EE application servers will include JavaMail, so there&#39;s no need for web applications or your application to include it."},{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383685051,"post_id":19784477,"comment_id":29433387,"body_markdown":"I m using tomcat 7. i don&#39;t think it includes a copy of the javamail jar file.","body":"I m using tomcat 7. i don&#39;t think it includes a copy of the javamail jar file."}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383639640,"creation_date":1383639640,"answer_id":19784477,"question_id":19778327,"body_markdown":"I&#39;m not familiar with the maven-shade-plugin.  Does it package the original jar files in a new jar file?  Does it extract the contents of the original jar files and insert the contents into the new jar file?  If the latter, it may only be including the class files and not the resource files in META-INF that configure the JavaMail providers.\r\n\r\nOf course, the best approach would be to arrange for only one copy of the JavaMail jar file to be included in the server&#39;s classpath.","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>I'm not familiar with the maven-shade-plugin.  Does it package the original jar files in a new jar file?  Does it extract the contents of the original jar files and insert the contents into the new jar file?  If the latter, it may only be including the class files and not the resource files in META-INF that configure the JavaMail providers.</p>\n\n<p>Of course, the best approach would be to arrange for only one copy of the JavaMail jar file to be included in the server's classpath.</p>\n"},{"comments":[{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383830014,"post_id":19825757,"comment_id":29497710,"body_markdown":"Thank you the suggestions. I just used Tomcat as an example as it is the app server i m developing on. but the solution should be portable across other appServers. to answer your questions.\n\n1) the standalone library is a library that monitors the web applications performance through AOP and alerts the user when some method execution time is slower than usual. it monitors the other applications through Load Time Weaving.\n\n2) The jar file is added to SERVER_HOME/lib folder, but again the solution should not reply on a specific server&#39;s behavior...","body":"Thank you the suggestions. I just used Tomcat as an example as it is the app server i m developing on. but the solution should be portable across other appServers. to answer your questions.  1) the standalone library is a library that monitors the web applications performance through AOP and alerts the user when some method execution time is slower than usual. it monitors the other applications through Load Time Weaving.  2) The jar file is added to SERVER_HOME/lib folder, but again the solution should not reply on a specific server&#39;s behavior..."},{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383830307,"post_id":19825757,"comment_id":29497899,"body_markdown":"3) the war files could have mail.jar or they may not. I libray would be used by external user&#39;s so I have no control over their environments or applications.","body":"3) the war files could have mail.jar or they may not. I libray would be used by external user&#39;s so I have no control over their environments or applications."},{"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"score":0,"creation_date":1383834858,"post_id":19825757,"comment_id":29500660,"body_markdown":"This also can be important, what type of load time weaving is being used? is it done via a JVM wide weaver, a spring agent that targets only certain spring contexts, etc ?","body":"This also can be important, what type of load time weaving is being used? is it done via a JVM wide weaver, a spring agent that targets only certain spring contexts, etc ?"},{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383835114,"post_id":19825757,"comment_id":29500813,"body_markdown":"it is done by aspectj-weaver. but this shouldn&#39;t be the problem. the code that sends the email have nothing to do with the woven classes or the aspectj code.","body":"it is done by aspectj-weaver. but this shouldn&#39;t be the problem. the code that sends the email have nothing to do with the woven classes or the aspectj code."},{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383841965,"post_id":19825757,"comment_id":29505616,"body_markdown":"I really like you last update :) I think to best way is to refactor the code to reply on minimal libraries so my library will only collect the metrics and send them to a Rest Service through http calls so the Rest Service (deployed separately) could handle the analysis and storage of the data. this will insure no conflict between libraries in my module and others deployed in the system.","body":"I really like you last update :) I think to best way is to refactor the code to reply on minimal libraries so my library will only collect the metrics and send them to a Rest Service through http calls so the Rest Service (deployed separately) could handle the analysis and storage of the data. this will insure no conflict between libraries in my module and others deployed in the system."}],"tags":[],"owner":{"account_id":3462098,"reputation":42531,"user_id":2898867,"accept_rate":80,"display_name":"Angular University"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383835992,"creation_date":1383784282,"answer_id":19825757,"question_id":19778327,"body_markdown":"In tomcat 7, **by default** web applications will look first for classes on this order:\r\n\r\n 1. first on WEB-INF/classes\r\n 2. then inside jars in WEB-INF/lib\r\n 3. and if the class was not found only then in YOUR_SERVER_HOME/lib\r\n 4. Then on the system classloaders, as described [here][1]\r\n\r\nClass versions from other WARs (on classes / WEB-INF/lib) cannot be visible from inside another WAR.\r\n\r\nCan you let us know of further info that could help track down the problem:\r\n\r\n - what does the standalone library do in more detail, how does it monitor the other applications? \r\n\r\n - how is the standalone library added to the server classpath? Is it copied on YOUR_SERVER_HOME/lib, or is a folder added to the server classpath via shared.loader or common.loader properties of catalina.properties\r\n\r\n - does each WAR application provide it&#39;s own mail jars on WEB-INF/lib, or is the library published at the server level as a JNDI resource such as mentioned [here][2] on section *Install the JavaMail libraries*\r\n\r\n - Is any of the applications in the server NOT running in the default classloading mode that I mentioned above, and is using delegate = true (meaning it will look on the server first and only then on the WAR) ? [here][3] is how this would be configured, check for a Resource element in the context.xml or server.xml\r\n\r\nSome suggestions for possible solutions:\r\n\r\n 1. Install JavaMail on tomcat 7 as a JNDI resource following the installation instructions [here][4] on section *Install the JavaMail libraries*. Have all applications use the JNDI resource as in the tomcat docs, and remove java mail from the standalone library using a shade plugin exclusion. This will always work and it&#39;s the most recommended solution.\r\n\r\n 2. If you are using Java 7, try to use [JHades][4] to troubleshoot the classpath of the different applications. You can do static analysis on the WARs for duplicate classes, or view what are the versions used at runtime of a given class, and which other versions are available.\r\n\r\n 3. Since there is no control over the deployment settings of the other applications or their contents, use of JNDI, etc., a solution that will work for sure in all environments and with any application is to refactor the tool so that it does not require mail.jar to be installed on the server.  The tool can write an email request to for example a file or a database table, and another WAR deployed on the server would poll the table file and send the mail.  Or a bash/bat script is called that itself sends the email on a separate java process.\r\n\r\nPerformance analysis tools such as Dynatrace are based on JVM agents and use a similar mechanism that does not need the introduction of libraries at the server level, the agent collects data and sends it to a collecting process that stores it somewhere for further analisys, treatment such as send alarms via emails, etc. \r\n\r\nHope this helps, in general I don&#39;t see any way to deploy libraries to a EE server and be sure that they will never cause problems to any application on different server types and different application classloading settings. \r\n\r\nThe best is probably adapt the tool so that it relies on a minimum of libraries deployed on the server, breaking it up into separate modules with only the collecting module running on the server or look into alternatives such as Dynatrace.\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html\r\n  [2]: http://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JavaMail_Sessions\r\n  [3]: http://tomcat.apache.org/tomcat-7.0-doc/config/loader.html\r\n  [4]: http://jhades.org","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>In tomcat 7, <strong>by default</strong> web applications will look first for classes on this order:</p>\n\n<ol>\n<li>first on WEB-INF/classes</li>\n<li>then inside jars in WEB-INF/lib</li>\n<li>and if the class was not found only then in YOUR_SERVER_HOME/lib</li>\n<li>Then on the system classloaders, as described <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html\" rel=\"nofollow\">here</a></li>\n</ol>\n\n<p>Class versions from other WARs (on classes / WEB-INF/lib) cannot be visible from inside another WAR.</p>\n\n<p>Can you let us know of further info that could help track down the problem:</p>\n\n<ul>\n<li><p>what does the standalone library do in more detail, how does it monitor the other applications? </p></li>\n<li><p>how is the standalone library added to the server classpath? Is it copied on YOUR_SERVER_HOME/lib, or is a folder added to the server classpath via shared.loader or common.loader properties of catalina.properties</p></li>\n<li><p>does each WAR application provide it's own mail jars on WEB-INF/lib, or is the library published at the server level as a JNDI resource such as mentioned <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/jndi-resources-howto.html#JavaMail_Sessions\" rel=\"nofollow\">here</a> on section <em>Install the JavaMail libraries</em></p></li>\n<li><p>Is any of the applications in the server NOT running in the default classloading mode that I mentioned above, and is using delegate = true (meaning it will look on the server first and only then on the WAR) ? <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/loader.html\" rel=\"nofollow\">here</a> is how this would be configured, check for a Resource element in the context.xml or server.xml</p></li>\n</ul>\n\n<p>Some suggestions for possible solutions:</p>\n\n<ol>\n<li><p>Install JavaMail on tomcat 7 as a JNDI resource following the installation instructions <a href=\"http://jhades.org\" rel=\"nofollow\">here</a> on section <em>Install the JavaMail libraries</em>. Have all applications use the JNDI resource as in the tomcat docs, and remove java mail from the standalone library using a shade plugin exclusion. This will always work and it's the most recommended solution.</p></li>\n<li><p>If you are using Java 7, try to use <a href=\"http://jhades.org\" rel=\"nofollow\">JHades</a> to troubleshoot the classpath of the different applications. You can do static analysis on the WARs for duplicate classes, or view what are the versions used at runtime of a given class, and which other versions are available.</p></li>\n<li><p>Since there is no control over the deployment settings of the other applications or their contents, use of JNDI, etc., a solution that will work for sure in all environments and with any application is to refactor the tool so that it does not require mail.jar to be installed on the server.  The tool can write an email request to for example a file or a database table, and another WAR deployed on the server would poll the table file and send the mail.  Or a bash/bat script is called that itself sends the email on a separate java process.</p></li>\n</ol>\n\n<p>Performance analysis tools such as Dynatrace are based on JVM agents and use a similar mechanism that does not need the introduction of libraries at the server level, the agent collects data and sends it to a collecting process that stores it somewhere for further analisys, treatment such as send alarms via emails, etc. </p>\n\n<p>Hope this helps, in general I don't see any way to deploy libraries to a EE server and be sure that they will never cause problems to any application on different server types and different application classloading settings. </p>\n\n<p>The best is probably adapt the tool so that it relies on a minimum of libraries deployed on the server, breaking it up into separate modules with only the collecting module running on the server or look into alternatives such as Dynatrace.</p>\n"},{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665509584,"creation_date":1421860726,"answer_id":28073116,"question_id":19778327,"body_markdown":"Upgrade the JavaMail version included with Tomcat 7 to JavaMail to 1.5.3 which contains the fix for [Bug K6668/E144 -skip unusable Store and Transport classes][1].  You can download the latest snapshot and official releases from the [JavaMail reference implementation][2] home page.\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/mail/issues/144\r\n  [2]: https://eclipse-ee4j.github.io/mail/","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>Upgrade the JavaMail version included with Tomcat 7 to JavaMail to 1.5.3 which contains the fix for <a href=\"https://github.com/eclipse-ee4j/mail/issues/144\" rel=\"nofollow noreferrer\">Bug K6668/E144 -skip unusable Store and Transport classes</a>.  You can download the latest snapshot and official releases from the <a href=\"https://eclipse-ee4j.github.io/mail/\" rel=\"nofollow noreferrer\">JavaMail reference implementation</a> home page.</p>\n"}],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2961,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19825757,"answer_count":3,"score":2,"last_activity_date":1665509584,"creation_date":1383603458,"question_id":19778327,"body_markdown":"I have a standalone library ( jar file) that is added to the application server classpath to monitor all the running applications in the JVM and send email when some issue happens. \r\n\r\nthe jar file have all the dependencies bundled in the jar (using the maven-shade-plugin) including the javamail jar file.\r\n\r\nWhen one of the other webapplications in the appserver have javamail as a dependency, some dependency conflict happens with the javamail in my jar file and I get an exception \r\n\r\n    MessagingException :javax.mail.NoSuchProviderException: No provider for smtp \r\n\r\nHow can I solve this conflict knowing that I can&#39;t modify the running appplications. I only have control over my jar file.\r\n\r\n**Edit**: \r\n\r\nI debugged through the javamail API. and I found out that the javax.mail.Session construct a new object of type  com.sun.mail.smtp.SMTPTransport using reflection and pass two parameters to the constructor, but rather than using SMTPTransport located in the same jar file it tries to use SMTPTransport from the other mail.jar located in one of the deployed apps.","title":"multiple versions of javamail jar causing NoSuchProviderException","body":"<p>I have a standalone library ( jar file) that is added to the application server classpath to monitor all the running applications in the JVM and send email when some issue happens. </p>\n\n<p>the jar file have all the dependencies bundled in the jar (using the maven-shade-plugin) including the javamail jar file.</p>\n\n<p>When one of the other webapplications in the appserver have javamail as a dependency, some dependency conflict happens with the javamail in my jar file and I get an exception </p>\n\n<pre><code>MessagingException :javax.mail.NoSuchProviderException: No provider for smtp \n</code></pre>\n\n<p>How can I solve this conflict knowing that I can't modify the running appplications. I only have control over my jar file.</p>\n\n<p><strong>Edit</strong>: </p>\n\n<p>I debugged through the javamail API. and I found out that the javax.mail.Session construct a new object of type  com.sun.mail.smtp.SMTPTransport using reflection and pass two parameters to the constructor, but rather than using SMTPTransport located in the same jar file it tries to use SMTPTransport from the other mail.jar located in one of the deployed apps.</p>\n"},{"tags":["java","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427108599,"post_id":29208462,"comment_id":46627256,"body_markdown":"Could you at a little bit more implementation and project setup for us. It is really difficult to see what&#39;s happening just out of this stacktrace.","body":"Could you at a little bit more implementation and project setup for us. It is really difficult to see what&#39;s happening just out of this stacktrace."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427108858,"post_id":29208462,"comment_id":46627409,"body_markdown":"I have added some more details. Can u please help?","body":"I have added some more details. Can u please help?"},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427109276,"post_id":29208462,"comment_id":46627609,"body_markdown":"Obviously there is a version mismatch of your com.sun.mail.smtp.SMTPTransport class. Can you say, which version of mail.jar you are using?","body":"Obviously there is a version mismatch of your com.sun.mail.smtp.SMTPTransport class. Can you say, which version of mail.jar you are using?"},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427109426,"post_id":29208462,"comment_id":46627682,"body_markdown":"I am using javamail-1.4.7.","body":"I am using javamail-1.4.7."},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427109816,"post_id":29208462,"comment_id":46627874,"body_markdown":"Ok, here it is javamail 1.5.2, working without problems... can you look through your classpath and verify that no other mail-implementations are present, so that we can eliminate version conflicts.","body":"Ok, here it is javamail 1.5.2, working without problems... can you look through your classpath and verify that no other mail-implementations are present, so that we can eliminate version conflicts."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427110272,"post_id":29208462,"comment_id":46628131,"body_markdown":"Sir in tomcat/lib i have no other mail-implementations. But in aggregator/web-content/web-inf/lib i have mailapi-1.5.2. Aggregator is my project name. Can u please suggest me what should I do?","body":"Sir in tomcat/lib i have no other mail-implementations. But in aggregator/web-content/web-inf/lib i have mailapi-1.5.2. Aggregator is my project name. Can u please suggest me what should I do?"},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427110540,"post_id":29208462,"comment_id":46628274,"body_markdown":"So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2\nAlways keep the api-part and the implementation-part of your mailing artifacts in sync.\nSo either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2.","body":"So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2 Always keep the api-part and the implementation-part of your mailing artifacts in sync. So either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427111513,"post_id":29208462,"comment_id":46628834,"body_markdown":"Sir i checked oracle site but could not find the javamail impl 1.5.2. I am a beginner. Can u please give me the link from where can i download javamail impl 1.5.2 ? It will  be of great help.","body":"Sir i checked oracle site but could not find the javamail impl 1.5.2. I am a beginner. Can u please give me the link from where can i download javamail impl 1.5.2 ? It will  be of great help."},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427111947,"post_id":29208462,"comment_id":46629076,"body_markdown":"If you are using Maven, use this: http://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.5.2 else you can download it manually here: https://java.net/projects/javamail/pages/Home#Download_JavaMail_1.5.2_Release","body":"If you are using Maven, use this: <a href=\"http://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.5.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.sun.mail/javax.mail/1.5.2</a> else you can download it manually here: <a href=\"https://java.net/projects/javamail/pages/Home#Download_JavaMail_1.5.2_Release\" rel=\"nofollow noreferrer\">java.net/projects/javamail/pages/&hellip;</a>"},{"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"score":0,"creation_date":1427112821,"post_id":29208462,"comment_id":46629629,"body_markdown":"I&#39;ve extracted also the answer from our comments thread.","body":"I&#39;ve extracted also the answer from our comments thread."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1427134115,"post_id":29208462,"comment_id":46643659,"body_markdown":"You should also fix all these [common mistakes](http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes) in your code.","body":"You should also fix all these <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\" rel=\"nofollow noreferrer\">common mistakes</a> in your code."}],"answers":[{"comments":[{"owner":{"account_id":13849604,"reputation":71,"user_id":9997836,"display_name":"fat-takumi"},"score":0,"creation_date":1614680407,"post_id":29209401,"comment_id":117452535,"body_markdown":"You save my life. Thanks!","body":"You save my life. Thanks!"}],"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665509527,"creation_date":1427111113,"answer_id":29209401,"question_id":29208462,"body_markdown":"Read all of the answers in [multiple versions of javamail jar causing NoSuchProviderException][1].\r\n\r\nYou can also modify your code to set the context class loader during send to [fix this issue][2]:\r\n\r\n        Thread t =  Thread.currentThread();\r\n        ClassLoader ccl = t.getContextClassLoader();\r\n        t.setContextClassLoader(session.getClass().getClassLoader());\r\n        try {\r\n            Transport.send(msg);\r\n        } finally {\r\n            t.setContextClassLoader(ccl);\r\n        }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19778327/multiple-versions-of-javamail-jar-causing-nosuchproviderexception\r\n  [2]: https://github.com/eclipse-ee4j/mail/issues/144","title":"error while sending mail using javamail","body":"<p>Read all of the answers in <a href=\"https://stackoverflow.com/questions/19778327/multiple-versions-of-javamail-jar-causing-nosuchproviderexception\">multiple versions of javamail jar causing NoSuchProviderException</a>.</p>\n<p>You can also modify your code to set the context class loader during send to <a href=\"https://github.com/eclipse-ee4j/mail/issues/144\" rel=\"nofollow noreferrer\">fix this issue</a>:</p>\n<pre><code>    Thread t =  Thread.currentThread();\n    ClassLoader ccl = t.getContextClassLoader();\n    t.setContextClassLoader(session.getClass().getClassLoader());\n    try {\n        Transport.send(msg);\n    } finally {\n        t.setContextClassLoader(ccl);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1427134065,"post_id":29209919,"comment_id":46643636,"body_markdown":"You don&#39;t need both com.sun.mail:javax.mail and javax.mail:javax.mail-api.  The former contains everything that&#39;s in the latter.","body":"You don&#39;t need both com.sun.mail:javax.mail and javax.mail:javax.mail-api.  The former contains everything that&#39;s in the latter."},{"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"score":0,"creation_date":1427178454,"post_id":29209919,"comment_id":46659977,"body_markdown":"Yes Sir. I removed that jar.. Thanks!","body":"Yes Sir. I removed that jar.. Thanks!"}],"tags":[],"owner":{"account_id":1971682,"reputation":2496,"user_id":1770433,"display_name":"mle"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427112765,"creation_date":1427112765,"answer_id":29209919,"question_id":29208462,"body_markdown":"So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2 Always keep the api-part and the implementation-part of your mailing artifacts in sync. So either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2.","title":"error while sending mail using javamail","body":"<p>So, I have just tested your code here, works perfectly with the following two mailing artifcats com.sun.mail:javax.mail:1.5.2 and javax.mail:javax.mail-api:1.5.2 Always keep the api-part and the implementation-part of your mailing artifacts in sync. So either change the mailapi-1.5.2 to mailapi-1.4.7 or update the javamail impl from 1.4.7 to 1.5.2.</p>\n"}],"owner":{"account_id":4531730,"reputation":1211,"user_id":3681970,"accept_rate":73,"display_name":"user3681970"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5555,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29209919,"answer_count":2,"score":4,"last_activity_date":1665509527,"creation_date":1427108098,"question_id":29208462,"body_markdown":"Here is my code for sending the mail\r\n\r\n    package com.markEffy.aggregator.util;\r\n    import com.sun.mail.util.MailSSLSocketFactory;\r\n\r\n    import java.util.Properties;\r\n\r\n    import javax.mail.Message;\r\n     import javax.mail.MessagingException;\r\n      import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n     import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n\r\n     public class EmailAgent {\r\n\r\n\t\t\tprivate static final String SMTP_HOST_NAME = &quot;smtp.zoho.com&quot;;\r\n\t\t\tprivate static final String SMTP_PORT = &quot;465&quot;;\r\n\t\t\tprivate static final String emailFromAddress = &quot;support@jiffie.in&quot;;\r\n\t\t\tprivate static final String SSL_FACTORY = &quot;javax.net.ssl.SSLSocketFactory&quot;;\r\n\t\t\tprivate String emailMsgTxt;\r\n\t\t\tprivate String emailSubjectTxt;\r\n\t\t\tprivate String[] sendTo = {&quot;&quot;};\r\n\t\t\t\r\n\t\t\tprivate int msgBodyType;\r\n\r\n\t\t\tpublic EmailAgent (String sendToAddr, int msgType) throws Exception {\r\n\t\t\t\tthis.sendTo[0] = new String(sendToAddr);\r\n\t\t\t\tthis.msgBodyType = msgType;\r\n\t\t\t\t}\r\n\t\t\tpublic EmailAgent (String sendToAddr, String emailMsgTxt, String emailSubjectTxt) throws Exception {\r\n\t\t\t\tthis.sendTo[0] = new String(sendToAddr);\r\n\t\t\t\tthis.emailMsgTxt = emailMsgTxt;\r\n\t\t\t\tthis.emailSubjectTxt = emailSubjectTxt;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic EmailAgent(String[] recipients, int msgType) {\r\n\t\t\t\t// TODO Auto-generated constructor stub\r\n\t\t\t\tthis.sendTo = new String[recipients.length];\r\n\t\t\t\tfor(int i=0;i&lt;recipients.length;i++){\r\n\t\t\t\t\tthis.sendTo[i]=recipients[i];\r\n\t\t\t\t}\r\n\t\t\t\tthis.msgBodyType=msgType;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tpublic  void sendMail() throws Exception {\r\n\t\t\t\t//System.out.println(&quot;inside send mail&quot;);\r\n\r\n\t\t\t\tMailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t//Check if valid arguments are passed\r\n\t\t\t\tif ((this.sendTo == null)) {\r\n\t\t\t\t\tSystem.out.println (&quot;Invalid arguments!&quot;);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tint msgType = this.msgBodyType; \r\n\t\t\t\tnew EmailAgent(sendTo, msgType).sendSSLMessage(sendTo, emailSubjectTxt, emailMsgTxt,\r\n\t\t\t            emailFromAddress, sf);\r\n\t\t\t    System.out.println(&quot;Sucessfully Sent mail to All Users&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tpublic void sendSSLMessage(String recipients[], String subject,\r\n\t\t\t        String message, String from , MailSSLSocketFactory sf) throws MessagingException {\r\n\t\t\t    boolean debug = true;\r\n\t\t\t    Properties props = new Properties();\r\n\t\t\t    props.put(&quot;mail.smtp.host&quot;, SMTP_HOST_NAME);\r\n\t\t\t    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\t    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\t\t    props.put(&quot;mail.smtp.port&quot;, SMTP_PORT);\r\n\t\t\t    props.put(&quot;mail.smtp.socketFactory.port&quot;, SMTP_PORT);\r\n\t\t\t    props.put(&quot;mail.smtp.socketFactory.class&quot;, SSL_FACTORY);\r\n\t\t\t    props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n\t\t\t    Session session = Session.getDefaultInstance(props,\r\n\t\t\t            new javax.mail.Authenticator() \r\n\t\t\t             {\r\n\t\t\t                 protected PasswordAuthentication                   \r\n\r\n\t\t\t              getPasswordAuthentication() {\r\n\t\t\t                    return new   \r\n\t\t\t                 PasswordAuthentication(&quot;support@jiffie.in&quot;, &quot;support@1234$&quot;);\r\n\t\t\t                }\r\n\t\t\t            });\r\n\r\n\t\t\t    session.setDebug(debug);\r\n\r\n\t\t\t    Message msg = new MimeMessage(session);\r\n\t\t\t    InternetAddress addressFrom = new InternetAddress(from);\r\n\t\t\t    msg.setFrom(addressFrom);\r\n\r\n\t\t\t    InternetAddress[] addressTo = new InternetAddress[recipients.length];\r\n\t\t\t    for (int i = 0; i &lt; recipients.length; i++) {\r\n\t\t\t        addressTo[i] = new InternetAddress(recipients[i]);\r\n\t\t\t    }\r\n\t\t\t    msg.setRecipients(Message.RecipientType.TO, addressTo);\r\n\r\n\t\t\t    // Setting the Subject and Content Type\r\n\t\t\t    msg.setSubject(subject);\r\n\t\t\t    msg.setContent(message, &quot;text/plain&quot;);\r\n\r\n\t\t\t    Transport.send(msg);\r\n\t\t   }\r\n\t}\t\t\t\r\n\r\n\r\nI have added `mail.jar` and `activation.jar` in the lib folder of tomcat.I am using eclipse with tomcat 7,jre 7 and struts2.The following console error came while sending mail through Java:\r\n\r\n&lt;pre&gt;\r\nDEBUG: JavaMail version 1.5.2\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\n     : Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name:     {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nDEBUG: setDebug: JavaMail version 1.5.2\r\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\nDEBUG: Exception loading provider, THROW: \r\njava.lang.NoSuchMethodException: com.sun.mail.smtp.SMTPTransport.&lt;init&gt;(javax.mail.Session, javax.mail.URLName)\r\n\tat java.lang.Class.getConstructor0(Unknown Source)\r\n\tat java.lang.Class.getConstructor(Unknown Source)\r\n\tat javax.mail.Session.getService(Session.java:813)\r\n\tat javax.mail.Session.getTransport(Session.java:742)\r\n\tat javax.mail.Session.getTransport(Session.java:682)\r\n\tat javax.mail.Session.getTransport(Session.java:662)\r\n\tat javax.mail.Session.getTransport(Session.java:719)\r\n\tat javax.mail.Transport.send0(Transport.java:248)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\n\tat com.markEffy.aggregator.util.EmailAgent.sendSSLMessage(EmailAgent.java)\r\n\tat com.markEffy.aggregator.util.EmailAgent.sendMail(EmailAgent.java)\r\n\tat com.markEffy.aggregator.web.RetrievePasswordAction.sendPasswordToEmail(RetrievePasswordAction.java)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\r\n\tat org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n\tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n\tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:139)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\r\n\tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\r\n\tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n\tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:562)\r\n\tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\r\n\tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n&lt;/pre&gt;","title":"error while sending mail using javamail","body":"<p>Here is my code for sending the mail</p>\n\n<pre><code>package com.markEffy.aggregator.util;\nimport com.sun.mail.util.MailSSLSocketFactory;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\n import javax.mail.MessagingException;\n  import javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\n import javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\n public class EmailAgent {\n\n        private static final String SMTP_HOST_NAME = \"smtp.zoho.com\";\n        private static final String SMTP_PORT = \"465\";\n        private static final String emailFromAddress = \"support@jiffie.in\";\n        private static final String SSL_FACTORY = \"javax.net.ssl.SSLSocketFactory\";\n        private String emailMsgTxt;\n        private String emailSubjectTxt;\n        private String[] sendTo = {\"\"};\n\n        private int msgBodyType;\n\n        public EmailAgent (String sendToAddr, int msgType) throws Exception {\n            this.sendTo[0] = new String(sendToAddr);\n            this.msgBodyType = msgType;\n            }\n        public EmailAgent (String sendToAddr, String emailMsgTxt, String emailSubjectTxt) throws Exception {\n            this.sendTo[0] = new String(sendToAddr);\n            this.emailMsgTxt = emailMsgTxt;\n            this.emailSubjectTxt = emailSubjectTxt;\n            }\n\n        public EmailAgent(String[] recipients, int msgType) {\n            // TODO Auto-generated constructor stub\n            this.sendTo = new String[recipients.length];\n            for(int i=0;i&lt;recipients.length;i++){\n                this.sendTo[i]=recipients[i];\n            }\n            this.msgBodyType=msgType;\n\n        }\n\n        public  void sendMail() throws Exception {\n            //System.out.println(\"inside send mail\");\n\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n\n            //Check if valid arguments are passed\n            if ((this.sendTo == null)) {\n                System.out.println (\"Invalid arguments!\");\n                return;\n            }\n\n            int msgType = this.msgBodyType; \n            new EmailAgent(sendTo, msgType).sendSSLMessage(sendTo, emailSubjectTxt, emailMsgTxt,\n                    emailFromAddress, sf);\n            System.out.println(\"Sucessfully Sent mail to All Users\");\n        }\n\n        public void sendSSLMessage(String recipients[], String subject,\n                String message, String from , MailSSLSocketFactory sf) throws MessagingException {\n            boolean debug = true;\n            Properties props = new Properties();\n            props.put(\"mail.smtp.host\", SMTP_HOST_NAME);\n            props.put(\"mail.smtp.auth\", \"true\");\n            props.put(\"mail.debug\", \"true\");\n            props.put(\"mail.smtp.port\", SMTP_PORT);\n            props.put(\"mail.smtp.socketFactory.port\", SMTP_PORT);\n            props.put(\"mail.smtp.socketFactory.class\", SSL_FACTORY);\n            props.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n\n            Session session = Session.getDefaultInstance(props,\n                    new javax.mail.Authenticator() \n                     {\n                         protected PasswordAuthentication                   \n\n                      getPasswordAuthentication() {\n                            return new   \n                         PasswordAuthentication(\"support@jiffie.in\", \"support@1234$\");\n                        }\n                    });\n\n            session.setDebug(debug);\n\n            Message msg = new MimeMessage(session);\n            InternetAddress addressFrom = new InternetAddress(from);\n            msg.setFrom(addressFrom);\n\n            InternetAddress[] addressTo = new InternetAddress[recipients.length];\n            for (int i = 0; i &lt; recipients.length; i++) {\n                addressTo[i] = new InternetAddress(recipients[i]);\n            }\n            msg.setRecipients(Message.RecipientType.TO, addressTo);\n\n            // Setting the Subject and Content Type\n            msg.setSubject(subject);\n            msg.setContent(message, \"text/plain\");\n\n            Transport.send(msg);\n       }\n}           \n</code></pre>\n\n<p>I have added <code>mail.jar</code> and <code>activation.jar</code> in the lib folder of tomcat.I am using eclipse with tomcat 7,jre 7 and struts2.The following console error came while sending mail through Java:</p>\n\n<pre>\nDEBUG: JavaMail version 1.5.2\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\n     : Tables of loaded providers\nDEBUG: Providers Listed By Class Name:     {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\n    DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: setDebug: JavaMail version 1.5.2\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG: Exception loading provider, THROW: \njava.lang.NoSuchMethodException: com.sun.mail.smtp.SMTPTransport.(javax.mail.Session, javax.mail.URLName)\n    at java.lang.Class.getConstructor0(Unknown Source)\n    at java.lang.Class.getConstructor(Unknown Source)\n    at javax.mail.Session.getService(Session.java:813)\n    at javax.mail.Session.getTransport(Session.java:742)\n    at javax.mail.Session.getTransport(Session.java:682)\n    at javax.mail.Session.getTransport(Session.java:662)\n    at javax.mail.Session.getTransport(Session.java:719)\n    at javax.mail.Transport.send0(Transport.java:248)\n    at javax.mail.Transport.send(Transport.java:124)\n    at com.markEffy.aggregator.util.EmailAgent.sendSSLMessage(EmailAgent.java)\n    at com.markEffy.aggregator.util.EmailAgent.sendMail(EmailAgent.java)\n    at com.markEffy.aggregator.web.RetrievePasswordAction.sendPasswordToEmail(RetrievePasswordAction.java)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252)\n    at org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:254)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:139)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:562)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n\n</pre>\n"},{"tags":["java","testing","junit","compiler-errors","package"],"comments":[{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1259368352,"post_id":1811103,"comment_id":1700120,"body_markdown":"tell us how your class is declared. Looks to me as if you&#39;ve inherited from JUnit3 and then tried to statically import from JUnit4.","body":"tell us how your class is declared. Looks to me as if you&#39;ve inherited from JUnit3 and then tried to statically import from JUnit4."},{"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"score":0,"creation_date":1259368732,"post_id":1811103,"comment_id":1700136,"body_markdown":"yeah, actually, I had JUnit3 in package A, and used JUnit4 in package B, where I originally wrote these tests. Then I switched from Package B to Package A, and the problem arose. But I don&#39;t see anything in this class that would indicate JUnit 3. Where is that declared?","body":"yeah, actually, I had JUnit3 in package A, and used JUnit4 in package B, where I originally wrote these tests. Then I switched from Package B to Package A, and the problem arose. But I don&#39;t see anything in this class that would indicate JUnit 3. Where is that declared?"}],"answers":[{"comments":[{"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"score":0,"creation_date":1259372324,"post_id":1811168,"comment_id":1700277,"body_markdown":"ok, or I could just switch it to use JUnit 4 instead of JUnit 3. How do I do that?","body":"ok, or I could just switch it to use JUnit 4 instead of JUnit 3. How do I do that?"},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":8,"creation_date":1259376907,"post_id":1811168,"comment_id":1700437,"body_markdown":"The solution is not really to switch from one version to the other. Instead, help the compiler and remove the ambiguity as I suggested.","body":"The solution is not really to switch from one version to the other. Instead, help the compiler and remove the ambiguity as I suggested."},{"owner":{"account_id":28208,"reputation":14132,"user_id":75126,"accept_rate":100,"display_name":"mhaller"},"score":1,"creation_date":1259377592,"post_id":1811168,"comment_id":1700456,"body_markdown":"Anyway, shouldn&#39;t it be assertEquals(70.0d, eccen.get(&quot;alpha&quot;)); ?","body":"Anyway, shouldn&#39;t it be assertEquals(70.0d, eccen.get(&quot;alpha&quot;)); ?"},{"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"score":0,"creation_date":1259385538,"post_id":1811168,"comment_id":1700712,"body_markdown":"but it wasn&#39;t a problem in JUnit 4, and I&#39;d like to avoid changing a bunch of things in my code.","body":"but it wasn&#39;t a problem in JUnit 4, and I&#39;d like to avoid changing a bunch of things in my code."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":4,"creation_date":1259387890,"post_id":1811168,"comment_id":1700794,"body_markdown":"@mahller Not sure who you are talking to but, even if it&#39;s more correct than the OP&#39;s code, it still ambiguous if the version of JUnit has both `assertEquals(Object, Object)` and `assertEquals(double, double)` which is the case of JUnit 4.4, 4.5. But as I said, changing the version of JUnit is not the real solution, just fix the problem.","body":"@mahller Not sure who you are talking to but, even if it&#39;s more correct than the OP&#39;s code, it still ambiguous if the version of JUnit has both <code>assertEquals(Object, Object)</code> and <code>assertEquals(double, double)</code> which is the case of JUnit 4.4, 4.5. But as I said, changing the version of JUnit is not the real solution, just fix the problem."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":2,"creation_date":1259387998,"post_id":1811168,"comment_id":1700799,"body_markdown":"@Rosarch For this particular case, it isn&#39;t a problem in JUnit 3.8.1, it isn&#39;t a problem in JUnit 4.3, it **is** a problem in JUnit 4.4, it **is** a problem in JUnit 4.5 (but the method taking 2 doubles is deprecated), it isn&#39;t a problem in JUnit 4.6 (the method has been removed). So, make your choice, but you should fix the code.","body":"@Rosarch For this particular case, it isn&#39;t a problem in JUnit 3.8.1, it isn&#39;t a problem in JUnit 4.3, it <b>is</b> a problem in JUnit 4.4, it <b>is</b> a problem in JUnit 4.5 (but the method taking 2 doubles is deprecated), it isn&#39;t a problem in JUnit 4.6 (the method has been removed). So, make your choice, but you should fix the code."},{"owner":{"account_id":3088354,"reputation":320,"user_id":2615057,"display_name":"jroot"},"score":0,"creation_date":1414618709,"post_id":1811168,"comment_id":41889161,"body_markdown":"Apparently assertEquals(object, object) has been deprecated. Use `assertEquals(null, 70.0d, eccen.get(&quot;alpha&quot;).doubleValue(), 0d);` where null can be a message (String), and the last parmaeter determines a delta... &quot;the maximum delta between expected and actual for which both numbers are still considered equal.&quot;  I also had a similar issue, this question helped.","body":"Apparently assertEquals(object, object) has been deprecated. Use <code>assertEquals(null, 70.0d, eccen.get(&quot;alpha&quot;).doubleValue(), 0d);</code> where null can be a message (String), and the last parmaeter determines a delta... &quot;the maximum delta between expected and actual for which both numbers are still considered equal.&quot;  I also had a similar issue, this question helped."}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":7,"down_vote_count":0,"up_vote_count":224,"is_accepted":true,"score":224,"last_activity_date":1386755158,"creation_date":1259369175,"answer_id":1811168,"question_id":1811103,"body_markdown":"The method assertEquals(Object, Object) is ambiguous for the type ...\r\n\r\nWhat this error means is that you&#39;re passing a `double` and and `Double` into a method that has two different signatures: [`assertEquals(Object, Object)`][1] and [`assertEquals(double, double)`][2] both of which could be called, thanks to autoboxing.\r\n\r\nTo avoid the ambiguity, make sure that you either call [`assertEquals(Object, Object)`][3] (by passing two Doubles) or [`assertEquals(double, double)`][4] (by passing two doubles). \r\n\r\nSo, in your case, you should use:\r\n\r\n    assertEquals(Double.valueOf(70), eccen.get(&quot;alpha&quot;));\r\n\r\nOr:\r\n\r\n    assertEquals(70.0d, eccen.get(&quot;alpha&quot;).doubleValue());\r\n\r\n\r\n  [1]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\r\n  [2]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29\r\n  [3]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\r\n  [4]: http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>The method assertEquals(Object, Object) is ambiguous for the type ...</p>\n\n<p>What this error means is that you're passing a <code>double</code> and and <code>Double</code> into a method that has two different signatures: <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>assertEquals(Object, Object)</code></a> and <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29\" rel=\"noreferrer\"><code>assertEquals(double, double)</code></a> both of which could be called, thanks to autoboxing.</p>\n\n<p>To avoid the ambiguity, make sure that you either call <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\"><code>assertEquals(Object, Object)</code></a> (by passing two Doubles) or <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/Assert.html#assertEquals%28double,%20double%29\" rel=\"noreferrer\"><code>assertEquals(double, double)</code></a> (by passing two doubles). </p>\n\n<p>So, in your case, you should use:</p>\n\n<pre><code>assertEquals(Double.valueOf(70), eccen.get(\"alpha\"));\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>assertEquals(70.0d, eccen.get(\"alpha\").doubleValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018882,"reputation":2472,"user_id":1029825,"accept_rate":91,"display_name":"Paolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493111286,"creation_date":1493111286,"answer_id":43606249,"question_id":1811103,"body_markdown":"You can use the method\r\n\r\n    assertEquals(double expected, double actual, double delta)\r\n\r\nWhich will take into account rounding error that are hinerent to floating point (see [this post][1] for example). You can write\r\n\r\n    assertEquals(70, eccen.get(&quot;alpha&quot;), 0.0001);\r\n\r\nThis mean that as long as the two values differ for less than 0.0001 they are considered to be equals. This has two advantages:\r\n\r\n - Compares floating point values as they are supposed to\r\n - No need to cast, as the three argument assert only applyes to doubles, not to generic Objects\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25160375/comparing-double-values-for-equality-in-java","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>You can use the method</p>\n\n<pre><code>assertEquals(double expected, double actual, double delta)\n</code></pre>\n\n<p>Which will take into account rounding error that are hinerent to floating point (see <a href=\"https://stackoverflow.com/questions/25160375/comparing-double-values-for-equality-in-java\">this post</a> for example). You can write</p>\n\n<pre><code>assertEquals(70, eccen.get(\"alpha\"), 0.0001);\n</code></pre>\n\n<p>This mean that as long as the two values differ for less than 0.0001 they are considered to be equals. This has two advantages:</p>\n\n<ul>\n<li>Compares floating point values as they are supposed to</li>\n<li>No need to cast, as the three argument assert only applyes to doubles, not to generic Objects</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521324165,"creation_date":1521323631,"answer_id":49342278,"question_id":1811103,"body_markdown":"The simplest solution to this problem is just cast the second parameter into a primitive:\r\n\r\n    assertEquals(70, (double)eccen.get(&quot;alpha&quot;));\r\n\r\nAmbiguity removed.\r\n\r\nThis is valid for any of the Number subclasses, for example:\r\n\r\n    assertEquals(70, (int)new Integer(70));\r\n\r\nWould solve an ambiguity too.\r\n\r\nHowever, assertEquals(double, double) is deprecated as of now and for good reasons, so I encourage you to use the method with a delta as others have suggested already. \r\n\r\nBy good reasons I mean that, given the inner representation of double numbers, two apparently equal double numbers can differ in an irrelevant infinitesimal fraction and wouldn&#39;t pass a test, but that doesn&#39;t mean that there&#39;s anything wrong with your code.\r\n","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>The simplest solution to this problem is just cast the second parameter into a primitive:</p>\n\n<pre><code>assertEquals(70, (double)eccen.get(\"alpha\"));\n</code></pre>\n\n<p>Ambiguity removed.</p>\n\n<p>This is valid for any of the Number subclasses, for example:</p>\n\n<pre><code>assertEquals(70, (int)new Integer(70));\n</code></pre>\n\n<p>Would solve an ambiguity too.</p>\n\n<p>However, assertEquals(double, double) is deprecated as of now and for good reasons, so I encourage you to use the method with a delta as others have suggested already. </p>\n\n<p>By good reasons I mean that, given the inner representation of double numbers, two apparently equal double numbers can differ in an irrelevant infinitesimal fraction and wouldn't pass a test, but that doesn't mean that there's anything wrong with your code.</p>\n"}],"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119617,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":1811168,"answer_count":3,"score":108,"last_activity_date":1665509482,"creation_date":1259367668,"question_id":1811103,"body_markdown":"I had some tests working fine. Then, I moved it to a different package, and am now getting errors. Here is the code:\r\n\r\n    import static org.junit.Assert.*;\r\n    import java.util.HashSet;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    import org.jgrapht.Graphs;\r\n    import org.jgrapht.WeightedGraph;\r\n    import org.jgrapht.graph.DefaultWeightedEdge;\r\n    import org.jgrapht.graph.SimpleWeightedGraph;\r\n    import org.junit.*;\t\r\n    \r\n    @Test\r\n    \tpublic void testEccentricity() {\r\n    \t\tWeightedGraph&lt;String, DefaultWeightedEdge&gt; g = generateSimpleCaseGraph();\r\n    \t\tMap&lt;String, Double&gt; eccen = JGraphtUtilities.eccentricities(g);\r\n    \t\t\r\n    \t\tassertEquals(70, eccen.get(&quot;alpha&quot;));\r\n    \t\tassertEquals(80, eccen.get(&quot;l&quot;));\r\n    \t\tassertEquals(130, eccen.get(&quot;l-0&quot;));\r\n    \t\tassertEquals(100, eccen.get(&quot;l-1&quot;));\r\n    \t\tassertEquals(90, eccen.get(&quot;r&quot;));\r\n    \t\tassertEquals(120, eccen.get(&quot;r-0&quot;));\r\n    \t\tassertEquals(130, eccen.get(&quot;r-1&quot;));\r\n    \t}\r\n\r\nThe error message is this:\r\n\r\n**The method assertEquals(Object, Object) is ambiguous for the type JGraphtUtilitiesTest**\r\n\r\nHow can I fix this? Why did this problem occur as I moved the class to a different package?","title":"Java JUnit: The method X is ambiguous for type Y","body":"<p>I had some tests working fine. Then, I moved it to a different package, and am now getting errors. Here is the code:</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.jgrapht.Graphs;\nimport org.jgrapht.WeightedGraph;\nimport org.jgrapht.graph.DefaultWeightedEdge;\nimport org.jgrapht.graph.SimpleWeightedGraph;\nimport org.junit.*; \n\n@Test\n    public void testEccentricity() {\n        WeightedGraph&lt;String, DefaultWeightedEdge&gt; g = generateSimpleCaseGraph();\n        Map&lt;String, Double&gt; eccen = JGraphtUtilities.eccentricities(g);\n\n        assertEquals(70, eccen.get(\"alpha\"));\n        assertEquals(80, eccen.get(\"l\"));\n        assertEquals(130, eccen.get(\"l-0\"));\n        assertEquals(100, eccen.get(\"l-1\"));\n        assertEquals(90, eccen.get(\"r\"));\n        assertEquals(120, eccen.get(\"r-0\"));\n        assertEquals(130, eccen.get(\"r-1\"));\n    }\n</code></pre>\n\n<p>The error message is this:</p>\n\n<p><strong>The method assertEquals(Object, Object) is ambiguous for the type JGraphtUtilitiesTest</strong></p>\n\n<p>How can I fix this? Why did this problem occur as I moved the class to a different package?</p>\n"},{"tags":["java","synchronous"],"comments":[{"owner":{"account_id":2063361,"reputation":31416,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1611711172,"post_id":65910027,"comment_id":116537554,"body_markdown":"Please post the solution as an answer. We do not allow the solution to be edited into the question body.","body":"Please post the solution as an answer. We do not allow the solution to be edited into the question body."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1611761687,"post_id":65910027,"comment_id":116555593,"body_markdown":"Changing your question makes all of the answers wrong.  It defeats the whole purpose of Stack Overflow, which is a Q/A site.  Please don&#39;t do this in the future.","body":"Changing your question makes all of the answers wrong.  It defeats the whole purpose of Stack Overflow, which is a Q/A site.  Please don&#39;t do this in the future."}],"answers":[{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1611701699,"post_id":65910424,"comment_id":116535420,"body_markdown":"This is incorrect.  The `cleanup` method sets `running` BEFORE it tries to obtain the lock.  The logic there is just fine.  It is true that the `run` method will never print anything, but the fact that `running` is never set to `true` does not affect the lockup.","body":"This is incorrect.  The <code>cleanup</code> method sets <code>running</code> BEFORE it tries to obtain the lock.  The logic there is just fine.  It is true that the <code>run</code> method will never print anything, but the fact that <code>running</code> is never set to <code>true</code> does not affect the lockup."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1611737118,"post_id":65910424,"comment_id":116543748,"body_markdown":"I updated my answer with a quote. I never said that the main thread never acquired the lock in some case, I only said that in the observation the OP made, the started thread acquired the lock. My answer is not wrong.","body":"I updated my answer with a quote. I never said that the main thread never acquired the lock in some case, I only said that in the observation the OP made, the started thread acquired the lock. My answer is not wrong."}],"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665509461,"creation_date":1611701496,"answer_id":65910424,"question_id":65910027,"body_markdown":"If we forgot the fact the `running` is not initialized to `true` (which was updated in question), that is a normal behavior from what I&#39;m reading and from what you observe:\r\n\r\n&gt; The result I expected was:\r\n&gt; \r\n&gt;     running! (many times)\r\n&gt;     cleanup!\r\n&gt; \r\n&gt; **but when I ran it I got:**\r\n&gt; \r\n&gt;     running! (many times)\r\n&gt; \r\n&gt; **and it didn&#39;t stop.**\r\n\r\n\r\n- The Thread you start is **owning** the lock. \r\n- The main thread (calling your `Thread`) is made dormant until the other thread release its lock. From the [javadoc][1] of lock(): *If the lock is held by another thread then the current thread becomes disabled for thread scheduling purposes and lies dormant until the lock has been acquired, at which time the lock hold count is set to one.*\r\n- Because the main thread is in dormant step, the cleanup method is never called and `running` is never set to false.\r\n\r\nI can say it is blocked because you observed that `cleanup` was never output. If the main thread acquired the lock, cleanup would be output, and because the lock is before the loop condition, the `running!` would not be output.\r\n\r\nThis is from your observation, however, it is true that either thread may acquire lock before the other.\r\n\r\nAs I don&#39;t know what you try to achieve, I can only tell that you should have an exit condition in your loop... And you may change exit condition from external thread (with synchronization) only if you don&#39;t block it.\r\n\r\nBeside, you should lock using try/finally, especially if operation can fail since it may block indefinitely by keeping a lock that should not be kept:\r\n\r\n      lock.lock();\r\n      try {\r\n        ...\r\n      } finally {\r\n        lock.unlock(); \r\n      }\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#lock()","title":"java variable change not applied during synchronous processing","body":"<p>If we forgot the fact the <code>running</code> is not initialized to <code>true</code> (which was updated in question), that is a normal behavior from what I'm reading and from what you observe:</p>\n<blockquote>\n<p>The result I expected was:</p>\n<pre><code>running! (many times)\ncleanup!\n</code></pre>\n<p><strong>but when I ran it I got:</strong></p>\n<pre><code>running! (many times)\n</code></pre>\n<p><strong>and it didn't stop.</strong></p>\n</blockquote>\n<ul>\n<li>The Thread you start is <strong>owning</strong> the lock.</li>\n<li>The main thread (calling your <code>Thread</code>) is made dormant until the other thread release its lock. From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReentrantLock.html#lock()\" rel=\"nofollow noreferrer\">javadoc</a> of lock(): <em>If the lock is held by another thread then the current thread becomes disabled for thread scheduling purposes and lies dormant until the lock has been acquired, at which time the lock hold count is set to one.</em></li>\n<li>Because the main thread is in dormant step, the cleanup method is never called and <code>running</code> is never set to false.</li>\n</ul>\n<p>I can say it is blocked because you observed that <code>cleanup</code> was never output. If the main thread acquired the lock, cleanup would be output, and because the lock is before the loop condition, the <code>running!</code> would not be output.</p>\n<p>This is from your observation, however, it is true that either thread may acquire lock before the other.</p>\n<p>As I don't know what you try to achieve, I can only tell that you should have an exit condition in your loop... And you may change exit condition from external thread (with synchronization) only if you don't block it.</p>\n<p>Beside, you should lock using try/finally, especially if operation can fail since it may block indefinitely by keeping a lock that should not be kept:</p>\n<pre><code>  lock.lock();\n  try {\n    ...\n  } finally {\n    lock.unlock(); \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611702434,"creation_date":1611702434,"answer_id":65910577,"question_id":65910027,"body_markdown":"It keeps running because there is nothing to tell the started thread that the main thread changed the variable. The change by the main thread isn’t visible to the other thread. \r\n\r\n The reason it works when you add println because both threads are using and synchronizing on the console print writer, introducing a happens-before relationship that makes the variable update visible. \r\n\r\nYou can make the running variable volatile and that will make the change visible without the println. ","title":"java variable change not applied during synchronous processing","body":"<p>It keeps running because there is nothing to tell the started thread that the main thread changed the variable. The change by the main thread isn’t visible to the other thread.</p>\n<p>The reason it works when you add println because both threads are using and synchronizing on the console print writer, introducing a happens-before relationship that makes the variable update visible.</p>\n<p>You can make the running variable volatile and that will make the change visible without the println.</p>\n"}],"owner":{"account_id":19099392,"reputation":19,"user_id":13947988,"display_name":"hanzi programmer KR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":65910577,"answer_count":2,"score":0,"last_activity_date":1665509461,"creation_date":1611699134,"question_id":65910027,"body_markdown":"    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    \r\n    public class Test extends Thread {\r\n        private boolean running;\r\n        private Lock cleanupLock;\r\n        \r\n        @Override\r\n        public void run() {\r\n            cleanupLock.lock();\r\n            while (running) {\r\n                System.out.println(&quot;running!&quot;);\r\n            }\r\n            cleanupLock.unlock();\r\n        }\r\n\r\n        private void cleanup() {\r\n            running = false;\r\n            cleanupLock.lock(); //wait for thread\r\n            System.out.println(&quot;cleanup!&quot;);\r\n        }\r\n\r\n        public Test() {\r\n             running = true;\r\n             cleanupLock = new ReentrantLock();\r\n             this.start();\r\n             cleanup();\r\n        }\r\n\r\n        public static void main(String argv[]) {\r\n            new Test();\r\n        }\r\n    }\r\n\r\nI wrote the code as above.\r\n\r\nThe result I expected was:\r\n\r\n&gt; running! (many times) &lt;br&gt;\r\n&gt; cleanup!\r\n\r\nbut when I ran it I got:\r\n\r\n&gt; running! (many times)\r\n\r\nand it didn&#39;t stop.\r\n\r\nSo, I added `System.out.println(running);` to the while statement.\r\n\r\nIt was printed as expected.\r\n\r\nWonder why this is happening.\r\nCurious how to fix it.\r\n","title":"java variable change not applied during synchronous processing","body":"<pre><code>import java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Test extends Thread {\n    private boolean running;\n    private Lock cleanupLock;\n    \n    @Override\n    public void run() {\n        cleanupLock.lock();\n        while (running) {\n            System.out.println(&quot;running!&quot;);\n        }\n        cleanupLock.unlock();\n    }\n\n    private void cleanup() {\n        running = false;\n        cleanupLock.lock(); //wait for thread\n        System.out.println(&quot;cleanup!&quot;);\n    }\n\n    public Test() {\n         running = true;\n         cleanupLock = new ReentrantLock();\n         this.start();\n         cleanup();\n    }\n\n    public static void main(String argv[]) {\n        new Test();\n    }\n}\n</code></pre>\n<p>I wrote the code as above.</p>\n<p>The result I expected was:</p>\n<blockquote>\n<p>running! (many times) <br>\ncleanup!</p>\n</blockquote>\n<p>but when I ran it I got:</p>\n<blockquote>\n<p>running! (many times)</p>\n</blockquote>\n<p>and it didn't stop.</p>\n<p>So, I added <code>System.out.println(running);</code> to the while statement.</p>\n<p>It was printed as expected.</p>\n<p>Wonder why this is happening.\nCurious how to fix it.</p>\n"},{"tags":["java","xml","xslt","saxon"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1665501471,"post_id":74030368,"comment_id":130712899,"body_markdown":"Please show us the minimal but complete XSLT as well, that produces that result.","body":"Please show us the minimal but complete XSLT as well, that produces that result."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1665511129,"post_id":74030368,"comment_id":130716250,"body_markdown":"Consider to add a minimal but complete stylesheet the produces the output you showed. I don&#39;t see how XSLT code doing two explicit `xsl:element`, one with e.g. `name=&quot;{MsgStr}message&quot;`, the other with e.g. `name=&quot;Tag1&quot;` can ever produce a result element named `Tag0`.","body":"Consider to add a minimal but complete stylesheet the produces the output you showed. I don&#39;t see how XSLT code doing two explicit <code>xsl:element</code>, one with e.g. <code>name=&quot;{MsgStr}message&quot;</code>, the other with e.g. <code>name=&quot;Tag1&quot;</code> can ever produce a result element named <code>Tag0</code>."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665509321,"creation_date":1665509321,"answer_id":74031945,"question_id":74030368,"body_markdown":"This is very strange behaviour, and it&#39;s not really possible to investigate it without a complete repro. Your example is clearly incomplete: the stylesheet contains undeclared variables, etc. I suspect a Saxon bug, if only a failure to detect and report something you are doing wrong. Please try to put together a repro (that is, everything needed for someone else to reproduce the effect) and post it at saxonica.plan.io.","title":"XML Parser skips end tag after Saxon upgrade from 10.6 to 11.3","body":"<p>This is very strange behaviour, and it's not really possible to investigate it without a complete repro. Your example is clearly incomplete: the stylesheet contains undeclared variables, etc. I suspect a Saxon bug, if only a failure to detect and report something you are doing wrong. Please try to put together a repro (that is, everything needed for someone else to reproduce the effect) and post it at saxonica.plan.io.</p>\n"}],"owner":{"account_id":26591487,"reputation":1,"user_id":20214642,"display_name":"Khyros12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665509321,"creation_date":1665501201,"question_id":74030368,"body_markdown":"I use xslt-saxon to transform xml file. XML parser works complitly fine on Saxon 10.6 but after upgrade to Saxon-HE 11.4 it skips closing tags and read another tags as input. It only occurs if there are only spaces in between tag. If there is any letters or nothing it works fine.\r\n\r\n    &lt;Tag0&gt;\r\n      &lt;Tag1&gt;sample1&lt;/Tag1&gt;\r\n      &lt;Tag2&gt;  &lt;/Tag2&gt;\r\n      &lt;Tag3&gt;sample2&lt;/Tag3&gt;\r\n    &lt;/Tag0&gt;\r\n\r\nends as\r\n\r\n    &lt;Tag0 Tag1=&quot;sample1&quot;\r\n    Tag2=&quot;   &amp;lt;Tag2&gt;&amp;#xa;  &amp;lt;Tag3&gt;sample2&amp;lt;/Tag2&gt;&amp;#xa;&quot;/&gt;\r\n\r\n\r\nxslt file looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsl:stylesheet \r\n        version=&quot;3.0&quot;\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; \r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n        xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot; \r\n        &gt;\r\n       \r\n    \t&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n    \t&lt;xsl:template match=&quot;/&quot;&gt;\r\n    \t\t&lt;xsl:element name=&quot;{MsgStr}message&quot; namespace=&quot;{$msgNamespace}&quot;&gt;\r\n    \t\t\t&lt;xsl:element name=&quot;Tag1&quot;  namespace=&quot;{$Namespace}&quot;&gt;\r\n    \t\t\t\t&lt;xsl:attribute name=&quot;Tag2&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag2&quot;/&gt;&lt;/xsl:attribute&gt;\r\n    \t\t\t\t&lt;xsl:attribute name=&quot;Tag3&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag3&quot;/&gt;&lt;/xsl:attribute&gt;\r\n    \t\t\t&lt;/xsl:element&gt;\r\n    \t\t&lt;/xsl:element&gt;\r\n    \t&lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nI tried put *:Tag2/text() but without any results. \r\n","title":"XML Parser skips end tag after Saxon upgrade from 10.6 to 11.3","body":"<p>I use xslt-saxon to transform xml file. XML parser works complitly fine on Saxon 10.6 but after upgrade to Saxon-HE 11.4 it skips closing tags and read another tags as input. It only occurs if there are only spaces in between tag. If there is any letters or nothing it works fine.</p>\n<pre><code>&lt;Tag0&gt;\n  &lt;Tag1&gt;sample1&lt;/Tag1&gt;\n  &lt;Tag2&gt;  &lt;/Tag2&gt;\n  &lt;Tag3&gt;sample2&lt;/Tag3&gt;\n&lt;/Tag0&gt;\n</code></pre>\n<p>ends as</p>\n<pre><code>&lt;Tag0 Tag1=&quot;sample1&quot;\nTag2=&quot;   &amp;lt;Tag2&gt;&amp;#xa;  &amp;lt;Tag3&gt;sample2&amp;lt;/Tag2&gt;&amp;#xa;&quot;/&gt;\n</code></pre>\n<p>xslt file looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet \n    version=&quot;3.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; \n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot; \n    &gt;\n   \n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:element name=&quot;{MsgStr}message&quot; namespace=&quot;{$msgNamespace}&quot;&gt;\n            &lt;xsl:element name=&quot;Tag1&quot;  namespace=&quot;{$Namespace}&quot;&gt;\n                &lt;xsl:attribute name=&quot;Tag2&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag2&quot;/&gt;&lt;/xsl:attribute&gt;\n                &lt;xsl:attribute name=&quot;Tag3&quot;&gt;&lt;xsl:value-of select=&quot;*:Tag3&quot;/&gt;&lt;/xsl:attribute&gt;\n            &lt;/xsl:element&gt;\n        &lt;/xsl:element&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>I tried put *:Tag2/text() but without any results.</p>\n"},{"tags":["java","gradle","build","build.gradle","maven-repository"],"answers":[{"comments":[{"owner":{"account_id":25909308,"reputation":3,"user_id":19633868,"display_name":"Tim Rehrmann"},"score":0,"creation_date":1659513030,"post_id":73216583,"comment_id":129309824,"body_markdown":"This seems like a workable solution, thank you!","body":"This seems like a workable solution, thank you!"}],"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665509280,"creation_date":1659504016,"answer_id":73216583,"question_id":73204036,"body_markdown":"Try this, add a flag like ```localRepo``` to your ```gradle.properties``` when you build locally, then you can use an ```if``` statement for your ```repositories``` block, see below as an example:\r\n```groovy\r\nrepositories {\r\n    mavenCentral()\r\n    if( project.hasProperty(&#39;localRepo&#39;) ) {\r\n        maven { url = uri(&quot;${project.getRootDir()}/local_repo&quot;) }\r\n    } else {\r\n        maven { url = uri(&lt;customer_repo&gt;) }\r\n    }\r\n}\r\n```\r\n\r\nThis ensures project is portable between systems","title":"How to substitute a locally unavailable repository in Gradle?","body":"<p>Try this, add a flag like <code>localRepo</code> to your <code>gradle.properties</code> when you build locally, then you can use an <code>if</code> statement for your <code>repositories</code> block, see below as an example:</p>\n<pre><code>repositories {\n    mavenCentral()\n    if( project.hasProperty('localRepo') ) {\n        maven { url = uri(&quot;${project.getRootDir()}/local_repo&quot;) }\n    } else {\n        maven { url = uri(&lt;customer_repo&gt;) }\n    }\n}\n</code></pre>\n<p>This ensures project is portable between systems</p>\n"}],"owner":{"account_id":25909308,"reputation":3,"user_id":19633868,"display_name":"Tim Rehrmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73216583,"answer_count":1,"score":0,"last_activity_date":1665509291,"creation_date":1659427776,"question_id":73204036,"body_markdown":"For a project I need to get a JAR from a repository that is only available on customers network. As this isn&#39;t available on public repositories and I locally don&#39;t have access to the customers network, I want to substitute this repository locally.\r\n\r\nI copied the jar into a local repository and declared it with:\r\n```\r\nmaven {\r\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\r\n}\r\n```\r\n\r\nThat works fine, however I want to keep the build files and logic the same regardless if I run it locally or on the customers system.\r\n\r\nAccording to [Gradle Docs][1] repositories get called in the order they are declared.\r\nSo according to this logic I first declare MavenCentral, then the customers repository (that is unavailable locally) and then my own local substitute repository:\r\n```\r\nmavenCentral()\r\nmaven {\r\n    url = uri(&lt;customer_repo&gt;)\r\n}\r\nmaven {\r\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\r\n}\r\n```\r\n\r\nBut it seems now gradle stops when it can&#39;t reach the unavailable repo and therefore doesn&#39;t find the JAR in the local repo.\r\nIf I turn around the local and the unavailable repo, it works again, but this way it always uses the local repo even on the customer system according to the gradle docs.\r\n\r\nIs there a way to tell gradle to keep looking at the other repos even if one is unavailable, or is there a different way to substitute an unavailable repo?\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:declaring_multiple_repositories","title":"How to substitute a locally unavailable repository in Gradle?","body":"<p>For a project I need to get a JAR from a repository that is only available on customers network. As this isn't available on public repositories and I locally don't have access to the customers network, I want to substitute this repository locally.</p>\n<p>I copied the jar into a local repository and declared it with:</p>\n<pre><code>maven {\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\n}\n</code></pre>\n<p>That works fine, however I want to keep the build files and logic the same regardless if I run it locally or on the customers system.</p>\n<p>According to <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:declaring_multiple_repositories\" rel=\"nofollow noreferrer\">Gradle Docs</a> repositories get called in the order they are declared.\nSo according to this logic I first declare MavenCentral, then the customers repository (that is unavailable locally) and then my own local substitute repository:</p>\n<pre><code>mavenCentral()\nmaven {\n    url = uri(&lt;customer_repo&gt;)\n}\nmaven {\n    url = uri(&quot;${project.getRootDir()}/local_repo&quot;)\n}\n</code></pre>\n<p>But it seems now gradle stops when it can't reach the unavailable repo and therefore doesn't find the JAR in the local repo.\nIf I turn around the local and the unavailable repo, it works again, but this way it always uses the local repo even on the customer system according to the gradle docs.</p>\n<p>Is there a way to tell gradle to keep looking at the other repos even if one is unavailable, or is there a different way to substitute an unavailable repo?</p>\n"},{"tags":["java","android","opencv","opencl","tensorflow-lite"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1652636789,"post_id":72250340,"comment_id":127648687,"body_markdown":"The [Infinix Hot 8 lite](https://www.gsmarena.com/infinix_hot_8_lite-9927.php) appears to be an Android Go edition phone which may not have all of the features of regular Android due to smaller amount of RAM. See: [Does Android support OpenCL?](https://stackoverflow.com/q/26795921/295004)","body":"The <a href=\"https://www.gsmarena.com/infinix_hot_8_lite-9927.php\" rel=\"nofollow noreferrer\">Infinix Hot 8 lite</a> appears to be an Android Go edition phone which may not have all of the features of regular Android due to smaller amount of RAM. See: <a href=\"https://stackoverflow.com/q/26795921/295004\">Does Android support OpenCL?</a>"}],"owner":{"account_id":25297100,"reputation":21,"user_id":19122054,"display_name":"HarisTrynnaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665509285,"creation_date":1652633650,"question_id":72250340,"body_markdown":"I am very new to Android ,I am making CV application which uses tensorflow lite &#39;GpuDelegate&#39;.\r\nit works perfectly fine on Redmi 8A cause device supported OpenCl while when i installed in  Infinix Hot 8 lite , it crashes with this error.\r\n\r\n&gt; java.lang.IllegalArgumentException: Internal error: Failed to apply\r\n&gt; delegate: Can not open OpenCL library on this device - dlopen failed:\r\n&gt; library &quot;libOpenCL.so&quot; not found\r\n&gt;     Falling back to OpenGL\r\n&gt;     TfLiteGpuDelegate Init: No EGL error, but eglChooseConfig failed.\r\n&gt;     TfLiteGpuDelegate Prepare: delegate is not initialized\r\n&gt;     Node number 69 (TfLiteGpuDelegateV2) failed to prepare.\r\n&gt;     Restored original execution plan after delegate application failure.\r\n\r\n\r\nI want to know , if there is any alternate of OpenCl or could i use this library in my app and not from the system files.\r\n\r\nmy Infinix mobile device has Oreo Android Version\r\n\r\nUsing Open CV 3.4.14 version\r\n","title":"How to use GpuDelegate in case of no OpenCL found in Android Device?","body":"<p>I am very new to Android ,I am making CV application which uses tensorflow lite 'GpuDelegate'.\nit works perfectly fine on Redmi 8A cause device supported OpenCl while when i installed in  Infinix Hot 8 lite , it crashes with this error.</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Internal error: Failed to apply\ndelegate: Can not open OpenCL library on this device - dlopen failed:\nlibrary &quot;libOpenCL.so&quot; not found\nFalling back to OpenGL\nTfLiteGpuDelegate Init: No EGL error, but eglChooseConfig failed.\nTfLiteGpuDelegate Prepare: delegate is not initialized\nNode number 69 (TfLiteGpuDelegateV2) failed to prepare.\nRestored original execution plan after delegate application failure.</p>\n</blockquote>\n<p>I want to know , if there is any alternate of OpenCl or could i use this library in my app and not from the system files.</p>\n<p>my Infinix mobile device has Oreo Android Version</p>\n<p>Using Open CV 3.4.14 version</p>\n"},{"tags":["java","spring","spring-boot","java-11","jooq"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":0,"creation_date":1665505657,"post_id":74030905,"comment_id":130714418,"body_markdown":"Can you add the pom xml / gradle build file?","body":"Can you add the pom xml / gradle build file?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1665506206,"post_id":74030905,"comment_id":130714601,"body_markdown":"You&#39;re probably using a commercial JDK 17 distribution of jOOQ? The build file would help figure this out...","body":"You&#39;re probably using a commercial JDK 17 distribution of jOOQ? The build file would help figure this out..."}],"answers":[{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1665523514,"post_id":74031871,"comment_id":130720002,"body_markdown":"OP was using jOOQ 3.16, though, at least that&#39;s what they claimed. The Java 17 baseline was implemented only in jOOQ 3.17","body":"OP was using jOOQ 3.16, though, at least that&#39;s what they claimed. The Java 17 baseline was implemented only in jOOQ 3.17"},{"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"score":0,"creation_date":1665541554,"post_id":74031871,"comment_id":130722709,"body_markdown":"Yes, but when you are using the open source edition it only supports the latest version. You can check that out on their website (For open source, Language support is Java 17 or newer). The jOOQ Open Source Edition supports the latest version from the commercial editions. Commercial editions support a variety of SQL dialect versions backwards compatibly.","body":"Yes, but when you are using the open source edition it only supports the latest version. You can check that out on their website (For open source, Language support is Java 17 or newer). The jOOQ Open Source Edition supports the latest version from the commercial editions. Commercial editions support a variety of SQL dialect versions backwards compatibly."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1665563926,"post_id":74031871,"comment_id":130727683,"body_markdown":"I know &quot;their&quot; website very well, for I made it ;-) What you&#39;re saying is true for the jOOQ 3.17 Open Source Edition, which requires Java 17 (and it may well be that OP is accidentally using that). But if they are indeed using jOOQ 3.16 as they claim, then perhaps, they just downloaded the wrong commercial distribution, namely the one that also requires Java 17...","body":"I know &quot;their&quot; website very well, for I made it ;-) What you&#39;re saying is true for the jOOQ 3.17 Open Source Edition, which requires Java 17 (and it may well be that OP is accidentally using that). But if they are indeed using jOOQ 3.16 as they claim, then perhaps, they just downloaded the wrong commercial distribution, namely the one that also requires Java 17..."},{"owner":{"account_id":8828017,"reputation":43,"user_id":6595600,"display_name":"user6595600"},"score":0,"creation_date":1666714698,"post_id":74031871,"comment_id":131000198,"body_markdown":"Thank you, it seemed that It was caused by IntelliJ&#39;s stale caching of dependencies","body":"Thank you, it seemed that It was caused by IntelliJ&#39;s stale caching of dependencies"}],"tags":[],"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665508828,"creation_date":1665508828,"answer_id":74031871,"question_id":74030905,"body_markdown":"The jOOQ Open Source Edition increased the baseline JDK version to Java 17\r\nhttps://github.com/jOOQ/jOOQ/issues/12430.\r\n\r\nThus your JOOQ is getting compiled by Java 17 while you have specified the java version for your application as 11. To solve this error you will probably have to upgrade java version from 11 to 17. \r\n\r\nBut if you are licenced you can still use java 11 and JOOQ by downloading the right distribution [here][1]\r\n\r\n\r\n  [1]: https://www.jooq.org/download/versions","title":"Jooq complains about Java Runtime class version in Spring Boot despite Java 11","body":"<p>The jOOQ Open Source Edition increased the baseline JDK version to Java 17\n<a href=\"https://github.com/jOOQ/jOOQ/issues/12430\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12430</a>.</p>\n<p>Thus your JOOQ is getting compiled by Java 17 while you have specified the java version for your application as 11. To solve this error you will probably have to upgrade java version from 11 to 17.</p>\n<p>But if you are licenced you can still use java 11 and JOOQ by downloading the right distribution <a href=\"https://www.jooq.org/download/versions\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":8828017,"reputation":43,"user_id":6595600,"display_name":"user6595600"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665508828,"creation_date":1665503628,"question_id":74030905,"body_markdown":"I have a SpringBoot project with Java 11(!), SpringBoot 2.6.7, JOOQ 3.16.6 and Postgres 42.3.3.\r\nWhen I run spring context in tests I get this:\r\n\r\n\r\n```\r\nERROR o.s.boot.SpringApplication - Application run failed java.lang.UnsupportedClassVersionError: org/jooq/DSLContext has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n```\r\n\r\nHow should I understand it? The Java version I use in my build is 11 which is the same version that JOOQ uses in its dependencies. Why then the compiler complains about version mismatch? 61.0 denotes Java 17 which is never used in my project.\r\n\r\n","title":"Jooq complains about Java Runtime class version in Spring Boot despite Java 11","body":"<p>I have a SpringBoot project with Java 11(!), SpringBoot 2.6.7, JOOQ 3.16.6 and Postgres 42.3.3.\nWhen I run spring context in tests I get this:</p>\n<pre><code>ERROR o.s.boot.SpringApplication - Application run failed java.lang.UnsupportedClassVersionError: org/jooq/DSLContext has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n</code></pre>\n<p>How should I understand it? The Java version I use in my build is 11 which is the same version that JOOQ uses in its dependencies. Why then the compiler complains about version mismatch? 61.0 denotes Java 17 which is never used in my project.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1665507432,"post_id":74031557,"comment_id":130715056,"body_markdown":"`sort` do not subtract anything, `sort` sorts. What about reading first https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator- ?","body":"<code>sort</code> do not subtract anything, <code>sort</code> sorts. What about reading first <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665507882,"creation_date":1665507882,"answer_id":74031702,"question_id":74031557,"body_markdown":"This is just a (perhaps) overly clever implementation of a comparator in Java.\r\n\r\nThe `Comparator` interface [says](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-) that `compare(p1, p2)` should return a negative number if `p1` should go before `p2`, zero if they should be treated as the same, and a positive number if `p1` should go after `p2`.\r\n\r\nSubtraction happens to do that!  If `p1.getAge()` is less than `p2.getAge()`, then `p2.getAge() - p1.getAge()` is a positive number, so `p1` will go after `p2` -- which is just another way of saying &quot;descending order of age.&quot;\r\n\r\nWriting the code this particular way is, however, not a great idea on several levels -- most notably that subtraction, while a cute trick, [doesn&#39;t work for all ints](https://stackoverflow.com/q/2728793/869736).  (You&#39;re technically fine for ages, which will always be nonnegative, but you shouldn&#39;t have to know that.)   Additionally, figuring out the correct ordering takes a few seconds for a reader of the code -- even one who knows all this.  (For you, it took a StackOverflow question.)\r\n\r\nA better version is\r\n\r\n```\r\nimport static java.util.Comparator.*;\r\n\r\npersonList.sort(comparingInt(Person::getAge).reversed());\r\n```","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>This is just a (perhaps) overly clever implementation of a comparator in Java.</p>\n<p>The <code>Comparator</code> interface <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">says</a> that <code>compare(p1, p2)</code> should return a negative number if <code>p1</code> should go before <code>p2</code>, zero if they should be treated as the same, and a positive number if <code>p1</code> should go after <code>p2</code>.</p>\n<p>Subtraction happens to do that!  If <code>p1.getAge()</code> is less than <code>p2.getAge()</code>, then <code>p2.getAge() - p1.getAge()</code> is a positive number, so <code>p1</code> will go after <code>p2</code> -- which is just another way of saying &quot;descending order of age.&quot;</p>\n<p>Writing the code this particular way is, however, not a great idea on several levels -- most notably that subtraction, while a cute trick, <a href=\"https://stackoverflow.com/q/2728793/869736\">doesn't work for all ints</a>.  (You're technically fine for ages, which will always be nonnegative, but you shouldn't have to know that.)   Additionally, figuring out the correct ordering takes a few seconds for a reader of the code -- even one who knows all this.  (For you, it took a StackOverflow question.)</p>\n<p>A better version is</p>\n<pre><code>import static java.util.Comparator.*;\n\npersonList.sort(comparingInt(Person::getAge).reversed());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665507966,"creation_date":1665507966,"answer_id":74031717,"question_id":74031557,"body_markdown":"Nothing&#39;s being subtracted.  [The Javadoc for `List#sort` is clear](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-); you&#39;re basically comparing two elements together to determine what rank they should be in.  This is specified by [the `Comparator` itself](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-) in that you have some numerical value that is less than zero, zero or greater than zero to determine order.\r\n\r\nIn your case, if p1&#39;s age was 30 and p2&#39;s age was 20, then you&#39;d sort with p1 coming in before p2 in descending order.\r\n\r\nThe mechanism of how it does it is...internal?  Depends on the kind of sort that someone wanted to implement for this, and I think it could change depending on what size the collection is, since different sorts work better in different cases (e.g. no one cares about bubble sort on a list of size two, but you&#39;d get into exotics with TimSort if you had a sufficiently large list).","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>Nothing's being subtracted.  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-\" rel=\"nofollow noreferrer\">The Javadoc for <code>List#sort</code> is clear</a>; you're basically comparing two elements together to determine what rank they should be in.  This is specified by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#compare-T-T-\" rel=\"nofollow noreferrer\">the <code>Comparator</code> itself</a> in that you have some numerical value that is less than zero, zero or greater than zero to determine order.</p>\n<p>In your case, if p1's age was 30 and p2's age was 20, then you'd sort with p1 coming in before p2 in descending order.</p>\n<p>The mechanism of how it does it is...internal?  Depends on the kind of sort that someone wanted to implement for this, and I think it could change depending on what size the collection is, since different sorts work better in different cases (e.g. no one cares about bubble sort on a list of size two, but you'd get into exotics with TimSort if you had a sufficiently large list).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665508797,"creation_date":1665508072,"answer_id":74031741,"question_id":74031557,"body_markdown":"A comparator works as follows.\r\n\r\n`compare(a,b)` returns a negative value if `a &lt; b`, a positive value if `a &gt; b`, and a `0` if `a == b`.  So by subtracting ages, you get the `-,+ and 0` effect.  In your case, you are sorting them in reverse order because the first parameter is subtracted from the second.\r\n\r\nHowever, that is a real bad way of doing it and can lead to problems for some number sets.  Here is a better way for a descending sort.\r\n\r\n```\r\nComparator&lt;Integer&gt; comp = (a,b)-&gt; a &lt; b ? 1 : a &gt; b ? -1 : 0;\r\n```\r\nThe above uses the ternary operator which says for `(a op b) ? r : s`, if `a op b` is true, return `r` else return `s` where `r and s` may be constants or expressions.\r\n\r\nIn some cases you can use the predefined comparators in the [Comparator](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html) interface javadoc.  In your case, that would be the `reversed()` comparator which reverses the natural order (ascending for integers) comparison.","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>A comparator works as follows.</p>\n<p><code>compare(a,b)</code> returns a negative value if <code>a &lt; b</code>, a positive value if <code>a &gt; b</code>, and a <code>0</code> if <code>a == b</code>.  So by subtracting ages, you get the <code>-,+ and 0</code> effect.  In your case, you are sorting them in reverse order because the first parameter is subtracted from the second.</p>\n<p>However, that is a real bad way of doing it and can lead to problems for some number sets.  Here is a better way for a descending sort.</p>\n<pre><code>Comparator&lt;Integer&gt; comp = (a,b)-&gt; a &lt; b ? 1 : a &gt; b ? -1 : 0;\n</code></pre>\n<p>The above uses the ternary operator which says for <code>(a op b) ? r : s</code>, if <code>a op b</code> is true, return <code>r</code> else return <code>s</code> where <code>r and s</code> may be constants or expressions.</p>\n<p>In some cases you can use the predefined comparators in the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> interface javadoc.  In your case, that would be the <code>reversed()</code> comparator which reverses the natural order (ascending for integers) comparison.</p>\n"}],"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1665511958,"accepted_answer_id":74031702,"answer_count":3,"score":-2,"last_activity_date":1665508797,"creation_date":1665507045,"question_id":74031557,"body_markdown":"I found the following code, which sorts the `personList` array by the `Person`&#39;s age in descending order.\r\n```java\r\npersonList.sort((Person p1, Person p2) -&gt; p2.getAge() - p1.getAge());\r\n```\r\nHowever, I&#39;m having trouble understanding how it works. It seems that the `sort()` function subtracts `p1` and `p2`&#39;s age but I don&#39;t get how that allows the function to return the sorted array.\r\n\r\nHow does `sort()` iterate over the array and uses the comparator for every object in that array?","title":"Understanding Java&#39;s List.sort() with a comparator","body":"<p>I found the following code, which sorts the <code>personList</code> array by the <code>Person</code>'s age in descending order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>personList.sort((Person p1, Person p2) -&gt; p2.getAge() - p1.getAge());\n</code></pre>\n<p>However, I'm having trouble understanding how it works. It seems that the <code>sort()</code> function subtracts <code>p1</code> and <code>p2</code>'s age but I don't get how that allows the function to return the sorted array.</p>\n<p>How does <code>sort()</code> iterate over the array and uses the comparator for every object in that array?</p>\n"},{"tags":["java","max"],"comments":[{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1392090471,"post_id":21692659,"comment_id":32796236,"body_markdown":"if you want to return `index` only, simply change `largest = array[i]; ` to `largest = i;`","body":"if you want to return <code>index</code> only, simply change <code>largest = array[i]; </code> to <code>largest = i;</code>"},{"owner":{"account_id":2574793,"reputation":8017,"user_id":2232744,"accept_rate":72,"display_name":"Jordan.J.D"},"score":0,"creation_date":1392090480,"post_id":21692659,"comment_id":32796241,"body_markdown":"Relevent: http://stackoverflow.com/questions/1522108/how-to-find-the-index-of-an-element-in-an-array-in-java","body":"Relevent: <a href=\"http://stackoverflow.com/questions/1522108/how-to-find-the-index-of-an-element-in-an-array-in-java\" title=\"how to find the index of an element in an array in java\">stackoverflow.com/questions/1522108/&hellip;</a>"},{"owner":{"account_id":2974287,"reputation":1100,"user_id":2525706,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1392090693,"post_id":21692659,"comment_id":32796303,"body_markdown":"Be careful with your wording.  What you asked is NOT what the problem statement you pasted says.","body":"Be careful with your wording.  What you asked is NOT what the problem statement you pasted says."},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1392090787,"post_id":21692659,"comment_id":32796339,"body_markdown":"@RhinoFeeder an example of [XyProblem](http://mywiki.wooledge.org/XyProblem)","body":"@RhinoFeeder an example of <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XyProblem</a>"},{"owner":{"account_id":3688762,"reputation":15,"user_id":3071909,"accept_rate":25,"display_name":"user3071909"},"score":0,"creation_date":1392090811,"post_id":21692659,"comment_id":32796342,"body_markdown":"@RhinoFeeder How is it not?","body":"@RhinoFeeder How is it not?"},{"owner":{"account_id":2974287,"reputation":1100,"user_id":2525706,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1392090853,"post_id":21692659,"comment_id":32796359,"body_markdown":"You are telling us you want the highest array index (array.length-1).  But what you actually want is the index containing the highest value.  They are two different hings.","body":"You are telling us you want the highest array index (array.length-1).  But what you actually want is the index containing the highest value.  They are two different hings."}],"answers":[{"tags":[],"owner":{"account_id":481839,"reputation":13673,"user_id":895876,"accept_rate":49,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392090385,"creation_date":1392090385,"answer_id":21692688,"question_id":21692659,"body_markdown":"You need to keep and store the largest index. Try this:\r\n\r\n    public static int findLargest(int array[])\r\n    {\r\n        int largest = array[0];\r\n        int largestIndex = 0;\r\n    \r\n        for(int i = 0; i &lt; array.length; i++)\r\n        {\r\n            if(array[i] &gt; largest) {\r\n                largest = array[i]; \r\n                largestIndex =i;\r\n            }  \r\n        }\r\n    \r\n        return largestIndex;\r\n    }","title":"Java arrays returning highest array index","body":"<p>You need to keep and store the largest index. Try this:</p>\n\n<pre><code>public static int findLargest(int array[])\n{\n    int largest = array[0];\n    int largestIndex = 0;\n\n    for(int i = 0; i &lt; array.length; i++)\n    {\n        if(array[i] &gt; largest) {\n            largest = array[i]; \n            largestIndex =i;\n        }  \n    }\n\n    return largestIndex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3218502,"reputation":433,"user_id":2716485,"display_name":"Arbiter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392090547,"creation_date":1392090547,"answer_id":21692718,"question_id":21692659,"body_markdown":"Create a `for` loop at the end of the method, and a variable like `index`. Search through the list and find if the variable matches, remembering to increment the `index` variable every time.\r\n\r\nExample:\r\n\r\n    int index = 0;\r\n    for (int i : array)\r\n    {\r\n        if (i == largest)\r\n        {\r\n             break;\r\n        }\r\n        index++;\r\n    }\r\n    return index;","title":"Java arrays returning highest array index","body":"<p>Create a <code>for</code> loop at the end of the method, and a variable like <code>index</code>. Search through the list and find if the variable matches, remembering to increment the <code>index</code> variable every time.</p>\n\n<p>Example:</p>\n\n<pre><code>int index = 0;\nfor (int i : array)\n{\n    if (i == largest)\n    {\n         break;\n    }\n    index++;\n}\nreturn index;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3982537,"reputation":6447,"user_id":3284114,"accept_rate":100,"display_name":"msmolcic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392090736,"creation_date":1392090736,"answer_id":21692743,"question_id":21692659,"body_markdown":"You can add aditional method that gets largest number and an array then search for index of that number:\r\n\r\n    public class LargestInteger \r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int[] largeArray = {5,4,13,7,7,8,9,10,5};\r\n\r\n            System.out.println(indexOfLargest(largeArray, findLargest(largeArray)));\r\n        }\r\n\r\n        public static int findLargest(int array[])\r\n        {\r\n            int largest = array[0];\r\n\r\n            for(int i = 0; i &lt; array.length; i++)\r\n            {\r\n                if(array[i] &gt; largest)\r\n                    largest = array[i];   \r\n            }\r\n\r\n            return largest;\r\n        }\r\n\r\n        public static int indexOfLargest(int array[], int number)\r\n        {\r\n\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i] == number)\r\n                    return i;            \r\n            }\r\n\r\n            return -1;\r\n        }\r\n\r\n    }","title":"Java arrays returning highest array index","body":"<p>You can add aditional method that gets largest number and an array then search for index of that number:</p>\n\n<pre><code>public class LargestInteger \n{\n    public static void main(String[] args)\n    {\n        int[] largeArray = {5,4,13,7,7,8,9,10,5};\n\n        System.out.println(indexOfLargest(largeArray, findLargest(largeArray)));\n    }\n\n    public static int findLargest(int array[])\n    {\n        int largest = array[0];\n\n        for(int i = 0; i &lt; array.length; i++)\n        {\n            if(array[i] &gt; largest)\n                largest = array[i];   \n        }\n\n        return largest;\n    }\n\n    public static int indexOfLargest(int array[], int number)\n    {\n\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == number)\n                return i;            \n        }\n\n        return -1;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392091492,"creation_date":1392091492,"answer_id":21692882,"question_id":21692659,"body_markdown":"Can also done with,\r\n\r\n    int[] largeArray     = {5,4,13,7,7,8,9,10,5};\r\n    int   largestElement = findLargest(largeArray);\r\n    int   index          = Arrays.asList(5,4,13,7,7,8,9,10,5).indexOf(largestElement);","title":"Java arrays returning highest array index","body":"<p>Can also done with,</p>\n\n<pre><code>int[] largeArray     = {5,4,13,7,7,8,9,10,5};\nint   largestElement = findLargest(largeArray);\nint   index          = Arrays.asList(5,4,13,7,7,8,9,10,5).indexOf(largestElement);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4292878,"reputation":1554,"user_id":3508752,"accept_rate":76,"display_name":"max_max_mir"},"score":6,"creation_date":1485538389,"post_id":23748009,"comment_id":70981838,"body_markdown":"The OPs question was to find the index, not the max value (although the code posted by the OP is incorrect).","body":"The OPs question was to find the index, not the max value (although the code posted by the OP is incorrect)."}],"tags":[],"owner":{"account_id":1304932,"reputation":2021,"user_id":1254091,"display_name":"Gabriel"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1400538035,"creation_date":1400537366,"answer_id":23748009,"question_id":21692659,"body_markdown":"In java 8 you can do it simply:\r\n\r\nTo get the highest:\r\n\r\n    int[] largeArray = {5,4,13,7,7,8,9,10,5};\r\n    System.out.println(IntStream.of(largeArray).max().getAsInt());\r\n\r\n&gt; result: 13\r\n\r\nAnd to sum them:\r\n\r\n    System.out.println(IntStream.of(largeArray).sum());\r\n\r\n&gt; result: 68\r\n\r\n","title":"Java arrays returning highest array index","body":"<p>In java 8 you can do it simply:</p>\n\n<p>To get the highest:</p>\n\n<pre><code>int[] largeArray = {5,4,13,7,7,8,9,10,5};\nSystem.out.println(IntStream.of(largeArray).max().getAsInt());\n</code></pre>\n\n<blockquote>\n  <p>result: 13</p>\n</blockquote>\n\n<p>And to sum them:</p>\n\n<pre><code>System.out.println(IntStream.of(largeArray).sum());\n</code></pre>\n\n<blockquote>\n  <p>result: 68</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15568326,"reputation":151,"user_id":11231454,"display_name":"ccyid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665508327,"creation_date":1665508327,"answer_id":74031788,"question_id":21692659,"body_markdown":"Just thought we need a simple answer in the era of stream interface. If your array is `int[] a`, you can get **argmax** (the index of the largest value) with the following code:\r\n\r\n    IntStream.range(0, a.length).boxed().max(Comparator.comparing(i-&gt;a[i])).get();\r\n\r\nIf you want **argmin**, just change `max()` to `min()`. Because it compares elements in their natural order, any array with comparable elements will do, like `double[]` or `long[]`.","title":"Java arrays returning highest array index","body":"<p>Just thought we need a simple answer in the era of stream interface. If your array is <code>int[] a</code>, you can get <strong>argmax</strong> (the index of the largest value) with the following code:</p>\n<pre><code>IntStream.range(0, a.length).boxed().max(Comparator.comparing(i-&gt;a[i])).get();\n</code></pre>\n<p>If you want <strong>argmin</strong>, just change <code>max()</code> to <code>min()</code>. Because it compares elements in their natural order, any array with comparable elements will do, like <code>double[]</code> or <code>long[]</code>.</p>\n"}],"owner":{"account_id":3688762,"reputation":15,"user_id":3071909,"accept_rate":25,"display_name":"user3071909"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1665508327,"creation_date":1392090226,"question_id":21692659,"body_markdown":"I am supposed to write a program that finds the largest index in an unsorted array of integers.\r\n\r\n&gt; Use a method that takes an array of integers as a parameter. The method should search the array and return the index of the largest value.\r\n\r\nSo i wrote a program that returns the highest value, for example it returns 13 as the highest number instead of the index of 2. So how would i return the index instead of the highest number itself? If that is an easy fix, does the rest of my code look correct? Thanks!\r\n\r\n    public class LargestInteger \r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int[] largeArray = {5,4,13,7,7,8,9,10,5};\r\n            \r\n            System.out.println(findLargest(largeArray));\r\n        }\r\n        \r\n        public static int findLargest(int array[])\r\n        {\r\n            int largest = array[0];\r\n        \r\n            for(int i = 0; i &lt; array.length; i++)\r\n            {\r\n                if(array[i] &gt; largest)\r\n                    largest = array[i];   \r\n            }\r\n    \r\n            return largest;\r\n        }\r\n    }\r\n\r\n","title":"Java arrays returning highest array index","body":"<p>I am supposed to write a program that finds the largest index in an unsorted array of integers.</p>\n\n<blockquote>\n  <p>Use a method that takes an array of integers as a parameter. The method should search the array and return the index of the largest value.</p>\n</blockquote>\n\n<p>So i wrote a program that returns the highest value, for example it returns 13 as the highest number instead of the index of 2. So how would i return the index instead of the highest number itself? If that is an easy fix, does the rest of my code look correct? Thanks!</p>\n\n<pre><code>public class LargestInteger \n{\n    public static void main(String[] args)\n    {\n        int[] largeArray = {5,4,13,7,7,8,9,10,5};\n\n        System.out.println(findLargest(largeArray));\n    }\n\n    public static int findLargest(int array[])\n    {\n        int largest = array[0];\n\n        for(int i = 0; i &lt; array.length; i++)\n        {\n            if(array[i] &gt; largest)\n                largest = array[i];   \n        }\n\n        return largest;\n    }\n}\n</code></pre>\n"},{"tags":["java","python-3.x"],"comments":[{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1665509433,"post_id":74031536,"comment_id":130715661,"body_markdown":"You can basically write the exactly equivalent loop in Java (and I think it will have better performance anyway)","body":"You can basically write the exactly equivalent loop in Java (and I think it will have better performance anyway)"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665508267,"creation_date":1665508267,"answer_id":74031777,"question_id":74031536,"body_markdown":"A even simpler way is to just use a normal HashMap without any collectors.\r\n\r\nYou can relate this more with your Python code.\r\n\r\n```java\r\npublic static void main(String args[]){\r\n        List&lt;Integer&gt; list = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\r\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (final int item : list) {\r\n           map.put(item, map.getOrDefault(item, 0) + 1);\r\n        }\r\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; &quot; + v));\r\n    }\r\n```","title":"Comparing complexity of counting frequency of each integer in a list","body":"<p>A even simpler way is to just use a normal HashMap without any collectors.</p>\n<p>You can relate this more with your Python code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]){\n        List&lt;Integer&gt; list = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\n        Map&lt;Integer,Integer&gt; map = new HashMap&lt;&gt;();\n        for (final int item : list) {\n           map.put(item, map.getOrDefault(item, 0) + 1);\n        }\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; &quot; + v));\n    }\n</code></pre>\n"}],"owner":{"account_id":25489317,"reputation":259,"user_id":19284394,"display_name":"nicku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665508267,"creation_date":1665506957,"question_id":74031536,"body_markdown":"To count the frequency of each Integer in a list the Java-8 code using streams is:  \r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String args[]){\r\n            List&lt;Integer&gt; lst = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\r\n            Map&lt;Integer,Integer&gt; map = lst.stream()\r\n                    .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\r\n            for(Integer key: map.keySet())\r\n                System.out.println(key+&quot; : &quot;+map.get(key));\r\n        }\r\n    }  \r\nThe above also includes the import statements though.  \r\nNow compare it with python code:  \r\n\r\n    x=[1,1,1,2,2,3,3,3,4,4,5]  \r\n    for elem in x:  \r\n         d[elem]=d.get(elem,0)+1  \r\nThis is insane if one compares the complexity. Python is too concise. I am not sure if there is a simpler way to do it in java. It seems making a simple Map and looping over will be a much cleaner approach than using streams for this purpose. And probably the groupingBy functions are for more complex things. ","title":"Comparing complexity of counting frequency of each integer in a list","body":"<p>To count the frequency of each Integer in a list the Java-8 code using streams is:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public static void main(String args[]){\n        List&lt;Integer&gt; lst = Arrays.asList(1,1,2,2,3,3,3,4,4,5);\n        Map&lt;Integer,Integer&gt; map = lst.stream()\n                .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\n        for(Integer key: map.keySet())\n            System.out.println(key+&quot; : &quot;+map.get(key));\n    }\n}  \n</code></pre>\n<p>The above also includes the import statements though.<br />\nNow compare it with python code:</p>\n<pre><code>x=[1,1,1,2,2,3,3,3,4,4,5]  \nfor elem in x:  \n     d[elem]=d.get(elem,0)+1  \n</code></pre>\n<p>This is insane if one compares the complexity. Python is too concise. I am not sure if there is a simpler way to do it in java. It seems making a simple Map and looping over will be a much cleaner approach than using streams for this purpose. And probably the groupingBy functions are for more complex things.</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","jsp"],"comments":[{"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"score":0,"creation_date":1665377361,"post_id":74007433,"comment_id":130677465,"body_markdown":"can you share your pom.xml maybe you haven,t inserted tomcat dependency","body":"can you share your pom.xml maybe you haven,t inserted tomcat dependency"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665426351,"post_id":74007433,"comment_id":130693032,"body_markdown":"Here is the link to pom.xml file - https://drive.google.com/file/d/1PR5KdySp132cLhCaopUHBRlmwoArDISq/view?usp=sharing","body":"Here is the link to pom.xml file - <a href=\"https://drive.google.com/file/d/1PR5KdySp132cLhCaopUHBRlmwoArDISq/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1PR5KdySp132cLhCaopUHBRlmwoArDISq/&hellip;</a>"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665426458,"post_id":74007433,"comment_id":130693056,"body_markdown":"This is what I am getting on frontend - https://drive.google.com/file/d/1iqfHCKKkgFl4LSfz_CVIOVRoQiE2v3XW/view?usp=sharing","body":"This is what I am getting on frontend - <a href=\"https://drive.google.com/file/d/1iqfHCKKkgFl4LSfz_CVIOVRoQiE2v3XW/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1iqfHCKKkgFl4LSfz_CVIOVRoQiE2v3XW/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665417530,"post_id":74010453,"comment_id":130690124,"body_markdown":"I added the dependency but it didn&#39;t worked.","body":"I added the dependency but it didn&#39;t worked."},{"owner":{"account_id":12191969,"reputation":724,"user_id":8899106,"display_name":"Portevent"},"score":0,"creation_date":1665691809,"post_id":74010453,"comment_id":130764668,"body_markdown":"Explainations on why this dependency work / is better would help understand the anwser","body":"Explainations on why this dependency work / is better would help understand the anwser"}],"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665378891,"creation_date":1665378891,"answer_id":74010453,"question_id":74007433,"body_markdown":"```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\ntry adding jasper dependency","title":"Not able to show ToDo list in JSP","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>try adding jasper dependency</p>\n"},{"comments":[{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665416854,"post_id":74012263,"comment_id":130689884,"body_markdown":"I added the dependency in the pom.xml file and also did the change in the JSP file but nothing happened.","body":"I added the dependency in the pom.xml file and also did the change in the JSP file but nothing happened."},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665419027,"post_id":74012263,"comment_id":130690645,"body_markdown":"try to use Model instead of ModelMap in HomeController and use m.addAttribute instead of put","body":"try to use Model instead of ModelMap in HomeController and use m.addAttribute instead of put"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665419534,"post_id":74012263,"comment_id":130690816,"body_markdown":"Tried Model instead of ModelMap. No change in result. I am not getting it why it is happening.","body":"Tried Model instead of ModelMap. No change in result. I am not getting it why it is happening."},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665461312,"post_id":74012263,"comment_id":130699664,"body_markdown":"Have you created the Object of repository in Home Controller?","body":"Have you created the Object of repository in Home Controller?"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665461601,"post_id":74012263,"comment_id":130699706,"body_markdown":"can you send you full jsp file and home Controller code?","body":"can you send you full jsp file and home Controller code?"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665462100,"post_id":74012263,"comment_id":130699778,"body_markdown":"&lt;td&gt;${todo.getDescription()}&lt;/td&gt;\n                            &lt;td&gt;&lt;fmt:formatDate value=${todo.gettoDoDate()} pattern=&quot;dd/MM/yyyy&quot; /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-success&quot; href=&quot;/update-todo?id=${todo.getId()}&quot;&gt;Update&lt;/a&gt;\n                            &lt;a type=&quot;button&quot; class=&quot;btn btn-warning&quot; href=&quot;/delete-todo?id=${todo.getId()}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;","body":"&lt;td&gt;${todo.getDescription()}&lt;/td&gt;                             &lt;td&gt;&lt;fmt:formatDate value=${todo.gettoDoDate()} pattern=&quot;dd/MM/yyyy&quot; /&gt;&lt;/td&gt;                             &lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-success&quot; href=&quot;/update-todo?id=${todo.getId()}&quot;&gt;Update&lt;/a&gt;                             &lt;a type=&quot;button&quot; class=&quot;btn btn-warning&quot; href=&quot;/delete-todo?id=${todo.getId()}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665462151,"post_id":74012263,"comment_id":130699787,"body_markdown":"try this way i think this will help because you have used getters and setters","body":"try this way i think this will help because you have used getters and setters"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665508041,"post_id":74012263,"comment_id":130715240,"body_markdown":"No sir it didn&#39;t worked","body":"No sir it didn&#39;t worked"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665508268,"post_id":74012263,"comment_id":130715303,"body_markdown":"I edited my post and added whole file. Please have a look. @Janil101","body":"I edited my post and added whole file. Please have a look. @Janil101"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665508474,"post_id":74012263,"comment_id":130715364,"body_markdown":"add this taglib line in your jsp file at top &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;","body":"add this taglib line in your jsp file at top &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;<a href=\"http://java.sun.com/jsp/jstl/core&quot;%\" rel=\"nofollow noreferrer\">java.sun.com/jsp/jstl/core&quot;%</a>&gt;"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665509390,"post_id":74012263,"comment_id":130715649,"body_markdown":"What is this code &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;java.sun.com/jsp/jstl/core&quot;%&gt; being used for?\nAnd in jsp what do I use? Your code or old code?","body":"What is this code &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;java.sun.com/jsp/jstl/core&quot;%&gt; being used for? And in jsp what do I use? Your code or old code?"},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665509461,"post_id":74012263,"comment_id":130715671,"body_markdown":"this is a taglib which we use in jsp to run java code like for loop and all","body":"this is a taglib which we use in jsp to run java code like for loop and all"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665515000,"post_id":74012263,"comment_id":130717555,"body_markdown":"I changed the code and it is working now. I am getting target date and description in frontend. Thank you very much for your help.","body":"I changed the code and it is working now. I am getting target date and description in frontend. Thank you very much for your help."},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665515884,"post_id":74012263,"comment_id":130717781,"body_markdown":"If my code has worked give a tick I need one","body":"If my code has worked give a tick I need one"},{"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"score":0,"creation_date":1665590563,"post_id":74012263,"comment_id":130738211,"body_markdown":"Please update your answer, so that others must know what worked for this problem. I am upvoting it.\nAgain, thanks for the help.","body":"Please update your answer, so that others must know what worked for this problem. I am upvoting it. Again, thanks for the help."},{"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"score":0,"creation_date":1665590811,"post_id":74012263,"comment_id":130738295,"body_markdown":"okay I will update my code","body":"okay I will update my code"}],"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"comment_count":16,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665462218,"creation_date":1665391455,"answer_id":74012263,"question_id":74007433,"body_markdown":"Add the jasper Dependency\r\n ``` \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand change the td tags like this \r\n&lt;td&gt;${todo.getDescription()}&lt;/td&gt;","title":"Not able to show ToDo list in JSP","body":"<p>Add the jasper Dependency</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n   &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and change the td tags like this</p>\n${todo.getDescription()}\n"}],"owner":{"account_id":15696711,"reputation":3,"user_id":11326016,"display_name":"MUKUL SHARMA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74012263,"answer_count":2,"score":0,"last_activity_date":1665508221,"creation_date":1665340039,"question_id":74007433,"body_markdown":"I am new to spring boot and trying to create a simple ToDo Application using spring boot and JSP. I am trying to show the list of todo&#39;s in my JSP but it is not reflecting. I tried all the ways whereas on putting breakpoint in IntelliJ idea, I am able to see the list of todo&#39;s in my repo.\r\n\r\n```\r\nToDoView.jsp\r\n\r\n &lt;%@ include file=&quot;header.jsp&quot;%&gt;\r\n&lt;%@ include file=&quot;navigation.jsp&quot;%&gt;\r\n\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;a type=&quot;button&quot; class=&quot;btn btn-primary btn-md&quot; href=&quot;/add-todo&quot;&gt;Add Todo&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;br&gt;\r\n    &lt;div class=&quot;panel panel-primary&quot;&gt;\r\n        &lt;div class=&quot;panel-heading&quot;&gt;\r\n            &lt;h3&gt;List of TODO&#39;s&lt;/h3&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;panel-body&quot;&gt;\r\n            &lt;table class=&quot;table table-striped&quot;&gt;\r\n                &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th width=&quot;40%&quot;&gt;Description&lt;/th&gt;\r\n                        &lt;th width=&quot;40%&quot;&gt;Target Date&lt;/th&gt;\r\n                        &lt;th width=&quot;20%&quot;&gt;&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                ${todolist}\r\n                    &lt;c:forEach items=&quot;${todolist}&quot; var=&quot;todo&quot;&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;${todo.description}&lt;/td&gt;\r\n                            &lt;td&gt;${todo.getDescription()}&lt;/td&gt; &lt;td&gt;&lt;fmt:formatDate value=${todo.getToDoDate()} pattern=&quot;dd/MM/yyyy&quot; /&gt;&lt;/td&gt;\r\n                            &lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-success&quot; href=&quot;/update-todo?id=${todo.getId()}&quot;&gt;Update&lt;/a&gt;\r\n                             &lt;a type=&quot;button&quot; class=&quot;btn btn-warning&quot; href=&quot;/delete-todo?id=${todo.getId()}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                    &lt;/c:forEach&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;%@ include file=&quot;footer.jsp&quot;%&gt;\r\n```\r\n\r\n```\r\nHomeController.java\r\n\r\npackage com.toDoApp.ToDoApp;\r\n\r\n@Controller\r\npublic class HomeController\r\n{\r\n    @Autowired\r\n    ToDoRepo repo;\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public static String home()\r\n    {\r\n        return &quot;Home&quot;;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/list-todos&quot;, produces = {&quot;application/json&quot;})\r\n    public String toDoView(Model m)\r\n    {\r\n        m.addAttribute(&quot;todolist&quot;, repo.findAll());\r\n\r\n        return &quot;ToDoView&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nToDoRepo.java\r\n\r\npublic interface ToDoRepo extends JpaRepository&lt;ToDoList, Integer&gt;\r\n{\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\nToDoList.java\r\n\r\npackage com.toDoApp.ToDoApp;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Date;\r\n\r\n@Entity\r\npublic class ToDoList\r\n{\r\n    @Id\r\n    private int id;\r\n    private String description;\r\n    private Date toDoDate;\r\n\r\n    public ToDoList()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public ToDoList(String description, Date toDoDate)\r\n    {\r\n        super();\r\n        this.description = description;\r\n        this.toDoDate = toDoDate;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Date getToDoDate() {\r\n        return toDoDate;\r\n    }\r\n\r\n    public void setToDoDate(Date toDoDate) {\r\n        this.toDoDate = toDoDate;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried all other ways but didn&#39;t able to find anything. Please help me out.\r\n\r\nThank You\r\n\r\n","title":"Not able to show ToDo list in JSP","body":"<p>I am new to spring boot and trying to create a simple ToDo Application using spring boot and JSP. I am trying to show the list of todo's in my JSP but it is not reflecting. I tried all the ways whereas on putting breakpoint in IntelliJ idea, I am able to see the list of todo's in my repo.</p>\n<pre><code>ToDoView.jsp\n\n &lt;%@ include file=&quot;header.jsp&quot;%&gt;\n&lt;%@ include file=&quot;navigation.jsp&quot;%&gt;\n\n&lt;div class=&quot;container&quot;&gt;\n    &lt;div&gt;\n        &lt;a type=&quot;button&quot; class=&quot;btn btn-primary btn-md&quot; href=&quot;/add-todo&quot;&gt;Add Todo&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;br&gt;\n    &lt;div class=&quot;panel panel-primary&quot;&gt;\n        &lt;div class=&quot;panel-heading&quot;&gt;\n            &lt;h3&gt;List of TODO's&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;panel-body&quot;&gt;\n            &lt;table class=&quot;table table-striped&quot;&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th width=&quot;40%&quot;&gt;Description&lt;/th&gt;\n                        &lt;th width=&quot;40%&quot;&gt;Target Date&lt;/th&gt;\n                        &lt;th width=&quot;20%&quot;&gt;&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                ${todolist}\n                    &lt;c:forEach items=&quot;${todolist}&quot; var=&quot;todo&quot;&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;${todo.description}&lt;/td&gt;\n                            &lt;td&gt;${todo.getDescription()}&lt;/td&gt; &lt;td&gt;&lt;fmt:formatDate value=${todo.getToDoDate()} pattern=&quot;dd/MM/yyyy&quot; /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;a type=&quot;button&quot; class=&quot;btn btn-success&quot; href=&quot;/update-todo?id=${todo.getId()}&quot;&gt;Update&lt;/a&gt;\n                             &lt;a type=&quot;button&quot; class=&quot;btn btn-warning&quot; href=&quot;/delete-todo?id=${todo.getId()}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    &lt;/c:forEach&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;%@ include file=&quot;footer.jsp&quot;%&gt;\n</code></pre>\n<pre><code>HomeController.java\n\npackage com.toDoApp.ToDoApp;\n\n@Controller\npublic class HomeController\n{\n    @Autowired\n    ToDoRepo repo;\n\n    @RequestMapping(&quot;/&quot;)\n    public static String home()\n    {\n        return &quot;Home&quot;;\n    }\n\n    @GetMapping(path = &quot;/list-todos&quot;, produces = {&quot;application/json&quot;})\n    public String toDoView(Model m)\n    {\n        m.addAttribute(&quot;todolist&quot;, repo.findAll());\n\n        return &quot;ToDoView&quot;;\n    }\n}\n</code></pre>\n<pre><code>ToDoRepo.java\n\npublic interface ToDoRepo extends JpaRepository&lt;ToDoList, Integer&gt;\n{\n\n}\n\n</code></pre>\n<pre><code>ToDoList.java\n\npackage com.toDoApp.ToDoApp;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Entity\npublic class ToDoList\n{\n    @Id\n    private int id;\n    private String description;\n    private Date toDoDate;\n\n    public ToDoList()\n    {\n        super();\n    }\n\n    public ToDoList(String description, Date toDoDate)\n    {\n        super();\n        this.description = description;\n        this.toDoDate = toDoDate;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Date getToDoDate() {\n        return toDoDate;\n    }\n\n    public void setToDoDate(Date toDoDate) {\n        this.toDoDate = toDoDate;\n    }\n}\n\n</code></pre>\n<p>I tried all other ways but didn't able to find anything. Please help me out.</p>\n<p>Thank You</p>\n"},{"tags":["java","datetime-format"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665503853,"post_id":74030914,"comment_id":130713806,"body_markdown":"Stop using outdated `SimpleDateFormat` and `java.util.Date` use more modern `java.time`API","body":"Stop using outdated <code>SimpleDateFormat</code> and <code>java.util.Date</code> use more modern <code>java.time</code>API"},{"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"score":0,"creation_date":1665504015,"post_id":74030914,"comment_id":130713870,"body_markdown":"ok, i&#39;ll take a look at that package. But can you demonstrate the use of this package?","body":"ok, i&#39;ll take a look at that package. But can you demonstrate the use of this package?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665504041,"post_id":74030914,"comment_id":130713877,"body_markdown":"Google will show you so much tutorials","body":"Google will show you so much tutorials"},{"owner":{"account_id":893570,"reputation":12305,"user_id":931379,"display_name":"Pursuit"},"score":0,"creation_date":1665504116,"post_id":74030914,"comment_id":130713917,"body_markdown":"Its converting time zones. It looks like you are working in a GMT-5 timezone. Maybe east coast?","body":"Its converting time zones. It looks like you are working in a GMT-5 timezone. Maybe east coast?"},{"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"score":1,"creation_date":1665504329,"post_id":74030914,"comment_id":130713993,"body_markdown":"I was browsing on google, I found the solution!! `sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));`","body":"I was browsing on google, I found the solution!! <code>sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665507898,"post_id":74030914,"comment_id":130715200,"body_markdown":"@megaultron Much easier to use *java.time*. Avoid the legacy date-time classes like the plague &#129440;.","body":"@megaultron Much easier to use <i>java.time</i>. Avoid the legacy date-time classes like the plague 🦠."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665506661,"post_id":74031128,"comment_id":130714766,"body_markdown":"You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"tags":[],"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665504689,"creation_date":1665504689,"answer_id":74031128,"question_id":74030914,"body_markdown":"The solution is to set the `setTimeZone` zone in the `SimpleDateFormat`. So I can do the conversion later with `format`.\r\n\r\n    sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\nfull code\r\n\r\n    Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\r\n    SimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    String f = sdf1.format(d);\r\n    System.out.println(f);","title":"How to convert datetime from GMT format to yyyy-MM-dd HH:mm:ss?","body":"<p>The solution is to set the <code>setTimeZone</code> zone in the <code>SimpleDateFormat</code>. So I can do the conversion later with <code>format</code>.</p>\n<pre><code>sdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n</code></pre>\n<p>full code</p>\n<pre><code>Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\nSimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nsdf1.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\nString f = sdf1.format(d);\nSystem.out.println(f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665507740,"creation_date":1665507013,"answer_id":74031549,"question_id":74030914,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime\r\n    .parse( \r\n        &quot;Tue, 11 Oct 2022 15:59:46 GMT&quot; , \r\n        DateTimeFormatter.RFC_1123_DATE_TIME \r\n    )\r\n    .format (\r\n        DateTimeFormatter.ISO_LOCAL_DATE_TIME\r\n    )\r\n    .remove( &quot;T&quot; , &quot; &quot; )\r\n\r\n# *java.time*\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n## Parsing text\r\n\r\nYour text is in the format defined by an obsolete standard, RFC 1123 / RFC 822.\r\n\r\nThe `java.time.DateTimeFormatter` class carries a constant pre-defining a formatter for that: [`RFC_1123_DATE_TIME`][1].\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ) ;\r\n\r\n\r\n## Generating text\r\n\r\nThe format you desire is close to that of a format defined in the modern standard [ISO 8601][2]: YYYY-MM-DDTHH:MM:SS. \r\n\r\nThe DateTimeFormatter class also carries a predefined formatter for the ISO 8601 standard: [ISO_LOCAL_DATE_TIME][3]. \r\n\r\nJust remove the `T` to get your desired format. \r\n\r\n    String output = zdt.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ).remove( &quot;T&quot; , &quot; &quot; ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME","title":"How to convert datetime from GMT format to yyyy-MM-dd HH:mm:ss?","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime\n.parse( \n    &quot;Tue, 11 Oct 2022 15:59:46 GMT&quot; , \n    DateTimeFormatter.RFC_1123_DATE_TIME \n)\n.format (\n    DateTimeFormatter.ISO_LOCAL_DATE_TIME\n)\n.remove( &quot;T&quot; , &quot; &quot; )\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h2>Parsing text</h2>\n<p>Your text is in the format defined by an obsolete standard, RFC 1123 / RFC 822.</p>\n<p>The <code>java.time.DateTimeFormatter</code> class carries a constant pre-defining a formatter for that: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>RFC_1123_DATE_TIME</code></a>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.RFC_1123_DATE_TIME ) ;\n</code></pre>\n<h2>Generating text</h2>\n<p>The format you desire is close to that of a format defined in the modern standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>: YYYY-MM-DDTHH:MM:SS.</p>\n<p>The DateTimeFormatter class also carries a predefined formatter for the ISO 8601 standard: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\">ISO_LOCAL_DATE_TIME</a>.</p>\n<p>Just remove the <code>T</code> to get your desired format.</p>\n<pre><code>String output = zdt.format( DateTimeFormatter.ISO_LOCAL_DATE_TIME ).remove( &quot;T&quot; , &quot; &quot; ) ;\n</code></pre>\n"}],"owner":{"account_id":19507092,"reputation":399,"user_id":14271847,"display_name":"megaultron"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1665508158,"creation_date":1665503690,"question_id":74030914,"body_markdown":"How can I convert the following datetime format to yyyy-MM-dd HH:mm:ss?\r\n\r\n    Tue, 11 Oct 2022 15:59:46 GMT\r\n\r\n\r\nI already tried this but it doesn&#39;t work, it brings the wrong time\r\n\r\n    Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\r\n    SimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String f = sdf1.format(d);\r\n    System.out.println(f);\r\n\r\nIt&#39;s bringing the wrong time when you print:\r\n\r\n    2022-10-11 12:59:46","title":"How to convert datetime from GMT format to yyyy-MM-dd HH:mm:ss?","body":"<p>How can I convert the following datetime format to yyyy-MM-dd HH:mm:ss?</p>\n<pre><code>Tue, 11 Oct 2022 15:59:46 GMT\n</code></pre>\n<p>I already tried this but it doesn't work, it brings the wrong time</p>\n<pre><code>Date d = new Date(&quot;Tue, 11 Oct 2022 15:59:46 GMT&quot;);\nSimpleDateFormat sdf1= new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nString f = sdf1.format(d);\nSystem.out.println(f);\n</code></pre>\n<p>It's bringing the wrong time when you print:</p>\n<pre><code>2022-10-11 12:59:46\n</code></pre>\n"},{"tags":["java","android","android-layout","android-fragments"],"comments":[{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":1,"creation_date":1562128830,"post_id":56862987,"comment_id":100275145,"body_markdown":"how you are adding fragments in the container?","body":"how you are adding fragments in the container?"},{"owner":{"account_id":2282492,"reputation":2049,"user_id":2007266,"accept_rate":44,"display_name":"hemantsb"},"score":2,"creation_date":1562128845,"post_id":56862987,"comment_id":100275150,"body_markdown":"can you show you main activity&#39;s xml where you are attaching this fragment?","body":"can you show you main activity&#39;s xml where you are attaching this fragment?"},{"owner":{"account_id":5083634,"reputation":8667,"user_id":4079010,"accept_rate":50,"display_name":"Rahul Khurana"},"score":0,"creation_date":1562129482,"post_id":56862987,"comment_id":100275289,"body_markdown":"post the main activity code..","body":"post the main activity code.."},{"owner":{"account_id":16247567,"reputation":23,"user_id":11732286,"display_name":"Prashant Gujar"},"score":0,"creation_date":1562129504,"post_id":56862987,"comment_id":100275294,"body_markdown":"problem solved.. silly mistake in main activity xml..","body":"problem solved.. silly mistake in main activity xml.."},{"owner":{"account_id":14470544,"reputation":371,"user_id":10452701,"display_name":"Nurbol"},"score":1,"creation_date":1562129608,"post_id":56862987,"comment_id":100275316,"body_markdown":"Width and height of the `fragment_container` must match parent.","body":"Width and height of the <code>fragment_container</code> must match parent."},{"owner":{"account_id":9884920,"reputation":2245,"user_id":7319704,"display_name":"Abhinav Gupta"},"score":0,"creation_date":1562129790,"post_id":56862987,"comment_id":100275369,"body_markdown":"If you solved this problem mention your answer in answer section to make help others with same problem.@PrashantGujar","body":"If you solved this problem mention your answer in answer section to make help others with same problem.@PrashantGujar"}],"answers":[{"tags":[],"owner":{"account_id":9062747,"reputation":3484,"user_id":6748763,"display_name":"alireza easazade"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562129547,"creation_date":1562129547,"answer_id":56863094,"question_id":56862987,"body_markdown":"check your fragment `onCreateView()` method\r\n\r\nyou should inflate view like this :\r\n \r\n````kotlin\r\nval root = inflater.inflate(R.layout.list_content,container, false);\r\nreturn root\r\n````\r\n\r\nand make sure the `place_holder` which you adding your fragment to when doing fragment transaction is visible \r\n\r\n````kotlin\r\nfragmentTransaction.replace(R.id.fragment_container, YourFragment())\r\n````\r\nin above code make sure fragment_container is visible and has proper height and width","title":"Fragment is not showing its full width and Height","body":"<p>check your fragment <code>onCreateView()</code> method</p>\n\n<p>you should inflate view like this :</p>\n\n<pre><code>val root = inflater.inflate(R.layout.list_content,container, false);\nreturn root\n</code></pre>\n\n<p>and make sure the <code>place_holder</code> which you adding your fragment to when doing fragment transaction is visible </p>\n\n<pre><code>fragmentTransaction.replace(R.id.fragment_container, YourFragment())\n</code></pre>\n\n<p>in above code make sure fragment_container is visible and has proper height and width</p>\n"}],"owner":{"account_id":16247567,"reputation":23,"user_id":11732286,"display_name":"Prashant Gujar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56863094,"answer_count":1,"score":2,"last_activity_date":1665508086,"creation_date":1562128684,"question_id":56862987,"body_markdown":"I am creating a sliding menu in my android app. But at runtime none of my fragments showing their full size as set by &#39;match_parent&#39;.\r\n\r\n**this is the image : **\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/nipEB.png&quot; width=&quot;300&quot;&gt;\r\n\r\n\r\n**and this is my code**\r\n\r\n*Layout :* \r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:background=&quot;@android:color/holo_red_light&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n*Java Code :*\r\n\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n            switch (menuItem.getItemId()){\r\n                case R.id.nav_place_order:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new PlaceOrderPage1Fragment()).commit();\r\n                    break;\r\n    \r\n                case R.id.nav_profile:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new ProfileFragment()).commit();\r\n                    break;\r\n    \r\n                case R.id.nav_settings:\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new SettingsFragment()).commit();\r\n                    break;\r\n    \r\n                case R.id.sample:\r\n                    Toast.makeText(this,&quot;Sample&quot;,Toast.LENGTH_SHORT).show();\r\n                    break;\r\n    \r\n            }\r\n","title":"Fragment is not showing its full width and Height","body":"<p>I am creating a sliding menu in my android app. But at runtime none of my fragments showing their full size as set by 'match_parent'.</p>\n<p>**this is the image : **</p>\n<img src=\"https://i.stack.imgur.com/nipEB.png\" width=\"300\">\n<p><strong>and this is my code</strong></p>\n<p><em>Layout :</em></p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:background=&quot;@android:color/holo_red_light&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><em>Java Code :</em></p>\n<pre><code>public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n        switch (menuItem.getItemId()){\n            case R.id.nav_place_order:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new PlaceOrderPage1Fragment()).commit();\n                break;\n\n            case R.id.nav_profile:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new ProfileFragment()).commit();\n                break;\n\n            case R.id.nav_settings:\n                getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                        new SettingsFragment()).commit();\n                break;\n\n            case R.id.sample:\n                Toast.makeText(this,&quot;Sample&quot;,Toast.LENGTH_SHORT).show();\n                break;\n\n        }\n</code></pre>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665507935,"creation_date":1665507935,"answer_id":74031709,"question_id":74000505,"body_markdown":"I discussed this on the Tomcat users mailing list `users@tomcat.apache.org` (thanks Mark), and here&#39;s what is happening:\r\n\r\n\r\n* Tomcat effectively has two builds:\r\n  1. What I call the Tomcat &quot;primary build&quot; uses Ant with `build.xml`, which compiles the source files, creates all the JARs and binaries, and publishes them to Maven Central (Nexus).\r\n  2. Any &quot;secondary build&quot; by third parties using the published JARs and POMs, using e.g. `org.apache.tomcat.embed:tomcat-embed-core:10.1.0` with Maven.\r\n* The latest versions of direct dependencies are found in the Tomcat repository inside `build.properties.default`.\r\n* The primary build generates JPMS and OSGi metadata, so some classes are annotated with the bnd annotation `aQute.bnd.annotation.spi.ServiceConsumer`. Currently Tomcat gets this annotation from [`biz.aQute.bnd:biz.aQute.bnd:6.3.1`][1], which is apparently some aggregate JAR; the same annotation can be found in the smaller [`biz.aQute.bnd:biz.aQute.bnd.annotation:6.3.1`][2].\r\n* The `aQute.bnd.annotation.spi.ServiceConsumer` annotation source code uses the OSGi annotation `org.osgi.annotation.bundle.Requirement`. Currently this annotation can be found in [`org.osgi:osgi.annotation:8.1.0`][3].\r\n* The bnd and OSGi annotations remain part of the compiled classes even though they are not used at runtime and are not technically needed in any secondary builds.\r\n* If you want to inform Maven and `javac` where these classes are so that they will not appear missing (if you are compiling with some variations of `-Xlint`), but that they nevertheless will not be needed at runtime (and technically aren&#39;t even needed at compile time in a secondary build) and should not be distributed in the resulting JAR, you can note them in your `pom.xml` file using the `provided` scope.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;biz.aQute.bnd&lt;/groupId&gt;\r\n  &lt;artifactId&gt;biz.aQute.bnd.annotation&lt;/artifactId&gt;\r\n  &lt;version&gt;6.3.1&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n  &lt;artifactId&gt;osgi.annotation&lt;/artifactId&gt;\r\n  &lt;version&gt;8.1.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMaven will download these artifacts during your build thereby removing the warning, but they will not be included in the resulting artifacts of your build.\r\n\r\n  [1]: https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd/6.3.1/jar\r\n  [2]: https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd.annotation/6.3.1/jar\r\n  [3]: https://search.maven.org/artifact/org.osgi/osgi.annotation/8.1.0/jar","title":"Cannot find annotation method &#39;value()&#39; in type &#39;aQute.bnd.annotation.spi.ServiceConsumer&#39; with Tomcat","body":"<p>I discussed this on the Tomcat users mailing list <code>users@tomcat.apache.org</code> (thanks Mark), and here's what is happening:</p>\n<ul>\n<li>Tomcat effectively has two builds:\n<ol>\n<li>What I call the Tomcat &quot;primary build&quot; uses Ant with <code>build.xml</code>, which compiles the source files, creates all the JARs and binaries, and publishes them to Maven Central (Nexus).</li>\n<li>Any &quot;secondary build&quot; by third parties using the published JARs and POMs, using e.g. <code>org.apache.tomcat.embed:tomcat-embed-core:10.1.0</code> with Maven.</li>\n</ol>\n</li>\n<li>The latest versions of direct dependencies are found in the Tomcat repository inside <code>build.properties.default</code>.</li>\n<li>The primary build generates JPMS and OSGi metadata, so some classes are annotated with the bnd annotation <code>aQute.bnd.annotation.spi.ServiceConsumer</code>. Currently Tomcat gets this annotation from <a href=\"https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd/6.3.1/jar\" rel=\"nofollow noreferrer\"><code>biz.aQute.bnd:biz.aQute.bnd:6.3.1</code></a>, which is apparently some aggregate JAR; the same annotation can be found in the smaller <a href=\"https://search.maven.org/artifact/biz.aQute.bnd/biz.aQute.bnd.annotation/6.3.1/jar\" rel=\"nofollow noreferrer\"><code>biz.aQute.bnd:biz.aQute.bnd.annotation:6.3.1</code></a>.</li>\n<li>The <code>aQute.bnd.annotation.spi.ServiceConsumer</code> annotation source code uses the OSGi annotation <code>org.osgi.annotation.bundle.Requirement</code>. Currently this annotation can be found in <a href=\"https://search.maven.org/artifact/org.osgi/osgi.annotation/8.1.0/jar\" rel=\"nofollow noreferrer\"><code>org.osgi:osgi.annotation:8.1.0</code></a>.</li>\n<li>The bnd and OSGi annotations remain part of the compiled classes even though they are not used at runtime and are not technically needed in any secondary builds.</li>\n<li>If you want to inform Maven and <code>javac</code> where these classes are so that they will not appear missing (if you are compiling with some variations of <code>-Xlint</code>), but that they nevertheless will not be needed at runtime (and technically aren't even needed at compile time in a secondary build) and should not be distributed in the resulting JAR, you can note them in your <code>pom.xml</code> file using the <code>provided</code> scope.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;biz.aQute.bnd&lt;/groupId&gt;\n  &lt;artifactId&gt;biz.aQute.bnd.annotation&lt;/artifactId&gt;\n  &lt;version&gt;6.3.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n  &lt;artifactId&gt;osgi.annotation&lt;/artifactId&gt;\n  &lt;version&gt;8.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven will download these artifacts during your build thereby removing the warning, but they will not be included in the resulting artifacts of your build.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74031709,"answer_count":1,"score":0,"last_activity_date":1665507966,"creation_date":1665262958,"question_id":74000505,"body_markdown":"I have a Java 11 project embedding Tomcat:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n  &lt;version&gt;10.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe Tomcat-specific code is in a subproject with only two classes. When I compile using Maven 3.8.6 and Java 17 using `-Xlint:all`, I see the following warning for that subproject:\r\n\r\n&gt; `[WARNING] Cannot find annotation method &#39;value()&#39; in type &#39;aQute.bnd.annotation.spi.ServiceConsumer&#39;: class file for aQute.bnd.annotation.spi.ServiceConsumer not found`\r\n\r\nDoing a bit of searching brings up similar (but not exact) things, such as [Lombok Issue #2145][1], which hints that I may need to add some sort of extra dependency such as `biz.aQute.bnd:bndlib` or `org.osgi:osgi.annotation`. But even after adding those dependencies, the warning remains.\r\n\r\nWhere is this error coming from, and what does it mean? I don&#39;t have any `@ServiceConsumer` annotation in my source code, and I couldn&#39;t find any in the Tomcat classes I&#39;m extending, either. How can I make it go away?\r\n\r\nI filed [Tomcat Bug 66299][2].\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2145\r\n  [2]: https://bz.apache.org/bugzilla/show_bug.cgi?id=66299","title":"Cannot find annotation method &#39;value()&#39; in type &#39;aQute.bnd.annotation.spi.ServiceConsumer&#39; with Tomcat","body":"<p>I have a Java 11 project embedding Tomcat:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n  &lt;version&gt;10.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The Tomcat-specific code is in a subproject with only two classes. When I compile using Maven 3.8.6 and Java 17 using <code>-Xlint:all</code>, I see the following warning for that subproject:</p>\n<blockquote>\n<p><code>[WARNING] Cannot find annotation method 'value()' in type 'aQute.bnd.annotation.spi.ServiceConsumer': class file for aQute.bnd.annotation.spi.ServiceConsumer not found</code></p>\n</blockquote>\n<p>Doing a bit of searching brings up similar (but not exact) things, such as <a href=\"https://github.com/projectlombok/lombok/issues/2145\" rel=\"nofollow noreferrer\">Lombok Issue #2145</a>, which hints that I may need to add some sort of extra dependency such as <code>biz.aQute.bnd:bndlib</code> or <code>org.osgi:osgi.annotation</code>. But even after adding those dependencies, the warning remains.</p>\n<p>Where is this error coming from, and what does it mean? I don't have any <code>@ServiceConsumer</code> annotation in my source code, and I couldn't find any in the Tomcat classes I'm extending, either. How can I make it go away?</p>\n<p>I filed <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=66299\" rel=\"nofollow noreferrer\">Tomcat Bug 66299</a>.</p>\n"},{"tags":["java","completable-future"],"answers":[{"comments":[{"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"score":0,"creation_date":1665495586,"post_id":74025370,"comment_id":130710449,"body_markdown":"Really thank you for your response!\nI would be grateful if you could answer one more question: Is CompletableFuture a good replacement for callbacks in my case?\n\nI switched to CF in hope to get rid of nested callbacks, but in reality it turns out I don&#39;t get rid of nesting using CF?\n\nFor example: get(...) -&gt; update(...).\nIt seems that I did not quite correctly understand the logic of the CompletableFuture&#39;s.","body":"Really thank you for your response! I would be grateful if you could answer one more question: Is CompletableFuture a good replacement for callbacks in my case?  I switched to CF in hope to get rid of nested callbacks, but in reality it turns out I don&#39;t get rid of nesting using CF?  For example: get(...) -&gt; update(...). It seems that I did not quite correctly understand the logic of the CompletableFuture&#39;s."},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1665507922,"post_id":74025370,"comment_id":130715211,"body_markdown":"It really depends upon how you&#39;re coding. \n\nTo avoid nesting of Callbacks, you can always transform your result into another response in case of any exceptions and then continue chaining.\n\nPlease find my updated answer.\n\nAlso, if it helped you please upvote.","body":"It really depends upon how you&#39;re coding.   To avoid nesting of Callbacks, you can always transform your result into another response in case of any exceptions and then continue chaining.  Please find my updated answer.  Also, if it helped you please upvote."}],"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665507940,"creation_date":1665477993,"answer_id":74025370,"question_id":73998491,"body_markdown":"I don&#39;t think you can **cancel** the downstream tasks.\r\n\r\nAll you can do is just not execute the downstream tasks incase of exception.\r\n\r\n```java\r\nCompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\r\n\r\ncf.whenComplete((response, exception) -&gt; {\r\n    if (exception == null) {\r\n       // Downstream tasks that I would to like to run on this response\r\n    } else {\r\n       //Notify end user of the exception \r\n    }\r\n});\r\n```\r\n\r\nTo avoid nesting.\r\n\r\n```java\r\n\r\nprivate Response transformResponse(GetResponse r) {\r\n   try {\r\n          return SuccessResponse();\r\n    } catch (Exception e) {\r\n          return FailedResponse();\r\n    }\r\n}\r\n\r\nget(&quot;Test_Nickname&quot;)\r\n.thenApply(r -&gt; transformResponse(r))\r\n.thenCompose(... //update)\r\n```","title":"Ways to cancel downstream tasks in CompletableFuture chain when exception fired?","body":"<p>I don't think you can <strong>cancel</strong> the downstream tasks.</p>\n<p>All you can do is just not execute the downstream tasks incase of exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\n\ncf.whenComplete((response, exception) -&gt; {\n    if (exception == null) {\n       // Downstream tasks that I would to like to run on this response\n    } else {\n       //Notify end user of the exception \n    }\n});\n</code></pre>\n<p>To avoid nesting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate Response transformResponse(GetResponse r) {\n   try {\n          return SuccessResponse();\n    } catch (Exception e) {\n          return FailedResponse();\n    }\n}\n\nget(&quot;Test_Nickname&quot;)\n.thenApply(r -&gt; transformResponse(r))\n.thenCompose(... //update)\n</code></pre>\n"}],"owner":{"account_id":16735535,"reputation":17,"user_id":12096779,"display_name":"Feniksovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74025370,"answer_count":1,"score":0,"last_activity_date":1665507940,"creation_date":1665244772,"question_id":73998491,"body_markdown":"My database methods return a CompletableFuture to do the work with database asynchronously and then process the result on the main thread.\r\n\r\n```java\r\npublic interface IAccountDAO {\r\n    CompletableFuture&lt;ObjectId&gt; create(AccountEntity accountEntity);\r\n    CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname);\r\n    CompletableFuture&lt;Void&gt; update(AccountEntity accountEntity);\r\n    CompletableFuture&lt;Void&gt; delete(AccountEntity accountEntity);\r\n}\r\n```\r\n\r\nEach of the methods have following code inside (example of `get(String)` method):\r\n```java\r\n@Override\r\npublic CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname) {\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n        try {\r\n            // something logic\r\n            return Optional.of(...);\r\n        } catch (SomethingException ex) {\r\n           ex.printStackTrace();\r\n           throw new CompletionException(ex);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nHandling the result:\r\n```java\r\nCompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\r\n\r\n// Notify end user about exception during process\r\ncf.exceptionally(ex -&gt; {\r\n    System.out.println(&quot;Database operation failed. Stacktrace:&quot;);\r\n    ex.printStackTrace();\r\n    return Optional.ofEmpty(); // I must return something fallback value that passes to downstream tasks.\r\n});\r\n\r\n// Downstream tasks that I would to cancel if exception fired\r\ncf.thenAccept(...);\r\ncf.thenRun(...);\r\ncf.thenRun(...);\r\n```\r\n\r\nSo, operation with database can fire exception. In this case I would to pass exception and using `.exceptionally(...)` or something like this notify the user called that method and **STOP** chain executing (cancel downstream tasks).\r\n\r\n**My question is:** How I can cancel downstream tasks when CompletableFuture completed with exception?","title":"Ways to cancel downstream tasks in CompletableFuture chain when exception fired?","body":"<p>My database methods return a CompletableFuture to do the work with database asynchronously and then process the result on the main thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IAccountDAO {\n    CompletableFuture&lt;ObjectId&gt; create(AccountEntity accountEntity);\n    CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname);\n    CompletableFuture&lt;Void&gt; update(AccountEntity accountEntity);\n    CompletableFuture&lt;Void&gt; delete(AccountEntity accountEntity);\n}\n</code></pre>\n<p>Each of the methods have following code inside (example of <code>get(String)</code> method):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; get(String nickname) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            // something logic\n            return Optional.of(...);\n        } catch (SomethingException ex) {\n           ex.printStackTrace();\n           throw new CompletionException(ex);\n        }\n    });\n}\n</code></pre>\n<p>Handling the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Optional&lt;AccountEntity&gt;&gt; cf = get(&quot;Test_Nickname&quot;);\n\n// Notify end user about exception during process\ncf.exceptionally(ex -&gt; {\n    System.out.println(&quot;Database operation failed. Stacktrace:&quot;);\n    ex.printStackTrace();\n    return Optional.ofEmpty(); // I must return something fallback value that passes to downstream tasks.\n});\n\n// Downstream tasks that I would to cancel if exception fired\ncf.thenAccept(...);\ncf.thenRun(...);\ncf.thenRun(...);\n</code></pre>\n<p>So, operation with database can fire exception. In this case I would to pass exception and using <code>.exceptionally(...)</code> or something like this notify the user called that method and <strong>STOP</strong> chain executing (cancel downstream tasks).</p>\n<p><strong>My question is:</strong> How I can cancel downstream tasks when CompletableFuture completed with exception?</p>\n"},{"tags":["java","unreachable-statement"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665506427,"creation_date":1665506014,"answer_id":74031357,"question_id":74030670,"body_markdown":"The java language spec defines a concept called &#39;reachability&#39;. This has nothing to do with whether a statement is actually reached or not reached, as these are all __compile-time checks__ - the compiler decides, and given that the compiler decides, it does not just get to run the code and see.\r\n\r\nThese aren&#39;t &#39;best effort&#39; nor are these reachability rules casually changed between releases. Essentially, certain definitions were laid out in java 1.0 and they have intentionally never changed.\r\n\r\nReachability&#39;s effects are as follows:\r\n\r\n1. Any uninitialized local variable cannot be used unless __the compiler__ determines that the line that reads the variable cannot possibly be reached without necessarily having earlier reached a line that definitely sets that variable. This is called &#39;definite assignment&#39;.\r\n2. A method need not return at all if reachability dictates it never ends. `public int foo() { while (true) ; }` compiles even though you have no return statement in it.\r\n3. Unreachable code is a compiler error.\r\n\r\nBut all of that in context of the specific rules about determining this stuff, as laid out by the java lang spec.\r\n\r\nIn particular:\r\n\r\n1. Only Compile-time-constant (CTC) expressions are resolved in the first place. CTCs are their own can of worms. obviously, actual constants in a source file are CTC, but generally any reference to a `static final` field of a type that can be constant (Strings and primitives only), whose initializing expression is a CTC, is itself also a CTC. So, `public static final long x = 1;` means `x` is a CTC, but `public static final long x = System.currentTimeMillis();` means `x` is not. Curiously, `null` is not CTC. Why? Cuz spec says so, really. Certain arithmetic is CTC if all its units are CTC. `5 + 2` is CTC, for example. So is `x + 2`, if `x` is CTC.\r\n2. If the expression in a `while` or `for` condition is CTC `false`, then the compiler takes that into account. For all purposes:\r\n\r\n```\r\nclass Test {\r\n  public static final boolean TEST = true;\r\n\r\n  public int  test() {\r\n    while (TEST) ;\r\n  }\r\n}\r\n```\r\n\r\ncompiles, even though you&#39;d think it should not, due to `test()` missing a return statement. However, this doesn&#39;t:\r\n\r\n```\r\nclass Test {\r\n  public static final boolean TEST = Boolean.TRUE;\r\n\r\n  public int  test() {\r\n    while (TEST) ;\r\n  }\r\n}\r\n```\r\n\r\nWhy? Because `Boolean.TRUE` is not CTC, and thus `TEST` is not CTC. __The fact that Boolean.TRUE is `true` and the compiler can pretty easily figure that out does not matter__. The _spec_ says that this isn&#39;t a CTC expression, therefore, it isn&#39;t. How reasonable it is to expect the compiler to figure it out doesn&#39;t factor into it, _at all_. Compiler has to follow the spec, period. Reachability analysis isn&#39;t a &#39;nice to have linting thing&#39;. It&#39;s crucial to the language itself.\r\n\r\n3. Specifically excluded is `if (false) statement;`. Even though `statement;` is obviously not reachable, this is nevertheless allowed, specifically to support an ersatz `#ifdef`-style compile-time exclusion. In fact, the compiler will __entirely exclude__ the code, even from the class file, if you do this. This is no longer popular (IDEs let you select a block and hit one key to remark it all out), but it used to be, and java doesn&#39;t break backwards compatibility unless there&#39;s a good reason. In other words, the compiler is perfectly well aware that the stuff is unreachable (it has to be, because by spec it must not even include that code in the class file!), but the spec says this is allowed.\r\n\r\nThis explains why e.g. `if (1 == 0) System.out.println();` compiles fine, but `while (1 == 0) System.out.println();` is a compiler error. Not because the compiler is stupid, or because java is &#39;old&#39; and somehow the OpenJDK team hasn&#39;t bothered to touch the reachability analyser in 25 years. But because the spec says this is how it&#39;s supposed to work, for good reasons (perhaps those &#39;good reasons&#39; now boil down to: It has always worked that way and changing it is backwards incompatible, but that&#39;s still a good reason).\r\n\r\nHere&#39;s an example of javac in action:\r\n\r\n```\r\n&gt; cat Test.java\r\nclass Test {\r\n  public void test() {\r\n    if (false) System.out.println();\r\n  }\r\n}\r\n&gt; javac Test.java\r\n&gt; javap -c -v Test # Show the bytecode of the compiled Test class\r\n [ ... I removed a whole bunch of irrelevant parts of the decompile ... ]\r\n  public void test();\r\n    descriptor: ()V\r\n    flags: (0x0001) ACC_PUBLIC\r\n    Code:\r\n      stack=0, locals=1, args_size=1\r\n         0: return\r\n      LineNumberTable:\r\n        line 4: 0\r\n}\r\nSourceFile: &quot;Test.java&quot;\r\n```\r\n\r\nNote how that System.out.println() call __is gone__.\r\n\r\nNB: At some near future java release, the notion of CTCs may change and encompass more. The general aim of various skunkworks OpenJDK projects is making e.g. `LocalDate.of(2022, 10, 1)` be a CTC. Probably with slightly different definitions (to keep backwards compat), so I doubt this will affect reachability analysis rules. The current java release doesn&#39;t have any of that, so this answer is good up to a least JDK19.","title":"Question regarding unreachable statement errors","body":"<p>The java language spec defines a concept called 'reachability'. This has nothing to do with whether a statement is actually reached or not reached, as these are all <strong>compile-time checks</strong> - the compiler decides, and given that the compiler decides, it does not just get to run the code and see.</p>\n<p>These aren't 'best effort' nor are these reachability rules casually changed between releases. Essentially, certain definitions were laid out in java 1.0 and they have intentionally never changed.</p>\n<p>Reachability's effects are as follows:</p>\n<ol>\n<li>Any uninitialized local variable cannot be used unless <strong>the compiler</strong> determines that the line that reads the variable cannot possibly be reached without necessarily having earlier reached a line that definitely sets that variable. This is called 'definite assignment'.</li>\n<li>A method need not return at all if reachability dictates it never ends. <code>public int foo() { while (true) ; }</code> compiles even though you have no return statement in it.</li>\n<li>Unreachable code is a compiler error.</li>\n</ol>\n<p>But all of that in context of the specific rules about determining this stuff, as laid out by the java lang spec.</p>\n<p>In particular:</p>\n<ol>\n<li>Only Compile-time-constant (CTC) expressions are resolved in the first place. CTCs are their own can of worms. obviously, actual constants in a source file are CTC, but generally any reference to a <code>static final</code> field of a type that can be constant (Strings and primitives only), whose initializing expression is a CTC, is itself also a CTC. So, <code>public static final long x = 1;</code> means <code>x</code> is a CTC, but <code>public static final long x = System.currentTimeMillis();</code> means <code>x</code> is not. Curiously, <code>null</code> is not CTC. Why? Cuz spec says so, really. Certain arithmetic is CTC if all its units are CTC. <code>5 + 2</code> is CTC, for example. So is <code>x + 2</code>, if <code>x</code> is CTC.</li>\n<li>If the expression in a <code>while</code> or <code>for</code> condition is CTC <code>false</code>, then the compiler takes that into account. For all purposes:</li>\n</ol>\n<pre><code>class Test {\n  public static final boolean TEST = true;\n\n  public int  test() {\n    while (TEST) ;\n  }\n}\n</code></pre>\n<p>compiles, even though you'd think it should not, due to <code>test()</code> missing a return statement. However, this doesn't:</p>\n<pre><code>class Test {\n  public static final boolean TEST = Boolean.TRUE;\n\n  public int  test() {\n    while (TEST) ;\n  }\n}\n</code></pre>\n<p>Why? Because <code>Boolean.TRUE</code> is not CTC, and thus <code>TEST</code> is not CTC. <strong>The fact that Boolean.TRUE is <code>true</code> and the compiler can pretty easily figure that out does not matter</strong>. The <em>spec</em> says that this isn't a CTC expression, therefore, it isn't. How reasonable it is to expect the compiler to figure it out doesn't factor into it, <em>at all</em>. Compiler has to follow the spec, period. Reachability analysis isn't a 'nice to have linting thing'. It's crucial to the language itself.</p>\n<ol start=\"3\">\n<li>Specifically excluded is <code>if (false) statement;</code>. Even though <code>statement;</code> is obviously not reachable, this is nevertheless allowed, specifically to support an ersatz <code>#ifdef</code>-style compile-time exclusion. In fact, the compiler will <strong>entirely exclude</strong> the code, even from the class file, if you do this. This is no longer popular (IDEs let you select a block and hit one key to remark it all out), but it used to be, and java doesn't break backwards compatibility unless there's a good reason. In other words, the compiler is perfectly well aware that the stuff is unreachable (it has to be, because by spec it must not even include that code in the class file!), but the spec says this is allowed.</li>\n</ol>\n<p>This explains why e.g. <code>if (1 == 0) System.out.println();</code> compiles fine, but <code>while (1 == 0) System.out.println();</code> is a compiler error. Not because the compiler is stupid, or because java is 'old' and somehow the OpenJDK team hasn't bothered to touch the reachability analyser in 25 years. But because the spec says this is how it's supposed to work, for good reasons (perhaps those 'good reasons' now boil down to: It has always worked that way and changing it is backwards incompatible, but that's still a good reason).</p>\n<p>Here's an example of javac in action:</p>\n<pre><code>&gt; cat Test.java\nclass Test {\n  public void test() {\n    if (false) System.out.println();\n  }\n}\n&gt; javac Test.java\n&gt; javap -c -v Test # Show the bytecode of the compiled Test class\n [ ... I removed a whole bunch of irrelevant parts of the decompile ... ]\n  public void test();\n    descriptor: ()V\n    flags: (0x0001) ACC_PUBLIC\n    Code:\n      stack=0, locals=1, args_size=1\n         0: return\n      LineNumberTable:\n        line 4: 0\n}\nSourceFile: &quot;Test.java&quot;\n</code></pre>\n<p>Note how that System.out.println() call <strong>is gone</strong>.</p>\n<p>NB: At some near future java release, the notion of CTCs may change and encompass more. The general aim of various skunkworks OpenJDK projects is making e.g. <code>LocalDate.of(2022, 10, 1)</code> be a CTC. Probably with slightly different definitions (to keep backwards compat), so I doubt this will affect reachability analysis rules. The current java release doesn't have any of that, so this answer is good up to a least JDK19.</p>\n"}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74031357,"answer_count":1,"score":0,"last_activity_date":1665507864,"creation_date":1665502644,"question_id":74030670,"body_markdown":"Given this snippet of code, containing a class `TestClass` with its method `loopTest()`, which is our main focus:\r\n```\r\npublic class TestClass{\r\n   public void loopTest(){\r\n      int x = 0;\r\n      loop: for (int i = 1; i &lt; 5; i++){\r\n         for (int j = 1; j &lt; 5; j++){\r\n            System.out.println(i);\r\n            if (x == 0) {  continue loop;  }\r\n            System.out.println(j);\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nRunning this code in IntelliJ IDEA doesn&#39;t return any compilation errors, but successfully returns an output. My question would be: why isn&#39;t this an unreachable statement?\r\n\r\nRunning the loop after removing the `if (x == 0)` statement (but keeping the `continue loop;` as seen below:\r\n```\r\nloop: for (int i = 1; i &lt; 5; i++){\r\n         for (int j = 1; j &lt; 5; j++){\r\n            System.out.println(i);\r\n            continue loop;\r\n            System.out.println(j);\r\n         }\r\n      }\r\n```\r\n(...) would return such an error, because the last `sout` would never be printed. Why doesn&#39;t this also happen in the first case? I&#39;m pretty confident this isn&#39;t some runtime problem, because the compiler definitely sees that integer `x` is initialized at the beginning of the method, but the loop never reaches the  second statement.","title":"Question regarding unreachable statement errors","body":"<p>Given this snippet of code, containing a class <code>TestClass</code> with its method <code>loopTest()</code>, which is our main focus:</p>\n<pre><code>public class TestClass{\n   public void loopTest(){\n      int x = 0;\n      loop: for (int i = 1; i &lt; 5; i++){\n         for (int j = 1; j &lt; 5; j++){\n            System.out.println(i);\n            if (x == 0) {  continue loop;  }\n            System.out.println(j);\n         }\n      }\n   }\n}\n</code></pre>\n<p>Running this code in IntelliJ IDEA doesn't return any compilation errors, but successfully returns an output. My question would be: why isn't this an unreachable statement?</p>\n<p>Running the loop after removing the <code>if (x == 0)</code> statement (but keeping the <code>continue loop;</code> as seen below:</p>\n<pre><code>loop: for (int i = 1; i &lt; 5; i++){\n         for (int j = 1; j &lt; 5; j++){\n            System.out.println(i);\n            continue loop;\n            System.out.println(j);\n         }\n      }\n</code></pre>\n<p>(...) would return such an error, because the last <code>sout</code> would never be printed. Why doesn't this also happen in the first case? I'm pretty confident this isn't some runtime problem, because the compiler definitely sees that integer <code>x</code> is initialized at the beginning of the method, but the loop never reaches the  second statement.</p>\n"},{"tags":["java","image","swing","awt","javax.imageio"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1512842983,"post_id":47728742,"comment_id":82423760,"body_markdown":"1) One way to get image(s) for a self contained example is to hot link to images seen in [this Q&amp;A](http://stackoverflow.com/q/19209650/418556). 2) See [Detection/fix for the hanging close bracket of a code block](http://meta.stackexchange.com/q/251795/155831) for a problem I could no longer be bothered fixing.","body":"1) One way to get image(s) for a self contained example is to hot link to images seen in <a href=\"http://stackoverflow.com/q/19209650/418556\">this Q&amp;A</a>. 2) See <a href=\"http://meta.stackexchange.com/q/251795/155831\">Detection/fix for the hanging close bracket of a code block</a> for a problem I could no longer be bothered fixing."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512853056,"creation_date":1512853056,"answer_id":47733128,"question_id":47728742,"body_markdown":"Start by not using `Graphics ge = this.getGraphics();`. \r\n\r\nBecause you&#39;re also using your own `Thread`, you&#39;re running the risk of thread race conditions which could result in dirty reads/ paints.  \r\n\r\nStart by understanding how Swing painting actually works and work within the API functionality. \r\n\r\nStart by having a look at [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html), [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html) and [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n\r\n`KeyListener` is also a poor choice for monitor key input and you should be using the Key Bindings API - see [How to use key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) for more details.\r\n\r\nAdding content to the `ArrayList` can cause the `ArrayList` to go through a growth cycle, which can consume time and force a longer GC cycle.  Consider seeding the `ArrayList` with initial capacity, it will help reduce the interval between growth cycles.\r\n\r\nFocus on separating the &quot;update&quot; logic from the &quot;paint&quot; logic, it can help you find performance issues\r\n\r\nYou could also have a look at \r\n\r\n- https://stackoverflow.com/questions/24131513/java-what-is-heavier-canvas-or-paintcomponent/24131544#24131544\r\n- https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\r\n- https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824\r\n\r\nWhich demonstrate a verity of techniques for improving performance of rendering in Swing.\r\n\r\nIf these still are&#39;t getting your to the level you want, then you will want to explore using a `BufferStrategy`","title":"How do you solve lagging in Java awt/swing image printing?","body":"<p>Start by not using <code>Graphics ge = this.getGraphics();</code>. </p>\n\n<p>Because you're also using your own <code>Thread</code>, you're running the risk of thread race conditions which could result in dirty reads/ paints.  </p>\n\n<p>Start by understanding how Swing painting actually works and work within the API functionality. </p>\n\n<p>Start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>, <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></p>\n\n<p><code>KeyListener</code> is also a poor choice for monitor key input and you should be using the Key Bindings API - see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to use key bindings</a> for more details.</p>\n\n<p>Adding content to the <code>ArrayList</code> can cause the <code>ArrayList</code> to go through a growth cycle, which can consume time and force a longer GC cycle.  Consider seeding the <code>ArrayList</code> with initial capacity, it will help reduce the interval between growth cycles.</p>\n\n<p>Focus on separating the \"update\" logic from the \"paint\" logic, it can help you find performance issues</p>\n\n<p>You could also have a look at </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24131513/java-what-is-heavier-canvas-or-paintcomponent/24131544#24131544\">java what is heavier: Canvas or paintComponent()?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">Swing animation running extremely slow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23417786/rotating-multiple-images-causing-flickering-java-graphics2d/23419824#23419824\">Rotating multiple images causing flickering. Java Graphics2D</a></li>\n</ul>\n\n<p>Which demonstrate a verity of techniques for improving performance of rendering in Swing.</p>\n\n<p>If these still are't getting your to the level you want, then you will want to explore using a <code>BufferStrategy</code></p>\n"},{"tags":[],"owner":{"account_id":25833642,"reputation":1,"user_id":19570362,"display_name":"Aaron924"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665507679,"creation_date":1665507679,"answer_id":74031669,"question_id":47728742,"body_markdown":"Better draw in JPanel and use `repaint()` method to update your JPanel","title":"How do you solve lagging in Java awt/swing image printing?","body":"<p>Better draw in JPanel and use <code>repaint()</code> method to update your JPanel</p>\n"}],"owner":{"account_id":12466454,"reputation":1,"user_id":9076212,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665507679,"creation_date":1512823642,"question_id":47728742,"body_markdown":"I am trying to make a simple game with Java swing/awt.\r\nI am have issue with lagging while printing and moving images on the screen. \r\n\r\nHere is my code below:\r\n\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.awt.image.*;\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    \r\n    \r\n    \r\n    \r\n    public class StarDef extends JFrame implements Runnable, KeyListener{\r\n        private BufferedImage back;\r\n        private boolean start = false, end = false;\r\n        public int w = 1500, h = 800, commandx = 200, commandy = 100, ground = 500,  mineral = 100;\r\n        private int mineralx = 0, mineraly = commandy + 104;\r\n        private int dronecnt = 0;\r\n        private ArrayList&lt;Drone&gt; DrList = null;\r\n        private ArrayList&lt;Enemy&gt; EnList = null;\r\n        private ArrayList&lt;Building&gt; BuildList = null;\r\n        private ArrayList&lt;Allies&gt; AlyList= null;\r\n        public Image imagearr[] = new Image[10];\r\n        private boolean makedrone = false, NeedMinerals = false;\r\n        public int picnum = 1;\r\n        private int OrderBuild = 0;\r\n    \r\n        public static void main(String[] args){\r\n            Thread t = new Thread(new StarDef());\r\n            t.start();\r\n        }\r\n    \r\n        public StarDef(){\r\n            back = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\r\n            DrList = new ArrayList&lt;&gt;();\r\n            BuildList = new ArrayList&lt;&gt;();\r\n            EnList = new ArrayList&lt;&gt;();\r\n            AlyList = new ArrayList&lt;&gt;();\r\n            this.addKeyListener(this);\r\n            this.setSize(w,h);\r\n            this.setTitle(&quot;Starcraft&quot;);\r\n            this.setResizable(false);\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.setVisible(true);\r\n            try {\r\n                imagearr[0] = ImageIO.read(new File(&quot;Char/Command.png&quot;));\r\n                imagearr[1] = ImageIO.read(new File(&quot;Char/droneleft.png&quot;));\r\n                imagearr[2] = ImageIO.read(new File(&quot;Char/droneright.png&quot;));\r\n                imagearr[3] = ImageIO.read(new File(&quot;Char/Mineral.png&quot;));\r\n                imagearr[4] = ImageIO.read(new File(&quot;Char/barracks.png&quot;));\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void initGame(){\r\n            DrList.clear();\r\n            mineral = 100;\r\n    \r\n        }\r\n        public void draw(){\r\n            Graphics gs = back.getGraphics();\r\n            gs.setColor(Color.white);\r\n            gs.fillRect(0,0,w,h);\r\n            gs.setColor(Color.DARK_GRAY);\r\n            gs.fillRect(0,ground,w,200);\r\n    \r\n            if (!end) {\r\n                gs.drawImage(imagearr[0], commandx, commandy, null); // First Image-Command Center\r\n                gs.drawImage(imagearr[3], mineralx,mineraly,null); // Second Image-Mineral\r\n    \r\n                for (int i = 0; i &lt; DrList.size(); i++) { //Printing Drones\r\n                    Drone m = DrList.get(i);\r\n                    gs.drawImage(imagearr[m.state], m.x, m.y, null); //Drawing Drones\r\n                    m.moveDr(); // Moving the Drone\r\n                }\r\n    \r\n                for (int i = 0; i &lt; BuildList.size(); i++){ //Printing Building\r\n                    Building bd = BuildList.get(i);\r\n                    if(bd.buildingtype == &#39;R&#39;){\r\n                        gs.drawImage(imagearr[4], bd.x, bd.y, null); // Drawing Building-Problem starts..?\r\n                    }\r\n                }\r\n                gs.drawImage(imagearr[0], commandx, commandy, null);\r\n            }\r\n    \r\n            gs.setColor(Color.black);\r\n            gs.drawString(&quot;mineral : &quot; + mineral, 10,50);\r\n            gs.drawString(&quot;Drones : &quot; + DrList.size(), 10, 70);\r\n    \r\n            Graphics ge = this.getGraphics();\r\n            ge.drawImage(back, 0,0,w,h,this);\r\n        }\r\n    \r\n        public void run(){\r\n    \r\n            try{\r\n                int timer = 10;\r\n    \r\n                while (true){\r\n                    Thread.sleep(timer);\r\n                    if(start){\r\n                        if (makedrone) {\r\n                            makedrone();\r\n                        }\r\n                        if (OrderBuild&gt;0){\r\n                            makeBuilding(OrderBuild);\r\n                        }\r\n                    }\r\n                    draw();\r\n                }\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void makeBuilding(int buildingnumber){\r\n            int bdx, bdy;\r\n            char BuildingType;\r\n            if(buildingnumber == 1){\r\n                bdx = 500;\r\n                bdy = 100;\r\n                BuildingType = &#39;R&#39;;\r\n                Building barracks = new Building(this, bdx, bdy, BuildingType);\r\n                BuildList.add(barracks);\r\n            }\r\n        }\r\n        public void makedrone() {\r\n    \r\n            if (mineral &gt;= 50) {\r\n                int dronex = commandx;\r\n                int droney = commandy+129;\r\n                Drone dr = new Drone(this ,dronex, droney);\r\n                DrList.add(dr);\r\n                dronecnt++;\r\n                mineral -= 50;\r\n                makedrone = false;\r\n    \r\n            } else if (mineral &lt; 50) {\r\n                NeedMinerals = true;\r\n                makedrone = false;\r\n            }\r\n    \r\n        }\r\n    \r\n        public void keyPressed(KeyEvent ke){\r\n            switch (ke.getKeyCode()){\r\n                case KeyEvent.VK_ENTER:\r\n                    start = true;\r\n                    end = false;\r\n                    break;\r\n                case KeyEvent.VK_D:\r\n                    makedrone = true;\r\n                    break;\r\n                case KeyEvent.VK_R:\r\n                    OrderBuild = 1;\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        public void keyReleased(KeyEvent ke){\r\n            switch ((ke.getKeyCode())){\r\n    \r\n            }\r\n        }\r\n        public void keyTyped(KeyEvent ke) {\r\n        }\r\n\r\n}\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\n\r\nWhen you compile the code, the first few stationary images appear fine. \r\n\r\nAfter moving images(Drones) appear nicely, but when you summon the next stationary image(Building), heavy lag starts to appear and the speed of the moving drones decrease visibly. \r\n\r\nThe building is about 300*150 pixels and the drones are 40*30 pixels. \r\n\r\nWhat is the cause of this problem? Is this because of the code(the way of summoning the image), or the picture&#39;s size, or the computer(I am using a notebook(LG Gram 14in)).?\r\n\r\n","title":"How do you solve lagging in Java awt/swing image printing?","body":"<p>I am trying to make a simple game with Java swing/awt.\nI am have issue with lagging while printing and moving images on the screen. </p>\n\n<p>Here is my code below:</p>\n\n\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.awt.image.*;\nimport java.io.File;\nimport java.util.ArrayList;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\n\n\n\npublic class StarDef extends JFrame implements Runnable, KeyListener{\n    private BufferedImage back;\n    private boolean start = false, end = false;\n    public int w = 1500, h = 800, commandx = 200, commandy = 100, ground = 500,  mineral = 100;\n    private int mineralx = 0, mineraly = commandy + 104;\n    private int dronecnt = 0;\n    private ArrayList&lt;Drone&gt; DrList = null;\n    private ArrayList&lt;Enemy&gt; EnList = null;\n    private ArrayList&lt;Building&gt; BuildList = null;\n    private ArrayList&lt;Allies&gt; AlyList= null;\n    public Image imagearr[] = new Image[10];\n    private boolean makedrone = false, NeedMinerals = false;\n    public int picnum = 1;\n    private int OrderBuild = 0;\n\n    public static void main(String[] args){\n        Thread t = new Thread(new StarDef());\n        t.start();\n    }\n\n    public StarDef(){\n        back = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);\n        DrList = new ArrayList&lt;&gt;();\n        BuildList = new ArrayList&lt;&gt;();\n        EnList = new ArrayList&lt;&gt;();\n        AlyList = new ArrayList&lt;&gt;();\n        this.addKeyListener(this);\n        this.setSize(w,h);\n        this.setTitle(\"Starcraft\");\n        this.setResizable(false);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n        try {\n            imagearr[0] = ImageIO.read(new File(\"Char/Command.png\"));\n            imagearr[1] = ImageIO.read(new File(\"Char/droneleft.png\"));\n            imagearr[2] = ImageIO.read(new File(\"Char/droneright.png\"));\n            imagearr[3] = ImageIO.read(new File(\"Char/Mineral.png\"));\n            imagearr[4] = ImageIO.read(new File(\"Char/barracks.png\"));\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    public void initGame(){\n        DrList.clear();\n        mineral = 100;\n\n    }\n    public void draw(){\n        Graphics gs = back.getGraphics();\n        gs.setColor(Color.white);\n        gs.fillRect(0,0,w,h);\n        gs.setColor(Color.DARK_GRAY);\n        gs.fillRect(0,ground,w,200);\n\n        if (!end) {\n            gs.drawImage(imagearr[0], commandx, commandy, null); // First Image-Command Center\n            gs.drawImage(imagearr[3], mineralx,mineraly,null); // Second Image-Mineral\n\n            for (int i = 0; i &lt; DrList.size(); i++) { //Printing Drones\n                Drone m = DrList.get(i);\n                gs.drawImage(imagearr[m.state], m.x, m.y, null); //Drawing Drones\n                m.moveDr(); // Moving the Drone\n            }\n\n            for (int i = 0; i &lt; BuildList.size(); i++){ //Printing Building\n                Building bd = BuildList.get(i);\n                if(bd.buildingtype == 'R'){\n                    gs.drawImage(imagearr[4], bd.x, bd.y, null); // Drawing Building-Problem starts..?\n                }\n            }\n            gs.drawImage(imagearr[0], commandx, commandy, null);\n        }\n\n        gs.setColor(Color.black);\n        gs.drawString(\"mineral : \" + mineral, 10,50);\n        gs.drawString(\"Drones : \" + DrList.size(), 10, 70);\n\n        Graphics ge = this.getGraphics();\n        ge.drawImage(back, 0,0,w,h,this);\n    }\n\n    public void run(){\n\n        try{\n            int timer = 10;\n\n            while (true){\n                Thread.sleep(timer);\n                if(start){\n                    if (makedrone) {\n                        makedrone();\n                    }\n                    if (OrderBuild&gt;0){\n                        makeBuilding(OrderBuild);\n                    }\n                }\n                draw();\n            }\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    public void makeBuilding(int buildingnumber){\n        int bdx, bdy;\n        char BuildingType;\n        if(buildingnumber == 1){\n            bdx = 500;\n            bdy = 100;\n            BuildingType = 'R';\n            Building barracks = new Building(this, bdx, bdy, BuildingType);\n            BuildList.add(barracks);\n        }\n    }\n    public void makedrone() {\n\n        if (mineral &gt;= 50) {\n            int dronex = commandx;\n            int droney = commandy+129;\n            Drone dr = new Drone(this ,dronex, droney);\n            DrList.add(dr);\n            dronecnt++;\n            mineral -= 50;\n            makedrone = false;\n\n        } else if (mineral &lt; 50) {\n            NeedMinerals = true;\n            makedrone = false;\n        }\n\n    }\n\n    public void keyPressed(KeyEvent ke){\n        switch (ke.getKeyCode()){\n            case KeyEvent.VK_ENTER:\n                start = true;\n                end = false;\n                break;\n            case KeyEvent.VK_D:\n                makedrone = true;\n                break;\n            case KeyEvent.VK_R:\n                OrderBuild = 1;\n                break;\n        }\n    }\n\n    public void keyReleased(KeyEvent ke){\n        switch ((ke.getKeyCode())){\n\n        }\n    }\n    public void keyTyped(KeyEvent ke) {\n    }\n</code></pre>\n\n<p>}</p>\n\n\n\n<p>When you compile the code, the first few stationary images appear fine. </p>\n\n<p>After moving images(Drones) appear nicely, but when you summon the next stationary image(Building), heavy lag starts to appear and the speed of the moving drones decrease visibly. </p>\n\n<p>The building is about 300*150 pixels and the drones are 40*30 pixels. </p>\n\n<p>What is the cause of this problem? Is this because of the code(the way of summoning the image), or the picture's size, or the computer(I am using a notebook(LG Gram 14in)).?</p>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665482264,"post_id":74025932,"comment_id":130705250,"body_markdown":"Why don&#39;t you call ` generalProcessor.run()` directly instead of ` generalProcessor.start()`?","body":"Why don&#39;t you call ` generalProcessor.run()` directly instead of ` generalProcessor.start()`?"},{"owner":{"account_id":5659344,"reputation":520,"user_id":4477439,"accept_rate":73,"display_name":"Yu Fang"},"score":0,"creation_date":1665483808,"post_id":74025932,"comment_id":130705773,"body_markdown":"@talex In this way, it causes that the test doesn&#39;t stop--the circle doesn&#39;t stop circling. I call generalProcessor.run() and disable latch, but it&#39;s not better. Not sure whether a thread produces this","body":"@talex In this way, it causes that the test doesn&#39;t stop--the circle doesn&#39;t stop circling. I call generalProcessor.run() and disable latch, but it&#39;s not better. Not sure whether a thread produces this"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665486665,"post_id":74025932,"comment_id":130706750,"body_markdown":"Perhaps you should call `generalProcessor.join()` instead of latch.","body":"Perhaps you should call <code>generalProcessor.join()</code> instead of latch."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665487605,"post_id":74025932,"comment_id":130707089,"body_markdown":"Does this help? https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test","body":"Does this help? <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test\" title=\"why is my class not using my mock in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665660002,"post_id":74025932,"comment_id":130754081,"body_markdown":"Does this answer your question? [Initialising mock objects - MockIto](https://stackoverflow.com/questions/15494926/initialising-mock-objects-mockito)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15494926/initialising-mock-objects-mockito\">Initialising mock objects - MockIto</a>"}],"owner":{"account_id":5659344,"reputation":520,"user_id":4477439,"accept_rate":73,"display_name":"Yu Fang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665507658,"creation_date":1665480725,"question_id":74025932,"body_markdown":"**Background Info**\r\n\r\nI have a thread. It&#39;s a dedicated thread to continuously take out a task from a queue and write to a persistent repository. So it&#39;s code is like this.\r\n\r\n    public class Processor extends Thread {\r\n        //Context saves reference to the task queue and the write backEnd service\r\n        public GeneralProcessor(Context context){initProcessor( context,  Type.GENERAL);}\r\n        public void run() {\r\n            ...\r\n            synchronized (Processor.class) {\r\n                Thread curThread=currentThread();\r\n                Context context=getContext();\r\n                ConcurrentLinkedQueue&lt;Task&gt; taskQue =context.getTasks();\r\n                if (taskQue.size() &gt; 0) {\r\n                    Task t = taskQue.poll();\r\n                    Transaction ts = new Transaction();\r\n                    //all works to copy Task&#39;s member values to Transaction, and add other values to this transaction\r\n                    //...\r\n                    context.getService().save(ts);//this is the line I want to monitor. This is also related to issue in some way.\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**The Issue**\r\n\r\nBut there is an issue when I wrote a unit test for this class. My original unit test is this.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class GeneralProcessorTest {\r\n        @InjectMocks\r\n        private GeneralProcessor generalProcessor;\r\n        @Mock\r\n        private Context context;\r\n        @Spy\r\n        private ConcurrentLinkedQueue&lt;Task&gt; tasks;\r\n        @Mock\r\n        private TransactionRepository transactionRepository;\r\n        @Captor\r\n        private ArgumentCaptor&lt;Transaction&gt; transactionArgumentCaptor;\r\n        @Mock\r\n        private TransactionService transactionService;\r\n\r\n\r\n       @BeforeEach\r\n        void setup() {\r\n            //transactionService=new TransactionServiceImpl(transactionRepository);\r\n        }\r\n\r\n        @Test\r\n        @SneakyThrows\r\n        void should_match_save_times_single_thread() {\r\n            //given\r\n            CountDownLatch latch=new CountDownLatch(0);\r\n            this.tasks.add(new Task(10));\r\n            //stub code\r\n            when(context.getTasks()).thenReturn(tasks);\r\n            when(context.getService()).thenReturn(transactionService);\r\n            //when\r\n            generalProcessor.start();\r\n            latch.await(1, TimeUnit.SECONDS);\r\n            //then\r\n            //the issue happened here!\r\n            verify(transactionService).save(transactionArgumentCaptor.capture());\r\n            List&lt;Transaction&gt; capturedArguments = transactionArgumentCaptor.getAllValues();\r\n            assertEquals(capturedArguments.size(),1);\r\n        }\r\n\r\nBut I got: \r\n\r\n    Wanted but not invoked:\r\n    transactionService.save(\r\n        &lt;Capturing argument&gt;\r\n    );\r\n    at com.example.demo.GeneralProcessorTest.should_match_save_times_single_thread(GeneralProcessorTest.java:65)\r\n    Actually, there were zero interactions with this mock.\r\n\r\nIn fact, I tried to init transactionService with *new*. But Mockito told me that in verify I can only use Mock object.\r\n\r\nSo I am confused. Is there any way to let me use verify while at the same time keep transactionService working as a normal object? Any info is appreciated.","title":"A question about using mock or new in Junit &amp; Mockito","body":"<p><strong>Background Info</strong></p>\n<p>I have a thread. It's a dedicated thread to continuously take out a task from a queue and write to a persistent repository. So it's code is like this.</p>\n<pre><code>public class Processor extends Thread {\n    //Context saves reference to the task queue and the write backEnd service\n    public GeneralProcessor(Context context){initProcessor( context,  Type.GENERAL);}\n    public void run() {\n        ...\n        synchronized (Processor.class) {\n            Thread curThread=currentThread();\n            Context context=getContext();\n            ConcurrentLinkedQueue&lt;Task&gt; taskQue =context.getTasks();\n            if (taskQue.size() &gt; 0) {\n                Task t = taskQue.poll();\n                Transaction ts = new Transaction();\n                //all works to copy Task's member values to Transaction, and add other values to this transaction\n                //...\n                context.getService().save(ts);//this is the line I want to monitor. This is also related to issue in some way.\n\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>The Issue</strong></p>\n<p>But there is an issue when I wrote a unit test for this class. My original unit test is this.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class GeneralProcessorTest {\n    @InjectMocks\n    private GeneralProcessor generalProcessor;\n    @Mock\n    private Context context;\n    @Spy\n    private ConcurrentLinkedQueue&lt;Task&gt; tasks;\n    @Mock\n    private TransactionRepository transactionRepository;\n    @Captor\n    private ArgumentCaptor&lt;Transaction&gt; transactionArgumentCaptor;\n    @Mock\n    private TransactionService transactionService;\n\n\n   @BeforeEach\n    void setup() {\n        //transactionService=new TransactionServiceImpl(transactionRepository);\n    }\n\n    @Test\n    @SneakyThrows\n    void should_match_save_times_single_thread() {\n        //given\n        CountDownLatch latch=new CountDownLatch(0);\n        this.tasks.add(new Task(10));\n        //stub code\n        when(context.getTasks()).thenReturn(tasks);\n        when(context.getService()).thenReturn(transactionService);\n        //when\n        generalProcessor.start();\n        latch.await(1, TimeUnit.SECONDS);\n        //then\n        //the issue happened here!\n        verify(transactionService).save(transactionArgumentCaptor.capture());\n        List&lt;Transaction&gt; capturedArguments = transactionArgumentCaptor.getAllValues();\n        assertEquals(capturedArguments.size(),1);\n    }\n</code></pre>\n<p>But I got:</p>\n<pre><code>Wanted but not invoked:\ntransactionService.save(\n    &lt;Capturing argument&gt;\n);\nat com.example.demo.GeneralProcessorTest.should_match_save_times_single_thread(GeneralProcessorTest.java:65)\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>In fact, I tried to init transactionService with <em>new</em>. But Mockito told me that in verify I can only use Mock object.</p>\n<p>So I am confused. Is there any way to let me use verify while at the same time keep transactionService working as a normal object? Any info is appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9252,"page":971,"page_size":100}
