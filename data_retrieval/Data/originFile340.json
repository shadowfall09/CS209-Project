{"items":[{"tags":["java","javafx"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":4,"creation_date":1688056355,"post_id":76582945,"comment_id":135025803,"body_markdown":"Serious question: why would you do this in java at all? Using a tool like ffmpeg to do your transcoding is going to be so much faster, and is a known quantity in terms of how to invoke it to do literally anything to video streams you need. Is there a specific reason you&#39;re doing this in Java rather than having Java trigger an ffmpeg pass on your file and waiting for that process to compelete?","body":"Serious question: why would you do this in java at all? Using a tool like ffmpeg to do your transcoding is going to be so much faster, and is a known quantity in terms of how to invoke it to do literally anything to video streams you need. Is there a specific reason you&#39;re doing this in Java rather than having Java trigger an ffmpeg pass on your file and waiting for that process to compelete?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1688059273,"post_id":76582945,"comment_id":135026365,"body_markdown":"Absolutely agree. I can understand why you might try to simplify things though so yes, use ffmpeg as your back end and make it simple at the front end","body":"Absolutely agree. I can understand why you might try to simplify things though so yes, use ffmpeg as your back end and make it simple at the front end"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688056005,"creation_date":1688056005,"question_id":76582945,"body_markdown":"I need to build a JavaFx desktop app which compresses/transcodes a large video file (+2.5gb).\r\n\r\nI&#39;m looking into the IVCompressor framework, but it throws an error java.lang.OutOfMemoryError: Java heap space.\r\n\r\n```\r\n        String pathToSrc = &quot;/Users/tm/Desktop/source.mp4&quot;;\r\n        String pathToDst = &quot;/Users/tm/Desktop/target.mp4&quot;;\r\n\r\n        IVCompressor compressor = new IVCompressor();\r\n        IVSize customRes = new IVSize();\r\n        customRes.setWidth(400);\r\n        customRes.setHeight(300);\r\n        File file = new File(pathToSrc);\r\n        compressor.reduceVideoSizeAndSaveToAPath(file, VideoFormats.MP4, ResizeResolution.R480P,pathToDst);\r\n\r\n```\r\n\r\nMaybe this isn&#39;t the right framework for the job. Is there a native library which can be embeded in a JavaFx app for Windows and Os X? \r\n\r\n","title":"Issue transcoding video file","body":"<p>I need to build a JavaFx desktop app which compresses/transcodes a large video file (+2.5gb).</p>\n<p>I'm looking into the IVCompressor framework, but it throws an error java.lang.OutOfMemoryError: Java heap space.</p>\n<pre><code>        String pathToSrc = &quot;/Users/tm/Desktop/source.mp4&quot;;\n        String pathToDst = &quot;/Users/tm/Desktop/target.mp4&quot;;\n\n        IVCompressor compressor = new IVCompressor();\n        IVSize customRes = new IVSize();\n        customRes.setWidth(400);\n        customRes.setHeight(300);\n        File file = new File(pathToSrc);\n        compressor.reduceVideoSizeAndSaveToAPath(file, VideoFormats.MP4, ResizeResolution.R480P,pathToDst);\n\n</code></pre>\n<p>Maybe this isn't the right framework for the job. Is there a native library which can be embeded in a JavaFx app for Windows and Os X?</p>\n"},{"tags":["java","reference","instance-variables"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688049573,"creation_date":1688048742,"answer_id":76581993,"question_id":76577731,"body_markdown":"There are a couple things wrong with the intialization.\r\n-  didn&#39;t handle a null player name.  \r\n-  Assigned an uninitialized `ScoreCard` to a local card variable. Didn&#39;t really hurt anything but it is redundant and that value of card will go out of scope when the constructor is finished.\r\n\r\nCheck if the player is null or has a blank name (including being empty). Note you **must** check if `playerName` is null first before attempting to check if it is blank. Otherwise, you may get a null pointer exception if the playerName is null.\r\n\r\nFor the score card, just assign the card an instance of `ScoreCard`. It is presumed some of your player methods will modify the scorecard as needed by simply using the field `card`.\r\n\r\n```\r\n// Constructor for objects of class Player\r\npublic Player(String PlayerName)\r\n{\r\n       // initialize all instance variables\r\n       // look for and handle a null reference for playerName\r\n       // to initialize this.card create ScoreCard instance and assign reference\r\n      \r\n       if (playerName == null || playerName.isBlank()) {\r\n            this.name = &quot;UNKNOWN&quot;;\r\n       } else {\r\n           this.name = playerName;\r\n       }\r\n       this.card = new ScoreCard();\r\n       this.longestDrive = 0;\r\n       this.fullDriveYards = 0;\r\n       this.fullDrives = 0;\r\n       this.drivesOnTarget = 0;\r\n}","title":"How to reference variables in other classes","body":"<p>There are a couple things wrong with the intialization.</p>\n<ul>\n<li>didn't handle a null player name.</li>\n<li>Assigned an uninitialized <code>ScoreCard</code> to a local card variable. Didn't really hurt anything but it is redundant and that value of card will go out of scope when the constructor is finished.</li>\n</ul>\n<p>Check if the player is null or has a blank name (including being empty). Note you <strong>must</strong> check if <code>playerName</code> is null first before attempting to check if it is blank. Otherwise, you may get a null pointer exception if the playerName is null.</p>\n<p>For the score card, just assign the card an instance of <code>ScoreCard</code>. It is presumed some of your player methods will modify the scorecard as needed by simply using the field <code>card</code>.</p>\n<pre><code>// Constructor for objects of class Player\npublic Player(String PlayerName)\n{\n       // initialize all instance variables\n       // look for and handle a null reference for playerName\n       // to initialize this.card create ScoreCard instance and assign reference\n      \n       if (playerName == null || playerName.isBlank()) {\n            this.name = &quot;UNKNOWN&quot;;\n       } else {\n           this.name = playerName;\n       }\n       this.card = new ScoreCard();\n       this.longestDrive = 0;\n       this.fullDriveYards = 0;\n       this.fullDrives = 0;\n       this.drivesOnTarget = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688056002,"creation_date":1688056002,"answer_id":76582943,"question_id":76577731,"body_markdown":"&gt; _&quot;I just feel like I&#39;m not doing this correctly ...&quot;_\r\n\r\nIt&#39;s correct, there are just some inconsistencies, so you may not get the result you&#39;re looking for.\r\n\r\nIn your constructor method for _Player_, you are assigning _PlayerName_ to the _name_ field, and then subsequently assigning _PlayerName_ to _&quot;UNKNOWN&quot;_.\r\n\r\nAssigning _PlayerName_ will have no effect on _name_.\r\n\r\n```java\r\nthis.name = PlayerName;\r\nPlayerName = &quot;UNKNOWN&quot;;\r\n```\r\n\r\nIn your comment you mention,\r\n\r\n```java\r\n// look for and handle a null reference for playerName\r\n```\r\n\r\nYou&#39;ll need a _conditional statement_ for this.\r\n\r\n```java\r\nif (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\r\nthis.name = PlayerName;\r\n```\r\n\r\nFurthermore, you are assigning your class variable _card_ to a new local variable _card_.\r\n\r\nThis, again, will have no effect, since _this.card_ would be _null_ at this point.\r\n\r\n```java\r\n// to initialize this.card create ScoreCard instance and assign reference\r\n```\r\n\r\nThe following will suffice.\r\n\r\n```java\r\nthis.card = new ScoreCard();\r\n```\r\n\r\nSo, the complete constructor should look like the following.\r\n\r\n```java\r\npublic Player(String PlayerName)\r\n{\r\n    // initialize all instance variables\r\n    // look for and handle a null reference for playerName\r\n    // to initialize this.card create ScoreCard instance and assign reference\r\n    if (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\r\n    this.name = PlayerName;\r\n    this.card = new ScoreCard();\r\n    this.longestDrive = 0;\r\n    this.fullDriveYards = 0;\r\n    this.fullDrives = 0;\r\n    this.drivesOnTarget = 0;\r\n}\r\n```\r\n\r\n&gt; _&quot;... I have researched and just can&#39;t seem to wrap my head around how to initialize variable that have to reference another method or class. ...&quot;_\r\n\r\nYou&#39;re assignment is correct,\r\n\r\n```java\r\nthis.card = new ScoreCard();\r\n```\r\n\r\nSince you&#39;re _ScoreCard_ class variables are declared as _private_, you won&#39;t be able to access them via _dot-notation_&amp;mdash;e.g., _card.totalStrokes_.\r\n\r\nYou will need to either remove the modifier, change the modifier to _public_, or create methods that will provide the access.\r\n\r\n```java\r\npublic class ScoreCard\r\n{\r\n    private int totalStrokes;\r\n    private int versusPar;\r\n    private LinkedList&lt;Integer&gt; playerScoreCard;\r\n\r\n    public int getTotalStrokes() {\r\n        return totalStrokes;\r\n    }\r\n\r\n    public void setTotalStrokes(int totalStrokes) {\r\n        this.totalStrokes = totalStrokes;\r\n    }\r\n\r\n    public int getVersusPar() {\r\n        return versusPar;\r\n    }\r\n\r\n    public void setVersusPar(int versusPar) {\r\n        this.versusPar = versusPar;\r\n    }\r\n\r\n    public LinkedList&lt;Integer&gt; getPlayerScoreCard() {\r\n        return playerScoreCard;\r\n    }\r\n\r\n    public void setPlayerScoreCard(LinkedList&lt;Integer&gt; playerScoreCard) {\r\n        this.playerScoreCard = playerScoreCard;\r\n    }\r\n}\r\n```\r\n\r\nThen, you can access the values as follows.\r\n\r\n```java\r\ncard.setTotalStrokes(123);\r\ncard.setVersusPar(123);\r\ncard.setPlayerScoreCard(new LinkedList&lt;&gt;());\r\n```\r\n\r\nHere are some references by _Java_ which may help in your coding process.\r\n\r\n_[Classes (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html)._  \r\n_[Lesson: Object-Oriented Programming Concepts (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language)](https://docs.oracle.com/javase/tutorial/java/concepts/index.html)._","title":"How to reference variables in other classes","body":"<blockquote>\n<p><em>&quot;I just feel like I'm not doing this correctly ...&quot;</em></p>\n</blockquote>\n<p>It's correct, there are just some inconsistencies, so you may not get the result you're looking for.</p>\n<p>In your constructor method for <em>Player</em>, you are assigning <em>PlayerName</em> to the <em>name</em> field, and then subsequently assigning <em>PlayerName</em> to <em>&quot;UNKNOWN&quot;</em>.</p>\n<p>Assigning <em>PlayerName</em> will have no effect on <em>name</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.name = PlayerName;\nPlayerName = &quot;UNKNOWN&quot;;\n</code></pre>\n<p>In your comment you mention,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// look for and handle a null reference for playerName\n</code></pre>\n<p>You'll need a <em>conditional statement</em> for this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\nthis.name = PlayerName;\n</code></pre>\n<p>Furthermore, you are assigning your class variable <em>card</em> to a new local variable <em>card</em>.</p>\n<p>This, again, will have no effect, since <em>this.card</em> would be <em>null</em> at this point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// to initialize this.card create ScoreCard instance and assign reference\n</code></pre>\n<p>The following will suffice.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.card = new ScoreCard();\n</code></pre>\n<p>So, the complete constructor should look like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Player(String PlayerName)\n{\n    // initialize all instance variables\n    // look for and handle a null reference for playerName\n    // to initialize this.card create ScoreCard instance and assign reference\n    if (PlayerName == null) PlayerName = &quot;UNKNOWN&quot;;\n    this.name = PlayerName;\n    this.card = new ScoreCard();\n    this.longestDrive = 0;\n    this.fullDriveYards = 0;\n    this.fullDrives = 0;\n    this.drivesOnTarget = 0;\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... I have researched and just can't seem to wrap my head around how to initialize variable that have to reference another method or class. ...&quot;</em></p>\n</blockquote>\n<p>You're assignment is correct,</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.card = new ScoreCard();\n</code></pre>\n<p>Since you're <em>ScoreCard</em> class variables are declared as <em>private</em>, you won't be able to access them via <em>dot-notation</em>‚Äîe.g., <em>card.totalStrokes</em>.</p>\n<p>You will need to either remove the modifier, change the modifier to <em>public</em>, or create methods that will provide the access.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScoreCard\n{\n    private int totalStrokes;\n    private int versusPar;\n    private LinkedList&lt;Integer&gt; playerScoreCard;\n\n    public int getTotalStrokes() {\n        return totalStrokes;\n    }\n\n    public void setTotalStrokes(int totalStrokes) {\n        this.totalStrokes = totalStrokes;\n    }\n\n    public int getVersusPar() {\n        return versusPar;\n    }\n\n    public void setVersusPar(int versusPar) {\n        this.versusPar = versusPar;\n    }\n\n    public LinkedList&lt;Integer&gt; getPlayerScoreCard() {\n        return playerScoreCard;\n    }\n\n    public void setPlayerScoreCard(LinkedList&lt;Integer&gt; playerScoreCard) {\n        this.playerScoreCard = playerScoreCard;\n    }\n}\n</code></pre>\n<p>Then, you can access the values as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>card.setTotalStrokes(123);\ncard.setVersusPar(123);\ncard.setPlayerScoreCard(new LinkedList&lt;&gt;());\n</code></pre>\n<p>Here are some references by <em>Java</em> which may help in your coding process.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html\" rel=\"nofollow noreferrer\">Classes (The Java‚Ñ¢ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a>.</em><br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/index.html\" rel=\"nofollow noreferrer\">Lesson: Object-Oriented Programming Concepts (The Java‚Ñ¢ Tutorials &gt; Learning the Java Language)</a>.</em></p>\n"}],"owner":{"account_id":25765820,"reputation":23,"user_id":19515795,"display_name":"Amber Lyda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76582943,"answer_count":2,"score":1,"last_activity_date":1688056002,"creation_date":1688006012,"question_id":76577731,"body_markdown":"I just feel like I&#39;m not doing this correctly and I have researched and just can&#39;t seem to wrap my head around how to initialize variable that have to reference another method or class.\r\n\r\nPlayer class\r\n\r\n\r\n    public class Player\r\n    {\r\n       //instance variables\r\n       private String name;\r\n       private ScoreCard card;\r\n       private int fullDriveYards;\r\n       private int fullDrives;\r\n       private int drivesOnTarget;\r\n    }\r\n\r\n\r\nHere&#39;s the ScoreCard class variables \r\n\r\n    public class ScoreCard\r\n    {\r\n        private int totalStrokes;\r\n        private int versusPar;\r\n        private LinkedList&lt;Integer&gt; playerScoreCard;\r\n    }\r\n    \r\n\r\n\r\n\r\nSo this is how I have initialized the instance variables is Player class I did not code the Scorecard class as I didn&#39;t have to but I still added it so you can see what&#39;s going on. I just need to know if I am on the right track or completely off.\r\n\r\n\r\n    // Constructor for objects of class Player\r\n    public Player(String PlayerName)\r\n    {\r\n           // initialize all instance variables\r\n           // look for and handle a null reference for playerName\r\n           // to initialize this.card create ScoreCard instance and assign reference\r\n           this.name = PlayerName;\r\n           PlayerName = &quot;UNKNOWN&quot;;\r\n           ScoreCard card = this.card;\r\n           this.card = new ScoreCard();\r\n           this.longestDrive = 0;\r\n           this.fullDriveYards = 0;\r\n           this.fullDrives = 0;\r\n           this.drivesOnTarget = 0;\r\n    }\r\n","title":"How to reference variables in other classes","body":"<p>I just feel like I'm not doing this correctly and I have researched and just can't seem to wrap my head around how to initialize variable that have to reference another method or class.</p>\n<p>Player class</p>\n<pre><code>public class Player\n{\n   //instance variables\n   private String name;\n   private ScoreCard card;\n   private int fullDriveYards;\n   private int fullDrives;\n   private int drivesOnTarget;\n}\n</code></pre>\n<p>Here's the ScoreCard class variables</p>\n<pre><code>public class ScoreCard\n{\n    private int totalStrokes;\n    private int versusPar;\n    private LinkedList&lt;Integer&gt; playerScoreCard;\n}\n</code></pre>\n<p>So this is how I have initialized the instance variables is Player class I did not code the Scorecard class as I didn't have to but I still added it so you can see what's going on. I just need to know if I am on the right track or completely off.</p>\n<pre><code>// Constructor for objects of class Player\npublic Player(String PlayerName)\n{\n       // initialize all instance variables\n       // look for and handle a null reference for playerName\n       // to initialize this.card create ScoreCard instance and assign reference\n       this.name = PlayerName;\n       PlayerName = &quot;UNKNOWN&quot;;\n       ScoreCard card = this.card;\n       this.card = new ScoreCard();\n       this.longestDrive = 0;\n       this.fullDriveYards = 0;\n       this.fullDrives = 0;\n       this.drivesOnTarget = 0;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","pagination"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1687182496,"post_id":76506791,"comment_id":134897137,"body_markdown":"You can use the `map()` function on `Page` to map from `CustomResult` to a `CustomResultDto` in your web layer. For the ordering, just add an order in your query.","body":"You can use the <code>map()</code> function on <code>Page</code> to map from <code>CustomResult</code> to a <code>CustomResultDto</code> in your web layer. For the ordering, just add an order in your query."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1687184983,"post_id":76506791,"comment_id":134897649,"body_markdown":"@WimDeblauwe I am not sure of that, I just want to change the key name from `tupleBackedMaps` to `somethingElse` and don&#39;t want to touch my custom response. I will give it a try. Related to the ordering part I have already tried in the query and placed the way I want it still not helping it","body":"@WimDeblauwe I am not sure of that, I just want to change the key name from <code>tupleBackedMaps</code> to <code>somethingElse</code> and don&#39;t want to touch my custom response. I will give it a try. Related to the ordering part I have already tried in the query and placed the way I want it still not helping it"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1687186973,"post_id":76506791,"comment_id":134898131,"body_markdown":"If using native query is not a problem for you !! This worked for me \nhttps://stackoverflow.com/a/75623759/16769477","body":"If using native query is not a problem for you !! This worked for me  <a href=\"https://stackoverflow.com/a/75623759/16769477\">stackoverflow.com/a/75623759/16769477</a>"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1687535029,"post_id":76506791,"comment_id":134955473,"body_markdown":"@WimDeblauwe Can you help me figure this out ? I am not able to get this done using `map`","body":"@WimDeblauwe Can you help me figure this out ? I am not able to get this done using <code>map</code>"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1687610050,"post_id":76506791,"comment_id":134962736,"body_markdown":"@LokeshPandey Do you have a sample github project that shows the problem?","body":"@LokeshPandey Do you have a sample github project that shows the problem?"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1687617607,"post_id":76506791,"comment_id":134963488,"body_markdown":"@WimDeblauwe no, but the response is same as what I have shown as well as the query and interface data model","body":"@WimDeblauwe no, but the response is same as what I have shown as well as the query and interface data model"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1688055830,"post_id":76506791,"comment_id":135025694,"body_markdown":"@WimDeblauwe can you look at my answer if that&#39;s what you were referring ?","body":"@WimDeblauwe can you look at my answer if that&#39;s what you were referring ?"}],"answers":[{"tags":[],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688055938,"creation_date":1688016369,"answer_id":76578269,"question_id":76506791,"body_markdown":"The solution seems bit inefficient to me. But other than this I couldn&#39;t figure out anything. Please let me know if you have came across solution better than this. I also don&#39;t understand since the springboot provides interface based data projection why didn&#39;t it provides these small stuffs at the interface level ? Probably this is for another debate.\r\n\r\nSo what I have done here is I have created a class say\r\n\r\n    @Data\r\n    @Builder\r\n    @Relation()\r\n    public class CustomResultResponse extends RepresentationModel&lt;CustomResultResponse&gt; {\r\n        String courseName;\r\n        String teacherName;\r\n        String studentName;\r\n    }\r\n\r\nAnd extracted the result from the pagination\r\n\r\n    List&lt;CustomResult&gt; customResult = result.getContent()\r\n\r\nAnd then converted the list customResult to CustomResultResponse, something like this\r\n\r\n    //\r\n    List&lt;CustomResult&gt; customResult = result.getContent()\r\n    List&lt;CustomResultResponse&gt; formattedResponse = new ArrayList&lt;&gt;();\r\n    for(CustomResult custom : customResult) {\r\n        CustomResultResponse response = CustomResultResponse.builder()\r\n        .courseName(response.getCourseName())\r\n        .teacherName(response.getTeacherName())\r\n        .studentName(response.getStudentName())\r\n        .build()\r\n        formattedResponse.add(response);\r\n    }\r\n\r\nAnd then converted the list to page and returned.\r\n\r\nThe problem is I don&#39;t see much issue here since the result I am getting from the database is paginated, so at max there won&#39;t be more than 20 results. This seems fine for the smaller page size but I am pretty sure this will be not be efficient if page size grows.\r\nAlso I am not able to digest the idea of converting the response `CustomResult` to `CustomResultResponse`.","title":"Pagination with interface based projection spring boot","body":"<p>The solution seems bit inefficient to me. But other than this I couldn't figure out anything. Please let me know if you have came across solution better than this. I also don't understand since the springboot provides interface based data projection why didn't it provides these small stuffs at the interface level ? Probably this is for another debate.</p>\n<p>So what I have done here is I have created a class say</p>\n<pre><code>@Data\n@Builder\n@Relation()\npublic class CustomResultResponse extends RepresentationModel&lt;CustomResultResponse&gt; {\n    String courseName;\n    String teacherName;\n    String studentName;\n}\n</code></pre>\n<p>And extracted the result from the pagination</p>\n<pre><code>List&lt;CustomResult&gt; customResult = result.getContent()\n</code></pre>\n<p>And then converted the list customResult to CustomResultResponse, something like this</p>\n<pre><code>//\nList&lt;CustomResult&gt; customResult = result.getContent()\nList&lt;CustomResultResponse&gt; formattedResponse = new ArrayList&lt;&gt;();\nfor(CustomResult custom : customResult) {\n    CustomResultResponse response = CustomResultResponse.builder()\n    .courseName(response.getCourseName())\n    .teacherName(response.getTeacherName())\n    .studentName(response.getStudentName())\n    .build()\n    formattedResponse.add(response);\n}\n</code></pre>\n<p>And then converted the list to page and returned.</p>\n<p>The problem is I don't see much issue here since the result I am getting from the database is paginated, so at max there won't be more than 20 results. This seems fine for the smaller page size but I am pretty sure this will be not be efficient if page size grows.\nAlso I am not able to digest the idea of converting the response <code>CustomResult</code> to <code>CustomResultResponse</code>.</p>\n"}],"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688055938,"creation_date":1687178883,"question_id":76506791,"body_markdown":"I am stuck on the pagination part for the interface based projection. So basically I am using an interface for the projection and building my custom response. This is the sample query\r\n\r\n    @Query(value = &quot;SELECT course AS courseName, teacher as teacherName, student AS studentName FROM table WHERE id = ?1 AND created_date &lt;= ?2 AND created_date &gt;= ?3 &quot;)\r\n    Page&lt;CustomResult&gt; getData(UUID id, LocalDateTime date, LocalDateTime date1, Pageable pageable);\r\n\r\nAnd this my interface\r\n\r\n    public interface CustomResult {\r\n    \tString getCourseName();\r\n    \tString getTeacherName();\r\n    \tString getStudentName();\r\n    }\r\n\r\nI am able to achieve the pagination here and I am getting the desired result something like this\r\n\r\n    {\r\n    \t&quot;_embedded&quot;:  {\r\n    \t\t&quot;tupleBackedMaps&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;courseName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;teacherName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;studentName&quot;: &quot;&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;courseName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;teacherName&quot;: &quot;&quot;,\r\n    \t\t\t\t&quot;studentName&quot;: &quot;&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t},\r\n    \t&quot;_links&quot;: {},\r\n    \t&quot;page&quot;: {\r\n    \t\t&quot;size&quot;: 10,\r\n    \t\t&quot;totalElements&quot;: 2,\r\n    \t\t&quot;totalPage&quot;: 1,\r\n    \t\t&quot;number&quot;: 0\r\n    \t}\r\n    }\r\n\r\nBut my problem here is little different I want to change the key name here `tupleBackedMaps` to `somethingElse`. And I also want to do the ordering of elements in the result. But I don&#39;t know how to do that with interface based projection. \r\n\r\nIf it was a class based projection I know there is something called `RepresentationModel` which can be used and `@Relation` and `JsonOrder` can be used to achieve what I want. But I don&#39;t know how to do this with interface.\r\n\r\nIs there a way ? Please let me know if there is any other way or workaround ?\r\n\r\n","title":"Pagination with interface based projection spring boot","body":"<p>I am stuck on the pagination part for the interface based projection. So basically I am using an interface for the projection and building my custom response. This is the sample query</p>\n<pre><code>@Query(value = &quot;SELECT course AS courseName, teacher as teacherName, student AS studentName FROM table WHERE id = ?1 AND created_date &lt;= ?2 AND created_date &gt;= ?3 &quot;)\nPage&lt;CustomResult&gt; getData(UUID id, LocalDateTime date, LocalDateTime date1, Pageable pageable);\n</code></pre>\n<p>And this my interface</p>\n<pre><code>public interface CustomResult {\n    String getCourseName();\n    String getTeacherName();\n    String getStudentName();\n}\n</code></pre>\n<p>I am able to achieve the pagination here and I am getting the desired result something like this</p>\n<pre><code>{\n    &quot;_embedded&quot;:  {\n        &quot;tupleBackedMaps&quot;: [\n            {\n                &quot;courseName&quot;: &quot;&quot;,\n                &quot;teacherName&quot;: &quot;&quot;,\n                &quot;studentName&quot;: &quot;&quot;\n            },\n            {\n                &quot;courseName&quot;: &quot;&quot;,\n                &quot;teacherName&quot;: &quot;&quot;,\n                &quot;studentName&quot;: &quot;&quot;\n            }\n        ]\n    },\n    &quot;_links&quot;: {},\n    &quot;page&quot;: {\n        &quot;size&quot;: 10,\n        &quot;totalElements&quot;: 2,\n        &quot;totalPage&quot;: 1,\n        &quot;number&quot;: 0\n    }\n}\n</code></pre>\n<p>But my problem here is little different I want to change the key name here <code>tupleBackedMaps</code> to <code>somethingElse</code>. And I also want to do the ordering of elements in the result. But I don't know how to do that with interface based projection.</p>\n<p>If it was a class based projection I know there is something called <code>RepresentationModel</code> which can be used and <code>@Relation</code> and <code>JsonOrder</code> can be used to achieve what I want. But I don't know how to do this with interface.</p>\n<p>Is there a way ? Please let me know if there is any other way or workaround ?</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687657077,"post_id":76548510,"comment_id":134966975,"body_markdown":"Who knows why this happens because it is unrealistic to create a frame that small. There is probably some kind of 1 pixel border. Post an [mre] demonstrating the problem. Also, why are you using a Frame. You should at least be using a JFrame since AWT is more outdated than Swing. What is the point of this? \n Maybe when using Swing you can use an undecorated JFrame..","body":"Who knows why this happens because it is unrealistic to create a frame that small. There is probably some kind of 1 pixel border. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. Also, why are you using a Frame. You should at least be using a JFrame since AWT is more outdated than Swing. What is the point of this?   Maybe when using Swing you can use an undecorated JFrame.."},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687659682,"post_id":76548510,"comment_id":134967120,"body_markdown":"@camickr It is undecorated. I do not see why it is unrealistic to create a frame of such size. It is exact same as JFrame.","body":"@camickr It is undecorated. I do not see why it is unrealistic to create a frame of such size. It is exact same as JFrame."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687663887,"post_id":76548510,"comment_id":134967326,"body_markdown":"Try setting it to be undecorated first, it &quot;could&quot; be a OS restriction (ps - seems to work fine on MacOS)","body":"Try setting it to be undecorated first, it &quot;could&quot; be a OS restriction (ps - seems to work fine on MacOS)"},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687665039,"post_id":76548510,"comment_id":134967374,"body_markdown":"@MadProgrammer thank you for the suggestion, will try on linux. Setting undecorated first did not change it, should not affect when it is set, as long as it&#39;s before frame.visible()","body":"@MadProgrammer thank you for the suggestion, will try on linux. Setting undecorated first did not change it, should not affect when it is set, as long as it&#39;s before frame.visible()"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1687665347,"post_id":76548510,"comment_id":134967393,"body_markdown":"I always find ‚Äúshould not effect when it‚Äôs set‚Äù to be immediately undone by effecting it when it‚Äôs set (see any discussion on setResizable changing the window size)&#128540; - it seems to be a limitation on Linux. I added a ComponentListener which printed the window size before doing anything else, might be worth seeing when the frame size changes to your undesired size","body":"I always find ‚Äúshould not effect when it‚Äôs set‚Äù to be immediately undone by effecting it when it‚Äôs set (see any discussion on setResizable changing the window size)üòú - it seems to be a limitation on Linux. I added a ComponentListener which printed the window size before doing anything else, might be worth seeing when the frame size changes to your undesired size"},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687671838,"post_id":76548510,"comment_id":134967772,"body_markdown":"@MadProgrammer Thank you, setResizable fixed it. Did not know about this before. For some reason no posts about setResizable on stackoverflow were shown on google when searched, when had keywords.","body":"@MadProgrammer Thank you, setResizable fixed it. Did not know about this before. For some reason no posts about setResizable on stackoverflow were shown on google when searched, when had keywords."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687700300,"post_id":76548510,"comment_id":134970212,"body_markdown":"*I do not see why it is unrealistic to create a frame of such size* - Again, what is the purpose? A JFrame is a &quot;container&quot; component, which means it is designed to contain other components.  It&#39;s unrealistic in the sense that what can you do with a 1 pixel frame? How can it contain other components? Also, an [mre] should be actual code we can compile, not an image.","body":"<i>I do not see why it is unrealistic to create a frame of such size</i> - Again, what is the purpose? A JFrame is a &quot;container&quot; component, which means it is designed to contain other components.  It&#39;s unrealistic in the sense that what can you do with a 1 pixel frame? How can it contain other components? Also, an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be actual code we can compile, not an image."},{"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"score":0,"creation_date":1687705364,"post_id":76548510,"comment_id":134970759,"body_markdown":"@camickr I got it figured out. I like to know why something happens and not give the excuse of &quot;unrealistic&quot;. Sincerely apologize for giving the code in picture format and not code block. HOPEFULLY you can fill in the blanks and create and image object, and that is it.","body":"@camickr I got it figured out. I like to know why something happens and not give the excuse of &quot;unrealistic&quot;. Sincerely apologize for giving the code in picture format and not code block. HOPEFULLY you can fill in the blanks and create and image object, and that is it."}],"owner":{"account_id":28888954,"reputation":1,"user_id":22126574,"display_name":"user22126574"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688055912,"creation_date":1687654840,"question_id":76548510,"body_markdown":"As the title suggests, when trying to set `setSize(int x, int y)` and `x`, `y` are below `3`, it defaults to `2`.\r\n\r\nTrying `setSize(1, 1)` creates a 2x2 pixel frame, and `setSize(0, 0)` creates a 2x2 pixel frame.\r\n\r\nI could not find anything on the internet mentioning this. \r\n\r\nIf anyone understood why this happens, please tell me!\r\n\r\nThank you.\r\n\r\n\r\n  https://i.stack.imgur.com/CxWJm.png","title":"Java AWT/Swing Frame.setsize() does not set intended size when below 3x3","body":"<p>As the title suggests, when trying to set <code>setSize(int x, int y)</code> and <code>x</code>, <code>y</code> are below <code>3</code>, it defaults to <code>2</code>.</p>\n<p>Trying <code>setSize(1, 1)</code> creates a 2x2 pixel frame, and <code>setSize(0, 0)</code> creates a 2x2 pixel frame.</p>\n<p>I could not find anything on the internet mentioning this.</p>\n<p>If anyone understood why this happens, please tell me!</p>\n<p>Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/CxWJm.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CxWJm.png</a></p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":8589103,"reputation":774,"user_id":6434216,"accept_rate":50,"display_name":"Flocke"},"score":1,"creation_date":1688110003,"post_id":76582848,"comment_id":135032517,"body_markdown":"Solved the problem. Thanks.","body":"Solved the problem. Thanks."}],"tags":[],"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688055844,"creation_date":1688055141,"answer_id":76582848,"question_id":76582802,"body_markdown":"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-authorization-extraction   \r\n\r\n     http\r\n         .oauth2ResourceServer(configurer -&gt;\r\n                configurer.jwt(\r\n                    jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter())\r\n                )\r\n         )","title":"Updating depreacted jwt-function with custom JwtAuthenticationConverter","body":"<p><a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-authorization-extraction\" rel=\"noreferrer\">https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/jwt.html#webflux-oauth2resourceserver-jwt-authorization-extraction</a></p>\n<pre><code> http\n     .oauth2ResourceServer(configurer -&gt;\n            configurer.jwt(\n                jwtConfigurer -&gt; jwtConfigurer.jwtAuthenticationConverter(jwtAuthenticationConverter())\n            )\n     )\n</code></pre>\n"}],"owner":{"account_id":8589103,"reputation":774,"user_id":6434216,"accept_rate":50,"display_name":"Flocke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76582848,"answer_count":1,"score":2,"last_activity_date":1688055844,"creation_date":1688054809,"question_id":76582802,"body_markdown":"I have this line of code:\r\n\r\n    http.oauth2ResourceServer(server -&gt; server.jwt().jwtAuthenticationConverter(jwtAuthenticationConverter()));\r\nwith\r\n\r\n    @Bean\r\n    public JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n    ...\r\n    }\r\n\r\njwt() is deprecated and I&#39;m tried to use &lt;code&gt;jwt(JwtConfigurer)&lt;/code&gt;. How does that work? How to register my AuthenticationConverter with that function?\r\n\r\nThanks!","title":"Updating depreacted jwt-function with custom JwtAuthenticationConverter","body":"<p>I have this line of code:</p>\n<pre><code>http.oauth2ResourceServer(server -&gt; server.jwt().jwtAuthenticationConverter(jwtAuthenticationConverter()));\n</code></pre>\n<p>with</p>\n<pre><code>@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n...\n}\n</code></pre>\n<p>jwt() is deprecated and I'm tried to use <code>jwt(JwtConfigurer)</code>. How does that work? How to register my AuthenticationConverter with that function?</p>\n<p>Thanks!</p>\n"},{"tags":["java","intellij-idea","javasound"],"comments":[{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1687584325,"post_id":76540894,"comment_id":134960581,"body_markdown":"Does your project use a module-info.java file? If so, can you show it&#39;s contents?","body":"Does your project use a module-info.java file? If so, can you show it&#39;s contents?"},{"owner":{"account_id":12500097,"reputation":61,"user_id":9098828,"display_name":"digitalway"},"score":0,"creation_date":1687635810,"post_id":76540894,"comment_id":134965415,"body_markdown":"I see this in the module-info.java module \n\ncom.example.music {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n\n    opens com.example.music to javafx.fxml;\n    exports com.example.music;\n}","body":"I see this in the module-info.java module   com.example.music {     requires javafx.controls;     requires javafx.fxml;       opens com.example.music to javafx.fxml;     exports com.example.music; }"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":1,"creation_date":1687744057,"post_id":76540894,"comment_id":134974556,"body_markdown":"I think you need to include a reference to java.desktop in your module-info file. I&#39;m not sure of the exact form/syntax, though. Perhaps it&#39;s simple adding the line &quot;requires java.desktop;&quot;? I&#39;d have to fiddle to know for sure.","body":"I think you need to include a reference to java.desktop in your module-info file. I&#39;m not sure of the exact form/syntax, though. Perhaps it&#39;s simple adding the line &quot;requires java.desktop;&quot;? I&#39;d have to fiddle to know for sure."},{"owner":{"account_id":12500097,"reputation":61,"user_id":9098828,"display_name":"digitalway"},"score":0,"creation_date":1687949801,"post_id":76540894,"comment_id":135007624,"body_markdown":"You are right @PhilFreihofner I added `requires java.desktop;` in module-info.java and it works! Thank you very much","body":"You are right @PhilFreihofner I added <code>requires java.desktop;</code> in module-info.java and it works! Thank you very much"},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1688055535,"post_id":76540894,"comment_id":135025617,"body_markdown":"I&#39;m going to post an answer or if you like you can post your own. Main thing is to have an answer designated so that others don&#39;t think this issue still needs solving.","body":"I&#39;m going to post an answer or if you like you can post your own. Main thing is to have an answer designated so that others don&#39;t think this issue still needs solving."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688055425,"creation_date":1688055425,"answer_id":76582877,"question_id":76540894,"body_markdown":"(Posted after engaging in clarifying questions.)\r\n\r\nSometimes an error message like this occurs because the required module is not listed in the `module-info.java` file.\r\n\r\nAccording to the OP, adding the following line to `module-info.java`:\r\n\r\n    requires java.desktop;\r\n\r\nsolved the issue.","title":"Package &#39;javax.sound.midi&#39; is declared in module","body":"<p>(Posted after engaging in clarifying questions.)</p>\n<p>Sometimes an error message like this occurs because the required module is not listed in the <code>module-info.java</code> file.</p>\n<p>According to the OP, adding the following line to <code>module-info.java</code>:</p>\n<pre><code>requires java.desktop;\n</code></pre>\n<p>solved the issue.</p>\n"}],"owner":{"account_id":12500097,"reputation":61,"user_id":9098828,"display_name":"digitalway"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582877,"answer_count":1,"score":0,"last_activity_date":1688055425,"creation_date":1687529281,"question_id":76540894,"body_markdown":"When I add this in my Java app in IntelliJ\r\n\r\n    import javax.sound.midi.*;\r\n\r\nI get this error\r\n&quot;Package &#39;javax.sound.midi&#39; is declared in module &#39;java.desktop&#39;, but module &#39;com.example.music&#39; does not read it&quot;\r\n\r\nI have read online that javax.sound is part of the OpenJDK 20 ...\r\n\r\nHave you an idea of why I get this error \r\n\r\nEd\r\n\r\n","title":"Package &#39;javax.sound.midi&#39; is declared in module","body":"<p>When I add this in my Java app in IntelliJ</p>\n<pre><code>import javax.sound.midi.*;\n</code></pre>\n<p>I get this error\n&quot;Package 'javax.sound.midi' is declared in module 'java.desktop', but module 'com.example.music' does not read it&quot;</p>\n<p>I have read online that javax.sound is part of the OpenJDK 20 ...</p>\n<p>Have you an idea of why I get this error</p>\n<p>Ed</p>\n"},{"tags":["java","maven","dependency-management","maven-shade-plugin"],"owner":{"account_id":26421235,"reputation":1,"user_id":20068882,"display_name":"Acech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688055349,"creation_date":1688055349,"question_id":76582870,"body_markdown":"I created a multi-module maven project in my IDE, which is structured in following form:\r\n\r\n```text\r\n‚îú‚îÄ‚îÄ pom.xml # root pom.xml\r\n‚îú‚îÄ‚îÄ commons\r\n‚îÇ&#160;&#160; ‚îú‚îÄ‚îÄ pom.xml # commons pom.xml  -[child of     ]-&gt; root pom.xml\r\n‚îÇ&#160;&#160; ‚îú‚îÄ‚îÄ bom     # bom pom.xml      -[detached from]-&gt; root pom.xml\r\n‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ core    # core             -[sub module of]-&gt; commons\r\n‚îú‚îÄ‚îÄ releases\r\n‚îÇ&#160;&#160; ‚îú‚îÄ‚îÄ pom.xml # releases pom.xml -[detached from]-&gt; root pom.xml\r\n‚îÇ&#160;&#160; ‚îî‚îÄ‚îÄ client  # client           -[sub module of]-&gt; releases\r\n‚îî‚îÄ‚îÄ services\r\n    ‚îú‚îÄ‚îÄ pom.xml # services pom.xml -[child of     ]-&gt; root pom.xml\r\n    ‚îú‚îÄ‚îÄ xx-api  # xx-api           -[sub module of]-&gt; services \r\n    ‚îî‚îÄ‚îÄ xx-impl # xx-impl          -[sub module of]-&gt; services\r\n```\r\n\r\nNote that **releases and its sub modules** is intended for deploying to a private maven repo,\r\nand here&#39;s an example of pom.xml files for those modules.&lt;br&gt;\r\n\r\nThe **ROOT** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;commons&lt;/module&gt;\r\n        &lt;module&gt;services&lt;/module&gt;\r\n        &lt;module&gt;releases&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **releases** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;releases&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;client&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;distributionManagement/&gt; &lt;!-- intended for a deploy into a private maven repo --&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **releases/client** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;releases&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xx-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- other dependencies --&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--\r\n                            ONLY shade com.demo:* artifacts in this uber jar!\r\n                            We don&#39;t want artifacts like core or xx-api\r\n                            being released to maven repo\r\n                            --&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;com.demo&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                            &lt;shadedClassifierName&gt;all&lt;/shadedClassifierName&gt;\r\n                            &lt;keepDependenciesWithProvidedScope&gt;true&lt;/keepDependenciesWithProvidedScope&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **services** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;services&lt;/artifactId&gt;\r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;xx-impl&lt;/module&gt;\r\n        &lt;module&gt;xx-api&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe **services/xx-api** pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;services&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- other dependencies --&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAfter running `mvn clean install`, i installed those modules into my local maven repo,\r\nthen i cd into releases to execute `mvn deploy`. Then releases/pom.xml, releases/client.jar,\r\nreleases/client-all.jar were deployed into the private maven repo.&lt;br&gt; \r\n\r\nBut when i create a new maven project to import the client-all.jar for unit testing, i got\r\nan exception claimed that classess **xx-api** or **core** depended is missing.&lt;br&gt;\r\n\r\nIt turns out that module **client** is not depending on dependencies **xx-api** is depended on,\r\nand i want know how to make **client** depending on dependencies **xx-api** depended automaticly.\r\n\r\n\r\nAny reply will be appreciated.","title":"How to shade a jar into uber jar and make uber jar&#39;s pom depending on shaded jar&#39;s dependencies?","body":"<p>I created a multi-module maven project in my IDE, which is structured in following form:</p>\n<pre><code>‚îú‚îÄ‚îÄ pom.xml # root pom.xml\n‚îú‚îÄ‚îÄ commons\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pom.xml # commons pom.xml  -[child of     ]-&gt; root pom.xml\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ bom     # bom pom.xml      -[detached from]-&gt; root pom.xml\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ core    # core             -[sub module of]-&gt; commons\n‚îú‚îÄ‚îÄ releases\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ pom.xml # releases pom.xml -[detached from]-&gt; root pom.xml\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ client  # client           -[sub module of]-&gt; releases\n‚îî‚îÄ‚îÄ services\n    ‚îú‚îÄ‚îÄ pom.xml # services pom.xml -[child of     ]-&gt; root pom.xml\n    ‚îú‚îÄ‚îÄ xx-api  # xx-api           -[sub module of]-&gt; services \n    ‚îî‚îÄ‚îÄ xx-impl # xx-impl          -[sub module of]-&gt; services\n</code></pre>\n<p>Note that <strong>releases and its sub modules</strong> is intended for deploying to a private maven repo,\nand here's an example of pom.xml files for those modules.<br></p>\n<p>The <strong>ROOT</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;commons&lt;/module&gt;\n        &lt;module&gt;services&lt;/module&gt;\n        &lt;module&gt;releases&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.demo&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>releases</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;releases&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;client&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;distributionManagement/&gt; &lt;!-- intended for a deploy into a private maven repo --&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>releases/client</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;releases&lt;/artifactId&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\n            &lt;artifactId&gt;xx-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- other dependencies --&gt;\n   &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!--\n                            ONLY shade com.demo:* artifacts in this uber jar!\n                            We don't want artifacts like core or xx-api\n                            being released to maven repo\n                            --&gt;\n                            &lt;artifactSet&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;com.demo&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;shadedClassifierName&gt;all&lt;/shadedClassifierName&gt;\n                            &lt;keepDependenciesWithProvidedScope&gt;true&lt;/keepDependenciesWithProvidedScope&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>services</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;services&lt;/artifactId&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;xx-impl&lt;/module&gt;\n        &lt;module&gt;xx-api&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The <strong>services/xx-api</strong> pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;services&lt;/artifactId&gt;\n        &lt;groupId&gt;com.demo&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.demo&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt; &lt;!-- version is reduced by &quot;bom&quot; module --&gt;\n        &lt;/dependency&gt;\n        &lt;!-- other dependencies --&gt;\n   &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After running <code>mvn clean install</code>, i installed those modules into my local maven repo,\nthen i cd into releases to execute <code>mvn deploy</code>. Then releases/pom.xml, releases/client.jar,\nreleases/client-all.jar were deployed into the private maven repo.<br></p>\n<p>But when i create a new maven project to import the client-all.jar for unit testing, i got\nan exception claimed that classess <strong>xx-api</strong> or <strong>core</strong> depended is missing.<br></p>\n<p>It turns out that module <strong>client</strong> is not depending on dependencies <strong>xx-api</strong> is depended on,\nand i want know how to make <strong>client</strong> depending on dependencies <strong>xx-api</strong> depended automaticly.</p>\n<p>Any reply will be appreciated.</p>\n"},{"tags":["java","gradle","groovy","build"],"comments":[{"owner":{"account_id":24721,"reputation":2004,"user_id":63066,"accept_rate":86,"display_name":"mrooney"},"score":3,"creation_date":1469120235,"post_id":11345193,"comment_id":64417943,"body_markdown":"It is worth mentioning that, as pre-cursor to solving this and as I ran into when I was getting this, you&#39;ll need to make sure you&#39;ve actually got a JDK installed :P And, on some systems, you&#39;ll need to install the devel JDK package to get tools.jar","body":"It is worth mentioning that, as pre-cursor to solving this and as I ran into when I was getting this, you&#39;ll need to make sure you&#39;ve actually got a JDK installed :P And, on some systems, you&#39;ll need to install the devel JDK package to get tools.jar"}],"answers":[{"comments":[{"owner":{"account_id":385186,"reputation":6475,"user_id":742173,"accept_rate":67,"display_name":"Abhishek Gupta"},"score":0,"creation_date":1473004645,"post_id":11345451,"comment_id":65969587,"body_markdown":"Yes it did made it to class path, but still getting the issue.","body":"Yes it did made it to class path, but still getting the issue."}],"tags":[],"owner":{"account_id":31011,"reputation":122016,"user_id":84889,"display_name":"Peter Niederwieser"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341495252,"creation_date":1341495252,"answer_id":11345451,"question_id":11345193,"body_markdown":"Did you make sure that tools.jar made it on the compile class path? Maybe the path is incorrect.\r\n\r\n    task debug &lt;&lt; {\r\n        configurations.compile.each { println it }\r\n    }","title":"Gradle does not find tools.jar","body":"<p>Did you make sure that tools.jar made it on the compile class path? Maybe the path is incorrect.</p>\n\n<pre><code>task debug &lt;&lt; {\n    configurations.compile.each { println it }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1542062,"reputation":8274,"user_id":1436450,"accept_rate":63,"display_name":"Chinaxing"},"score":31,"creation_date":1412919986,"post_id":11345708,"comment_id":41255381,"body_markdown":"so, how to set java.home in idea with gradle ?","body":"so, how to set java.home in idea with gradle ?"},{"owner":{"account_id":8745734,"reputation":129,"user_id":6541107,"display_name":"Surya prakash chaturvedi"},"score":1,"creation_date":1605528928,"post_id":11345708,"comment_id":114669005,"body_markdown":"Any help for mac users?","body":"Any help for mac users?"}],"tags":[],"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"comment_count":2,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1341496072,"creation_date":1341496072,"answer_id":11345708,"question_id":11345193,"body_markdown":"Found it. **System property &#39;java.home&#39; is not JAVA_HOME environment variable.** JAVA_HOME points to the JDK, while java.home points to the JRE. See [that page][1] for more info.\r\n\r\nSoo... My problem was that my startpoint was the jre folder (C:\\jdk1.6.0_26\\jre) and not the jdk folder (C:\\jdk1.6.0_26) as I thought(tools.jar is on the C:\\jdk1.6.0_26\\lib folder ). The compile line in dependencies.gradle should be:\r\n\r\n\tcompile files(&quot;${System.properties[&#39;java.home&#39;]}/../lib/tools.jar&quot;)\r\n\r\n\r\n  [1]: http://javahowto.blogspot.de/2006/05/javahome-vs-javahome.html","title":"Gradle does not find tools.jar","body":"<p>Found it. <strong>System property 'java.home' is not JAVA_HOME environment variable.</strong> JAVA_HOME points to the JDK, while java.home points to the JRE. See <a href=\"http://javahowto.blogspot.de/2006/05/javahome-vs-javahome.html\">that page</a> for more info.</p>\n\n<p>Soo... My problem was that my startpoint was the jre folder (C:\\jdk1.6.0_26\\jre) and not the jdk folder (C:\\jdk1.6.0_26) as I thought(tools.jar is on the C:\\jdk1.6.0_26\\lib folder ). The compile line in dependencies.gradle should be:</p>\n\n<pre><code>compile files(\"${System.properties['java.home']}/../lib/tools.jar\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":395044,"reputation":2806,"user_id":757808,"accept_rate":69,"display_name":"Ulterior"},"score":0,"creation_date":1580364706,"post_id":28805423,"comment_id":106074870,"body_markdown":"Cannot invoke method getURLs() on null object","body":"Cannot invoke method getURLs() on null object"}],"tags":[],"owner":{"account_id":917777,"reputation":2599,"user_id":950189,"accept_rate":83,"display_name":"Andrei LED"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1425285118,"creation_date":1425285118,"answer_id":28805423,"question_id":11345193,"body_markdown":"It may be two years too late, but I ran into the same problem recently and this is the solution I ended up with after finding [this post][1]:\r\n\r\n    import javax.tools.ToolProvider\r\n\r\n    dependencies {\r\n      compile (\r\n        files(((URLClassLoader) ToolProvider.getSystemToolClassLoader()).getURLs()),\r\n        ...\r\n      }\r\n    }\r\n\r\nIt should work if java.home points to a directory that&#39;s not under the JDK directory and even on Mac OS where you&#39;d have classes.jar instead of tools.jar.\r\n\r\n  [1]: https://stackoverflow.com/questions/25626757/correct-way-of-referencing-tools-jar-in-a-cross-platform-way/25628156#25628156","title":"Gradle does not find tools.jar","body":"<p>It may be two years too late, but I ran into the same problem recently and this is the solution I ended up with after finding <a href=\"https://stackoverflow.com/questions/25626757/correct-way-of-referencing-tools-jar-in-a-cross-platform-way/25628156#25628156\">this post</a>:</p>\n\n<pre><code>import javax.tools.ToolProvider\n\ndependencies {\n  compile (\n    files(((URLClassLoader) ToolProvider.getSystemToolClassLoader()).getURLs()),\n    ...\n  }\n}\n</code></pre>\n\n<p>It should work if java.home points to a directory that's not under the JDK directory and even on Mac OS where you'd have classes.jar instead of tools.jar.</p>\n"},{"comments":[{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":22,"creation_date":1464861531,"post_id":35623142,"comment_id":62662305,"body_markdown":"the tool.jar is in `%JAVA_HOME%\\lib;` not in `bin` folder.","body":"the tool.jar is in <code>%JAVA_HOME%\\lib;</code> not in <code>bin</code> folder."},{"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"score":5,"creation_date":1474945971,"post_id":35623142,"comment_id":66728607,"body_markdown":"does this mean that we should be adding both `%JAVA_HOME%/bin` and `%JAVA_HOME%/lib` to the `Path` variable then?","body":"does this mean that we should be adding both <code>%JAVA_HOME%&#47;bin</code> and <code>%JAVA_HOME%&#47;lib</code> to the <code>Path</code> variable then?"},{"owner":{"account_id":5152724,"reputation":7213,"user_id":4126843,"accept_rate":88,"display_name":"PHPirate"},"score":3,"creation_date":1495210184,"post_id":35623142,"comment_id":75173153,"body_markdown":"Even though tools.jar is indeed in \\lib, adding only \\bin to path as in solution worked for me but don&#39;t ask why.","body":"Even though tools.jar is indeed in \\lib, adding only \\bin to path as in solution worked for me but don&#39;t ask why."},{"owner":{"account_id":1002920,"reputation":131,"user_id":1017372,"display_name":"reiner_zuphall"},"score":1,"creation_date":1507626086,"post_id":35623142,"comment_id":80273590,"body_markdown":"Usually a restart/logout is required for changes to have an effect.","body":"Usually a restart/logout is required for changes to have an effect."},{"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"score":4,"creation_date":1525290683,"post_id":35623142,"comment_id":87303191,"body_markdown":"I had to remove the PATH entry C:\\ProgramData\\Oracle\\Java\\javapath and replace it with C:\\ProgramData\\Oracle\\Java\\jdk1.8.xxx it was defaulting to the sister JRE directory","body":"I had to remove the PATH entry C:\\ProgramData\\Oracle\\Java\\javapath and replace it with C:\\ProgramData\\Oracle\\Java\\jdk1.8.xxx it was defaulting to the sister JRE directory"}],"tags":[],"owner":{"account_id":3518834,"reputation":17752,"user_id":3828228,"accept_rate":98,"display_name":"benscabbia"},"comment_count":5,"down_vote_count":0,"up_vote_count":163,"is_accepted":false,"score":163,"last_activity_date":1456392347,"creation_date":1456392347,"answer_id":35623142,"question_id":11345193,"body_markdown":"I had this problem when I was trying to run commands through CLI. \r\n\r\nIt was a problem with system looking at the JRE folder i.e. \r\n`D:\\Program Files\\Java\\jre8\\bin`. If we look in there, there is no `Tools.jar`, hence the error. \r\n\r\nYou need to find where the `JDK` is, in my case: `D:\\Program Files\\Java\\jdk1.8.0_11`, and if you look in the `lib` directory, you will see `Tools.jar`.\r\n\r\nWhat I did I created a new environment variable `JAVA_HOME`:\r\n[![enter image description here][1]][1]\r\n\r\nAnd then you need to edit your PATH variable to include JAVA_HOME, i.e.  `%JAVA_HOME%/bin;`\r\n[![enter image description here][2]][2]\r\n\r\nRe-open command prompt and should run. \r\n\r\n  [1]: http://i.stack.imgur.com/rxvGT.jpg\r\n  [2]: http://i.stack.imgur.com/rzg4E.jpg","title":"Gradle does not find tools.jar","body":"<p>I had this problem when I was trying to run commands through CLI. </p>\n\n<p>It was a problem with system looking at the JRE folder i.e. \n<code>D:\\Program Files\\Java\\jre8\\bin</code>. If we look in there, there is no <code>Tools.jar</code>, hence the error. </p>\n\n<p>You need to find where the <code>JDK</code> is, in my case: <code>D:\\Program Files\\Java\\jdk1.8.0_11</code>, and if you look in the <code>lib</code> directory, you will see <code>Tools.jar</code>.</p>\n\n<p>What I did I created a new environment variable <code>JAVA_HOME</code>:\n<a href=\"https://i.stack.imgur.com/rxvGT.jpg\"><img src=\"https://i.stack.imgur.com/rxvGT.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And then you need to edit your PATH variable to include JAVA_HOME, i.e.  <code>%JAVA_HOME%/bin;</code>\n<a href=\"https://i.stack.imgur.com/rzg4E.jpg\"><img src=\"https://i.stack.imgur.com/rzg4E.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Re-open command prompt and should run. </p>\n"},{"comments":[{"owner":{"account_id":84769,"reputation":18303,"user_id":236743,"accept_rate":69,"display_name":"Dori"},"score":3,"creation_date":1471512094,"post_id":35939443,"comment_id":65379457,"body_markdown":"This works for me if I use `compile` instead of `runtime`","body":"This works for me if I use <code>compile</code> instead of <code>runtime</code>"},{"owner":{"account_id":12333,"reputation":3758,"user_id":24208,"accept_rate":82,"display_name":"Adam Plumb"},"score":0,"creation_date":1497296831,"post_id":35939443,"comment_id":76008433,"body_markdown":"I like this solution.  It&#39;s nice and portable.","body":"I like this solution.  It&#39;s nice and portable."},{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":7,"creation_date":1528327554,"post_id":35939443,"comment_id":88469634,"body_markdown":"This solution  does not work with Gradle 4.x. I get a `NullPointerException`.","body":"This solution  does not work with Gradle 4.x. I get a <code>NullPointerException</code>."},{"owner":{"account_id":200939,"reputation":324,"user_id":447096,"display_name":"Mohammed"},"score":1,"creation_date":1569242906,"post_id":35939443,"comment_id":102521959,"body_markdown":"I can imagine it returning null when there is no tools.jar available with latest JDK. See https://github.com/gradle/gradle/blob/master/subprojects/base-services/src/main/java/org/gradle/internal/jvm/Jvm.java#L297","body":"I can imagine it returning null when there is no tools.jar available with latest JDK. See <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/base-services/src/main/java/org/gradle/internal/jvm/Jvm.java#L297\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/blob/master/subprojects/base-servic&zwnj;&#8203;es/&hellip;</a>"}],"tags":[],"owner":{"account_id":200939,"reputation":324,"user_id":447096,"display_name":"Mohammed"},"comment_count":4,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1457696672,"creation_date":1457696672,"answer_id":35939443,"question_id":11345193,"body_markdown":"I was struggling as well for this Solution. Found a better way to it with Gradle as described [here][1].\r\nWe can get the JVM/JDK information from Gradle itself.\r\n\r\n    dependencies {\r\n       runtime files(org.gradle.internal.jvm.Jvm.current().toolsJar)\r\n    }\r\nSo simple.\r\n  [1]: http://mohammed-technical.blogspot.com/2016/03/getting-jdk-information-in-gradle-to.html?soo\r\n","title":"Gradle does not find tools.jar","body":"<p>I was struggling as well for this Solution. Found a better way to it with Gradle as described <a href=\"http://mohammed-technical.blogspot.com/2016/03/getting-jdk-information-in-gradle-to.html?soo\">here</a>.\nWe can get the JVM/JDK information from Gradle itself.</p>\n\n<pre><code>dependencies {\n   runtime files(org.gradle.internal.jvm.Jvm.current().toolsJar)\n}\n</code></pre>\n\n<p>So simple.</p>\n"},{"comments":[{"owner":{"account_id":2738241,"reputation":1007,"user_id":2360385,"display_name":"samsong8610"},"score":5,"creation_date":1469605938,"post_id":38099601,"comment_id":64600638,"body_markdown":"On linux, you can also edit `~/.gradle/gradle.properties` file, adding `org.gradle.java.home=/usr/lib/jvm/java`. Works for me on Fedora 24.","body":"On linux, you can also edit <code>~&#47;.gradle&#47;gradle.properties</code> file, adding <code>org.gradle.java.home=&#47;usr&#47;lib&#47;jvm&#47;java</code>. Works for me on Fedora 24."}],"tags":[],"owner":{"account_id":25175,"reputation":890,"user_id":64529,"display_name":"bondehagen"},"comment_count":1,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1467203433,"creation_date":1467203433,"answer_id":38099601,"question_id":11345193,"body_markdown":"I just added a `gradle.properties` file with the following content:\r\n\r\n    org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\r\n","title":"Gradle does not find tools.jar","body":"<p>I just added a <code>gradle.properties</code> file with the following content:</p>\n\n<pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":7,"creation_date":1522751275,"post_id":38825539,"comment_id":86262395,"body_markdown":"Don&#39;t forget to use double back slashes. For example: `org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_144\\ `.","body":"Don&#39;t forget to use double back slashes. For example: <code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_144\\ </code>."}],"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1510916799,"creation_date":1470648333,"answer_id":38825539,"question_id":11345193,"body_markdown":"Add this to `gradle.properties`:\r\n\r\n&gt; org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_91","title":"Gradle does not find tools.jar","body":"<p>Add this to <code>gradle.properties</code>:</p>\n\n<blockquote>\n  <p>org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_91</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"score":2,"creation_date":1487774392,"post_id":39040163,"comment_id":71936323,"body_markdown":"I&#39;ve found this answer after hours of searching, and this finally worked. Thank you so much!","body":"I&#39;ve found this answer after hours of searching, and this finally worked. Thank you so much!"},{"owner":{"display_name":"user5366495"},"score":5,"creation_date":1495050807,"post_id":39040163,"comment_id":75093892,"body_markdown":"I cant find Open Gradle Run and Java Home. Can you explain further?","body":"I cant find Open Gradle Run and Java Home. Can you explain further?"},{"owner":{"account_id":216464,"reputation":1988,"user_id":471736,"accept_rate":83,"display_name":"Dronz"},"score":0,"creation_date":1540274173,"post_id":39040163,"comment_id":92792406,"body_markdown":"Being new to this, how would one &quot;Go to the &quot;Gradle Task&quot; view&quot;? I don&#39;t see anything Gradle under the View menu, nor anything labeled anything like that?","body":"Being new to this, how would one &quot;Go to the &quot;Gradle Task&quot; view&quot;? I don&#39;t see anything Gradle under the View menu, nor anything labeled anything like that?"}],"tags":[],"owner":{"account_id":1855411,"reputation":1650,"user_id":1681103,"accept_rate":64,"display_name":"rattek"},"comment_count":3,"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1471612888,"creation_date":1471612888,"answer_id":39040163,"question_id":11345193,"body_markdown":"I got the same error using Eclipse trying to execute a Gradle Task. Every time I run a command (i.e. war) the process threw an exception like: \r\n\r\n&gt; Could not find tools.jar. Please check that C:\\Program Files\\Java\\Jre8&quot; is a valid JDK install.\r\n\r\nI tried the solution listed in this post but none of them solved this issue. Here my solution :\r\n\r\n 1. Go to the &quot;Gradle Task&quot; view \r\n 2. Right Click on the task you want to execute\r\n 3. Select Open Gradle Run Configuration\r\n 4. In the tab &quot;Java Home&quot; select your local JDK repository then click OK\r\n\r\nRun again, Enjoy! ","title":"Gradle does not find tools.jar","body":"<p>I got the same error using Eclipse trying to execute a Gradle Task. Every time I run a command (i.e. war) the process threw an exception like: </p>\n\n<blockquote>\n  <p>Could not find tools.jar. Please check that C:\\Program Files\\Java\\Jre8\" is a valid JDK install.</p>\n</blockquote>\n\n<p>I tried the solution listed in this post but none of them solved this issue. Here my solution :</p>\n\n<ol>\n<li>Go to the \"Gradle Task\" view </li>\n<li>Right Click on the task you want to execute</li>\n<li>Select Open Gradle Run Configuration</li>\n<li>In the tab \"Java Home\" select your local JDK repository then click OK</li>\n</ol>\n\n<p>Run again, Enjoy! </p>\n"},{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473482934,"creation_date":1473482934,"answer_id":39422668,"question_id":11345193,"body_markdown":"Like other answers I set **org.gradle.java.home** property in **gradle.properties** file. But path with \\ separators did not work (building on windows 10): \r\n\r\n&gt; Java home supplied via &#39;org.gradle.java.home&#39; is invalid. Invalid\r\n&gt; directory: C:Program FilesJavajdk1.8.0_65\r\n\r\nSo instead of \r\n\r\n&gt; org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_65\r\n\r\ni had to use\r\n&gt; org.gradle.java.home=C:/Program Files/Java/jdk1.8.0_65\r\n\r\nthen the build was successful\r\n\r\nProblem is that project is build with JRE instead of JDK and since I was building it from eclipse this also worked:\r\n\r\n - In Window&gt;Preferences&gt;Gradle&gt;Arguments specify Workspace JRE and specify your JDK. \r\n - In Window&gt;Preferences&gt;Java&gt;InstalledJREs specify your JDK as default","title":"Gradle does not find tools.jar","body":"<p>Like other answers I set <strong>org.gradle.java.home</strong> property in <strong>gradle.properties</strong> file. But path with \\ separators did not work (building on windows 10): </p>\n\n<blockquote>\n  <p>Java home supplied via 'org.gradle.java.home' is invalid. Invalid\n  directory: C:Program FilesJavajdk1.8.0_65</p>\n</blockquote>\n\n<p>So instead of </p>\n\n<blockquote>\n  <p>org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_65</p>\n</blockquote>\n\n<p>i had to use</p>\n\n<blockquote>\n  <p>org.gradle.java.home=C:/Program Files/Java/jdk1.8.0_65</p>\n</blockquote>\n\n<p>then the build was successful</p>\n\n<p>Problem is that project is build with JRE instead of JDK and since I was building it from eclipse this also worked:</p>\n\n<ul>\n<li>In Window>Preferences>Gradle>Arguments specify Workspace JRE and specify your JDK. </li>\n<li>In Window>Preferences>Java>InstalledJREs specify your JDK as default</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2419491,"reputation":819,"user_id":2112832,"display_name":"Ciro Mine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493129991,"creation_date":1493129991,"answer_id":43613289,"question_id":11345193,"body_markdown":"In my case (Windows 10) after Java update I lost my Enviroment Variables, so I fixed added the variables again, based in the following steps https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html","title":"Gradle does not find tools.jar","body":"<p>In my case (Windows 10) after Java update I lost my Enviroment Variables, so I fixed added the variables again, based in the following steps <a href=\"https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/doc/setting-the-java_home-variable-in-windows-8895.html</a></p>\n"},{"comments":[{"owner":{"account_id":4380701,"reputation":1299,"user_id":3572417,"display_name":"pesch&#252;"},"score":3,"creation_date":1516091853,"post_id":45355487,"comment_id":83537422,"body_markdown":"Yes, installing JDK instead of JRE also solved the problem for me.","body":"Yes, installing JDK instead of JRE also solved the problem for me."},{"owner":{"account_id":2023658,"reputation":4128,"user_id":1809268,"accept_rate":22,"display_name":"Ajith M A"},"score":1,"creation_date":1630393057,"post_id":45355487,"comment_id":121936230,"body_markdown":"I was getting the same issue even though i had java installed and i saw a folder for openjdk. Later only i realized that the folder had only JRE installed. Not JDK.","body":"I was getting the same issue even though i had java installed and i saw a folder for openjdk. Later only i realized that the folder had only JRE installed. Not JDK."},{"owner":{"account_id":8736977,"reputation":1090,"user_id":6535270,"accept_rate":50,"display_name":"orpheus"},"score":1,"creation_date":1645029261,"post_id":45355487,"comment_id":125763413,"body_markdown":"So I had the jdk installed, my JAVA_HOME set -- I ran this exact command and verified with `java -version` (Debian). Then after seeing this comment, for kicks I re-ran it, and then my build worked fine. I&#39;m not sure what happened, it must have missed some packages on the initial install. Thank you though!","body":"So I had the jdk installed, my JAVA_HOME set -- I ran this exact command and verified with <code>java -version</code> (Debian). Then after seeing this comment, for kicks I re-ran it, and then my build worked fine. I&#39;m not sure what happened, it must have missed some packages on the initial install. Thank you though!"}],"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"comment_count":3,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1516233089,"creation_date":1501170445,"answer_id":45355487,"question_id":11345193,"body_markdown":"I had a similar case using **Ubuntu**. The machine had only the **JRE** installed. So, I just executed the command below to install the **JDK**.\r\n\r\n`sudo apt install openjdk-8-jdk`","title":"Gradle does not find tools.jar","body":"<p>I had a similar case using <strong>Ubuntu</strong>. The machine had only the <strong>JRE</strong> installed. So, I just executed the command below to install the <strong>JDK</strong>.</p>\n\n<p><code>sudo apt install openjdk-8-jdk</code></p>\n"},{"comments":[{"owner":{"account_id":8767790,"reputation":1409,"user_id":6555620,"display_name":"rvf"},"score":0,"creation_date":1544799601,"post_id":47263391,"comment_id":94415640,"body_markdown":"Paths may vary slightly. In Fedora this worked for me with `JAVA_HOME=&quot;/usr/lib/jvm/java-openjdk&quot;`","body":"Paths may vary slightly. In Fedora this worked for me with <code>JAVA_HOME=&quot;&#47;usr&#47;lib&#47;jvm&#47;java-openjdk&quot;</code>"}],"tags":[],"owner":{"account_id":8773666,"reputation":3569,"user_id":6559577,"accept_rate":38,"display_name":"Mortada Jafar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510572935,"creation_date":1510572935,"answer_id":47263391,"question_id":11345193,"body_markdown":"**Linux**\r\n\r\nOpen `/etc/environment` in any text editor like *nano* or *gedit* and add the following line:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/open-jdk&quot;\r\n\r\n**Windows**      \r\n\r\n 1. Start the System Control Panel applet (Start - Settings - Control\r\n    Panel - System). \r\n 2. Select the Advanced tab. \r\n 3. Click the Environment\r\n    Variables button. \r\n 4. Under System Variables, click add button, then past the following lines:\r\n \r\n    in Variable Name : `JAVA_HOME`\r\n\r\n    in Variable Value :  `C:\\Program Files\\Java\\jdk1.x.x_xxx` \r\n\r\n    where `x.x_xxx` jdk version you can get your jdk version from here `C:\\Program Files\\Java`\r\n\r\n 5. Under System Variables, select Path, then click Edit,then click new button then past the following line:\r\n\r\n    `%JAVA_HOME%/bin;`\r\n\r\n","title":"Gradle does not find tools.jar","body":"<p><strong>Linux</strong></p>\n\n<p>Open <code>/etc/environment</code> in any text editor like <em>nano</em> or <em>gedit</em> and add the following line:</p>\n\n<pre><code>JAVA_HOME=\"/usr/lib/jvm/open-jdk\"\n</code></pre>\n\n<p><strong>Windows</strong>      </p>\n\n<ol>\n<li>Start the System Control Panel applet (Start - Settings - Control\nPanel - System). </li>\n<li>Select the Advanced tab. </li>\n<li>Click the Environment\nVariables button. </li>\n<li><p>Under System Variables, click add button, then past the following lines:</p>\n\n<p>in Variable Name : <code>JAVA_HOME</code></p>\n\n<p>in Variable Value :  <code>C:\\Program Files\\Java\\jdk1.x.x_xxx</code> </p>\n\n<p>where <code>x.x_xxx</code> jdk version you can get your jdk version from here <code>C:\\Program Files\\Java</code></p></li>\n<li><p>Under System Variables, select Path, then click Edit,then click new button then past the following line:</p>\n\n<p><code>%JAVA_HOME%/bin;</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12520075,"reputation":11,"user_id":9111752,"display_name":"Haseena B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513572394,"creation_date":1513568117,"answer_id":47861816,"question_id":11345193,"body_markdown":"Adding JDK path through JAVA_HOME tab in &quot;Open Gradle Run Configuration&quot; will solve the problem.","title":"Gradle does not find tools.jar","body":"<p>Adding JDK path through JAVA_HOME tab in \"Open Gradle Run Configuration\" will solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1515294193,"creation_date":1515291994,"answer_id":48133797,"question_id":11345193,"body_markdown":"This worked for me:\r\n\r\nI was getting message \r\n\r\n&gt; Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; &gt; Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_121 contains a valid JDK installation.\r\n\r\n\r\n - In Android Studio, check your SDK Location.\r\n - File, Project Structure, SDK Location, JDK Location.\r\n - Example: C:\\android-studio\\android-studio\\jre\r\n - Copy the tools.jar file in the C:\\android-studio\\android-studio\\jre\\lib folder into the C:\\Program Files\\Java\\jre1.8.0_121\\lib folder.\r\n - Retry.","title":"Gradle does not find tools.jar","body":"<p>This worked for me:</p>\n\n<p>I was getting message </p>\n\n<blockquote>\n  <p>Execution failed for task ':app:compileDebugJavaWithJavac'.</p>\n  \n  <blockquote>\n    <p>Could not find tools.jar. Please check that C:\\Program Files\\Java\\jre1.8.0_121 contains a valid JDK installation.</p>\n  </blockquote>\n</blockquote>\n\n<ul>\n<li>In Android Studio, check your SDK Location.</li>\n<li>File, Project Structure, SDK Location, JDK Location.</li>\n<li>Example: C:\\android-studio\\android-studio\\jre</li>\n<li>Copy the tools.jar file in the C:\\android-studio\\android-studio\\jre\\lib folder into the C:\\Program Files\\Java\\jre1.8.0_121\\lib folder.</li>\n<li>Retry.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":152658,"reputation":9096,"user_id":367319,"accept_rate":85,"display_name":"Saher Ahwal"},"score":0,"creation_date":1585259251,"post_id":48772824,"comment_id":107705675,"body_markdown":"this should be the accepted answer for Windows :)  --thanks","body":"this should be the accepted answer for Windows :)  --thanks"}],"tags":[],"owner":{"account_id":2200783,"reputation":788,"user_id":1945240,"display_name":"Duncan O. N."},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1519047045,"creation_date":1518544585,"answer_id":48772824,"question_id":11345193,"body_markdown":"On windows 10, I encounter the same problem and this how I fixed the issue;\r\n\r\n 1. Access `Advance System Settings&gt;Environment Variables&gt;System\r\n    Variables` \r\n 2. Select **PATH** overwrite the default\r\n        `C:\\ProgramData\\Oracle\\Java\\javapath` \r\n 3. With your own jdk installation that is **JAVA_HOME**=`C:\\Program Files\\Java\\jdk1.8.0_162`","title":"Gradle does not find tools.jar","body":"<p>On windows 10, I encounter the same problem and this how I fixed the issue;</p>\n\n<ol>\n<li>Access <code>Advance System Settings&gt;Environment Variables&gt;System\nVariables</code> </li>\n<li>Select <strong>PATH</strong> overwrite the default\n    <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> </li>\n<li>With your own jdk installation that is <strong>JAVA_HOME</strong>=<code>C:\\Program Files\\Java\\jdk1.8.0_162</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":933407,"reputation":1267,"user_id":962814,"accept_rate":56,"display_name":"Matheus Gontijo"},"score":0,"creation_date":1521749957,"post_id":49372511,"comment_id":85877422,"body_markdown":"Thanks Richard! It really helped me! I was struggling running &quot;react-native run-android&quot; and getting the error: * What went wrong:\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\n&gt; Could not find tools.jar. Please check that /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.161-5.b14.fc27.x86_64/jre contains a valid JDK installation. Now it&#39;s working! Thanks again!","body":"Thanks Richard! It really helped me! I was struggling running &quot;react-native run-android&quot; and getting the error: * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; Could not find tools.jar. Please check that /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.161-5.b14.fc27.x86_64/&zwnj;&#8203;jre contains a valid JDK installation. Now it&#39;s working! Thanks again!"},{"owner":{"account_id":13585490,"reputation":1251,"user_id":9800326,"display_name":"rajdeepbs29"},"score":0,"creation_date":1543330556,"post_id":49372511,"comment_id":93873984,"body_markdown":"Thanks Richard..It worked for me as well. Basically it was a JAVA_HOME path issue which tried to find tools.jar in the desired java jdk path.","body":"Thanks Richard..It worked for me as well. Basically it was a JAVA_HOME path issue which tried to find tools.jar in the desired java jdk path."},{"owner":{"account_id":540190,"reputation":957,"user_id":908316,"display_name":"Freddie"},"score":0,"creation_date":1603483845,"post_id":49372511,"comment_id":114062292,"body_markdown":"I am using Amazon Linux AMI and this solution worked perfectly.","body":"I am using Amazon Linux AMI and this solution worked perfectly."}],"tags":[],"owner":{"account_id":333654,"reputation":764,"user_id":659615,"display_name":"Richard Ginsberg"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1521494381,"creation_date":1521494381,"answer_id":49372511,"question_id":11345193,"body_markdown":"In CentOS7 the development package will install tools.jar. The file is not present in java-1.8.0-openjdk\r\n\r\n`sudo yum install java-1.8.0-openjdk-devel`","title":"Gradle does not find tools.jar","body":"<p>In CentOS7 the development package will install tools.jar. The file is not present in java-1.8.0-openjdk</p>\n\n<p><code>sudo yum install java-1.8.0-openjdk-devel</code></p>\n"},{"comments":[{"owner":{"account_id":312775,"reputation":11845,"user_id":627042,"accept_rate":0,"display_name":"Erik Aronesty"},"score":0,"creation_date":1540848626,"post_id":50464943,"comment_id":93007801,"body_markdown":"Same issue, fixed it for me, also Win 10/Android Studio.   Also, none of the above solutions actually seems to download a &quot;Tools.jar&quot; ... just doesn&#39;t come with the jre)","body":"Same issue, fixed it for me, also Win 10/Android Studio.   Also, none of the above solutions actually seems to download a &quot;Tools.jar&quot; ... just doesn&#39;t come with the jre)"},{"owner":{"account_id":1937341,"reputation":686,"user_id":1744461,"accept_rate":67,"display_name":"br4nnigan"},"score":0,"creation_date":1575315021,"post_id":50464943,"comment_id":104516996,"body_markdown":"Worked for me too. I created a gradle.properties in the project root containing `org.gradle.java.home=E:\\\\Android Studio\\\\jre`","body":"Worked for me too. I created a gradle.properties in the project root containing <code>org.gradle.java.home=E:\\\\Android Studio\\\\jre</code>"}],"tags":[],"owner":{"account_id":8767606,"reputation":143,"user_id":6555487,"display_name":"Stefan Densow"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1526983461,"creation_date":1526983461,"answer_id":50464943,"question_id":11345193,"body_markdown":"On my system (Win 10, JRE 1.8.0, Android Studio 3.1.2, Gradle 4.1) there is no `tools.jar` in the JRE directory (`C:\\Program Files\\Java\\jre1.8.0_171`).\r\n\r\nHowever, I found it in `C:\\Program Files\\Android\\Android Studio\\jre\\lib` and tried setting **`JAVA_HOME=C:\\Program Files\\Android\\Android Studio\\jre`**\r\n\r\nThat works (for me)!","title":"Gradle does not find tools.jar","body":"<p>On my system (Win 10, JRE 1.8.0, Android Studio 3.1.2, Gradle 4.1) there is no <code>tools.jar</code> in the JRE directory (<code>C:\\Program Files\\Java\\jre1.8.0_171</code>).</p>\n\n<p>However, I found it in <code>C:\\Program Files\\Android\\Android Studio\\jre\\lib</code> and tried setting <strong><code>JAVA_HOME=C:\\Program Files\\Android\\Android Studio\\jre</code></strong></p>\n\n<p>That works (for me)!</p>\n"},{"tags":[],"owner":{"account_id":5358637,"reputation":778,"user_id":4270641,"display_name":"Wiktor Wardzichowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529583661,"creation_date":1529583661,"answer_id":50968465,"question_id":11345193,"body_markdown":"If you use terminal to build and you have this error you can point to jdk bundled with android studio in your `gradle.properties` file:\r\n\r\n    org.gradle.java.home=/usr/local/android-studio/jre","title":"Gradle does not find tools.jar","body":"<p>If you use terminal to build and you have this error you can point to jdk bundled with android studio in your <code>gradle.properties</code> file:</p>\n\n<pre><code>org.gradle.java.home=/usr/local/android-studio/jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534430815,"creation_date":1534430815,"answer_id":51879818,"question_id":11345193,"body_markdown":"With Centos 7, I have found that **only JDK has `tools.jar`, while JRE has not**. I have installed the Java 8 JRE(`yum install java-1.8.0-openjdk`), but not the JDK(`yum install java-1.8.0-openjdk-devel`).\r\n\r\nInstalling the latter solves the problem. Also, remember to set `JAVA_HOME`.\r\n\r\n","title":"Gradle does not find tools.jar","body":"<p>With Centos 7, I have found that <strong>only JDK has <code>tools.jar</code>, while JRE has not</strong>. I have installed the Java 8 JRE(<code>yum install java-1.8.0-openjdk</code>), but not the JDK(<code>yum install java-1.8.0-openjdk-devel</code>).</p>\n\n<p>Installing the latter solves the problem. Also, remember to set <code>JAVA_HOME</code>.</p>\n"},{"comments":[{"owner":{"account_id":1172572,"reputation":1179,"user_id":1149404,"display_name":"JepZ"},"score":0,"creation_date":1694868663,"post_id":54832934,"comment_id":135949590,"body_markdown":"Years later: With Arch Linux I still had java-8-openjdk set as the default. Simply setting a newer version as the default solved the issue for me: `sudo archlinux-java set java-20-openjdk`. I added this as a comment to your solution since I believe it is very similar to your solution.","body":"Years later: With Arch Linux I still had java-8-openjdk set as the default. Simply setting a newer version as the default solved the issue for me: <code>sudo archlinux-java set java-20-openjdk</code>. I added this as a comment to your solution since I believe it is very similar to your solution."}],"tags":[],"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550859462,"creation_date":1550859462,"answer_id":54832934,"question_id":11345193,"body_markdown":"I&#39;ve tried most of the top options but it seems that I had something wrong with my environment setup so they didn&#39;t help. What solved the issue for me was to **re-install** `jdk1.8.0_201` and `jre1.8.0_201` and this solved the error for me. Hope that helps someone.","title":"Gradle does not find tools.jar","body":"<p>I've tried most of the top options but it seems that I had something wrong with my environment setup so they didn't help. What solved the issue for me was to <strong>re-install</strong> <code>jdk1.8.0_201</code> and <code>jre1.8.0_201</code> and this solved the error for me. Hope that helps someone.</p>\n"},{"comments":[{"owner":{"account_id":9685238,"reputation":1700,"user_id":7185314,"accept_rate":100,"display_name":"TessavWalstijn"},"score":0,"creation_date":1586952479,"post_id":55147764,"comment_id":108316843,"body_markdown":"Had to copy it to `C:\\Program Files (x86)\\Java\\jre1.8.0_211` and `C:\\Program Files (x86)\\Java\\jre1.8.0_251`","body":"Had to copy it to <code>C:\\Program Files (x86)\\Java\\jre1.8.0_211</code> and <code>C:\\Program Files (x86)\\Java\\jre1.8.0_251</code>"}],"tags":[],"owner":{"account_id":6254326,"reputation":89,"user_id":4863417,"display_name":"Veljko P."},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552497442,"creation_date":1552497442,"answer_id":55147764,"question_id":11345193,"body_markdown":"I solved problem on this way:\r\n\r\n - download file tools-1.8.0.jar on http://www.java2s.com/Code/Jar/t/Downloadtools180jar.htm\r\n - unzip file and rename to tools.jar\r\n - copy to C:\\Program Files\\Java\\jre1.8.0_191\\lib folder\r\n - Retry","title":"Gradle does not find tools.jar","body":"<p>I solved problem on this way:</p>\n\n<ul>\n<li>download file tools-1.8.0.jar on <a href=\"http://www.java2s.com/Code/Jar/t/Downloadtools180jar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/t/Downloadtools180jar.htm</a></li>\n<li>unzip file and rename to tools.jar</li>\n<li>copy to C:\\Program Files\\Java\\jre1.8.0_191\\lib folder</li>\n<li>Retry</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19061901,"reputation":47,"user_id":13917830,"display_name":"Ad&#225;rio Muatelembe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602928226,"creation_date":1602928226,"answer_id":64401144,"question_id":11345193,"body_markdown":"Put in gradle.properties file the following code line:\r\n\r\n    org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\r\n\r\n[Example image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7LmtZ.png","title":"Gradle does not find tools.jar","body":"<p>Put in gradle.properties file the following code line:</p>\n<pre><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_45\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7LmtZ.png\" rel=\"nofollow noreferrer\">Example image</a></p>\n"},{"comments":[{"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"score":0,"creation_date":1604324064,"post_id":64644821,"comment_id":114304572,"body_markdown":"Hi there! Thanks for the answer :)\nI am sure that worked.... However, please check the other answers in this question. It will help you in the future to understand the differences between the Java Runtime Environment (JRE) and the Java Development Kit (JDK).","body":"Hi there! Thanks for the answer :) I am sure that worked.... However, please check the other answers in this question. It will help you in the future to understand the differences between the Java Runtime Environment (JRE) and the Java Development Kit (JDK)."},{"owner":{"account_id":5766401,"reputation":1571,"user_id":4551227,"accept_rate":25,"display_name":"Jesus Erwin Suarez"},"score":0,"creation_date":1644591725,"post_id":64644821,"comment_id":125654409,"body_markdown":"It works for me!! So this comment helps me to solve my problem as well. Thanks bro!","body":"It works for me!! So this comment helps me to solve my problem as well. Thanks bro!"}],"tags":[],"owner":{"account_id":19879263,"reputation":51,"user_id":14563622,"display_name":"B. Robert"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604317470,"creation_date":1604316985,"answer_id":64644821,"question_id":11345193,"body_markdown":"What solved it for me was the following:\r\n1. found tools.jar in C:\\Program Files\\Android\\Android Studio\\jre\\lib\r\n2. copy paste to C:\\Program Files (x86)\\Java\\jre1.8.0_271\\lib\r\n3. ran the code again and it worked.","title":"Gradle does not find tools.jar","body":"<p>What solved it for me was the following:</p>\n<ol>\n<li>found tools.jar in C:\\Program Files\\Android\\Android Studio\\jre\\lib</li>\n<li>copy paste to C:\\Program Files (x86)\\Java\\jre1.8.0_271\\lib</li>\n<li>ran the code again and it worked.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4402459,"reputation":158,"user_id":3587699,"accept_rate":100,"display_name":"CodeSammich"},"score":2,"creation_date":1608085578,"post_id":65194009,"comment_id":115473157,"body_markdown":"Thanks! Adding the $JAVA_HOME environment to my `.zshrc` and adding it to `gradle.properties` did it for me :D","body":"Thanks! Adding the $JAVA_HOME environment to my <code>.zshrc</code> and adding it to <code>gradle.properties</code> did it for me :D"}],"tags":[],"owner":{"account_id":10256653,"reputation":965,"user_id":7569316,"accept_rate":75,"display_name":"SpkingR"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1607408245,"creation_date":1607408245,"answer_id":65194009,"question_id":11345193,"body_markdown":"My solution on Mac:\r\n\r\nadd this line to `gradle.properties`:\r\n\r\n    org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home\r\n\r\nnot this one:\r\n\r\n    org.gradle.java.home=/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n\r\nyou can open the last home directory and will find that there is no `lib/tools.jar` file existence, so change the path to `JavaVirtualMachines/jdk1.8.0_271.jdk` and it works for me.\r\n\r\nBy the way, in the terminal, I echo the `$JAVA_HOME` and it gets the first path, not the second one, I think this is why my Gradle cannot work properly.","title":"Gradle does not find tools.jar","body":"<p>My solution on Mac:</p>\n<p>add this line to <code>gradle.properties</code>:</p>\n<pre><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_271.jdk/Contents/Home\n</code></pre>\n<p>not this one:</p>\n<pre><code>org.gradle.java.home=/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n</code></pre>\n<p>you can open the last home directory and will find that there is no <code>lib/tools.jar</code> file existence, so change the path to <code>JavaVirtualMachines/jdk1.8.0_271.jdk</code> and it works for me.</p>\n<p>By the way, in the terminal, I echo the <code>$JAVA_HOME</code> and it gets the first path, not the second one, I think this is why my Gradle cannot work properly.</p>\n"},{"tags":[],"owner":{"account_id":7730522,"reputation":341,"user_id":5853830,"display_name":"tiagorockman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610890111,"creation_date":1610890111,"answer_id":65761181,"question_id":11345193,"body_markdown":"For me this error ocurred after trying to use audioplayers flutter library. \r\nTo solve i got tools.jar of the folder: \r\n\r\n&gt; C:\\Program Files\\Android\\Android Studio\\jre\\lib\r\n\r\n and pasted on \r\n\r\n&gt; C:\\Program Files\\Java\\jre1.8.0_181\\lib.\r\n\r\n After this the build worked fine.","title":"Gradle does not find tools.jar","body":"<p>For me this error ocurred after trying to use audioplayers flutter library.\nTo solve i got tools.jar of the folder:</p>\n<blockquote>\n<p>C:\\Program Files\\Android\\Android Studio\\jre\\lib</p>\n</blockquote>\n<p>and pasted on</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jre1.8.0_181\\lib.</p>\n</blockquote>\n<p>After this the build worked fine.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618571028,"creation_date":1618568589,"answer_id":67123488,"question_id":11345193,"body_markdown":"**Could not find tools.jar**\r\n\r\nMacOS\r\n\r\n```\r\necho export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\r\n```\r\n\r\nAnd restart Shell ","title":"Gradle does not find tools.jar","body":"<p><strong>Could not find tools.jar</strong></p>\n<p>MacOS</p>\n<pre><code>echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile\n</code></pre>\n<p>And restart Shell</p>\n"},{"comments":[{"owner":{"account_id":11634510,"reputation":373,"user_id":8524925,"display_name":"ehounder"},"score":0,"creation_date":1661735091,"post_id":67618805,"comment_id":129835119,"body_markdown":"These 6 steps WORKED! after 3 days of nada -&gt; r3 Corda docs &amp; various tutorials say to modify `~/.zshrc` which does not work on my Mac.","body":"These 6 steps WORKED! after 3 days of nada -&gt; r3 Corda docs &amp; various tutorials say to modify <code>~&#47;.zshrc</code> which does not work on my Mac."}],"tags":[],"owner":{"account_id":1203638,"reputation":10037,"user_id":1173810,"accept_rate":62,"display_name":"Bashar Altakrouri"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1627849239,"creation_date":1621507358,"answer_id":67618805,"question_id":11345193,"body_markdown":"**In macOS Big Sur**\r\n\r\nThe issue happens because of the environment variable `JAVA_HOME` is not correctly set in macOS Big Sur.\r\n\r\nStep 1 - Confirm that you have issue with `JAVA_HOME` by printing its value in the terminal. You will most likely get an empty string.\r\n\r\n```\r\necho $JAVA_HOME\r\n```\r\n\r\nStep 2 - Find the correct path on your machine\r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nCopy that path associated with &quot;Java SE 8&quot; which usually looks like `/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home`\r\n\r\n\r\nStep 3 - Edit `.zshenv` using `nano`\r\n\r\n```\r\nnano ~/.zshenv\r\n```\r\n\r\nStep 4 - Add the path from step 2 to the file as follows\r\n\r\n```\r\nexport JAVA_HOME=YOUR_JAVA_PATH\r\n```\r\nexample:\r\n\r\n```\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n```\r\n\r\nStep 5 - Source the updated `.zshenv` file to activate the environment variable\r\n\r\n```\r\nsource ~/.zshenv\r\n```\r\n\r\n\r\nStep 6 - Print to confirm the path\r\n\r\n```\r\necho $JAVA_HOME\r\n```\r\n","title":"Gradle does not find tools.jar","body":"<p><strong>In macOS Big Sur</strong></p>\n<p>The issue happens because of the environment variable <code>JAVA_HOME</code> is not correctly set in macOS Big Sur.</p>\n<p>Step 1 - Confirm that you have issue with <code>JAVA_HOME</code> by printing its value in the terminal. You will most likely get an empty string.</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>Step 2 - Find the correct path on your machine</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>Copy that path associated with &quot;Java SE 8&quot; which usually looks like <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home</code></p>\n<p>Step 3 - Edit <code>.zshenv</code> using <code>nano</code></p>\n<pre><code>nano ~/.zshenv\n</code></pre>\n<p>Step 4 - Add the path from step 2 to the file as follows</p>\n<pre><code>export JAVA_HOME=YOUR_JAVA_PATH\n</code></pre>\n<p>example:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n</code></pre>\n<p>Step 5 - Source the updated <code>.zshenv</code> file to activate the environment variable</p>\n<pre><code>source ~/.zshenv\n</code></pre>\n<p>Step 6 - Print to confirm the path</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14529704,"reputation":11,"user_id":16267462,"display_name":"Ganesh Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624107386,"creation_date":1624107386,"answer_id":68046986,"question_id":11345193,"body_markdown":"\r\n**My Android Studio Version: 4.2.1**\r\n\r\nThe **&quot;tools.jar&quot;** is provided by Oracle JDK which is required by android studio for compilation - I have faced this issue after updating android studio to latest version in my PC.\r\n\r\n**To Resolve the issue follow below steps:**\r\n\r\n1. In Android studio File -&gt; Project Structure -&gt; SDKs (Under Platform Settings)\r\n\r\n   A) Add JDK path by pressing &#39;+&#39; symbol in middle pane if suppose JDK/JDK home path is not present in the middle pane already (Middle pane also contains the Downloaded Android SDK&#39;s)\r\n\r\n   B) Java sdk will be usually present/installed in the path 64 bit =&gt; &quot;C:\\Program Files\\Java\\jdk1.X.Y_ABC&quot; (In my PC it is 1.8.0_202) or 32 bit =&gt; &quot;C:\\Program Files (x86)\\Java\\jdk1.X.Y_ABC&quot;\r\n\r\n2. If suppose you don&#39;t have JDK installed in your PC, \r\nplease download and install from Oracle Java website \r\nhttps://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n\r\n3) Set JDK and JRE Path(Download both from webpage mentioned in step 2) in system environment variable\r\n\r\n   A) Press windows key type &quot;Edit the system environment variables&quot; and open the application\r\n\r\n   B) Go to Advanced -&gt; Environment Variables Under system variables add JAVA_HOME and JRE_HOME as below\r\n\r\n[Set Windows system environment variable][1]\r\n\r\n  [1]: https://i.stack.imgur.com/cUUlc.png\r\n\r\n4) Add jdk lib path on the Path environment variable under user variables (this step is required only if the error not resolves with the previous steps) \r\nC:\\Program Files\\Java\\jdk1.X.Y_ABC\\lib\r\n","title":"Gradle does not find tools.jar","body":"<p><strong>My Android Studio Version: 4.2.1</strong></p>\n<p>The <strong>&quot;tools.jar&quot;</strong> is provided by Oracle JDK which is required by android studio for compilation - I have faced this issue after updating android studio to latest version in my PC.</p>\n<p><strong>To Resolve the issue follow below steps:</strong></p>\n<ol>\n<li><p>In Android studio File -&gt; Project Structure -&gt; SDKs (Under Platform Settings)</p>\n<p>A) Add JDK path by pressing '+' symbol in middle pane if suppose JDK/JDK home path is not present in the middle pane already (Middle pane also contains the Downloaded Android SDK's)</p>\n<p>B) Java sdk will be usually present/installed in the path 64 bit =&gt; &quot;C:\\Program Files\\Java\\jdk1.X.Y_ABC&quot; (In my PC it is 1.8.0_202) or 32 bit =&gt; &quot;C:\\Program Files (x86)\\Java\\jdk1.X.Y_ABC&quot;</p>\n</li>\n<li><p>If suppose you don't have JDK installed in your PC,\nplease download and install from Oracle Java website\n<a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a></p>\n</li>\n</ol>\n<ol start=\"3\">\n<li><p>Set JDK and JRE Path(Download both from webpage mentioned in step 2) in system environment variable</p>\n<p>A) Press windows key type &quot;Edit the system environment variables&quot; and open the application</p>\n<p>B) Go to Advanced -&gt; Environment Variables Under system variables add JAVA_HOME and JRE_HOME as below</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cUUlc.png\" rel=\"nofollow noreferrer\">Set Windows system environment variable</a></p>\n<ol start=\"4\">\n<li>Add jdk lib path on the Path environment variable under user variables (this step is required only if the error not resolves with the previous steps)\nC:\\Program Files\\Java\\jdk1.X.Y_ABC\\lib</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4569846,"reputation":54,"user_id":3709808,"display_name":"Chamiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629033951,"creation_date":1629033951,"answer_id":68791961,"question_id":11345193,"body_markdown":"For Windows add JDK home path to the Gradle property file as org.gradle.java.home.\r\nIf you don&#39;t have gradle.properties file then create a new one and add\r\n\r\nEx: org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_241","title":"Gradle does not find tools.jar","body":"<p>For Windows add JDK home path to the Gradle property file as org.gradle.java.home.\nIf you don't have gradle.properties file then create a new one and add</p>\n<p>Ex: org.gradle.java.home=C:\\Program Files\\Java\\jdk1.8.0_241</p>\n"},{"comments":[{"owner":{"account_id":6251884,"reputation":168,"user_id":4861695,"display_name":"Cool Soft"},"score":0,"creation_date":1659435961,"post_id":71781112,"comment_id":129289078,"body_markdown":"the most elegant answer inspired as I understand by official Gradle documentation (https://docs.gradle.org/current/userguide/toolchains.html)","body":"the most elegant answer inspired as I understand by official Gradle documentation (<a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/toolchains.html</a>)"},{"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"score":0,"creation_date":1660225072,"post_id":71781112,"comment_id":129486290,"body_markdown":"now amended so that the language version need not be hard-coded","body":"now amended so that the language version need not be hard-coded"},{"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"score":0,"creation_date":1663833612,"post_id":71781112,"comment_id":130333324,"body_markdown":"NB. this is not used for Java 17 - there is no tools.jar any more..","body":"NB. this is not used for Java 17 - there is no tools.jar any more.."}],"tags":[],"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660225033,"creation_date":1649329953,"answer_id":71781112,"question_id":11345193,"body_markdown":"Use this with modern versions of gradle:\r\n\r\n```\r\ndef compiler = javaToolchains.compilerFor { languageVersion = JavaLanguageVersion.of(java.sourceCompatibility.majorVersion) }.get()\r\nimplementation compiler.metadata.installationPath.files(&#39;lib/tools.jar&#39;)\r\n```","title":"Gradle does not find tools.jar","body":"<p>Use this with modern versions of gradle:</p>\n<pre><code>def compiler = javaToolchains.compilerFor { languageVersion = JavaLanguageVersion.of(java.sourceCompatibility.majorVersion) }.get()\nimplementation compiler.metadata.installationPath.files('lib/tools.jar')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28920194,"reputation":1,"user_id":22151338,"display_name":"Jaskirat Singh Takhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688055096,"creation_date":1688055096,"answer_id":76582839,"question_id":11345193,"body_markdown":"In Case, Non of the above solutions work. Simply copy tools.jar file from jdk folder into the jre folder. Make sure you have elevated privileges before you make this move. \r\n","title":"Gradle does not find tools.jar","body":"<p>In Case, Non of the above solutions work. Simply copy tools.jar file from jdk folder into the jre folder. Make sure you have elevated privileges before you make this move.</p>\n"}],"owner":{"account_id":125956,"reputation":5099,"user_id":322099,"accept_rate":88,"display_name":"raspayu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381525,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":11345708,"answer_count":31,"score":196,"last_activity_date":1688055096,"creation_date":1341494375,"question_id":11345193,"body_markdown":"I am using javadoc doclets with gradle, so I need to use the package tools.jar, which is in the lib folder from the jdk (1.6.0_26 in my case).\r\n\r\nThe point is that gradle does not take it automatically, so I was adding that tools package to my libs folder, and then adding it to dependencies.gradle . \r\n\r\nNow I want to take it directly from my JDK home into my dependencies.gradle. Is there a way to do that? I have tried the next in my dependencies.gradle:\r\n\r\n    compile files(&quot;${System.properties[&#39;java.home&#39;]}/lib/tools.jar&quot;)\r\n\r\nBut it does not find it while compiling.","title":"Gradle does not find tools.jar","body":"<p>I am using javadoc doclets with gradle, so I need to use the package tools.jar, which is in the lib folder from the jdk (1.6.0_26 in my case).</p>\n\n<p>The point is that gradle does not take it automatically, so I was adding that tools package to my libs folder, and then adding it to dependencies.gradle . </p>\n\n<p>Now I want to take it directly from my JDK home into my dependencies.gradle. Is there a way to do that? I have tried the next in my dependencies.gradle:</p>\n\n<pre><code>compile files(\"${System.properties['java.home']}/lib/tools.jar\")\n</code></pre>\n\n<p>But it does not find it while compiling.</p>\n"},{"tags":["java","instanceof"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1646826499,"post_id":71408265,"comment_id":126218805,"body_markdown":"actually `Book.class` is the type - it can be stored in a variable `Class&lt;?&gt; bookType = Book.class`  and used like in `if (bookType.isInstance(book))` (Note: often there are better solution {more OO} instead of using reflection)","body":"actually <code>Book.class</code> is the type - it can be stored in a variable <code>Class&lt;?&gt; bookType = Book.class</code>  and used like in <code>if (bookType.isInstance(book))</code> (Note: often there are better solution {more OO} instead of using reflection)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646835139,"post_id":71408265,"comment_id":126221952,"body_markdown":"As reflection should only be the really last resort, what is your &quot;true&quot; goal? `book.getClass()` returns the `Class&lt;Book&gt;` instance, but that cannot be used with the `instanceof` operator. The `instanceof` operator would even raise a compile time error if the expression on the left side would cause a `ClassCastException` at runtime, when you cast it to the type on the right side of the operator. With a variable on the right side, this would not be possible.","body":"As reflection should only be the really last resort, what is your &quot;true&quot; goal? <code>book.getClass()</code> returns the <code>Class&lt;Book&gt;</code> instance, but that cannot be used with the <code>instanceof</code> operator. The <code>instanceof</code> operator would even raise a compile time error if the expression on the left side would cause a <code>ClassCastException</code> at runtime, when you cast it to the type on the right side of the operator. With a variable on the right side, this would not be possible."},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1646835472,"post_id":71408265,"comment_id":126222090,"body_markdown":"I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class.","body":"I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646837309,"creation_date":1646836917,"answer_id":71411121,"question_id":71408265,"body_markdown":"The closest to what you originally asked&lt;sup&gt;1&lt;/sup&gt; for is something like this:\r\n\r\n       Class&lt;?&gt; clazz = Book.class;\r\n    \r\n       Object someObject = new Book(...);\r\n       \r\n       if (clazz.isInstance(someObject)) {\r\n          Object instanceOfClazz = clazz.cast(someObject);\r\n          // ...\r\n       }\r\n\r\n(Note that this Q&amp;A - https://stackoverflow.com/questions/949352 - directly answers the question in the your question title.)\r\n\r\nBut you objected that the result of the `cast` call:\r\n\r\n&gt; *&quot;would lose all the methods of the `Book` class&quot;*.\r\n\r\nFirst of all that is not technically correct.  The object that `instanceOfClazz` refers to is still and will always remain a `Book`.  It still has and will always have all of the methods of a `Book`.\r\n\r\nBut you do have a point (I think).  You cannot use the `cast` call&#39;s result effectively in the above code because you assigned it to a variable whose type is `Object`.  And you cannot call `Book` methods via a variable / value whose *static* type is `Object`.\r\n\r\nIf instead we had written this:\r\n\r\n       Class&lt;Book&gt; clazz = Book.class;\r\n    \r\n       Object someObject = new Book(...);\r\n       \r\n       if (clazz.isInstance(someObject)) {\r\n          Book book = clazz.cast(someObject);\r\n          // call some `Book` methods.\r\n       }\r\n\r\nNow you can call `Book` methods on `book`.  But the gotcha is that we had to write `Class&lt;Book&gt;` instead of `Class&lt;?&gt;` (or `Class`) to make that work.  So we have ended up wiring the class name `Book` into the code anyway.  Ooops!\r\n\r\nThe fundamental problem is that Java code cannot make regular method calls on an object unless the compiler knows what its type is ... and that it has those methods.  If you want to invoke `Book` methods in cases where the static type of the variable is (say) `Object`, then you have to use reflection to do it.  Something like this:\r\n\r\n      if (clazz.isInstance(someObject)) {\r\n          Method method = clazz.getMethod(&quot;setNosPages&quot;, int.class);\r\n          method.invoke(someObject, 99);\r\n      }\r\n\r\nand deal with the various exceptions that that might throw.\r\n\r\nBasically, you refer to the class and methods by name in the code, or you use reflection.\r\n\r\n----------------------\r\n\r\n&gt; *&quot;I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class.&quot;*\r\n\r\nIt won&#39;t work.   Java is a statically typed language&lt;sup&gt;2&lt;/sup&gt;. Think of another way to solve the problem.  For example, use reflection to assign to the field.\r\n\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - That is ... what the words of your question originally asked!&lt;br&gt;\r\n2 - OK ... that is over-simplifying.&lt;/sup&gt;","title":"How to assign instanceof type to a variable?","body":"<p>The closest to what you originally asked<sup>1</sup> for is something like this:</p>\n<pre><code>   Class&lt;?&gt; clazz = Book.class;\n\n   Object someObject = new Book(...);\n   \n   if (clazz.isInstance(someObject)) {\n      Object instanceOfClazz = clazz.cast(someObject);\n      // ...\n   }\n</code></pre>\n<p>(Note that this Q&amp;A - <a href=\"https://stackoverflow.com/questions/949352\">Is there something like instanceOf(Class&lt;?&gt; c) in Java?</a> - directly answers the question in the your question title.)</p>\n<p>But you objected that the result of the <code>cast</code> call:</p>\n<blockquote>\n<p><em>&quot;would lose all the methods of the <code>Book</code> class&quot;</em>.</p>\n</blockquote>\n<p>First of all that is not technically correct.  The object that <code>instanceOfClazz</code> refers to is still and will always remain a <code>Book</code>.  It still has and will always have all of the methods of a <code>Book</code>.</p>\n<p>But you do have a point (I think).  You cannot use the <code>cast</code> call's result effectively in the above code because you assigned it to a variable whose type is <code>Object</code>.  And you cannot call <code>Book</code> methods via a variable / value whose <em>static</em> type is <code>Object</code>.</p>\n<p>If instead we had written this:</p>\n<pre><code>   Class&lt;Book&gt; clazz = Book.class;\n\n   Object someObject = new Book(...);\n   \n   if (clazz.isInstance(someObject)) {\n      Book book = clazz.cast(someObject);\n      // call some `Book` methods.\n   }\n</code></pre>\n<p>Now you can call <code>Book</code> methods on <code>book</code>.  But the gotcha is that we had to write <code>Class&lt;Book&gt;</code> instead of <code>Class&lt;?&gt;</code> (or <code>Class</code>) to make that work.  So we have ended up wiring the class name <code>Book</code> into the code anyway.  Ooops!</p>\n<p>The fundamental problem is that Java code cannot make regular method calls on an object unless the compiler knows what its type is ... and that it has those methods.  If you want to invoke <code>Book</code> methods in cases where the static type of the variable is (say) <code>Object</code>, then you have to use reflection to do it.  Something like this:</p>\n<pre><code>  if (clazz.isInstance(someObject)) {\n      Method method = clazz.getMethod(&quot;setNosPages&quot;, int.class);\n      method.invoke(someObject, 99);\n  }\n</code></pre>\n<p>and deal with the various exceptions that that might throw.</p>\n<p>Basically, you refer to the class and methods by name in the code, or you use reflection.</p>\n<hr />\n<blockquote>\n<p><em>&quot;I need to assign the object/value parsed from a json to a field of type Book (or other types accordingly) of another class.&quot;</em></p>\n</blockquote>\n<p>It won't work.   Java is a statically typed language<sup>2</sup>. Think of another way to solve the problem.  For example, use reflection to assign to the field.</p>\n<hr />\n<p><sup>1 - That is ... what the words of your question originally asked!<br>\n2 - OK ... that is over-simplifying.</sup></p>\n"},{"tags":[],"owner":{"account_id":23873528,"reputation":11,"user_id":17874946,"display_name":"DaveLTC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688054954,"creation_date":1688054954,"answer_id":76582826,"question_id":71408265,"body_markdown":"If you are only going to use it for `instanceOf` i think you should think about using this structure:\r\n\r\n    Object someObject = new Book(...);\r\n    \r\n    if(someObject instanceOf Book book) {\r\n        //use book as variable\r\n        book.read();\r\n    }\r\nTo my knowledge this is called Pattern Matching is is possible in Java 14.","title":"How to assign instanceof type to a variable?","body":"<p>If you are only going to use it for <code>instanceOf</code> i think you should think about using this structure:</p>\n<pre><code>Object someObject = new Book(...);\n\nif(someObject instanceOf Book book) {\n    //use book as variable\n    book.read();\n}\n</code></pre>\n<p>To my knowledge this is called Pattern Matching is is possible in Java 14.</p>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71411121,"answer_count":2,"score":-1,"last_activity_date":1688054954,"creation_date":1646823615,"question_id":71408265,"body_markdown":"I am wondering if it is possible and how to store a `type` reference into a variable so that it can be later used with the `instanceof` operator.\r\n\r\nFor example\r\n\r\n    Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\r\n    \r\n    BookType bookType = Book;\r\n    \r\n    if(book instanceof bookType){\r\n        // Do something\r\n    }\r\n\r\nInstead of having to hard code it:\r\n\r\n    Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\r\n    \r\n    if(book instanceof Book){\r\n        // Do something\r\n    }\r\n\r\nIs it possible to get the `Book type` from `Book.class` maybe using reflection?\r\n\r\nI did not found much about this topic.\r\n\r\nNote that this is not the same as using\r\n\r\n    Book.class.isInstance(book);\r\n    Object value = Book.class.cast(book);\r\n\r\nbecause I would lose all the methods of the Book class.","title":"How to assign instanceof type to a variable?","body":"<p>I am wondering if it is possible and how to store a <code>type</code> reference into a variable so that it can be later used with the <code>instanceof</code> operator.</p>\n<p>For example</p>\n<pre><code>Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\n\nBookType bookType = Book;\n\nif(book instanceof bookType){\n    // Do something\n}\n</code></pre>\n<p>Instead of having to hard code it:</p>\n<pre><code>Book book = new Book(&quot;My Favourite Book&quot;, &quot;Some Author&quot;);\n\nif(book instanceof Book){\n    // Do something\n}\n</code></pre>\n<p>Is it possible to get the <code>Book type</code> from <code>Book.class</code> maybe using reflection?</p>\n<p>I did not found much about this topic.</p>\n<p>Note that this is not the same as using</p>\n<pre><code>Book.class.isInstance(book);\nObject value = Book.class.cast(book);\n</code></pre>\n<p>because I would lose all the methods of the Book class.</p>\n"},{"tags":["java","spring-boot","jpa","mapping"],"comments":[{"owner":{"account_id":12835453,"reputation":79,"user_id":9285231,"display_name":"FigureCodeOut"},"score":0,"creation_date":1688610731,"post_id":76576576,"comment_id":135097726,"body_markdown":"Is there any way to bump this?","body":"Is there any way to bump this?"}],"owner":{"account_id":12835453,"reputation":79,"user_id":9285231,"display_name":"FigureCodeOut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688054949,"creation_date":1687984840,"question_id":76576576,"body_markdown":"I have this big json that I am sending and trying to save the data. I am getting all the data. But when I am doing a db query just to even find the data I keep getting the following error:\r\n\r\n\r\n        2023-06-28 14:02:46.408 ERROR 2359 --- [ntContainer#2-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29\r\n        [.2023-06-28 14:02:46,408] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29 \r\n\r\nI used below query to find out what it is complaining for:\r\n\r\n     SELECT C.TABSCHEMA, C.TABNAME, C.COLNAME\r\n     FROM SYSCAT.TABLES AS T,\r\n     SYSCAT.COLUMNS AS C\r\n     WHERE T.TBSPACEID = 18\r\n     AND T.TABLEID = 11\r\n     AND C.COLNO = 1\r\n     AND C.TABSCHEMA = T.TABSCHEMA\r\n     AND C.TABNAME = T.TABNAME\r\n\r\nAnd I get the schema name, table name and property name. \r\n\r\nThe problem is it keep complaining for the mapping:\r\n\r\nHere is sample one :\r\n\r\n     @Entity\r\n     @Table(name=&quot;PROPERTY&quot;)\r\n     @EntityListeners(PropertyListener.class)\r\n     public class Property implements Serializable\r\n     {\r\n\r\n        private Document Document;\r\n\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;DOC_OBJ_ID&quot;, nullable = false)\r\n        @Schema(hidden = true)\r\n        public Document getDocument()\r\n        {\r\n          return document;\r\n        }\r\n        //more elements\r\n       }\r\n\r\nHere is the document class:\r\n\r\n         @Entity\r\n         @EntityListeners(DocumentEntityListener.class)\r\n         @Table(name=&quot;DOCUMENT&quot;)\r\n         @Schema(name = &quot;Document&quot;)\r\n         public class Document {\r\n\r\n           @Expose\r\n           @SerializedName(&quot;property&quot;)\r\n           @Schema(name=&quot;property&quot;)\r\n           private List&lt;Property&gt; propertyList;\r\n\r\n\r\n           @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy =   &quot;Document&quot;,targetEntity = Property.class)\r\n           public List&lt;Property&gt; getPropertyList() {\r\n              return propertyList;\r\n            }\r\n          }\r\n\r\nAm I missing something in mapping that I need to add. \r\n\r\nI have like 20 similar property classes in document. I am getting this error one after another for each one of them if I commented out property.  \r\n\r\nIs there any mapping guide/reference to make sure the mapping is done right?\r\n\r\nWhat else I can try?","title":"Resolve DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29","body":"<p>I have this big json that I am sending and trying to save the data. I am getting all the data. But when I am doing a db query just to even find the data I keep getting the following error:</p>\n<pre><code>    2023-06-28 14:02:46.408 ERROR 2359 --- [ntContainer#2-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29\n    [.2023-06-28 14:02:46,408] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - DB2 SQL Error: SQLCODE=-407, SQLSTATE=23502, SQLERRMC=TBSPACEID=18, TABLEID=11, COLNO=1, DRIVER=4.22.29 \n</code></pre>\n<p>I used below query to find out what it is complaining for:</p>\n<pre><code> SELECT C.TABSCHEMA, C.TABNAME, C.COLNAME\n FROM SYSCAT.TABLES AS T,\n SYSCAT.COLUMNS AS C\n WHERE T.TBSPACEID = 18\n AND T.TABLEID = 11\n AND C.COLNO = 1\n AND C.TABSCHEMA = T.TABSCHEMA\n AND C.TABNAME = T.TABNAME\n</code></pre>\n<p>And I get the schema name, table name and property name.</p>\n<p>The problem is it keep complaining for the mapping:</p>\n<p>Here is sample one :</p>\n<pre><code> @Entity\n @Table(name=&quot;PROPERTY&quot;)\n @EntityListeners(PropertyListener.class)\n public class Property implements Serializable\n {\n\n    private Document Document;\n\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;DOC_OBJ_ID&quot;, nullable = false)\n    @Schema(hidden = true)\n    public Document getDocument()\n    {\n      return document;\n    }\n    //more elements\n   }\n</code></pre>\n<p>Here is the document class:</p>\n<pre><code>     @Entity\n     @EntityListeners(DocumentEntityListener.class)\n     @Table(name=&quot;DOCUMENT&quot;)\n     @Schema(name = &quot;Document&quot;)\n     public class Document {\n\n       @Expose\n       @SerializedName(&quot;property&quot;)\n       @Schema(name=&quot;property&quot;)\n       private List&lt;Property&gt; propertyList;\n\n\n       @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy =   &quot;Document&quot;,targetEntity = Property.class)\n       public List&lt;Property&gt; getPropertyList() {\n          return propertyList;\n        }\n      }\n</code></pre>\n<p>Am I missing something in mapping that I need to add.</p>\n<p>I have like 20 similar property classes in document. I am getting this error one after another for each one of them if I commented out property.</p>\n<p>Is there any mapping guide/reference to make sure the mapping is done right?</p>\n<p>What else I can try?</p>\n"},{"tags":["java","android","android-studio","android-imageview"],"owner":{"account_id":28107176,"reputation":21,"user_id":21475597,"display_name":"Ex0_ _DuS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688054746,"creation_date":1688054746,"question_id":76582794,"body_markdown":"I wanna check the alpha of the ImageView for another function but I don&#39;t now i can do this, also Android Studio outputs an error &quot;No speakable text present&quot;(for @+id/zxcursed).\r\n\r\nI tried to set size or something for ImageView but it didn&#39;t work\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/anime&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/animememe&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/zxcursed&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:onClick=&quot;animation&quot;\r\n        app:srcCompat=&quot;@drawable/zxcursed&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```","title":"How can I check Alpha of the ImageView And What is &quot;No speakable text present&quot;?","body":"<p>I wanna check the alpha of the ImageView for another function but I don't now i can do this, also Android Studio outputs an error &quot;No speakable text present&quot;(for @+id/zxcursed).</p>\n<p>I tried to set size or something for ImageView but it didn't work</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/anime&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/animememe&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/zxcursed&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:onClick=&quot;animation&quot;\n        app:srcCompat=&quot;@drawable/zxcursed&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","authentication","jsp","business-objects"],"comments":[{"owner":{"account_id":45726,"reputation":1746,"user_id":134921,"display_name":"Bryan Cain"},"score":0,"creation_date":1523626249,"post_id":49817101,"comment_id":86650871,"body_markdown":"I cannot fathom why you are hardcoding a username and password instead of just using SSO from active directory or similar.","body":"I cannot fathom why you are hardcoding a username and password instead of just using SSO from active directory or similar."},{"owner":{"account_id":7000382,"reputation":1,"user_id":5366596,"display_name":"Priyabrata"},"score":0,"creation_date":1523629167,"post_id":49817101,"comment_id":86653044,"body_markdown":"@BryanCain Thanks for your response Bryan. Actually I&#39;m doing kind of POC by putting hardcode values for now. Still I won&#39;t be able to run this code. Could you please help me out in this. Thanks again.","body":"@BryanCain Thanks for your response Bryan. Actually I&#39;m doing kind of POC by putting hardcode values for now. Still I won&#39;t be able to run this code. Could you please help me out in this. Thanks again."},{"owner":{"account_id":45726,"reputation":1746,"user_id":134921,"display_name":"Bryan Cain"},"score":0,"creation_date":1523639295,"post_id":49817101,"comment_id":86659407,"body_markdown":"Unfortunately, I don&#39;t have hands on experience with the sort of thing you&#39;re trying to do, so I can&#39;t help.  That&#39;s why I only commented, not answered.   I was trying to point out that perhaps solving this problem isn&#39;t worth the time, since it&#39;s not something you really ought to be doing.","body":"Unfortunately, I don&#39;t have hands on experience with the sort of thing you&#39;re trying to do, so I can&#39;t help.  That&#39;s why I only commented, not answered.   I was trying to point out that perhaps solving this problem isn&#39;t worth the time, since it&#39;s not something you really ought to be doing."}],"owner":{"account_id":7000382,"reputation":1,"user_id":5366596,"display_name":"Priyabrata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688054676,"creation_date":1523622805,"question_id":49817101,"body_markdown":"I&#39;m using `custom.jsp` in order to avoid the login screen and load the home screen directly, but still it&#39;s asking for login credentials after restarting the tomcat. The path of the `custom.jsp` file is &quot;`SAP BusinessObjects\\tomcat\\webapps\\BOE\\WEB-INF\\eclipse\\plugins\\webpath.InfoView\\web`&quot;.\r\n\r\nI don&#39;t know what I&#39;m missing here and I&#39;m new to this. Below is my jsp code. Thanks.\r\n\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.exception.SDKException&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.framework.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.infostore.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.security.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.net.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.enterprise.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.crystaldecisions.sdk.plugin.admin.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.businessobjects.webutil.Encoder&quot; %&gt;\r\n\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    \r\n   \r\n    &lt;%\r\n\r\n    IEnterpriseSession enterpriseSession;\r\n\r\n\r\n    final String BO_CMS_NAME = &quot;BI98svr&quot;;\r\n    final String BO_AUTH_TYPE = &quot;secEnterprise&quot;;\r\n    final String BO_USERNAME = &quot;user121&quot;;\r\n    final String BO_PASSWORD = &quot;pass121&quot;;\r\n    ILogonTokenMgr logonTokenMgr;\r\n    String defaultToken = &quot;&quot;;\r\n\r\n\r\n    boolean loggedIn = true;\r\n    try {\r\n\r\n    enterpriseSession =\r\n    CrystalEnterprise.getSessionMgr().logon(BO_USERNAME,BO_PASSWORD, \r\n    BO_CMS_NAME,BO_AUTH_TYPE);\r\n    logonTokenMgr = enterpriseSession.getLogonTokenMgr();\r\n    defaultToken = logonTokenMgr.createWCAToken(&quot;&quot;, 20, 1);\r\n\r\n\r\n    response.sendRedirect(&quot;http://&quot;+BO_CMS_NAME+&quot;:8080/BOE/BI/logon/start.do?ivsLogonToken=&quot;+Encoder.encodeURL(defaultToken));\r\n\r\n\r\n    }\r\n    catch (Exception error)\r\n    {\r\n    loggedIn = false;\r\n    out.println(error);\r\n    }\r\n    %&gt;\r\n    \r\n    \r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"SAP BO login using custom.jsp","body":"<p>I'm using <code>custom.jsp</code> in order to avoid the login screen and load the home screen directly, but still it's asking for login credentials after restarting the tomcat. The path of the <code>custom.jsp</code> file is &quot;<code>SAP BusinessObjects\\tomcat\\webapps\\BOE\\WEB-INF\\eclipse\\plugins\\webpath.InfoView\\web</code>&quot;.</p>\n<p>I don't know what I'm missing here and I'm new to this. Below is my jsp code. Thanks.</p>\n<pre><code>&lt;%@ page import=&quot;com.crystaldecisions.sdk.exception.SDKException&quot; %&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.framework.*&quot; %&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.infostore.*&quot; %&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.occa.security.*&quot;%&gt;\n&lt;%@ page import=&quot;java.net.*&quot;%&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.enterprise.*&quot;%&gt;\n&lt;%@ page import=&quot;com.crystaldecisions.sdk.plugin.admin.*&quot;%&gt;\n&lt;%@ page import=&quot;java.sql.*&quot;%&gt;\n&lt;%@ page import=&quot;com.businessobjects.webutil.Encoder&quot; %&gt;\n\n\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\npageEncoding=&quot;ISO-8859-1&quot;%&gt;\n\n\n&lt;%\n\nIEnterpriseSession enterpriseSession;\n\n\nfinal String BO_CMS_NAME = &quot;BI98svr&quot;;\nfinal String BO_AUTH_TYPE = &quot;secEnterprise&quot;;\nfinal String BO_USERNAME = &quot;user121&quot;;\nfinal String BO_PASSWORD = &quot;pass121&quot;;\nILogonTokenMgr logonTokenMgr;\nString defaultToken = &quot;&quot;;\n\n\nboolean loggedIn = true;\ntry {\n\nenterpriseSession =\nCrystalEnterprise.getSessionMgr().logon(BO_USERNAME,BO_PASSWORD, \nBO_CMS_NAME,BO_AUTH_TYPE);\nlogonTokenMgr = enterpriseSession.getLogonTokenMgr();\ndefaultToken = logonTokenMgr.createWCAToken(&quot;&quot;, 20, 1);\n\n\nresponse.sendRedirect(&quot;http://&quot;+BO_CMS_NAME+&quot;:8080/BOE/BI/logon/start.do?ivsLogonToken=&quot;+Encoder.encodeURL(defaultToken));\n\n\n}\ncatch (Exception error)\n{\nloggedIn = false;\nout.println(error);\n}\n%&gt;\n\n\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","oracle","sdk","business-objects"],"answers":[{"comments":[{"owner":{"account_id":552377,"reputation":2230,"user_id":917492,"display_name":"jasie"},"score":0,"creation_date":1566995839,"post_id":57692236,"comment_id":101829355,"body_markdown":"Your answer contains not much more than a link and might be deleted, see https://stackoverflow.com/help/deleted-answers and https://stackoverflow.com/help/how-to-answer","body":"Your answer contains not much more than a link and might be deleted, see <a href=\"https://stackoverflow.com/help/deleted-answers\">stackoverflow.com/help/deleted-answers</a> and <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1606902704,"post_id":57692236,"comment_id":115101152,"body_markdown":"Why do we have to use REST API if we can directly get the data and assign it to objects via SDK?   For Eg:   IInfoObjects info = infoStore.query(sql);   Isn&#39;t this faster than web services","body":"Why do we have to use REST API if we can directly get the data and assign it to objects via SDK?   For Eg:   IInfoObjects info = infoStore.query(sql);   Isn&#39;t this faster than web services"}],"tags":[],"owner":{"account_id":15658995,"reputation":53,"user_id":11298362,"display_name":"Lo0fah"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1566998815,"creation_date":1566994622,"answer_id":57692236,"question_id":56312276,"body_markdown":"Easiest way to retrieve metadata from the BO Server is to use CMS queries. You can use CMS queries with the REST API.\r\n\r\nA simple example to retrieve metadata from your universes in your cms:\r\n\r\n - **API URL**: http://host:port/biprws/v1/cmsquery\r\n - **HTTP Method**: GET\r\n - **Data Formats**: Application/JSON, Application/XML\r\n - **Headers**: x-sap-logontoken (you can retrieve a logontoken via the rest api as well)\r\n\r\nif you use json use following request body:\r\n\r\n{\r\n query:&quot;select * FROM CI_APPOBJECTS WHERE SI_KIND=&#39;Universe&#39; order by SI_NAME asc&quot;\r\n}\r\n\r\nThis blog is a good place to start:\r\nhttps://blogs.sap.com/2017/05/10/query-the-businessobjects-repository-using-bi-platform-rest-sdk-rws/","title":"How to get universe, classes, objects, report names, report fields from SAP BO using Java","body":"<p>Easiest way to retrieve metadata from the BO Server is to use CMS queries. You can use CMS queries with the REST API.</p>\n\n<p>A simple example to retrieve metadata from your universes in your cms:</p>\n\n<ul>\n<li><strong>API URL</strong>: <a href=\"http://host:port/biprws/v1/cmsquery\" rel=\"nofollow noreferrer\">http://host:port/biprws/v1/cmsquery</a></li>\n<li><strong>HTTP Method</strong>: GET</li>\n<li><strong>Data Formats</strong>: Application/JSON, Application/XML</li>\n<li><strong>Headers</strong>: x-sap-logontoken (you can retrieve a logontoken via the rest api as well)</li>\n</ul>\n\n<p>if you use json use following request body:</p>\n\n<p>{\n query:\"select * FROM CI_APPOBJECTS WHERE SI_KIND='Universe' order by SI_NAME asc\"\n}</p>\n\n<p>This blog is a good place to start:\n<a href=\"https://blogs.sap.com/2017/05/10/query-the-businessobjects-repository-using-bi-platform-rest-sdk-rws/\" rel=\"nofollow noreferrer\">https://blogs.sap.com/2017/05/10/query-the-businessobjects-repository-using-bi-platform-rest-sdk-rws/</a></p>\n"}],"owner":{"account_id":2304775,"reputation":89,"user_id":2024255,"display_name":"Rajendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688054638,"creation_date":1558862915,"question_id":56312276,"body_markdown":"I am able to connect SAP BO server via java (SDK) after this I don&#39;t know queries to get all BO Metadata (universe name, classes, objects, report names, report columns, report variables separately like oracle) as I need store all BO metadata into my local database (MySQL) from BO server.\r\n\r\nMy expected output would be that how retrieve all BO Metadata in tabular form like SQL tables.\r\n\r\nI am new to SAP BO. I was stuck on this. Please suggest any one on this. All leads are appreciable.  \r\n\r\n    public static void main(String[] args) throws Exception {\r\n    \r\n          IEnterpriseSession enterpriseSession = null;\r\n          try {\r\n             // Establish connection\r\n             System.out.println(&quot;Connecting...&quot;);\r\n             IEnterpriseSession enterpriseSession = sessionMgr.logon(user, pass, host, auth);\r\n             IInfoStore infoStore =(IInfoStore)enterpriseSession.getService(&quot;InfoStore&quot;);\r\n    }\r\n","title":"How to get universe, classes, objects, report names, report fields from SAP BO using Java","body":"<p>I am able to connect SAP BO server via java (SDK) after this I don't know queries to get all BO Metadata (universe name, classes, objects, report names, report columns, report variables separately like oracle) as I need store all BO metadata into my local database (MySQL) from BO server.</p>\n<p>My expected output would be that how retrieve all BO Metadata in tabular form like SQL tables.</p>\n<p>I am new to SAP BO. I was stuck on this. Please suggest any one on this. All leads are appreciable.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n      IEnterpriseSession enterpriseSession = null;\n      try {\n         // Establish connection\n         System.out.println(&quot;Connecting...&quot;);\n         IEnterpriseSession enterpriseSession = sessionMgr.logon(user, pass, host, auth);\n         IInfoStore infoStore =(IInfoStore)enterpriseSession.getService(&quot;InfoStore&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688056854,"post_id":76582600,"comment_id":135025884,"body_markdown":"Can you share an example `logback-spring.xml` file that shows how you&#39;re using the properties and an example `external.properties` file that shows how you&#39;re defining them? A [complete, minimal example](/help/mcve) would be ideal.","body":"Can you share an example <code>logback-spring.xml</code> file that shows how you&#39;re using the properties and an example <code>external.properties</code> file that shows how you&#39;re defining them? A <a href=\"/help/mcve\">complete, minimal example</a> would be ideal."},{"owner":{"account_id":1317274,"reputation":1240,"user_id":1263867,"accept_rate":100,"display_name":"Koos Gadellaa"},"score":0,"creation_date":1688109119,"post_id":76582600,"comment_id":135032343,"body_markdown":"I&#39;m guessing you&#39;re using the `variable file=...` syntax in your logback.xml\nOr are you using the `&lt;springProperty` method instead?\nAnd are your external.properties not loaded *at all* or are they only not loaded in logback? (a simple check would be to have a logback without properties and see if your application starts up properly)","body":"I&#39;m guessing you&#39;re using the <code>variable file=...</code> syntax in your logback.xml Or are you using the <code>&lt;springProperty</code> method instead? And are your external.properties not loaded <i>at all</i> or are they only not loaded in logback? (a simple check would be to have a logback without properties and see if your application starts up properly)"}],"answers":[{"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688056772,"post_id":76582661,"comment_id":135025864,"body_markdown":"This will make things worse as `logback.xml` is loaded even earlier than `logback-spring.xml`","body":"This will make things worse as <code>logback.xml</code> is loaded even earlier than <code>logback-spring.xml</code>"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688053665,"creation_date":1688053665,"answer_id":76582661,"question_id":76582600,"body_markdown":"The logback initialization occurs pretty early in the startup process, even before the Spring environment is completely set up, so any properties loaded by Spring Boot from your external file aren&#39;t available at the time logback is being initialized. Some steps to try in your case:\r\n1. Rename your logback-spring.xml to logback.xml, and add the following to your `application.properties`\r\n```properties\r\nlogging.config=classpath:logback.xml\r\n```\r\n2. Add the same `logging.config` property to your `external.properties` file and point it to the `logback.xml` file\r\n```properties\r\nlogging.config=file:/path/to/logback.xml\r\n```\r\n3. Run application\r\n```bash\r\njava -jar myapplication.jar --spring.config.location=classpath:/application.properties,file:/path/to/external.properties\r\n```","title":"logback-spring in java .jar is unable to read property from external properties","body":"<p>The logback initialization occurs pretty early in the startup process, even before the Spring environment is completely set up, so any properties loaded by Spring Boot from your external file aren't available at the time logback is being initialized. Some steps to try in your case:</p>\n<ol>\n<li>Rename your logback-spring.xml to logback.xml, and add the following to your <code>application.properties</code></li>\n</ol>\n<pre><code>logging.config=classpath:logback.xml\n</code></pre>\n<ol start=\"2\">\n<li>Add the same <code>logging.config</code> property to your <code>external.properties</code> file and point it to the <code>logback.xml</code> file</li>\n</ol>\n<pre><code>logging.config=file:/path/to/logback.xml\n</code></pre>\n<ol start=\"3\">\n<li>Run application</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar myapplication.jar --spring.config.location=classpath:/application.properties,file:/path/to/external.properties\n</code></pre>\n"}],"owner":{"account_id":17348048,"reputation":211,"user_id":12567170,"display_name":"programmer123456"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688053665,"creation_date":1688053133,"question_id":76582600,"body_markdown":"I have developed an application that is compiled into a .jar file. Now, I want to execute the application while utilizing certain properties included within the .jar file, as well as additional external properties.\r\n\r\nTo begin with, the .jar file contains an &quot;application.properties&quot; file internally. Subsequently, I intend to run the application by incorporating the &quot;external.properties&quot; file.\r\n\r\nHowever, I am encountering an issue where my &quot;logback-spring.xml&quot; file fails to recognize any of the properties. I have attempted to address this problem by executing the following command:\r\n\r\n\r\n    java -jar myapplication.jar -Dspring.config.location=classpath:/application.properties,file:external.properties\r\n\r\nIt appears that the &quot;external.properties&quot; are being loaded too late for the &quot;logback-spring.xml&quot; file to access. Is there a potential solution to this issue?","title":"logback-spring in java .jar is unable to read property from external properties","body":"<p>I have developed an application that is compiled into a .jar file. Now, I want to execute the application while utilizing certain properties included within the .jar file, as well as additional external properties.</p>\n<p>To begin with, the .jar file contains an &quot;application.properties&quot; file internally. Subsequently, I intend to run the application by incorporating the &quot;external.properties&quot; file.</p>\n<p>However, I am encountering an issue where my &quot;logback-spring.xml&quot; file fails to recognize any of the properties. I have attempted to address this problem by executing the following command:</p>\n<pre><code>java -jar myapplication.jar -Dspring.config.location=classpath:/application.properties,file:external.properties\n</code></pre>\n<p>It appears that the &quot;external.properties&quot; are being loaded too late for the &quot;logback-spring.xml&quot; file to access. Is there a potential solution to this issue?</p>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688050731,"post_id":76582234,"comment_id":135024546,"body_markdown":"In theory, simple `annotation.annotationType().getSimpleName()` prints you &quot;StringDomain&quot; in that case","body":"In theory, simple <code>annotation.annotationType().getSimpleName()</code> prints you &quot;StringDomain&quot; in that case"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1688051098,"post_id":76582234,"comment_id":135024625,"body_markdown":"`annotation.annotationType().getSimpleName()` is printing `BaseDomain`","body":"<code>annotation.annotationType().getSimpleName()</code> is printing <code>BaseDomain</code>"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688051447,"post_id":76582234,"comment_id":135024699,"body_markdown":"Yeah, you can&#39;t directly use `AnnotationUtils.findAnnotation(field, BaseDomain.class)` since it is looking specifically for the `@BaseDomain`, so you may need to find all (!) annotations of the field and then check if any of those annotations themselves are annotated with `@BaseDomain` instead. Let me know if it&#39;s clear enough, or it&#39;s better to provide a snippet","body":"Yeah, you can&#39;t directly use <code>AnnotationUtils.findAnnotation(field, BaseDomain.class)</code> since it is looking specifically for the <code>@BaseDomain</code>, so you may need to find all (!) annotations of the field and then check if any of those annotations themselves are annotated with <code>@BaseDomain</code> instead. Let me know if it&#39;s clear enough, or it&#39;s better to provide a snippet"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689158483,"post_id":76582234,"comment_id":135172823,"body_markdown":"@bobbyrne01 Have you resolved your issue?","body":"@bobbyrne01 Have you resolved your issue?"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688052786,"creation_date":1688051992,"answer_id":76582443,"question_id":76582234,"body_markdown":"&lt;h3&gt;Before Spring 5.2&lt;/h3&gt;\r\n\r\nYou can use the `getAnnotations` method to find all non-meta present on the supplied element.\r\n\r\nEither get all direct annotations:\r\n\r\n```java\r\nvar field = ItemDto.class.getField(&quot;text&quot;);\r\nvar annotation = AnnotationUtils.getAnnotations(field)[0];\r\n\r\nSystem.out.println(annotation.annotationType().getSimpleName());\r\n```\r\n&gt; ```\r\n&gt; StringDomain\r\n&gt; ```\r\n\r\nHowever, this method is deprecated as of 5.2\r\n\r\n&lt;h3&gt;Spring 5.2 and newer&lt;/h3&gt;\r\n\r\nThe replacement for the deprecated method is MergedAnnotations API ([source][1]). \r\n\r\n```java\r\nvar field = ItemDto.class.getField(&quot;text&quot;);\r\nMergedAnnotations.from(field)\r\n        .stream()\r\n        .filter(a -&gt; a.getType().isAssignableFrom(StringDomain.class))\r\n        .findFirst()\r\n        .ifPresent(a -&gt; System.out.println(a.getType().getSimpleName()));\r\n\r\nSystem.out.println(annotations);\r\n```\r\n&gt; ```\r\n&gt; StringDomain\r\n&gt; ```\r\n\r\nOr check whether the particular one is present:\r\n\r\n```java\r\nvar field = ItemDto.class.getField(&quot;text&quot;);\r\nvar hasStringDomain = MergedAnnotations.from(field)\r\n    .isDirectlyPresent(StringDomain.class);\r\n\r\nSystem.out.println(hasStringDomain);\r\n```\r\n&gt; ```\r\n&gt; true\r\n&gt; ```\r\n\r\n\r\n  [1]: http://www.java2s.com/example/java-src/pkg/org/springframework/core/annotation/annotationutils-1c465.html","title":"Trying to find composite annotation by searching for one of its base annotations","body":"<h3>Before Spring 5.2</h3>\n<p>You can use the <code>getAnnotations</code> method to find all non-meta present on the supplied element.</p>\n<p>Either get all direct annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = ItemDto.class.getField(&quot;text&quot;);\nvar annotation = AnnotationUtils.getAnnotations(field)[0];\n\nSystem.out.println(annotation.annotationType().getSimpleName());\n</code></pre>\n<blockquote>\n<pre><code>StringDomain\n</code></pre>\n</blockquote>\n<p>However, this method is deprecated as of 5.2</p>\n<h3>Spring 5.2 and newer</h3>\n<p>The replacement for the deprecated method is MergedAnnotations API (<a href=\"http://www.java2s.com/example/java-src/pkg/org/springframework/core/annotation/annotationutils-1c465.html\" rel=\"nofollow noreferrer\">source</a>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = ItemDto.class.getField(&quot;text&quot;);\nMergedAnnotations.from(field)\n        .stream()\n        .filter(a -&gt; a.getType().isAssignableFrom(StringDomain.class))\n        .findFirst()\n        .ifPresent(a -&gt; System.out.println(a.getType().getSimpleName()));\n\nSystem.out.println(annotations);\n</code></pre>\n<blockquote>\n<pre><code>StringDomain\n</code></pre>\n</blockquote>\n<p>Or check whether the particular one is present:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var field = ItemDto.class.getField(&quot;text&quot;);\nvar hasStringDomain = MergedAnnotations.from(field)\n    .isDirectlyPresent(StringDomain.class);\n\nSystem.out.println(hasStringDomain);\n</code></pre>\n<blockquote>\n<pre><code>true\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16855187,"reputation":11,"user_id":12187211,"display_name":"Ishraq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688052324,"creation_date":1688052324,"answer_id":76582493,"question_id":76582234,"body_markdown":"In the given scenario, since the BaseDomain annotation is used as a meta-annotation (annotation on another annotation), you can determine if the returned BaseDomain annotation is part of StringDomain by checking if the field&#39;s annotation type is annotated with StringDomain. Here&#39;s how you can achieve this:\r\n\r\n    final BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\r\n\r\n    if (annotation != null) {\r\n    Annotation[] annotations = annotation.annotationType().getAnnotations();\r\n\r\n    for (Annotation ann : annotations) {\r\n        if (ann.annotationType() == StringDomain.class) {\r\n            // The returned BaseDomain is part of StringDomain\r\n            // Perform the desired processing for StringDomain annotation\r\n            // ...\r\n            break;\r\n        }\r\n    }\r\n}","title":"Trying to find composite annotation by searching for one of its base annotations","body":"<p>In the given scenario, since the BaseDomain annotation is used as a meta-annotation (annotation on another annotation), you can determine if the returned BaseDomain annotation is part of StringDomain by checking if the field's annotation type is annotated with StringDomain. Here's how you can achieve this:</p>\n<pre><code>final BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\n\nif (annotation != null) {\nAnnotation[] annotations = annotation.annotationType().getAnnotations();\n\nfor (Annotation ann : annotations) {\n    if (ann.annotationType() == StringDomain.class) {\n        // The returned BaseDomain is part of StringDomain\n        // Perform the desired processing for StringDomain annotation\n        // ...\n        break;\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688052832,"creation_date":1688050500,"question_id":76582234,"body_markdown":"I&#39;m writing a Java framework that allows consumers to write POJOs with custom annotations. The framework will cater to processing depending on the annotation type declared for each field.\r\n\r\nIn the framework I&#39;ve created a base domain annotation:\r\n\r\n```java\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\npublic @interface BaseDomain {}\r\n```\r\n\r\nAnd then `StringDomain.java` and `FloatDomain.java` which are annotated with `@BaseDomain`:\r\n```java\r\n@BaseDomain\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\npublic @interface StringDomain {}\r\n```\r\n\r\n```java\r\n@BaseDomain\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\r\npublic @interface FloatDomain {}\r\n```\r\n\r\nConsumers of the framework will be allowed to write their own annotations as long as those new annotation interfaces are themselves annotated by `@BaseDomain`, similar to `FloatDomain` and `StringDomain`. \r\n\r\nFor instance, a consumer could create an annotation named `Username` which has `StringDomain` as a &quot;parent&quot;.\r\n\r\nSample of a consumer&#39;s POJO:\r\n\r\n```java\r\npublic class ItemDTO {\r\n\r\n  @StringDomain\r\n  public String text;\r\n\r\n}\r\n```\r\n\r\nInside the framework I can find `BaseDomain` annotations present on the field using:\r\n\r\n```java\r\nimport org.springframework.core.annotation.AnnotationUtils;\r\n\r\nfinal BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\r\n```\r\n\r\nBut how can I determine that the returned `BaseDomain` is was actually part of `StringDomain`?\r\n\r\nIn normal inheritance I could get `BaseDomain` and check its type to know that its an instance of `StringDomain`.\r\n\r\n```java\r\nSystem.out.println(annotation.annotationType().getSimpleName());\r\nBaseDomain\r\n```","title":"Trying to find composite annotation by searching for one of its base annotations","body":"<p>I'm writing a Java framework that allows consumers to write POJOs with custom annotations. The framework will cater to processing depending on the annotation type declared for each field.</p>\n<p>In the framework I've created a base domain annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\npublic @interface BaseDomain {}\n</code></pre>\n<p>And then <code>StringDomain.java</code> and <code>FloatDomain.java</code> which are annotated with <code>@BaseDomain</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BaseDomain\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\npublic @interface StringDomain {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@BaseDomain\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.ANNOTATION_TYPE})\npublic @interface FloatDomain {}\n</code></pre>\n<p>Consumers of the framework will be allowed to write their own annotations as long as those new annotation interfaces are themselves annotated by <code>@BaseDomain</code>, similar to <code>FloatDomain</code> and <code>StringDomain</code>.</p>\n<p>For instance, a consumer could create an annotation named <code>Username</code> which has <code>StringDomain</code> as a &quot;parent&quot;.</p>\n<p>Sample of a consumer's POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemDTO {\n\n  @StringDomain\n  public String text;\n\n}\n</code></pre>\n<p>Inside the framework I can find <code>BaseDomain</code> annotations present on the field using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.core.annotation.AnnotationUtils;\n\nfinal BaseDomain annotation = AnnotationUtils.findAnnotation(field, BaseDomain.class);\n</code></pre>\n<p>But how can I determine that the returned <code>BaseDomain</code> is was actually part of <code>StringDomain</code>?</p>\n<p>In normal inheritance I could get <code>BaseDomain</code> and check its type to know that its an instance of <code>StringDomain</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(annotation.annotationType().getSimpleName());\nBaseDomain\n</code></pre>\n"},{"tags":["java","spring-boot","trace","opentracing","open-telemetry"],"answers":[{"comments":[{"owner":{"account_id":4952989,"reputation":2910,"user_id":3986395,"display_name":"Simas Joneliunas"},"score":2,"creation_date":1665032834,"post_id":72945507,"comment_id":130605171,"body_markdown":"just a small note, that Sleuth is being deprecated in Spring 3, so this is not the preferred way to initialize otel in new projects.","body":"just a small note, that Sleuth is being deprecated in Spring 3, so this is not the preferred way to initialize otel in new projects."},{"owner":{"account_id":1114420,"reputation":726,"user_id":1104124,"display_name":"brunocrt"},"score":0,"creation_date":1688052889,"post_id":72945507,"comment_id":135025063,"body_markdown":"Spring 3 now uses new distributed tracing support with Micrometer Tracing (formerly Spring Cloud Sleuth) More info on https://spring.io/blog/2022/10/12/observability-with-spring-boot-3","body":"Spring 3 now uses new distributed tracing support with Micrometer Tracing (formerly Spring Cloud Sleuth) More info on <a href=\"https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\" rel=\"nofollow noreferrer\">spring.io/blog/2022/10/12/observability-with-spring-boot-3</a>"}],"tags":[],"owner":{"account_id":1114420,"reputation":726,"user_id":1104124,"display_name":"brunocrt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688052676,"creation_date":1657581020,"answer_id":72945507,"question_id":71154186,"body_markdown":"First of all, Spring uses **Spring Cloud Sleuth** project for implementing distributed tracing and you need to add it to your project before configuring open telemetry. By default, Spring Cloud Sleuth uses **OpenZipkin Brave**, which is different from OpenTelemetry (Otel) implementation. \r\n\r\nTo configure your project to use **OpenTelemetry** you need to decide if you will go with auto-instrumentation which is more straightforward (using agents on not) or with manual instrumentation, with gives you more flexibility.\r\n\r\nWith auto-instrumentation, you can use the java agent with some properties like the example below\r\n\r\n    java -javaagent:opentelemetry-java-agent-all.jar -Dotel.exporter.otlp.traces.endpoint=http://yourTraceServerEndpointUrl yourApp.jar \r\n\r\nto your app execution script (ie. Dockerfile). More info on https://github.com/open-telemetry/opentelemetry-java-instrumentation\r\n\r\nor change your **pom.xml** and configure an exporter backend in your **application.yaml** and it will automatically generate and export the traces for you.\r\n\r\napplication.yaml\r\n\r\n    spring.sleuth.otel.exporter.otlp.endpoint=[URL TO YOUR OTEL BACKEND]\r\n*you can send the traces to zipkin, grafana tempo and etc..*\r\n\r\npom.xml\r\n&lt;!-- begin snippet: xml hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;spring-cloud.version&gt;2021.0.0-M2&lt;/spring-cloud.version&gt;\r\n      &lt;spring-cloud-sleuth-otel.version&gt;1.1.0-M3&lt;/spring-cloud-sleuth-otel.version&gt;\r\n      &lt;opentelemetry-exporter-otlp&gt;1.7.0&lt;/opentelemetry-exporter-otlp&gt;\r\n      &lt;grpc-netty-shaded&gt;1.41.0&lt;/grpc-netty-shaded&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Cloud Sleuth OTel requires a Spring Cloud Sleuth OTel BOM --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-cloud-sleuth-otel.version}&lt;/version&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;!-- Sleuth with Brave tracer implementation --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;!-- Exclude Brave (the default) --&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Add OpenTelemetry tracer --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.opentelemetry/opentelemetry-exporter-otlp --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n      &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\r\n      &lt;version&gt;${opentelemetry-exporter-otlp}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-netty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n      &lt;version&gt;${grpc-netty-shaded}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n        &lt;snapshots&gt;\r\n          &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/snapshots&gt;\r\n      &lt;/repository&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;spring-milestones&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n      &lt;pluginRepository&gt;\r\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n      &lt;/pluginRepository&gt;\r\n      &lt;pluginRepository&gt;\r\n        &lt;id&gt;spring-milestones&lt;/id&gt;\r\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n      &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMore references\r\n\r\n - https://github.com/open-telemetry/opentelemetry-java-instrumentation\r\n - https://opentelemetry.io/docs/instrumentation/java/\r\n - https://github.com/spring-projects-experimental/spring-cloud-sleuth-otel\r\n","title":"Adding Tracer beans in Spring Boot with OpenTelemetry","body":"<p>First of all, Spring uses <strong>Spring Cloud Sleuth</strong> project for implementing distributed tracing and you need to add it to your project before configuring open telemetry. By default, Spring Cloud Sleuth uses <strong>OpenZipkin Brave</strong>, which is different from OpenTelemetry (Otel) implementation.</p>\n<p>To configure your project to use <strong>OpenTelemetry</strong> you need to decide if you will go with auto-instrumentation which is more straightforward (using agents on not) or with manual instrumentation, with gives you more flexibility.</p>\n<p>With auto-instrumentation, you can use the java agent with some properties like the example below</p>\n<pre><code>java -javaagent:opentelemetry-java-agent-all.jar -Dotel.exporter.otlp.traces.endpoint=http://yourTraceServerEndpointUrl yourApp.jar \n</code></pre>\n<p>to your app execution script (ie. Dockerfile). More info on <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation</a></p>\n<p>or change your <strong>pom.xml</strong> and configure an exporter backend in your <strong>application.yaml</strong> and it will automatically generate and export the traces for you.</p>\n<p>application.yaml</p>\n<pre><code>spring.sleuth.otel.exporter.otlp.endpoint=[URL TO YOUR OTEL BACKEND]\n</code></pre>\n<p><em>you can send the traces to zipkin, grafana tempo and etc..</em></p>\n<p>pom.xml\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;properties&gt;\n  &lt;spring-cloud.version&gt;2021.0.0-M2&lt;/spring-cloud.version&gt;\n  &lt;spring-cloud-sleuth-otel.version&gt;1.1.0-M3&lt;/spring-cloud-sleuth-otel.version&gt;\n  &lt;opentelemetry-exporter-otlp&gt;1.7.0&lt;/opentelemetry-exporter-otlp&gt;\n  &lt;grpc-netty-shaded&gt;1.41.0&lt;/grpc-netty-shaded&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Cloud Sleuth OTel requires a Spring Cloud Sleuth OTel BOM --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;${spring-cloud-sleuth-otel.version}&lt;/version&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;!-- Sleuth with Brave tracer implementation --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;!-- Exclude Brave (the default) --&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;!-- Add OpenTelemetry tracer --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.opentelemetry/opentelemetry-exporter-otlp --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n  &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\n  &lt;version&gt;${opentelemetry-exporter-otlp}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-netty --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n  &lt;version&gt;${grpc-netty-shaded}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;spring-snapshots&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n    &lt;snapshots&gt;\n      &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n  &lt;/repository&gt;\n  &lt;repository&gt;\n    &lt;id&gt;spring-milestones&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n  &lt;pluginRepository&gt;\n    &lt;id&gt;spring-snapshots&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n  &lt;/pluginRepository&gt;\n  &lt;pluginRepository&gt;\n    &lt;id&gt;spring-milestones&lt;/id&gt;\n    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n  &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>More references</p>\n<ul>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation</a></li>\n<li><a href=\"https://opentelemetry.io/docs/instrumentation/java/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/</a></li>\n<li><a href=\"https://github.com/spring-projects-experimental/spring-cloud-sleuth-otel\" rel=\"nofollow noreferrer\">https://github.com/spring-projects-experimental/spring-cloud-sleuth-otel</a></li>\n</ul>\n"}],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688052676,"creation_date":1645084025,"question_id":71154186,"body_markdown":"Context:\r\nI have to rewrite a parent library from Java EE to a more modern one in Spring Boot. For example, it has got some deprecated dependencies and CDI parts, Microprofiles that are not Spring compatible.\r\n\r\nProblem:\r\nI have hardly used OpenTelemetry and OpenTracing. I understand only the high-level concepts but I have never coded such things. I have trouble rewriting a part that involves OpenTracing. I know OpenTracing is deprecated and I should use OpenTelemetry. There is a dependency called &#39;[Tracer Resolver][1]&#39;.\r\n\r\nIts description from Github: *Resolver API for OpenTracing Tracer implementations. NOTE: The Tracer Resolver mechanism is only intended to be used at application startup/initialization time. This responsibility should be handled by the application, possibly using some runtime-specific support (e.g. providing a Tracer @Bean in Spring Boot, or a CDI producer). Framework integrations used to instrument-specific technologies should not use this library, but should allow a Tracer to be injected instead, with fallback to the GlobalTracer.*\r\n\r\nIn the code the only OpenTracing dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opentracing-tracerresolver&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I found the usage in the code as:\r\n\r\n    @ApplicationScoped\r\n    public class OpenTraceResolver {\r\n    \r\n        @Inject\r\n        private Instance&lt;Tracer&gt; tracerInstance;\r\n    \r\n    ...\r\n\r\nor\r\n\r\n    @Provider\r\n    public class OpenTraceErrorResponseFilter implements ContainerResponseFilter {\r\n    \r\n        @Inject\r\n        private Tracer configuredTracer;\r\n    \r\n    ...\r\n\r\nHow should I do the same with OpenTelemetry? Is there a way to use it in such a simple way?\r\n\r\nThank you for your help! \r\n\r\n  [1]: https://github.com/opentracing-contrib/java-tracerresolver","title":"Adding Tracer beans in Spring Boot with OpenTelemetry","body":"<p>Context:\nI have to rewrite a parent library from Java EE to a more modern one in Spring Boot. For example, it has got some deprecated dependencies and CDI parts, Microprofiles that are not Spring compatible.</p>\n<p>Problem:\nI have hardly used OpenTelemetry and OpenTracing. I understand only the high-level concepts but I have never coded such things. I have trouble rewriting a part that involves OpenTracing. I know OpenTracing is deprecated and I should use OpenTelemetry. There is a dependency called '<a href=\"https://github.com/opentracing-contrib/java-tracerresolver\" rel=\"nofollow noreferrer\">Tracer Resolver</a>'.</p>\n<p>Its description from Github: <em>Resolver API for OpenTracing Tracer implementations. NOTE: The Tracer Resolver mechanism is only intended to be used at application startup/initialization time. This responsibility should be handled by the application, possibly using some runtime-specific support (e.g. providing a Tracer @Bean in Spring Boot, or a CDI producer). Framework integrations used to instrument-specific technologies should not use this library, but should allow a Tracer to be injected instead, with fallback to the GlobalTracer.</em></p>\n<p>In the code the only OpenTracing dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;opentracing-tracerresolver&lt;/artifactId&gt;\n    &lt;version&gt;0.1.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I found the usage in the code as:</p>\n<pre><code>@ApplicationScoped\npublic class OpenTraceResolver {\n\n    @Inject\n    private Instance&lt;Tracer&gt; tracerInstance;\n\n...\n</code></pre>\n<p>or</p>\n<pre><code>@Provider\npublic class OpenTraceErrorResponseFilter implements ContainerResponseFilter {\n\n    @Inject\n    private Tracer configuredTracer;\n\n...\n</code></pre>\n<p>How should I do the same with OpenTelemetry? Is there a way to use it in such a simple way?</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","android","noclassdeffounderror"],"comments":[{"owner":{"account_id":9911981,"reputation":326,"user_id":7338350,"display_name":"Vishu"},"score":0,"creation_date":1526461173,"post_id":50365863,"comment_id":87749157,"body_markdown":"this may be multidex problem. Can you try 2ed solution from https://developer.android.com/studio/build/multidex.","body":"this may be multidex problem. Can you try 2ed solution from <a href=\"https://developer.android.com/studio/build/multidex\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/multidex</a>."},{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":0,"creation_date":1526464638,"post_id":50365863,"comment_id":87751655,"body_markdown":"I didn&#39;t read all of your post, what happens if you remove proguard? Does exception still occur? Do other classes from that lib (within the same package) present at runtime?)","body":"I didn&#39;t read all of your post, what happens if you remove proguard? Does exception still occur? Do other classes from that lib (within the same package) present at runtime?)"},{"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"score":0,"creation_date":1526472140,"post_id":50365863,"comment_id":87756631,"body_markdown":"@Vishu I added multidex but it doesnt work :/","body":"@Vishu I added multidex but it doesnt work :/"},{"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"score":0,"creation_date":1526472225,"post_id":50365863,"comment_id":87756705,"body_markdown":"@deathangel908 I removed the line `proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;` but it doesn&#39;t work","body":"@deathangel908 I removed the line <code>proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;</code> but it doesn&#39;t work"},{"owner":{"account_id":3444631,"reputation":8971,"user_id":3872976,"accept_rate":85,"display_name":"deathangel908"},"score":0,"creation_date":1526479197,"post_id":50365863,"comment_id":87761853,"body_markdown":"You have some conflicting libs in the projects, check `./gradlew app:dependencies`","body":"You have some conflicting libs in the projects, check <code>.&#47;gradlew app:dependencies</code>"},{"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"score":0,"creation_date":1528881059,"post_id":50365863,"comment_id":88670498,"body_markdown":"@deathangel908 I did it and the build was successful with 1 actionable task which was executed","body":"@deathangel908 I did it and the build was successful with 1 actionable task which was executed"}],"answers":[{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"ÿµŸÑŸä ÿπŸÑŸä ŸÖÿ≠ŸÖÿØ - Atef Farouk"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541352362,"creation_date":1541352362,"answer_id":53143446,"question_id":50365863,"body_markdown":"I had same problem, so be sure for class which is extending application to have below :\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(base);\r\n        MultiDex.install(this);\r\n    }\r\nOtherwise you need to make clean - rebuild.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>I had same problem, so be sure for class which is extending application to have below :</p>\n\n<pre><code>@Override\nprotected void attachBaseContext(Context base) {\n    super.attachBaseContext(base);\n    MultiDex.install(this);\n}\n</code></pre>\n\n<p>Otherwise you need to make clean - rebuild.</p>\n"},{"comments":[{"owner":{"account_id":2268572,"reputation":188,"user_id":1996581,"display_name":"TheScriptan"},"score":2,"creation_date":1581076163,"post_id":58314338,"comment_id":106318141,"body_markdown":"To expand on this answer, you may need to update classpath &quot;io.realm:realm-gradle-plugin:5.11.0&quot; to classpath &quot;io.realm:realm-gradle-plugin:5.13.1&quot; in project&#39;s build.gradle.","body":"To expand on this answer, you may need to update classpath &quot;io.realm:realm-gradle-plugin:5.11.0&quot; to classpath &quot;io.realm:realm-gradle-plugin:5.13.1&quot; in project&#39;s build.gradle."}],"tags":[],"owner":{"account_id":4471460,"reputation":2059,"user_id":3808828,"accept_rate":73,"display_name":"Selali Adobor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570671959,"creation_date":1570671959,"answer_id":58314338,"question_id":50365863,"body_markdown":"Just ran into this due to `realm-db`\r\n\r\nIt was on an alpha build of gradle and a few other project-specific circumstances (AndroidX, Kotlin) so this isn&#39;t a general issue, but another thing to check","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>Just ran into this due to <code>realm-db</code></p>\n\n<p>It was on an alpha build of gradle and a few other project-specific circumstances (AndroidX, Kotlin) so this isn't a general issue, but another thing to check</p>\n"},{"tags":[],"owner":{"account_id":7570134,"reputation":3215,"user_id":5744335,"display_name":"Arshak"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1591705488,"creation_date":1582658461,"answer_id":60401794,"question_id":50365863,"body_markdown":"\r\n&gt; If you are using **Realm plugin** in your app, then you could try\r\n&gt; **upgrading your plugin** as it was one of the reason why app crashed while\r\n&gt; running.\r\n\r\n&lt;BR&gt;\r\n\r\n**Steps to update realm plugin:** \r\n\r\n - Open `build.gradle(Project: Project_name_here)` file.\r\n - Replace classpath of realm gradle plugin with the [latest stable version][1] as follows:\r\n - `classpath &quot;io.realm:realm-gradle-plugin:7.0.0&quot;`\r\n\r\n&lt;BR&gt;\r\nAlso, please check for any **outdated plugins** within `build.gradle` file as it may be one of the reason why the app crashes. \r\n\r\n&lt;BR&gt;\r\n\r\n **OR**\r\n&lt;BR&gt;\r\n&lt;BR&gt;    \r\n\r\nI faced similar issue **after updating Android Studio to 3.6** with **Gradle 3.6.0**. \r\n&lt;BR&gt;\r\n&lt;BR&gt;\r\n\r\n&gt; I **downgraded** my **Gradle to 3.5.3** in-order to resolve this issue until it gets fixed in future.\r\n\r\n&lt;BR&gt;\r\n\r\n\r\n**Steps:**\r\n\r\n - Open `build.gradle(Project: Project_name_here)` file.\r\n - Replace classpath of android tools build gradle under dependencies with the following:\r\n - `classpath &#39;com.android.tools.build:gradle:3.5.3&#39;`\r\n\r\n&lt;BR&gt;\r\n&lt;BR&gt;\r\n**Please Note:** This is a temporary fix. It may get fixed in future, so until then downgrade and continue with app development.\r\n\r\n\r\n  [1]: https://realm.io/docs/java/latest","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<blockquote>\n  <p>If you are using <strong>Realm plugin</strong> in your app, then you could try\n  <strong>upgrading your plugin</strong> as it was one of the reason why app crashed while\n  running.</p>\n</blockquote>\n\n<p><BR></p>\n\n<p><strong>Steps to update realm plugin:</strong> </p>\n\n<ul>\n<li>Open <code>build.gradle(Project: Project_name_here)</code> file.</li>\n<li>Replace classpath of realm gradle plugin with the <a href=\"https://realm.io/docs/java/latest\" rel=\"noreferrer\">latest stable version</a> as follows:</li>\n<li><code>classpath \"io.realm:realm-gradle-plugin:7.0.0\"</code></li>\n</ul>\n\n<p><BR>\nAlso, please check for any <strong>outdated plugins</strong> within <code>build.gradle</code> file as it may be one of the reason why the app crashes. </p>\n\n<p><BR></p>\n\n<p><strong>OR</strong>\n<BR>\n<BR>    </p>\n\n<p>I faced similar issue <strong>after updating Android Studio to 3.6</strong> with <strong>Gradle 3.6.0</strong>. \n<BR>\n<BR></p>\n\n<blockquote>\n  <p>I <strong>downgraded</strong> my <strong>Gradle to 3.5.3</strong> in-order to resolve this issue until it gets fixed in future.</p>\n</blockquote>\n\n<p><BR></p>\n\n<p><strong>Steps:</strong></p>\n\n<ul>\n<li>Open <code>build.gradle(Project: Project_name_here)</code> file.</li>\n<li>Replace classpath of android tools build gradle under dependencies with the following:</li>\n<li><code>classpath 'com.android.tools.build:gradle:3.5.3'</code></li>\n</ul>\n\n<p><BR>\n<BR>\n<strong>Please Note:</strong> This is a temporary fix. It may get fixed in future, so until then downgrade and continue with app development.</p>\n"},{"comments":[{"owner":{"account_id":2275767,"reputation":5881,"user_id":2002079,"accept_rate":59,"display_name":"ahmadalibaloch"},"score":0,"creation_date":1591407234,"post_id":60418708,"comment_id":110052988,"body_markdown":"This works. https://github.com/firebase/firebase-android-sdk/issues/665#issuecomment-574431015","body":"This works. <a href=\"https://github.com/firebase/firebase-android-sdk/issues/665#issuecomment-574431015\" rel=\"nofollow noreferrer\">github.com/firebase/firebase-android-sdk/issues/&hellip;</a>"}],"tags":[],"owner":{"account_id":1373152,"reputation":7553,"user_id":1307690,"accept_rate":62,"display_name":"Roman Nazarevych"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1582735602,"creation_date":1582735602,"answer_id":60418708,"question_id":50365863,"body_markdown":"If you have just updated your project to Gradle `3.6.0` and are using **Realm** there is a very high chance that this issue was caused by the **Realm plugin**.\r\nAccordingly to [this][1] comment, this issue happens for older Realm plugin versions, less than `5.13.1`.\r\nSo just updating to the latest Realm version will most likely solve the problem. \r\n\r\nAs of the time of writing it was:\r\n`classpath &quot;io.realm:realm-gradle-plugin:6.1.0&quot;`\r\n\r\n  [1]: https://github.com/firebase/firebase-android-sdk/issues/665#issuecomment-574431015","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>If you have just updated your project to Gradle <code>3.6.0</code> and are using <strong>Realm</strong> there is a very high chance that this issue was caused by the <strong>Realm plugin</strong>.\nAccordingly to <a href=\"https://github.com/firebase/firebase-android-sdk/issues/665#issuecomment-574431015\" rel=\"noreferrer\">this</a> comment, this issue happens for older Realm plugin versions, less than <code>5.13.1</code>.\nSo just updating to the latest Realm version will most likely solve the problem. </p>\n\n<p>As of the time of writing it was:\n<code>classpath \"io.realm:realm-gradle-plugin:6.1.0\"</code></p>\n"},{"tags":[],"owner":{"account_id":3494505,"reputation":694,"user_id":2923194,"accept_rate":25,"display_name":"Meysam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583313345,"creation_date":1583313345,"answer_id":60522589,"question_id":50365863,"body_markdown":"i remove all of the firebase and gms dependencies from my project and error happens with leakcanary and so remove this. and again error happens with calligraphy3 and so on ...\r\ni think its multidex bug.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>i remove all of the firebase and gms dependencies from my project and error happens with leakcanary and so remove this. and again error happens with calligraphy3 and so on ...\ni think its multidex bug.</p>\n"},{"tags":[],"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590627000,"creation_date":1590627000,"answer_id":62055187,"question_id":50365863,"body_markdown":"I recently also face same issue.\r\n\r\nusing `classpath(&#39;com.google.firebase:perf-plugin:1.2.1&#39;)`. and works after disabling it.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>I recently also face same issue.</p>\n\n<p>using <code>classpath('com.google.firebase:perf-plugin:1.2.1')</code>. and works after disabling it.</p>\n"},{"tags":[],"owner":{"account_id":13891214,"reputation":338,"user_id":10029164,"display_name":"rmindzstar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593770978,"creation_date":1593769956,"answer_id":62712890,"question_id":50365863,"body_markdown":"Hi I know its late in the question but for the current android version, I solved this problem.\r\n\r\n# on build.grade project-level dependencies update your:\r\n\r\n - com.android.tools.build:gradle to the latest stable (android updates don&#39;t do this)\r\n   - **link here** -&gt; [developer android gradle releases][1]\r\n\r\n - if using realm:\r\n   - **link here** -&gt;[realm lastest versions][2]\r\n\r\n - if using gms services\r\n   - update it aswell\r\n\r\n  [1]: https://developer.android.com/studio/releases/gradle-plugin\r\n  [2]: https://realm.io/docs/java/latest/\r\n\r\n# on build.grade app-level update your dependencies\r\n\r\nSome answers to this problem involved multidex and other fix&#39;s but none solved for me.\r\n\r\nThat&#39;s why this answer was made.\r\n\r\nmy current settings:\r\n\r\n**project-level**\r\n\r\n    dependencies {\r\n       classpath &#39;com.android.tools.build:gradle:4.0.0&#39;\r\n       classpath &quot;io.realm:realm-gradle-plugin:6.0.2&quot;\r\n       classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    }\r\n\r\napp-level\r\n\r\n    dependencies {\r\n      implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n      implementation &#39;androidx.core:core:1.3.0&#39;\r\n      implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n      implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n      implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n      implementation &#39;com.android.volley:volley:1.1.1&#39;\r\n      implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n      implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n      implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n      testImplementation &#39;junit:junit:4.12&#39;\r\n      androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n      androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n      implementation &#39;com.facebook.android:facebook-login:5.15.3&#39;\r\n      implementation &quot;com.google.android.gms:play-services-location:17.0.0&quot;\r\n      implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n      implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n      implementation &#39;commons-validator:commons-validator:1.6&#39;\r\n      implementation &#39;com.appeaser.sublimepickerlibrary:sublimepickerlibrary:2.1.2&#39;\r\n      implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n      implementation &#39;com.google.maps.android:android-maps-utils:0.5+&#39;\r\n      implementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\n      implementation &#39;com.evrencoskun.library:tableview:0.8.8&#39;\r\n      implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n      implementation &#39;com.onesignal:OneSignal:[3.9.1, 3.99.99]&#39;\r\n      implementation &#39;com.google.firebase:firebase-core:17.4.3&#39;\r\n      implementation &#39;com.facebook.android:facebook-share:5.15.3&#39;\r\n      implementation(&#39;com.smartlook.recording:app:1.1.0-native&#39;)\r\n    }\r\n\r\n\r\n    \r\n\r\nHope I could help a few!\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>Hi I know its late in the question but for the current android version, I solved this problem.</p>\n<h1>on build.grade project-level dependencies update your:</h1>\n<ul>\n<li><p>com.android.tools.build:gradle to the latest stable (android updates don't do this)</p>\n<ul>\n<li><strong>link here</strong> -&gt; <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">developer android gradle releases</a></li>\n</ul>\n</li>\n<li><p>if using realm:</p>\n<ul>\n<li><strong>link here</strong> -&gt;<a href=\"https://realm.io/docs/java/latest/\" rel=\"nofollow noreferrer\">realm lastest versions</a></li>\n</ul>\n</li>\n<li><p>if using gms services</p>\n<ul>\n<li>update it aswell</li>\n</ul>\n</li>\n</ul>\n<h1>on build.grade app-level update your dependencies</h1>\n<p>Some answers to this problem involved multidex and other fix's but none solved for me.</p>\n<p>That's why this answer was made.</p>\n<p>my current settings:</p>\n<p><strong>project-level</strong></p>\n<pre><code>dependencies {\n   classpath 'com.android.tools.build:gradle:4.0.0'\n   classpath &quot;io.realm:realm-gradle-plugin:6.0.2&quot;\n   classpath 'com.google.gms:google-services:4.3.3'\n}\n</code></pre>\n<p>app-level</p>\n<pre><code>dependencies {\n  implementation fileTree(include: ['*.jar'], dir: 'libs')\n  implementation 'androidx.core:core:1.3.0'\n  implementation 'androidx.annotation:annotation:1.1.0'\n  implementation 'androidx.appcompat:appcompat:1.1.0'\n  implementation 'com.google.android.material:material:1.1.0'\n  implementation 'com.android.volley:volley:1.1.1'\n  implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n  implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n  implementation 'androidx.recyclerview:recyclerview:1.0.0'\n  testImplementation 'junit:junit:4.12'\n  androidTestImplementation 'androidx.test:runner:1.2.0'\n  androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n  implementation 'com.facebook.android:facebook-login:5.15.3'\n  implementation &quot;com.google.android.gms:play-services-location:17.0.0&quot;\n  implementation 'com.google.code.gson:gson:2.8.5'\n  implementation 'com.squareup.picasso:picasso:2.71828'\n  implementation 'commons-validator:commons-validator:1.6'\n  implementation 'com.appeaser.sublimepickerlibrary:sublimepickerlibrary:2.1.2'\n  implementation 'de.hdodenhof:circleimageview:2.2.0'\n  implementation 'com.google.maps.android:android-maps-utils:0.5+'\n  implementation 'com.google.android.gms:play-services-maps:17.0.0'\n  implementation 'com.evrencoskun.library:tableview:0.8.8'\n  implementation 'androidx.multidex:multidex:2.0.1'\n  implementation 'com.onesignal:OneSignal:[3.9.1, 3.99.99]'\n  implementation 'com.google.firebase:firebase-core:17.4.3'\n  implementation 'com.facebook.android:facebook-share:5.15.3'\n  implementation('com.smartlook.recording:app:1.1.0-native')\n}\n</code></pre>\n<p>Hope I could help a few!</p>\n"},{"tags":[],"owner":{"account_id":11562480,"reputation":6622,"user_id":8471798,"display_name":"canerkaseler"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688052584,"creation_date":1596649334,"answer_id":63270703,"question_id":50365863,"body_markdown":"You have to update your ***REALM-PLUGIN*** and you need to write this in ***Top-Level Gradle (Project:Gradle)***, copy paste below &quot;***classpath***&quot; line:\r\n\r\n    buildscript {\r\n      ... \r\n      dependencies {\r\n        classpath &#39;io.realm:realm-gradle-plugin:7.0.0&#39; //&lt;--Your answer.\r\n      } \r\n    }\r\n","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>You have to update your <em><strong>REALM-PLUGIN</strong></em> and you need to write this in <em><strong>Top-Level Gradle (Project:Gradle)</strong></em>, copy paste below &quot;<em><strong>classpath</strong></em>&quot; line:</p>\n<pre><code>buildscript {\n  ... \n  dependencies {\n    classpath 'io.realm:realm-gradle-plugin:7.0.0' //&lt;--Your answer.\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1737025,"reputation":81,"user_id":1589349,"display_name":"Domoch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604066253,"creation_date":1604066253,"answer_id":64609777,"question_id":50365863,"body_markdown":"Recently, after the update to `Gradle 3.6.4`(and newer versions) faced the same problem `ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.common.R$string&quot;`. \r\n\r\nIn my case it was old deprecated `io.mironov.smuggler` plugin. \r\n\r\nIt seems that in most cases problem is with old plugins (especially ones thar use transform api), so to find which one you first should try to update them all. And if that doesn&#39;t help, just disable them one by one until app starts running with out the error. ","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>Recently, after the update to <code>Gradle 3.6.4</code>(and newer versions) faced the same problem <code>ClassNotFoundException: Didn't find class &quot;com.google.android.gms.common.R$string&quot;</code>.</p>\n<p>In my case it was old deprecated <code>io.mironov.smuggler</code> plugin.</p>\n<p>It seems that in most cases problem is with old plugins (especially ones thar use transform api), so to find which one you first should try to update them all. And if that doesn't help, just disable them one by one until app starts running with out the error.</p>\n"},{"tags":[],"owner":{"account_id":12741223,"reputation":193,"user_id":9251194,"display_name":"JustADeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610449751,"creation_date":1610449751,"answer_id":65682754,"question_id":50365863,"body_markdown":"As far as I see, this issue comes from version conflicts of dependencies in **&#39;project level&#39; build.gradle** file. \r\nAnd especially caught when the gradle version is updated. \r\n\r\n    buildscript {\r\n        ...\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n            classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n            classpath &quot;io.objectbox:objectbox-gradle-plugin:2.8.1&quot;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.4.1&#39;\r\n        }\r\n    }\r\n\r\nWhen you update your gradle version (`classpath &#39;com.android.tools.build:gradle:4.1.1&#39;`), ensure that your other classpath dependencies are also up-to-date.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>As far as I see, this issue comes from version conflicts of dependencies in <strong>'project level' build.gradle</strong> file.\nAnd especially caught when the gradle version is updated.</p>\n<pre><code>buildscript {\n    ...\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.4'\n        classpath 'com.android.tools.build:gradle:4.1.1'\n        classpath &quot;io.objectbox:objectbox-gradle-plugin:2.8.1&quot;\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.4.1'\n    }\n}\n</code></pre>\n<p>When you update your gradle version (<code>classpath 'com.android.tools.build:gradle:4.1.1'</code>), ensure that your other classpath dependencies are also up-to-date.</p>\n"}],"owner":{"account_id":13082965,"reputation":279,"user_id":9452924,"display_name":"Dureox"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17110,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":10,"score":26,"last_activity_date":1688052584,"creation_date":1526459266,"question_id":50365863,"body_markdown":"I tried out many things, but it does not solve my problem. \r\n\r\nFull Error Code (kompletter Error Code):\r\n\r\n    05-16 09:59:53.428 25010-25010/main.faseflex.de.fgnapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: main.faseflex.de.fgnapp, PID: 25010\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;\r\n        at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)\r\n        at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6578)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.common.R$string&quot; on path: DexPathList[[zip file &quot;/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/lib/arm64, /system/lib64, /system/vendor/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)&#160;\r\n        at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)&#160;\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:6578)&#160;\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)&#160;\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)&#160;\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6944)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)&#160;\r\n\r\nbuild.gradle app:\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        //buildToolsVersion &quot;25.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;main.faseflex.de.fgnapp&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 25\r\n            multiDexEnabled true\r\n            dexOptions {\r\n                preDexLibraries true\r\n            }\r\n            versionCode 1\r\n            versionName &quot;0.98.41&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                multiDexKeepFile file(&#39;multidex-config.txt&#39;)\r\n            }\r\n    \r\n        }\r\n        productFlavors {\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.android.support:support-v4:25.4.0&#39;\r\n        implementation &#39;com.android.support:support-vector-drawable:25.4.0&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        implementation &#39;com.google.firebase:firebase-core:15.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:15.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:15.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:15.1.0&#39;\r\n        implementation &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n        implementation &#39;com.android.support:design:25.4.0&#39;\r\n        implementation &#39;com.android.support:preference-v7:25.4.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.0&#39;\r\n        implementation &#39;com.github.SHashank02051997:FancyToast-Android:0.1.3&#39;\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:15.0.1&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    configurations.all {\r\n        resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n            def requested = details.requested\r\n            if (requested.group == &#39;com.android.support&#39;) {\r\n                if (!requested.name.startsWith(&quot;multidex&quot;)) {\r\n                    details.useVersion &#39;25.3.0&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nbuild.gradle project:\r\n\r\n        // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.1.2&#39;\r\n            classpath &#39;com.google.gms:google-services:3.2.0&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            google()\r\n            maven {\r\n                url &quot;https://jitpack.io&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAndroidManifest.xml:\r\n\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;main.faseflex.de.fgnapp&quot;\r\n        tools:node=&quot;replace&quot;&gt;\r\n    \r\n        &lt;supports-screens\r\n            android:anyDensity=&quot;true&quot;\r\n            android:compatibleWidthLimitDp=&quot;50&quot;\r\n            android:largeScreens=&quot;true&quot;\r\n            android:normalScreens=&quot;true&quot;\r\n            android:resizeable=&quot;false&quot;\r\n            android:smallScreens=&quot;false&quot;\r\n            android:xlargeScreens=&quot;false&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/fgn_icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:resizeableActivity=&quot;false&quot;\r\n            android:roundIcon=&quot;@mipmap/fgn_icon&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    \r\n            ------------------------------------------------\r\n            MAIN ACTIVITY\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.FGNmainActivity&quot;\r\n                android:label=&quot;FGN-App&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            STUNDENPLAN\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_timetable&quot;\r\n                android:label=&quot;FGN-App | Stundenplan&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            ESSENSBESTELLUNG\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_food&quot;\r\n                android:label=&quot;FGN-App | Essenplan&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            MDV\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_mdv&quot;\r\n                android:label=&quot;FGN-App | Verkehrsverbund&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            DOKUMENTE\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_documents&quot;\r\n                android:label=&quot;FGN-App | Dokumente&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            NEWS\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_news&quot;\r\n                android:label=&quot;FGN-App | News&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            LEHRER\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_teachers&quot;\r\n                android:label=&quot;FGN-App | Lehrer&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            MOODLE\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_moodle&quot;\r\n                android:label=&quot;FGN-App | Moodle&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            OFFICE 365\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_office&quot;\r\n                android:label=&quot;FGN-App | Office 365&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            KONTAKT\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_contact&quot;\r\n                android:label=&quot;FGN-App | Kontakt&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            TERMINE\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_termine&quot;\r\n                android:label=&quot;FGN-App | Termine&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            MITTAGSBAND\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_mittagsband&quot;\r\n                android:label=&quot;FGN-App | Mittagsband&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.APP_BROWSER&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            FEEDBACK\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_menu_feedback&quot;\r\n                android:label=&quot;FGN-App | Feedback&quot;\r\n                android:parentActivityName=&quot;.SettingsActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            IMPRESSUM\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.activity_menu_impressum&quot;\r\n                android:label=&quot;FGN-App | Impressum&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    \r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            FIREBASE\r\n            ------------------------------------------------\r\n            &lt;service android:name=&quot;.MyFirebaseMessagingService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;.FirebaseIDService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;.MyInstanceIDListenerService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            ------------------------------------------------\r\n            EINSTELLUNGEN\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.SettingsActivity&quot;\r\n                android:label=&quot;FGN-App | Einstellungen&quot;\r\n                android:parentActivityName=&quot;.FGNmainActivity&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.PARENT_ACTIVITY&quot;\r\n                    android:value=&quot;main.faseflex.de.fgnapp.FGNmainActivity&quot; /&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            SPLASH SCREEN\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.SplashActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ------------------------------------------------\r\n            CHANGELOG\r\n            ------------------------------------------------\r\n            &lt;activity\r\n                android:name=&quot;.ChangelogActivity&quot;\r\n                android:label=&quot;FGN-App | Changelog&quot;\r\n                android:parentActivityName=&quot;.SettingsActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    \r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI know what the NoClassDefFoundError does, but I did not find the problem. Ask if you need more files for solving the problem. ","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;","body":"<p>I tried out many things, but it does not solve my problem. </p>\n\n<p>Full Error Code (kompletter Error Code):</p>\n\n<pre><code>05-16 09:59:53.428 25010-25010/main.faseflex.de.fgnapp E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: main.faseflex.de.fgnapp, PID: 25010\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/R$string;\n    at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)\n    at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)\n    at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)\n    at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)\n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)\n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)\n    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)\n    at android.app.ActivityThread.installProvider(ActivityThread.java:6578)\n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)\n    at android.app.ActivityThread.-wrap1(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6944)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.common.R$string\" on path: DexPathList[[zip file \"/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/base.apk\"],nativeLibraryDirectories=[/data/app/main.faseflex.de.fgnapp-C4iBOV7sIO2cNc4pfCATmA==/lib/arm64, /system/lib64, /system/vendor/lib64]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at com.google.android.gms.common.internal.StringResourceValueReader.&lt;init&gt;(Unknown Source:14)¬†\n    at com.google.firebase.FirebaseOptions.fromResource(Unknown Source:2)¬†\n    at com.google.firebase.FirebaseApp.initializeApp(Unknown Source:19)¬†\n    at com.google.firebase.provider.FirebaseInitProvider.onCreate(Unknown Source:4)¬†\n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1925)¬†\n    at android.content.ContentProvider.attachInfo(ContentProvider.java:1900)¬†\n    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(Unknown Source:23)¬†\n    at android.app.ActivityThread.installProvider(ActivityThread.java:6578)¬†\n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:6133)¬†\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6043)¬†\n    at android.app.ActivityThread.-wrap1(Unknown Source:0)¬†\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)¬†\n    at android.os.Handler.dispatchMessage(Handler.java:105)¬†\n    at android.os.Looper.loop(Looper.java:164)¬†\n    at android.app.ActivityThread.main(ActivityThread.java:6944)¬†\n    at java.lang.reflect.Method.invoke(Native Method)¬†\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)¬†\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)¬†\n</code></pre>\n\n<p>build.gradle app:</p>\n\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    //buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"main.faseflex.de.fgnapp\"\n        minSdkVersion 21\n        targetSdkVersion 25\n        multiDexEnabled true\n        dexOptions {\n            preDexLibraries true\n        }\n        versionCode 1\n        versionName \"0.98.41\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            multiDexKeepFile file('multidex-config.txt')\n        }\n\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    implementation 'com.android.support:support-v4:25.4.0'\n    implementation 'com.android.support:support-vector-drawable:25.4.0'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation 'com.google.firebase:firebase-core:15.0.2'\n    implementation 'com.google.firebase:firebase-messaging:15.0.2'\n    implementation 'com.google.firebase:firebase-database:15.0.1'\n    implementation 'com.google.firebase:firebase-auth:15.1.0'\n    implementation 'com.android.support:appcompat-v7:25.4.0'\n    implementation 'com.android.support:design:25.4.0'\n    implementation 'com.android.support:preference-v7:25.4.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    implementation 'com.github.SHashank02051997:FancyToast-Android:0.1.3'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.google.android.gms:play-services-auth:15.0.1'\n    testImplementation 'junit:junit:4.12'\n}\napply plugin: 'com.google.gms.google-services'\n\nconfigurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        def requested = details.requested\n        if (requested.group == 'com.android.support') {\n            if (!requested.name.startsWith(\"multidex\")) {\n                details.useVersion '25.3.0'\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>build.gradle project:</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath 'com.google.gms:google-services:3.2.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n        maven {\n            url \"https://jitpack.io\"\n        }\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>AndroidManifest.xml:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"main.faseflex.de.fgnapp\"\n    tools:node=\"replace\"&gt;\n\n    &lt;supports-screens\n        android:anyDensity=\"true\"\n        android:compatibleWidthLimitDp=\"50\"\n        android:largeScreens=\"true\"\n        android:normalScreens=\"true\"\n        android:resizeable=\"false\"\n        android:smallScreens=\"false\"\n        android:xlargeScreens=\"false\" /&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/fgn_icon\"\n        android:label=\"@string/app_name\"\n        android:resizeableActivity=\"false\"\n        android:roundIcon=\"@mipmap/fgn_icon\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        ------------------------------------------------\n        MAIN ACTIVITY\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".FGNmainActivity\"\n            android:label=\"FGN-App\"\n            android:screenOrientation=\"portrait\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        STUNDENPLAN\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_timetable\"\n            android:label=\"FGN-App | Stundenplan\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        ESSENSBESTELLUNG\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_food\"\n            android:label=\"FGN-App | Essenplan\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        MDV\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_mdv\"\n            android:label=\"FGN-App | Verkehrsverbund\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        DOKUMENTE\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_documents\"\n            android:label=\"FGN-App | Dokumente\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        NEWS\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_news\"\n            android:label=\"FGN-App | News\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        LEHRER\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_teachers\"\n            android:label=\"FGN-App | Lehrer\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        MOODLE\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_moodle\"\n            android:label=\"FGN-App | Moodle\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        OFFICE 365\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_office\"\n            android:label=\"FGN-App | Office 365\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        KONTAKT\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_contact\"\n            android:label=\"FGN-App | Kontakt\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        TERMINE\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_termine\"\n            android:label=\"FGN-App | Termine\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        MITTAGSBAND\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_mittagsband\"\n            android:label=\"FGN-App | Mittagsband\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.APP_BROWSER\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        FEEDBACK\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_menu_feedback\"\n            android:label=\"FGN-App | Feedback\"\n            android:parentActivityName=\".SettingsActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        IMPRESSUM\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".activity_menu_impressum\"\n            android:label=\"FGN-App | Impressum\"\n            android:parentActivityName=\".FGNmainActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        FIREBASE\n        ------------------------------------------------\n        &lt;service android:name=\".MyFirebaseMessagingService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\".FirebaseIDService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\".MyInstanceIDListenerService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        ------------------------------------------------\n        EINSTELLUNGEN\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".SettingsActivity\"\n            android:label=\"FGN-App | Einstellungen\"\n            android:parentActivityName=\".FGNmainActivity\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\"main.faseflex.de.fgnapp.FGNmainActivity\" /&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        SPLASH SCREEN\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".SplashActivity\"\n            android:screenOrientation=\"portrait\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ------------------------------------------------\n        CHANGELOG\n        ------------------------------------------------\n        &lt;activity\n            android:name=\".ChangelogActivity\"\n            android:label=\"FGN-App | Changelog\"\n            android:parentActivityName=\".SettingsActivity\"&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I know what the NoClassDefFoundError does, but I did not find the problem. Ask if you need more files for solving the problem. </p>\n"},{"tags":["java","maven","openrewrite"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688054763,"post_id":76582382,"comment_id":135025462,"body_markdown":"Why this: `@@@SNAPSHOT@@@`?","body":"Why this: <code>@@@SNAPSHOT@@@</code>?"}],"answers":[{"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;≈° Petrovick&#253;"},"score":1,"creation_date":1688053016,"post_id":76582495,"comment_id":135025089,"body_markdown":"Thank you, this is what I was looking for.","body":"Thank you, this is what I was looking for."}],"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688052331,"creation_date":1688052331,"answer_id":76582495,"question_id":76582382,"body_markdown":"So the comment is inserted because OpenRewrite will try to resolve the the dependency, and is failing to find it. You might want to add an explicit Maven Repository with something similar to this:\r\n\r\nhttps://github.com/openrewrite/rewrite/blob/ad60832bb60e6da996f395d4abb09eb43f298822/rewrite-maven/src/test/java/org/openrewrite/maven/UpgradeParentVersionTest.java#L66-L72\r\n\r\n```java\r\n    @Test\r\n    void nonMavenCentralRepository() {\r\n        rewriteRun(\r\n          spec -&gt; spec\r\n            .recipe(new UpgradeParentVersion(&quot;org.jenkins-ci.plugins&quot;, &quot;plugin&quot;, &quot;4.40&quot;, null, null))\r\n            .executionContext(\r\n              MavenExecutionContextView\r\n                .view(new InMemoryExecutionContext())\r\n                .setRepositories(List.of(\r\n                  MavenRepository.builder().id(&quot;jenkins&quot;).uri(&quot;https://repo.jenkins-ci.org/public/&quot;).build()\r\n                ))\r\n            ),\r\n          pomXml(\r\n            &quot;&quot;&quot;\r\n              &lt;project&gt;\r\n                  &lt;parent&gt;\r\n```\r\n","title":"OpenRewrite: Enabling local Maven repository during JUnit testing of a recipe?","body":"<p>So the comment is inserted because OpenRewrite will try to resolve the the dependency, and is failing to find it. You might want to add an explicit Maven Repository with something similar to this:</p>\n<p><a href=\"https://github.com/openrewrite/rewrite/blob/ad60832bb60e6da996f395d4abb09eb43f298822/rewrite-maven/src/test/java/org/openrewrite/maven/UpgradeParentVersionTest.java#L66-L72\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite/blob/ad60832bb60e6da996f395d4abb09eb43f298822/rewrite-maven/src/test/java/org/openrewrite/maven/UpgradeParentVersionTest.java#L66-L72</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void nonMavenCentralRepository() {\n        rewriteRun(\n          spec -&gt; spec\n            .recipe(new UpgradeParentVersion(&quot;org.jenkins-ci.plugins&quot;, &quot;plugin&quot;, &quot;4.40&quot;, null, null))\n            .executionContext(\n              MavenExecutionContextView\n                .view(new InMemoryExecutionContext())\n                .setRepositories(List.of(\n                  MavenRepository.builder().id(&quot;jenkins&quot;).uri(&quot;https://repo.jenkins-ci.org/public/&quot;).build()\n                ))\n            ),\n          pomXml(\n            &quot;&quot;&quot;\n              &lt;project&gt;\n                  &lt;parent&gt;\n</code></pre>\n"}],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;≈° Petrovick&#253;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76582495,"answer_count":1,"score":-1,"last_activity_date":1688052331,"creation_date":1688051540,"question_id":76582382,"body_markdown":"I wrote an OpenRewrite recipe which changes Maven `pom.xml` from containing this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;a&lt;/groupId&gt;\r\n      &lt;artifactId&gt;b&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;c&lt;/groupId&gt;\r\n      &lt;artifactId&gt;d&lt;/artifactId&gt;\r\n      &lt;version&gt;@@@SNAPSHOT@@@&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen running the Rewrite Maven Plugin, everything works well, because `1.0.0` is in Maven Central, and `@@@SNAPSHOT@@@` is in my local repo. The rewriting succeeds. However, when running the same recipe in a test environment using JUnit, resolution of the SNAPSHOT fails, inserting the following into the rewritten POM:\r\n\r\n    &lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: HTTP 404)~~&gt;--&gt;\r\n    &lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: Did not attempt to download because of a previous failure to retrieve from this repository.)~~&gt;--&gt;\r\n\r\n\r\nIf I had to guess, it is because in that environment, OpenRewrite does not look into the local repo. What can I do to make it find the SNAPSHOT?","title":"OpenRewrite: Enabling local Maven repository during JUnit testing of a recipe?","body":"<p>I wrote an OpenRewrite recipe which changes Maven <code>pom.xml</code> from containing this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;a&lt;/groupId&gt;\n  &lt;artifactId&gt;b&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;c&lt;/groupId&gt;\n  &lt;artifactId&gt;d&lt;/artifactId&gt;\n  &lt;version&gt;@@@SNAPSHOT@@@&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When running the Rewrite Maven Plugin, everything works well, because <code>1.0.0</code> is in Maven Central, and <code>@@@SNAPSHOT@@@</code> is in my local repo. The rewriting succeeds. However, when running the same recipe in a test environment using JUnit, resolution of the SNAPSHOT fails, inserting the following into the rewritten POM:</p>\n<pre><code>&lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: HTTP 404)~~&gt;--&gt;\n&lt;!--~~(c:d:@@@SNAPSHOT@@@ failed. Unable to download POM. Tried repositories: https://repo.maven.apache.org/maven2: Did not attempt to download because of a previous failure to retrieve from this repository.)~~&gt;--&gt;\n</code></pre>\n<p>If I had to guess, it is because in that environment, OpenRewrite does not look into the local repo. What can I do to make it find the SNAPSHOT?</p>\n"},{"tags":["java","return-value","increment"],"comments":[{"owner":{"account_id":3643318,"reputation":3489,"user_id":3138755,"accept_rate":40,"display_name":"Rahul"},"score":0,"creation_date":1405081457,"post_id":24697627,"comment_id":38298135,"body_markdown":"you can not perform constant++ i.e. 5++. In your method you are return 0 ;","body":"you can not perform constant++ i.e. 5++. In your method you are return 0 ;"},{"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"score":0,"creation_date":1405081513,"post_id":24697627,"comment_id":38298167,"body_markdown":"How different is obj.get()+1 from obj.get()++ ?","body":"How different is obj.get()+1 from obj.get()++ ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1405081663,"post_id":24697627,"comment_id":38298275,"body_markdown":"What would you expect it to do? Translate into a call to `setInteger(getInteger() + 1)`? Don&#39;t forget that the Java *language* doesn&#39;t know anything about getters and setters...","body":"What would you expect it to do? Translate into a call to <code>setInteger(getInteger() + 1)</code>? Don&#39;t forget that the Java <i>language</i> doesn&#39;t know anything about getters and setters..."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1688009431,"post_id":24697627,"comment_id":135017066,"body_markdown":"I don&#39;t think this question is useful, because it can&#39;t be asked by someone who actually understands what `++` means. If you ask yourself *&quot;why is there a `++`, anyway, when `+1` is just as easy to write?&quot;*, and can answer correctly, then you already know the problem with the code in this question. (But then, it&#39;s a duplicate of something that got a lot of upvotes, so...)","body":"I don&#39;t think this question is useful, because it can&#39;t be asked by someone who actually understands what <code>++</code> means. If you ask yourself <i>&quot;why is there a <code>++</code>, anyway, when <code>+1</code> is just as easy to write?&quot;</i>, and can answer correctly, then you already know the problem with the code in this question. (But then, it&#39;s a duplicate of something that got a lot of upvotes, so...)"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1688009677,"post_id":24697627,"comment_id":135017082,"body_markdown":"Does this answer your question? [Why doesn&#39;t the post increment operator work on a method that returns an int?](https://stackoverflow.com/questions/15291861/why-doesnt-the-post-increment-operator-work-on-a-method-that-returns-an-int)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15291861/why-doesnt-the-post-increment-operator-work-on-a-method-that-returns-an-int\">Why doesn&#39;t the post increment operator work on a method that returns an int?</a>"}],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1405081718,"post_id":24697681,"comment_id":38298314,"body_markdown":"@Alnitak Integer doesn&#39;t, but Java 5.0+ supports it with boxing.","body":"@Alnitak Integer doesn&#39;t, but Java 5.0+ supports it with boxing."},{"owner":{"account_id":4495,"reputation":335863,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"score":1,"creation_date":1405081793,"post_id":24697681,"comment_id":38298370,"body_markdown":"@PeterLawrey fair point about boxing - presumably the compiler is unable to box in the `getInteger()++` scenario","body":"@PeterLawrey fair point about boxing - presumably the compiler is unable to box in the <code>getInteger()++</code> scenario"},{"owner":{"account_id":4495,"reputation":335863,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"score":1,"creation_date":1405081983,"post_id":24697681,"comment_id":38298504,"body_markdown":"`ETOOMANYLANGUAGESINMYHEAD`","body":"<code>ETOOMANYLANGUAGESINMYHEAD</code>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1405082173,"post_id":24697681,"comment_id":38298599,"body_markdown":"The operator `++` is not defined for the type Integer","body":"The operator <code>++</code> is not defined for the type Integer"},{"owner":{"account_id":4495,"reputation":335863,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"score":2,"creation_date":1405082277,"post_id":24697681,"comment_id":38298678,"body_markdown":"@Zhuinden that was my initial argument, but as Peter pointed out, with auto-boxing it&#39;s possible to use it.  The real problem is simply that the result of the function is a _value_ instead of an _lvalue_","body":"@Zhuinden that was my initial argument, but as Peter pointed out, with auto-boxing it&#39;s possible to use it.  The real problem is simply that the result of the function is a <i>value</i> instead of an <i>lvalue</i>"}],"tags":[],"owner":{"account_id":55665,"reputation":357059,"user_id":166749,"accept_rate":94,"display_name":"Fred Foo"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1687984233,"creation_date":1405081514,"answer_id":24697681,"question_id":24697627,"body_markdown":"`x++` is not the same as `x + 1`. It&#39;s short for `x += 1`, i.e. `x = x + 1`; increment, then assign. So `getInteger()++` means `getInteger() = getInteger() + 1`, which makes no sense. You&#39;re adding one to a value, not incrementing a variable.\r\n\r\nApart from that, `++` works on `int` but not `Integer`, but even if you were returning an `int` you couldn&#39;t increment it with `++`:\r\n\r\n    class Test {\r\n        static public void main() {\r\n            getint()++;\r\n        }\r\n        static int getint() {\r\n            int a = 0;\r\n            return a;\r\n        }\r\n    }\r\n\r\ngives\r\n\r\n```lang-none\r\nTest.java:3: error: unexpected type\r\n        getint()++;\r\n              ^\r\n  required: variable\r\n  found:    value\r\n```\r\n\r\n(In C++ you could make this work with references, but Java doesn&#39;t have those.)\r\n\r\n","title":"Why cannot I increment returned value?","body":"<p><code>x++</code> is not the same as <code>x + 1</code>. It's short for <code>x += 1</code>, i.e. <code>x = x + 1</code>; increment, then assign. So <code>getInteger()++</code> means <code>getInteger() = getInteger() + 1</code>, which makes no sense. You're adding one to a value, not incrementing a variable.</p>\n<p>Apart from that, <code>++</code> works on <code>int</code> but not <code>Integer</code>, but even if you were returning an <code>int</code> you couldn't increment it with <code>++</code>:</p>\n<pre><code>class Test {\n    static public void main() {\n        getint()++;\n    }\n    static int getint() {\n        int a = 0;\n        return a;\n    }\n}\n</code></pre>\n<p>gives</p>\n<pre class=\"lang-none prettyprint-override\"><code>Test.java:3: error: unexpected type\n        getint()++;\n              ^\n  required: variable\n  found:    value\n</code></pre>\n<p>(In C++ you could make this work with references, but Java doesn't have those.)</p>\n"},{"comments":[{"owner":{"account_id":13173718,"reputation":359828,"user_id":9515207,"display_name":"CertainPerformance"},"score":0,"creation_date":1687985553,"post_id":24697694,"comment_id":135014998,"body_markdown":"@PeterMortensen https://meta.stackoverflow.com/q/425376","body":"@PeterMortensen <a href=\"https://meta.stackoverflow.com/q/425376\">meta.stackoverflow.com/q/425376</a>"}],"tags":[],"owner":{"account_id":4495,"reputation":335863,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688052181,"creation_date":1405081556,"answer_id":24697694,"question_id":24697627,"body_markdown":"You are not returning an `int`; you&#39;re returning an `Integer` object.  The `Integer` class is immutable and has no `++` operator of its own.\r\n\r\nAlso, the `++` operator requires that its operand be an `lvalue`, i.e. an assignable variable as opposed to a `value`.  The result of `getInteger()` is the latter.\r\n\r\nIn the case of your first test:\r\n\r\n```java\r\nInteger integer = 0; integer++;\r\n````\r\n\r\nJava&#39;s autoboxing allows the use of the `++` operator, but only because Java automatically converts the `Integer` into an `int` and then back again, and because the variable `integer` is an `lvalue`.  It&#39;s more or less equivalent to:\r\n\r\n```java\r\nint tmp_int = integer.intValue();\r\nint result = tmp_int++;\r\ninteger = Integer.getInteger(tmp_int);\r\n(void)result;\r\n```\r\n\r\n`result` - the effective &quot;value&quot; of the expression isn&#39;t `integer` because you&#39;ve used the &quot;post increment&quot; version of `++`, so the result is the value that `integer` had _before_ it was incremented.","title":"Why cannot I increment returned value?","body":"<p>You are not returning an <code>int</code>; you're returning an <code>Integer</code> object.  The <code>Integer</code> class is immutable and has no <code>++</code> operator of its own.</p>\n<p>Also, the <code>++</code> operator requires that its operand be an <code>lvalue</code>, i.e. an assignable variable as opposed to a <code>value</code>.  The result of <code>getInteger()</code> is the latter.</p>\n<p>In the case of your first test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer integer = 0; integer++;\n</code></pre>\n<p>Java's autoboxing allows the use of the <code>++</code> operator, but only because Java automatically converts the <code>Integer</code> into an <code>int</code> and then back again, and because the variable <code>integer</code> is an <code>lvalue</code>.  It's more or less equivalent to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int tmp_int = integer.intValue();\nint result = tmp_int++;\ninteger = Integer.getInteger(tmp_int);\n(void)result;\n</code></pre>\n<p><code>result</code> - the effective &quot;value&quot; of the expression isn't <code>integer</code> because you've used the &quot;post increment&quot; version of <code>++</code>, so the result is the value that <code>integer</code> had <em>before</em> it was incremented.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687984365,"creation_date":1405081588,"answer_id":24697701,"question_id":24697627,"body_markdown":"&gt; Why is the second construction forbidden?\r\n\r\n`Integer` is immutable, so you couldn&#39;t change it anyway.  `int` is mutable but since it only returns a *copy* on the value, this won&#39;t work either.\r\n\r\nE.g.,\r\n\r\n    public static Integer getInteger(){\r\n        return 0;\r\n    }\r\n\r\n    // what would this do\r\n    getInteger()++;\r\n\r\n    // now the method has been changed to \r\n    public static Integer getInteger(){\r\n        return 0+1;\r\n    }\r\n    // so now\r\n    System.out.println(getInteger()); // prints 1 ??\r\n\r\n&gt; obj.set(obj.get()+1);\r\n\r\nThis breaks encapsulation as well.  I would suggest a method like this:\r\n\r\n    AtomicInteger i = new AtomicInteger(0);\r\n    i.incrementAndGet();\r\n\r\nOr you could have your own:\r\n\r\n    i.incr();\r\n","title":"Why cannot I increment returned value?","body":"<blockquote>\n<p>Why is the second construction forbidden?</p>\n</blockquote>\n<p><code>Integer</code> is immutable, so you couldn't change it anyway.  <code>int</code> is mutable but since it only returns a <em>copy</em> on the value, this won't work either.</p>\n<p>E.g.,</p>\n<pre><code>public static Integer getInteger(){\n    return 0;\n}\n\n// what would this do\ngetInteger()++;\n\n// now the method has been changed to \npublic static Integer getInteger(){\n    return 0+1;\n}\n// so now\nSystem.out.println(getInteger()); // prints 1 ??\n</code></pre>\n<blockquote>\n<p>obj.set(obj.get()+1);</p>\n</blockquote>\n<p>This breaks encapsulation as well.  I would suggest a method like this:</p>\n<pre><code>AtomicInteger i = new AtomicInteger(0);\ni.incrementAndGet();\n</code></pre>\n<p>Or you could have your own:</p>\n<pre><code>i.incr();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687984416,"creation_date":1405081618,"answer_id":24697714,"question_id":24697627,"body_markdown":"`8++` will not make sense, while\r\n\r\n    int x=8;\r\n    x++;\r\n\r\ndoes make sense, because x++, is working like `x+=1`, i.e., `x=x+1`\r\nand `8=8+1` is something not acceptable.\r\n","title":"Why cannot I increment returned value?","body":"<p><code>8++</code> will not make sense, while</p>\n<pre><code>int x=8;\nx++;\n</code></pre>\n<p>does make sense, because x++, is working like <code>x+=1</code>, i.e., <code>x=x+1</code>\nand <code>8=8+1</code> is something not acceptable.</p>\n"},{"tags":[],"owner":{"account_id":4523492,"reputation":1277,"user_id":3676021,"accept_rate":57,"display_name":"Kartik_Koro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687984460,"creation_date":1405081819,"answer_id":24697779,"question_id":24697627,"body_markdown":"As it says, it requires a **variable** for `++` operator. `++` increments a value that is stored somewhere, so the incremented value is now stored in that location. Your function just returns a **value**, which is not a **variable**.\r\n\r\nIt&#39;s as simple as Rahul mentioned in the comment.\r\n\r\n    //This works\r\n    x=5;\r\n    x++; //Now x=6 since x++ is equivalent to x=x+1;\r\n\r\n    // This doesn&#39;t work\r\n    5++; // This doesn&#39;t even make sense, trying to do 5=5+1??\r\n\r\n    // Similarly, getNumber() is just a value that is returned, it is a value, not a variable\r\n    // So it is like the second case\r\n    // This doesn&#39;t work\r\n    getNumber()++; //Trying to do getNumber()=getNumber()+1; ??\r\n\r\n","title":"Why cannot I increment returned value?","body":"<p>As it says, it requires a <strong>variable</strong> for <code>++</code> operator. <code>++</code> increments a value that is stored somewhere, so the incremented value is now stored in that location. Your function just returns a <strong>value</strong>, which is not a <strong>variable</strong>.</p>\n<p>It's as simple as Rahul mentioned in the comment.</p>\n<pre><code>//This works\nx=5;\nx++; //Now x=6 since x++ is equivalent to x=x+1;\n\n// This doesn't work\n5++; // This doesn't even make sense, trying to do 5=5+1??\n\n// Similarly, getNumber() is just a value that is returned, it is a value, not a variable\n// So it is like the second case\n// This doesn't work\ngetNumber()++; //Trying to do getNumber()=getNumber()+1; ??\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":24697681,"answer_count":5,"score":1,"last_activity_date":1688052181,"creation_date":1405081354,"question_id":24697627,"body_markdown":"I noticed a surprising behaviour.\r\n\r\nI **can** write so:\r\n\r\n    Integer integer = 0;\r\n    integer++;\r\n\r\nBut I **cannot** write so:\r\n\r\n    getInteger()++;\r\n\r\nHere&#39;s my `getInteger()` method:\r\n\r\n    public static Integer getInteger(){\r\n        return 0;\r\n    }\r\n\r\nFor me, two snippets look the same.\r\n\r\nBut the second piece of code returns an error:\r\n\r\n```lang-none\r\nunexpected type\r\n        getInteger()++;\r\n                  ^\r\n  required: variable\r\n  found:    value\r\n```\r\n\r\nWhy is the second construction forbidden?\r\n\r\nOften, I feel forced to write &quot;ugly&quot; code like this:\r\n\r\n    obj.set(obj.get()+1);\r\n\r\nIt looks redundant.\r\n\r\n\r\n","title":"Why cannot I increment returned value?","body":"<p>I noticed a surprising behaviour.</p>\n<p>I <strong>can</strong> write so:</p>\n<pre><code>Integer integer = 0;\ninteger++;\n</code></pre>\n<p>But I <strong>cannot</strong> write so:</p>\n<pre><code>getInteger()++;\n</code></pre>\n<p>Here's my <code>getInteger()</code> method:</p>\n<pre><code>public static Integer getInteger(){\n    return 0;\n}\n</code></pre>\n<p>For me, two snippets look the same.</p>\n<p>But the second piece of code returns an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>unexpected type\n        getInteger()++;\n                  ^\n  required: variable\n  found:    value\n</code></pre>\n<p>Why is the second construction forbidden?</p>\n<p>Often, I feel forced to write &quot;ugly&quot; code like this:</p>\n<pre><code>obj.set(obj.get()+1);\n</code></pre>\n<p>It looks redundant.</p>\n"},{"tags":["java","timer","cancellation"],"answers":[{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1355494819,"post_id":13880286,"comment_id":19118490,"body_markdown":"Does this mean that the `Timer` class is more or less deprecated?","body":"Does this mean that the <code>Timer</code> class is more or less deprecated?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":5,"creation_date":1355494942,"post_id":13880286,"comment_id":19118560,"body_markdown":"Yes, you could say that. If it fits your bill, use it, but if not, move over to `ExecutorService` and never look back. On second thought, even that advice is dangerous: if you start with `Timer` and your project grows, you may regret not having started out with `ExecutorService`.","body":"Yes, you could say that. If it fits your bill, use it, but if not, move over to <code>ExecutorService</code> and never look back. On second thought, even that advice is dangerous: if you start with <code>Timer</code> and your project grows, you may regret not having started out with <code>ExecutorService</code>."},{"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"score":2,"creation_date":1413758176,"post_id":13880286,"comment_id":41552808,"body_markdown":"Deprecated? No, but inappropriate for a lot of tasks.\n\nhttp://stackoverflow.com/questions/2213109/java-util-timer-is-it-deprecated","body":"Deprecated? No, but inappropriate for a lot of tasks.  <a href=\"http://stackoverflow.com/questions/2213109/java-util-timer-is-it-deprecated\" title=\"java util timer is it deprecated\">stackoverflow.com/questions/2213109/&hellip;</a>"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1372343116,"creation_date":1355494186,"answer_id":13880286,"question_id":13880202,"body_markdown":"How sure are you that you want to use `Timer`? Use [`ExecutorService`][1] instead, which has `isShutdown` and has a slew of other benefits to boot. A general recommendation as of Java 5 has been to replace `Timer`s with `ExecutorService`s.\r\n\r\nThere&#39;s a `ScheduledExecutorService` interface specifically for scheduled executor services. Instantiate using one of the `Executors.new...` methods.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html","title":"Checking if a Java Timer is cancelled","body":"<p>How sure are you that you want to use <code>Timer</code>? Use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\"><code>ExecutorService</code></a> instead, which has <code>isShutdown</code> and has a slew of other benefits to boot. A general recommendation as of Java 5 has been to replace <code>Timer</code>s with <code>ExecutorService</code>s.</p>\n\n<p>There's a <code>ScheduledExecutorService</code> interface specifically for scheduled executor services. Instantiate using one of the <code>Executors.new...</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":10181473,"reputation":464,"user_id":7518083,"display_name":"Marfin. F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688051569,"creation_date":1688051569,"answer_id":76582385,"question_id":13880202,"body_markdown":"I have simpler solution for those people who still wondering how to check if timer is cancelled or not. You can utilize the override function from timer class something like this\r\n\r\n    val timerTask = object : TimerTask() {\r\n       override fun cancel(): Boolean {\r\n          isCancelled = true\r\n          return super.cancel()\r\n       }\r\n\r\n       override fun run() {\r\n          isCancelled = false\r\n          ...\r\n       }\r\n    }","title":"Checking if a Java Timer is cancelled","body":"<p>I have simpler solution for those people who still wondering how to check if timer is cancelled or not. You can utilize the override function from timer class something like this</p>\n<pre><code>val timerTask = object : TimerTask() {\n   override fun cancel(): Boolean {\n      isCancelled = true\n      return super.cancel()\n   }\n\n   override fun run() {\n      isCancelled = false\n      ...\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10228,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":13880286,"answer_count":2,"score":15,"last_activity_date":1688051569,"creation_date":1355493941,"question_id":13880202,"body_markdown":"Why is there no `isCancelled` method for a [java.util.Timer][1] object?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\r\n\r\nI would like to schedule a task if the Timer has not been cancelled, and run it directly (on the same thread) if it has been cancelled.\r\n\r\nIs the only option to catch the `IllegalStateException` that might occur if the Timer already has been cancelled? (It feels wrong to catch an `IllegalStateException`).","title":"Checking if a Java Timer is cancelled","body":"<p>Why is there no <code>isCancelled</code> method for a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\">java.util.Timer</a> object?</p>\n\n<p>I would like to schedule a task if the Timer has not been cancelled, and run it directly (on the same thread) if it has been cancelled.</p>\n\n<p>Is the only option to catch the <code>IllegalStateException</code> that might occur if the Timer already has been cancelled? (It feels wrong to catch an <code>IllegalStateException</code>).</p>\n"},{"tags":["java","spring-boot","kubernetes","spring-cloud","spring-cloud-kubernetes"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":3,"creation_date":1678231622,"post_id":75668043,"comment_id":133492727,"body_markdown":"You need to set `spring.config.import=kubernetes:`, see https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations Otherwise you need to enable bootstrap as documented","body":"You need to set <code>spring.config.import=kubernetes:</code>, see <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-kubernetes/docs/current/referenc&zwnj;&#8203;e/&hellip;</a> Otherwise you need to enable bootstrap as documented"},{"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1678235860,"post_id":75668043,"comment_id":133493349,"body_markdown":"Yup, that&#39;s what I was missing.  Also, note the trailing colon","body":"Yup, that&#39;s what I was missing.  Also, note the trailing colon"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680681516,"creation_date":1680681516,"answer_id":75936958,"question_id":75668043,"body_markdown":"As Spencer commented, you need to enable &quot;config-data&quot; support in `application.yaml` (see documentation [here](https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations)).\r\n\r\nThe thing to note is that, while we indeed added this support, at the moment it is a bit limited compared to bootstrap. For example, you can&#39;t read multiple secrets, for that you will need to still enable bootstrap. ","title":"How do I load properties from a Kubernetes configmap into my Spring Boot application using Spring Cloud?","body":"<p>As Spencer commented, you need to enable &quot;config-data&quot; support in <code>application.yaml</code> (see documentation <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#kubernetes-propertysource-implementations\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>The thing to note is that, while we indeed added this support, at the moment it is a bit limited compared to bootstrap. For example, you can't read multiple secrets, for that you will need to still enable bootstrap.</p>\n"},{"tags":[],"owner":{"account_id":5117612,"reputation":276,"user_id":4102241,"display_name":"F&#225;bio Almeida"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688051417,"creation_date":1688051417,"answer_id":76582359,"question_id":75668043,"body_markdown":"I faced this issue too. To solve this, I needed to insert 2 dependencies into my pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe tip is the artifact `spring-cloud-starter-bootstrap`, as mentioned in documentation:\r\n\r\n&gt; If you would like to load Kubernetes PropertySources during the bootstrap phase like it worked prior to the 3.0.x release you can either add spring-cloud-starter-bootstrap to your application‚Äôs classpath or set spring.cloud.bootstrap.enabled=true as an environment variable.","title":"How do I load properties from a Kubernetes configmap into my Spring Boot application using Spring Cloud?","body":"<p>I faced this issue too. To solve this, I needed to insert 2 dependencies into my pom.xml.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The tip is the artifact <code>spring-cloud-starter-bootstrap</code>, as mentioned in documentation:</p>\n<blockquote>\n<p>If you would like to load Kubernetes PropertySources during the bootstrap phase like it worked prior to the 3.0.x release you can either add spring-cloud-starter-bootstrap to your application‚Äôs classpath or set spring.cloud.bootstrap.enabled=true as an environment variable.</p>\n</blockquote>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2631,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688051417,"creation_date":1678230801,"question_id":75668043,"body_markdown":"I am attempting to load properties from a K8s configmap into my Spring Boot service using Spring Cloud Kubernetes Fabric8, as described in the Spring Cloud docs [here][1].\r\n\r\nMy configmap for my service looks like this:\r\n\r\n```\r\napiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: foo-my-service\r\n  namespace: foo\r\n  labels:\r\n    helm.sh/chart: my-service-1.0.0-SNAPSHOT\r\n    app.kubernetes.io/name: my-service\r\n    app.kubernetes.io/instance: foo\r\n    app.kubernetes.io/version: &quot;1.0.0-SNAPSHOT&quot;\r\n    app.kubernetes.io/managed-by: Helm\r\ndata:\r\n  spring.datasource.url: jdbc:postgresql://foo-postgresql/mydb\r\n```\r\n\r\nAnd my Spring Boot `application.yaml` looks like this:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: foo-my-service\r\n  cloud:\r\n    kubernetes:\r\n      secrets:\r\n        enable-api: true\r\n\r\n```\r\n\r\nI&#39;m using Fabric8 to communicate with k8s.  This dependency is brought in as ` org.springframework.cloud:spring-cloud-starter-kubernetes-fabric8-config:jar:3.0.1` in my Maven pom.\r\n\r\nI&#39;m using Spring Boot version 3.0.3 and Spring Cloud 2022.0.1.\r\n\r\nWhat I expect to happen based on the Spring Cloud documentation is that my `spring.datasource.url` property will be set from the value in the configmap.\r\n\r\nWhat&#39;s actually happening is that the property is not detected, and the Spring Boot application fails to start when it tries to use the property to run a Flyway migration.\r\n\r\n```\r\n‚îÇ Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.                                                                                                                                       ‚îÇ\r\n‚îÇ Reason: Failed to determine suitable jdbc url                                                                                                                                                                                                            ‚îÇ\r\n```\r\n\r\nIf I downgrade my Spring Boot version to 2.x and Spring Cloud to the corresponding version, then this works (my application starts up and the `spring.datasource.url` property is set to the value in the configmap).\r\n\r\nHow do I get this to work in Spring Boot 3?\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource","title":"How do I load properties from a Kubernetes configmap into my Spring Boot application using Spring Cloud?","body":"<p>I am attempting to load properties from a K8s configmap into my Spring Boot service using Spring Cloud Kubernetes Fabric8, as described in the Spring Cloud docs <a href=\"https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#configmap-propertysource\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>My configmap for my service looks like this:</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: foo-my-service\n  namespace: foo\n  labels:\n    helm.sh/chart: my-service-1.0.0-SNAPSHOT\n    app.kubernetes.io/name: my-service\n    app.kubernetes.io/instance: foo\n    app.kubernetes.io/version: &quot;1.0.0-SNAPSHOT&quot;\n    app.kubernetes.io/managed-by: Helm\ndata:\n  spring.datasource.url: jdbc:postgresql://foo-postgresql/mydb\n</code></pre>\n<p>And my Spring Boot <code>application.yaml</code> looks like this:</p>\n<pre><code>spring:\n  application:\n    name: foo-my-service\n  cloud:\n    kubernetes:\n      secrets:\n        enable-api: true\n\n</code></pre>\n<p>I'm using Fabric8 to communicate with k8s.  This dependency is brought in as <code> org.springframework.cloud:spring-cloud-starter-kubernetes-fabric8-config:jar:3.0.1</code> in my Maven pom.</p>\n<p>I'm using Spring Boot version 3.0.3 and Spring Cloud 2022.0.1.</p>\n<p>What I expect to happen based on the Spring Cloud documentation is that my <code>spring.datasource.url</code> property will be set from the value in the configmap.</p>\n<p>What's actually happening is that the property is not detected, and the Spring Boot application fails to start when it tries to use the property to run a Flyway migration.</p>\n<pre><code>‚îÇ Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.                                                                                                                                       ‚îÇ\n‚îÇ Reason: Failed to determine suitable jdbc url                                                                                                                                                                                                            ‚îÇ\n</code></pre>\n<p>If I downgrade my Spring Boot version to 2.x and Spring Cloud to the corresponding version, then this works (my application starts up and the <code>spring.datasource.url</code> property is set to the value in the configmap).</p>\n<p>How do I get this to work in Spring Boot 3?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-autoconfiguration"],"answers":[{"tags":[],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688050303,"creation_date":1688050303,"answer_id":76582213,"question_id":70960696,"body_markdown":"I moved away from the design pattern I&#39;m currently using, but I did find a way to make it work. Using the code from the question, my header already worked as is, since you can only write 1 header on a file. The issue was the footer. To mitigate the issues of writing multiple footers, I just set a boolean in the FooterItemWriter to determine if a single footer had been written yet. \r\n\r\n    @Component\r\n    public class ElectronicDocumentsFooterWriter implements FlatFileFooterCallback {\r\n\t    private static boolean footerWritten = false;\r\n\t    private final RecordService recordService;\r\n\r\n\t    public ElectronicDocumentsFooterWriter(RecordService recordService) {\r\n\t\t    this.recordService = recordService;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void writeFooter(Writer writer) throws IOException {\r\n\t\t    if (!footerWritten) {\r\n\t\t\t    writer.write(recordService.deriveFooter());\r\n\t\t\t    footerWritten = true;\r\n\t\t    }\r\n\t    }\r\n    }","title":"Spring Batch: How to specify a single header and footer line for ClassifierCompositeItemWriter writing into 1 file","body":"<p>I moved away from the design pattern I'm currently using, but I did find a way to make it work. Using the code from the question, my header already worked as is, since you can only write 1 header on a file. The issue was the footer. To mitigate the issues of writing multiple footers, I just set a boolean in the FooterItemWriter to determine if a single footer had been written yet.</p>\n<pre><code>@Component\npublic class ElectronicDocumentsFooterWriter implements FlatFileFooterCallback {\n    private static boolean footerWritten = false;\n    private final RecordService recordService;\n\n    public ElectronicDocumentsFooterWriter(RecordService recordService) {\n        this.recordService = recordService;\n    }\n\n    @Override\n    public void writeFooter(Writer writer) throws IOException {\n        if (!footerWritten) {\n            writer.write(recordService.deriveFooter());\n            footerWritten = true;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76582213,"answer_count":1,"score":1,"last_activity_date":1688050303,"creation_date":1643825532,"question_id":70960696,"body_markdown":"```\r\nStepConfig.java\r\n\r\npackage electronicdocumentdeliverybatch.config;\r\n\r\nimport electronicdocumentdeliverybatch.models.*;\r\nimport electronicdocumentdeliverybatch.models.properties.TestFileProperties;\r\nimport electronicdocumentdeliverybatch.models.stepModals.ElectronicDocumentsBatchOutput;\r\nimport electronicdocumentdeliverybatch.utils.FlatFileConstants;\r\nimport org.springframework.amqp.core.Message;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.item.ItemProcessor;\r\nimport org.springframework.batch.item.ItemReader;\r\nimport org.springframework.batch.item.ItemWriter;\r\nimport org.springframework.batch.item.file.FlatFileFooterCallback;\r\nimport org.springframework.batch.item.file.FlatFileHeaderCallback;\r\nimport org.springframework.batch.item.file.FlatFileItemWriter;\r\nimport org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor;\r\nimport org.springframework.batch.item.file.transform.FormatterLineAggregator;\r\nimport org.springframework.batch.item.support.ClassifierCompositeItemWriter;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.classify.SubclassClassifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.FileSystemResource;\r\n\r\nimport java.util.HashMap;\r\n\r\n@Configuration\r\npublic class StepConfig {\r\n\r\n\tprivate &lt;T&gt; FormatterLineAggregator&lt;T&gt; createLineAggregator(String[] fieldNames, String fieldFormat) {\r\n\t\tFormatterLineAggregator&lt;T&gt; lineAggregator = new FormatterLineAggregator&lt;&gt;();\r\n\t\tBeanWrapperFieldExtractor&lt;T&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\r\n\t\tfieldExtractor.setNames(fieldNames);\r\n\t\tlineAggregator.setFormat(fieldFormat);\r\n\t\tlineAggregator.setFieldExtractor(fieldExtractor);\r\n\t\treturn lineAggregator;\r\n\t}\r\n\r\n\t@Bean(name = &quot;NP01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;NP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.NP01_CSV_FIELD_NAMES, FlatFileConstants.NP01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;FP01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;FP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.FP01_CSV_FIELD_NAMES, FlatFileConstants.FP01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;SJ01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;SJ01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.SJ01_CSV_FIELD_NAMES, FlatFileConstants.SJ01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;PR01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;PR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.PR01_CSV_FIELD_NAMES, FlatFileConstants.PR01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;FR01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;FR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.FR01_CSV_FIELD_NAMES, FlatFileConstants.FR01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;MR01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;MR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.MR01_CSV_FIELD_NAMES, FlatFileConstants.MR01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;DP01FlatFileItemWriter&quot;)\r\n\tpublic FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\r\n\t\tFlatFileItemWriter&lt;DP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n\t\twriter.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\r\n\t\twriter.setAppendAllowed(true);\r\n\t\twriter.setLineAggregator(createLineAggregator(FlatFileConstants.DP01_CSV_FIELD_NAMES, FlatFileConstants.DP01_LINE_AGGREGATOR_FORMAT));\r\n\t\twriter.setFooterCallback(footerCallback);\r\n\t\twriter.setHeaderCallback(headerCallback);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean(name = &quot;ClassifierCompositeItemWriter&quot;)\r\n\tpublic ClassifierCompositeItemWriter&lt;BatchOutput&gt; classifierCompositeItemWriter(SubclassClassifier subclassClassifier) {\r\n\t\tClassifierCompositeItemWriter&lt;BatchOutput&gt; writer = new ClassifierCompositeItemWriter&lt;&gt;();\r\n\t\twriter.setClassifier(subclassClassifier);\r\n\t\treturn writer;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SubclassClassifier&lt;Object, Object&gt; subclassClassifier(\r\n\t\t\tFlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\r\n\t\t\tFlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\r\n\t\t\tFlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\r\n\t\t\tFlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\r\n\t\tSubclassClassifier&lt;Object, Object&gt; classifier = new SubclassClassifier&lt;&gt;();\r\n\t\tHashMap&lt;Class&lt;?&gt;, Object&gt; typeMap = new HashMap&lt;&gt;();\r\n\t\ttypeMap.put(NP01BatchOutput.class, np01FlatFileItemWriter);\r\n\t\ttypeMap.put(FP01BatchOutput.class, fp01FlatFileItemWriter);\r\n\t\ttypeMap.put(SJ01BatchOutput.class, sj01FlatFileItemWriter);\r\n\t\ttypeMap.put(PR01BatchOutput.class, pr01FlatFileItemWriter);\r\n\t\ttypeMap.put(FR01BatchOutput.class, fr01FlatFileItemWriter);\r\n\t\ttypeMap.put(MR01BatchOutput.class, mr01FlatFileItemWriter);\r\n\t\ttypeMap.put(DP01BatchOutput.class, dp01FlatFileItemWriter);\r\n\t\tclassifier.setTypeMap(typeMap);\r\n\t\treturn classifier;\r\n\t}\r\n\r\n\r\n\t@Bean(name = &quot;createFlatFileStep&quot;)\r\n\tpublic Step documentDeliveryStep(StepBuilderFactory stepBuilderFactory,\r\n\t\t\t\t\t\t\t\t\t @Qualifier(&quot;electronicDocumentsQueueItemReader&quot;) ItemReader&lt;Message&gt; reader,\r\n\t\t\t\t\t\t\t\t\t @Qualifier(&quot;electronicDocumentsQueueItemProcessor&quot;) ItemProcessor&lt;Message, ElectronicDocumentsBatchOutput&gt; itemProcessor,\r\n\t\t\t\t\t\t\t\t\t @Qualifier(&quot;electronicDocumentsQueueItemWriter&quot;) ItemWriter&lt;ElectronicDocumentsBatchOutput&gt; writer,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\r\n\t\t\t\t\t\t\t\t\t FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\r\n\t\treturn stepBuilderFactory.get(&quot;computeFlatFile&quot;)\r\n\t\t\t\t.&lt;Message, ElectronicDocumentsBatchOutput&gt;chunk(1)\r\n\t\t\t\t.reader(reader)\r\n\t\t\t\t.processor(itemProcessor)\r\n\t\t\t\t.writer(writer)\r\n\t\t\t\t.stream(np01FlatFileItemWriter)\r\n\t\t\t\t.stream(mr01FlatFileItemWriter)\r\n\t\t\t\t.stream(fp01FlatFileItemWriter)\r\n\t\t\t\t.stream(sj01FlatFileItemWriter)\r\n\t\t\t\t.stream(pr01FlatFileItemWriter)\r\n\t\t\t\t.stream(fr01FlatFileItemWriter)\r\n\t\t\t\t.stream(dp01FlatFileItemWriter)\r\n\t\t\t\t.build();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nI have a ClassifierCompositeItemWriter that contains multiple FlatFileItemWriters. The FlatFileItemWriters handle different object types, and output a single line into the SAME flat file. All of that works as of now. What I need to add is a single header and footer to the single output file from the batch. Using the current setup, I believe the header works, though not in as intentional of a way as I would prefer (First call to headerCallback will only happen once, from what I&#39;m noticing). My current footer setup calls for the footer string multiple times, as in it calls the footerCallback on every single writer, not just 1. I think I could do this manually just fine, but I was hoping I could find a solution that is more associated to spring configurations if possible. \r\n\r\nTo summarize, is there a way to Spring Boot auto-configure header and footer lines for a flat file when writing from multiple writers into a single file?\r\n\r\n","title":"Spring Batch: How to specify a single header and footer line for ClassifierCompositeItemWriter writing into 1 file","body":"<pre><code>StepConfig.java\n\npackage electronicdocumentdeliverybatch.config;\n\nimport electronicdocumentdeliverybatch.models.*;\nimport electronicdocumentdeliverybatch.models.properties.TestFileProperties;\nimport electronicdocumentdeliverybatch.models.stepModals.ElectronicDocumentsBatchOutput;\nimport electronicdocumentdeliverybatch.utils.FlatFileConstants;\nimport org.springframework.amqp.core.Message;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.batch.item.file.FlatFileFooterCallback;\nimport org.springframework.batch.item.file.FlatFileHeaderCallback;\nimport org.springframework.batch.item.file.FlatFileItemWriter;\nimport org.springframework.batch.item.file.transform.BeanWrapperFieldExtractor;\nimport org.springframework.batch.item.file.transform.FormatterLineAggregator;\nimport org.springframework.batch.item.support.ClassifierCompositeItemWriter;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.classify.SubclassClassifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.FileSystemResource;\n\nimport java.util.HashMap;\n\n@Configuration\npublic class StepConfig {\n\n    private &lt;T&gt; FormatterLineAggregator&lt;T&gt; createLineAggregator(String[] fieldNames, String fieldFormat) {\n        FormatterLineAggregator&lt;T&gt; lineAggregator = new FormatterLineAggregator&lt;&gt;();\n        BeanWrapperFieldExtractor&lt;T&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\n        fieldExtractor.setNames(fieldNames);\n        lineAggregator.setFormat(fieldFormat);\n        lineAggregator.setFieldExtractor(fieldExtractor);\n        return lineAggregator;\n    }\n\n    @Bean(name = &quot;NP01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;NP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.NP01_CSV_FIELD_NAMES, FlatFileConstants.NP01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;FP01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;FP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.FP01_CSV_FIELD_NAMES, FlatFileConstants.FP01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;SJ01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;SJ01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.SJ01_CSV_FIELD_NAMES, FlatFileConstants.SJ01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;PR01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;PR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.PR01_CSV_FIELD_NAMES, FlatFileConstants.PR01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;FR01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;FR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.FR01_CSV_FIELD_NAMES, FlatFileConstants.FR01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;MR01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;MR01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.MR01_CSV_FIELD_NAMES, FlatFileConstants.MR01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;DP01FlatFileItemWriter&quot;)\n    public FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter(TestFileProperties testFileProperties, FlatFileFooterCallback footerCallback, FlatFileHeaderCallback headerCallback) {\n        FlatFileItemWriter&lt;DP01BatchOutput&gt; writer = new FlatFileItemWriter&lt;&gt;();\n        writer.setResource(new FileSystemResource(testFileProperties.getOutput().getResults()));\n        writer.setAppendAllowed(true);\n        writer.setLineAggregator(createLineAggregator(FlatFileConstants.DP01_CSV_FIELD_NAMES, FlatFileConstants.DP01_LINE_AGGREGATOR_FORMAT));\n        writer.setFooterCallback(footerCallback);\n        writer.setHeaderCallback(headerCallback);\n        return writer;\n    }\n\n    @Bean(name = &quot;ClassifierCompositeItemWriter&quot;)\n    public ClassifierCompositeItemWriter&lt;BatchOutput&gt; classifierCompositeItemWriter(SubclassClassifier subclassClassifier) {\n        ClassifierCompositeItemWriter&lt;BatchOutput&gt; writer = new ClassifierCompositeItemWriter&lt;&gt;();\n        writer.setClassifier(subclassClassifier);\n        return writer;\n    }\n\n    @Bean\n    public SubclassClassifier&lt;Object, Object&gt; subclassClassifier(\n            FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\n            FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\n            FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\n            FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\n        SubclassClassifier&lt;Object, Object&gt; classifier = new SubclassClassifier&lt;&gt;();\n        HashMap&lt;Class&lt;?&gt;, Object&gt; typeMap = new HashMap&lt;&gt;();\n        typeMap.put(NP01BatchOutput.class, np01FlatFileItemWriter);\n        typeMap.put(FP01BatchOutput.class, fp01FlatFileItemWriter);\n        typeMap.put(SJ01BatchOutput.class, sj01FlatFileItemWriter);\n        typeMap.put(PR01BatchOutput.class, pr01FlatFileItemWriter);\n        typeMap.put(FR01BatchOutput.class, fr01FlatFileItemWriter);\n        typeMap.put(MR01BatchOutput.class, mr01FlatFileItemWriter);\n        typeMap.put(DP01BatchOutput.class, dp01FlatFileItemWriter);\n        classifier.setTypeMap(typeMap);\n        return classifier;\n    }\n\n\n    @Bean(name = &quot;createFlatFileStep&quot;)\n    public Step documentDeliveryStep(StepBuilderFactory stepBuilderFactory,\n                                     @Qualifier(&quot;electronicDocumentsQueueItemReader&quot;) ItemReader&lt;Message&gt; reader,\n                                     @Qualifier(&quot;electronicDocumentsQueueItemProcessor&quot;) ItemProcessor&lt;Message, ElectronicDocumentsBatchOutput&gt; itemProcessor,\n                                     @Qualifier(&quot;electronicDocumentsQueueItemWriter&quot;) ItemWriter&lt;ElectronicDocumentsBatchOutput&gt; writer,\n                                     FlatFileItemWriter&lt;NP01BatchOutput&gt; np01FlatFileItemWriter, FlatFileItemWriter&lt;FP01BatchOutput&gt; fp01FlatFileItemWriter,\n                                     FlatFileItemWriter&lt;SJ01BatchOutput&gt; sj01FlatFileItemWriter, FlatFileItemWriter&lt;PR01BatchOutput&gt; pr01FlatFileItemWriter,\n                                     FlatFileItemWriter&lt;FR01BatchOutput&gt; fr01FlatFileItemWriter, FlatFileItemWriter&lt;MR01BatchOutput&gt; mr01FlatFileItemWriter,\n                                     FlatFileItemWriter&lt;DP01BatchOutput&gt; dp01FlatFileItemWriter) {\n        return stepBuilderFactory.get(&quot;computeFlatFile&quot;)\n                .&lt;Message, ElectronicDocumentsBatchOutput&gt;chunk(1)\n                .reader(reader)\n                .processor(itemProcessor)\n                .writer(writer)\n                .stream(np01FlatFileItemWriter)\n                .stream(mr01FlatFileItemWriter)\n                .stream(fp01FlatFileItemWriter)\n                .stream(sj01FlatFileItemWriter)\n                .stream(pr01FlatFileItemWriter)\n                .stream(fr01FlatFileItemWriter)\n                .stream(dp01FlatFileItemWriter)\n                .build();\n    }\n}\n\n</code></pre>\n<p>I have a ClassifierCompositeItemWriter that contains multiple FlatFileItemWriters. The FlatFileItemWriters handle different object types, and output a single line into the SAME flat file. All of that works as of now. What I need to add is a single header and footer to the single output file from the batch. Using the current setup, I believe the header works, though not in as intentional of a way as I would prefer (First call to headerCallback will only happen once, from what I'm noticing). My current footer setup calls for the footer string multiple times, as in it calls the footerCallback on every single writer, not just 1. I think I could do this manually just fine, but I was hoping I could find a solution that is more associated to spring configurations if possible.</p>\n<p>To summarize, is there a way to Spring Boot auto-configure header and footer lines for a flat file when writing from multiple writers into a single file?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688049528,"post_id":76582091,"comment_id":135024248,"body_markdown":"You are looking for `cascade`. I&#39;d expect that `@ManyToMany` and `@ManyToOne` allow you to configure it.","body":"You are looking for <code>cascade</code>. I&#39;d expect that <code>@ManyToMany</code> and <code>@ManyToOne</code> allow you to configure it."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688049761,"post_id":76582091,"comment_id":135024304,"body_markdown":"Thank You for pointing it out. Actually I need to delete the Many to Many relationship between PolicyCounty and the UserPolicyQuery table which is established by the query_policy_county table.","body":"Thank You for pointing it out. Actually I need to delete the Many to Many relationship between PolicyCounty and the UserPolicyQuery table which is established by the query_policy_county table."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688049809,"post_id":76582091,"comment_id":135024320,"body_markdown":"This is because a UserPolicyQuery might be associated with some other PolicyCounties which are not getting deleted. I have slightly changed the description in my question.","body":"This is because a UserPolicyQuery might be associated with some other PolicyCounties which are not getting deleted. I have slightly changed the description in my question."}],"answers":[{"comments":[{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688049961,"post_id":76582157,"comment_id":135024357,"body_markdown":"Thanks. I understand that, but I don&#39;t want to delete the UserPolicyQuery, I just want to delete the relationship between UserPolicyQuery and PolicyCounty. This is beacuse the query might be related to some other PolicyCounty entities which are not getting deleted.","body":"Thanks. I understand that, but I don&#39;t want to delete the UserPolicyQuery, I just want to delete the relationship between UserPolicyQuery and PolicyCounty. This is beacuse the query might be related to some other PolicyCounty entities which are not getting deleted."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688050047,"post_id":76582157,"comment_id":135024373,"body_markdown":"Are you aware of Entity Listener then? Let me update my answer","body":"Are you aware of Entity Listener then? Let me update my answer"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688050125,"post_id":76582157,"comment_id":135024388,"body_markdown":"No, I am not aware of Entity Listener. Can you please help in this regard!","body":"No, I am not aware of Entity Listener. Can you please help in this regard!"},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688050196,"post_id":76582157,"comment_id":135024400,"body_markdown":"you may try updated one","body":"you may try updated one"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688056584,"post_id":76582157,"comment_id":135025843,"body_markdown":"Thank You. I will try it. One thing more, I don&#39;t have Set&lt;UserPolicyQuery&gt; userPolicyQueries(), in my PolicyCounty class. I only have unidirectional relationship from UserPolicyQuerySide. Also, why have you used OneToMany in PolicyCounty but ManyToMany in UserPolicyQuery?","body":"Thank You. I will try it. One thing more, I don&#39;t have Set&lt;UserPolicyQuery&gt; userPolicyQueries(), in my PolicyCounty class. I only have unidirectional relationship from UserPolicyQuerySide. Also, why have you used OneToMany in PolicyCounty but ManyToMany in UserPolicyQuery?"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688050185,"creation_date":1688049814,"answer_id":76582157,"question_id":76582091,"body_markdown":"You may need to:\r\n1. In `PolicyCounty`, just add a `UserPolicyQuery` relationship with `orphanRemoval=true` - this deletes queries when their associated PolicyCounty is deleted\r\n2. In `UserPolicyQuery` you need to remove `CascadeType.REMOVE` from the `PolicyCounty` relationship, since this prevents deletion of `PolicyCounty` when the query is deleted (!)\r\n3. In `Company`, add `CascadeType.REMOVE` to `InsurancePolicy` join - this deletes policies and associated `PolicyCounty` and `UserPolicyQueries` when a company is deleted\r\n\r\nSo you&#39;ll get something like:\r\n```java\r\n// `PolicyCounty`\r\n@OneToMany(mappedBy = &quot;policyCounty&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\nprivate Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\r\n```\r\n\r\n```java\r\n// `UserPolicyQuery`\r\n@ManyToMany(fetch = FetchType.LAZY)\r\n@JoinTable(name=&quot;query_policy_county&quot;,\r\n        joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\r\nprivate Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n```\r\n\r\n```\r\n// `Company`\r\n@OneToMany(mappedBy = &quot;company&quot;, cascade = CascadeType.REMOVE)\r\nprivate Set&lt;InsurancePolicy&gt; insurancePolicies = new HashSet&lt;&gt;();\r\n```\r\n\r\n**UPD:**\r\nYou may also use an `Entity Listener` to perform the manual deletion of the relationships, kinda:\r\n```java\r\npublic class PolicyCountyListener {\r\n\r\n    @PostRemove\r\n    public void postRemove(PolicyCounty policyCounty) {\r\n        for (UserPolicyQuery userPolicyQuery: policyCounty.getUserPolicyQueries()) {\r\n            userPolicyQuery.getPolicyCounties().remove(policyCounty);\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n@EntityListeners(PolicyCountyListener.class)\r\npublic class PolicyCounty {\r\n...\r\n```\r\nSo when a `PolicyCounty` entity is deleted, it will automaticaly remove its associations with UserPolicyQuery entities as well, but not delete those entities completely","title":"Delete entities related by ManyToMany relationships, when one side is deleted: Spring Boot and JPA","body":"<p>You may need to:</p>\n<ol>\n<li>In <code>PolicyCounty</code>, just add a <code>UserPolicyQuery</code> relationship with <code>orphanRemoval=true</code> - this deletes queries when their associated PolicyCounty is deleted</li>\n<li>In <code>UserPolicyQuery</code> you need to remove <code>CascadeType.REMOVE</code> from the <code>PolicyCounty</code> relationship, since this prevents deletion of <code>PolicyCounty</code> when the query is deleted (!)</li>\n<li>In <code>Company</code>, add <code>CascadeType.REMOVE</code> to <code>InsurancePolicy</code> join - this deletes policies and associated <code>PolicyCounty</code> and <code>UserPolicyQueries</code> when a company is deleted</li>\n</ol>\n<p>So you'll get something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// `PolicyCounty`\n@OneToMany(mappedBy = &quot;policyCounty&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\nprivate Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// `UserPolicyQuery`\n@ManyToMany(fetch = FetchType.LAZY)\n@JoinTable(name=&quot;query_policy_county&quot;,\n        joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\n        inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\nprivate Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n</code></pre>\n<pre><code>// `Company`\n@OneToMany(mappedBy = &quot;company&quot;, cascade = CascadeType.REMOVE)\nprivate Set&lt;InsurancePolicy&gt; insurancePolicies = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>UPD:</strong>\nYou may also use an <code>Entity Listener</code> to perform the manual deletion of the relationships, kinda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PolicyCountyListener {\n\n    @PostRemove\n    public void postRemove(PolicyCounty policyCounty) {\n        for (UserPolicyQuery userPolicyQuery: policyCounty.getUserPolicyQueries()) {\n            userPolicyQuery.getPolicyCounties().remove(policyCounty);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EntityListeners(PolicyCountyListener.class)\npublic class PolicyCounty {\n...\n</code></pre>\n<p>So when a <code>PolicyCounty</code> entity is deleted, it will automaticaly remove its associations with UserPolicyQuery entities as well, but not delete those entities completely</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688050185,"creation_date":1688049359,"question_id":76582091,"body_markdown":"I have a scenario with two **ManyToMany** relationships. I have following entities-  \r\n1. InsurancePolicy - hold policy details\r\n2. County -hold the country/state details\r\n3. PolicyCounty (entity maintaining ManyToMany relationship between InsurancePolicy and County, and an additional attribute in this relationship is cost).\r\n4. User -hold user details (has One To Many relationship with UserPolicyQuery)\r\n5. UserPolicyQuery (this has a many to many relationship with PolicyCounty).  \r\nHere is the code-  \r\n\r\n**User-**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column (name =&quot;userid&quot; )\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long userId;\r\n\r\n    @Column(name=&quot;firstname&quot;,nullable = false)\r\n    private String firstName;\r\n\r\n\r\n    @Column(name=&quot;lastname&quot;,nullable = false)\r\n    private String lastName;\r\n\r\n\r\n    @Column(name = &quot;useremail&quot;,nullable = false)\r\n    private String email;\r\n\r\n\r\n\r\n    @Column(name = &quot;phonenumber&quot;,nullable = false)\r\n    private long phoneNumber;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, phoneNumber=&quot; + phoneNumber +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n**UserPolicyQuery-**\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name=&quot;user_policy_query&quot;)\r\npublic class UserPolicyQuery {\r\n\r\n    @Id\r\n    @Column(name=&quot;query_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long queryId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;query_policy_county&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\r\n    private Set&lt;PolicyCounty&gt; policyCounties=new HashSet&lt;&gt;();\r\n\r\n\r\n    @Column(name=&quot;comment&quot;,nullable = true)\r\n    private String comment;\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;UserPolicyQuery{&quot; +\r\n                &quot;queryId=&quot; + queryId +\r\n                &quot;, user=&quot; + user +\r\n                &quot;, comment=&#39;&quot; + comment + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n**PolicyCounty-**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@Setter\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyCountyId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n\r\n\r\n\r\n\r\n\r\n    public long getPolicyCountyId() {\r\n        return policyCountyId;\r\n    }\r\n\r\n    public InsurancePolicy getPolicy() {\r\n        System.out.println(&quot;Policy County: getPolicy() called&quot;);\r\n        return policy;\r\n    }\r\n\r\n    public County getCounty() {\r\n        System.out.println(&quot;Policy county: getCounty() called&quot;);\r\n        return county;\r\n    }\r\n\r\n    public double getCost() {\r\n        return cost;\r\n    }\r\n}\r\n```\r\nand **InsurancePolicy-**  \r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n\r\n    public long getPolicyId() {\r\n        return policyId;\r\n    }\r\n\r\n    public String getPolicyName() {\r\n        return policyName;\r\n    }\r\n\r\n    public String getPolicyDescription() {\r\n        return policyDescription;\r\n    }\r\n\r\n    public String getChooseDescription() {\r\n        return chooseDescription;\r\n    }\r\n\r\n    public Company getCompany() {\r\n        System.out.println(&quot;InsurancePolicy.getCompany() called&quot;);\r\n        return company;\r\n    }\r\n\r\n    public Category getCategory() {\r\n        return category;\r\n    }\r\n\r\n\r\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\r\n        System.out.println(&quot;Insurance policy getPolicyCounties called&quot;);\r\n        return policyCounties;\r\n    }\r\n}\r\n```\r\nNow, my requirement is-  \r\n1. When I delete an **InsurancePolicy**, I need to delete the corresponding **PolicyCounty** (I have achieved till here), and also delete any mapping of **UserPolicyQueries which are referencing the **PolicyCounties** (i.e., I have to delete the record that a particular **UserPolicyQuery** is associated with the **PolicyCounty** (which is getting deleted).\r\n2. When a **User** or **UserPolicyQuery** is deleted, the mappings with **PolicyCounty** must be deleted, but not the **PolicyCounties**.  \r\n3. In case a company is deleted, all its policies will have to be deleted and thus, all its associated **PolicyCounty** and **UserPolicyQueries** mappings will have to be deleted.  \r\n\r\nIn short, I want to delete the relationship between **PolicyCounty** and **UserPolicyQuery** which is held by the table **query_policy_county** when policy is deleted (or **PolicyCounty** is deleted) and don&#39;t delete the **PolicyCounties** when query is deleted.\r\nDue to two ManyToMany relationships, I am not quite not able to understand what exactly to do in this case. Please help!","title":"Delete entities related by ManyToMany relationships, when one side is deleted: Spring Boot and JPA","body":"<p>I have a scenario with two <strong>ManyToMany</strong> relationships. I have following entities-</p>\n<ol>\n<li>InsurancePolicy - hold policy details</li>\n<li>County -hold the country/state details</li>\n<li>PolicyCounty (entity maintaining ManyToMany relationship between InsurancePolicy and County, and an additional attribute in this relationship is cost).</li>\n<li>User -hold user details (has One To Many relationship with UserPolicyQuery)</li>\n<li>UserPolicyQuery (this has a many to many relationship with PolicyCounty).<br />\nHere is the code-</li>\n</ol>\n<p><strong>User-</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column (name =&quot;userid&quot; )\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long userId;\n\n    @Column(name=&quot;firstname&quot;,nullable = false)\n    private String firstName;\n\n\n    @Column(name=&quot;lastname&quot;,nullable = false)\n    private String lastName;\n\n\n    @Column(name = &quot;useremail&quot;,nullable = false)\n    private String email;\n\n\n\n    @Column(name = &quot;phonenumber&quot;,nullable = false)\n    private long phoneNumber;\n\n\n    @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\n\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;userId=&quot; + userId +\n                &quot;, firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, phoneNumber=&quot; + phoneNumber +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>UserPolicyQuery-</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name=&quot;user_policy_query&quot;)\npublic class UserPolicyQuery {\n\n    @Id\n    @Column(name=&quot;query_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long queryId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name=&quot;query_policy_county&quot;,\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\n    private Set&lt;PolicyCounty&gt; policyCounties=new HashSet&lt;&gt;();\n\n\n    @Column(name=&quot;comment&quot;,nullable = true)\n    private String comment;\n\n\n    @Override\n    public String toString() {\n        return &quot;UserPolicyQuery{&quot; +\n                &quot;queryId=&quot; + queryId +\n                &quot;, user=&quot; + user +\n                &quot;, comment='&quot; + comment + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>PolicyCounty-</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@Setter\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyCountyId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n\n\n\n\n\n    public long getPolicyCountyId() {\n        return policyCountyId;\n    }\n\n    public InsurancePolicy getPolicy() {\n        System.out.println(&quot;Policy County: getPolicy() called&quot;);\n        return policy;\n    }\n\n    public County getCounty() {\n        System.out.println(&quot;Policy county: getCounty() called&quot;);\n        return county;\n    }\n\n    public double getCost() {\n        return cost;\n    }\n}\n</code></pre>\n<p>and <strong>InsurancePolicy-</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n@Setter\n@NoArgsConstructor\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n\n    public long getPolicyId() {\n        return policyId;\n    }\n\n    public String getPolicyName() {\n        return policyName;\n    }\n\n    public String getPolicyDescription() {\n        return policyDescription;\n    }\n\n    public String getChooseDescription() {\n        return chooseDescription;\n    }\n\n    public Company getCompany() {\n        System.out.println(&quot;InsurancePolicy.getCompany() called&quot;);\n        return company;\n    }\n\n    public Category getCategory() {\n        return category;\n    }\n\n\n    public Set&lt;PolicyCounty&gt; getPolicyCounties() {\n        System.out.println(&quot;Insurance policy getPolicyCounties called&quot;);\n        return policyCounties;\n    }\n}\n</code></pre>\n<p>Now, my requirement is-</p>\n<ol>\n<li>When I delete an <strong>InsurancePolicy</strong>, I need to delete the corresponding <strong>PolicyCounty</strong> (I have achieved till here), and also delete any mapping of **UserPolicyQueries which are referencing the <strong>PolicyCounties</strong> (i.e., I have to delete the record that a particular <strong>UserPolicyQuery</strong> is associated with the <strong>PolicyCounty</strong> (which is getting deleted).</li>\n<li>When a <strong>User</strong> or <strong>UserPolicyQuery</strong> is deleted, the mappings with <strong>PolicyCounty</strong> must be deleted, but not the <strong>PolicyCounties</strong>.</li>\n<li>In case a company is deleted, all its policies will have to be deleted and thus, all its associated <strong>PolicyCounty</strong> and <strong>UserPolicyQueries</strong> mappings will have to be deleted.</li>\n</ol>\n<p>In short, I want to delete the relationship between <strong>PolicyCounty</strong> and <strong>UserPolicyQuery</strong> which is held by the table <strong>query_policy_county</strong> when policy is deleted (or <strong>PolicyCounty</strong> is deleted) and don't delete the <strong>PolicyCounties</strong> when query is deleted.\nDue to two ManyToMany relationships, I am not quite not able to understand what exactly to do in this case. Please help!</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688049852,"creation_date":1688049852,"answer_id":76582167,"question_id":76581775,"body_markdown":"1. You should [avoid blocking](https://stackoverflow.com/a/75096742/2678097). Blocking is designed for cases where you have to interact with non reactive components.\r\n2. If you return a Mono, you should not subscribe yourself. It is the user/consumer that should do it.\r\n\r\nNow, you can achieve what you want by modifying your second example:\r\n\r\n1. Change *filter* with *filterWhen*, to allow a reactive stream as operator, instead of a blocking op.\r\n2. Return the resulting reactive pipeline directly, instead of subscribing to it.\r\n\r\n```java\r\nreturn repository.findById(id)\r\n                .filterWhen(t -&gt; getOrgs(orgId).hasElement(t.getOrgId()))\r\n                .switchIfEmpty(Mono.error(someError.error(id));\r\n\r\n```","title":"Filter a Mono&lt;T&gt; with a String Id matching one of a list of Flux&lt;String&gt;","body":"<ol>\n<li>You should <a href=\"https://stackoverflow.com/a/75096742/2678097\">avoid blocking</a>. Blocking is designed for cases where you have to interact with non reactive components.</li>\n<li>If you return a Mono, you should not subscribe yourself. It is the user/consumer that should do it.</li>\n</ol>\n<p>Now, you can achieve what you want by modifying your second example:</p>\n<ol>\n<li>Change <em>filter</em> with <em>filterWhen</em>, to allow a reactive stream as operator, instead of a blocking op.</li>\n<li>Return the resulting reactive pipeline directly, instead of subscribing to it.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>return repository.findById(id)\n                .filterWhen(t -&gt; getOrgs(orgId).hasElement(t.getOrgId()))\n                .switchIfEmpty(Mono.error(someError.error(id));\n\n</code></pre>\n"}],"owner":{"account_id":8688751,"reputation":13,"user_id":6502253,"display_name":"Oteoteote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76582167,"answer_count":1,"score":1,"last_activity_date":1688049852,"creation_date":1688047291,"question_id":76581775,"body_markdown":"I&#39;m fetching a Mono&lt;T&gt; (with T containing an `id` and `orgId` fields). I also have a Flux&lt;String&gt; of orgIds. I need to return the Mono&lt;T&gt; if T.getOrgId() is contained in the Flux.\r\n\r\nI&#39;m not entirely sure to understand the exact Mono/Flux flow. But so far I have tried 2 approaches, blocking and non-blocking.\r\n\r\nBlocking\r\n\r\n```\r\npublic Mono&lt;T&gt; getItemBlocking(final String orgId, final String id) {\r\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\r\n        final T t = repository.findById(id).block();\r\n        final Boolean tInOrg = orgs.hasElement(t.getOrgId()).subscribe().isDisposed();\r\n        return tInOrg ? repository.findById(id) : Mono.error(someError.error(id)); // Ideally would not make the request again\r\n}\r\n```\r\n\r\nThe code is not working, I&#39;m receiving the following exception:\r\n\r\n`&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread \r\n    reactor-http-nio-4\r\nat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)`\r\n\r\nNon-blocking\r\n\r\n```\r\npublic Mono&lt;T&gt; getItemNonBlocking(final String orgId, final String id) {\r\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\r\n        return (Mono&lt;T&gt;) repository.findById(id)\r\n                .filter(t -&gt; orgs.hasElement(t.getOrgId()).block()) // Need to make this non blocking but I&#39;m not able to, but need the Mono&lt;Boolean&gt; to be a Boolean\r\n                .switchIfEmpty(Mono.error(someError.error(id))\r\n                .subscribe();\r\n}\r\n```\r\nThis code is not working also, I&#39;m receiving the exception:\r\n`java.lang.ClassCastException: reactor.core.publisher.LambdaMonoSubscriber incompatible with \r\n        reactor.core.publisher.Mono\r\nat service.getItemNonBlocking`\r\n\r\nAny clue on what I&#39;m doing wrong?\r\n","title":"Filter a Mono&lt;T&gt; with a String Id matching one of a list of Flux&lt;String&gt;","body":"<p>I'm fetching a Mono (with T containing an <code>id</code> and <code>orgId</code> fields). I also have a Flux of orgIds. I need to return the Mono if T.getOrgId() is contained in the Flux.</p>\n<p>I'm not entirely sure to understand the exact Mono/Flux flow. But so far I have tried 2 approaches, blocking and non-blocking.</p>\n<p>Blocking</p>\n<pre><code>public Mono&lt;T&gt; getItemBlocking(final String orgId, final String id) {\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\n        final T t = repository.findById(id).block();\n        final Boolean tInOrg = orgs.hasElement(t.getOrgId()).subscribe().isDisposed();\n        return tInOrg ? repository.findById(id) : Mono.error(someError.error(id)); // Ideally would not make the request again\n}\n</code></pre>\n<p>The code is not working, I'm receiving the following exception:</p>\n<p><code>&quot;java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread  reactor-http-nio-4 at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)</code></p>\n<p>Non-blocking</p>\n<pre><code>public Mono&lt;T&gt; getItemNonBlocking(final String orgId, final String id) {\n        final Flux&lt;String&gt; orgs = getOrgs(orgId);\n        return (Mono&lt;T&gt;) repository.findById(id)\n                .filter(t -&gt; orgs.hasElement(t.getOrgId()).block()) // Need to make this non blocking but I'm not able to, but need the Mono&lt;Boolean&gt; to be a Boolean\n                .switchIfEmpty(Mono.error(someError.error(id))\n                .subscribe();\n}\n</code></pre>\n<p>This code is not working also, I'm receiving the exception:\n<code>java.lang.ClassCastException: reactor.core.publisher.LambdaMonoSubscriber incompatible with  reactor.core.publisher.Mono at service.getItemNonBlocking</code></p>\n<p>Any clue on what I'm doing wrong?</p>\n"},{"tags":["java","android","storage","android-permissions","file-permissions"],"answers":[{"comments":[{"owner":{"account_id":28919269,"reputation":21,"user_id":22150604,"display_name":"User222"},"score":0,"creation_date":1688063002,"post_id":76582031,"comment_id":135027086,"body_markdown":"Well the problem is that for this use case I don&#39;t want the user to pick the file. The app should read the PDF files created by other apps and show them within the app without the user selecting the files. Is there a solution for that?","body":"Well the problem is that for this use case I don&#39;t want the user to pick the file. The app should read the PDF files created by other apps and show them within the app without the user selecting the files. Is there a solution for that?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688073187,"post_id":76582031,"comment_id":135028826,"body_markdown":"Yes and no. If you implement MANAGE_EXTERNAL_STORAGE you can do without user interaction. But to enable all files access you still need user interaction. And play store will not accept your app.","body":"Yes and no. If you implement MANAGE_EXTERNAL_STORAGE you can do without user interaction. But to enable all files access you still need user interaction. And play store will not accept your app."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688048950,"creation_date":1688048950,"answer_id":76582031,"question_id":76581641,"body_markdown":"The solution is to use SAF and for exemple ACTION_OPEN_DOCUMENT to let the user pick the file.\r\n\r\nNo permissions needed at all.","title":"Android 13 - Permission to access PDF or other type of files","body":"<p>The solution is to use SAF and for exemple ACTION_OPEN_DOCUMENT to let the user pick the file.</p>\n<p>No permissions needed at all.</p>\n"}],"owner":{"account_id":28919269,"reputation":21,"user_id":22150604,"display_name":"User222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688049670,"creation_date":1688046395,"question_id":76581641,"body_markdown":"As required, for apps targeting Android 13+ I&#39;m using the following permission requests for the media files:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n```\r\n\r\nThe problem that I have is that this permissions doesn&#39;t seem to be enough to access other type of files such as pdfs, stickers etc that are saved in the storage.\r\nWhen I want to access such files it will through a `FileNotFoundException` due to lack of proper permissions.\r\n\r\nFor example:\r\n\r\n```\r\nFile file = new File(&lt;path_to_File&gt;);\r\nFileInputStream fileInputStream = new FileInputStream(file); // Here it will through the exception\r\n```\r\n\r\nFor other type of files it works just fine.\r\n\r\nAny solution for that?\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n```","title":"Android 13 - Permission to access PDF or other type of files","body":"<p>As required, for apps targeting Android 13+ I'm using the following permission requests for the media files:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n</code></pre>\n<p>The problem that I have is that this permissions doesn't seem to be enough to access other type of files such as pdfs, stickers etc that are saved in the storage.\nWhen I want to access such files it will through a <code>FileNotFoundException</code> due to lack of proper permissions.</p>\n<p>For example:</p>\n<pre><code>File file = new File(&lt;path_to_File&gt;);\nFileInputStream fileInputStream = new FileInputStream(file); // Here it will through the exception\n</code></pre>\n<p>For other type of files it works just fine.</p>\n<p>Any solution for that?</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n</code></pre>\n"},{"tags":["java",".net","parsing","parser-combinators","superpower"],"comments":[{"owner":{"account_id":14495574,"reputation":1786,"user_id":10470283,"display_name":"Ali Ali"},"score":0,"creation_date":1619342160,"post_id":56442108,"comment_id":118871448,"body_markdown":"Did you see ANTLR 4?? https://www.antlr.org/","body":"Did you see ANTLR 4?? <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">antlr.org</a>"},{"owner":{"account_id":14495574,"reputation":1786,"user_id":10470283,"display_name":"Ali Ali"},"score":0,"creation_date":1619342518,"post_id":56442108,"comment_id":118871544,"body_markdown":"ANTLR 4 has the ability to deal with left-recursive and ambiguous grammars, as I remember, I read the book, and you can implement the parser with c# and Java, I did work with java. Also, they offer starter grammars on their GitHub.","body":"ANTLR 4 has the ability to deal with left-recursive and ambiguous grammars, as I remember, I read the book, and you can implement the parser with c# and Java, I did work with java. Also, they offer starter grammars on their GitHub."}],"owner":{"account_id":177304,"reputation":13392,"user_id":1025407,"accept_rate":78,"display_name":"SuperJMN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":847,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":0,"score":3,"last_activity_date":1688049336,"creation_date":1559644309,"question_id":56442108,"body_markdown":"I&#39;m really interested in parser combinators, especially those who can deal with left-recursive and ambiguous grammars. I know the fabulous [Superpower](https://github.com/datalust/superpower) by [Nicholas Blumhardt](https://github.com/nblumhardt) but it&#39;s unable to deal with this kind of grammars. \r\n\r\nI&#39;ve found some GLL parser combinators libraries like this https://github.com/djspiewak/gll-combinators, but it uses Scala and, that is a big inconvenience for me (I don&#39;t know that language).\r\n\r\nI would like to know if there is any of these in C# (or Java)\r\n","title":"Is there any GLL parser combinator library in C# / Java?","body":"<p>I'm really interested in parser combinators, especially those who can deal with left-recursive and ambiguous grammars. I know the fabulous <a href=\"https://github.com/datalust/superpower\" rel=\"nofollow noreferrer\">Superpower</a> by <a href=\"https://github.com/nblumhardt\" rel=\"nofollow noreferrer\">Nicholas Blumhardt</a> but it's unable to deal with this kind of grammars.</p>\n<p>I've found some GLL parser combinators libraries like this <a href=\"https://github.com/djspiewak/gll-combinators\" rel=\"nofollow noreferrer\">https://github.com/djspiewak/gll-combinators</a>, but it uses Scala and, that is a big inconvenience for me (I don't know that language).</p>\n<p>I would like to know if there is any of these in C# (or Java)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1688049118,"post_id":76581985,"comment_id":135024131,"body_markdown":"Why are you using both jackson and gson? That overcomplicates stuff...","body":"Why are you using both jackson and gson? That overcomplicates stuff..."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688049149,"post_id":76581985,"comment_id":135024138,"body_markdown":"@JsonProperty is for Jackson library. Use Jackson instead of Gson then it will work.","body":"@JsonProperty is for Jackson library. Use Jackson instead of Gson then it will work."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688049006,"creation_date":1688049006,"answer_id":76582037,"question_id":76581985,"body_markdown":"`@JsonProperty` is the Jackson annotaion. For Gson you have to use `@SerializedName` from package `com.google.gson.annotations`\r\n\r\n        @SerializedName(&quot;BackGround&quot;)\r\n        private String backGround;\r\n        \r\n","title":"How to get different variable name in result instead of getting the same variable name in POJO class","body":"<p><code>@JsonProperty</code> is the Jackson annotaion. For Gson you have to use <code>@SerializedName</code> from package <code>com.google.gson.annotations</code></p>\n<pre><code>    @SerializedName(&quot;BackGround&quot;)\n    private String backGround;\n    \n</code></pre>\n"}],"owner":{"account_id":21209365,"reputation":37,"user_id":15598320,"display_name":"iswarya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688049060,"creation_date":1688048710,"question_id":76581985,"body_markdown":"   I am using java and spring boot in my project and I am trying to get the key as &quot;BackGround&quot; instead of &quot;backGround&quot;. Could you please help me to get the expected result.\r\n        \r\n   Thanks in advance!   \r\n        \r\n   \r\n Code:\r\n         \r\n            @Entity \r\n            public class EmpEntity{\r\n            \r\n            private String backGround;\r\n            \r\n            }\r\n            \r\n\r\n            @Data\r\n            public class EmpPojo{\r\n            \r\n            @JsonProperty(&quot;BackGround&quot;)\r\n            private String backGround;\r\n            \r\n            }\r\n            \r\nImpl:\r\n\r\n            ObjectMapper obj=new ObjectMapper();\r\n            EmpEntity ent=new EmpEntity();\r\n            ent.setBackGround(&quot;value&quot;);\r\n            EmpPojo pojo=obj.readValue(new Gson().toJson(ent),EmpPojo.class);\r\n            \r\nExcepted Output:\r\n            \r\n            {\r\n            &quot;BackGround&quot;:&quot;value&quot;\r\n            }","title":"How to get different variable name in result instead of getting the same variable name in POJO class","body":"<p>I am using java and spring boot in my project and I am trying to get the key as &quot;BackGround&quot; instead of &quot;backGround&quot;. Could you please help me to get the expected result.</p>\n<p>Thanks in advance!</p>\n<p>Code:</p>\n<pre><code>        @Entity \n        public class EmpEntity{\n        \n        private String backGround;\n        \n        }\n        \n\n        @Data\n        public class EmpPojo{\n        \n        @JsonProperty(&quot;BackGround&quot;)\n        private String backGround;\n        \n        }\n        \n</code></pre>\n<p>Impl:</p>\n<pre><code>        ObjectMapper obj=new ObjectMapper();\n        EmpEntity ent=new EmpEntity();\n        ent.setBackGround(&quot;value&quot;);\n        EmpPojo pojo=obj.readValue(new Gson().toJson(ent),EmpPojo.class);\n        \n</code></pre>\n<p>Excepted Output:</p>\n<pre><code>        {\n        &quot;BackGround&quot;:&quot;value&quot;\n        }\n</code></pre>\n"},{"tags":["java","rest","http-headers","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688048983,"creation_date":1688048983,"answer_id":76582036,"question_id":76574169,"body_markdown":"The line `multipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);` is setting the content type on the multipart form itself, not on the HTTP request. To do what is required, instead the content-type header needs adding to the request itself - as follows:\r\n\r\n`request.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);`","title":"Sending multipart form but receiving application json","body":"<p>The line <code>multipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);</code> is setting the content type on the multipart form itself, not on the HTTP request. To do what is required, instead the content-type header needs adding to the request itself - as follows:</p>\n<p><code>request.setHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);</code></p>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76582036,"answer_count":1,"score":0,"last_activity_date":1688048983,"creation_date":1687962475,"question_id":76574169,"body_markdown":"I have a REST client calling a REST API.\r\n\r\nThe REST client uses:\r\n\r\n```java\r\nCloseableHttpClient client = HttpClients.createDefault();\r\nURIBuilder builder = new URIBuilder(uri);\r\nHttpPost request = new HttpPost(builder.build().toString());\r\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\r\nmultipartEntityBuilder.addTextBody(&quot;user&quot;,username));\r\nmultipartEntityBuilder.addTextBody(&quot;pass&quot;,password));\r\nmultipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);\r\nmultipartEntityBuilder.setCharset(StandardCharsets.UTF_8);\r\nrequest.setEntity(multipartEntityBuilder.build());\r\nHttpResponse response = client.execute(request);\r\n```\r\n\r\nThe REST API endpoint is as follows:\r\n\r\n```java\r\n@POST\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.MULTIPART_FORM_DATA)\r\npublic Response authenticateUser(@FormParam(&quot;user&quot;) String username, \r\n                                 @FormParam(&quot;pass&quot;) String password) {\r\n    try {\r\n        String token = authenticate(username, password);\r\n        return Response.ok(token).build();\r\n         } catch (Exception e) {\r\n             return Response.status(Response.Status.FORBIDDEN).build(); }\r\n}\r\n```\r\n\r\nWhen the API receives the request, the logs show:\r\n\r\n&gt; Request Headers: {Accept=[application/json], accept-encoding=[gzip,deflate], Authorization=[\\*\\*\\*], Content-Length=[41], **content-type=[application/json]**, Host=[redacted], Proxy-Authorization=[***], User-Agent=[Apache-HttpClient/4.5.13 (Java/1.8.0_361)], X-Forwarded-For=[redacted], X-Forwarded-Port=[80], X-Forwarded-Proto=[http]}\r\n\r\ni.e. the content-type shown is `application/json`, not `multipart/form-data`. This leads to 415 unsupported media type.\r\n\r\nWhy would a MultipartEntityBuilder which is using `setContentType` of `MULTIPART_FORM_DATA` send `application/json`? How could I further troubleshoot this and get the API to receive the correct content type in the request?\r\n\r\nAs an aside, this approach works (from another client calling the same API call), but I want to know why the first one doesn&#39;t, as the first one isn&#39;t using Spring:\r\n\r\n```java\r\n@Autowired\r\nprivate RestTemplate restTemplate;\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\nmap.add(&quot;user&quot;, user);\r\nmap.add(&quot;pass&quot;, pass);\r\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\r\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, request, String.class);\r\nreturn response.getBody();\r\n```","title":"Sending multipart form but receiving application json","body":"<p>I have a REST client calling a REST API.</p>\n<p>The REST client uses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient client = HttpClients.createDefault();\nURIBuilder builder = new URIBuilder(uri);\nHttpPost request = new HttpPost(builder.build().toString());\nMultipartEntityBuilder multipartEntityBuilder = MultipartEntityBuilder.create();\nmultipartEntityBuilder.addTextBody(&quot;user&quot;,username));\nmultipartEntityBuilder.addTextBody(&quot;pass&quot;,password));\nmultipartEntityBuilder.setContentType(ContentType.MULTIPART_FORM_DATA);\nmultipartEntityBuilder.setCharset(StandardCharsets.UTF_8);\nrequest.setEntity(multipartEntityBuilder.build());\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>The REST API endpoint is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@POST\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\npublic Response authenticateUser(@FormParam(&quot;user&quot;) String username, \n                                 @FormParam(&quot;pass&quot;) String password) {\n    try {\n        String token = authenticate(username, password);\n        return Response.ok(token).build();\n         } catch (Exception e) {\n             return Response.status(Response.Status.FORBIDDEN).build(); }\n}\n</code></pre>\n<p>When the API receives the request, the logs show:</p>\n<blockquote>\n<p>Request Headers: {Accept=[application/json], accept-encoding=[gzip,deflate], Authorization=[***], Content-Length=[41], <strong>content-type=[application/json]</strong>, Host=[redacted], Proxy-Authorization=[***], User-Agent=[Apache-HttpClient/4.5.13 (Java/1.8.0_361)], X-Forwarded-For=[redacted], X-Forwarded-Port=[80], X-Forwarded-Proto=[http]}</p>\n</blockquote>\n<p>i.e. the content-type shown is <code>application/json</code>, not <code>multipart/form-data</code>. This leads to 415 unsupported media type.</p>\n<p>Why would a MultipartEntityBuilder which is using <code>setContentType</code> of <code>MULTIPART_FORM_DATA</code> send <code>application/json</code>? How could I further troubleshoot this and get the API to receive the correct content type in the request?</p>\n<p>As an aside, this approach works (from another client calling the same API call), but I want to know why the first one doesn't, as the first one isn't using Spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate RestTemplate restTemplate;\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.MULTIPART_FORM_DATA);\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;&gt;();\nmap.add(&quot;user&quot;, user);\nmap.add(&quot;pass&quot;, pass);\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(map, headers);\nResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, request, String.class);\nreturn response.getBody();\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","nativescript"],"answers":[{"comments":[{"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"score":1,"creation_date":1592145596,"post_id":62373810,"comment_id":110313563,"body_markdown":"sorry man, i won&#39;t use it even it worked. because it was deprecated","body":"sorry man, i won&#39;t use it even it worked. because it was deprecated"},{"owner":{"account_id":6972069,"reputation":105,"user_id":5348068,"display_name":"Frank Nicklin"},"score":0,"creation_date":1626947131,"post_id":62373810,"comment_id":121029329,"body_markdown":"Did you ever fix this.","body":"Did you ever fix this."}],"tags":[],"owner":{"account_id":8164973,"reputation":4238,"user_id":6147653,"display_name":"Alpha 1"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592144513,"creation_date":1592144513,"answer_id":62373810,"question_id":62373620,"body_markdown":"You are trying to create file in root directory which is not permitted. You can create files in the internal storage/SD card using `Environment.getExternalStorageDirectory()`.  Use the below code:\r\n\r\n    val myObj = File(Environment.getExternalStorageDirectory()+&quot;/&quot;+&quot;filename.txt&quot;)\r\n\r\nNote:  **Environment.getExternalStorageDirectory() is deprecated in API level 29 java** \r\n\r\nPlease refer https://stackoverflow.com/questions/57116335/environment-getexternalstoragedirectory-deprecated-in-api-level-29-java for more details. \r\n","title":"how to create a folder and file in internal storage using kotlin","body":"<p>You are trying to create file in root directory which is not permitted. You can create files in the internal storage/SD card using <code>Environment.getExternalStorageDirectory()</code>.  Use the below code:</p>\n\n<pre><code>val myObj = File(Environment.getExternalStorageDirectory()+\"/\"+\"filename.txt\")\n</code></pre>\n\n<p>Note:  <strong>Environment.getExternalStorageDirectory() is deprecated in API level 29 java</strong> </p>\n\n<p>Please refer <a href=\"https://stackoverflow.com/questions/57116335/environment-getexternalstoragedirectory-deprecated-in-api-level-29-java\">Environment.getExternalStorageDirectory() deprecated in API level 29 java</a> for more details. </p>\n"},{"comments":[{"owner":{"account_id":23033508,"reputation":25,"user_id":17152623,"display_name":"Arun Goenka"},"score":0,"creation_date":1660786685,"post_id":62374161,"comment_id":129617238,"body_markdown":"plz tell me is it possible to paste that file inside android/data/ instead of android/data/&quot;com.your.pkg_name &quot;","body":"plz tell me is it possible to paste that file inside android/data/ instead of android/data/&quot;com.your.pkg_name &quot;"}],"tags":[],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1623943874,"creation_date":1592146414,"answer_id":62374161,"question_id":62373620,"body_markdown":"ok got it,not specifying proper path.   \r\n```\r\n        val data: String = &quot;om namah shivaya&quot;\r\n        val path = this.getExternalFilesDir(null)\r\n\r\n        val folder = File(path, &quot;avalakki&quot;)\r\n        folder.mkdirs()\r\n\r\n        println(folder.exists()) // u&#39;ll get true \r\n\r\n        val file = File(folder, &quot;file_name.txt&quot;)\r\n        file.appendText(&quot;$data&quot;)\r\n```\r\n\r\nthen to check this, navigate to\r\n\r\n\r\nAndroid -&gt; data -&gt; com.your.pkg_name -&gt; files -&gt; \r\n\r\nThere will see files got created.  \r\n\r\n\r\n***note:- we can use different paths*** \r\n\r\n`val path = this.externalCacheDir`    \r\nAndroid -&gt; data -&gt; com.your.pkg_name -&gt; cache -&gt;\r\n\r\n\r\n`val path = this.externalMediaDirs.first()`   \r\nAndroid -&gt; media\r\n\r\n`val path = this.getExternalFilesDirs(null).first()`   \r\n`val path = Environment.getExternalStorageDirectory().getPath()`\r\n\r\n\r\nprint and check what the path is.","title":"how to create a folder and file in internal storage using kotlin","body":"<p>ok got it,not specifying proper path.</p>\n<pre><code>        val data: String = &quot;om namah shivaya&quot;\n        val path = this.getExternalFilesDir(null)\n\n        val folder = File(path, &quot;avalakki&quot;)\n        folder.mkdirs()\n\n        println(folder.exists()) // u'll get true \n\n        val file = File(folder, &quot;file_name.txt&quot;)\n        file.appendText(&quot;$data&quot;)\n</code></pre>\n<p>then to check this, navigate to</p>\n<p>Android -&gt; data -&gt; com.your.pkg_name -&gt; files -&gt;</p>\n<p>There will see files got created.</p>\n<p><em><strong>note:- we can use different paths</strong></em></p>\n<p><code>val path = this.externalCacheDir</code><br />\nAndroid -&gt; data -&gt; com.your.pkg_name -&gt; cache -&gt;</p>\n<p><code>val path = this.externalMediaDirs.first()</code><br />\nAndroid -&gt; media</p>\n<p><code>val path = this.getExternalFilesDirs(null).first()</code><br />\n<code>val path = Environment.getExternalStorageDirectory().getPath()</code></p>\n<p>print and check what the path is.</p>\n"},{"tags":[],"owner":{"account_id":14165594,"reputation":505,"user_id":10233647,"display_name":"The_Long_Distance_Runner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688048868,"creation_date":1688048868,"answer_id":76582014,"question_id":62373620,"body_markdown":"**Actual in June 2023**\r\n\r\nIn order to write to Internal Storage from your activity, make use of this snippet:\r\n\r\n        applicationContext.openFileOutput(&quot;filename.txt&quot;, Context.MODE_PRIVATE).use {\r\n            it.write(&quot;your text&quot;.toByteArray())\r\n        }\r\n**Note!** Use `applicationContext` instead of `context` \r\n\r\nHowever, **now it is stronly advised to use DataStore**: https://developer.android.com/topic/libraries/architecture/datastore","title":"how to create a folder and file in internal storage using kotlin","body":"<p><strong>Actual in June 2023</strong></p>\n<p>In order to write to Internal Storage from your activity, make use of this snippet:</p>\n<pre><code>    applicationContext.openFileOutput(&quot;filename.txt&quot;, Context.MODE_PRIVATE).use {\n        it.write(&quot;your text&quot;.toByteArray())\n    }\n</code></pre>\n<p><strong>Note!</strong> Use <code>applicationContext</code> instead of <code>context</code></p>\n<p>However, <strong>now it is stronly advised to use DataStore</strong>: <a href=\"https://developer.android.com/topic/libraries/architecture/datastore\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/datastore</a></p>\n"}],"owner":{"account_id":11958574,"reputation":3740,"user_id":8750174,"display_name":"Vikas Acharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11327,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":62374161,"answer_count":3,"score":6,"last_activity_date":1688048868,"creation_date":1592143586,"question_id":62373620,"body_markdown":"I&#39;m trying to create a file and folder on my internal storage   \r\nin manifest i have \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\nthese permissions.\r\n\r\n```\r\nfun test(view: View) {\r\n        try {\r\n            val myObj = File(&quot;filename.txt&quot;)\r\n            if (myObj.createNewFile()) {\r\n                println(&quot;File created: &quot; + myObj.name)\r\n            } else {\r\n                println(&quot;File already exists.&quot;)\r\n            }\r\n        } catch (e: IOException) {\r\n            println(&quot;An error occurred.&quot;)\r\n            e.printStackTrace()\r\n        }\r\n    }\r\n}\r\n```\r\ni got this \r\n```\r\nAn error occurred.\r\njava.io.IOException: Read-only file system\r\n```\r\n\r\ni tried so many other thing from javatpoint to official java and kotlin tutorials.\r\nbut none worked\r\n","title":"how to create a folder and file in internal storage using kotlin","body":"<p>I'm trying to create a file and folder on my internal storage<br>\nin manifest i have </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>these permissions.</p>\n\n<pre><code>fun test(view: View) {\n        try {\n            val myObj = File(\"filename.txt\")\n            if (myObj.createNewFile()) {\n                println(\"File created: \" + myObj.name)\n            } else {\n                println(\"File already exists.\")\n            }\n        } catch (e: IOException) {\n            println(\"An error occurred.\")\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n\n<p>i got this </p>\n\n<pre><code>An error occurred.\njava.io.IOException: Read-only file system\n</code></pre>\n\n<p>i tried so many other thing from javatpoint to official java and kotlin tutorials.\nbut none worked</p>\n"},{"tags":["java","c#","dictionary","hashmap"],"comments":[{"owner":{"display_name":"user5638373"},"score":0,"creation_date":1650788819,"post_id":71986658,"comment_id":127201028,"body_markdown":"There is extension method GetValueOrDefault","body":"There is extension method GetValueOrDefault"}],"answers":[{"tags":[],"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650790095,"creation_date":1650788717,"answer_id":71986685,"question_id":71986658,"body_markdown":"One form:\r\n\r\n    dictionary[key] = dictionary.ContainsKey(key) ? dictionary[key] + 1 : 1;\r\n\r\nAnother form:\r\n\r\n    dictionary[key] = dictionary.TryGetValue(key, out var x) ? x + 1 : 1;\r\n\r\nYet another form:\r\n\r\n    if(!dictionary.TryAdd(key, 1)) dictionary[key]++;\r\n\r\nClose to your Java:\r\n\r\n    dictionary[key] = dictionary.GetValueOrDefault(key, 0) + 1;\r\n\r\nNote that availability of these methods vary across versions and flavours of .net - the examples above are in rough order of &quot;available since the start of time&quot; to &quot;available more recently&quot; -\r\n\r\nIn C# nothing stops you writing a [GetValueOrDefault](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.collectionextensions.getvalueordefault?view=net-6.0) / [TryAdd](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.tryadd?view=net-6.0) / [TryGetValue](https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.trygetvalue?view=net-6.0) extension if your version doesn&#39;t have some functionality you want. You don&#39;t have to subclass Dictionary to add it, see e.g. [here](https://stackoverflow.com/questions/53940405/not-able-to-use-getvalueordefault-for-dictionary-in-c-sharp) for an example of writing an extension method to add GetValueOrDefault","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>One form:</p>\n<pre><code>dictionary[key] = dictionary.ContainsKey(key) ? dictionary[key] + 1 : 1;\n</code></pre>\n<p>Another form:</p>\n<pre><code>dictionary[key] = dictionary.TryGetValue(key, out var x) ? x + 1 : 1;\n</code></pre>\n<p>Yet another form:</p>\n<pre><code>if(!dictionary.TryAdd(key, 1)) dictionary[key]++;\n</code></pre>\n<p>Close to your Java:</p>\n<pre><code>dictionary[key] = dictionary.GetValueOrDefault(key, 0) + 1;\n</code></pre>\n<p>Note that availability of these methods vary across versions and flavours of .net - the examples above are in rough order of &quot;available since the start of time&quot; to &quot;available more recently&quot; -</p>\n<p>In C# nothing stops you writing a <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.collectionextensions.getvalueordefault?view=net-6.0\" rel=\"nofollow noreferrer\">GetValueOrDefault</a> / <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.tryadd?view=net-6.0\" rel=\"nofollow noreferrer\">TryAdd</a> / <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2.trygetvalue?view=net-6.0\" rel=\"nofollow noreferrer\">TryGetValue</a> extension if your version doesn't have some functionality you want. You don't have to subclass Dictionary to add it, see e.g. <a href=\"https://stackoverflow.com/questions/53940405/not-able-to-use-getvalueordefault-for-dictionary-in-c-sharp\">here</a> for an example of writing an extension method to add GetValueOrDefault</p>\n"},{"tags":[],"owner":{"display_name":"user5638373"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789041,"creation_date":1650789041,"answer_id":71986717,"question_id":71986658,"body_markdown":"There is extension method GetValueOrDefault, so if you are ok with Java version you can easily port it.\r\n\r\nBeware that this single statement will do lookup twice. In perf critical code or when working with a lot of data, you can consider to store simple wrapper/holder over int value and in one search/lookup extract or add slot and then simply increment value without re-searching again.","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>There is extension method GetValueOrDefault, so if you are ok with Java version you can easily port it.</p>\n<p>Beware that this single statement will do lookup twice. In perf critical code or when working with a lot of data, you can consider to store simple wrapper/holder over int value and in one search/lookup extract or add slot and then simply increment value without re-searching again.</p>\n"},{"tags":[],"owner":{"account_id":23230108,"reputation":45,"user_id":17321009,"display_name":"Berkay Kulak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650789793,"creation_date":1650789793,"answer_id":71986798,"question_id":71986658,"body_markdown":"    public bool TryAdd(TKey key, TValue value);\r\n\r\nand in order not to make a mistake, you can act like this.\r\n\r\n    public bool TryAdd(TKey key, TValue value)\r\n    {\r\n        if (ContainsKey(key)) return false;\r\n        Add(key, value);\r\n        return true;\r\n    }","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<pre><code>public bool TryAdd(TKey key, TValue value);\n</code></pre>\n<p>and in order not to make a mistake, you can act like this.</p>\n<pre><code>public bool TryAdd(TKey key, TValue value)\n{\n    if (ContainsKey(key)) return false;\n    Add(key, value);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15495526,"reputation":36882,"user_id":11178549,"display_name":"Theodor Zoulias"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650789902,"creation_date":1650789902,"answer_id":71986805,"question_id":71986658,"body_markdown":"‚ÄãIn .NET 6 it is possible to do it not only in one line, but also with only one hashcode lookup:\r\n\r\n```C#\r\nCollectionsMarshal.GetValueRefOrAddDefault(dictionary, key, out _)++;\r\n```\r\n\r\nThe [`System.Runtime.InteropServices.CollectionsMarshal.GetValueRefOrAddDefault`][1] method:\r\n\r\n&gt; Gets a reference to a `TValue` in the specified dictionary, adding a new entry with a default value if the key does not exist.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>‚ÄãIn .NET 6 it is possible to do it not only in one line, but also with only one hashcode lookup:</p>\n<pre><code>CollectionsMarshal.GetValueRefOrAddDefault(dictionary, key, out _)++;\n</code></pre>\n<p>The <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault\" rel=\"nofollow noreferrer\"><code>System.Runtime.InteropServices.CollectionsMarshal.GetValueRefOrAddDefault</code></a> method:</p>\n<blockquote>\n<p>Gets a reference to a <code>TValue</code> in the specified dictionary, adding a new entry with a default value if the key does not exist.</p>\n</blockquote>\n"}],"owner":{"account_id":5607111,"reputation":13,"user_id":4441262,"display_name":"korem7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1688048714,"creation_date":1650788434,"question_id":71986658,"body_markdown":"In Java, it is possible to increase or decrease numeric value in *one line* while adding an element to a `HashMap`. Is there any way to do it in C# `Dictionary`? \r\n\r\nFor example in Java:\r\n```\r\nhashMap.put(key, hashMap.getOrDefault(key, 0) +1);\r\n```\r\n\r\nIn C#:\r\n\r\n```\r\nif (dictionary.ContainsKey(key)) dictionary[key]++;\r\nelse dictionary.Add(key, 1);\r\n```","title":"How to increase or decrease numeric value of an existing Dictionary key in one line","body":"<p>In Java, it is possible to increase or decrease numeric value in <em>one line</em> while adding an element to a <code>HashMap</code>. Is there any way to do it in C# <code>Dictionary</code>?</p>\n<p>For example in Java:</p>\n<pre><code>hashMap.put(key, hashMap.getOrDefault(key, 0) +1);\n</code></pre>\n<p>In C#:</p>\n<pre><code>if (dictionary.ContainsKey(key)) dictionary[key]++;\nelse dictionary.Add(key, 1);\n</code></pre>\n"},{"tags":["java","oracle","jpa","liquibase"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688048638,"post_id":76581829,"comment_id":135024006,"body_markdown":"The error message refers to *identifier* length, not column size. What&#39;s the full liquibase changeset?","body":"The error message refers to <i>identifier</i> length, not column size. What&#39;s the full liquibase changeset?"}],"answers":[{"comments":[{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":0,"creation_date":1688114328,"post_id":76581983,"comment_id":135033248,"body_markdown":"Yea, I figured it out yesterday after I read the error again :D","body":"Yea, I figured it out yesterday after I read the error again :D"}],"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688048706,"creation_date":1688048706,"answer_id":76581983,"question_id":76581829,"body_markdown":"The error is:\r\n\r\n```lang-none\r\nORA-00972: identifier is too long\r\n```\r\n\r\nIt is the identifier (i.e. the name of the table, column, constraint or index) that is too long and not the length of the value being stored in the column.\r\n\r\nYou need to look at the changeset and the DDL statements that Liquibase is generating for the table and see whether the name of the table, column, constraint or the index backing the primary key constraint are too long and correct that.","title":"Oracle 12.1 primary key length","body":"<p>The error is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ORA-00972: identifier is too long\n</code></pre>\n<p>It is the identifier (i.e. the name of the table, column, constraint or index) that is too long and not the length of the value being stored in the column.</p>\n<p>You need to look at the changeset and the DDL statements that Liquibase is generating for the table and see whether the name of the table, column, constraint or the index backing the primary key constraint are too long and correct that.</p>\n"}],"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76581983,"answer_count":1,"score":-2,"last_activity_date":1688048706,"creation_date":1688047705,"question_id":76581829,"body_markdown":"We are using Liquibase and are trying to create a table in Oracle 12c release (12.1.0.1.0).\r\n\r\nWhen trying to create a table I get exception:\r\n\r\n`Reason: liquibase.exception.DatabaseException: ORA-00972: identifier is too long`\r\n\r\nI googled and found out that prior to version 12.2 the length of the primary key column in Oracle is restricted to 30 characters and UUID (which we use as a primary key) is 36 including hyphens.\r\n\r\nAfter this I tried to execute create statement directly on the DB itself and it worked. I also tried inserting a few entries and all looks nice.\r\n\r\nWhat could be the issue causing Liquibase to complain if we&#39;re able to manually create table and insert entries?","title":"Oracle 12.1 primary key length","body":"<p>We are using Liquibase and are trying to create a table in Oracle 12c release (12.1.0.1.0).</p>\n<p>When trying to create a table I get exception:</p>\n<p><code>Reason: liquibase.exception.DatabaseException: ORA-00972: identifier is too long</code></p>\n<p>I googled and found out that prior to version 12.2 the length of the primary key column in Oracle is restricted to 30 characters and UUID (which we use as a primary key) is 36 including hyphens.</p>\n<p>After this I tried to execute create statement directly on the DB itself and it worked. I also tried inserting a few entries and all looks nice.</p>\n<p>What could be the issue causing Liquibase to complain if we're able to manually create table and insert entries?</p>\n"},{"tags":["java","spring-boot","properties-file"],"answers":[{"comments":[{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":19,"creation_date":1432910127,"post_id":30528430,"comment_id":49138140,"body_markdown":"as en alternative one can get those also from spring `Environment` or via `@ConfigurationProperties`","body":"as en alternative one can get those also from spring <code>Environment</code> or via <code>@ConfigurationProperties</code>"},{"owner":{"account_id":949132,"reputation":171,"user_id":975687,"display_name":"cristi"},"score":5,"creation_date":1462557553,"post_id":30528430,"comment_id":61702117,"body_markdown":"To add on top of @sodik&#39;s answer, this is an example  that shows how to get the [Environment](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/Environment.html) http://stackoverflow.com/questions/28392231/how-to-determine-programmatically-the-current-active-profile-using-spring-boot","body":"To add on top of @sodik&#39;s answer, this is an example  that shows how to get the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/Environment.html\" rel=\"nofollow noreferrer\">Environment</a> <a href=\"http://stackoverflow.com/questions/28392231/how-to-determine-programmatically-the-current-active-profile-using-spring-boot\" title=\"how to determine programmatically the current active profile using spring boot\">stackoverflow.com/questions/28392231/&hellip;</a>"},{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1481054813,"post_id":30528430,"comment_id":69216552,"body_markdown":"What if you need to access over 10 values, Would you have to keep repeating your example 10times?","body":"What if you need to access over 10 values, Would you have to keep repeating your example 10times?"},{"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"score":0,"creation_date":1481056381,"post_id":30528430,"comment_id":69217361,"body_markdown":"one approach would be to do so, but its cumbersome. There are alternative approaches based on `@Configuration` classes,  problem is well analyzed in the following [blog post](https://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-injecting-property-values-into-configuration-beans/)","body":"one approach would be to do so, but its cumbersome. There are alternative approaches based on <code>@Configuration</code> classes,  problem is well analyzed in the following <a href=\"https://www.petrikainulainen.net/programming/spring-framework/spring-from-the-trenches-injecting-property-values-into-configuration-beans/\" rel=\"nofollow noreferrer\">blog post</a>"},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1541100458,"post_id":30528430,"comment_id":93111466,"body_markdown":"Adding this answer you can add some value if the property configuration is not found by default some value adding: @Value(&quot;${userBucket.path:~/bucket}&quot;) or empty @Value(&quot;${userBucket.path:}&quot;)","body":"Adding this answer you can add some value if the property configuration is not found by default some value adding: @Value(&quot;${userBucket.path:~/bucket}&quot;) or empty @Value(&quot;${userBucket.path:}&quot;)"},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":19,"creation_date":1570720841,"post_id":30528430,"comment_id":103010924,"body_markdown":"Note, this only works on a `@Component` (or any of its derivatives, i.e. `@Repository`, etc.)","body":"Note, this only works on a <code>@Component</code> (or any of its derivatives, i.e. <code>@Repository</code>, etc.)"},{"owner":{"account_id":6844791,"reputation":308,"user_id":5263934,"accept_rate":100,"display_name":"Faisal"},"score":0,"creation_date":1648577259,"post_id":30528430,"comment_id":126658270,"body_markdown":"I use this on Controller and it&#39;s work","body":"I use this on Controller and it&#39;s work"},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1697704736,"post_id":30528430,"comment_id":136314143,"body_markdown":"I used it on a `@Component` and it didn&#39;t work. All the variables just end up being `null`. Is it somewhat different if I use an `application.yml`?","body":"I used it on a <code>@Component</code> and it didn&#39;t work. All the variables just end up being <code>null</code>. Is it somewhat different if I use an <code>application.yml</code>?"},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1701185999,"post_id":30528430,"comment_id":136742510,"body_markdown":"This works great. Also make sure you don&#39;t declare the variable as static. This will cause the binding to silently fail.","body":"This works great. Also make sure you don&#39;t declare the variable as static. This will cause the binding to silently fail."}],"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"comment_count":9,"down_vote_count":1,"up_vote_count":799,"is_accepted":true,"score":798,"last_activity_date":1468265461,"creation_date":1432898868,"answer_id":30528430,"question_id":30528255,"body_markdown":"You can use the `@Value` annotation and access the property in whichever Spring bean you&#39;re using \r\n\r\n    @Value(&quot;${userBucket.path}&quot;)\r\n    private String userBucketPath;\r\n\r\nThe [Externalized Configuration][1] section of the Spring Boot docs, explains all the details that you might need.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the <code>@Value</code> annotation and access the property in whichever Spring bean you're using </p>\n\n<pre><code>@Value(\"${userBucket.path}\")\nprivate String userBucketPath;\n</code></pre>\n\n<p>The <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\">Externalized Configuration</a> section of the Spring Boot docs, explains all the details that you might need.</p>\n"},{"comments":[{"owner":{"account_id":1931705,"reputation":1797,"user_id":1740965,"display_name":"sarbuLopex"},"score":0,"creation_date":1498490911,"post_id":38314645,"comment_id":76507381,"body_markdown":"that&#39;s really useful when you have to access multiple vars. Good advice","body":"that&#39;s really useful when you have to access multiple vars. Good advice"},{"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"score":23,"creation_date":1501249261,"post_id":38314645,"comment_id":77711237,"body_markdown":"also useful when the name of the property you need to access changes dynamically","body":"also useful when the name of the property you need to access changes dynamically"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":4,"creation_date":1520950093,"post_id":38314645,"comment_id":85519647,"body_markdown":"What if you want to search the properties?  And may I suggest including the import statement so all can see the Environment package name, probably org.springframework.core.env.Environment","body":"What if you want to search the properties?  And may I suggest including the import statement so all can see the Environment package name, probably org.springframework.core.env.Environment"},{"owner":{"account_id":3801282,"reputation":4355,"user_id":3154872,"accept_rate":25,"display_name":"mancini0"},"score":0,"creation_date":1523635935,"post_id":38314645,"comment_id":86657610,"body_markdown":"Also very useful when you want to enforce the existence of a property via getRequiredProperty:  env.getRequiredProperty(&quot;userBucket.path&quot;);","body":"Also very useful when you want to enforce the existence of a property via getRequiredProperty:  env.getRequiredProperty(&quot;userBucket.path&quot;);"},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":5,"creation_date":1525278202,"post_id":38314645,"comment_id":87296930,"body_markdown":"Be careful not to import the wrong Environment. I intellij auto-imported the CORBA Environment.","body":"Be careful not to import the wrong Environment. I intellij auto-imported the CORBA Environment."},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":7,"creation_date":1525278410,"post_id":38314645,"comment_id":87297032,"body_markdown":"Why is my env null?","body":"Why is my env null?"},{"owner":{"account_id":1800698,"reputation":1789,"user_id":1639141,"accept_rate":88,"display_name":"Rasshu"},"score":3,"creation_date":1537967218,"post_id":38314645,"comment_id":91976495,"body_markdown":"@JanacMeena had the same problem of the IntelliJ auto-importing CORBA&#39;s class instead of `org.springframework.core.env.Environment`","body":"@JanacMeena had the same problem of the IntelliJ auto-importing CORBA&#39;s class instead of <code>org.springframework.core.env.Environment</code>"},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1697704983,"post_id":38314645,"comment_id":136314210,"body_markdown":"This one works for me, unlike the `@Value`-solution which did not","body":"This one works for me, unlike the <code>@Value</code>-solution which did not"}],"tags":[],"owner":{"account_id":2147392,"reputation":5406,"user_id":2308204,"accept_rate":83,"display_name":"Rodrigo Villalba Zayas"},"comment_count":8,"down_vote_count":0,"up_vote_count":354,"is_accepted":false,"score":354,"last_activity_date":1585001681,"creation_date":1468265060,"answer_id":38314645,"question_id":30528255,"body_markdown":"Another way is injecting `org.springframework.core.env.Environment` to your bean.\r\n\r\n    @Autowired\r\n\tprivate Environment env;\r\n    ....\r\n\r\n    public void method() {\r\n        .....  \r\n        String path = env.getProperty(&quot;userBucket.path&quot;);\r\n        .....\r\n    }","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Another way is injecting <code>org.springframework.core.env.Environment</code> to your bean.</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n....\n\npublic void method() {\n    .....  \n    String path = env.getProperty(\"userBucket.path\");\n    .....\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5724548,"reputation":137,"user_id":4521958,"accept_rate":17,"display_name":"Ahmad Leo Yudanto"},"score":2,"creation_date":1573910196,"post_id":47178928,"comment_id":104047773,"body_markdown":"i used this way and got null return, i put my properties file in src/test/resources and properties java class (in which the properties value being saved) in src/main/package/properties. what i been missing? thanks","body":"i used this way and got null return, i put my properties file in src/test/resources and properties java class (in which the properties value being saved) in src/main/package/properties. what i been missing? thanks"},{"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"score":0,"creation_date":1573979368,"post_id":47178928,"comment_id":104061597,"body_markdown":"you have to save the files to `src/main/resources` if you are not testing your code from a Spring test.","body":"you have to save the files to <code>src&#47;main&#47;resources</code> if you are not testing your code from a Spring test."},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1585819506,"post_id":47178928,"comment_id":107898739,"body_markdown":"Same as @AhmadLeoYudanto and there is nothing I can do that change that","body":"Same as @AhmadLeoYudanto and there is nothing I can do that change that"}],"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":3,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1562725953,"creation_date":1510141656,"answer_id":47178928,"question_id":30528255,"body_markdown":"`@ConfigurationProperties` can be used to map values from `.properties`( `.yml` also supported) to a POJO.\r\n\r\nConsider the following Example file.\r\n\r\n**.properties**\r\n\r\n    cust.data.employee.name=Sachin\r\n    cust.data.employee.dept=Cricket\r\n\r\n**Employee.java**\r\n\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @ConfigurationProperties(prefix = &quot;cust.data.employee&quot;)\r\n    @Configuration(&quot;employeeProperties&quot;)\r\n    public class Employee {\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String dept;\r\n    \t\r\n    \t//Getters and Setters go here\r\n    }\r\n\r\n\r\nNow the properties value can be accessed by autowiring `employeeProperties` as follows.\r\n\r\n    @Autowired\r\n    private Employee employeeProperties;\r\n    \r\n    public void method() {\r\n    \r\n       String employeeName = employeeProperties.getName();\r\n       String employeeDept = employeeProperties.getDept();\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p><code>@ConfigurationProperties</code> can be used to map values from <code>.properties</code>( <code>.yml</code> also supported) to a POJO.</p>\n\n<p>Consider the following Example file.</p>\n\n<p><strong>.properties</strong></p>\n\n<pre><code>cust.data.employee.name=Sachin\ncust.data.employee.dept=Cricket\n</code></pre>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@ConfigurationProperties(prefix = \"cust.data.employee\")\n@Configuration(\"employeeProperties\")\npublic class Employee {\n\n    private String name;\n    private String dept;\n\n    //Getters and Setters go here\n}\n</code></pre>\n\n<p>Now the properties value can be accessed by autowiring <code>employeeProperties</code> as follows.</p>\n\n<pre><code>@Autowired\nprivate Employee employeeProperties;\n\npublic void method() {\n\n   String employeeName = employeeProperties.getName();\n   String employeeDept = employeeProperties.getDept();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":114831,"reputation":1251,"user_id":301800,"accept_rate":52,"display_name":"cp."},"score":0,"creation_date":1627318819,"post_id":49396661,"comment_id":121119130,"body_markdown":"The casting is very nice.  What additional is necessary as I get &quot;Annotations not allowed here&quot; no matter where I put it.  I am missing something.  Do I need a some other per-configuration to use this annotation anywhere?","body":"The casting is very nice.  What additional is necessary as I get &quot;Annotations not allowed here&quot; no matter where I put it.  I am missing something.  Do I need a some other per-configuration to use this annotation anywhere?"}],"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1658525267,"creation_date":1521595097,"answer_id":49396661,"question_id":30528255,"body_markdown":"You can use the `@Value` to load variables from the `application.properties` if you will use this value in one place, but if you need a more centralized way to load these variables `@ConfigurationProperties` is a better approach.\r\n\r\nAdditionally, you can load variables and cast them automatically if you need different data types to perform your validations and business logic.\r\n\r\n    application.properties\r\n    custom-app.enable-mocks = false\r\n    \r\n    @Value(&quot;${custom-app.enable-mocks}&quot;)\r\n    private boolean enableMocks;","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the <code>@Value</code> to load variables from the <code>application.properties</code> if you will use this value in one place, but if you need a more centralized way to load these variables <code>@ConfigurationProperties</code> is a better approach.</p>\n<p>Additionally, you can load variables and cast them automatically if you need different data types to perform your validations and business logic.</p>\n<pre><code>application.properties\ncustom-app.enable-mocks = false\n\n@Value(&quot;${custom-app.enable-mocks}&quot;)\nprivate boolean enableMocks;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1290949,"reputation":3762,"user_id":1243068,"accept_rate":64,"display_name":"e-info128"},"score":2,"creation_date":1553197345,"post_id":54223602,"comment_id":97305783,"body_markdown":"What package is `Environment`?","body":"What package is <code>Environment</code>?"},{"owner":{"account_id":10676508,"reputation":415,"user_id":7859828,"display_name":"lucifer"},"score":1,"creation_date":1554098569,"post_id":54223602,"comment_id":97612167,"body_markdown":"Find it here: org.springframework.core.env.Environment","body":"Find it here: org.springframework.core.env.Environment"},{"owner":{"account_id":556436,"reputation":2953,"user_id":300986,"accept_rate":89,"display_name":"bmauter"},"score":0,"creation_date":1586182627,"post_id":54223602,"comment_id":108026719,"body_markdown":"What if the default location is overridden with `spring.config.location`?","body":"What if the default location is overridden with <code>spring.config.location</code>?"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1687144559,"post_id":54223602,"comment_id":134890725,"body_markdown":"Why do you need `@PropertySource` when you inject Spring `Environment` which reads properties from `application.properties` file by default?","body":"Why do you need <code>@PropertySource</code> when you inject Spring <code>Environment</code> which reads properties from <code>application.properties</code> file by default?"}],"tags":[],"owner":{"account_id":10676508,"reputation":415,"user_id":7859828,"display_name":"lucifer"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1547665150,"creation_date":1547665150,"answer_id":54223602,"question_id":30528255,"body_markdown":"You can do it this way as well....\r\n \r\n    @Component\r\n\t@PropertySource(&quot;classpath:application.properties&quot;)\r\n\tpublic class ConfigProperties {\r\n\r\n\t    @Autowired\r\n\t    private Environment env;\r\n\r\n\t    public String getConfigValue(String configKey){\r\n\t        return env.getProperty(configKey);\r\n\t    }\r\n\t}\r\n\r\nThen wherever you want to read from application.properties, just pass the key to getConfigValue method.\r\n\r\n    @Autowired\r\n    ConfigProperties configProp;\r\n    \r\n    // Read server.port from app.prop\r\n    String portNumber = configProp.getConfigValue(&quot;server.port&quot;); \r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can do it this way as well....</p>\n\n<pre><code>@Component\n@PropertySource(\"classpath:application.properties\")\npublic class ConfigProperties {\n\n    @Autowired\n    private Environment env;\n\n    public String getConfigValue(String configKey){\n        return env.getProperty(configKey);\n    }\n}\n</code></pre>\n\n<p>Then wherever you want to read from application.properties, just pass the key to getConfigValue method.</p>\n\n<pre><code>@Autowired\nConfigProperties configProp;\n\n// Read server.port from app.prop\nString portNumber = configProp.getConfigValue(\"server.port\"); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":95213,"reputation":191,"user_id":259455,"display_name":"Eric Kramer"},"score":0,"creation_date":1676494572,"post_id":56179309,"comment_id":133150622,"body_markdown":"Also note.. you cannot make your member/variable static for `@Value` to work.","body":"Also note.. you cannot make your member/variable static for <code>@Value</code> to work."}],"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676075435,"creation_date":1558064872,"answer_id":56179309,"question_id":30528255,"body_markdown":"Spring Boot allows us several methods to provide externalized configurations. You can try using file *application.yml* or YAML files instead of the property file and provide different property files setup according to different environments.\r\n\r\nWe can separate out the properties for each environment into separate YAML files under separate Spring profiles. Then during deployment you can use:\r\n\r\n```lang-none\r\njava -jar -Drun.profiles=SpringProfileName\r\n```\r\n\r\nto specify which Spring profile to use. Note that the YAML files should be named like\r\n\r\n```lang-none\r\napplication-{environmentName}.yml\r\n```\r\n\r\nfor them to be automatically taken up by Spring Boot.\r\n\r\nReference: *[2. Externalized Configuration][1]*\r\n\r\nTo read from the *application.yml* or property file:\r\n\r\nThe **easiest way** to read a value from the property file or YAML is to use the Spring @value annotation. Spring automatically loads all values from the YAML file to the Spring environment, so we can directly use those values from the environment like:\r\n\r\n    @Component\r\n    public class MySampleBean {\r\n\r\n        @Value(&quot;${name}&quot;)\r\n        private String sampleName;\r\n\r\n        // ...\r\n\r\n    }\r\n\r\nOr another method that Spring provides to read strongly-typed [beans][2] is as follows:\r\n\r\n```lang-none\r\nYML\r\n\r\nymca:\r\n    remote-address: 192.168.1.1\r\n    security:\r\n        username: admin\r\n```\r\n\r\nCorresponding [POJO][3] to read the YAML content:\r\n\r\n    @ConfigurationProperties(&quot;ymca&quot;)\r\n    public class YmcaProperties {\r\n        private InetAddress remoteAddress;\r\n        private final Security security = new Security();\r\n        public boolean isEnabled() { ... }\r\n        public void setEnabled(boolean enabled) { ... }\r\n        public InetAddress getRemoteAddress() { ... }\r\n        public void setRemoteAddress(InetAddress remoteAddress) { ... }\r\n        public Security getSecurity() { ... }\r\n        public static class Security {\r\n            private String username;\r\n            private String password;\r\n            public String getUsername() { ... }\r\n            public void setUsername(String username) { ... }\r\n            public String getPassword() { ... }\r\n            public void setPassword(String password) { ... }\r\n        }\r\n    }\r\n\r\nThe above method works well with YAML files.\r\n\r\nReference: *[2. Externalized Configuration][4]*\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\r\n  [2]: https://en.wikipedia.org/wiki/NetBeans\r\n  [3]: https://en.wikipedia.org/wiki/Plain_old_Java_object\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Spring Boot allows us several methods to provide externalized configurations. You can try using file <em>application.yml</em> or YAML files instead of the property file and provide different property files setup according to different environments.</p>\n<p>We can separate out the properties for each environment into separate YAML files under separate Spring profiles. Then during deployment you can use:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -jar -Drun.profiles=SpringProfileName\n</code></pre>\n<p>to specify which Spring profile to use. Note that the YAML files should be named like</p>\n<pre class=\"lang-none prettyprint-override\"><code>application-{environmentName}.yml\n</code></pre>\n<p>for them to be automatically taken up by Spring Boot.</p>\n<p>Reference: <em><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\" rel=\"nofollow noreferrer\">2. Externalized Configuration</a></em></p>\n<p>To read from the <em>application.yml</em> or property file:</p>\n<p>The <strong>easiest way</strong> to read a value from the property file or YAML is to use the Spring @value annotation. Spring automatically loads all values from the YAML file to the Spring environment, so we can directly use those values from the environment like:</p>\n<pre><code>@Component\npublic class MySampleBean {\n\n    @Value(&quot;${name}&quot;)\n    private String sampleName;\n\n    // ...\n\n}\n</code></pre>\n<p>Or another method that Spring provides to read strongly-typed <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">beans</a> is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>YML\n\nymca:\n    remote-address: 192.168.1.1\n    security:\n        username: admin\n</code></pre>\n<p>Corresponding <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> to read the YAML content:</p>\n<pre><code>@ConfigurationProperties(&quot;ymca&quot;)\npublic class YmcaProperties {\n    private InetAddress remoteAddress;\n    private final Security security = new Security();\n    public boolean isEnabled() { ... }\n    public void setEnabled(boolean enabled) { ... }\n    public InetAddress getRemoteAddress() { ... }\n    public void setRemoteAddress(InetAddress remoteAddress) { ... }\n    public Security getSecurity() { ... }\n    public static class Security {\n        private String username;\n        private String password;\n        public String getUsername() { ... }\n        public void setUsername(String username) { ... }\n        public String getPassword() { ... }\n        public void setPassword(String password) { ... }\n    }\n}\n</code></pre>\n<p>The above method works well with YAML files.</p>\n<p>Reference: <em><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">2. Externalized Configuration</a></em></p>\n"},{"tags":[],"owner":{"account_id":15647963,"reputation":89,"user_id":11289812,"display_name":"Rapalagui"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676074289,"creation_date":1566389186,"answer_id":57591245,"question_id":30528255,"body_markdown":"For me, none of the above did directly work for me.\r\nI did the following:\r\n\r\nIn addition to [Rodrigo Villalba Zayas&#39; answer][1], I added `implements InitializingBean` to the class and implemented the method\r\n\r\n    @Override\r\n    public void afterPropertiesSet() {\r\n        String path = env.getProperty(&quot;userBucket.path&quot;);\r\n    }\r\n\r\nSo that will look like\r\n\r\n    import org.springframework.core.env.Environment;\r\n    public class xyz implements InitializingBean {\r\n\r\n        @Autowired\r\n        private Environment env;\r\n        private String path;\r\n\r\n        ....\r\n\r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            path = env.getProperty(&quot;userBucket.path&quot;);\r\n        }\r\n\r\n        public void method() {\r\n            System.out.println(&quot;Path: &quot; + path);\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot/38314645#38314645\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>For me, none of the above did directly work for me.\nI did the following:</p>\n<p>In addition to <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot/38314645#38314645\">Rodrigo Villalba Zayas' answer</a>, I added <code>implements InitializingBean</code> to the class and implemented the method</p>\n<pre><code>@Override\npublic void afterPropertiesSet() {\n    String path = env.getProperty(&quot;userBucket.path&quot;);\n}\n</code></pre>\n<p>So that will look like</p>\n<pre><code>import org.springframework.core.env.Environment;\npublic class xyz implements InitializingBean {\n\n    @Autowired\n    private Environment env;\n    private String path;\n\n    ....\n\n    @Override\n    public void afterPropertiesSet() {\n        path = env.getProperty(&quot;userBucket.path&quot;);\n    }\n\n    public void method() {\n        System.out.println(&quot;Path: &quot; + path);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":95213,"reputation":191,"user_id":259455,"display_name":"Eric Kramer"},"score":1,"creation_date":1676494550,"post_id":57592069,"comment_id":133150615,"body_markdown":"Don&#39;t forget (1) the class should be annotated with something like `@Component`, and (2) you cannot make your member/variable static for `@Value` to work.","body":"Don&#39;t forget (1) the class should be annotated with something like <code>@Component</code>, and (2) you cannot make your member/variable static for <code>@Value</code> to work."}],"tags":[],"owner":{"account_id":8196165,"reputation":293,"user_id":6628739,"accept_rate":75,"display_name":"Naresh Bhadke"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1676074380,"creation_date":1566391862,"answer_id":57592069,"question_id":30528255,"body_markdown":"The best ways to get property values are using:\r\n\r\n**1. Using Value annotation**\r\n\r\n    @Value(&quot;${property.key}&quot;)\r\n    private String propertyKeyVariable;\r\n\r\n**2. Using the *Environment* bean**\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    public String getValue() {\r\n        return env.getProperty(&quot;property.key&quot;);\r\n    }\r\n\r\n    public void display() {\r\n        System.out.println(&quot;# Value : &quot; + getValue);\r\n    }\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>The best ways to get property values are using:</p>\n<p><strong>1. Using Value annotation</strong></p>\n<pre><code>@Value(&quot;${property.key}&quot;)\nprivate String propertyKeyVariable;\n</code></pre>\n<p><strong>2. Using the <em>Environment</em> bean</strong></p>\n<pre><code>@Autowired\nprivate Environment env;\n\npublic String getValue() {\n    return env.getProperty(&quot;property.key&quot;);\n}\n\npublic void display() {\n    System.out.println(&quot;# Value : &quot; + getValue);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":556436,"reputation":2953,"user_id":300986,"accept_rate":89,"display_name":"bmauter"},"score":0,"creation_date":1586182683,"post_id":58097643,"comment_id":108026761,"body_markdown":"What if the default location is overridden with `spring.config.location`?  Does #2 still work?","body":"What if the default location is overridden with <code>spring.config.location</code>?  Does #2 still work?"},{"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1586193000,"post_id":58097643,"comment_id":108032803,"body_markdown":"In such case, priority comes into the place. As per i know when you set spring.config.location using command line it have high priority so it override existing one.","body":"In such case, priority comes into the place. As per i know when you set spring.config.location using command line it have high priority so it override existing one."},{"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"score":2,"creation_date":1623848426,"post_id":58097643,"comment_id":120194386,"body_markdown":"Many thanks for this &gt;&gt; &quot;In my experience there are some situations when you are not able to get the value or it is set to null. For instance, when you try to set it in a preConstruct() method or an init() method. This happens because the value injection happens after the class is fully constructed. This is why it is better to use the 3&#39;rd option.&quot;&lt;&lt;","body":"Many thanks for this &gt;&gt; &quot;In my experience there are some situations when you are not able to get the value or it is set to null. For instance, when you try to set it in a preConstruct() method or an init() method. This happens because the value injection happens after the class is fully constructed. This is why it is better to use the 3&#39;rd option.&quot;&lt;&lt;"}],"tags":[],"owner":{"account_id":13059268,"reputation":2333,"user_id":9437031,"display_name":"Dhwanil Patel"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1676074972,"creation_date":1569412009,"answer_id":58097643,"question_id":30528255,"body_markdown":"Currently, I know about the following three ways:\r\n\r\n**1. The `@Value` annotation**\r\n\r\n    @Value(&quot;${&lt;property.name&gt;}&quot;)\r\n    private static final &lt;datatype&gt; PROPERTY_NAME;\r\n\r\n   - In my experience there are some situations when you are not\r\nable to get the value or it is set to `null`.\r\nFor instance, when you try to set it in a `preConstruct()` method or an `init()` method. This happens because the value injection happens after the class is fully constructed. This is why it is better to use the third option.\r\n\r\n\r\n**2. The `@PropertySource` annotation**\r\n\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n\r\n    // &#39;env&#39; is an Environment variable\r\n    env.getProperty(configKey);\r\n\r\n  - `PropertySouce` sets values from the property source file in an `Environment` variable (in your class) when the class is loaded.\r\nSo you able to fetch easily afterword.\r\n   - Accessible through System Environment variable.\r\n\r\n**3. The `@ConfigurationProperties` annotation.**\r\n\r\n - This is mostly used in Spring projects to load configuration properties.\r\n - It initializes an entity based on property data.\r\n- `@ConfigurationProperties` identifies the property file to load.\r\n- `@Configuration` creates a bean based on configuration file variables.\r\n\r\n\r\n    &lt;pre&gt;@ConfigurationProperties(prefix = &quot;user&quot;)\r\n    @Configuration(&quot;UserData&quot;)\r\n    class user {\r\n      // Property &amp; their getter / setter\r\n    }\r\n\r\n    @Autowired\r\n    private UserData userData;\r\n\r\n    userData.getPropertyName();&lt;/pre&gt;\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Currently, I know about the following three ways:</p>\n<p><strong>1. The <code>@Value</code> annotation</strong></p>\n<pre><code>@Value(&quot;${&lt;property.name&gt;}&quot;)\nprivate static final &lt;datatype&gt; PROPERTY_NAME;\n</code></pre>\n<ul>\n<li>In my experience there are some situations when you are not\nable to get the value or it is set to <code>null</code>.\nFor instance, when you try to set it in a <code>preConstruct()</code> method or an <code>init()</code> method. This happens because the value injection happens after the class is fully constructed. This is why it is better to use the third option.</li>\n</ul>\n<p><strong>2. The <code>@PropertySource</code> annotation</strong></p>\n<pre><code>@PropertySource(&quot;classpath:application.properties&quot;)\n\n// 'env' is an Environment variable\nenv.getProperty(configKey);\n</code></pre>\n<ul>\n<li><code>PropertySouce</code> sets values from the property source file in an <code>Environment</code> variable (in your class) when the class is loaded.\nSo you able to fetch easily afterword.</li>\n<li>Accessible through System Environment variable.</li>\n</ul>\n<p><strong>3. The <code>@ConfigurationProperties</code> annotation.</strong></p>\n<ul>\n<li><p>This is mostly used in Spring projects to load configuration properties.</p>\n</li>\n<li><p>It initializes an entity based on property data.</p>\n</li>\n<li><p><code>@ConfigurationProperties</code> identifies the property file to load.</p>\n</li>\n<li><p><code>@Configuration</code> creates a bean based on configuration file variables.</p>\n  <pre>@ConfigurationProperties(prefix = \"user\")\n  @Configuration(\"UserData\")\n  class user {\n    // Property & their getter / setter\n  }\n\n  @Autowired\n  private UserData userData;\n\n  userData.getPropertyName();</pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676075052,"creation_date":1570700258,"answer_id":58319880,"question_id":30528255,"body_markdown":"The best thing is to use the `@Value` annotation. It will automatically assign a value to your object `private Environment en`.\r\n\r\nThis will reduce your code, and it will be easy to filter your files.\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>The best thing is to use the <code>@Value</code> annotation. It will automatically assign a value to your object <code>private Environment en</code>.</p>\n<p>This will reduce your code, and it will be easy to filter your files.</p>\n"},{"comments":[{"owner":{"account_id":243818,"reputation":660,"user_id":516221,"accept_rate":100,"display_name":"Louis"},"score":0,"creation_date":1630074202,"post_id":58889595,"comment_id":121864239,"body_markdown":"Where is setUrl defined? How come I get a compiler error. Actually I&#39;m more interested in setPassword if possible. Thanks.","body":"Where is setUrl defined? How come I get a compiler error. Actually I&#39;m more interested in setPassword if possible. Thanks."},{"owner":{"account_id":95213,"reputation":191,"user_id":259455,"display_name":"Eric Kramer"},"score":0,"creation_date":1676494526,"post_id":58889595,"comment_id":133150606,"body_markdown":"For #1 above, don&#39;t forget (1) the class should be annotated with something like `@Component`, and (2) you cannot make your member/variable static for `@Value` to work.","body":"For #1 above, don&#39;t forget (1) the class should be annotated with something like <code>@Component</code>, and (2) you cannot make your member/variable static for <code>@Value</code> to work."}],"tags":[],"owner":{"account_id":17111412,"reputation":129,"user_id":12382107,"display_name":"sai"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676075121,"creation_date":1573898756,"answer_id":58889595,"question_id":30528255,"body_markdown":" 1. Injecting a property with the @Value annotation is straightforward:\r\n\r\n        @Value(&quot;${jdbc.url}&quot;)\r\n        private String jdbcUrl;\r\n\r\n 2. We can obtain the value of a property using the *Environment* API\r\n\r\n        @Autowired\r\n        private Environment env;\r\n        ...\r\n        dataSource.setUrl(env.getProperty(&quot;jdbc.url&quot;));\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<ol>\n<li><p>Injecting a property with the @Value annotation is straightforward:</p>\n<pre><code>@Value(&quot;${jdbc.url}&quot;)\nprivate String jdbcUrl;\n</code></pre>\n</li>\n<li><p>We can obtain the value of a property using the <em>Environment</em> API</p>\n<pre><code>@Autowired\nprivate Environment env;\n...\ndataSource.setUrl(env.getProperty(&quot;jdbc.url&quot;));\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15536211,"reputation":241,"user_id":11208348,"display_name":"Fazle Subhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1676076593,"creation_date":1583225334,"answer_id":60503321,"question_id":30528255,"body_markdown":"Follow these steps.\r\n\r\n1. Create your configuration class like below. You can see:\r\n\r\n    ```\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n\r\n    @Configuration\r\n    public class YourConfiguration {\r\n\r\n        // Passing the key which you set in application.properties\r\n        @Value(&quot;${userBucket.path}&quot;)\r\n        private String userBucket;\r\n\r\n        // Getting the value from that key which\r\n        // you set in application.properties\r\n        @Bean\r\n        public String getUserBucketPath() {\r\n            return userBucket;\r\n        }\r\n    }\r\n    ```\r\n\r\n2. When you have a configuration class then inject in the variable from a configuration where you need.\r\n\r\n    ```\r\n    @Component\r\n    public class YourService {\r\n\r\n        @Autowired\r\n        private String getUserBucketPath;\r\n\r\n        // Now you have a value in the getUserBucketPath\r\n        // variable automatically.\r\n    }\r\n    ```\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Follow these steps.</p>\n<ol>\n<li><p>Create your configuration class like below. You can see:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.beans.factory.annotation.Value;\n\n@Configuration\npublic class YourConfiguration {\n\n    // Passing the key which you set in application.properties\n    @Value(&quot;${userBucket.path}&quot;)\n    private String userBucket;\n\n    // Getting the value from that key which\n    // you set in application.properties\n    @Bean\n    public String getUserBucketPath() {\n        return userBucket;\n    }\n}\n</code></pre>\n</li>\n<li><p>When you have a configuration class then inject in the variable from a configuration where you need.</p>\n<pre><code>@Component\npublic class YourService {\n\n    @Autowired\n    private String getUserBucketPath;\n\n    // Now you have a value in the getUserBucketPath\n    // variable automatically.\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676076837,"creation_date":1583772149,"answer_id":60604941,"question_id":30528255,"body_markdown":"There are two ways,\r\n\r\n1. you can directly use `@Value` in your class\r\n\r\n    ```java\r\n    @Value(&quot;#{&#39;${application yml field name}&#39;}&quot;)\r\n    public String ymlField;\r\n    ```\r\n\r\n*Or*\r\n\r\n 2. To make it clean you can clean `@Configuration` class where you can add all your `@value`\r\n\r\n    ```java\r\n    @Configuration\r\n    public class AppConfig {\r\n\r\n        @Value(&quot;#{&#39;${application yml field name}&#39;}&quot;)\r\n        public String ymlField;\r\n    }\r\n    ```\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are two ways,</p>\n<ol>\n<li><p>you can directly use <code>@Value</code> in your class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;#{'${application yml field name}'}&quot;)\npublic String ymlField;\n</code></pre>\n</li>\n</ol>\n<p><em>Or</em></p>\n<ol start=\"2\">\n<li><p>To make it clean you can clean <code>@Configuration</code> class where you can add all your <code>@value</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Value(&quot;#{'${application yml field name}'}&quot;)\n    public String ymlField;\n}\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676077026,"post_id":61794669,"comment_id":133071549,"body_markdown":"`connection_srting` can&#39;t be right.","body":"<code>connection_srting</code> can&#39;t be right."}],"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676076951,"creation_date":1589450941,"answer_id":61794669,"question_id":30528255,"body_markdown":"An application can read three types of values from the *application.properties* file.\r\n\r\n**application.properties**\r\n ---------------------\r\n\r\n    my.name = kelly\r\n\r\n    my.dbConnection = {connection_srting:&#39;http://localhost:...&#39;, username:&#39;benz&#39;, password:&#39;pwd&#39;}\r\n\r\n\r\nClass file\r\n-----------------\r\n\r\n    @Value(&quot;${my.name}&quot;)\r\n    private String name;\r\n\r\n    @Value(&quot;#{${my.dbConnection}}&quot;)\r\n    private Map&lt;String,String&gt; dbValues;\r\n\r\nIf you don&#39;t have a property in *application.properties* then you can use the default value:\r\n\r\n    @Value(&quot;${your_name: default value}&quot;)\r\n    private String msg;\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>An application can read three types of values from the <em>application.properties</em> file.</p>\n<h2><strong>application.properties</strong></h2>\n<pre><code>my.name = kelly\n\nmy.dbConnection = {connection_srting:'http://localhost:...', username:'benz', password:'pwd'}\n</code></pre>\n<h2>Class file</h2>\n<pre><code>@Value(&quot;${my.name}&quot;)\nprivate String name;\n\n@Value(&quot;#{${my.dbConnection}}&quot;)\nprivate Map&lt;String,String&gt; dbValues;\n</code></pre>\n<p>If you don't have a property in <em>application.properties</em> then you can use the default value:</p>\n<pre><code>@Value(&quot;${your_name: default value}&quot;)\nprivate String msg;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17945275,"reputation":649,"user_id":13039704,"display_name":"Seldo97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676077995,"creation_date":1595419002,"answer_id":63033635,"question_id":30528255,"body_markdown":"I had this problem too. But there is a very simple solution. Just declare your variable in the constructor.\r\n\r\nMy example:\r\n\r\n**application.propperties:**\r\n\r\n    #Session\r\n    session.timeout=15\r\n\r\n**SessionServiceImpl class:**\r\n\r\n    private final int SESSION_TIMEOUT;\r\n    private final SessionRepository sessionRepository;\r\n\r\n    @Autowired\r\n    public SessionServiceImpl(@Value(&quot;${session.timeout}&quot;) int sessionTimeout,\r\n                              SessionRepository sessionRepository) {\r\n        this.SESSION_TIMEOUT = sessionTimeout;\r\n        this.sessionRepository = sessionRepository;\r\n    }\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>I had this problem too. But there is a very simple solution. Just declare your variable in the constructor.</p>\n<p>My example:</p>\n<p><strong>application.propperties:</strong></p>\n<pre><code>#Session\nsession.timeout=15\n</code></pre>\n<p><strong>SessionServiceImpl class:</strong></p>\n<pre><code>private final int SESSION_TIMEOUT;\nprivate final SessionRepository sessionRepository;\n\n@Autowired\npublic SessionServiceImpl(@Value(&quot;${session.timeout}&quot;) int sessionTimeout,\n                          SessionRepository sessionRepository) {\n    this.SESSION_TIMEOUT = sessionTimeout;\n    this.sessionRepository = sessionRepository;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9608243,"reputation":87,"user_id":7133567,"display_name":"BRAIEK AYEMN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676080836,"creation_date":1596458877,"answer_id":63229744,"question_id":30528255,"body_markdown":"You can use @ConfigurationProperties. It&#39;s simple and easy to access a value defined in *application.properties*:\r\n\r\n```lang-none\r\n# Datasource\r\napp.datasource.first.jdbc-url=jdbc:mysql://x.x.x.x:3306/ovtools?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\napp.datasource.first.username=\r\napp.datasource.first.password=\r\napp.datasource.first.driver-class-name=com.mysql.cj.jdbc.Driver\r\nserver.port=8686\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.database=mysql\r\n```\r\n\r\n\r\n&lt;br&gt;\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n        @Bean(name = &quot;tracenvDb&quot;)\r\n        @Primary\r\n        @ConfigurationProperties(prefix = &quot;app.datasource.first&quot;)\r\n        public DataSource mysqlDataSourceanomalie() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n\r\n        @Bean(name = &quot;JdbcTemplateenv&quot;)\r\n        public JdbcTemplate jdbcTemplateanomalie(@Qualifier(&quot;tracenvDb&quot;) DataSource datasourcetracenv) {\r\n            return new JdbcTemplate(datasourcetracenv);\r\n        }\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use @ConfigurationProperties. It's simple and easy to access a value defined in <em>application.properties</em>:</p>\n<pre class=\"lang-none prettyprint-override\"><code># Datasource\napp.datasource.first.jdbc-url=jdbc:mysql://x.x.x.x:3306/ovtools?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\napp.datasource.first.username=\napp.datasource.first.password=\napp.datasource.first.driver-class-name=com.mysql.cj.jdbc.Driver\nserver.port=8686\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=true\nspring.jpa.database=mysql\n</code></pre>\n<br>\n<pre><code>@Slf4j\n@Configuration\npublic class DataSourceConfig {\n    @Bean(name = &quot;tracenvDb&quot;)\n    @Primary\n    @ConfigurationProperties(prefix = &quot;app.datasource.first&quot;)\n    public DataSource mysqlDataSourceanomalie() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;JdbcTemplateenv&quot;)\n    public JdbcTemplate jdbcTemplateanomalie(@Qualifier(&quot;tracenvDb&quot;) DataSource datasourcetracenv) {\n        return new JdbcTemplate(datasourcetracenv);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20260580,"reputation":135,"user_id":14859042,"display_name":"codeforHarman"},"score":0,"creation_date":1673516462,"post_id":63334369,"comment_id":132518446,"body_markdown":"Thanks for this, helped in case where i couldn&#39;t CDI :)","body":"Thanks for this, helped in case where i couldn&#39;t CDI :)"}],"tags":[],"owner":{"account_id":8751003,"reputation":146,"user_id":6544271,"display_name":"Shreyanshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1597036765,"creation_date":1597035628,"answer_id":63334369,"question_id":30528255,"body_markdown":" You can use `@Value(&quot;${property-name}&quot;)` from the\r\n   application.properties if your class is annotated with\r\n   `@Configuration` or `@Component`.\r\n\r\nThere&#39;s one more way I tried out was making a Utility class to read properties in the following way - \r\n\r\n     protected PropertiesUtility () throws IOException {\r\n\t\tproperties = new Properties();\r\n\t\tInputStream inputStream = \r\n       getClass().getClassLoader().getResourceAsStream(&quot;application.properties&quot;);\r\n\t\tproperties.load(inputStream);\r\n\t}\r\n \r\n\r\nYou can make use of static method to get the value of the key passed as the parameter.\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use <code>@Value(&quot;${property-name}&quot;)</code> from the\napplication.properties if your class is annotated with\n<code>@Configuration</code> or <code>@Component</code>.</p>\n<p>There's one more way I tried out was making a Utility class to read properties in the following way -</p>\n<pre><code> protected PropertiesUtility () throws IOException {\n    properties = new Properties();\n    InputStream inputStream = \n   getClass().getClassLoader().getResourceAsStream(&quot;application.properties&quot;);\n    properties.load(inputStream);\n}\n</code></pre>\n<p>You can make use of static method to get the value of the key passed as the parameter.</p>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":1,"creation_date":1605634064,"post_id":63498960,"comment_id":114708706,"body_markdown":"form which library value you imported?","body":"form which library value you imported?"},{"owner":{"account_id":95213,"reputation":191,"user_id":259455,"display_name":"Eric Kramer"},"score":0,"creation_date":1676494504,"post_id":63498960,"comment_id":133150597,"body_markdown":"Don&#39;t forget (1) the class should be annotated with something like `@Component`, and (2) you cannot make your member/variable static for `@Value` to work.","body":"Don&#39;t forget (1) the class should be annotated with something like <code>@Component</code>, and (2) you cannot make your member/variable static for <code>@Value</code> to work."}],"tags":[],"owner":{"account_id":19334518,"reputation":111,"user_id":14135348,"display_name":"Manju D"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597905577,"creation_date":1597902299,"answer_id":63498960,"question_id":30528255,"body_markdown":"You can use the `@Value` annotation for reading values from an application.properties/yml file.\r\n\r\n```java\r\n@Value(&quot;${application.name}&quot;)\r\nprivate String applicationName;\r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the <code>@Value</code> annotation for reading values from an application.properties/yml file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${application.name}&quot;)\nprivate String applicationName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19648020,"reputation":81,"user_id":14382554,"display_name":"Shubham Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676078281,"creation_date":1602685516,"answer_id":64355454,"question_id":30528255,"body_markdown":"There are two ways to access the value from the *application.properties* file:\r\n\r\n1. Using the @Value annotation\r\n\r\n    ```\r\n    @Value(&quot;${property-name}&quot;)\r\n    private data_type var_name;\r\n    ```\r\n\r\n2. Using an instance of the *Environment* class\r\n\r\n    ````\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    // Access this way in the method where it&#39;s required\r\n\r\n    data_type var_name = environment.getProperty(&quot;property-name&quot;);\r\n    ````\r\n\r\nYou can also inject an instance of the environment using constructor injection or creating a bean yourself.\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are two ways to access the value from the <em>application.properties</em> file:</p>\n<ol>\n<li><p>Using the @Value annotation</p>\n<pre><code>@Value(&quot;${property-name}&quot;)\nprivate data_type var_name;\n</code></pre>\n</li>\n<li><p>Using an instance of the <em>Environment</em> class</p>\n<pre><code>@Autowired\nprivate Environment environment;\n\n// Access this way in the method where it's required\n\ndata_type var_name = environment.getProperty(&quot;property-name&quot;);\n</code></pre>\n</li>\n</ol>\n<p>You can also inject an instance of the environment using constructor injection or creating a bean yourself.</p>\n"},{"comments":[{"owner":{"account_id":10110007,"reputation":963,"user_id":7471307,"accept_rate":57,"display_name":"Artanis Zeratul"},"score":0,"creation_date":1617659756,"post_id":64399557,"comment_id":118360804,"body_markdown":"how about objects?","body":"how about objects?"}],"tags":[],"owner":{"account_id":8808403,"reputation":290,"user_id":6582191,"display_name":"Duleepa Wickramasinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1603079435,"creation_date":1602915420,"answer_id":64399557,"question_id":30528255,"body_markdown":"**@Value** Spring annotation is used for injecting values into fields in Spring-manged beans, and it can be applied to the field or constructor/method parameter level.\r\n\r\nExamples\r\n\r\n1. **String** value from the annotation to the field\r\n```java\r\n    @Value(&quot;string value identifire in property file&quot;)\r\n    private String stringValue;\r\n```\r\n2. We can also use the @Value annotation to inject a **Map** property.\r\n\r\n   First, we&#39;ll need to define the property in the `{key: ‚Äòvalue&#39; }` form in our properties file:\r\n```java\r\n   valuesMap={key1: &#39;1&#39;, key2: &#39;2&#39;, key3: &#39;3&#39;}\r\n```\r\n   Not that the values in the Map must be in single quotes.\r\n\r\n   Now inject this value from the property file as a Map: \r\n```java\r\n   @Value(&quot;#{${valuesMap}}&quot;)\r\n   private Map&lt;String, Integer&gt; valuesMap;\r\n```\r\n   To get the value of a specific key\r\n```java\r\n   @Value(&quot;#{${valuesMap}.key1}&quot;)\r\n   private Integer valuesMapKey1;\r\n```\r\n3. We can also use the @Value annotation to inject a **List** property.\r\n```java\r\n   @Value(&quot;#{&#39;${listOfValues}&#39;.split(&#39;,&#39;)}&quot;)\r\n   private List&lt;String&gt; valuesList;\r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p><strong>@Value</strong> Spring annotation is used for injecting values into fields in Spring-manged beans, and it can be applied to the field or constructor/method parameter level.</p>\n<p>Examples</p>\n<ol>\n<li><strong>String</strong> value from the annotation to the field</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @Value(&quot;string value identifire in property file&quot;)\n    private String stringValue;\n</code></pre>\n<ol start=\"2\">\n<li><p>We can also use the @Value annotation to inject a <strong>Map</strong> property.</p>\n<p>First, we'll need to define the property in the <code>{key: ‚Äòvalue' }</code> form in our properties file:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   valuesMap={key1: '1', key2: '2', key3: '3'}\n</code></pre>\n<p>Not that the values in the Map must be in single quotes.</p>\n<p>Now inject this value from the property file as a Map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Value(&quot;#{${valuesMap}}&quot;)\n   private Map&lt;String, Integer&gt; valuesMap;\n</code></pre>\n<p>To get the value of a specific key</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Value(&quot;#{${valuesMap}.key1}&quot;)\n   private Integer valuesMapKey1;\n</code></pre>\n<ol start=\"3\">\n<li>We can also use the @Value annotation to inject a <strong>List</strong> property.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>   @Value(&quot;#{'${listOfValues}'.split(',')}&quot;)\n   private List&lt;String&gt; valuesList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11465683,"reputation":99,"user_id":8836967,"display_name":"yatheendra k v"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676078489,"creation_date":1609236475,"answer_id":65490481,"question_id":30528255,"body_markdown":"Try class [PropertiesLoaderUtils][1]. This approach doesn‚Äôt use any annotation of Spring Boot. It is a traditional class way.\r\n\r\nExample:\r\n\r\n    Resource resource = new ClassPathResource(&quot;/application.properties&quot;);\r\n    Properties props = PropertiesLoaderUtils.loadProperties(resource);\r\n    String url_server=props.getProperty(&quot;server_url&quot;);\r\n\r\nUse the getProperty() method to pass the key and access the value in the properties file.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/org/springframework/core/io/support/PropertiesLoaderUtils.html\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Try class <a href=\"https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/org/springframework/core/io/support/PropertiesLoaderUtils.html\" rel=\"nofollow noreferrer\">PropertiesLoaderUtils</a>. This approach doesn‚Äôt use any annotation of Spring Boot. It is a traditional class way.</p>\n<p>Example:</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;/application.properties&quot;);\nProperties props = PropertiesLoaderUtils.loadProperties(resource);\nString url_server=props.getProperty(&quot;server_url&quot;);\n</code></pre>\n<p>Use the getProperty() method to pass the key and access the value in the properties file.</p>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676078744,"creation_date":1609834986,"answer_id":65575303,"question_id":30528255,"body_markdown":"To pick the values from property file, we can have a *Config* reader class, something like *ApplicationConfigReader.java*.\r\nThen define all the variables against properties. Refer to the below example,\r\n\r\n    application.properties\r\n\r\n    myapp.nationality: INDIAN\r\n    myapp.gender: Male\r\n\r\nBelow is the corresponding reader class.\r\n\r\n    @Component\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n    class AppConfigReader{\r\n        private String nationality;\r\n        private String gender\r\n\r\n        // Getter and setter\r\n    }\r\n\r\nNow we can auto-wire the reader class wherever we want to access property values.\r\n\r\nE.g.,\r\n\r\n    @Service\r\n    class ServiceImpl{\r\n        @Autowired\r\n        private AppConfigReader appConfigReader;\r\n\r\n        //...\r\n        // Fetching values from the configuration reader\r\n        String nationality = appConfigReader.getNationality() ;\r\n        String gender = appConfigReader.getGender();\r\n    }\r\n\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>To pick the values from property file, we can have a <em>Config</em> reader class, something like <em>ApplicationConfigReader.java</em>.\nThen define all the variables against properties. Refer to the below example,</p>\n<pre><code>application.properties\n\nmyapp.nationality: INDIAN\nmyapp.gender: Male\n</code></pre>\n<p>Below is the corresponding reader class.</p>\n<pre><code>@Component\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\nclass AppConfigReader{\n    private String nationality;\n    private String gender\n\n    // Getter and setter\n}\n</code></pre>\n<p>Now we can auto-wire the reader class wherever we want to access property values.</p>\n<p>E.g.,</p>\n<pre><code>@Service\nclass ServiceImpl{\n    @Autowired\n    private AppConfigReader appConfigReader;\n\n    //...\n    // Fetching values from the configuration reader\n    String nationality = appConfigReader.getNationality() ;\n    String gender = appConfigReader.getGender();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8116950,"reputation":436,"user_id":6115152,"accept_rate":100,"display_name":"LazyAnalyst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615884726,"creation_date":1615884726,"answer_id":66651846,"question_id":30528255,"body_markdown":"**application.yml or application.properties**\r\n\r\n    config.value1: 10\r\n    config.value2: 20\r\n    config.str: This is a simle str\r\n\r\n**MyConfig class**\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;config&quot;)\r\n    public class MyConfig {\r\n        int value1;\r\n        int value2;\r\n        String str;\r\n\r\n        public int getValue1() {\r\n            return value1;\r\n        }\r\n\r\n        // Add the rest of getters here...      \r\n        // Values are already mapped in this class. You can access them via getters.\r\n    }\r\n\r\n**Any class that wants to access config values**\r\n\r\n    @Import(MyConfig.class)\r\n    class MyClass {\r\n        private MyConfig myConfig;\r\n\r\n        @Autowired\r\n        public MyClass(MyConfig myConfig) {\r\n            this.myConfig = myConfig;\r\n            System.out.println( myConfig.getValue1() );\r\n        }\r\n    }\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p><strong>application.yml or application.properties</strong></p>\n<pre><code>config.value1: 10\nconfig.value2: 20\nconfig.str: This is a simle str\n</code></pre>\n<p><strong>MyConfig class</strong></p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;config&quot;)\npublic class MyConfig {\n    int value1;\n    int value2;\n    String str;\n\n    public int getValue1() {\n        return value1;\n    }\n\n    // Add the rest of getters here...      \n    // Values are already mapped in this class. You can access them via getters.\n}\n</code></pre>\n<p><strong>Any class that wants to access config values</strong></p>\n<pre><code>@Import(MyConfig.class)\nclass MyClass {\n    private MyConfig myConfig;\n\n    @Autowired\n    public MyClass(MyConfig myConfig) {\n        this.myConfig = myConfig;\n        System.out.println( myConfig.getValue1() );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12807728,"reputation":311,"user_id":10891247,"display_name":"ZahraAsgharzade"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676080866,"creation_date":1618375276,"answer_id":67085637,"question_id":30528255,"body_markdown":"You should inject `@Autowired private Environment env;` from `import org.springframework.core.env.Environment;`\r\n\r\nAnd then use it this way: \r\n\r\n`env.getProperty(&quot;yourPropertyNameInApplication.properties&quot;)`\r\n\r\n\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You should inject <code>@Autowired private Environment env;</code> from <code>import org.springframework.core.env.Environment;</code></p>\n<p>And then use it this way:</p>\n<p><code>env.getProperty(&quot;yourPropertyNameInApplication.properties&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":5796459,"reputation":31,"user_id":4572126,"display_name":"Hammad Allauddin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676081112,"creation_date":1627422044,"answer_id":68552061,"question_id":30528255,"body_markdown":"You can use the @Value annotation and access the property in a Spring bean:\r\n\r\n    @Value(&quot;${userBucket.path}&quot;)\r\n    private String userBucketPath;\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can use the @Value annotation and access the property in a Spring bean:</p>\n<pre><code>@Value(&quot;${userBucket.path}&quot;)\nprivate String userBucketPath;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17623291,"reputation":19,"user_id":12788765,"display_name":"Souradeep Banerjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633678373,"creation_date":1633678373,"answer_id":69492145,"question_id":30528255,"body_markdown":"The easiest way would be to use the @Value annotation provided by Spring Boot. You need to define a variable at class level. For example:\r\n\r\n@Value(&quot;${userBucket.path}&quot;)\r\nprivate String userBucketPath\r\n\r\nThere is another way you can do this via the Environment Class. For example:\r\n\r\n1. Autowire the environment variable to your class where you need to access this property:\r\n\r\n@Autowired\r\nprivate Environment environment\r\n\r\n2. Use the environment variable to get the property value in the line you need it using:\r\n\r\nenvironment.getProperty(&quot;userBucket.path&quot;);\r\n\r\nHope this answers your question! ","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>The easiest way would be to use the @Value annotation provided by Spring Boot. You need to define a variable at class level. For example:</p>\n<p>@Value(&quot;${userBucket.path}&quot;)\nprivate String userBucketPath</p>\n<p>There is another way you can do this via the Environment Class. For example:</p>\n<ol>\n<li>Autowire the environment variable to your class where you need to access this property:</li>\n</ol>\n<p>@Autowired\nprivate Environment environment</p>\n<ol start=\"2\">\n<li>Use the environment variable to get the property value in the line you need it using:</li>\n</ol>\n<p>environment.getProperty(&quot;userBucket.path&quot;);</p>\n<p>Hope this answers your question!</p>\n"},{"comments":[{"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"score":0,"creation_date":1653575074,"post_id":70079379,"comment_id":127888798,"body_markdown":"Thanks! That&#39;s how to programmatically get property values.","body":"Thanks! That&#39;s how to programmatically get property values."}],"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637663945,"creation_date":1637663945,"answer_id":70079379,"question_id":30528255,"body_markdown":"Another way to find a key/value in the configuration.\r\n\r\n```java\r\n...\r\nimport org.springframework.core.env.ConfigurableEnvironment;\r\n...\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n\r\n    @Autowired\r\n    private ConfigurableEnvironment  myEnv;\r\n\r\n...\r\n  \r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic void doSomethingAfterStartup() \r\n\tthrows Exception {\r\n\t\t\r\n\t\tLOG.info(&quot;myEnv (userBucket.path): &quot; + myEnv.getProperty(&quot;userBucket.path&quot;));\r\n\t}\r\n} \r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>Another way to find a key/value in the configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nimport org.springframework.core.env.ConfigurableEnvironment;\n...\n@SpringBootApplication\npublic class MyApplication {\n\n    @Autowired\n    private ConfigurableEnvironment  myEnv;\n\n...\n  \n    @EventListener(ApplicationReadyEvent.class)\n    public void doSomethingAfterStartup() \n    throws Exception {\n        \n        LOG.info(&quot;myEnv (userBucket.path): &quot; + myEnv.getProperty(&quot;userBucket.path&quot;));\n    }\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":95213,"reputation":191,"user_id":259455,"display_name":"Eric Kramer"},"score":0,"creation_date":1676494538,"post_id":70285080,"comment_id":133150611,"body_markdown":"Don&#39;t forget (1) the class should be annotated with something like `@Component`, and (2) you cannot make your member/variable static for `@Value` to work.","body":"Don&#39;t forget (1) the class should be annotated with something like <code>@Component</code>, and (2) you cannot make your member/variable static for <code>@Value</code> to work."}],"tags":[],"owner":{"account_id":23595282,"reputation":151,"user_id":17632474,"display_name":"Mohit Kaushal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639027497,"creation_date":1639027383,"answer_id":70285080,"question_id":30528255,"body_markdown":"You can access the application.properties file values by using:\r\n\r\n    @Value(&quot;${key_of_declared_value}&quot;)","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>You can access the application.properties file values by using:</p>\n<pre><code>@Value(&quot;${key_of_declared_value}&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13829807,"reputation":592,"user_id":9983036,"display_name":"Ethan Conner"},"score":0,"creation_date":1644616544,"post_id":70663123,"comment_id":125662966,"body_markdown":"It would be really helpful if you added the import statements for Value, Environment, ad ConfigurationProperties","body":"It would be really helpful if you added the import statements for Value, Environment, ad ConfigurationProperties"},{"owner":{"account_id":95213,"reputation":191,"user_id":259455,"display_name":"Eric Kramer"},"score":0,"creation_date":1676494500,"post_id":70663123,"comment_id":133150594,"body_markdown":"Don&#39;t forget (1) the class should be annotated with something like `@Component`, and (2) you cannot make your member/variable static for `@Value` to work.","body":"Don&#39;t forget (1) the class should be annotated with something like <code>@Component</code>, and (2) you cannot make your member/variable static for <code>@Value</code> to work."}],"tags":[],"owner":{"account_id":5856157,"reputation":282,"user_id":4613329,"accept_rate":71,"display_name":"JavaLearner"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688048575,"creation_date":1641886714,"answer_id":70663123,"question_id":30528255,"body_markdown":"There are 3 ways to read the `application.properties`:\r\n\r\n1st way:\r\n\r\nUsing `@Value`, `EnvironmentInterface` and `@ConfigurationProperties`:\r\n\r\n    @Value(&quot;${userBucket.path}&quot;)\r\n    private String value;\r\n\r\n2nd way:\r\n\r\n    @Autowired\r\n    private Environment environment; // org.springframework.core.env.Environment;\r\n\r\n    String s = environment.getProperty(&quot;userBucket.path&quot;);\r\n\r\n3rd way:\r\n\r\n```java\r\n@ConfigurationProperties(&quot;userbucket&quot;)\r\npublic class Config {\r\n   \r\n    private String path;\r\n\r\n    // getters and setters\r\n}\r\n```  \r\n\r\nCan be read with getters and setters..\r\n\r\nReference - [here][1]\r\n\r\n\r\n  [1]: https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are 3 ways to read the <code>application.properties</code>:</p>\n<p>1st way:</p>\n<p>Using <code>@Value</code>, <code>EnvironmentInterface</code> and <code>@ConfigurationProperties</code>:</p>\n<pre><code>@Value(&quot;${userBucket.path}&quot;)\nprivate String value;\n</code></pre>\n<p>2nd way:</p>\n<pre><code>@Autowired\nprivate Environment environment; // org.springframework.core.env.Environment;\n\nString s = environment.getProperty(&quot;userBucket.path&quot;);\n</code></pre>\n<p>3rd way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(&quot;userbucket&quot;)\npublic class Config {\n   \n    private String path;\n\n    // getters and setters\n}\n</code></pre>\n<p>Can be read with getters and setters..</p>\n<p>Reference - <a href=\"https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":18609341,"reputation":443,"user_id":13562196,"display_name":"Talat El Beick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651424958,"creation_date":1651424958,"answer_id":72078840,"question_id":30528255,"body_markdown":"To read `application.properties` or `application.yml` attributes follow the following steps:\r\n\r\n1. Add your attributes in application.properties or application.yaml\r\n2. Create config class and add your attributes\r\n\r\n\r\n```\r\napplication.jwt.secretKey=value\r\napplication.jwt.tokenPrefix=value\r\napplication.jwt.tokenExpiresAfterDays=value ## 14\r\n```\r\n\r\n```yaml\r\napplication:\r\n  jwt:\r\n    secret-key: value\r\n    token-prefix: value\r\n    token-expires-after-days: value ## 14\r\n```\r\n\r\n```java\r\n@Configuration(&quot;jwtProperties&quot;) // you can leave it empty\r\n@EnableConfigurationProperties\r\n@ConfigurationProperties(prefix = &quot;application.jwt&quot;) // prefix is required\r\npublic class JwtConfig {\r\n    private String secretKey;\r\n    private String tokenPrefix;\r\n    private int tokenExpiresAfterDays;\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nNOTE: in `.yaml` file you have to use kabab-case\r\n\r\nNow to use the config class just instantiate it, you can do this manualy or with dependency injection.\r\n\r\n```java\r\npublic class Target {\r\n\r\n  private final JwtConfig jwtConfig;\r\n\r\n  @Autowired\r\n  public Target(JwtConfig jwtConfig) {\r\n      this.jwtConfig = jwtConfig;\r\n  }\r\n\r\n  // jwtConfig.getSecretKey()\r\n\r\n}\r\n```","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>To read <code>application.properties</code> or <code>application.yml</code> attributes follow the following steps:</p>\n<ol>\n<li>Add your attributes in application.properties or application.yaml</li>\n<li>Create config class and add your attributes</li>\n</ol>\n<pre><code>application.jwt.secretKey=value\napplication.jwt.tokenPrefix=value\napplication.jwt.tokenExpiresAfterDays=value ## 14\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>application:\n  jwt:\n    secret-key: value\n    token-prefix: value\n    token-expires-after-days: value ## 14\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(&quot;jwtProperties&quot;) // you can leave it empty\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = &quot;application.jwt&quot;) // prefix is required\npublic class JwtConfig {\n    private String secretKey;\n    private String tokenPrefix;\n    private int tokenExpiresAfterDays;\n\n    // getters and setters\n}\n</code></pre>\n<p>NOTE: in <code>.yaml</code> file you have to use kabab-case</p>\n<p>Now to use the config class just instantiate it, you can do this manualy or with dependency injection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Target {\n\n  private final JwtConfig jwtConfig;\n\n  @Autowired\n  public Target(JwtConfig jwtConfig) {\n      this.jwtConfig = jwtConfig;\n  }\n\n  // jwtConfig.getSecretKey()\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676082346,"creation_date":1663584961,"answer_id":73772297,"question_id":30528255,"body_markdown":"There are actually three ways to read the *application.properties* file,\r\n\r\nUsing Environment,\r\n\r\n    @Autowired\r\n    Environment environment\r\n\r\n    environment.getProperty({propertyName})\r\n\r\nOr we can use @Value,\r\n\r\n    @Value(&quot;${property}&quot;)\r\n\r\nbut the problem with @Value is it might throw an exception if the value is not in the properties file.\r\n\r\nThe suggested way is using @ConfigurationProperties\r\n\r\n    @ConfigurationProperties(&quot;userBucket&quot;)\r\n    public class test{\r\n      private String path;\r\n      //getters and setters\r\n    }\r\n\r\nFor a detailed example - [Reading application.properties][1].\r\n\r\n  [1]: https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/\r\n","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>There are actually three ways to read the <em>application.properties</em> file,</p>\n<p>Using Environment,</p>\n<pre><code>@Autowired\nEnvironment environment\n\nenvironment.getProperty({propertyName})\n</code></pre>\n<p>Or we can use @Value,</p>\n<pre><code>@Value(&quot;${property}&quot;)\n</code></pre>\n<p>but the problem with @Value is it might throw an exception if the value is not in the properties file.</p>\n<p>The suggested way is using @ConfigurationProperties</p>\n<pre><code>@ConfigurationProperties(&quot;userBucket&quot;)\npublic class test{\n  private String path;\n  //getters and setters\n}\n</code></pre>\n<p>For a detailed example - <a href=\"https://javainfinite.com/spring-boot/how-to-read-values-from-application-properties-in-springboot/\" rel=\"nofollow noreferrer\">Reading application.properties</a>.</p>\n"}],"owner":{"account_id":5862830,"reputation":9248,"user_id":4617914,"accept_rate":12,"display_name":"Qasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978743,"favorite_count":0,"down_vote_count":0,"up_vote_count":555,"accepted_answer_id":30528430,"answer_count":31,"score":555,"last_activity_date":1688048575,"creation_date":1432898368,"question_id":30528255,"body_markdown":"I want to access values provided in `application.properties`, e.g.:\r\n\r\n    logging.level.org.springframework.web: DEBUG\r\n    logging.level.org.hibernate: ERROR\r\n    logging.file=${HOME}/application.log\r\n    \r\n    userBucket.path=${HOME}/bucket\r\n\r\nI want to access `userBucket.path` in my main program in a Spring Boot application.","title":"How to access a value defined in the application.properties file in Spring Boot","body":"<p>I want to access values provided in <code>application.properties</code>, e.g.:</p>\n\n<pre><code>logging.level.org.springframework.web: DEBUG\nlogging.level.org.hibernate: ERROR\nlogging.file=${HOME}/application.log\n\nuserBucket.path=${HOME}/bucket\n</code></pre>\n\n<p>I want to access <code>userBucket.path</code> in my main program in a Spring Boot application.</p>\n"},{"tags":["java","spring","sonarqube"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688048701,"post_id":76581955,"comment_id":135024030,"body_markdown":"If they aren&#39;t injected, what are they then? If this is for keeping state then don&#39;t do it, else you should be injecting it.","body":"If they aren&#39;t injected, what are they then? If this is for keeping state then don&#39;t do it, else you should be injecting it."},{"owner":{"account_id":9902451,"reputation":21,"user_id":7332041,"display_name":"Mariia"},"score":0,"creation_date":1688137632,"post_id":76581955,"comment_id":135038086,"body_markdown":"yes, they are keeping a state, and yes, this is not a good practice. But in my project I see that sometimes they are set to null in the constructor and Sonar is ok with this solution. And I do not understand why is he ok","body":"yes, they are keeping a state, and yes, this is not a good practice. But in my project I see that sometimes they are set to null in the constructor and Sonar is ok with this solution. And I do not understand why is he ok"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688146170,"post_id":76581955,"comment_id":135039779,"body_markdown":"Keeping state is indeed not a good practice and in concurrent situations will lead to errors, simply don&#39;t do this.","body":"Keeping state is indeed not a good practice and in concurrent situations will lead to errors, simply don&#39;t do this."}],"owner":{"account_id":9902451,"reputation":21,"user_id":7332041,"display_name":"Mariia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688048477,"creation_date":1688048477,"question_id":76581955,"body_markdown":"in the current project we are using Sonar for code checking and there is a rule Members of Spring components should be injected (https://rules.sonarsource.com/java/RSPEC-3749/) So let&#39;s say I have a service class with a field which is not neither injected nor static:\r\n\r\n`@Service\r\npublic class myService {\r\n    private  MyObject myObject;\r\n... }`\r\n\r\nIf I declare it as static or if I add initialization by null in constructor (i.e. this.myObject == null) it is ok for Sonar and the rule is not trigged. For the 1 option, if my class is singleton, modificator static should not change anything, is not it? For the second option, in Java objects are initialised as null by default, are not they? Could you please comment? Thank you very much in advance!  ","title":"Sonar: Members of Spring components should be injected","body":"<p>in the current project we are using Sonar for code checking and there is a rule Members of Spring components should be injected (<a href=\"https://rules.sonarsource.com/java/RSPEC-3749/\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-3749/</a>) So let's say I have a service class with a field which is not neither injected nor static:</p>\n<p><code>@Service public class myService { private  MyObject myObject; ... }</code></p>\n<p>If I declare it as static or if I add initialization by null in constructor (i.e. this.myObject == null) it is ok for Sonar and the rule is not trigged. For the 1 option, if my class is singleton, modificator static should not change anything, is not it? For the second option, in Java objects are initialised as null by default, are not they? Could you please comment? Thank you very much in advance!</p>\n"},{"tags":["java","jdeveloper","oc4j"],"answers":[{"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1354717659,"post_id":13725157,"comment_id":18854765,"body_markdown":"i just renamed the class Files, which did not change","body":"i just renamed the class Files, which did not change"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1354717717,"post_id":13725157,"comment_id":18854790,"body_markdown":"renaming didnt help either. So u couldnt fix it?","body":"renaming didnt help either. So u couldnt fix it?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1354717908,"post_id":13725157,"comment_id":18854891,"body_markdown":"In my case it did work to just rename the files, which did not work.","body":"In my case it did work to just rename the files, which did not work."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1354718173,"post_id":13725157,"comment_id":18855022,"body_markdown":"oh k. Thank you! I dont know what else can help. it behaves weird.","body":"oh k. Thank you! I dont know what else can help. it behaves weird."}],"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354716828,"creation_date":1354716828,"answer_id":13725157,"question_id":13725071,"body_markdown":"I just had The same Problem, renaming The classes, Files, and whatever was not working, solved the Problem. Sadly this happens pretty often","title":"latest compiled files are not taken by Jdeveloper","body":"<p>I just had The same Problem, renaming The classes, Files, and whatever was not working, solved the Problem. Sadly this happens pretty often</p>\n"},{"tags":[],"owner":{"account_id":371386,"reputation":3693,"user_id":719884,"display_name":"Shay Shmeltzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354750327,"creation_date":1354750327,"answer_id":13734442,"question_id":13725071,"body_markdown":"You can try the clean all option in the build menu.\r\n","title":"latest compiled files are not taken by Jdeveloper","body":"<p>You can try the clean all option in the build menu.</p>\n"},{"tags":[],"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354836748,"creation_date":1354836748,"answer_id":13754548,"question_id":13725071,"body_markdown":"After performing the clean all, as Shay suggests,  you can delete all &#39;.data&#39; folders. They are normally not cleared by jdev, but are most of the time the reason you see this behavior. \r\nIf the &#39;.data&#39; folders are chills of the classes folder you can just delete the classes folder. ","title":"latest compiled files are not taken by Jdeveloper","body":"<p>After performing the clean all, as Shay suggests,  you can delete all '.data' folders. They are normally not cleared by jdev, but are most of the time the reason you see this behavior. \nIf the '.data' folders are chills of the classes folder you can just delete the classes folder. </p>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688048441,"creation_date":1354716558,"question_id":13725071,"body_markdown":"My application uses stuts and spring framework and we use Jdeveloper and OC4J server.\r\n\r\nYesterday I took the latest workspace and when I compile all the new class files are generated. When I make any changes rebuild and restart Jdev server I don&#39;t see my changes in the UI. I checked all the path and looks like it&#39;s pointing properly.\r\n\r\nWhat else could you guys think off?","title":"latest compiled files are not taken by Jdeveloper","body":"<p>My application uses stuts and spring framework and we use Jdeveloper and OC4J server.</p>\n<p>Yesterday I took the latest workspace and when I compile all the new class files are generated. When I make any changes rebuild and restart Jdev server I don't see my changes in the UI. I checked all the path and looks like it's pointing properly.</p>\n<p>What else could you guys think off?</p>\n"},{"tags":["java","gwt","maven","selenium"],"comments":[{"owner":{"account_id":1122880,"reputation":675,"user_id":1110808,"accept_rate":71,"display_name":"Anurag Kapur"},"score":2,"creation_date":1360709577,"post_id":14842974,"comment_id":20801800,"body_markdown":"Seems like a network issue as your logs say plexus-compiler-manager-1.8.1.jar failed to download due to network timeout. Try creating a vanilla maven project setup and ensure that works and then retry on this project. Do an eclipse restart and full project refresh after getting the vanilla project working.","body":"Seems like a network issue as your logs say plexus-compiler-manager-1.8.1.jar failed to download due to network timeout. Try creating a vanilla maven project setup and ensure that works and then retry on this project. Do an eclipse restart and full project refresh after getting the vanilla project working."},{"owner":{"account_id":1180841,"reputation":9537,"user_id":1155801,"accept_rate":80,"display_name":"appbootup"},"score":0,"creation_date":1360726909,"post_id":14842974,"comment_id":20806194,"body_markdown":"For beginners starting with Eclipse, Maven , M2E and GWT it would be tough ask to ramp on all the things new. You can instead start of from GWT Maven sample project and import it into eclipse using &quot;Import&quot; -&gt; &quot;Existing Maven projects&quot; . GWT&#39;s samples folder in the downloadable from here -&gt; http://google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip","body":"For beginners starting with Eclipse, Maven , M2E and GWT it would be tough ask to ramp on all the things new. You can instead start of from GWT Maven sample project and import it into eclipse using &quot;Import&quot; -&gt; &quot;Existing Maven projects&quot; . GWT&#39;s samples folder in the downloadable from here -&gt; <a href=\"http://google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip\" rel=\"nofollow noreferrer\">google-web-toolkit.googlecode.com/files/gwt-2.5.0.zip</a>"},{"owner":{"account_id":1180841,"reputation":9537,"user_id":1155801,"accept_rate":80,"display_name":"appbootup"},"score":1,"creation_date":1360726961,"post_id":14842974,"comment_id":20806202,"body_markdown":"I noticed you have &quot;selenium&quot; in your screenshot. Are you sure you need to tag it with GWT?","body":"I noticed you have &quot;selenium&quot; in your screenshot. Are you sure you need to tag it with GWT?"},{"owner":{"account_id":196934,"reputation":774,"user_id":1059689,"accept_rate":61,"display_name":"Pero"},"score":0,"creation_date":1360957224,"post_id":14842974,"comment_id":20902364,"body_markdown":"hmm i did it because i want to test my gwt app.","body":"hmm i did it because i want to test my gwt app."},{"owner":{"account_id":1737311,"reputation":746,"user_id":1589563,"display_name":"Marcin Stachniuk"},"score":0,"creation_date":1369340416,"post_id":14842974,"comment_id":24078664,"body_markdown":"Look there: http://stackoverflow.com/questions/8834806/m2eclipse-error \r\n\r\nDid that solved your problem?","body":"Look there: <a href=\"http://stackoverflow.com/questions/8834806/m2eclipse-error\">stackoverflow.com/questions/8834806/m2eclipse-error</a>     Did that solved your problem?"}],"answers":[{"tags":[],"owner":{"account_id":400196,"reputation":103,"user_id":766048,"display_name":"Ayyappadas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374576905,"creation_date":1374576905,"answer_id":17808182,"question_id":14842974,"body_markdown":"Eclipse Juno have some problem on creating a Maven project, the best way would to create Maven project,create Java and convert it.\r\n\r\nJuno also has the problem with life cycle configuration of Maven, in building,compiling,installing. so please turn off your build automatically too. \r\n\r\nFollow the below instruction to fix this issue.\r\n\r\nCheck if your proxy settings on Eclipse is behind your company corporate network.\r\n\r\nTo change this goto-&gt; window-&gt;prefernces-&gt;General-&gt; network connection and change the active providers.\r\n\r\nIf you have some proxy details, select Manaul as active provider and edit it.\r\nAdd the proxy details , ie., host name and port , and click save.\r\n\r\nElse try to get it from your company network team.\r\n\r\nAfter this goto maven settings by Goto-&gt;window-&gt;prefernces-&gt;Maven-&gt; user settings\r\n\r\nCheck if there is xml file called settings.xml if not add the code below to the file and save on the path.\r\n\r\nFor reference it will be locatedon : users\\your name\\.m2\r\n\r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                          http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;localRepository/&gt;\r\n      &lt;interactiveMode/&gt;\r\n      &lt;usePluginRegistry/&gt;\r\n      &lt;offline/&gt;\r\n      &lt;pluginGroups/&gt;\r\n      &lt;servers/&gt;\r\n      &lt;mirrors/&gt;\r\n      &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;id&gt;myproxy&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n          &lt;host&gt;proxy name&lt;/host&gt;\r\n          &lt;port&gt;number&lt;/port&gt;\r\n          &lt;username&gt;&lt;/username&gt;\r\n          &lt;password&gt;&lt;/password&gt;\r\n          &lt;nonProxyHosts&gt;localhost,127.0.0.1&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n      &lt;/proxies&gt;\r\n      &lt;profiles/&gt;\r\n      &lt;activeProfiles/&gt;\r\n    &lt;/settings&gt;\r\n\r\nEven after this, if it does not works, \r\nGoto command prompt.\r\nnavigate to project location.\r\ntype command one after the other.\r\n-  mvn clean \r\n-  mvn compile \r\n-  mvn install \r\n\r\nHope it will work for you and others.","title":"Error in converted maven project in Eclipse","body":"<p>Eclipse Juno have some problem on creating a Maven project, the best way would to create Maven project,create Java and convert it.</p>\n\n<p>Juno also has the problem with life cycle configuration of Maven, in building,compiling,installing. so please turn off your build automatically too. </p>\n\n<p>Follow the below instruction to fix this issue.</p>\n\n<p>Check if your proxy settings on Eclipse is behind your company corporate network.</p>\n\n<p>To change this goto-> window->prefernces->General-> network connection and change the active providers.</p>\n\n<p>If you have some proxy details, select Manaul as active provider and edit it.\nAdd the proxy details , ie., host name and port , and click save.</p>\n\n<p>Else try to get it from your company network team.</p>\n\n<p>After this goto maven settings by Goto->window->prefernces->Maven-> user settings</p>\n\n<p>Check if there is xml file called settings.xml if not add the code below to the file and save on the path.</p>\n\n<p>For reference it will be locatedon : users\\your name.m2</p>\n\n<pre><code>&lt;settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd\"&gt;\n  &lt;localRepository/&gt;\n  &lt;interactiveMode/&gt;\n  &lt;usePluginRegistry/&gt;\n  &lt;offline/&gt;\n  &lt;pluginGroups/&gt;\n  &lt;servers/&gt;\n  &lt;mirrors/&gt;\n  &lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;myproxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;host&gt;proxy name&lt;/host&gt;\n      &lt;port&gt;number&lt;/port&gt;\n      &lt;username&gt;&lt;/username&gt;\n      &lt;password&gt;&lt;/password&gt;\n      &lt;nonProxyHosts&gt;localhost,127.0.0.1&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n  &lt;/proxies&gt;\n  &lt;profiles/&gt;\n  &lt;activeProfiles/&gt;\n&lt;/settings&gt;\n</code></pre>\n\n<p>Even after this, if it does not works, \nGoto command prompt.\nnavigate to project location.\ntype command one after the other.\n-  mvn clean \n-  mvn compile \n-  mvn install </p>\n\n<p>Hope it will work for you and others.</p>\n"},{"tags":[],"owner":{"account_id":5388310,"reputation":64,"user_id":4291594,"display_name":"Ramesh Korla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688048412,"creation_date":1688048412,"answer_id":76581948,"question_id":14842974,"body_markdown":"You can right-click on your project then Maven &gt; Update Project..., then select Force Update of Snapshots/Releases checkbox then click OK.","title":"Error in converted maven project in Eclipse","body":"<p>You can right-click on your project then Maven &gt; Update Project..., then select Force Update of Snapshots/Releases checkbox then click OK.</p>\n"}],"owner":{"account_id":196934,"reputation":774,"user_id":1059689,"accept_rate":61,"display_name":"Pero"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10572,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1688048412,"creation_date":1360707825,"question_id":14842974,"body_markdown":"I am using Eclipse Juno with the m2e plugin. I converted my java project into a maven project via Eclipse\r\n\r\n&gt; Right click on project &gt; goto menu configure &gt; Convert to maven project.\r\n\r\n\r\n\r\n![thats my pom.xml file][1]\r\n\r\nAnd these are the errors:\r\n\r\n    Multiple annotations found at this line:\r\n\t- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\r\n\t plugin:2.3.2:compile (execution: default-compile, phase: compile)\r\n\t- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\r\n\t plugin:2.3.2:testCompile (execution: default-testCompile, phase: test-compile)\r\n\t- CoreException: Could not get the value for parameter compilerId for plugin execution default-\r\n\t compile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one of \r\n\t its dependencies could not be resolved: The following artifacts could not be resolved: \r\n\t org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \r\n\t Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\r\n\t maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \r\n\t has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\r\n\t manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\r\n\t repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\r\n\t manager-1.8.1.jar\r\n\t- CoreException: Could not get the value for parameter compilerId for plugin execution default-\r\n\t testCompile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one \r\n\t of its dependencies could not be resolved: The following artifacts could not be resolved: \r\n\t org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \r\n\t Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\r\n\t maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \r\n\t has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\r\n\t manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\r\n\t repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\r\n\t manager-1.8.1.jar\r\n\r\nHow to solve this problem?\r\nPlease help.\r\n\r\n  [1]: http://i.stack.imgur.com/FYWZL.png","title":"Error in converted maven project in Eclipse","body":"<p>I am using Eclipse Juno with the m2e plugin. I converted my java project into a maven project via Eclipse</p>\n\n<blockquote>\n  <p>Right click on project > goto menu configure > Convert to maven project.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/FYWZL.png\" alt=\"thats my pom.xml file\"></p>\n\n<p>And these are the errors:</p>\n\n<pre><code>Multiple annotations found at this line:\n- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\n plugin:2.3.2:compile (execution: default-compile, phase: compile)\n- Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-compiler-\n plugin:2.3.2:testCompile (execution: default-testCompile, phase: test-compile)\n- CoreException: Could not get the value for parameter compilerId for plugin execution default-\n compile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one of \n its dependencies could not be resolved: The following artifacts could not be resolved: \n org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \n Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\n maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \n has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\n manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\n repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\n manager-1.8.1.jar\n- CoreException: Could not get the value for parameter compilerId for plugin execution default-\n testCompile: PluginResolutionException: Plugin org.apache.maven.plugins:maven-compiler-plugin:2.3.2 or one \n of its dependencies could not be resolved: The following artifacts could not be resolved: \n org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1, org.codehaus.plexus:plexus-compiler-javac:jar:1.8.1: \n Failure to transfer org.codehaus.plexus:plexus-compiler-manager:jar:1.8.1 from http://repo.maven.apache.org/\n maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central \n has elapsed or updates are forced. Original error: Could not transfer artifact org.codehaus.plexus:plexus-compiler-\n manager:jar:1.8.1 from/to central (http://repo.maven.apache.org/maven2): connection timed out to http://\n repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-manager/1.8.1/plexus-compiler-\n manager-1.8.1.jar\n</code></pre>\n\n<p>How to solve this problem?\nPlease help.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1687961803,"post_id":76573919,"comment_id":135010431,"body_markdown":"have you tried to increase the memory allocated for the jvm? its not exactly solution but can help a bit. anyway, unrestrained use of recursion may cause stackoverflow - so, please exercise caution.","body":"have you tried to increase the memory allocated for the jvm? its not exactly solution but can help a bit. anyway, unrestrained use of recursion may cause stackoverflow - so, please exercise caution."},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1687962735,"post_id":76573919,"comment_id":135010676,"body_markdown":"Thanks for the comment, I didn&#39;t increase the memory because it wouldn&#39;t be an alternative for our scenario. So I&#39;m thinking that this recursive algorithm would not be an option to solve this problem. I wanted to check other alternatives","body":"Thanks for the comment, I didn&#39;t increase the memory because it wouldn&#39;t be an alternative for our scenario. So I&#39;m thinking that this recursive algorithm would not be an option to solve this problem. I wanted to check other alternatives"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1687963182,"post_id":76573919,"comment_id":135010792,"body_markdown":"the cause for your out of memory error was.. you keep creating `Array`s which takes **contiguous** memory space. if its a `List` then jvm can sacrifice a bit of speed to sequeeze them around the `heap`. however, they can&#39;t do much if the memory space not wide enough.","body":"the cause for your out of memory error was.. you keep creating <code>Array</code>s which takes <b>contiguous</b> memory space. if its a <code>List</code> then jvm can sacrifice a bit of speed to sequeeze them around the <code>heap</code>. however, they can&#39;t do much if the memory space not wide enough."},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1687964229,"post_id":76573919,"comment_id":135011026,"body_markdown":"Yeah, I think recursion here is not a good idea to go with. Now I wanted to see other possibilities without recursion","body":"Yeah, I think recursion here is not a good idea to go with. Now I wanted to see other possibilities without recursion"}],"answers":[{"comments":[{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1687964568,"post_id":76574397,"comment_id":135011095,"body_markdown":"Thanks for the answer, I need at the end to have a Map&lt;String, List&lt;String&gt;&gt; with the phrase and its combinations. Growing the heap would not be a good option because over time we would have to grow if the volume grows. So I&#39;m trying to identify a better approach to have the final result in a Map&lt;String, List&lt;String&gt;&gt; with the phrase and its combinations","body":"Thanks for the answer, I need at the end to have a Map&lt;String, List&lt;String&gt;&gt; with the phrase and its combinations. Growing the heap would not be a good option because over time we would have to grow if the volume grows. So I&#39;m trying to identify a better approach to have the final result in a Map&lt;String, List&lt;String&gt;&gt; with the phrase and its combinations"},{"owner":{"account_id":13851836,"reputation":11,"user_id":9999607,"display_name":"Victor"},"score":0,"creation_date":1687988825,"post_id":76574397,"comment_id":135015468,"body_markdown":"Please note that regardless of the approach/algorithm applied, your bottleneck may be the size of the final result. Especially when the number of permutations grows rapidly - **n!**. To prove that, you could try to copy just one permutation n! times and add them to the list and check if OOM occurs.","body":"Please note that regardless of the approach/algorithm applied, your bottleneck may be the size of the final result. Especially when the number of permutations grows rapidly - <b>n!</b>. To prove that, you could try to copy just one permutation n! times and add them to the list and check if OOM occurs."},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1687995309,"post_id":76574397,"comment_id":135016072,"body_markdown":"Yes, it would be a good test. I will store the same permutation throughout the loop and check if the OOM occurs. Thanks","body":"Yes, it would be a good test. I will store the same permutation throughout the loop and check if the OOM occurs. Thanks"}],"tags":[],"owner":{"account_id":13851836,"reputation":11,"user_id":9999607,"display_name":"Victor"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687987929,"creation_date":1687964109,"answer_id":76574397,"question_id":76573919,"body_markdown":"It looks like the memory problem is caused by the number of arrays you have to copy and store. If it was a recursion problem, you would get StackOferflowError instead.\r\nSo in order to mitigate the current `Java heap space` issue, you could try to:\r\n\r\n1) increase heap size via JVM memory setting (`-Xmx&lt;size&gt;`, e.g. `java -Xmx6g program`)\r\n2) refactor the code in a way that it does not need to store all combinations in memory simultaneously (e.g. instead of saving a copy of an array, print or write it to a file)\r\n ","title":"Algorithm combinations of words in a Sentence","body":"<p>It looks like the memory problem is caused by the number of arrays you have to copy and store. If it was a recursion problem, you would get StackOferflowError instead.\nSo in order to mitigate the current <code>Java heap space</code> issue, you could try to:</p>\n<ol>\n<li>increase heap size via JVM memory setting (<code>-Xmx&lt;size&gt;</code>, e.g. <code>java -Xmx6g program</code>)</li>\n<li>refactor the code in a way that it does not need to store all combinations in memory simultaneously (e.g. instead of saving a copy of an array, print or write it to a file)</li>\n</ol>\n"}],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688048054,"creation_date":1687960711,"question_id":76573919,"body_markdown":"I&#39;m testing an algorithm for generating combinations of a sentence Using  Backtracking, for example &quot;orange is sweet&quot; combinations &quot;orange is sweet, is orange sweet, sweet is orange, orange sweet is&quot;....\r\n[source geeksforgeeks][1]\r\n\r\n**Algorithm**\r\n\r\n```java\r\n    public static void calculatePermutations(String sentence)\r\n    {\r\n        // Stores all words in the sentence\r\n        String[] lis = sentence.split(&quot; &quot;);\r\n \r\n        // Stores all possible permutations\r\n        // of words in this list\r\n        List&lt;String[]&gt; permute = new ArrayList&lt;&gt;();\r\n \r\n        // Generate all permutations of words\r\n        generatePermutations(lis, 0, permute);\r\n \r\n        // Iterate over all permutations\r\n        for (String[] i : permute) {\r\n            // Print the words in the\r\n            // list separated by spaces\r\n            System.out.println(String.join(&quot; &quot;, i));\r\n        }\r\n    }\r\n \r\n    // Function to generate all permutations using\r\n    // backtracking\r\n    public static void generatePermutations(String[] arr, int index, List&lt;String[]&gt; permute)                        \r\n    {\r\n        // Base case: If the current index is equal to the\r\n        // length of the array add the current permutation\r\n        // to the list of permutations\r\n        if (index == arr.length) {\r\n            permute.add(Arrays.copyOf(arr, arr.length));\r\n            return;\r\n        }\r\n \r\n        // Iterate over the remaining words and generate\r\n        // permutations\r\n        for (int i = index; i &lt; arr.length; i++) {\r\n            // Swap the current word with the ith word\r\n            String temp = arr[i];\r\n            arr[i] = arr[index];\r\n            arr[index] = temp;\r\n \r\n            // Make a recursive call to generate\r\n            // permutations with the updated list and index\r\n            generatePermutations(arr, index + 1, permute);\r\n \r\n            // Swap back the current word with the\r\n            // previously swapped word\r\n            temp = arr[i];\r\n            arr[i] = arr[index];\r\n            arr[index] = temp;\r\n        }\r\n    }\r\n \r\n    // Driver Code\r\n    public static void main(String[] args)\r\n    {\r\n        String sentence = &quot;sky is blue&quot;;\r\n        calculatePermutations(sentence);\r\n    }\r\n```\r\n\r\nThe algorithm is doing the combinations well, but for a large volume of data it breaks\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOf(Arrays.java:3481)\r\n\r\nCopyOf arrays always generate a new instance so I think that&#39;s the problem\r\n\r\n```java\r\n   public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        T[] copy = ((Object) newType == (Object) Object[].class)\r\n            ? (T[]) new Object[newLength]\r\n            : (T[]) Array.newInstance(newType.getComponentType(), newLength);\r\n\r\n        System.arraycopy(original, 0, copy, 0,\r\n                         Math.min(original.length, newLength));\r\n\r\n        return copy;\r\n    }\r\n```\r\n\r\nThe biggest problem with this algorithm for a high processing volume, for example in my test was with more than 1 million phrases to generate combinations, would it be because it is recursive? What would be an alternative?\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/generate-all-possible-permutations-of-words-in-a-sentence","title":"Algorithm combinations of words in a Sentence","body":"<p>I'm testing an algorithm for generating combinations of a sentence Using  Backtracking, for example &quot;orange is sweet&quot; combinations &quot;orange is sweet, is orange sweet, sweet is orange, orange sweet is&quot;....\n<a href=\"https://www.geeksforgeeks.org/generate-all-possible-permutations-of-words-in-a-sentence\" rel=\"nofollow noreferrer\">source geeksforgeeks</a></p>\n<p><strong>Algorithm</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void calculatePermutations(String sentence)\n    {\n        // Stores all words in the sentence\n        String[] lis = sentence.split(&quot; &quot;);\n \n        // Stores all possible permutations\n        // of words in this list\n        List&lt;String[]&gt; permute = new ArrayList&lt;&gt;();\n \n        // Generate all permutations of words\n        generatePermutations(lis, 0, permute);\n \n        // Iterate over all permutations\n        for (String[] i : permute) {\n            // Print the words in the\n            // list separated by spaces\n            System.out.println(String.join(&quot; &quot;, i));\n        }\n    }\n \n    // Function to generate all permutations using\n    // backtracking\n    public static void generatePermutations(String[] arr, int index, List&lt;String[]&gt; permute)                        \n    {\n        // Base case: If the current index is equal to the\n        // length of the array add the current permutation\n        // to the list of permutations\n        if (index == arr.length) {\n            permute.add(Arrays.copyOf(arr, arr.length));\n            return;\n        }\n \n        // Iterate over the remaining words and generate\n        // permutations\n        for (int i = index; i &lt; arr.length; i++) {\n            // Swap the current word with the ith word\n            String temp = arr[i];\n            arr[i] = arr[index];\n            arr[index] = temp;\n \n            // Make a recursive call to generate\n            // permutations with the updated list and index\n            generatePermutations(arr, index + 1, permute);\n \n            // Swap back the current word with the\n            // previously swapped word\n            temp = arr[i];\n            arr[i] = arr[index];\n            arr[index] = temp;\n        }\n    }\n \n    // Driver Code\n    public static void main(String[] args)\n    {\n        String sentence = &quot;sky is blue&quot;;\n        calculatePermutations(sentence);\n    }\n</code></pre>\n<p>The algorithm is doing the combinations well, but for a large volume of data it breaks</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat java.base/java.util.Arrays.copyOf(Arrays.java:3481)\n</code></pre>\n<p>CopyOf arrays always generate a new instance so I think that's the problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static &lt;T,U&gt; T[] copyOf(U[] original, int newLength, Class&lt;? extends T[]&gt; newType) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] copy = ((Object) newType == (Object) Object[].class)\n            ? (T[]) new Object[newLength]\n            : (T[]) Array.newInstance(newType.getComponentType(), newLength);\n\n        System.arraycopy(original, 0, copy, 0,\n                         Math.min(original.length, newLength));\n\n        return copy;\n    }\n</code></pre>\n<p>The biggest problem with this algorithm for a high processing volume, for example in my test was with more than 1 million phrases to generate combinations, would it be because it is recursive? What would be an alternative?</p>\n"},{"tags":["java","c++","math","lcm"],"comments":[{"owner":{"account_id":989775,"reputation":12101,"user_id":1007407,"display_name":"pnezis"},"score":0,"creation_date":1320159935,"post_id":7968364,"comment_id":9742869,"body_markdown":"Sounds like a homework assignment","body":"Sounds like a homework assignment"},{"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"score":0,"creation_date":1320161235,"post_id":7968364,"comment_id":9743328,"body_markdown":"Java or C++?  The solutions may be different depending on the language.","body":"Java or C++?  The solutions may be different depending on the language."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":0,"creation_date":1320218617,"post_id":7968364,"comment_id":9755013,"body_markdown":"Best is to use `(a / gcd(a,b)) * b` to avoid integer overflow.  Using the factorization to compute `lcm` is much less efficient than using `gcd`.","body":"Best is to use <code>(a &#47; gcd(a,b)) * b</code> to avoid integer overflow.  Using the factorization to compute <code>lcm</code> is much less efficient than using <code>gcd</code>."}],"answers":[{"comments":[{"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"score":1,"creation_date":1320160615,"post_id":7968439,"comment_id":9743098,"body_markdown":"His method is actually [Prime Factorization](https://secure.wikimedia.org/wikipedia/en/wiki/Least_common_multiple#Finding_least_common_multiples_by_prime_factorization). But yeah, it works.","body":"His method is actually <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Least_common_multiple#Finding_least_common_multiples_by_prime_factorization\" rel=\"nofollow noreferrer\">Prime Factorization</a>. But yeah, it works."}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320159824,"creation_date":1320159824,"answer_id":7968439,"question_id":7968364,"body_markdown":"I believe the algorithm you suggest is [a method using a table](https://secure.wikimedia.org/wikipedia/en/wiki/Least_common_multiple#A_method_using_a_table), check to see if it works for you.","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>I believe the algorithm you suggest is <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/Least_common_multiple#A_method_using_a_table\" rel=\"nofollow\">a method using a table</a>, check to see if it works for you.</p>\n"},{"comments":[{"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":1,"creation_date":1320171850,"post_id":7968657,"comment_id":9746721,"body_markdown":"Isn&#39;t the LCM of 4 and 8 actually 8, not 4?  And GCD(8,4) yields 4, so (8*4)/4 = 8, so the formula in the question generates the correct answer?  The LCM has to be at least as big as the larger of the two input values (assuming all positive numbers).","body":"Isn&#39;t the LCM of 4 and 8 actually 8, not 4?  And GCD(8,4) yields 4, so (8*4)/4 = 8, so the formula in the question generates the correct answer?  The LCM has to be at least as big as the larger of the two input values (assuming all positive numbers)."},{"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"score":0,"creation_date":1320315878,"post_id":7968657,"comment_id":9777776,"body_markdown":"Eh, yes, fixed. The GCD and LCM methods are quite closely related. If you factor both terms in prime factors, take the respective minimums, and multiply them, you get the GCD (here: min(2,3)=2, 2x2=4). Take the respctive maximums (here: max(2,3)=3, 2x2x2=8) and you get the LCM.","body":"Eh, yes, fixed. The GCD and LCM methods are quite closely related. If you factor both terms in prime factors, take the respective minimums, and multiply them, you get the GCD (here: min(2,3)=2, 2x2=4). Take the respctive maximums (here: max(2,3)=3, 2x2x2=8) and you get the LCM."}],"tags":[],"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1320315688,"creation_date":1320160725,"answer_id":7968657,"question_id":7968364,"body_markdown":"Almost. What&#39;s the LCM of 4 and 8? Obviously 8 (2&lt;sup&gt;3&lt;/sup&gt;), but in your method you&#39;d find 2. You need to keep track not just of all factors, but also how often they appear.","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>Almost. What's the LCM of 4 and 8? Obviously 8 (2<sup>3</sup>), but in your method you'd find 2. You need to keep track not just of all factors, but also how often they appear.</p>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545984204,"creation_date":1545984204,"answer_id":53955387,"question_id":7968364,"body_markdown":"You can get LCM of two number by getting GCD at first.\r\nHere is the solution for the above.\r\n\r\n    package com.practice.competitive.maths;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class LCMandGCD {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n    \t\t\tint testCases = scanner.nextInt();\r\n    \t\t\twhile (testCases-- &gt; 0) {\r\n    \t\t\t\tlong number1 = scanner.nextInt();\r\n    \t\t\t\tlong number2 = scanner.nextInt();\r\n    \t\t\t\tlong gcd = computeGCD(number1, number2);\r\n    \t\t\t\tlong lcm = computeLCM(number1, number2, gcd);\r\n    \t\t\t\tSystem.out.println(lcm + &quot; &quot; + gcd);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static long computeGCD(long number1, long number2) {\r\n    \t\twhile (number1 != number2) {\r\n    \t\t\tif (number1 &gt; number2)\r\n    \t\t\t\tnumber1 -= number2;\r\n    \t\t\telse\r\n    \t\t\t\tnumber2 -= number1;\r\n    \t\t}\t\r\n    \t\treturn number2;\r\n    \t}\r\n    \r\n    \tprivate static long computeLCM(long number1, long number2, long gcd) {\r\n    \t\treturn (number1*number2)/gcd;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>You can get LCM of two number by getting GCD at first.\nHere is the solution for the above.</p>\n\n<pre><code>package com.practice.competitive.maths;\n\nimport java.util.Scanner;\n\npublic class LCMandGCD {\n\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            int testCases = scanner.nextInt();\n            while (testCases-- &gt; 0) {\n                long number1 = scanner.nextInt();\n                long number2 = scanner.nextInt();\n                long gcd = computeGCD(number1, number2);\n                long lcm = computeLCM(number1, number2, gcd);\n                System.out.println(lcm + \" \" + gcd);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static long computeGCD(long number1, long number2) {\n        while (number1 != number2) {\n            if (number1 &gt; number2)\n                number1 -= number2;\n            else\n                number2 -= number1;\n        }   \n        return number2;\n    }\n\n    private static long computeLCM(long number1, long number2, long gcd) {\n        return (number1*number2)/gcd;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13116414,"reputation":227,"user_id":9475439,"display_name":"Akshay "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555584451,"creation_date":1555584451,"answer_id":55744431,"question_id":7968364,"body_markdown":"LCM(Least Common Multiple) is always greater than or equal to the larger of the two numbers. So we will first check that the larger number itself a LCM of two numbers by checking that the larger number is divisible by the smaller one , if yes we found the LCM &amp; If no then we will increment the larger number by 1 and check again.\r\n\r\n    package com.company;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String args[]) {\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the first Number : &quot;);\r\n        int number1 = scan.nextInt();\r\n        System.out.print(&quot;Enter the second number : &quot;);\r\n        int number2 =scan.nextInt();\r\n\r\n        int multiple;\r\n\r\n        if(number1 &gt;= number2) {\r\n            multiple = number1;\r\n        } else {\r\n            multiple = number2;\r\n        }\r\n\r\n        Boolean loopContinue = true;\r\n\r\n        while(loopContinue) {\r\n            if(multiple % number1 == 0 &amp;&amp; multiple % number2 == 0) {\r\n                System.out.println(&quot;LCM of Two Numbers is &quot; + multiple);\r\n                loopContinue = false;\r\n            }\r\n            multiple++;\r\n        }\r\n      }\r\n    }","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>LCM(Least Common Multiple) is always greater than or equal to the larger of the two numbers. So we will first check that the larger number itself a LCM of two numbers by checking that the larger number is divisible by the smaller one , if yes we found the LCM &amp; If no then we will increment the larger number by 1 and check again.</p>\n\n<pre><code>package com.company;\nimport java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String args[]) {\n    Scanner scan = new Scanner(System.in);\n    System.out.print(\"Enter the first Number : \");\n    int number1 = scan.nextInt();\n    System.out.print(\"Enter the second number : \");\n    int number2 =scan.nextInt();\n\n    int multiple;\n\n    if(number1 &gt;= number2) {\n        multiple = number1;\n    } else {\n        multiple = number2;\n    }\n\n    Boolean loopContinue = true;\n\n    while(loopContinue) {\n        if(multiple % number1 == 0 &amp;&amp; multiple % number2 == 0) {\n            System.out.println(\"LCM of Two Numbers is \" + multiple);\n            loopContinue = false;\n        }\n        multiple++;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27877374,"reputation":11,"user_id":21286596,"display_name":"Thiruvengaden_R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688047128,"creation_date":1688047074,"answer_id":76581740,"question_id":7968364,"body_markdown":"**LCM of two numbers using while loop`**\r\n`\r\n\r\n    package whileloop1;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Lcm {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tLcm obj = new Lcm();\r\n\t\tobj.twoNumberLcm();\r\n\t}\r\n\tvoid twoNumberLcm\t\t\r\n\t{\r\n\t\tScanner Sobj = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter your First Number &quot;);\r\n\t\tint num1 = Sobj.nextInt();\r\n\t\tSystem.out.println(&quot;Enter your Second Number &quot;);\r\n\t\tint num2 = Sobj.nextInt();\r\n\t\tint big,small;\r\n\t\tif(num1&gt;num2)\r\n\t\t{\r\n\t\t\tbig = num1;\r\n\t\t\tsmall = num2;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tbig = num2;\r\n\t\t\tsmall = num1;\r\n\t\t}\r\n\t\tSystem.out.println(&quot; Bigger number is &quot; + big);\r\n\t\tSystem.out.println(&quot; Smaller number is &quot; + small);\r\n\t\tint smallcopy = small;\r\n\t\tint bigcopy = big;\r\n\t\tint count =1;\r\n\t\twhile(count&gt;0)\r\n\t\t{\r\n\t\t\twhile(big&gt;=small)\r\n\t\t\t{\r\n\t\t\t\tif(big == small)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Least common mutiples of given two numbers&quot; + small);\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tsmall=small+smallcopy;\r\n\t\t\t}\r\n\t\t\tbig = big+bigcopy;\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>**LCM of two numbers using while loop<code>** </code></p>\n<pre><code>package whileloop1;\n\nimport java.util.Scanner;\n\npublic class Lcm {\n\npublic static void main(String[] args) {\n    Lcm obj = new Lcm();\n    obj.twoNumberLcm();\n}\nvoid twoNumberLcm       \n{\n    Scanner Sobj = new Scanner(System.in);\n    System.out.println(&quot;Enter your First Number &quot;);\n    int num1 = Sobj.nextInt();\n    System.out.println(&quot;Enter your Second Number &quot;);\n    int num2 = Sobj.nextInt();\n    int big,small;\n    if(num1&gt;num2)\n    {\n        big = num1;\n        small = num2;\n    }\n    else\n    {\n        big = num2;\n        small = num1;\n    }\n    System.out.println(&quot; Bigger number is &quot; + big);\n    System.out.println(&quot; Smaller number is &quot; + small);\n    int smallcopy = small;\n    int bigcopy = big;\n    int count =1;\n    while(count&gt;0)\n    {\n        while(big&gt;=small)\n        {\n            if(big == small)\n            {\n                System.out.println(&quot;Least common mutiples of given two numbers&quot; + small);\n                count--;\n                break;\n            }\n            small=small+smallcopy;\n        }\n        big = big+bigcopy;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":895685,"reputation":365,"user_id":1005601,"accept_rate":93,"display_name":"Sharpzain120"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7371,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":7968657,"answer_count":5,"score":-1,"last_activity_date":1688047128,"creation_date":1320159461,"question_id":7968364,"body_markdown":"I have used Euclid&#39;s method to find the L.C.M for two numbers.\r\n\r\n    l.c.m=a*b/(gcd(a,b))\r\n\r\nHow can I do this without using this algorithm?\r\nI have an idea of first getting all factors of these two numbers and storing them in array. Then take 1 element from array 1 and search for it in array2, if it present there then remove it from there and make the result multiply by that num.\r\n\r\nIs this OK?","title":"How to find Least Common Multiple (LCM) for two numbers","body":"<p>I have used Euclid's method to find the L.C.M for two numbers.</p>\n\n<pre><code>l.c.m=a*b/(gcd(a,b))\n</code></pre>\n\n<p>How can I do this without using this algorithm?\nI have an idea of first getting all factors of these two numbers and storing them in array. Then take 1 element from array 1 and search for it in array2, if it present there then remove it from there and make the result multiply by that num.</p>\n\n<p>Is this OK?</p>\n"},{"tags":["java","spring-boot","tomcat"],"owner":{"account_id":1670879,"reputation":1569,"user_id":1537370,"accept_rate":79,"display_name":"Damo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1688047075,"creation_date":1687986123,"question_id":76576683,"body_markdown":"in our Spring Boot 3 app, we are getting this well known discussed error when reading http cookies headers:\r\n\r\n*A cookie header was received [g_invalid=x&quot;;] that contained an invalid cookie. That cookie will be ignored.*\r\n\r\nThe previous solution of using Tomcat&#39;s `LegacyCookieProcessor` is no longer possible, without reverting back to Tomcat 9, which I don&#39;t want to do naturally. \r\n\r\nThere is no official solution being documented by Spring Boot 3 as to how to handle Version 0 cookies - https://github.com/spring-projects/spring-boot/issues/33021 - but its still a common problem, so wondering if other folks have encountered, etc.\r\n\r\nThe tomcat change-logs dont even mention that `LegacyCookieProcessor` was being removed, which is kinda annoying (as this is where I would expect an alternative to be described - or a reason as to why it was deleted - perhaps..)\r\n\r\nhttps://tomcat.apache.org/tomcat-10.1-doc/changelog.html \r\n\r\nThanks\r\n","title":"Spring Boot 3 / Tomcat 10 - process invalid cookies","body":"<p>in our Spring Boot 3 app, we are getting this well known discussed error when reading http cookies headers:</p>\n<p><em>A cookie header was received [g_invalid=x&quot;;] that contained an invalid cookie. That cookie will be ignored.</em></p>\n<p>The previous solution of using Tomcat's <code>LegacyCookieProcessor</code> is no longer possible, without reverting back to Tomcat 9, which I don't want to do naturally.</p>\n<p>There is no official solution being documented by Spring Boot 3 as to how to handle Version 0 cookies - <a href=\"https://github.com/spring-projects/spring-boot/issues/33021\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/33021</a> - but its still a common problem, so wondering if other folks have encountered, etc.</p>\n<p>The tomcat change-logs dont even mention that <code>LegacyCookieProcessor</code> was being removed, which is kinda annoying (as this is where I would expect an alternative to be described - or a reason as to why it was deleted - perhaps..)</p>\n<p><a href=\"https://tomcat.apache.org/tomcat-10.1-doc/changelog.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.1-doc/changelog.html</a></p>\n<p>Thanks</p>\n"},{"tags":["java","redis","spring-data-redis"],"owner":{"account_id":28342694,"reputation":1,"user_id":21675425,"display_name":"Shivangi Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688047029,"creation_date":1687951779,"question_id":76572744,"body_markdown":"I was trying to upgrade the Spring Boot version of my project which was earlier running on version `2.4.13`, to version `3.1.1`. I have used Redis as a pub/sub in my project and the current version for the `spring-data-redis` is `3.1.1`. After running the application, I got the following error: \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redisMessageListenerContainer&#39; defined in class path resource [com/XXX/XXX/XX/XXXXXX/config/redis/RedisPubSubConfiguration.class]: Container already initialized\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    \tat XXX.xxx.xxxx.Application.main(Application.java:42)\r\n    Caused by: java.lang.IllegalStateException: Container already initialized\r\n    \tat org.springframework.util.Assert.state(Assert.java:76)\r\n    \tat org.springframework.data.redis.listener.RedisMessageListenerContainer.afterPropertiesSet(RedisMessageListenerContainer.java:171)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n\r\nI can see the `afterPropertiesSet` method is changed in the current version. I even tried the lower versions like `2.7.4` and `2.7.5` but got the same error. \r\n\r\nCan anybody let me know what I am missing or navigate to the correct resource which I can refer to for the migration?","title":"Error creating bean with name &#39;redisMessageListenerContainer&#39; : Container already initialized","body":"<p>I was trying to upgrade the Spring Boot version of my project which was earlier running on version <code>2.4.13</code>, to version <code>3.1.1</code>. I have used Redis as a pub/sub in my project and the current version for the <code>spring-data-redis</code> is <code>3.1.1</code>. After running the application, I got the following error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisMessageListenerContainer' defined in class path resource [com/XXX/XXX/XX/XXXXXX/config/redis/RedisPubSubConfiguration.class]: Container already initialized\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at XXX.xxx.xxxx.Application.main(Application.java:42)\nCaused by: java.lang.IllegalStateException: Container already initialized\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.data.redis.listener.RedisMessageListenerContainer.afterPropertiesSet(RedisMessageListenerContainer.java:171)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n</code></pre>\n<p>I can see the <code>afterPropertiesSet</code> method is changed in the current version. I even tried the lower versions like <code>2.7.4</code> and <code>2.7.5</code> but got the same error.</p>\n<p>Can anybody let me know what I am missing or navigate to the correct resource which I can refer to for the migration?</p>\n"},{"tags":["java","spring-boot","maven","jar"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688011997,"post_id":76577762,"comment_id":135017224,"body_markdown":"If it executes for a couple of seconds without printing an error message, that&#39;s what your application is doing: nothing to do with the command.","body":"If it executes for a couple of seconds without printing an error message, that&#39;s what your application is doing: nothing to do with the command."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688025111,"post_id":76577762,"comment_id":135018992,"body_markdown":"*I know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.* And what output do you see in the Eclipse console?","body":"<i>I know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.</i> And what output do you see in the Eclipse console?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688027616,"post_id":76577762,"comment_id":135019508,"body_markdown":"Please show the output while you tried to start it...","body":"Please show the output while you tried to start it..."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688041757,"post_id":76577762,"comment_id":135022357,"body_markdown":"@g00se and I have added what you asked for.","body":"@g00se and I have added what you asked for."},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688041769,"post_id":76577762,"comment_id":135022364,"body_markdown":"@khmarbaise I have added what you asked for.","body":"@khmarbaise I have added what you asked for."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688045178,"post_id":76577762,"comment_id":135023148,"body_markdown":"Very confusing cmd.exe stuff. Exactly what directory is that jar in?","body":"Very confusing cmd.exe stuff. Exactly what directory is that jar in?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688045420,"post_id":76577762,"comment_id":135023211,"body_markdown":"If it&#39;s in the Desktop directory per the instructions, the command should be `java -jar C:\\Users\\mitch\\Desktop\\topic1-1.jar`","body":"If it&#39;s in the Desktop directory per the instructions, the command should be <code>java -jar C:\\Users\\mitch\\Desktop\\topic1-1.jar</code>"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688045567,"post_id":76577762,"comment_id":135023242,"body_markdown":"Well the instructions wanted me to copy and paste the .jar file from the target folder in my project onto my desktop. I have also changed my directory to the Desktop and it still doesn&#39;t work I get the same results","body":"Well the instructions wanted me to copy and paste the .jar file from the target folder in my project onto my desktop. I have also changed my directory to the Desktop and it still doesn&#39;t work I get the same results"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688045781,"post_id":76577762,"comment_id":135023290,"body_markdown":"Open a new cmd.exe. Paste the command I gave you into it and hit return. Copy ALL of the text out of that window and paste it into your question *formatted as code*","body":"Open a new cmd.exe. Paste the command I gave you into it and hit return. Copy ALL of the text out of that window and paste it into your question <i>formatted as code</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688046528,"post_id":76577762,"comment_id":135023480,"body_markdown":"Probably because it&#39;s a Spring app. You want instead `java -cp C:\\Users\\mitch\\Desktop\\topic1-1.jar fully.qualified.package.Application` Obviously you need to use the name of your actual Spring app class","body":"Probably because it&#39;s a Spring app. You want instead <code>java -cp C:\\Users\\mitch\\Desktop\\topic1-1.jar fully.qualified.package.Application</code> Obviously you need to use the name of your actual Spring app class"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688046558,"post_id":76577762,"comment_id":135023490,"body_markdown":"I added that info @g00se","body":"I added that info @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688046764,"post_id":76577762,"comment_id":135023545,"body_markdown":"See my comment above. And stop changing directories - it&#39;s pointless ;)","body":"See my comment above. And stop changing directories - it&#39;s pointless ;)"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688046965,"post_id":76577762,"comment_id":135023605,"body_markdown":"Roger that. So for needing the name of my Spring app class what would that be exactly? I&#39;ll paste the code from my project above.","body":"Roger that. So for needing the name of my Spring app class what would that be exactly? I&#39;ll paste the code from my project above."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688047268,"post_id":76577762,"comment_id":135023676,"body_markdown":"Also please stop posting pictures. cmd.exe is a *text* interface so post the *text* from it","body":"Also please stop posting pictures. cmd.exe is a <i>text</i> interface so post the <i>text</i> from it"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688048228,"post_id":76577762,"comment_id":135023901,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254302/discussion-between-mitchell-and-g00se).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254302/discussion-between-mitchell-and-g00se\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688045372,"post_id":76581422,"comment_id":135023196,"body_markdown":"I have done that and I get the same results.","body":"I have done that and I get the same results."}],"tags":[],"owner":{"account_id":1448543,"reputation":24,"user_id":10291924,"display_name":"jalfonso"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688044397,"creation_date":1688044397,"answer_id":76581422,"question_id":76577762,"body_markdown":"Maybe your problem is that your CMD is not pointing to your Desktop.\r\nA terminal pointing to Desktop should look like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYours, is pointing to the root of C filesystem\r\nTo change your working directory to Desktop, type:\r\n\r\n    cd Desktop\r\n\r\n  [1]: https://i.stack.imgur.com/S2avq.png","title":".jar file not executing when executed from CMD prompt","body":"<p>Maybe your problem is that your CMD is not pointing to your Desktop.\nA terminal pointing to Desktop should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/S2avq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2avq.png\" alt=\"enter image description here\" /></a></p>\n<p>Yours, is pointing to the root of C filesystem\nTo change your working directory to Desktop, type:</p>\n<pre><code>cd Desktop\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688047014,"creation_date":1688006492,"question_id":76577762,"body_markdown":"So I was following the instructions from my assignment on creating my Maven project and I followed them exactly but I am getting hung up on the last part. Here are the instructions below\r\n\r\n*Copy the JAR file (helloworld.jar) to the Desktop. Open a terminal window and run the JAR\r\napplication by using the following command. NOTE: the path to the Java application can\r\nbe found by going to the Spring Tool Suite IDE Properties, selecting Java &gt; Installed\r\nJREs, copying the path listed under the JRE 15.0, and appending /bin to that path. Note,\r\nthat if there are any spaces in the directory path then the Java command including the\r\npath should be entirely enclosed in double quotes.\r\nMac: [PATH to Java 15 JRE Install]/bin/java -jar helloworld.jar\r\nWindows: [PATH to Java 15 JRE Install]\\bin\\java.exe -jar helloworld.jar\r\n8. Open a browser and go to localhost:8080. The content of the index.html page should be\r\ndisplayed. Take a screenshot.*\r\n\r\nI know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.\r\n\r\nWhen I change my working directory to the desktop and run ```java -jar topic1-1.jar``` it executes for about a couple seconds and then it prompts for another command ```C:\\&gt;``` . I tried going to my local host as well and it isn&#39;t working. \r\n\r\nIs there any logging I can set up to get it to throw an error for me?\r\nHow do I make sure my path is set up right? Am I in the right working directory or do I need to be in ``\\Program Files\\Java\\jdk-16.0.2\\bin``` then execute my command? because when I execute it from that directory it is unable to access the file.... because it is on the desktop.\r\n\r\nConsole output when I run in Eclipse\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n[32m :: Spring Boot :: [39m              [2m (v3.1.1)[0;39m\r\n\r\n[2m2023-06-29T07:18:56.615-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Starting Topic11Application using Java 18.0.2.1 with PID 18568 (C:\\Users\\mitch\\git\\topic1-1\\target\\classes started by mitch in C:\\Users\\mitch\\git\\topic1-1)\r\n[2m2023-06-29T07:18:56.620-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n[2m2023-06-29T07:18:57.776-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.10]\r\n[2m2023-06-29T07:18:57.882-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2023-06-29T07:18:57.883-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1187 ms\r\n[2m2023-06-29T07:18:58.108-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.a.w.s.WelcomePageHandlerMapping   [0;39m [2m:[0;39m Adding welcome page: class path resource [static/index.html]\r\n[2m2023-06-29T07:18:58.205-05:00[0;39m [33m WARN[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mion$DefaultTemplateResolverConfiguration[0;39m [2m:[0;39m Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\r\n[2m2023-06-29T07:18:58.259-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.a.OptionalLiveReloadServer      [0;39m [2m:[0;39m LiveReload server is running on port 35729\r\n[2m2023-06-29T07:18:58.299-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[2m2023-06-29T07:18:58.310-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Started Topic11Application in 2.11 seconds (process running for 2.9)\r\n[2m2023-06-29T07:19:33.746-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2023-06-29T07:19:33.747-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2023-06-29T07:19:33.749-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\r\n```\r\n\r\noutput from cmd prompt\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the cmd prompt, it goes to the blank lines for a couple of seconds and then is done. The program should continue to run because when I run it in Eclipse as a Spring Boot App it continues to run until I terminate it. While running in Eclipse I can go to my localhost:8080 and it shows my webpage. In the cmd prompt, it does not.\r\n\r\nOutput when I changed my directory to Desktop and ran it. Again same thing, runs for a couple seconds and goes to next line.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nCommand to run suggested by @g00se\r\n```\r\nC:\\&gt;java -jar C:\\Users\\mitch\\OneDrive\\Desktop\\topic1-1.jar\r\n```\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jl72t.png\r\n  [2]: https://i.stack.imgur.com/qb2mF.png\r\n  [3]: https://i.stack.imgur.com/4n3ox.png\r\n\r\nCode from project\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Topic11Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Topic11Application.class, args);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```","title":".jar file not executing when executed from CMD prompt","body":"<p>So I was following the instructions from my assignment on creating my Maven project and I followed them exactly but I am getting hung up on the last part. Here are the instructions below</p>\n<p><em>Copy the JAR file (helloworld.jar) to the Desktop. Open a terminal window and run the JAR\napplication by using the following command. NOTE: the path to the Java application can\nbe found by going to the Spring Tool Suite IDE Properties, selecting Java &gt; Installed\nJREs, copying the path listed under the JRE 15.0, and appending /bin to that path. Note,\nthat if there are any spaces in the directory path then the Java command including the\npath should be entirely enclosed in double quotes.\nMac: [PATH to Java 15 JRE Install]/bin/java -jar helloworld.jar\nWindows: [PATH to Java 15 JRE Install]\\bin\\java.exe -jar helloworld.jar\n8. Open a browser and go to localhost:8080. The content of the index.html page should be\ndisplayed. Take a screenshot.</em></p>\n<p>I know the file should work because the program executes in Eclipse. It is a Spring Boot project using Maven.</p>\n<p>When I change my working directory to the desktop and run <code>java -jar topic1-1.jar</code> it executes for about a couple seconds and then it prompts for another command <code>C:\\&gt;</code> . I tried going to my local host as well and it isn't working.</p>\n<p>Is there any logging I can set up to get it to throw an error for me?\nHow do I make sure my path is set up right? Am I in the right working directory or do I need to be in ``\\Program Files\\Java\\jdk-16.0.2\\bin``` then execute my command? because when I execute it from that directory it is unable to access the file.... because it is on the desktop.</p>\n<p>Console output when I run in Eclipse</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m              [2m (v3.1.1)[0;39m\n\n[2m2023-06-29T07:18:56.615-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Starting Topic11Application using Java 18.0.2.1 with PID 18568 (C:\\Users\\mitch\\git\\topic1-1\\target\\classes started by mitch in C:\\Users\\mitch\\git\\topic1-1)\n[2m2023-06-29T07:18:56.620-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n[2m2023-06-29T07:18:56.694-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36m.e.DevToolsPropertyDefaultsPostProcessor[0;39m [2m:[0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n[2m2023-06-29T07:18:57.776-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2023-06-29T07:18:57.790-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.10]\n[2m2023-06-29T07:18:57.882-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2023-06-29T07:18:57.883-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 1187 ms\n[2m2023-06-29T07:18:58.108-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.a.w.s.WelcomePageHandlerMapping   [0;39m [2m:[0;39m Adding welcome page: class path resource [static/index.html]\n[2m2023-06-29T07:18:58.205-05:00[0;39m [33m WARN[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mion$DefaultTemplateResolverConfiguration[0;39m [2m:[0;39m Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)\n[2m2023-06-29T07:18:58.259-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.a.OptionalLiveReloadServer      [0;39m [2m:[0;39m LiveReload server is running on port 35729\n[2m2023-06-29T07:18:58.299-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path ''\n[2m2023-06-29T07:18:58.310-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mcom.example.demo.Topic11Application     [0;39m [2m:[0;39m Started Topic11Application in 2.11 seconds (process running for 2.9)\n[2m2023-06-29T07:19:33.746-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2023-06-29T07:19:33.747-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2023-06-29T07:19:33.749-05:00[0;39m [32m INFO[0;39m [35m18568[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 1 ms\n</code></pre>\n<p>output from cmd prompt</p>\n<p><a href=\"https://i.stack.imgur.com/Jl72t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jl72t.png\" alt=\"enter image description here\" /></a></p>\n<p>In the cmd prompt, it goes to the blank lines for a couple of seconds and then is done. The program should continue to run because when I run it in Eclipse as a Spring Boot App it continues to run until I terminate it. While running in Eclipse I can go to my localhost:8080 and it shows my webpage. In the cmd prompt, it does not.</p>\n<p>Output when I changed my directory to Desktop and ran it. Again same thing, runs for a couple seconds and goes to next line.</p>\n<p><a href=\"https://i.stack.imgur.com/qb2mF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qb2mF.png\" alt=\"enter image description here\" /></a></p>\n<p>Command to run suggested by @g00se</p>\n<pre><code>C:\\&gt;java -jar C:\\Users\\mitch\\OneDrive\\Desktop\\topic1-1.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4n3ox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4n3ox.png\" alt=\"enter image description here\" /></a></p>\n<p>Code from project</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Topic11Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Topic11Application.class, args);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":5630280,"reputation":41,"user_id":4457423,"display_name":"fbiberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606810034,"creation_date":1606810034,"answer_id":65086768,"question_id":64954966,"body_markdown":"I had the exact same problem yesterday. The issue had been solved in this question: https://stackoverflow.com/questions/53933508/caused-by-java-lang-illegalargumentexception-token-spring-cloud-vault-token\r\n\r\nYour test class is loaded in application context, but the error you get is thrown in bootstrap context. `spring.cloud`-properties are always loaded in that context. The solution is to set `spring.cloud.vault.enabled=false` in bootstrap context, e.g. you can put it in a bootstrap.yml file in your test-ressources.","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I had the exact same problem yesterday. The issue had been solved in this question: <a href=\"https://stackoverflow.com/questions/53933508/caused-by-java-lang-illegalargumentexception-token-spring-cloud-vault-token\">Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty - Hashicorp Vault</a></p>\n<p>Your test class is loaded in application context, but the error you get is thrown in bootstrap context. <code>spring.cloud</code>-properties are always loaded in that context. The solution is to set <code>spring.cloud.vault.enabled=false</code> in bootstrap context, e.g. you can put it in a bootstrap.yml file in your test-ressources.</p>\n"},{"tags":[],"owner":{"account_id":1277422,"reputation":179,"user_id":1232362,"accept_rate":64,"display_name":"Alexander Tilkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663851549,"creation_date":1663851549,"answer_id":73815073,"question_id":64954966,"body_markdown":"Spring Cloud Vault doesn&#39;t support bootstrap.yml anymore. Hence, you have to write the configuration in application.yml.\r\n\r\nWhen you use application context: WebFluxTest, SpringBootTest, Autowire, etc. the test loads application context that results in reading the application.yml file\r\n\r\nTo avoid loading Vault in UTs you need to create an application.yml file in the resources folder in the Test folder and add the following line: \r\n\r\n    spring.cloud.vault.enabled: false\r\n\r\nNote: yml = properties (whatever format you use) \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OdPDU.png","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>Spring Cloud Vault doesn't support bootstrap.yml anymore. Hence, you have to write the configuration in application.yml.</p>\n<p>When you use application context: WebFluxTest, SpringBootTest, Autowire, etc. the test loads application context that results in reading the application.yml file</p>\n<p>To avoid loading Vault in UTs you need to create an application.yml file in the resources folder in the Test folder and add the following line:</p>\n<pre><code>spring.cloud.vault.enabled: false\n</code></pre>\n<p>Note: yml = properties (whatever format you use)</p>\n<p><a href=\"https://i.stack.imgur.com/OdPDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OdPDU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688046660,"creation_date":1688046660,"answer_id":76581682,"question_id":64954966,"body_markdown":"I&#39;m able to fix this issue using \r\n\r\n    azure.keyvault.enabled=false","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I'm able to fix this issue using</p>\n<pre><code>azure.keyvault.enabled=false\n</code></pre>\n"}],"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688046660,"creation_date":1606053162,"question_id":64954966,"body_markdown":"I&#39;ve disabled the spring vault in my unit tests. But however, its still enabling it and running in the back ground. This is my code. Is there any issue in the below code\r\n\r\n    @RunWith(SpringRunner.class)\r\n\r\n    @SpringBootTest(properties = &quot;spring.cloud.vault.enabled=false&quot;, classes = \r\n     DummyTest.class)\r\n    public class DummyTest{\r\n\t    \r\n\t\t@Test\r\n\t    public void getDummyTest() throws Exception{\r\n\t    \tassertTrue(true);\r\n\t    }\r\n\t\t\r\n    }\r\n\r\nFollowing is the exception that its printing in the console\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty\r\n\tat org.springframework.util.Assert.hasText(Assert.java:287)\r\n\tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:108)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration.clientAuthentication(VaultBootstrapConfiguration.java:206)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.CGLIB$clientAuthentication$3(&lt;generated&gt;)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2$$FastClassBySpringCGLIB$$7f75c921.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.clientAuthentication(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 99 more","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I've disabled the spring vault in my unit tests. But however, its still enabling it and running in the back ground. This is my code. Is there any issue in the below code</p>\n<pre><code>@RunWith(SpringRunner.class)\n\n@SpringBootTest(properties = &quot;spring.cloud.vault.enabled=false&quot;, classes = \n DummyTest.class)\npublic class DummyTest{\n    \n    @Test\n    public void getDummyTest() throws Exception{\n        assertTrue(true);\n    }\n    \n}\n</code></pre>\n<p>Following is the exception that its printing in the console</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty\nat org.springframework.util.Assert.hasText(Assert.java:287)\nat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:108)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration.clientAuthentication(VaultBootstrapConfiguration.java:206)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.CGLIB$clientAuthentication$3(&lt;generated&gt;)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2$$FastClassBySpringCGLIB$$7f75c921.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.clientAuthentication(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 99 more\n</code></pre>\n"},{"tags":["java","soap","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688046315,"creation_date":1688046315,"answer_id":76581633,"question_id":76577257,"body_markdown":"I was able to find and fix my problem. Checking the javadocs some more, encodeValue() by default raises UnsupportedOperationException as it is expected that some encoders cannot produce a single buffer or cannot do so synchronously (e.g. encoding a Resource).\r\n\r\nSo, I redid these classes:\r\n\r\nclass Jaxb2RsaDecoder extends Jaxb2XmlDecoder\r\n\r\n    public Jaxb2RsaDecoder() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\r\n    public Object decode(DataBuffer dataBuffer, ResolvableType targetType,\r\n                         @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\r\n        log.debug(&quot;dataBuffer: {}, targetType: {}&quot;, dataBuffer, targetType);\r\n        try {\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\r\n            return unmarshal(message, targetType.toClass());\r\n        }\r\n        catch (Throwable ex) {\r\n            ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\r\n            throw Exceptions.propagate(ex);\r\n        }\r\n        finally {\r\n            DataBufferUtils.release(dataBuffer);\r\n        }\r\n    }\r\n\r\n    private Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\r\n        log.debug(&quot;message: {}, outputClass: {}&quot;, message, outputClass);\r\n        try {\r\n            Jaxb2Marshaller marshaller = initJaxb2Marshaller();\r\n            Object value = marshaller.unmarshal(message.getPayloadSource());\r\n            log.debug(&quot;value.class: {}, outputClass: {}&quot;, value.getClass(), outputClass);\r\n            return value;\r\n        }\r\n        catch (UnmarshalException ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n        catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        }\r\n        catch (Exception ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n    }\r\n\r\n    private Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(settings.getRsaPackage());\r\n\r\n        try {\r\n            marshaller.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not set properties, please check &quot;, e);\r\n        }\r\n\r\n        getUnmarshallerProcessor().apply(marshaller.createUnmarshaller());\r\n\r\n        return marshaller;\r\n    }\r\n\r\nclass Jaxb2RsaEncoder implements Encoder&lt;Object&gt;\r\n\r\n    @Override\r\n    public boolean canEncode(ResolvableType elementType, MimeType mimeType) {\r\n        Class&lt;?&gt; outputClass = elementType.toClass();\r\n        boolean result = (outputClass.isAnnotationPresent(XmlRootElement.class) ||\r\n                          outputClass.isAnnotationPresent(XmlType.class));\r\n        log.debug(&quot;outputClass: {}, canEncode: {}&quot;, outputClass, result);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n        return Flux.from(inputStream)\r\n                .take(1)\r\n                .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\r\n                .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MimeType&gt; getEncodableMimeTypes() {\r\n        return Arrays.asList( MediaType.TEXT_XML );\r\n    }\r\n\r\n    private Flux&lt;DataBuffer&gt; encode(Object value,\r\n                                    DataBufferFactory bufferFactory,\r\n                                    ResolvableType type,\r\n                                    MimeType mimeType,\r\n                                    Map&lt;String, Object&gt; hints) {\r\n        return Mono.fromCallable(() -&gt; this.encodeValue(value, bufferFactory, type, mimeType, hints)).flux();\r\n    }\r\n\r\n    @Override\r\n    public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType type,\r\n                                  @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\r\n        log.debug(&quot;encodeValue - start: {}&quot;, value.getClass());\r\n        boolean release = true;\r\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n        try {\r\n            OutputStream outputStream = buffer.asOutputStream();\r\n            Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\r\n            Marshaller marshaller = initJaxb2Marshaller().createMarshaller();\r\n\r\n            // here should be optimized\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage();\r\n\r\n            marshaller.marshal(value, message.getPayloadResult());\r\n            message.writeTo(outputStream);\r\n\r\n            release = false;\r\n            log.debug(&quot;encodeValue - buffer: {}&quot;, buffer);\r\n            return buffer;\r\n        } catch (MarshalException ex) {\r\n            throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        } catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        } catch (Exception ex) {\r\n            throw new EncodingException(&quot;Could not encode value &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        } finally {\r\n            if (release) {\r\n                DataBufferUtils.release(buffer);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(settings.getRsaPackage());\r\n\r\n        try {\r\n            marshaller.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not set properties, please check &quot;, e);\r\n        }\r\n\r\n        return marshaller;\r\n    }\r\n\r\nAnd then updated the ExchangeStrategy on the webClient:\r\n\r\n    @Bean(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient() {\r\n        ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\r\n            .codecs(clientCodecConfigurer -&gt; {\r\n                Encoder&lt;Object&gt; encoder = new Jaxb2RsaEncoder();\r\n                clientCodecConfigurer.customCodecs().encoder(encoder);\r\n                Decoder&lt;Object&gt; decoder = new Jaxb2RsaDecoder();\r\n                clientCodecConfigurer.customCodecs().decoder(decoder);\r\n                log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\r\n                log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\r\n                log.debug(&quot;encoder: {}, decoder: {}&quot;, encoder, decoder);\r\n            }).build();\r\n\r\n        WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient()))\r\n            .filter(this.logRequest())\r\n            .filter(this.logResponse())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .build();\r\n\r\n        log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\r\n        return webClient;\r\n    }\r\n\r\nNow, I can make synchronous requests and the exchange strategy will use my WSDL generated packages to handle encoding and decoding of the SOAP classes.","title":"Spring WebClient - SOAP Encoder UnsupportedOperationException: null","body":"<p>I was able to find and fix my problem. Checking the javadocs some more, encodeValue() by default raises UnsupportedOperationException as it is expected that some encoders cannot produce a single buffer or cannot do so synchronously (e.g. encoding a Resource).</p>\n<p>So, I redid these classes:</p>\n<p>class Jaxb2RsaDecoder extends Jaxb2XmlDecoder</p>\n<pre><code>public Jaxb2RsaDecoder() {\n    super();\n}\n\n@Override\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\npublic Object decode(DataBuffer dataBuffer, ResolvableType targetType,\n                     @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\n    log.debug(&quot;dataBuffer: {}, targetType: {}&quot;, dataBuffer, targetType);\n    try {\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\n        return unmarshal(message, targetType.toClass());\n    }\n    catch (Throwable ex) {\n        ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\n        throw Exceptions.propagate(ex);\n    }\n    finally {\n        DataBufferUtils.release(dataBuffer);\n    }\n}\n\nprivate Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\n    log.debug(&quot;message: {}, outputClass: {}&quot;, message, outputClass);\n    try {\n        Jaxb2Marshaller marshaller = initJaxb2Marshaller();\n        Object value = marshaller.unmarshal(message.getPayloadSource());\n        log.debug(&quot;value.class: {}, outputClass: {}&quot;, value.getClass(), outputClass);\n        return value;\n    }\n    catch (UnmarshalException ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n    catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    }\n    catch (Exception ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n}\n\nprivate Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(settings.getRsaPackage());\n\n    try {\n        marshaller.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;Could not set properties, please check &quot;, e);\n    }\n\n    getUnmarshallerProcessor().apply(marshaller.createUnmarshaller());\n\n    return marshaller;\n}\n</code></pre>\n<p>class Jaxb2RsaEncoder implements Encoder</p>\n<pre><code>@Override\npublic boolean canEncode(ResolvableType elementType, MimeType mimeType) {\n    Class&lt;?&gt; outputClass = elementType.toClass();\n    boolean result = (outputClass.isAnnotationPresent(XmlRootElement.class) ||\n                      outputClass.isAnnotationPresent(XmlType.class));\n    log.debug(&quot;outputClass: {}, canEncode: {}&quot;, outputClass, result);\n    return result;\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n    return Flux.from(inputStream)\n            .take(1)\n            .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\n            .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\n}\n\n@Override\npublic List&lt;MimeType&gt; getEncodableMimeTypes() {\n    return Arrays.asList( MediaType.TEXT_XML );\n}\n\nprivate Flux&lt;DataBuffer&gt; encode(Object value,\n                                DataBufferFactory bufferFactory,\n                                ResolvableType type,\n                                MimeType mimeType,\n                                Map&lt;String, Object&gt; hints) {\n    return Mono.fromCallable(() -&gt; this.encodeValue(value, bufferFactory, type, mimeType, hints)).flux();\n}\n\n@Override\npublic DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType type,\n                              @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\n    log.debug(&quot;encodeValue - start: {}&quot;, value.getClass());\n    boolean release = true;\n    DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n    try {\n        OutputStream outputStream = buffer.asOutputStream();\n        Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\n        Marshaller marshaller = initJaxb2Marshaller().createMarshaller();\n\n        // here should be optimized\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage();\n\n        marshaller.marshal(value, message.getPayloadResult());\n        message.writeTo(outputStream);\n\n        release = false;\n        log.debug(&quot;encodeValue - buffer: {}&quot;, buffer);\n        return buffer;\n    } catch (MarshalException ex) {\n        throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    } catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    } catch (Exception ex) {\n        throw new EncodingException(&quot;Could not encode value &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    } finally {\n        if (release) {\n            DataBufferUtils.release(buffer);\n        }\n    }\n}\n\n\nprivate Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(settings.getRsaPackage());\n\n    try {\n        marshaller.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;Could not set properties, please check &quot;, e);\n    }\n\n    return marshaller;\n}\n</code></pre>\n<p>And then updated the ExchangeStrategy on the webClient:</p>\n<pre><code>@Bean(&quot;soapWebClient&quot;)\nWebClient soapWebClient() {\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\n        .codecs(clientCodecConfigurer -&gt; {\n            Encoder&lt;Object&gt; encoder = new Jaxb2RsaEncoder();\n            clientCodecConfigurer.customCodecs().encoder(encoder);\n            Decoder&lt;Object&gt; decoder = new Jaxb2RsaDecoder();\n            clientCodecConfigurer.customCodecs().decoder(decoder);\n            log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\n            log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\n            log.debug(&quot;encoder: {}, decoder: {}&quot;, encoder, decoder);\n        }).build();\n\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(httpClient()))\n        .filter(this.logRequest())\n        .filter(this.logResponse())\n        .exchangeStrategies(exchangeStrategies)\n        .build();\n\n    log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\n    return webClient;\n}\n</code></pre>\n<p>Now, I can make synchronous requests and the exchange strategy will use my WSDL generated packages to handle encoding and decoding of the SOAP classes.</p>\n"}],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688046315,"creation_date":1687994882,"question_id":76577257,"body_markdown":"I am getting a UnsupportedOperationException: null on [Encoder.encodeValue() \\[spring-core-5.2.0.RELEASE\\]][1] when making a POST to a SOAP service using WebClient from Spring WebFlux.\r\n\r\nI am using spring-boot 2.2.0.RELEASE with JDK 1.8.0_252 (application has requirement to use this for compatibility reasons). The application also has a requirement to be able to run synchronously, but we are evaluating replacing a blocking WebClient from our old RestTemplate and WebServiceTemplate to have a standard way to make web requests since RestTemplate is now in maintenance only mode. The calls I made with WebClient replacing RestTemplate work as expected, I just need to fix this error to handle the replacing of the WebServiceTemplate.\r\n\r\nI setup the encoder and decoder with the clientCodecConfigurer object, but I can&#39;t seem to see the source of the code processing the Encoder.encodeValue() interface method. It doesn&#39;t look like it is going into the encoder I have setup, so I can&#39;t trace where the null value is coming from or why it is coming. Any help would be greatly appreciated.\r\n\r\n    2023-06-28T10:03:31.974-0400 DEBUG SpringService.rsa.RSAClient:42 - Making SOAP request to https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication 30\r\n    2023-06-28T10:03:31.974-0400 INFO SpringService.rsa.RSAClient:132 - Making analyze request now\r\n    2023-06-28T10:03:32.047-0400 INFO SpringService.config.WebClientConfig:99 - WebClient request: POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication org.springframework.web.reactive.function.BodyInserters$$Lambda$709/1296999056@320c5ef8\r\n    2023-06-28T10:03:32.051-0400 DEBUG SpringService.config.WebClientConfig:101 - Header: Content-Type: text/xml\r\n    2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:129 - -Dio.netty.leakDetection.level: simple\r\n    2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:130 - -Dio.netty.leakDetection.targetRecords: 4\r\n    2023-06-28T10:03:32.147-0400 DEBUG reactor.netty.resources.DefaultLoopEpoll:249 - Default Epoll support : true\r\n    2023-06-28T10:03:32.149-0400 DEBUG reactor.netty.resources.DefaultLoopKQueue:249 - Default KQueue support : false\r\n    2023-06-28T10:03:32.159-0400 DEBUG io.netty.channel.MultithreadEventLoopGroup:44 - -Dio.netty.eventLoopThreads: 8\r\n    2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:54 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n    2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:57 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n    2023-06-28T10:03:32.195-0400 DEBUG io.netty.util.internal.PlatformDependent:890 - org.jctools-core.MpscChunkedArrayQueue: available\r\n    2023-06-28T10:03:32.239-0400 DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions:91 - [73ba4b0e] HTTP POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication\r\n    2023-06-28T10:03:32.258-0400 DEBUG io.netty.handler.ssl.OpenSsl:124 - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.\r\n    2023-06-28T10:03:32.307-0400 DEBUG io.netty.handler.ssl.JdkSslContext:96 - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \r\n    2023-06-28T10:03:32.308-0400 DEBUG io.netty.handler.ssl.JdkSslContext:97 - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA]\r\n    2023-06-28T10:03:32.323-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - Creating new client pool [http-client] for {soap.url}:{soap.port}\r\n    2023-06-28T10:03:32.353-0400 DEBUG io.netty.channel.DefaultChannelId:79 - -Dio.netty.processId: 1351120 (auto-detected)\r\n    2023-06-28T10:03:32.355-0400 DEBUG io.netty.channel.DefaultChannelId:101 - -Dio.netty.machineId: 00:50:56:ff:fe:9e:25:8d (auto-detected)\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:142 - -Dio.netty.allocator.numHeapArenas: 4\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:143 - -Dio.netty.allocator.numDirectArenas: 4\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:145 - -Dio.netty.allocator.pageSize: 8192\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:150 - -Dio.netty.allocator.maxOrder: 11\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:154 - -Dio.netty.allocator.chunkSize: 16777216\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:155 - -Dio.netty.allocator.tinyCacheSize: 512\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:156 - -Dio.netty.allocator.smallCacheSize: 256\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:157 - -Dio.netty.allocator.normalCacheSize: 64\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:158 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:159 - -Dio.netty.allocator.cacheTrimInterval: 8192\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:160 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:161 - -Dio.netty.allocator.useCacheForAllThreads: true\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:162 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n    2023-06-28T10:03:32.391-0400 DEBUG io.netty.buffer.ByteBufUtil:85 - -Dio.netty.allocator.type: pooled\r\n    2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:94 - -Dio.netty.threadLocalDirectBufferSize: 0\r\n    2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:97 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n    2023-06-28T10:03:32.408-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88] Created new pooled channel, now 1 active connections and 0 inactive connections\r\n    2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:62 - -Dio.netty.buffer.checkAccessible: true\r\n    2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:63 - -Dio.netty.buffer.checkBounds: true\r\n    2023-06-28T10:03:32.434-0400 DEBUG io.netty.util.ResourceLeakDetectorFactory:195 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3cf5a5a0\r\n    2023-06-28T10:03:32.442-0400 DEBUG reactor.netty.tcp.SslProvider:254 - [id: 0x8f0f4d88] SSL enabled using engine SSLEngineImpl and SNI {soap.url}:{soap.port}\r\n    2023-06-28T10:03:32.447-0400 DEBUG reactor.netty.channel.BootstrapHandlers:254 - [id: 0x8f0f4d88] Initialized pipeline DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.sslReader = reactor.netty.tcp.SslProvider$SslReadHandler), (BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\r\n    2023-06-28T10:03:32.458-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Channel connected, now 1 active connections and 0 inactive connections\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:96 - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:97 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:98 - -Dio.netty.recycler.linkCapacity: 16\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:99 - -Dio.netty.recycler.ratio: 8\r\n    2023-06-28T10:03:32.536-0400 DEBUG io.netty.handler.ssl.SslHandler:1748 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n    2023-06-28T10:03:32.537-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, [connected])\r\n    2023-06-28T10:03:32.539-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, newState=[connected]\r\n    2023-06-28T10:03:32.555-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, [configured])\r\n    2023-06-28T10:03:32.556-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, newState=[configured]\r\n    2023-06-28T10:03:32.557-0400 DEBUG reactor.netty.http.client.HttpClientConnect:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Handler is being applied: {uri=https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication, method=POST}\r\n    2023-06-28T10:03:32.570-0400 DEBUG reactor.netty.http.client.HttpClientOperations:259 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Outbound error happened\r\n    java.lang.UnsupportedOperationException: null\r\n    \tat org.springframework.core.codec.Encoder.encodeValue(Encoder.java:89) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n    \tat org.springframework.http.codec.EncoderHttpMessageWriter.lambda$write$1(EncoderHttpMessageWriter.java:125) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1956) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1830) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:430) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:473) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onStateChange(PooledConnectionProvider.java:525) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.resources.PooledConnectionProvider$PooledConnection.onStateChange(PooledConnectionProvider.java:434) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:414) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:213) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:731) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:341) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:327) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:319) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1750) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1409) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1224) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1271) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:505) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:283) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:483) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n\r\nI have a @Configuration class: WebClientConfig implements ConnectionObserver, with the following Beans:\r\n\r\n    @Bean(&quot;httpClient&quot;)\r\n    HttpClient httpClient() {\r\n        ConnectionProvider connectionProvider = ConnectionProvider.fixed(&quot;http-client&quot;,\r\n                settings.getMaxConnections(),\r\n                settings.getAcquireTimeout(),\r\n                Duration.ofMillis(settings.getMaxIdleTime()));\r\n        HttpClient httpClient = HttpClient.create(connectionProvider)\r\n                .observe(this);\r\n        log.debug(&quot;connectionProvider: {}, httpClient: {}&quot;, connectionProvider, httpClient);\r\n        return httpClient;\r\n    }\r\n\r\n    @Bean(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient() {\r\n        ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\r\n            .codecs(clientCodecConfigurer -&gt; {\r\n                clientCodecConfigurer.customCodecs().encoder(new Jaxb2SoapEncoder());\r\n                clientCodecConfigurer.customCodecs().decoder(new Jaxb2SoapDecoder());\r\n                log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\r\n                log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\r\n            }).build();\r\n\r\n        WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient()))\r\n            .filter(this.logRequest())\r\n            .filter(this.logResponse())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .build();\r\n\r\n        log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\r\n        return webClient;\r\n    }\r\n\r\nclass: Jaxb2SoapDecoder extends Jaxb2XmlDecoder\r\n\r\n    private static final XMLInputFactory inputFactory = StaxUtils.createDefensiveInputFactory();\r\n\r\n    private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\r\n\r\n    public Jaxb2SoapDecoder() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\r\n    public Object decode(DataBuffer dataBuffer, ResolvableType targetType,\r\n                         @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\r\n        try {\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\r\n            return unmarshal(message, targetType.toClass());\r\n        }\r\n        catch (Throwable ex) {\r\n            ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\r\n            throw Exceptions.propagate(ex);\r\n        }\r\n        finally {\r\n            DataBufferUtils.release(dataBuffer);\r\n        }\r\n    }\r\n\r\n    private Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\r\n        try {\r\n            Unmarshaller unmarshaller = initUnmarshaller(outputClass);\r\n            JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(message.getPayloadSource(),outputClass);\r\n            return jaxbElement.getValue();\r\n        }\r\n        catch (UnmarshalException ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n        catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private Unmarshaller initUnmarshaller(Class&lt;?&gt; outputClass) throws CodecException, JAXBException {\r\n        Unmarshaller unmarshaller = this.jaxbContexts.createUnmarshaller(outputClass);\r\n        return getUnmarshallerProcessor().apply(unmarshaller);\r\n    }\r\n\r\nclass: Jaxb2SoapEncoder implements Encoder&lt;Object&gt;\r\n\r\n    private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\r\n\r\n    @Override\r\n    public boolean canEncode(ResolvableType elementType, MimeType mimeType) {\r\n        Class&lt;?&gt; outputClass = elementType.toClass();\r\n        return (outputClass.isAnnotationPresent(XmlRootElement.class) ||\r\n                outputClass.isAnnotationPresent(XmlType.class));\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n        return Flux.from(inputStream)\r\n                .take(1)\r\n                .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\r\n                .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MimeType&gt; getEncodableMimeTypes() {\r\n        return Arrays.asList( MimeTypeUtils.TEXT_XML );\r\n    }\r\n\r\n    private Flux&lt;DataBuffer&gt; encode(Object value ,\r\n                                    DataBufferFactory bufferFactory,\r\n                                    ResolvableType type,\r\n                                    MimeType mimeType,\r\n                                    Map&lt;String, Object&gt; hints){\r\n        return Mono.fromCallable(() -&gt; {\r\n            boolean release = true;\r\n            DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n            try {\r\n                SoapEnvelopeRequest soapEnvelopeRequest = (SoapEnvelopeRequest)value;\r\n\r\n                OutputStream outputStream = buffer.asOutputStream();\r\n                Class&lt;?&gt; clazz = ClassUtils.getUserClass(soapEnvelopeRequest.getBody());\r\n                Marshaller marshaller = initMarshaller(clazz);\r\n\r\n                DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n                WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n                WebServiceMessage message = messageFactory.createWebServiceMessage();\r\n\r\n                if( soapEnvelopeRequest.getHeaderContent() != null ){\r\n                    SoapMessage soapMessage = (SoapMessage)message;\r\n                    SoapHeader header = soapMessage.getSoapHeader();\r\n                    StringSource headerSource = new StringSource(soapEnvelopeRequest.getHeaderContent());\r\n                    Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n                    transformer.transform(headerSource, header.getResult());\r\n                }\r\n\r\n                marshaller.marshal(soapEnvelopeRequest.getBody(), message.getPayloadResult());\r\n                message.writeTo(outputStream);\r\n\r\n                release = false;\r\n                return buffer;\r\n            }\r\n            catch (MarshalException ex) {\r\n                throw new EncodingException(\r\n                        &quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n            }\r\n            catch (JAXBException ex) {\r\n                throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n            }\r\n            finally {\r\n                if (release) {\r\n                    DataBufferUtils.release(buffer);\r\n                }\r\n            }\r\n        }).flux();\r\n    }\r\n\r\n    private Marshaller initMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        Marshaller marshaller = this.jaxbContexts.createMarshaller(clazz);\r\n        marshaller.setProperty(Marshaller.JAXB_ENCODING, StandardCharsets.UTF_8.name());\r\n        return marshaller;\r\n    }\r\n\r\nclass: JaxbContextContainer\r\n\r\n    private final ConcurrentMap&lt;Class&lt;?&gt;, JAXBContext&gt; jaxbContexts = new ConcurrentHashMap&lt;&gt;(64);\r\n\r\n\r\n    public Marshaller createMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        JAXBContext jaxbContext = getJaxbContext(clazz);\r\n        return jaxbContext.createMarshaller();\r\n    }\r\n\r\n    public Unmarshaller createUnmarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        JAXBContext jaxbContext = getJaxbContext(clazz);\r\n        return jaxbContext.createUnmarshaller();\r\n    }\r\n\r\n    private JAXBContext getJaxbContext(Class&lt;?&gt; clazz) throws JAXBException {\r\n        Assert.notNull(clazz, &quot;Class must not be null&quot;);\r\n        JAXBContext jaxbContext = this.jaxbContexts.get(clazz);\r\n        if (jaxbContext == null) {\r\n            jaxbContext = JAXBContext.newInstance(clazz);\r\n            this.jaxbContexts.putIfAbsent(clazz, jaxbContext);\r\n        }\r\n        return jaxbContext;\r\n    }\r\n\r\nAnd when I make the request:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient;\r\n\r\n    public &lt;I, O&gt; O marshalSendAndReceive(String soapServiceUrl, I request, Class&lt;I&gt; requestClass, Class&lt;O&gt; responseClass) {\r\n        log.debug(&quot;Making SOAP request to {} {}&quot;, soapServiceUrl, log.isTraceEnabled() ? String.valueOf(request) : String.valueOf(request).length());\r\n        return soapWebClient.post()\r\n            .uri(soapServiceUrl)\r\n            .contentType(MediaType.TEXT_XML)\r\n            .body(Mono.just(request), requestClass)\r\n            .retrieve()\r\n            .onStatus(HttpStatus::isError, clientResponse -&gt;\r\n                clientResponse.bodyToMono(String.class).flatMap(errorResponseBody -&gt; {\r\n                    log.error(&quot;Fault from SOAP call {} {} {}&quot;, soapServiceUrl, clientResponse.statusCode(), errorResponseBody);\r\n                    return Mono.error(new ResponseStatusHeadersException(\r\n                        clientResponse.statusCode(),\r\n                        clientResponse.headers().asHttpHeaders(),\r\n                        errorResponseBody\r\n                    ));\r\n                })\r\n            )\r\n            .bodyToMono(responseClass)\r\n            .block();\r\n    }\r\n\r\n    public AnalyzeResponse analyze(Analyze request) {\r\n        log.info(&quot;RSAClient - Processing the analyze request:&quot; + request.toString());\r\n        log.info(&quot;Making analyze request now&quot;);\r\n        \r\n        AnalyzeResponse response = null;\r\n        response = marshalSendAndReceive(settings.getRsaEntServerAddress(), request, Analyze.class, AnalyzeResponse.class);\r\n        \r\n        log.info(&quot;Successfully got analyze response: {}&quot;, response);\r\n        return response;\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/codec/Encoder.html#encodeValue-T-org.springframework.core.io.buffer.DataBufferFactory-org.springframework.core.ResolvableType-org.springframework.util.MimeType-java.util.Map-","title":"Spring WebClient - SOAP Encoder UnsupportedOperationException: null","body":"<p>I am getting a UnsupportedOperationException: null on <a href=\"https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/codec/Encoder.html#encodeValue-T-org.springframework.core.io.buffer.DataBufferFactory-org.springframework.core.ResolvableType-org.springframework.util.MimeType-java.util.Map-\" rel=\"nofollow noreferrer\">Encoder.encodeValue() [spring-core-5.2.0.RELEASE]</a> when making a POST to a SOAP service using WebClient from Spring WebFlux.</p>\n<p>I am using spring-boot 2.2.0.RELEASE with JDK 1.8.0_252 (application has requirement to use this for compatibility reasons). The application also has a requirement to be able to run synchronously, but we are evaluating replacing a blocking WebClient from our old RestTemplate and WebServiceTemplate to have a standard way to make web requests since RestTemplate is now in maintenance only mode. The calls I made with WebClient replacing RestTemplate work as expected, I just need to fix this error to handle the replacing of the WebServiceTemplate.</p>\n<p>I setup the encoder and decoder with the clientCodecConfigurer object, but I can't seem to see the source of the code processing the Encoder.encodeValue() interface method. It doesn't look like it is going into the encoder I have setup, so I can't trace where the null value is coming from or why it is coming. Any help would be greatly appreciated.</p>\n<pre><code>2023-06-28T10:03:31.974-0400 DEBUG SpringService.rsa.RSAClient:42 - Making SOAP request to https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication 30\n2023-06-28T10:03:31.974-0400 INFO SpringService.rsa.RSAClient:132 - Making analyze request now\n2023-06-28T10:03:32.047-0400 INFO SpringService.config.WebClientConfig:99 - WebClient request: POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication org.springframework.web.reactive.function.BodyInserters$$Lambda$709/1296999056@320c5ef8\n2023-06-28T10:03:32.051-0400 DEBUG SpringService.config.WebClientConfig:101 - Header: Content-Type: text/xml\n2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:129 - -Dio.netty.leakDetection.level: simple\n2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:130 - -Dio.netty.leakDetection.targetRecords: 4\n2023-06-28T10:03:32.147-0400 DEBUG reactor.netty.resources.DefaultLoopEpoll:249 - Default Epoll support : true\n2023-06-28T10:03:32.149-0400 DEBUG reactor.netty.resources.DefaultLoopKQueue:249 - Default KQueue support : false\n2023-06-28T10:03:32.159-0400 DEBUG io.netty.channel.MultithreadEventLoopGroup:44 - -Dio.netty.eventLoopThreads: 8\n2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:54 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\n2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:57 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\n2023-06-28T10:03:32.195-0400 DEBUG io.netty.util.internal.PlatformDependent:890 - org.jctools-core.MpscChunkedArrayQueue: available\n2023-06-28T10:03:32.239-0400 DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions:91 - [73ba4b0e] HTTP POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication\n2023-06-28T10:03:32.258-0400 DEBUG io.netty.handler.ssl.OpenSsl:124 - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.\n2023-06-28T10:03:32.307-0400 DEBUG io.netty.handler.ssl.JdkSslContext:96 - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \n2023-06-28T10:03:32.308-0400 DEBUG io.netty.handler.ssl.JdkSslContext:97 - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA]\n2023-06-28T10:03:32.323-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - Creating new client pool [http-client] for {soap.url}:{soap.port}\n2023-06-28T10:03:32.353-0400 DEBUG io.netty.channel.DefaultChannelId:79 - -Dio.netty.processId: 1351120 (auto-detected)\n2023-06-28T10:03:32.355-0400 DEBUG io.netty.channel.DefaultChannelId:101 - -Dio.netty.machineId: 00:50:56:ff:fe:9e:25:8d (auto-detected)\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:142 - -Dio.netty.allocator.numHeapArenas: 4\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:143 - -Dio.netty.allocator.numDirectArenas: 4\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:145 - -Dio.netty.allocator.pageSize: 8192\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:150 - -Dio.netty.allocator.maxOrder: 11\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:154 - -Dio.netty.allocator.chunkSize: 16777216\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:155 - -Dio.netty.allocator.tinyCacheSize: 512\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:156 - -Dio.netty.allocator.smallCacheSize: 256\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:157 - -Dio.netty.allocator.normalCacheSize: 64\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:158 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:159 - -Dio.netty.allocator.cacheTrimInterval: 8192\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:160 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:161 - -Dio.netty.allocator.useCacheForAllThreads: true\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:162 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n2023-06-28T10:03:32.391-0400 DEBUG io.netty.buffer.ByteBufUtil:85 - -Dio.netty.allocator.type: pooled\n2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:94 - -Dio.netty.threadLocalDirectBufferSize: 0\n2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:97 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\n2023-06-28T10:03:32.408-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88] Created new pooled channel, now 1 active connections and 0 inactive connections\n2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:62 - -Dio.netty.buffer.checkAccessible: true\n2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:63 - -Dio.netty.buffer.checkBounds: true\n2023-06-28T10:03:32.434-0400 DEBUG io.netty.util.ResourceLeakDetectorFactory:195 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3cf5a5a0\n2023-06-28T10:03:32.442-0400 DEBUG reactor.netty.tcp.SslProvider:254 - [id: 0x8f0f4d88] SSL enabled using engine SSLEngineImpl and SNI {soap.url}:{soap.port}\n2023-06-28T10:03:32.447-0400 DEBUG reactor.netty.channel.BootstrapHandlers:254 - [id: 0x8f0f4d88] Initialized pipeline DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.sslReader = reactor.netty.tcp.SslProvider$SslReadHandler), (BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\n2023-06-28T10:03:32.458-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Channel connected, now 1 active connections and 0 inactive connections\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:96 - -Dio.netty.recycler.maxCapacityPerThread: 4096\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:97 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:98 - -Dio.netty.recycler.linkCapacity: 16\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:99 - -Dio.netty.recycler.ratio: 8\n2023-06-28T10:03:32.536-0400 DEBUG io.netty.handler.ssl.SslHandler:1748 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n2023-06-28T10:03:32.537-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, [connected])\n2023-06-28T10:03:32.539-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, newState=[connected]\n2023-06-28T10:03:32.555-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, [configured])\n2023-06-28T10:03:32.556-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, newState=[configured]\n2023-06-28T10:03:32.557-0400 DEBUG reactor.netty.http.client.HttpClientConnect:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Handler is being applied: {uri=https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication, method=POST}\n2023-06-28T10:03:32.570-0400 DEBUG reactor.netty.http.client.HttpClientOperations:259 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Outbound error happened\njava.lang.UnsupportedOperationException: null\n    at org.springframework.core.codec.Encoder.encodeValue(Encoder.java:89) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.http.codec.EncoderHttpMessageWriter.lambda$write$1(EncoderHttpMessageWriter.java:125) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1956) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1830) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:430) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:473) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onStateChange(PooledConnectionProvider.java:525) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.resources.PooledConnectionProvider$PooledConnection.onStateChange(PooledConnectionProvider.java:434) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:414) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:213) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:731) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:341) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:327) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:319) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1750) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1409) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1224) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1271) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:505) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:283) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:483) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\n</code></pre>\n<p>I have a @Configuration class: WebClientConfig implements ConnectionObserver, with the following Beans:</p>\n<pre><code>@Bean(&quot;httpClient&quot;)\nHttpClient httpClient() {\n    ConnectionProvider connectionProvider = ConnectionProvider.fixed(&quot;http-client&quot;,\n            settings.getMaxConnections(),\n            settings.getAcquireTimeout(),\n            Duration.ofMillis(settings.getMaxIdleTime()));\n    HttpClient httpClient = HttpClient.create(connectionProvider)\n            .observe(this);\n    log.debug(&quot;connectionProvider: {}, httpClient: {}&quot;, connectionProvider, httpClient);\n    return httpClient;\n}\n\n@Bean(&quot;soapWebClient&quot;)\nWebClient soapWebClient() {\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\n        .codecs(clientCodecConfigurer -&gt; {\n            clientCodecConfigurer.customCodecs().encoder(new Jaxb2SoapEncoder());\n            clientCodecConfigurer.customCodecs().decoder(new Jaxb2SoapDecoder());\n            log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\n            log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\n        }).build();\n\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(httpClient()))\n        .filter(this.logRequest())\n        .filter(this.logResponse())\n        .exchangeStrategies(exchangeStrategies)\n        .build();\n\n    log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\n    return webClient;\n}\n</code></pre>\n<p>class: Jaxb2SoapDecoder extends Jaxb2XmlDecoder</p>\n<pre><code>private static final XMLInputFactory inputFactory = StaxUtils.createDefensiveInputFactory();\n\nprivate final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\n\npublic Jaxb2SoapDecoder() {\n    super();\n}\n\n@Override\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\npublic Object decode(DataBuffer dataBuffer, ResolvableType targetType,\n                     @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\n    try {\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\n        return unmarshal(message, targetType.toClass());\n    }\n    catch (Throwable ex) {\n        ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\n        throw Exceptions.propagate(ex);\n    }\n    finally {\n        DataBufferUtils.release(dataBuffer);\n    }\n}\n\nprivate Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\n    try {\n        Unmarshaller unmarshaller = initUnmarshaller(outputClass);\n        JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(message.getPayloadSource(),outputClass);\n        return jaxbElement.getValue();\n    }\n    catch (UnmarshalException ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n    catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    }\n}\n\nprivate Unmarshaller initUnmarshaller(Class&lt;?&gt; outputClass) throws CodecException, JAXBException {\n    Unmarshaller unmarshaller = this.jaxbContexts.createUnmarshaller(outputClass);\n    return getUnmarshallerProcessor().apply(unmarshaller);\n}\n</code></pre>\n<p>class: Jaxb2SoapEncoder implements Encoder</p>\n<pre><code>private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\n\n@Override\npublic boolean canEncode(ResolvableType elementType, MimeType mimeType) {\n    Class&lt;?&gt; outputClass = elementType.toClass();\n    return (outputClass.isAnnotationPresent(XmlRootElement.class) ||\n            outputClass.isAnnotationPresent(XmlType.class));\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n    return Flux.from(inputStream)\n            .take(1)\n            .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\n            .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\n}\n\n@Override\npublic List&lt;MimeType&gt; getEncodableMimeTypes() {\n    return Arrays.asList( MimeTypeUtils.TEXT_XML );\n}\n\nprivate Flux&lt;DataBuffer&gt; encode(Object value ,\n                                DataBufferFactory bufferFactory,\n                                ResolvableType type,\n                                MimeType mimeType,\n                                Map&lt;String, Object&gt; hints){\n    return Mono.fromCallable(() -&gt; {\n        boolean release = true;\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n        try {\n            SoapEnvelopeRequest soapEnvelopeRequest = (SoapEnvelopeRequest)value;\n\n            OutputStream outputStream = buffer.asOutputStream();\n            Class&lt;?&gt; clazz = ClassUtils.getUserClass(soapEnvelopeRequest.getBody());\n            Marshaller marshaller = initMarshaller(clazz);\n\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n            WebServiceMessage message = messageFactory.createWebServiceMessage();\n\n            if( soapEnvelopeRequest.getHeaderContent() != null ){\n                SoapMessage soapMessage = (SoapMessage)message;\n                SoapHeader header = soapMessage.getSoapHeader();\n                StringSource headerSource = new StringSource(soapEnvelopeRequest.getHeaderContent());\n                Transformer transformer = TransformerFactory.newInstance().newTransformer();\n                transformer.transform(headerSource, header.getResult());\n            }\n\n            marshaller.marshal(soapEnvelopeRequest.getBody(), message.getPayloadResult());\n            message.writeTo(outputStream);\n\n            release = false;\n            return buffer;\n        }\n        catch (MarshalException ex) {\n            throw new EncodingException(\n                    &quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n        }\n        catch (JAXBException ex) {\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n        }\n        finally {\n            if (release) {\n                DataBufferUtils.release(buffer);\n            }\n        }\n    }).flux();\n}\n\nprivate Marshaller initMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    Marshaller marshaller = this.jaxbContexts.createMarshaller(clazz);\n    marshaller.setProperty(Marshaller.JAXB_ENCODING, StandardCharsets.UTF_8.name());\n    return marshaller;\n}\n</code></pre>\n<p>class: JaxbContextContainer</p>\n<pre><code>private final ConcurrentMap&lt;Class&lt;?&gt;, JAXBContext&gt; jaxbContexts = new ConcurrentHashMap&lt;&gt;(64);\n\n\npublic Marshaller createMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    JAXBContext jaxbContext = getJaxbContext(clazz);\n    return jaxbContext.createMarshaller();\n}\n\npublic Unmarshaller createUnmarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    JAXBContext jaxbContext = getJaxbContext(clazz);\n    return jaxbContext.createUnmarshaller();\n}\n\nprivate JAXBContext getJaxbContext(Class&lt;?&gt; clazz) throws JAXBException {\n    Assert.notNull(clazz, &quot;Class must not be null&quot;);\n    JAXBContext jaxbContext = this.jaxbContexts.get(clazz);\n    if (jaxbContext == null) {\n        jaxbContext = JAXBContext.newInstance(clazz);\n        this.jaxbContexts.putIfAbsent(clazz, jaxbContext);\n    }\n    return jaxbContext;\n}\n</code></pre>\n<p>And when I make the request:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;soapWebClient&quot;)\nWebClient soapWebClient;\n\npublic &lt;I, O&gt; O marshalSendAndReceive(String soapServiceUrl, I request, Class&lt;I&gt; requestClass, Class&lt;O&gt; responseClass) {\n    log.debug(&quot;Making SOAP request to {} {}&quot;, soapServiceUrl, log.isTraceEnabled() ? String.valueOf(request) : String.valueOf(request).length());\n    return soapWebClient.post()\n        .uri(soapServiceUrl)\n        .contentType(MediaType.TEXT_XML)\n        .body(Mono.just(request), requestClass)\n        .retrieve()\n        .onStatus(HttpStatus::isError, clientResponse -&gt;\n            clientResponse.bodyToMono(String.class).flatMap(errorResponseBody -&gt; {\n                log.error(&quot;Fault from SOAP call {} {} {}&quot;, soapServiceUrl, clientResponse.statusCode(), errorResponseBody);\n                return Mono.error(new ResponseStatusHeadersException(\n                    clientResponse.statusCode(),\n                    clientResponse.headers().asHttpHeaders(),\n                    errorResponseBody\n                ));\n            })\n        )\n        .bodyToMono(responseClass)\n        .block();\n}\n\npublic AnalyzeResponse analyze(Analyze request) {\n    log.info(&quot;RSAClient - Processing the analyze request:&quot; + request.toString());\n    log.info(&quot;Making analyze request now&quot;);\n    \n    AnalyzeResponse response = null;\n    response = marshalSendAndReceive(settings.getRsaEntServerAddress(), request, Analyze.class, AnalyzeResponse.class);\n    \n    log.info(&quot;Successfully got analyze response: {}&quot;, response);\n    return response;\n}\n</code></pre>\n"},{"tags":["java","couchbase"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1687785523,"post_id":76553888,"comment_id":134981007,"body_markdown":"What version of Couchbase are you using? Also, is this related to Spring Data? If so, perhaps paste the relevant portion of the code.","body":"What version of Couchbase are you using? Also, is this related to Spring Data? If so, perhaps paste the relevant portion of the code."},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1687934062,"post_id":76553888,"comment_id":135004556,"body_markdown":"Added details, as requested. Thanks.","body":"Added details, as requested. Thanks."},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1688037725,"post_id":76553888,"comment_id":135021481,"body_markdown":"I see you removed the Spring tag, but this is the Java SDK, correct?","body":"I see you removed the Spring tag, but this is the Java SDK, correct?"},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1688046799,"post_id":76553888,"comment_id":135023555,"body_markdown":"That&#39;s right. It&#39;s the Java SDK.","body":"That&#39;s right. It&#39;s the Java SDK."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1688154053,"post_id":76553888,"comment_id":135040999,"body_markdown":"I think your hunch might be correct. What is your KV timeout set to? If you search your app log for CoreCreatedEvent you should see the timeout settings as part of the &quot;timeoutConfig&quot; object. This message is logged at INFO level to the &quot;com.couchbase.core&quot; category.","body":"I think your hunch might be correct. What is your KV timeout set to? If you search your app log for CoreCreatedEvent you should see the timeout settings as part of the &quot;timeoutConfig&quot; object. This message is logged at INFO level to the &quot;com.couchbase.core&quot; category."},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1688537721,"post_id":76553888,"comment_id":135084644,"body_markdown":"Is there a way to tell Step 2 to execute only once step 1 is finished executing?","body":"Is there a way to tell Step 2 to execute only once step 1 is finished executing?"},{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":1,"creation_date":1688648628,"post_id":76553888,"comment_id":135104243,"body_markdown":"@YoYoMoneySingh Couchbase SDK engineer here, and looks to me like the SDK hasn&#39;t finished bootstrapping yet.  We occasionally see this in higher latency setups.  As David says, you could increase the KV timeout. You can also apply the &quot;wan-development&quot; environment profile, which will do the same.  Or - my preferred option - you could add a cluster.waitUntilReady() during initialisation, which will block until bootstrapping is complete.","body":"@YoYoMoneySingh Couchbase SDK engineer here, and looks to me like the SDK hasn&#39;t finished bootstrapping yet.  We occasionally see this in higher latency setups.  As David says, you could increase the KV timeout. You can also apply the &quot;wan-development&quot; environment profile, which will do the same.  Or - my preferred option - you could add a cluster.waitUntilReady() during initialisation, which will block until bootstrapping is complete."}],"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688045654,"creation_date":1687759322,"question_id":76553888,"body_markdown":"I am a newbie to couchbase. In one of my applications, we are occassionally getting\r\n`com.couchbase.client.core.error.RequestCancelledException` with `NO_MORE_TRIES (COLLECTION_MAP_REFRESH_IN_PROFRESS)` reason.\r\n\r\nI tried searching about this reason, but could find any relevant doc which explains this reason in detail. Can someone help?\r\n\r\n[Edit:]\r\nMy erroneous code looks like below, and error is triggered on second line (document fetch step).\r\n\r\nI have a hunch that the `Collection collection = ...` is an async step and the collection isn&#39;t fully populated by the time the `collection.get(id)` is invoked.\r\n\r\n\r\n```\r\n Collection collection = scope.collection(myCollection);\r\n MyEntity myEntity = collection.get(id).contentAs(MyEntity.class);\r\n```\r\n\r\nI will paste the couchbase version once I have that info, but rest assured it&#39;s quite a newer version.\r\n\r\n[Edit:]\r\nMy couchbase version is 7.1.3 EE. and Couchbase client SDK 3.2.4","title":"COLLECTION_MAP_REFRESH_IN_PROGRESS reason with RequestCancelledException while connecting to couchbase","body":"<p>I am a newbie to couchbase. In one of my applications, we are occassionally getting\n<code>com.couchbase.client.core.error.RequestCancelledException</code> with <code>NO_MORE_TRIES (COLLECTION_MAP_REFRESH_IN_PROFRESS)</code> reason.</p>\n<p>I tried searching about this reason, but could find any relevant doc which explains this reason in detail. Can someone help?</p>\n<p>[Edit:]\nMy erroneous code looks like below, and error is triggered on second line (document fetch step).</p>\n<p>I have a hunch that the <code>Collection collection = ...</code> is an async step and the collection isn't fully populated by the time the <code>collection.get(id)</code> is invoked.</p>\n<pre><code> Collection collection = scope.collection(myCollection);\n MyEntity myEntity = collection.get(id).contentAs(MyEntity.class);\n</code></pre>\n<p>I will paste the couchbase version once I have that info, but rest assured it's quite a newer version.</p>\n<p>[Edit:]\nMy couchbase version is 7.1.3 EE. and Couchbase client SDK 3.2.4</p>\n"},{"tags":["java","html","swing","javafx","editor"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687698824,"post_id":76550530,"comment_id":134970011,"body_markdown":"`JApplet` is deprecated; is it essential? Why not [tag:jeditorpane] or [tag:jedit].","body":"<code>JApplet</code> is deprecated; is it essential? Why not <a href=\"https://stackoverflow.com/questions/tagged/jeditorpane\">jeditorpane</a> or <a href=\"https://stackoverflow.com/questions/tagged/jedit\">jedit</a>."},{"owner":{"account_id":9248558,"reputation":11,"user_id":6869735,"display_name":"Doug Stockman"},"score":0,"creation_date":1687733985,"post_id":76550530,"comment_id":134973826,"body_markdown":"I need user-level text editing such as ordered and un-ordered lists, various font sizes and styles, etc.  I played a long time with JEditorPane and could not get it to do all that I wanted.  The documentation seemed less than ideal for what I was trying to create.  I tried some other WYSIWYG Java editors written by others and they had many bugs.","body":"I need user-level text editing such as ordered and un-ordered lists, various font sizes and styles, etc.  I played a long time with JEditorPane and could not get it to do all that I wanted.  The documentation seemed less than ideal for what I was trying to create.  I tried some other WYSIWYG Java editors written by others and they had many bugs."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687979565,"creation_date":1687905997,"answer_id":76569059,"question_id":76550530,"body_markdown":"Empirically, absent a reason to destroy the applet or shut down the JavaFX runtime, I focused on the &lt;kbd&gt;Close&lt;/kbd&gt; button&#39;s action handler method in your example to effect the desired behavior. The precise formulation will depend on your use case. \r\n\r\n**You could** alter the frame&#39;s visibility, reusing it as needed:\r\n\r\n    btnCaretExit.setOnAction((ActionEvent event) -&gt; {\r\n        frame.setVisible(false);\r\n    });\r\n\r\n**You could** alter the frame&#39;s default closing operation and tell it to close, reusing it as needed:\r\n\r\n    frame.setDefaultCloseOperation(\r\n        JFrame.DO_NOTHING_ON_CLOSE);\r\n    ‚Ä¶\r\n    btnCaretExit.setOnAction((ActionEvent event) -&gt; {\r\n        frame.setVisible(false);\r\n        frame.dispatchEvent(newWindowEvent(\r\n            frame, WindowEvent.WINDOW_CLOSING));\r\n    });\r\n\r\n[![Editor image][1]][1]\r\n\r\n**You could** open the `HTMLEditor` in a modal dialog as shown below in a variation of this [example][2]. Instead of a `Button`, a `WindowListener` observes the dialog&#39;s closing to access the editor&#39;s content. As [`JApplet`][3] is deprecated, you may want to migrate by using an intermediate hybrid similar to your example and those seen [here][4]:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport javax.swing.JFrame;\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.web.HTMLEditor;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JDialog;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/76550530/230513\r\n * @see https://stackoverflow.com/a/31576647/230513\r\n */\r\npublic class SwingEditorTest {\r\n\r\n    private HTMLEditor editor;\r\n\r\n    private void initAndShowGUI() {\r\n        // This method is invoked on the EDT thread\r\n        var frame = new JFrame(&quot;Swing and JavaFX&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        final var fxPanel = new JFXPanel() {\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(600, 300);\r\n            }\r\n        };\r\n        Platform.runLater(() -&gt; {\r\n            editor = initFX(fxPanel);\r\n        });\r\n        var dialog = new JDialog(frame);\r\n        dialog.add(fxPanel);\r\n        dialog.pack();\r\n        dialog.setLocationRelativeTo(frame);\r\n        dialog.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                Platform.runLater(() -&gt; {\r\n                    System.out.println(editor.getHtmlText());\r\n                });\r\n            }\r\n        });\r\n        frame.add(new JButton(new AbstractAction(&quot;Edit&quot;) {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                dialog.setVisible(true);\r\n            }\r\n        }), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private HTMLEditor initFX(JFXPanel fxPanel) {\r\n        // This method is invoked on the JavaFX thread\r\n        StackPane root = new StackPane();\r\n        Scene scene = new Scene(root);\r\n        editor = new HTMLEditor();\r\n        editor.setHtmlText(&quot;Testing&quot;);\r\n        root.getChildren().add(editor);\r\n        fxPanel.setScene(scene);\r\n        return editor;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new SwingEditorTest()::initAndShowGUI);\r\n    }\r\n}\r\n```\r\n\r\n[![Dialog image][5]][5] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHJCE.png\r\n  [2]: https://stackoverflow.com/a/31576647/230513\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JApplet.html\r\n  [4]: https://stackoverflow.com/a/12449949/230513\r\n  [5]: https://i.stack.imgur.com/L4nZg.png","title":"JavaFX HTML editor in swing application and reloading editor not working","body":"<p>Empirically, absent a reason to destroy the applet or shut down the JavaFX runtime, I focused on the <kbd>Close</kbd> button's action handler method in your example to effect the desired behavior. The precise formulation will depend on your use case.</p>\n<p><strong>You could</strong> alter the frame's visibility, reusing it as needed:</p>\n<pre><code>btnCaretExit.setOnAction((ActionEvent event) -&gt; {\n    frame.setVisible(false);\n});\n</code></pre>\n<p><strong>You could</strong> alter the frame's default closing operation and tell it to close, reusing it as needed:</p>\n<pre><code>frame.setDefaultCloseOperation(\n    JFrame.DO_NOTHING_ON_CLOSE);\n‚Ä¶\nbtnCaretExit.setOnAction((ActionEvent event) -&gt; {\n    frame.setVisible(false);\n    frame.dispatchEvent(newWindowEvent(\n        frame, WindowEvent.WINDOW_CLOSING));\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vHJCE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHJCE.png\" alt=\"Editor image\" /></a></p>\n<p><strong>You could</strong> open the <code>HTMLEditor</code> in a modal dialog as shown below in a variation of this <a href=\"https://stackoverflow.com/a/31576647/230513\">example</a>. Instead of a <code>Button</code>, a <code>WindowListener</code> observes the dialog's closing to access the editor's content. As <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JApplet.html\" rel=\"nofollow noreferrer\"><code>JApplet</code></a> is deprecated, you may want to migrate by using an intermediate hybrid similar to your example and those seen <a href=\"https://stackoverflow.com/a/12449949/230513\">here</a>:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport javax.swing.JFrame;\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.web.HTMLEditor;\nimport javax.swing.AbstractAction;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\n\n/**\n * @see https://stackoverflow.com/q/76550530/230513\n * @see https://stackoverflow.com/a/31576647/230513\n */\npublic class SwingEditorTest {\n\n    private HTMLEditor editor;\n\n    private void initAndShowGUI() {\n        // This method is invoked on the EDT thread\n        var frame = new JFrame(&quot;Swing and JavaFX&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        final var fxPanel = new JFXPanel() {\n\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(600, 300);\n            }\n        };\n        Platform.runLater(() -&gt; {\n            editor = initFX(fxPanel);\n        });\n        var dialog = new JDialog(frame);\n        dialog.add(fxPanel);\n        dialog.pack();\n        dialog.setLocationRelativeTo(frame);\n        dialog.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                Platform.runLater(() -&gt; {\n                    System.out.println(editor.getHtmlText());\n                });\n            }\n        });\n        frame.add(new JButton(new AbstractAction(&quot;Edit&quot;) {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                dialog.setVisible(true);\n            }\n        }), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private HTMLEditor initFX(JFXPanel fxPanel) {\n        // This method is invoked on the JavaFX thread\n        StackPane root = new StackPane();\n        Scene scene = new Scene(root);\n        editor = new HTMLEditor();\n        editor.setHtmlText(&quot;Testing&quot;);\n        root.getChildren().add(editor);\n        fxPanel.setScene(scene);\n        return editor;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new SwingEditorTest()::initAndShowGUI);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L4nZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4nZg.png\" alt=\"Dialog image\" /></a></p>\n"}],"owner":{"account_id":9248558,"reputation":11,"user_id":6869735,"display_name":"Doug Stockman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688044455,"creation_date":1687698032,"question_id":76550530,"body_markdown":"I have a large Java swing-based application and needed to add a text editor.  The JavaFX HTML editor appears to be my best option.  I am hoping to have the HTML Editor in a JPanel aside other controls in the Swing environment.  I can do this but I must not be closing the JavaFX HTML Editor correctly because I can only get the HTML Editor to run once unless I exit the entire larger program.  The first time I open the Editor app the Platform.runLater() executes.  The second call to the Editor app does not run the Platform.runLater().  I have included code for the &quot;calling&quot; program with 2 buttons.  Each button calls the Editor code.  The first button click opens the editor correctly.  Clicking a second time opens the Swing window but the HTML Editor is not loaded.  The second code is for the program that opens a Swing frame and tries to load the JavaFX HTML Editor into a JPanel in the JFrame.  This is on a Windows machine and NetBeans is my IDE.  Thanks for any help you can offer.\r\n\r\nDoug\r\n\r\n###### calling program\r\n```\r\npackage testjavafxeditorswingcaller;\r\n\r\nimport testhtmleditorminimal.TestHTMLeditorMinimal;\r\n\r\n/**\r\n *\r\n * @author DStockman\r\n */\r\npublic class NewJFrame extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form NewJFrame\r\n     */\r\n    public NewJFrame() {\r\n        initComponents();\r\n    }\r\n    \r\n    \r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        call1PB = new javax.swing.JButton();\r\n        call2PB = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        call1PB.setText(&quot;Call1&quot;);\r\n        call1PB.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                call1PBActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        call2PB.setText(&quot;Call2&quot;);\r\n        call2PB.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                call2PBActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(163, 163, 163)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(call2PB)\r\n                    .addComponent(call1PB))\r\n                .addContainerGap(165, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(57, 57, 57)\r\n                .addComponent(call1PB)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(call2PB)\r\n                .addContainerGap(193, Short.MAX_VALUE))\r\n        );\r\n\r\n        setSize(new java.awt.Dimension(416, 308));\r\n        setLocationRelativeTo(null);\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void call1PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        TestHTMLeditorMinimal a1 = new TestHTMLeditorMinimal();\r\n        a1.main(null);\r\n        a1.setVisible(true);\r\n    }                                       \r\n\r\n    private void call2PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        TestHTMLeditorMinimal a2 = new TestHTMLeditorMinimal();\r\n        a2.main(null);\r\n        a2.setVisible(true);\r\n    }                                       \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new NewJFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton call1PB;\r\n    private javax.swing.JButton call2PB;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n###### Editor program\r\n\r\n```\r\npackage testhtmleditorminimal;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ToolBar;\r\nimport javafx.scene.web.HTMLEditor;\r\nimport javafx.scene.web.WebView;\r\nimport javax.swing.JApplet;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.UIManager;\r\n\r\n/**\r\n *\r\n * @author DStockman\r\n */\r\npublic class TestHTMLeditorMinimal extends JApplet {\r\n\r\n    private static final int JFXPANEL_WIDTH_INT = 1200;\r\n    private static final int JFXPANEL_HEIGHT_INT = 1000;\r\n    private static JFXPanel fxContainer;\r\n    public static HTMLEditor htmlEditor=null;\r\n    public static Scene scene = null;\r\n    public static JFrame frame=null;\r\n    public static JApplet applet=null;\r\n    public static JPanel jpanel=null;\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\r\n                } catch (Exception e) {\r\n                }\r\n                \r\n                frame = new JFrame(&quot;JavaFX 2 in Swing&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                applet = new TestHTMLeditorMinimal();\r\n                applet.init();\r\n                frame.setContentPane(applet.getContentPane());\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n                applet.start();\r\n            }\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public void init() {\r\n        jpanel = new JPanel();\r\n        fxContainer = new JFXPanel();\r\n        fxContainer.setPreferredSize(new Dimension(JFXPANEL_WIDTH_INT, JFXPANEL_HEIGHT_INT));\r\n        jpanel.add(fxContainer);\r\n        add(jpanel, BorderLayout.CENTER);\r\n        Platform.runLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                createScene();\r\n            }\r\n        });\r\n\r\n    }\r\n    \r\n    private void createScene() {\r\n        htmlEditor = new HTMLEditor();\r\n        htmlEditor.setHtmlText(&quot;Testing&quot;);\r\n        addToolBar();\r\n        scene = new Scene(htmlEditor);\r\n        fxContainer.setScene(scene);\r\n    } // ********************************************\r\n    \r\n    \r\n    public void addToolBar(){\r\n        Node toolNode = htmlEditor.lookup(&quot;.top-toolbar&quot;);\r\n        Node webNode = htmlEditor.lookup(&quot;.web-view&quot;);\r\n\r\n        if (toolNode instanceof ToolBar &amp;&amp; webNode instanceof WebView) {\r\n            ToolBar bar = (ToolBar) toolNode;\r\n            WebView webView = (WebView) webNode;\r\n            //engine = webView.getEngine();\r\n            Button btnCaretExit = new Button(&quot;Close&quot;);\r\n            bar.getItems().addAll(btnCaretExit);\r\n            \r\n// I tried multiple ways to exit program\r\n            btnCaretExit.setOnAction((ActionEvent event) -&gt; {\r\n                Platform.setImplicitExit(true);\r\n                applet.destroy();\r\n                fxContainer.removeAll();\r\n                Platform.exit();\r\n                frame.dispose();\r\n            });\r\n        }\r\n    }\r\n  \r\n}\r\n\r\n```\r\n\r\nThanks for the suggestions! I got rid of the JApplet.  I continued to test various ways to close the code with the HTMLEditor in it but the HTMLEditor would still not reinitialize when a second start of the code was attempted (without shutting down the calling program).  The only way I could get the program to work was your suggestion of: frame.setVisible(false);  I tried a couple different methods to re-open the hidden app.  What I am doing right now from the calling program is:\r\n\r\n                \r\n        // calling program\r\n        public WebViewTest a1=null;\r\n        \r\n        if(a1 == null){\r\n            a1 = new WebViewTest();\r\n            a1.initAndShowGUI(&quot;Starting 2&quot;, 900,900);\r\n        }\r\n        else{\r\n        \ta1.initAndShowGUI(&quot;Starting 2 restart&quot;, 900,900);\r\n        \t// when I used the following I got an error with .setContent\r\n        \t//a1.setVisible();\r\n        \t//a1.setContent(&quot;Selected Call 2&quot;);\r\n        }\r\n    \r\n    // in the editor program\r\n    // does not work\r\n    public void setContent(String content){\r\n    \thtmlEditor.setHtmlText(content);\r\n    }\r\n\r\nIs the above method going to keep creating new (quasi)instances of the code every time it is opened because of the repeated calls to initAndShowGUI?  Sorry for my ignorance on the basics of Java functioning.\r\n\r\nThanks again!\r\nDoug\r\n","title":"JavaFX HTML editor in swing application and reloading editor not working","body":"<p>I have a large Java swing-based application and needed to add a text editor.  The JavaFX HTML editor appears to be my best option.  I am hoping to have the HTML Editor in a JPanel aside other controls in the Swing environment.  I can do this but I must not be closing the JavaFX HTML Editor correctly because I can only get the HTML Editor to run once unless I exit the entire larger program.  The first time I open the Editor app the Platform.runLater() executes.  The second call to the Editor app does not run the Platform.runLater().  I have included code for the &quot;calling&quot; program with 2 buttons.  Each button calls the Editor code.  The first button click opens the editor correctly.  Clicking a second time opens the Swing window but the HTML Editor is not loaded.  The second code is for the program that opens a Swing frame and tries to load the JavaFX HTML Editor into a JPanel in the JFrame.  This is on a Windows machine and NetBeans is my IDE.  Thanks for any help you can offer.</p>\n<p>Doug</p>\n<h6>calling program</h6>\n<pre><code>package testjavafxeditorswingcaller;\n\nimport testhtmleditorminimal.TestHTMLeditorMinimal;\n\n/**\n *\n * @author DStockman\n */\npublic class NewJFrame extends javax.swing.JFrame {\n\n    /**\n     * Creates new form NewJFrame\n     */\n    public NewJFrame() {\n        initComponents();\n    }\n    \n    \n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        call1PB = new javax.swing.JButton();\n        call2PB = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        call1PB.setText(&quot;Call1&quot;);\n        call1PB.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                call1PBActionPerformed(evt);\n            }\n        });\n\n        call2PB.setText(&quot;Call2&quot;);\n        call2PB.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                call2PBActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(163, 163, 163)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(call2PB)\n                    .addComponent(call1PB))\n                .addContainerGap(165, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(57, 57, 57)\n                .addComponent(call1PB)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(call2PB)\n                .addContainerGap(193, Short.MAX_VALUE))\n        );\n\n        setSize(new java.awt.Dimension(416, 308));\n        setLocationRelativeTo(null);\n    }// &lt;/editor-fold&gt;                        \n\n    private void call1PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        TestHTMLeditorMinimal a1 = new TestHTMLeditorMinimal();\n        a1.main(null);\n        a1.setVisible(true);\n    }                                       \n\n    private void call2PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        TestHTMLeditorMinimal a2 = new TestHTMLeditorMinimal();\n        a2.main(null);\n        a2.setVisible(true);\n    }                                       \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton call1PB;\n    private javax.swing.JButton call2PB;\n    // End of variables declaration                   \n}\n</code></pre>\n<h6>Editor program</h6>\n<pre><code>package testhtmleditorminimal;\n\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ToolBar;\nimport javafx.scene.web.HTMLEditor;\nimport javafx.scene.web.WebView;\nimport javax.swing.JApplet;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\n\n/**\n *\n * @author DStockman\n */\npublic class TestHTMLeditorMinimal extends JApplet {\n\n    private static final int JFXPANEL_WIDTH_INT = 1200;\n    private static final int JFXPANEL_HEIGHT_INT = 1000;\n    private static JFXPanel fxContainer;\n    public static HTMLEditor htmlEditor=null;\n    public static Scene scene = null;\n    public static JFrame frame=null;\n    public static JApplet applet=null;\n    public static JPanel jpanel=null;\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\n                } catch (Exception e) {\n                }\n                \n                frame = new JFrame(&quot;JavaFX 2 in Swing&quot;);\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                applet = new TestHTMLeditorMinimal();\n                applet.init();\n                frame.setContentPane(applet.getContentPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n                applet.start();\n            }\n        });\n    }\n    \n    @Override\n    public void init() {\n        jpanel = new JPanel();\n        fxContainer = new JFXPanel();\n        fxContainer.setPreferredSize(new Dimension(JFXPANEL_WIDTH_INT, JFXPANEL_HEIGHT_INT));\n        jpanel.add(fxContainer);\n        add(jpanel, BorderLayout.CENTER);\n        Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n                createScene();\n            }\n        });\n\n    }\n    \n    private void createScene() {\n        htmlEditor = new HTMLEditor();\n        htmlEditor.setHtmlText(&quot;Testing&quot;);\n        addToolBar();\n        scene = new Scene(htmlEditor);\n        fxContainer.setScene(scene);\n    } // ********************************************\n    \n    \n    public void addToolBar(){\n        Node toolNode = htmlEditor.lookup(&quot;.top-toolbar&quot;);\n        Node webNode = htmlEditor.lookup(&quot;.web-view&quot;);\n\n        if (toolNode instanceof ToolBar &amp;&amp; webNode instanceof WebView) {\n            ToolBar bar = (ToolBar) toolNode;\n            WebView webView = (WebView) webNode;\n            //engine = webView.getEngine();\n            Button btnCaretExit = new Button(&quot;Close&quot;);\n            bar.getItems().addAll(btnCaretExit);\n            \n// I tried multiple ways to exit program\n            btnCaretExit.setOnAction((ActionEvent event) -&gt; {\n                Platform.setImplicitExit(true);\n                applet.destroy();\n                fxContainer.removeAll();\n                Platform.exit();\n                frame.dispose();\n            });\n        }\n    }\n  \n}\n\n</code></pre>\n<p>Thanks for the suggestions! I got rid of the JApplet.  I continued to test various ways to close the code with the HTMLEditor in it but the HTMLEditor would still not reinitialize when a second start of the code was attempted (without shutting down the calling program).  The only way I could get the program to work was your suggestion of: frame.setVisible(false);  I tried a couple different methods to re-open the hidden app.  What I am doing right now from the calling program is:</p>\n<pre><code>    // calling program\n    public WebViewTest a1=null;\n    \n    if(a1 == null){\n        a1 = new WebViewTest();\n        a1.initAndShowGUI(&quot;Starting 2&quot;, 900,900);\n    }\n    else{\n        a1.initAndShowGUI(&quot;Starting 2 restart&quot;, 900,900);\n        // when I used the following I got an error with .setContent\n        //a1.setVisible();\n        //a1.setContent(&quot;Selected Call 2&quot;);\n    }\n\n// in the editor program\n// does not work\npublic void setContent(String content){\n    htmlEditor.setHtmlText(content);\n}\n</code></pre>\n<p>Is the above method going to keep creating new (quasi)instances of the code every time it is opened because of the repeated calls to initAndShowGUI?  Sorry for my ignorance on the basics of Java functioning.</p>\n<p>Thanks again!\nDoug</p>\n"},{"tags":["java","spring-boot","unit-testing","testcontainers","testcontainers-junit5"],"answers":[{"comments":[{"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"score":0,"creation_date":1683731376,"post_id":76218051,"comment_id":134412391,"body_markdown":"No luck. It gives a different error this time. java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"No luck. It gives a different error this time. java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1683739996,"post_id":76218051,"comment_id":134414513,"body_markdown":"Do you have Docker installed?","body":"Do you have Docker installed?"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683719464,"creation_date":1683719464,"answer_id":76218051,"question_id":76217978,"body_markdown":"I think you are missing `@Testcontainers` over your test class.","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>I think you are missing <code>@Testcontainers</code> over your test class.</p>\n"},{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683734008,"creation_date":1683734008,"answer_id":76220460,"question_id":76217978,"body_markdown":"Add `@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)` at class level","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>Add <code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code> at class level</p>\n"},{"tags":[],"owner":{"account_id":28827506,"reputation":1,"user_id":22078596,"display_name":"Grigoryev Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686832426,"creation_date":1686832426,"answer_id":76482528,"question_id":76217978,"body_markdown":"Try to remove @Container annotation and add mySQLContainer.start() to this method.\r\n\r\n    @DynamicPropertySource\r\n       static void setProperties(DynamicPropertyRegistry properties){\r\n       mySQLContainer.start();\r\n       properties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\r\n       properties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\r\n       properties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\r\n    }\r\n\r\n","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>Try to remove @Container annotation and add mySQLContainer.start() to this method.</p>\n<pre><code>@DynamicPropertySource\n   static void setProperties(DynamicPropertyRegistry properties){\n   mySQLContainer.start();\n   properties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\n   properties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\n   properties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474845,"reputation":352,"user_id":884799,"accept_rate":75,"display_name":"Pablo Thiele"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688040644,"creation_date":1688040644,"answer_id":76580925,"question_id":76217978,"body_markdown":"Based on the final portion of the stack you are not providing a valid Docker installation running and available at your `PATH`.\r\n\r\nI would recommend you to ensure the Docker Desktop installation via official ways at: https://docs.docker.com/engine/install/ \r\n\r\nAfter that and using the `@Testcontainers` as stated before should help you further in the testing process.  ","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>Based on the final portion of the stack you are not providing a valid Docker installation running and available at your <code>PATH</code>.</p>\n<p>I would recommend you to ensure the Docker Desktop installation via official ways at: <a href=\"https://docs.docker.com/engine/install/\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/install/</a></p>\n<p>After that and using the <code>@Testcontainers</code> as stated before should help you further in the testing process.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688044092,"creation_date":1688044092,"answer_id":76581374,"question_id":76217978,"body_markdown":"For your test try to add `@SpringBootTest` and `@Testcontainers` on the test class.\r\n\r\nBut personally I think you could change your testing strategy to make tests more effectively.\r\n\r\n* Test the db related features, such as Repository, XXXTemplate with `@DataJdbcTest` or other DataXXXTest with a testcontainers database.\r\n* Mock the Repository and test against the Controller/APIs with `@WebMvcTest` or `@WebFluxTest`, etc\r\n* Use the latest Spring `WebClient` to verify the functionality in an integration env with `@SpringBootTest(....RAMDON_PORT)`\r\n\r\nCheck my Spring Boot example project with testing codes here, https://github.com/hantsy/spring6-sandbox/tree/master/boot/src/test/java/com/example/demo","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>For your test try to add <code>@SpringBootTest</code> and <code>@Testcontainers</code> on the test class.</p>\n<p>But personally I think you could change your testing strategy to make tests more effectively.</p>\n<ul>\n<li>Test the db related features, such as Repository, XXXTemplate with <code>@DataJdbcTest</code> or other DataXXXTest with a testcontainers database.</li>\n<li>Mock the Repository and test against the Controller/APIs with <code>@WebMvcTest</code> or <code>@WebFluxTest</code>, etc</li>\n<li>Use the latest Spring <code>WebClient</code> to verify the functionality in an integration env with <code>@SpringBootTest(....RAMDON_PORT)</code></li>\n</ul>\n<p>Check my Spring Boot example project with testing codes here, <a href=\"https://github.com/hantsy/spring6-sandbox/tree/master/boot/src/test/java/com/example/demo\" rel=\"nofollow noreferrer\">https://github.com/hantsy/spring6-sandbox/tree/master/boot/src/test/java/com/example/demo</a></p>\n"}],"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1688044092,"creation_date":1683719011,"question_id":76217978,"body_markdown":"I&#39;m trying to implement an integration test using TestContainers. But I&#39;m continuously getting BeanDefinitionStoreException.\r\n\r\nMy Test Class\r\n\r\n    \t@SpringBootTest\r\n\t@AutoConfigureMockMvc\r\n\tclass OrderServiceApplicationTests {\r\n\r\n\t\t@Container\r\n\t\tstatic final MySQLContainer mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.30&quot;)\r\n\t\t\t\t.withDatabaseName(&quot;testcontainer&quot;)\r\n\t\t\t\t.withUsername(&quot;test&quot;)\r\n\t\t\t\t.withPassword(&quot;test&quot;);\r\n\r\n\t\t@Autowired\r\n\t\tObjectMapper objectMapper;\r\n\t\t@Autowired\r\n\t\tprivate MockMvc mockMvc;\r\n\t\t@Autowired\r\n\t\tOrderRepository orderRepository;\r\n\r\n\t\t@DynamicPropertySource\r\n\t\tstatic void setProperties(DynamicPropertyRegistry properties){\r\n\t\t\tproperties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\r\n\t\t\tproperties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\r\n\t\t\tproperties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid shouldPlaceOrder() throws Exception {\r\n\r\n\t\t\tOrderItemsDto orderItemsDto = OrderItemsDto.builder()\r\n\t\t\t\t\t.skuCode(&quot;Test SKU&quot;)\r\n\t\t\t\t\t.price(new BigDecimal(123.32))\r\n\t\t\t\t\t.quantity(2).build();\r\n\t\t\tOrderDto orderDto = OrderDto.builder()\r\n\t\t\t\t\t.orderItemsDtos(Arrays.asList(orderItemsDto)).build();\r\n\t\t\tString reqString = objectMapper.writeValueAsString(orderDto);\r\n\t\t\tmockMvc.perform(MockMvcRequestBuilders.post(&quot;api/order&quot;)\r\n\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t.content(reqString))\r\n\t\t\t\t\t.andExpect(status().isCreated());\r\n\t\t\tAssertions.assertTrue(orderRepository.findAll().size() == 1);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nHere is my POM File\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;order-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;order-service&lt;/name&gt;\r\n    \t&lt;description&gt;Order Service&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.18.0&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is my console.\r\n\r\n    16:14:14.843 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.example.orderservice.OrderServiceApplicationTests]: OrderServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n    16:14:14.940 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.example.orderservice.OrderServiceApplication for test class com.example.orderservice.OrderServiceApplicationTests\r\n    16:14:15.163 [main] WARN org.testcontainers.utility.TestcontainersConfiguration -- Attempted to read Testcontainers configuration file at file:/C:/Users/binul/.testcontainers.properties but the file was not found. Exception message: FileNotFoundException: C:\\Users\\binul\\.testcontainers.properties (The system cannot find the file specified)\r\n    16:14:15.169 [main] INFO org.testcontainers.utility.ImageNameSubstitutor -- Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::       (v3.1.0-SNAPSHOT)\r\n    \r\n    2023-05-10T16:14:15.441+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : Starting OrderServiceApplicationTests using Java 17.0.7 with PID 13040 (started by binul in D:\\Project Docs\\R&amp;D\\Microservices-Online-Shop\\order-service)\r\n    2023-05-10T16:14:15.444+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-05-10T16:14:16.013+05:30  INFO 13040 --- [           main] .t.d.DockerMachineClientProviderStrategy : docker-machine executable was not found on PATH ([C:\\Program Files\\Common Files\\Oracle\\Java\\javapath, C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath, C:\\Windows\\system32, C:\\Windows, C:\\Windows\\System32\\Wbem, C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\, C:\\Windows\\System32\\OpenSSH\\, C:\\Program Files\\Git\\cmd, C:\\Program Files\\Java\\jdk1.8.0_311\\bin, C:\\dev_tools\\apache-maven-3.8.3\\bin, C:\\Program Files\\PuTTY\\, C:\\Program Files\\dotnet\\, C:\\Program Files\\nodejs\\, C:\\Program Files\\Meld\\, C:\\Users\\binul\\AppData\\Local\\Microsoft\\WindowsApps, C:\\Users\\binul\\AppData\\Local\\Programs\\Microsoft VS Code\\bin, C:\\dev_tools\\gradle-6.8.1\\bin, C:\\Users\\binul\\AppData\\Roaming\\npm, C:\\Users\\binul\\.dotnet\\tools])\r\n    2023-05-10T16:14:16.014+05:30 ERROR 13040 --- [           main] o.t.d.DockerClientProviderStrategy       : Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\r\n    As no valid configuration was found, execution cannot continue.\r\n    See https://www.testcontainers.org/on_failure.html for more details.\r\n    2023-05-10T16:14:16.027+05:30  WARN 13040 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n    2023-05-10T16:14:16.054+05:30  INFO 13040 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-05-10T16:14:16.088+05:30 ERROR 13040 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]\r\n    Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \t... 93 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n    \tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:212) ~[testcontainers-1.18.0.jar:1.18.0]\r\n    \tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:150) ~[testcontainers-1.18.0.jar:1.18.0]\r\n    \tat org.testcontainers.DockerClientFactory.dockerHostIpAddress(DockerClientFactory.java:323) ~[testcontainers-1.18.0.jar:1.18.0]\r\n    \tat org.testcontainers.containers.ContainerState.getHost(ContainerState.java:64) ~[testcontainers-1.18.0.jar:na]\r\n    \tat org.testcontainers.containers.MySQLContainer.getJdbcUrl(MySQLContainer.java:104) ~[mysql-1.18.0.jar:na]\r\n    \tat com.example.orderservice.OrderServiceApplicationTests.lambda$setProperties$0(OrderServiceApplicationTests.java:46) ~[test-classes/:na]\r\n    \tat org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \t... 99 common frames omitted\r\n\r\nI highly suspect that this is related to injecting Mysql image into the local environment.\r\nNote : I did the same code to Mongodb and it works fine.\r\n\r\nCould anyone had the same issue and resolved ? btw unit testing becoming embarrassing :-( \r\n\r\n\r\n","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>I'm trying to implement an integration test using TestContainers. But I'm continuously getting BeanDefinitionStoreException.</p>\n<p>My Test Class</p>\n<pre><code>    @SpringBootTest\n@AutoConfigureMockMvc\nclass OrderServiceApplicationTests {\n\n    @Container\n    static final MySQLContainer mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.30&quot;)\n            .withDatabaseName(&quot;testcontainer&quot;)\n            .withUsername(&quot;test&quot;)\n            .withPassword(&quot;test&quot;);\n\n    @Autowired\n    ObjectMapper objectMapper;\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    OrderRepository orderRepository;\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry properties){\n        properties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\n        properties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\n        properties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\n    }\n\n    @Test\n    void shouldPlaceOrder() throws Exception {\n\n        OrderItemsDto orderItemsDto = OrderItemsDto.builder()\n                .skuCode(&quot;Test SKU&quot;)\n                .price(new BigDecimal(123.32))\n                .quantity(2).build();\n        OrderDto orderDto = OrderDto.builder()\n                .orderItemsDtos(Arrays.asList(orderItemsDto)).build();\n        String reqString = objectMapper.writeValueAsString(orderDto);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;api/order&quot;)\n        .contentType(MediaType.APPLICATION_JSON)\n        .content(reqString))\n                .andExpect(status().isCreated());\n        Assertions.assertTrue(orderRepository.findAll().size() == 1);\n\n    }\n\n}\n</code></pre>\n<p>Here is my POM File</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;order-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;order-service&lt;/name&gt;\n    &lt;description&gt;Order Service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.18.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my console.</p>\n<pre><code>16:14:14.843 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.example.orderservice.OrderServiceApplicationTests]: OrderServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n16:14:14.940 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.example.orderservice.OrderServiceApplication for test class com.example.orderservice.OrderServiceApplicationTests\n16:14:15.163 [main] WARN org.testcontainers.utility.TestcontainersConfiguration -- Attempted to read Testcontainers configuration file at file:/C:/Users/binul/.testcontainers.properties but the file was not found. Exception message: FileNotFoundException: C:\\Users\\binul\\.testcontainers.properties (The system cannot find the file specified)\n16:14:15.169 [main] INFO org.testcontainers.utility.ImageNameSubstitutor -- Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::       (v3.1.0-SNAPSHOT)\n\n2023-05-10T16:14:15.441+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : Starting OrderServiceApplicationTests using Java 17.0.7 with PID 13040 (started by binul in D:\\Project Docs\\R&amp;D\\Microservices-Online-Shop\\order-service)\n2023-05-10T16:14:15.444+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-10T16:14:16.013+05:30  INFO 13040 --- [           main] .t.d.DockerMachineClientProviderStrategy : docker-machine executable was not found on PATH ([C:\\Program Files\\Common Files\\Oracle\\Java\\javapath, C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath, C:\\Windows\\system32, C:\\Windows, C:\\Windows\\System32\\Wbem, C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\, C:\\Windows\\System32\\OpenSSH\\, C:\\Program Files\\Git\\cmd, C:\\Program Files\\Java\\jdk1.8.0_311\\bin, C:\\dev_tools\\apache-maven-3.8.3\\bin, C:\\Program Files\\PuTTY\\, C:\\Program Files\\dotnet\\, C:\\Program Files\\nodejs\\, C:\\Program Files\\Meld\\, C:\\Users\\binul\\AppData\\Local\\Microsoft\\WindowsApps, C:\\Users\\binul\\AppData\\Local\\Programs\\Microsoft VS Code\\bin, C:\\dev_tools\\gradle-6.8.1\\bin, C:\\Users\\binul\\AppData\\Roaming\\npm, C:\\Users\\binul\\.dotnet\\tools])\n2023-05-10T16:14:16.014+05:30 ERROR 13040 --- [           main] o.t.d.DockerClientProviderStrategy       : Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\nAs no valid configuration was found, execution cannot continue.\nSee https://www.testcontainers.org/on_failure.html for more details.\n2023-05-10T16:14:16.027+05:30  WARN 13040 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n2023-05-10T16:14:16.054+05:30  INFO 13040 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-05-10T16:14:16.088+05:30 ERROR 13040 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    ... 93 common frames omitted\nCaused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\n    at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:212) ~[testcontainers-1.18.0.jar:1.18.0]\n    at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:150) ~[testcontainers-1.18.0.jar:1.18.0]\n    at org.testcontainers.DockerClientFactory.dockerHostIpAddress(DockerClientFactory.java:323) ~[testcontainers-1.18.0.jar:1.18.0]\n    at org.testcontainers.containers.ContainerState.getHost(ContainerState.java:64) ~[testcontainers-1.18.0.jar:na]\n    at org.testcontainers.containers.MySQLContainer.getJdbcUrl(MySQLContainer.java:104) ~[mysql-1.18.0.jar:na]\n    at com.example.orderservice.OrderServiceApplicationTests.lambda$setProperties$0(OrderServiceApplicationTests.java:46) ~[test-classes/:na]\n    at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    ... 99 common frames omitted\n</code></pre>\n<p>I highly suspect that this is related to injecting Mysql image into the local environment.\nNote : I did the same code to Mongodb and it works fine.</p>\n<p>Could anyone had the same issue and resolved ? btw unit testing becoming embarrassing :-(</p>\n"},{"tags":["java","spring-boot","httpclient"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688044056,"creation_date":1688044056,"answer_id":76581369,"question_id":76579495,"body_markdown":"No. Apache HTTP client will log the data as it is sent/received. That&#39;s why it is called wire logging.\r\n\r\nIf you want to log the payload un compressed you have to do it yourself in your code.","title":"How to log unzipped gzip content using Apache HttpClient","body":"<p>No. Apache HTTP client will log the data as it is sent/received. That's why it is called wire logging.</p>\n<p>If you want to log the payload un compressed you have to do it yourself in your code.</p>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76581369,"answer_count":1,"score":0,"last_activity_date":1688044056,"creation_date":1688028641,"question_id":76579495,"body_markdown":"I&#39;m using Spring Boot (ver. 3.1.1) RestTemplate which is configured to use Apache `org.apache.hc.client5.http.classic.HttpClient` (ver. 5.2.1) like this\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        //we make Rest Template using HTTP client to be able to turn logging on\r\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n        return restTemplate;\r\n    }\r\n\r\nI have turned the Logback logging like this\r\n\r\n    &lt;logger name=&quot;org.apache.hc.client5.http&quot; level=&quot;debug&quot;/&gt;\r\n\r\nAnd when I check the logs after I send a request, I can see the response is being compressed by gzip, so the incoming payload is unreadable:\r\n\r\n    ... headers omitted for brevity\r\n    2023-06-180 10:23:54.222 [Test worker] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 &lt;&lt; &quot;AY[0xffffffce][0x19][0xffffffd5][0xffffffc6][0xffffff8f]hFY[0x3]H[0xffffff9e]3[0xffffff8a][0x1][0xfffffffa]*{[0xffffff9f]V[0xffffffe3]|[0xffffffba][0xffffffb5]O&#39;[0x1e][0xffffffcb][0xffffffff]w[0xffffffc1][0xffffffe7][0x7f][0xfffffffe][0x1f][0x0][0x0][0x0][0xffffffff][0xffffffff][0x3][0x0][0xffffffcd][0xffffff89][0xfffffff0][0xffffffd7][0x3][0xffffffd5][0x3][0x0][\\r][\\n]&quot;\r\n\r\n\r\nIs it possible to log the response body after it is unzipped?","title":"How to log unzipped gzip content using Apache HttpClient","body":"<p>I'm using Spring Boot (ver. 3.1.1) RestTemplate which is configured to use Apache <code>org.apache.hc.client5.http.classic.HttpClient</code> (ver. 5.2.1) like this</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() {\n    final RestTemplate restTemplate = new RestTemplate();\n    //we make Rest Template using HTTP client to be able to turn logging on\n    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n    return restTemplate;\n}\n</code></pre>\n<p>I have turned the Logback logging like this</p>\n<pre><code>&lt;logger name=&quot;org.apache.hc.client5.http&quot; level=&quot;debug&quot;/&gt;\n</code></pre>\n<p>And when I check the logs after I send a request, I can see the response is being compressed by gzip, so the incoming payload is unreadable:</p>\n<pre><code>... headers omitted for brevity\n2023-06-180 10:23:54.222 [Test worker] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 &lt;&lt; &quot;AY[0xffffffce][0x19][0xffffffd5][0xffffffc6][0xffffff8f]hFY[0x3]H[0xffffff9e]3[0xffffff8a][0x1][0xfffffffa]*{[0xffffff9f]V[0xffffffe3]|[0xffffffba][0xffffffb5]O'[0x1e][0xffffffcb][0xffffffff]w[0xffffffc1][0xffffffe7][0x7f][0xfffffffe][0x1f][0x0][0x0][0x0][0xffffffff][0xffffffff][0x3][0x0][0xffffffcd][0xffffff89][0xfffffff0][0xffffffd7][0x3][0xffffffd5][0x3][0x0][\\r][\\n]&quot;\n</code></pre>\n<p>Is it possible to log the response body after it is unzipped?</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1688043483,"post_id":76580939,"comment_id":135022750,"body_markdown":"Getting the error:\n\n`org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [targetIds], expecting one of [targetIds::json]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [targetIds], expecting one of [targetIds::json]`","body":"Getting the error:  <code>org.springframework.dao.InvalidDataAccessApiUsageException: Could not locate named parameter [targetIds], expecting one of [targetIds::json]; nested exception is java.lang.IllegalArgumentException: Could not locate named parameter [targetIds], expecting one of [targetIds::json]</code>"},{"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"score":0,"creation_date":1688043663,"post_id":76580939,"comment_id":135022794,"body_markdown":"Well, pass the JSON as a text parameter called `targetIds`. I am not very confident in Java but the double colons `::` might need to be escaped like this `\\\\:\\\\:`.","body":"Well, pass the JSON as a text parameter called <code>targetIds</code>. I am not very confident in Java but the double colons <code>::</code> might need to be escaped like this <code>\\\\:\\\\:</code>."},{"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"score":0,"creation_date":1688044075,"post_id":76580939,"comment_id":135022887,"body_markdown":"You may see [this](https://stackoverflow.com/questions/4169582/escaping-the-colon-character-in-jpa-queries) SO thread on JPA native queries and possibly use a positional rather than named parameter.","body":"You may see <a href=\"https://stackoverflow.com/questions/4169582/escaping-the-colon-character-in-jpa-queries\">this</a> SO thread on JPA native queries and possibly use a positional rather than named parameter."}],"tags":[],"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688043724,"creation_date":1688040794,"answer_id":76580939,"question_id":76580177,"body_markdown":"I would serialize the list of UUID arrays as a 2-dim JSON array, i.e.   \r\n```\r\n[\r\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e104&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e105&quot;],\r\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e106&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e107&quot;],\r\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e108&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e109&quot;]\r\n]\r\n```\r\nand pass it as a parameter to this native query:\r\n```sql\r\nselect * from collision_danger_pair_contexts cdpc\r\nwhere exists\r\n(\r\n select from json_array_elements((:targetIds)::json) j\r\n where j -&gt;&gt; 0 = cdpc.first_target_id::text\r\n   and j -&gt;&gt; 1 = cdpc.second_target_id::text\r\n);\r\n```\r\n","title":"How to use tuples in &#39;where in&#39; clause using Spring JPA native queries","body":"<p>I would serialize the list of UUID arrays as a 2-dim JSON array, i.e.</p>\n<pre><code>[\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e104&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e105&quot;],\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e106&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e107&quot;],\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e108&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e109&quot;]\n]\n</code></pre>\n<p>and pass it as a parameter to this native query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from collision_danger_pair_contexts cdpc\nwhere exists\n(\n select from json_array_elements((:targetIds)::json) j\n where j -&gt;&gt; 0 = cdpc.first_target_id::text\n   and j -&gt;&gt; 1 = cdpc.second_target_id::text\n);\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688043724,"creation_date":1688034406,"question_id":76580177,"body_markdown":"I want to use 2 columns in `where in` clause in PostgreSQL 13.2. I tested it by executing the following query\r\n\r\n    select * from collision_danger_pair_contexts \r\n    where \r\n    (first_target_id, second_target_id) \r\n    in\r\n    ( (&#39;63efc3d9-8fc7-4b39-a9ce-b926dae4e104&#39;, &#39;63efc3d9-8fc7-4b39-a9ce-b926dae4e105&#39;) );\r\n\r\nit worked.\r\n\r\nNow the question is how to achieve the same using Spring Data JPA. I&#39;ve tried the following query\r\n\r\n    @Query(\r\n        nativeQuery = true,\r\n        value = &quot;&quot;&quot;\r\n                SELECT * FROM collision_danger_pair_contexts ctx\r\n                WHERE (ctx.first_target_id, ctx.second_target_id) IN (:targetIds)\r\n                &quot;&quot;&quot;\r\n    )\r\n    List&lt;CollisionDangerPairContext&gt; findByTarget1IdAndTarget2Id(@Param(&quot;targetIds&quot;) List&lt;UUID[]&gt; targetIds);\r\n\r\nwhere `targetIds` contains a list of arrays of UUIDs. The length of each array is 2.\r\n\r\nBut I&#39;ve got the error:\r\n   \r\n\r\n     Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: record = bytea\r\n          Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n\r\nBefore I ran the query my intuition told me that I was to optimistic hoping that it would work, but I don&#39;t understand how and where I should do the &quot;casting&quot;.\r\n\r\nI&#39;ve also tried to change the parameter to\r\n\r\n    List&lt;List&lt;UUID&gt;&gt; targetIds\r\n\r\nbut it didn&#39;t work either. What is the correct syntax/casting ?\r\n\r\nThe best way for me would be using\r\n\r\n    List&lt;org.apache.commons.lang3.tuple.ImmutablePair&lt;UUID, UUID&gt;&gt; targetIds","title":"How to use tuples in &#39;where in&#39; clause using Spring JPA native queries","body":"<p>I want to use 2 columns in <code>where in</code> clause in PostgreSQL 13.2. I tested it by executing the following query</p>\n<pre><code>select * from collision_danger_pair_contexts \nwhere \n(first_target_id, second_target_id) \nin\n( ('63efc3d9-8fc7-4b39-a9ce-b926dae4e104', '63efc3d9-8fc7-4b39-a9ce-b926dae4e105') );\n</code></pre>\n<p>it worked.</p>\n<p>Now the question is how to achieve the same using Spring Data JPA. I've tried the following query</p>\n<pre><code>@Query(\n    nativeQuery = true,\n    value = &quot;&quot;&quot;\n            SELECT * FROM collision_danger_pair_contexts ctx\n            WHERE (ctx.first_target_id, ctx.second_target_id) IN (:targetIds)\n            &quot;&quot;&quot;\n)\nList&lt;CollisionDangerPairContext&gt; findByTarget1IdAndTarget2Id(@Param(&quot;targetIds&quot;) List&lt;UUID[]&gt; targetIds);\n</code></pre>\n<p>where <code>targetIds</code> contains a list of arrays of UUIDs. The length of each array is 2.</p>\n<p>But I've got the error:</p>\n<pre><code> Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: record = bytea\n      Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<p>Before I ran the query my intuition told me that I was to optimistic hoping that it would work, but I don't understand how and where I should do the &quot;casting&quot;.</p>\n<p>I've also tried to change the parameter to</p>\n<pre><code>List&lt;List&lt;UUID&gt;&gt; targetIds\n</code></pre>\n<p>but it didn't work either. What is the correct syntax/casting ?</p>\n<p>The best way for me would be using</p>\n<pre><code>List&lt;org.apache.commons.lang3.tuple.ImmutablePair&lt;UUID, UUID&gt;&gt; targetIds\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688045771,"post_id":76581317,"comment_id":135023286,"body_markdown":"Those aren&#39;t errors but warnings. If you read the documentation (the javadoc of the deprecated methods) it will explain exactly what you need to replace it with.","body":"Those aren&#39;t errors but warnings. If you read the documentation (the javadoc of the deprecated methods) it will explain exactly what you need to replace it with."}],"owner":{"account_id":20321813,"reputation":33,"user_id":14906325,"display_name":"Mihai Daian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688043651,"creation_date":1688043651,"question_id":76581317,"body_markdown":"I&#39;m trying to build a spring boot JWT authentication and authorization app and I&#39;m facing some errors at the class SecurityConfiguration which deals with the bean securityFilterChain. The code is here. \r\n```\r\npackage com.daian.security.config;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@EnableMethodSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authentificationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authentificationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\nI am working with Intellij. I get that authorizeHttpRequests(), and(), sessionManagement(), and() are deprecated and marked for removal. Do you have any solution to this?","title":"SecurityConfiguration class has erros at securityFilterChain method","body":"<p>I'm trying to build a spring boot JWT authentication and authorization app and I'm facing some errors at the class SecurityConfiguration which deals with the bean securityFilterChain. The code is here.</p>\n<pre><code>package com.daian.security.config;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableMethodSecurity\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authentificationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authentificationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I am working with Intellij. I get that authorizeHttpRequests(), and(), sessionManagement(), and() are deprecated and marked for removal. Do you have any solution to this?</p>\n"},{"tags":["java","spring","iso8583","jpos"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688079361,"post_id":76572173,"comment_id":135029606,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76572173/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27907985,"reputation":1,"user_id":21310765,"display_name":"vidhya Gowda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687947149,"creation_date":1687947149,"answer_id":76572173,"question_id":76570800,"body_markdown":"i was able to fix my issue by changing field 44 IFB_LLLHNUM --&gt; IFB_LLHCHAR ","title":"org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87","body":"<p>i was able to fix my issue by changing field 44 IFB_LLLHNUM --&gt; IFB_LLHCHAR</p>\n"}],"owner":{"account_id":27907985,"reputation":1,"user_id":21310765,"display_name":"vidhya Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688043470,"creation_date":1687936023,"question_id":76570800,"body_markdown":"I have been trying send a flag in `ISO 8583 spec` - in field 40 which will yield 44 field in response.\r\n\r\nSeeing the below error...\r\n\r\n    all other field gets unpacked just fine expect this filed 44.\r\n    &lt;log realm=&quot;client-logger/168.244.126.8:10096&quot; at=&quot;2023-06-27T06:38:56.573210&quot; lifespan=&quot;70ms&quot;&gt;\r\n      &lt;receive&gt;\r\n        &lt;iso-exception&gt;\r\n           org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\r\n          org.jpos.iso.ISOException: org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\r\n            at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:340)\r\n            at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:468)\r\n            at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:976)\r\n            at org.jpos.iso.BaseChannel.receive(BaseChannel.java:746)\r\n\r\n\r\nISOPACKAGER: \r\n\r\n \r\n\r\n    /*Field 44 */  new IFB_LLLHNUM(25, &quot;EOV Date&quot;, true),  //has to be Ascii\r\n\r\nI tried truncating the field 44 to size 25.\r\n\r\nSaw this on logs: seems like it&#39;s returning some ASCII special characters while receiving the msg we are seeing this error, whereas the request is reaching them just fine.\r\n\r\n\r\n    0000  03 10 78 B8 00 01 86 D0  B0 00 13 06 00 64 91 73  ..x..........d.s\r\n    0010  14 99 80 09 25 92 00 00  00 00 00 00 50 00 00 00  ....%.......P...\r\n    0020  00 00 50 00 61 00 00 00  75 82 44 13 29 36 06 18  ..P.a...u.D.)6..\r\n    0030  05 06 76 24 05 06 82 50  30 30 35 30 30 30 30 31  ..v$...P00500001\r\n    0040  30 30 30 37 35 38 32 34  30 30 30 30 30 30 30 39  0007582400000009\r\n    0050  39 38 30 30 30 30 30 0E  32 30 32 33 30 39 32 35  9800000.20230925\r\n    0060  54 31 33 32 30 5A 08 40  08 40 30 30 30 30 37 37  T1320Z.@.@000077\r\n    0070  30 39                                             09\r\n\r\n","title":"org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87","body":"<p>I have been trying send a flag in <code>ISO 8583 spec</code> - in field 40 which will yield 44 field in response.</p>\n<p>Seeing the below error...</p>\n<pre><code>all other field gets unpacked just fine expect this filed 44.\n&lt;log realm=&quot;client-logger/168.244.126.8:10096&quot; at=&quot;2023-06-27T06:38:56.573210&quot; lifespan=&quot;70ms&quot;&gt;\n  &lt;receive&gt;\n    &lt;iso-exception&gt;\n       org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\n      org.jpos.iso.ISOException: org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\n        at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:340)\n        at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:468)\n        at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:976)\n        at org.jpos.iso.BaseChannel.receive(BaseChannel.java:746)\n</code></pre>\n<p>ISOPACKAGER:</p>\n<pre><code>/*Field 44 */  new IFB_LLLHNUM(25, &quot;EOV Date&quot;, true),  //has to be Ascii\n</code></pre>\n<p>I tried truncating the field 44 to size 25.</p>\n<p>Saw this on logs: seems like it's returning some ASCII special characters while receiving the msg we are seeing this error, whereas the request is reaching them just fine.</p>\n<pre><code>0000  03 10 78 B8 00 01 86 D0  B0 00 13 06 00 64 91 73  ..x..........d.s\n0010  14 99 80 09 25 92 00 00  00 00 00 00 50 00 00 00  ....%.......P...\n0020  00 00 50 00 61 00 00 00  75 82 44 13 29 36 06 18  ..P.a...u.D.)6..\n0030  05 06 76 24 05 06 82 50  30 30 35 30 30 30 30 31  ..v$...P00500001\n0040  30 30 30 37 35 38 32 34  30 30 30 30 30 30 30 39  0007582400000009\n0050  39 38 30 30 30 30 30 0E  32 30 32 33 30 39 32 35  9800000.20230925\n0060  54 31 33 32 30 5A 08 40  08 40 30 30 30 30 37 37  T1320Z.@.@000077\n0070  30 39                                             09\n</code></pre>\n"},{"tags":["java","reflection","wildcard"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1687902630,"post_id":76567571,"comment_id":135001628,"body_markdown":"&quot;? extends Number &amp; Serializable&quot; is legal, yes.","body":"&quot;? extends Number &amp; Serializable&quot; is legal, yes."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687913752,"post_id":76567571,"comment_id":135002668,"body_markdown":"*What*? Do you mean the `&amp;` syntax for lower and upper bounds?","body":"<i>What</i>? Do you mean the <code>&amp;</code> syntax for lower and upper bounds?"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1687916993,"post_id":76567571,"comment_id":135002926,"body_markdown":"@LouisWasserman sure? which version? could you show me an exampleÔºü","body":"@LouisWasserman sure? which version? could you show me an exampleÔºü"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1687917027,"post_id":76567571,"comment_id":135002933,"body_markdown":"@user207421 yes","body":"@user207421 yes"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687971255,"post_id":76567571,"comment_id":135012520,"body_markdown":"@FredSuvn, here is the relevant _Java Tutorial_.  I believe this synatx was added after the initial release of _Generics_, although I&#39;m not sure.  _[Bounded Type Parameters (The Java‚Ñ¢ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)_.","body":"@FredSuvn, here is the relevant <i>Java Tutorial</i>.  I believe this synatx was added after the initial release of <i>Generics</i>, although I&#39;m not sure.  <i><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">Bounded Type Parameters (The Java‚Ñ¢ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687978240,"creation_date":1687978240,"answer_id":76575949,"question_id":76567571,"body_markdown":"I think it‚Äôs valid to say that this part of the Reflection API is not a good API at all. The base type [`java.lang.reflect.Type`] does not provide any helpful query methods, except for the name and even that was added as late as Java&#160;8.\r\n\r\nSo from Java&#160;5 to Java&#160;7, developers were left with an empty interface. And even today, it requires a bunch of `instanceof` tests to find out what you are looking at. This is, of course, especially awful if it‚Äôs not clear what possibilities exist, in other words, what you have to test for.\r\n\r\nThe case of `getRawType()` declaring the base type `Type` when it is always expected to be a `Class` (or is it?), is bad. But the case of the bounds is even weirder.\r\n\r\nThe question whether a wildcard type can have multiple upper bounds is actually independent from the question whether the method `getUpperBounds()` can ever return an array with more than one element.\r\n\r\nIn general, wildcard types with multiple bounds are possible, but only as a result of type inference. At a first glance, this applies to intermediate values only, whose types are never reported by Reflection and so the designers of Generics did not consider this scenario when defining the bytecode format. In other words, *it‚Äôs impossible to describe a wildcard with multiple bounds in [the bytecode format]*.\r\n\r\nSince the assumption that such inferred types can not occur as part of runtime Reflection visible artifacts was actually wrong, we can test it:\r\n\r\n```java\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.*;\r\n\r\npublic class Tmp&lt;T&gt; {\r\n  public static void main(String[] args) {\r\n    withTypeVariable(null);\r\n    withWildcardType();\r\n  }\r\n\r\n  public static &lt;T extends Number &amp; Serializable&gt; void withTypeVariable(T t) {\r\n    var tmp = new Tmp&lt;T&gt;(t, t);\r\n\r\n    Serializable s = tmp.get();\r\n    Number n = tmp.get();\r\n\r\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\r\n  }\r\n\r\n  public static void withWildcardType() {\r\n    var tmp = new Tmp&lt;&gt;(10, 1.0);\r\n\r\n    Serializable s = tmp.get();\r\n    Number n = tmp.get();\r\n\r\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\r\n  }\r\n\r\n  Tmp(T t1, T t2) {}\r\n\r\n  T get() {\r\n    return null;\r\n  }\r\n\r\n  class Inner {}\r\n\r\n  static void printType(Type type) {\r\n    System.out.println(type);\r\n    Type typeArg = ((ParameterizedType)\r\n        ((ParameterizedType)type).getOwnerType()).getActualTypeArguments()[0];\r\n    Type[] bounds;\r\n    if(typeArg instanceof TypeVariable&lt;?&gt; tv) {\r\n      System.out.print(tv.getName());\r\n      bounds = tv.getBounds();\r\n    }\r\n    else if(typeArg instanceof WildcardType wt) {\r\n      System.out.print(&quot;?&quot;);\r\n      bounds = wt.getUpperBounds();\r\n    }\r\n    else {\r\n      System.out.println(typeArg);\r\n      return;\r\n    }\r\n    String s = &quot; extends &quot;;\r\n    for(var b: bounds) {\r\n      System.out.print(s + b);\r\n      s = &quot; &amp; &quot;;\r\n    }\r\n    System.out.println();\r\n  }\r\n}\r\n```\r\n\r\nThis shows two similar scenarios with a type with upper bounds, once a type variable and once a wildcard type. The `get()` calls demonstrate the presence of both bounds, `Number` and `Serializable`, in either case.\r\n\r\nAs said above, the wildcard case isn‚Äôt expressible in bytecode. So what happens? Recent `javac` versions simply refuse to compile this code, because they can‚Äôt generate a valid signature attribute. Recent eclipse versions use a work-around. With this work-around, the compiled program prints\r\n\r\n```java\r\nTmp&lt;T&gt;$Inner\r\nT extends class java.lang.Number &amp; interface java.io.Serializable\r\nTmp&lt;java.lang.Number&gt;$Inner\r\nclass java.lang.Number\r\n```\r\n\r\nSo the inexpressible `? extends Number &amp; Serializable` became just `Number` despite the `get()` calls pass, demonstrating that the code actually uses `? extends Number &amp; Serializable`.\r\n\r\nNote that both behaviors are an improvement to earlier versions, as in the past, both compilers generated illegal signatures in such scenarios which would fail at runtime. Compare with bug reports [ECJ 494198] and [JDK-8016196].\r\n\r\nFurther note that you don‚Äôt need `var` for this issue. I only used it here so I can add the `get()` calls. A code construct like `new Tmp&lt;&gt;(10, 1.0).new Inner() { ‚Ä¶ }` would run into this issue in all Java versions with Generics.\r\n\r\nSo, while wildcard types with multiple bounds are possible, you will never get an array with more than one element from `getUpperBounds()` or `getLowerBounds()`‚Äîat least if the interface implementation truly reflects what has been found in an actual class file. And, as far as I know, there are no scenarios with multiple lower bounds.\r\n\r\nI notice that this answer didn‚Äôt explain *why* these methods were defined to return an array. But we probably will never know. At least, I tried to provide all information there is about it.\r\n\r\n[`java.lang.reflect.Type`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Type.html\r\n[the bytecode format]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.7.9.1\r\n[ECJ 494198]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=494198\r\n[JDK-8016196]: https://bugs.openjdk.org/browse/JDK-8016196","title":"Why upperBounds and lowerBounds of WildcardType are array in java?","body":"<p>I think it‚Äôs valid to say that this part of the Reflection API is not a good API at all. The base type <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Type.html\" rel=\"nofollow noreferrer\"><code>java.lang.reflect.Type</code></a> does not provide any helpful query methods, except for the name and even that was added as late as Java¬†8.</p>\n<p>So from Java¬†5 to Java¬†7, developers were left with an empty interface. And even today, it requires a bunch of <code>instanceof</code> tests to find out what you are looking at. This is, of course, especially awful if it‚Äôs not clear what possibilities exist, in other words, what you have to test for.</p>\n<p>The case of <code>getRawType()</code> declaring the base type <code>Type</code> when it is always expected to be a <code>Class</code> (or is it?), is bad. But the case of the bounds is even weirder.</p>\n<p>The question whether a wildcard type can have multiple upper bounds is actually independent from the question whether the method <code>getUpperBounds()</code> can ever return an array with more than one element.</p>\n<p>In general, wildcard types with multiple bounds are possible, but only as a result of type inference. At a first glance, this applies to intermediate values only, whose types are never reported by Reflection and so the designers of Generics did not consider this scenario when defining the bytecode format. In other words, <em>it‚Äôs impossible to describe a wildcard with multiple bounds in <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.7.9.1\" rel=\"nofollow noreferrer\">the bytecode format</a></em>.</p>\n<p>Since the assumption that such inferred types can not occur as part of runtime Reflection visible artifacts was actually wrong, we can test it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\nimport java.lang.reflect.*;\n\npublic class Tmp&lt;T&gt; {\n  public static void main(String[] args) {\n    withTypeVariable(null);\n    withWildcardType();\n  }\n\n  public static &lt;T extends Number &amp; Serializable&gt; void withTypeVariable(T t) {\n    var tmp = new Tmp&lt;T&gt;(t, t);\n\n    Serializable s = tmp.get();\n    Number n = tmp.get();\n\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\n  }\n\n  public static void withWildcardType() {\n    var tmp = new Tmp&lt;&gt;(10, 1.0);\n\n    Serializable s = tmp.get();\n    Number n = tmp.get();\n\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\n  }\n\n  Tmp(T t1, T t2) {}\n\n  T get() {\n    return null;\n  }\n\n  class Inner {}\n\n  static void printType(Type type) {\n    System.out.println(type);\n    Type typeArg = ((ParameterizedType)\n        ((ParameterizedType)type).getOwnerType()).getActualTypeArguments()[0];\n    Type[] bounds;\n    if(typeArg instanceof TypeVariable&lt;?&gt; tv) {\n      System.out.print(tv.getName());\n      bounds = tv.getBounds();\n    }\n    else if(typeArg instanceof WildcardType wt) {\n      System.out.print(&quot;?&quot;);\n      bounds = wt.getUpperBounds();\n    }\n    else {\n      System.out.println(typeArg);\n      return;\n    }\n    String s = &quot; extends &quot;;\n    for(var b: bounds) {\n      System.out.print(s + b);\n      s = &quot; &amp; &quot;;\n    }\n    System.out.println();\n  }\n}\n</code></pre>\n<p>This shows two similar scenarios with a type with upper bounds, once a type variable and once a wildcard type. The <code>get()</code> calls demonstrate the presence of both bounds, <code>Number</code> and <code>Serializable</code>, in either case.</p>\n<p>As said above, the wildcard case isn‚Äôt expressible in bytecode. So what happens? Recent <code>javac</code> versions simply refuse to compile this code, because they can‚Äôt generate a valid signature attribute. Recent eclipse versions use a work-around. With this work-around, the compiled program prints</p>\n<pre class=\"lang-java prettyprint-override\"><code>Tmp&lt;T&gt;$Inner\nT extends class java.lang.Number &amp; interface java.io.Serializable\nTmp&lt;java.lang.Number&gt;$Inner\nclass java.lang.Number\n</code></pre>\n<p>So the inexpressible <code>? extends Number &amp; Serializable</code> became just <code>Number</code> despite the <code>get()</code> calls pass, demonstrating that the code actually uses <code>? extends Number &amp; Serializable</code>.</p>\n<p>Note that both behaviors are an improvement to earlier versions, as in the past, both compilers generated illegal signatures in such scenarios which would fail at runtime. Compare with bug reports <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=494198\" rel=\"nofollow noreferrer\">ECJ 494198</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8016196\" rel=\"nofollow noreferrer\">JDK-8016196</a>.</p>\n<p>Further note that you don‚Äôt need <code>var</code> for this issue. I only used it here so I can add the <code>get()</code> calls. A code construct like <code>new Tmp&lt;&gt;(10, 1.0).new Inner() { ‚Ä¶ }</code> would run into this issue in all Java versions with Generics.</p>\n<p>So, while wildcard types with multiple bounds are possible, you will never get an array with more than one element from <code>getUpperBounds()</code> or <code>getLowerBounds()</code>‚Äîat least if the interface implementation truly reflects what has been found in an actual class file. And, as far as I know, there are no scenarios with multiple lower bounds.</p>\n<p>I notice that this answer didn‚Äôt explain <em>why</em> these methods were defined to return an array. But we probably will never know. At least, I tried to provide all information there is about it.</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1688043121,"creation_date":1687889101,"question_id":76567571,"body_markdown":"Why upperBounds and lowerBounds of `WildcardType` are array in java?\r\n\r\n    // Only has a Number\r\n    ? extends Number\r\n\r\n`T` has two (`Number` and `Serializable`) but `T` is `TypeVariable` **not** `WildcardType`\r\n\r\n    T extends Number &amp; Serializable\r\n\r\nAnd in jdk implementation `com.sun.beans.WildcardTypeImpl` and `sun.reflect.generics.reflectiveObjects.WildcardTypeImpl` I see this code in `toString()`:\r\n\r\n    for(int var3 = 0; var3 &lt; var2.length; ++var3) {\r\n                if (var3 &gt; 0) {\r\n                    var1.append(&quot; &amp; &quot;);\r\n                }\r\n    \r\n                var1.append(var2[var3] instanceof Class ? ((Class)var2[var3]).getName() : var2[var3].toString());\r\n            }\r\n\r\nWhy? Is this legal??? `? extends Number &amp; Serializable`\r\n\r\nSame problem for `rawType` of `ParameterizedType`: Why return `Type` **not** `Class`?","title":"Why upperBounds and lowerBounds of WildcardType are array in java?","body":"<p>Why upperBounds and lowerBounds of <code>WildcardType</code> are array in java?</p>\n<pre><code>// Only has a Number\n? extends Number\n</code></pre>\n<p><code>T</code> has two (<code>Number</code> and <code>Serializable</code>) but <code>T</code> is <code>TypeVariable</code> <strong>not</strong> <code>WildcardType</code></p>\n<pre><code>T extends Number &amp; Serializable\n</code></pre>\n<p>And in jdk implementation <code>com.sun.beans.WildcardTypeImpl</code> and <code>sun.reflect.generics.reflectiveObjects.WildcardTypeImpl</code> I see this code in <code>toString()</code>:</p>\n<pre><code>for(int var3 = 0; var3 &lt; var2.length; ++var3) {\n            if (var3 &gt; 0) {\n                var1.append(&quot; &amp; &quot;);\n            }\n\n            var1.append(var2[var3] instanceof Class ? ((Class)var2[var3]).getName() : var2[var3].toString());\n        }\n</code></pre>\n<p>Why? Is this legal??? <code>? extends Number &amp; Serializable</code></p>\n<p>Same problem for <code>rawType</code> of <code>ParameterizedType</code>: Why return <code>Type</code> <strong>not</strong> <code>Class</code>?</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1687977741,"post_id":76575677,"comment_id":135013632,"body_markdown":"Is `userRepository` a mock or a spy object injected into your class under test? Does the `User` class have getters?","body":"Is <code>userRepository</code> a mock or a spy object injected into your class under test? Does the <code>User</code> class have getters?"},{"owner":{"account_id":11198898,"reputation":3,"user_id":8216678,"display_name":"vorex"},"score":0,"creation_date":1687978389,"post_id":76575677,"comment_id":135013739,"body_markdown":"it&#39;s mocked object. I&#39;ve got spy only on passwordEncoder.","body":"it&#39;s mocked object. I&#39;ve got spy only on passwordEncoder."}],"answers":[{"comments":[{"owner":{"account_id":11198898,"reputation":3,"user_id":8216678,"display_name":"vorex"},"score":0,"creation_date":1687988416,"post_id":76576009,"comment_id":135015412,"body_markdown":"I see where i made mistake. For some reason i&#39;ve been thinking that after using get() method on Optional object i&#39;m getting new instance of the object, not the existing one. That leaded me to thniking that i dont have access to the object with updated password, because it couldn&#39;t be returned by mocked reposiotory.","body":"I see where i made mistake. For some reason i&#39;ve been thinking that after using get() method on Optional object i&#39;m getting new instance of the object, not the existing one. That leaded me to thniking that i dont have access to the object with updated password, because it couldn&#39;t be returned by mocked reposiotory."}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687978927,"creation_date":1687978927,"answer_id":76576009,"question_id":76575677,"body_markdown":"Two simplest ways of verifying if the password was changed are in my opinion:\r\n\r\n1. Using a getter of the object returned from the mocked repository. It&#39;s the same object instance, so if it&#39;s modified inside the tested method, we can see that after the method is called in the test:\r\n\r\n```java\r\n@Test\r\nvoid userWithGetter() {\r\n    var email = &quot;email@example.com&quot;;\r\n    var password = &quot;admin123&quot;;\r\n    var user = new User();\r\n    when(userRepository.findByEmail(email))\r\n            .thenReturn(Optional.of(user));\r\n\r\n    testedClass.changeUserPassword(email, password);\r\n\r\n    assertEquals(password, user.getPassword());\r\n}\r\n```\r\n\r\n2. Similarly, but in case `User` class does not have a getter for the password, we can spy on the object that we&#39;re returning from the mocked repository to verify the setter call:\r\n\r\n```java\r\n@Test\r\nvoid userWithoutGetter() {\r\n    var email = &quot;email@example.com&quot;;\r\n    var password = &quot;admin123&quot;;\r\n    var user = spy(new User());\r\n    when(userRepository.findByEmail(email))\r\n            .thenReturn(Optional.of(user));\r\n\r\n    testedClass.changeUserPassword(email, password);\r\n\r\n    verify(user).setPassword(password);\r\n}\r\n```\r\n\r\n\r\nI&#39;ve prepared [a GitHub repository][1] with shortened code reproducing your class under test and included the tests described above - both pass. If any further clarification is needed, I&#39;d be happy to help.\r\n\r\n\r\n  [1]: https://github.com/Jonarzz/stack-overflow/commit/0d8345eefa8a325ae2a3369a488e6b05ce95ad21","title":"Is there a way to check if local variable methods have been used with JUnit5 and Mockito?","body":"<p>Two simplest ways of verifying if the password was changed are in my opinion:</p>\n<ol>\n<li>Using a getter of the object returned from the mocked repository. It's the same object instance, so if it's modified inside the tested method, we can see that after the method is called in the test:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid userWithGetter() {\n    var email = &quot;email@example.com&quot;;\n    var password = &quot;admin123&quot;;\n    var user = new User();\n    when(userRepository.findByEmail(email))\n            .thenReturn(Optional.of(user));\n\n    testedClass.changeUserPassword(email, password);\n\n    assertEquals(password, user.getPassword());\n}\n</code></pre>\n<ol start=\"2\">\n<li>Similarly, but in case <code>User</code> class does not have a getter for the password, we can spy on the object that we're returning from the mocked repository to verify the setter call:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid userWithoutGetter() {\n    var email = &quot;email@example.com&quot;;\n    var password = &quot;admin123&quot;;\n    var user = spy(new User());\n    when(userRepository.findByEmail(email))\n            .thenReturn(Optional.of(user));\n\n    testedClass.changeUserPassword(email, password);\n\n    verify(user).setPassword(password);\n}\n</code></pre>\n<p>I've prepared <a href=\"https://github.com/Jonarzz/stack-overflow/commit/0d8345eefa8a325ae2a3369a488e6b05ce95ad21\" rel=\"nofollow noreferrer\">a GitHub repository</a> with shortened code reproducing your class under test and included the tests described above - both pass. If any further clarification is needed, I'd be happy to help.</p>\n"}],"owner":{"account_id":11198898,"reputation":3,"user_id":8216678,"display_name":"vorex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76576009,"answer_count":1,"score":0,"last_activity_date":1688043089,"creation_date":1687975386,"question_id":76575677,"body_markdown":"I&#39;ve got a service class for the User entity. One of the methods is responsible for changing the user password. And here is the problem. The method looks for a user in the database and stores it in a local variable. Obviously, it&#39;s working, but is there a way to write a test to check if the password setter method in the user class was used?\r\n\r\n```\r\npublic AuthenticationResponse changeUserPassword(ChangeUserPasswordDto changeUserPasswordDto,\r\n            String jwtToken)\r\n            throws RuntimeException\r\n{\r\n        User user = userRepository.findByEmail(jwtUtil.extractUsername(jwtToken)).get();\r\n\r\n        if (!passwordEncoder.matches(changeUserPasswordDto.getPassword(),user.getPassword()))\r\n            throw new InvalidPasswordException(&quot;Old password is not matching.&quot;);\r\n        if (!changeUserPasswordDto.getNewPassword().equals(changeUserPasswordDto.getNewPasswordConfirmation()))\r\n            throw new NotMatchingPasswordsException(&quot;Passwords are not matching.&quot;);\r\n\r\n        user.setPassword(passwordEncoder.encode(changeUserPasswordDto.getNewPassword()));\r\n        user.setLastCredentialsChangeTime(System.currentTimeMillis());\r\n        return AuthenticationResponse.builder().token(jwtUtil.generateToken(userRepository.save(user))).build();\r\n}\r\n```\r\n\r\n\r\nI&#39;ve been looking for a solution to this problem for half of the day, but I found only  [one](https://stackoverflow.com/questions/16506254/mockito-with-local-variables) questionable solution using [Powermock library](https://github.com/powermock/powermock). Still, this library hasn&#39;t been updated since last year.\r\n\r\nThere is no possibility of using Mockito.verify() or something because it&#39;s not visible outside.\r\n\r\nDoes it even make sense to write a test for something like this?\r\n","title":"Is there a way to check if local variable methods have been used with JUnit5 and Mockito?","body":"<p>I've got a service class for the User entity. One of the methods is responsible for changing the user password. And here is the problem. The method looks for a user in the database and stores it in a local variable. Obviously, it's working, but is there a way to write a test to check if the password setter method in the user class was used?</p>\n<pre><code>public AuthenticationResponse changeUserPassword(ChangeUserPasswordDto changeUserPasswordDto,\n            String jwtToken)\n            throws RuntimeException\n{\n        User user = userRepository.findByEmail(jwtUtil.extractUsername(jwtToken)).get();\n\n        if (!passwordEncoder.matches(changeUserPasswordDto.getPassword(),user.getPassword()))\n            throw new InvalidPasswordException(&quot;Old password is not matching.&quot;);\n        if (!changeUserPasswordDto.getNewPassword().equals(changeUserPasswordDto.getNewPasswordConfirmation()))\n            throw new NotMatchingPasswordsException(&quot;Passwords are not matching.&quot;);\n\n        user.setPassword(passwordEncoder.encode(changeUserPasswordDto.getNewPassword()));\n        user.setLastCredentialsChangeTime(System.currentTimeMillis());\n        return AuthenticationResponse.builder().token(jwtUtil.generateToken(userRepository.save(user))).build();\n}\n</code></pre>\n<p>I've been looking for a solution to this problem for half of the day, but I found only  <a href=\"https://stackoverflow.com/questions/16506254/mockito-with-local-variables\">one</a> questionable solution using <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">Powermock library</a>. Still, this library hasn't been updated since last year.</p>\n<p>There is no possibility of using Mockito.verify() or something because it's not visible outside.</p>\n<p>Does it even make sense to write a test for something like this?</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":23694106,"reputation":3,"user_id":17718081,"display_name":"killersea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688042447,"creation_date":1687282516,"answer_id":76517169,"question_id":76516966,"body_markdown":"I got the solution.\r\n\r\nI needed to place my code inside the event listener because of Firebase being asynchronous.","title":"Android Studio Firebase returning null on getkey and getvalue","body":"<p>I got the solution.</p>\n<p>I needed to place my code inside the event listener because of Firebase being asynchronous.</p>\n"}],"owner":{"account_id":23694106,"reputation":3,"user_id":17718081,"display_name":"killersea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688042447,"creation_date":1687280753,"question_id":76516966,"body_markdown":"I gave up debugging this problem\r\nI already check many posts and my code is similar to them\r\nI think my code is right but it always keep returning null\r\n\r\n```\r\npackage com.example.dejabrew;\r\n\r\nimport static java.lang.Integer.parseInt;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CartList extends AppCompatActivity implements RecyclerViewInterface {\r\n\r\n    TextView finalprice;\r\n    Integer getprice;\r\n    Integer Finalprice = 0;\r\n    ImageView home, favourite;\r\n    RecyclerView cartrecyclerview;\r\n    RecyclerViewAdapter2 recyclerViewAdapter2;\r\n    ArrayList&lt;Cartmodel&gt; list;\r\n    ArrayList&lt;Integer&gt; pricelist = new ArrayList&lt;&gt;();\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://dejabrew-2bcc8-default-rtdb.asia-southeast1.firebasedatabase.app/&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.cartlist);\r\n\r\n        finalprice = (TextView) findViewById(R.id.finalprice);\r\n        cartrecyclerview = (RecyclerView)findViewById(R.id.cartrecyclerview);\r\n        cartrecyclerview.setHasFixedSize(true);\r\n        home = (ImageView) findViewById(R.id.home2);\r\n        favourite = (ImageView) findViewById(R.id.heart2);\r\n\r\n        RecyclerView.LayoutManager layoutManager = (new LinearLayoutManager(this));\r\n        cartrecyclerview.setLayoutManager(layoutManager);\r\n        list = new ArrayList&lt;&gt;();\r\n        recyclerViewAdapter2 = new RecyclerViewAdapter2(this, this, list);\r\n        cartrecyclerview.setAdapter(recyclerViewAdapter2);\r\n\r\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                list.clear();\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    Cartmodel cartmodel = dataSnapshot.getValue(Cartmodel.class);\r\n                    list.add(cartmodel);\r\n                }\r\n                recyclerViewAdapter2.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {;\r\n                for (DataSnapshot dataSnapshot1: snapshot1.getChildren()){\r\n                    String getkey = dataSnapshot1.getKey();\r\n                    getprice = snapshot1.child(getkey).child(&quot;price&quot;).getValue(Integer.class);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        home.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(CartList.this, HomePage.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onitemclick(int position) {\r\n        Cartmodel cartmodel = list.get(position);\r\n        String id = cartmodel.getItemid();\r\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).child(id).removeValue();\r\n        recyclerViewAdapter2.notifyItemRemoved(position);\r\n\r\n    }\r\n}\r\n```\r\n\r\n[[Database](https://i.stack.imgur.com/5reCs.png)][Debugger](https://i.stack.imgur.com/LPu1j.png)\r\n\r\n\r\nI need to get all the price value of items in cart to get the total price\r\nHere is the image of my firebase realtime database and the picture of the debugger","title":"Android Studio Firebase returning null on getkey and getvalue","body":"<p>I gave up debugging this problem\nI already check many posts and my code is similar to them\nI think my code is right but it always keep returning null</p>\n<pre><code>package com.example.dejabrew;\n\nimport static java.lang.Integer.parseInt;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class CartList extends AppCompatActivity implements RecyclerViewInterface {\n\n    TextView finalprice;\n    Integer getprice;\n    Integer Finalprice = 0;\n    ImageView home, favourite;\n    RecyclerView cartrecyclerview;\n    RecyclerViewAdapter2 recyclerViewAdapter2;\n    ArrayList&lt;Cartmodel&gt; list;\n    ArrayList&lt;Integer&gt; pricelist = new ArrayList&lt;&gt;();\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://dejabrew-2bcc8-default-rtdb.asia-southeast1.firebasedatabase.app/&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.cartlist);\n\n        finalprice = (TextView) findViewById(R.id.finalprice);\n        cartrecyclerview = (RecyclerView)findViewById(R.id.cartrecyclerview);\n        cartrecyclerview.setHasFixedSize(true);\n        home = (ImageView) findViewById(R.id.home2);\n        favourite = (ImageView) findViewById(R.id.heart2);\n\n        RecyclerView.LayoutManager layoutManager = (new LinearLayoutManager(this));\n        cartrecyclerview.setLayoutManager(layoutManager);\n        list = new ArrayList&lt;&gt;();\n        recyclerViewAdapter2 = new RecyclerViewAdapter2(this, this, list);\n        cartrecyclerview.setAdapter(recyclerViewAdapter2);\n\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                list.clear();\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    Cartmodel cartmodel = dataSnapshot.getValue(Cartmodel.class);\n                    list.add(cartmodel);\n                }\n                recyclerViewAdapter2.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {;\n                for (DataSnapshot dataSnapshot1: snapshot1.getChildren()){\n                    String getkey = dataSnapshot1.getKey();\n                    getprice = snapshot1.child(getkey).child(&quot;price&quot;).getValue(Integer.class);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        home.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(CartList.this, HomePage.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public void onitemclick(int position) {\n        Cartmodel cartmodel = list.get(position);\n        String id = cartmodel.getItemid();\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).child(id).removeValue();\n        recyclerViewAdapter2.notifyItemRemoved(position);\n\n    }\n}\n</code></pre>\n<p>[<a href=\"https://i.stack.imgur.com/5reCs.png\" rel=\"nofollow noreferrer\">Database</a>]<a href=\"https://i.stack.imgur.com/LPu1j.png\" rel=\"nofollow noreferrer\">Debugger</a></p>\n<p>I need to get all the price value of items in cart to get the total price\nHere is the image of my firebase realtime database and the picture of the debugger</p>\n"},{"tags":["java","spring","caching","logging"],"answers":[{"comments":[{"owner":{"account_id":3946298,"reputation":103,"user_id":3258772,"accept_rate":43,"display_name":"user3258772"},"score":0,"creation_date":1436957599,"post_id":31428289,"comment_id":50827303,"body_markdown":"I know, but i want to see if the cache was called. In this case i will not see anything. I hope you understad","body":"I know, but i want to see if the cache was called. In this case i will not see anything. I hope you understad"},{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1453910467,"post_id":31428289,"comment_id":57808651,"body_markdown":"But you hopefully know when it is invoked, so every inovation without DB log is resoved by the cache.","body":"But you hopefully know when it is invoked, so every inovation without DB log is resoved by the cache."}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436957274,"creation_date":1436957274,"answer_id":31428289,"question_id":31428240,"body_markdown":"You could use [log4jdbc][1] ([docu][2]) - it is wrapper around your normal jdbc connection that logs every executed statement.\r\n\r\n\r\n  [1]: https://github.com/arthurblake/log4jdbc\r\n  [2]: https://code.google.com/p/log4jdbc/","title":"Spring log if cache is called for @Cacheable","body":"<p>You could use <a href=\"https://github.com/arthurblake/log4jdbc\" rel=\"nofollow\">log4jdbc</a> (<a href=\"https://code.google.com/p/log4jdbc/\" rel=\"nofollow\">docu</a>) - it is wrapper around your normal jdbc connection that logs every executed statement.</p>\n"},{"comments":[{"owner":{"account_id":7402277,"reputation":340,"user_id":5632321,"display_name":"Anatoly Yakimchuk"},"score":1,"creation_date":1545919007,"post_id":36441721,"comment_id":94730882,"body_markdown":"This way you have to modify each of your cacheable methods","body":"This way you have to modify each of your cacheable methods"}],"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459917995,"creation_date":1459917995,"answer_id":36441721,"question_id":31428240,"body_markdown":"you can a log message in your service layer if there&#39;s going to be a call to your persistence layer.  here&#39;s a method from some code i&#39;m working where i&#39;m doing this.  I only get a log entry when the cache isn&#39;t hit. \r\n\r\n    @Cacheable(value = CACHE_PICO)\r\n    @Transactional(readOnly = true)\r\n    @PostAuthorize(PICO_READ + OR + ALLOWED_FOR_ADMIN)\r\n    public Pico get(long id) {\r\n        log.info(&quot;cached missed for pico {}&quot;, id);\r\n        return _picoRepository.findOne(id);\r\n    }\r\n","title":"Spring log if cache is called for @Cacheable","body":"<p>you can a log message in your service layer if there's going to be a call to your persistence layer.  here's a method from some code i'm working where i'm doing this.  I only get a log entry when the cache isn't hit. </p>\n\n<pre><code>@Cacheable(value = CACHE_PICO)\n@Transactional(readOnly = true)\n@PostAuthorize(PICO_READ + OR + ALLOWED_FOR_ADMIN)\npublic Pico get(long id) {\n    log.info(\"cached missed for pico {}\", id);\n    return _picoRepository.findOne(id);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4686814,"reputation":1148,"user_id":3794038,"display_name":"Constantinos"},"score":1,"creation_date":1567415312,"post_id":47595372,"comment_id":101944993,"body_markdown":"I have enabled this and all I get are entries like \n\n```Computed cache key &#39;SimpleKey foo&#39; for operation bar```\n\nIs there something else I need to enable in order to see hits/misses? I&#39;m using Caffeine but can&#39;t find a way of getting that to log them either","body":"I have enabled this and all I get are entries like   <code>Computed cache key &#39;SimpleKey foo&#39; for operation bar</code>  Is there something else I need to enable in order to see hits/misses? I&#39;m using Caffeine but can&#39;t find a way of getting that to log them either"}],"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512137998,"creation_date":1512137998,"answer_id":47595372,"question_id":31428240,"body_markdown":"Spring logs out cache hits and misses under the `org.springframework.cache` category at `TRACE` level.","title":"Spring log if cache is called for @Cacheable","body":"<p>Spring logs out cache hits and misses under the <code>org.springframework.cache</code> category at <code>TRACE</code> level.</p>\n"},{"tags":[],"owner":{"account_id":25850929,"reputation":31,"user_id":21219675,"display_name":"Murat Samatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688042372,"creation_date":1688042372,"answer_id":76581151,"question_id":31428240,"body_markdown":"if u use application.yml \r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework.cache: TRACE\r\n```","title":"Spring log if cache is called for @Cacheable","body":"<p>if u use application.yml</p>\n<pre><code>logging:\n  level:\n    org.springframework.cache: TRACE\n</code></pre>\n"}],"owner":{"account_id":3946298,"reputation":103,"user_id":3258772,"accept_rate":43,"display_name":"user3258772"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5859,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1688042372,"creation_date":1436957086,"question_id":31428240,"body_markdown":"I have a simple spring 3.2 web application, which is connected to a MySQL db. My question is simple: I have method in dao, which is annotated with @Cacheable. Is there a way to log if the method goes to db, or its result is loaded from cache? For example, I&#39;d like to see the following log:\r\n     \r\n    Object with id &#39;x&#39; was retrieved from database at 23:44:30 / 2015....\r\n    Object with id &#39;x&#39; was retrived from cache at...\r\n\r\nThank you","title":"Spring log if cache is called for @Cacheable","body":"<p>I have a simple spring 3.2 web application, which is connected to a MySQL db. My question is simple: I have method in dao, which is annotated with @Cacheable. Is there a way to log if the method goes to db, or its result is loaded from cache? For example, I'd like to see the following log:</p>\n\n<pre><code>Object with id 'x' was retrieved from database at 23:44:30 / 2015....\nObject with id 'x' was retrived from cache at...\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","splunk","easymock","finalize"],"answers":[{"comments":[{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":0,"creation_date":1686295216,"post_id":76428207,"comment_id":134782008,"body_markdown":"I checked the whole project and there is no single `finalize` in any java class. Indeed it&#39;s strange - especially the only change I did was adding new appender to log to Splunk and as I mentioned above - it fails only on Gitlab pipeline, locally it works","body":"I checked the whole project and there is no single <code>finalize</code> in any java class. Indeed it&#39;s strange - especially the only change I did was adding new appender to log to Splunk and as I mentioned above - it fails only on Gitlab pipeline, locally it works"}],"tags":[],"owner":{"account_id":392465,"reputation":5571,"user_id":753739,"display_name":"Henri"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686191240,"creation_date":1686191240,"answer_id":76428207,"question_id":76422215,"body_markdown":"This is really strange. It it expecting `finalize`. It means that an expectation was set for it. But I don&#39;t see an expectation set. So it could be that it is set somewhere else in your code, or that it&#39;s called by the GC while you are setting your expectations. But I doubt it, because it wouldn&#39;t be in the same thread.\r\n\r\nSo my assumption is that a `finalize` is expected somewhere else and should be `expectLastCall().andStubReturn()` instead of just `mock.finalize()`. ","title":"junit.framework.AssertionFailedError: Expectation failure on verify: finalize(): expected: 1, actual: 0","body":"<p>This is really strange. It it expecting <code>finalize</code>. It means that an expectation was set for it. But I don't see an expectation set. So it could be that it is set somewhere else in your code, or that it's called by the GC while you are setting your expectations. But I doubt it, because it wouldn't be in the same thread.</p>\n<p>So my assumption is that a <code>finalize</code> is expected somewhere else and should be <code>expectLastCall().andStubReturn()</code> instead of just <code>mock.finalize()</code>.</p>\n"},{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688041630,"creation_date":1688041630,"answer_id":76581060,"question_id":76422215,"body_markdown":"It was really old EasyMock version: https://github.com/easymock/easymock/issues/32, upgrading fix the issue.","title":"junit.framework.AssertionFailedError: Expectation failure on verify: finalize(): expected: 1, actual: 0","body":"<p>It was really old EasyMock version: <a href=\"https://github.com/easymock/easymock/issues/32\" rel=\"nofollow noreferrer\">https://github.com/easymock/easymock/issues/32</a>, upgrading fix the issue.</p>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688041630,"creation_date":1686132855,"question_id":76422215,"body_markdown":"I have an old test in code which uses EasyMock instead of Mockito.\r\nWhen I run test locally then it works, however when it runs in gitlab pipeline then I get:\r\n\r\n    junit.framework.AssertionFailedError: \r\n      Expectation failure on verify:\r\n        finalize(): expected: 1, actual: 0\r\n        finalize(): expected: 1, actual: 0\r\n    \tat org.easymock.internal.MocksControl.verify(MocksControl.java:184)\r\n    \tat myproject.mocks.EasyMockTestCase.verify(EasyMockTestCase.java:72)\r\n    \tat myproject.controllers.TestController.userIsAbleToSave(TestController.java:132)\r\n\r\nof course I can see a lot of the same questions on stackoverflow and in the net but here it&#39;s strange because of `finalize()` method.\r\n\r\nMy code:\r\n\r\n    @RequestMapping(value = ACTION, params = &quot;buttonSubmit&quot;)\r\n        @Secured(Permissions.UPDATE_INSTRUMENT)\r\n        public ModelAndView buttonSubmit(TypeRequest typeRequest, final HttpServletRequest request) throws Exception {\r\n            ModelAndView mav = getView();\r\n            Product product;\r\n            try {\r\n                product = productLifeCycleService.createNew(new AppRequest(request));\r\n            } catch (DuplicateException e) {\r\n                return handleDuplicate(typeRequest, request, false, e);\r\n            } catch (ValidationException e) {\r\n                return handleValidation(request, false, e);\r\n            }\r\n            return redirectToProductDetail(mav, product.getId());\r\n        }\r\n\r\nand test for this:\r\n\r\n    @Test\r\n    \tpublic void userIsAbleToSave() throws Exception {\r\n    \t\texpect(productLifeCycleService.createNew((Request)anyObject())).andStubReturn(product);\r\n    \t\texpect(product.getId()).andStubReturn(STANDARD);\r\n    \t\tTypeRequest typeRequest = new TypeRequest (QQ, HH, GOAL);\r\n    \r\n    \t\treplay();\r\n    \t\tunderTest.buttonSubmit(typeRequest, httpRequest);\r\n    \t\tverify();\r\n    \t}\r\n\r\nWhy is it failing on `finalize()`, why it works locally and don&#39;t work on Gitlab? It started to fail in pipeline after adding `appender` to connect to Splunk in `logback.xml`.\r\n\r\nWhen product is created this way:\r\n\r\n    Product product;\r\n    product = productLifeCycleService.createNew(new AppRequest(request));\r\n\r\nit&#39;s also not easy to use Mockito here.\r\n\r\n@Edit\r\nI see that adding into `logback.xml`:\r\n\r\n    &lt;appender-ref ref=&quot;http&quot;/&gt;\r\n\r\nspoil test. In `@Before` I have `mockHttpRequest()` method which do:\r\n\r\n    private void mockHttpRequest() {\r\n    \t\thttpRequest = mock(MockHttpServletRequest.class);\r\n    \t\texpect(httpRequest.getRequestURI()).andStubReturn(URI);\r\n    \t\texpect(httpRequest.getHeader(HEADER)).andStubReturn(null);\r\n    \t\texpect(httpRequest.getParameter(TYPE)).andStubReturn(TypeName.LEGAL.getFormName());\r\n    \t\texpect(httpRequest.getMethod()).andStubReturn(POST);\r\n    \t}","title":"junit.framework.AssertionFailedError: Expectation failure on verify: finalize(): expected: 1, actual: 0","body":"<p>I have an old test in code which uses EasyMock instead of Mockito.\nWhen I run test locally then it works, however when it runs in gitlab pipeline then I get:</p>\n<pre><code>junit.framework.AssertionFailedError: \n  Expectation failure on verify:\n    finalize(): expected: 1, actual: 0\n    finalize(): expected: 1, actual: 0\n    at org.easymock.internal.MocksControl.verify(MocksControl.java:184)\n    at myproject.mocks.EasyMockTestCase.verify(EasyMockTestCase.java:72)\n    at myproject.controllers.TestController.userIsAbleToSave(TestController.java:132)\n</code></pre>\n<p>of course I can see a lot of the same questions on stackoverflow and in the net but here it's strange because of <code>finalize()</code> method.</p>\n<p>My code:</p>\n<pre><code>@RequestMapping(value = ACTION, params = &quot;buttonSubmit&quot;)\n    @Secured(Permissions.UPDATE_INSTRUMENT)\n    public ModelAndView buttonSubmit(TypeRequest typeRequest, final HttpServletRequest request) throws Exception {\n        ModelAndView mav = getView();\n        Product product;\n        try {\n            product = productLifeCycleService.createNew(new AppRequest(request));\n        } catch (DuplicateException e) {\n            return handleDuplicate(typeRequest, request, false, e);\n        } catch (ValidationException e) {\n            return handleValidation(request, false, e);\n        }\n        return redirectToProductDetail(mav, product.getId());\n    }\n</code></pre>\n<p>and test for this:</p>\n<pre><code>@Test\n    public void userIsAbleToSave() throws Exception {\n        expect(productLifeCycleService.createNew((Request)anyObject())).andStubReturn(product);\n        expect(product.getId()).andStubReturn(STANDARD);\n        TypeRequest typeRequest = new TypeRequest (QQ, HH, GOAL);\n\n        replay();\n        underTest.buttonSubmit(typeRequest, httpRequest);\n        verify();\n    }\n</code></pre>\n<p>Why is it failing on <code>finalize()</code>, why it works locally and don't work on Gitlab? It started to fail in pipeline after adding <code>appender</code> to connect to Splunk in <code>logback.xml</code>.</p>\n<p>When product is created this way:</p>\n<pre><code>Product product;\nproduct = productLifeCycleService.createNew(new AppRequest(request));\n</code></pre>\n<p>it's also not easy to use Mockito here.</p>\n<p>@Edit\nI see that adding into <code>logback.xml</code>:</p>\n<pre><code>&lt;appender-ref ref=&quot;http&quot;/&gt;\n</code></pre>\n<p>spoil test. In <code>@Before</code> I have <code>mockHttpRequest()</code> method which do:</p>\n<pre><code>private void mockHttpRequest() {\n        httpRequest = mock(MockHttpServletRequest.class);\n        expect(httpRequest.getRequestURI()).andStubReturn(URI);\n        expect(httpRequest.getHeader(HEADER)).andStubReturn(null);\n        expect(httpRequest.getParameter(TYPE)).andStubReturn(TypeName.LEGAL.getFormName());\n        expect(httpRequest.getMethod()).andStubReturn(POST);\n    }\n</code></pre>\n"},{"tags":["java","events","javafx"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1540088354,"post_id":52911646,"comment_id":92733861,"body_markdown":"You could try printing to console in those event handlers and find out which is fired first :)","body":"You could try printing to console in those event handlers and find out which is fired first :)"},{"owner":{"account_id":7026140,"reputation":306,"user_id":5383451,"display_name":"mark mark"},"score":0,"creation_date":1540089344,"post_id":52911646,"comment_id":92734009,"body_markdown":"I already did, but I would like an explanation","body":"I already did, but I would like an explanation"}],"answers":[{"tags":[],"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1540142463,"creation_date":1540104355,"answer_id":52912777,"question_id":52911646,"body_markdown":"You are actually adding an event handler to your `Node`, which handles a specific type of a `MouseEvent`. ( Have a look at [Handling JavaFX Events][1] as well )\r\n\r\nIf you take a look at `MouseEvent` documentation you will see :\r\n\r\n**MOUSE_PRESSED**\r\n\r\n`public static final EventType&lt;MouseEvent&gt; MOUSE_PRESSED`\r\n\r\n&gt; This event occurs when mouse button is pressed. This activates a\r\n&gt; press-drag-release gesture, so all subsequent mouse events until the\r\n&gt; button is released are delivered to the same node.\r\n\r\n**MOUSE_RELEASED**\r\n\r\n`public static final EventType&lt;MouseEvent&gt; MOUSE_RELEASED`\r\n\r\n&gt; This event occurs when mouse button is released. It is delivered to\r\n&gt; the same node where the button has been pressed which activated a\r\n&gt; press-drag-release gesture.\r\n\r\n**MOUSE_CLICKED**\r\n\r\n`public static final EventType&lt;MouseEvent&gt; MOUSE_CLICKED`\r\n\r\n&gt; This event occurs when mouse button has been clicked (**pressed and\r\n&gt; released on the same node**). This event provides a button-like behavior\r\n&gt; to any node. Note that even long drags can generate click event (it is\r\n&gt; delivered to the top-most node on which the mouse was both pressed and\r\n&gt; released).\r\n\r\nSo to answer your question yes, the order of events is always : \r\n\r\n    MOUSE_PRESSED -&gt;  MOUSE_RELEASED -&gt; MOUSE_CLICKED\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/events/convenience_methods.htm","title":"In Javafx, does mouseReleased event always happen before mouseClicked?","body":"<p>You are actually adding an event handler to your <code>Node</code>, which handles a specific type of a <code>MouseEvent</code>. ( Have a look at <a href=\"https://docs.oracle.com/javafx/2/events/convenience_methods.htm\" rel=\"noreferrer\">Handling JavaFX Events</a> as well )</p>\n\n<p>If you take a look at <code>MouseEvent</code> documentation you will see :</p>\n\n<p><strong>MOUSE_PRESSED</strong></p>\n\n<p><code>public static final EventType&lt;MouseEvent&gt; MOUSE_PRESSED</code></p>\n\n<blockquote>\n  <p>This event occurs when mouse button is pressed. This activates a\n  press-drag-release gesture, so all subsequent mouse events until the\n  button is released are delivered to the same node.</p>\n</blockquote>\n\n<p><strong>MOUSE_RELEASED</strong></p>\n\n<p><code>public static final EventType&lt;MouseEvent&gt; MOUSE_RELEASED</code></p>\n\n<blockquote>\n  <p>This event occurs when mouse button is released. It is delivered to\n  the same node where the button has been pressed which activated a\n  press-drag-release gesture.</p>\n</blockquote>\n\n<p><strong>MOUSE_CLICKED</strong></p>\n\n<p><code>public static final EventType&lt;MouseEvent&gt; MOUSE_CLICKED</code></p>\n\n<blockquote>\n  <p>This event occurs when mouse button has been clicked (<strong>pressed and\n  released on the same node</strong>). This event provides a button-like behavior\n  to any node. Note that even long drags can generate click event (it is\n  delivered to the top-most node on which the mouse was both pressed and\n  released).</p>\n</blockquote>\n\n<p>So to answer your question yes, the order of events is always : </p>\n\n<pre><code>MOUSE_PRESSED -&gt;  MOUSE_RELEASED -&gt; MOUSE_CLICKED\n</code></pre>\n"}],"owner":{"account_id":7026140,"reputation":306,"user_id":5383451,"display_name":"mark mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52912777,"answer_count":1,"score":4,"last_activity_date":1688041326,"creation_date":1540088273,"question_id":52911646,"body_markdown":"Which event is fired first?  Does it depend on initialization order? Does it depend on something else? What is the principle behind this?\r\n\r\n    pane.setOnMouseClicked(e -&gt; {\r\n        doSomething();\r\n    });\r\n\r\n    pane.setOnMouseReleased(e -&gt; {\r\n        doSomething();\r\n    });\r\n\r\n       \r\n     ","title":"In Javafx, does mouseReleased event always happen before mouseClicked?","body":"<p>Which event is fired first?  Does it depend on initialization order? Does it depend on something else? What is the principle behind this?</p>\n\n<pre><code>pane.setOnMouseClicked(e -&gt; {\n    doSomething();\n});\n\npane.setOnMouseReleased(e -&gt; {\n    doSomething();\n});\n</code></pre>\n"},{"tags":["java","maven","snyk"],"answers":[{"tags":[],"owner":{"account_id":28179571,"reputation":409,"user_id":21536808,"display_name":"Jonathan Gruber"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688041325,"creation_date":1688041325,"answer_id":76581019,"question_id":76580904,"body_markdown":"Today the `.snyk` file can ignore:\r\n- a file\r\n- a folder\r\n- a issue ID (vulnerability or license issue)\r\n\r\nToday it doesn&#39;t allow to ignore a specific dependency. If you have an Enterprise plan you may ignore at scale the CVEs associated to this dependency in the **Policies** tab in the Group level today, it is not ideal but some kind of workaround.\r\n\r\nYou may also use the ignore button in the UI but it will be on a *per-project* *per-vuln* basis\r\n\r\n\r\n","title":"Can snyk be configured to ignore all issues for a particular maven dependency?","body":"<p>Today the <code>.snyk</code> file can ignore:</p>\n<ul>\n<li>a file</li>\n<li>a folder</li>\n<li>a issue ID (vulnerability or license issue)</li>\n</ul>\n<p>Today it doesn't allow to ignore a specific dependency. If you have an Enterprise plan you may ignore at scale the CVEs associated to this dependency in the <strong>Policies</strong> tab in the Group level today, it is not ideal but some kind of workaround.</p>\n<p>You may also use the ignore button in the UI but it will be on a <em>per-project</em> <em>per-vuln</em> basis</p>\n"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76581019,"answer_count":1,"score":3,"last_activity_date":1688041325,"creation_date":1688040468,"question_id":76580904,"body_markdown":"I would like to clarify some moments regarding snyk ignore.\r\nIs it possible to configure **.snyk file** to ignore all kinds of issues for a particular maven dependency.\r\nhttps://docs.snyk.io/snyk-cli/commands/ignore\r\n```\r\nignore:\r\n  &#39;*&#39;:  //&lt;ISSUE_ID&gt; all issues\r\n    - &#39;path to maven dependecny&#39;:    // &lt;PATH_TO_RESOURCE&gt;\r\n      reason: &lt;REASON&gt;\r\n      expires: &lt;EXPIRY&gt;\r\n```\r\n\r\nI suppose it will not work as here issues&#39; ids  should be specified. \r\nAnyway. I would be grateful for any piece of advice.","title":"Can snyk be configured to ignore all issues for a particular maven dependency?","body":"<p>I would like to clarify some moments regarding snyk ignore.\nIs it possible to configure <strong>.snyk file</strong> to ignore all kinds of issues for a particular maven dependency.\n<a href=\"https://docs.snyk.io/snyk-cli/commands/ignore\" rel=\"nofollow noreferrer\">https://docs.snyk.io/snyk-cli/commands/ignore</a></p>\n<pre><code>ignore:\n  '*':  //&lt;ISSUE_ID&gt; all issues\n    - 'path to maven dependecny':    // &lt;PATH_TO_RESOURCE&gt;\n      reason: &lt;REASON&gt;\n      expires: &lt;EXPIRY&gt;\n</code></pre>\n<p>I suppose it will not work as here issues' ids  should be specified.\nAnyway. I would be grateful for any piece of advice.</p>\n"},{"tags":["java","json","module","yasson"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1653217457,"post_id":72335737,"comment_id":127792779,"body_markdown":"Have you tried it without all this module stuff?","body":"Have you tried it without all this module stuff?"},{"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"score":1,"creation_date":1653220498,"post_id":72335737,"comment_id":127793335,"body_markdown":"This is the direction that Java wants us to go, so it is my intention to resolve this not give up.","body":"This is the direction that Java wants us to go, so it is my intention to resolve this not give up."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1653220799,"post_id":72335737,"comment_id":127793397,"body_markdown":"I did not say that you should give up but it is good practice to split up problems into smaller ones that you can then investigate step by step. In your case the problem may be a missing maven dependency and/or a missing module dependency. So, if you can exclude the first you can then concentrate on the second.","body":"I did not say that you should give up but it is good practice to split up problems into smaller ones that you can then investigate step by step. In your case the problem may be a missing maven dependency and/or a missing module dependency. So, if you can exclude the first you can then concentrate on the second."}],"answers":[{"tags":[],"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653265846,"creation_date":1653265846,"answer_id":72342194,"question_id":72335737,"body_markdown":"Removing the following dependency resolved the issue.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI assume it was clashing with parsson.","title":"Java 17 module project (maven), when reading Json NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy","body":"<p>Removing the following dependency resolved the issue.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I assume it was clashing with parsson.</p>\n"},{"tags":[],"owner":{"account_id":398093,"reputation":5018,"user_id":762585,"accept_rate":100,"display_name":"Franziskus Karsunke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688040995,"creation_date":1688040995,"answer_id":76580970,"question_id":72335737,"body_markdown":"I had to add the `jakarta.json-api` in a version higher or equal `2.1.0` (`JsonConfig` class was introduced in version `2.1` of jakarta jsonb implementation)\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Java 17 module project (maven), when reading Json NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy","body":"<p>I had to add the <code>jakarta.json-api</code> in a version higher or equal <code>2.1.0</code> (<code>JsonConfig</code> class was introduced in version <code>2.1</code> of jakarta jsonb implementation)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n  &lt;version&gt;2.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72342194,"answer_count":2,"score":1,"last_activity_date":1688040995,"creation_date":1653205860,"question_id":72335737,"body_markdown":"This is not my first module based project but I am very shakey on how it all works, I am sure this is my issue.  Project Jigsaw seems like smoke and mirrors to me at the moment.\r\nAny assistance would be greatly appreciated.\r\n\r\nHere is where the exception happens:\r\n\r\n    result.payload().ifPresent(payloadString -&gt; {\r\n\r\n            final var jsonReader = Json.createReader(new StringReader(payloadString));\r\n            final var jsonObject = jsonReader.readObject(); &lt;== error here\r\n            jsonReader.close();\r\n\r\nMy module-info.java\r\n\r\n        module com.mymodule.pocclient {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires jcip.annotations;\r\n        requires java.logging;\r\n        requires org.controlsfx.controls;\r\n        requires com.dlsc.formsfx;\r\n        requires jakarta.json.bind;\r\n        requires jakarta.json;\r\n        requires org.eclipse.yasson;\r\n        requires org.eclipse.parsson;\r\n        requires static lombok;\r\n        requires jjwt.api;\r\n        requires com.mymodule.cryptography;\r\n    \r\n    \r\n        opens com.mymodule.pocclient.controllers to javafx.fxml;\r\n        opens com.mymodule.pocclient.model to javafx.base, org.eclipse.yasson;\r\n        opens com.mymodule.pocclient to javafx.fxml;\r\n        opens com.mymodule.pocclient.network to org.eclipse.parsson;\r\n    \r\n        exports com.mymodule.pocclient;\r\n        exports com.mymodule.pocclient.controllers;\r\n    }\r\n\r\nThe exception:\r\n\r\n    java.lang.NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl$DuplicateStrategy.&lt;clinit&gt;(JsonObjectBuilderImpl.java:373)\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl.&lt;init&gt;(JsonObjectBuilderImpl.java:59)\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonParserImpl.getObject(JsonParserImpl.java:171)\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonReaderImpl.readObject(JsonReaderImpl.java:103)\r\n\tat com.lifelenz.poclifelenzclient/com.mymodule.pocclient.controllers.LoginController.lambda$processAuthenticatedUser$0(LoginController.java:121)\r\n\r\n\r\n\r\ndependencies from my pom file (not sure how much is relevant) \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.lifelenz.jmsa&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cryptography&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.parsson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;parsson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-RC2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.jcip&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcip-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.5.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;18.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Java 17 module project (maven), when reading Json NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy","body":"<p>This is not my first module based project but I am very shakey on how it all works, I am sure this is my issue.  Project Jigsaw seems like smoke and mirrors to me at the moment.\nAny assistance would be greatly appreciated.</p>\n<p>Here is where the exception happens:</p>\n<pre><code>result.payload().ifPresent(payloadString -&gt; {\n\n        final var jsonReader = Json.createReader(new StringReader(payloadString));\n        final var jsonObject = jsonReader.readObject(); &lt;== error here\n        jsonReader.close();\n</code></pre>\n<p>My module-info.java</p>\n<pre><code>    module com.mymodule.pocclient {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires jcip.annotations;\n    requires java.logging;\n    requires org.controlsfx.controls;\n    requires com.dlsc.formsfx;\n    requires jakarta.json.bind;\n    requires jakarta.json;\n    requires org.eclipse.yasson;\n    requires org.eclipse.parsson;\n    requires static lombok;\n    requires jjwt.api;\n    requires com.mymodule.cryptography;\n\n\n    opens com.mymodule.pocclient.controllers to javafx.fxml;\n    opens com.mymodule.pocclient.model to javafx.base, org.eclipse.yasson;\n    opens com.mymodule.pocclient to javafx.fxml;\n    opens com.mymodule.pocclient.network to org.eclipse.parsson;\n\n    exports com.mymodule.pocclient;\n    exports com.mymodule.pocclient.controllers;\n}\n</code></pre>\n<p>The exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl$DuplicateStrategy.&lt;clinit&gt;(JsonObjectBuilderImpl.java:373)\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl.&lt;init&gt;(JsonObjectBuilderImpl.java:59)\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonParserImpl.getObject(JsonParserImpl.java:171)\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonReaderImpl.readObject(JsonReaderImpl.java:103)\nat com.lifelenz.poclifelenzclient/com.mymodule.pocclient.controllers.LoginController.lambda$processAuthenticatedUser$0(LoginController.java:121)\n</code></pre>\n<p>dependencies from my pom file (not sure how much is relevant)</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.lifelenz.jmsa&lt;/groupId&gt;\n        &lt;artifactId&gt;cryptography&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.parsson&lt;/groupId&gt;\n        &lt;artifactId&gt;parsson&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.json.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n        &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-RC2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.jcip&lt;/groupId&gt;\n        &lt;artifactId&gt;jcip-annotations&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n        &lt;version&gt;11.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n        &lt;version&gt;11.5.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;18.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","soap","wsdl","cxf","wsdl2java"],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688040916,"creation_date":1688040916,"answer_id":76580957,"question_id":75210578,"body_markdown":"Simpliest way - pass bareMethods parameter to wsdl2java:\r\n\r\n    wsdl2java {\r\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\r\n    includeJava8XmlDependencies = false\r\n    cxfVersion = &quot;4.0.0&quot;\r\n    cxfPluginVersion = &quot;4.0.0&quot;\r\n    wsdlsToGenerate = listOf(\r\n        listOf(\r\n            &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\r\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n            &quot;-autoNameResolution&quot;,\r\n            &quot;-bareMethods&quot;,\r\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n        )\r\n    )}\r\n\r\n\r\n","title":"wsdl2java - how to force wrapped response return type instead of using out parameters wrapped in Holders?","body":"<p>Simpliest way - pass bareMethods parameter to wsdl2java:</p>\n<pre><code>wsdl2java {\nwsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\nincludeJava8XmlDependencies = false\ncxfVersion = &quot;4.0.0&quot;\ncxfPluginVersion = &quot;4.0.0&quot;\nwsdlsToGenerate = listOf(\n    listOf(\n        &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\n        &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n        &quot;-autoNameResolution&quot;,\n        &quot;-bareMethods&quot;,\n        &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n    )\n)}\n</code></pre>\n"}],"owner":{"account_id":17023620,"reputation":57,"user_id":12315478,"display_name":"adriangl1997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76580957,"answer_count":1,"score":1,"last_activity_date":1688040916,"creation_date":1674482507,"question_id":75210578,"body_markdown":"Using `wsdl2java` tool to generate client classes, I can&#39;t seem to able to force to wrap Web Service response in a return type - the return type is always `void` and `OUT` parameters wrapped in `Holder`s are generated. `Auth.java` auto-generated client interface looks like this:\r\n```java\r\n@WebService(targetNamespace = &quot;http://xml.kamsoft.pl/ws/auth&quot;, name = &quot;Auth&quot;)\r\n@XmlSeeAlso({pl.kamsoft.xml.ws.common.ObjectFactory.class, pl.kamsoft.xml.ws.kaas.login_types.ObjectFactory.class})\r\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\npublic interface Auth {\r\n\r\n    // [...] - `logout`, `changePassword`, `changePasswordLog` methods\r\n\r\n    @WebMethod(action = &quot;login&quot;)\r\n    public void login(\r\n\r\n        @WebParam(partName = &quot;request&quot;, name = &quot;login&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\r\n        pl.kamsoft.xml.ws.kaas.login_types.LoginRequest request,\r\n        @WebParam(partName = &quot;response&quot;, mode = WebParam.Mode.OUT, name = &quot;loginReturn&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\r\n        jakarta.xml.ws.Holder&lt;java.lang.String&gt; response,\r\n        @WebParam(partName = &quot;session&quot;, mode = WebParam.Mode.OUT, name = &quot;session&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\r\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.Session&gt; session,\r\n        @WebParam(partName = &quot;token&quot;, mode = WebParam.Mode.OUT, name = &quot;authToken&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\r\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.AuthToken&gt; token\r\n    ) throws pl.kamsoft.wsdl.common.AuthenticationExceptionMsg, pl.kamsoft.wsdl.common.ServerExceptionMsg, PassExpiredExceptionMsg, pl.kamsoft.wsdl.common.AuthTokenExceptionMsg, pl.kamsoft.wsdl.common.InputExceptionMsg, pl.kamsoft.wsdl.common.AuthorizationExceptionMsg;\r\n}\r\n```\r\n\r\nMinimal example (`build.gradle.kts` file with Gradle configuration):\r\n```kotlin\r\nplugins {\r\n    java\r\n    id(&quot;com.yupzip.wsdl2java&quot;) version &quot;3.0.0&quot;\r\n}\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.apache.cxf:cxf-rt-frontend-jaxws:4.0.0&quot;)\r\n    implementation(&quot;org.apache.cxf:cxf-rt-transports-http-hc5:4.0.0&quot;)\r\n    wsdl2java(&quot;com.sun.xml.bind:jaxb-impl:4.0.1&quot;)\r\n    wsdl2java(&quot;org.apache.cxf.xjc-utils:cxf-xjc-runtime:4.0.0&quot;)\r\n    wsdl2java(&quot;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&quot;)\r\n    wsdl2java(&quot;com.sun.xml.ws:rt:4.0.0&quot;)\r\n    wsdl2java(&quot;org.jvnet.jaxb2_commons:jaxb2-namespace-prefix:2.0&quot;)\r\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics-runtime:3.0.0&quot;)\r\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics:3.0.0&quot;)\r\n}\r\n\r\nwsdl2java {\r\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\r\n    includeJava8XmlDependencies = false\r\n    cxfVersion = &quot;4.0.0&quot;\r\n    cxfPluginVersion = &quot;4.0.0&quot;\r\n    wsdlsToGenerate = listOf(\r\n        listOf(\r\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n            &quot;-autoNameResolution&quot;,\r\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n        )\r\n    )\r\n}\r\n```\r\n\r\n**How can I force `wsdl2java` tool to generate `LoginResponse` class of which instance would be returned on `Auth#login` invocation**?\r\n\r\nI&#39;ve tried to include binding file (`bindings.xml`):\r\n```xml\r\n&lt;bindings\r\n        wsdlLocation=&quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;\r\n        xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\r\n    &lt;enableWrapperStyle&gt;false&lt;/enableWrapperStyle&gt;\r\n&lt;/bindings&gt;\r\n```\r\n\r\nbut neither setting `enableWrapperStyle` to `false` or `true` did change anything. Here is how my configuration looked like (`build.gradle.kts`):\r\n```kotlin\r\nwsdl2java {\r\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\r\n    includeJava8XmlDependencies = false\r\n    cxfVersion = &quot;4.0.0&quot;\r\n    cxfPluginVersion = &quot;4.0.0&quot;\r\n    wsdlsToGenerate = listOf(\r\n        listOf(\r\n            &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\r\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n            &quot;-autoNameResolution&quot;,\r\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n        )\r\n    )\r\n}\r\n```\r\n\r\nCan the fact that both `session` and `token` are declared as `wsdlsoap:header` have impact on the resulting generated Java code?","title":"wsdl2java - how to force wrapped response return type instead of using out parameters wrapped in Holders?","body":"<p>Using <code>wsdl2java</code> tool to generate client classes, I can't seem to able to force to wrap Web Service response in a return type - the return type is always <code>void</code> and <code>OUT</code> parameters wrapped in <code>Holder</code>s are generated. <code>Auth.java</code> auto-generated client interface looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebService(targetNamespace = &quot;http://xml.kamsoft.pl/ws/auth&quot;, name = &quot;Auth&quot;)\n@XmlSeeAlso({pl.kamsoft.xml.ws.common.ObjectFactory.class, pl.kamsoft.xml.ws.kaas.login_types.ObjectFactory.class})\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\npublic interface Auth {\n\n    // [...] - `logout`, `changePassword`, `changePasswordLog` methods\n\n    @WebMethod(action = &quot;login&quot;)\n    public void login(\n\n        @WebParam(partName = &quot;request&quot;, name = &quot;login&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\n        pl.kamsoft.xml.ws.kaas.login_types.LoginRequest request,\n        @WebParam(partName = &quot;response&quot;, mode = WebParam.Mode.OUT, name = &quot;loginReturn&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\n        jakarta.xml.ws.Holder&lt;java.lang.String&gt; response,\n        @WebParam(partName = &quot;session&quot;, mode = WebParam.Mode.OUT, name = &quot;session&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.Session&gt; session,\n        @WebParam(partName = &quot;token&quot;, mode = WebParam.Mode.OUT, name = &quot;authToken&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.AuthToken&gt; token\n    ) throws pl.kamsoft.wsdl.common.AuthenticationExceptionMsg, pl.kamsoft.wsdl.common.ServerExceptionMsg, PassExpiredExceptionMsg, pl.kamsoft.wsdl.common.AuthTokenExceptionMsg, pl.kamsoft.wsdl.common.InputExceptionMsg, pl.kamsoft.wsdl.common.AuthorizationExceptionMsg;\n}\n</code></pre>\n<p>Minimal example (<code>build.gradle.kts</code> file with Gradle configuration):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n    id(&quot;com.yupzip.wsdl2java&quot;) version &quot;3.0.0&quot;\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.apache.cxf:cxf-rt-frontend-jaxws:4.0.0&quot;)\n    implementation(&quot;org.apache.cxf:cxf-rt-transports-http-hc5:4.0.0&quot;)\n    wsdl2java(&quot;com.sun.xml.bind:jaxb-impl:4.0.1&quot;)\n    wsdl2java(&quot;org.apache.cxf.xjc-utils:cxf-xjc-runtime:4.0.0&quot;)\n    wsdl2java(&quot;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&quot;)\n    wsdl2java(&quot;com.sun.xml.ws:rt:4.0.0&quot;)\n    wsdl2java(&quot;org.jvnet.jaxb2_commons:jaxb2-namespace-prefix:2.0&quot;)\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics-runtime:3.0.0&quot;)\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics:3.0.0&quot;)\n}\n\nwsdl2java {\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\n    includeJava8XmlDependencies = false\n    cxfVersion = &quot;4.0.0&quot;\n    cxfPluginVersion = &quot;4.0.0&quot;\n    wsdlsToGenerate = listOf(\n        listOf(\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n            &quot;-autoNameResolution&quot;,\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n        )\n    )\n}\n</code></pre>\n<p><strong>How can I force <code>wsdl2java</code> tool to generate <code>LoginResponse</code> class of which instance would be returned on <code>Auth#login</code> invocation</strong>?</p>\n<p>I've tried to include binding file (<code>bindings.xml</code>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bindings\n        wsdlLocation=&quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;\n        xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n        xmlns=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\n    &lt;enableWrapperStyle&gt;false&lt;/enableWrapperStyle&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>but neither setting <code>enableWrapperStyle</code> to <code>false</code> or <code>true</code> did change anything. Here is how my configuration looked like (<code>build.gradle.kts</code>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>wsdl2java {\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\n    includeJava8XmlDependencies = false\n    cxfVersion = &quot;4.0.0&quot;\n    cxfPluginVersion = &quot;4.0.0&quot;\n    wsdlsToGenerate = listOf(\n        listOf(\n            &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n            &quot;-autoNameResolution&quot;,\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n        )\n    )\n}\n</code></pre>\n<p>Can the fact that both <code>session</code> and <code>token</code> are declared as <code>wsdlsoap:header</code> have impact on the resulting generated Java code?</p>\n"},{"tags":["java","android","web3-java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687262602,"post_id":76514458,"comment_id":134909222,"body_markdown":"*Maybe* it would help if you told us what the problem is, in more detail than &quot;there is no way to solve the creating wallet step&quot;","body":"<i>Maybe</i> it would help if you told us what the problem is, in more detail than &quot;there is no way to solve the creating wallet step&quot;"},{"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"score":0,"creation_date":1687263262,"post_id":76514458,"comment_id":134909374,"body_markdown":"When I launch the app in the emulator. Nothing happens in one hour (+/-) then Logcat has &quot;Waiting for a blocking GC Instrumentation&quot;, &quot;WaitForGcToComplete blocked Instrumentation on Background ...&quot;, &quot;Background concurrent copying GC freed 6(144B) ...&quot; (repeated several times with some changes)... And finally: &quot;FATAL EXCEPTION: main                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 84696 free bytes and 82KB until OOM, target footprint 201326592, growth limit 201326592&quot;","body":"When I launch the app in the emulator. Nothing happens in one hour (+/-) then Logcat has &quot;Waiting for a blocking GC Instrumentation&quot;, &quot;WaitForGcToComplete blocked Instrumentation on Background ...&quot;, &quot;Background concurrent copying GC freed 6(144B) ...&quot; (repeated several times with some changes)... And finally: &quot;FATAL EXCEPTION: main                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 84696 free bytes and 82KB until OOM, target footprint 201326592, growth limit 201326592&quot;"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687263862,"post_id":76514458,"comment_id":134909529,"body_markdown":"For adding a lot of new (multi-line) info please edit your question and add the info there. In comments it is not good to read.","body":"For adding a lot of new (multi-line) info please edit your question and add the info there. In comments it is not good to read."},{"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"score":0,"creation_date":1687437451,"post_id":76514458,"comment_id":134938769,"body_markdown":"I have edited my question... But I did not have room enogh to put all the log.... Hope the lines selected will help you... Best regards.","body":"I have edited my question... But I did not have room enogh to put all the log.... Hope the lines selected will help you... Best regards."}],"answers":[{"tags":[],"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688040694,"creation_date":1687609024,"answer_id":76546016,"question_id":76514458,"body_markdown":"Finally... I still do not kwow why does not work... But I found a way to scape\r\n\r\nI change from **WalletUtils.generateNewWalletFile** to **WalletUtils.generateLightNewWalletFile** which returned after a very long time, with success...\r\n\r\nI do not know the consecuences of this change because web3j apidoc is not too good...\r\n\r\nI have more problems with Web3j library... Communications TLS cause trouble... After many tests, I found some librearies combinatios that worked:\r\n\r\n```\r\ndependencies {\r\n    ...\r\n    implementation &#39;org.web3j:core:4.9.8&#39;\r\n    api &#39;com.madgag.spongycastle:pg:1.54.0.0&#39;\r\n}\r\n```\r\n\r\nAnd defining the new Provider:\r\n```\r\n    public boolean setupBouncyCastle(oks ok, Object... extras_array) throws Exception {\r\n        if (ok.es == false) { return false; }\r\n        try {\r\n            final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n            if (provider == null) {\r\n                return false;\r\n            }\r\n            if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\r\n                return false;\r\n            }\r\n            Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n//            org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\r\n            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\r\n            Security.insertProviderAt(bouncyCastleProvider, 1);\r\n        } catch (Exception e) {\r\n            ok.setTxt(e);\r\n        }\r\n        return ok.es;\r\n    }\r\n\r\n```\r\nRegards\r\n\r\n","title":"Android Web3j create wallet turns out of memory and other problems with communications TLS (other similar questions did not helped me)","body":"<p>Finally... I still do not kwow why does not work... But I found a way to scape</p>\n<p>I change from <strong>WalletUtils.generateNewWalletFile</strong> to <strong>WalletUtils.generateLightNewWalletFile</strong> which returned after a very long time, with success...</p>\n<p>I do not know the consecuences of this change because web3j apidoc is not too good...</p>\n<p>I have more problems with Web3j library... Communications TLS cause trouble... After many tests, I found some librearies combinatios that worked:</p>\n<pre><code>dependencies {\n    ...\n    implementation 'org.web3j:core:4.9.8'\n    api 'com.madgag.spongycastle:pg:1.54.0.0'\n}\n</code></pre>\n<p>And defining the new Provider:</p>\n<pre><code>    public boolean setupBouncyCastle(oks ok, Object... extras_array) throws Exception {\n        if (ok.es == false) { return false; }\n        try {\n            final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\n            if (provider == null) {\n                return false;\n            }\n            if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\n                return false;\n            }\n            Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\n//            org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\n            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\n            Security.insertProviderAt(bouncyCastleProvider, 1);\n        } catch (Exception e) {\n            ok.setTxt(e);\n        }\n        return ok.es;\n    }\n\n</code></pre>\n<p>Regards</p>\n"}],"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76546016,"answer_count":1,"score":0,"last_activity_date":1688040866,"creation_date":1687262308,"question_id":76514458,"body_markdown":"I have this project stopped because there is no way to solve the creating wallet step:\r\nhttps://github.com/EAG-es/crear_wallet_web3j\r\nMain code:\r\n\r\n    public class Create_wallet_web3j extends AppCompatActivity {\r\n    public static final int ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE = 1;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_wallet);\r\n        try {\r\n            getWriteStoragePermission();\r\n            if (setupBouncyCastle()) {\r\n                create_wallet(&quot;12345&quot;, &quot;/android.ingui.create_wallet_web3j/assets/re&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    public boolean setupBouncyCastle() {\r\n        final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n        if (provider == null) {\r\n            // Web3j will set up the provider lazily when it&#39;s first used.\r\n            return false;\r\n        }\r\n        if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\r\n            return false;\r\n        }\r\n        Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n        org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\r\n    //            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\r\n        Security.insertProviderAt(bouncyCastleProvider, 1);\r\n        return true;\r\n    }\r\n    public File create_wallet(String password, String path) throws Exception {\r\n        File result = null;\r\n        File extern_dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\n        File file = extern_dir;\r\n        String [] dirs_array = path.split(File.separator);\r\n        for (String dir: dirs_array) {\r\n            file = new File(file, dir);\r\n            if (file.exists() == false) {\r\n                if (file.mkdir() == false) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        if (file.exists()) {\r\n            if (file.isDirectory()) {\r\n                String nombre_de_archivo = WalletUtils.generateNewWalletFile(password, file);\r\n                result = new File(file, nombre_de_archivo);\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n        return result;\r\n    }\r\n    private Boolean getWriteStoragePermission() {\r\n        if (ActivityCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            String [] strings_array = {WRITE_EXTERNAL_STORAGE};\r\n            requestPermissions(strings_array, ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE);\r\n        }\r\n        return true;\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                           int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        boolean is_granted = false;\r\n        switch (requestCode) {\r\n        case ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE:\r\n            if (grantResults.length &gt; 0) {\r\n                is_granted = true;\r\n                for (int result: grantResults) {\r\n                    if (result != PackageManager.PERMISSION_GRANTED) {\r\n                        is_granted = false;\r\n                    }\r\n                }\r\n            }\r\n            if (is_granted == false) {\r\n                throw new RuntimeException(&quot;Permission not Granted: &quot; + &quot;WRITE_EXTERNAL_STORAGE&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n    \r\nManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;28&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Crear_wallet_web3j&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:configChanges=&quot;orientation|screenSize&quot;\r\n            android:name=&quot;.Create_wallet_web3j&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n\r\ngradle.build:\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n    namespace &#39;android.ingui.create_wallet_web3j&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;android.ingui.create_wallet_web3j&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    gradle.projectsEvaluated {\r\n        tasks.withType(JavaCompile) {\r\n            options.compilerArgs += [&#39;-Xlint:deprecation&#39;]\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;org.web3j:core:4.8.7-android&#39;\r\n    //    api &#39;com.madgag.spongycastle:pg:1.54.0.0&#39;\r\n    }\r\n\r\nUsing:\r\n\r\n    Android Studio Flamingo | 2022.2.1 Patch 1\r\n    Build #AI-222.4459.24.2221.9971841, built on April 19, 2023\r\n    Runtime version: 17.0.6+0-17.0.6b802.4-9586694 amd64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    Linux 5.15.0-72-generic\r\n    GC: G1 Young Generation, G1 Old Generation\r\n    Memory: 3072M\r\n    Cores: 4\r\n    Registry:\r\n    external.system.auto.import.disabled=true\r\n    ide.text.editor.with.preview.show.floating.toolbar=false\r\n    gradle.version.catalogs.dynamic.support=true\r\n    Current Desktop: XFCE\r\n\r\nOn:\r\n  Linux Mint XFCE\r\n\r\nMachine:\r\n  Type: Laptop System: Hewlett-Packard product: HP ProBook 430 G1\r\n\r\nCPU:\r\n  Info: dual core model: Intel Core i5-4200U bits: 64 type: MT MCP arch: Haswell rev: 1 cache:\r\n    L1: 128 KiB L2: 512 KiB L3: 3 MiB\r\n  Speed (MHz): avg: 2473 high: 2570 min/max: 800/2600 cores: 1: 2534 2: 2295 3: 2494 4: 2570\r\n    bogomips: 18358\r\n\r\nMemory: 10.99 GiB\r\n\r\nI have tried in many ways (threads, service, Increase heap to 8 Mb,...) so I must confess I am lost...\r\n\r\nThis is the Logcat I got in my last Try (one hour to get finnished):\r\n```\r\n2023-06-22 12:20:34.479  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Got a deoptimization request on un-deoptimizable method java.lang.Object java.lang.reflect.Constructor.newInstance0(java.lang.Object[])\r\n2023-06-22 12:20:50.264  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 44745(2472KB) AllocSpace objects, 0(0B) LOS objects, 36% free, 4380KB/6914KB, paused 34us,12us total 156.755ms\r\n2023-06-22 12:50:27.564  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(16KB) AllocSpace objects, 0(0B) LOS objects, 15% free, 128MB/152MB, paused 41us,11us total 118.052ms\r\n....\r\n2023-06-22 13:10:10.297  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\r\n2023-06-22 13:10:10.428  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n2023-06-22 13:10:10.494  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(144B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 11.905ms,12us total 749.140ms\r\n2023-06-22 13:10:10.494  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 197.083ms\r\n2023-06-22 13:10:10.495  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\r\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.528  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n2023-06-22 13:10:10.529  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc concurrent copying GC freed 196(8392B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 37us,14us total 30.848ms\r\n2023-06-22 13:10:10.530  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Throwing OutOfMemoryError &quot;Failed to allocate a 131084 byte allocation with 17000 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592&quot; (VmSize 14098680 kB)\r\n2023-06-22 13:10:10.531  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.532  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.544  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc young concurrent copying GC freed 4(776B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55us,14us total 11.598ms\r\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\r\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n....\r\n2023-06-22 13:10:32.127  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 30us,10us total 364.225ms\r\n2023-06-22 13:10:32.676  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n....\r\n2023-06-22 13:10:48.330  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55.978ms,9us total 623.327ms\r\n2023-06-22 13:10:48.689  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n....\r\n2023-06-22 13:13:38.561  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Instrumentation on Background for 66.016ms\r\n2023-06-22 13:19:34.870  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    D  Shutting down VM\r\n2023-06-22 13:19:34.904  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\r\n2023-06-22 13:19:34.939  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 34.873ms\r\n2023-06-22 13:19:34.940  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:19:34.966  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    E  FATAL EXCEPTION: main\r\n                                                                                                    Process: android.ingui.create_wallet_web3j, PID: 7769\r\n                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 16800 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592\r\n                                                                                                    \tat org.bouncycastle.crypto.generators.SCrypt.SMix(Unknown Source:46)\r\n                                                                                                    \tat org.bouncycastle.crypto.generators.SCrypt.MFcrypt(Unknown Source:37)\r\n                                                                                                    \tat org.bouncycastle.crypto.generators.SCrypt.generate(Unknown Source:44)\r\n                                                                                                    \tat org.web3j.crypto.Wallet.generateDerivedScryptKey(Wallet.java:145)\r\n                                                                                                    \tat org.web3j.crypto.Wallet.create(Wallet.java:80)\r\n                                                                                                    \tat org.web3j.crypto.Wallet.createStandard(Wallet.java:98)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateWalletFile(WalletUtils.java:81)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:72)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateFullNewWalletFile(WalletUtils.java:50)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:63)\r\n                                                                                                    \tat android.ingui.create_wallet_web3j.Create_wallet_web3j.create_wallet(Create_wallet_web3j.java:65)\r\n                                                                                                    \tat android.ingui.create_wallet_web3j.Create_wallet_web3j.onCreate(Create_wallet_web3j.java:29)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8305)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8284)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\n```","title":"Android Web3j create wallet turns out of memory and other problems with communications TLS (other similar questions did not helped me)","body":"<p>I have this project stopped because there is no way to solve the creating wallet step:\n<a href=\"https://github.com/EAG-es/crear_wallet_web3j\" rel=\"nofollow noreferrer\">https://github.com/EAG-es/crear_wallet_web3j</a>\nMain code:</p>\n<pre><code>public class Create_wallet_web3j extends AppCompatActivity {\npublic static final int ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE = 1;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_create_wallet);\n    try {\n        getWriteStoragePermission();\n        if (setupBouncyCastle()) {\n            create_wallet(&quot;12345&quot;, &quot;/android.ingui.create_wallet_web3j/assets/re&quot;);\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\npublic boolean setupBouncyCastle() {\n    final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\n    if (provider == null) {\n        // Web3j will set up the provider lazily when it's first used.\n        return false;\n    }\n    if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\n        return false;\n    }\n    Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\n    org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\n//            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\n    Security.insertProviderAt(bouncyCastleProvider, 1);\n    return true;\n}\npublic File create_wallet(String password, String path) throws Exception {\n    File result = null;\n    File extern_dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\n    File file = extern_dir;\n    String [] dirs_array = path.split(File.separator);\n    for (String dir: dirs_array) {\n        file = new File(file, dir);\n        if (file.exists() == false) {\n            if (file.mkdir() == false) {\n                return null;\n            }\n        }\n    }\n    if (file.exists()) {\n        if (file.isDirectory()) {\n            String nombre_de_archivo = WalletUtils.generateNewWalletFile(password, file);\n            result = new File(file, nombre_de_archivo);\n        } else {\n            return null;\n        }\n    } else {\n        return null;\n    }\n    return result;\n}\nprivate Boolean getWriteStoragePermission() {\n    if (ActivityCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n        String [] strings_array = {WRITE_EXTERNAL_STORAGE};\n        requestPermissions(strings_array, ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE);\n    }\n    return true;\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                       int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    boolean is_granted = false;\n    switch (requestCode) {\n    case ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE:\n        if (grantResults.length &gt; 0) {\n            is_granted = true;\n            for (int result: grantResults) {\n                if (result != PackageManager.PERMISSION_GRANTED) {\n                    is_granted = false;\n                }\n            }\n        }\n        if (is_granted == false) {\n            throw new RuntimeException(&quot;Permission not Granted: &quot; + &quot;WRITE_EXTERNAL_STORAGE&quot;);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;28&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Crear_wallet_web3j&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:configChanges=&quot;orientation|screenSize&quot;\n        android:name=&quot;.Create_wallet_web3j&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>gradle.build:</p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\nnamespace 'android.ingui.create_wallet_web3j'\ncompileSdk 33\n\ndefaultConfig {\n    applicationId &quot;android.ingui.create_wallet_web3j&quot;\n    minSdk 26\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\ngradle.projectsEvaluated {\n    tasks.withType(JavaCompile) {\n        options.compilerArgs += ['-Xlint:deprecation']\n    }\n}\n}\n\n\ndependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.5.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\nimplementation 'org.web3j:core:4.8.7-android'\n//    api 'com.madgag.spongycastle:pg:1.54.0.0'\n}\n</code></pre>\n<p>Using:</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Patch 1\nBuild #AI-222.4459.24.2221.9971841, built on April 19, 2023\nRuntime version: 17.0.6+0-17.0.6b802.4-9586694 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nLinux 5.15.0-72-generic\nGC: G1 Young Generation, G1 Old Generation\nMemory: 3072M\nCores: 4\nRegistry:\nexternal.system.auto.import.disabled=true\nide.text.editor.with.preview.show.floating.toolbar=false\ngradle.version.catalogs.dynamic.support=true\nCurrent Desktop: XFCE\n</code></pre>\n<p>On:\nLinux Mint XFCE</p>\n<p>Machine:\nType: Laptop System: Hewlett-Packard product: HP ProBook 430 G1</p>\n<p>CPU:\nInfo: dual core model: Intel Core i5-4200U bits: 64 type: MT MCP arch: Haswell rev: 1 cache:\nL1: 128 KiB L2: 512 KiB L3: 3 MiB\nSpeed (MHz): avg: 2473 high: 2570 min/max: 800/2600 cores: 1: 2534 2: 2295 3: 2494 4: 2570\nbogomips: 18358</p>\n<p>Memory: 10.99 GiB</p>\n<p>I have tried in many ways (threads, service, Increase heap to 8 Mb,...) so I must confess I am lost...</p>\n<p>This is the Logcat I got in my last Try (one hour to get finnished):</p>\n<pre><code>2023-06-22 12:20:34.479  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Got a deoptimization request on un-deoptimizable method java.lang.Object java.lang.reflect.Constructor.newInstance0(java.lang.Object[])\n2023-06-22 12:20:50.264  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 44745(2472KB) AllocSpace objects, 0(0B) LOS objects, 36% free, 4380KB/6914KB, paused 34us,12us total 156.755ms\n2023-06-22 12:50:27.564  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(16KB) AllocSpace objects, 0(0B) LOS objects, 15% free, 128MB/152MB, paused 41us,11us total 118.052ms\n....\n2023-06-22 13:10:10.297  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\n2023-06-22 13:10:10.428  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n2023-06-22 13:10:10.494  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(144B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 11.905ms,12us total 749.140ms\n2023-06-22 13:10:10.494  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 197.083ms\n2023-06-22 13:10:10.495  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.528  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n2023-06-22 13:10:10.529  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc concurrent copying GC freed 196(8392B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 37us,14us total 30.848ms\n2023-06-22 13:10:10.530  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Throwing OutOfMemoryError &quot;Failed to allocate a 131084 byte allocation with 17000 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592&quot; (VmSize 14098680 kB)\n2023-06-22 13:10:10.531  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.532  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.544  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc young concurrent copying GC freed 4(776B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55us,14us total 11.598ms\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n....\n2023-06-22 13:10:32.127  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 30us,10us total 364.225ms\n2023-06-22 13:10:32.676  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n....\n2023-06-22 13:10:48.330  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55.978ms,9us total 623.327ms\n2023-06-22 13:10:48.689  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n....\n2023-06-22 13:13:38.561  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Instrumentation on Background for 66.016ms\n2023-06-22 13:19:34.870  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    D  Shutting down VM\n2023-06-22 13:19:34.904  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\n2023-06-22 13:19:34.939  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 34.873ms\n2023-06-22 13:19:34.940  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:19:34.966  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    E  FATAL EXCEPTION: main\n                                                                                                    Process: android.ingui.create_wallet_web3j, PID: 7769\n                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 16800 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592\n                                                                                                        at org.bouncycastle.crypto.generators.SCrypt.SMix(Unknown Source:46)\n                                                                                                        at org.bouncycastle.crypto.generators.SCrypt.MFcrypt(Unknown Source:37)\n                                                                                                        at org.bouncycastle.crypto.generators.SCrypt.generate(Unknown Source:44)\n                                                                                                        at org.web3j.crypto.Wallet.generateDerivedScryptKey(Wallet.java:145)\n                                                                                                        at org.web3j.crypto.Wallet.create(Wallet.java:80)\n                                                                                                        at org.web3j.crypto.Wallet.createStandard(Wallet.java:98)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateWalletFile(WalletUtils.java:81)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:72)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateFullNewWalletFile(WalletUtils.java:50)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:63)\n                                                                                                        at android.ingui.create_wallet_web3j.Create_wallet_web3j.create_wallet(Create_wallet_web3j.java:65)\n                                                                                                        at android.ingui.create_wallet_web3j.Create_wallet_web3j.onCreate(Create_wallet_web3j.java:29)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8305)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8284)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                        at android.os.Looper.loop(Looper.java:288)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7872)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n\n</code></pre>\n"},{"tags":["java","swing","apache-poi"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1687990389,"post_id":76574800,"comment_id":135015644,"body_markdown":"You create and show the `JFrame` and write the workbook to a file before the user can even read what&#39;s on the screen, much less respond.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Take your time studying the tutorial.","body":"You create and show the <code>JFrame</code> and write the workbook to a file before the user can even read what&#39;s on the screen, much less respond.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Take your time studying the tutorial."},{"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"score":0,"creation_date":1688023303,"post_id":76574800,"comment_id":135018639,"body_markdown":"@GilbertLeBlanc I do understand how to create and work  with swing. My issue is when I take a user input  via getText(); I dont get the desired output . The workbook name is set as null cause the static string generated is null.","body":"@GilbertLeBlanc I do understand how to create and work  with swing. My issue is when I take a user input  via getText(); I dont get the desired output . The workbook name is set as null cause the static string generated is null."},{"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"score":0,"creation_date":1688026844,"post_id":76574800,"comment_id":135019371,"body_markdown":"I got the answer to my question instead of creating a new global variable i should have made a new form in the void actionPerformed  method.","body":"I got the answer to my question instead of creating a new global variable i should have made a new form in the void actionPerformed  method."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688040845,"post_id":76574800,"comment_id":135022140,"body_markdown":"Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html).","body":"Construct and manipulate Swing GUI objects <i>only</i> on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a>."}],"answers":[{"tags":[],"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688040639,"creation_date":1688027463,"answer_id":76579335,"question_id":76574800,"body_markdown":"I got the answer to my question: instead of creating a new global variable I should have made a new form in the `actionPerformed` method.\t\r\n```java\r\nmainbutton.setText(&quot;SUBMIT&quot;);\r\nmainbutton.setPreferredSize(new Dimension(100,25));\r\nmaintext.setPreferredSize(new Dimension(100,25));\r\nmainbutton.addActionListener(new ActionListener() {\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == mainbutton) {\r\n            try {\r\n                XSSFWorkbook workbook = new XSSFWorkbook();\r\n                Sheet sheet = workbook.createSheet(&quot;Data&quot;);\r\n                FileOutputStream fileOutputStream = new FileOutputStream(&quot;.\\\\documents\\\\&quot;+maintext.getText() + &quot;.xlsx&quot;);\r\n                workbook.write(fileOutputStream);\r\n                fileOutputStream.close();\r\n                System.out.println(&quot;Workbook saved to file: &quot; + maintext + &quot;.xlsx&quot;);\r\n                maintext.setEditable(false);\r\n                mainbutton.setEnabled(false);\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n//adding stuff to the main frame\t\r\nmainframe.add(mainlabelheading,BorderLayout.NORTH);\r\nmainframe.add(mainlabelheading2,BorderLayout.CENTER);\r\nmainframe.add(mainlabelheadingempty,BorderLayout.SOUTH);\r\ngbc.gridx=0;\r\ngbc.gridy=0;\r\nmainlabelheading2.add(mainlabelheading2sublabel1,gbc);\r\ngbc.gridx=2;\r\ngbc.gridy=0;\r\nmainlabelheading2.add(mainbutton,gbc);\r\ngbc.gridx=1;\r\ngbc.gridy=0;\r\nmainlabelheading2.add(maintext,gbc);\r\n``` \r\nDid play with the code and found out I was referencing a non static variable from a static method. When I changed the global variable to static it was creating null `.xlsx` files. Then used ChatGPT and stackoverflow to find the answer for my solutions.\r\n","title":"How can i make a workbook in java which accepts dynamic values of string in java?","body":"<p>I got the answer to my question: instead of creating a new global variable I should have made a new form in the <code>actionPerformed</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>mainbutton.setText(&quot;SUBMIT&quot;);\nmainbutton.setPreferredSize(new Dimension(100,25));\nmaintext.setPreferredSize(new Dimension(100,25));\nmainbutton.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == mainbutton) {\n            try {\n                XSSFWorkbook workbook = new XSSFWorkbook();\n                Sheet sheet = workbook.createSheet(&quot;Data&quot;);\n                FileOutputStream fileOutputStream = new FileOutputStream(&quot;.\\\\documents\\\\&quot;+maintext.getText() + &quot;.xlsx&quot;);\n                workbook.write(fileOutputStream);\n                fileOutputStream.close();\n                System.out.println(&quot;Workbook saved to file: &quot; + maintext + &quot;.xlsx&quot;);\n                maintext.setEditable(false);\n                mainbutton.setEnabled(false);\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n});\n\n//adding stuff to the main frame    \nmainframe.add(mainlabelheading,BorderLayout.NORTH);\nmainframe.add(mainlabelheading2,BorderLayout.CENTER);\nmainframe.add(mainlabelheadingempty,BorderLayout.SOUTH);\ngbc.gridx=0;\ngbc.gridy=0;\nmainlabelheading2.add(mainlabelheading2sublabel1,gbc);\ngbc.gridx=2;\ngbc.gridy=0;\nmainlabelheading2.add(mainbutton,gbc);\ngbc.gridx=1;\ngbc.gridy=0;\nmainlabelheading2.add(maintext,gbc);\n</code></pre>\n<p>Did play with the code and found out I was referencing a non static variable from a static method. When I changed the global variable to static it was creating null <code>.xlsx</code> files. Then used ChatGPT and stackoverflow to find the answer for my solutions.</p>\n"}],"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1688040943,"accepted_answer_id":76579335,"answer_count":1,"score":-3,"last_activity_date":1688040639,"creation_date":1687967329,"question_id":76574800,"body_markdown":"Its a simple program where i have a text field and i get user input .\r\ni store it in a global variable and create a function to get the file path for the workbook.\r\nhowever i am made to change it to static and all my files created are named null.\r\ni am using eclipse IDE and apache poi version. 5.0.0.\r\n\r\n```\r\n// imported files\r\npublic class MyFrame extends JFrame implements ActionListener{\r\n\tString name;\r\n\tJButton button;\r\n\tJTextField textField;\r\n\tString workbook1() {\r\n\t\t\r\n\t\tString name1=&quot;D:\\\\&quot;+name+&quot;.xlsx&quot;;\r\n\t\treturn name1;\r\n\t\t}\r\n\t\r\n\tMyFrame(){\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setLayout(new FlowLayout());\r\n\t\t\r\n\t\tbutton = new JButton(&quot;Submit&quot;);\r\n\t\tbutton.addActionListener(this);\r\n\t\t\r\n\t\ttextField = new JTextField();\r\n\t\ttextField.setPreferredSize(new Dimension(250,40));\r\n\t\ttextField.setFont(new Font(&quot;Consolas&quot;,Font.PLAIN,35));\r\n\t\ttextField.setForeground(new Color(0x00FF00));\r\n\t\ttextField.setBackground(Color.black);\r\n\t\ttextField.setCaretColor(Color.white);\r\n\t\ttextField.setText(&quot;username&quot;);\r\n\t\t\r\n\t\t\r\n\t\tthis.add(button);\r\n\t\tthis.add(textField);\r\n\t\tthis.pack();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource()==button) {\r\n\t\t\tSystem.out.println(&quot;Welcome &quot;+ textField.getText());\r\n\t\t\t name=textField.getText();\r\n\t\t\t//button.setEnabled(false);\r\n\t\t\t//textField.setEditable(false);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) throws IOException {\r\n\t\r\n\t\t\r\n\t\tnew MyFrame();\r\n\t\tWorkbook wb = new XSSFWorkbook();\r\n\t\tSheet sheet1 = wb.createSheet(&quot;Ripon&quot;);\r\n\t\tFileOutputStream fileOut = new FileOutputStream(workbook1());\r\n\t\twb.write(fileOut);\r\n\t\tfileOut.close();\r\n\t\twb.close();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n*I am just a beginner and any help is appreciated. The code is stolen from BroCode and Stack overflow*\r\n\r\nI am trying to create a java application where i can enter details into different columns and rows to create a kind of bill.\r\nI watch tutorial and customize it to my need.\r\n ","title":"How can i make a workbook in java which accepts dynamic values of string in java?","body":"<p>Its a simple program where i have a text field and i get user input .\ni store it in a global variable and create a function to get the file path for the workbook.\nhowever i am made to change it to static and all my files created are named null.\ni am using eclipse IDE and apache poi version. 5.0.0.</p>\n<pre><code>// imported files\npublic class MyFrame extends JFrame implements ActionListener{\n    String name;\n    JButton button;\n    JTextField textField;\n    String workbook1() {\n        \n        String name1=&quot;D:\\\\&quot;+name+&quot;.xlsx&quot;;\n        return name1;\n        }\n    \n    MyFrame(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLayout(new FlowLayout());\n        \n        button = new JButton(&quot;Submit&quot;);\n        button.addActionListener(this);\n        \n        textField = new JTextField();\n        textField.setPreferredSize(new Dimension(250,40));\n        textField.setFont(new Font(&quot;Consolas&quot;,Font.PLAIN,35));\n        textField.setForeground(new Color(0x00FF00));\n        textField.setBackground(Color.black);\n        textField.setCaretColor(Color.white);\n        textField.setText(&quot;username&quot;);\n        \n        \n        this.add(button);\n        this.add(textField);\n        this.pack();\n        this.setVisible(true);\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource()==button) {\n            System.out.println(&quot;Welcome &quot;+ textField.getText());\n             name=textField.getText();\n            //button.setEnabled(false);\n            //textField.setEditable(false);\n        }\n        \n    }\n    \n    public static void main(String args[]) throws IOException {\n    \n        \n        new MyFrame();\n        Workbook wb = new XSSFWorkbook();\n        Sheet sheet1 = wb.createSheet(&quot;Ripon&quot;);\n        FileOutputStream fileOut = new FileOutputStream(workbook1());\n        wb.write(fileOut);\n        fileOut.close();\n        wb.close();\n    }\n    \n}\n</code></pre>\n<p><em>I am just a beginner and any help is appreciated. The code is stolen from BroCode and Stack overflow</em></p>\n<p>I am trying to create a java application where i can enter details into different columns and rows to create a kind of bill.\nI watch tutorial and customize it to my need.</p>\n"},{"tags":["java","sql","database","oracle","dbunit"],"answers":[{"comments":[{"owner":{"account_id":955655,"reputation":669,"user_id":981009,"accept_rate":80,"display_name":"Josep Rodr&#237;guez L&#243;pez"},"score":0,"creation_date":1334564110,"post_id":10108123,"comment_id":13049398,"body_markdown":"Thanks, I already solved this issue, but it was by the solution 1 you mentioned.","body":"Thanks, I already solved this issue, but it was by the solution 1 you mentioned."},{"owner":{"account_id":234378,"reputation":8776,"user_id":500478,"accept_rate":75,"display_name":"Bastien Jansen"},"score":1,"creation_date":1364981592,"post_id":10108123,"comment_id":22439638,"body_markdown":"I you are using [spring-dbunit](https://github.com/excilys/spring-dbunit), solution 1) can be achieved by setting the system property [spring.dbunit.schema](https://github.com/excilys/spring-dbunit/issues/18).","body":"I you are using <a href=\"https://github.com/excilys/spring-dbunit\" rel=\"nofollow noreferrer\">spring-dbunit</a>, solution 1) can be achieved by setting the system property <a href=\"https://github.com/excilys/spring-dbunit/issues/18\" rel=\"nofollow noreferrer\">spring.dbunit.schema</a>."},{"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"score":0,"creation_date":1554709564,"post_id":10108123,"comment_id":97836000,"body_markdown":"I got it fixed by setting `DatabaseConfigBean#setQualifiedTableNames` to `true`.","body":"I got it fixed by setting <code>DatabaseConfigBean#setQualifiedTableNames</code> to <code>true</code>."},{"owner":{"account_id":4140583,"reputation":2391,"user_id":3396045,"accept_rate":75,"display_name":"Shabirmean"},"score":0,"creation_date":1603900593,"post_id":10108123,"comment_id":114184058,"body_markdown":"The solutions are more clearly explained in this post: https://stackoverflow.com/a/14932264/3396045. For Spring JDBC I had to do this: https://stackoverflow.com/a/64576554/3396045","body":"The solutions are more clearly explained in this post: <a href=\"https://stackoverflow.com/a/14932264/3396045\">stackoverflow.com/a/14932264/3396045</a>. For Spring JDBC I had to do this: <a href=\"https://stackoverflow.com/a/64576554/3396045\">stackoverflow.com/a/64576554/3396045</a>"}],"tags":[],"owner":{"account_id":4454,"reputation":7238,"user_id":6703,"accept_rate":100,"display_name":"Adam Hawkes"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1528386352,"creation_date":1334154969,"answer_id":10108123,"question_id":10103629,"body_markdown":"From the [docs][1]:\r\n\r\n&gt; `public class AmbiguousTableNameException extends DataSetException`\r\n&gt; \r\n&gt; This exception is thrown by `IDataSet` when multiple tables having the\r\n&gt; same name are accessible. This usually occurs when the database\r\n&gt; connection have access to multiple schemas containing identical table\r\n&gt; names. \r\n&gt; \r\n&gt; Possible solutions:\r\n&gt; \r\n&gt; 1) Use a database connection credential that has\r\n&gt; access to only one database schema.\r\n&gt;\r\n&gt; 2) Specify a schema name to the\r\n&gt; `DatabaseConnection` or `DatabaseDataSourceConnection` constructor.\r\n&gt;\r\n&gt; 3) Enable the qualified table name support (see How-to documentation).\r\n\r\n \r\n\r\n\r\n  [1]: http://www.dbunit.org/apidocs/org/dbunit/database/AmbiguousTableNameException.html","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>From the <a href=\"http://www.dbunit.org/apidocs/org/dbunit/database/AmbiguousTableNameException.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>public class AmbiguousTableNameException extends DataSetException</code></p>\n  \n  <p>This exception is thrown by <code>IDataSet</code> when multiple tables having the\n  same name are accessible. This usually occurs when the database\n  connection have access to multiple schemas containing identical table\n  names. </p>\n  \n  <p>Possible solutions:</p>\n  \n  <p>1) Use a database connection credential that has\n  access to only one database schema.</p>\n  \n  <p>2) Specify a schema name to the\n  <code>DatabaseConnection</code> or <code>DatabaseDataSourceConnection</code> constructor.</p>\n  \n  <p>3) Enable the qualified table name support (see How-to documentation).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2213130,"reputation":129,"user_id":1954412,"accept_rate":45,"display_name":"Esca Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1407017562,"creation_date":1407017562,"answer_id":25099874,"question_id":10103629,"body_markdown":"For whom uses SpringDBUnit. I had struggled with this very annoying issue. I had ended up solving the issue by adding the configuration for `com.github.springtestdbunit.bean.DatabaseConfigBean` and `com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean`.\r\n\r\nThis is my full spring context for SpringDBUnit\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521/XE&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;xxxx&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;xxxx&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot;&gt;\r\n    \t\t\t&lt;ref bean=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.OracleDialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;xxx.example.domain.Person&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;dbUnitDatabaseConfig&quot; class=&quot;com.github.springtestdbunit.bean.DatabaseConfigBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;skipOracleRecyclebinTables&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;qualifiedTableNames&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;!-- &lt;property name=&quot;caseSensitiveTableNames&quot; value=&quot;true&quot;/&gt; --&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dbUnitDatabaseConnection&quot;\r\n    \t\tclass=&quot;com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t\t&lt;property name=&quot;databaseConfig&quot; ref=&quot;dbUnitDatabaseConfig&quot; /&gt;\r\n    \t\t&lt;property name=&quot;schema&quot; value=&quot;&lt;your_schema_name&gt;&quot;/&gt;\r\n    \t&lt;/bean&gt;","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>For whom uses SpringDBUnit. I had struggled with this very annoying issue. I had ended up solving the issue by adding the configuration for <code>com.github.springtestdbunit.bean.DatabaseConfigBean</code> and <code>com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean</code>.</p>\n\n<p>This is my full spring context for SpringDBUnit</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:oracle:thin:@localhost:1521/XE\" /&gt;\n        &lt;property name=\"username\" value=\"xxxx\" /&gt;\n        &lt;property name=\"password\" value=\"xxxx\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\"&gt;\n            &lt;ref bean=\"dataSource\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.OracleDialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=\"annotatedClasses\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;xxx.example.domain.Person&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dbUnitDatabaseConfig\" class=\"com.github.springtestdbunit.bean.DatabaseConfigBean\"&gt;\n        &lt;property name=\"skipOracleRecyclebinTables\" value=\"true\" /&gt;\n        &lt;property name=\"qualifiedTableNames\" value=\"true\" /&gt;\n        &lt;!-- &lt;property name=\"caseSensitiveTableNames\" value=\"true\"/&gt; --&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"dbUnitDatabaseConnection\"\n        class=\"com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;property name=\"databaseConfig\" ref=\"dbUnitDatabaseConfig\" /&gt;\n        &lt;property name=\"schema\" value=\"&lt;your_schema_name&gt;\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6132022,"reputation":65,"user_id":4781917,"accept_rate":50,"display_name":"Smitha Nair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430129310,"creation_date":1430129310,"answer_id":29892786,"question_id":10103629,"body_markdown":"\r\n\r\nI had the same AmbiguousTableNameException while executing Dbunits aginst Oracle DB. It was working fine and started throwing error one day.\r\n\r\nRootcause: while calling a stored procedure, it got modified by mistake to lower case. When changed to upper case it stared working.\r\n\r\nI could solve this also by setting the shema name to IDatabaseTester like iDatabaseTester.setSchema(&quot;SCHEMANAMEINCAPS&quot;)\r\n\r\nAlso please make sure your connection doesn&#39;t access only to  many schemas having same table name.","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>I had the same AmbiguousTableNameException while executing Dbunits aginst Oracle DB. It was working fine and started throwing error one day.</p>\n\n<p>Rootcause: while calling a stored procedure, it got modified by mistake to lower case. When changed to upper case it stared working.</p>\n\n<p>I could solve this also by setting the shema name to IDatabaseTester like iDatabaseTester.setSchema(\"SCHEMANAMEINCAPS\")</p>\n\n<p>Also please make sure your connection doesn't access only to  many schemas having same table name.</p>\n"},{"tags":[],"owner":{"account_id":1014074,"reputation":594,"user_id":1026044,"display_name":"knutesten"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474367813,"creation_date":1474367813,"answer_id":39591925,"question_id":10103629,"body_markdown":"Setting the database schema fixed it for me:\r\n\r\n    @Bean\r\n    public DatabaseDataSourceConnectionFactoryBean dbUnitDatabaseConnection(final DataSource dataSource){\r\n        final DatabaseDataSourceConnectionFactoryBean connectionFactory = new DatabaseDataSourceConnectionFactoryBean();\r\n        connectionFactory.setDataSource(dataSource);\r\n        connectionFactory.setSchema(DB_SCHEMA);\r\n        return connectionFactory;\r\n    }","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>Setting the database schema fixed it for me:</p>\n\n<pre><code>@Bean\npublic DatabaseDataSourceConnectionFactoryBean dbUnitDatabaseConnection(final DataSource dataSource){\n    final DatabaseDataSourceConnectionFactoryBean connectionFactory = new DatabaseDataSourceConnectionFactoryBean();\n    connectionFactory.setDataSource(dataSource);\n    connectionFactory.setSchema(DB_SCHEMA);\n    return connectionFactory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138777,"reputation":2455,"user_id":1123252,"accept_rate":71,"display_name":"Paul Podgorsek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481973164,"creation_date":1481973164,"answer_id":41197964,"question_id":10103629,"body_markdown":"You might encounter issues when importing data from Hibernate before DBUnit runs. According to the database you are using, the casing of table and column names could be important.\r\n\r\nFor example, in HSQL, database names must be declared in uppercase.\r\nIn case you import data via Hibernate&#39;s import.sql, make sure the table names are also in uppercase there, otherwise you&#39;ll end up with the following problem:\r\n\r\n  - Hibernate creates the tables in lower case\r\n  - DBUnit reads the table names from the DB in lower case\r\n  - DBUnit tries to import its datasets using upper case table names\r\n  - You end up in a mess, with the ambiguous name exception.\r\n\r\nRemember to also check whether multiple tables were created during a previous run (both upper and lower case), in which case you need to clean it up too.\r\n","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>You might encounter issues when importing data from Hibernate before DBUnit runs. According to the database you are using, the casing of table and column names could be important.</p>\n\n<p>For example, in HSQL, database names must be declared in uppercase.\nIn case you import data via Hibernate's import.sql, make sure the table names are also in uppercase there, otherwise you'll end up with the following problem:</p>\n\n<ul>\n<li>Hibernate creates the tables in lower case</li>\n<li>DBUnit reads the table names from the DB in lower case</li>\n<li>DBUnit tries to import its datasets using upper case table names</li>\n<li>You end up in a mess, with the ambiguous name exception.</li>\n</ul>\n\n<p>Remember to also check whether multiple tables were created during a previous run (both upper and lower case), in which case you need to clean it up too.</p>\n"},{"tags":[],"owner":{"account_id":24156977,"reputation":1,"user_id":18121098,"display_name":"Antony-K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688040569,"creation_date":1688040119,"answer_id":76580866,"question_id":10103629,"body_markdown":"For me with Oracle worked simple creation schema with some priveleges instead ALL or DBA. Dbunit stopped conflicting with tables from other schemas.\r\n\r\n    GRANT CREATE SESSION, CONNECT, RECOURCE TO testdb IDENTIFIED BY testdb;","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>For me with Oracle worked simple creation schema with some priveleges instead ALL or DBA. Dbunit stopped conflicting with tables from other schemas.</p>\n<pre><code>GRANT CREATE SESSION, CONNECT, RECOURCE TO testdb IDENTIFIED BY testdb;\n</code></pre>\n"}],"owner":{"account_id":955655,"reputation":669,"user_id":981009,"accept_rate":80,"display_name":"Josep Rodr&#237;guez L&#243;pez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15217,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":10108123,"answer_count":6,"score":10,"last_activity_date":1688040569,"creation_date":1334138009,"question_id":10103629,"body_markdown":"I am using dbunit to create database backups, which can be imported and exported. My application can use several database engines: MySQL, PostgreSQL, SQLServer, H2 and Oracle.\r\n\r\nAll of the above work fine with the following code:\r\n\r\n    \t\t\t// Connect to the database \r\n\t\t\tconn =BackupManager.getInstance().getConnection();\r\n\t\t\tIDatabaseConnection connection = new DatabaseConnection(conn);\r\n\t\t\tInputSource xmlSource = new InputSource(new FileInputStream(new File(nameXML)));\r\n\t\t\tFlatXmlProducer flatXmlProducer = new FlatXmlProducer(xmlSource);\r\n\t\t\tflatXmlProducer.setColumnSensing(true);\r\n\t\t\t\r\n\t\t\tDatabaseOperation.CLEAN_INSERT.execute(connection,new FlatXmlDataSet(flatXmlProducer));  \r\n\r\nBut on Oracle I get this exception:\r\n\r\n    \r\n    \r\n    !ENTRY es.giro.girlabel.backup 1 0 2012-04-11 11:51:40.542\r\n    !MESSAGE Start import backup\r\n    org.dbunit.database.AmbiguousTableNameException: AQ$_SCHEDULES\r\n    \tat org.dbunit.dataset.OrderedTableNameMap.add(OrderedTableNameMap.java:198)\r\n    \tat org.dbunit.database.DatabaseDataSet.initialize(DatabaseDataSet.java:231)\r\n    \tat org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:281)\r\n    \tat org.dbunit.operation.DeleteAllOperation.execute(DeleteAllOperation.java:109)\r\n    \tat org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)\r\n    \tat es.giro.girlabel.backup.ImportBackup.createData(ImportBackup.java:39)\r\n    \tat es.giro.girlabel.backup.handlers.Import.execute(Import.java:45)","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>I am using dbunit to create database backups, which can be imported and exported. My application can use several database engines: MySQL, PostgreSQL, SQLServer, H2 and Oracle.</p>\n\n<p>All of the above work fine with the following code:</p>\n\n<pre><code>            // Connect to the database \n        conn =BackupManager.getInstance().getConnection();\n        IDatabaseConnection connection = new DatabaseConnection(conn);\n        InputSource xmlSource = new InputSource(new FileInputStream(new File(nameXML)));\n        FlatXmlProducer flatXmlProducer = new FlatXmlProducer(xmlSource);\n        flatXmlProducer.setColumnSensing(true);\n\n        DatabaseOperation.CLEAN_INSERT.execute(connection,new FlatXmlDataSet(flatXmlProducer));  \n</code></pre>\n\n<p>But on Oracle I get this exception:</p>\n\n<pre><code>!ENTRY es.giro.girlabel.backup 1 0 2012-04-11 11:51:40.542\n!MESSAGE Start import backup\norg.dbunit.database.AmbiguousTableNameException: AQ$_SCHEDULES\n    at org.dbunit.dataset.OrderedTableNameMap.add(OrderedTableNameMap.java:198)\n    at org.dbunit.database.DatabaseDataSet.initialize(DatabaseDataSet.java:231)\n    at org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:281)\n    at org.dbunit.operation.DeleteAllOperation.execute(DeleteAllOperation.java:109)\n    at org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)\n    at es.giro.girlabel.backup.ImportBackup.createData(ImportBackup.java:39)\n    at es.giro.girlabel.backup.handlers.Import.execute(Import.java:45)\n</code></pre>\n"},{"tags":["java","jboss","weblogic","jstl"],"owner":{"account_id":28917535,"reputation":1,"user_id":22149189,"display_name":"Akhilesh Kokardekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688040090,"creation_date":1688028296,"question_id":76579455,"body_markdown":"We are in process of migrating a legacy application from one weblogic 12C (JDK 7) to JBoss 7.2 (JDK 8). However, while running the application, we are getting an error \r\n\r\n*Caused by: javax.servlet.jsp.JspTagException: Invalid property in &amp;lt;set&amp;gt;:  &quot;articleId&quot;\r\n\tat org.apache.taglibs.standard.tag.common.core.SetSupport.**exportToBeanProperty**(SetSupport.java:244)\r\n\tat org.apache.taglibs.standard.tag.common.core.SetSupport.doEndTag(SetSupport.java:96)*\r\n\r\nNot sure why its going to exportToBean instead of exporttoMap.\r\n\r\nHere is the piece of code which is causing the problem. The same works perfectly with weblogic. \r\n\r\n    &lt;jsp:useBean id=&quot;editParams&quot; class=&quot;java.util.HashMap&quot; /&gt;\r\n    &lt;c:set target=&quot;${editParams}&quot; property=&quot;articleId&quot; value=&quot;${row.id}&quot; /&gt; \r\n    &lt;c:set target=&quot;${editParams}&quot; property=&quot;editable&quot; value=&quot;true&quot; /&gt;\r\n\r\nNot sure what is missing here. Any help would be greatly appreciated.\r\n","title":"JSTL c:set with HashMap","body":"<p>We are in process of migrating a legacy application from one weblogic 12C (JDK 7) to JBoss 7.2 (JDK 8). However, while running the application, we are getting an error</p>\n<p><em>Caused by: javax.servlet.jsp.JspTagException: Invalid property in &lt;set&gt;:  &quot;articleId&quot;\nat org.apache.taglibs.standard.tag.common.core.SetSupport.<strong>exportToBeanProperty</strong>(SetSupport.java:244)\nat org.apache.taglibs.standard.tag.common.core.SetSupport.doEndTag(SetSupport.java:96)</em></p>\n<p>Not sure why its going to exportToBean instead of exporttoMap.</p>\n<p>Here is the piece of code which is causing the problem. The same works perfectly with weblogic.</p>\n<pre><code>&lt;jsp:useBean id=&quot;editParams&quot; class=&quot;java.util.HashMap&quot; /&gt;\n&lt;c:set target=&quot;${editParams}&quot; property=&quot;articleId&quot; value=&quot;${row.id}&quot; /&gt; \n&lt;c:set target=&quot;${editParams}&quot; property=&quot;editable&quot; value=&quot;true&quot; /&gt;\n</code></pre>\n<p>Not sure what is missing here. Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-ws","soapfault","webservicetemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687877612,"post_id":76566014,"comment_id":134996735,"body_markdown":"Apart from your code feeling like you are doing things you shouldn&#39;t be doing (generally when seeing code like `WebServiceTemplate.getMarshaller` this means you are doing it wrong). Have you re-generated your classes with JAXB so it has the proper annotations?","body":"Apart from your code feeling like you are doing things you shouldn&#39;t be doing (generally when seeing code like <code>WebServiceTemplate.getMarshaller</code> this means you are doing it wrong). Have you re-generated your classes with JAXB so it has the proper annotations?"},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1687947415,"post_id":76566014,"comment_id":135007154,"body_markdown":"Thanks for your response , this code is fine if we use dont migrate to jakarta and Jdk 19. While debugging I can see it has error on below line","body":"Thanks for your response , this code is fine if we use dont migrate to jakarta and Jdk 19. While debugging I can see it has error on below line"},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1687948147,"post_id":76566014,"comment_id":135007302,"body_markdown":"We have bean of marsheller that we use to parse response. That is working but it only issue when server retunrs soap fault then it is not able to type cast with (SoapMessage) response , response is WebServiceMessage . Means it is not able to typecast internally with jakarta node perhaps. This might be bug with open jdk","body":"We have bean of marsheller that we use to parse response. That is working but it only issue when server retunrs soap fault then it is not able to type cast with (SoapMessage) response , response is WebServiceMessage . Means it is not able to typecast internally with jakarta node perhaps. This might be bug with open jdk"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687949818,"post_id":76566014,"comment_id":135007631,"body_markdown":"If you switch to jakarta you need to regenerate your XML classes else they are still using the old annotations. Next to that the marshaller is automatically used, you are basically doing what the `WebServiceTemplate` is already doing (so you are over complicating things).","body":"If you switch to jakarta you need to regenerate your XML classes else they are still using the old annotations. Next to that the marshaller is automatically used, you are basically doing what the <code>WebServiceTemplate</code> is already doing (so you are over complicating things)."},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1688030200,"post_id":76566014,"comment_id":135020094,"body_markdown":"Beacuse it is not throwing soap fault exception with simple way , even tried with interceptor stil hasFault methid is not get called if server throws soapfault. Which XML clases you mean can you please explain.. Thanks","body":"Beacuse it is not throwing soap fault exception with simple way , even tried with interceptor stil hasFault methid is not get called if server throws soapfault. Which XML clases you mean can you please explain.. Thanks"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688031284,"post_id":76566014,"comment_id":135020331,"body_markdown":"I strongly get the feeling you have no idea how the frameworks/tools you are using work? The XML classes the classes that are generated from processing the WSDL/XSD you got with the JAXB plugin. That generates classes wit the proper annotations. If you upgrade java and Spring Boot you need to re-generate those as else it will not have the annotations.","body":"I strongly get the feeling you have no idea how the frameworks/tools you are using work? The XML classes the classes that are generated from processing the WSDL/XSD you got with the JAXB plugin. That generates classes wit the proper annotations. If you upgrade java and Spring Boot you need to re-generate those as else it will not have the annotations."},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1688034770,"post_id":76566014,"comment_id":135020964,"body_markdown":"This is always geneated with new jdk , Ithink you are not looking what problem it is. It is working with success case how then It is working ? if server responding with proper response then no issue . Only issue when server returns soapfault and then It is having exception as explainf above . I had debug on api level and it having issue here below on com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl method find\n        if (found == null &amp;&amp; required) {\n            throw new IllegalArgumentException(MessageFormat.format(&quot;Cannot find SOAP wrapper for element {0}&quot;, node));","body":"This is always geneated with new jdk , Ithink you are not looking what problem it is. It is working with success case how then It is working ? if server responding with proper response then no issue . Only issue when server returns soapfault and then It is having exception as explainf above . I had debug on api level and it having issue here below on com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl method find         if (found == null &amp;&amp; required) {             throw new IllegalArgumentException(MessageFormat.format(&quot;Cannot find SOAP wrapper for element {0}&quot;, node));"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688039236,"post_id":76566014,"comment_id":135021789,"body_markdown":"What exception? Ther eis no exception in your problem description. Next to that again why aren&#39;t you using the tools as they should be used using `marshallSendAndReceive` you only need to set a soap action. IMHO part of the issue is what you are doing here.","body":"What exception? Ther eis no exception in your problem description. Next to that again why aren&#39;t you using the tools as they should be used using <code>marshallSendAndReceive</code> you only need to set a soap action. IMHO part of the issue is what you are doing here."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688040392,"post_id":76566014,"comment_id":135022035,"body_markdown":"What you should be using is `webServiceTemplate.marshallSendAndRecieve(requestPayload, new SoapActionCallBack(soapAction));` and let the fault handling to the framework. Also JAXB isn&#39;t part of the JDK so if you haven&#39;t updated that or did not regenerate the classes they simply don&#39;t match. Anyway please update your code and please add your list of dependencies (your pom or build file) to your question.","body":"What you should be using is <code>webServiceTemplate.marshallSendAndRecieve(requestPayload, new SoapActionCallBack(soapAction));</code> and let the fault handling to the framework. Also JAXB isn&#39;t part of the JDK so if you haven&#39;t updated that or did not regenerate the classes they simply don&#39;t match. Anyway please update your code and please add your list of dependencies (your pom or build file) to your question."},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1688045186,"post_id":76566014,"comment_id":135023149,"body_markdown":"If we use default marshallSendAndReceive  then It thriws &quot;JAXB unmarshalling exception&quot;  but only when server throws soap fault and rest cases are fine.  I will upate our build file and pom file","body":"If we use default marshallSendAndReceive  then It thriws &quot;JAXB unmarshalling exception&quot;  but only when server throws soap fault and rest cases are fine.  I will upate our build file and pom file"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688045301,"post_id":76566014,"comment_id":135023175,"body_markdown":"Please include the stacktrace as well and the configuration you are using for the template.","body":"Please include the stacktrace as well and the configuration you are using for the template."}],"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688040020,"creation_date":1687876816,"question_id":76566014,"body_markdown":"We are consumng soap service and it was worlking very well when we were using Java 8 and Spring boot 2.X\r\nWhen we are migrating to open Jdk 19 and Spring Boot 3.x which uses Jakarta It has exception when soap fault.\r\n\r\nNot able to parse soap fault and some where seen in debug not able to type cast in jakarta.xml.node\r\n\r\n**Cannot find SOAP wrapper for element [soap:Fault: null]**\r\n\r\nHere is is our client code \r\n\r\n```java\r\nfinal Marshaller marshaller = webServiceTemplateParam.getMarshaller();\r\n\r\nObject ret = webServiceTemplateParam.sendAndReceive(request - &gt; {\r\n    if (requestPayload != null) {\r\n\r\n        if (marshaller == null) {\r\n            throw new IllegalStateException(&quot;No marshaller registered. Check configuration of WebServiceTemplate.&quot;);\r\n        }\r\n        MarshallingUtils.marshal(marshaller, requestPayload, request);\r\n\r\n        Assert.isInstanceOf(SoapMessage.class, request);\r\n        SoapMessage soapMessage = (SoapMessage) request;\r\n        soapMessage.setSoapAction(soapAction);\r\n\r\n    }\r\n}, new WebServiceMessageExtractor &lt; Object &gt; () {\r\n\r\n    @Override\r\n    public Object extractData(final WebServiceMessage response) throws IOException {\r\n        if (unmarshaller == null) {\r\n            throw new IllegalStateException(&quot;No unmarshaller registered. Check configuration of WebServiceTemplate.&quot;);\r\n        }\r\n        if (hasFault(response)) {\r\n            throw new SoapFaultClientException((SoapMessage) response);\r\n        } else {\r\n            return MarshallingUtils.unmarshal(unmarshaller, response);\r\n        }\r\n    }\r\n\r\n    boolean hasFault(final WebServiceMessage response) {\r\n        if (response instanceof FaultAwareWebServiceMessage) {\r\n            FaultAwareWebServiceMessage faultMessage = (FaultAwareWebServiceMessage) response;\r\n            return faultMessage.hasFault();\r\n        }\r\n        return false;\r\n    }\r\n});\r\n```\r\n\r\n","title":"With Open Jdk 19 , Cannot find SOAP wrapper for element [soap:Fault: null]","body":"<p>We are consumng soap service and it was worlking very well when we were using Java 8 and Spring boot 2.X\nWhen we are migrating to open Jdk 19 and Spring Boot 3.x which uses Jakarta It has exception when soap fault.</p>\n<p>Not able to parse soap fault and some where seen in debug not able to type cast in jakarta.xml.node</p>\n<p><strong>Cannot find SOAP wrapper for element [soap:Fault: null]</strong></p>\n<p>Here is is our client code</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Marshaller marshaller = webServiceTemplateParam.getMarshaller();\n\nObject ret = webServiceTemplateParam.sendAndReceive(request - &gt; {\n    if (requestPayload != null) {\n\n        if (marshaller == null) {\n            throw new IllegalStateException(&quot;No marshaller registered. Check configuration of WebServiceTemplate.&quot;);\n        }\n        MarshallingUtils.marshal(marshaller, requestPayload, request);\n\n        Assert.isInstanceOf(SoapMessage.class, request);\n        SoapMessage soapMessage = (SoapMessage) request;\n        soapMessage.setSoapAction(soapAction);\n\n    }\n}, new WebServiceMessageExtractor &lt; Object &gt; () {\n\n    @Override\n    public Object extractData(final WebServiceMessage response) throws IOException {\n        if (unmarshaller == null) {\n            throw new IllegalStateException(&quot;No unmarshaller registered. Check configuration of WebServiceTemplate.&quot;);\n        }\n        if (hasFault(response)) {\n            throw new SoapFaultClientException((SoapMessage) response);\n        } else {\n            return MarshallingUtils.unmarshal(unmarshaller, response);\n        }\n    }\n\n    boolean hasFault(final WebServiceMessage response) {\n        if (response instanceof FaultAwareWebServiceMessage) {\n            FaultAwareWebServiceMessage faultMessage = (FaultAwareWebServiceMessage) response;\n            return faultMessage.hasFault();\n        }\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1688040312,"post_id":76580824,"comment_id":135022018,"body_markdown":"Please include the sources for `com.palmergames.bukkit.util.BukkitTools`. Your `isEventCancelled` method appears to have a side effect that triggers events. Your stacktrace indicates this method is called from `MobRemovalTimerTask.run()`","body":"Please include the sources for <code>com.palmergames.bukkit.util.BukkitTools</code>. Your <code>isEventCancelled</code> method appears to have a side effect that triggers events. Your stacktrace indicates this method is called from <code>MobRemovalTimerTask.run()</code>"},{"owner":{"account_id":28918677,"reputation":1,"user_id":22150119,"display_name":"Mihanoks"},"score":0,"creation_date":1688040797,"post_id":76580824,"comment_id":135022129,"body_markdown":"@JeroenSteenbeeke Sorry, I don&#39;t quite understand what needs to be done","body":"@JeroenSteenbeeke Sorry, I don&#39;t quite understand what needs to be done"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1688041397,"post_id":76580824,"comment_id":135022280,"body_markdown":"Turns out it isn&#39;t your code. This is an error in Towny: https://github.com/TownyAdvanced/Towny/issues/6766. You need to use a newer version of Towny","body":"Turns out it isn&#39;t your code. This is an error in Towny: <a href=\"https://github.com/TownyAdvanced/Towny/issues/6766\" rel=\"nofollow noreferrer\">github.com/TownyAdvanced/Towny/issues/6766</a>. You need to use a newer version of Towny"}],"owner":{"account_id":28918677,"reputation":1,"user_id":22150119,"display_name":"Mihanoks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688039829,"creation_date":1688039829,"question_id":76580824,"body_markdown":"I&#39;m making a small Bukkit plugin that will allow certain hostile mobs to be on the territory of cities from the Towny plugin. In it I use MobRemovalEvent and MobSpawnRemovalEvent. But an error is being spammed in the console and the plugin does not work.\r\n\r\n\r\n```\r\npackage ru.earthmine.onkrintowns;\r\n\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\npublic final class ONKRInTowns extends JavaPlugin {\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        registerListeners();\r\n    }\r\n\r\n    @Override\r\n    public void onDisable() {\r\n    }\r\n\r\n    private void registerListeners() {\r\n        getServer().getPluginManager().registerEvents(new DespawnListener(), this);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage ru.earthmine.onkrintowns;\r\n\r\nimport com.palmergames.bukkit.towny.event.MobRemovalEvent;\r\nimport com.palmergames.bukkit.towny.event.mobs.MobSpawnRemovalEvent;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\n\r\npublic class DespawnListener implements Listener {\r\n\r\n    @EventHandler\r\n    public void onMobRemovalEvent(MobRemovalEvent event) {\r\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;c–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π&quot;)) {\r\n            event.setCancelled(true);\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void onMobSpawnRemovalEvent(MobSpawnRemovalEvent event) {\r\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;c–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π&quot;)) {\r\n            event.setCancelled(true);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n[14:54:25 WARN]: [Towny] Task #44 for Towny v0.99.2.0 generated an exception\r\njava.lang.IllegalStateException: MobRemovalEvent may only be triggered asynchronously.\r\nat io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:40) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:617) ~[purpur-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\nat com.palmergames.bukkit.util.BukkitTools.fireEvent(BukkitTools.java:342) ~[Towny-0.99.2.0.jar:?]\r\nat com.palmergames.bukkit.util.BukkitTools.isEventCancelled(BukkitTools.java:323) ~[Towny-0.99.2.0.jar:?]\r\nat com.palmergames.bukkit.towny.tasks.MobRemovalTimerTask.run(MobRemovalTimerTask.java:115) ~[Towny-0.99.2.0.jar:?]\r\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftTask.run(CraftTask.java:101) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:483) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1510) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:488) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1195) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:325) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat java.lang.Thread.run(Unknown Source) ~[?:?]\r\n```\r\n\r\n\r\nI have little experience in development, so I don&#39;t really understand what needs to be done.","title":"MobRemovalEvent may only be triggered asynchronously (Bukkit, TownyAPI)","body":"<p>I'm making a small Bukkit plugin that will allow certain hostile mobs to be on the territory of cities from the Towny plugin. In it I use MobRemovalEvent and MobSpawnRemovalEvent. But an error is being spammed in the console and the plugin does not work.</p>\n<pre><code>package ru.earthmine.onkrintowns;\n\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic final class ONKRInTowns extends JavaPlugin {\n\n    @Override\n    public void onEnable() {\n        registerListeners();\n    }\n\n    @Override\n    public void onDisable() {\n    }\n\n    private void registerListeners() {\n        getServer().getPluginManager().registerEvents(new DespawnListener(), this);\n    }\n}\n</code></pre>\n<pre><code>package ru.earthmine.onkrintowns;\n\nimport com.palmergames.bukkit.towny.event.MobRemovalEvent;\nimport com.palmergames.bukkit.towny.event.mobs.MobSpawnRemovalEvent;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\n\npublic class DespawnListener implements Listener {\n\n    @EventHandler\n    public void onMobRemovalEvent(MobRemovalEvent event) {\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;c–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π&quot;)) {\n            event.setCancelled(true);\n        }\n    }\n\n    @EventHandler\n    public void onMobSpawnRemovalEvent(MobSpawnRemovalEvent event) {\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;c–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π&quot;)) {\n            event.setCancelled(true);\n        }\n    }\n}\n</code></pre>\n<pre><code>[14:54:25 WARN]: [Towny] Task #44 for Towny v0.99.2.0 generated an exception\njava.lang.IllegalStateException: MobRemovalEvent may only be triggered asynchronously.\nat io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:40) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:617) ~[purpur-api-1.19.4-R0.1-SNAPSHOT.jar:?]\nat com.palmergames.bukkit.util.BukkitTools.fireEvent(BukkitTools.java:342) ~[Towny-0.99.2.0.jar:?]\nat com.palmergames.bukkit.util.BukkitTools.isEventCancelled(BukkitTools.java:323) ~[Towny-0.99.2.0.jar:?]\nat com.palmergames.bukkit.towny.tasks.MobRemovalTimerTask.run(MobRemovalTimerTask.java:115) ~[Towny-0.99.2.0.jar:?]\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftTask.run(CraftTask.java:101) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:483) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1510) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:488) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1195) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:325) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat java.lang.Thread.run(Unknown Source) ~[?:?]\n</code></pre>\n<p>I have little experience in development, so I don't really understand what needs to be done.</p>\n"},{"tags":["java","spring-boot","maven","http","soap"],"owner":{"account_id":12634959,"reputation":222,"user_id":9184784,"display_name":"tyb9900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688039691,"creation_date":1687980370,"question_id":76576166,"body_markdown":"I have consumed the WSDL and generated a SOAP client using the Apache CXF Maven plugin: cxf-codegen-plugin. \r\n\r\nHowever, I am encountering an issue when attempting to call the SOAP service through code. While the requests work fine in SOAP UI, I receive an error when trying to invoke the service programmatically.\r\n\r\n**WSDL URL:** `https://www.w3schools.com/xml/tempconvert.asmx?wsdl`\r\n\r\n**Service Calling:**\r\n\r\n    TempConvert tempconvert = new TempConvert(new URL(wsdlUrl));\r\n    TempConvertSoap tempconvertsoap = tempconvert.getTempConvertSoap();\r\n    String result = tempconvertsoap.fahrenheitToCelsius(&quot;33&quot;);\r\n\r\n**Exception Trace:**\r\n\r\n \r\n\r\n    org.apache.cxf.phase.PhaseInterceptorChain - Interceptor for {https://www.w3schools.com/xml/}TempConvert#{https://www.w3schools.com/xml/}FahrenheitToCelsius has thrown exception, unwinding now \r\n    org.apache.cxf.interceptor.Fault: Response was of unexpected text/html ContentType.  Incoming portion of HTML stream: &lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \tat org.apache.cxf.interceptor.StaxInInterceptor.handleMessage(StaxInInterceptor.java:98) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:829) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1738) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1604) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1398) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:695) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) ~[cxf-rt-frontend-simple-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:140) ~[cxf-rt-frontend-jaxws-4.0.2.jar:4.0.2]\r\n    \tat jdk.proxy2.$Proxy118.fahrenheitToCelsius(Unknown Source) ~[?:?]\r\n    \tat com.ninegoldplatform.tempconvertspringapi.service.TempConvertSpringApiServiceImpl.invokeSoapClient(TempConvertSpringApiServiceImpl.java:50) ~[classes/:?]\r\n    \tat com.ninegoldplatform.tempconvertspringapi.controller.TempConvertSpringApiController.fahrenheittocelsius(TempConvertSpringApiController.java:19) ~[classes/:?]\r\n    \tat jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:578) ~[?:?]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.lang.Thread.run(Thread.java:1623) [?:?]\r\n\r\nBelow is the generated files by Maven plugin: cxf-codegen-plugin. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3EdHz.png\r\n\r\n\r\n**Maven plugin cxf-codegen-plugin:**\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n        \t&lt;id&gt;generate-sources&lt;/id&gt;\r\n        \t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n        \t&lt;configuration&gt;\r\n        \t  &lt;defaultOptions&gt;\r\n        \t  &lt;extraargs&gt;\r\n        \t  &lt;extraarg&gt;-p&lt;/extraarg&gt;\t\t\t\t \r\n              &lt;extraarg&gt;com.stub.target&lt;/extraarg&gt;\r\n        \t  &lt;/extraargs&gt;\r\n        \t  &lt;/defaultOptions&gt;\r\n        \t  &lt;wsdlOptions&gt;\r\n        \t  &lt;wsdlOption \r\n      &lt;wsdl&gt;https://www.w3schools.com/xml/tempconvert.asmx?wsdl&lt;/wsdl&gt;\r\n        \t&lt;/wsdlOption&gt;\r\n        \t&lt;/wsdlOptions&gt;\r\n        \t&lt;includes&gt;\r\n        \t&lt;include&gt;${project.build.directory}/generated-sources/cxf/**&lt;/include&gt;\r\n        \t&lt;/includes&gt;\r\n        \t&lt;/configuration&gt;\r\n        \t&lt;goals&gt;\r\n        \t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n        \t&lt;/goals&gt;\r\n        \t&lt;/execution&gt;\r\n        \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;    ","title":"Getting error while calling SOAP service generated by cxf-codegen-plugin","body":"<p>I have consumed the WSDL and generated a SOAP client using the Apache CXF Maven plugin: cxf-codegen-plugin.</p>\n<p>However, I am encountering an issue when attempting to call the SOAP service through code. While the requests work fine in SOAP UI, I receive an error when trying to invoke the service programmatically.</p>\n<p><strong>WSDL URL:</strong> <code>https://www.w3schools.com/xml/tempconvert.asmx?wsdl</code></p>\n<p><strong>Service Calling:</strong></p>\n<pre><code>TempConvert tempconvert = new TempConvert(new URL(wsdlUrl));\nTempConvertSoap tempconvertsoap = tempconvert.getTempConvertSoap();\nString result = tempconvertsoap.fahrenheitToCelsius(&quot;33&quot;);\n</code></pre>\n<p><strong>Exception Trace:</strong></p>\n<pre><code>org.apache.cxf.phase.PhaseInterceptorChain - Interceptor for {https://www.w3schools.com/xml/}TempConvert#{https://www.w3schools.com/xml/}FahrenheitToCelsius has thrown exception, unwinding now \norg.apache.cxf.interceptor.Fault: Response was of unexpected text/html ContentType.  Incoming portion of HTML stream: &lt;html&gt;\n&lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n    at org.apache.cxf.interceptor.StaxInInterceptor.handleMessage(StaxInInterceptor.java:98) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:829) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1738) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1604) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1398) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:695) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) ~[cxf-rt-frontend-simple-4.0.2.jar:4.0.2]\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:140) ~[cxf-rt-frontend-jaxws-4.0.2.jar:4.0.2]\n    at jdk.proxy2.$Proxy118.fahrenheitToCelsius(Unknown Source) ~[?:?]\n    at com.ninegoldplatform.tempconvertspringapi.service.TempConvertSpringApiServiceImpl.invokeSoapClient(TempConvertSpringApiServiceImpl.java:50) ~[classes/:?]\n    at com.ninegoldplatform.tempconvertspringapi.controller.TempConvertSpringApiController.fahrenheittocelsius(TempConvertSpringApiController.java:19) ~[classes/:?]\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:578) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.lang.Thread.run(Thread.java:1623) [?:?]\n</code></pre>\n<p>Below is the generated files by Maven plugin: cxf-codegen-plugin.</p>\n<p><a href=\"https://i.stack.imgur.com/3EdHz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3EdHz.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Maven plugin cxf-codegen-plugin:</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;generate-sources&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;configuration&gt;\n          &lt;defaultOptions&gt;\n          &lt;extraargs&gt;\n          &lt;extraarg&gt;-p&lt;/extraarg&gt;                \n          &lt;extraarg&gt;com.stub.target&lt;/extraarg&gt;\n          &lt;/extraargs&gt;\n          &lt;/defaultOptions&gt;\n          &lt;wsdlOptions&gt;\n          &lt;wsdlOption \n  &lt;wsdl&gt;https://www.w3schools.com/xml/tempconvert.asmx?wsdl&lt;/wsdl&gt;\n        &lt;/wsdlOption&gt;\n        &lt;/wsdlOptions&gt;\n        &lt;includes&gt;\n        &lt;include&gt;${project.build.directory}/generated-sources/cxf/**&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;/executions&gt;\n&lt;/plugin&gt;    \n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1687178405,"post_id":76506703,"comment_id":134896178,"body_markdown":"Nice try with the batching but you are doing it wrong, as you are still loading everything in memory. Instead do this and directly write to the json file instead of storing them in memory. Process chunks not all of them at once.","body":"Nice try with the batching but you are doing it wrong, as you are still loading everything in memory. Instead do this and directly write to the json file instead of storing them in memory. Process chunks not all of them at once."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687178451,"post_id":76506703,"comment_id":134896189,"body_markdown":"For queries this large, you should use a streaming API. I&#39;m not sure if JPA has that feature, but something like jOOQ certainly does. But at any rate, you don&#39;t want to have all those objects in memory at the same time. Open the output stream and write each batch to it as it comes in.","body":"For queries this large, you should use a streaming API. I&#39;m not sure if JPA has that feature, but something like jOOQ certainly does. But at any rate, you don&#39;t want to have all those objects in memory at the same time. Open the output stream and write each batch to it as it comes in."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1687178477,"post_id":76506703,"comment_id":134896197,"body_markdown":"*&quot;Is there a way to improve how I&#39;m doing this?&quot;* - don&#39;t build a list of a million `Entity` objects.","body":"<i>&quot;Is there a way to improve how I&#39;m doing this?&quot;</i> - don&#39;t build a list of a million <code>Entity</code> objects."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":1,"creation_date":1687178932,"post_id":76506703,"comment_id":134896290,"body_markdown":"Is there anything against using Oracle&#39;s own exp tool ?","body":"Is there anything against using Oracle&#39;s own exp tool ?"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1687179249,"post_id":76506703,"comment_id":134896363,"body_markdown":"I am removing the Oracle tag because, apart from using it in the background, there is nothing obviously related to Oracle in the question. If Oracle is actually relevant to the question then please [edit] the question an include a [MRE] with: the `CREATE TABLE` and `CREATE INDEX` statements for your table(s)/index(es); the `SELECT` statement you are generating; an example of the data you are passing to Oracle; the expected output from the query; and the `EXPLAIN PLAN` for the query.","body":"I am removing the Oracle tag because, apart from using it in the background, there is nothing obviously related to Oracle in the question. If Oracle is actually relevant to the question then please <a href=\"https://stackoverflow.com/posts/76506703/edit\">edit</a> the question an include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with: the <code>CREATE TABLE</code> and <code>CREATE INDEX</code> statements for your table(s)/index(es); the <code>SELECT</code> statement you are generating; an example of the data you are passing to Oracle; the expected output from the query; and the <code>EXPLAIN PLAN</code> for the query."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687179289,"post_id":76506703,"comment_id":134896370,"body_markdown":"Ok got it, I&#39;ll batch it and then write directly to file for every batch then instead of collecting it in a giant list in memory. \n\nFor oracle&#39;s own export tool, I need the &quot;response object&quot; formatted differently than how the records are presented in the db and also I need to join two tables. I can&#39;t use the export tool.","body":"Ok got it, I&#39;ll batch it and then write directly to file for every batch then instead of collecting it in a giant list in memory.   For oracle&#39;s own export tool, I need the &quot;response object&quot; formatted differently than how the records are presented in the db and also I need to join two tables. I can&#39;t use the export tool."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":2,"creation_date":1687179524,"post_id":76506703,"comment_id":134896411,"body_markdown":"I would&#39;ve gone with a simple PL/SQL block,  a cursor fetch loop writing JSON or whatever format you need on a file. A million records may seem daunting but can be managed even with some simple sql*plus script (yes, even with the json output). But I guess an Oracle take on this isn&#39;t required anymore.","body":"I would&#39;ve gone with a simple PL/SQL block,  a cursor fetch loop writing JSON or whatever format you need on a file. A million records may seem daunting but can be managed even with some simple sql*plus script (yes, even with the json output). But I guess an Oracle take on this isn&#39;t required anymore."},{"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"score":1,"creation_date":1687180502,"post_id":76506703,"comment_id":134896671,"body_markdown":"You can follow this post blog [&quot;Streaming Large JSON Response In Spring&quot;](https://dev.to/ratulsharker/streaming-large-json-response-in-spring-2pho)","body":"You can follow this post blog <a href=\"https://dev.to/ratulsharker/streaming-large-json-response-in-spring-2pho\" rel=\"nofollow noreferrer\">&quot;Streaming Large JSON Response In Spring&quot;</a>"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687186855,"post_id":76506703,"comment_id":134898096,"body_markdown":"Hey everyone, is this the right approach? I updated my post to reflect me writing to JSON file instead. I&#39;m running it now and I don&#39;t know how long it will take but please double check my code and see if it makes sense or I&#39;m still missing something core. Thanks!","body":"Hey everyone, is this the right approach? I updated my post to reflect me writing to JSON file instead. I&#39;m running it now and I don&#39;t know how long it will take but please double check my code and see if it makes sense or I&#39;m still missing something core. Thanks!"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1687199498,"post_id":76506703,"comment_id":134900587,"body_markdown":"I would do at least 2 things: measure what takes more time, query+unmarshalling or writing to file. I guess query+unmarshalling takes more time. Depends on the &quot;size&quot; and structure of `Entity`. A bunch of fields won&#39;t take very long, even 1M records. Also consider that the query has no (obvious) order, it may return the same record again and again.","body":"I would do at least 2 things: measure what takes more time, query+unmarshalling or writing to file. I guess query+unmarshalling takes more time. Depends on the &quot;size&quot; and structure of <code>Entity</code>. A bunch of fields won&#39;t take very long, even 1M records. Also consider that the query has no (obvious) order, it may return the same record again and again."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687207149,"post_id":76506703,"comment_id":134901705,"body_markdown":"Why would it return the same record again? @PeterMmm should I order it?","body":"Why would it return the same record again? @PeterMmm should I order it?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1687261240,"post_id":76506703,"comment_id":134908952,"body_markdown":"I said &quot;may&quot;, I won&#39;t bet that the &quot;natural order&quot; is always the same in separate `selects` https://dev.to/peledzohar/the-natural-order-misconception-2ekg","body":"I said &quot;may&quot;, I won&#39;t bet that the &quot;natural order&quot; is always the same in separate <code>selects</code> <a href=\"https://dev.to/peledzohar/the-natural-order-misconception-2ekg\" rel=\"nofollow noreferrer\">dev.to/peledzohar/the-natural-order-misconception-2ekg</a>"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687449971,"post_id":76506703,"comment_id":134941781,"body_markdown":"Do you really need to write all of your data(I mean all columns, along with those expensive formulae and all)?","body":"Do you really need to write all of your data(I mean all columns, along with those expensive formulae and all)?"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687454213,"post_id":76506703,"comment_id":134942578,"body_markdown":"Maybe not all the columns for the select * in FIND_NEW_ENTITIES but I need the selects from the other fields","body":"Maybe not all the columns for the select * in FIND_NEW_ENTITIES but I need the selects from the other fields"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1687503635,"post_id":76506703,"comment_id":134948715,"body_markdown":"Your entity does a lot of additional selects, which is going to be slow. You basically have a 1+N select problem (or rather 1 + (2*N) here) due to your formulas. Your conversion is also a bit slow, creating a stream adds overhead. Instead of using JPA and conversion, I would suggest to write a dedicated SQL query and use a `JdbcTemplate` and extract/write results. This will eliminate much of the overhead you currently have.","body":"Your entity does a lot of additional selects, which is going to be slow. You basically have a 1+N select problem (or rather 1 + (2*N) here) due to your formulas. Your conversion is also a bit slow, creating a stream adds overhead. Instead of using JPA and conversion, I would suggest to write a dedicated SQL query and use a <code>JdbcTemplate</code> and extract/write results. This will eliminate much of the overhead you currently have."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687529647,"post_id":76506703,"comment_id":134954247,"body_markdown":"Can you share an example of what you mean by JDBCTemplate and use dedicated sql query? Thanks for the suggestion.","body":"Can you share an example of what you mean by JDBCTemplate and use dedicated sql query? Thanks for the suggestion."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1687763906,"post_id":76506703,"comment_id":134976645,"body_markdown":"If you really want fast processing: use raw JDBC and generate JSON manually. You can&#39;t beat that.","body":"If you really want fast processing: use raw JDBC and generate JSON manually. You can&#39;t beat that."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1687851179,"post_id":76506703,"comment_id":134990570,"body_markdown":"See [here](https://www.tutorialspoint.com/jdbc/jdbc-select-records.htm) for a basic tutorial on JDBC.","body":"See <a href=\"https://www.tutorialspoint.com/jdbc/jdbc-select-records.htm\" rel=\"nofollow noreferrer\">here</a> for a basic tutorial on JDBC."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1687851269,"post_id":76506703,"comment_id":134990585,"body_markdown":"Write a single SQL query that will fetch all the data you need. For better performance, increase the fetch size to 500 or 1000 (as explained [here](https://stackoverflow.com/a/24815708/12763954)).","body":"Write a single SQL query that will fetch all the data you need. For better performance, increase the fetch size to 500 or 1000 (as explained <a href=\"https://stackoverflow.com/a/24815708/12763954\">here</a>)."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687441832,"creation_date":1687422267,"answer_id":76529918,"question_id":76506703,"body_markdown":"You could parallelize your batching. As soon as you need to export 1,000,000 records, you could create e.g. 4 threads each starting data extraction from it&#39;s own offset and writing the data into its own temporary file.\r\n\r\nAfter batching is over you merge four temp files into the resulting one.\r\n\r\nIf one of threads fails for some reason you don&#39;t need to start the whole process from the very beginning but the use results stored in temp files.\r\n\r\nAlso in your code you create a new expensive `Gson` object for each chunk of size 1000, making 1000 objects for the whole batch. Instead one object cached in the field or injected by IoC container can be used.\r\n\r\nI suggest you to modify your code as:\r\n```java\r\npublic class BatchExtractor {\r\n  private static final int BATCH_SIZE = 1000;\r\n\r\n  private EntityManager entityManager;\r\n  private Gson gson = new Gson();\r\n\r\n  @SneakyThrows\r\n  public void getNewEntities() {\r\n    int limit = 250_000;\r\n    int parallelism = 4;\r\n    try (ExecutorService executorService = Executors.newFixedThreadPool(parallelism)) {\r\n      List&lt;Future&lt;File&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n      for (int i = 0; i &lt; parallelism; i++) {\r\n        int offset = i * limit;\r\n        Future&lt;File&gt; future = executorService.submit(() -&gt; extract(offset, limit));\r\n        futures.add(future);\r\n      }\r\n      File resultingFile = new File(&quot;new_entities.json&quot;);\r\n      resultingFile.createNewFile();\r\n      try (FileOutputStream fos = new FileOutputStream(resultingFile)) {\r\n        futures.stream().map(this::getFile).forEach(tempFile -&gt; transfer(tempFile, fos));\r\n        fos.flush();\r\n      }\r\n    }\r\n  }\r\n\r\n  @SneakyThrows\r\n  private File extract(int offset, int limit) {\r\n    String fileName = &quot;new_entities_temp_&quot; + offset + &quot;.json&quot;;\r\n    File file = new File(fileName);\r\n    file.createNewFile();\r\n    int extractedCount = 0;\r\n    try (FileWriter tempFile = new FileWriter(file)) {\r\n      while (extractedCount &lt; limit) {\r\n        offset += BATCH_SIZE;\r\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n                .setFirstResult(offset)\r\n                .setMaxResults(BATCH_SIZE)\r\n                .getResultList();\r\n        tempFile.write(gson.toJson(entityList));\r\n        extractedCount += entityList.size();\r\n      }\r\n    }\r\n    return file;\r\n  }\r\n\r\n  @SneakyThrows\r\n  private long transfer(File tempFile, FileOutputStream fos) {\r\n    return Files.copy(tempFile.toPath(), fos);\r\n  }\r\n\r\n  @SneakyThrows\r\n  private File getFile(Future&lt;File&gt; fileFuture) {\r\n    return fileFuture.get();\r\n  }\r\n}\r\n```\r\n\r\n**UPD** You could also combine this approach with the streaming suggested in another answer.","title":"Best way to export a million records formatted as json?","body":"<p>You could parallelize your batching. As soon as you need to export 1,000,000 records, you could create e.g. 4 threads each starting data extraction from it's own offset and writing the data into its own temporary file.</p>\n<p>After batching is over you merge four temp files into the resulting one.</p>\n<p>If one of threads fails for some reason you don't need to start the whole process from the very beginning but the use results stored in temp files.</p>\n<p>Also in your code you create a new expensive <code>Gson</code> object for each chunk of size 1000, making 1000 objects for the whole batch. Instead one object cached in the field or injected by IoC container can be used.</p>\n<p>I suggest you to modify your code as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatchExtractor {\n  private static final int BATCH_SIZE = 1000;\n\n  private EntityManager entityManager;\n  private Gson gson = new Gson();\n\n  @SneakyThrows\n  public void getNewEntities() {\n    int limit = 250_000;\n    int parallelism = 4;\n    try (ExecutorService executorService = Executors.newFixedThreadPool(parallelism)) {\n      List&lt;Future&lt;File&gt;&gt; futures = new ArrayList&lt;&gt;();\n      for (int i = 0; i &lt; parallelism; i++) {\n        int offset = i * limit;\n        Future&lt;File&gt; future = executorService.submit(() -&gt; extract(offset, limit));\n        futures.add(future);\n      }\n      File resultingFile = new File(&quot;new_entities.json&quot;);\n      resultingFile.createNewFile();\n      try (FileOutputStream fos = new FileOutputStream(resultingFile)) {\n        futures.stream().map(this::getFile).forEach(tempFile -&gt; transfer(tempFile, fos));\n        fos.flush();\n      }\n    }\n  }\n\n  @SneakyThrows\n  private File extract(int offset, int limit) {\n    String fileName = &quot;new_entities_temp_&quot; + offset + &quot;.json&quot;;\n    File file = new File(fileName);\n    file.createNewFile();\n    int extractedCount = 0;\n    try (FileWriter tempFile = new FileWriter(file)) {\n      while (extractedCount &lt; limit) {\n        offset += BATCH_SIZE;\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n                .setFirstResult(offset)\n                .setMaxResults(BATCH_SIZE)\n                .getResultList();\n        tempFile.write(gson.toJson(entityList));\n        extractedCount += entityList.size();\n      }\n    }\n    return file;\n  }\n\n  @SneakyThrows\n  private long transfer(File tempFile, FileOutputStream fos) {\n    return Files.copy(tempFile.toPath(), fos);\n  }\n\n  @SneakyThrows\n  private File getFile(Future&lt;File&gt; fileFuture) {\n    return fileFuture.get();\n  }\n}\n</code></pre>\n<p><strong>UPD</strong> You could also combine this approach with the streaming suggested in another answer.</p>\n"},{"comments":[{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687441922,"post_id":76530051,"comment_id":134939876,"body_markdown":"Hey, I&#39;m trying your approach and while it&#39;s probably less likely (if at all) to eat up memory locally, it is still taking a long time. It&#39;s been nearly an hour so far and it&#39;s only written ~80 MB to the file. I expect this file be closer to 1GB. Is there anyway to improve performance here? Should I share my entity to see if it&#39;s an issue with how I&#39;m setting up some fields there or something else? Thanks!","body":"Hey, I&#39;m trying your approach and while it&#39;s probably less likely (if at all) to eat up memory locally, it is still taking a long time. It&#39;s been nearly an hour so far and it&#39;s only written ~80 MB to the file. I expect this file be closer to 1GB. Is there anyway to improve performance here? Should I share my entity to see if it&#39;s an issue with how I&#39;m setting up some fields there or something else? Thanks!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687442443,"post_id":76530051,"comment_id":134939986,"body_markdown":"What would be interesting is your `Entity` and your `toNewEntity`. Ideally you would directly return `NewEntity` from the query and write a specific query that returns the data you need. Depending on your `Entity` it might even lead to excessive selects, and make sure that you have an `@Transactional(readOnly=true` on your `getNewEntities` method as well.","body":"What would be interesting is your <code>Entity</code> and your <code>toNewEntity</code>. Ideally you would directly return <code>NewEntity</code> from the query and write a specific query that returns the data you need. Depending on your <code>Entity</code> it might even lead to excessive selects, and make sure that you have an <code>@Transactional(readOnly=true</code> on your <code>getNewEntities</code> method as well."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687442509,"post_id":76530051,"comment_id":134940000,"body_markdown":"In additional to that, make sure that you don&#39;t run into network issues/latency and that you are actually writing to a local file (and aren&#39;t recreating `Gson` each time you need it!).","body":"In additional to that, make sure that you don&#39;t run into network issues/latency and that you are actually writing to a local file (and aren&#39;t recreating <code>Gson</code> each time you need it!)."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687444979,"post_id":76530051,"comment_id":134940611,"body_markdown":"Hey thanks for writing back. My `toNewEntity` returns the domain object I map the entity to. so returns `NewEnity.builder().(fields mapped).build()`. I&#39;ll share it in a bit. One more is I have the `@Transactional(readOnly=true)` on the controller method instead of the service call. Is it better to move it directly to the service call instead of the controller method where I make the call to test it? Thanks!","body":"Hey thanks for writing back. My <code>toNewEntity</code> returns the domain object I map the entity to. so returns <code>NewEnity.builder().(fields mapped).build()</code>. I&#39;ll share it in a bit. One more is I have the <code>@Transactional(readOnly=true)</code> on the controller method instead of the service call. Is it better to move it directly to the service call instead of the controller method where I make the call to test it? Thanks!"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687447868,"post_id":76530051,"comment_id":134941337,"body_markdown":"I updated my post to show the `Entity` and `NewEntity`. I think it&#39;s because I map locations to list right? I should keep it as a stream or?","body":"I updated my post to show the <code>Entity</code> and <code>NewEntity</code>. I think it&#39;s because I map locations to list right? I should keep it as a stream or?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687503681,"post_id":76530051,"comment_id":134948724,"body_markdown":"Regarding the transaction, do you really want to have the transaction be part of your web handling? Your service layer should be the transactional/business boundary not the web,","body":"Regarding the transaction, do you really want to have the transaction be part of your web handling? Your service layer should be the transactional/business boundary not the web,"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687529731,"post_id":76530051,"comment_id":134954272,"body_markdown":"do you really want to have the transaction be part of your web handling? &gt;&gt; What do you mean by this? \n\nI&#39;m directly calling the service layer endpoint locally via postman to test this feature implementation. How else will I trigger/invoke the call to action this action? Unless you mean it&#39;s better to create a separate console program and invoke this call on main when I spin it up?","body":"do you really want to have the transaction be part of your web handling? &gt;&gt; What do you mean by this?   I&#39;m directly calling the service layer endpoint locally via postman to test this feature implementation. How else will I trigger/invoke the call to action this action? Unless you mean it&#39;s better to create a separate console program and invoke this call on main when I spin it up?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687530026,"post_id":76530051,"comment_id":134954363,"body_markdown":"If something during marshalling of your response fails it will impact the transaction. Is that **really** what you want? Do you want your transaction be impacted by something that happens on the web? Because that is basically what you have done now. Regarding the export if you only need it to export, just write a main with an `ApplicationRunner` and kick-off the process. Why the clutter of a controller in the first place?","body":"If something during marshalling of your response fails it will impact the transaction. Is that <b>really</b> what you want? Do you want your transaction be impacted by something that happens on the web? Because that is basically what you have done now. Regarding the export if you only need it to export, just write a main with an <code>ApplicationRunner</code> and kick-off the process. Why the clutter of a controller in the first place?"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687530346,"post_id":76530051,"comment_id":134954459,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254219/discussion-between-euridice01-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254219/discussion-between-euridice01-and-m-deinum\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687442463,"creation_date":1687423301,"answer_id":76530051,"question_id":76506703,"body_markdown":"Use a stream instead of batching and detach the objects as not to polute the memory with objects you don&#39;t need. \r\n\r\nCreate `Gson` once and re-use as it is an expensive object. \r\n\r\nIn the code below I make a couple of assumptions:\r\n- Spring Boot 3.x\r\n- Java 17 or higher\r\n\r\n\r\n```java\r\n@Transactional(readOnly=true)\r\npublic void getNewEntities() {\r\n    var gson = new Gson();\r\n\r\n    try (var writer = Files.newBufferedWriter(Path.get(&quot;new_entities.json&quot;))) {\r\n      var entities = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n      .setHint(QueryHints.HINT_FETCH_SIZE, &quot;1000&quot;)\r\n      .setHint(QueryHints.READ_ONLY, &quot;true&quot;)\r\n      .getResultStream();\r\n\r\n       entities.forEach( (entity) -&gt; writeToFile(gson, writer, entity);      \r\n    }\r\n    catch(IOException ex) {\r\n        throw new IllegalStateException(ex);\r\n    };\r\n}\r\n\r\nprivate void writeToFile(Gson gson, Writer writer, Entity entity) {\r\n  try {\r\n    writer.write(gson.toJson(entity.toNewEntity()));\r\n  } catch (Exception ex) {\r\n    throw new IllegalStateException(ex);\r\n  }\r\n  entityManager.detach(entity);\r\n}\r\n\r\n```","title":"Best way to export a million records formatted as json?","body":"<p>Use a stream instead of batching and detach the objects as not to polute the memory with objects you don't need.</p>\n<p>Create <code>Gson</code> once and re-use as it is an expensive object.</p>\n<p>In the code below I make a couple of assumptions:</p>\n<ul>\n<li>Spring Boot 3.x</li>\n<li>Java 17 or higher</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly=true)\npublic void getNewEntities() {\n    var gson = new Gson();\n\n    try (var writer = Files.newBufferedWriter(Path.get(&quot;new_entities.json&quot;))) {\n      var entities = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n      .setHint(QueryHints.HINT_FETCH_SIZE, &quot;1000&quot;)\n      .setHint(QueryHints.READ_ONLY, &quot;true&quot;)\n      .getResultStream();\n\n       entities.forEach( (entity) -&gt; writeToFile(gson, writer, entity);      \n    }\n    catch(IOException ex) {\n        throw new IllegalStateException(ex);\n    };\n}\n\nprivate void writeToFile(Gson gson, Writer writer, Entity entity) {\n  try {\n    writer.write(gson.toJson(entity.toNewEntity()));\n  } catch (Exception ex) {\n    throw new IllegalStateException(ex);\n  }\n  entityManager.detach(entity);\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687562151,"post_id":76541556,"comment_id":134959511,"body_markdown":"Wouldn&#39;t this be bringing too many objects in memory though because of the list implementation? Also, I need to double check something but I think when I tried with the raw query above a a few days ago, it mentioned something about needing TypedQuery (That was because I was referring to different entities), is that something I can do run here? Thanks!","body":"Wouldn&#39;t this be bringing too many objects in memory though because of the list implementation? Also, I need to double check something but I think when I tried with the raw query above a a few days ago, it mentioned something about needing TypedQuery (That was because I was referring to different entities), is that something I can do run here? Thanks!"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687573870,"post_id":76541556,"comment_id":134960156,"body_markdown":"All you need is to export your data. As per your question of bringing all data to memory, I have mentioned that you should also try batching. One way or another, you will be loading all data into memory. My solution will help you out by removing extra burden of query. You are getting (2N+1) or even more problem","body":"All you need is to export your data. As per your question of bringing all data to memory, I have mentioned that you should also try batching. One way or another, you will be loading all data into memory. My solution will help you out by removing extra burden of query. You are getting (2N+1) or even more problem"}],"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687537175,"creation_date":1687534379,"answer_id":76541556,"question_id":76506703,"body_markdown":"The way I see this is, you are fetching a million records as an entity.\r\nAfter the query is executed, the resultset will be mapped into the Entity class. In your case, 2 `@Formula` are being executed for each record and also a list of locations being populated too. I suggest you fetching them directly via native queries.\r\n\r\nI am writing a pseudo code, \r\n\r\n```JAVA\r\n@Transactional(readOnly=true)\r\npublic void writeMyEntitiesToJsonFile() {\r\n        Gson gson = new Gson();\r\n        try {\r\n\r\n            FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\r\n\r\n            //this query will fetch all the records from your table name\r\n            String rawQuery = &quot;SELECT \\n&quot;\r\n                    + &quot;t.NEW_ENTITY_ID AS id,\\n&quot;\r\n                    + &quot;t.SHARED_ID AS sharedId,\\n&quot;\r\n                    + &quot;a.SOME_ID AS someId,\\n&quot;\r\n                    + &quot;a.CODE AS code\\n&quot;\r\n                    + &quot;FROM TABLE_NAME t\\n&quot;\r\n                    + &quot;JOIN ANOTHER_TABLE a \\n&quot;\r\n                    + &quot;ON t.SHARED_ID=a.SHARED_ID&quot;;\r\n\r\n            List&lt;Object[]&gt; newEntityRawList = em.createNativeQuery(rawQuery)\r\n                    .getResultList();\r\n\r\n            //mapping all those Object[] into a DTO&gt; EntityDTO\r\n            List&lt;EntityDTO&gt; newEntityDTOList = newEntityRawList\r\n                    .stream()\r\n                    .map(obj -&gt; new EntityDTO((Number) obj[0], (Number) obj[1], (String) obj[2], (String) obj[3]))\r\n                    .collect(Collectors.toList());\r\n\r\n            //this query will fetch all the location from your table\r\n            String locationQuery = &quot;SELECT \\n&quot;\r\n                    + &quot;l.newEntityId,\\n&quot;\r\n                    + &quot;l.id,\\n&quot;\r\n                    + &quot;l.city,\\n&quot;\r\n                    + &quot;l.state,\\n&quot;\r\n                    + &quot;l.country \\n&quot;\r\n                    + &quot;FROM location l&quot;;\r\n            List&lt;Object[]&gt; locationRawList = em.createNativeQuery(locationQuery)\r\n                    .getResultList();\r\n\r\n            //mapping all those Object[] into a DTO&gt; LocationDTO\r\n            List&lt;LocationDTO&gt; locationDTOList = locationRawList\r\n                    .stream()\r\n                    .map(ob -&gt; new LocationDTO((Number) ob[0], (Number) ob[1], (String) ob[2], (String) ob[3], (String) ob[4]))\r\n                    .collect(Collectors.toList());\r\n\r\n            //Using lambda to get a map with key&gt; new entity id. and values&gt; List of Location \r\n            Map&lt;Long, List&lt;LocationDTO&gt;&gt; mapOfNewEntityIdAndLocationList = locationDTOList\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(LocationDTO::getNewEntityId));\r\n\r\n            //setting The list of locations to EntityDTO\r\n            for (EntityDTO ne : newEntityDTOList) {\r\n                ne.setLocations(mapOfNewEntityIdAndLocationList.get(ne.getId()));\r\n            }\r\n            \r\n            //writing data to file\r\n            file.write(gson.toJson(newEntityDTOList));\r\n        } catch (IOException io) {\r\n            io.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    public class EntityDTO {\r\n\r\n        private final long id;\r\n        private final long sharedId;\r\n        private final String someId;\r\n        private final String code;\r\n\r\n        @Setter\r\n        private List&lt;LocationDTO&gt; locations;\r\n\r\n        public EntityDTO(Number id,\r\n                Number sharedId,\r\n                String someId,\r\n                String code) {\r\n            this.id = id.longValue();\r\n            this.sharedId = sharedId.longValue();\r\n            this.someId = someId;\r\n            this.code = code;\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    public class LocationDTO {\r\n\r\n        private final long id;\r\n        private final long newEntityId;\r\n        private final String city;\r\n        private final String state;\r\n        private final String country;\r\n\r\n        public LocationDTO(Number id,\r\n                Number newEntityId,\r\n                String city,\r\n                String state,\r\n                String country) {\r\n            this.id = id.longValue();\r\n            this.newEntityId = newEntityId.longValue();\r\n            this.city = city;\r\n            this.state = state;\r\n            this.country = country;\r\n        }\r\n\r\n    }\r\n    \r\n```\r\nInstead of using the constructors, you can also use [SqlResultSetMapping](https://www.baeldung.com/jpa-sql-resultset-mapping).\r\n\r\nOf course, this will still be an expensive operation and you have figured out the batching yourself from the other answers in the answer section.\r\n \r\nThis approach of solution should eliminate the additional expensive queries.\r\n\r\nI did not run the process I don&#39;t have any data to work with.\r\n\r\nP.S.  Please do try the batching too. The `maxResult` for the first native query is easy, fetching the corresponding data from the second query will be a little tricky as you can you will need to set the `WHERE NEW_ENTITY_ID BETWEEN`  MIN AND MAX `id`s obtained from the first result(should not be very hard as you know how the data are sitting on your database tables).\r\n\r\n\r\nGood luck!","title":"Best way to export a million records formatted as json?","body":"<p>The way I see this is, you are fetching a million records as an entity.\nAfter the query is executed, the resultset will be mapped into the Entity class. In your case, 2 <code>@Formula</code> are being executed for each record and also a list of locations being populated too. I suggest you fetching them directly via native queries.</p>\n<p>I am writing a pseudo code,</p>\n<pre><code>@Transactional(readOnly=true)\npublic void writeMyEntitiesToJsonFile() {\n        Gson gson = new Gson();\n        try {\n\n            FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\n\n            //this query will fetch all the records from your table name\n            String rawQuery = &quot;SELECT \\n&quot;\n                    + &quot;t.NEW_ENTITY_ID AS id,\\n&quot;\n                    + &quot;t.SHARED_ID AS sharedId,\\n&quot;\n                    + &quot;a.SOME_ID AS someId,\\n&quot;\n                    + &quot;a.CODE AS code\\n&quot;\n                    + &quot;FROM TABLE_NAME t\\n&quot;\n                    + &quot;JOIN ANOTHER_TABLE a \\n&quot;\n                    + &quot;ON t.SHARED_ID=a.SHARED_ID&quot;;\n\n            List&lt;Object[]&gt; newEntityRawList = em.createNativeQuery(rawQuery)\n                    .getResultList();\n\n            //mapping all those Object[] into a DTO&gt; EntityDTO\n            List&lt;EntityDTO&gt; newEntityDTOList = newEntityRawList\n                    .stream()\n                    .map(obj -&gt; new EntityDTO((Number) obj[0], (Number) obj[1], (String) obj[2], (String) obj[3]))\n                    .collect(Collectors.toList());\n\n            //this query will fetch all the location from your table\n            String locationQuery = &quot;SELECT \\n&quot;\n                    + &quot;l.newEntityId,\\n&quot;\n                    + &quot;l.id,\\n&quot;\n                    + &quot;l.city,\\n&quot;\n                    + &quot;l.state,\\n&quot;\n                    + &quot;l.country \\n&quot;\n                    + &quot;FROM location l&quot;;\n            List&lt;Object[]&gt; locationRawList = em.createNativeQuery(locationQuery)\n                    .getResultList();\n\n            //mapping all those Object[] into a DTO&gt; LocationDTO\n            List&lt;LocationDTO&gt; locationDTOList = locationRawList\n                    .stream()\n                    .map(ob -&gt; new LocationDTO((Number) ob[0], (Number) ob[1], (String) ob[2], (String) ob[3], (String) ob[4]))\n                    .collect(Collectors.toList());\n\n            //Using lambda to get a map with key&gt; new entity id. and values&gt; List of Location \n            Map&lt;Long, List&lt;LocationDTO&gt;&gt; mapOfNewEntityIdAndLocationList = locationDTOList\n                    .stream()\n                    .collect(Collectors.groupingBy(LocationDTO::getNewEntityId));\n\n            //setting The list of locations to EntityDTO\n            for (EntityDTO ne : newEntityDTOList) {\n                ne.setLocations(mapOfNewEntityIdAndLocationList.get(ne.getId()));\n            }\n            \n            //writing data to file\n            file.write(gson.toJson(newEntityDTOList));\n        } catch (IOException io) {\n            io.printStackTrace();\n        }\n    }\n\n    @Getter\n    public class EntityDTO {\n\n        private final long id;\n        private final long sharedId;\n        private final String someId;\n        private final String code;\n\n        @Setter\n        private List&lt;LocationDTO&gt; locations;\n\n        public EntityDTO(Number id,\n                Number sharedId,\n                String someId,\n                String code) {\n            this.id = id.longValue();\n            this.sharedId = sharedId.longValue();\n            this.someId = someId;\n            this.code = code;\n        }\n    }\n\n    @Getter\n    public class LocationDTO {\n\n        private final long id;\n        private final long newEntityId;\n        private final String city;\n        private final String state;\n        private final String country;\n\n        public LocationDTO(Number id,\n                Number newEntityId,\n                String city,\n                String state,\n                String country) {\n            this.id = id.longValue();\n            this.newEntityId = newEntityId.longValue();\n            this.city = city;\n            this.state = state;\n            this.country = country;\n        }\n\n    }\n    \n</code></pre>\n<p>Instead of using the constructors, you can also use <a href=\"https://www.baeldung.com/jpa-sql-resultset-mapping\" rel=\"nofollow noreferrer\">SqlResultSetMapping</a>.</p>\n<p>Of course, this will still be an expensive operation and you have figured out the batching yourself from the other answers in the answer section.</p>\n<p>This approach of solution should eliminate the additional expensive queries.</p>\n<p>I did not run the process I don't have any data to work with.</p>\n<p>P.S.  Please do try the batching too. The <code>maxResult</code> for the first native query is easy, fetching the corresponding data from the second query will be a little tricky as you can you will need to set the <code>WHERE NEW_ENTITY_ID BETWEEN</code>  MIN AND MAX <code>id</code>s obtained from the first result(should not be very hard as you know how the data are sitting on your database tables).</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":7265249,"reputation":1110,"user_id":5540231,"display_name":"jausen brett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688039453,"creation_date":1687873483,"answer_id":76565517,"question_id":76506703,"body_markdown":"In case you suffer from Entity cache blowing up and processing speed decreasing over time, you might consider to use EntityManager.clear() method.\r\n(Creating lots of Entities is one of the best ways to bring down your system. Use a loop and call the clear method after every couple of some hundred entities to get rid of the Entities you do not need anymore.)\r\n[See also here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13886608/when-to-use-entitymanager-clear","title":"Best way to export a million records formatted as json?","body":"<p>In case you suffer from Entity cache blowing up and processing speed decreasing over time, you might consider to use EntityManager.clear() method.\n(Creating lots of Entities is one of the best ways to bring down your system. Use a loop and call the clear method after every couple of some hundred entities to get rid of the Entities you do not need anymore.)\n<a href=\"https://stackoverflow.com/questions/13886608/when-to-use-entitymanager-clear\">See also here</a></p>\n"}],"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1688039453,"creation_date":1687178220,"question_id":76506703,"body_markdown":"I have a request to export roughly a million records to do a one time migration and I need those records exported in JSON format and adhering to the same api contract object structure we normally expose to this other team. \r\n\r\nThe object I need to expose is composed of data from two tables and I have a conditional in place to limit the resultset from millions to 1 million. \r\n\r\nThe batching logic I have below does the initial fetch then batches them in groups of 1000 and add them to a list that I want to expose eventually. \r\n\r\nService method below: \r\n\r\n    public List&lt;NewEntity&gt; getNewEntities() {\r\n        int i=0;\r\n        int BATCH_SIZE = 1000; \r\n    \r\n        List&lt;Entity&gt; totalEntityList = new ArrayList&lt;&gt;();\r\n        \r\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n            .setFirstResult(i)\r\n            .setMaxResults(BATCH_SIZE).getResultList();\r\n    \r\n        while(entityList.size() == BATCH_SIZE) {\r\n            i+=BATCH_SIZE;\r\n            entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n                .setFirstResult(i)\r\n                .setMaxResults(BATCH_SIZE)\r\n                .getResultList();\r\n            totalEntityList.addAll(entityList);\r\n        }\r\n    \r\n        return totalEntityList.stream()\r\n            .map(entity -&gt; entity.toNewEntity())\r\n            .collect(toList());\r\n    }\r\n\r\nThis process was taking 2.5 (with batch of 1000) and 3.5 hours (with batch of 2000). The first time I ran it, I had a bug where I didn&#39;t save all of them to the list, so I ran it again overnight. I checked in the morning, it took longer and my IDE froze so I don&#39;t know why the request eventually failed with 500 error. I force quit my IDE and trying again now but I won&#39;t know if it works until after 2 to 3 hours. This is very slow. \r\n\r\nIs there a way to improve how I&#39;m doing this? Any other approaches here? \r\n\r\nI&#39;m using Spring Boot, Java, JPA. \r\n\r\nThanks! \r\n\r\nEDIT: UPDATE 2 after adjusting per recommendations from the comments: \r\n\r\n    public void getNewEntities() {\r\n        int i=0;\r\n        int BATCH_SIZE = 1000; \r\n        \r\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n            .setFirstResult(i)\r\n            .setMaxResults(BATCH_SIZE).getResultList();\r\n    \r\n        try{\r\n            FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\r\n            while(entityList.size() == BATCH_SIZE) {\r\n                i+=BATCH_SIZE;\r\n                entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n                    .setFirstResult(i)\r\n                    .setMaxResults(BATCH_SIZE)\r\n                    .getResultList();\r\n                file.write(new Gson().toJson(entityList));\r\n            }\r\n            file.close();\r\n        }\r\n        catch(IOException ex) {\r\n            ex.printStackTrace(); \r\n        };\r\n    }\r\n\r\nIs this a better(correct?) approach? I&#39;m letting it run right now and not sure how long it would take to write 1,000,000 records to JSON file but let me know if this on the right track? Currently, it&#39;s been two hours and it&#39;s only about 450,000 records through!\r\n\r\nUPDATE 3 adding Entity for visibility. I&#39;m assuming now it could be an issue with the mapping to locations where I&#39;m converting it to list at the end. Should I just keep it as a stream instead? Also I obviously have a lot more fields but I removed the ones where it was just a simple column field with no complexity to it. \r\n\r\n    @Builder\r\n    @Getter\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;TABLE_NAME&quot;, schema = &quot;SCHEMA&quot;)\r\n    @NamedQuery(name = SELECT_NEW_ENTITIES, query = FIND_NEW_ENTITIES)\r\n    public class Entity { \r\n    \r\n        public static final String SELECT_NEW_ENTITIES = &quot;SELECT_NEW_ENTITIES&quot;;\r\n    \r\n        protected static final String FIND_NEW_ENTITIES = &quot;&quot; + \r\n            &quot;SELECT a FROM Entity a &quot; + \r\n            &quot;WHERE a.code IS NOT NULL &quot; + \r\n            &quot;AND a.someId IS NOT NULL &quot; +\r\n            &quot;ORDER BY a.id &quot;;\r\n        \r\n        @Id \r\n        @Column(name = &quot;NEW_ENTITY_ID&quot;) \r\n        private Long id;\r\n    \r\n        @Column(name = &quot;SHARED_ID&quot;) \r\n        private Long sharedId;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL) \r\n        @JoinColumn(name = &quot;NEW_ENTITY_ID&quot;)\r\n        @Builder.Default \r\n        private List&lt;Location&gt; locations = new ArrayList&lt;&gt;();\r\n        \r\n        @Formula(value = &quot;(SELECT eng.SOME_ID from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \r\n        private String someId;\r\n        \r\n        @Formula(value = &quot;(SELECT eng.CODE from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \r\n        private String code;\r\n    \r\n        public NewEntity toNewEntity() { \r\n            return NewEntity\r\n            .builder() \r\n            .newEntityId(this.getId())\r\n            .code(code) \r\n            .locations(mapLocations()) \r\n            .build(); \r\n            }\r\n     \r\n        private List&lt;LocationModel&gt; mapLocations() { \r\n            return this.getLocations()\r\n            .stream() \r\n            .map(location -&gt; LocationModel.builder() \r\n                .id(location.getId()) \r\n                .newEntityId(location.getNewEntityId()) \r\n                .city(location.getCity()) \r\n                .state(location.getState()) \r\n                .country(location.getCountry())\r\n                .build()) \r\n            .collect(toList()); \r\n        }\r\n    }\r\n\r\n ","title":"Best way to export a million records formatted as json?","body":"<p>I have a request to export roughly a million records to do a one time migration and I need those records exported in JSON format and adhering to the same api contract object structure we normally expose to this other team.</p>\n<p>The object I need to expose is composed of data from two tables and I have a conditional in place to limit the resultset from millions to 1 million.</p>\n<p>The batching logic I have below does the initial fetch then batches them in groups of 1000 and add them to a list that I want to expose eventually.</p>\n<p>Service method below:</p>\n<pre><code>public List&lt;NewEntity&gt; getNewEntities() {\n    int i=0;\n    int BATCH_SIZE = 1000; \n\n    List&lt;Entity&gt; totalEntityList = new ArrayList&lt;&gt;();\n    \n    List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n        .setFirstResult(i)\n        .setMaxResults(BATCH_SIZE).getResultList();\n\n    while(entityList.size() == BATCH_SIZE) {\n        i+=BATCH_SIZE;\n        entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n            .setFirstResult(i)\n            .setMaxResults(BATCH_SIZE)\n            .getResultList();\n        totalEntityList.addAll(entityList);\n    }\n\n    return totalEntityList.stream()\n        .map(entity -&gt; entity.toNewEntity())\n        .collect(toList());\n}\n</code></pre>\n<p>This process was taking 2.5 (with batch of 1000) and 3.5 hours (with batch of 2000). The first time I ran it, I had a bug where I didn't save all of them to the list, so I ran it again overnight. I checked in the morning, it took longer and my IDE froze so I don't know why the request eventually failed with 500 error. I force quit my IDE and trying again now but I won't know if it works until after 2 to 3 hours. This is very slow.</p>\n<p>Is there a way to improve how I'm doing this? Any other approaches here?</p>\n<p>I'm using Spring Boot, Java, JPA.</p>\n<p>Thanks!</p>\n<p>EDIT: UPDATE 2 after adjusting per recommendations from the comments:</p>\n<pre><code>public void getNewEntities() {\n    int i=0;\n    int BATCH_SIZE = 1000; \n    \n    List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n        .setFirstResult(i)\n        .setMaxResults(BATCH_SIZE).getResultList();\n\n    try{\n        FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\n        while(entityList.size() == BATCH_SIZE) {\n            i+=BATCH_SIZE;\n            entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n                .setFirstResult(i)\n                .setMaxResults(BATCH_SIZE)\n                .getResultList();\n            file.write(new Gson().toJson(entityList));\n        }\n        file.close();\n    }\n    catch(IOException ex) {\n        ex.printStackTrace(); \n    };\n}\n</code></pre>\n<p>Is this a better(correct?) approach? I'm letting it run right now and not sure how long it would take to write 1,000,000 records to JSON file but let me know if this on the right track? Currently, it's been two hours and it's only about 450,000 records through!</p>\n<p>UPDATE 3 adding Entity for visibility. I'm assuming now it could be an issue with the mapping to locations where I'm converting it to list at the end. Should I just keep it as a stream instead? Also I obviously have a lot more fields but I removed the ones where it was just a simple column field with no complexity to it.</p>\n<pre><code>@Builder\n@Getter\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;TABLE_NAME&quot;, schema = &quot;SCHEMA&quot;)\n@NamedQuery(name = SELECT_NEW_ENTITIES, query = FIND_NEW_ENTITIES)\npublic class Entity { \n\n    public static final String SELECT_NEW_ENTITIES = &quot;SELECT_NEW_ENTITIES&quot;;\n\n    protected static final String FIND_NEW_ENTITIES = &quot;&quot; + \n        &quot;SELECT a FROM Entity a &quot; + \n        &quot;WHERE a.code IS NOT NULL &quot; + \n        &quot;AND a.someId IS NOT NULL &quot; +\n        &quot;ORDER BY a.id &quot;;\n    \n    @Id \n    @Column(name = &quot;NEW_ENTITY_ID&quot;) \n    private Long id;\n\n    @Column(name = &quot;SHARED_ID&quot;) \n    private Long sharedId;\n\n    @OneToMany(cascade = CascadeType.ALL) \n    @JoinColumn(name = &quot;NEW_ENTITY_ID&quot;)\n    @Builder.Default \n    private List&lt;Location&gt; locations = new ArrayList&lt;&gt;();\n    \n    @Formula(value = &quot;(SELECT eng.SOME_ID from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \n    private String someId;\n    \n    @Formula(value = &quot;(SELECT eng.CODE from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \n    private String code;\n\n    public NewEntity toNewEntity() { \n        return NewEntity\n        .builder() \n        .newEntityId(this.getId())\n        .code(code) \n        .locations(mapLocations()) \n        .build(); \n        }\n \n    private List&lt;LocationModel&gt; mapLocations() { \n        return this.getLocations()\n        .stream() \n        .map(location -&gt; LocationModel.builder() \n            .id(location.getId()) \n            .newEntityId(location.getNewEntityId()) \n            .city(location.getCity()) \n            .state(location.getState()) \n            .country(location.getCountry())\n            .build()) \n        .collect(toList()); \n    }\n}\n</code></pre>\n"},{"tags":["java","openjdk-11","sdkman"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847075,"post_id":66113251,"comment_id":116887461,"body_markdown":"Why would you want to use a Linux JDK on windows?","body":"Why would you want to use a Linux JDK on windows?"},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847153,"post_id":66113251,"comment_id":116887475,"body_markdown":"our professor said we should use sdkman to download java 11 and I did it using wsl.","body":"our professor said we should use sdkman to download java 11 and I did it using wsl."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847177,"post_id":66113251,"comment_id":116887480,"body_markdown":"i am very confused about that part and if i messed up","body":"i am very confused about that part and if i messed up"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847251,"post_id":66113251,"comment_id":116887505,"body_markdown":"Could it be he meant you should use sdkman only if you are using Linux?","body":"Could it be he meant you should use sdkman only if you are using Linux?"},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847369,"post_id":66113251,"comment_id":116887534,"body_markdown":"is it possible to run sdkman on the windows command prompt?","body":"is it possible to run sdkman on the windows command prompt?"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847436,"post_id":66113251,"comment_id":116887550,"body_markdown":"You will probably not be able to create a user interface and also run into other difficulties when using a Linux JDK under windows. Just install the windows version of whatever JDK he told you to install and use that one in VSCode.","body":"You will probably not be able to create a user interface and also run into other difficulties when using a Linux JDK under windows. Just install the windows version of whatever JDK he told you to install and use that one in VSCode."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847466,"post_id":66113251,"comment_id":116887560,"body_markdown":"i mean I googled it and it said we need WSL..however when I downloaded sdkman and the JDK using sdkman, it gets placed in this \\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java which is not accessible when i try to set the path or something","body":"i mean I googled it and it said we need WSL..however when I downloaded sdkman and the JDK using sdkman, it gets placed in this \\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java which is not accessible when i try to set the path or something"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847657,"post_id":66113251,"comment_id":116887613,"body_markdown":"Just install a windows version of the JDK. Using sdkman on windows will probably give you nothing but trouble.","body":"Just install a windows version of the JDK. Using sdkman on windows will probably give you nothing but trouble."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847718,"post_id":66113251,"comment_id":116887630,"body_markdown":"thats exactly what I am experiencing... TROUBLEE!!","body":"thats exactly what I am experiencing... TROUBLEE!!"},{"owner":{"account_id":3544080,"reputation":324,"user_id":2960486,"accept_rate":40,"display_name":"kenchew"},"score":0,"creation_date":1624695310,"post_id":66113251,"comment_id":120432201,"body_markdown":"Add the sdkman path to java.home in vscode settings.json","body":"Add the sdkman path to java.home in vscode settings.json"},{"owner":{"account_id":1088354,"reputation":2157,"user_id":1083552,"accept_rate":43,"display_name":"Abhinav Kulshreshtha"},"score":0,"creation_date":1651728227,"post_id":66113251,"comment_id":127432831,"body_markdown":"https://code.visualstudio.com/docs/remote/wsl","body":"<a href=\"https://code.visualstudio.com/docs/remote/wsl\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/remote/wsl</a>"}],"answers":[{"tags":[],"owner":{"account_id":1088354,"reputation":2157,"user_id":1083552,"accept_rate":43,"display_name":"Abhinav Kulshreshtha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651728550,"creation_date":1651728550,"answer_id":72122323,"question_id":66113251,"body_markdown":"They now provide a complete extension for connection to wsl. WSL is a separate user-space inside NT kernel. Your VS-Code is running in windows userspace. Hard way to do it would be to remote into your wsl, and configure there. Easy way would be to install vscode inside wsl, because windows now let you install and use linux GUI apps via wsl. Or use the extension they provide, which works on the microsoft build of vscode,( It doesn&#39;t work with non-microsoft binaries of vscode, like code-oss, vscodium etc.)\r\n\r\n\r\nComplete instructions on working with WSL is documented here. \r\nhttps://code.visualstudio.com/docs/remote/wsl","title":"Java JDK VScode issues","body":"<p>They now provide a complete extension for connection to wsl. WSL is a separate user-space inside NT kernel. Your VS-Code is running in windows userspace. Hard way to do it would be to remote into your wsl, and configure there. Easy way would be to install vscode inside wsl, because windows now let you install and use linux GUI apps via wsl. Or use the extension they provide, which works on the microsoft build of vscode,( It doesn't work with non-microsoft binaries of vscode, like code-oss, vscodium etc.)</p>\n<p>Complete instructions on working with WSL is documented here.\n<a href=\"https://code.visualstudio.com/docs/remote/wsl\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/remote/wsl</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688191782,"post_id":76580638,"comment_id":135043863,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76580638/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28918503,"reputation":1,"user_id":22149978,"display_name":"Priyadarshi Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688038421,"creation_date":1688038421,"answer_id":76580638,"question_id":66113251,"body_markdown":" first step\r\n\r\n(- Install java jdk first \r\n     \r\n \r\n - open settings in vs code \r\n - search for &quot;jdk&quot; in settings\r\n - In java Home\r\n - paste the jdk path:- C:\\Program Files\\Java\\jdk-20\\bin\r\n)\r\n\r\n2nd Step\r\n(\r\n- open settings in vs code \r\n - search for &quot;jdk&quot; in settings\r\n - In java Home - settings json -(Open it)\r\nand add\r\n\r\n&quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_161&quot;\r\n\r\n)","title":"Java JDK VScode issues","body":"<p>first step</p>\n<p>(- Install java jdk first</p>\n<ul>\n<li>open settings in vs code</li>\n<li>search for &quot;jdk&quot; in settings</li>\n<li>In java Home</li>\n<li>paste the jdk path:- C:\\Program Files\\Java\\jdk-20\\bin\n)</li>\n</ul>\n<p>2nd Step\n(</p>\n<ul>\n<li>open settings in vs code</li>\n<li>search for &quot;jdk&quot; in settings</li>\n<li>In java Home - settings json -(Open it)\nand add</li>\n</ul>\n<p>&quot;java.home&quot;:&quot;C:\\Program Files\\Java\\jdk1.8.0_161&quot;</p>\n<p>)</p>\n"}],"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688038421,"creation_date":1612846786,"question_id":66113251,"body_markdown":"I installed java jdk using sdkman on my windows machine. I am using wsl for this purpose. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, I need to add this to my VScode and when I look at the installed jdk&#39;s available to me I only see these:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2kK8C.png\r\n  [2]: https://i.stack.imgur.com/ou3eu.png\r\n\r\nThis does not display the JDK I installed using sdkman which is located in the folder `\\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java`. I do not know how to direct my `JAVA_HOME` variable to this location. \r\n","title":"Java JDK VScode issues","body":"<p>I installed java jdk using sdkman on my windows machine. I am using wsl for this purpose.</p>\n<p><a href=\"https://i.stack.imgur.com/2kK8C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kK8C.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I need to add this to my VScode and when I look at the installed jdk's available to me I only see these:</p>\n<p><a href=\"https://i.stack.imgur.com/ou3eu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ou3eu.png\" alt=\"enter image description here\" /></a></p>\n<p>This does not display the JDK I installed using sdkman which is located in the folder <code>\\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java</code>. I do not know how to direct my <code>JAVA_HOME</code> variable to this location.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":4573453,"reputation":89,"user_id":3712541,"display_name":"blaze9"},"score":0,"creation_date":1636021361,"post_id":53181491,"comment_id":123448679,"body_markdown":"Did you find out what is the best practice?","body":"Did you find out what is the best practice?"},{"owner":{"account_id":12316529,"reputation":841,"user_id":8995555,"display_name":"RukshanJS"},"score":0,"creation_date":1667726461,"post_id":53181491,"comment_id":131231444,"body_markdown":"This seems to be a very trivial requirement, but couldn&#39;t find any viable solution still.  https://www.baeldung.com/spring-rest-json-patch uses json patch for this and it works. Only downside is that the request needs to be `application/json-patch+json` which is not very REST-friendly for a PATCH in my opinion.","body":"This seems to be a very trivial requirement, but couldn&#39;t find any viable solution still.  <a href=\"https://www.baeldung.com/spring-rest-json-patch\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-json-patch</a> uses json patch for this and it works. Only downside is that the request needs to be <code>application&#47;json-patch+json</code> which is not very REST-friendly for a PATCH in my opinion."}],"answers":[{"comments":[{"owner":{"account_id":8755393,"reputation":217,"user_id":6547145,"accept_rate":20,"display_name":"qwertyqwerty"},"score":5,"creation_date":1541631103,"post_id":53181621,"comment_id":93286742,"body_markdown":"Thanks, but in the blog example, the CustomerPatchRequest is specific to just the city and the country.  If i wanted to do firstName and lastname, this would mean a different request object and a different endpoint, which I want to avoid","body":"Thanks, but in the blog example, the CustomerPatchRequest is specific to just the city and the country.  If i wanted to do firstName and lastname, this would mean a different request object and a different endpoint, which I want to avoid"}],"tags":[],"owner":{"account_id":10207558,"reputation":76,"user_id":7535818,"display_name":"bayrem404"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541546883,"creation_date":1541546883,"answer_id":53181621,"question_id":53181491,"body_markdown":"HTTP PATCH is a nice way to update a resource by specifying only the properties that have changed.\r\nThe following [blog][1] explain it very well \r\n\r\n\r\n  [1]: https://www.infoworld.com/article/3206264/application-development/how-to-perform-partial-updates-to-rest-web-api-resources.html","title":"Spring boot - partial update best practise?","body":"<p>HTTP PATCH is a nice way to update a resource by specifying only the properties that have changed.\nThe following <a href=\"https://www.infoworld.com/article/3206264/application-development/how-to-perform-partial-updates-to-rest-web-api-resources.html\" rel=\"nofollow noreferrer\">blog</a> explain it very well </p>\n"},{"comments":[{"owner":{"account_id":8755393,"reputation":217,"user_id":6547145,"accept_rate":20,"display_name":"qwertyqwerty"},"score":2,"creation_date":1541631158,"post_id":53182218,"comment_id":93286759,"body_markdown":"How does this help exactly?  This is the model update but I was asking about how to expose the end points and request object(s)","body":"How does this help exactly?  This is the model update but I was asking about how to expose the end points and request object(s)"},{"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"score":0,"creation_date":1541635092,"post_id":53182218,"comment_id":93287885,"body_markdown":"You could just use one endpoint with `PUT` and pass in the model for the persistent service which uses the above strategies.","body":"You could just use one endpoint with <code>PUT</code> and pass in the model for the persistent service which uses the above strategies."}],"tags":[],"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1541551664,"creation_date":1541551664,"answer_id":53182218,"question_id":53181491,"body_markdown":"If you are using Spring Data MongoDB, you have two options either use the [MongoDB Repository][1] or using the [MongoTemplate][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo.repositories\r\n  [2]: https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo-template.save-update-remove","title":"Spring boot - partial update best practise?","body":"<p>If you are using Spring Data MongoDB, you have two options either use the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo.repositories\" rel=\"nofollow noreferrer\">MongoDB Repository</a> or using the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo-template.save-update-remove\" rel=\"nofollow noreferrer\">MongoTemplate</a>.</p>\n"},{"comments":[{"owner":{"account_id":12316529,"reputation":841,"user_id":8995555,"display_name":"RukshanJS"},"score":1,"creation_date":1667726227,"post_id":57755616,"comment_id":131231408,"body_markdown":"While this works, I don&#39;t think this is a good practice because what if there are about 50 fields? Should we `if` check all these 50 fields?","body":"While this works, I don&#39;t think this is a good practice because what if there are about 50 fields? Should we <code>if</code> check all these 50 fields?"},{"owner":{"account_id":15635926,"reputation":174,"user_id":11280799,"display_name":"Aman"},"score":1,"creation_date":1676292625,"post_id":57755616,"comment_id":133101745,"body_markdown":"good approach, only drawback is to make field null. if i want to make field to null then it will keep old value.","body":"good approach, only drawback is to make field null. if i want to make field to null then it will keep old value."}],"tags":[],"owner":{"account_id":5779604,"reputation":103,"user_id":4560682,"display_name":"Farai Mugaviri"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567421289,"creation_date":1567421289,"answer_id":57755616,"question_id":53181491,"body_markdown":"You can actually expose just one endpoint. This is the situation I had a few months ago:\r\n\r\nI wanted people to modify any (or even all)fields of a Projects document (who am I to force the users to manually supply all fields lol). So I have my Model,\r\nProject.java: \r\n\r\n\r\n    package com.foxxmg.jarvisbackend.models;\r\n    //imports\r\n    \r\n    @Document(collection = &quot;Projects&quot;)\r\n    public class Project {\r\n        @Id\r\n        public String id;\r\n        public String projectTitle;\r\n        public String projectOverview;\r\n        public Date startDate;\r\n        public Date endDate;\r\n        public List&lt;String&gt; assignedTo;\r\n        public String progress;\r\n    \r\n       //constructors\r\n    \r\n        //getters &amp; setters\r\n    }\r\n\r\n\r\nI have my repository:\r\n\r\nProjectRepository.java\r\n\r\n   \r\n\r\n     package com.foxxmg.jarvisbackend.repositories;\r\n    //imports\r\n          \r\n        @Repository\r\n        public interface ProjectRepository extends MongoRepository&lt;Project, String&gt;, QuerydslPredicateExecutor&lt;Project&gt; {\r\n    //please note, we are going to use findById(string) method for updating\r\n            Project findByid(String id);\r\n    //other abstract methods \r\n        \r\n        \r\n        }\r\n\r\nNow to my Controller, ProjectController.java:\r\n\r\n  \r\n\r\n    package com.foxxmg.jarvisbackend.controllers;\r\n            //import\r\n\r\n            @RestController\r\n            @RequestMapping(&quot;/projects&quot;)\r\n            @CrossOrigin(&quot;*&quot;)\r\n            public class ProjectController {\r\n                @Autowired\r\n                private ProjectRepository projectRepository;\r\n                \r\n        @PutMapping(&quot;update/{id}&quot;)\r\n            public ResponseEntity&lt;Project&gt; update(@PathVariable(&quot;id&quot;) String id, @RequestBody Project project) {\r\n                Optional&lt;Project&gt; optionalProject = projectRepository.findById(id);\r\n                if (optionalProject.isPresent()) {\r\n                    Project p = optionalProject.get();\r\n                    if (project.getProjectTitle() != null)\r\n                        p.setProjectTitle(project.getProjectTitle());\r\n                    if (project.getProjectOverview() != null)\r\n                        p.setProjectOverview(project.getProjectOverview());\r\n                    if (project.getStartDate() != null)\r\n                        p.setStartDate(project.getStartDate());\r\n                    if (project.getEndDate() != null)\r\n                        p.setEndDate(project.getEndDate());\r\n                    if (project.getAssignedTo() != null)\r\n                        p.setAssignedTo(project.getAssignedTo());\r\n                    return new ResponseEntity&lt;&gt;(projectRepository.save(p), HttpStatus.OK);\r\n                } else\r\n                    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n            }\r\n         }\r\n\r\nThat will allow partial update in MongoDB with Spring Boot.\r\n\r\n","title":"Spring boot - partial update best practise?","body":"<p>You can actually expose just one endpoint. This is the situation I had a few months ago:</p>\n\n<p>I wanted people to modify any (or even all)fields of a Projects document (who am I to force the users to manually supply all fields lol). So I have my Model,\nProject.java: </p>\n\n<pre><code>package com.foxxmg.jarvisbackend.models;\n//imports\n\n@Document(collection = \"Projects\")\npublic class Project {\n    @Id\n    public String id;\n    public String projectTitle;\n    public String projectOverview;\n    public Date startDate;\n    public Date endDate;\n    public List&lt;String&gt; assignedTo;\n    public String progress;\n\n   //constructors\n\n    //getters &amp; setters\n}\n</code></pre>\n\n<p>I have my repository:</p>\n\n<p>ProjectRepository.java</p>\n\n<pre><code> package com.foxxmg.jarvisbackend.repositories;\n//imports\n\n    @Repository\n    public interface ProjectRepository extends MongoRepository&lt;Project, String&gt;, QuerydslPredicateExecutor&lt;Project&gt; {\n//please note, we are going to use findById(string) method for updating\n        Project findByid(String id);\n//other abstract methods \n\n\n    }\n</code></pre>\n\n<p>Now to my Controller, ProjectController.java:</p>\n\n<pre><code>package com.foxxmg.jarvisbackend.controllers;\n        //import\n\n        @RestController\n        @RequestMapping(\"/projects\")\n        @CrossOrigin(\"*\")\n        public class ProjectController {\n            @Autowired\n            private ProjectRepository projectRepository;\n\n    @PutMapping(\"update/{id}\")\n        public ResponseEntity&lt;Project&gt; update(@PathVariable(\"id\") String id, @RequestBody Project project) {\n            Optional&lt;Project&gt; optionalProject = projectRepository.findById(id);\n            if (optionalProject.isPresent()) {\n                Project p = optionalProject.get();\n                if (project.getProjectTitle() != null)\n                    p.setProjectTitle(project.getProjectTitle());\n                if (project.getProjectOverview() != null)\n                    p.setProjectOverview(project.getProjectOverview());\n                if (project.getStartDate() != null)\n                    p.setStartDate(project.getStartDate());\n                if (project.getEndDate() != null)\n                    p.setEndDate(project.getEndDate());\n                if (project.getAssignedTo() != null)\n                    p.setAssignedTo(project.getAssignedTo());\n                return new ResponseEntity&lt;&gt;(projectRepository.save(p), HttpStatus.OK);\n            } else\n                return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n     }\n</code></pre>\n\n<p>That will allow partial update in MongoDB with Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688038063,"creation_date":1688037680,"answer_id":76580553,"question_id":53181491,"body_markdown":"If you are using Mapstruct then this blog is very helpful \r\nhttps://cassiomolin.com/2019/06/10/using-http-patch-in-spring/\r\n\r\nthe idea is simple,\r\n- You load the entity from DB\r\n- You convert that entity to dto same type as the payload sent in the API request\r\n- Then you apply merge/patch operation on the payload &amp; the converted dto from last step [utlity included]\r\n- The output is merged dto\r\n- You convert that merged dto to the entity\r\n- You save the entity\r\n\r\n\r\n\r\nexample from the blog:\r\n\r\n    @PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json-patch+json&quot;)\r\n    public ResponseEntity&lt;Void&gt; updateContact(@PathVariable Long id,\r\n                                              @RequestBody JsonPatch patchDocument) {\r\n    \r\n        // Find the domain model that will be patched\r\n        Contact contact = contactService.findContact(id).orElseThrow(ResourceNotFoundException::new);\r\n        \r\n        // Map the domain model to an API resource model\r\n        ContactResourceInput contactResource = contactMapper.asContactResourceInput(contact);\r\n        \r\n        // Apply the patch to the API resource model\r\n        ContactResourceInput contactResourcePatched = patch(patchDocument, contactResource, ContactResourceInput.class);\r\n    \r\n         // Update the domain model with the details from the API resource model\r\n        contactMapper.update(contactResourcePatched, contact);\r\n        \r\n        // Persist the changes\r\n        contactService.updateContact(contact);\r\n    \r\n        // Return 204 to indicate the request has succeeded\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n\r\nP.S Using mapstruct you will have an easy control on properties mapping, map something to something else or even ignore, this is beneficial if you have a `customerId` long type and you want to map it to `customer`\r\n","title":"Spring boot - partial update best practise?","body":"<p>If you are using Mapstruct then this blog is very helpful\n<a href=\"https://cassiomolin.com/2019/06/10/using-http-patch-in-spring/\" rel=\"nofollow noreferrer\">https://cassiomolin.com/2019/06/10/using-http-patch-in-spring/</a></p>\n<p>the idea is simple,</p>\n<ul>\n<li>You load the entity from DB</li>\n<li>You convert that entity to dto same type as the payload sent in the API request</li>\n<li>Then you apply merge/patch operation on the payload &amp; the converted dto from last step [utlity included]</li>\n<li>The output is merged dto</li>\n<li>You convert that merged dto to the entity</li>\n<li>You save the entity</li>\n</ul>\n<p>example from the blog:</p>\n<pre><code>@PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json-patch+json&quot;)\npublic ResponseEntity&lt;Void&gt; updateContact(@PathVariable Long id,\n                                          @RequestBody JsonPatch patchDocument) {\n\n    // Find the domain model that will be patched\n    Contact contact = contactService.findContact(id).orElseThrow(ResourceNotFoundException::new);\n    \n    // Map the domain model to an API resource model\n    ContactResourceInput contactResource = contactMapper.asContactResourceInput(contact);\n    \n    // Apply the patch to the API resource model\n    ContactResourceInput contactResourcePatched = patch(patchDocument, contactResource, ContactResourceInput.class);\n\n     // Update the domain model with the details from the API resource model\n    contactMapper.update(contactResourcePatched, contact);\n    \n    // Persist the changes\n    contactService.updateContact(contact);\n\n    // Return 204 to indicate the request has succeeded\n    return ResponseEntity.noContent().build();\n}\n</code></pre>\n<p>P.S Using mapstruct you will have an easy control on properties mapping, map something to something else or even ignore, this is beneficial if you have a <code>customerId</code> long type and you want to map it to <code>customer</code></p>\n"}],"owner":{"account_id":8755393,"reputation":217,"user_id":6547145,"accept_rate":20,"display_name":"qwertyqwerty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9044,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1688038063,"creation_date":1541546055,"question_id":53181491,"body_markdown":"I am using Spring boot v2 with mongo database.  I was wondering what is the best way to do partial updates on the data model.  Say I have a model with x attributes, depending on the request I may only want to update 1, 2, or x of them attributes. Should I be exposing an endpoint for each type of update operation, or is it possible to expose one endpoint and do it in a generic way? Note I will need to be able to validate the contents of the request attributes (e.g tel. no. must be numbers only)\r\n\r\nThanks,","title":"Spring boot - partial update best practise?","body":"<p>I am using Spring boot v2 with mongo database.  I was wondering what is the best way to do partial updates on the data model.  Say I have a model with x attributes, depending on the request I may only want to update 1, 2, or x of them attributes. Should I be exposing an endpoint for each type of update operation, or is it possible to expose one endpoint and do it in a generic way? Note I will need to be able to validate the contents of the request attributes (e.g tel. no. must be numbers only)</p>\n<p>Thanks,</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688040437,"post_id":76580588,"comment_id":135022053,"body_markdown":"No it isn&#39;t. 2.7 is JavaEE, 3.0 is JakartaEE and those aren&#39;t compatible.","body":"No it isn&#39;t. 2.7 is JavaEE, 3.0 is JakartaEE and those aren&#39;t compatible."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688045615,"post_id":76580588,"comment_id":135023255,"body_markdown":"This is exactly one of the big (if not biggest) breaking changes when going from 2.7 to 3.0. Spring Boot 2.7 uses JakartaEE 8 / Java EE 8, while 3.0 uses JakartaEE 9. and the big breaking change with JakartaEE 9 is moving a lot of libraries from the `javax.*` namespace to `jakarta.*` namespace.","body":"This is exactly one of the big (if not biggest) breaking changes when going from 2.7 to 3.0. Spring Boot 2.7 uses JakartaEE 8 / Java EE 8, while 3.0 uses JakartaEE 9. and the big breaking change with JakartaEE 9 is moving a lot of libraries from the <code>javax.*</code> namespace to <code>jakarta.*</code> namespace."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688048725,"post_id":76580588,"comment_id":135024036,"body_markdown":"@Saintka did you try first reading the release notes of Spring Boot 3.0 and the migration guide? You are expected to investigate before trying to open a question here. Please read https://stackoverflow.com/help/how-to-ask (topic Search, and research).","body":"@Saintka did you try first reading the release notes of Spring Boot 3.0 and the migration guide? You are expected to investigate before trying to open a question here. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> (topic Search, and research)."}],"owner":{"account_id":19582383,"reputation":33,"user_id":14331146,"display_name":"Saintka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688037991,"creation_date":1688037991,"question_id":76580588,"body_markdown":"There are two applications, first application work on Spring Boot 3.x, second application work on Spring Boot 2.7.x, from the second apllication pull dependensys which contains `Entity` at run Spring Boot 3.x application i get eror `Not a managed type`, firs case use `javax`, second case use `jakarta`.\r\nIs it possible to Spring Boot 3.x use `Entity` which use Spring Boot 2.7.x?","title":"Compatibility Spring Boot 3.x and Spring Boot 2.7.x?","body":"<p>There are two applications, first application work on Spring Boot 3.x, second application work on Spring Boot 2.7.x, from the second apllication pull dependensys which contains <code>Entity</code> at run Spring Boot 3.x application i get eror <code>Not a managed type</code>, firs case use <code>javax</code>, second case use <code>jakarta</code>.\nIs it possible to Spring Boot 3.x use <code>Entity</code> which use Spring Boot 2.7.x?</p>\n"},{"tags":["java","spring-boot","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688036194,"post_id":76580106,"comment_id":135021172,"body_markdown":"The Spring way is to annotate the method with `@Transactional`. As an aside, if you&#39;re using JDBC directly, then the proper way is to use `connection.setAutoCommit(false)`, the driver will then automatically start a transaction when it needs to, and you would then commit with `connection.commit()`. You should not use this type of statements (e.g. `BEGIN`) to configure transactional behaviour as it may result in incorrect behaviour because the driver may not track those statements and still think it is in auto-commit mode.","body":"The Spring way is to annotate the method with <code>@Transactional</code>. As an aside, if you&#39;re using JDBC directly, then the proper way is to use <code>connection.setAutoCommit(false)</code>, the driver will then automatically start a transaction when it needs to, and you would then commit with <code>connection.commit()</code>. You should not use this type of statements (e.g. <code>BEGIN</code>) to configure transactional behaviour as it may result in incorrect behaviour because the driver may not track those statements and still think it is in auto-commit mode."},{"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"score":0,"creation_date":1688037112,"post_id":76580106,"comment_id":135021362,"body_markdown":"@MarkRotteveel Yes, I&#39;m using `@Transactional` and `TransactionTemplate`, but I want to start transaction explicitly. Because I use ProxySQL as database proxy who not support implicit transaction, You can see detail reason here: https://planet.mysql.com/entry/?id=5997899","body":"@MarkRotteveel Yes, I&#39;m using <code>@Transactional</code> and <code>TransactionTemplate</code>, but I want to start transaction explicitly. Because I use ProxySQL as database proxy who not support implicit transaction, You can see detail reason here: <a href=\"https://planet.mysql.com/entry/?id=5997899\" rel=\"nofollow noreferrer\">planet.mysql.com/entry/?id=5997899</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688037572,"post_id":76580106,"comment_id":135021459,"body_markdown":"That is pertinent information which you should include in your question itself. Also, implicit transaction start is something JDBC requires of a driver, but a driver implementation can send an explicit transaction start, so one does not preclude the other.","body":"That is pertinent information which you should include in your question itself. Also, implicit transaction start is something JDBC requires of a driver, but a driver implementation can send an explicit transaction start, so one does not preclude the other."},{"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"score":0,"creation_date":1688039917,"post_id":76580106,"comment_id":135021922,"body_markdown":"@MarkRotteveel Thanks a lot, I re-edit this question. But I wonder how to send an explicit transaction start In Spring transaction? Could you plz give me some information or demo code?","body":"@MarkRotteveel Thanks a lot, I re-edit this question. But I wonder how to send an explicit transaction start In Spring transaction? Could you plz give me some information or demo code?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688041240,"post_id":76580106,"comment_id":135022237,"body_markdown":"Formally, you can&#39;t, because neither JDBC, and by extension, Spring support explicit transaction starts. If the JDBC driver you use doesn&#39;t itself send explicit transaction starts when it needs to, you will need to find or write one that does.","body":"Formally, you can&#39;t, because neither JDBC, and by extension, Spring support explicit transaction starts. If the JDBC driver you use doesn&#39;t itself send explicit transaction starts when it needs to, you will need to find or write one that does."}],"answers":[{"tags":[],"owner":{"account_id":26826260,"reputation":1,"user_id":20414858,"display_name":"dany0140"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688036354,"creation_date":1688036354,"answer_id":76580408,"question_id":76580106,"body_markdown":"I read up on this on baeldung recently, I think your exact answer is provided here -&gt;\r\nhttps://www.baeldung.com/spring-transactions-read-only#2-jpaspring\r\n\r\nYou can either let Spring take over the transaction handling with the `@Transactional` annotation, or use the annotation `@EnableJpaRepositories(enableDefaultTransactions = false)` if you want to manually decide where Transactions should be handeled.","title":"How to make transaction SQL queries explicitly in Spring framework?","body":"<p>I read up on this on baeldung recently, I think your exact answer is provided here -&gt;\n<a href=\"https://www.baeldung.com/spring-transactions-read-only#2-jpaspring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-transactions-read-only#2-jpaspring</a></p>\n<p>You can either let Spring take over the transaction handling with the <code>@Transactional</code> annotation, or use the annotation <code>@EnableJpaRepositories(enableDefaultTransactions = false)</code> if you want to manually decide where Transactions should be handeled.</p>\n"}],"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688037517,"creation_date":1688033725,"question_id":76580106,"body_markdown":"Just like this\r\n```\r\nSET autocommit=0;\r\nBEGIN;\r\n...\r\n```\r\nBut I found that in Spring(or JDBC) transaction queries not have `BEGIN`;\r\n\r\nHow to make SQL query start transaction explicitly in Spring framework transaction?\r\n\r\n```\r\nSET autocommit=0;\r\nBEGIN;\r\n...\r\n```\r\nThe reason why I want to start transaction explicitly is I&#39;m using ProxySQL as database proxy service. But there are some problems not friendly support to implicity transaction https://planet.mysql.com/entry/?id=5997899\r\n","title":"How to make transaction SQL queries explicitly in Spring framework?","body":"<p>Just like this</p>\n<pre><code>SET autocommit=0;\nBEGIN;\n...\n</code></pre>\n<p>But I found that in Spring(or JDBC) transaction queries not have <code>BEGIN</code>;</p>\n<p>How to make SQL query start transaction explicitly in Spring framework transaction?</p>\n<pre><code>SET autocommit=0;\nBEGIN;\n...\n</code></pre>\n<p>The reason why I want to start transaction explicitly is I'm using ProxySQL as database proxy service. But there are some problems not friendly support to implicity transaction <a href=\"https://planet.mysql.com/entry/?id=5997899\" rel=\"nofollow noreferrer\">https://planet.mysql.com/entry/?id=5997899</a></p>\n"},{"tags":["java","recursion","tree","traversal","postorder"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1687992565,"post_id":76577103,"comment_id":135015837,"body_markdown":"What is the type of the list? A list of strings or some custom type? Did I get it right you basically want to filter out the nulls?","body":"What is the type of the list? A list of strings or some custom type? Did I get it right you basically want to filter out the nulls?"},{"owner":{"account_id":22158798,"reputation":105,"user_id":16406115,"display_name":"Bal&#225;zs Patai"},"score":0,"creation_date":1687992857,"post_id":76577103,"comment_id":135015866,"body_markdown":"The list is made of a custom type. The nulls should not be present in the desired outcome, but it determines the hierarchy among the elements.","body":"The list is made of a custom type. The nulls should not be present in the desired outcome, but it determines the hierarchy among the elements."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1688021665,"post_id":76577103,"comment_id":135018318,"body_markdown":"Please provide your code attempt, including code that creates the example tree.","body":"Please provide your code attempt, including code that creates the example tree."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688032969,"creation_date":1688032969,"answer_id":76580015,"question_id":76577103,"body_markdown":"You write:\r\n\r\n&gt; now I would like to go through the the elements in postorder manner\r\n\r\nIf you don&#39;t intend to include the `null` items, then it wouldn&#39;t make any difference if you went through the elements in pre-order, in-order or post-order manner: the output will be the same.\r\n\r\nThe binary tree you describe is a *full* binary tree with no data in the internal nodes. The difference between traversal orders like pre-order, in-order and post-order, is when **internal** nodes are visited:\r\n\r\n* &quot;pre&quot; refers to *first* visiting an internal node, then its children,\r\n* &quot;in&quot; refers to visiting an internal node *in between* the visits of its left and right children,\r\n* &quot;post&quot; refers to visiting an internal node *after* having visited its children.\r\n\r\nBut this does not affect the relative order in which they visit leaf nodes, because they all visit a node&#39;s left child before its right child! The order of the leaf visits is the same for all three traversals.\r\n\r\n### Example\r\n\r\nYour example was a bit small, so here is a less trivial example, where I have temporarily labeled the internal nodes with numbers:\r\n\r\n```none\r\n                             _______1______ \r\n                            /              \\\r\n                         __2__              6\r\n                        /     \\            / \\\r\n                       3       5          7   I\r\n                      / \\     / \\        / \\\r\n                     A   4   D   E      8   H\r\n                        / \\            / \\\r\n                       B   C          F   G\r\n```\r\n\r\nHere are the traversals for this tree:\r\n\r\n```\r\nPre-order:  1 2 3 A 4 B C 5 D E 6 7 8 F G H I\r\nIn-order:   A 3 B 4 C 2 D 5 E 1 F 8 G 7 H 6 I\r\nPost-order: A B C 4 3 D E 5 2 F G 8 H 7 I 6 1\r\n```\r\n\r\nIf we now remove the labels of the internal nodes, and just keep the data, we see all these traversals have the same order for that data:\r\n\r\n```\r\nPre-order:  A B C D E F G H I\r\nIn-order:   A B C D E F G H I\r\nPost-order: A B C D E F G H I\r\n```\r\n\r\n### Algorithm\r\n\r\nThe algorithm to make the traversal can use recursion or an explicit stack. I went with the second option. Here I have defined the data as strings, but it would be similar for any other data type:\r\n\r\n```\r\n    static List&lt;String&gt; collectLeaves(String[][] tree) {\r\n        List&lt;String&gt; output = new ArrayList&lt;&gt;();\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        stack.push(null);\r\n        for (var pair : tree) {\r\n            stack.push(pair[1]);\r\n            stack.push(pair[0]);\r\n            while (stack.peek() != null) {\r\n                output.add(stack.pop()); // data\r\n            }\r\n            stack.pop(); // null\r\n        }\r\n        return output;\r\n    }\r\n```\r\n\r\nAnd here is some code to define the example as input and use the above function:\r\n\r\n```\r\n        String[][] input = {\r\n            {null, null}, {null, null}, {&quot;A&quot;, null}, {&quot;B&quot;, &quot;C&quot;},\r\n            {&quot;D&quot;, &quot;E&quot;}, {null, &quot;I&quot;}, {null, &quot;H&quot;}, {&quot;F&quot;, &quot;G&quot;},\r\n        };\r\n        var output = collectLeaves(input);\r\n        for (var item : output) {\r\n            System.out.print(item + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nA B C D E F G H I\r\n```\r\n","title":"How to traverse a list in postorder manner which was made in preorder?","body":"<p>You write:</p>\n<blockquote>\n<p>now I would like to go through the the elements in postorder manner</p>\n</blockquote>\n<p>If you don't intend to include the <code>null</code> items, then it wouldn't make any difference if you went through the elements in pre-order, in-order or post-order manner: the output will be the same.</p>\n<p>The binary tree you describe is a <em>full</em> binary tree with no data in the internal nodes. The difference between traversal orders like pre-order, in-order and post-order, is when <strong>internal</strong> nodes are visited:</p>\n<ul>\n<li>&quot;pre&quot; refers to <em>first</em> visiting an internal node, then its children,</li>\n<li>&quot;in&quot; refers to visiting an internal node <em>in between</em> the visits of its left and right children,</li>\n<li>&quot;post&quot; refers to visiting an internal node <em>after</em> having visited its children.</li>\n</ul>\n<p>But this does not affect the relative order in which they visit leaf nodes, because they all visit a node's left child before its right child! The order of the leaf visits is the same for all three traversals.</p>\n<h3>Example</h3>\n<p>Your example was a bit small, so here is a less trivial example, where I have temporarily labeled the internal nodes with numbers:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                             _______1______ \n                            /              \\\n                         __2__              6\n                        /     \\            / \\\n                       3       5          7   I\n                      / \\     / \\        / \\\n                     A   4   D   E      8   H\n                        / \\            / \\\n                       B   C          F   G\n</code></pre>\n<p>Here are the traversals for this tree:</p>\n<pre><code>Pre-order:  1 2 3 A 4 B C 5 D E 6 7 8 F G H I\nIn-order:   A 3 B 4 C 2 D 5 E 1 F 8 G 7 H 6 I\nPost-order: A B C 4 3 D E 5 2 F G 8 H 7 I 6 1\n</code></pre>\n<p>If we now remove the labels of the internal nodes, and just keep the data, we see all these traversals have the same order for that data:</p>\n<pre><code>Pre-order:  A B C D E F G H I\nIn-order:   A B C D E F G H I\nPost-order: A B C D E F G H I\n</code></pre>\n<h3>Algorithm</h3>\n<p>The algorithm to make the traversal can use recursion or an explicit stack. I went with the second option. Here I have defined the data as strings, but it would be similar for any other data type:</p>\n<pre><code>    static List&lt;String&gt; collectLeaves(String[][] tree) {\n        List&lt;String&gt; output = new ArrayList&lt;&gt;();\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n        stack.push(null);\n        for (var pair : tree) {\n            stack.push(pair[1]);\n            stack.push(pair[0]);\n            while (stack.peek() != null) {\n                output.add(stack.pop()); // data\n            }\n            stack.pop(); // null\n        }\n        return output;\n    }\n</code></pre>\n<p>And here is some code to define the example as input and use the above function:</p>\n<pre><code>        String[][] input = {\n            {null, null}, {null, null}, {&quot;A&quot;, null}, {&quot;B&quot;, &quot;C&quot;},\n            {&quot;D&quot;, &quot;E&quot;}, {null, &quot;I&quot;}, {null, &quot;H&quot;}, {&quot;F&quot;, &quot;G&quot;},\n        };\n        var output = collectLeaves(input);\n        for (var item : output) {\n            System.out.print(item + &quot; &quot;);\n        }\n        System.out.println();\n</code></pre>\n<p>Output:</p>\n<pre><code>A B C D E F G H I\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1688037633,"post_id":76580525,"comment_id":135021469,"body_markdown":"This will not give the correct order for some other trees. For example `[[null,C],[A,B]]` represents a tree where the left subtree has A and B leaves, and the right subtree just C. The requested postorder sequence would need to be A B C, not C A B.","body":"This will not give the correct order for some other trees. For example <code>[[null,C],[A,B]]</code> represents a tree where the left subtree has A and B leaves, and the right subtree just C. The requested postorder sequence would need to be A B C, not C A B."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688037376,"creation_date":1688037376,"answer_id":76580525,"question_id":76577103,"body_markdown":"This produces the results you&#39;ve posted:\r\n\r\n    List&lt;List&lt;String&gt;&gt; input = ...;\r\n    List&lt;String&gt; result = input.stream()\r\n      .flatMap(List::stream)\r\n      .filter(Objects::nonNull)\r\n      .collect(toList());","title":"How to traverse a list in postorder manner which was made in preorder?","body":"<p>This produces the results you've posted:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; input = ...;\nList&lt;String&gt; result = input.stream()\n  .flatMap(List::stream)\n  .filter(Objects::nonNull)\n  .collect(toList());\n</code></pre>\n"}],"owner":{"account_id":22158798,"reputation":105,"user_id":16406115,"display_name":"Bal&#225;zs Patai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580015,"answer_count":2,"score":0,"last_activity_date":1688037376,"creation_date":1687991769,"question_id":76577103,"body_markdown":"In java I have a list where each element consist of a leftName and rightName. If the left or rightName is null it indicates that it has an another leaf/node (if both of them are null they have 2 leaves). The list was made from a tree in preorder traversal, and now I would like to go through the the elements in postorder manner.\r\n\r\nOther from the null-s you can not really know the order of the list by looking at the text. (In the case of ordered numbers it would be much easier).\r\n\r\n\r\n&gt; Example for the list: \r\n&gt; [[null,null],[something1,something2],[otherthing1,otherthing2]]\r\n&gt; \r\n&gt; Desired output\r\n&gt; \r\n&gt; something1,something2,otherthing1,otherthing2\r\n&gt; \r\n&gt; Another example for the list: \r\n&gt; [[something,null],[other,secondOther],[otherthing1,otherthing2]]\r\n&gt; \r\n&gt; Desired output\r\n&gt; \r\n&gt; something, other, secondother, otherthing1, otherthing2\r\n\r\nI have managed to correctly traverse through the whole left side of the list, but finding the index of the last element in the left side is hard for me. (If you know this number dynamically you can process the right side of the tree).\r\n\r\nThanks for the help in advance!","title":"How to traverse a list in postorder manner which was made in preorder?","body":"<p>In java I have a list where each element consist of a leftName and rightName. If the left or rightName is null it indicates that it has an another leaf/node (if both of them are null they have 2 leaves). The list was made from a tree in preorder traversal, and now I would like to go through the the elements in postorder manner.</p>\n<p>Other from the null-s you can not really know the order of the list by looking at the text. (In the case of ordered numbers it would be much easier).</p>\n<blockquote>\n<p>Example for the list:\n[[null,null],[something1,something2],[otherthing1,otherthing2]]</p>\n<p>Desired output</p>\n<p>something1,something2,otherthing1,otherthing2</p>\n<p>Another example for the list:\n[[something,null],[other,secondOther],[otherthing1,otherthing2]]</p>\n<p>Desired output</p>\n<p>something, other, secondother, otherthing1, otherthing2</p>\n</blockquote>\n<p>I have managed to correctly traverse through the whole left side of the list, but finding the index of the last element in the left side is hard for me. (If you know this number dynamically you can process the right side of the tree).</p>\n<p>Thanks for the help in advance!</p>\n"},{"tags":["java","polymorphism","upcasting","run-time-polymorphism"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1565803159,"post_id":57499266,"comment_id":101468147,"body_markdown":"Your code is great example of polymorphism, which will execute the subclass method even on an object typed as the superclass.","body":"Your code is great example of polymorphism, which will execute the subclass method even on an object typed as the superclass."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1565803371,"post_id":57499266,"comment_id":101468229,"body_markdown":"Just because you call it something else doesn&#39;t actually change the underlying object in memory. This is how it should be, otherwise you&#39;d break a fairly large sect of programming paradigms (LSP in particular). `Upcasting` is actually a bit of a nonsense phrase that I&#39;m guilty of having used in the past myself","body":"Just because you call it something else doesn&#39;t actually change the underlying object in memory. This is how it should be, otherwise you&#39;d break a fairly large sect of programming paradigms (LSP in particular). <code>Upcasting</code> is actually a bit of a nonsense phrase that I&#39;m guilty of having used in the past myself"},{"owner":{"display_name":"user10762593"},"score":0,"creation_date":1565838346,"post_id":57499266,"comment_id":101477314,"body_markdown":"The cast ```(Tree)``` is not even needed here, since ```t``` is an array of ```Tree```.  Therefore ```t[i]``` is already a ```Tree```, so the cast is a request to treat the ```Tree``` as a ```Tree```.","body":"The cast <code>(Tree)</code> is not even needed here, since <code>t</code> is an array of <code>Tree</code>.  Therefore <code>t[i]</code> is already a <code>Tree</code>, so the cast is a request to treat the <code>Tree</code> as a <code>Tree</code>."}],"answers":[{"comments":[{"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"score":0,"creation_date":1565804008,"post_id":57499348,"comment_id":101468462,"body_markdown":"But I have upcasted it to super class doesn&#39;t it have any meaning while resolving function call??","body":"But I have upcasted it to super class doesn&#39;t it have any meaning while resolving function call??"},{"owner":{"account_id":16426288,"reputation":376,"user_id":11866249,"display_name":"nishantc1527"},"score":0,"creation_date":1565804529,"post_id":57499348,"comment_id":101468666,"body_markdown":"There is something called what they think the object is and what it really is. For example, `Tree a = new BanyanTree(); ` They think it is a Tree, but is actually a Banyan Tree. If you up cast it, it doesn&#39;t do anything because the array of Trees make it so that they think they are Trees, and if you up cast it to a tree they still think it is a tree. Technically, you&#39;re up casting it to the exact same thing. Sorry for not including this in my answer.","body":"There is something called what they think the object is and what it really is. For example, <code>Tree a = new BanyanTree(); </code> They think it is a Tree, but is actually a Banyan Tree. If you up cast it, it doesn&#39;t do anything because the array of Trees make it so that they think they are Trees, and if you up cast it to a tree they still think it is a tree. Technically, you&#39;re up casting it to the exact same thing. Sorry for not including this in my answer."},{"owner":{"account_id":14443980,"reputation":1626,"user_id":10433739,"display_name":"Benjamin Urquhart"},"score":0,"creation_date":1565804635,"post_id":57499348,"comment_id":101468722,"body_markdown":"@VaibhavMore if a subclass overrides a parent&#39;s method, it&#39;s impossible to execute the parent&#39;s version of the method from outside of the subclass without using reflection. The cast doesn&#39;t matter.","body":"@VaibhavMore if a subclass overrides a parent&#39;s method, it&#39;s impossible to execute the parent&#39;s version of the method from outside of the subclass without using reflection. The cast doesn&#39;t matter."},{"owner":{"display_name":"user10762593"},"score":0,"creation_date":1565838206,"post_id":57499348,"comment_id":101477292,"body_markdown":"A point of polymorphism is that code that possesses a reference to a mere Tree can (in this example) cause the Tree to print out what sort of Tree it is, without actually having to know the different sort of Trees.","body":"A point of polymorphism is that code that possesses a reference to a mere Tree can (in this example) cause the Tree to print out what sort of Tree it is, without actually having to know the different sort of Trees."}],"tags":[],"owner":{"account_id":16426288,"reputation":376,"user_id":11866249,"display_name":"nishantc1527"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565804636,"creation_date":1565803343,"answer_id":57499348,"question_id":57499266,"body_markdown":"This is called polymorphism. The method takes the same type (none), same return type (void), and same name (print). So, when you call the print method, it calls the most specialized (the method that is lowest in the inheritance tree). There is something called what they think the object is and what it really is. They think it is a Tree, but is actually a Banyan Tree. If you up cast it, it doesn&#39;t do anything because the array of Trees make it so that they think they are Trees, and if you up cast it to a tree they still think it is a tree. Technically, you&#39;re up casting it to the exact same thing. Sorry for not including this in my answer. When you make a new Tree, the inheritance structure looks like this.\r\n\r\n    Object (Cosmic Super-class)\r\n  \r\n     |\r\n\r\n    \\ /\r\n\r\n    Tree\r\n\r\nThe most specialized method is tree. However, when you create another type of tree, let&#39;s say BanyanTree, the structure looks like this.\r\n\r\n    Object\r\n\r\n     |\r\n\r\n    \\ /\r\n\r\n    Tree\r\n\r\n     |\r\n\r\n    \\ /\r\n\r\n    BanyanTree\r\n\r\nThe most specialized print method comes from BanyanTree, so it executes that. Sorry if you didn&#39;t understand, it&#39;s a pretty complicated topic. ","title":"How does upcasting actually works in java","body":"<p>This is called polymorphism. The method takes the same type (none), same return type (void), and same name (print). So, when you call the print method, it calls the most specialized (the method that is lowest in the inheritance tree). There is something called what they think the object is and what it really is. They think it is a Tree, but is actually a Banyan Tree. If you up cast it, it doesn't do anything because the array of Trees make it so that they think they are Trees, and if you up cast it to a tree they still think it is a tree. Technically, you're up casting it to the exact same thing. Sorry for not including this in my answer. When you make a new Tree, the inheritance structure looks like this.</p>\n\n<pre><code>Object (Cosmic Super-class)\n\n |\n\n\\ /\n\nTree\n</code></pre>\n\n<p>The most specialized method is tree. However, when you create another type of tree, let's say BanyanTree, the structure looks like this.</p>\n\n<pre><code>Object\n\n |\n\n\\ /\n\nTree\n\n |\n\n\\ /\n\nBanyanTree\n</code></pre>\n\n<p>The most specialized print method comes from BanyanTree, so it executes that. Sorry if you didn't understand, it's a pretty complicated topic. </p>\n"},{"tags":[],"owner":{"account_id":16503711,"reputation":1,"user_id":11924334,"display_name":"evengy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565811645,"creation_date":1565805689,"answer_id":57499863,"question_id":57499266,"body_markdown":"If `DerivedClass` extends `BaseClass` and has a method with same name and same signature of `BaseClass` then the overriding will take place at run-time polymorphism. \r\nAlso there is no need in upcast as you already initialized your array as `BaseClass[ ]`","title":"How does upcasting actually works in java","body":"<p>If <code>DerivedClass</code> extends <code>BaseClass</code> and has a method with same name and same signature of <code>BaseClass</code> then the overriding will take place at run-time polymorphism. \nAlso there is no need in upcast as you already initialized your array as <code>BaseClass[ ]</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688191892,"post_id":76580521,"comment_id":135043874,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76580521/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28918460,"reputation":1,"user_id":22149943,"display_name":"Ahmed Abdullah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688037365,"creation_date":1688037365,"answer_id":76580521,"question_id":57499266,"body_markdown":"base class work as blueprint for derived class, since derived class inherit from base class and adds its own behaviors , the following link maybe help for this topic. \r\n\r\nhttps://youtu.be/CZ3VMokXqQI","title":"How does upcasting actually works in java","body":"<p>base class work as blueprint for derived class, since derived class inherit from base class and adds its own behaviors , the following link maybe help for this topic.</p>\n<p><a href=\"https://youtu.be/CZ3VMokXqQI\" rel=\"nofollow noreferrer\">https://youtu.be/CZ3VMokXqQI</a></p>\n"}],"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688037365,"creation_date":1565802950,"question_id":57499266,"body_markdown":"I have 3 classes where one is the `super class` and other two are `sub classes`. They have `print()` method common in them. While calling `print()` methods from `main()` I have upcasted the objects to `super class` then is it not that it must invoke method of `super class` rather than `subclasses`. I am confused here a little bit. How is it possible? Is there any reason for such kind of behaviour in java.\r\n\r\nHere is my code\r\n\r\n    class Tree {\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;I am Tree&quot;);\r\n\t}\r\n\tpublic static void main(String []args) {\r\n\t\tTree t[] = new Tree[3];\r\n\t\tt[0] = new Tree();\r\n\t\tt[1] = new BanyanTree();\r\n\t\tt[2] = new PeepalTree();\r\n\t\tfor(int i = 0; i &lt; 3; i++) {\r\n\t\t\t((Tree)t[i]).print();\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\n\r\n    public class BanyanTree extends Tree{\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;I am BanyanTree&quot;);\r\n\t  }\r\n    }\r\n\r\n\r\n    public class PeepalTree extends Tree{\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;I am PeepalTree&quot;);\r\n\t  }\r\n    }\r\n\r\nThe output of the program is\r\n\r\n    I am Tree\r\n    I am BanyanTree\r\n    I am PeepalTree\r\n\r\nAccording to me the output should be\r\n\r\n    I am Tree\r\n    I am Tree\r\n    I am Tree\r\n\r\nAm I missing something here???\r\n","title":"How does upcasting actually works in java","body":"<p>I have 3 classes where one is the <code>super class</code> and other two are <code>sub classes</code>. They have <code>print()</code> method common in them. While calling <code>print()</code> methods from <code>main()</code> I have upcasted the objects to <code>super class</code> then is it not that it must invoke method of <code>super class</code> rather than <code>subclasses</code>. I am confused here a little bit. How is it possible? Is there any reason for such kind of behaviour in java.</p>\n\n<p>Here is my code</p>\n\n<pre><code>class Tree {\npublic void print() {\n    System.out.println(\"I am Tree\");\n}\npublic static void main(String []args) {\n    Tree t[] = new Tree[3];\n    t[0] = new Tree();\n    t[1] = new BanyanTree();\n    t[2] = new PeepalTree();\n    for(int i = 0; i &lt; 3; i++) {\n        ((Tree)t[i]).print();\n    }\n  }\n}\n\n\npublic class BanyanTree extends Tree{\npublic void print() {\n    System.out.println(\"I am BanyanTree\");\n  }\n}\n\n\npublic class PeepalTree extends Tree{\npublic void print() {\n    System.out.println(\"I am PeepalTree\");\n  }\n}\n</code></pre>\n\n<p>The output of the program is</p>\n\n<pre><code>I am Tree\nI am BanyanTree\nI am PeepalTree\n</code></pre>\n\n<p>According to me the output should be</p>\n\n<pre><code>I am Tree\nI am Tree\nI am Tree\n</code></pre>\n\n<p>Am I missing something here???</p>\n"},{"tags":["java","android","audio","android-mediaplayer","media-player"],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688037227,"creation_date":1688037227,"question_id":76580509,"body_markdown":"I&#39;m trying to add a PresetReverb to a MediaPlayer. The weird thing is that, without it, the audio plays normally. But if I add the PresetReverb, no sound is playing. Here&#39;s what I tried:\r\n\r\n\r\n        mCurrentPlayer = MediaPlayer.create(ctx, song);\r\n        PresetReverb pr = new PresetReverb(1, mp.getAudioSessionId());\r\n        pr.setPreset(PresetReverb.PRESET_SMALLROOM);\r\n        pr.setEnabled(true);\r\n        mCurrentPlayer.attachAuxEffect(pr.getId());\r\n        mCurrentPlayer.setAuxEffectSendLevel(1.0f);\r\n        mCurrentPlayer.setVolume(0.5f, 0.5f);\r\n        mCurrentPlayer.setOnPreparedListener(mediaPlayer -&gt; mCurrentPlayer.start());\r\n        mCurrentPlayer.start();\r\n\r\nOf course, \r\n    `&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;` is in my manifest","title":"PresetReverb makes MediaPlayer silent","body":"<p>I'm trying to add a PresetReverb to a MediaPlayer. The weird thing is that, without it, the audio plays normally. But if I add the PresetReverb, no sound is playing. Here's what I tried:</p>\n<pre><code>    mCurrentPlayer = MediaPlayer.create(ctx, song);\n    PresetReverb pr = new PresetReverb(1, mp.getAudioSessionId());\n    pr.setPreset(PresetReverb.PRESET_SMALLROOM);\n    pr.setEnabled(true);\n    mCurrentPlayer.attachAuxEffect(pr.getId());\n    mCurrentPlayer.setAuxEffectSendLevel(1.0f);\n    mCurrentPlayer.setVolume(0.5f, 0.5f);\n    mCurrentPlayer.setOnPreparedListener(mediaPlayer -&gt; mCurrentPlayer.start());\n    mCurrentPlayer.start();\n</code></pre>\n<p>Of course,\n<code>&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;</code> is in my manifest</p>\n"},{"tags":["java","rmi","jira-rest-java-api"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1687642337,"post_id":76547965,"comment_id":134966059,"body_markdown":"where is your [mcve]?","body":"where is your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"score":0,"creation_date":1687647291,"post_id":76547965,"comment_id":134966409,"body_markdown":"@OldProgrammer I added my code sample,","body":"@OldProgrammer I added my code sample,"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1687738986,"post_id":76547965,"comment_id":134974176,"body_markdown":"If it isn&#39;t `Serializable` and you can&#39;t make it so, you will have to send something else instead and map it at both ends.","body":"If it isn&#39;t <code>Serializable</code> and you can&#39;t make it so, you will have to send something else instead and map it at both ends."},{"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"score":0,"creation_date":1687761917,"post_id":76547965,"comment_id":134976261,"body_markdown":"@user207421 I didn&#39;t think that was my only solution, but I&#39;d say it&#39;s the only one.","body":"@user207421 I didn&#39;t think that was my only solution, but I&#39;d say it&#39;s the only one."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687842714,"post_id":76547965,"comment_id":134989220,"body_markdown":"@lordyhas Eh? You didn&#39;&#39;t think so but now you do? If you have access to the source code you could use `writeReplace()` and `readResolve()`, but then if you had access to the source code you could make it `Serializable`.","body":"@lordyhas Eh? You didn&#39;&#39;t think so but now you do? If you have access to the source code you could use <code>writeReplace()</code> and <code>readResolve()</code>, but then if you had access to the source code you could make it <code>Serializable</code>."},{"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"score":0,"creation_date":1688029423,"post_id":76547965,"comment_id":135019889,"body_markdown":"@user207421  I wanted to say that I was already thinking of such a solution but I was hoping to find other alternatives by coming here. I didn&#39;t think it was the only one.\nSo I used the `com.google.code.gson:gson:2.10.1` (Gson) package from google to map the `Issue` class.\nThanks for your help.","body":"@user207421  I wanted to say that I was already thinking of such a solution but I was hoping to find other alternatives by coming here. I didn&#39;t think it was the only one. So I used the <code>com.google.code.gson:gson:2.10.1</code> (Gson) package from google to map the <code>Issue</code> class. Thanks for your help."}],"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1688037021,"creation_date":1687640245,"question_id":76547965,"body_markdown":"I wanted to transfer the Issue class from [jira rest client api](https://www.baeldung.com/jira-rest-api, &quot;click here if you wanna know more about&quot;), and apparently this class is not serializable.\r\n\r\nHere  my code :\r\n\r\n**rmi_server side**\r\n\r\n`JiraConnection.class`\r\n```java\r\npublic interface JiraConnection extends Remote {\r\n    ...\r\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException;\r\n    ...\r\n}\r\n\r\n```\r\n\r\n`JiraServant.class`\r\n```java\r\n\r\npublic class JiraServant extends UnicastRemoteObject implements JiraConnection {\r\n    private String username = &quot;...&quot;;\r\n    private String password = &quot;...&quot;;\r\n    private String jiraUrl = &quot;...&quot;;\r\n    private JiraRestClient restClient;\r\n\r\n    public JiraServant() throws RemoteException {\r\n        super();\r\n        this.restClient = getJiraRestClient();\r\n    }\r\n    ....\r\n    private JiraRestClient getJiraRestClient() throws RemoteException {\r\n        return new AsynchronousJiraRestClientFactory()\r\n                .createWithBasicHttpAuthentication(this.jiraUrl , this.username, this.password);\r\n    }\r\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException {\r\n        try {\r\n            final SearchResult searchResult = getJiraRestClient().getSearchClient()\r\n                    .searchJql(jqlSearch)\r\n                    .get(5000, TimeUnit.SECONDS);\r\n            return Lists.newArrayList(searchResult.getIssues());\r\n        } catch (TimeoutException e) {\r\n            System.err.println(&quot;jira rest client timeout from jql search error. cause: &quot; + e.getMessage());\r\n            throw e;\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;jira rest client get issue from jql search error. cause: &quot; + e.getMessage());\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n    ...\r\n}\r\n```\r\n`Main.class`\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;=== RMI Server ===&quot;);\r\n        try{\r\n            JiraServant servant  =  new JiraServant();\r\n            String url = &quot;rmi://localhost:5097/jira-api&quot;;\r\n            LocateRegistry.createRegistry(5097);\r\n            Naming.rebind(url, servant);\r\n\r\n            System.out.println(&quot;Server ready...&quot;);\r\n        }catch(RemoteException | MalformedURLException e){\r\n            System.out.println(&quot;Failed to open the server&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n**rmi_client side**\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;=== === RMI Client === ===&quot;);\r\n        try{\r\n            String url = &quot;rmi://localhost:5097/jira-api&quot;; //todo: change this to jira\r\n\r\n            JiraConnection jiraConnection = (JiraConnection)  Naming.lookup(url);\r\n            String jqlSearch = &quot;project = &#39;SDR&#39; AND assignee = 627cba6c6ba8640069cf1faa AND status IN (Open) ORDER BY created DESC&quot;;\r\n\r\n            try {\r\n                List&lt;Issue&gt; results = jiraConnection.getIssuesFromJqlSearch(jqlSearch);\r\n                \r\n                for(Issue issue: results){\r\n                    String reporterAccountId = Objects.requireNonNull(issue.getReporter()).getAccountId();\r\n                    System.out.print(&quot;Reporter: &quot;+ jiraConnection.getUser(reporterAccountId));\r\n                    System.out.println(&quot;, Key: &quot;+issue.getKey() + &quot;, Title: &quot;+issue.getSummary() + &quot;, Status: &quot; + issue.getStatus().getName());\r\n                }\r\n                System.out.println(&quot;Ben a &quot;+results.size() +&quot; open issues&quot;);\r\n            } catch (TimeoutException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n\r\n        }catch(RemoteException | MalformedURLException e){\r\n            System.out.println(&quot;Failed to open the server&quot;);\r\n            System.out.println(&quot;Error Message : &quot;+e);\r\n        } catch (NotBoundException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I get this error: \r\n```\r\njava.rmi.UnmarshalException: error unmarshalling return; \r\nnested exception is: java.io.WriteAbortedException: writing aborted; \r\njava.io.NotSerializableException: com.atlassian.jira.rest.client.api.domain.Issue\r\n```\r\n\r\nDoes anyone have solution to allow me to transfer Issue class from server to client, using RMI.\r\n\r\n","title":"Java RMI : How to transfer non-remote existing object class","body":"<p>I wanted to transfer the Issue class from <a href=\"https://www.baeldung.com/jira-rest-api,\" rel=\"nofollow noreferrer\" title=\"click here if you wanna know more about\">jira rest client api</a>, and apparently this class is not serializable.</p>\n<p>Here  my code :</p>\n<p><strong>rmi_server side</strong></p>\n<p><code>JiraConnection.class</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface JiraConnection extends Remote {\n    ...\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException;\n    ...\n}\n\n</code></pre>\n<p><code>JiraServant.class</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class JiraServant extends UnicastRemoteObject implements JiraConnection {\n    private String username = &quot;...&quot;;\n    private String password = &quot;...&quot;;\n    private String jiraUrl = &quot;...&quot;;\n    private JiraRestClient restClient;\n\n    public JiraServant() throws RemoteException {\n        super();\n        this.restClient = getJiraRestClient();\n    }\n    ....\n    private JiraRestClient getJiraRestClient() throws RemoteException {\n        return new AsynchronousJiraRestClientFactory()\n                .createWithBasicHttpAuthentication(this.jiraUrl , this.username, this.password);\n    }\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException {\n        try {\n            final SearchResult searchResult = getJiraRestClient().getSearchClient()\n                    .searchJql(jqlSearch)\n                    .get(5000, TimeUnit.SECONDS);\n            return Lists.newArrayList(searchResult.getIssues());\n        } catch (TimeoutException e) {\n            System.err.println(&quot;jira rest client timeout from jql search error. cause: &quot; + e.getMessage());\n            throw e;\n        } catch (Exception e) {\n            System.err.println(&quot;jira rest client get issue from jql search error. cause: &quot; + e.getMessage());\n            return Collections.emptyList();\n        }\n    }\n    ...\n}\n</code></pre>\n<p><code>Main.class</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;=== RMI Server ===&quot;);\n        try{\n            JiraServant servant  =  new JiraServant();\n            String url = &quot;rmi://localhost:5097/jira-api&quot;;\n            LocateRegistry.createRegistry(5097);\n            Naming.rebind(url, servant);\n\n            System.out.println(&quot;Server ready...&quot;);\n        }catch(RemoteException | MalformedURLException e){\n            System.out.println(&quot;Failed to open the server&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p><strong>rmi_client side</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;=== === RMI Client === ===&quot;);\n        try{\n            String url = &quot;rmi://localhost:5097/jira-api&quot;; //todo: change this to jira\n\n            JiraConnection jiraConnection = (JiraConnection)  Naming.lookup(url);\n            String jqlSearch = &quot;project = 'SDR' AND assignee = 627cba6c6ba8640069cf1faa AND status IN (Open) ORDER BY created DESC&quot;;\n\n            try {\n                List&lt;Issue&gt; results = jiraConnection.getIssuesFromJqlSearch(jqlSearch);\n                \n                for(Issue issue: results){\n                    String reporterAccountId = Objects.requireNonNull(issue.getReporter()).getAccountId();\n                    System.out.print(&quot;Reporter: &quot;+ jiraConnection.getUser(reporterAccountId));\n                    System.out.println(&quot;, Key: &quot;+issue.getKey() + &quot;, Title: &quot;+issue.getSummary() + &quot;, Status: &quot; + issue.getStatus().getName());\n                }\n                System.out.println(&quot;Ben a &quot;+results.size() +&quot; open issues&quot;);\n            } catch (TimeoutException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n        }catch(RemoteException | MalformedURLException e){\n            System.out.println(&quot;Failed to open the server&quot;);\n            System.out.println(&quot;Error Message : &quot;+e);\n        } catch (NotBoundException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>And I get this error:</p>\n<pre><code>java.rmi.UnmarshalException: error unmarshalling return; \nnested exception is: java.io.WriteAbortedException: writing aborted; \njava.io.NotSerializableException: com.atlassian.jira.rest.client.api.domain.Issue\n</code></pre>\n<p>Does anyone have solution to allow me to transfer Issue class from server to client, using RMI.</p>\n"},{"tags":["java","xml","jackson","deserialization","xml-deserialization"],"answers":[{"comments":[{"owner":{"account_id":544898,"reputation":1104,"user_id":914502,"accept_rate":75,"display_name":"Dmitriy Sukharev"},"score":0,"creation_date":1688406163,"post_id":76580449,"comment_id":135067207,"body_markdown":"Thank you! I thought about this approach. Unfortunately I don&#39;t have control over output POJOs, cannot replace Map to List. Final output type is pretty large, would require having intermediate ~50 classes that work with Lists, and then logic to copy from intermediate to final POJOs. I&#39;m trying to avoid that.","body":"Thank you! I thought about this approach. Unfortunately I don&#39;t have control over output POJOs, cannot replace Map to List. Final output type is pretty large, would require having intermediate ~50 classes that work with Lists, and then logic to copy from intermediate to final POJOs. I&#39;m trying to avoid that."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688036682,"creation_date":1688036682,"answer_id":76580449,"question_id":76575998,"body_markdown":"As you observed in your post the problem stands in the fact that the usual standard way of deserializing a map cannot be applied to the xml you provided, but you can interpret the xml as a list of `MyEntry` class and deserialize it as a list. Starting from the initial xml:\r\n\r\n~~~\r\n&lt;MyMap&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key1&lt;/Key&gt;\r\n        &lt;Value&gt;value1&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key2&lt;/Key&gt;\r\n        &lt;Value&gt;value2&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n&lt;/MyMap&gt;\r\n~~~\r\n\r\nYou can define two classes named `MyRoot` and `MyEntry` like below:\r\n\r\n~~~\r\n@Data\r\npublic class MyRoot {\r\n\r\n    //a MyEntry tag is a MyEntry element of the list\r\n    @JacksonXmlProperty(localName = &quot;MyEntry&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    List&lt;MyEntry&gt; myMap;\r\n}\r\n\r\n@Data\r\npublic class MyEntry {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Key&quot;)\r\n    private String key;\r\n    @JacksonXmlProperty(localName = &quot;Value&quot;)\r\n    private String value;\r\n}\r\n~~~\r\n\r\nYou can note that now the `myMap` is a `List` instance that contains the `MyEntry` objects, now you can deserialize the xml with the expected result:\r\n\r\n~~~\r\nXmlMapper xmlMapper = new XmlMapper();\r\nMyRoot myRoot = xmlMapper.readValue(xml, MyRoot.class);\r\n//ok, it prints MyRoot(myMap=[MyEntry(key=key1, value=value1), MyEntry(key=key2, value=value2)])\r\nSystem.out.println(myRoot);\r\n~~~","title":"Jackson XmlMapper XML Serialization of Java Map With Wrapper Entry Element","body":"<p>As you observed in your post the problem stands in the fact that the usual standard way of deserializing a map cannot be applied to the xml you provided, but you can interpret the xml as a list of <code>MyEntry</code> class and deserialize it as a list. Starting from the initial xml:</p>\n<pre><code>&lt;MyMap&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key1&lt;/Key&gt;\n        &lt;Value&gt;value1&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key2&lt;/Key&gt;\n        &lt;Value&gt;value2&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n&lt;/MyMap&gt;\n</code></pre>\n<p>You can define two classes named <code>MyRoot</code> and <code>MyEntry</code> like below:</p>\n<pre><code>@Data\npublic class MyRoot {\n\n    //a MyEntry tag is a MyEntry element of the list\n    @JacksonXmlProperty(localName = &quot;MyEntry&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    List&lt;MyEntry&gt; myMap;\n}\n\n@Data\npublic class MyEntry {\n\n    @JacksonXmlProperty(localName = &quot;Key&quot;)\n    private String key;\n    @JacksonXmlProperty(localName = &quot;Value&quot;)\n    private String value;\n}\n</code></pre>\n<p>You can note that now the <code>myMap</code> is a <code>List</code> instance that contains the <code>MyEntry</code> objects, now you can deserialize the xml with the expected result:</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nMyRoot myRoot = xmlMapper.readValue(xml, MyRoot.class);\n//ok, it prints MyRoot(myMap=[MyEntry(key=key1, value=value1), MyEntry(key=key2, value=value2)])\nSystem.out.println(myRoot);\n</code></pre>\n"}],"owner":{"account_id":544898,"reputation":1104,"user_id":914502,"accept_rate":75,"display_name":"Dmitriy Sukharev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688036682,"creation_date":1687978782,"question_id":76575998,"body_markdown":"The question is about Jackson XML Map serializing and deserializing. By default Jackson expects keys of the map to be XML elements themselves.\r\n```\r\n&lt;MyMap&gt;\r\n    &lt;key1&gt;value1&lt;/key1&gt;\r\n    &lt;key2&gt;value2&lt;/key2&gt;\r\n&lt;/MyMap&gt;\r\n```\r\nBut this makes it impossible to have keys which are invalid XML element names.\r\n\r\nIs there a way in Jackson to deserialize XML with wrapping entry XML element, like below?\r\n```\r\n&lt;MyMap&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key1&lt;/Key&gt;\r\n        &lt;Value&gt;value1&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key2&lt;/Key&gt;\r\n        &lt;Value&gt;value2&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n&lt;/MyMap&gt;\r\n```\r\n\r\nI&#39;ve seen [`@JacksonXmlElementWrapper`](https://github.com/FasterXML/jackson-dataformat-xml/wiki/Jackson-XML-annotations) but it doesn&#39;t seem to allow naming an entity&#39;s XML element, it names the map&#39;s XML element instead. I don&#39;t know if it&#39;s a bug or expected behavior. But I hope there&#39;s a way around it.\r\n\r\nThe demonstration code I am using in case somebody wants to reproduce\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.*;\r\nimport lombok.*;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.Map;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class ReproductionTest {\r\n\r\n    private static final String XML = &quot;&quot;&quot;\r\n&lt;MyRoot&gt;\r\n    &lt;MyMap&gt;\r\n        &lt;MyEntry&gt;&lt;Key&gt;key1&lt;/Key&gt;&lt;Value&gt;value1&lt;/Value&gt;&lt;/MyEntry&gt;\r\n        &lt;MyEntry&gt;&lt;Key&gt;key2&lt;/Key&gt;&lt;Value&gt;value2&lt;/Value&gt;&lt;/MyEntry&gt;\r\n        &lt;!--33Key3&gt;Not an option since I don&#39;t control keys to have valid XML names&lt;/33Key3--&gt;\r\n    &lt;/MyMap&gt;\r\n    &lt;MyString&gt;abc&lt;/MyString&gt;\r\n&lt;/MyRoot&gt;&quot;&quot;&quot;;\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    static class MyRoot {\r\n        @JacksonXmlProperty(localName = &quot;MyMap&quot;)\r\n        // With the next line uncommented, the following exception is thrown:\r\n        // UnrecognizedPropertyException: Unrecognized field &quot;MyMap&quot;...\r\n        // not marked as ignorable (2 known properties: &quot;MyString&quot;, &quot;MyEntry&quot;])\r\n        //@JacksonXmlElementWrapper(localName = &quot;MyEntry&quot;)\r\n        Map&lt;String, String&gt; myMap;\r\n        @JacksonXmlProperty(localName = &quot;MyString&quot;)\r\n        String myString;\r\n    }\r\n\r\n    @Test\r\n    public void reproducesDeserializationIssue() throws JsonProcessingException {\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        MyRoot myRoot = xmlMapper.readValue(XML, MyRoot.class);\r\n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true); // re-enforcing default\r\n        assertEquals(&quot;abc&quot;, myRoot.getMyString());          // passes\r\n        assertEquals(1, myRoot.getMyMap().size());          // passes\r\n        assertNotNull(myRoot.getMyMap().get(&quot;MyEntry&quot;));    // passes, unexpectedly\r\n        assertEquals(&quot;&quot;, myRoot.getMyMap().get(&quot;MyEntry&quot;)); // passes, unexpectedly\r\n        assertNull(myRoot.getMyMap().get(&quot;key1&quot;));          // passes, unexpectedly\r\n        assertNull(myRoot.getMyMap().get(&quot;key2&quot;));          // passes, unexpectedly\r\n        System.out.println(xmlMapper.writeValueAsString(myRoot));\r\n        // Prints &lt;MyRoot&gt;&lt;myMap&gt;&lt;myItem&gt;&lt;/myItem&gt;&lt;/myMap&gt;&lt;myString&gt;abc&lt;/myString&gt;&lt;/MyRoot&gt;\r\n    }\r\n}\r\n```\r\n\r\nP.S. At this point I don&#39;t have control over XML schema, nor output POJOs. But I have control over XmlMapper configuration. So it&#39;s my understanding that my options are limited to MixIns and custom deserializers. But hope there&#39;s an easier solution.","title":"Jackson XmlMapper XML Serialization of Java Map With Wrapper Entry Element","body":"<p>The question is about Jackson XML Map serializing and deserializing. By default Jackson expects keys of the map to be XML elements themselves.</p>\n<pre><code>&lt;MyMap&gt;\n    &lt;key1&gt;value1&lt;/key1&gt;\n    &lt;key2&gt;value2&lt;/key2&gt;\n&lt;/MyMap&gt;\n</code></pre>\n<p>But this makes it impossible to have keys which are invalid XML element names.</p>\n<p>Is there a way in Jackson to deserialize XML with wrapping entry XML element, like below?</p>\n<pre><code>&lt;MyMap&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key1&lt;/Key&gt;\n        &lt;Value&gt;value1&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key2&lt;/Key&gt;\n        &lt;Value&gt;value2&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n&lt;/MyMap&gt;\n</code></pre>\n<p>I've seen <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/wiki/Jackson-XML-annotations\" rel=\"nofollow noreferrer\"><code>@JacksonXmlElementWrapper</code></a> but it doesn't seem to allow naming an entity's XML element, it names the map's XML element instead. I don't know if it's a bug or expected behavior. But I hope there's a way around it.</p>\n<p>The demonstration code I am using in case somebody wants to reproduce</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.*;\nimport lombok.*;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.Map;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class ReproductionTest {\n\n    private static final String XML = &quot;&quot;&quot;\n&lt;MyRoot&gt;\n    &lt;MyMap&gt;\n        &lt;MyEntry&gt;&lt;Key&gt;key1&lt;/Key&gt;&lt;Value&gt;value1&lt;/Value&gt;&lt;/MyEntry&gt;\n        &lt;MyEntry&gt;&lt;Key&gt;key2&lt;/Key&gt;&lt;Value&gt;value2&lt;/Value&gt;&lt;/MyEntry&gt;\n        &lt;!--33Key3&gt;Not an option since I don't control keys to have valid XML names&lt;/33Key3--&gt;\n    &lt;/MyMap&gt;\n    &lt;MyString&gt;abc&lt;/MyString&gt;\n&lt;/MyRoot&gt;&quot;&quot;&quot;;\n\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @ToString\n    static class MyRoot {\n        @JacksonXmlProperty(localName = &quot;MyMap&quot;)\n        // With the next line uncommented, the following exception is thrown:\n        // UnrecognizedPropertyException: Unrecognized field &quot;MyMap&quot;...\n        // not marked as ignorable (2 known properties: &quot;MyString&quot;, &quot;MyEntry&quot;])\n        //@JacksonXmlElementWrapper(localName = &quot;MyEntry&quot;)\n        Map&lt;String, String&gt; myMap;\n        @JacksonXmlProperty(localName = &quot;MyString&quot;)\n        String myString;\n    }\n\n    @Test\n    public void reproducesDeserializationIssue() throws JsonProcessingException {\n        XmlMapper xmlMapper = new XmlMapper();\n        MyRoot myRoot = xmlMapper.readValue(XML, MyRoot.class);\n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true); // re-enforcing default\n        assertEquals(&quot;abc&quot;, myRoot.getMyString());          // passes\n        assertEquals(1, myRoot.getMyMap().size());          // passes\n        assertNotNull(myRoot.getMyMap().get(&quot;MyEntry&quot;));    // passes, unexpectedly\n        assertEquals(&quot;&quot;, myRoot.getMyMap().get(&quot;MyEntry&quot;)); // passes, unexpectedly\n        assertNull(myRoot.getMyMap().get(&quot;key1&quot;));          // passes, unexpectedly\n        assertNull(myRoot.getMyMap().get(&quot;key2&quot;));          // passes, unexpectedly\n        System.out.println(xmlMapper.writeValueAsString(myRoot));\n        // Prints &lt;MyRoot&gt;&lt;myMap&gt;&lt;myItem&gt;&lt;/myItem&gt;&lt;/myMap&gt;&lt;myString&gt;abc&lt;/myString&gt;&lt;/MyRoot&gt;\n    }\n}\n</code></pre>\n<p>P.S. At this point I don't have control over XML schema, nor output POJOs. But I have control over XmlMapper configuration. So it's my understanding that my options are limited to MixIns and custom deserializers. But hope there's an easier solution.</p>\n"},{"tags":["java","ssh","sftp","j2ssh"],"answers":[{"comments":[{"owner":{"account_id":203942,"reputation":9,"user_id":451872,"accept_rate":0,"display_name":"user451872"},"score":0,"creation_date":1296515817,"post_id":4856593,"comment_id":5396681,"body_markdown":"the application where it is running i can&#39;t get local space(production server) to download the file locally from server1 and then to put the file in server2.","body":"the application where it is running i can&#39;t get local space(production server) to download the file locally from server1 and then to put the file in server2."}],"tags":[],"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296510918,"creation_date":1296510918,"answer_id":4856593,"question_id":4856326,"body_markdown":"Not sure that I understood your question ... \r\n\r\nIf you only have SFTP access to both servers, and your code runs locally (on the client), then your only option is to download the file and upload it to another server. If you have SSH access to server1, then you can create a script which will upload/download file to/from server 2. \r\n\r\nAnd if your code is running on server1 and you need to upload the file from server1 to server2, then how is it different (other than the local path is different) from your current situation when you upload the code from client1 to server2? ","title":"j2ssh remote to remote file transfer","body":"<p>Not sure that I understood your question ... </p>\n\n<p>If you only have SFTP access to both servers, and your code runs locally (on the client), then your only option is to download the file and upload it to another server. If you have SSH access to server1, then you can create a script which will upload/download file to/from server 2. </p>\n\n<p>And if your code is running on server1 and you need to upload the file from server1 to server2, then how is it different (other than the local path is different) from your current situation when you upload the code from client1 to server2? </p>\n"}],"owner":{"account_id":203942,"reputation":9,"user_id":451872,"accept_rate":0,"display_name":"user451872"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688036382,"creation_date":1296509284,"question_id":4856326,"body_markdown":"The following code is working fine for localhost to remote server. But my application runs on a separate server so I need to pick files from `remote1` server and then put it in `remote2` server. How would I do this with J2SSH?\r\n\r\n```java\r\n    package com.test.sftp;\r\n    \r\n    import java.io.File;\r\n    import java.text.DateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.Properties;\r\n    \r\n    import com.sshtools.daemon.SshServer;\r\n    import com.sshtools.j2ssh.SftpClient;\r\n    import com.sshtools.j2ssh.SshClient;\r\n    import com.sshtools.j2ssh.authentication.AuthenticationProtocolState;\r\n    import com.sshtools.j2ssh.authentication.PasswordAuthenticationClient;\r\n    import com.sshtools.j2ssh.configuration.SshConnectionProperties;\r\n    import com.sshtools.j2ssh.sftp.SftpFile;\r\n    import com.sshtools.j2ssh.transport.ConsoleKnownHostsKeyVerification;\r\n    import com.sshtools.j2ssh.transport.IgnoreHostKeyVerification;\r\n    import com.sshtools.j2ssh.transport.InvalidHostFileException;\r\n    import com.sshtools.j2ssh.transport.publickey.SshPublicKey;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URL;\r\n    \r\n    public class SftpTest {\r\n    \r\n        /**\r\n         * @param args\r\n         */\r\n     public String userName;\r\n     \r\n     public String uri;\r\n     public Date date;\r\n     public String sdate;\r\n     public DateFormat formatter ;\r\n     public String serviceStart;\r\n     \r\n        public String hostname=null;\r\n        public String username=null;\r\n        public String password=null;\r\n        \r\n        public String hostname1=null;\r\n        public String username1=null;\r\n        public String password1=null;\r\n        \r\n        public String remotepath=null;\r\n        public String localpath=null;\r\n        public String remoteFilename=null;\r\n        public void con()\r\n        {\r\n        SshClient ssh=null;\r\n        SftpClient sftp=null;\r\n        SftpFile sstp = null;\r\n        try\r\n        {\r\n       \r\n      \r\n     \r\n        hostname=&quot;192.168.1.1&quot;;\r\n        username=&quot;xxxxx&quot;;\r\n        password=&quot;xxxxxxx&quot;;\r\n        \r\n       \r\n        \r\n        SshClient client = new SshClient();\r\n        \r\n        \r\n        SshConnectionProperties connectionProperties = new SshConnectionProperties();\r\n        \r\n       connectionProperties.setTransportProvider(SshConnectionProperties.USE_STANDARD_SOCKET); // or USE_STANDARD_SOCKET or USE_SOCKS4_PROXY or USE_SOCKS5_PROXY\r\n      connectionProperties.setProxyHost(&quot;proxy.example.com&quot;);\r\n       \r\n         connectionProperties.setProxyPort(22);\r\n         connectionProperties.setHost(hostname);\r\n         connectionProperties.setPort(22);\r\n    \r\n       client.connect(connectionProperties, new IgnoreHostKeyVerification());\r\n    \r\n        PasswordAuthenticationClient authenticationClient = new PasswordAuthenticationClient();\r\n        authenticationClient.setUsername(username);\r\n        authenticationClient.setPassword(password);\r\n        int result = client.authenticate(authenticationClient);\r\n        System.out.println(&quot;result value ::&quot;+result);\r\n        if (result == AuthenticationProtocolState.COMPLETE)\r\n        System.out.println(&quot;success Authentication&quot;);\r\n        else\r\n        System.out.println(&quot;failed Authentication&quot;);\r\n        System.out.println(client.isConnected());\r\n        \r\n        \r\n        SftpClient sftpClient = client.openSftpClient();\r\n        String localpath = &quot;C:/Documents and Settings/user1/Desktop/images&quot;;\r\n        sftpClient.lcd(localpath);\r\n        //sftpClient.cd(&quot;/&quot;);\r\n        \r\n    \r\n        \r\n     \r\n       \r\n        File folder = new File(&quot;C:/Documents and Settings/user/Desktop/images&quot;);\r\n        File[] listOfFiles = folder.listFiles();\r\n    \r\n        \r\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n          if (listOfFiles[i].isFile()) {\r\n              String str =&quot;C:/Documents and Settings/user1/Desktop/images/&quot;+listOfFiles[i].getName();\r\n           \r\n           //  sftpClient.put(str,&quot;/usr/project/images/&quot;);\r\n              System.out.println(&quot;File &quot; + listOfFiles[i].getName());\r\n          } else if (listOfFiles[i].isDirectory()) {\r\n            System.out.println(&quot;Directory &quot; + listOfFiles[i].getName());\r\n          }\r\n        }\r\n     \r\n        \r\n        \r\n    \r\n     \r\n        \r\n        \r\n       \r\n        sftpClient.quit();\r\n        client.disconnect();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n        System.out.println(&quot;Exception while connecting to the remote server&quot; + e);\r\n        }\r\n        }\r\n        public static void main(String args[]) throws Exception\r\n        {\r\n        SftpTest obj = new SftpTest();\r\n         obj.con();// calling the function\r\n                   \r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nPlease help me understand how I can achieve this. Thank you.\r\n","title":"j2ssh remote to remote file transfer","body":"<p>The following code is working fine for localhost to remote server. But my application runs on a separate server so I need to pick files from <code>remote1</code> server and then put it in <code>remote2</code> server. How would I do this with J2SSH?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.test.sftp;\n    \n    import java.io.File;\n    import java.text.DateFormat;\n    import java.util.Calendar;\n    import java.util.Date;\n    import java.util.Properties;\n    \n    import com.sshtools.daemon.SshServer;\n    import com.sshtools.j2ssh.SftpClient;\n    import com.sshtools.j2ssh.SshClient;\n    import com.sshtools.j2ssh.authentication.AuthenticationProtocolState;\n    import com.sshtools.j2ssh.authentication.PasswordAuthenticationClient;\n    import com.sshtools.j2ssh.configuration.SshConnectionProperties;\n    import com.sshtools.j2ssh.sftp.SftpFile;\n    import com.sshtools.j2ssh.transport.ConsoleKnownHostsKeyVerification;\n    import com.sshtools.j2ssh.transport.IgnoreHostKeyVerification;\n    import com.sshtools.j2ssh.transport.InvalidHostFileException;\n    import com.sshtools.j2ssh.transport.publickey.SshPublicKey;\n    \n    import java.io.BufferedInputStream;\n    import java.io.DataInputStream;\n    import java.io.FileInputStream;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import java.net.MalformedURLException;\n    import java.net.URI;\n    import java.net.URL;\n    \n    public class SftpTest {\n    \n        /**\n         * @param args\n         */\n     public String userName;\n     \n     public String uri;\n     public Date date;\n     public String sdate;\n     public DateFormat formatter ;\n     public String serviceStart;\n     \n        public String hostname=null;\n        public String username=null;\n        public String password=null;\n        \n        public String hostname1=null;\n        public String username1=null;\n        public String password1=null;\n        \n        public String remotepath=null;\n        public String localpath=null;\n        public String remoteFilename=null;\n        public void con()\n        {\n        SshClient ssh=null;\n        SftpClient sftp=null;\n        SftpFile sstp = null;\n        try\n        {\n       \n      \n     \n        hostname=&quot;192.168.1.1&quot;;\n        username=&quot;xxxxx&quot;;\n        password=&quot;xxxxxxx&quot;;\n        \n       \n        \n        SshClient client = new SshClient();\n        \n        \n        SshConnectionProperties connectionProperties = new SshConnectionProperties();\n        \n       connectionProperties.setTransportProvider(SshConnectionProperties.USE_STANDARD_SOCKET); // or USE_STANDARD_SOCKET or USE_SOCKS4_PROXY or USE_SOCKS5_PROXY\n      connectionProperties.setProxyHost(&quot;proxy.example.com&quot;);\n       \n         connectionProperties.setProxyPort(22);\n         connectionProperties.setHost(hostname);\n         connectionProperties.setPort(22);\n    \n       client.connect(connectionProperties, new IgnoreHostKeyVerification());\n    \n        PasswordAuthenticationClient authenticationClient = new PasswordAuthenticationClient();\n        authenticationClient.setUsername(username);\n        authenticationClient.setPassword(password);\n        int result = client.authenticate(authenticationClient);\n        System.out.println(&quot;result value ::&quot;+result);\n        if (result == AuthenticationProtocolState.COMPLETE)\n        System.out.println(&quot;success Authentication&quot;);\n        else\n        System.out.println(&quot;failed Authentication&quot;);\n        System.out.println(client.isConnected());\n        \n        \n        SftpClient sftpClient = client.openSftpClient();\n        String localpath = &quot;C:/Documents and Settings/user1/Desktop/images&quot;;\n        sftpClient.lcd(localpath);\n        //sftpClient.cd(&quot;/&quot;);\n        \n    \n        \n     \n       \n        File folder = new File(&quot;C:/Documents and Settings/user/Desktop/images&quot;);\n        File[] listOfFiles = folder.listFiles();\n    \n        \n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n          if (listOfFiles[i].isFile()) {\n              String str =&quot;C:/Documents and Settings/user1/Desktop/images/&quot;+listOfFiles[i].getName();\n           \n           //  sftpClient.put(str,&quot;/usr/project/images/&quot;);\n              System.out.println(&quot;File &quot; + listOfFiles[i].getName());\n          } else if (listOfFiles[i].isDirectory()) {\n            System.out.println(&quot;Directory &quot; + listOfFiles[i].getName());\n          }\n        }\n     \n        \n        \n    \n     \n        \n        \n       \n        sftpClient.quit();\n        client.disconnect();\n        }\n        catch(Exception e)\n        {\n        System.out.println(&quot;Exception while connecting to the remote server&quot; + e);\n        }\n        }\n        public static void main(String args[]) throws Exception\n        {\n        SftpTest obj = new SftpTest();\n         obj.con();// calling the function\n                   \n        }\n\n    }\n</code></pre>\n<p>Please help me understand how I can achieve this. Thank you.</p>\n"},{"tags":["java","oracle","jdbc","oracle11gr2"],"comments":[{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1319474426,"post_id":7878735,"comment_id":9614301,"body_markdown":"Firstly, you have to &quot;CREATE TYPE elements AS varray(22) OF NUMBER(5,2);&quot; and then use this type in oracle.jdbc.OracleConnection.createARRAY()","body":"Firstly, you have to &quot;CREATE TYPE elements AS varray(22) OF NUMBER(5,2);&quot; and then use this type in oracle.jdbc.OracleConnection.createARRAY()"},{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":0,"creation_date":1319521342,"post_id":7878735,"comment_id":9623132,"body_markdown":"@Zaki: If you read the question carefully, I&#39;m sure you see that is exactly what I&#39;m doing. The type name is `widgets_t`.","body":"@Zaki: If you read the question carefully, I&#39;m sure you see that is exactly what I&#39;m doing. The type name is <code>widgets_t</code>."}],"answers":[{"comments":[{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":0,"creation_date":1319517867,"post_id":7879073,"comment_id":9622644,"body_markdown":"Hmm ... with your example I unfortunately get a compilation error: `cannot find symbol: method unwrap(java.lang.Class&lt;oracle.jdbc.OracleConnection&gt;)`","body":"Hmm ... with your example I unfortunately get a compilation error: <code>cannot find symbol: method unwrap(java.lang.Class&lt;oracle.jdbc.OracleConnection&gt;)</code>"},{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":1,"creation_date":1319518199,"post_id":7879073,"comment_id":9622688,"body_markdown":"But my example compiles if I cast `Connection` to `OracleConnection` this way: `oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection)ora.defaultConnection();` +1 for that.","body":"But my example compiles if I cast <code>Connection</code> to <code>OracleConnection</code> this way: <code>oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection)ora.defaultConnection();</code> +1 for that."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1319560051,"post_id":7879073,"comment_id":9633561,"body_markdown":"unwrap is Java 6.  If you are using an older java you will need to cast.","body":"unwrap is Java 6.  If you are using an older java you will need to cast."},{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":2,"creation_date":1623235795,"post_id":7879073,"comment_id":120019719,"body_markdown":"For anyone checking this out years later, `createARRAY` is deprecated now, you should use `createOracleArray` [apparently](https://stackoverflow.com/a/33347598/2137269)","body":"For anyone checking this out years later, <code>createARRAY</code> is deprecated now, you should use <code>createOracleArray</code> <a href=\"https://stackoverflow.com/a/33347598/2137269\">apparently</a>"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1687937181,"post_id":7879073,"comment_id":135005052,"body_markdown":"`createOracleArray` is documented: https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/OracleConnection.html#createOracleArray_java_lang_String_java_lang_Object_","body":"<code>createOracleArray</code> is documented: <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/OracleConnection.html#createOracleArray_java_lang_String_java_lang_Object_\" rel=\"nofollow noreferrer\">docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1319475305,"creation_date":1319475305,"answer_id":7879073,"question_id":7878735,"body_markdown":"You&#39;re on the right track with #2, but you can&#39;t create an oracle Array from a connection of type java.sql.Connection.  It has to be an OracleConnection to be able to use those methods.\r\n\r\n    oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n    java.sql.Connection conn = ora.defaultConnection();\r\n    OracleConnection oraConn = conn.unwrap(OracleConnection.class);\r\n    oracle.sql.ARRAY widgets = oraConn.createARRAY(&quot;widgets_t&quot;, elements);","title":"How to create an oracle.sql.ARRAY object?","body":"<p>You're on the right track with #2, but you can't create an oracle Array from a connection of type java.sql.Connection.  It has to be an OracleConnection to be able to use those methods.</p>\n\n<pre><code>oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\njava.sql.Connection conn = ora.defaultConnection();\nOracleConnection oraConn = conn.unwrap(OracleConnection.class);\noracle.sql.ARRAY widgets = oraConn.createARRAY(\"widgets_t\", elements);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":0,"creation_date":1319524400,"post_id":7880523,"comment_id":9623595,"body_markdown":"I could compose a compiling example based on this answer. However this way is no more documented in Oracle 11g, but seems to be the way for 10g and earlier releases.","body":"I could compose a compiling example based on this answer. However this way is no more documented in Oracle 11g, but seems to be the way for 10g and earlier releases."}],"tags":[],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319483036,"creation_date":1319483036,"answer_id":7880523,"question_id":7878735,"body_markdown":"    // array sample (using a stored procedure to sum two or more numbers)\r\n    Connection connection = dataSource.getConnection(username,password);\r\n    ArrayDescriptor desc = \r\n        ArrayDescriptor.createDescriptor(schemaName + &quot;.&quot; + arrayType, connection);\r\n\r\n    // first ? is the array, second ? is the result via out parameter\r\n    String sql = &quot;call sum_numbers(?,?)&quot;;\r\n    CallableStatement cs = connection.prepareCall(sql);\r\n    \r\n    String[] args = {&quot;5&quot;,&quot;15&quot;,&quot;25&quot;,&quot;35&quot;}; // what to sum\r\n    Array array = new oracle.sql.ARRAY(desc, connection, args);\r\n    \r\n    cs.setArray(1, array);\r\n    cs.registerOutParameter(2, Types.INTEGER);\r\n    cs.execute();\r\n    int result = cs.getInt(2);\r\n    cs.close();\r\n\r\n","title":"How to create an oracle.sql.ARRAY object?","body":"<pre><code>// array sample (using a stored procedure to sum two or more numbers)\nConnection connection = dataSource.getConnection(username,password);\nArrayDescriptor desc = \n    ArrayDescriptor.createDescriptor(schemaName + \".\" + arrayType, connection);\n\n// first ? is the array, second ? is the result via out parameter\nString sql = \"call sum_numbers(?,?)\";\nCallableStatement cs = connection.prepareCall(sql);\n\nString[] args = {\"5\",\"15\",\"25\",\"35\"}; // what to sum\nArray array = new oracle.sql.ARRAY(desc, connection, args);\n\ncs.setArray(1, array);\ncs.registerOutParameter(2, Types.INTEGER);\ncs.execute();\nint result = cs.getInt(2);\ncs.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":1,"creation_date":1319521738,"post_id":7881299,"comment_id":9623195,"body_markdown":"Sounds elegant and straightforward, but unfortunately all my efforts ends to: `cannot find symbol: createArrayOf(java.lang.String,java.lang.String[]) location: interface java.sql.Connection`. Thanks anyway !","body":"Sounds elegant and straightforward, but unfortunately all my efforts ends to: <code>cannot find symbol: createArrayOf(java.lang.String,java.lang.String[]) location: interface java.sql.Connection</code>. Thanks anyway !"},{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":0,"creation_date":1319523866,"post_id":7881299,"comment_id":9623513,"body_markdown":"Ah ! From [Oracle documentation](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/ssid.htm#CIHIEBGC): _the server-side embedded JVM uses Java Development Kit (JDK) 1.5_.","body":"Ah ! From <a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/ssid.htm#CIHIEBGC\" rel=\"nofollow noreferrer\">Oracle documentation</a>: <i>the server-side embedded JVM uses Java Development Kit (JDK) 1.5</i>."},{"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":10,"creation_date":1319524132,"post_id":7881299,"comment_id":9623550,"body_markdown":"Ah ! From [Oracle documentation](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1059642): _Oracle JDBC does not support the JDBC 4.0 method createArrayOf method of java.sql.Connection interface. This method only allows anonymous array types, while all Oracle array types are named. Use the Oracle specific method oracle.jdbc.OracleConnection.createARRAY instead._","body":"Ah ! From <a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1059642\" rel=\"nofollow noreferrer\">Oracle documentation</a>: <i>Oracle JDBC does not support the JDBC 4.0 method createArrayOf method of java.sql.Connection interface. This method only allows anonymous array types, while all Oracle array types are named. Use the Oracle specific method oracle.jdbc.OracleConnection.createARRAY instead.</i>"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1687936535,"post_id":7881299,"comment_id":135004962,"body_markdown":"`Connection.createArrayOf()` is still unsupported by Oracle 19, it throws a java.sql.SQLFeatureNotSupportedException. Rather use `OracleConnection.createOracleArray()` instead.","body":"<code>Connection.createArrayOf()</code> is still unsupported by Oracle 19, it throws a java.sql.SQLFeatureNotSupportedException. Rather use <code>OracleConnection.createOracleArray()</code> instead."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319489749,"creation_date":1319486735,"answer_id":7881299,"question_id":7878735,"body_markdown":"Just to mention that in Java 1.6 you have [`connection.createArrayOf(..)`][1], which is standard.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5B%5D%29","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Just to mention that in Java 1.6 you have <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5B%5D%29\" rel=\"nofollow\"><code>connection.createArrayOf(..)</code></a>, which is standard.</p>\n"},{"tags":[],"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319537618,"creation_date":1319536505,"answer_id":7887536,"question_id":7878735,"body_markdown":"Based on answers of Affe and Chris Mazzola I have succeeded to build two examples that compile in Oracle 11g R2 database.\r\n\r\n**Example based on Affe&#39;s answer**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n\r\n    create or replace and compile java source named &quot;so20ja1&quot; as\r\n    public class so20ja1 {\r\n        public void f1() throws java.sql.SQLException {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n            java.sql.Connection conn = ora.defaultConnection();\r\n            oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection)conn;\r\n            java.sql.Array widgets = oraConn.createARRAY(&quot;widgets_t&quot;, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20ja1&quot;\r\n\r\n**Example based on Chris Mazzola&#39;s answer**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n\r\n    create or replace and compile java source named &quot;so20ja2&quot; as\r\n    public class so20ja2 {\r\n        public void f1() throws java.sql.SQLException {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n            java.sql.Connection conn = ora.defaultConnection();\r\n            oracle.sql.ArrayDescriptor desc = \r\n                oracle.sql.ArrayDescriptor.createDescriptor(&quot;widgets_t&quot;, conn);\r\n            java.sql.Array widgets = new oracle.sql.ARRAY(desc, conn, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20ja2&quot;\r\n","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Based on answers of Affe and Chris Mazzola I have succeeded to build two examples that compile in Oracle 11g R2 database.</p>\n\n<p><strong>Example based on Affe's answer</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20ja1\" as\npublic class so20ja1 {\n    public void f1() throws java.sql.SQLException {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\n        java.sql.Connection conn = ora.defaultConnection();\n        oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection)conn;\n        java.sql.Array widgets = oraConn.createARRAY(\"widgets_t\", elements);\n    }\n};\n/\nshow errors java source \"so20ja1\"\n</code></pre>\n\n<p><strong>Example based on Chris Mazzola's answer</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20ja2\" as\npublic class so20ja2 {\n    public void f1() throws java.sql.SQLException {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\n        java.sql.Connection conn = ora.defaultConnection();\n        oracle.sql.ArrayDescriptor desc = \n            oracle.sql.ArrayDescriptor.createDescriptor(\"widgets_t\", conn);\n        java.sql.Array widgets = new oracle.sql.ARRAY(desc, conn, elements);\n    }\n};\n/\nshow errors java source \"so20ja2\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13318707,"reputation":1,"user_id":9614170,"display_name":"AKHILESH KUMAR SINGH 11BEE1082"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687936653,"creation_date":1628750503,"answer_id":68752742,"question_id":7878735,"body_markdown":"\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    \r\n    \t\tparams.put(&quot;input_to_sp&quot;, new ExampleArrayMapper (new String[] { &quot;ABC&quot; }));\r\n    \r\n    \t\tMap&lt;String, Object&gt; results = spObject.execute(params);\r\n    \r\n    \t\tfinal List&lt;Object&gt; output = (List&lt;Object&gt;) results.get(&quot;po_out_cur&quot;);\r\n    \r\n    \r\n        public class ExampleArrayMapper extends AbstractSqlTypeValue {\r\n    \t\tprivate String[] customObject;\r\n    \r\n    \t\tpublic ExampleArrayMapper (String[] customObject) {\r\n    \t\t\tthis.customObject= customObject;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getSQlTypeName() throws SQLException {\r\n    \t\t\treturn &quot;NAME_OF_TYPE_IN_SQL&quot;;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected Object createTypeValue(Connection con, int sqlType, String typeName) throws SQLException {\r\n    \t\t\ttry {\r\n    \t\t\t\tcon = dataSource.getConnection().unwrap(OracleConnection.class);\r\n    \t\t\t\tArray reportsArray = ((OracleConnection) con).createOracleArray(SQL_TYPE_NAME, customObject);\r\n    \t\t\t\treturn reportsArray;\r\n    \t\t\t} finally {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to create an oracle.sql.ARRAY object?","body":"<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\n        params.put(&quot;input_to_sp&quot;, new ExampleArrayMapper (new String[] { &quot;ABC&quot; }));\n\n        Map&lt;String, Object&gt; results = spObject.execute(params);\n\n        final List&lt;Object&gt; output = (List&lt;Object&gt;) results.get(&quot;po_out_cur&quot;);\n\n\n    public class ExampleArrayMapper extends AbstractSqlTypeValue {\n        private String[] customObject;\n\n        public ExampleArrayMapper (String[] customObject) {\n            this.customObject= customObject;\n        }\n\n        public String getSQlTypeName() throws SQLException {\n            return &quot;NAME_OF_TYPE_IN_SQL&quot;;\n        }\n\n        @Override\n        protected Object createTypeValue(Connection con, int sqlType, String typeName) throws SQLException {\n            try {\n                con = dataSource.getConnection().unwrap(OracleConnection.class);\n                Array reportsArray = ((OracleConnection) con).createOracleArray(SQL_TYPE_NAME, customObject);\n                return reportsArray;\n            } finally {\n                con.close();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676559045,"creation_date":1676280792,"answer_id":75434108,"question_id":7878735,"body_markdown":"Oracle 12.2 version:\r\n\r\n```\r\noracle.jdbc.OracleArray  v_arr ;\r\nString[] v_list ;\r\n\r\n\r\nv_arr = ((oracle.jdbc.OracleConnection)DriverManager.getConnection(&quot;jdbc:default:connection:&quot;)).createARRAY ( &quot;T_STRING_ARRAY&quot; , v_list ) ;\r\n```","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Oracle 12.2 version:</p>\n<pre><code>oracle.jdbc.OracleArray  v_arr ;\nString[] v_list ;\n\n\nv_arr = ((oracle.jdbc.OracleConnection)DriverManager.getConnection(&quot;jdbc:default:connection:&quot;)).createARRAY ( &quot;T_STRING_ARRAY&quot; , v_list ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688036341,"creation_date":1687942280,"answer_id":76571542,"question_id":7878735,"body_markdown":"Here is a working example tested with Oracle 19:\r\n\r\n    final BigDecimal[] plainJavaArray = new BigDecimal[]{BigDecimal.valueOf(1L), BigDecimal.valueOf(2L)};\r\n    final oracle.jdbc.OracleConnection oracleConnection = (oracle.jdbc.OracleConnection) jdbcConnection;\r\n    final java.sql.Array array = oracleConnection.createOracleArray(&quot;SYS.ODCINUMBERLIST&quot;, plainJavaArray);\r\n\r\nKeep in mind some very important aspects:\r\n\r\n - [oracle.jdbc.OracleConnection.createOracleArray()][1] expects the array type name, not the element type name unlike [java.sql.Connection.createArrayOf()][2].\r\n- [java.sql.Connection.createArrayOf()][2] throws a java.sql.SQLFeatureNotSupportedException.\r\n - The first parameter is case-sensitive; if you pass the correct array type name with the wrong case, you&#39;ll get an SQLException complaining about a wrong model name.\r\n - You can use `SYS.ODCIVARCHAR2LIST` or `SYS.FI_CATEGORICALS` for `VARCHAR2`, `SYS.ODCIDATELIST` for `DATE`, etc. `SYS.ODCIGRANULELIST` is twice bigger than `SYS.ODCINUMBERLIST` and if it&#39;s not enough, use `SYS.FI_NUMERICALS`. I haven&#39;t tested with user-defined types but `CREATE TYPE ARRAY_OF_THING IS TABLE OF THING` should work.\r\n - Don&#39;t use deprecated methods, they&#39;ll stop working or be removed sooner or later.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/OracleConnection.html#createOracleArray_java_lang_String_java_lang_Object_\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#createArrayOf(java.lang.String,java.lang.Object[])","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Here is a working example tested with Oracle 19:</p>\n<pre><code>final BigDecimal[] plainJavaArray = new BigDecimal[]{BigDecimal.valueOf(1L), BigDecimal.valueOf(2L)};\nfinal oracle.jdbc.OracleConnection oracleConnection = (oracle.jdbc.OracleConnection) jdbcConnection;\nfinal java.sql.Array array = oracleConnection.createOracleArray(&quot;SYS.ODCINUMBERLIST&quot;, plainJavaArray);\n</code></pre>\n<p>Keep in mind some very important aspects:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/OracleConnection.html#createOracleArray_java_lang_String_java_lang_Object_\" rel=\"nofollow noreferrer\">oracle.jdbc.OracleConnection.createOracleArray()</a> expects the array type name, not the element type name unlike <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#createArrayOf(java.lang.String,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">java.sql.Connection.createArrayOf()</a>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#createArrayOf(java.lang.String,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">java.sql.Connection.createArrayOf()</a> throws a java.sql.SQLFeatureNotSupportedException.</li>\n<li>The first parameter is case-sensitive; if you pass the correct array type name with the wrong case, you'll get an SQLException complaining about a wrong model name.</li>\n<li>You can use <code>SYS.ODCIVARCHAR2LIST</code> or <code>SYS.FI_CATEGORICALS</code> for <code>VARCHAR2</code>, <code>SYS.ODCIDATELIST</code> for <code>DATE</code>, etc. <code>SYS.ODCIGRANULELIST</code> is twice bigger than <code>SYS.ODCINUMBERLIST</code> and if it's not enough, use <code>SYS.FI_NUMERICALS</code>. I haven't tested with user-defined types but <code>CREATE TYPE ARRAY_OF_THING IS TABLE OF THING</code> should work.</li>\n<li>Don't use deprecated methods, they'll stop working or be removed sooner or later.</li>\n</ul>\n"}],"owner":{"account_id":101336,"reputation":10533,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59613,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7879073,"answer_count":7,"score":8,"last_activity_date":1688036341,"creation_date":1319473474,"question_id":7878735,"body_markdown":"This question is related to my original issue [How to return an array from Java to PL/SQL ?](https://stackoverflow.com/q/7872688), but is a more specific.\r\n\r\nI have been reading [Oracle Database JDBC Developer&#39;s Guide](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/toc.htm) and\r\n\r\n  * [Creating ARRAY objects](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647)\r\n  * [Server-Side Internal Driver](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/ssid.htm)\r\n  * [oracle.jdbc.OracleConnection](http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleConnection.html)\r\n  * [oracle.jdbc.OracleDriver](http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html)\r\n\r\nbut I still fail to write a minimum code where I can create ARRAY using \r\n\r\n    ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);\r\n\r\nas instructed in [Creating ARRAY objects](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647).\r\n\r\nI&#39;m using Oracle Database JVM.\r\n\r\nI have tried following:\r\n\r\n**Example 1**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n    \r\n    create or replace and compile java source named &quot;so20j1&quot; as\r\n    public class so20j1 {\r\n        public void f1() {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.sql.ARRAY widgets =\r\n                oracle.jdbc.OracleConnection.createARRAY(&quot;widgets_t&quot;, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20j1&quot;\r\n\r\nFails with:\r\n\r\n    Errors for JAVA SOURCE &quot;so20j1&quot;:\r\n    \r\n    LINE/COL ERROR\r\n    -------- -----------------------------------------------------------------\r\n    0/0\t so20j1:4: non-static method\r\n    \t createARRAY(java.lang.String,java.lang.Object) cannot be\r\n    \t referenced from a static context\r\n    \r\n    0/0\t 1 error\r\n    0/0\t ^\r\n    0/0\t oracle.sql.ARRAY widgets =\r\n    \t oracle.jdbc.OracleConnection.createARRAY(&quot;widgets_t&quot;, elements);\r\n\r\n**Example 2**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n\r\n    create or replace and compile java source named &quot;so20j2&quot; as\r\n    \r\n    public class so20j2 {\r\n        public void f1() {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n            java.sql.Connection conn = ora.defaultConnection();\r\n            oracle.sql.ARRAY widgets = conn.createARRAY(&quot;widgets_t&quot;, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20j2&quot;\r\n\r\nFails with:\r\n\r\n    Errors for JAVA SOURCE &quot;so20j2&quot;:\r\n    \r\n    LINE/COL ERROR\r\n    -------- -----------------------------------------------------------------\r\n    0/0\t so20j2:6: cannot find symbol\r\n    0/0\t symbol  : method createARRAY(java.lang.String,java.lang.String[])\r\n    0/0\t 1 error\r\n    0/0\t oracle.sql.ARRAY widgets = conn.createARRAY(&quot;widgets_t&quot;,\r\n    \t elements);\r\n    \r\n    0/0\t ^\r\n    0/0\t location: interface java.sql.Connection\r\n\r\nDisclaimer: I&#39;m not a Java programmer (yet).","title":"How to create an oracle.sql.ARRAY object?","body":"<p>This question is related to my original issue <a href=\"https://stackoverflow.com/q/7872688\">How to return an array from Java to PL/SQL ?</a>, but is a more specific.</p>\n\n<p>I have been reading <a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/toc.htm\" rel=\"nofollow noreferrer\">Oracle Database JDBC Developer's Guide</a> and</p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647\" rel=\"nofollow noreferrer\">Creating ARRAY objects</a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/ssid.htm\" rel=\"nofollow noreferrer\">Server-Side Internal Driver</a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleConnection.html\" rel=\"nofollow noreferrer\">oracle.jdbc.OracleConnection</a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">oracle.jdbc.OracleDriver</a></li>\n</ul>\n\n<p>but I still fail to write a minimum code where I can create ARRAY using </p>\n\n<pre><code>ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);\n</code></pre>\n\n<p>as instructed in <a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647\" rel=\"nofollow noreferrer\">Creating ARRAY objects</a>.</p>\n\n<p>I'm using Oracle Database JVM.</p>\n\n<p>I have tried following:</p>\n\n<p><strong>Example 1</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20j1\" as\npublic class so20j1 {\n    public void f1() {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.sql.ARRAY widgets =\n            oracle.jdbc.OracleConnection.createARRAY(\"widgets_t\", elements);\n    }\n};\n/\nshow errors java source \"so20j1\"\n</code></pre>\n\n<p>Fails with:</p>\n\n<pre><code>Errors for JAVA SOURCE \"so20j1\":\n\nLINE/COL ERROR\n-------- -----------------------------------------------------------------\n0/0  so20j1:4: non-static method\n     createARRAY(java.lang.String,java.lang.Object) cannot be\n     referenced from a static context\n\n0/0  1 error\n0/0  ^\n0/0  oracle.sql.ARRAY widgets =\n     oracle.jdbc.OracleConnection.createARRAY(\"widgets_t\", elements);\n</code></pre>\n\n<p><strong>Example 2</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20j2\" as\n\npublic class so20j2 {\n    public void f1() {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\n        java.sql.Connection conn = ora.defaultConnection();\n        oracle.sql.ARRAY widgets = conn.createARRAY(\"widgets_t\", elements);\n    }\n};\n/\nshow errors java source \"so20j2\"\n</code></pre>\n\n<p>Fails with:</p>\n\n<pre><code>Errors for JAVA SOURCE \"so20j2\":\n\nLINE/COL ERROR\n-------- -----------------------------------------------------------------\n0/0  so20j2:6: cannot find symbol\n0/0  symbol  : method createARRAY(java.lang.String,java.lang.String[])\n0/0  1 error\n0/0  oracle.sql.ARRAY widgets = conn.createARRAY(\"widgets_t\",\n     elements);\n\n0/0  ^\n0/0  location: interface java.sql.Connection\n</code></pre>\n\n<p>Disclaimer: I'm not a Java programmer (yet).</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":7968015,"reputation":33,"user_id":6013693,"accept_rate":83,"display_name":"Jokes on me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688036214,"creation_date":1688036214,"question_id":76580393,"body_markdown":"This is my entity:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@Table()\r\n@Audited\r\npublic class Group {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;uuid-gen&quot;, strategy = &quot;uuid2&quot;)\r\n    @GeneratedValue(generator = &quot;uuid-gen&quot;)\r\n    @Column(columnDefinition = &quot;uuid&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_grouping&quot;, referencedColumnName = &quot;id&quot;, updatable = false)\r\n    private Group grouping;\r\n}\r\n```\r\n\r\nThat means one Group can have one Grouping.\r\nFor example, we can have the five following registers:\r\n\r\n```\r\nGroup 1 - Sweet Box\r\nGroup 2 - Candy Paper\r\nGroup 3 - Gum Paper\r\nGroup 4 - Candy\r\nGroup 5 - Gum\r\n```\r\n\r\nAnd we&#39;ll have the following connections between groups:\r\n\r\n```\r\nSweet Box -&gt; Candy Paper -&gt; Candy\r\nSweet Box -&gt; Gum Paper -&gt; Gum\r\n```\r\n\r\nWhere &quot;Sweet Box&quot; is the parent of Candy Paper and Gum Paper.\r\n\r\nIf the user try to connect &quot;Sweet Box&quot; with some of his childrens, It need to be validated, like:\r\n```\r\nSweet Box -&gt; Candy Paper -&gt; Sweet Box.\r\n```\r\n\r\nThe parent cannot be children of some of his childrens or himself. But can have an Infinite cascade of parents.\r\n\r\nSo is there anyway to do this in a single shot? Tried checking resursively but didn&#39;t find a way in JPA.","title":"Spring Data JPA OneToMany Parent recursively find if any Children is the Parent","body":"<p>This is my entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@Table()\n@Audited\npublic class Group {\n\n    @Id\n    @GenericGenerator(name = &quot;uuid-gen&quot;, strategy = &quot;uuid2&quot;)\n    @GeneratedValue(generator = &quot;uuid-gen&quot;)\n    @Column(columnDefinition = &quot;uuid&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_grouping&quot;, referencedColumnName = &quot;id&quot;, updatable = false)\n    private Group grouping;\n}\n</code></pre>\n<p>That means one Group can have one Grouping.\nFor example, we can have the five following registers:</p>\n<pre><code>Group 1 - Sweet Box\nGroup 2 - Candy Paper\nGroup 3 - Gum Paper\nGroup 4 - Candy\nGroup 5 - Gum\n</code></pre>\n<p>And we'll have the following connections between groups:</p>\n<pre><code>Sweet Box -&gt; Candy Paper -&gt; Candy\nSweet Box -&gt; Gum Paper -&gt; Gum\n</code></pre>\n<p>Where &quot;Sweet Box&quot; is the parent of Candy Paper and Gum Paper.</p>\n<p>If the user try to connect &quot;Sweet Box&quot; with some of his childrens, It need to be validated, like:</p>\n<pre><code>Sweet Box -&gt; Candy Paper -&gt; Sweet Box.\n</code></pre>\n<p>The parent cannot be children of some of his childrens or himself. But can have an Infinite cascade of parents.</p>\n<p>So is there anyway to do this in a single shot? Tried checking resursively but didn't find a way in JPA.</p>\n"},{"tags":["java","jvm","java-9","javax.activation"],"comments":[{"owner":{"account_id":2766699,"reputation":6030,"user_id":2382246,"accept_rate":100,"display_name":"blalasaadri"},"score":7,"creation_date":1542651775,"post_id":46493613,"comment_id":93636775,"body_markdown":"A small addition: JDK 11 actually removes this (as part of JEP 320), so starting with that JAF has to be included as a separate dependency if used.","body":"A small addition: JDK 11 actually removes this (as part of JEP 320), so starting with that JAF has to be included as a separate dependency if used."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1587021311,"post_id":46493613,"comment_id":108345900,"body_markdown":"what is javax activation dependency for mail required? javax.mail should suffice. Right?","body":"what is javax activation dependency for mail required? javax.mail should suffice. Right?"},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":4,"creation_date":1605069429,"post_id":46493613,"comment_id":114537127,"body_markdown":"javax.mail&#39;s MimeBodyPart uses activation&#39;s DataHandler to set the mime content for that part. I ran into that today. Couldn&#39;t figure out  why the main thread simply vanished on me while running in the IDE even. I was only catch Exception, so the class not found thing slipped right through.\nAfter telling my project should run using JRE 8, the problem went away&gt; Lost hours on this.","body":"javax.mail&#39;s MimeBodyPart uses activation&#39;s DataHandler to set the mime content for that part. I ran into that today. Couldn&#39;t figure out  why the main thread simply vanished on me while running in the IDE even. I was only catch Exception, so the class not found thing slipped right through. After telling my project should run using JRE 8, the problem went away&gt; Lost hours on this."}],"answers":[{"comments":[{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":20,"creation_date":1548871289,"post_id":46493809,"comment_id":95702559,"body_markdown":"Eclipse foundation has [taken over JavaEE development](https://www.eclipse.org/ee4j/faq.php). `javax.activation` has moved to `jakarta.activation` per https://wiki.eclipse.org/New_Maven_Coordinates","body":"Eclipse foundation has <a href=\"https://www.eclipse.org/ee4j/faq.php\" rel=\"nofollow noreferrer\">taken over JavaEE development</a>. <code>javax.activation</code> has moved to <code>jakarta.activation</code> per <a href=\"https://wiki.eclipse.org/New_Maven_Coordinates\" rel=\"nofollow noreferrer\">wiki.eclipse.org/New_Maven_Coordinates</a>"}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1539813582,"creation_date":1506705026,"answer_id":46493809,"question_id":46493613,"body_markdown":"[JavaBeans Activation Framework (JAF)](https://github.com/eclipse-ee4j/jaf) is possibly the alternative you are looking for to the existing package.\r\n\r\n&gt; This standalone release of JAF uses a Java Platform Module System\r\n&gt; ***automatic module*** name of **[`java.activation`](https://docs.oracle.com/javase/9/docs/api/java.activation-summary.htmll)**, to match the module name\r\n&gt; used in JDK 9. A future version will include full module metadata.\r\n\r\nThe standalone APIs are supported in modular form only, via the concept of *[upgradeable modules](http://openjdk.java.net/projects/jigsaw/goals-reqs/03#upgradeable-modules)*. Using them, it&#39;s possible to use a version of that module from a later release in any phase, i.e., at compile time, build time, or runtime.\r\n\r\n----------\r\n\r\n\r\nThe currently [available version](https://search.maven.org/#artifactdetails%7Ccom.sun.activation%7Cjavax.activation%7C1.2.0%7Cjar) for this is `1.2.0` which can be used like this: \r\n\r\n***Maven*** \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n***Gradle*** \r\n\r\n    compile &#39;com.sun.activation:javax.activation:1.2.0&#39;\r\n\r\n***Ivy***\r\n\r\n    &lt;dependency org=&quot;com.sun.activation&quot; name=&quot;javax.activation&quot; rev=&quot;1.2.0&quot; /&gt;\r\n","title":"What is the replacement for javax.activation package in java 9?","body":"<p><a href=\"https://github.com/eclipse-ee4j/jaf\" rel=\"noreferrer\">JavaBeans Activation Framework (JAF)</a> is possibly the alternative you are looking for to the existing package.</p>\n\n<blockquote>\n  <p>This standalone release of JAF uses a Java Platform Module System\n  <strong><em>automatic module</em></strong> name of <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java.activation-summary.htmll\" rel=\"noreferrer\"><code>java.activation</code></a></strong>, to match the module name\n  used in JDK 9. A future version will include full module metadata.</p>\n</blockquote>\n\n<p>The standalone APIs are supported in modular form only, via the concept of <em><a href=\"http://openjdk.java.net/projects/jigsaw/goals-reqs/03#upgradeable-modules\" rel=\"noreferrer\">upgradeable modules</a></em>. Using them, it's possible to use a version of that module from a later release in any phase, i.e., at compile time, build time, or runtime.</p>\n\n<hr>\n\n<p>The currently <a href=\"https://search.maven.org/#artifactdetails%7Ccom.sun.activation%7Cjavax.activation%7C1.2.0%7Cjar\" rel=\"noreferrer\">available version</a> for this is <code>1.2.0</code> which can be used like this: </p>\n\n<p><strong><em>Maven</em></strong> </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong><em>Gradle</em></strong> </p>\n\n<pre><code>compile 'com.sun.activation:javax.activation:1.2.0'\n</code></pre>\n\n<p><strong><em>Ivy</em></strong></p>\n\n<pre><code>&lt;dependency org=\"com.sun.activation\" name=\"javax.activation\" rev=\"1.2.0\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1506705784,"post_id":46493853,"comment_id":79942300,"body_markdown":"So with `javaee-api` dependency with scope=provided I have to add this one?","body":"So with <code>javaee-api</code> dependency with scope=provided I have to add this one?"},{"owner":{"account_id":6402290,"reputation":12678,"user_id":4964553,"display_name":"jonashackt"},"score":3,"creation_date":1567165477,"post_id":46493853,"comment_id":101892355,"body_markdown":"Now with JakartaEE, the sources are hosted by the Eclipse foundation and could be found on GitHub: https://github.com/eclipse-ee4j/jaf and on Maven central: https://mvnrepository.com/artifact/com.sun.activation/jakarta.activation With that the `artifactId` changed to `jakarta.activation` and the version number to `1.2.1`","body":"Now with JakartaEE, the sources are hosted by the Eclipse foundation and could be found on GitHub: <a href=\"https://github.com/eclipse-ee4j/jaf\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaf</a> and on Maven central: <a href=\"https://mvnrepository.com/artifact/com.sun.activation/jakarta.activation\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.sun.activation/&hellip;</a> With that the <code>artifactId</code> changed to <code>jakarta.activation</code> and the version number to <code>1.2.1</code>"}],"tags":[],"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1599565200,"creation_date":1506705240,"answer_id":46493853,"question_id":46493613,"body_markdown":"The JavaBeans Activiation Framework is a standalone technology with its own maintenance JSR in the JCP and its own download. Yes, Java SE 9 has deprecated it and has proposes to remove in a future release along with the modules shared with Java EE but this doesn&#39;t impact the standalone version. The standalone version will live on. If you are using Maven then this should work:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand if you are developing a module then you can use `requires java.activation`.","title":"What is the replacement for javax.activation package in java 9?","body":"<p>The JavaBeans Activiation Framework is a standalone technology with its own maintenance JSR in the JCP and its own download. Yes, Java SE 9 has deprecated it and has proposes to remove in a future release along with the modules shared with Java EE but this doesn't impact the standalone version. The standalone version will live on. If you are using Maven then this should work:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n  &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and if you are developing a module then you can use <code>requires java.activation</code>.</p>\n"},{"tags":[],"owner":{"account_id":1841182,"reputation":21,"user_id":1670531,"display_name":"Michal Cz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556017754,"creation_date":1556017754,"answer_id":55809875,"question_id":46493613,"body_markdown":"As written above, java versions &gt; 8 are not providing javax.activation. I met this exception when working on camel project. I&#39;ve just added the following dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What is the replacement for javax.activation package in java 9?","body":"<p>As written above, java versions > 8 are not providing javax.activation. I met this exception when working on camel project. I've just added the following dependency:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.activation&lt;/groupId&gt;\n&lt;artifactId&gt;activation&lt;/artifactId&gt;\n&lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1317517,"reputation":314,"user_id":1264066,"display_name":"Benjam&#237;n Valero"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592126786,"creation_date":1592126786,"answer_id":62370666,"question_id":46493613,"body_markdown":"I am using module configuration in my project, so this issue has been simply solved by adding `requires java.activation` to the `module-info.java` file.","title":"What is the replacement for javax.activation package in java 9?","body":"<p>I am using module configuration in my project, so this issue has been simply solved by adding <code>requires java.activation</code> to the <code>module-info.java</code> file.</p>\n"},{"comments":[{"owner":{"account_id":200606,"reputation":599,"user_id":446549,"accept_rate":62,"display_name":"JasonH"},"score":0,"creation_date":1632413766,"post_id":65144335,"comment_id":122491675,"body_markdown":"This worked for me.  I had to install Eclipse fresh (work from home) to work on a legacy project, and the latest Eclipse (20210910-1417) has its own JDK that can compile Java 8, but does not include the original javax.activation jar file, as noted.  I needed Mime in the mail package, and jakarta.activation-1.2.1.jar allowed the project to get compiled.","body":"This worked for me.  I had to install Eclipse fresh (work from home) to work on a legacy project, and the latest Eclipse (20210910-1417) has its own JDK that can compile Java 8, but does not include the original javax.activation jar file, as noted.  I needed Mime in the mail package, and jakarta.activation-1.2.1.jar allowed the project to get compiled."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1682347019,"post_id":65144335,"comment_id":134196525,"body_markdown":"There is **no** such dependency::: `-\n                                 &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;                                                         \n                    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n                                          &lt;version&gt;1.2.2&lt;/version&gt;` - changed the version to 1.2.0","body":"There is <b>no</b> such dependency::: <code>-                                  &lt;groupId&gt;com.sun.activation&lt;&#47;groupId&gt;                                                                              &lt;artifactId&gt;javax.activation&lt;&#47;artifactId&gt;                                           &lt;version&gt;1.2.2&lt;&#47;version&gt;</code> - changed the version to 1.2.0"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1688036184,"creation_date":1607088093,"answer_id":65144335,"question_id":46493613,"body_markdown":"# Update 2020\r\n_the next renaming_\r\n\r\n(due to some legal [issues][1], `javax.*` was renamed to `jakarta.*`. So the current 1.2.2+ versions of [Jakarta Activation Framework][2] use the names:\r\n- `jakarta.activation:jakarta.activation-api` (instead of `javax.activation:javax.activation-api`) or\r\n- `com.sun.activation:jakarta.activation` (instead of `com.sun.activation:javax.activation` and `javax.activation:activation`) \r\n\r\n\r\n\r\n(The package names within this libraries is still `javax.activation` so this issue is just with the Maven dependency names)\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAttention: you do **not** need both dependencies, because `com.sun.activation:javax.activation` include the classes from `jakarta.activation:jakarta.activation-api`\r\n\r\n-----\r\n**Hint** Use Maven enforcer to keep your project free of this duplicates:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;enforce-lib-ban&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;bannedDependencies&gt;\r\n                        &lt;!-- the activation framework was renamed to jarkata activation framework --&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;javax.activation:javax.actication-api&lt;/exclude&gt;                        \r\n                            &lt;exclude&gt;com.sun.activation:javax.activation&lt;/exclude&gt;\r\n                            &lt;exclude&gt;javax.activation:activation&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                        &lt;message&gt;use jakarta.activation:jakarta.activation-api or com.sun.activation:jakarta.activation instead of javax.activation&lt;/message&gt;\r\n                    &lt;/bannedDependencies&gt;\r\n&lt;!-- if you use com.sun.activation:jakarta.activation\r\n                    &lt;bannedDependencies&gt;\r\n                        &lt;!- - the implementation com.sun.activation:jakarta.activation contains the api classes too - -&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;jakarta.activation:jakarta.activation-api&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                        &lt;message&gt;the implementation com.sun.activation:jakarta.activation is included and it contains the api classes too&lt;/message&gt;\r\n                    &lt;/bannedDependencies&gt;\r\n--&gt;\r\n                &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://eclipse-foundation.blog/2019/05/03/jakarta-ee-java-trademarks/\r\n  [2]: https://eclipse-ee4j.github.io/jaf/","title":"What is the replacement for javax.activation package in java 9?","body":"<h1>Update 2020</h1>\n<p><em>the next renaming</em></p>\n<p>(due to some legal <a href=\"https://eclipse-foundation.blog/2019/05/03/jakarta-ee-java-trademarks/\" rel=\"nofollow noreferrer\">issues</a>, <code>javax.*</code> was renamed to <code>jakarta.*</code>. So the current 1.2.2+ versions of <a href=\"https://eclipse-ee4j.github.io/jaf/\" rel=\"nofollow noreferrer\">Jakarta Activation Framework</a> use the names:</p>\n<ul>\n<li><code>jakarta.activation:jakarta.activation-api</code> (instead of <code>javax.activation:javax.activation-api</code>) or</li>\n<li><code>com.sun.activation:jakarta.activation</code> (instead of <code>com.sun.activation:javax.activation</code> and <code>javax.activation:activation</code>)</li>\n</ul>\n<p>(The package names within this libraries is still <code>javax.activation</code> so this issue is just with the Maven dependency names)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Attention: you do <strong>not</strong> need both dependencies, because <code>com.sun.activation:javax.activation</code> include the classes from <code>jakarta.activation:jakarta.activation-api</code></p>\n<hr />\n<p><strong>Hint</strong> Use Maven enforcer to keep your project free of this duplicates:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;enforce-lib-ban&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;bannedDependencies&gt;\n                        &lt;!-- the activation framework was renamed to jarkata activation framework --&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;javax.activation:javax.actication-api&lt;/exclude&gt;                        \n                            &lt;exclude&gt;com.sun.activation:javax.activation&lt;/exclude&gt;\n                            &lt;exclude&gt;javax.activation:activation&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;message&gt;use jakarta.activation:jakarta.activation-api or com.sun.activation:jakarta.activation instead of javax.activation&lt;/message&gt;\n                    &lt;/bannedDependencies&gt;\n&lt;!-- if you use com.sun.activation:jakarta.activation\n                    &lt;bannedDependencies&gt;\n                        &lt;!- - the implementation com.sun.activation:jakarta.activation contains the api classes too - -&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;jakarta.activation:jakarta.activation-api&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;message&gt;the implementation com.sun.activation:jakarta.activation is included and it contains the api classes too&lt;/message&gt;\n                    &lt;/bannedDependencies&gt;\n--&gt;\n                &lt;/rules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617201979,"creation_date":1617201979,"answer_id":66890088,"question_id":46493613,"body_markdown":"I have to send mail in Liferay 7.1 so I added dependency like this\r\n\r\ncompile &#39;javax.mail:mail:1.4.7&#39;\r\n\r\n","title":"What is the replacement for javax.activation package in java 9?","body":"<p>I have to send mail in Liferay 7.1 so I added dependency like this</p>\n<p>compile 'javax.mail:mail:1.4.7'</p>\n"}],"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115881,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":46493809,"answer_count":6,"score":85,"last_activity_date":1688036184,"creation_date":1506704153,"question_id":46493613,"body_markdown":"Seems like `javax.activation` package is deprecated in Java 9.\r\nOracle migration guide proposes to use `--add-modules java.activation` option during JVM start. \r\n\r\nHowever, I would like to avoid this and replace `javax.activation` package&#39;s classes, as it is deprecated and will be removed in future java versions. I suppose, there should be some kind of alternative for `javax.activation`. If there is any available, what is it?\r\n\r\n","title":"What is the replacement for javax.activation package in java 9?","body":"<p>Seems like <code>javax.activation</code> package is deprecated in Java 9.\nOracle migration guide proposes to use <code>--add-modules java.activation</code> option during JVM start. </p>\n\n<p>However, I would like to avoid this and replace <code>javax.activation</code> package's classes, as it is deprecated and will be removed in future java versions. I suppose, there should be some kind of alternative for <code>javax.activation</code>. If there is any available, what is it?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687857827,"post_id":76563413,"comment_id":134991923,"body_markdown":"What&#39;s the source code of `DemotechnikApplicationTests`?","body":"What&#39;s the source code of <code>DemotechnikApplicationTests</code>?"},{"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"score":0,"creation_date":1687857983,"post_id":76563413,"comment_id":134991955,"body_markdown":"It&#39;s completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working.But I think the issue is not related to code.","body":"It&#39;s completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working.But I think the issue is not related to code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687858177,"post_id":76563413,"comment_id":134991982,"body_markdown":"Please edit your question and add the source code of `DemotechnikApplicationTests`. What&#39;s an &quot;empty app&quot;?","body":"Please edit your question and add the source code of <code>DemotechnikApplicationTests</code>. What&#39;s an &quot;empty app&quot;?"},{"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"score":0,"creation_date":1687860500,"post_id":76563413,"comment_id":134992505,"body_markdown":"Did you forget @SpringBootApplication annotation?","body":"Did you forget @SpringBootApplication annotation?"},{"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"score":0,"creation_date":1687860783,"post_id":76563413,"comment_id":134992571,"body_markdown":"@Egor no it&#39;s there","body":"@Egor no it&#39;s there"}],"answers":[{"tags":[],"owner":{"account_id":28889835,"reputation":21,"user_id":22127239,"display_name":"NeveMore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687863664,"creation_date":1687863664,"answer_id":76564186,"question_id":76563413,"body_markdown":"Sorry I do not have authority to comment directly so I add a answer here.\r\n\r\nI tried your code on my local and it can start successfully without `Process finished with exit code 0`.\r\n\r\nI checked your log and I think one possible problem is that your application has NOT been regarded as a web application. \r\n\r\nThe log ends with\r\n\r\n    2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\r\n    \r\nSo please check whether you are running DemotechnikApplicationTests actually.\r\n\r\nBTW, my local log includes the tomcat, please check whether it is correctly configured.\r\n\r\n    o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.76]\r\n    o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n\r\n\r\n","title":"Springboot Java webapp error : process finished with exit code 0","body":"<p>Sorry I do not have authority to comment directly so I add a answer here.</p>\n<p>I tried your code on my local and it can start successfully without <code>Process finished with exit code 0</code>.</p>\n<p>I checked your log and I think one possible problem is that your application has NOT been regarded as a web application.</p>\n<p>The log ends with</p>\n<pre><code>2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\n</code></pre>\n<p>So please check whether you are running DemotechnikApplicationTests actually.</p>\n<p>BTW, my local log includes the tomcat, please check whether it is correctly configured.</p>\n<pre><code>o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\no.apache.catalina.core.StandardService   : Starting service [Tomcat]\norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.76]\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688035861,"creation_date":1688035861,"answer_id":76580342,"question_id":76563413,"body_markdown":"I made a silly mistake there. As I told I am new to JAVA, this was indeed my first code.\r\n***I was running the package instead of app.***\r\nIt just runs the test and that&#39;s the output pasted above.","title":"Springboot Java webapp error : process finished with exit code 0","body":"<p>I made a silly mistake there. As I told I am new to JAVA, this was indeed my first code.\n<em><strong>I was running the package instead of app.</strong></em>\nIt just runs the test and that's the output pasted above.</p>\n"}],"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580342,"answer_count":2,"score":0,"last_activity_date":1688035861,"creation_date":1687857674,"question_id":76563413,"body_markdown":"My app always exit. &quot;process finished with exit code 0&quot;.\r\nI tried with different versions of JAVA, Springboot but I get same issue everytime.\r\n\r\nBelow is the run output and POM file data\r\n```\r\npackage com.technik.demotechnik;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemotechnikApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemotechnikApplication.class, args);\r\n\t\tSystem.out.println(&quot;Hello, world!&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.13&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.technik&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demotechnik&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demotechnik&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nBuild log\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -ea -Didea.test.cyclic.buffer.size=1048576 -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64000:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-launcher/1.8.2/junit-platform-launcher-1.8.2.jar:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit5-rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit-rt.jar:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/test-classes:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-data-mongodb/2.7.13/spring-boot-starter-data-mongodb-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter/2.7.13/spring-boot-starter-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot/2.7.13/spring-boot-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.7.13/spring-boot-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.7.13/spring-boot-starter-logging-2.7.13.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-classic/1.2.12/logback-classic-1.2.12.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-core/1.2.12/logback-core-1.2.12.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.2/log4j-to-slf4j-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar:/Users/nikunjrai/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/nikunjrai/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-sync/4.6.1/mongodb-driver-sync-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson/4.6.1/bson-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-core/4.6.1/mongodb-driver-core-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson-record-codec/4.6.1/bson-record-codec-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-mongodb/3.4.13/spring-data-mongodb-3.4.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-tx/5.3.28/spring-tx-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-context/5.3.28/spring-context-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-beans/5.3.28/spring-beans-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-expression/5.3.28/spring-expression-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-commons/2.7.13/spring-data-commons-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.13/spring-boot-starter-web-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.7.13/spring-boot-starter-json-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.5/jackson-databind-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.5/jackson-annotations-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.5/jackson-core-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.13.5/jackson-datatype-jdk8-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.5/jackson-datatype-jsr310-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.13.5/jackson-module-parameter-names-2.13.5.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.7.13/spring-boot-starter-tomcat-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.76/tomcat-embed-core-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.76/tomcat-embed-el-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.76/tomcat-embed-websocket-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-web/5.3.28/spring-web-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-webmvc/5.3.28/spring-webmvc-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-aop/5.3.28/spring-aop-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/projectlombok/lombok/1.18.28/lombok-1.18.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.7.13/spring-boot-starter-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test/2.7.13/spring-boot-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.7.13/spring-boot-test-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/jayway/jsonpath/json-path/2.7.0/json-path-2.7.0.jar:/Users/nikunjrai/.m2/repository/net/minidev/json-smart/2.4.11/json-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/net/minidev/accessors-smart/2.4.11/accessors-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar:/Users/nikunjrai/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/nikunjrai/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/nikunjrai/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0.jar:/Users/nikunjrai/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.2/junit-jupiter-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-core/4.5.1/mockito-core-4.5.1.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy/1.12.23/byte-buddy-1.12.23.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.23/byte-buddy-agent-1.12.23.jar:/Users/nikunjrai/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-junit-jupiter/4.5.1/mockito-junit-jupiter-4.5.1.jar:/Users/nikunjrai/.m2/repository/org/skyscreamer/jsonassert/1.5.1/jsonassert-1.5.1.jar:/Users/nikunjrai/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-core/5.3.28/spring-core-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-jcl/5.3.28/spring-jcl-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-test/5.3.28/spring-test-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/xmlunit/xmlunit-core/2.9.1/xmlunit-core-2.9.1.jar com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 @w@/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_working_dirs_junit.tmp @/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_junit.tmp -socket63999\r\n    14:41:45.585 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\r\n    14:41:45.596 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\r\n    14:41:45.629 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.technik.demotechnik.DemotechnikApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]\r\n    14:41:45.641 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.technik.demotechnik.DemotechnikApplicationTests], using SpringBootContextLoader\r\n    14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTests-context.xml] does not exist\r\n    14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTestsContext.groovy] does not exist\r\n    14:41:45.646 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.technik.demotechnik.DemotechnikApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    14:41:45.646 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.technik.demotechnik.DemotechnikApplicationTests]: DemotechnikApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n    14:41:45.684 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an &#39;annotation declaring class&#39; for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.technik.demotechnik.DemotechnikApplicationTests]\r\n    14:41:45.733 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes/com/technik/demotechnik/DemotechnikApplication.class]\r\n    14:41:45.733 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.technik.demotechnik.DemotechnikApplication for test class com.technik.demotechnik.DemotechnikApplicationTests\r\n    14:41:45.803 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.technik.demotechnik.DemotechnikApplicationTests]: using defaults.\r\n    14:41:45.803 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\r\n    14:41:45.819 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1863d2fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1787bc24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@544d57e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55c53a33, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@53b7f657, org.springframework.test.context.support.DirtiesContextTestExecutionListener@797b0699, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a37d3ed, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26df6e3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a3631f8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6b58b9e9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f14a7d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@52e7a6b2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@29a5f4e7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@79c97cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d9caaeb]\r\n    14:41:45.822 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@34f6515b testClass = DemotechnikApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4b34fff9 testClass = DemotechnikApplicationTests, locations = &#39;{}&#39;, classes = &#39;{class com.technik.demotechnik.DemotechnikApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5aebe890, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1190200a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37271612, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6f45df59, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5609159b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@31610302], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true]], class annotated with @DirtiesContext [false] with mode [null].\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::               (v2.7.13)\r\n    \r\n    2023-06-27 14:41:46.253  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Starting DemotechnikApplicationTests using Java 19.0.2 on Nikunjs-MacBook-Pro-2.local with PID 25047 (started by nikunjrai in /Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik)\r\n    2023-06-27 14:41:46.255  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-06-27 14:41:46.682  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n    2023-06-27 14:41:46.690  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 MongoDB repository interfaces.\r\n    2023-06-27 14:41:47.623  INFO 25047 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Darwin&quot;, &quot;name&quot;: &quot;Mac OS X&quot;, &quot;architecture&quot;: &quot;x86_64&quot;, &quot;version&quot;: &quot;12.6&quot;}, &quot;platform&quot;: &quot;Java/Oracle Corporation/19.0.2+7-44&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@21c747a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n    2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:81}] to localhost:27017\r\n    2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:80}] to localhost:27017\r\n    2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=19258901}\r\n    2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n\r\nIt&#39;s completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working\r\nI am trying to build Rest API app.I am new to JAVA.","title":"Springboot Java webapp error : process finished with exit code 0","body":"<p>My app always exit. &quot;process finished with exit code 0&quot;.\nI tried with different versions of JAVA, Springboot but I get same issue everytime.</p>\n<p>Below is the run output and POM file data</p>\n<pre><code>package com.technik.demotechnik;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemotechnikApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemotechnikApplication.class, args);\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n\n}\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.technik&lt;/groupId&gt;\n    &lt;artifactId&gt;demotechnik&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demotechnik&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Build log</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -ea -Didea.test.cyclic.buffer.size=1048576 -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64000:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-launcher/1.8.2/junit-platform-launcher-1.8.2.jar:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit5-rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit-rt.jar:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/test-classes:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-data-mongodb/2.7.13/spring-boot-starter-data-mongodb-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter/2.7.13/spring-boot-starter-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot/2.7.13/spring-boot-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.7.13/spring-boot-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.7.13/spring-boot-starter-logging-2.7.13.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-classic/1.2.12/logback-classic-1.2.12.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-core/1.2.12/logback-core-1.2.12.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.2/log4j-to-slf4j-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar:/Users/nikunjrai/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/nikunjrai/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-sync/4.6.1/mongodb-driver-sync-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson/4.6.1/bson-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-core/4.6.1/mongodb-driver-core-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson-record-codec/4.6.1/bson-record-codec-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-mongodb/3.4.13/spring-data-mongodb-3.4.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-tx/5.3.28/spring-tx-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-context/5.3.28/spring-context-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-beans/5.3.28/spring-beans-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-expression/5.3.28/spring-expression-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-commons/2.7.13/spring-data-commons-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.13/spring-boot-starter-web-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.7.13/spring-boot-starter-json-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.5/jackson-databind-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.5/jackson-annotations-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.5/jackson-core-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.13.5/jackson-datatype-jdk8-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.5/jackson-datatype-jsr310-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.13.5/jackson-module-parameter-names-2.13.5.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.7.13/spring-boot-starter-tomcat-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.76/tomcat-embed-core-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.76/tomcat-embed-el-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.76/tomcat-embed-websocket-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-web/5.3.28/spring-web-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-webmvc/5.3.28/spring-webmvc-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-aop/5.3.28/spring-aop-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/projectlombok/lombok/1.18.28/lombok-1.18.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.7.13/spring-boot-starter-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test/2.7.13/spring-boot-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.7.13/spring-boot-test-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/jayway/jsonpath/json-path/2.7.0/json-path-2.7.0.jar:/Users/nikunjrai/.m2/repository/net/minidev/json-smart/2.4.11/json-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/net/minidev/accessors-smart/2.4.11/accessors-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar:/Users/nikunjrai/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/nikunjrai/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/nikunjrai/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0.jar:/Users/nikunjrai/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.2/junit-jupiter-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-core/4.5.1/mockito-core-4.5.1.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy/1.12.23/byte-buddy-1.12.23.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.23/byte-buddy-agent-1.12.23.jar:/Users/nikunjrai/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-junit-jupiter/4.5.1/mockito-junit-jupiter-4.5.1.jar:/Users/nikunjrai/.m2/repository/org/skyscreamer/jsonassert/1.5.1/jsonassert-1.5.1.jar:/Users/nikunjrai/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-core/5.3.28/spring-core-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-jcl/5.3.28/spring-jcl-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-test/5.3.28/spring-test-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/xmlunit/xmlunit-core/2.9.1/xmlunit-core-2.9.1.jar com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 @w@/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_working_dirs_junit.tmp @/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_junit.tmp -socket63999\n14:41:45.585 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\n14:41:45.596 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\n14:41:45.629 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.technik.demotechnik.DemotechnikApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]\n14:41:45.641 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.technik.demotechnik.DemotechnikApplicationTests], using SpringBootContextLoader\n14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTests-context.xml] does not exist\n14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTestsContext.groovy] does not exist\n14:41:45.646 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.technik.demotechnik.DemotechnikApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n14:41:45.646 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.technik.demotechnik.DemotechnikApplicationTests]: DemotechnikApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n14:41:45.684 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.technik.demotechnik.DemotechnikApplicationTests]\n14:41:45.733 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes/com/technik/demotechnik/DemotechnikApplication.class]\n14:41:45.733 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.technik.demotechnik.DemotechnikApplication for test class com.technik.demotechnik.DemotechnikApplicationTests\n14:41:45.803 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.technik.demotechnik.DemotechnikApplicationTests]: using defaults.\n14:41:45.803 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\n14:41:45.819 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1863d2fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1787bc24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@544d57e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55c53a33, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@53b7f657, org.springframework.test.context.support.DirtiesContextTestExecutionListener@797b0699, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a37d3ed, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26df6e3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a3631f8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6b58b9e9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f14a7d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@52e7a6b2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@29a5f4e7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@79c97cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d9caaeb]\n14:41:45.822 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@34f6515b testClass = DemotechnikApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4b34fff9 testClass = DemotechnikApplicationTests, locations = '{}', classes = '{class com.technik.demotechnik.DemotechnikApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5aebe890, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1190200a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37271612, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6f45df59, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5609159b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@31610302], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true]], class annotated with @DirtiesContext [false] with mode [null].\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.13)\n\n2023-06-27 14:41:46.253  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Starting DemotechnikApplicationTests using Java 19.0.2 on Nikunjs-MacBook-Pro-2.local with PID 25047 (started by nikunjrai in /Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik)\n2023-06-27 14:41:46.255  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-27 14:41:46.682  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2023-06-27 14:41:46.690  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 MongoDB repository interfaces.\n2023-06-27 14:41:47.623  INFO 25047 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Darwin&quot;, &quot;name&quot;: &quot;Mac OS X&quot;, &quot;architecture&quot;: &quot;x86_64&quot;, &quot;version&quot;: &quot;12.6&quot;}, &quot;platform&quot;: &quot;Java/Oracle Corporation/19.0.2+7-44&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@21c747a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:81}] to localhost:27017\n2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:80}] to localhost:27017\n2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=19258901}\n2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\n\nProcess finished with exit code 0\n</code></pre>\n<p>It's completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working\nI am trying to build Rest API app.I am new to JAVA.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2419355,"reputation":3725,"user_id":2112722,"accept_rate":60,"display_name":"Sarah Messer"},"score":1,"creation_date":1509992329,"post_id":40761325,"comment_id":81236514,"body_markdown":"This works for BeanTester().testBean(), but is there any equivalent which works for the EqualsMethodTester() and HashCodeMethodTester() in the same package? EqualsMethodTester() accepts a Configuration, but doesn&#39;t seem to use it. HashCodeMethodTester() doesn&#39;t accept a Configuration at all...","body":"This works for BeanTester().testBean(), but is there any equivalent which works for the EqualsMethodTester() and HashCodeMethodTester() in the same package? EqualsMethodTester() accepts a Configuration, but doesn&#39;t seem to use it. HashCodeMethodTester() doesn&#39;t accept a Configuration at all..."},{"owner":{"account_id":2419355,"reputation":3725,"user_id":2112722,"accept_rate":60,"display_name":"Sarah Messer"},"score":0,"creation_date":1509998655,"post_id":40761325,"comment_id":81239794,"body_markdown":"See also https://stackoverflow.com/questions/47144425/custom-attribute-factories-for-meanbean-equalsmethodtester-and-hashcodemethodtes","body":"See also <a href=\"https://stackoverflow.com/questions/47144425/custom-attribute-factories-for-meanbean-equalsmethodtester-and-hashcodemethodtes\" title=\"custom attribute factories for meanbean equalsmethodtester and hashcodemethodtes\">stackoverflow.com/questions/47144425/&hellip;</a>"},{"owner":{"account_id":4940734,"reputation":493,"user_id":5141355,"accept_rate":54,"display_name":"Nuthan Kumar"},"score":0,"creation_date":1520399606,"post_id":40761325,"comment_id":85294273,"body_markdown":"can we overrideFactory method based on the object type ..? I have Entities with sql TimeStamp data types.","body":"can we overrideFactory method based on the object type ..? I have Entities with sql TimeStamp data types."},{"owner":{"account_id":3485243,"reputation":79,"user_id":2916366,"accept_rate":60,"display_name":"Mahendiran"},"score":0,"creation_date":1660139731,"post_id":40761325,"comment_id":129462651,"body_markdown":"Yes, we can override,  use below code.\npublic class LocalDateTimeFactory implements Factory&lt;java.sql.Timestamp&gt; {\n\t\n\tpublic Timestamp create()\n    {         \t\t \n\t\treturn Timestamp.valueOf(LocalDateTime.now());\n    }\n\n}","body":"Yes, we can override,  use below code. public class LocalDateTimeFactory implements Factory&lt;java.sql.Timestamp&gt; { \t \tpublic Timestamp create()     {         \t\t  \t\treturn Timestamp.valueOf(LocalDateTime.now());     }  }"}],"tags":[],"owner":{"account_id":4738490,"reputation":682,"user_id":3832116,"display_name":"perbellinio"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479895574,"creation_date":1479895574,"answer_id":40761325,"question_id":36640299,"body_markdown":"You can create a custom factory for your field:\r\n\r\n       class HostNamesFactory implements Factory&lt;String[]&gt; {\r\n            @Override\r\n            public String[] create() {\r\n                return new String[] {&quot;host1&quot;, &quot;host2&quot;, &quot;host3&quot;};\r\n            }\r\n        }\r\n\r\nThen use this factory when you create your custom configuration and pass it to the bean tester: \r\n\r\n        Configuration configuration = new ConfigurationBuilder().overrideFactory(&quot;hostNames&quot;, new HostNamesFactory()).build();\r\n        new BeanTester().testBean(Machine.class, configuration);\r\n\r\nI am agree this is not the perfect solution but at least the property getter and setter will be tested.","title":"meanbean: failed to test bean with arrays","body":"<p>You can create a custom factory for your field:</p>\n\n<pre><code>   class HostNamesFactory implements Factory&lt;String[]&gt; {\n        @Override\n        public String[] create() {\n            return new String[] {\"host1\", \"host2\", \"host3\"};\n        }\n    }\n</code></pre>\n\n<p>Then use this factory when you create your custom configuration and pass it to the bean tester: </p>\n\n<pre><code>    Configuration configuration = new ConfigurationBuilder().overrideFactory(\"hostNames\", new HostNamesFactory()).build();\n    new BeanTester().testBean(Machine.class, configuration);\n</code></pre>\n\n<p>I am agree this is not the perfect solution but at least the property getter and setter will be tested.</p>\n"},{"tags":[],"owner":{"account_id":5532352,"reputation":1512,"user_id":4391948,"accept_rate":78,"display_name":"Rogelio Blanco"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1513093456,"creation_date":1513093456,"answer_id":47776412,"question_id":36640299,"body_markdown":"Maybe too late, but you can include in the **AbstractJavaBeanTest** the factories of each property that cannot be created.\r\n\r\nHere is a sample when you need a factory for LocalDateTime and UUID\r\n\r\n    @Test\r\n    public void getterAndSetterCorrectness() throws Exception\r\n    {\r\n        final BeanTester beanTester = new BeanTester();\r\n        beanTester.getFactoryCollection().addFactory(LocalDateTime.class,\r\n                new LocalDateTimeFactory());\r\n        beanTester.getFactoryCollection().addFactory(UUID.class,\r\n                new ExecutionUUIDFactory());\r\n        beanTester.testBean(getBeanInstance().getClass());\r\n    }\r\n\r\nThen you just define the custom factories that you want (in this example)\r\n\r\n    /**\r\n     * Concrete Factory that creates a LocalDateTime.\r\n     */\r\n    class LocalDateTimeFactory implements Factory&lt;LocalDateTime&gt;\r\n    {\r\n        @Override\r\n        public LocalDateTime create()\r\n        {\r\n            return LocalDateTime.now();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Concrete Factory that creates a UUID.\r\n     */\r\n    class ExecutionUUIDFactory implements Factory&lt;UUID&gt;\r\n    {\r\n        @Override\r\n        public UUID create()\r\n        {\r\n            return UUID.randomUUID();\r\n        }\r\n    }\r\n\r\n","title":"meanbean: failed to test bean with arrays","body":"<p>Maybe too late, but you can include in the <strong>AbstractJavaBeanTest</strong> the factories of each property that cannot be created.</p>\n\n<p>Here is a sample when you need a factory for LocalDateTime and UUID</p>\n\n<pre><code>@Test\npublic void getterAndSetterCorrectness() throws Exception\n{\n    final BeanTester beanTester = new BeanTester();\n    beanTester.getFactoryCollection().addFactory(LocalDateTime.class,\n            new LocalDateTimeFactory());\n    beanTester.getFactoryCollection().addFactory(UUID.class,\n            new ExecutionUUIDFactory());\n    beanTester.testBean(getBeanInstance().getClass());\n}\n</code></pre>\n\n<p>Then you just define the custom factories that you want (in this example)</p>\n\n<pre><code>/**\n * Concrete Factory that creates a LocalDateTime.\n */\nclass LocalDateTimeFactory implements Factory&lt;LocalDateTime&gt;\n{\n    @Override\n    public LocalDateTime create()\n    {\n        return LocalDateTime.now();\n    }\n}\n\n/**\n * Concrete Factory that creates a UUID.\n */\nclass ExecutionUUIDFactory implements Factory&lt;UUID&gt;\n{\n    @Override\n    public UUID create()\n    {\n        return UUID.randomUUID();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17950059,"reputation":1,"user_id":13043370,"display_name":"koralliogenic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688035849,"creation_date":1688035849,"answer_id":76580340,"question_id":36640299,"body_markdown":"This error happened to my test, but it had no arrays (and there is no question for that, hence adding it here, as it might help people with similar issues).\r\n\r\nMy Class was annotated with @Data and @AllArgsConstructor. Members were of String and Double type only.\r\n\r\nThe solution was to add a @NoArgsConstructor to the class.","title":"meanbean: failed to test bean with arrays","body":"<p>This error happened to my test, but it had no arrays (and there is no question for that, hence adding it here, as it might help people with similar issues).</p>\n<p>My Class was annotated with @Data and @AllArgsConstructor. Members were of String and Double type only.</p>\n<p>The solution was to add a @NoArgsConstructor to the class.</p>\n"}],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8186,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47776412,"answer_count":3,"score":5,"last_activity_date":1688035849,"creation_date":1460703711,"question_id":36640299,"body_markdown":"I am using mean bean &#39;http://meanbean.sourceforge.net&#39; to validate/test my beans. It works fine for most of the beans. But when a bean has arrays in it, it is failing with following error.\r\n\r\n\r\n    SEVERE: getFactory: Failed to find suitable Factory for property=[hostNames] of type=[class [I]. Please register a custom Factory. Throw NoSuchFactoryException.\r\n    org.meanbean.factories.ObjectCreationException: Failed to instantiate object of type [[I] due to NoSuchMethodException.\r\n\r\nFollowing is my sample code.\r\n\r\n    public class Machine {\r\n\tprivate String[] hostNames;\r\n\r\n\tpublic String[] getHostNames() {\r\n\t\treturn hostNames;\r\n\t}\r\n\r\n\tpublic void setHostNames(String[] hostNames) {\r\n\t\tthis.hostNames = hostNames;\r\n\t}\r\n\r\n }\r\n\r\n    import org.junit.Test;\r\n    import org.meanbean.test.BeanTester;\r\n\r\n    public class TestBeanUtil {\r\n\t    @Test\r\n\t     public void test1(){\r\n\t\t    new BeanTester().testBean(Machine.class);\r\n\t    }\r\n     }\r\n\r\nAny help on how to get rid of this error. I found one way by ignoring specific fields like below.\r\n\r\n    Configuration configuration = new     ConfigurationBuilder().ignoreProperty(&quot;hostNames&quot;).build();\r\n\t\t\r\n    new BeanTester().testBean(Machine.class, configuration);\r\n\r\nBut My concern is is there any way that i can test without ignoring specific proper (or) ignore all the arrays in one shot ?","title":"meanbean: failed to test bean with arrays","body":"<p>I am using mean bean '<a href=\"http://meanbean.sourceforge.net\" rel=\"noreferrer\">http://meanbean.sourceforge.net</a>' to validate/test my beans. It works fine for most of the beans. But when a bean has arrays in it, it is failing with following error.</p>\n\n<pre><code>SEVERE: getFactory: Failed to find suitable Factory for property=[hostNames] of type=[class [I]. Please register a custom Factory. Throw NoSuchFactoryException.\norg.meanbean.factories.ObjectCreationException: Failed to instantiate object of type [[I] due to NoSuchMethodException.\n</code></pre>\n\n<p>Following is my sample code.</p>\n\n<pre><code>public class Machine {\nprivate String[] hostNames;\n\npublic String[] getHostNames() {\n    return hostNames;\n}\n\npublic void setHostNames(String[] hostNames) {\n    this.hostNames = hostNames;\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>import org.junit.Test;\nimport org.meanbean.test.BeanTester;\n\npublic class TestBeanUtil {\n    @Test\n     public void test1(){\n        new BeanTester().testBean(Machine.class);\n    }\n }\n</code></pre>\n\n<p>Any help on how to get rid of this error. I found one way by ignoring specific fields like below.</p>\n\n<pre><code>Configuration configuration = new     ConfigurationBuilder().ignoreProperty(\"hostNames\").build();\n\nnew BeanTester().testBean(Machine.class, configuration);\n</code></pre>\n\n<p>But My concern is is there any way that i can test without ignoring specific proper (or) ignore all the arrays in one shot ?</p>\n"},{"tags":["java","string","integer","hex"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687977522,"post_id":76575830,"comment_id":135013581,"body_markdown":"Your question title says you want to convert the hex-string to an `int []`.  But. in your example where you use `Integer.toBinaryString`, the end result is an `int`.  So, which is the desired result?","body":"Your question title says you want to convert the hex-string to an <code>int []</code>.  But. in your example where you use <code>Integer.toBinaryString</code>, the end result is an <code>int</code>.  So, which is the desired result?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1687977530,"post_id":76575830,"comment_id":135013582,"body_markdown":"Java&#39;s short is signed, so its max value is 32767 and you got overflow.","body":"Java&#39;s short is signed, so its max value is 32767 and you got overflow."},{"owner":{"account_id":22931744,"reputation":97,"user_id":17065901,"display_name":"Avarage cat enjoyer"},"score":1,"creation_date":1687977612,"post_id":76575830,"comment_id":135013603,"body_markdown":"Does this answer your question? [Convert hex little endian String to int in java](https://stackoverflow.com/questions/32064861/convert-hex-little-endian-string-to-int-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32064861/convert-hex-little-endian-string-to-int-in-java\">Convert hex little endian String to int in java</a>"},{"owner":{"account_id":4360770,"reputation":539,"user_id":3557939,"accept_rate":75,"display_name":"sdorof"},"score":0,"creation_date":1687977744,"post_id":76575830,"comment_id":135013633,"body_markdown":"In general, I want to convert a string which codes array of 16-bit integers (so, two bytes per int) to int array. But in example string &quot;c4d2&quot; shold be converted to int.","body":"In general, I want to convert a string which codes array of 16-bit integers (so, two bytes per int) to int array. But in example string &quot;c4d2&quot; shold be converted to int."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687991265,"post_id":76575830,"comment_id":135015726,"body_markdown":"`int n = new BigInteger(&quot;c4d2&quot;, 16).intValue();`","body":"<code>int n = new BigInteger(&quot;c4d2&quot;, 16).intValue();</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687992826,"post_id":76575830,"comment_id":135015863,"body_markdown":"Sorry, just realised you wanted little-endian, so `int n = ByteBuffer.wrap(new BigInteger(s, 16).toByteArray()).order(LITTLE_ENDIAN).getShort(1) &amp; 0xFFFF; // (import static of ByeOrder)`","body":"Sorry, just realised you wanted little-endian, so <code>int n = ByteBuffer.wrap(new BigInteger(s, 16).toByteArray()).order(LITTLE_ENDIAN).getShort(1) &amp; 0xFFFF; &#47;&#47; (import static of ByeOrder)</code>"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687977855,"creation_date":1687977855,"answer_id":76575910,"question_id":76575830,"body_markdown":"Java&#39;s short is signed, so its max value is 32767 and you got overflow. You can use `Short.toUnsignedInt()`:\r\n\r\n        String s = &quot;c4d2&quot;; // 53956\r\n        byte[] b = HexFormat.of().parseHex(s);\r\n        int n = Short.toUnsignedInt(ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort());\r\n        System.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\r\n\r\nprints \r\n\r\n&gt; c4d2 -&gt; [-60, -46] -&gt; 53956","title":"Convert string of hex-encoded integers to int array in Java","body":"<p>Java's short is signed, so its max value is 32767 and you got overflow. You can use <code>Short.toUnsignedInt()</code>:</p>\n<pre><code>    String s = &quot;c4d2&quot;; // 53956\n    byte[] b = HexFormat.of().parseHex(s);\n    int n = Short.toUnsignedInt(ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort());\n    System.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\n</code></pre>\n<p>prints</p>\n<blockquote>\n<p>c4d2 -&gt; [-60, -46] -&gt; 53956</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687977920,"creation_date":1687977920,"answer_id":76575914,"question_id":76575830,"body_markdown":"One approach would be to reverse the values, and then use the _[Integer#parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int))_ method, specifying a _16_ for the radix.\r\n\r\n```java\r\nString string = &quot;c4d2&quot;;\r\nStringBuilder reversed = new StringBuilder();\r\nfor (int index = string.length() - 1; index &gt;= 0; index -= 2)\r\n    reversed.append(string, index - 1, index + 1);\r\nint number = Integer.parseInt(reversed.toString(), 16);\r\n```\r\n\r\nOutput, for _number_.\r\n\r\n```none\r\n53956\r\n```","title":"Convert string of hex-encoded integers to int array in Java","body":"<p>One approach would be to reverse the values, and then use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em> method, specifying a <em>16</em> for the radix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;c4d2&quot;;\nStringBuilder reversed = new StringBuilder();\nfor (int index = string.length() - 1; index &gt;= 0; index -= 2)\n    reversed.append(string, index - 1, index + 1);\nint number = Integer.parseInt(reversed.toString(), 16);\n</code></pre>\n<p>Output, for <em>number</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>53956\n</code></pre>\n"}],"owner":{"account_id":4360770,"reputation":539,"user_id":3557939,"accept_rate":75,"display_name":"sdorof"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1687978659,"accepted_answer_id":76575910,"answer_count":2,"score":-1,"last_activity_date":1688035784,"creation_date":1687977052,"question_id":76575830,"body_markdown":"For example, we have a string `&quot;c4d2&quot;`, known it is a `little`-endian coded 16-bit int `53956`. (It is NOT about conversion `&quot;c4d2&quot;` to `int[] {0xc4, 0xd2}`, but about coversion of `&quot;c4d2&quot;` to integer `53956`). How to convert the string to int use Java?\r\n\r\nUse python I do\r\n```\r\ns = b&#39;\\xc4\\xd2&#39;\r\nn = int.from_bytes(s, &quot;little&quot;)\r\nprint(f&quot;{s} -&gt; {n}&quot;)\r\n```\r\noutput is right\r\n```\r\nb&#39;\\xc4\\xd2&#39; -&gt; 53956\r\n```\r\n\r\nUse Java I do\r\n```\r\nString s = &quot;c4d2&quot;; // 53956\r\nbyte[] b = HexFormat.of().parseHex(s);\r\nint n = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort();\r\nSystem.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\r\n```\r\nand got\r\n```\r\nc4d2 -&gt; [-60, -46] -&gt; -11580\r\n```\r\nthat is wrong. But if I do conversion through binary string as\r\n```\r\nString s2 = Integer.toBinaryString(0xd2) + Integer.toBinaryString(0xc4);\r\nint n2 = Integer.parseInt(s2, 2);\r\nSystem.out.println(s + &quot; -&gt; &quot; + s2 + &quot; -&gt; &quot; + n2);\r\n```\r\nI got\r\n```\r\nc4d2 -&gt; 1101001011000100 -&gt; 53956\r\n```\r\nthe result is right, but the method seems stange.\r\n\r\nHow to properly convert hex-string to int?\r\n\r\n\r\n","title":"Convert string of hex-encoded integers to int array in Java","body":"<p>For example, we have a string <code>&quot;c4d2&quot;</code>, known it is a <code>little</code>-endian coded 16-bit int <code>53956</code>. (It is NOT about conversion <code>&quot;c4d2&quot;</code> to <code>int[] {0xc4, 0xd2}</code>, but about coversion of <code>&quot;c4d2&quot;</code> to integer <code>53956</code>). How to convert the string to int use Java?</p>\n<p>Use python I do</p>\n<pre><code>s = b'\\xc4\\xd2'\nn = int.from_bytes(s, &quot;little&quot;)\nprint(f&quot;{s} -&gt; {n}&quot;)\n</code></pre>\n<p>output is right</p>\n<pre><code>b'\\xc4\\xd2' -&gt; 53956\n</code></pre>\n<p>Use Java I do</p>\n<pre><code>String s = &quot;c4d2&quot;; // 53956\nbyte[] b = HexFormat.of().parseHex(s);\nint n = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort();\nSystem.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\n</code></pre>\n<p>and got</p>\n<pre><code>c4d2 -&gt; [-60, -46] -&gt; -11580\n</code></pre>\n<p>that is wrong. But if I do conversion through binary string as</p>\n<pre><code>String s2 = Integer.toBinaryString(0xd2) + Integer.toBinaryString(0xc4);\nint n2 = Integer.parseInt(s2, 2);\nSystem.out.println(s + &quot; -&gt; &quot; + s2 + &quot; -&gt; &quot; + n2);\n</code></pre>\n<p>I got</p>\n<pre><code>c4d2 -&gt; 1101001011000100 -&gt; 53956\n</code></pre>\n<p>the result is right, but the method seems stange.</p>\n<p>How to properly convert hex-string to int?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":1807072,"reputation":1139,"user_id":1643973,"display_name":"jjramsey"},"score":1,"creation_date":1687975483,"post_id":76575614,"comment_id":135013238,"body_markdown":"It looks like `simpleString()` is the wrong method to use here. If I look at the [documentation for it](https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/types/DataType.html#simpleString--), it says, &quot;Readable string representation for the type,&quot; which probably means that it&#39;s for humans to read when debugging, testing things in a REPL, etc., rather than from producing a machine-readable (XML?) schema.","body":"It looks like <code>simpleString()</code> is the wrong method to use here. If I look at the <a href=\"https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/types/DataType.html#simpleString--\" rel=\"nofollow noreferrer\">documentation for it</a>, it says, &quot;Readable string representation for the type,&quot; which probably means that it&#39;s for humans to read when debugging, testing things in a REPL, etc., rather than from producing a machine-readable (XML?) schema."}],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688034743,"creation_date":1688034743,"answer_id":76580208,"question_id":76575614,"body_markdown":"If you take a deeper look inside `simpleString` method, you can see that Spark uses a `truncatedString`, where `SQLConf.get.maxToStringFields` is passed as third argument. \r\n\r\nThe definition of this configuration is described as:\r\n\r\n```scala\r\nval MAX_TO_STRING_FIELDS = buildConf(&quot;spark.sql.debug.maxToStringFields&quot;)\r\n  .doc(&quot;Maximum number of fields of sequence-like entries can be converted to strings &quot; +\r\n    &quot;in debug output. Any elements beyond the limit will be dropped and replaced by a&quot; +\r\n    &quot;&quot;&quot; &quot;... N more fields&quot; placeholder.&quot;&quot;&quot;)\r\n  .version(&quot;3.0.0&quot;)\r\n  .intConf\r\n  .createWithDefault(25)\r\n```\r\n\r\n`Solution`\r\n\r\nTweaking `spark.sql.debug.maxToStringFields` to a higher number than 25, like 50 (arbitrary, but should be determined by your use case), for example:\r\n\r\n```\r\nSparkSession spark = SparkSession.builder()\r\n  .appName(&quot;Spark app name&quot;)\r\n  .master(&quot;local[*]&quot;)\r\n  .config(&quot;spark.sql.debug.maxToStringFields&quot;, 50)\r\n  .getOrCreate();\r\n```\r\n\r\nGood luck!","title":"Why is .simpleString() method of spark schema truncating my output?","body":"<p>If you take a deeper look inside <code>simpleString</code> method, you can see that Spark uses a <code>truncatedString</code>, where <code>SQLConf.get.maxToStringFields</code> is passed as third argument.</p>\n<p>The definition of this configuration is described as:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val MAX_TO_STRING_FIELDS = buildConf(&quot;spark.sql.debug.maxToStringFields&quot;)\n  .doc(&quot;Maximum number of fields of sequence-like entries can be converted to strings &quot; +\n    &quot;in debug output. Any elements beyond the limit will be dropped and replaced by a&quot; +\n    &quot;&quot;&quot; &quot;... N more fields&quot; placeholder.&quot;&quot;&quot;)\n  .version(&quot;3.0.0&quot;)\n  .intConf\n  .createWithDefault(25)\n</code></pre>\n<p><code>Solution</code></p>\n<p>Tweaking <code>spark.sql.debug.maxToStringFields</code> to a higher number than 25, like 50 (arbitrary, but should be determined by your use case), for example:</p>\n<pre><code>SparkSession spark = SparkSession.builder()\n  .appName(&quot;Spark app name&quot;)\n  .master(&quot;local[*]&quot;)\n  .config(&quot;spark.sql.debug.maxToStringFields&quot;, 50)\n  .getOrCreate();\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":7814466,"reputation":1281,"user_id":6067528,"accept_rate":100,"display_name":"Sam Comber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580208,"answer_count":1,"score":0,"last_activity_date":1688034743,"creation_date":1687974680,"question_id":76575614,"body_markdown":"I have a very long schema that I want to return as string\r\n\r\n\r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n\r\n    ...\r\n\r\n    SparkSession spark = SparkSession.builder().config(new SparkConf().setAppName(&quot;YourApp&quot;).setMaster(&quot;local&quot;)).getOrCreate();\r\n \r\n    Dataset&lt;Row&gt; parquetData = spark.read().parquet(&quot;/Users/demo/test.parquet&quot;);\r\n\r\n    String schemaString = parquetData.schema().simpleString();\r\n\r\nThe problem is the resulting schema looks like (see &quot;10 more fields&quot;):\r\n\r\n    struct&lt;test:struct&lt;countryConfidence:struct&lt;value:double&gt;,... 10 more fields&gt; etc etc&gt;\r\n\r\n\r\nUsing \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIs there some configuration option I can use that means `.simpleString` does not truncate? I&#39;ve tried `parquetData.schema().toDDL()`, but it doesn&#39;t print the format I need.","title":"Why is .simpleString() method of spark schema truncating my output?","body":"<p>I have a very long schema that I want to return as string</p>\n<pre><code>import org.apache.spark.SparkConf;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\n\n...\n\nSparkSession spark = SparkSession.builder().config(new SparkConf().setAppName(&quot;YourApp&quot;).setMaster(&quot;local&quot;)).getOrCreate();\n\nDataset&lt;Row&gt; parquetData = spark.read().parquet(&quot;/Users/demo/test.parquet&quot;);\n\nString schemaString = parquetData.schema().simpleString();\n</code></pre>\n<p>The problem is the resulting schema looks like (see &quot;10 more fields&quot;):</p>\n<pre><code>struct&lt;test:struct&lt;countryConfidence:struct&lt;value:double&gt;,... 10 more fields&gt; etc etc&gt;\n</code></pre>\n<p>Using</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n  &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n  &lt;version&gt;3.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is there some configuration option I can use that means <code>.simpleString</code> does not truncate? I've tried <code>parquetData.schema().toDDL()</code>, but it doesn't print the format I need.</p>\n"},{"tags":["java","android","exoplayer","mediabrowserservicecompat"],"comments":[{"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"score":1,"creation_date":1670533414,"post_id":74735923,"comment_id":131902871,"body_markdown":"your question is vague. Provide some code samples and more insights to your question.","body":"your question is vague. Provide some code samples and more insights to your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670534070,"post_id":74735923,"comment_id":131903035,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688034224,"creation_date":1670873259,"answer_id":74776351,"question_id":74735923,"body_markdown":"In the end, I did it like this.\r\n\r\nIn the activity I did this:\r\n\r\n```\r\nMediaControllerCompat.getMediaController(ChatActivity.this).sendCommand(&quot;speed&quot;,bundle,new ResultReceiver(new Handler(Looper.getMainLooper()))\r\n```\r\n\r\nAnd in the MediaBrowserServiceCompat I did it like this:\r\n\r\n    private MediaSessionConnector.QueueEditor getQueueEditor() {\r\n        return new MediaSessionConnector.QueueEditor() {\r\n            @Override\r\n            public boolean onCommand(Player player, String command, @Nullable Bundle extras, @Nullable ResultReceiver cb) {\r\n                float speed = extras.getFloat(&quot;SpeedProgress&quot;);\r\n                PlaybackParameters param = new PlaybackParameters(speed);\r\n                player.setPlaybackParameters(param);\r\n                player.setPlaybackSpeed(speed);\r\n                return false;\r\n            }\r\n\r\n\r\n","title":"Controlling the speed in ExoPlayer via MediaBrowserServiceCompat","body":"<p>In the end, I did it like this.</p>\n<p>In the activity I did this:</p>\n<pre><code>MediaControllerCompat.getMediaController(ChatActivity.this).sendCommand(&quot;speed&quot;,bundle,new ResultReceiver(new Handler(Looper.getMainLooper()))\n</code></pre>\n<p>And in the MediaBrowserServiceCompat I did it like this:</p>\n<pre><code>private MediaSessionConnector.QueueEditor getQueueEditor() {\n    return new MediaSessionConnector.QueueEditor() {\n        @Override\n        public boolean onCommand(Player player, String command, @Nullable Bundle extras, @Nullable ResultReceiver cb) {\n            float speed = extras.getFloat(&quot;SpeedProgress&quot;);\n            PlaybackParameters param = new PlaybackParameters(speed);\n            player.setPlaybackParameters(param);\n            player.setPlaybackSpeed(speed);\n            return false;\n        }\n</code></pre>\n"}],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688034306,"creation_date":1670531127,"question_id":74735923,"body_markdown":"How can I control the speed from an exo player via the UI to MediaBrowserServiceCompat?\r\n\r\nDoes Android provide a normal solution for it?\r\n\r\n","title":"Controlling the speed in ExoPlayer via MediaBrowserServiceCompat","body":"<p>How can I control the speed from an exo player via the UI to MediaBrowserServiceCompat?</p>\n<p>Does Android provide a normal solution for it?</p>\n"},{"tags":["java","spring","inject"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688032802,"post_id":76579912,"comment_id":135020622,"body_markdown":"You are still creating the bean, when injecting the dependencies into a collection field Spring will try to obtain all beans from the context. This one hasn&#39;t been added yet. Also self injection is a special usecase hence the specialized logic.","body":"You are still creating the bean, when injecting the dependencies into a collection field Spring will try to obtain all beans from the context. This one hasn&#39;t been added yet. Also self injection is a special usecase hence the specialized logic."},{"owner":{"account_id":27143640,"reputation":11,"user_id":22140501,"display_name":"accelerator"},"score":0,"creation_date":1688034008,"post_id":76579912,"comment_id":135020828,"body_markdown":"@M.Deinum In my opinion, Self Injection is one special case of Cycle Reference (there is only one bean in the cycle). And Spring can deal with this problem, Spring will cache the bean that unfinished initialization, and can be get in cycle. So why it support self injection of non-collection field, but not support collection field.","body":"@M.Deinum In my opinion, Self Injection is one special case of Cycle Reference (there is only one bean in the cycle). And Spring can deal with this problem, Spring will cache the bean that unfinished initialization, and can be get in cycle. So why it support self injection of non-collection field, but not support collection field."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688039112,"post_id":76579912,"comment_id":135021763,"body_markdown":"That you have to ask the Spring maintainers. But injecting 1 instance into itself or a whole collection are quite different things.","body":"That you have to ask the Spring maintainers. But injecting 1 instance into itself or a whole collection are quite different things."}],"owner":{"account_id":27143640,"reputation":11,"user_id":22140501,"display_name":"accelerator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688034084,"creation_date":1688031994,"question_id":76579912,"body_markdown":"In recent project, I want to jnject all beans that implements an interface into a field with type of List. The code demo like this, the bean is also implements the `Handler`.\r\n\r\n```\r\n@Component\r\nclass HandlerImpl implements Handler {\r\n        @Resource\r\n        private List&lt;Handler&gt; handlers;\r\n}\r\n```\r\n\r\nAnd I find that the list contains all other beans but only not this bean itself.\r\n\r\nWe know that Spring is able to handle self inject like this\r\n\r\n```\r\n@Component\r\nclass HandlerImpl implements Handler {\r\n        // this will be self\r\n        @Resource\r\n        private Handler handler;\r\n}\r\n```\r\n\r\nSo I am wondering why it did not work when the field&#39;s type is List.\r\n\r\nI try to debug and trace into this method,\r\n\r\n```\r\nprotected Map&lt;String, Object&gt; findAutowireCandidates(\r\n                @Nullable String beanName, Class&lt;?&gt; requiredType, DependencyDescriptor descriptor) {\r\n\r\n        String[] candidateNames = BeanFactoryUtils.beanNamesForTypeIncludingAncestors(\r\n                        this, requiredType, true, descriptor.isEager());\r\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(candidateNames.length);\r\n        for (Map.Entry&lt;Class&lt;?&gt;, Object&gt; classObjectEntry : this.resolvableDependencies.entrySet()) {\r\n                Class&lt;?&gt; autowiringType = classObjectEntry.getKey();\r\n                if (autowiringType.isAssignableFrom(requiredType)) {\r\n                        Object autowiringValue = classObjectEntry.getValue();\r\n                        autowiringValue = AutowireUtils.resolveAutowiringValue(autowiringValue, requiredType);\r\n                        if (requiredType.isInstance(autowiringValue)) {\r\n                                result.put(ObjectUtils.identityToString(autowiringValue), autowiringValue);\r\n                                break;\r\n                        }\r\n                }\r\n        }\r\n        for (String candidate : candidateNames) {\r\n                if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, descriptor)) {\r\n                        addCandidateEntry(result, candidate, descriptor, requiredType);\r\n                }\r\n        }\r\n        if (result.isEmpty()) {\r\n                boolean multiple = indicatesMultipleBeans(requiredType);\r\n                // Consider fallback matches if the first pass failed to find anything...\r\n                DependencyDescriptor fallbackDescriptor = descriptor.forFallbackMatch();\r\n                for (String candidate : candidateNames) {\r\n                        if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, fallbackDescriptor) &amp;&amp;\r\n                                        (!multiple || getAutowireCandidateResolver().hasQualifier(descriptor))) {\r\n                                addCandidateEntry(result, candidate, descriptor, requiredType);\r\n                        }\r\n                }\r\n                if (result.isEmpty() &amp;&amp; !multiple) {\r\n                        // Consider self references as a final pass...\r\n                        // but in the case of a dependency collection, not the very same bean itself.\r\n                        for (String candidate : candidateNames) {\r\n                                if (isSelfReference(beanName, candidate) &amp;&amp;\r\n                                                (!(descriptor instanceof MultiElementDescriptor) || !beanName.equals(candidate)) &amp;&amp;\r\n                                                isAutowireCandidate(candidate, fallbackDescriptor)) {\r\n                                        addCandidateEntry(result, candidate, descriptor, requiredType);\r\n                                }\r\n                        }\r\n                }\r\n        }\r\n        return result;\r\n}\r\n```\r\n\r\nThis method is one step of the `CommonAnnotationBeanPostProcessor`, it will find all matched beans. We can see that the method `isSelfReference` is called several times, and due to what, the bean itself is filtered. And in the end of the method, we can see if the field is not Collection, the bean self can be inject.\r\n\r\nSo it seems that Spring filter the bean self on purpose. I am wondering that can Spring not to filter the bean self in this case, or is there other reasons that Spring must do it.","title":"Spring Self Inject Into a Collection Field","body":"<p>In recent project, I want to jnject all beans that implements an interface into a field with type of List. The code demo like this, the bean is also implements the <code>Handler</code>.</p>\n<pre><code>@Component\nclass HandlerImpl implements Handler {\n        @Resource\n        private List&lt;Handler&gt; handlers;\n}\n</code></pre>\n<p>And I find that the list contains all other beans but only not this bean itself.</p>\n<p>We know that Spring is able to handle self inject like this</p>\n<pre><code>@Component\nclass HandlerImpl implements Handler {\n        // this will be self\n        @Resource\n        private Handler handler;\n}\n</code></pre>\n<p>So I am wondering why it did not work when the field's type is List.</p>\n<p>I try to debug and trace into this method,</p>\n<pre><code>protected Map&lt;String, Object&gt; findAutowireCandidates(\n                @Nullable String beanName, Class&lt;?&gt; requiredType, DependencyDescriptor descriptor) {\n\n        String[] candidateNames = BeanFactoryUtils.beanNamesForTypeIncludingAncestors(\n                        this, requiredType, true, descriptor.isEager());\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(candidateNames.length);\n        for (Map.Entry&lt;Class&lt;?&gt;, Object&gt; classObjectEntry : this.resolvableDependencies.entrySet()) {\n                Class&lt;?&gt; autowiringType = classObjectEntry.getKey();\n                if (autowiringType.isAssignableFrom(requiredType)) {\n                        Object autowiringValue = classObjectEntry.getValue();\n                        autowiringValue = AutowireUtils.resolveAutowiringValue(autowiringValue, requiredType);\n                        if (requiredType.isInstance(autowiringValue)) {\n                                result.put(ObjectUtils.identityToString(autowiringValue), autowiringValue);\n                                break;\n                        }\n                }\n        }\n        for (String candidate : candidateNames) {\n                if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, descriptor)) {\n                        addCandidateEntry(result, candidate, descriptor, requiredType);\n                }\n        }\n        if (result.isEmpty()) {\n                boolean multiple = indicatesMultipleBeans(requiredType);\n                // Consider fallback matches if the first pass failed to find anything...\n                DependencyDescriptor fallbackDescriptor = descriptor.forFallbackMatch();\n                for (String candidate : candidateNames) {\n                        if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, fallbackDescriptor) &amp;&amp;\n                                        (!multiple || getAutowireCandidateResolver().hasQualifier(descriptor))) {\n                                addCandidateEntry(result, candidate, descriptor, requiredType);\n                        }\n                }\n                if (result.isEmpty() &amp;&amp; !multiple) {\n                        // Consider self references as a final pass...\n                        // but in the case of a dependency collection, not the very same bean itself.\n                        for (String candidate : candidateNames) {\n                                if (isSelfReference(beanName, candidate) &amp;&amp;\n                                                (!(descriptor instanceof MultiElementDescriptor) || !beanName.equals(candidate)) &amp;&amp;\n                                                isAutowireCandidate(candidate, fallbackDescriptor)) {\n                                        addCandidateEntry(result, candidate, descriptor, requiredType);\n                                }\n                        }\n                }\n        }\n        return result;\n}\n</code></pre>\n<p>This method is one step of the <code>CommonAnnotationBeanPostProcessor</code>, it will find all matched beans. We can see that the method <code>isSelfReference</code> is called several times, and due to what, the bean itself is filtered. And in the end of the method, we can see if the field is not Collection, the bean self can be inject.</p>\n<p>So it seems that Spring filter the bean self on purpose. I am wondering that can Spring not to filter the bean self in this case, or is there other reasons that Spring must do it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1624595739,"post_id":68120283,"comment_id":120406443,"body_markdown":"The error states that:\n\n`Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.`\n\nBut the documentation says that isValid(int) is implemented in jt400 10.6, 10.4 etc, but I don&#39;t see this method in source of  **com.ibm.as400.access.AS400JDBCConnection**","body":"The error states that:  <code>Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.</code>  But the documentation says that isValid(int) is implemented in jt400 10.6, 10.4 etc, but I don&#39;t see this method in source of  <b>com.ibm.as400.access.AS400JDBCConnection</b>"},{"owner":{"account_id":20732638,"reputation":177,"user_id":15224199,"display_name":"Jakub Jakubowski"},"score":0,"creation_date":1650561643,"post_id":68120283,"comment_id":127153395,"body_markdown":"Did you resolve it somehow?","body":"Did you resolve it somehow?"}],"answers":[{"comments":[{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1624595661,"post_id":68120941,"comment_id":120406431,"body_markdown":"this is not related to the posted problem.","body":"this is not related to the posted problem."}],"tags":[],"owner":{"account_id":6373901,"reputation":31,"user_id":4945507,"display_name":"Saraswathi Kaluva"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624558949,"creation_date":1624558949,"answer_id":68120941,"question_id":68120283,"body_markdown":"Try adding @EnableJpaRepositories annotation below the @SpringBootApplication","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>Try adding @EnableJpaRepositories annotation below the @SpringBootApplication</p>\n"},{"comments":[{"owner":{"account_id":16256394,"reputation":111,"user_id":11738927,"display_name":"Jueverhard"},"score":0,"creation_date":1668615125,"post_id":71965696,"comment_id":131449806,"body_markdown":"As weird as it might seems, this did the trick for me too. However, it seems quite strange that a parameter *apparently* designed for checking on a connection does the ... activation (?) of it","body":"As weird as it might seems, this did the trick for me too. However, it seems quite strange that a parameter <i>apparently</i> designed for checking on a connection does the ... activation (?) of it"}],"tags":[],"owner":{"account_id":20732638,"reputation":177,"user_id":15224199,"display_name":"Jakub Jakubowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650616299,"creation_date":1650616299,"answer_id":71965696,"question_id":68120283,"body_markdown":"I had the same issue. The problem is that seems that the method `abstract boolean isValid(int)` is not implemented, or doesn&#39;t work correctly (I&#39;m not sure). Basically, it&#39;s checking if the connection to DB is healthy. \r\nHappily, you can change it to your own. In spring boot just add to **application.properties**: ```spring.datasource.hikari.connection-test-query: values 1``` \r\n\r\nFor me **values 1** worked (I&#39;m using AS400 DB2), but for others DB you may need to use different ones [check this answer][1]\r\n\r\nI had multiple Datasources and unfortunately adding them to application.properties was not enough, I had to set it in PersistanceConfigurator like this: \r\n```\r\n@Bean\r\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\npublic DataSource as400DataSource() {\r\n    HikariDataSource dataSource = (HikariDataSource) DataSourceBuilder.create().build();\r\n    dataSource.setConnectionTestQuery(&quot;values 1&quot;);\r\n    return dataSource;\r\n}\r\n```\r\nNow it&#39;s working perfectly fine. \r\n\r\n  [1]: https://stackoverflow.com/a/3670000/15224199","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>I had the same issue. The problem is that seems that the method <code>abstract boolean isValid(int)</code> is not implemented, or doesn't work correctly (I'm not sure). Basically, it's checking if the connection to DB is healthy.\nHappily, you can change it to your own. In spring boot just add to <strong>application.properties</strong>: <code>spring.datasource.hikari.connection-test-query: values 1</code></p>\n<p>For me <strong>values 1</strong> worked (I'm using AS400 DB2), but for others DB you may need to use different ones <a href=\"https://stackoverflow.com/a/3670000/15224199\">check this answer</a></p>\n<p>I had multiple Datasources and unfortunately adding them to application.properties was not enough, I had to set it in PersistanceConfigurator like this:</p>\n<pre><code>@Bean\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\npublic DataSource as400DataSource() {\n    HikariDataSource dataSource = (HikariDataSource) DataSourceBuilder.create().build();\n    dataSource.setConnectionTestQuery(&quot;values 1&quot;);\n    return dataSource;\n}\n</code></pre>\n<p>Now it's working perfectly fine.</p>\n"},{"tags":[],"owner":{"account_id":3238748,"reputation":111,"user_id":3407361,"display_name":"M. A.  Wheadon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688034062,"creation_date":1688034062,"answer_id":76580143,"question_id":68120283,"body_markdown":"I&#39;m not (in my particular case) using Spring Data &amp; JPA, just Maven with jt400 version 9.5 and got the same error (isValid not implemented). I upgraded to jt400-jdk8 version 11.1 and that cured the problem.","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>I'm not (in my particular case) using Spring Data &amp; JPA, just Maven with jt400 version 9.5 and got the same error (isValid not implemented). I upgraded to jt400-jdk8 version 11.1 and that cured the problem.</p>\n"}],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2038,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688034062,"creation_date":1624555635,"question_id":68120283,"body_markdown":"Trying connect IBMi machine by using Spring Data &amp; JPA, but it&#39;s generating the error:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; \r\n    nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\r\n    \tat spring.security.as400.SpringSecurityDemoApplication2.main(SpringSecurityDemoApplication2.java:10) ~[classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\r\n    Caused by: java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.\r\n    \tat com.zaxxer.hikari.pool.PoolBase.checkValidationSupport(PoolBase.java:458) ~[HikariCP-3.4.5.jar:na]\r\n\r\nThe project is a starter project for learning Spring Data using JPA to connect with IBMi machine, but seems Spring Data doesn&#39;t provide the easiest way for this.\r\n\r\nMy Project classes are:  \r\n\r\n 1. pom.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.7&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;Spring-Security-JT400&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Security-JT400&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Security-JT400&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;net.sf.jt400&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jt400&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;10.6&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n```\r\n 2. Configuration\r\n\r\n   \r\n```\r\n     @Configuration\r\n        @EnableWebSecurity\r\n        public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter\r\n    {\r\n        @Autowired\r\n        CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Bean\r\n        AuthenticationProvider authenticationProvider()\r\n        {\r\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n            provider.setUserDetailsService(customUserDetailsService);\r\n            provider.setPasswordEncoder(new BCryptPasswordEncoder());\r\n    \r\n            return provider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception\r\n        {\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/home&quot;).hasAuthority(&quot;USER&quot;)\r\n                .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n        }\r\n    }\r\n```\r\n3. CustomUserDetailsService\r\n```\r\n    @Service\r\n    public class CustomUserDetailsService implements UserDetailsService\r\n    {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n        \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\r\n        {\r\n            User user = userRepository.findByUsername(username);\r\n            if (user == null)\r\n            {\r\n                throw new UsernameNotFoundException(&quot;User not found.&quot;);\r\n            }\r\n    \r\n            return new CustomUserDetails(user);\r\n        }\r\n    }\r\n```\r\n4. \r\n```\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt;\r\n    {\r\n        public User findByUsername(String username);\r\n    }\r\n```\r\n5. \r\n```\r\n    @RestController\r\n    public class HomeController\r\n    {\r\n        @GetMapping(&quot;/home&quot;)\r\n        public String home()\r\n        {\r\n            return &quot;This is Home Page.&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin&quot;)\r\n        public String admin()\r\n        {\r\n            return &quot;This is Admin Page.&quot;;\r\n        }\r\n        \r\n    }\r\n```\r\n 6. \r\n```\r\n    public class CustomUserDetails implements UserDetails\r\n    {\r\n        private User user;\r\n        \r\n        public CustomUserDetails(User user)\r\n        {\r\n            super();\r\n            this.user = user;\r\n        }\r\n    \r\n        private static final long serialVersionUID = -228521734196009612L;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities()\r\n        {\r\n            return Collections.singleton(new SimpleGrantedAuthority(user.getRole()));\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword()\r\n        {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername()\r\n        {\r\n            return user.getUsername();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled()\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n```\r\n7. \r\n```\r\n    @Entity\r\n    public class User\r\n    {\r\n        @Id\r\n        private int id;\r\n        private String username;\r\n        private String password;\r\n        private String role;\r\n    }\r\n```\r\n8.\r\n```\r\n    @SpringBootApplication\r\n    public class SpringSecurityDemoApplication2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringSecurityDemoApplication2.class, args);\r\n    \t}\r\n    }\r\n```\r\n9. application.properties\r\n```\r\n    spring.datasource.url=jdbc:as400://192.168.xx.xxx/;translate binary=true;prompt=false\r\n    spring.datasource.username=USERNAME\r\n    spring.datasource.password=PASSWORD\r\n    spring.datasource.driver-class-name=com.ibm.as400.access.AS400JDBCDriver\r\n    spring.jpa.database-platform=org.hibernate.dialect.DB2400Dialect\r\n\r\n```\r\n\r\n**Note:** Using same classes and making changes in **application.properties**, able to connect with MYSQL database.","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>Trying connect IBMi machine by using Spring Data &amp; JPA, but it's generating the error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; \nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method 'abstract boolean isValid(int)' of interface java.sql.Connection.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\n    at spring.security.as400.SpringSecurityDemoApplication2.main(SpringSecurityDemoApplication2.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method 'abstract boolean isValid(int)' of interface java.sql.Connection.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\nCaused by: java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method 'abstract boolean isValid(int)' of interface java.sql.Connection.\n    at com.zaxxer.hikari.pool.PoolBase.checkValidationSupport(PoolBase.java:458) ~[HikariCP-3.4.5.jar:na]\n</code></pre>\n<p>The project is a starter project for learning Spring Data using JPA to connect with IBMi machine, but seems Spring Data doesn't provide the easiest way for this.</p>\n<p>My Project classes are:</p>\n<ol>\n<li>pom.xml</li>\n</ol>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.4.7&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;Spring-Security-JT400&lt;/groupId&gt;\n        &lt;artifactId&gt;Security-JT400&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;Security-JT400&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sf.jt400&lt;/groupId&gt;\n                &lt;artifactId&gt;jt400&lt;/artifactId&gt;\n                &lt;version&gt;10.6&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Configuration</li>\n</ol>\n<pre><code>     @Configuration\n        @EnableWebSecurity\n        public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter\n    {\n        @Autowired\n        CustomUserDetailsService customUserDetailsService;\n    \n        @Bean\n        AuthenticationProvider authenticationProvider()\n        {\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n            provider.setUserDetailsService(customUserDetailsService);\n            provider.setPasswordEncoder(new BCryptPasswordEncoder());\n    \n            return provider;\n        }\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception\n        {\n            http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/home&quot;).hasAuthority(&quot;USER&quot;)\n                .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n        }\n    }\n</code></pre>\n<ol start=\"3\">\n<li>CustomUserDetailsService</li>\n</ol>\n<pre><code>    @Service\n    public class CustomUserDetailsService implements UserDetailsService\n    {\n        @Autowired\n        private UserRepository userRepository;\n        \n        @Override\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\n        {\n            User user = userRepository.findByUsername(username);\n            if (user == null)\n            {\n                throw new UsernameNotFoundException(&quot;User not found.&quot;);\n            }\n    \n            return new CustomUserDetails(user);\n        }\n    }\n</code></pre>\n<ol start=\"4\">\n<li></li>\n</ol>\n<pre><code>    @Repository\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt;\n    {\n        public User findByUsername(String username);\n    }\n</code></pre>\n<ol start=\"5\">\n<li></li>\n</ol>\n<pre><code>    @RestController\n    public class HomeController\n    {\n        @GetMapping(&quot;/home&quot;)\n        public String home()\n        {\n            return &quot;This is Home Page.&quot;;\n        }\n    \n        @GetMapping(&quot;/admin&quot;)\n        public String admin()\n        {\n            return &quot;This is Admin Page.&quot;;\n        }\n        \n    }\n</code></pre>\n<ol start=\"6\">\n<li></li>\n</ol>\n<pre><code>    public class CustomUserDetails implements UserDetails\n    {\n        private User user;\n        \n        public CustomUserDetails(User user)\n        {\n            super();\n            this.user = user;\n        }\n    \n        private static final long serialVersionUID = -228521734196009612L;\n    \n        @Override\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities()\n        {\n            return Collections.singleton(new SimpleGrantedAuthority(user.getRole()));\n        }\n    \n        @Override\n        public String getPassword()\n        {\n            return user.getPassword();\n        }\n    \n        @Override\n        public String getUsername()\n        {\n            return user.getUsername();\n        }\n    \n        @Override\n        public boolean isAccountNonExpired()\n        {\n            return true;\n        }\n    \n        @Override\n        public boolean isAccountNonLocked()\n        {\n            return true;\n        }\n    \n        @Override\n        public boolean isCredentialsNonExpired()\n        {\n            return true;\n        }\n    \n        @Override\n        public boolean isEnabled()\n        {\n            return true;\n        }\n    }\n</code></pre>\n<ol start=\"7\">\n<li></li>\n</ol>\n<pre><code>    @Entity\n    public class User\n    {\n        @Id\n        private int id;\n        private String username;\n        private String password;\n        private String role;\n    }\n</code></pre>\n<ol start=\"8\">\n<li></li>\n</ol>\n<pre><code>    @SpringBootApplication\n    public class SpringSecurityDemoApplication2 {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(SpringSecurityDemoApplication2.class, args);\n        }\n    }\n</code></pre>\n<ol start=\"9\">\n<li>application.properties</li>\n</ol>\n<pre><code>    spring.datasource.url=jdbc:as400://192.168.xx.xxx/;translate binary=true;prompt=false\n    spring.datasource.username=USERNAME\n    spring.datasource.password=PASSWORD\n    spring.datasource.driver-class-name=com.ibm.as400.access.AS400JDBCDriver\n    spring.jpa.database-platform=org.hibernate.dialect.DB2400Dialect\n\n</code></pre>\n<p><strong>Note:</strong> Using same classes and making changes in <strong>application.properties</strong>, able to connect with MYSQL database.</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"score":0,"creation_date":1544609745,"post_id":53740599,"comment_id":94333976,"body_markdown":"Can you post your two objects BIN and ORDER","body":"Can you post your two objects BIN and ORDER"}],"answers":[{"tags":[],"owner":{"account_id":8541170,"reputation":13189,"user_id":6401241,"display_name":"Radesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688034060,"creation_date":1544609588,"answer_id":53740696,"question_id":53740599,"body_markdown":"i think you must change this lines \r\n\r\n    foreignKeys = [ForeignKey(\r\n        entity = BIN::class,\r\n        parentColumns = arrayOf(&quot;id&quot;),\r\n        childColumns = arrayOf(&quot;bin_id&quot;),\r\n        onDelete = ForeignKey.CASCADE\r\n    ), ForeignKey(\r\n        entity = ORDER::class,\r\n        parentColumns = arrayOf(&quot;id&quot;),\r\n        childColumns = arrayOf(&quot;order_id&quot;),\r\n        onDelete = ForeignKey.CASCADE\r\n    )]","title":"Java android room two foreign key","body":"<p>i think you must change this lines</p>\n<pre><code>foreignKeys = [ForeignKey(\n    entity = BIN::class,\n    parentColumns = arrayOf(&quot;id&quot;),\n    childColumns = arrayOf(&quot;bin_id&quot;),\n    onDelete = ForeignKey.CASCADE\n), ForeignKey(\n    entity = ORDER::class,\n    parentColumns = arrayOf(&quot;id&quot;),\n    childColumns = arrayOf(&quot;order_id&quot;),\n    onDelete = ForeignKey.CASCADE\n)]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"score":0,"creation_date":1544609762,"post_id":53740708,"comment_id":94333986,"body_markdown":"I added a row BIN class and order class when I removed for example one forgein key It is work","body":"I added a row BIN class and order class when I removed for example one forgein key It is work"},{"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"score":0,"creation_date":1544609846,"post_id":53740708,"comment_id":94334023,"body_markdown":"But I have an question can I get null for forgein key ? some times i have pictore to order but sometimes to bin when for bin I past 0 to order_id but I do not have this value to order class","body":"But I have an question can I get null for forgein key ? some times i have pictore to order but sometimes to bin when for bin I past 0 to order_id but I do not have this value to order class"},{"owner":{"account_id":9257284,"reputation":674,"user_id":6875716,"display_name":"Tariqul Islam"},"score":0,"creation_date":1544611743,"post_id":53740708,"comment_id":94335220,"body_markdown":"For joining multiple table you may get some null value (may be id) in right table.","body":"For joining multiple table you may get some null value (may be id) in right table."}],"tags":[],"owner":{"account_id":9257284,"reputation":674,"user_id":6875716,"display_name":"Tariqul Islam"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544609648,"creation_date":1544609648,"answer_id":53740708,"question_id":53740599,"body_markdown":"It seems you did not add any row two parent table like BIN.class and Order.class. I got an answer from [Here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45988446/how-to-create-a-table-with-a-two-or-more-foreign-keys-using-android-room","title":"Java android room two foreign key","body":"<p>It seems you did not add any row two parent table like BIN.class and Order.class. I got an answer from <a href=\"https://stackoverflow.com/questions/45988446/how-to-create-a-table-with-a-two-or-more-foreign-keys-using-android-room\">Here</a></p>\n"},{"comments":[{"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"score":0,"creation_date":1544610073,"post_id":53740799,"comment_id":94334186,"body_markdown":"Ok but sometimes i put 0  to bin_id or order_id but I do not have this index in bin or order row maybe this is a mistake","body":"Ok but sometimes i put 0  to bin_id or order_id but I do not have this index in bin or order row maybe this is a mistake"},{"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"score":0,"creation_date":1544610098,"post_id":53740799,"comment_id":94334205,"body_markdown":"but picture can be in table order or in table bin","body":"but picture can be in table order or in table bin"},{"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"score":0,"creation_date":1544610230,"post_id":53740799,"comment_id":94334296,"body_markdown":"@jpok About question that can `foreignKey` be null you may read this [answer](https://stackoverflow.com/a/49175873/9695678)","body":"@jpok About question that can <code>foreignKey</code> be null you may read this <a href=\"https://stackoverflow.com/a/49175873/9695678\">answer</a>"},{"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"score":0,"creation_date":1544610355,"post_id":53740799,"comment_id":94334369,"body_markdown":"So I have two created another table OrderPicture ?","body":"So I have two created another table OrderPicture ?"},{"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"score":0,"creation_date":1544610541,"post_id":53740799,"comment_id":94334467,"body_markdown":"@jpok If you about `Nullable` just change your `int` into `Integer`, however about creation table I do not understand your question","body":"@jpok If you about <code>Nullable</code> just change your <code>int</code> into <code>Integer</code>, however about creation table I do not understand your question"},{"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"score":0,"creation_date":1544610992,"post_id":53740799,"comment_id":94334763,"body_markdown":"@jpok in this [answer](https://stackoverflow.com/a/44685331/9695678) also recommend to use UUID to generate your primary key, but if you will read comments you can find that most of them also suggest to change `int` into `Integer` so your `foreignKey` will be `Nullable`","body":"@jpok in this <a href=\"https://stackoverflow.com/a/44685331/9695678\">answer</a> also recommend to use UUID to generate your primary key, but if you will read comments you can find that most of them also suggest to change <code>int</code> into <code>Integer</code> so your <code>foreignKey</code> will be <code>Nullable</code>"}],"tags":[],"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1544609975,"creation_date":1544609975,"answer_id":53740799,"question_id":53740599,"body_markdown":"Try to do it like this \r\n\r\n    foreignKeys = [\r\n            @ForeignKey(\r\n                    entity = BIN.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;bin_id&quot;\r\n            ),\r\n            @ForeignKey(\r\n                    entity = ORDER.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;order_id&quot;\r\n            )],\r\nActually in kotlin I wrote this line in the following way\r\n\r\n    foreignKeys = arrayOf(\r\n                @ForeignKey(\r\n                        entity = BIN.class,\r\n                        parentColumns = &quot;id&quot;,\r\n                        childColumns = &quot;bin_id&quot;\r\n                ),\r\n                @ForeignKey(\r\n                        entity = ORDER.class,\r\n                        parentColumns = &quot;id&quot;,\r\n                        childColumns = &quot;order_id&quot;\r\n                )]),\r\nMay be it helps","title":"Java android room two foreign key","body":"<p>Try to do it like this </p>\n\n<pre><code>foreignKeys = [\n        @ForeignKey(\n                entity = BIN.class,\n                parentColumns = \"id\",\n                childColumns = \"bin_id\"\n        ),\n        @ForeignKey(\n                entity = ORDER.class,\n                parentColumns = \"id\",\n                childColumns = \"order_id\"\n        )],\n</code></pre>\n\n<p>Actually in kotlin I wrote this line in the following way</p>\n\n<pre><code>foreignKeys = arrayOf(\n            @ForeignKey(\n                    entity = BIN.class,\n                    parentColumns = \"id\",\n                    childColumns = \"bin_id\"\n            ),\n            @ForeignKey(\n                    entity = ORDER.class,\n                    parentColumns = \"id\",\n                    childColumns = \"order_id\"\n            )]),\n</code></pre>\n\n<p>May be it helps</p>\n"}],"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53740799,"answer_count":3,"score":1,"last_activity_date":1688034060,"creation_date":1544609312,"question_id":53740599,"body_markdown":"I have a table with two foreign key into two different tables\r\n\r\nThis is my table :\r\n\r\n    @Entity(\r\n            tableName = Constants.TABLE_NAME_PICTURE,\r\n            foreignKeys = {\r\n            @ForeignKey(\r\n                    entity = BIN.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;bin_id&quot;\r\n            ),\r\n            @ForeignKey(\r\n                    entity = ORDER.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;order_id&quot;\r\n            )},\r\n            indices = {@Index(&quot;id&quot;), @Index(value = {&quot;bin_id&quot;,&quot;order_id&quot;})})\r\n    \r\n    public class PICTURE {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        @ColumnInfo(name = &quot;id&quot;)\r\n        public long id;\r\n        @Attribute(name = &quot;name&quot;, required = false)\r\n        @ColumnInfo(name = &quot;name&quot;)\r\n        public String name;\r\n        @ColumnInfo(name = &quot;bin_id&quot;)\r\n        public int binId;\r\n        @ColumnInfo(name = &quot;order_id&quot;)\r\n        public int orderId;\r\n\r\n\r\nand when I insert a PICTURE to the database I get :\r\n\r\n&gt;android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787)","title":"Java android room two foreign key","body":"<p>I have a table with two foreign key into two different tables</p>\n\n<p>This is my table :</p>\n\n<pre><code>@Entity(\n        tableName = Constants.TABLE_NAME_PICTURE,\n        foreignKeys = {\n        @ForeignKey(\n                entity = BIN.class,\n                parentColumns = \"id\",\n                childColumns = \"bin_id\"\n        ),\n        @ForeignKey(\n                entity = ORDER.class,\n                parentColumns = \"id\",\n                childColumns = \"order_id\"\n        )},\n        indices = {@Index(\"id\"), @Index(value = {\"bin_id\",\"order_id\"})})\n\npublic class PICTURE {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = \"id\")\n    public long id;\n    @Attribute(name = \"name\", required = false)\n    @ColumnInfo(name = \"name\")\n    public String name;\n    @ColumnInfo(name = \"bin_id\")\n    public int binId;\n    @ColumnInfo(name = \"order_id\")\n    public int orderId;\n</code></pre>\n\n<p>and when I insert a PICTURE to the database I get :</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787)</p>\n</blockquote>\n"},{"tags":["java","android","android-notifications","android-pendingintent"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687417708,"post_id":76526330,"comment_id":134934471,"body_markdown":"Is the activity already open when the notification is clicked?","body":"Is the activity already open when the notification is clicked?"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1687450442,"post_id":76526330,"comment_id":134941887,"body_markdown":"no, the activity is not open","body":"no, the activity is not open"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1687455236,"post_id":76526330,"comment_id":134942758,"body_markdown":"it&#39;s getting opened when the user click&#39;s on the notification","body":"it&#39;s getting opened when the user click&#39;s on the notification"}],"answers":[{"comments":[{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1687652537,"post_id":76542294,"comment_id":134966704,"body_markdown":"A few of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting of AI-generated content is banned here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!","body":"A few of your answers appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting of AI-generated content is banned here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it. Thanks!"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":1,"creation_date":1687713794,"post_id":76542294,"comment_id":134971751,"body_markdown":"the info is from what i told for ai to write, i did it only because i am not so good in writing, and i had reviewed before posting","body":"the info is from what i told for ai to write, i did it only because i am not so good in writing, and i had reviewed before posting"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1687816592,"post_id":76542294,"comment_id":134986961,"body_markdown":"Thanks for the replies.  I&#39;m supportive of using AI for grammar assistance, personally.  Thanks for the clarification!","body":"Thanks for the replies.  I&#39;m supportive of using AI for grammar assistance, personally.  Thanks for the clarification!"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1688034429,"post_id":76542294,"comment_id":135020909,"body_markdown":"@NotTheDr01ds: I don&#39;t believe it. I think ***most*** of it is raw ChatGPT output, especially the anwers.","body":"@NotTheDr01ds: I don&#39;t believe it. I think <b><i>most</i></b> of it is raw ChatGPT output, especially the anwers."}],"tags":[],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688033457,"creation_date":1687540939,"answer_id":76542294,"question_id":76526330,"body_markdown":"It appears that I am encountering this issue where the value received in your Activity differs from the one originally sent via the notification&#39;s intent extra. To resolve this problem, you can make use of a unique requestCode for each PendingIntent to ensure that the intent extras are received correctly.\r\n\r\nYou can modify your code as follows:\r\n```java\r\nIntent intent = new Intent(context, ChatActivity.class);\r\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\r\n\r\n// Generate a unique requestCode based on the topic\r\nint requestCode = chatNotifications.getTopic().hashCode();\r\n\r\nPendingIntent actionIntent = PendingIntent.getActivity(context, requestCode, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\r\n    .setContentIntent(actionIntent);\r\n```\r\nBy using chatNotifications.getTopic().hashCode() as the requestCode, you create a unique identifier for each PendingIntent. This ensures that each notification click will create a separate PendingIntent and the intent extra will be correctly received in your Activity&#39;s onCreate method.\r\n\r\nMake sure to adjust your receiving code in the ChatActivity class accordingly:\r\n```java\r\ntopic = getIntent().getStringExtra(ChatActivity.CURRENT_CHAT_EXTRA);\r\n```\r\nBy implementing this approach, you should be able to resolve the issue of receiving different values in your Activity compared to what was originally sent from the notification.","title":"Inconsistent value received in Activity after clicking on notification","body":"<p>It appears that I am encountering this issue where the value received in your Activity differs from the one originally sent via the notification's intent extra. To resolve this problem, you can make use of a unique requestCode for each PendingIntent to ensure that the intent extras are received correctly.</p>\n<p>You can modify your code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(context, ChatActivity.class);\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\n\n// Generate a unique requestCode based on the topic\nint requestCode = chatNotifications.getTopic().hashCode();\n\nPendingIntent actionIntent = PendingIntent.getActivity(context, requestCode, intent, PendingIntent.FLAG_IMMUTABLE);\n\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\n    .setContentIntent(actionIntent);\n</code></pre>\n<p>By using chatNotifications.getTopic().hashCode() as the requestCode, you create a unique identifier for each PendingIntent. This ensures that each notification click will create a separate PendingIntent and the intent extra will be correctly received in your Activity's onCreate method.</p>\n<p>Make sure to adjust your receiving code in the ChatActivity class accordingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>topic = getIntent().getStringExtra(ChatActivity.CURRENT_CHAT_EXTRA);\n</code></pre>\n<p>By implementing this approach, you should be able to resolve the issue of receiving different values in your Activity compared to what was originally sent from the notification.</p>\n"}],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688033578,"creation_date":1687373738,"question_id":76526330,"body_markdown":"I have encountered an issue where I&#39;m trying to pass a value from a notification to an Activity using an intent extra. However, upon clicking on the notification and accessing the value in the Activity&#39;s onCreate method, the received value differs from the one I originally sent. I&#39;m seeking assistance in understanding and resolving this problem.\r\n\r\nHere&#39;s the relevant code snippet responsible for creating the notification and passing the value:\r\n```java\r\nIntent intent = new Intent(context, ChatActivity.class);\r\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\r\nPendingIntent actionIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\r\n    .setContentIntent(actionIntent);\r\n```\r\nIn the ChatActivity class, I&#39;m retrieving the value in the onCreate method as follows:\r\n```java\r\ntopic = getIntent().getStringExtra(CURRENT_CHAT_EXTRA);\r\n```\r\nThe issue is that topic ends up with a different value than what was originally sent.\r\n\r\nWhy might this discrepancy be occurring and how can I resolve it?\r\n\r\n\r\n\r\n","title":"Inconsistent value received in Activity after clicking on notification","body":"<p>I have encountered an issue where I'm trying to pass a value from a notification to an Activity using an intent extra. However, upon clicking on the notification and accessing the value in the Activity's onCreate method, the received value differs from the one I originally sent. I'm seeking assistance in understanding and resolving this problem.</p>\n<p>Here's the relevant code snippet responsible for creating the notification and passing the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(context, ChatActivity.class);\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\nPendingIntent actionIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\n    .setContentIntent(actionIntent);\n</code></pre>\n<p>In the ChatActivity class, I'm retrieving the value in the onCreate method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>topic = getIntent().getStringExtra(CURRENT_CHAT_EXTRA);\n</code></pre>\n<p>The issue is that topic ends up with a different value than what was originally sent.</p>\n<p>Why might this discrepancy be occurring and how can I resolve it?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-studio-chipmunk"],"comments":[{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":0,"creation_date":1659955761,"post_id":73275984,"comment_id":129410087,"body_markdown":"I had this very ennoying problem way before `Patch 1` and can&#39;t remember what was the reason: gradle build cache or offline mode or studio?\n`Patch 2` is released. If it does not help, try to delete `.idea` folder.","body":"I had this very ennoying problem way before <code>Patch 1</code> and can&#39;t remember what was the reason: gradle build cache or offline mode or studio? <code>Patch 2</code> is released. If it does not help, try to delete <code>.idea</code> folder."},{"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"score":0,"creation_date":1660516357,"post_id":73275984,"comment_id":129545806,"body_markdown":"I&#39;m having the same problem but on macOS, unfortunately didn&#39;t find a solution yet","body":"I&#39;m having the same problem but on macOS, unfortunately didn&#39;t find a solution yet"}],"answers":[{"comments":[{"owner":{"account_id":119254,"reputation":3626,"user_id":310832,"display_name":"nicopico"},"score":1,"creation_date":1669295049,"post_id":73468519,"comment_id":131615360,"body_markdown":"It is better to include a description if the images ever becomes unavailable. For those wondering, the solution involves enabling &quot;Install for all users&quot; in the Run configuration of the app.\nI confirm it worked for me","body":"It is better to include a description if the images ever becomes unavailable. For those wondering, the solution involves enabling &quot;Install for all users&quot; in the Run configuration of the app. I confirm it worked for me"}],"tags":[],"owner":{"account_id":14581829,"reputation":21,"user_id":10531974,"display_name":"Shakiv Hussain"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688033326,"creation_date":1661323317,"answer_id":73468519,"question_id":73275984,"body_markdown":"When I update my android studio, then the latest changes are not deploying so After lots of research and experiment, \r\n\r\nI found this solution then my Android Studio working fine. You can also try this.\r\n\r\nFirstly open from here : [![Firstly open from here][1]][1]\r\n\r\n\r\nAnd then enable from here : [![And then enable from here][2]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j1eYx.png\r\n  [2]: https://i.stack.imgur.com/MS8R0.png","title":"Every time need to rebuild project to reflect changes in Android Studio Chipmunk","body":"<p>When I update my android studio, then the latest changes are not deploying so After lots of research and experiment,</p>\n<p>I found this solution then my Android Studio working fine. You can also try this.</p>\n<p>Firstly open from here : <a href=\"https://i.stack.imgur.com/j1eYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j1eYx.png\" alt=\"Firstly open from here\" /></a></p>\n<p>And then enable from here : <a href=\"https://i.stack.imgur.com/j1eYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MS8R0.png\" alt=\"And then enable from here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1680789013,"post_id":75950284,"comment_id":133959728,"body_markdown":"Quick tip on image links: where it says &quot;enter image description here&quot;, this is a placeholder for you to fill in, so that site visitors with screen-readers can see a description of what the image contains.","body":"Quick tip on image links: where it says &quot;enter image description here&quot;, this is a placeholder for you to fill in, so that site visitors with screen-readers can see a description of what the image contains."}],"tags":[],"owner":{"account_id":18295524,"reputation":56,"user_id":14092948,"display_name":"Gustavo Stelle Cunha"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680789087,"creation_date":1680788874,"answer_id":75950284,"question_id":73275984,"body_markdown":"I was with the same problem, needed rebuild my project every change, but I find the solution.\r\n\r\n1. Go to edit configurations to build \r\n2. Android App -&gt; app \r\n3. Scroll to bottom page\r\n4. Verify if has any task at &quot;Before launch&quot;\r\n5. if have nothing, click on add icon and add &quot;Gradle-aware Make&quot;\r\n\r\nThis solve my problem\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5xJma.png\r\n","title":"Every time need to rebuild project to reflect changes in Android Studio Chipmunk","body":"<p>I was with the same problem, needed rebuild my project every change, but I find the solution.</p>\n<ol>\n<li>Go to edit configurations to build</li>\n<li>Android App -&gt; app</li>\n<li>Scroll to bottom page</li>\n<li>Verify if has any task at &quot;Before launch&quot;</li>\n<li>if have nothing, click on add icon and add &quot;Gradle-aware Make&quot;</li>\n</ol>\n<p>This solve my problem</p>\n"}],"owner":{"account_id":16904606,"reputation":561,"user_id":12225165,"display_name":"Jaydeep parmar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1423,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1688033326,"creation_date":1659952409,"question_id":73275984,"body_markdown":"I am using Android Studio Chipmunk (2021.2.1 Patch 1) stable version\r\n\r\n[![Android studio version chipmunk][1]][1]\r\n\r\nWhenever I do any changes in Kotlin or XML file and run the project then changes don&#39;t reflect in app unless and until I rebuild the project from `Build -&gt; Rebuild Project`.\r\n\r\nEvery time I have to rebuild project if I have done any changes in code.\r\n\r\nI have already tried with `File -&gt; Invalidate Caches -&gt; Invalidate and restart`\r\n\r\n  [1]: https://i.stack.imgur.com/6Gi8H.png","title":"Every time need to rebuild project to reflect changes in Android Studio Chipmunk","body":"<p>I am using Android Studio Chipmunk (2021.2.1 Patch 1) stable version</p>\n<p><a href=\"https://i.stack.imgur.com/6Gi8H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6Gi8H.png\" alt=\"Android studio version chipmunk\" /></a></p>\n<p>Whenever I do any changes in Kotlin or XML file and run the project then changes don't reflect in app unless and until I rebuild the project from <code>Build -&gt; Rebuild Project</code>.</p>\n<p>Every time I have to rebuild project if I have done any changes in code.</p>\n<p>I have already tried with <code>File -&gt; Invalidate Caches -&gt; Invalidate and restart</code></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687188238,"post_id":76507736,"comment_id":134898448,"body_markdown":"The setup of your project is not clear. You have one Spring Boot application, right? What kind of applications are the other two - Email? SPI?","body":"The setup of your project is not clear. You have one Spring Boot application, right? What kind of applications are the other two - Email? SPI?"},{"owner":{"account_id":10003134,"reputation":11,"user_id":7398453,"display_name":"Stefan"},"score":0,"creation_date":1687248963,"post_id":76507736,"comment_id":134906178,"body_markdown":"SPI is a simple Java Service Provider Interface. Email is a Java project with Core dependency. It includes Spring Configuration, but has no class to start. Does this make it a Spring Boot Application, too?","body":"SPI is a simple Java Service Provider Interface. Email is a Java project with Core dependency. It includes Spring Configuration, but has no class to start. Does this make it a Spring Boot Application, too?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1687264796,"post_id":76507736,"comment_id":134909743,"body_markdown":"This is a badly formulated question that is basically asking us (people who have never seen your project) how to start it? Ask your teammates - how should we know?","body":"This is a badly formulated question that is basically asking us (people who have never seen your project) how to start it? Ask your teammates - how should we know?"}],"answers":[{"tags":[],"owner":{"account_id":10003134,"reputation":11,"user_id":7398453,"display_name":"Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688033306,"creation_date":1688033306,"answer_id":76580055,"question_id":76507736,"body_markdown":"It is possible to debug multiple projects by using [Gradle Composite Builds][1]. Add the core project and the SPI project to the email project in settings.gradle:\r\n\r\n    rootProject.name = &#39;projEmail&#39;\r\n    \r\n    includeBuild &#39;../projCore&#39;\r\n    includeBuild &#39;../projLinux&#39;  //SPI\r\nThe SPI must be added as test dependency, too. Then it is possible to write a starter class in the test sources - similar to the one in the core project:\r\n\r\n    public static void main(String[] args) \r\n\t{\r\n\t\tLOG.info(&quot;Start email project with Spring Boot&quot;);\r\n\t\t\r\n        //Call the class in core that starts spring (class with @SpringBootApplication)\r\n\t\tSpringApplication app = new SpringApplication(MainAppSpringConfiguration.class);\r\n\t\tapp.run(args);\r\n\t}\r\nSo there is nothing special to do. I had to stop searching for an answer at similar questions and follow the [Spring Boot documentation][2]: &quot;You can run a Spring Boot application from your IDE as a Java application.&quot;.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/composite_builds.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.1.1/reference/html/using.html#using.running-your-application.from-an-ide","title":"Local start/debug Spring Boot Application from dependency and include SPI","body":"<p>It is possible to debug multiple projects by using <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">Gradle Composite Builds</a>. Add the core project and the SPI project to the email project in settings.gradle:</p>\n<pre><code>rootProject.name = 'projEmail'\n\nincludeBuild '../projCore'\nincludeBuild '../projLinux'  //SPI\n</code></pre>\n<p>The SPI must be added as test dependency, too. Then it is possible to write a starter class in the test sources - similar to the one in the core project:</p>\n<pre><code>public static void main(String[] args) \n{\n    LOG.info(&quot;Start email project with Spring Boot&quot;);\n    \n    //Call the class in core that starts spring (class with @SpringBootApplication)\n    SpringApplication app = new SpringApplication(MainAppSpringConfiguration.class);\n    app.run(args);\n}\n</code></pre>\n<p>So there is nothing special to do. I had to stop searching for an answer at similar questions and follow the <a href=\"https://docs.spring.io/spring-boot/docs/3.1.1/reference/html/using.html#using.running-your-application.from-an-ide\" rel=\"nofollow noreferrer\">Spring Boot documentation</a>: &quot;You can run a Spring Boot application from your IDE as a Java application.&quot;.</p>\n"}],"owner":{"account_id":10003134,"reputation":11,"user_id":7398453,"display_name":"Stefan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76580055,"answer_count":1,"score":-1,"last_activity_date":1688033306,"creation_date":1687185981,"question_id":76507736,"body_markdown":"We have a large project that runs after deploying, but I do not know how to start it local (Eclipse, Intellij).\r\nWe have in our core project a start configuration with a main method and it is marked as @SpringBootApplication. The core project is a dependency of our email project and some other projects. Also we have a SPI that depends on target system.\r\n\r\nI want to debug all 3 projects at once - core, email and the active SPI. I have two major problems:\r\n\r\n1) How to start the spring application? The IDE can not find the main method from the dependency. It is not a web server but an application that uses spring annotations to start.\r\n2) How to add the SPI project with source code, so I can debug it?\r\n\r\nAlso I have to mention that we use Gradle with single project builds. We will update to Java 17 and maybe it is easier to solve if we create a multiproject in Gradle? What should a build script for this use case look like?\r\n","title":"Local start/debug Spring Boot Application from dependency and include SPI","body":"<p>We have a large project that runs after deploying, but I do not know how to start it local (Eclipse, Intellij).\nWe have in our core project a start configuration with a main method and it is marked as @SpringBootApplication. The core project is a dependency of our email project and some other projects. Also we have a SPI that depends on target system.</p>\n<p>I want to debug all 3 projects at once - core, email and the active SPI. I have two major problems:</p>\n<ol>\n<li>How to start the spring application? The IDE can not find the main method from the dependency. It is not a web server but an application that uses spring annotations to start.</li>\n<li>How to add the SPI project with source code, so I can debug it?</li>\n</ol>\n<p>Also I have to mention that we use Gradle with single project builds. We will update to Java 17 and maybe it is easier to solve if we create a multiproject in Gradle? What should a build script for this use case look like?</p>\n"},{"tags":["java","ios","apple-push-notifications"],"answers":[{"tags":[],"owner":{"account_id":2351348,"reputation":373,"user_id":2060073,"display_name":"DeRauk"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1396730390,"creation_date":1396730390,"answer_id":22886499,"question_id":22525388,"body_markdown":"As stated [here](https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error) java-apns is expecting the .p12 private key, not the .pem file.  \r\n\r\nThe instructions for creating a .p12 file on a mac are in the first link, but if you&#39;re using the openssl tool on linux you can create it with:\r\n\r\n    openssl pkcs12 -export -inkey mykey.key -in mykey.pem -out mykey.p12","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>As stated <a href=\"https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error\">here</a> java-apns is expecting the .p12 private key, not the .pem file.  </p>\n\n<p>The instructions for creating a .p12 file on a mac are in the first link, but if you're using the openssl tool on linux you can create it with:</p>\n\n<pre><code>openssl pkcs12 -export -inkey mykey.key -in mykey.pem -out mykey.p12\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4152,"reputation":1105,"user_id":6153,"accept_rate":71,"display_name":"Jim Ford"},"score":4,"creation_date":1462801046,"post_id":23299977,"comment_id":61775527,"body_markdown":"how would I do this in windows or linux?","body":"how would I do this in windows or linux?"}],"tags":[],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"comment_count":1,"down_vote_count":3,"up_vote_count":7,"is_accepted":true,"score":4,"last_activity_date":1398448859,"creation_date":1398448859,"answer_id":23299977,"question_id":22525388,"body_markdown":"I just found the answer. When I try to generate a P12 key, I need to select both, a private key and certificate in keychain access.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nabCa.png","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>I just found the answer. When I try to generate a P12 key, I need to select both, a private key and certificate in keychain access.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nabCa.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":27371858,"reputation":1,"user_id":20877779,"display_name":"Mehmet Fatih &#199;ƒ∞N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688033054,"creation_date":1688033054,"answer_id":76580027,"question_id":22525388,"body_markdown":"You can do your question on windows as follows. Run CMD as administrator and enter the bin folder of open SSL. Then run the code below.\r\n\r\nopenssl pkcs12 -export -inkey C:\\private.key -in C:\\certificate.crt -out C:\\key.p12 -passout pass:&lt;password&gt; -name &quot;My_ECC_Key&quot;\r\n\r\nI assume you have obtained the private.key and certificate.crt files while writing the above codes.","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>You can do your question on windows as follows. Run CMD as administrator and enter the bin folder of open SSL. Then run the code below.</p>\n<p>openssl pkcs12 -export -inkey C:\\private.key -in C:\\certificate.crt -out C:\\key.p12 -passout pass: -name &quot;My_ECC_Key&quot;</p>\n<p>I assume you have obtained the private.key and certificate.crt files while writing the above codes.</p>\n"}],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60603,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":23299977,"answer_count":3,"score":16,"last_activity_date":1688033054,"creation_date":1395297831,"question_id":22525388,"body_markdown":"I got this error when my server try to push a notification to a specific device based on device token and ck.pem (combination between .pem file, cert and key). \r\n\r\n    Caused by: java.io.IOException: toDerInputStream rejects tag type 45\r\n\r\nThis is full error message appear in my eclipse console.\r\n\r\n    initial\r\n    starting push notification sending\r\n    2014/03/20 14:28:00:252 INFO  net.penril.notification.Initializer: ====Start Push Notification Sending==== \r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    2014/03/20 14:28:04:737 INFO  net.penril.notification.Initializer: Total of record data(1)\r\n    SMS OID: 465\r\n    IOS test\r\n    reg id =x769571d187c15cec398c5a02f196249456e8b73f763754fa17060658f87f6f6\r\n    com.notnoop.exceptions.InvalidSSLConfig: java.io.IOException: toDerInputStream rejects tag type 45\r\n    2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: Failed send notification to APN \r\n    2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: ====Complete Push Notification Sending==== \r\n    2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: =====End===== \r\n    \r\n    starting..\r\n    \tat com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:101)\r\n    \tat com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:170)\r\n    \tat com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:133)\r\n    \tat net.penril.notification.Initializer.notificationWorker(Initializer.java:156)\r\n    \tat net.penril.notification.Initializer.Initial(Initializer.java:46)\r\n    \tat net.penril.notification.PushNotificationCron$Job.run(PushNotificationCron.java:12)\r\n    \tat EDU.oswego.cs.dl.util.concurrent.ClockDaemon$RunLoop.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:724)\r\n    Caused by: java.io.IOException: toDerInputStream rejects tag type 45\r\n    \tat sun.security.util.DerValue.toDerInputStream(DerValue.java:847)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1221)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1214)\r\n    \tat com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:85)\r\n    \t... 7 more\r\n\r\nI suspect this error cause by this code\r\n\r\n    System.out.println(&quot;reg id =&quot; + record.getRegId());\r\n    ApnsService service = APNS.newService().withCert(&quot;/Applications/MAMP/htdocs/xxxxx-mobile/ck.pem&quot;, &quot;xxxxxx&quot;).withSandboxDestination().build();\r\n    String payload = APNS.newPayload().alertBody(&quot;This for testing&quot;).build();\r\n    String token = record.getRegId();\r\n    service.push(token, payload);\r\n\r\nDo you have any idea about this `toDerInputStream rejects tag type 45` ?\r\n\r\nI already doing my research about this problem here:\r\n\r\n 1. [https://community.oracle.com/thread/1534340?start=0&amp;tstart=0][1]\r\n 2. [https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error][2]\r\n\r\nWhy?\r\n\r\n\r\n  [1]: https://community.oracle.com/thread/1534340?start=0&amp;tstart=0\r\n  [2]: https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>I got this error when my server try to push a notification to a specific device based on device token and ck.pem (combination between .pem file, cert and key). </p>\n\n<pre><code>Caused by: java.io.IOException: toDerInputStream rejects tag type 45\n</code></pre>\n\n<p>This is full error message appear in my eclipse console.</p>\n\n<pre><code>initial\nstarting push notification sending\n2014/03/20 14:28:00:252 INFO  net.penril.notification.Initializer: ====Start Push Notification Sending==== \nSLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n2014/03/20 14:28:04:737 INFO  net.penril.notification.Initializer: Total of record data(1)\nSMS OID: 465\nIOS test\nreg id =x769571d187c15cec398c5a02f196249456e8b73f763754fa17060658f87f6f6\ncom.notnoop.exceptions.InvalidSSLConfig: java.io.IOException: toDerInputStream rejects tag type 45\n2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: Failed send notification to APN \n2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: ====Complete Push Notification Sending==== \n2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: =====End===== \n\nstarting..\n    at com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:101)\n    at com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:170)\n    at com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:133)\n    at net.penril.notification.Initializer.notificationWorker(Initializer.java:156)\n    at net.penril.notification.Initializer.Initial(Initializer.java:46)\n    at net.penril.notification.PushNotificationCron$Job.run(PushNotificationCron.java:12)\n    at EDU.oswego.cs.dl.util.concurrent.ClockDaemon$RunLoop.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:724)\nCaused by: java.io.IOException: toDerInputStream rejects tag type 45\n    at sun.security.util.DerValue.toDerInputStream(DerValue.java:847)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1221)\n    at java.security.KeyStore.load(KeyStore.java:1214)\n    at com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:85)\n    ... 7 more\n</code></pre>\n\n<p>I suspect this error cause by this code</p>\n\n<pre><code>System.out.println(\"reg id =\" + record.getRegId());\nApnsService service = APNS.newService().withCert(\"/Applications/MAMP/htdocs/xxxxx-mobile/ck.pem\", \"xxxxxx\").withSandboxDestination().build();\nString payload = APNS.newPayload().alertBody(\"This for testing\").build();\nString token = record.getRegId();\nservice.push(token, payload);\n</code></pre>\n\n<p>Do you have any idea about this <code>toDerInputStream rejects tag type 45</code> ?</p>\n\n<p>I already doing my research about this problem here:</p>\n\n<ol>\n<li><a href=\"https://community.oracle.com/thread/1534340?start=0&amp;tstart=0\" rel=\"noreferrer\">https://community.oracle.com/thread/1534340?start=0&amp;tstart=0</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error\">Java APNS (Apple Push Notification Service) error</a></li>\n</ol>\n\n<p>Why?</p>\n"},{"tags":["java","class","uml","class-diagram"],"answers":[{"comments":[{"owner":{"account_id":14804000,"reputation":45,"user_id":10691516,"display_name":"coder"},"score":1,"creation_date":1687694778,"post_id":76550280,"comment_id":134969566,"body_markdown":"Thank you. That&#39;s made it easier to understand.","body":"Thank you. That&#39;s made it easier to understand."}],"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687694289,"creation_date":1687694289,"answer_id":76550280,"question_id":76550117,"body_markdown":"You would need an association between `User` and `Investigation` if there is a structural [semantic relationship][1] between the two, for example if users have investigations assigned, if investigations are owned by some users, or if users have a list of associations to browse.   \r\n\r\nIf there is a transient relationship, e.g. if users can browse all the investigations, and from time to time decide to share one, without a trace being kept,  there would be no need for an association.  \r\n\r\nNow if `Investigation` has a `share` operation, `User` could simply use that operation, whether there are associated with the investigation or not.\r\n\r\nHowever the question arises if another class would need to tell `User` to share an investigation (e.g. a class of the user interface).  In this case, you may be interested in having a `share` operation for `User`.  But if you start like this,  you&#39;d need to have a look at the [principle of least knowledge][2],  because such a design could lead to a lot of hidden coupling that makes the software difficult to maintain in regard of future evolutions. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/25966212/3723423\r\n  [2]: https://en.wikipedia.org/wiki/Law_of_Demeter","title":"Do we apply the same operations in both classes in a UML class diagram?","body":"<p>You would need an association between <code>User</code> and <code>Investigation</code> if there is a structural <a href=\"https://stackoverflow.com/q/25966212/3723423\">semantic relationship</a> between the two, for example if users have investigations assigned, if investigations are owned by some users, or if users have a list of associations to browse.</p>\n<p>If there is a transient relationship, e.g. if users can browse all the investigations, and from time to time decide to share one, without a trace being kept,  there would be no need for an association.</p>\n<p>Now if <code>Investigation</code> has a <code>share</code> operation, <code>User</code> could simply use that operation, whether there are associated with the investigation or not.</p>\n<p>However the question arises if another class would need to tell <code>User</code> to share an investigation (e.g. a class of the user interface).  In this case, you may be interested in having a <code>share</code> operation for <code>User</code>.  But if you start like this,  you'd need to have a look at the <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">principle of least knowledge</a>,  because such a design could lead to a lot of hidden coupling that makes the software difficult to maintain in regard of future evolutions.</p>\n"},{"tags":[],"owner":{"account_id":7177885,"reputation":5820,"user_id":5483079,"accept_rate":60,"display_name":"www.admiraalit.nl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688032954,"creation_date":1688032954,"answer_id":76580013,"question_id":76550117,"body_markdown":"It depends on the purpose of the class diagram.\r\n\r\nIf the class diagram is a model of the real world, then the operations shall reflect the behaviour of the instances of the classes. In the real world, investigations don&#39;t share themselves. Instead, a person shares it. &#39;Share&#39; is an operation of Person and it has an investigation as a parameter.\r\n\r\nIf the class diagram is a model of how an application works, then the operations shall reflect the behaviour of the piece of software represented by the class. In the application, User and Investigation are classes in some object-oriented programming language. The operations of the classes are meant to be called at some event, e.g. when a button is pressed. Maybe Investigation has a boolean attribute &#39;isShared&#39;. In that case, operation &#39;share&#39; shall be on class Investigation in order to set the attribute to true. Alternatively, less likely, class User may own a list of shared Investigations. In that case, operation &#39;share&#39; shall be on class User in order to add one investigation to the list.\r\n\r\nThese are only two possible purposes of the class diagram. There are more. Determine the purpose of your class diagram and then make your choice. There is no single correct solution.\r\n","title":"Do we apply the same operations in both classes in a UML class diagram?","body":"<p>It depends on the purpose of the class diagram.</p>\n<p>If the class diagram is a model of the real world, then the operations shall reflect the behaviour of the instances of the classes. In the real world, investigations don't share themselves. Instead, a person shares it. 'Share' is an operation of Person and it has an investigation as a parameter.</p>\n<p>If the class diagram is a model of how an application works, then the operations shall reflect the behaviour of the piece of software represented by the class. In the application, User and Investigation are classes in some object-oriented programming language. The operations of the classes are meant to be called at some event, e.g. when a button is pressed. Maybe Investigation has a boolean attribute 'isShared'. In that case, operation 'share' shall be on class Investigation in order to set the attribute to true. Alternatively, less likely, class User may own a list of shared Investigations. In that case, operation 'share' shall be on class User in order to add one investigation to the list.</p>\n<p>These are only two possible purposes of the class diagram. There are more. Determine the purpose of your class diagram and then make your choice. There is no single correct solution.</p>\n"}],"owner":{"account_id":14804000,"reputation":45,"user_id":10691516,"display_name":"coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76550280,"answer_count":2,"score":2,"last_activity_date":1688032954,"creation_date":1687691522,"question_id":76550117,"body_markdown":"I&#39;m getting really paranoid about class diagrams. Let&#39;s say I have a class named `Investigation`. In that class there is an operation named `share` which allows a user to share the investigation. Let&#39;s say I also have a class named `User`. Should the class `User` also have an operation named `share` because the user can share the investigation?  I&#39;m getting really confused. Will association fix this? ","title":"Do we apply the same operations in both classes in a UML class diagram?","body":"<p>I'm getting really paranoid about class diagrams. Let's say I have a class named <code>Investigation</code>. In that class there is an operation named <code>share</code> which allows a user to share the investigation. Let's say I also have a class named <code>User</code>. Should the class <code>User</code> also have an operation named <code>share</code> because the user can share the investigation?  I'm getting really confused. Will association fix this?</p>\n"},{"tags":["java","spring","spring-boot","mariadb","timezone"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687975055,"post_id":76575268,"comment_id":135013159,"body_markdown":"Please add more details on how you are reading from database? JDBC? JPA? other? Share the relevant code.","body":"Please add more details on how you are reading from database? JDBC? JPA? other? Share the relevant code."},{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1688030975,"post_id":76575268,"comment_id":135020261,"body_markdown":"I have add some information. I use spring jpa with springboot datasource configuration over jdbc connecror and jpa crud repository to do that.","body":"I have add some information. I use spring jpa with springboot datasource configuration over jdbc connecror and jpa crud repository to do that."}],"answers":[{"comments":[{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1688109573,"post_id":76580007,"comment_id":135032436,"body_markdown":"Oh no ! I have made a mistake. :( I thought the timezone was the one we wanted after conversion. So, it&#39;s work fine ! Is it possible to do the same thing with jdbc connection url ? I have read there is a https://mariadb.com/kb/en/about-mariadb-connector-j/ with `timezone` parameter but it didn&#39;t work for me.","body":"Oh no ! I have made a mistake. :( I thought the timezone was the one we wanted after conversion. So, it&#39;s work fine ! Is it possible to do the same thing with jdbc connection url ? I have read there is a <a href=\"https://mariadb.com/kb/en/about-mariadb-connector-j/\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/about-mariadb-connector-j</a> with <code>timezone</code> parameter but it didn&#39;t work for me."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688110424,"post_id":76580007,"comment_id":135032589,"body_markdown":"The driver parameter works but the other way round. It means you would set it to auto or to UTC. Recommended: `jdbc:mariadb:localhost/?timezone=auto` Check here for details: https://mariadb.com/kb/en/about-mariadb-connector-j/#timezone-consideration","body":"The driver parameter works but the other way round. It means you would set it to auto or to UTC. Recommended: <code>jdbc:mariadb:localhost&#47;?timezone=auto</code> Check here for details: <a href=\"https://mariadb.com/kb/en/about-mariadb-connector-j/#timezone-consideration\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/about-mariadb-connector-j/&hellip;</a>"},{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1688131098,"post_id":76580007,"comment_id":135036667,"body_markdown":"Yes, i have already read the documentation about Mariadb connector. I don&#39;t know why, but it doesn&#39;t work on my application. Thank you so much for your response !","body":"Yes, i have already read the documentation about Mariadb connector. I don&#39;t know why, but it doesn&#39;t work on my application. Thank you so much for your response !"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688131497,"post_id":76580007,"comment_id":135036779,"body_markdown":"Maybe old version? timezone parameter since 3.0.0","body":"Maybe old version? timezone parameter since 3.0.0"},{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1688139057,"post_id":76580007,"comment_id":135038388,"body_markdown":"Yes. Springboot 2.6.4 include org.mariadb.jdbc.mariadb-java-client:2.7.5. So, i have open the Options.java file and there is an option  serverTimezone but this change nothing for me...","body":"Yes. Springboot 2.6.4 include org.mariadb.jdbc.mariadb-java-client:2.7.5. So, i have open the Options.java file and there is an option  serverTimezone but this change nothing for me..."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688032901,"creation_date":1688032901,"answer_id":76580007,"question_id":76575268,"body_markdown":"If the time zone configured in the database differs from the default time zone of the application we need to instruct JDBC to use the database time zone for the conversion. Add following property:\r\n```\r\nspring.jpa.properties.hibernate.jdbc.time_zone=CET\r\n```","title":"How to convert Timestamp from CET mariadb to java UTC Localdatetime?","body":"<p>If the time zone configured in the database differs from the default time zone of the application we need to instruct JDBC to use the database time zone for the conversion. Add following property:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone=CET\n</code></pre>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580007,"answer_count":1,"score":0,"last_activity_date":1688032901,"creation_date":1687971269,"question_id":76575268,"body_markdown":"I have a CET MariaDB Database containing a lot of Timestamp (Unix Epoch) and i want to convert this data to LocalDateTime with UTC Timezone.\r\n\r\nAs you can see my MariaDB Database used the CET timezone (the first line is the command, the second is the sql result) :\r\n\r\n    select @@system_time_zone as tz;\r\n    CET\r\n\r\nAnd my application used UTC (the first line is the command, the second is the console result) :\r\n\r\n    System.out.println(&quot;Setting the timezone::&gt;&quot; + TimeZone.getDefault());\r\n    Setting the timezone::&gt;sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null]\r\n\r\nI use springboot 2.6.4.\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.experimental.FieldNameConstants;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity(name = &quot;example&quot;)\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @FieldNameConstants\r\n    public class ExampleEntity implements IEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long notificationId;\r\n    \r\n        @Column(updatable = false)\r\n        private LocalDateTime creationDate;\r\n    }\r\n\r\nThis entity is used by Spring jpa repository (findAll method) :\r\n\r\n    import com.application.infra.db.entity.ExampleEntity;\r\n    import org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ExampleRepository extends CrudRepository&lt;ExampleEntity, Long&gt;, JpaSpecificationExecutor&lt;ExampleEntity&gt; {\r\n    \r\n    }\r\n\r\nAnd i have configured springboot datasource :\r\n\r\n    spring:\r\n      application:\r\n        name: &#39;@project.name@&#39;\r\n      datasource:\r\n        url: jdbc:mariadb://mariadbdatabase:6666/example}\r\n        username: example_user\r\n        password: example_password\r\n        driver-class-name: org.mariadb.jdbc.Driver\r\n\r\nIs it possible to get a LocalDateTime converted to UTC TimeZone ?\r\n\r\n&gt; I have try to use `timezone` connector parameter but it does nothing. :(\r\n\r\nThanks for your help !","title":"How to convert Timestamp from CET mariadb to java UTC Localdatetime?","body":"<p>I have a CET MariaDB Database containing a lot of Timestamp (Unix Epoch) and i want to convert this data to LocalDateTime with UTC Timezone.</p>\n<p>As you can see my MariaDB Database used the CET timezone (the first line is the command, the second is the sql result) :</p>\n<pre><code>select @@system_time_zone as tz;\nCET\n</code></pre>\n<p>And my application used UTC (the first line is the command, the second is the console result) :</p>\n<pre><code>System.out.println(&quot;Setting the timezone::&gt;&quot; + TimeZone.getDefault());\nSetting the timezone::&gt;sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null]\n</code></pre>\n<p>I use springboot 2.6.4.</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.experimental.FieldNameConstants;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.time.LocalDateTime;\n\n@Getter\n@Setter\n@Entity(name = &quot;example&quot;)\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@FieldNameConstants\npublic class ExampleEntity implements IEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long notificationId;\n\n    @Column(updatable = false)\n    private LocalDateTime creationDate;\n}\n</code></pre>\n<p>This entity is used by Spring jpa repository (findAll method) :</p>\n<pre><code>import com.application.infra.db.entity.ExampleEntity;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ExampleRepository extends CrudRepository&lt;ExampleEntity, Long&gt;, JpaSpecificationExecutor&lt;ExampleEntity&gt; {\n\n}\n</code></pre>\n<p>And i have configured springboot datasource :</p>\n<pre><code>spring:\n  application:\n    name: '@project.name@'\n  datasource:\n    url: jdbc:mariadb://mariadbdatabase:6666/example}\n    username: example_user\n    password: example_password\n    driver-class-name: org.mariadb.jdbc.Driver\n</code></pre>\n<p>Is it possible to get a LocalDateTime converted to UTC TimeZone ?</p>\n<blockquote>\n<p>I have try to use <code>timezone</code> connector parameter but it does nothing. :(</p>\n</blockquote>\n<p>Thanks for your help !</p>\n"},{"tags":["javascript","java","android","react-native","frontend"],"comments":[{"owner":{"account_id":2435625,"reputation":5183,"user_id":2125612,"display_name":"Jickson"},"score":0,"creation_date":1463115783,"post_id":37200627,"comment_id":61935162,"body_markdown":"Can you share the details about the library which you want to use in react native?","body":"Can you share the details about the library which you want to use in react native?"}],"answers":[{"tags":[],"owner":{"account_id":2435625,"reputation":5183,"user_id":2125612,"display_name":"Jickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463118594,"creation_date":1463118594,"answer_id":37202111,"question_id":37200627,"body_markdown":"To integrate jar file to android see [here][1].\r\n\r\n\r\nIn order to access the library functionality you need to create a react-native module for the functionalities which you want to access through javascript. For more info refer [this][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16608135/android-studio-add-jar-as-library\r\n  [2]: http://facebook.github.io/react-native/docs/native-modules-android.html#content","title":"How to include &#39;.jar&#39; files in the React-native for Android?","body":"<p>To integrate jar file to android see <a href=\"https://stackoverflow.com/questions/16608135/android-studio-add-jar-as-library\">here</a>.</p>\n\n<p>In order to access the library functionality you need to create a react-native module for the functionalities which you want to access through javascript. For more info refer <a href=\"http://facebook.github.io/react-native/docs/native-modules-android.html#content\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"comments":[{"owner":{"account_id":9747598,"reputation":1252,"user_id":7227010,"accept_rate":75,"display_name":"Tyler Miller"},"score":0,"creation_date":1524156371,"post_id":38144780,"comment_id":86868382,"body_markdown":"Where did you come up with `com.squareup.okhttp3:okhttp:3.4.1`?","body":"Where did you come up with <code>com.squareup.okhttp3:okhttp:3.4.1</code>?"},{"owner":{"account_id":1788813,"reputation":13031,"user_id":3765109,"accept_rate":77,"display_name":"efkan"},"score":0,"creation_date":1524157072,"post_id":38144780,"comment_id":86868784,"body_markdown":"I guess you asked because okhttp:3.4.1 is already in jar folder. If so you&#39;re right it seems wrong. I&#39;ll edit the answer.","body":"I guess you asked because okhttp:3.4.1 is already in jar folder. If so you&#39;re right it seems wrong. I&#39;ll edit the answer."},{"owner":{"account_id":9747598,"reputation":1252,"user_id":7227010,"accept_rate":75,"display_name":"Tyler Miller"},"score":0,"creation_date":1524157302,"post_id":38144780,"comment_id":86868902,"body_markdown":"Nope! I should note that my java skills are rusty. I asked purely because I&#39;m trying to find the right string format to compile some libs that I am including. If possible, can you update the example to use that `gson-2.2.2.jar`?","body":"Nope! I should note that my java skills are rusty. I asked purely because I&#39;m trying to find the right string format to compile some libs that I am including. If possible, can you update the example to use that <code>gson-2.2.2.jar</code>?"},{"owner":{"account_id":1788813,"reputation":13031,"user_id":3765109,"accept_rate":77,"display_name":"efkan"},"score":0,"creation_date":1524157736,"post_id":38144780,"comment_id":86869139,"body_markdown":"Actually I have to change and have to expand the answer. Let me change in a couple of minutes..","body":"Actually I have to change and have to expand the answer. Let me change in a couple of minutes.."},{"owner":{"account_id":9747598,"reputation":1252,"user_id":7227010,"accept_rate":75,"display_name":"Tyler Miller"},"score":0,"creation_date":1524157840,"post_id":38144780,"comment_id":86869195,"body_markdown":"Thank you for quick replies on an old answer!","body":"Thank you for quick replies on an old answer!"},{"owner":{"account_id":1788813,"reputation":13031,"user_id":3765109,"accept_rate":77,"display_name":"efkan"},"score":0,"creation_date":1524159537,"post_id":38144780,"comment_id":86870108,"body_markdown":"I guess `Example-2` explains what you asked. Isn&#39;t it?","body":"I guess <code>Example-2</code> explains what you asked. Isn&#39;t it?"},{"owner":{"account_id":9747598,"reputation":1252,"user_id":7227010,"accept_rate":75,"display_name":"Tyler Miller"},"score":0,"creation_date":1524159909,"post_id":38144780,"comment_id":86870311,"body_markdown":"Example 2 solves my issue. The note at the end also also saved my butt. Nice answer!","body":"Example 2 solves my issue. The note at the end also also saved my butt. Nice answer!"},{"owner":{"account_id":8888916,"reputation":112,"user_id":6636268,"display_name":"androider"},"score":0,"creation_date":1585673653,"post_id":38144780,"comment_id":107842784,"body_markdown":"@efkan do we need to do anything else to use the functionality?","body":"@efkan do we need to do anything else to use the functionality?"},{"owner":{"account_id":22321603,"reputation":415,"user_id":16544164,"display_name":"Zero0"},"score":0,"creation_date":1667484366,"post_id":38144780,"comment_id":131181247,"body_markdown":"how can i import the module in my react natice components with NativeModules, how can i find the name of the library to import after adding it with implementation in build.gradle","body":"how can i import the module in my react natice components with NativeModules, how can i find the name of the library to import after adding it with implementation in build.gradle"}],"tags":[],"owner":{"account_id":1788813,"reputation":13031,"user_id":3765109,"accept_rate":77,"display_name":"efkan"},"comment_count":9,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1524159354,"creation_date":1467373993,"answer_id":38144780,"question_id":37200627,"body_markdown":"Adding `*.jar` to the Project is done by using `build.gradle` file:\r\n\r\n - If you want to add a `jar` file to the project, Facebook had already done on your behalf! &lt;br&gt;**Just add a `libs` folder into the `android/app` directory of the project with your `jar` file** and enjoy! &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n - If you want to add a `jar` file to a `native-module` then add the line of `compile fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])` into the `dependencies` part of `build.gradle` file of the native-module. \r\n\r\n\r\n**Example-1:**\r\n\r\nAfter I added *okhttp-3.4.1.jar* file into the lib folder, I also add that package name to the dependencies part as the following:\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        compile &#39;com.facebook.react:react-native:0.19.+&#39;\r\n    }\r\n\r\n\r\n**Example-2:**\r\n\r\nIf I need another package -that is found in Maven repo- I have to add into dependencies block as following (for instance I wanna add `fresco`):\r\n\r\n    dependencies {\r\n        compile &#39;com.facebook.fresco:fresco:1.9.0&#39;\r\n    }\r\n\r\n\r\nThen Gradle will find and install [dependency library Fresco][2] for me.\r\n\r\nUsually, every Android project has already Maven repo. configurations in `build.gradle` file which is found in top of folder of the project.\r\nFor example:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Example-3:**\r\n\r\n(I have never tried this however it should be worked) &lt;br&gt;\r\nIf I have an `drawee-debug.aar` file I can add it into my project by putting it into `lib` folder as directed on Example-1 then I have to change `fileTree` line as following:\r\n\r\n    compile fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;, &quot;*.aar&quot;])  // &quot;*.aar&quot; is added\r\n\r\n\r\n**Example-4:**\r\n\r\n(alternate way of Example-3) &lt;br&gt;\r\nIf I have an `drawee-debug.aar` file also I can add it into my project by putting it into `lib` folder as directed on Example-1 then I have to change and add some lines as following:\r\n\r\n    dependencies {\r\n        compile (name:&#39;drawee-debug&#39;, ext:&#39;aar&#39;)\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            ...\r\n\t\t    flatDir {\r\n\t\t\t    dirs &#39;libs&#39;, &#39;./libs&#39;\r\n\t\t    }\r\n            ...\r\n        }\r\n    }\r\n\r\nIn this way, `libs` directory is defined in `allprojects` folder and `aar` file specified in `dependencies` block, like othe examples. \r\n\r\n\r\n**Note** that after Gradle v3.0.1 `implementation` is used instead `compile` key word.\r\n\r\n\r\n\r\nKudos: https://stackoverflow.com/a/37092426/3765109\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ub6Yt.png\r\n  [2]: http://mvnrepository.com/artifact/com.facebook.fresco/fresco/1.9.0","title":"How to include &#39;.jar&#39; files in the React-native for Android?","body":"<p>Adding <code>*.jar</code> to the Project is done by using <code>build.gradle</code> file:</p>\n\n<ul>\n<li>If you want to add a <code>jar</code> file to the project, Facebook had already done on your behalf! <br><strong>Just add a <code>libs</code> folder into the <code>android/app</code> directory of the project with your <code>jar</code> file</strong> and enjoy! <br></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ub6Yt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ub6Yt.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>If you want to add a <code>jar</code> file to a <code>native-module</code> then add the line of <code>compile fileTree(dir: \"libs\", include: [\"*.jar\"])</code> into the <code>dependencies</code> part of <code>build.gradle</code> file of the native-module. </li>\n</ul>\n\n<p><strong>Example-1:</strong></p>\n\n<p>After I added <em>okhttp-3.4.1.jar</em> file into the lib folder, I also add that package name to the dependencies part as the following:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: \"libs\", include: [\"*.jar\"])\n    compile 'com.facebook.react:react-native:0.19.+'\n}\n</code></pre>\n\n<p><strong>Example-2:</strong></p>\n\n<p>If I need another package -that is found in Maven repo- I have to add into dependencies block as following (for instance I wanna add <code>fresco</code>):</p>\n\n<pre><code>dependencies {\n    compile 'com.facebook.fresco:fresco:1.9.0'\n}\n</code></pre>\n\n<p>Then Gradle will find and install <a href=\"http://mvnrepository.com/artifact/com.facebook.fresco/fresco/1.9.0\" rel=\"noreferrer\">dependency library Fresco</a> for me.</p>\n\n<p>Usually, every Android project has already Maven repo. configurations in <code>build.gradle</code> file which is found in top of folder of the project.\nFor example:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Example-3:</strong></p>\n\n<p>(I have never tried this however it should be worked) <br>\nIf I have an <code>drawee-debug.aar</code> file I can add it into my project by putting it into <code>lib</code> folder as directed on Example-1 then I have to change <code>fileTree</code> line as following:</p>\n\n<pre><code>compile fileTree(dir: \"libs\", include: [\"*.jar\", \"*.aar\"])  // \"*.aar\" is added\n</code></pre>\n\n<p><strong>Example-4:</strong></p>\n\n<p>(alternate way of Example-3) <br>\nIf I have an <code>drawee-debug.aar</code> file also I can add it into my project by putting it into <code>lib</code> folder as directed on Example-1 then I have to change and add some lines as following:</p>\n\n<pre><code>dependencies {\n    compile (name:'drawee-debug', ext:'aar')\n}\n\nallprojects {\n    repositories {\n        ...\n        flatDir {\n            dirs 'libs', './libs'\n        }\n        ...\n    }\n}\n</code></pre>\n\n<p>In this way, <code>libs</code> directory is defined in <code>allprojects</code> folder and <code>aar</code> file specified in <code>dependencies</code> block, like othe examples. </p>\n\n<p><strong>Note</strong> that after Gradle v3.0.1 <code>implementation</code> is used instead <code>compile</code> key word.</p>\n\n<p>Kudos: <a href=\"https://stackoverflow.com/a/37092426/3765109\">https://stackoverflow.com/a/37092426/3765109</a></p>\n"}],"owner":{"account_id":8068537,"reputation":145,"user_id":6081960,"display_name":"assert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15026,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":38144780,"answer_count":2,"score":14,"last_activity_date":1688032791,"creation_date":1463109146,"question_id":37200627,"body_markdown":"My English is poor.  \r\n\r\nI&#39;m a FRONT-END developer.  \r\n\r\nNow we need an App can use Bluetooth Printer, coding with React-Native for Android.  \r\n\r\nThe Printer&#39;s manufacturer provided a SDK file,extension is &#39;jar&#39;. \r\n \r\nPlease tell me how to use this SDK in the React-Native? then how to import in the JSX files?\r\n","title":"How to include &#39;.jar&#39; files in the React-native for Android?","body":"<p>My English is poor.  </p>\n\n<p>I'm a FRONT-END developer.  </p>\n\n<p>Now we need an App can use Bluetooth Printer, coding with React-Native for Android.  </p>\n\n<p>The Printer's manufacturer provided a SDK file,extension is 'jar'. </p>\n\n<p>Please tell me how to use this SDK in the React-Native? then how to import in the JSX files?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687751193,"post_id":76553388,"comment_id":134975054,"body_markdown":"Does this answer your question? [How to create a generic array in Java?](https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java\">How to create a generic array in Java?</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1687751474,"post_id":76553388,"comment_id":134975073,"body_markdown":"Why? Why not a `List&lt;List&lt;String&gt;&gt;`? More, err, generic that way.","body":"Why? Why not a <code>List&lt;List&lt;String&gt;&gt;</code>? More, err, generic that way."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687752500,"post_id":76553388,"comment_id":134975165,"body_markdown":"Does this answer your question? [How can I create an Array of ArrayLists?](https://stackoverflow.com/questions/8559092/how-can-i-create-an-array-of-arraylists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8559092/how-can-i-create-an-array-of-arraylists\">How can I create an Array of ArrayLists?</a>"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1687752551,"post_id":76553388,"comment_id":134975169,"body_markdown":"Can you give some example, what you mean by converting List&lt;List&lt;String&gt;&gt; to List&lt;String&gt;?","body":"Can you give some example, what you mean by converting List&lt;List&lt;String&gt;&gt; to List&lt;String&gt;?"},{"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1687753251,"post_id":76553388,"comment_id":134975227,"body_markdown":"@GauravJeswani I would like to convert List&lt;List&lt;String&gt;&gt; to an array of List&lt;String&gt;, this are two cases to demonstrate my question.","body":"@GauravJeswani I would like to convert List&lt;List&lt;String&gt;&gt; to an array of List&lt;String&gt;, this are two cases to demonstrate my question."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1687753474,"post_id":76553388,"comment_id":134975243,"body_markdown":"@Tom If you _really_ need to, you can do: `List&lt;?&gt;[] arr = results.stream().toArray(List&lt;?&gt;[]::new)`, cast the result to `List&lt;String&gt;[]` and suppress the warning.","body":"@Tom If you <i>really</i> need to, you can do: <code>List&lt;?&gt;[] arr = results.stream().toArray(List&lt;?&gt;[]::new)</code>, cast the result to <code>List&lt;String&gt;[]</code> and suppress the warning."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687754228,"post_id":76553388,"comment_id":134975328,"body_markdown":"Sounds like an [XY Problem](https://xyproblem.info/)","body":"Sounds like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687754291,"post_id":76553388,"comment_id":134975334,"body_markdown":"Does this help? [Creating a Generic Array in Java](https://www.baeldung.com/java-generic-array)","body":"Does this help? <a href=\"https://www.baeldung.com/java-generic-array\" rel=\"nofollow noreferrer\">Creating a Generic Array in Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1687753385,"post_id":76553477,"comment_id":134975237,"body_markdown":"Yes, in practice, i would use List&lt;List&lt;String&gt;&gt;, I just come across such a problem, and would like to know how to do the conversion.","body":"Yes, in practice, i would use List&lt;List&lt;String&gt;&gt;, I just come across such a problem, and would like to know how to do the conversion."}],"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687752911,"creation_date":1687752911,"answer_id":76553477,"question_id":76553388,"body_markdown":"The short answer is you can&#39;t, Java arrays don&#39;t support generic types.\r\n\r\nThere are very few cases where you can&#39;t use a `List&lt;List&lt;String&gt;&gt;` instead of an array of `List&lt;String&gt;`. Try that first and come back if you can&#39;t do that.\r\n\r\nBasically, your choices are make an array of `Object`, and cast the elements to `(List&lt;String&gt;)` when you access them, or make an array of `List`, and again cast to `(List&lt;String&gt;)` if you need to.\r\n\r\nOr make a wrapper around the array that will do the casting for you. Which is what a `List&lt;List&lt;String&gt;&gt;` is, so you&#39;re back to that question - why not do that?","title":"How to create an array of List&lt;String&gt;","body":"<p>The short answer is you can't, Java arrays don't support generic types.</p>\n<p>There are very few cases where you can't use a <code>List&lt;List&lt;String&gt;&gt;</code> instead of an array of <code>List&lt;String&gt;</code>. Try that first and come back if you can't do that.</p>\n<p>Basically, your choices are make an array of <code>Object</code>, and cast the elements to <code>(List&lt;String&gt;)</code> when you access them, or make an array of <code>List</code>, and again cast to <code>(List&lt;String&gt;)</code> if you need to.</p>\n<p>Or make a wrapper around the array that will do the casting for you. Which is what a <code>List&lt;List&lt;String&gt;&gt;</code> is, so you're back to that question - why not do that?</p>\n"},{"tags":[],"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687758612,"creation_date":1687758612,"answer_id":76553836,"question_id":76553388,"body_markdown":"Array of generic type are not supported in java.\r\nInstead if you create an array like\r\n\r\nList&lt;String&gt;[] array = new List[10];\r\nThan it will work.\r\n\r\nPlease refer the below question for more details:\r\n\r\nhttps://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java#:~:text=It&#39;s%20because%20Java&#39;s%20arrays%20","title":"How to create an array of List&lt;String&gt;","body":"<p>Array of generic type are not supported in java.\nInstead if you create an array like</p>\n<p>List[] array = new List[10];\nThan it will work.</p>\n<p>Please refer the below question for more details:</p>\n<p><a href=\"https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java#:%7E:text=It%27s%20because%20Java%27s%20arrays%20\">https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java#:~:text=It's%20because%20Java's%20arrays%20</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687785101,"creation_date":1687783354,"answer_id":76556802,"question_id":76553388,"body_markdown":"Try it like this. Just omit the generic type in the `toArray` method.  The suppress warnings removes the compiler&#39;s type safety warning (you may get a runtime class cast exception if the resulting types don&#39;t match since the types are erased).  But in this case, it isn&#39;t a problem.\r\n```\r\nList&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;(\r\n        List.of(List.of(&quot;ABC&quot;, &quot;DEF&quot;), List.of(&quot;GHI&quot;, &quot;JKL&quot;)));\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;String&gt;[] array = results.stream().toArray(List[]::new);\r\nfor (List&lt;String&gt; lst : array) {\r\n    System.out.println(lst);\r\n}\r\n\r\nString a = array[0].get(1);\r\nSystem.out.println(a);\r\n```\r\nprints\r\n```\r\n[ABC, DEF]\r\n[GHI, JKL]\r\nDEF\r\n```\r\nContrast the following using the same data and see what happens when you try to get an `&quot;Integer&quot;` from a list in the array.\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;Integer&gt;[] array = results.stream().toArray(List[]::new);\r\nInteger a = array[0].get(1);  // class cast exception!!\r\nSystem.out.println(a);\r\n```\r\nAnd finally, you can also do it sans streams.\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;String&gt;[] arr = new ArrayList[2];\r\narr[0] = new ArrayList&lt;&gt;(List.of(&quot;ABC&quot;,&quot;DEF&quot;));\r\narr[1] = new ArrayList&lt;&gt;(List.of(&quot;GHI&quot;,&quot;JKL&quot;));\r\n\r\nString a = arr[1].get(0);\r\nSystem.out.println(a);\r\n```\r\nprints\r\n```\r\nGHI","title":"How to create an array of List&lt;String&gt;","body":"<p>Try it like this. Just omit the generic type in the <code>toArray</code> method.  The suppress warnings removes the compiler's type safety warning (you may get a runtime class cast exception if the resulting types don't match since the types are erased).  But in this case, it isn't a problem.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;(\n        List.of(List.of(&quot;ABC&quot;, &quot;DEF&quot;), List.of(&quot;GHI&quot;, &quot;JKL&quot;)));\n\n@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;String&gt;[] array = results.stream().toArray(List[]::new);\nfor (List&lt;String&gt; lst : array) {\n    System.out.println(lst);\n}\n\nString a = array[0].get(1);\nSystem.out.println(a);\n</code></pre>\n<p>prints</p>\n<pre><code>[ABC, DEF]\n[GHI, JKL]\nDEF\n</code></pre>\n<p>Contrast the following using the same data and see what happens when you try to get an <code>&quot;Integer&quot;</code> from a list in the array.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;Integer&gt;[] array = results.stream().toArray(List[]::new);\nInteger a = array[0].get(1);  // class cast exception!!\nSystem.out.println(a);\n</code></pre>\n<p>And finally, you can also do it sans streams.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;String&gt;[] arr = new ArrayList[2];\narr[0] = new ArrayList&lt;&gt;(List.of(&quot;ABC&quot;,&quot;DEF&quot;));\narr[1] = new ArrayList&lt;&gt;(List.of(&quot;GHI&quot;,&quot;JKL&quot;));\n\nString a = arr[1].get(0);\nSystem.out.println(a);\n</code></pre>\n<p>prints</p>\n<pre><code>GHI\n</code></pre>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688032454,"creation_date":1687750839,"question_id":76553388,"body_markdown":"I use following code to create an array of `List&lt;String`&gt;, but the compiler complains `generic array creation`:\r\n\r\n`List&lt;String&gt;[] array = new List&lt;String&gt;[10];`\r\n\r\nAlso, I would like to convert a list of `List&lt;String&gt;`, the compiler also comlains `generic array creation` with the following code:\r\n\r\n```\r\n        List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;();\r\n        results.stream().toArray(List&lt;String&gt;[]::new);\r\n\r\n```\r\n\r\nI would like to ask how to create an array of `List&lt;String&gt;`, and how to convert `List&lt;List&lt;String&gt;&gt;`  to an array of `List&lt;String&gt;`\r\n\r\n\r\n","title":"How to create an array of List&lt;String&gt;","body":"<p>I use following code to create an array of <code>List&lt;String</code>&gt;, but the compiler complains <code>generic array creation</code>:</p>\n<p><code>List&lt;String&gt;[] array = new List&lt;String&gt;[10];</code></p>\n<p>Also, I would like to convert a list of <code>List&lt;String&gt;</code>, the compiler also comlains <code>generic array creation</code> with the following code:</p>\n<pre><code>        List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;();\n        results.stream().toArray(List&lt;String&gt;[]::new);\n\n</code></pre>\n<p>I would like to ask how to create an array of <code>List&lt;String&gt;</code>, and how to convert <code>List&lt;List&lt;String&gt;&gt;</code>  to an array of <code>List&lt;String&gt;</code></p>\n"},{"tags":["java","testing","automation","testng","testng-dataprovider"],"owner":{"account_id":21878506,"reputation":1,"user_id":16167192,"display_name":"Pragadeesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688032434,"creation_date":1687949733,"question_id":76572479,"body_markdown":"Below is `TestStatusListener` class which implements `ITestListener`, where I am using it in `onTestStart` method calling `getTestName()` but couldn`t see test names printing. Can someone help.\r\n\r\n\r\n    public class TestStatusListener extends API implements ITestListener,ITest {\r\n\r\n        ExtentTest test;\r\n        ExtentReports extent = ExtentManager.getReporter();\r\n        ThreadLocal&lt;ExtentTest&gt; threadSafe = new ThreadLocal&lt;&gt;();\r\n        private ThreadLocal&lt;String&gt; testName = new ThreadLocal&lt;&gt;();\r\n\r\n        @Test(dataProvider = &quot;tokenTypes&quot;, dataProviderClass = API.class)\r\n        @org.testng.annotations.BeforeMethod\r\n        public void BeforeMethod(Method method, TokenType testData) {\r\n            testName.set(method.getName() + &quot;_&quot; + testData);\r\n        }\r\n\r\n        @Override\r\n        public String getTestName() {\r\n            return testName.get();\r\n        }\r\n        \r\n        ///\r\n        \r\n        public void onTestStart(ITestResult iTestResult) {\r\n            test = extent.createTest(iTestResult.getMethod().getMethodName()).assignAuthor(&quot;Core Automation Team&quot;).assignCategory(&quot;Regression&quot;).assignDevice(&quot;Window 10&quot;);\r\n            threadSafe.set(test);\r\n            System.out.println(&quot;Initializing test method &quot; + getTestMethodName(iTestResult) + getTestName() + &quot; start&quot;);\r\n        }\r\n    }","title":"Override TestNG Test name using dataprovider but the @DataProvider is present in a different Class","body":"<p>Below is <code>TestStatusListener</code> class which implements <code>ITestListener</code>, where I am using it in <code>onTestStart</code> method calling <code>getTestName()</code> but couldn`t see test names printing. Can someone help.</p>\n<pre><code>public class TestStatusListener extends API implements ITestListener,ITest {\n\n    ExtentTest test;\n    ExtentReports extent = ExtentManager.getReporter();\n    ThreadLocal&lt;ExtentTest&gt; threadSafe = new ThreadLocal&lt;&gt;();\n    private ThreadLocal&lt;String&gt; testName = new ThreadLocal&lt;&gt;();\n\n    @Test(dataProvider = &quot;tokenTypes&quot;, dataProviderClass = API.class)\n    @org.testng.annotations.BeforeMethod\n    public void BeforeMethod(Method method, TokenType testData) {\n        testName.set(method.getName() + &quot;_&quot; + testData);\n    }\n\n    @Override\n    public String getTestName() {\n        return testName.get();\n    }\n    \n    ///\n    \n    public void onTestStart(ITestResult iTestResult) {\n        test = extent.createTest(iTestResult.getMethod().getMethodName()).assignAuthor(&quot;Core Automation Team&quot;).assignCategory(&quot;Regression&quot;).assignDevice(&quot;Window 10&quot;);\n        threadSafe.set(test);\n        System.out.println(&quot;Initializing test method &quot; + getTestMethodName(iTestResult) + getTestName() + &quot; start&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","list"],"comments":[{"owner":{"account_id":277434,"reputation":11207,"user_id":571433,"accept_rate":79,"display_name":"Dante May Code"},"score":2,"creation_date":1303272612,"post_id":5725370,"comment_id":6547600,"body_markdown":"Quick but stupid: sort and compare.","body":"Quick but stupid: sort and compare."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1303272747,"post_id":5725370,"comment_id":6547620,"body_markdown":"order matters? can there be dupes? because in these cases the trivial might even not be true. if it does not matter and no dupes, I advise using a Set and not a List.","body":"order matters? can there be dupes? because in these cases the trivial might even not be true. if it does not matter and no dupes, I advise using a Set and not a List."},{"owner":{"account_id":145322,"reputation":18551,"user_id":355044,"accept_rate":91,"display_name":"Meow"},"score":0,"creation_date":1303272997,"post_id":5725370,"comment_id":6547647,"body_markdown":"@amit: There would be no duplicate values and order does not matter.","body":"@amit: There would be no duplicate values and order does not matter."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1303273149,"post_id":5725370,"comment_id":6547674,"body_markdown":"then I vote for the suggested hash solutions, but I still think (at least for readability) using a Set is more approppriate then a List (unless it is critical performance issue and the insertion overhead cannot be taken)","body":"then I vote for the suggested hash solutions, but I still think (at least for readability) using a Set is more approppriate then a List (unless it is critical performance issue and the insertion overhead cannot be taken)"},{"owner":{"account_id":145322,"reputation":18551,"user_id":355044,"accept_rate":91,"display_name":"Meow"},"score":0,"creation_date":1303274112,"post_id":5725370,"comment_id":6547810,"body_markdown":"@amit: I agree too, using Set seems better.","body":"@amit: I agree too, using Set seems better."}],"answers":[{"comments":[{"owner":{"account_id":216491,"reputation":20271,"user_id":471782,"display_name":"no.good.at.coding"},"score":0,"creation_date":1303273209,"post_id":5725396,"comment_id":6547681,"body_markdown":"*Could* be `Set`, doesn&#39;t *have* to be, as the example above demonstrates. The overall time complexity is the same - however, I will concede that the answers using the `Set` are cleaner.","body":"<i>Could</i> be <code>Set</code>, doesn&#39;t <i>have</i> to be, as the example above demonstrates. The overall time complexity is the same - however, I will concede that the answers using the <code>Set</code> are cleaner."},{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":0,"creation_date":1303273278,"post_id":5725396,"comment_id":6547693,"body_markdown":"Doesn&#39;t work like that with a `HashMap`, there is no `add()` method.  You would have to use `put(t.id, null)` and then check if `map.keySet().containsKey(t.id)`.  Probably what you want is a `Set` instead of a `Map`.","body":"Doesn&#39;t work like that with a <code>HashMap</code>, there is no <code>add()</code> method.  You would have to use <code>put(t.id, null)</code> and then check if <code>map.keySet().containsKey(t.id)</code>.  Probably what you want is a <code>Set</code> instead of a <code>Map</code>."},{"owner":{"account_id":216491,"reputation":20271,"user_id":471782,"display_name":"no.good.at.coding"},"score":0,"creation_date":1303273372,"post_id":5725396,"comment_id":6547706,"body_markdown":"Ugh! That&#39;s what I get for hanging around SO when I should be sleeping :/ Sorry @John, thanks @amit, @aroth. Fixed it now.","body":"Ugh! That&#39;s what I get for hanging around SO when I should be sleeping :/ Sorry @John, thanks @amit, @aroth. Fixed it now."}],"tags":[],"owner":{"account_id":216491,"reputation":20271,"user_id":471782,"display_name":"no.good.at.coding"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688032342,"creation_date":1303272589,"answer_id":5725396,"question_id":5725370,"body_markdown":"Notice that the O(n&lt;sup&gt;2&lt;/sup&gt;) solution has that time-complexity because for each element from `ListA`, you must check *all* of `ListB` (again). You could reduce to O(n) if you could somehow do an O(1) lookup on `ListB` for the current element from `ListA`. One data structure that you can use to do that is a `Map`.\r\n\r\nSo, if you build a `Map` out of one of the lists and traverse the other, looking up each element in the `Map` to see if there is match, you can reduce the overall time complexity to O(n) - at the cost of O(n) space.\r\n\r\nFor example:\r\n\r\n    Map&lt;String, Talent&gt; map = new HashMap&lt;String, Talent&gt;();\r\n\r\n    for(Talent t : ListA)\r\n    {\r\n        // traverse each talent into\r\n        // a map element.\r\n        map.put(t.id, t); \r\n    }\r\n\r\n    for(Talent t : ListB)\r\n    {\r\n        if(map.containsKey(t.id))\r\n        {\r\n            t.isSelected = true;\r\n        }\r\n    }","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>Notice that the O(n<sup>2</sup>) solution has that time-complexity because for each element from <code>ListA</code>, you must check <em>all</em> of <code>ListB</code> (again). You could reduce to O(n) if you could somehow do an O(1) lookup on <code>ListB</code> for the current element from <code>ListA</code>. One data structure that you can use to do that is a <code>Map</code>.</p>\n<p>So, if you build a <code>Map</code> out of one of the lists and traverse the other, looking up each element in the <code>Map</code> to see if there is match, you can reduce the overall time complexity to O(n) - at the cost of O(n) space.</p>\n<p>For example:</p>\n<pre><code>Map&lt;String, Talent&gt; map = new HashMap&lt;String, Talent&gt;();\n\nfor(Talent t : ListA)\n{\n    // traverse each talent into\n    // a map element.\n    map.put(t.id, t); \n}\n\nfor(Talent t : ListB)\n{\n    if(map.containsKey(t.id))\n    {\n        t.isSelected = true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303272622,"creation_date":1303272622,"answer_id":5725397,"question_id":5725370,"body_markdown":"Sort then (2*(n log n)) and then walk your way along each list (2*n).","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>Sort then (2*(n log n)) and then walk your way along each list (2*n).</p>\n"},{"comments":[{"owner":{"account_id":17585,"reputation":14171,"user_id":39489,"accept_rate":85,"display_name":"les2"},"score":0,"creation_date":1303273221,"post_id":5725409,"comment_id":6547683,"body_markdown":"HashSet has a constructor that accepts any Collection as an argument, which will keep you from having to implement the first loop (although you still incur the overhead). Oh - I see that you mapping each Talent to an Id. I didnt&#39; realize that. Nevermind this comment. :)","body":"HashSet has a constructor that accepts any Collection as an argument, which will keep you from having to implement the first loop (although you still incur the overhead). Oh - I see that you mapping each Talent to an Id. I didnt&#39; realize that. Nevermind this comment. :)"}],"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1303272766,"creation_date":1303272766,"answer_id":5725409,"question_id":5725370,"body_markdown":"Use hashing for an O(n) solution (assuming an efficient hash implementation):\r\n\r\n    Set&lt;String&gt; ids = new HashSet&lt;String&gt;(ListA.size());\r\n    for(Talent checkedTalent : ListA) {\r\n        ids.add(checkedTalent.Id);\r\n    }\r\n    for(Talent filteredTalent : ListB) {\r\n        if (ids.contains(filteredTalent.Id)) {\r\n            filteredTalent.isSelected = true;\r\n        }\r\n    }","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>Use hashing for an O(n) solution (assuming an efficient hash implementation):</p>\n\n<pre><code>Set&lt;String&gt; ids = new HashSet&lt;String&gt;(ListA.size());\nfor(Talent checkedTalent : ListA) {\n    ids.add(checkedTalent.Id);\n}\nfor(Talent filteredTalent : ListB) {\n    if (ids.contains(filteredTalent.Id)) {\n        filteredTalent.isSelected = true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10237,"reputation":11308,"user_id":19239,"display_name":"jimmyorr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303272800,"creation_date":1303272800,"answer_id":5725412,"question_id":5725370,"body_markdown":"For some inspiration on how to do this more efficiently, read up on how a SQL join can be implemented, namely a [Nested loop join](http://en.wikipedia.org/wiki/Nested_loop_join), a Nested loop join with a b-tree index (sort one and binary search through it for each element in the other), a [Merge join](http://en.wikipedia.org/wiki/Sort-merge_join), or a [Hash join](http://en.wikipedia.org/wiki/Hash_join).  Same concept.","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>For some inspiration on how to do this more efficiently, read up on how a SQL join can be implemented, namely a <a href=\"http://en.wikipedia.org/wiki/Nested_loop_join\" rel=\"nofollow\">Nested loop join</a>, a Nested loop join with a b-tree index (sort one and binary search through it for each element in the other), a <a href=\"http://en.wikipedia.org/wiki/Sort-merge_join\" rel=\"nofollow\">Merge join</a>, or a <a href=\"http://en.wikipedia.org/wiki/Hash_join\" rel=\"nofollow\">Hash join</a>.  Same concept.</p>\n"},{"tags":[],"owner":{"account_id":17585,"reputation":14171,"user_id":39489,"accept_rate":85,"display_name":"les2"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303273030,"creation_date":1303273030,"answer_id":5725429,"question_id":5725370,"body_markdown":"You can create a Set from the first List:\r\n\r\n    Set mySet = new HashSet(listA);\r\n\r\nNow you loop over listB:\r\n\r\n    for(Object foo : listB)\r\n        if(mySet.contains(foo))\r\n            foo.isSelected = true\r\n\r\nThis is O(n * lg n), I think, but I&#39;m not going to provide a proof. :)","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>You can create a Set from the first List:</p>\n\n<pre><code>Set mySet = new HashSet(listA);\n</code></pre>\n\n<p>Now you loop over listB:</p>\n\n<pre><code>for(Object foo : listB)\n    if(mySet.contains(foo))\n        foo.isSelected = true\n</code></pre>\n\n<p>This is O(n * lg n), I think, but I'm not going to provide a proof. :)</p>\n"}],"owner":{"account_id":145322,"reputation":18551,"user_id":355044,"accept_rate":91,"display_name":"Meow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2849,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5725409,"answer_count":5,"score":3,"last_activity_date":1688032342,"creation_date":1303272365,"question_id":5725370,"body_markdown":"I have 2 lists with same Object type.\r\n\r\n    List A [ foo, bar, moo, woo, pee ]\r\n    \r\n    List B [ bar, woo ]\r\n\r\nI want to compare those 2 lists and if the name matches, \r\nset its property to true. \r\n\r\nFor instance,\r\n\r\n    if(ListA[1].name.equals(ListB[0].name)) { //match name &#39;bar&#39; and &#39;bar&#39;\r\n        ListA[1].hasSameName = true;\r\n    }\r\n\r\nsomething like that.\r\n\r\nI can write O(N^2) solution.\r\n\r\n    for(Talent checkedTalent : ListA) {\r\n        for(Talent filteredTalent : ListB) {\r\n            if( checkedTalent.Id.equals(filteredTalent.Id) ) {\r\n                filteredTalent.isSelected = true;\t\r\n            }\r\n        }\r\n    }\r\n\r\nCan this be done in more efficient way?\r\n\r\n","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>I have 2 lists with same Object type.</p>\n\n<pre><code>List A [ foo, bar, moo, woo, pee ]\n\nList B [ bar, woo ]\n</code></pre>\n\n<p>I want to compare those 2 lists and if the name matches, \nset its property to true. </p>\n\n<p>For instance,</p>\n\n<pre><code>if(ListA[1].name.equals(ListB[0].name)) { //match name 'bar' and 'bar'\n    ListA[1].hasSameName = true;\n}\n</code></pre>\n\n<p>something like that.</p>\n\n<p>I can write O(N^2) solution.</p>\n\n<pre><code>for(Talent checkedTalent : ListA) {\n    for(Talent filteredTalent : ListB) {\n        if( checkedTalent.Id.equals(filteredTalent.Id) ) {\n            filteredTalent.isSelected = true;   \n        }\n    }\n}\n</code></pre>\n\n<p>Can this be done in more efficient way?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688032645,"post_id":76579947,"comment_id":135020594,"body_markdown":"Make your private method a public method and annotate with `@Bean` instaed of calling the method from your `corsFilter` method inject it into the method as a parameter.","body":"Make your private method a public method and annotate with <code>@Bean</code> instaed of calling the method from your <code>corsFilter</code> method inject it into the method as a parameter."},{"owner":{"account_id":21504728,"reputation":1,"user_id":15848290,"display_name":"tao zheng"},"score":0,"creation_date":1688034197,"post_id":76579947,"comment_id":135020866,"body_markdown":"first thank  youÔºåI used your methodÔºåcode show as belowÔºåSolved the cross-domain problem, but the configuration still cannot be refreshed in real time\n```\n/**\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆ\n     * @return\n     */\n    @Bean\n    public CorsConfiguration buildCorsConfig() {\n     }\n        \n```","body":"first thank  youÔºåI used your methodÔºåcode show as belowÔºåSolved the cross-domain problem, but the configuration still cannot be refreshed in real time ``` /**      * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆ      * @return      */     @Bean     public CorsConfiguration buildCorsConfig() {      }          ```"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688039685,"post_id":76579947,"comment_id":135021876,"body_markdown":"Which is becauser you are using `@Value` where you should use configuration properties which are refreshed as well.","body":"Which is becauser you are using <code>@Value</code> where you should use configuration properties which are refreshed as well."},{"owner":{"account_id":21504728,"reputation":1,"user_id":15848290,"display_name":"tao zheng"},"score":0,"creation_date":1688043610,"post_id":76579947,"comment_id":135022779,"body_markdown":"I&#39;m so sorry I can&#39;t understand youÔºåcan you show me the code?","body":"I&#39;m so sorry I can&#39;t understand youÔºåcan you show me the code?"}],"owner":{"account_id":21504728,"reputation":1,"user_id":15848290,"display_name":"tao zheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688032319,"creation_date":1688032319,"question_id":76579947,"body_markdown":"I am now solving cross-domain problems,I added a cross domain configurationÔºåHe is effective and solved the cross-domain problem for meÔºåNow I want to refresh the cross-domain configuration in real timeÔºåSo I used @RefreshScope annotationÔºåBut even the cross-domain configuration is invalid\r\n\r\nI added a cross domain configuration\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class FilterConfiguration {\r\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\r\n    private boolean allowCredentials;\r\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\r\n    private String allowedHeader;\r\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\r\n    private String allowedMethod;\r\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\r\n    private String allowedOrigin;\r\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\r\n    private String corsPath;\r\n\r\n    /**\r\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆ\r\n     * @return\r\n     */\r\n    private CorsConfiguration buildCorsConfig() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(allowCredentials);\r\n        corsConfig.addAllowedHeader(allowedHeader);\r\n        corsConfig.addAllowedMethod(allowedMethod);\r\n        //ÊåáÂÆöÂüüÂêçÊã¶Êà™ÈÖçÁΩÆ\r\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\r\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\r\n            for (String origin : originArr) {\r\n                corsConfig.addAllowedOrigin(origin);\r\n            }\r\n        } else {\r\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\r\n        }\r\n\r\n        return corsConfig;\r\n    }\r\n\r\n    /**\r\n     * Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ\r\n     */\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\r\n        //Ê≥®ÔºöÊöÇÂÆöÊâÄÊúâÊé•Âè£ÂùáÂÖÅËÆ∏Ë∑®Âüü,Âª∫ËÆÆÈíàÂØπÂÖ∑‰ΩìÊé•Âè£ÈÖçÁΩÆÂÖÅËÆ∏Ë∑®Âüü\r\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\r\n\r\n        log.info(&quot;Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\r\n        return new CorsFilter(configSource);\r\n    }\r\n\r\n    /**\r\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆÊ≥®ÂÜåËá≥ËøáÊª§Âô®\r\n     * @return\r\n     */\r\n    @Bean\r\n    public FilterRegistrationBean corsFilterRegist() {\r\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\r\n        filterRegistration.setFilter(corsFilter());\r\n        filterRegistration.setName(&quot;corsFilter&quot;);\r\n        filterRegistration.setOrder(0);\r\n        return filterRegistration;\r\n    }\r\n}\r\n```\r\n\r\nHe is effective and solved the cross-domain problem for meÔºåNow I want to refresh the cross-domain configuration in real timeÔºåSo I used @RefreshScope annotation\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@RefreshScope\r\npublic class FilterConfiguration {\r\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\r\n    private boolean allowCredentials;\r\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\r\n    private String allowedHeader;\r\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\r\n    private String allowedMethod;\r\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\r\n    private String allowedOrigin;\r\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\r\n    private String corsPath;\r\n\r\n    /**\r\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆ\r\n     * @return\r\n     */\r\n    private CorsConfiguration buildCorsConfig() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(allowCredentials);\r\n        corsConfig.addAllowedHeader(allowedHeader);\r\n        corsConfig.addAllowedMethod(allowedMethod);\r\n        //ÊåáÂÆöÂüüÂêçÊã¶Êà™ÈÖçÁΩÆ\r\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\r\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\r\n            for (String origin : originArr) {\r\n                corsConfig.addAllowedOrigin(origin);\r\n            }\r\n        } else {\r\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\r\n        }\r\n\r\n        return corsConfig;\r\n    }\r\n\r\n    /**\r\n     * Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ\r\n     */\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\r\n        //Ê≥®ÔºöÊöÇÂÆöÊâÄÊúâÊé•Âè£ÂùáÂÖÅËÆ∏Ë∑®Âüü,Âª∫ËÆÆÈíàÂØπÂÖ∑‰ΩìÊé•Âè£ÈÖçÁΩÆÂÖÅËÆ∏Ë∑®Âüü\r\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\r\n\r\n        log.info(&quot;Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\r\n        return new CorsFilter(configSource);\r\n    }\r\n\r\n    /**\r\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆÊ≥®ÂÜåËá≥ËøáÊª§Âô®\r\n     * @return\r\n     */\r\n    @Bean\r\n    @RefreshScope\r\n    public FilterRegistrationBean corsFilterRegist() {\r\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\r\n        filterRegistration.setFilter(corsFilter());\r\n        filterRegistration.setName(&quot;corsFilter&quot;);\r\n        filterRegistration.setOrder(0);\r\n        return filterRegistration;\r\n    }\r\n}\r\n```\r\nBut he can&#39;t refresh the configuration in real time, and what&#39;s worse, he makes my cross-domain configuration invalidÔºåA cross-domain error occurred when the front end accessed my interfaceÔºåThe error is as follows\r\n`has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.`\r\nI hope everyone can help me to solve it, thank you","title":"Using the @RefreshScope annotation causes the cross-domain FilterRegistrationBean to fail","body":"<p>I am now solving cross-domain problems,I added a cross domain configurationÔºåHe is effective and solved the cross-domain problem for meÔºåNow I want to refresh the cross-domain configuration in real timeÔºåSo I used @RefreshScope annotationÔºåBut even the cross-domain configuration is invalid</p>\n<p>I added a cross domain configuration</p>\n<pre><code>@Slf4j\n@Configuration\npublic class FilterConfiguration {\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\n    private boolean allowCredentials;\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\n    private String allowedHeader;\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\n    private String allowedMethod;\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\n    private String allowedOrigin;\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\n    private String corsPath;\n\n    /**\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆ\n     * @return\n     */\n    private CorsConfiguration buildCorsConfig() {\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowCredentials(allowCredentials);\n        corsConfig.addAllowedHeader(allowedHeader);\n        corsConfig.addAllowedMethod(allowedMethod);\n        //ÊåáÂÆöÂüüÂêçÊã¶Êà™ÈÖçÁΩÆ\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\n            for (String origin : originArr) {\n                corsConfig.addAllowedOrigin(origin);\n            }\n        } else {\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\n        }\n\n        return corsConfig;\n    }\n\n    /**\n     * Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ\n     */\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\n        //Ê≥®ÔºöÊöÇÂÆöÊâÄÊúâÊé•Âè£ÂùáÂÖÅËÆ∏Ë∑®Âüü,Âª∫ËÆÆÈíàÂØπÂÖ∑‰ΩìÊé•Âè£ÈÖçÁΩÆÂÖÅËÆ∏Ë∑®Âüü\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\n\n        log.info(&quot;Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\n        return new CorsFilter(configSource);\n    }\n\n    /**\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆÊ≥®ÂÜåËá≥ËøáÊª§Âô®\n     * @return\n     */\n    @Bean\n    public FilterRegistrationBean corsFilterRegist() {\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\n        filterRegistration.setFilter(corsFilter());\n        filterRegistration.setName(&quot;corsFilter&quot;);\n        filterRegistration.setOrder(0);\n        return filterRegistration;\n    }\n}\n</code></pre>\n<p>He is effective and solved the cross-domain problem for meÔºåNow I want to refresh the cross-domain configuration in real timeÔºåSo I used @RefreshScope annotation</p>\n<pre><code>@Slf4j\n@Configuration\n@RefreshScope\npublic class FilterConfiguration {\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\n    private boolean allowCredentials;\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\n    private String allowedHeader;\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\n    private String allowedMethod;\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\n    private String allowedOrigin;\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\n    private String corsPath;\n\n    /**\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆ\n     * @return\n     */\n    private CorsConfiguration buildCorsConfig() {\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowCredentials(allowCredentials);\n        corsConfig.addAllowedHeader(allowedHeader);\n        corsConfig.addAllowedMethod(allowedMethod);\n        //ÊåáÂÆöÂüüÂêçÊã¶Êà™ÈÖçÁΩÆ\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\n            for (String origin : originArr) {\n                corsConfig.addAllowedOrigin(origin);\n            }\n        } else {\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\n        }\n\n        return corsConfig;\n    }\n\n    /**\n     * Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ\n     */\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\n        //Ê≥®ÔºöÊöÇÂÆöÊâÄÊúâÊé•Âè£ÂùáÂÖÅËÆ∏Ë∑®Âüü,Âª∫ËÆÆÈíàÂØπÂÖ∑‰ΩìÊé•Âè£ÈÖçÁΩÆÂÖÅËÆ∏Ë∑®Âüü\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\n\n        log.info(&quot;Ë∑®ÂüüËØ∑Ê±ÇËøáÊª§Âô®ÈÖçÁΩÆ:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\n        return new CorsFilter(configSource);\n    }\n\n    /**\n     * Ë∑®ÂüüËØ∑Ê±ÇÈÖçÁΩÆÊ≥®ÂÜåËá≥ËøáÊª§Âô®\n     * @return\n     */\n    @Bean\n    @RefreshScope\n    public FilterRegistrationBean corsFilterRegist() {\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\n        filterRegistration.setFilter(corsFilter());\n        filterRegistration.setName(&quot;corsFilter&quot;);\n        filterRegistration.setOrder(0);\n        return filterRegistration;\n    }\n}\n</code></pre>\n<p>But he can't refresh the configuration in real time, and what's worse, he makes my cross-domain configuration invalidÔºåA cross-domain error occurred when the front end accessed my interfaceÔºåThe error is as follows\n<code>has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</code>\nI hope everyone can help me to solve it, thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":28902386,"reputation":30,"user_id":22137034,"display_name":"Tobias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687951156,"creation_date":1687951156,"answer_id":76572664,"question_id":76571884,"body_markdown":"I think \r\n`@Query(value = &quot;SELECT DATE_FORMAT(c.valid_to, &#39;%Y-%m-%d&#39;) FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)` \r\nshould work for MySQL.\r\n\r\nUsing H2 the following does format a date:\r\n\r\n    @Query(value = &quot;SELECT FORMATDATETIME(c.valid_to,&#39;d MMM yyyy&#39;) FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true).\r\n\r\n","title":"How to use functions in nativeQuery?","body":"<p>I think\n<code>@Query(value = &quot;SELECT DATE_FORMAT(c.valid_to, '%Y-%m-%d') FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)</code>\nshould work for MySQL.</p>\n<p>Using H2 the following does format a date:</p>\n<pre><code>@Query(value = &quot;SELECT FORMATDATETIME(c.valid_to,'d MMM yyyy') FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true).\n</code></pre>\n"}],"owner":{"account_id":25979860,"reputation":9,"user_id":19712163,"display_name":"SealAnia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688032315,"creation_date":1687945106,"question_id":76571884,"body_markdown":"I created a query which is supposed to return a date in a certain format. \r\n\r\n    @Query(value = &quot;SELECT function(&#39;date_format&#39;, c.valid_to, &#39;%Y-%m-%d&#39;) &quot; +\r\n            &quot;FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)\r\n\r\nBut I get an error like \r\n\r\n&gt; You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;function(&#39;date_format&#39;, c.valid_to, &#39;%Y-%m-%d&#39;) FROM card c WHERE c.card_id= 3&#39; at line 1\r\n\r\nWhen I tried to write different queries without any functions it worked.\r\n","title":"How to use functions in nativeQuery?","body":"<p>I created a query which is supposed to return a date in a certain format.</p>\n<pre><code>@Query(value = &quot;SELECT function('date_format', c.valid_to, '%Y-%m-%d') &quot; +\n        &quot;FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)\n</code></pre>\n<p>But I get an error like</p>\n<blockquote>\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'function('date_format', c.valid_to, '%Y-%m-%d') FROM card c WHERE c.card_id= 3' at line 1</p>\n</blockquote>\n<p>When I tried to write different queries without any functions it worked.</p>\n"},{"tags":["java","arrays","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":18,"creation_date":1349509610,"post_id":12757841,"comment_id":17238155,"body_markdown":"Arrays are Objects, yes, but nothing in Java is passed by reference.  All parameter passing is by value.  In the case of an Object, what gets passed is a reference to the Object (i.e. a pointer), by value.  Passing a reference by value is not the same as pass by reference.","body":"Arrays are Objects, yes, but nothing in Java is passed by reference.  All parameter passing is by value.  In the case of an Object, what gets passed is a reference to the Object (i.e. a pointer), by value.  Passing a reference by value is not the same as pass by reference."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1349511884,"post_id":12757841,"comment_id":17238595,"body_markdown":"You may find this useful: http://stackoverflow.com/a/9404727/597657","body":"You may find this useful: <a href=\"http://stackoverflow.com/a/9404727/597657\">stackoverflow.com/a/9404727/597657</a>"},{"owner":{"account_id":7055810,"reputation":1171,"user_id":5403217,"display_name":"myx"},"score":0,"creation_date":1552885524,"post_id":12757841,"comment_id":97164975,"body_markdown":"I cannot add an answer to this question, but I wrote a code snippet that might be helpful for understanding the answers below: https://write.as/1wjcm7m50w41k.md.","body":"I cannot add an answer to this question, but I wrote a code snippet that might be helpful for understanding the answers below: <a href=\"https://write.as/1wjcm7m50w41k.md\" rel=\"nofollow noreferrer\">write.as/1wjcm7m50w41k.md</a>."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1684670237,"post_id":12757841,"comment_id":134547894,"body_markdown":"Java does not consider references, other languages do","body":"Java does not consider references, other languages do"}],"answers":[{"comments":[{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":0,"creation_date":1349509982,"post_id":12757853,"comment_id":17238250,"body_markdown":"No, everything is passed by value in Java ! Passing by reference doesn&#39;t exist in JAva, as it doesn&#39;t exist in ANSI C, thats why pointers exist ...","body":"No, everything is passed by value in Java ! Passing by reference doesn&#39;t exist in JAva, as it doesn&#39;t exist in ANSI C, thats why pointers exist ..."},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":2,"creation_date":1349510023,"post_id":12757853,"comment_id":17238257,"body_markdown":"@aleroot: I said a reference is passed to the method, otherwise you couldn&#39;t see changes, not that java is pass-by-reference! Yes, the reference is passed by values, but that&#39;s not the point.","body":"@aleroot: I said a reference is passed to the method, otherwise you couldn&#39;t see changes, not that java is pass-by-reference! Yes, the reference is passed by values, but that&#39;s not the point."},{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":2,"creation_date":1349510065,"post_id":12757853,"comment_id":17238266,"body_markdown":"@Tudor your sentence is not clear ...","body":"@Tudor your sentence is not clear ..."},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":0,"creation_date":1349510210,"post_id":12757853,"comment_id":17238301,"body_markdown":"@aleroot: Ok, I&#39;ve added some more comments...","body":"@aleroot: Ok, I&#39;ve added some more comments..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1477715115,"post_id":12757853,"comment_id":67889001,"body_markdown":"*&quot;However you can&#39;t change the reference itself, since it&#39;s passed by value&quot;* - Actually, you can (locally) change the reference.  What you cannot change is *the variable from whence the reference was fetched in the calling context*.  This is only confusing if people conflate the reference and the variable that holds the reference.","body":"<i>&quot;However you can&#39;t change the reference itself, since it&#39;s passed by value&quot;</i> - Actually, you can (locally) change the reference.  What you cannot change is <i>the variable from whence the reference was fetched in the calling context</i>.  This is only confusing if people conflate the reference and the variable that holds the reference."}],"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"comment_count":5,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1456330748,"creation_date":1349509577,"answer_id":12757853,"question_id":12757841,"body_markdown":"Arrays are in fact objects, so a reference is passed (the reference itself is passed by value, confused yet?). Quick example:\r\n\r\n    // assuming you allocated the list\r\n    public void addItem(Integer[] list, int item) {\r\n        list[1] = item;\r\n    }\r\n\r\nYou will see the changes to the list from the calling code. However you can&#39;t change the reference itself, since it&#39;s passed by value:\r\n\r\n    // assuming you allocated the list\r\n    public void changeArray(Integer[] list) {\r\n        list = null;\r\n    }\r\n\r\nIf you pass a non-null list, it won&#39;t be null by the time the method returns.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Arrays are in fact objects, so a reference is passed (the reference itself is passed by value, confused yet?). Quick example:</p>\n\n<pre><code>// assuming you allocated the list\npublic void addItem(Integer[] list, int item) {\n    list[1] = item;\n}\n</code></pre>\n\n<p>You will see the changes to the list from the calling code. However you can't change the reference itself, since it's passed by value:</p>\n\n<pre><code>// assuming you allocated the list\npublic void changeArray(Integer[] list) {\n    list = null;\n}\n</code></pre>\n\n<p>If you pass a non-null list, it won't be null by the time the method returns.</p>\n"},{"comments":[{"owner":{"account_id":3145180,"reputation":252,"user_id":2682870,"accept_rate":36,"display_name":"David Bandel"},"score":6,"creation_date":1647649985,"post_id":12757860,"comment_id":126431806,"body_markdown":"Why not just say that arrays are passed by reference?","body":"Why not just say that arrays are passed by reference?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1662167900,"post_id":12757860,"comment_id":129950623,"body_markdown":"Because it is not true.  Call by reference means something different.","body":"Because it is not true.  Call by reference means something different."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1670073645,"post_id":12757860,"comment_id":131790643,"body_markdown":"No answer to the topic. question is, whether arrays are objects","body":"No answer to the topic. question is, whether arrays are objects"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":3,"down_vote_count":2,"up_vote_count":315,"is_accepted":false,"score":313,"last_activity_date":1610093413,"creation_date":1349509627,"answer_id":12757860,"question_id":12757841,"body_markdown":"**Everything in Java is passed by value.** In case of an array (which is nothing but an Object), the array reference is passed by value (just like an object reference is passed by value).\r\n\r\nWhen you pass an array to other method, actually the reference to that array is copied.\r\n\r\n - Any changes in the content of array through that reference will affect the original array.\r\n - But changing the reference to point to a new array will not change the existing reference in original method.\r\n\r\nSee this post: https://stackoverflow.com/questions/40480/is-java-pass-by-reference\r\n\r\n**See this working example:** \r\n\r\n    public static void changeContent(int[] arr) {\r\n\r\n       // If we change the content of arr.\r\n       arr[0] = 10;  // Will change the content of array in main()\r\n    }\r\n\r\n    public static void changeRef(int[] arr) {\r\n       // If we change the reference\r\n       arr = new int[2];  // Will not change the array in main()\r\n       arr[0] = 15;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        int [] arr = new int[2];\r\n        arr[0] = 4;\r\n        arr[1] = 5;\r\n    \r\n        changeContent(arr);\r\n    \r\n        System.out.println(arr[0]);  // Will print 10.. \r\n      \r\n        changeRef(arr);\r\n\r\n        System.out.println(arr[0]);  // Will still print 10.. \r\n                                     // Change the reference doesn&#39;t reflect change here..\r\n    }\r\n\r\n","title":"Are arrays passed by value or passed by reference in Java?","body":"<p><strong>Everything in Java is passed by value.</strong> In case of an array (which is nothing but an Object), the array reference is passed by value (just like an object reference is passed by value).</p>\n<p>When you pass an array to other method, actually the reference to that array is copied.</p>\n<ul>\n<li>Any changes in the content of array through that reference will affect the original array.</li>\n<li>But changing the reference to point to a new array will not change the existing reference in original method.</li>\n</ul>\n<p>See this post: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></p>\n<p><strong>See this working example:</strong></p>\n<pre><code>public static void changeContent(int[] arr) {\n\n   // If we change the content of arr.\n   arr[0] = 10;  // Will change the content of array in main()\n}\n\npublic static void changeRef(int[] arr) {\n   // If we change the reference\n   arr = new int[2];  // Will not change the array in main()\n   arr[0] = 15;\n}\n\npublic static void main(String[] args) {\n    int [] arr = new int[2];\n    arr[0] = 4;\n    arr[1] = 5;\n\n    changeContent(arr);\n\n    System.out.println(arr[0]);  // Will print 10.. \n  \n    changeRef(arr);\n\n    System.out.println(arr[0]);  // Will still print 10.. \n                                 // Change the reference doesn't reflect change here..\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1583864,"reputation":2977,"user_id":1468643,"accept_rate":78,"display_name":"Froskoy"},"score":0,"creation_date":1349511084,"post_id":12757866,"comment_id":17238450,"body_markdown":"Thanks. So does every array access have to be dereferenced? Does this mean that using arrays is just as slow as using any other type of list in Java, except you can store primitive types in them, which do not need to be dereferenced?","body":"Thanks. So does every array access have to be dereferenced? Does this mean that using arrays is just as slow as using any other type of list in Java, except you can store primitive types in them, which do not need to be dereferenced?"},{"owner":{"account_id":2607631,"reputation":20116,"user_id":2258453,"display_name":"noisesmith"},"score":0,"creation_date":1386700442,"post_id":12757866,"comment_id":30646761,"body_markdown":"No, because the storage is contiguous in the data in the heap, which means that iterated lookup is much cheaper in terms of CPU time. A List does not guarantee contiguous storage.","body":"No, because the storage is contiguous in the data in the heap, which means that iterated lookup is much cheaper in terms of CPU time. A List does not guarantee contiguous storage."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1566528618,"post_id":12757866,"comment_id":101693031,"body_markdown":"*&quot;So it is like passing other objects where you pass the value of the reference, but not the reference itself.&quot;*  This is misleading / wrong in two respects.  1) Arrays are not &quot;special objects&quot; in this respect.  They behave exactly the same as non-array objects with respect to parameter passing semantics.  2) The &quot;value of the reference&quot; and &quot;the reference&quot; are the same thing.  What you *should* be saying is that you are passing the value of the reference not the value of object that the reference points to.","body":"<i>&quot;So it is like passing other objects where you pass the value of the reference, but not the reference itself.&quot;</i>  This is misleading / wrong in two respects.  1) Arrays are not &quot;special objects&quot; in this respect.  They behave exactly the same as non-array objects with respect to parameter passing semantics.  2) The &quot;value of the reference&quot; and &quot;the reference&quot; are the same thing.  What you <i>should</i> be saying is that you are passing the value of the reference not the value of object that the reference points to."},{"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"score":0,"creation_date":1577232926,"post_id":12757866,"comment_id":105126871,"body_markdown":"Arrays are faster but not because &quot;A List does not guarantee contiguous storage&quot; -- they are faster because their API shape, memory, access, and implementation are built straight into the language (not dynamic). The Java spec has defined how they are stored and defined the ways to access them. Access does not involve the overhead of calling methods like `#get`, `#set` `#iterator`, `#size`, etc. You could theoretically implement int[] as an Object, use a contiguous chunk of memory, etc., and write a compiler to use it instead of native arrays. It would still be far slower than native arrays.","body":"Arrays are faster but not because &quot;A List does not guarantee contiguous storage&quot; -- they are faster because their API shape, memory, access, and implementation are built straight into the language (not dynamic). The Java spec has defined how they are stored and defined the ways to access them. Access does not involve the overhead of calling methods like <code>#get</code>, <code>#set</code> <code>#iterator</code>, <code>#size</code>, etc. You could theoretically implement int[] as an Object, use a contiguous chunk of memory, etc., and write a compiler to use it instead of native arrays. It would still be far slower than native arrays."}],"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1349509658,"creation_date":1349509658,"answer_id":12757866,"question_id":12757841,"body_markdown":"No that is wrong. Arrays are special objects in Java. So it is like passing other objects where you pass the value of the reference, but not the reference itself. Meaning, changing the reference of an array in the called routine will not be reflected in the calling routine.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>No that is wrong. Arrays are special objects in Java. So it is like passing other objects where you pass the value of the reference, but not the reference itself. Meaning, changing the reference of an array in the called routine will not be reflected in the calling routine.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1670071629,"post_id":12757868,"comment_id":131790318,"body_markdown":"That isn&#39;t a citation.  Sorry, but I don&#39;t think there is any point in continuing this discussion.  I am simply not interested in the &quot;Java is pass by reference&quot; debate.   If you want to write your own answer to this question, feel free.  But I am going to request the mods to delete these comments on this answer as &quot;no longer needed&quot;.","body":"That isn&#39;t a citation.  Sorry, but I don&#39;t think there is any point in continuing this discussion.  I am simply not interested in the &quot;Java is pass by reference&quot; debate.   If you want to write your own answer to this question, feel free.  But I am going to request the mods to delete these comments on this answer as &quot;no longer needed&quot;."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":5,"up_vote_count":179,"is_accepted":true,"score":174,"last_activity_date":1566528838,"creation_date":1349509664,"answer_id":12757868,"question_id":12757841,"body_markdown":"Your question is based on a false premise.\r\n\r\n&gt; *Arrays are not a primitive type in Java, but they are not objects either ... &quot;*\r\n\r\nIn fact, all arrays in Java **are** objects&lt;sup&gt;1&lt;/sup&gt;.  Every Java array type has `java.lang.Object` as its supertype, and inherits the implementation of all methods in the `Object` API. \r\n\r\n&gt; ... so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type? \r\n\r\nShort answers: 1) pass by value, and 2) it makes no difference.\r\n\r\nLonger answer:\r\n\r\nLike all Java objects, arrays are passed by value ... but the value is the reference to the array.  So, when you assign something to a cell of the array in the called method, you will be assigning to the same array object that the caller sees.\r\n\r\nThis is NOT pass-by-reference.  *Real* pass-by-reference involves passing the *address of a variable*.  With *real* pass-by-reference, the called method can assign to its local variable, and this causes the variable in the caller to be updated.  \r\n\r\nBut not in Java.  In Java, the called method can update the contents of the array, and it can update its copy of the array reference, but it can&#39;t update the variable in the caller that holds the caller&#39;s array reference.  Hence ... what Java is providing is NOT pass-by-reference.\r\n\r\nHere are some links that explain the difference between pass-by-reference and pass-by-value.  If you don&#39;t understand my explanations above, or if you feel inclined to disagree with the terminology, you *should* read them.\r\n\r\n  - http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/cplr233.htm\r\n  - http://www.cs.fsu.edu/~myers/c++/notes/references.html\r\n\r\nRelated SO question:\r\n\r\n  - https://stackoverflow.com/questions/40480/is-java-pass-by-reference\r\n\r\nHistorical background:\r\n\r\nThe phrase &quot;pass-by-reference&quot; was originally &quot;call-by-reference&quot;, and it was used to distinguish the argument passing semantics of FORTRAN (call-by-reference) from those of ALGOL-60 (call-by-value and call-by-name).\r\n\r\n  - In call-by-value, the argument expression is evaluated to a value, and that value is copied to the called method.\r\n\r\n  - In call-by-reference, the argument expression is partially evaluated to an &quot;lvalue&quot; (i.e. the address of a variable or array element) that is passed to the calling method.  The calling method can then directly read and update the variable / element.\r\n\r\n  - In call-by-name, the actual argument expression is passed to the calling method (!!) which can evaluate it multiple times (!!!).  This was complicated to implement, and could be used (abused) to write code that was very difficult to understand.  Call-by-name was only ever used in Algol-60 (thankfully!).\r\n\r\n**UPDATE**\r\n\r\nActually, Algol-60&#39;s call-by-name is similar to passing lambda expressions as parameters.  The wrinkle is that these not-exactly-lambda-expressions (they were referred to as &quot;thunks&quot; at the implementation level) can *indirectly* modify the state of variables that are in scope in the calling procedure / function.  That is part of what made them so hard to understand.  (See the Wikipedia page on [Jensen&#39;s Device][1] for example.)\r\n\r\n------------\r\n\r\n&lt;sup&gt;1. Nothing in the linked Q&amp;A (https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory) either states or implies that arrays are not objects.&lt;/sup&gt;\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Jensen%27s_Device","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Your question is based on a false premise.</p>\n\n<blockquote>\n  <p><em>Arrays are not a primitive type in Java, but they are not objects either ... \"</em></p>\n</blockquote>\n\n<p>In fact, all arrays in Java <strong>are</strong> objects<sup>1</sup>.  Every Java array type has <code>java.lang.Object</code> as its supertype, and inherits the implementation of all methods in the <code>Object</code> API. </p>\n\n<blockquote>\n  <p>... so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type? </p>\n</blockquote>\n\n<p>Short answers: 1) pass by value, and 2) it makes no difference.</p>\n\n<p>Longer answer:</p>\n\n<p>Like all Java objects, arrays are passed by value ... but the value is the reference to the array.  So, when you assign something to a cell of the array in the called method, you will be assigning to the same array object that the caller sees.</p>\n\n<p>This is NOT pass-by-reference.  <em>Real</em> pass-by-reference involves passing the <em>address of a variable</em>.  With <em>real</em> pass-by-reference, the called method can assign to its local variable, and this causes the variable in the caller to be updated.  </p>\n\n<p>But not in Java.  In Java, the called method can update the contents of the array, and it can update its copy of the array reference, but it can't update the variable in the caller that holds the caller's array reference.  Hence ... what Java is providing is NOT pass-by-reference.</p>\n\n<p>Here are some links that explain the difference between pass-by-reference and pass-by-value.  If you don't understand my explanations above, or if you feel inclined to disagree with the terminology, you <em>should</em> read them.</p>\n\n<ul>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/cplr233.htm\" rel=\"noreferrer\">http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/cplr233.htm</a></li>\n<li><a href=\"http://www.cs.fsu.edu/~myers/c++/notes/references.html\" rel=\"noreferrer\">http://www.cs.fsu.edu/~myers/c++/notes/references.html</a></li>\n</ul>\n\n<p>Related SO question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></li>\n</ul>\n\n<p>Historical background:</p>\n\n<p>The phrase \"pass-by-reference\" was originally \"call-by-reference\", and it was used to distinguish the argument passing semantics of FORTRAN (call-by-reference) from those of ALGOL-60 (call-by-value and call-by-name).</p>\n\n<ul>\n<li><p>In call-by-value, the argument expression is evaluated to a value, and that value is copied to the called method.</p></li>\n<li><p>In call-by-reference, the argument expression is partially evaluated to an \"lvalue\" (i.e. the address of a variable or array element) that is passed to the calling method.  The calling method can then directly read and update the variable / element.</p></li>\n<li><p>In call-by-name, the actual argument expression is passed to the calling method (!!) which can evaluate it multiple times (!!!).  This was complicated to implement, and could be used (abused) to write code that was very difficult to understand.  Call-by-name was only ever used in Algol-60 (thankfully!).</p></li>\n</ul>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Actually, Algol-60's call-by-name is similar to passing lambda expressions as parameters.  The wrinkle is that these not-exactly-lambda-expressions (they were referred to as \"thunks\" at the implementation level) can <em>indirectly</em> modify the state of variables that are in scope in the calling procedure / function.  That is part of what made them so hard to understand.  (See the Wikipedia page on <a href=\"http://en.wikipedia.org/wiki/Jensen%27s_Device\" rel=\"noreferrer\">Jensen's Device</a> for example.)</p>\n\n<hr>\n\n<p><sup>1. Nothing in the linked Q&amp;A (<a href=\"https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory\">Arrays in Java and how they are stored in memory</a>) either states or implies that arrays are not objects.</sup></p>\n"},{"comments":[{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1649181258,"post_id":12757871,"comment_id":126809327,"body_markdown":"Think it was Kernighan &amp; Ritchie who felt like calling a pointer a value. Inside the inheritance of this thinking, Java is Reference Oriented, rather than Object Oriented, which is the key to &#180;understanding&#180;.","body":"Think it was Kernighan &amp; Ritchie who felt like calling a pointer a value. Inside the inheritance of this thinking, Java is Reference Oriented, rather than Object Oriented, which is the key to &#180;understanding&#180;."}],"tags":[],"owner":{"account_id":1524511,"reputation":6343,"user_id":1423274,"display_name":"Jeff Watkins"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349509683,"creation_date":1349509683,"answer_id":12757871,"question_id":12757841,"body_markdown":"Kind of a trick realty... Even references are passed by value in Java, hence a change to the reference itself being scoped at the called function level. The compiler and/or JVM will often turn a value type into a reference.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Kind of a trick realty... Even references are passed by value in Java, hence a change to the reference itself being scoped at the called function level. The compiler and/or JVM will often turn a value type into a reference.</p>\n"},{"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1349509762,"creation_date":1349509762,"answer_id":12757881,"question_id":12757841,"body_markdown":"**Everything in Java is passed by value .**\r\n\r\nIn the case of the array the reference is copied into a new reference, but remember that everything in Java is passed by value .\r\n\r\nTake a look at [this interesting article][1] for further information ...\r\n\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm","title":"Are arrays passed by value or passed by reference in Java?","body":"<p><strong>Everything in Java is passed by value .</strong></p>\n\n<p>In the case of the array the reference is copied into a new reference, but remember that everything in Java is passed by value .</p>\n\n<p>Take a look at <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">this interesting article</a> for further information ...</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1349515086,"post_id":12758255,"comment_id":17239088,"body_markdown":"&quot;Since Java syntax is derived from C and C++, the behavior is similar.&quot; - Twaddle!  Similar syntax does not imply similar semantics.","body":"&quot;Since Java syntax is derived from C and C++, the behavior is similar.&quot; - Twaddle!  Similar syntax does not imply similar semantics."},{"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"score":0,"creation_date":1349516456,"post_id":12758255,"comment_id":17239315,"body_markdown":"I referenced the older spec because it is still correct, and I don&#39;t know which version the OP is using.  Parameter passing is described in 8.4.1 as follows:    **When the method or constructor is invoked (&#167;15.12), the values of the actual argument expressions initialize newly created parameter variables, each of the declared Type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to the formal parameter.**","body":"I referenced the older spec because it is still correct, and I don&#39;t know which version the OP is using.  Parameter passing is described in 8.4.1 as follows:    <b>When the method or constructor is invoked (&#167;15.12), the values of the actual argument expressions initialize newly created parameter variables, each of the declared Type, before execution of the body of the method or constructor. The Identifier that appears in the DeclaratorId may be used as a simple name in the body of the method or constructor to refer to the formal parameter.</b>"},{"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"score":0,"creation_date":1349517051,"post_id":12758255,"comment_id":17239413,"body_markdown":"Regarding sytax, the parallel between Java, C, and C++ is far from accidental, and the design was intended to ease the transition for C and C++ programmers.  Language design is a matter of human communications, not mathematical rigor, and mixing familiar syntax with unfamiliar semantics would have created undue complexity.  We were striving for a system that would be easy to adopt.","body":"Regarding sytax, the parallel between Java, C, and C++ is far from accidental, and the design was intended to ease the transition for C and C++ programmers.  Language design is a matter of human communications, not mathematical rigor, and mixing familiar syntax with unfamiliar semantics would have created undue complexity.  We were striving for a system that would be easy to adopt."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1349523539,"post_id":12758255,"comment_id":17240664,"body_markdown":"You miss my point.  I&#39;m sure you know of cases where two related languages have identical syntaxes but the semantics is different.  The point I am making that same syntax DOES NOT imply same semantics, whether the languages are related or not.","body":"You miss my point.  I&#39;m sure you know of cases where two related languages have identical syntaxes but the semantics is different.  The point I am making that same syntax DOES NOT imply same semantics, whether the languages are related or not."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1349524146,"post_id":12758255,"comment_id":17240784,"body_markdown":"Also, talking about the &quot;semantic intent of pass by reference&quot; is making assumptions about that intent that are at odds with 50% of the use cases of pass by reference in FORTRAN, C, C++ etcetera.  For example the `swap(int &amp;a, int &amp;b)` method.  And bear in mind that call-by-reference in classic FORTRAN did not involve pointers and their risks.  (You could even argue that C doesn&#39;t do call by reference at all.  What is it is doing is explicitly creating passing pointers ... by value ... that have to be used in certain ways to avoid &quot;unspecified behaviour&quot;.)","body":"Also, talking about the &quot;semantic intent of pass by reference&quot; is making assumptions about that intent that are at odds with 50% of the use cases of pass by reference in FORTRAN, C, C++ etcetera.  For example the <code>swap(int &amp;a, int &amp;b)</code> method.  And bear in mind that call-by-reference in classic FORTRAN did not involve pointers and their risks.  (You could even argue that C doesn&#39;t do call by reference at all.  What is it is doing is explicitly creating passing pointers ... by value ... that have to be used in certain ways to avoid &quot;unspecified behaviour&quot;.)"},{"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"score":0,"creation_date":1349524325,"post_id":12758255,"comment_id":17240822,"body_markdown":"@Stephen C, Actually, I&#39;m hard pressed to think of an example where similar syntax was not reflective of an attempt to achieve similar semantics.  Could you provide an example?","body":"@Stephen C, Actually, I&#39;m hard pressed to think of an example where similar syntax was not reflective of an attempt to achieve similar semantics.  Could you provide an example?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1349524746,"post_id":12758255,"comment_id":17240918,"body_markdown":"Here is an obvious one.  FORTRAN and Algol 60 and C use identical syntax for a method / function / procedure call.  `name(expr, expr, expr)`.  But the argument passing semantics are different in each case.  Another obvious example `if (a = 1)` in C versus Java.  Now this is a GOOD difference ... but it demonstrates the point I was trying to make more clearly due to the closer relationship between the languages.","body":"Here is an obvious one.  FORTRAN and Algol 60 and C use identical syntax for a method / function / procedure call.  <code>name(expr, expr, expr)</code>.  But the argument passing semantics are different in each case.  Another obvious example <code>if (a = 1)</code> in C versus Java.  Now this is a GOOD difference ... but it demonstrates the point I was trying to make more clearly due to the closer relationship between the languages."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1349524896,"post_id":12758255,"comment_id":17240943,"body_markdown":"A third example is the rather different meaning of `static` in C versus Java.","body":"A third example is the rather different meaning of <code>static</code> in C versus Java."},{"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"score":0,"creation_date":1349524927,"post_id":12758255,"comment_id":17240951,"body_markdown":"I think were actually saying the same thing about Fortran vs. C.  Fortran&#39;s use of call by reference was essential to not exposing raw pointers (although it did render dynamic memory allocation impractical).  The original C compiler was designed to be extremely lightweight, so the language does not implement call by reference, and pointers fill in the gap.  The use case you mention is also reflective of the low-level nature of C, as such a routine in Fortran would likely have entailed inline assembly.  This is not the most common use case for application developers in my experience.","body":"I think were actually saying the same thing about Fortran vs. C.  Fortran&#39;s use of call by reference was essential to not exposing raw pointers (although it did render dynamic memory allocation impractical).  The original C compiler was designed to be extremely lightweight, so the language does not implement call by reference, and pointers fill in the gap.  The use case you mention is also reflective of the low-level nature of C, as such a routine in Fortran would likely have entailed inline assembly.  This is not the most common use case for application developers in my experience."},{"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"score":0,"creation_date":1349525176,"post_id":12758255,"comment_id":17240998,"body_markdown":"I see where you&#39;re coming from on Fortan, Algol and C, but the syntaxes of those languages are not nearly as slavishly similar as Java and C++.  Perhaps I&#39;m a little to close to the history to not see this as apparent.","body":"I see where you&#39;re coming from on Fortan, Algol and C, but the syntaxes of those languages are not nearly as slavishly similar as Java and C++.  Perhaps I&#39;m a little to close to the history to not see this as apparent."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1349525187,"post_id":12758255,"comment_id":17241003,"body_markdown":"I can trivially implement `swap` on scalar variables in classic FORTRAN IV ... unless I&#39;ve misremembered it.","body":"I can trivially implement <code>swap</code> on scalar variables in classic FORTRAN IV ... unless I&#39;ve misremembered it."},{"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"score":0,"creation_date":1349525279,"post_id":12758255,"comment_id":17241016,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/17644/discussion-between-steven-mcgrath-and-stephen-c)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/17644/discussion-between-steven-mcgrath-and-stephen-c\">continue this discussion in chat</a>"}],"tags":[],"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"comment_count":12,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1349520717,"creation_date":1349513512,"answer_id":12758255,"question_id":12757841,"body_markdown":"The definitive discussion of arrays is at http://docs.oracle.com/javase/specs/jls/se5.0/html/arrays.html#27803 .  This makes clear that Java arrays are objects.  The class of these objects is defined in 10.8.\r\n\r\nSection 8.4.1 of the language spec, http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#40420 , describe how arguments are passed to methods.  Since Java syntax is derived from C and C++, the behavior is similar.  Primitive types are passed by value, as with C.  When an object is passed, an object reference (pointer) is passed by value, mirroring the C syntax of passing a pointer by value.  See 4.3.1, http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#4.3 ,\r\n\r\nIn practical terms, this means that modifying the contents of an array within a method is reflected in the array object in the calling scope, but reassigning a new value to the reference within the method has no effect on the reference in the calling scope, which is exactly the behavior you would expect of a pointer to a struct in C or an object in C++.\r\n\r\nAt least part of the confusion in terminology stems from the history of high level languages prior to the common use of C. In prior, popular, high level languages, directly referencing memory by address was something to be avoided to the extent possible, and it was considered the job of the language to provide a layer of abstraction.  This made it necessary for the language to explicitly support a mechanism for returning values from subroutines (not necessarily functions).  This mechanism is what is formally meant when referring to &#39;pass by reference&#39;.\r\n\r\nWhen C was introduced, it came with a stripped down notion of procedure calling, where all arguments are input-only, and the only value returned to the caller is a function result.  However, the purpose of passing references could be achieved through the explicit and broad use of pointers.  Since it serves the same purpose, the practice of passing a pointer as a reference to a value is often colloquially referred to a passing by reference.  If the **semantics** of a routine call for a parameter to be passed by reference, the **syntax** of C requires the programmer to explicitly pass a pointer.  Passing a pointer by value is the **design pattern** for implementing pass by reference semantics in C.\r\n\r\nSince it can often seem like the sole purpose of raw pointers in C is to create crashing bugs, subsequent developments, especially Java, have sought to return to safer means to pass parameters.  However, the dominance of C made it incumbent on the developers to mimic the familiar style of C coding.  The result is references that are passed similarly to pointers, but are implemented with more protections to make them safer.  An alternative would have been the rich syntax of a language like Ada, but this would have presented the appearance of an unwelcome learning curve, and lessened the likely adoption of Java.\r\n\r\nIn short, the design of parameter passing for objects, including arrays, in Java,is esentially to serve the **semantic** intent of pass by reference, but is imlemented with the **syntax** of passing a reference by value.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>The definitive discussion of arrays is at <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/arrays.html#27803\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se5.0/html/arrays.html#27803</a> .  This makes clear that Java arrays are objects.  The class of these objects is defined in 10.8.</p>\n\n<p>Section 8.4.1 of the language spec, <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#40420\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#40420</a> , describe how arguments are passed to methods.  Since Java syntax is derived from C and C++, the behavior is similar.  Primitive types are passed by value, as with C.  When an object is passed, an object reference (pointer) is passed by value, mirroring the C syntax of passing a pointer by value.  See 4.3.1, <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#4.3\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#4.3</a> ,</p>\n\n<p>In practical terms, this means that modifying the contents of an array within a method is reflected in the array object in the calling scope, but reassigning a new value to the reference within the method has no effect on the reference in the calling scope, which is exactly the behavior you would expect of a pointer to a struct in C or an object in C++.</p>\n\n<p>At least part of the confusion in terminology stems from the history of high level languages prior to the common use of C. In prior, popular, high level languages, directly referencing memory by address was something to be avoided to the extent possible, and it was considered the job of the language to provide a layer of abstraction.  This made it necessary for the language to explicitly support a mechanism for returning values from subroutines (not necessarily functions).  This mechanism is what is formally meant when referring to 'pass by reference'.</p>\n\n<p>When C was introduced, it came with a stripped down notion of procedure calling, where all arguments are input-only, and the only value returned to the caller is a function result.  However, the purpose of passing references could be achieved through the explicit and broad use of pointers.  Since it serves the same purpose, the practice of passing a pointer as a reference to a value is often colloquially referred to a passing by reference.  If the <strong>semantics</strong> of a routine call for a parameter to be passed by reference, the <strong>syntax</strong> of C requires the programmer to explicitly pass a pointer.  Passing a pointer by value is the <strong>design pattern</strong> for implementing pass by reference semantics in C.</p>\n\n<p>Since it can often seem like the sole purpose of raw pointers in C is to create crashing bugs, subsequent developments, especially Java, have sought to return to safer means to pass parameters.  However, the dominance of C made it incumbent on the developers to mimic the familiar style of C coding.  The result is references that are passed similarly to pointers, but are implemented with more protections to make them safer.  An alternative would have been the rich syntax of a language like Ada, but this would have presented the appearance of an unwelcome learning curve, and lessened the likely adoption of Java.</p>\n\n<p>In short, the design of parameter passing for objects, including arrays, in Java,is esentially to serve the <strong>semantic</strong> intent of pass by reference, but is imlemented with the <strong>syntax</strong> of passing a reference by value.</p>\n"}],"owner":{"account_id":1583864,"reputation":2977,"user_id":1468643,"accept_rate":78,"display_name":"Froskoy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286455,"favorite_count":0,"down_vote_count":2,"up_vote_count":245,"closed_date":1608092686,"accepted_answer_id":12757868,"answer_count":7,"score":243,"last_activity_date":1688032273,"creation_date":1349509455,"question_id":12757841,"body_markdown":"Arrays are not a [primitive type](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) in Java, but they [are not objects either](https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory), so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type?","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Arrays are not a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">primitive type</a> in Java, but they <a href=\"https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory\">are not objects either</a>, so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7825,"page":340,"page_size":100}
