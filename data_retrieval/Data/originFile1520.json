{"items":[{"tags":["java","jvm","migration","openjdk-11"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1645714230,"post_id":71253263,"comment_id":125949201,"body_markdown":"Are you using any bytecode instrumentation or aspect-oriented programming stuff, anything that would use ASM, or using Mockito or Powermock to mock final classes? If so, make sure you&#39;ve upgraded any dependencies to newer versions. By the way, the option is `-noverify` with one `-`, not `--noverify` with two.","body":"Are you using any bytecode instrumentation or aspect-oriented programming stuff, anything that would use ASM, or using Mockito or Powermock to mock final classes? If so, make sure you&#39;ve upgraded any dependencies to newer versions. By the way, the option is <code>-noverify</code> with one <code>-</code>, not <code>--noverify</code> with two."},{"owner":{"account_id":6522900,"reputation":427,"user_id":5046547,"accept_rate":48,"display_name":"Soufiane Rabii"},"score":1,"creation_date":1647164223,"post_id":71253263,"comment_id":126297798,"body_markdown":"Hello @DavidConrad, thanks for the comment, yes you&#39;re right it&#39;s -noverify(I&#39;ll update my question), what you described works just fine for me.  Thanks again man","body":"Hello @DavidConrad, thanks for the comment, yes you&#39;re right it&#39;s -noverify(I&#39;ll update my question), what you described works just fine for me.  Thanks again man"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647214590,"creation_date":1647214590,"answer_id":71461687,"question_id":71253263,"body_markdown":"The option is `-noverify` with one `-`, not *&lt;strike&gt;`--noverify`&lt;/strike&gt; with two.\r\n\r\nIf you are using any bytecode instrumentation or aspect-oriented programming libraries, anything that would use ASM, or using PowerMockito or Powermock to mock final classes, make sure you&#39;ve upgraded those dependencies to newer versions, preferably the latest versions.","title":"Java 7 to Java 11 migration blocking issue - Expecting a stackmap frame at branch target 91","body":"<p>The option is <code>-noverify</code> with one <code>-</code>, not *<strike><code>--noverify</code></strike> with two.</p>\n<p>If you are using any bytecode instrumentation or aspect-oriented programming libraries, anything that would use ASM, or using PowerMockito or Powermock to mock final classes, make sure you've upgraded those dependencies to newer versions, preferably the latest versions.</p>\n"}],"owner":{"account_id":6522900,"reputation":427,"user_id":5046547,"accept_rate":48,"display_name":"Soufiane Rabii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647214590,"creation_date":1645711710,"question_id":71253263,"body_markdown":"I&#39;m migrating an app from **Jdk 7** to **Jdk 11**, everything was going fine, the build was successful, but when i tried to run the migrated app (jdk 11) version, I faced the following error.\r\n\r\n\r\n        Caused by: java.lang .VerifyError: Expecting a stackmap frame at branch target 91\r\n\t\tException Details:\r\n\t\tLocation:\r\n\r\n\t\tReason:\r\n\t\tExpected stackmap frame at this location.\r\n\t\tT\r\n\t\tBytecode:\r\n\t\t0000000: 2b5a 05D2 021f 2a2a 1905 D802 253a 06b8\r\n\t\t0000010: 023a 06bd 0089 3a07 1907 032a 5319 0704\r\n\t\t0000020: 1905 5319 0705 1906 55bb 022a 5919 07D7\r\n\t\t0000050: 022d 1302 2eb6 0234 b202 4059 c700 1f57\r\n\t\t0000040: 1203 1302 4104 bd02 4359 0512 e153 b602\r\n\t\t0000050: 4713 023c b602 4059 b302 4000 c002 3cb6\r\n\t\t0000060: 0251 5761\r\n\r\nMost solutions that i&#39;ve viewed suggest to downgrade the project&#39;s jdk to **jdk6** which won&#39;t work for me unfortunately, I tried to add **-noverify** option as **VM Arguments** and it resulted into some weird error I couldn&#39;t understand.\r\n\r\nI also checked the compiled class byte code version which corresponds to **55&lt;=&gt;Jdk.11**.\r\n\r\nI&#39;m using the following jdk 11 distribution **jdk-11.0.7.10-hotspot**.\r\n\r\nThank you in advance\r\n\r\n\r\n\r\n","title":"Java 7 to Java 11 migration blocking issue - Expecting a stackmap frame at branch target 91","body":"<p>I'm migrating an app from <strong>Jdk 7</strong> to <strong>Jdk 11</strong>, everything was going fine, the build was successful, but when i tried to run the migrated app (jdk 11) version, I faced the following error.</p>\n<pre><code>    Caused by: java.lang .VerifyError: Expecting a stackmap frame at branch target 91\n    Exception Details:\n    Location:\n\n    Reason:\n    Expected stackmap frame at this location.\n    T\n    Bytecode:\n    0000000: 2b5a 05D2 021f 2a2a 1905 D802 253a 06b8\n    0000010: 023a 06bd 0089 3a07 1907 032a 5319 0704\n    0000020: 1905 5319 0705 1906 55bb 022a 5919 07D7\n    0000050: 022d 1302 2eb6 0234 b202 4059 c700 1f57\n    0000040: 1203 1302 4104 bd02 4359 0512 e153 b602\n    0000050: 4713 023c b602 4059 b302 4000 c002 3cb6\n    0000060: 0251 5761\n</code></pre>\n<p>Most solutions that i've viewed suggest to downgrade the project's jdk to <strong>jdk6</strong> which won't work for me unfortunately, I tried to add <strong>-noverify</strong> option as <strong>VM Arguments</strong> and it resulted into some weird error I couldn't understand.</p>\n<p>I also checked the compiled class byte code version which corresponds to <strong>55&lt;=&gt;Jdk.11</strong>.</p>\n<p>I'm using the following jdk 11 distribution <strong>jdk-11.0.7.10-hotspot</strong>.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","arrays","algorithm","dynamic-programming"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647214461,"creation_date":1647210280,"answer_id":71461338,"question_id":71461143,"body_markdown":"In order to do that in **O(n)** time you can use the logic that very is similar to ***Kadane&#39;s algorithm*** for finding the maximum sum of a sub-array.\r\n\r\nThe overall idea is to track the **minimum price** previously encountered for *country A*. \r\n\r\nAnd at each step of iteration, compare the profit that can be obtained by selling the computers at the current price `B[i]` (*assuming that they were bought at a minimum price* `minA`) with the **maximum profit**.\r\n\r\n**Minimum price** for country *A* `minA` initialized with the first element in the array `countryA[0]`. And at each iteration step it&#39;s being compared with the value of element `countryA[i - 1]`. \r\n\r\nThe  best possible **profit** for each step will be `countryB[i] - minA`, where `minA` is the smallest value among `countryA[0] ... countryA[i - 1]`.\r\n\r\nThe case when the given arrays are of *different length* or comprised of *less than* `2` elements represents the situation when the *input data is incorrect*, therefore `IllegalArgumentException` is thrown.\r\n\r\n    public static int getMaxProfit(int[] countryA, int[] countryB) {\r\n        if (countryA.length != countryB.length || // will lead to IndexOutOfBoundsException\r\n                countryB.length &lt; 2) { // impossible to fulfil requirement: B[j] - A[i] where j &gt; i\r\n            \r\n            throw new IllegalArgumentException();\r\n        }\r\n\r\n        int minA = countryA[0];\r\n        int maxProfit = countryB[1] - countryA[0];\r\n\r\n        for (int i = 2; i &lt; countryB.length; i++) {\r\n            minA = Math.min(countryA[i - 1], minA);\r\n            maxProfit = Math.max(countryB[i] - minA, maxProfit);\r\n        }\r\n        return maxProfit;\r\n    }\r\n\r\n**main()**\r\n\r\n    public static void main(String[] args) {\r\n        int[] countryA = {40, 18, 20, 25, 12, 13, 19, 20, 5, 7, 3};\r\n        int[] countryB = {15, 50, 5, 30, 34, 19, 28, 33, 20, 20, 20};\r\n\r\n        System.out.println(getMaxProfit(countryA, countryB));\r\n    }\r\n\r\n**Output**\r\n```\r\n21\r\n```","title":"Maximize the diff of elements of Two Arrays B[j] − A[i] where j &gt; i","body":"<p>In order to do that in <strong>O(n)</strong> time you can use the logic that very is similar to <em><strong>Kadane's algorithm</strong></em> for finding the maximum sum of a sub-array.</p>\n<p>The overall idea is to track the <strong>minimum price</strong> previously encountered for <em>country A</em>.</p>\n<p>And at each step of iteration, compare the profit that can be obtained by selling the computers at the current price <code>B[i]</code> (<em>assuming that they were bought at a minimum price</em> <code>minA</code>) with the <strong>maximum profit</strong>.</p>\n<p><strong>Minimum price</strong> for country <em>A</em> <code>minA</code> initialized with the first element in the array <code>countryA[0]</code>. And at each iteration step it's being compared with the value of element <code>countryA[i - 1]</code>.</p>\n<p>The  best possible <strong>profit</strong> for each step will be <code>countryB[i] - minA</code>, where <code>minA</code> is the smallest value among <code>countryA[0] ... countryA[i - 1]</code>.</p>\n<p>The case when the given arrays are of <em>different length</em> or comprised of <em>less than</em> <code>2</code> elements represents the situation when the <em>input data is incorrect</em>, therefore <code>IllegalArgumentException</code> is thrown.</p>\n<pre><code>public static int getMaxProfit(int[] countryA, int[] countryB) {\n    if (countryA.length != countryB.length || // will lead to IndexOutOfBoundsException\n            countryB.length &lt; 2) { // impossible to fulfil requirement: B[j] - A[i] where j &gt; i\n        \n        throw new IllegalArgumentException();\n    }\n\n    int minA = countryA[0];\n    int maxProfit = countryB[1] - countryA[0];\n\n    for (int i = 2; i &lt; countryB.length; i++) {\n        minA = Math.min(countryA[i - 1], minA);\n        maxProfit = Math.max(countryB[i] - minA, maxProfit);\n    }\n    return maxProfit;\n}\n</code></pre>\n<p><strong>main()</strong></p>\n<pre><code>public static void main(String[] args) {\n    int[] countryA = {40, 18, 20, 25, 12, 13, 19, 20, 5, 7, 3};\n    int[] countryB = {15, 50, 5, 30, 34, 19, 28, 33, 20, 20, 20};\n\n    System.out.println(getMaxProfit(countryA, countryB));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>21\n</code></pre>\n"}],"owner":{"account_id":18937378,"reputation":83,"user_id":13818165,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71461338,"answer_count":1,"score":2,"last_activity_date":1647214461,"creation_date":1647208237,"question_id":71461143,"body_markdown":"This is not the max-profit algorithm, but a variation of it. \r\n\r\nI have an array `A`, where `A[i]` corresponds to the price of computers in **country A** and time `i`. And `B[i]` corresponds to the price of computers in **country B** and time `i`. \r\n\r\nAll entries in each array are positive integers. I want to buy computers in **country A** at some time `i` and then sell them in **country B** at some later time `j &gt; i`. \r\n\r\nI need to **maximize profit** `B[j] − A[i]`.\r\n\r\n**Example:**\r\n```\r\nA = [40, 18, 20, 25, 12, 13, 19, 20, 5, 7, 3]\r\n\r\nB = [15, 50, 5, 30, 34, 19, 28, 33, 20, 20, 20]\r\n```\r\nThe maximum possible profit is `B[7] − A[4] = 33 − 12 = 21`, so the output should be `21`.\r\n\r\nI want this to run in **O(n)**.\r\n\r\nThis is what I have so far.\r\n\r\n```\r\nstatic int maxProfit(int pricesA[], int pricesB[]) {\r\n     \r\n        int maxProfit = 0;\r\n\r\n        for (int i = 0; i &lt; pricesA.length; i++) {\r\n             for (int j = 1; j &lt; pricesB.length; j++) {\r\n                 if (pricesB[j - 1] &gt; pricesA[i]) {\r\n                    maxProfit = pricesB[j - 1] - pricesA[i];\r\n                 }\r\n            }\r\n        }\r\n            return maxProfit;\r\n    }\r\n```\r\n\r\nHowever, I&#39;m having trouble with getting the selling the computer at a time `j &gt; i` part. Right now, I&#39;m comparing every time in `B[j]` with `A[i]` when it should be that I buy at time `A[i]` and sell it for a profit at time `B[j]` where index `j` is greater than index `i`. ","title":"Maximize the diff of elements of Two Arrays B[j] − A[i] where j &gt; i","body":"<p>This is not the max-profit algorithm, but a variation of it.</p>\n<p>I have an array <code>A</code>, where <code>A[i]</code> corresponds to the price of computers in <strong>country A</strong> and time <code>i</code>. And <code>B[i]</code> corresponds to the price of computers in <strong>country B</strong> and time <code>i</code>.</p>\n<p>All entries in each array are positive integers. I want to buy computers in <strong>country A</strong> at some time <code>i</code> and then sell them in <strong>country B</strong> at some later time <code>j &gt; i</code>.</p>\n<p>I need to <strong>maximize profit</strong> <code>B[j] − A[i]</code>.</p>\n<p><strong>Example:</strong></p>\n<pre><code>A = [40, 18, 20, 25, 12, 13, 19, 20, 5, 7, 3]\n\nB = [15, 50, 5, 30, 34, 19, 28, 33, 20, 20, 20]\n</code></pre>\n<p>The maximum possible profit is <code>B[7] − A[4] = 33 − 12 = 21</code>, so the output should be <code>21</code>.</p>\n<p>I want this to run in <strong>O(n)</strong>.</p>\n<p>This is what I have so far.</p>\n<pre><code>static int maxProfit(int pricesA[], int pricesB[]) {\n     \n        int maxProfit = 0;\n\n        for (int i = 0; i &lt; pricesA.length; i++) {\n             for (int j = 1; j &lt; pricesB.length; j++) {\n                 if (pricesB[j - 1] &gt; pricesA[i]) {\n                    maxProfit = pricesB[j - 1] - pricesA[i];\n                 }\n            }\n        }\n            return maxProfit;\n    }\n</code></pre>\n<p>However, I'm having trouble with getting the selling the computer at a time <code>j &gt; i</code> part. Right now, I'm comparing every time in <code>B[j]</code> with <code>A[i]</code> when it should be that I buy at time <code>A[i]</code> and sell it for a profit at time <code>B[j]</code> where index <code>j</code> is greater than index <code>i</code>.</p>\n"},{"tags":["java","proguard"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1647215119,"post_id":71461679,"comment_id":126308613,"body_markdown":"If you&#39;re using Java reflection to serialize/deserialize, you&#39;re going to run into a lot more problems than that. Whenever you update your code, Proguard might change the names of some fields, which will break your JSON serialization format. If the names of the fields are significant for reflection purposes, then they shouldn&#39;t be obfuscated.","body":"If you&#39;re using Java reflection to serialize/deserialize, you&#39;re going to run into a lot more problems than that. Whenever you update your code, Proguard might change the names of some fields, which will break your JSON serialization format. If the names of the fields are significant for reflection purposes, then they shouldn&#39;t be obfuscated."},{"owner":{"account_id":2273383,"reputation":307,"user_id":2000246,"accept_rate":55,"display_name":"zodac"},"score":0,"creation_date":1647222350,"post_id":71461679,"comment_id":126309450,"body_markdown":"Yeah, that&#39;s fair. I&#39;m using Gson, so can add @SerializedName to my fields to get around that issue. I guess I was just curious if there was an easy way to configure it to not reuse field names within the same class. :)","body":"Yeah, that&#39;s fair. I&#39;m using Gson, so can add @SerializedName to my fields to get around that issue. I guess I was just curious if there was an easy way to configure it to not reuse field names within the same class. :)"}],"owner":{"account_id":2273383,"reputation":307,"user_id":2000246,"accept_rate":55,"display_name":"zodac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647214401,"creation_date":1647214401,"question_id":71461679,"body_markdown":"I&#39;m using ProGuard to obfuscate my source code, but I&#39;m running into a problem where my obfuscated code re-uses the same field name for fields with different types. For example:\r\n\r\n    public class Pojo {\r\n        int id;\r\n        String name;\r\n    }\r\n\r\nBecomes:\r\n\r\n    public class Pojo {\r\n        int a;\r\n        String a;\r\n    }\r\n\r\nThis is causing problems when trying to use JSON serialization/deserialization, so I&#39;d like to have unique field names instead.\r\n\r\nI tried adding `-useuniqueclassmembernames` though it didn&#39;t work. Couldn&#39;t see any other options, besides maybe using the `-obfuscationdictionary` option, but that seems like overkill.","title":"ProGuard - Use unique field names?","body":"<p>I'm using ProGuard to obfuscate my source code, but I'm running into a problem where my obfuscated code re-uses the same field name for fields with different types. For example:</p>\n<pre><code>public class Pojo {\n    int id;\n    String name;\n}\n</code></pre>\n<p>Becomes:</p>\n<pre><code>public class Pojo {\n    int a;\n    String a;\n}\n</code></pre>\n<p>This is causing problems when trying to use JSON serialization/deserialization, so I'd like to have unique field names instead.</p>\n<p>I tried adding <code>-useuniqueclassmembernames</code> though it didn't work. Couldn't see any other options, besides maybe using the <code>-obfuscationdictionary</code> option, but that seems like overkill.</p>\n"},{"tags":["java","python","class","oop"],"comments":[{"owner":{"account_id":1530005,"reputation":244822,"user_id":1427416,"accept_rate":56,"display_name":"BrenBarn"},"score":1,"creation_date":1466029938,"post_id":37846814,"comment_id":63153834,"body_markdown":"You can access a class variable with `Class.attribute` from inside a method of the class just like you can from outside the class.","body":"You can access a class variable with <code>Class.attribute</code> from inside a method of the class just like you can from outside the class."},{"owner":{"account_id":2675857,"reputation":257,"user_id":2312304,"accept_rate":50,"display_name":"Barry"},"score":0,"creation_date":1466030052,"post_id":37846814,"comment_id":63153879,"body_markdown":"This SO post from the past likely answers your question too: http://stackoverflow.com/questions/68645/static-class-variables-in-python","body":"This SO post from the past likely answers your question too: <a href=\"http://stackoverflow.com/questions/68645/static-class-variables-in-python\" title=\"static class variables in python\">stackoverflow.com/questions/68645/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2655697,"reputation":115001,"user_id":2296458,"accept_rate":90,"display_name":"Cory Kramer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647213340,"creation_date":1466029925,"answer_id":37846900,"question_id":37846814,"body_markdown":"    class Thing:\r\n    \tcounter = 0\r\n\r\n    \tdef __init__(self):\r\n    \t\tThing.counter += 1\r\n\r\n        @staticmethod\r\n    \tdef getCounter():\r\n    \t\treturn Thing.counter\r\n\r\nExample\r\n\r\n    &gt;&gt;&gt; a = Thing()\r\n    &gt;&gt;&gt; b = Thing()\r\n    &gt;&gt;&gt; Thing.getCounter()\r\n    2","title":"Python: static class variables like in Java?","body":"<pre><code>class Thing:\n    counter = 0\n\n    def __init__(self):\n        Thing.counter += 1\n\n    @staticmethod\n    def getCounter():\n        return Thing.counter\n</code></pre>\n<p>Example</p>\n<pre><code>&gt;&gt;&gt; a = Thing()\n&gt;&gt;&gt; b = Thing()\n&gt;&gt;&gt; Thing.getCounter()\n2\n</code></pre>\n"}],"owner":{"display_name":"user6158787"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":37846900,"answer_count":1,"score":4,"last_activity_date":1647213340,"creation_date":1466029452,"question_id":37846814,"body_markdown":"In Java, I can give a class a static variable, here it&#39;s counter.\r\nI&#39;m incrementing it in the constructor, which gives it the purpose of keeping track of how many objects have been instantiated from this class\r\n\r\n    class Thing\r\n    {\r\n\t    private static int counter;\r\n\r\n\t    public Thing()\r\n\t    {\r\n\t    \tcounter++;\r\n\t    }\r\n\r\n\t    public static int getCounter()\r\n\t    {\r\n\t    \treturn counter;\r\n\t    }\r\n\r\n    }\r\n\r\nI could then use counter by using (inside of main, or wherever)\r\n\r\n    int counter = Thing.getCounter()\r\n\r\nIs there any way of doing this in Python? I know you can essentially have static class variables/attributes by not giving them an underscore prefix, and then accessing them through Class.attribute (rather than Object.attribute or Object.get_attribute), but is there any way to use a static variable within the class itself, just like I did with the Java example where I used a static class variable inside the constructor? It would make sense for there to be a keyword like &#39;self&#39; for this, although if there is I&#39;ve not figured it out","title":"Python: static class variables like in Java?","body":"<p>In Java, I can give a class a static variable, here it's counter.\nI'm incrementing it in the constructor, which gives it the purpose of keeping track of how many objects have been instantiated from this class</p>\n\n<pre><code>class Thing\n{\n    private static int counter;\n\n    public Thing()\n    {\n        counter++;\n    }\n\n    public static int getCounter()\n    {\n        return counter;\n    }\n\n}\n</code></pre>\n\n<p>I could then use counter by using (inside of main, or wherever)</p>\n\n<pre><code>int counter = Thing.getCounter()\n</code></pre>\n\n<p>Is there any way of doing this in Python? I know you can essentially have static class variables/attributes by not giving them an underscore prefix, and then accessing them through Class.attribute (rather than Object.attribute or Object.get_attribute), but is there any way to use a static variable within the class itself, just like I did with the Java example where I used a static class variable inside the constructor? It would make sense for there to be a keyword like 'self' for this, although if there is I've not figured it out</p>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":69700,"reputation":111,"user_id":202675,"display_name":"gwyn"},"score":0,"creation_date":1651784706,"post_id":71461593,"comment_id":127452536,"body_markdown":"It looks like you didn&#39;t allow the GroundPlan class in BasicPolymorphicTypeValidator.","body":"It looks like you didn&#39;t allow the GroundPlan class in BasicPolymorphicTypeValidator."}],"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647213335,"creation_date":1647213335,"question_id":71461593,"body_markdown":"I have a &quot;GroundPlan&quot; object, which I am trying to serialize/deserialize, however I get the following error during deserialization:\r\n\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;com.hhuebner.autogp.core.engine.GroundPlan&#39; as a subtype of `com.hhuebner.autogp.core.engine.GroundPlan`: Configured `PolymorphicTypeValidator` (of type `com.fasterxml.jackson.databind.jsontype.BasicPolymorphicTypeValidator`) denied resolution\r\n     at [Source: (FileReader); line: 1, column: 49]\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.DeserializationContext.invalidTypeIdException(DeserializationContext.java:2073)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.DatabindContext._throwSubtypeClassNotAllowed(DatabindContext.java:287)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.DatabindContext.resolveAndValidateSubType(DatabindContext.java:244)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.ClassNameIdResolver._typeFromId(ClassNameIdResolver.java:72)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.ClassNameIdResolver.typeFromId(ClassNameIdResolver.java:66)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromObject(AsArrayTypeDeserializer.java:61)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeWithType(BeanDeserializerBase.java:1292)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n    \tat com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3642)\r\n    \tat com.hhuebner.autogp@1.0-SNAPSHOT/com.hhuebner.autogp.controllers.MenuBarHandler.openDialogue(MenuBarHandler.java:114)\r\n    \tat com.hhuebner.autogp@1.0-SNAPSHOT/com.hhuebner.autogp.controllers.MenuBarHandler.lambda$initialize$2(MenuBarHandler.java:57)\r\n\r\nThe first three lines of the serialized JSON:\r\n\r\n    [ &quot;com.hhuebner.autogp.core.engine.GroundPlan&quot;, {\r\n      &quot;gpSize&quot; : 100.0,\r\n      &quot;components&quot; : [ &quot;java.util.ArrayList&quot;, [ [ &quot;com.hhuebner.autogp.core.component.RoomComponent&quot;, {\r\n\r\n\r\nI created my ObjectMapper like this:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    PolymorphicTypeValidator ptv = BasicPolymorphicTypeValidator.builder()\r\n                        .allowIfBaseType(PlanComponent.class)\r\n                        .build();\r\n    \r\n    objectMapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.NON_FINAL);\r\n PlanComponent is an abstract class. I read in some other theads that people also register subtypes like this:\r\n\r\n    objectMapper.registerSubtypes(PlanComponent.class, FurnitureComponent.class, DoorComponent.class, WallComponent.class); \r\n\r\nIt didn&#39;t change the resulting stacktrace unfortunately. There are no further annotations I used. Any help is appreciated, thanks!\r\n\r\n","title":"Jackson InvalidTypeIdException: Could not resolve type id","body":"<p>I have a &quot;GroundPlan&quot; object, which I am trying to serialize/deserialize, however I get the following error during deserialization:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'com.hhuebner.autogp.core.engine.GroundPlan' as a subtype of `com.hhuebner.autogp.core.engine.GroundPlan`: Configured `PolymorphicTypeValidator` (of type `com.fasterxml.jackson.databind.jsontype.BasicPolymorphicTypeValidator`) denied resolution\n at [Source: (FileReader); line: 1, column: 49]\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.DeserializationContext.invalidTypeIdException(DeserializationContext.java:2073)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.DatabindContext._throwSubtypeClassNotAllowed(DatabindContext.java:287)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.DatabindContext.resolveAndValidateSubType(DatabindContext.java:244)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.ClassNameIdResolver._typeFromId(ClassNameIdResolver.java:72)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.ClassNameIdResolver.typeFromId(ClassNameIdResolver.java:66)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromObject(AsArrayTypeDeserializer.java:61)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeWithType(BeanDeserializerBase.java:1292)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind@2.13.2/com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3642)\n    at com.hhuebner.autogp@1.0-SNAPSHOT/com.hhuebner.autogp.controllers.MenuBarHandler.openDialogue(MenuBarHandler.java:114)\n    at com.hhuebner.autogp@1.0-SNAPSHOT/com.hhuebner.autogp.controllers.MenuBarHandler.lambda$initialize$2(MenuBarHandler.java:57)\n</code></pre>\n<p>The first three lines of the serialized JSON:</p>\n<pre><code>[ &quot;com.hhuebner.autogp.core.engine.GroundPlan&quot;, {\n  &quot;gpSize&quot; : 100.0,\n  &quot;components&quot; : [ &quot;java.util.ArrayList&quot;, [ [ &quot;com.hhuebner.autogp.core.component.RoomComponent&quot;, {\n</code></pre>\n<p>I created my ObjectMapper like this:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nPolymorphicTypeValidator ptv = BasicPolymorphicTypeValidator.builder()\n                    .allowIfBaseType(PlanComponent.class)\n                    .build();\n\nobjectMapper.activateDefaultTyping(ptv, ObjectMapper.DefaultTyping.NON_FINAL);\n</code></pre>\n<p>PlanComponent is an abstract class. I read in some other theads that people also register subtypes like this:</p>\n<pre><code>objectMapper.registerSubtypes(PlanComponent.class, FurnitureComponent.class, DoorComponent.class, WallComponent.class); \n</code></pre>\n<p>It didn't change the resulting stacktrace unfortunately. There are no further annotations I used. Any help is appreciated, thanks!</p>\n"},{"tags":["java","dice"],"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":1,"creation_date":1647212825,"post_id":71460878,"comment_id":126308284,"body_markdown":"Please do not vandalize your posts.  By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/)). By SE policy, any vandalism will be reverted.","body":"Please do not vandalize your posts.  By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>). By SE policy, any vandalism will be reverted."},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1647213454,"post_id":71460878,"comment_id":126308396,"body_markdown":"There seems to be another question on the same topic: https://stackoverflow.com/questions/71402891/can-i-block-user-to-choose-the-same-switch-case-twice-in-a-loop","body":"There seems to be another question on the same topic: <a href=\"https://stackoverflow.com/questions/71402891/can-i-block-user-to-choose-the-same-switch-case-twice-in-a-loop\" title=\"can i block user to choose the same switch case twice in a loop\">stackoverflow.com/questions/71402891/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647208340,"creation_date":1647208340,"answer_id":71461150,"question_id":71460878,"body_markdown":"When you are going for the next round, the method **t&#228;rningsKast()** is only going to work again and again once each round passes if the dice is not thrown.\r\n\r\nMeaning that once a round finishes and you are going to start another round, you have to set that the dices are not thrown, since the round is going to start right after.\r\n\r\nThe solution I found is to set the **dice1Thrown**, **dice2Thrown** and **dice3Thrown** to **false** on the if statement that prints that the next round is starting.\r\n\r\n        static void checkRounds(){\r\n        rounds++;\r\n        if(rounds == 3)\r\n        {\r\n            System.out.println(&quot;\\n&quot; + &quot;Next round!&quot;);\r\n            dice1 = 0;\r\n            dice2 = 0;\r\n            dice3 = 0;\r\n            rounds = 0;\r\n            dice1Thrown = false;\r\n            dice2Thrown = false;\r\n            dice3Thrown = false;\r\n\r\n        }\r\n\r\nAfter that the game seems to be working fine.\r\n\r\nThe steps I made to find that it, were:\r\n\r\n1. Set a break point to debug the line that prints &quot;Next round&quot;.\r\n2. Once the debugger reachs that line, set a break point in the first line of the method **t&#228;rningsKast()**, then check that in each check of the if, else if and etc. the diceNThrown variables are all still setted to true, so none of the conditions will match.\r\n\r\n\r\n\r\n","title":"Dice continuous sum game Java","body":"<p>When you are going for the next round, the method <strong>tärningsKast()</strong> is only going to work again and again once each round passes if the dice is not thrown.</p>\n<p>Meaning that once a round finishes and you are going to start another round, you have to set that the dices are not thrown, since the round is going to start right after.</p>\n<p>The solution I found is to set the <strong>dice1Thrown</strong>, <strong>dice2Thrown</strong> and <strong>dice3Thrown</strong> to <strong>false</strong> on the if statement that prints that the next round is starting.</p>\n<pre><code>    static void checkRounds(){\n    rounds++;\n    if(rounds == 3)\n    {\n        System.out.println(&quot;\\n&quot; + &quot;Next round!&quot;);\n        dice1 = 0;\n        dice2 = 0;\n        dice3 = 0;\n        rounds = 0;\n        dice1Thrown = false;\n        dice2Thrown = false;\n        dice3Thrown = false;\n\n    }\n</code></pre>\n<p>After that the game seems to be working fine.</p>\n<p>The steps I made to find that it, were:</p>\n<ol>\n<li>Set a break point to debug the line that prints &quot;Next round&quot;.</li>\n<li>Once the debugger reachs that line, set a break point in the first line of the method <strong>tärningsKast()</strong>, then check that in each check of the if, else if and etc. the diceNThrown variables are all still setted to true, so none of the conditions will match.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647211761,"creation_date":1647211761,"answer_id":71461466,"question_id":71460878,"body_markdown":"Regarding the question:\r\n\r\n**&quot;You mean, if you wanted to stop the game in the round 2 ?&quot;\r\n&quot;Yeah exactly like that&quot;**\r\n\r\nFirst I&#39;d use you checkRounds() method to check if it were to stop the game, meaning if the user already played two rounds.\r\n\r\nSecond I would move the logic that move to the next round to a method that checks attemps, intead of rounds, since we will move to the next round every time the user already had three attempts.\r\n\r\nAnd finally before moving to the next round I would be increasing the number of rounds, and right after checking if the number of rounds if the expected number of rounds to stop, that way you can play the game with the limit of rounds you desire to.\r\n\r\n\r\n----------\r\n\r\n    //Declaring int variables for all 3 dice\r\n    static int dice1;\r\n    static int dice2;\r\n    static int dice3;\r\n    //Declaring true/false for which dice that is thrown, can&#39;t be thrown more than 1 time in each round.\r\n    static boolean dice1Thrown = false;\r\n    static boolean dice2Thrown = false;\r\n    static boolean dice3Thrown = false;\r\n    //Method for which dice is thrown - the input the user choses (1, 2, 3 or q)\r\n    static char diceToThrow;\r\n    //Method that checks what number 1-6 the dice roll. sum by default is 0\r\n    static int sum = 0;\r\n    //Method for keep track of # wins\r\n    static int wins;\r\n    //Method keep tracks of # losses\r\n    static int losses;\r\n    //If firstGame = true it will print &quot;Welcome to the game 12&quot; if false, it doesn&#39;t print that every round\r\n    static boolean firstGame = true;\r\n    //Int for keeping track of when dice thrown is = 3. Go to next round.\r\n    static int attempts;\r\n    // keeping track of the number of rounds\r\n    static int rounds = 0;\r\n    // desired number of rounds to play\r\n    static final int LIMIT_OF_ROUNDS = 5;\r\n\r\n    public static void main(String[] args)\r\n\r\n    {\r\n        Scanner scan = new Scanner(System.in);\r\n        if(firstGame)\r\n        {\r\n            System.out.println(&quot;Welcome to the game 12. You must roll 1-3 dice and try to get the sum 12 ... &quot;);\r\n            firstGame = false;\r\n        }\r\n        System.out.printf(&quot;Enter which dice you want to roll [1,2,3] (exit with q): &quot;);\r\n\r\n        //Calling method diceToThrow, chosing input 1,2,3 or q\r\n        diceToThrow = scan.next().charAt(0);\r\n        t&#228;rningsKast(diceToThrow);\r\n        //sum = dice1 + dice2 + dice3\r\n        calcSum();\r\n        //If user gets 12 store int wins as +1, if lose store int loss as +1\r\n        winOrLose();\r\n        //Printing dices, if input from user is 1, it shows sum of first dice etc.\r\n        System.out.printf(dice1 + &quot; &quot; + dice2 + &quot; &quot; + dice3 + &quot; sum: &quot; + sum + &quot; #win: &quot; + wins + &quot; #loss: &quot; + losses+ &quot; &quot;);\r\n        //Calling method for round score.\r\n        checkAttempts();\r\n\r\n        main(args);\r\n\r\n        //Method created for sum calculating, called in Main method\r\n    }static void calcSum(){\r\n        sum = (dice1 + dice2 + dice3);\r\n    }\r\n\r\n    //Method created for dice1, dice2, dice3 and char q (as exit). Dice generates random number between 0-5 and always adds + 1 (1-6)\r\n    static void t&#228;rningsKast(char diceToThrow){\r\n        Random rand = new Random();\r\n        //If user input = 1, generate dice1\r\n        if(diceToThrow == &#39;1&#39; &amp;&amp; !dice1Thrown){\r\n            dice1 = rand.nextInt(6) + 1;\r\n            dice1Thrown = true;\r\n        }\r\n        //If user input = 2, generate dice2\r\n        else if(diceToThrow == &#39;2&#39; &amp;&amp; !dice2Thrown){\r\n            dice2 = rand.nextInt(6) +1;\r\n            //If user input = 3, generate dice3\r\n        }else if(diceToThrow == &#39;3&#39; &amp;&amp; !dice3Thrown){\r\n            dice3 = rand.nextInt(6) + 1;\r\n            dice3Thrown = true;\r\n            //If user input = char q, Print &quot;Game Over!&quot; and exit game.\r\n        }else if(diceToThrow == &#39;q&#39;){\r\n            System.out.println(&quot;Game Over!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n    static void winOrLose(){\r\n        if(sum == 12){\r\n            wins++;\r\n        }\r\n        else if(sum &gt; 12){\r\n            losses++;\r\n        }\r\n    }\r\n    static void checkAttempts(){\r\n        attempts++;\r\n\r\n        if(attempts == 3)\r\n        {\r\n            rounds++;\r\n            checkRounds(rounds);\r\n            System.out.println(&quot;\\n&quot; + &quot;Next round!&quot;);\r\n            dice1 = 0;\r\n            dice2 = 0;\r\n            dice3 = 0;\r\n            attempts = 0;\r\n            dice1Thrown = false;\r\n            dice2Thrown = false;\r\n            dice3Thrown = false;\r\n        }\r\n    }\r\n\r\n    static void checkRounds(int rounds) {\r\n        if (rounds == LIMIT_OF_ROUNDS) {\r\n            t&#228;rningsKast(&#39;q&#39;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Dice continuous sum game Java","body":"<p>Regarding the question:</p>\n<p><strong>&quot;You mean, if you wanted to stop the game in the round 2 ?&quot;\n&quot;Yeah exactly like that&quot;</strong></p>\n<p>First I'd use you checkRounds() method to check if it were to stop the game, meaning if the user already played two rounds.</p>\n<p>Second I would move the logic that move to the next round to a method that checks attemps, intead of rounds, since we will move to the next round every time the user already had three attempts.</p>\n<p>And finally before moving to the next round I would be increasing the number of rounds, and right after checking if the number of rounds if the expected number of rounds to stop, that way you can play the game with the limit of rounds you desire to.</p>\n<hr />\n<pre><code>//Declaring int variables for all 3 dice\nstatic int dice1;\nstatic int dice2;\nstatic int dice3;\n//Declaring true/false for which dice that is thrown, can't be thrown more than 1 time in each round.\nstatic boolean dice1Thrown = false;\nstatic boolean dice2Thrown = false;\nstatic boolean dice3Thrown = false;\n//Method for which dice is thrown - the input the user choses (1, 2, 3 or q)\nstatic char diceToThrow;\n//Method that checks what number 1-6 the dice roll. sum by default is 0\nstatic int sum = 0;\n//Method for keep track of # wins\nstatic int wins;\n//Method keep tracks of # losses\nstatic int losses;\n//If firstGame = true it will print &quot;Welcome to the game 12&quot; if false, it doesn't print that every round\nstatic boolean firstGame = true;\n//Int for keeping track of when dice thrown is = 3. Go to next round.\nstatic int attempts;\n// keeping track of the number of rounds\nstatic int rounds = 0;\n// desired number of rounds to play\nstatic final int LIMIT_OF_ROUNDS = 5;\n\npublic static void main(String[] args)\n\n{\n    Scanner scan = new Scanner(System.in);\n    if(firstGame)\n    {\n        System.out.println(&quot;Welcome to the game 12. You must roll 1-3 dice and try to get the sum 12 ... &quot;);\n        firstGame = false;\n    }\n    System.out.printf(&quot;Enter which dice you want to roll [1,2,3] (exit with q): &quot;);\n\n    //Calling method diceToThrow, chosing input 1,2,3 or q\n    diceToThrow = scan.next().charAt(0);\n    tärningsKast(diceToThrow);\n    //sum = dice1 + dice2 + dice3\n    calcSum();\n    //If user gets 12 store int wins as +1, if lose store int loss as +1\n    winOrLose();\n    //Printing dices, if input from user is 1, it shows sum of first dice etc.\n    System.out.printf(dice1 + &quot; &quot; + dice2 + &quot; &quot; + dice3 + &quot; sum: &quot; + sum + &quot; #win: &quot; + wins + &quot; #loss: &quot; + losses+ &quot; &quot;);\n    //Calling method for round score.\n    checkAttempts();\n\n    main(args);\n\n    //Method created for sum calculating, called in Main method\n}static void calcSum(){\n    sum = (dice1 + dice2 + dice3);\n}\n\n//Method created for dice1, dice2, dice3 and char q (as exit). Dice generates random number between 0-5 and always adds + 1 (1-6)\nstatic void tärningsKast(char diceToThrow){\n    Random rand = new Random();\n    //If user input = 1, generate dice1\n    if(diceToThrow == '1' &amp;&amp; !dice1Thrown){\n        dice1 = rand.nextInt(6) + 1;\n        dice1Thrown = true;\n    }\n    //If user input = 2, generate dice2\n    else if(diceToThrow == '2' &amp;&amp; !dice2Thrown){\n        dice2 = rand.nextInt(6) +1;\n        //If user input = 3, generate dice3\n    }else if(diceToThrow == '3' &amp;&amp; !dice3Thrown){\n        dice3 = rand.nextInt(6) + 1;\n        dice3Thrown = true;\n        //If user input = char q, Print &quot;Game Over!&quot; and exit game.\n    }else if(diceToThrow == 'q'){\n        System.out.println(&quot;Game Over!&quot;);\n        System.exit(0);\n    }\n}\n\nstatic void winOrLose(){\n    if(sum == 12){\n        wins++;\n    }\n    else if(sum &gt; 12){\n        losses++;\n    }\n}\nstatic void checkAttempts(){\n    attempts++;\n\n    if(attempts == 3)\n    {\n        rounds++;\n        checkRounds(rounds);\n        System.out.println(&quot;\\n&quot; + &quot;Next round!&quot;);\n        dice1 = 0;\n        dice2 = 0;\n        dice3 = 0;\n        attempts = 0;\n        dice1Thrown = false;\n        dice2Thrown = false;\n        dice3Thrown = false;\n    }\n}\n\nstatic void checkRounds(int rounds) {\n    if (rounds == LIMIT_OF_ROUNDS) {\n        tärningsKast('q');\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24547161,"reputation":9,"user_id":18456833,"display_name":"kepper3772"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71461150,"answer_count":2,"score":-1,"last_activity_date":1647213081,"creation_date":1647205753,"question_id":71460878,"body_markdown":"I&#39;m new to programming and trying to make a dice game. The game consists of three dice and involves the sum of 12 (on any number of dice) in each round. Each dice can only be rolled once per round.\r\n\r\nIn each round, the player must be able to choose between: 1 to roll the dice 1, 2 to roll the dice 2, 3 to roll the dice 3, q to exit the game. The program must randomly find a value on the selected dice and then calculate the score. The program should also present the number of wins and the number of rounds lost. **The program should continue until the user chooses to cancel the game.** Regardless of the number of dice, and the definition of loss is a sum exceeding 12 after all three dice have been rolled. If the sum after three rolls is less than 12, there will be no profit or loss, but you go straight to the next round.\r\n\r\nSo currently my code works for 1 round, the problem begins when the second round begins. The new dice rolls are just the input I give it, and not a random value (1-6). \r\n\r\nHow can I make this work?\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class Main{\r\n  //Declaring int variables for all 3 dice\r\n  static int dice1;\r\n  static int dice2;\r\n  static int dice3;\r\n  //Declaring true/false for which dice that is thrown, can&#39;t be thrown more than 1 time in each round.\r\n  static boolean dice1Thrown = false;\r\n  static boolean dice2Thrown = false;\r\n  static boolean dice3Thrown = false;\r\n  //Method for which dice is thrown - the input the user choses (1, 2, 3 or q)\r\n  static char diceToThrow;\r\n  //Method that checks what number 1-6 the dice roll. sum by default is 0\r\n  static int sum = 0;\r\n  //Method for keep track of # wins\r\n  static int wins;\r\n  //Method keep tracks of # losses\r\n  static int losses;\r\n  //If firstGame = true it will print &quot;Welcome to the game 12&quot; if false, it doesn&#39;t print that every round\r\n  static boolean firstGame = true;\r\n  //Int for keeping track of when dice thrown is = 3. Go to next round.\r\n  static int rounds;\r\n  \r\n\r\n  public static void main(String[] args)\r\n  \r\n  {\r\n    Scanner scan = new Scanner(System.in);\r\n    if(firstGame)\r\n    {\r\n        System.out.println(&quot;Welcome to the game 12. You must roll 1-3 dice and try to get the sum 12 ... &quot;);\r\n        firstGame = false; \r\n    }\r\n    System.out.printf(&quot;Enter which dice you want to roll [1,2,3] (exit with q): &quot;);  \r\n\r\n    //Calling method diceToThrow, chosing input 1,2,3 or q\r\n    diceToThrow = scan.next().charAt(0);\r\n    t&#228;rningsKast(diceToThrow);\r\n    //sum = dice1 + dice2 + dice3\r\n    calcSum();\r\n    //If user gets 12 store int wins as +1, if lose store int loss as +1\r\n    winOrLose();\r\n    //Printing dices, if input from user is 1, it shows sum of first dice etc.\r\n    System.out.printf(dice1 + &quot; &quot; + dice2 + &quot; &quot; + dice3 + &quot; sum: &quot; + sum + &quot; #win: &quot; + wins + &quot; #loss: &quot; + losses+ &quot; &quot;);\r\n    //Calling method for round score.\r\n    checkRounds();\r\n    \r\n    main(args);\r\n\r\n   //Method created for sum calculating, called in Main method\r\n  }static void calcSum(){\r\n    sum = (dice1 + dice2 + dice3);\r\n  }\r\n\r\n   //Method created for dice1, dice2, dice3 and char q (as exit). Dice generates random number between 0-5 and always adds + 1 (1-6)\r\n  static void t&#228;rningsKast(char diceToThrow){\r\n    Random rand = new Random();\r\n   //If user input = 1, generate dice1\r\n    if(diceToThrow == &#39;1&#39; &amp;&amp; !dice1Thrown){\r\n      dice1 = rand.nextInt(6) + 1;\r\n      dice1Thrown = true;\r\n    }\r\n  //If user input = 2, generate dice2\r\n  else if(diceToThrow == &#39;2&#39; &amp;&amp; !dice2Thrown){\r\n  dice2 = rand.nextInt(6) +1;\r\n  //If user input = 3, generate dice3\r\n  }else if(diceToThrow == &#39;3&#39; &amp;&amp; !dice3Thrown){\r\n    dice3 = rand.nextInt(6) + 1;\r\n    dice3Thrown = true;\r\n  //If user input = char q, Print &quot;Game Over!&quot; and exit game.\r\n  }else if(diceToThrow == &#39;q&#39;){\r\n    System.out.println(&quot;Game Over!&quot;);\r\n    System.exit(0);\r\n  }\r\n}\r\n  \r\n  static void winOrLose(){\r\n      if(sum == 12){\r\n          wins++;\r\n      }\r\n      else if(sum &gt; 12){\r\n          losses++;\r\n      }\r\n  }\r\n  static void checkRounds(){\r\n      rounds++;\r\n      if(rounds == 3)\r\n      {\r\n          System.out.println(&quot;\\n&quot; + &quot;Next round!&quot;);\r\n          dice1 = 0;\r\n          dice2 = 0; \r\n          dice3 = 0; \r\n          rounds = 0;\r\n        \r\n      }\r\n  }\r\n}\r\n```","title":"Dice continuous sum game Java","body":"<p>I'm new to programming and trying to make a dice game. The game consists of three dice and involves the sum of 12 (on any number of dice) in each round. Each dice can only be rolled once per round.</p>\n<p>In each round, the player must be able to choose between: 1 to roll the dice 1, 2 to roll the dice 2, 3 to roll the dice 3, q to exit the game. The program must randomly find a value on the selected dice and then calculate the score. The program should also present the number of wins and the number of rounds lost. <strong>The program should continue until the user chooses to cancel the game.</strong> Regardless of the number of dice, and the definition of loss is a sum exceeding 12 after all three dice have been rolled. If the sum after three rolls is less than 12, there will be no profit or loss, but you go straight to the next round.</p>\n<p>So currently my code works for 1 round, the problem begins when the second round begins. The new dice rolls are just the input I give it, and not a random value (1-6).</p>\n<p>How can I make this work?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class Main{\n  //Declaring int variables for all 3 dice\n  static int dice1;\n  static int dice2;\n  static int dice3;\n  //Declaring true/false for which dice that is thrown, can't be thrown more than 1 time in each round.\n  static boolean dice1Thrown = false;\n  static boolean dice2Thrown = false;\n  static boolean dice3Thrown = false;\n  //Method for which dice is thrown - the input the user choses (1, 2, 3 or q)\n  static char diceToThrow;\n  //Method that checks what number 1-6 the dice roll. sum by default is 0\n  static int sum = 0;\n  //Method for keep track of # wins\n  static int wins;\n  //Method keep tracks of # losses\n  static int losses;\n  //If firstGame = true it will print &quot;Welcome to the game 12&quot; if false, it doesn't print that every round\n  static boolean firstGame = true;\n  //Int for keeping track of when dice thrown is = 3. Go to next round.\n  static int rounds;\n  \n\n  public static void main(String[] args)\n  \n  {\n    Scanner scan = new Scanner(System.in);\n    if(firstGame)\n    {\n        System.out.println(&quot;Welcome to the game 12. You must roll 1-3 dice and try to get the sum 12 ... &quot;);\n        firstGame = false; \n    }\n    System.out.printf(&quot;Enter which dice you want to roll [1,2,3] (exit with q): &quot;);  \n\n    //Calling method diceToThrow, chosing input 1,2,3 or q\n    diceToThrow = scan.next().charAt(0);\n    tärningsKast(diceToThrow);\n    //sum = dice1 + dice2 + dice3\n    calcSum();\n    //If user gets 12 store int wins as +1, if lose store int loss as +1\n    winOrLose();\n    //Printing dices, if input from user is 1, it shows sum of first dice etc.\n    System.out.printf(dice1 + &quot; &quot; + dice2 + &quot; &quot; + dice3 + &quot; sum: &quot; + sum + &quot; #win: &quot; + wins + &quot; #loss: &quot; + losses+ &quot; &quot;);\n    //Calling method for round score.\n    checkRounds();\n    \n    main(args);\n\n   //Method created for sum calculating, called in Main method\n  }static void calcSum(){\n    sum = (dice1 + dice2 + dice3);\n  }\n\n   //Method created for dice1, dice2, dice3 and char q (as exit). Dice generates random number between 0-5 and always adds + 1 (1-6)\n  static void tärningsKast(char diceToThrow){\n    Random rand = new Random();\n   //If user input = 1, generate dice1\n    if(diceToThrow == '1' &amp;&amp; !dice1Thrown){\n      dice1 = rand.nextInt(6) + 1;\n      dice1Thrown = true;\n    }\n  //If user input = 2, generate dice2\n  else if(diceToThrow == '2' &amp;&amp; !dice2Thrown){\n  dice2 = rand.nextInt(6) +1;\n  //If user input = 3, generate dice3\n  }else if(diceToThrow == '3' &amp;&amp; !dice3Thrown){\n    dice3 = rand.nextInt(6) + 1;\n    dice3Thrown = true;\n  //If user input = char q, Print &quot;Game Over!&quot; and exit game.\n  }else if(diceToThrow == 'q'){\n    System.out.println(&quot;Game Over!&quot;);\n    System.exit(0);\n  }\n}\n  \n  static void winOrLose(){\n      if(sum == 12){\n          wins++;\n      }\n      else if(sum &gt; 12){\n          losses++;\n      }\n  }\n  static void checkRounds(){\n      rounds++;\n      if(rounds == 3)\n      {\n          System.out.println(&quot;\\n&quot; + &quot;Next round!&quot;);\n          dice1 = 0;\n          dice2 = 0; \n          dice3 = 0; \n          rounds = 0;\n        \n      }\n  }\n}\n</code></pre>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":5307294,"reputation":5670,"user_id":4234729,"display_name":"juherr"},"score":0,"creation_date":1469830154,"post_id":38666583,"comment_id":64717224,"body_markdown":"What you describe is how testng is supposed to work. Why do you need it?","body":"What you describe is how testng is supposed to work. Why do you need it?"}],"answers":[{"tags":[],"owner":{"account_id":6682811,"reputation":1452,"user_id":5155299,"display_name":"Atul Dwivedi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469995974,"creation_date":1469851479,"answer_id":38670235,"question_id":38666583,"body_markdown":"This behaviour is as per design.\r\n\r\n&gt; `@BeforeClass`: The annotated method will be run before the first test method in the current class is invoked.\r\n\r\n - In your case it is `setup`, it will print **initialized**.\r\n - `setup` will never run again until the same class is reloaded for execution.\r\n\r\n&gt; `@AfterClass`: The annotated method will be run after all the test methods in the current class have been run.\r\n\r\n - In your case it is `tearDown`, it will run after all the test methods including all retry attempts in the current class have been run and print **complete**.\r\n\r\nNote: `retry(ITestResult result)` returns true if the **test method has to be retried**, false otherwise. So whether test methods have to be retried or not will be governed by the `retry` method. Behaviour of `@BeforeClass` and `@AfterClass` remains unchanged.\r\n\r\nHope this clarifies.\r\n\r\n \r\n\r\n ","title":"TestNG retry class doesn&#39;t run @BeforeClass nor @AfterClass methods","body":"<p>This behaviour is as per design.</p>\n\n<blockquote>\n  <p><code>@BeforeClass</code>: The annotated method will be run before the first test method in the current class is invoked.</p>\n</blockquote>\n\n<ul>\n<li>In your case it is <code>setup</code>, it will print <strong>initialized</strong>.</li>\n<li><code>setup</code> will never run again until the same class is reloaded for execution.</li>\n</ul>\n\n<blockquote>\n  <p><code>@AfterClass</code>: The annotated method will be run after all the test methods in the current class have been run.</p>\n</blockquote>\n\n<ul>\n<li>In your case it is <code>tearDown</code>, it will run after all the test methods including all retry attempts in the current class have been run and print <strong>complete</strong>.</li>\n</ul>\n\n<p>Note: <code>retry(ITestResult result)</code> returns true if the <strong>test method has to be retried</strong>, false otherwise. So whether test methods have to be retried or not will be governed by the <code>retry</code> method. Behaviour of <code>@BeforeClass</code> and <code>@AfterClass</code> remains unchanged.</p>\n\n<p>Hope this clarifies.</p>\n"},{"tags":[],"owner":{"account_id":970630,"reputation":955,"user_id":993262,"display_name":"Stephen Hartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469996187,"creation_date":1469996187,"answer_id":38688047,"question_id":38666583,"body_markdown":"The annotations \r\n`org.testng.annotations.BeforeMethod`\r\nand\r\n`org.testng.annotations.AfterMethod` will behave as you require - in other words, run the setup and tear down code before each invocation of the test method, regardless of whether or not it was triggered by a retry. \r\n\r\nFull documentation in the TestNG javadoc for [@BeforeMethod](http://testng.org/javadocs/org/testng/annotations/BeforeMethod.html) and [@AfterMethod](http://testng.org/javadocs/org/testng/annotations/AfterMethod.html).\r\n\r\n","title":"TestNG retry class doesn&#39;t run @BeforeClass nor @AfterClass methods","body":"<p>The annotations \n<code>org.testng.annotations.BeforeMethod</code>\nand\n<code>org.testng.annotations.AfterMethod</code> will behave as you require - in other words, run the setup and tear down code before each invocation of the test method, regardless of whether or not it was triggered by a retry. </p>\n\n<p>Full documentation in the TestNG javadoc for <a href=\"http://testng.org/javadocs/org/testng/annotations/BeforeMethod.html\" rel=\"nofollow\">@BeforeMethod</a> and <a href=\"http://testng.org/javadocs/org/testng/annotations/AfterMethod.html\" rel=\"nofollow\">@AfterMethod</a>.</p>\n"},{"tags":[],"owner":{"account_id":16254149,"reputation":177,"user_id":11737204,"display_name":"MD AFSAR ALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583738985,"creation_date":1583738985,"answer_id":60596248,"question_id":38666583,"body_markdown":"As of now TestNG doesnot support retry of Configuration methods (e.g beforeMethod , beforeTest etc.. ) https://github.com/cbeust/testng/issues/1444\r\n\r\nif configuration method fails tests will skip/fail .\r\n\r\nyou can use some logic to retry your code inside @BeforeMethod or @BeforeTest ..\r\n\r\n\r\n```\r\nint count = 0;\r\nint maxTries = 3;\r\n\r\n@BeforeMethod\r\npublic void beforeMethod(){\r\nwhile(true) {\r\ntry {\r\n// Some Code\r\n// break out of loop, or return, on success\r\n} catch (SomeException e) {\r\n// handle exception\r\nif (++count == maxTries) throw e;\r\n}\r\n}\r\n}\r\n```","title":"TestNG retry class doesn&#39;t run @BeforeClass nor @AfterClass methods","body":"<p>As of now TestNG doesnot support retry of Configuration methods (e.g beforeMethod , beforeTest etc.. ) <a href=\"https://github.com/cbeust/testng/issues/1444\" rel=\"nofollow noreferrer\">https://github.com/cbeust/testng/issues/1444</a></p>\n\n<p>if configuration method fails tests will skip/fail .</p>\n\n<p>you can use some logic to retry your code inside @BeforeMethod or @BeforeTest ..</p>\n\n<pre><code>int count = 0;\nint maxTries = 3;\n\n@BeforeMethod\npublic void beforeMethod(){\nwhile(true) {\ntry {\n// Some Code\n// break out of loop, or return, on success\n} catch (SomeException e) {\n// handle exception\nif (++count == maxTries) throw e;\n}\n}\n}\n</code></pre>\n"}],"owner":{"account_id":4082093,"reputation":195,"user_id":3352335,"accept_rate":50,"display_name":"item5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2086,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38688047,"answer_count":3,"score":0,"last_activity_date":1647212991,"creation_date":1469822256,"question_id":38666583,"body_markdown":"I have a test like this:\r\n\r\n    public class Test1 extends AbstractTest {\r\n\r\n        @Test(retryAnalyzer=Retry.class)\r\n        public void test(){\r\n            System.out.println(this.getClass().getName() + &quot; running.&quot;);\r\n            Assert.fail();\r\n        }\r\n\r\n    }\r\n\r\nWith setup and teardown methods like this:\r\n\r\n    public class AbstractTest {\r\n\r\n        @BeforeClass(alwaysRun = true)\r\n        public void setup() {\r\n            System.out.println(this.getClass().getName() + &quot; initialized&quot;);\r\n        }\r\n\r\n        @AfterClass(alwaysRun = true)\r\n        public void tearDown(){\r\n            System.out.println(this.getClass().getName() + &quot; complete&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nAnd a retry class like this:\r\n\r\n    public class Retry implements IRetryAnalyzer {\r\n\r\n        private int retryCount = 0;\r\n        private int maxRetryCount = 1;\r\n\r\n        public boolean retry(ITestResult result) {\r\n            if (retryCount &lt; maxRetryCount) {\r\n                retryCount++;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\nBut the setup and tearDown methods don&#39;t run before and after the test method despite having set alwaysRun to true.  Here&#39;s some console output:\r\n\r\n    tests.Test1 initialized\r\n    tests.Test1 running.\r\n    tests.Test1 running.\r\n    tests.Test1 complete\r\n\r\nWhy is this?  How can I get them to run each time the test retries?\r\n\r\n","title":"TestNG retry class doesn&#39;t run @BeforeClass nor @AfterClass methods","body":"<p>I have a test like this:</p>\n\n<pre><code>public class Test1 extends AbstractTest {\n\n    @Test(retryAnalyzer=Retry.class)\n    public void test(){\n        System.out.println(this.getClass().getName() + \" running.\");\n        Assert.fail();\n    }\n\n}\n</code></pre>\n\n<p>With setup and teardown methods like this:</p>\n\n<pre><code>public class AbstractTest {\n\n    @BeforeClass(alwaysRun = true)\n    public void setup() {\n        System.out.println(this.getClass().getName() + \" initialized\");\n    }\n\n    @AfterClass(alwaysRun = true)\n    public void tearDown(){\n        System.out.println(this.getClass().getName() + \" complete\");\n    }\n\n}\n</code></pre>\n\n<p>And a retry class like this:</p>\n\n<pre><code>public class Retry implements IRetryAnalyzer {\n\n    private int retryCount = 0;\n    private int maxRetryCount = 1;\n\n    public boolean retry(ITestResult result) {\n        if (retryCount &lt; maxRetryCount) {\n            retryCount++;\n            return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>But the setup and tearDown methods don't run before and after the test method despite having set alwaysRun to true.  Here's some console output:</p>\n\n<pre><code>tests.Test1 initialized\ntests.Test1 running.\ntests.Test1 running.\ntests.Test1 complete\n</code></pre>\n\n<p>Why is this?  How can I get them to run each time the test retries?</p>\n"},{"tags":["java","usb"],"comments":[{"owner":{"account_id":2041731,"reputation":6786,"user_id":1822712,"accept_rate":42,"display_name":"Freak"},"score":0,"creation_date":1374467155,"post_id":17779928,"comment_id":25933801,"body_markdown":"`using Vendor id and product id` .. Sorry?","body":"<code>using Vendor id and product id</code> .. Sorry?"},{"owner":{"account_id":2872926,"reputation":79,"user_id":2465808,"accept_rate":100,"display_name":"Sathiya"},"score":0,"creation_date":1374468739,"post_id":17779928,"comment_id":25934171,"body_markdown":"Normally every usb devices has vendor id and unique product id. By using that we can able to open the device and start read and write operations. @freak","body":"Normally every usb devices has vendor id and unique product id. By using that we can able to open the device and start read and write operations. @freak"},{"owner":{"account_id":2041731,"reputation":6786,"user_id":1822712,"accept_rate":42,"display_name":"Freak"},"score":0,"creation_date":1374469231,"post_id":17779928,"comment_id":25934281,"body_markdown":"You need to do it on windows or linux? Try [java libusb](http://libusbjava.sourceforge.net/wp/)","body":"You need to do it on windows or linux? Try <a href=\"http://libusbjava.sourceforge.net/wp/\" rel=\"nofollow noreferrer\">java libusb</a>"},{"owner":{"account_id":2872926,"reputation":79,"user_id":2465808,"accept_rate":100,"display_name":"Sathiya"},"score":0,"creation_date":1374469966,"post_id":17779928,"comment_id":25934430,"body_markdown":"Ya i already tried LibusbJava to display the connected USB port number but i cannot able to get it.Using jsr 80 i get the connected usb hub number but not the usb port number.@freak","body":"Ya i already tried LibusbJava to display the connected USB port number but i cannot able to get it.Using jsr 80 i get the connected usb hub number but not the usb port number.@freak"},{"owner":{"account_id":2872926,"reputation":79,"user_id":2465808,"accept_rate":100,"display_name":"Sathiya"},"score":0,"creation_date":1374470036,"post_id":17779928,"comment_id":25934452,"body_markdown":"Iam using Windows @freak","body":"Iam using Windows @freak"}],"answers":[{"tags":[],"owner":{"account_id":2041731,"reputation":6786,"user_id":1822712,"accept_rate":42,"display_name":"Freak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1374469671,"creation_date":1374467459,"answer_id":17779997,"question_id":17779928,"body_markdown":"You can list all serial ports by using simple `javax.comm` API&lt;br&gt;\r\n\r\n    import javax.comm.*;\r\n    import java.util.Enumeration;\r\n    \r\n    public class ListPorts {\r\n    public static void main(String args[]) {\r\n    Enumeration ports = CommPortIdentifier.getPortIdentifiers();\r\n    while (ports.hasMoreElements()) {\r\n    CommPortIdentifier port = (CommPortIdentifier)ports.nextElement();\r\n    String type;\r\n    switch (port.getPortType()) {\r\n    case CommPortIdentifier.PORT_SERIAL:\r\n    type = &quot;Serial&quot;; \r\n    break;\r\n    default: /// Shouldn&#39;t happen\r\n    type = &quot;Unknown&quot;; \r\n    break;\r\n    }\r\n    System.out.println(port.getName() + &quot;: &quot; + type);\r\n    }\r\n    }\r\n    }\r\nThe output would be like&lt;br&gt;\r\n\r\n    COM1: Serial\r\n    COM2: Serial\r\n    COM7: Serial\r\n\r\n**EDIT**:\r\nAlso see a good blog on [Creating and using a real-time port monitoring application powered by IBM Lotus](http://www.ibm.com/developerworks/lotus/library/sametime-healthcheck/).&lt;br&gt;\r\nAlso by using jusb [for windows](http://www.steelbrothers.ch/jusb/) , [for linux](http://jusb.sourceforge.net/) you can do read and write operation which you want.you will find a [a example here](http://www.ibm.com/developerworks/library/j-usb/index.html)","title":"How to list the Connected USB Port Number using Vendor id and product id using java","body":"<p>You can list all serial ports by using simple <code>javax.comm</code> API<br></p>\n\n<pre><code>import javax.comm.*;\nimport java.util.Enumeration;\n\npublic class ListPorts {\npublic static void main(String args[]) {\nEnumeration ports = CommPortIdentifier.getPortIdentifiers();\nwhile (ports.hasMoreElements()) {\nCommPortIdentifier port = (CommPortIdentifier)ports.nextElement();\nString type;\nswitch (port.getPortType()) {\ncase CommPortIdentifier.PORT_SERIAL:\ntype = \"Serial\"; \nbreak;\ndefault: /// Shouldn't happen\ntype = \"Unknown\"; \nbreak;\n}\nSystem.out.println(port.getName() + \": \" + type);\n}\n}\n}\n</code></pre>\n\n<p>The output would be like<br></p>\n\n<pre><code>COM1: Serial\nCOM2: Serial\nCOM7: Serial\n</code></pre>\n\n<p><strong>EDIT</strong>:\nAlso see a good blog on <a href=\"http://www.ibm.com/developerworks/lotus/library/sametime-healthcheck/\" rel=\"nofollow\">Creating and using a real-time port monitoring application powered by IBM Lotus</a>.<br>\nAlso by using jusb <a href=\"http://www.steelbrothers.ch/jusb/\" rel=\"nofollow\">for windows</a> , <a href=\"http://jusb.sourceforge.net/\" rel=\"nofollow\">for linux</a> you can do read and write operation which you want.you will find a <a href=\"http://www.ibm.com/developerworks/library/j-usb/index.html\" rel=\"nofollow\">a example here</a></p>\n"},{"tags":[],"owner":{"account_id":24546324,"reputation":1,"user_id":18456123,"display_name":"Hussin Tsouli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647212683,"creation_date":1647196770,"answer_id":71459734,"question_id":17779928,"body_markdown":"I just found an good sulotion to get all ports names in java using [JserialComm.jar][1] library \r\n\r\n    private void getports() {\r\n        ArrayList dataarr = new ArrayList();\r\n        SerialPort[] ar = SerialPort.getCommPorts();\r\n        int i = 0;\r\n        while (i &lt; ar.length) {\r\n            String PortCom = ar[i].getDescriptivePortName();\r\n\r\n            dataarr.add(PortCom);\r\n            ++i;\r\n        }\r\n    }\r\n\r\n  [1]: https://fazecast.github.io/jSerialComm/","title":"How to list the Connected USB Port Number using Vendor id and product id using java","body":"<p>I just found an good sulotion to get all ports names in java using <a href=\"https://fazecast.github.io/jSerialComm/\" rel=\"nofollow noreferrer\">JserialComm.jar</a> library</p>\n<pre><code>private void getports() {\n    ArrayList dataarr = new ArrayList();\n    SerialPort[] ar = SerialPort.getCommPorts();\n    int i = 0;\n    while (i &lt; ar.length) {\n        String PortCom = ar[i].getDescriptivePortName();\n\n        dataarr.add(PortCom);\n        ++i;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2872926,"reputation":79,"user_id":2465808,"accept_rate":100,"display_name":"Sathiya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17779997,"answer_count":2,"score":1,"last_activity_date":1647212683,"creation_date":1374466914,"question_id":17779928,"body_markdown":"What is the best API in java to display the connected USB port number using Vendor id and product id?","title":"How to list the Connected USB Port Number using Vendor id and product id using java","body":"<p>What is the best API in java to display the connected USB port number using Vendor id and product id?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1647208967,"post_id":71461195,"comment_id":126307689,"body_markdown":"`IntStream.range(0, results.size() / 2).mapToObj(i -&gt; results.get(i * 2)).forEach(this::process);`","body":"<code>IntStream.range(0, results.size() &#47; 2).mapToObj(i -&gt; results.get(i * 2)).forEach(this::process);</code>"},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1647210856,"post_id":71461195,"comment_id":126308016,"body_markdown":"@shmosel the above works only with even-sized lists. Try it with [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;] and it will only select &quot;a&quot;.","body":"@shmosel the above works only with even-sized lists. Try it with [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;] and it will only select &quot;a&quot;."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1647211379,"post_id":71461195,"comment_id":126308075,"body_markdown":"@KlitosKyriacou Right, just add 1 to fix.","body":"@KlitosKyriacou Right, just add 1 to fix."}],"answers":[{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647211812,"creation_date":1647209961,"answer_id":71461314,"question_id":71461195,"body_markdown":" ## Based on your update to the question ##\r\n\r\nYou could do something like this:\r\n\r\n```\r\n// even elements\r\nIntStream.range(0, results.size())\r\n                .filter(i -&gt; i % 2 == 0)\r\n                .mapToObj(results::get)\r\n                .forEach(this::process);\r\n\r\n// odd elements\r\nIntStream.range(0, results.size())\r\n                .filter(i -&gt; i % 2 != 0)\r\n                .mapToObj(results::get)\r\n                .forEach(this::process);\r\n\r\n```","title":"iterate through only even/odd items with Java lambda","body":"<h2>Based on your update to the question</h2>\n<p>You could do something like this:</p>\n<pre><code>// even elements\nIntStream.range(0, results.size())\n                .filter(i -&gt; i % 2 == 0)\n                .mapToObj(results::get)\n                .forEach(this::process);\n\n// odd elements\nIntStream.range(0, results.size())\n                .filter(i -&gt; i % 2 != 0)\n                .mapToObj(results::get)\n                .forEach(this::process);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647211354,"creation_date":1647211354,"answer_id":71461432,"question_id":71461195,"body_markdown":"An alternative could be to use `Stream.iterate`\r\n\r\n    IntStream.iterate(0, i -&gt; i &lt; results.size(), i -&gt; i+2)\r\n             .mapToObj(i -&gt; results.get(i))\r\n             .forEach(this::process);\r\n\r\n    IntStream.iterate(1, i -&gt; i &lt; results.size(), i -&gt; i+2)\r\n             .mapToObj(i -&gt; results.get(i))\r\n             .forEach(this::process);\r\n\r\nUse `YourClass::process` if `process` a static method. ","title":"iterate through only even/odd items with Java lambda","body":"<p>An alternative could be to use <code>Stream.iterate</code></p>\n<pre><code>IntStream.iterate(0, i -&gt; i &lt; results.size(), i -&gt; i+2)\n         .mapToObj(i -&gt; results.get(i))\n         .forEach(this::process);\n\nIntStream.iterate(1, i -&gt; i &lt; results.size(), i -&gt; i+2)\n         .mapToObj(i -&gt; results.get(i))\n         .forEach(this::process);\n</code></pre>\n<p>Use <code>YourClass::process</code> if <code>process</code> a static method.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1647211812,"creation_date":1647208786,"question_id":71461195,"body_markdown":"I have a list that contains computed values and I can not change or transform the list to e.g. Map. I need to iterate through this list and get all the odd/even items. To do this with the old fashion Java `for loop` is quite easy.\r\n\r\n**Let&#39;s say that I have this list:** \r\n\r\n    var results = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;);\r\n\r\n**Get all odd items:**\r\n\r\n    for (int i = 0; i &lt; results.size(); i += 2) {\r\n        var current = results.get(i);\r\n        process(current);\r\n    }\r\n\r\n**Get all even items:**\r\n\r\n    for (int i = 1; i &lt; results.size(); i += 2) {\r\n        var current = results.get(i);\r\n        process(current);\r\n    }\r\n\r\n\r\nCan I get somehow the same result with lambda `forEach()` easily in one line?\r\n\r\n\r\n**&gt;UPDATE&lt;**\r\n\r\nSorry for this, but I forgot to mention that the values actually are not numbers like 1, 2, 3, etc. I just used these values as an example. The solution must not rely on the value of the items.","title":"iterate through only even/odd items with Java lambda","body":"<p>I have a list that contains computed values and I can not change or transform the list to e.g. Map. I need to iterate through this list and get all the odd/even items. To do this with the old fashion Java <code>for loop</code> is quite easy.</p>\n<p><strong>Let's say that I have this list:</strong></p>\n<pre><code>var results = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;);\n</code></pre>\n<p><strong>Get all odd items:</strong></p>\n<pre><code>for (int i = 0; i &lt; results.size(); i += 2) {\n    var current = results.get(i);\n    process(current);\n}\n</code></pre>\n<p><strong>Get all even items:</strong></p>\n<pre><code>for (int i = 1; i &lt; results.size(); i += 2) {\n    var current = results.get(i);\n    process(current);\n}\n</code></pre>\n<p>Can I get somehow the same result with lambda <code>forEach()</code> easily in one line?</p>\n<p><strong>&gt;UPDATE&lt;</strong></p>\n<p>Sorry for this, but I forgot to mention that the values actually are not numbers like 1, 2, 3, etc. I just used these values as an example. The solution must not rely on the value of the items.</p>\n"},{"tags":["java","javafx","binding"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1647175481,"post_id":71454586,"comment_id":126300196,"body_markdown":"[mcve] please .. including the complete stacktrace","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. including the complete stacktrace"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1647175979,"post_id":71454586,"comment_id":126300314,"body_markdown":"I&#39;m curious what the orcs are.","body":"I&#39;m curious what the orcs are."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1647193078,"post_id":71454586,"comment_id":126304358,"body_markdown":"Wouldn’t this always just throw null pointer exceptions? You never initialize `value`.","body":"Wouldn’t this always just throw null pointer exceptions? You never initialize <code>value</code>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1647193169,"post_id":71454586,"comment_id":126304378,"body_markdown":"Sadly, orcs were once elves, now imprisoned in an `ObservableList`; even so, their `valor` still requires a `BigDecimal`.","body":"Sadly, orcs were once elves, now imprisoned in an <code>ObservableList</code>; even so, their <code>valor</code> still requires a <code>BigDecimal</code>."},{"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"score":0,"creation_date":1647194129,"post_id":71454586,"comment_id":126304618,"body_markdown":"I&#39;m sure there was actually a reason for me to name it &quot;orc&quot;. It was 4 A.M tho, so I have no idea anymore","body":"I&#39;m sure there was actually a reason for me to name it &quot;orc&quot;. It was 4 A.M tho, so I have no idea anymore"}],"answers":[{"tags":[],"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647193990,"creation_date":1647193990,"answer_id":71459355,"question_id":71454586,"body_markdown":"Always remember to initialize your variable folks:\r\n```\r\nLabel valueFinalLabel = new Label(&quot;some text&quot;);\r\n```\r\nI may write another question to ask about the product of two fields, which was my initial objective\r\n\r\nWhere is a complete sample for anyone who stumble here:\r\n```\r\npublic class Main extends Application{\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\t\r\n\t\tObservableList&lt;Itens&gt; orc = FXCollections.observableArrayList();\r\n\t\tLabel label = new Label(&quot;0.00&quot;);\r\n\r\n\t\tlabel.textProperty().bind( // this gets NullPointerException\r\n\t\t                Bindings.createObjectBinding(() -&gt;{ \r\n\t\t                if(orc==null || orc.isEmpty())\r\n\t\t                    return BigDecimal.ZERO; // case orc is empty\r\n\t\t                else\r\n\t\t                    return orc.stream().map(i-&gt;i.getValue()).reduce(BigDecimal.ZERO,BigDecimal::add);},\r\n\t\t                        \r\n\t\t                orc).asString()\r\n        );\r\n\t\t\r\n\t\tButton btn = new Button(&quot;add stuff&quot;);\r\n\t\tbtn.setOnAction(e-&gt;{\r\n\t\t\torc.addAll(new Itens(&quot;1&quot;),new Itens(&quot;2&quot;),new Itens(&quot;3&quot;),new Itens(&quot;4&quot;),new Itens(&quot;5&quot;));\r\n\t\t});\r\n\t\t\r\n\t\tVBox vbox = new VBox();\r\n\t\tvbox.getChildren().addAll(label,btn);\r\n\t\tScene scene = new Scene(vbox);\r\n\t\tprimaryStage = new Stage();\r\n\t\tprimaryStage.setScene(scene);\r\n\t\tprimaryStage.setWidth(200);\r\n\t\tprimaryStage.setHeight(200);\r\n\t\tprimaryStage.show();\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n```\r\npublic class Itens {\r\n\t\r\n\tprivate SimpleObjectProperty&lt;BigDecimal&gt; value;\r\n\tItens(String v){\r\n\t\tvalue = new SimpleObjectProperty&lt;BigDecimal&gt;(new BigDecimal(v));\r\n\t}\r\n    public BigDecimal getValue() {\r\n        return value.get();\r\n    }\r\n    public void setValue(BigDecimal b){\r\n    \tvalue.set(b);\r\n    }\r\n    public SimpleObjectProperty&lt;BigDecimal&gt; valueProperty(){\r\n        return value;\r\n    }\r\n}\r\n```","title":"Binding the sum of an observableList of BigDecimals to a Label","body":"<p>Always remember to initialize your variable folks:</p>\n<pre><code>Label valueFinalLabel = new Label(&quot;some text&quot;);\n</code></pre>\n<p>I may write another question to ask about the product of two fields, which was my initial objective</p>\n<p>Where is a complete sample for anyone who stumble here:</p>\n<pre><code>public class Main extends Application{\n    @Override\n    public void start(Stage primaryStage) {\n        \n        ObservableList&lt;Itens&gt; orc = FXCollections.observableArrayList();\n        Label label = new Label(&quot;0.00&quot;);\n\n        label.textProperty().bind( // this gets NullPointerException\n                        Bindings.createObjectBinding(() -&gt;{ \n                        if(orc==null || orc.isEmpty())\n                            return BigDecimal.ZERO; // case orc is empty\n                        else\n                            return orc.stream().map(i-&gt;i.getValue()).reduce(BigDecimal.ZERO,BigDecimal::add);},\n                                \n                        orc).asString()\n        );\n        \n        Button btn = new Button(&quot;add stuff&quot;);\n        btn.setOnAction(e-&gt;{\n            orc.addAll(new Itens(&quot;1&quot;),new Itens(&quot;2&quot;),new Itens(&quot;3&quot;),new Itens(&quot;4&quot;),new Itens(&quot;5&quot;));\n        });\n        \n        VBox vbox = new VBox();\n        vbox.getChildren().addAll(label,btn);\n        Scene scene = new Scene(vbox);\n        primaryStage = new Stage();\n        primaryStage.setScene(scene);\n        primaryStage.setWidth(200);\n        primaryStage.setHeight(200);\n        primaryStage.show();\n        }\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<pre><code>public class Itens {\n    \n    private SimpleObjectProperty&lt;BigDecimal&gt; value;\n    Itens(String v){\n        value = new SimpleObjectProperty&lt;BigDecimal&gt;(new BigDecimal(v));\n    }\n    public BigDecimal getValue() {\n        return value.get();\n    }\n    public void setValue(BigDecimal b){\n        value.set(b);\n    }\n    public SimpleObjectProperty&lt;BigDecimal&gt; valueProperty(){\n        return value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647196766,"creation_date":1647196766,"answer_id":71459733,"question_id":71454586,"body_markdown":"You have a few issues with the `Itens` class:\r\n\r\n - You never initialize `value`.\r\n - The method `valueProperty(BigDecimal b)` must return\r\n   `ObjectProperty&lt;BigDecimal&gt;` instead of `void`.\r\n - You have a typo in method `getValue()`, instead of returning `value.get()` you are returning `valor.get()`.\r\n\r\n```\r\nclass Itens {\r\n\r\n    private final ObjectProperty&lt;BigDecimal&gt; value = \r\n            new SimpleObjectProperty&lt;&gt;(this, &quot;value&quot;);\r\n\r\n    Itens(BigDecimal value) {\r\n        this.value.set(value);\r\n    }\r\n\r\n    public BigDecimal getValue() {\r\n        return valueProperty().get();\r\n    }\r\n    public void setValue(BigDecimal value){\r\n        valueProperty().set(value);\r\n    }\r\n    public ObjectProperty&lt;BigDecimal&gt; valueProperty(){\r\n        return value;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAlso, you never initialize the `Label`. \r\n\r\nFinally, you can improve your `Bindings`:\r\n\r\n - You can create a `StringBinding` directly instead of creating an\r\n   `ObjectBinding` and then creating `StringBinding`.\r\n - `orc` is never `null`, so you don&#39;t need to\r\n   check for `null`.\r\n - You don&#39;t need to check for `orc.isEmpty()` because when you reduce\r\n   the `stream` you are supplying an identity `BigDecimal.ZERO\r\n\r\n```\r\nLabel valueFinalLabel = new Label();\r\n\r\nObservableList&lt;Itens&gt; orc = FXCollections.observableArrayList(\r\n        obs -&gt; new Observable[] {obs.valueProperty()});\r\n\r\nvalueFinalLabel.textProperty().bind(\r\n        Bindings.createStringBinding(() -&gt; orc.stream()\r\n                .filter(Objects::nonNull)\r\n                .map(Itens::getValue)\r\n                .reduce(BigDecimal.ZERO, BigDecimal::add).toString(), orc));\r\n```\r\n\r\nTest:\r\n\r\n```\r\nvalueFinalLabel.textProperty().addListener((obs, oldVal, newVal) -&gt; \r\n        System.out.println(String.format(&quot;Label change from %s to %s&quot;, \r\n                oldVal, newVal)));\r\n\r\nItens i1 = new Itens(BigDecimal.valueOf(1));\r\nItens i2 = new Itens(BigDecimal.valueOf(2));\r\nItens i3 = new Itens(BigDecimal.valueOf(3));\r\n\r\norc.add(i1);\r\norc.add(i2);\r\norc.add(i3);\r\n\r\ni1.setValue(BigDecimal.valueOf(4));\r\n```\r\n\r\nOutput:\r\n```\r\nLabel change from 0 to 1\r\nLabel change from 1 to 3\r\nLabel change from 3 to 6\r\nLabel change from 6 to 9\r\n```","title":"Binding the sum of an observableList of BigDecimals to a Label","body":"<p>You have a few issues with the <code>Itens</code> class:</p>\n<ul>\n<li>You never initialize <code>value</code>.</li>\n<li>The method <code>valueProperty(BigDecimal b)</code> must return\n<code>ObjectProperty&lt;BigDecimal&gt;</code> instead of <code>void</code>.</li>\n<li>You have a typo in method <code>getValue()</code>, instead of returning <code>value.get()</code> you are returning <code>valor.get()</code>.</li>\n</ul>\n<pre><code>class Itens {\n\n    private final ObjectProperty&lt;BigDecimal&gt; value = \n            new SimpleObjectProperty&lt;&gt;(this, &quot;value&quot;);\n\n    Itens(BigDecimal value) {\n        this.value.set(value);\n    }\n\n    public BigDecimal getValue() {\n        return valueProperty().get();\n    }\n    public void setValue(BigDecimal value){\n        valueProperty().set(value);\n    }\n    public ObjectProperty&lt;BigDecimal&gt; valueProperty(){\n        return value;\n    }\n\n}\n</code></pre>\n<p>Also, you never initialize the <code>Label</code>.</p>\n<p>Finally, you can improve your <code>Bindings</code>:</p>\n<ul>\n<li>You can create a <code>StringBinding</code> directly instead of creating an\n<code>ObjectBinding</code> and then creating <code>StringBinding</code>.</li>\n<li><code>orc</code> is never <code>null</code>, so you don't need to\ncheck for <code>null</code>.</li>\n<li>You don't need to check for <code>orc.isEmpty()</code> because when you reduce\nthe <code>stream</code> you are supplying an identity `BigDecimal.ZERO</li>\n</ul>\n<pre><code>Label valueFinalLabel = new Label();\n\nObservableList&lt;Itens&gt; orc = FXCollections.observableArrayList(\n        obs -&gt; new Observable[] {obs.valueProperty()});\n\nvalueFinalLabel.textProperty().bind(\n        Bindings.createStringBinding(() -&gt; orc.stream()\n                .filter(Objects::nonNull)\n                .map(Itens::getValue)\n                .reduce(BigDecimal.ZERO, BigDecimal::add).toString(), orc));\n</code></pre>\n<p>Test:</p>\n<pre><code>valueFinalLabel.textProperty().addListener((obs, oldVal, newVal) -&gt; \n        System.out.println(String.format(&quot;Label change from %s to %s&quot;, \n                oldVal, newVal)));\n\nItens i1 = new Itens(BigDecimal.valueOf(1));\nItens i2 = new Itens(BigDecimal.valueOf(2));\nItens i3 = new Itens(BigDecimal.valueOf(3));\n\norc.add(i1);\norc.add(i2);\norc.add(i3);\n\ni1.setValue(BigDecimal.valueOf(4));\n</code></pre>\n<p>Output:</p>\n<pre><code>Label change from 0 to 1\nLabel change from 1 to 3\nLabel change from 3 to 6\nLabel change from 6 to 9\n</code></pre>\n"}],"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":71459733,"answer_count":2,"score":1,"last_activity_date":1647211237,"creation_date":1647155452,"question_id":71454586,"body_markdown":"I need to get two specific fields of every object inside an ObservableList, multiply them and get the sum of all their products. I also need to keep the sum updated\r\n\r\nFor now I&#39;m trying to get the sum of only one of those fields first (just because its easier and might help me to understand what is happening).\r\n\r\nI have discovered:\r\n\r\n * https://stackoverflow.com/questions/61855785/how-to-bind-an-objectbindingbigdecimal-to-a-label-with-a-formatter\r\n\r\nwhich is almost what I&#39;m trying to do. However, applying the same code will throw a NullPointerException. Which I assume it&#39;s because there was more behind the scene.\r\n\r\nAlso, according to:\r\n\r\n * https://stackoverflow.com/questions/46300540/javafx-how-to-make-a-binding-to-a-list-of-properties\r\n\r\nthe observableList needs to have and **extractor** so it can track the updates of the required field on each element. \r\n\r\nHere is what I tried, only ONE field first!!:\r\n\r\n    // Graphical stuff\r\n    void createExempleMenu(){\r\n    \r\n    ObservableList&lt;Itens&gt; orc = FXCollections.observableArrayList(o -&gt; new Observable[] {o.valueProperty()});\r\n    Label valueFinalLabel;\r\n    \r\n    valueFinalLabel.textProperty().bind( // this gets NullPointerException\r\n    \t\t\t\tBindings.createObjectBinding(() -&gt;{ \r\n    \t\t\t\tif(orc==null || orc.isEmpty())\r\n    \t\t\t\t\treturn BigDecimal.ZERO; // case orc is empty\r\n    \t\t\t\telse\r\n    \t\t\t\t\treturn orc.stream().map(i-&gt;i.getValue()).reduce(BigDecimal.ZERO,BigDecimal::add);},\r\n    \t\t\t\t\t\t\r\n    \t\t\t\torc).asString()\r\n    \t\t);\r\n    }\r\n\r\n----\r\n\r\n    // item\r\n    class Itens {\r\n    \tprivate ObjectProperty&lt;BigDecimal&gt; value;\r\n    \tpublic BigDecimal getValue() {\r\n    \t\treturn value.get();\r\n    \t}\r\n    \tpublic void setValue(BigDecimal b){\r\n    \t\tvalue.set(b);\r\n    \t}\r\n    \tpublic void valueProperty(BigDecimal b){\r\n    \t\treturn value;\r\n    \t}\r\n    }\r\n","title":"Binding the sum of an observableList of BigDecimals to a Label","body":"<p>I need to get two specific fields of every object inside an ObservableList, multiply them and get the sum of all their products. I also need to keep the sum updated</p>\n<p>For now I'm trying to get the sum of only one of those fields first (just because its easier and might help me to understand what is happening).</p>\n<p>I have discovered:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/61855785/how-to-bind-an-objectbindingbigdecimal-to-a-label-with-a-formatter\">How to bind an ObjectBinding&lt;BigDecimal&gt; to a Label with a Formatter?</a></li>\n</ul>\n<p>which is almost what I'm trying to do. However, applying the same code will throw a NullPointerException. Which I assume it's because there was more behind the scene.</p>\n<p>Also, according to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46300540/javafx-how-to-make-a-binding-to-a-list-of-properties\">Javafx How to make a Binding to a list of Properties</a></li>\n</ul>\n<p>the observableList needs to have and <strong>extractor</strong> so it can track the updates of the required field on each element.</p>\n<p>Here is what I tried, only ONE field first!!:</p>\n<pre><code>// Graphical stuff\nvoid createExempleMenu(){\n\nObservableList&lt;Itens&gt; orc = FXCollections.observableArrayList(o -&gt; new Observable[] {o.valueProperty()});\nLabel valueFinalLabel;\n\nvalueFinalLabel.textProperty().bind( // this gets NullPointerException\n                Bindings.createObjectBinding(() -&gt;{ \n                if(orc==null || orc.isEmpty())\n                    return BigDecimal.ZERO; // case orc is empty\n                else\n                    return orc.stream().map(i-&gt;i.getValue()).reduce(BigDecimal.ZERO,BigDecimal::add);},\n                        \n                orc).asString()\n        );\n}\n</code></pre>\n<hr />\n<pre><code>// item\nclass Itens {\n    private ObjectProperty&lt;BigDecimal&gt; value;\n    public BigDecimal getValue() {\n        return value.get();\n    }\n    public void setValue(BigDecimal b){\n        value.set(b);\n    }\n    public void valueProperty(BigDecimal b){\n        return value;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","http"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1647211231,"post_id":71455987,"comment_id":126308059,"body_markdown":"It&#39;s always helpful to include the actual error message: `java.util.zip.ZipException: Not in GZIP format` in this case. (Not only does it give a strong clue as to where the problem lies, it also helps people with related problems find your question.)","body":"It&#39;s always helpful to include the actual error message: <code>java.util.zip.ZipException: Not in GZIP format</code> in this case. (Not only does it give a strong clue as to where the problem lies, it also helps people with related problems find your question.)"}],"answers":[{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647210948,"creation_date":1647210948,"answer_id":71461394,"question_id":71455987,"body_markdown":"It looks like you&#39;re confusing [zip](https://en.wikipedia.org/wiki/ZIP_(file_format)) (an archive format that supports compression) with [gzip](https://en.wikipedia.org/wiki/Gzip) (a simple compressed format).\r\n\r\nDownloading https://donnees.roulez-eco.fr/opendata/instantane (e.g. with `curl`) and checking the result shows that it&#39;s a zip archive (containing a single file, `PrixCarburants_instantane.xml`).\r\n\r\nBut you&#39;re trying to decode it as a gzip stream (with [`GZIPInputStream`](https://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html)), which it&#39;s not — hence your issue.\r\n\r\nReading a zip file is slightly more involved than reading a gzip file, because it can hold multiple compressed files. But [`ZipInputStream`](https://docs.oracle.com/javase/8/docs/api/index.html?java/util/zip/ZipInputStream.html) makes it fairly easy: you can read the first zip entry (which has metadata including its uncompressed size), and then go on to read the actual data in that entry.\r\n\r\nA further complication is that this particular compressed file seems to use ISO 8859-1 encoding, not the usual UTF-8. So you need to take that into account when converting the byte stream into text.\r\n\r\nHere&#39;s some example code:\r\n\r\n    val zipStream = ZipInputStream(con.inputStream)\r\n    val entry = zipStream.nextEntry\r\n    \r\n    val reader = InputStreamReader(zipStream, Charset.forName(&quot;ISO-8859-1&quot;))\r\n    for (i in 1..entry.size)\r\n        print(reader.read().toChar())\r\n\r\nObviously, reading and printing the entire 11MB file one character at a time is not very efficient! And if there&#39;s any possibility that the zip archive could have multiple entries, you&#39;d have to read through them all, stopping when you get to the one with the right name. But I hope this is a good illustration.","title":"Cannot unzip nor get blob from HTTP Response","body":"<p>It looks like you're confusing <a href=\"https://en.wikipedia.org/wiki/ZIP_(file_format)\" rel=\"nofollow noreferrer\">zip</a> (an archive format that supports compression) with <a href=\"https://en.wikipedia.org/wiki/Gzip\" rel=\"nofollow noreferrer\">gzip</a> (a simple compressed format).</p>\n<p>Downloading <a href=\"https://donnees.roulez-eco.fr/opendata/instantane\" rel=\"nofollow noreferrer\">https://donnees.roulez-eco.fr/opendata/instantane</a> (e.g. with <code>curl</code>) and checking the result shows that it's a zip archive (containing a single file, <code>PrixCarburants_instantane.xml</code>).</p>\n<p>But you're trying to decode it as a gzip stream (with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"nofollow noreferrer\"><code>GZIPInputStream</code></a>), which it's not — hence your issue.</p>\n<p>Reading a zip file is slightly more involved than reading a gzip file, because it can hold multiple compressed files. But <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/zip/ZipInputStream.html\" rel=\"nofollow noreferrer\"><code>ZipInputStream</code></a> makes it fairly easy: you can read the first zip entry (which has metadata including its uncompressed size), and then go on to read the actual data in that entry.</p>\n<p>A further complication is that this particular compressed file seems to use ISO 8859-1 encoding, not the usual UTF-8. So you need to take that into account when converting the byte stream into text.</p>\n<p>Here's some example code:</p>\n<pre><code>val zipStream = ZipInputStream(con.inputStream)\nval entry = zipStream.nextEntry\n\nval reader = InputStreamReader(zipStream, Charset.forName(&quot;ISO-8859-1&quot;))\nfor (i in 1..entry.size)\n    print(reader.read().toChar())\n</code></pre>\n<p>Obviously, reading and printing the entire 11MB file one character at a time is not very efficient! And if there's any possibility that the zip archive could have multiple entries, you'd have to read through them all, stopping when you get to the one with the right name. But I hope this is a good illustration.</p>\n"}],"owner":{"account_id":11527358,"reputation":49,"user_id":8447397,"display_name":"Toto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71461394,"answer_count":1,"score":0,"last_activity_date":1647210948,"creation_date":1647168671,"question_id":71455987,"body_markdown":"I am trying to unzip a file that is in a &quot;response&quot; of a HTTP Request.\r\nMy point is that after receiving the response I cannot unzip it nor make it to a blob to parse it afterward.\r\nThe zip will always return a xml and the idea after the file is unzipped, is to transform the XML to a JSON.\r\n\r\nHere is the code I tried:\r\n\r\n    val client = HttpClient.newBuilder().build();\r\n    val request = HttpRequest.newBuilder()\r\n        .uri(URI.create(&quot;https://donnees.roulez-eco.fr/opendata/instantane&quot;))\r\n        .build();\r\n\r\n    val response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\nThen the response.body() is just unreadable and I did not find a proper way to make it to a blob\r\n\r\nThe other code I used for unzipping directly is this one:\r\n\r\n    val url = URL(&quot;https://donnees.roulez-eco.fr/opendata/instantane&quot;)\r\n    val con = url.openConnection() as HttpURLConnection\r\n    con.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)\r\n    println(&quot;Length : &quot; + con.contentLength)\r\n\r\n    var reader: Reader? = null\r\n    reader = InputStreamReader(GZIPInputStream(con.inputStream))\r\n\r\n    while (true) {\r\n        val ch: Int = reader.read()\r\n        if (ch == -1) {\r\n            break\r\n        }\r\n        print(ch.toChar())\r\n    }\r\n\r\nBut in this case, it won&#39;t accept the gzip\r\n\r\nAny idea?","title":"Cannot unzip nor get blob from HTTP Response","body":"<p>I am trying to unzip a file that is in a &quot;response&quot; of a HTTP Request.\nMy point is that after receiving the response I cannot unzip it nor make it to a blob to parse it afterward.\nThe zip will always return a xml and the idea after the file is unzipped, is to transform the XML to a JSON.</p>\n<p>Here is the code I tried:</p>\n<pre><code>val client = HttpClient.newBuilder().build();\nval request = HttpRequest.newBuilder()\n    .uri(URI.create(&quot;https://donnees.roulez-eco.fr/opendata/instantane&quot;))\n    .build();\n\nval response = client.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>Then the response.body() is just unreadable and I did not find a proper way to make it to a blob</p>\n<p>The other code I used for unzipping directly is this one:</p>\n<pre><code>val url = URL(&quot;https://donnees.roulez-eco.fr/opendata/instantane&quot;)\nval con = url.openConnection() as HttpURLConnection\ncon.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip&quot;)\nprintln(&quot;Length : &quot; + con.contentLength)\n\nvar reader: Reader? = null\nreader = InputStreamReader(GZIPInputStream(con.inputStream))\n\nwhile (true) {\n    val ch: Int = reader.read()\n    if (ch == -1) {\n        break\n    }\n    print(ch.toChar())\n}\n</code></pre>\n<p>But in this case, it won't accept the gzip</p>\n<p>Any idea?</p>\n"},{"tags":["java","spring","model-view-controller","controller"],"comments":[{"owner":{"account_id":5561757,"reputation":3096,"user_id":4410674,"display_name":"Nick Bailey"},"score":0,"creation_date":1647124935,"post_id":71453248,"comment_id":126294407,"body_markdown":"Seems like a use case for generics, e.g. a Result&lt;T&gt; that has a value of type T and an error object of some sort.","body":"Seems like a use case for generics, e.g. a Result&lt;T&gt; that has a value of type T and an error object of some sort."},{"owner":{"account_id":24538876,"reputation":15,"user_id":18449526,"display_name":"gandhix"},"score":0,"creation_date":1647199656,"post_id":71453248,"comment_id":126305822,"body_markdown":"I have resorted to using a hybrid of the two techniques offered on this question.  Thank you for your suggestion.","body":"I have resorted to using a hybrid of the two techniques offered on this question.  Thank you for your suggestion."}],"answers":[{"tags":[],"owner":{"account_id":24537002,"reputation":26,"user_id":18447954,"display_name":"Lucas C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647210495,"creation_date":1647128118,"answer_id":71453405,"question_id":71453248,"body_markdown":"I think the best approach would be to throw a custom exception and then use a class annotated with \r\n\r\n&gt; @ControllerAdvice\r\n\r\nto deal with that exception and make it return a ResponseEntity customized according to your needs. This way the line\r\n\r\n&gt;  return data;\r\n\r\nwill only occur if there are no exceptions\r\n\r\n","title":"Controller advice in Spring MVC","body":"<p>I think the best approach would be to throw a custom exception and then use a class annotated with</p>\n<blockquote>\n<p>@ControllerAdvice</p>\n</blockquote>\n<p>to deal with that exception and make it return a ResponseEntity customized according to your needs. This way the line</p>\n<blockquote>\n<p>return data;</p>\n</blockquote>\n<p>will only occur if there are no exceptions</p>\n"}],"owner":{"account_id":24538876,"reputation":15,"user_id":18449526,"display_name":"gandhix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71453405,"answer_count":1,"score":0,"last_activity_date":1647210495,"creation_date":1647124681,"question_id":71453248,"body_markdown":"I have some problems regarding Controller usage in Spring.\r\n\r\nPreferably, I would like to keep the Controller methods small and simply use them to call a Service function as follows:\r\n\r\n    @Controller\r\n    class controllerClass {\r\n        @RequestMapping(&quot;/foo/&quot;)\r\n        public void foo(Model model) {\r\n            Data returnedData = fooServiceFunction();\r\n            model.addAttribute(&quot;data&quot;, returnedData);\r\n        }\r\n    }\r\n\r\n    @Service\r\n    class serviceClass {\r\n        fooServiceFunction() {\r\n            Data data = methodCall();\r\n            methodCall2();\r\n            methodCall3();\r\n\r\n            return data;\r\n        }\r\n    }\r\n\r\nHowever, in practise I have found this implementation difficult because I have found myself needing to check if the methods called from within the fooServiceFunction() succeeded or failed.  I have been returning a custom &#39;Status&#39; class from these functions which is passed to the controller to signal if the methods have executed successfully and/or any errors that have occurred (validation errors, etc.).\r\n\r\nNow, this is fine if I do not need to return any data.  But if I want to return data from the Service function and pass it to the Controller, this would mean I would need to make a custom class for EVERY Controller method which would contain:\r\n\r\n    a) the data.\r\n    b) the success status\r\n\r\nwhich just seems unreasonable.\r\n\r\nI have considered just throwing Exceptions to indicate a failure, but this doesn&#39;t seem proper.\r\n\r\nIs there a better way?  What is the optimal way to handle these situations?  Or should I just write fat Controller methods that implement more of the application/business logic?\r\n\r\nThank you.","title":"Controller advice in Spring MVC","body":"<p>I have some problems regarding Controller usage in Spring.</p>\n<p>Preferably, I would like to keep the Controller methods small and simply use them to call a Service function as follows:</p>\n<pre><code>@Controller\nclass controllerClass {\n    @RequestMapping(&quot;/foo/&quot;)\n    public void foo(Model model) {\n        Data returnedData = fooServiceFunction();\n        model.addAttribute(&quot;data&quot;, returnedData);\n    }\n}\n\n@Service\nclass serviceClass {\n    fooServiceFunction() {\n        Data data = methodCall();\n        methodCall2();\n        methodCall3();\n\n        return data;\n    }\n}\n</code></pre>\n<p>However, in practise I have found this implementation difficult because I have found myself needing to check if the methods called from within the fooServiceFunction() succeeded or failed.  I have been returning a custom 'Status' class from these functions which is passed to the controller to signal if the methods have executed successfully and/or any errors that have occurred (validation errors, etc.).</p>\n<p>Now, this is fine if I do not need to return any data.  But if I want to return data from the Service function and pass it to the Controller, this would mean I would need to make a custom class for EVERY Controller method which would contain:</p>\n<pre><code>a) the data.\nb) the success status\n</code></pre>\n<p>which just seems unreasonable.</p>\n<p>I have considered just throwing Exceptions to indicate a failure, but this doesn't seem proper.</p>\n<p>Is there a better way?  What is the optimal way to handle these situations?  Or should I just write fat Controller methods that implement more of the application/business logic?</p>\n<p>Thank you.</p>\n"},{"tags":["java","arrays","multidimensional-array","constructor","initialization"],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637684215,"creation_date":1637683107,"answer_id":70083970,"question_id":70083814,"body_markdown":"You have to look in more detail at the logic for initializing the array. It&#39;s -1 if the index doesn&#39;t exist; otherwise it will be the value at the i-j index. So you have to see if the array has at least the i-th row. If it doesn&#39;t, you know right away that for a given (i,j) you&#39;ve got -1. If it does have at least the i-th row, does it have the j-th element? If no, -1 again. Otherwise it&#39;s the i-j-th element of the array.\r\n\r\n    private int[][] square3x3;\r\n\r\n    public Square3x3(int[][] array) {\r\n        final int dim = 3;\r\n        final int defVal = -1;\r\n        square3x3 = new int[dim][dim];\r\n        for (int i = 0; i &lt; dim; i++) {\r\n            for (int j = 0; j &lt; dim; j++) {\r\n                final int val;\r\n                if (array.length &lt; (i + 1)) {\r\n                    val = defVal;\r\n                } else {\r\n                    if (array[i].length &lt; (j + 1)) {\r\n                        val = defVal;\r\n                    } else {\r\n                        val = array[i][j];\r\n                    }\r\n                }\r\n                square3x3[i][j] = val;\r\n            }\r\n        }\r\n    }","title":"2d array constructor that take array less equals or more than 3x3","body":"<p>You have to look in more detail at the logic for initializing the array. It's -1 if the index doesn't exist; otherwise it will be the value at the i-j index. So you have to see if the array has at least the i-th row. If it doesn't, you know right away that for a given (i,j) you've got -1. If it does have at least the i-th row, does it have the j-th element? If no, -1 again. Otherwise it's the i-j-th element of the array.</p>\n<pre><code>private int[][] square3x3;\n\npublic Square3x3(int[][] array) {\n    final int dim = 3;\n    final int defVal = -1;\n    square3x3 = new int[dim][dim];\n    for (int i = 0; i &lt; dim; i++) {\n        for (int j = 0; j &lt; dim; j++) {\n            final int val;\n            if (array.length &lt; (i + 1)) {\n                val = defVal;\n            } else {\n                if (array[i].length &lt; (j + 1)) {\n                    val = defVal;\n                } else {\n                    val = array[i][j];\n                }\n            }\n            square3x3[i][j] = val;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637835543,"creation_date":1637686968,"answer_id":70084908,"question_id":70083814,"body_markdown":"1. Construct a result array of 3x3 size and fill it with -1.\r\n2. Copy the values from the input array as necessary, selecting a minimal value of 3 and rows/columns of the input array.\r\n\r\n```\r\nprivate int[][] square3x3 = {\r\n    {-1, -1, -1},\r\n    {-1, -1, -1},\r\n    {-1, -1, -1}\r\n};\r\n\r\npublic Square3x3(int[][] array) {\r\n    for (int i = 0, n = Math.min(3, array == null ? -1 : array.length); i &lt; n; i++) {\r\n        for(int j = 0, m = Math.min(3, array[i] == null ? -1 : array[i].length); j &lt; m; j++) {\r\n            square3x3[i][j] = array[i][j];\r\n        }\r\n    }\r\n}\r\n```\r\nSo, if the dimensions of the input `array` are less than 3x3, the prepopulated values of -1 will be used when copying the values.\r\n\r\nTests:\r\n```java\r\nSquare3x3 sq = new Square3x3(new int[3][2]); // input 2D arr initialized with 0\r\n        \r\nSystem.out.println(Arrays.deepToString(sq.square3x3));\r\n\r\n// jagged input\r\nsq = new Square3x3(new int[][]{{1, 2}, {3}, {4, 5, 6}});\r\nSystem.out.println(Arrays.deepToString(sq.square3x3));\r\n// input with nulls\r\nmc = new MyClass(new int[][]{{1, 2}, null, {3}});\r\nSystem.out.println(Arrays.deepToString(mc.square3x3));\r\n```\r\nOutput:\r\n```\r\n[[0, 0, -1], [0, 0, -1], [0, 0, -1]]\r\n[[1, 2, -1], [3, -1, -1], [4, 5, 6]]\r\n[[1, 2, -1], [-1, -1, -1], [3, -1, -1]]\r\n```\r\n----\r\nTo address a bit whimsical requirement about setting cells to -1 _if and only if the corresponding cell in the given array does not exist_ the following implementation may be offered:\r\n```java\r\nprivate int[][] square3x3;\r\npublic Square3x3(int[][] array) {\r\n    square3x3 = new int[3][3]; // anyway an array filled with 0 is created\r\n        \r\n    for (int i = 0; i &lt; 3; i++) {\r\n        for(int j = 0; j &lt; 3; j++) {\r\n            square3x3[i][j] = null != array    &amp;&amp; i &lt; array.length \r\n                           &amp;&amp; null != array[i] &amp;&amp; j &lt; array[i].length\r\n                            ? array[i][j] : -1;\r\n        }\r\n    }\r\n}\r\n```\r\nThe requirement tries to provide specific implementation in a convoluted/sophisticated way which is nevertheless irrelevant for the expected output and actually necessitates running through all 3x3 cells in the loops while exactly the same can be achieved with proper initialization and irrelevant rows/cols may be skipped.","title":"2d array constructor that take array less equals or more than 3x3","body":"<ol>\n<li>Construct a result array of 3x3 size and fill it with -1.</li>\n<li>Copy the values from the input array as necessary, selecting a minimal value of 3 and rows/columns of the input array.</li>\n</ol>\n<pre><code>private int[][] square3x3 = {\n    {-1, -1, -1},\n    {-1, -1, -1},\n    {-1, -1, -1}\n};\n\npublic Square3x3(int[][] array) {\n    for (int i = 0, n = Math.min(3, array == null ? -1 : array.length); i &lt; n; i++) {\n        for(int j = 0, m = Math.min(3, array[i] == null ? -1 : array[i].length); j &lt; m; j++) {\n            square3x3[i][j] = array[i][j];\n        }\n    }\n}\n</code></pre>\n<p>So, if the dimensions of the input <code>array</code> are less than 3x3, the prepopulated values of -1 will be used when copying the values.</p>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Square3x3 sq = new Square3x3(new int[3][2]); // input 2D arr initialized with 0\n        \nSystem.out.println(Arrays.deepToString(sq.square3x3));\n\n// jagged input\nsq = new Square3x3(new int[][]{{1, 2}, {3}, {4, 5, 6}});\nSystem.out.println(Arrays.deepToString(sq.square3x3));\n// input with nulls\nmc = new MyClass(new int[][]{{1, 2}, null, {3}});\nSystem.out.println(Arrays.deepToString(mc.square3x3));\n</code></pre>\n<p>Output:</p>\n<pre><code>[[0, 0, -1], [0, 0, -1], [0, 0, -1]]\n[[1, 2, -1], [3, -1, -1], [4, 5, 6]]\n[[1, 2, -1], [-1, -1, -1], [3, -1, -1]]\n</code></pre>\n<hr />\n<p>To address a bit whimsical requirement about setting cells to -1 <em>if and only if the corresponding cell in the given array does not exist</em> the following implementation may be offered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private int[][] square3x3;\npublic Square3x3(int[][] array) {\n    square3x3 = new int[3][3]; // anyway an array filled with 0 is created\n        \n    for (int i = 0; i &lt; 3; i++) {\n        for(int j = 0; j &lt; 3; j++) {\n            square3x3[i][j] = null != array    &amp;&amp; i &lt; array.length \n                           &amp;&amp; null != array[i] &amp;&amp; j &lt; array[i].length\n                            ? array[i][j] : -1;\n        }\n    }\n}\n</code></pre>\n<p>The requirement tries to provide specific implementation in a convoluted/sophisticated way which is nevertheless irrelevant for the expected output and actually necessitates running through all 3x3 cells in the loops while exactly the same can be achieved with proper initialization and irrelevant rows/cols may be skipped.</p>\n"},{"tags":[],"owner":{"account_id":19945653,"reputation":1,"user_id":14616382,"display_name":"Alon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638621265,"creation_date":1638602562,"answer_id":70223758,"question_id":70083814,"body_markdown":"```\r\npublic void whosThereRow (int row, boolean [] values)\r\n```\r\nHow the method works: \r\n\r\nThe method receives a row number (from the values 2,1,0) and a Boolean array\r\nSize 10. \r\n\r\nFor each number between 9-1 that appears in the corresponding row in the two-dimensional array of the method class will place a true value in the corresponding cell in the values array. \r\n\r\nThe rest of the cells in the array will be left without change.","title":"2d array constructor that take array less equals or more than 3x3","body":"<pre><code>public void whosThereRow (int row, boolean [] values)\n</code></pre>\n<p>How the method works:</p>\n<p>The method receives a row number (from the values 2,1,0) and a Boolean array\nSize 10.</p>\n<p>For each number between 9-1 that appears in the corresponding row in the two-dimensional array of the method class will place a true value in the corresponding cell in the values array.</p>\n<p>The rest of the cells in the array will be left without change.</p>\n"},{"tags":[],"owner":{"account_id":13139896,"reputation":9,"user_id":9491790,"display_name":"KakakshiD0m0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647210430,"creation_date":1647210430,"answer_id":71461355,"question_id":70083814,"body_markdown":"I was handling this way less prettier and less logically.\r\n\r\nWhat I did is to handle each edge case seperatley...\r\n\r\n     public Square3x3(int[][] array)\r\n    {\r\n        int val;\r\n        int vala;\r\n\r\n        _square3x3 = new int[ROWS][COLS];\r\n        if(_square3x3.length &lt;= array.length ) // checking if given array length is bigger or equal\r\n        {\r\n            {\r\n                for(int i = 0; i &lt; ROWS; i++) // iterating over the first row\r\n                {\r\n                    for(int j = 0; j &lt; COLS; j++ ) // iterating over row indexes\r\n                    {\r\n                        if(_square3x3[j].length &gt; array[j].length) //if 3 is bigger the array row length\r\n                        {\r\n                            val = array[j].length; // saving the row length\r\n                            vala = i; //saving row index\r\n                            for(int k = val; k &lt; COLS; k++ ) //loop between the array row length till k is 3\r\n                                _square3x3[vala][k] = -1; // completing missing row cells with -1\r\n\r\n                        }\r\n                        else if(_square3x3[j].length &lt;= array[j].length) //if given array row lenght is equal or bigger\r\n                        {\r\n                            for(int a = 0; a &lt; ROWS; a++)\r\n                            {\r\n                                for(int b = 0; b &lt; COLS; b++ )\r\n                                {\r\n                                    _square3x3[a][b] = array[a][b]; //taking only first 3x3 cells\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else  // applied this condition only if array.length is smallar then square3x3.length\r\n        {\r\n            int rowNdxCounter = 0;\r\n\r\n            for (int i = 0; i &lt; array.length; i++)\r\n            {\r\n                for (int j =0; j &lt; COLS; j++) //looping over all cells\r\n                {\r\n                    rowNdxCounter++; // for each cell value is increasing by one\r\n                }\r\n                if (rowNdxCounter != 3) //if counter not equals to three then i need to fill in the row with value of -1\r\n                {\r\n                    for (int c=rowNdxCounter; c &lt; COLS; c++)\r\n                        _square3x3[i][c] = -1;\r\n                } \r\n                rowNdxCounter = 0;\r\n            }\r\n            for (int k = array.length; k &lt; ROWS; k++) //looping over the missing row\r\n                for(int j = 0; j &lt; COLS; j++) //looping over cells in the missing rows\r\n                    _square3x3[k][j] = -1; // filling them with -1\r\n\r\n        }\r\n\r\nOf course with all the brackets it does look long and very raw.\r\nBut in first section of the method, \r\nI was dealing the case when given array is larger or equals and \r\nseperated it for two cases:\r\n\r\n**First case:** \r\nIf row length is bigger than given array&#39;s row lenght, and one of the the given array row lenght is smaller \r\n\r\n 1.  keeping the row cell index and keeping the current row index.\r\n 2. Then running on the traget row and fill in the missing cells with -1\r\n     If one of the given array&#39;s row length is bigger or equals\r\n 3. Running on target row and and make sure to take the first 3 cells \r\n\r\n**Second Case**\r\n\r\nIf given array lengh is smaller. Only then it gets to second case scenario.\r\n\r\n 1. setting a counter for later use.\r\n 2. First making sure that each rows has three cells in it. For that im looping all over the row to get how many cells i have in the row and using the counter.\r\n\r\nIf row doesnt has three cells, (this is why \r\nusing the counter),then filling in the missing cells with -1\r\n\r\n 3. After making sure that the rows are filled, then im looping over the remaining rows and fill them with -1. \r\n\r\n","title":"2d array constructor that take array less equals or more than 3x3","body":"<p>I was handling this way less prettier and less logically.</p>\n<p>What I did is to handle each edge case seperatley...</p>\n<pre><code> public Square3x3(int[][] array)\n{\n    int val;\n    int vala;\n\n    _square3x3 = new int[ROWS][COLS];\n    if(_square3x3.length &lt;= array.length ) // checking if given array length is bigger or equal\n    {\n        {\n            for(int i = 0; i &lt; ROWS; i++) // iterating over the first row\n            {\n                for(int j = 0; j &lt; COLS; j++ ) // iterating over row indexes\n                {\n                    if(_square3x3[j].length &gt; array[j].length) //if 3 is bigger the array row length\n                    {\n                        val = array[j].length; // saving the row length\n                        vala = i; //saving row index\n                        for(int k = val; k &lt; COLS; k++ ) //loop between the array row length till k is 3\n                            _square3x3[vala][k] = -1; // completing missing row cells with -1\n\n                    }\n                    else if(_square3x3[j].length &lt;= array[j].length) //if given array row lenght is equal or bigger\n                    {\n                        for(int a = 0; a &lt; ROWS; a++)\n                        {\n                            for(int b = 0; b &lt; COLS; b++ )\n                            {\n                                _square3x3[a][b] = array[a][b]; //taking only first 3x3 cells\n                            }\n                        }\n                    }\n\n                }\n            }\n        }\n    }\n    else  // applied this condition only if array.length is smallar then square3x3.length\n    {\n        int rowNdxCounter = 0;\n\n        for (int i = 0; i &lt; array.length; i++)\n        {\n            for (int j =0; j &lt; COLS; j++) //looping over all cells\n            {\n                rowNdxCounter++; // for each cell value is increasing by one\n            }\n            if (rowNdxCounter != 3) //if counter not equals to three then i need to fill in the row with value of -1\n            {\n                for (int c=rowNdxCounter; c &lt; COLS; c++)\n                    _square3x3[i][c] = -1;\n            } \n            rowNdxCounter = 0;\n        }\n        for (int k = array.length; k &lt; ROWS; k++) //looping over the missing row\n            for(int j = 0; j &lt; COLS; j++) //looping over cells in the missing rows\n                _square3x3[k][j] = -1; // filling them with -1\n\n    }\n</code></pre>\n<p>Of course with all the brackets it does look long and very raw.\nBut in first section of the method,\nI was dealing the case when given array is larger or equals and\nseperated it for two cases:</p>\n<p><strong>First case:</strong>\nIf row length is bigger than given array's row lenght, and one of the the given array row lenght is smaller</p>\n<ol>\n<li>keeping the row cell index and keeping the current row index.</li>\n<li>Then running on the traget row and fill in the missing cells with -1\nIf one of the given array's row length is bigger or equals</li>\n<li>Running on target row and and make sure to take the first 3 cells</li>\n</ol>\n<p><strong>Second Case</strong></p>\n<p>If given array lengh is smaller. Only then it gets to second case scenario.</p>\n<ol>\n<li>setting a counter for later use.</li>\n<li>First making sure that each rows has three cells in it. For that im looping all over the row to get how many cells i have in the row and using the counter.</li>\n</ol>\n<p>If row doesnt has three cells, (this is why\nusing the counter),then filling in the missing cells with -1</p>\n<ol start=\"3\">\n<li>After making sure that the rows are filled, then im looping over the remaining rows and fill them with -1.</li>\n</ol>\n"}],"owner":{"account_id":18750189,"reputation":57,"user_id":13671439,"display_name":"Tim Asher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70084908,"answer_count":4,"score":0,"last_activity_date":1647210430,"creation_date":1637682452,"question_id":70083814,"body_markdown":"Got a project from my degree that I&#39;m stuck on one of the constructors.  \r\n* The constructor name needs to look like this `Square3x3(int[][] array)`.  \r\n* It has to construct a 2d array of the size 3x3, whose value are taken from the given array.\r\n* If the given array&#39;s size is bigger than 3x3, only the first 3x3 cells are taken.\r\n* **If the given array is smaller, the rest of the cells are initialized to -1.**  \r\n\r\nNote that the given array may be non-symmetrical, or may even have rows of different length.  \r\n\r\nMake sure to initialize cells to -1 if and only if the corresponding cell in the given array does not exist.\r\n\r\nYou may assume the array is not null.\r\n\r\nThe following code works for me when the given array is bigger than 3x3, but I cannot make it work when it&#39;s less than 3x3.\r\n\r\nNote that all of this needs to be in a different class than `main`.\r\n\r\nThank you for the help.\r\n\r\nI got the following code: \r\n```java\r\npublic class Square3x3 {\r\n        \r\n    private int[][] Square3x3;\r\n    \r\n    public Square3x3(int[][]array) {\r\n        Square3x3 = new int[3][3];\r\n        int count =0;\r\n        for (int i = 0; i &lt; 3 &amp;&amp; i &lt; array.length; i++) {\r\n            for (int j = 0; j &lt; 3 &amp;&amp; j &lt; array[count].length; j++) {\r\n                Square3x3[i][j] = array[i][j];\r\n            }\r\n            count++;\r\n        }\r\n    }\r\n}\r\n```","title":"2d array constructor that take array less equals or more than 3x3","body":"<p>Got a project from my degree that I'm stuck on one of the constructors.</p>\n<ul>\n<li>The constructor name needs to look like this <code>Square3x3(int[][] array)</code>.</li>\n<li>It has to construct a 2d array of the size 3x3, whose value are taken from the given array.</li>\n<li>If the given array's size is bigger than 3x3, only the first 3x3 cells are taken.</li>\n<li><strong>If the given array is smaller, the rest of the cells are initialized to -1.</strong></li>\n</ul>\n<p>Note that the given array may be non-symmetrical, or may even have rows of different length.</p>\n<p>Make sure to initialize cells to -1 if and only if the corresponding cell in the given array does not exist.</p>\n<p>You may assume the array is not null.</p>\n<p>The following code works for me when the given array is bigger than 3x3, but I cannot make it work when it's less than 3x3.</p>\n<p>Note that all of this needs to be in a different class than <code>main</code>.</p>\n<p>Thank you for the help.</p>\n<p>I got the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Square3x3 {\n        \n    private int[][] Square3x3;\n    \n    public Square3x3(int[][]array) {\n        Square3x3 = new int[3][3];\n        int count =0;\n        for (int i = 0; i &lt; 3 &amp;&amp; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; 3 &amp;&amp; j &lt; array[count].length; j++) {\n                Square3x3[i][j] = array[i][j];\n            }\n            count++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","server","oauth-2.0","exchange-server","azure-ad-msal"],"owner":{"account_id":20587034,"reputation":31,"user_id":15111667,"display_name":"Saurabh2506"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647208356,"creation_date":1647208356,"question_id":71461151,"body_markdown":"Currently I use JavaMail API to retrieve emails from exchange server inbox using imap.\r\n\r\nThe exchange server is now migrated to o365 online, and basic authentication is being disabled. So, I need to use OAuth2 and integrate with Microsoft Graph APIs using Microsoft Authentication Library (MSAL) to retrieve the emails from exchange server.\r\n\r\nHas someone achieved this and can provide pointers for this integration? I am specifically looking to read emails from a system inbox/account using OAuth2 and Microsoft Graph APIs.\r\n\r\nThanks,\r\nSaurabh\r\n","title":"Accessing o365 Exchange emails via Java application","body":"<p>Currently I use JavaMail API to retrieve emails from exchange server inbox using imap.</p>\n<p>The exchange server is now migrated to o365 online, and basic authentication is being disabled. So, I need to use OAuth2 and integrate with Microsoft Graph APIs using Microsoft Authentication Library (MSAL) to retrieve the emails from exchange server.</p>\n<p>Has someone achieved this and can provide pointers for this integration? I am specifically looking to read emails from a system inbox/account using OAuth2 and Microsoft Graph APIs.</p>\n<p>Thanks,\nSaurabh</p>\n"},{"tags":["java","java-stream","option-type"],"comments":[{"owner":{"account_id":12995821,"reputation":679,"user_id":9393525,"display_name":"Lakshya Srivastava"},"score":0,"creation_date":1646851516,"post_id":71414354,"comment_id":126228582,"body_markdown":"you can check if item.url is in myChecklist.keySet(), if it is, then update item.status with myChecklist(item.url)","body":"you can check if item.url is in myChecklist.keySet(), if it is, then update item.status with myChecklist(item.url)"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646851445,"creation_date":1646851445,"answer_id":71414512,"question_id":71414354,"body_markdown":"I don&#39;t think you should use a Stream since you are modifying the objects as you are iterating the collection. \r\n\r\nJust use a loop\r\n\r\n```\r\nfor (Url item : myObjects) {\r\n  String status = myCheckList.get(item.getUrl());\r\n  if (status == null) continue;\r\n  u.setStatus(status);\r\n}\r\n```","title":"How to modify an element of the Stream based on the value in a HashMap","body":"<p>I don't think you should use a Stream since you are modifying the objects as you are iterating the collection.</p>\n<p>Just use a loop</p>\n<pre><code>for (Url item : myObjects) {\n  String status = myCheckList.get(item.getUrl());\n  if (status == null) continue;\n  u.setStatus(status);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647207805,"creation_date":1646853720,"answer_id":71414952,"question_id":71414354,"body_markdown":"[**Documentation**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Statelessness) for the *Stream API* **warns&#39;t against** the usage of *stateful streams*.\r\n\r\nFunctions used in streams has to be **pure**, i.e. don&#39;t cause mutations of the *stream elements*, don&#39;t modify objects *outside the stream* (that&#39;s what basically happens in your code).\r\n\r\nYour task can be fulfilled with streams without violating the guidelines mentioned above. For that, instead of changing the state if a new `status` has to be applied, a **new** object  needs to be created. \r\n\r\nI also suggest to `Url` objects immutable. So that the same instances could be safely reused in different parts of the application.\r\n\r\n    private List&lt;Url&gt; overwriteStatus(List&lt;Url&gt; myObjects, \r\n                                      Map&lt;String, String&gt; myChecklist) {\r\n\r\n        return myObjects.stream()\r\n                .map(item -&gt; !myChecklist.containsKey(item.getUrl()) ? item :\r\n                        new Url(item.getUrl(), myChecklist.get(item.getUrl())))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n**Immutable** class `Url` (no setters, all fields are `final`) \r\n```\r\npublic class Url {\r\n    private final String url;\r\n    private final String status;\r\n\r\n    // constructor and getters\r\n}\r\n```\r\n\r\n**Note:**\r\n* With regard to the `Optional` type, it was introduced in the **JDK** for only one particular purpose: to represent the return type of methods that could potentially yield `null` and that&#39;s it. The practice of utilizing the `Optional` just in order of chaining methods on it is considered to be an **antipattern**.","title":"How to modify an element of the Stream based on the value in a HashMap","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\"><strong>Documentation</strong></a> for the <em>Stream API</em> <strong>warns't against</strong> the usage of <em>stateful streams</em>.</p>\n<p>Functions used in streams has to be <strong>pure</strong>, i.e. don't cause mutations of the <em>stream elements</em>, don't modify objects <em>outside the stream</em> (that's what basically happens in your code).</p>\n<p>Your task can be fulfilled with streams without violating the guidelines mentioned above. For that, instead of changing the state if a new <code>status</code> has to be applied, a <strong>new</strong> object  needs to be created.</p>\n<p>I also suggest to <code>Url</code> objects immutable. So that the same instances could be safely reused in different parts of the application.</p>\n<pre><code>private List&lt;Url&gt; overwriteStatus(List&lt;Url&gt; myObjects, \n                                  Map&lt;String, String&gt; myChecklist) {\n\n    return myObjects.stream()\n            .map(item -&gt; !myChecklist.containsKey(item.getUrl()) ? item :\n                    new Url(item.getUrl(), myChecklist.get(item.getUrl())))\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p><strong>Immutable</strong> class <code>Url</code> (no setters, all fields are <code>final</code>)</p>\n<pre><code>public class Url {\n    private final String url;\n    private final String status;\n\n    // constructor and getters\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li>With regard to the <code>Optional</code> type, it was introduced in the <strong>JDK</strong> for only one particular purpose: to represent the return type of methods that could potentially yield <code>null</code> and that's it. The practice of utilizing the <code>Optional</code> just in order of chaining methods on it is considered to be an <strong>antipattern</strong>.</li>\n</ul>\n"}],"owner":{"display_name":"user18421678"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71414952,"answer_count":2,"score":2,"last_activity_date":1647207805,"creation_date":1646850686,"question_id":71414354,"body_markdown":"I want to overwrite my objects `status` value if a corresponding key/value pair can be found in my `HashMap`.\r\n\r\nSample Model:\r\n```Java\r\npublic class Url {\r\n  private String url;\r\n  private String status;\r\n}\r\n```\r\n\r\n```Java\r\nprivate List&lt;Url&gt; overwriteStatus(List&lt;Url&gt; myObjects) {\r\n   final var myChecklist = Map.of(&quot;www.foo.com&quot;, &quot;blocked&quot;);\r\n\r\n  //if the key exists in `myChecklist`, then overwrite the status\r\n  myObjects.stream().forEach(item -&gt; Optional.ofNullable(myChecklist.get(item.getUrl())).ifPresent(item::setStatus));\r\n\r\n  return myObjects;\r\n}\r\n```\r\n\r\nMy current approach with `Optional`s feels very messy. \r\n\r\nWhat is the best approach to check if the value exists in a `HashMap`, and if so, use that value in a next step?","title":"How to modify an element of the Stream based on the value in a HashMap","body":"<p>I want to overwrite my objects <code>status</code> value if a corresponding key/value pair can be found in my <code>HashMap</code>.</p>\n<p>Sample Model:</p>\n<pre><code>public class Url {\n  private String url;\n  private String status;\n}\n</code></pre>\n<pre><code>private List&lt;Url&gt; overwriteStatus(List&lt;Url&gt; myObjects) {\n   final var myChecklist = Map.of(&quot;www.foo.com&quot;, &quot;blocked&quot;);\n\n  //if the key exists in `myChecklist`, then overwrite the status\n  myObjects.stream().forEach(item -&gt; Optional.ofNullable(myChecklist.get(item.getUrl())).ifPresent(item::setStatus));\n\n  return myObjects;\n}\n</code></pre>\n<p>My current approach with <code>Optional</code>s feels very messy.</p>\n<p>What is the best approach to check if the value exists in a <code>HashMap</code>, and if so, use that value in a next step?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644230592,"post_id":71017094,"comment_id":125541054,"body_markdown":"Not sure if this changes anything, but remove the space before true.","body":"Not sure if this changes anything, but remove the space before true."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644230398,"creation_date":1644230398,"answer_id":71017126,"question_id":71017094,"body_markdown":"Try using `@Lazy`\r\n\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n        \r\n        private Environment environment;\r\n        @Lazy\r\n        private UserService userService;\r\n\r\nReference: https://www.baeldung.com/spring-lazy-annotation","title":"Spring circular references prohibited in 2.6 version","body":"<p>Try using <code>@Lazy</code></p>\n<pre><code>public class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    \n    private Environment environment;\n    @Lazy\n    private UserService userService;\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-lazy-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-lazy-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644230418,"creation_date":1644230418,"answer_id":71017130,"question_id":71017094,"body_markdown":"The error message is pretty clear. `UserServiceImpl` depends on `WebSecurity` which depends on `UserServiceImpl`.\r\n\r\nThe dependency from `WebSecurity` to `UserServiceImpl` is necessary. That means you need to break the dependency from `UserServiceImpl` to `WebSecurity`. This is caused by the password encoder. You need to move that out of `WebSecurity`. Maybe you can integrate it in `UserServiceImpl`?","title":"Spring circular references prohibited in 2.6 version","body":"<p>The error message is pretty clear. <code>UserServiceImpl</code> depends on <code>WebSecurity</code> which depends on <code>UserServiceImpl</code>.</p>\n<p>The dependency from <code>WebSecurity</code> to <code>UserServiceImpl</code> is necessary. That means you need to break the dependency from <code>UserServiceImpl</code> to <code>WebSecurity</code>. This is caused by the password encoder. You need to move that out of <code>WebSecurity</code>. Maybe you can integrate it in <code>UserServiceImpl</code>?</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644231695,"creation_date":1644231695,"answer_id":71017442,"question_id":71017094,"body_markdown":"Here is my solution\r\n\r\n    public UserServiceImpl(UserMapper userMapper,UserRepository userRepository,@Lazy PasswordEncoder passwordEncoder) {\r\n            super();\r\n            this.userMapper = userMapper;\r\n            this.userRepository = userRepository;\r\n            this.passwordEncoder = passwordEncoder;\r\n        }","title":"Spring circular references prohibited in 2.6 version","body":"<p>Here is my solution</p>\n<pre><code>public UserServiceImpl(UserMapper userMapper,UserRepository userRepository,@Lazy PasswordEncoder passwordEncoder) {\n        super();\n        this.userMapper = userMapper;\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647207644,"creation_date":1647207087,"answer_id":71461023,"question_id":71017094,"body_markdown":"If you declare the bean factory method for the password encoder `static`, i.e.\r\n\r\n    @Bean\r\n    public static PasswordEncoder passwordEncoder() {\r\n      return new BCryptPasswordEncoder();\r\n    }\r\n\r\nyou make it clear that the bean does not actually depend on anything that is injected into `WebSecurity`. Then, you don&#39;t need to work with `@Lazy` and the proxying it creates.\r\n\r\nYou may even be able to remove the property that allows circular references. But that depends on the whole rest of your application.","title":"Spring circular references prohibited in 2.6 version","body":"<p>If you declare the bean factory method for the password encoder <code>static</code>, i.e.</p>\n<pre><code>@Bean\npublic static PasswordEncoder passwordEncoder() {\n  return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>you make it clear that the bean does not actually depend on anything that is injected into <code>WebSecurity</code>. Then, you don't need to work with <code>@Lazy</code> and the proxying it creates.</p>\n<p>You may even be able to remove the property that allows circular references. But that depends on the whole rest of your application.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71017442,"answer_count":4,"score":0,"last_activity_date":1647207644,"creation_date":1644230229,"question_id":71017094,"body_markdown":"I have an issue for circular reference calling.\r\nEven if I set true to this option, I cannot fix my issue.\r\nHow can I fix it?\r\nHere are my code snippets which are shown below step by step.\r\n\r\nHere is my application.properties file shown below.\r\n\r\n    ...\r\n    spring.main.allow-circular-references= true\r\n    ...\r\n\r\nHere is my error message shown below.\r\n\r\n    Description:\r\n    \r\n    The dependencies of some of the beans in the application context form a cycle:\r\n    \r\n       userController (field com.photoapp.users.service.UserService com.photoapp.users.controller.UserController.userService)\r\n    ┌─────┐\r\n    |  userServiceImpl defined in file [C:\\Users\\de\\Desktop\\sts-4.9.0.RELEASE\\workspace\\PhotoAppApiUsers\\target\\classes\\com\\photoapp\\users\\service\\impl\\UserServiceImpl.class]\r\n    ↑     ↓\r\n    |  webSecurity defined in file [C:\\Users\\de\\Desktop\\sts-4.9.0.RELEASE\\workspace\\PhotoAppApiUsers\\target\\classes\\com\\photoapp\\users\\security\\WebSecurity.class]\r\n    └─────┘\r\n    \r\n    \r\n    Action:\r\n    \r\n    Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\r\n\r\n\r\nHere is my userServiceImpl class\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserServiceImpl implements UserService{\r\n    \r\n    \tUserMapper userMapper;\r\n    \t\r\n    \tUserRepository userRepository;\r\n    \t\r\n    \tPasswordEncoder passwordEncoder;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic UserServiceImpl(UserMapper userMapper,UserRepository userRepository,PasswordEncoder passwordEncoder) {\r\n    \t\tsuper();\r\n    \t\tthis.userMapper = userMapper;\r\n    \t\tthis.userRepository = userRepository;\r\n    \t\tthis.passwordEncoder = passwordEncoder;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic UserDto createUser(UserDto userDetails) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tuserDetails.setUserId(UUID.randomUUID().toString());\r\n    \t\t\r\n    \t\tUser user = userMapper.userDtotoUser(userDetails);\r\n    \t\t\r\n    \t\t\r\n    \t\tString encodedPassword = passwordEncoder.encode(userDetails.getPassword());\r\n    \t\tuser.setEncryptedPassword(encodedPassword);\r\n    \t\t\r\n    \t\tuserRepository.save(user);\r\n    \t\t\r\n    \t\tUserDto returnValue = userMapper.userToUserDto(user);\r\n     \r\n    \t\treturn returnValue;\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tUser user = userRepository.findByEmail(username);\r\n    \t\t\r\n    \t\tif(user == null) \r\n    \t\t\tthrow new UsernameNotFoundException(username);\t\r\n    \t\t\r\n    \t\treturn new org.springframework.security.core.userdetails.User(user.getEmail(), \r\n    \t\t\t\tuser.getEncryptedPassword(), \r\n    \t\t\t\ttrue, true, true, true, new ArrayList&lt;&gt;());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic UserDto getUserDetailsByEmail(String email) { \r\n    \t\tUser user = userRepository.findByEmail(email);\r\n    \t\t\r\n    \t\tif(user == null) \r\n    \t\t\tthrow new UsernameNotFoundException(email);\r\n    \t\t\r\n    \t\tUserDto returnValue = userMapper.userToUserDto(user);\r\n    \t\t\r\n    \t\treturn returnValue;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic UserDto getUserByUserId(String userId) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nHere is my WebSecurity class\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t\r\n    \tprivate Environment environment;\r\n    \tprivate UserService userService;\r\n    \t\r\n    \t@Autowired\r\n    \tpublic WebSecurity(Environment environment, UserService userService) {\r\n    \t\tsuper();\r\n    \t\tthis.environment = environment;\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\thttp.csrf().disable();\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/users&quot;).hasIpAddress(environment.getProperty(&quot;gateway.ip&quot;))\r\n    \t\t.and()\r\n    \t\t.addFilter(getAuthenticationFilter());\r\n    \t\thttp.headers().frameOptions().disable();\r\n    \t}\r\n    \r\n    \tprivate AuthenticationFilter getAuthenticationFilter() throws Exception{\r\n    \t\tAuthenticationFilter authenticationFilter = new AuthenticationFilter(userService, environment, authenticationManager());\r\n    \t\t//authenticationFilter.setAuthenticationManager(authenticationManager()); \r\n    \t\tauthenticationFilter.setFilterProcessesUrl(environment.getProperty(&quot;login.url.path&quot;));\r\n    \t\treturn authenticationFilter;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userService).passwordEncoder(passwordEncoder());\r\n        }\r\n    }\r\n\r\n","title":"Spring circular references prohibited in 2.6 version","body":"<p>I have an issue for circular reference calling.\nEven if I set true to this option, I cannot fix my issue.\nHow can I fix it?\nHere are my code snippets which are shown below step by step.</p>\n<p>Here is my application.properties file shown below.</p>\n<pre><code>...\nspring.main.allow-circular-references= true\n...\n</code></pre>\n<p>Here is my error message shown below.</p>\n<pre><code>Description:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n   userController (field com.photoapp.users.service.UserService com.photoapp.users.controller.UserController.userService)\n┌─────┐\n|  userServiceImpl defined in file [C:\\Users\\de\\Desktop\\sts-4.9.0.RELEASE\\workspace\\PhotoAppApiUsers\\target\\classes\\com\\photoapp\\users\\service\\impl\\UserServiceImpl.class]\n↑     ↓\n|  webSecurity defined in file [C:\\Users\\de\\Desktop\\sts-4.9.0.RELEASE\\workspace\\PhotoAppApiUsers\\target\\classes\\com\\photoapp\\users\\security\\WebSecurity.class]\n└─────┘\n\n\nAction:\n\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.\n</code></pre>\n<p>Here is my userServiceImpl class</p>\n<pre><code>@Service\n@Transactional\npublic class UserServiceImpl implements UserService{\n\n    UserMapper userMapper;\n    \n    UserRepository userRepository;\n    \n    PasswordEncoder passwordEncoder;\n    \n    @Autowired\n    public UserServiceImpl(UserMapper userMapper,UserRepository userRepository,PasswordEncoder passwordEncoder) {\n        super();\n        this.userMapper = userMapper;\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n\n    @Override\n    public UserDto createUser(UserDto userDetails) {\n        // TODO Auto-generated method stub\n        \n        userDetails.setUserId(UUID.randomUUID().toString());\n        \n        User user = userMapper.userDtotoUser(userDetails);\n        \n        \n        String encodedPassword = passwordEncoder.encode(userDetails.getPassword());\n        user.setEncryptedPassword(encodedPassword);\n        \n        userRepository.save(user);\n        \n        UserDto returnValue = userMapper.userToUserDto(user);\n \n        return returnValue;\n        \n    }\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        // TODO Auto-generated method stub\n        User user = userRepository.findByEmail(username);\n        \n        if(user == null) \n            throw new UsernameNotFoundException(username);  \n        \n        return new org.springframework.security.core.userdetails.User(user.getEmail(), \n                user.getEncryptedPassword(), \n                true, true, true, true, new ArrayList&lt;&gt;());\n    }\n    \n    @Override\n    public UserDto getUserDetailsByEmail(String email) { \n        User user = userRepository.findByEmail(email);\n        \n        if(user == null) \n            throw new UsernameNotFoundException(email);\n        \n        UserDto returnValue = userMapper.userToUserDto(user);\n        \n        return returnValue;\n    }\n\n\n    @Override\n    public UserDto getUserByUserId(String userId) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n</code></pre>\n<p>Here is my WebSecurity class</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    \n    private Environment environment;\n    private UserService userService;\n    \n    @Autowired\n    public WebSecurity(Environment environment, UserService userService) {\n        super();\n        this.environment = environment;\n        this.userService = userService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // TODO Auto-generated method stub\n        http.csrf().disable();\n        http.authorizeRequests().antMatchers(&quot;/users&quot;).hasIpAddress(environment.getProperty(&quot;gateway.ip&quot;))\n        .and()\n        .addFilter(getAuthenticationFilter());\n        http.headers().frameOptions().disable();\n    }\n\n    private AuthenticationFilter getAuthenticationFilter() throws Exception{\n        AuthenticationFilter authenticationFilter = new AuthenticationFilter(userService, environment, authenticationManager());\n        //authenticationFilter.setAuthenticationManager(authenticationManager()); \n        authenticationFilter.setFilterProcessesUrl(environment.getProperty(&quot;login.url.path&quot;));\n        return authenticationFilter;\n    }\n    \n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1351239651,"post_id":965023,"comment_id":17775506,"body_markdown":"don&#39;t change the table state in the renderer - as in **never-ever**","body":"don&#39;t change the table state in the renderer - as in <b>never-ever</b>"},{"owner":{"account_id":121927,"reputation":2430,"user_id":315387,"display_name":"Alessandro Rossi"},"score":17,"creation_date":1351765410,"post_id":965023,"comment_id":17929114,"body_markdown":"Dear Cleopatra!!! Please give us a working solution instead of just saying you can do this better.","body":"Dear Cleopatra!!! Please give us a working solution instead of just saying you can do this better."},{"owner":{"account_id":5111839,"reputation":324,"user_id":4098189,"accept_rate":50,"display_name":"Yougeshwar Khatri"},"score":0,"creation_date":1471092790,"post_id":965023,"comment_id":65221551,"body_markdown":"Please check this http://stackoverflow.com/questions/33937074/jtable-cell-wrapping/38932843#38932843","body":"Please check this <a href=\"http://stackoverflow.com/questions/33937074/jtable-cell-wrapping/38932843#38932843\" title=\"jtable cell wrapping\">stackoverflow.com/questions/33937074/jtable-cell-wrapping/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244469552,"creation_date":1244469452,"answer_id":965043,"question_id":965023,"body_markdown":"You could use a JLabel as a renderer and insert the text into a HTML tag and just add `&lt;br&gt;` where appropriate\r\n\r\n[How to use HTML in Swing Components][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/components/html.html","title":"How to wrap lines in a jtable cell?","body":"<p>You could use a JLabel as a renderer and insert the text into a HTML tag and just add <code>&lt;br&gt;</code> where appropriate</p>\n\n<p><a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/html.html\" rel=\"nofollow noreferrer\">How to use HTML in Swing Components</a></p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1647205721,"creation_date":1244469535,"answer_id":965049,"question_id":965023,"body_markdown":"The problem is that the height of rows in JTable is fixed, so it&#39;s not just a matter of having a renderer that wraps; I&#39;m not sure why it doesn&#39;t, but if it did, the wrapped text would be cropped - or maybe that&#39;s exactly what you&#39;re seeing. To adjust row heights, you need to set them individually.\r\n\r\n[Heres&#39; some code for that][1]:\r\n\r\n    int rows = 10;\r\n    int cols = 5;\r\n    JTable table = new JTable(rows, cols);\r\n    \r\n    // Set the 1st row to 60 pixels high\r\n    table.setRowHeight(0, 60);\r\n    \r\n    // Set the height of all rows to 32 pixels high,\r\n    // regardless if any heights were assigned to particular rows\r\n    table.setRowHeight(32);\r\n    // the height of the 1st row is set to 32 pixels high\r\n    \r\n    // Returns the preferred height of a row.\r\n    // The result is equal to the tallest cell in the row.\r\n    public int getPreferredRowHeight(JTable table, int rowIndex, int margin) {\r\n        // Get the current default height for all rows\r\n        int height = table.getRowHeight();\r\n    \r\n        // Determine highest cell in the row\r\n        for (int c=0; c&lt;table.getColumnCount(); c++) {\r\n            TableCellRenderer renderer = table.getCellRenderer(rowIndex, c);\r\n            Component comp = table.prepareRenderer(renderer, rowIndex, c);\r\n            int h = comp.getPreferredSize().height + 2*margin;\r\n            height = Math.max(height, h);\r\n        }\r\n        return height;\r\n    }\r\n    \r\n    // The height of each row is set to the preferred height of the\r\n    // tallest cell in that row.\r\n    public void packRows(JTable table, int margin) {\r\n        packRows(table, 0, table.getRowCount(), margin);\r\n    }\r\n    \r\n    // For each row &gt;= start and &lt; end, the height of a\r\n    // row is set to the preferred height of the tallest cell\r\n    // in that row.\r\n    public void packRows(JTable table, int start, int end, int margin) {\r\n        for (int r=0; r&lt;table.getRowCount(); r++) {\r\n            // Get the preferred height\r\n            int h = getPreferredRowHeight(table, r, margin);\r\n    \r\n            // Now set the row height using the preferred height\r\n            if (table.getRowHeight(r) != h) {\r\n                table.setRowHeight(r, h);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://web.archive.org/web/20061217042643/http://www.exampledepot.com/egs/javax.swing.table/RowHeight.html","title":"How to wrap lines in a jtable cell?","body":"<p>The problem is that the height of rows in JTable is fixed, so it's not just a matter of having a renderer that wraps; I'm not sure why it doesn't, but if it did, the wrapped text would be cropped - or maybe that's exactly what you're seeing. To adjust row heights, you need to set them individually.</p>\n<p><a href=\"https://web.archive.org/web/20061217042643/http://www.exampledepot.com/egs/javax.swing.table/RowHeight.html\" rel=\"nofollow noreferrer\">Heres' some code for that</a>:</p>\n<pre><code>int rows = 10;\nint cols = 5;\nJTable table = new JTable(rows, cols);\n\n// Set the 1st row to 60 pixels high\ntable.setRowHeight(0, 60);\n\n// Set the height of all rows to 32 pixels high,\n// regardless if any heights were assigned to particular rows\ntable.setRowHeight(32);\n// the height of the 1st row is set to 32 pixels high\n\n// Returns the preferred height of a row.\n// The result is equal to the tallest cell in the row.\npublic int getPreferredRowHeight(JTable table, int rowIndex, int margin) {\n    // Get the current default height for all rows\n    int height = table.getRowHeight();\n\n    // Determine highest cell in the row\n    for (int c=0; c&lt;table.getColumnCount(); c++) {\n        TableCellRenderer renderer = table.getCellRenderer(rowIndex, c);\n        Component comp = table.prepareRenderer(renderer, rowIndex, c);\n        int h = comp.getPreferredSize().height + 2*margin;\n        height = Math.max(height, h);\n    }\n    return height;\n}\n\n// The height of each row is set to the preferred height of the\n// tallest cell in that row.\npublic void packRows(JTable table, int margin) {\n    packRows(table, 0, table.getRowCount(), margin);\n}\n\n// For each row &gt;= start and &lt; end, the height of a\n// row is set to the preferred height of the tallest cell\n// in that row.\npublic void packRows(JTable table, int start, int end, int margin) {\n    for (int r=0; r&lt;table.getRowCount(); r++) {\n        // Get the preferred height\n        int h = getPreferredRowHeight(table, r, margin);\n\n        // Now set the row height using the preferred height\n        if (table.getRowHeight(r) != h) {\n            table.setRowHeight(r, h);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121927,"reputation":2430,"user_id":315387,"display_name":"Alessandro Rossi"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1357559446,"creation_date":1271157143,"answer_id":2628985,"question_id":965023,"body_markdown":"Hi I had your same problem but the solution I implemented is inspired by the sample available from the Java Tutorial for drawing multiline text and draws the text on the cell using the text APIs.\r\n\r\nhttp://java.sun.com/docs/books/tutorial/2d/text/drawmulstring.html\r\n\r\n    import java.awt.Component;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.font.FontRenderContext;\r\n    import java.awt.font.LineBreakMeasurer;\r\n    import java.awt.font.TextLayout;\r\n    import java.text.AttributedCharacterIterator;\r\n    import java.text.AttributedString;\r\n    import java.text.BreakIterator;\r\n    \r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.TableCellRenderer;\r\n    \r\n    \r\n    public class MultilineTableCell \r\n    \timplements TableCellRenderer {\r\n    \tclass CellArea extends DefaultTableCellRenderer {\r\n    \t\t/**\r\n    \t\t * \r\n    \t\t */\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\tprivate String text;\r\n    \t\tprotected int rowIndex;\r\n    \t\tprotected int columnIndex;\r\n    \t\tprotected JTable table;\r\n    \t\tprotected Font font;\r\n    \t\tprivate int paragraphStart,paragraphEnd;\r\n    \t\tprivate LineBreakMeasurer lineMeasurer;\r\n    \t\t\r\n    \t\tpublic CellArea(String s, JTable tab, int row, int column,boolean isSelected) {\r\n    \t\t\ttext = s;\r\n    \t\t\trowIndex = row;\r\n    \t\t\tcolumnIndex = column;\r\n    \t\t\ttable = tab;\r\n    \t\t\tfont = table.getFont();\r\n    \t\t\tif (isSelected) {\r\n    \t\t\t\tsetForeground(table.getSelectionForeground());\r\n    \t\t\t\tsetBackground(table.getSelectionBackground());\r\n    \t        }\r\n    \t\t}\r\n    \t\tpublic void paintComponent(Graphics gr) {\r\n    \t\t\tsuper.paintComponent(gr);\r\n    \t\t\tif ( text != null &amp;&amp; !text.isEmpty() ) {\r\n    \t\t\t\tGraphics2D g = (Graphics2D) gr;\r\n    \t\t\t\tif (lineMeasurer == null) {\r\n    \t\t\t\t\tAttributedCharacterIterator paragraph = new AttributedString(text).getIterator();\r\n    \t\t\t\t\tparagraphStart = paragraph.getBeginIndex();\r\n    \t\t\t\t\tparagraphEnd = paragraph.getEndIndex();\r\n    \t\t\t\t\tFontRenderContext frc = g.getFontRenderContext();\r\n    \t\t\t\t\tlineMeasurer = new LineBreakMeasurer(paragraph,BreakIterator.getWordInstance(), frc);\r\n    \t\t\t\t}\r\n    \t\t\t\tfloat breakWidth = (float)table.getColumnModel().getColumn(columnIndex).getWidth();\r\n    \t\t\t\tfloat drawPosY = 0;\r\n    \t\t\t\t// Set position to the index of the first character in the paragraph.\r\n    \t\t\t\tlineMeasurer.setPosition(paragraphStart);\r\n    \t\t\t\t// Get lines until the entire paragraph has been displayed.\r\n    \t\t\t    while (lineMeasurer.getPosition() &lt; paragraphEnd) {\r\n    \t\t\t    \t// Retrieve next layout. A cleverer program would also cache\r\n    \t\t\t    \t// these layouts until the component is re-sized.\r\n    \t\t\t    \tTextLayout layout = lineMeasurer.nextLayout(breakWidth);\r\n    \t\t\t    \t// Compute pen x position. If the paragraph is right-to-left we\r\n    \t\t\t    \t// will align the TextLayouts to the right edge of the panel.\r\n    \t\t\t    \t// Note: this won&#39;t occur for the English text in this sample.\r\n    \t\t\t    \t// Note: drawPosX is always where the LEFT of the text is placed.\r\n    \t\t\t    \tfloat drawPosX = layout.isLeftToRight()\r\n    \t\t\t    \t\t? 0 : breakWidth - layout.getAdvance();\r\n    \t\t\t    \t// Move y-coordinate by the ascent of the layout.\r\n    \t\t\t    \tdrawPosY += layout.getAscent();\r\n    \t\t\t    \t// Draw the TextLayout at (drawPosX, drawPosY).\r\n    \t\t\t    \tlayout.draw(g, drawPosX, drawPosY);\r\n    \t\t\t    \t// Move y-coordinate in preparation for next layout.\r\n    \t\t\t    \tdrawPosY += layout.getDescent() + layout.getLeading();\r\n    \t\t\t    }\r\n    \t\t\t    table.setRowHeight(rowIndex,(int) drawPosY);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic Component getTableCellRendererComponent(\r\n    \t\t\tJTable table, Object value,boolean isSelected, boolean hasFocus, int row,int column\r\n    \t\t)\r\n    \t{\r\n    \t\tCellArea area = new CellArea(value.toString(),table,row,column,isSelected);\r\n    \t\treturn area;\r\n    \t}\t\r\n    }\r\n\r\n\r\nIt resizes row heigth too but it does it well only when this renderer is used for a single column.\r\n\r\nAnd this is the way I used to invoke it for render my table.\r\n\r\n\r\n    final int wordWrapColumnIndex = ...;\r\n    myTable = new JTable() {\t\r\n\t\tpublic TableCellRenderer getCellRenderer(int row, int column) {\r\n\t\t\tif (column == wordWrapColumnIndex ) {\r\n\t\t\t    return wordWrapRenderer;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn super.getCellRenderer(row, column);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n","title":"How to wrap lines in a jtable cell?","body":"<p>Hi I had your same problem but the solution I implemented is inspired by the sample available from the Java Tutorial for drawing multiline text and draws the text on the cell using the text APIs.</p>\n\n<p><a href=\"http://java.sun.com/docs/books/tutorial/2d/text/drawmulstring.html\" rel=\"noreferrer\">http://java.sun.com/docs/books/tutorial/2d/text/drawmulstring.html</a></p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.font.FontRenderContext;\nimport java.awt.font.LineBreakMeasurer;\nimport java.awt.font.TextLayout;\nimport java.text.AttributedCharacterIterator;\nimport java.text.AttributedString;\nimport java.text.BreakIterator;\n\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.TableCellRenderer;\n\n\npublic class MultilineTableCell \n    implements TableCellRenderer {\n    class CellArea extends DefaultTableCellRenderer {\n        /**\n         * \n         */\n        private static final long serialVersionUID = 1L;\n        private String text;\n        protected int rowIndex;\n        protected int columnIndex;\n        protected JTable table;\n        protected Font font;\n        private int paragraphStart,paragraphEnd;\n        private LineBreakMeasurer lineMeasurer;\n\n        public CellArea(String s, JTable tab, int row, int column,boolean isSelected) {\n            text = s;\n            rowIndex = row;\n            columnIndex = column;\n            table = tab;\n            font = table.getFont();\n            if (isSelected) {\n                setForeground(table.getSelectionForeground());\n                setBackground(table.getSelectionBackground());\n            }\n        }\n        public void paintComponent(Graphics gr) {\n            super.paintComponent(gr);\n            if ( text != null &amp;&amp; !text.isEmpty() ) {\n                Graphics2D g = (Graphics2D) gr;\n                if (lineMeasurer == null) {\n                    AttributedCharacterIterator paragraph = new AttributedString(text).getIterator();\n                    paragraphStart = paragraph.getBeginIndex();\n                    paragraphEnd = paragraph.getEndIndex();\n                    FontRenderContext frc = g.getFontRenderContext();\n                    lineMeasurer = new LineBreakMeasurer(paragraph,BreakIterator.getWordInstance(), frc);\n                }\n                float breakWidth = (float)table.getColumnModel().getColumn(columnIndex).getWidth();\n                float drawPosY = 0;\n                // Set position to the index of the first character in the paragraph.\n                lineMeasurer.setPosition(paragraphStart);\n                // Get lines until the entire paragraph has been displayed.\n                while (lineMeasurer.getPosition() &lt; paragraphEnd) {\n                    // Retrieve next layout. A cleverer program would also cache\n                    // these layouts until the component is re-sized.\n                    TextLayout layout = lineMeasurer.nextLayout(breakWidth);\n                    // Compute pen x position. If the paragraph is right-to-left we\n                    // will align the TextLayouts to the right edge of the panel.\n                    // Note: this won't occur for the English text in this sample.\n                    // Note: drawPosX is always where the LEFT of the text is placed.\n                    float drawPosX = layout.isLeftToRight()\n                        ? 0 : breakWidth - layout.getAdvance();\n                    // Move y-coordinate by the ascent of the layout.\n                    drawPosY += layout.getAscent();\n                    // Draw the TextLayout at (drawPosX, drawPosY).\n                    layout.draw(g, drawPosX, drawPosY);\n                    // Move y-coordinate in preparation for next layout.\n                    drawPosY += layout.getDescent() + layout.getLeading();\n                }\n                table.setRowHeight(rowIndex,(int) drawPosY);\n            }\n        }\n    }\n    public Component getTableCellRendererComponent(\n            JTable table, Object value,boolean isSelected, boolean hasFocus, int row,int column\n        )\n    {\n        CellArea area = new CellArea(value.toString(),table,row,column,isSelected);\n        return area;\n    }   \n}\n</code></pre>\n\n<p>It resizes row heigth too but it does it well only when this renderer is used for a single column.</p>\n\n<p>And this is the way I used to invoke it for render my table.</p>\n\n<pre><code>final int wordWrapColumnIndex = ...;\nmyTable = new JTable() {    \n    public TableCellRenderer getCellRenderer(int row, int column) {\n        if (column == wordWrapColumnIndex ) {\n            return wordWrapRenderer;\n        }\n        else {\n            return super.getCellRenderer(row, column);\n        }\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434374,"reputation":1,"user_id":1356089,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351227266,"creation_date":1335354946,"answer_id":10315070,"question_id":965023,"body_markdown":"Write the headers in HTML. Here is an example of one that I have. The only issue that I am experiencing is I am having a hard time having them scroll in the `JPanel` if I adjust the height of the headers.\r\n\r\n        myTable.getColumnModel().getColumn(1).setPreferredWidth(75);\r\n        myTable.getColumnModel().getColumn(1).setHeaderValue(&quot;&lt;html&gt;&lt;b&gt;Day Of&lt;br&gt;Week&lt;/b&gt;&lt;/html&gt;&quot;);","title":"How to wrap lines in a jtable cell?","body":"<p>Write the headers in HTML. Here is an example of one that I have. The only issue that I am experiencing is I am having a hard time having them scroll in the <code>JPanel</code> if I adjust the height of the headers.</p>\n\n<pre><code>    myTable.getColumnModel().getColumn(1).setPreferredWidth(75);\n    myTable.getColumnModel().getColumn(1).setHeaderValue(\"&lt;html&gt;&lt;b&gt;Day Of&lt;br&gt;Week&lt;/b&gt;&lt;/html&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575491959,"creation_date":1381390189,"answer_id":19289635,"question_id":965023,"body_markdown":"The only way to implement this properly using Swing (I don&#39;t know about JavaFX: the same principles may possibly apply) is by understanding and using `setBounds` on the renderer component.\r\n\r\nI have come to this conclusion as a result of trial and error, rather than examining the source code.  But is s clear that this method is responsible for laying out text (in whatever font) and calculating and then implementing word-wrapping).\r\n\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import javax.swing.table.*;\r\n    \r\n    public class MultiWrapColDemo {\r\n      public static void main(String[] args) throws FileNotFoundException {\r\n        EventQueue.invokeLater(new ShowIt());\r\n      }\r\n    }\r\n    \r\n    class ShowIt implements Runnable {\r\n      @Override\r\n      public void run() {\r\n        JTable table = new JTable();\r\n        table.getColumnModel().addColumnModelListener( new WrapColListener( table ) );\r\n        table.setDefaultRenderer( Object.class, new JTPRenderer() );\r\n        \r\n        // examples:\r\n    //    table.setIntercellSpacing( new Dimension( 40, 20 ));\r\n    //    table.setIntercellSpacing( new Dimension( 4, 2 ));\r\n        \r\n        Vector&lt;Vector&lt;String&gt;&gt; dataVector = new Vector&lt;Vector&lt;String&gt;&gt;();\r\n        String lorem1 = &quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore&quot;;\r\n        String lorem2 = &quot;et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum&quot;;\r\n        \r\n        for (int i = 0; i &lt; 12; i++) {\r\n          Vector&lt;String&gt; row = null;\r\n          if (i % 4 == 0) {\r\n            row = new Vector&lt;String&gt;(Arrays.asList(new String[] { &quot;iggle&quot;, lorem1, &quot;poggle&quot;, &quot;poke&quot; }));\r\n          } else if (i % 4 == 1) {\r\n            row = new Vector&lt;String&gt;(Arrays.asList(new String[] { lorem2, &quot;piggle&quot;, &quot;poggle&quot;, lorem1 }));\r\n          } else if (i % 4 == 2) {\r\n            row = new Vector&lt;String&gt;(Arrays.asList(new String[] { lorem1, &quot;piggle&quot;, lorem2, &quot;poke&quot; }));\r\n          } else\r\n            row = new Vector&lt;String&gt;(Arrays.asList(new String[] { &quot;iggle&quot;, lorem2, &quot;poggle&quot;, lorem2 }));\r\n          dataVector.add(row);\r\n        }\r\n        Vector&lt;String&gt; columnIdentifiers = new Vector&lt;String&gt;(Arrays.asList(new String[] { &quot;iggle&quot;, &quot;piggle&quot;, &quot;poggle&quot;,\r\n            &quot;poke&quot; }));\r\n        table.getTableHeader().setFont(table.getTableHeader().getFont().deriveFont(20f).deriveFont(Font.BOLD));\r\n        ((DefaultTableModel) table.getModel()).setDataVector(dataVector, columnIdentifiers);\r\n        JFrame frame = new JFrame(&quot;MultiWrapColTable&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JScrollPane jsp = new JScrollPane(table);\r\n        frame.getContentPane().add(jsp);\r\n        frame.pack();\r\n        frame.setBounds(50, 50, 800, 500);\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    \r\n    // if the renderer on a column (or the whole table) is not a JTextComponent calculating its preferredSize will not do \r\n    // any wrapping ... but it won&#39;t do any harm....\r\n    class JTPRenderer extends JTextPane implements TableCellRenderer {\r\n      @Override\r\n      public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\r\n          int row, int column) {\r\n        setText(value.toString());\r\n        return this;\r\n      }\r\n    }\r\n    \r\n    class WrapColListener implements TableColumnModelListener {\r\n      \r\n      JTable m_table;\r\n      \r\n      WrapColListener( JTable table ){\r\n        m_table = table;\r\n      }\r\n      \r\n      void refresh_row_heights() {\r\n        int n_rows = m_table.getRowCount();\r\n        int n_cols = m_table.getColumnCount();\r\n        int intercell_width = m_table.getIntercellSpacing().width;\r\n        int intercell_height = m_table.getIntercellSpacing().height;\r\n        TableColumnModel col_model = m_table.getColumnModel();\r\n        // these null checks are due to concurrency considerations... much can change between the col margin change\r\n        // event and the call to refresh_row_heights (although not in this SSCCE...)\r\n        if( col_model == null ) return;\r\n        // go through ALL rows, calculating row heights\r\n        for (int row = 0; row &lt; n_rows; row++) {\r\n          int pref_row_height = 1;\r\n          // calculate row heights from cell, setting width constraint by means of setBounds...\r\n          for (int col = 0; col &lt; n_cols; col++) {\r\n            Object value = m_table.getValueAt(row, col);\r\n            TableCellRenderer renderer = m_table.getCellRenderer(row, col);\r\n            if( renderer == null ) return;\r\n            Component comp = renderer.getTableCellRendererComponent( m_table, value, false, false,\r\n                row, col);\r\n            if( comp == null ) return;\r\n            int col_width = col_model.getColumn(col).getWidth();\r\n            // constrain width of component\r\n            comp.setBounds(new Rectangle(0, 0, col_width - intercell_width, Integer.MAX_VALUE ));\r\n            // getPreferredSize then returns &quot;true&quot; height as a function of attributes (e.g. font) and word-wrapping\r\n            int pref_cell_height = comp.getPreferredSize().height  + intercell_height;\r\n            if (pref_cell_height &gt; pref_row_height) {\r\n              pref_row_height = pref_cell_height;\r\n            }\r\n          }\r\n          if (pref_row_height != m_table.getRowHeight(row)) {\r\n            m_table.setRowHeight(row, pref_row_height);\r\n          }\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void columnAdded(TableColumnModelEvent e) {\r\n        refresh_row_heights();\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void columnRemoved(TableColumnModelEvent e) {\r\n        // probably no need to call refresh_row_heights\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void columnMoved(TableColumnModelEvent e) {\r\n        // probably no need to call refresh_row_heights\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void columnMarginChanged(ChangeEvent e) {\r\n        refresh_row_heights();\r\n      }\r\n    \r\n      @Override\r\n      public void columnSelectionChanged(ListSelectionEvent e) {\r\n        // probably no need to call refresh_row_heights\r\n        \r\n      }\r\n      \r\n    }\r\n\r\nThe above works fine in this SSCCE... but in the real world, with more complex fonts, more text and larger tables you start to run into problems.  I therefore propose below a new version of the Listener class along with a new version of the renderer (just to introduce the use of a complex font...).  Substitute these into the above SSCCE if interested...\r\n    \r\n    \r\n    /*\r\n     * This class reflects the fact that 1) when you drag a column boundary using the mouse a very large number of\r\n     * ChangeEvents are generated and 2) with more complex fonts, more text and larger tables (&quot;real world&quot;) the amount\r\n     * of computation in calculating the row heights becomes significant and leads to an unresponsive GUI, or worse.\r\n     * This &quot;first&quot; strategy to address this involves setting a pause between the detection of a change event and the\r\n     * refreshing of the rows.  Naturally this involves a Timer, the run() method of which is not the EDT, so it\r\n     * must then submit to EventQueue.invokeLater...\r\n     * The larger the table, the more text involved, and the more complex the fonts... the more ingenuity will have to \r\n     * be used in coping with the potentially vast amount of computation involved in getting the ideal row heights.  This\r\n     * is in the nature of the beast.  Ideas might involve: \r\n     * 1) adjusting the row heights immediately only for rows which are visible or likely to be visible (Viewport), and \r\n     * then making successive calls to EventQueue.invokeLater to deal with all the other rows\r\n     * 2) giving cells a &quot;memory&quot; of their heights as a function of the allowed width.  Unfortunately it will not allow\r\n     * the possibility of interpolating intermediate values because the question of whether a line wraps may hinge on a \r\n     * single pixel difference, although an imperfect solution to this would be err on the side of caution, i.e. pretend\r\n     * that a column is a little thinner than it is to cause wrapping before it is strictly necessary... particularly when \r\n     * cells are out of view...\r\n     * ... other ideas...(?)  \r\n     */\r\n    class FirstRealWorldWrapColListener implements TableColumnModelListener {\r\n      \r\n      JTable m_table;\r\n      final static long PAUSE_TIME = 50L;\r\n      java.util.Timer m_pause_timer = new java.util.Timer( &quot;pause timer&quot;, true );\r\n      TimerTask m_pause_task;\r\n      \r\n      class PauseTask extends TimerTask{\r\n        @Override\r\n        public void run() {\r\n          EventQueue.invokeLater( new Runnable(){\r\n            @Override\r\n            public void run() {\r\n              refresh_row_heights();\r\n              System.out.println( &quot;=== setting m_pause_task to null...&quot; );\r\n              m_pause_task = null;\r\n            }});\r\n        }\r\n      }\r\n      \r\n      FirstRealWorldWrapColListener( JTable table ){\r\n        m_table = table;\r\n      }\r\n      \r\n      \r\n      void queue_refresh(){\r\n        if( m_pause_task != null ){\r\n          return;\r\n        }\r\n        System.out.println( &quot;=== scheduling...&quot; );\r\n        m_pause_task = new PauseTask();\r\n        m_pause_timer.schedule( m_pause_task, PAUSE_TIME ); \r\n         \r\n      }\r\n      \r\n      void refresh_row_heights() {\r\n        \r\n        int n_rows = m_table.getRowCount();\r\n        int n_cols = m_table.getColumnCount();\r\n        int intercell_width = m_table.getIntercellSpacing().width;\r\n        int intercell_height = m_table.getIntercellSpacing().height;\r\n        TableColumnModel col_model = m_table.getColumnModel();\r\n        // these null checks are due to concurrency considerations... much can change between the col margin change\r\n        // event and the call to refresh_row_heights (although not in this SSCCE...)\r\n        if( col_model == null ) return;\r\n        // go through ALL rows, calculating row heights\r\n        for (int row = 0; row &lt; n_rows; row++) {\r\n          int pref_row_height = 1;\r\n          // calculate row heights from cell, setting width constraint by means of setBounds...\r\n          for (int col = 0; col &lt; n_cols; col++) {\r\n            Object value = m_table.getValueAt(row, col);\r\n            TableCellRenderer renderer = m_table.getCellRenderer(row, col);\r\n            if( renderer == null ) return;\r\n            Component comp = renderer.getTableCellRendererComponent( m_table, value, false, false,\r\n                row, col);\r\n            if( comp == null ) return;\r\n            int col_width = col_model.getColumn(col).getWidth();\r\n            // constrain width of component\r\n            comp.setBounds(new Rectangle(0, 0, col_width - intercell_width, Integer.MAX_VALUE ));\r\n            // getPreferredSize then returns &quot;true&quot; height as a function of attributes (e.g. font) and word-wrapping\r\n            int pref_cell_height = comp.getPreferredSize().height  + intercell_height;\r\n            if (pref_cell_height &gt; pref_row_height) {\r\n              pref_row_height = pref_cell_height;\r\n            }\r\n          }\r\n          if (pref_row_height != m_table.getRowHeight(row)) {\r\n            m_table.setRowHeight(row, pref_row_height);\r\n          }\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public void columnAdded(TableColumnModelEvent e) {\r\n    //    refresh_row_heights();\r\n        queue_refresh();\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void columnRemoved(TableColumnModelEvent e) {\r\n        // probably no need to call refresh_row_heights\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void columnMoved(TableColumnModelEvent e) {\r\n        // probably no need to call refresh_row_heights\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void columnMarginChanged(ChangeEvent e) {\r\n    //    refresh_row_heights();\r\n        queue_refresh();\r\n      }\r\n    \r\n      @Override\r\n      public void columnSelectionChanged(ListSelectionEvent e) {\r\n        // probably no need to call refresh_row_heights\r\n        \r\n      }\r\n      \r\n    }\r\n\r\n    // if the renderer on a column (or the whole table) is not a JTextComponent calculating its preferredSize will not do \r\n    // any wrapping ... but it won&#39;t do any harm....\r\n    class JTPRenderer extends JTextPane implements TableCellRenderer {\r\n      Font m_default_font, m_big_font, m_default_alternate_font, m_big_alternate_font;\r\n      HashMap&lt;AttributedCharacterIterator.Attribute, Object&gt;  m_red_serif_attr_map;\r\n      //\r\n      JTPRenderer() {\r\n        m_default_font = getFont();\r\n        m_big_font = m_default_font.deriveFont(m_default_font.getSize() * 1.5f);\r\n        m_red_serif_attr_map = new HashMap&lt;AttributedCharacterIterator.Attribute, Object &gt;();\r\n        m_red_serif_attr_map.put( TextAttribute.FAMILY, Font.SERIF );\r\n        m_red_serif_attr_map.put( TextAttribute.FOREGROUND, Color.RED );\r\n        m_red_serif_attr_map.put( TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED );\r\n        m_default_alternate_font = m_default_font.deriveFont( m_red_serif_attr_map );\r\n        m_big_alternate_font = m_big_font.deriveFont( m_red_serif_attr_map );\r\n        // simpler alternate font:\r\n    //    m_default_alternate_font = m_default_font.deriveFont( Font.BOLD | Font.ITALIC );\r\n    //    m_big_alternate_font = m_big_font.deriveFont( Font.BOLD | Font.ITALIC );\r\n      }\r\n    \r\n      @Override\r\n      public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\r\n          int row, int column) {\r\n        int rc = row + column;\r\n        if( rc % 4 == 2 )\r\n          setFont( rc % 5 == 1 ?  m_big_alternate_font : m_default_alternate_font );\r\n        else \r\n          setFont( rc % 5 == 1 ?  m_big_font : m_default_font );\r\n        setText(value.toString());\r\n        return this;\r\n      }\r\n      \r\n    }\r\n","title":"How to wrap lines in a jtable cell?","body":"<p>The only way to implement this properly using Swing (I don't know about JavaFX: the same principles may possibly apply) is by understanding and using <code>setBounds</code> on the renderer component.</p>\n\n<p>I have come to this conclusion as a result of trial and error, rather than examining the source code.  But is s clear that this method is responsible for laying out text (in whatever font) and calculating and then implementing word-wrapping).</p>\n\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport java.util.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.table.*;\n\npublic class MultiWrapColDemo {\n  public static void main(String[] args) throws FileNotFoundException {\n    EventQueue.invokeLater(new ShowIt());\n  }\n}\n\nclass ShowIt implements Runnable {\n  @Override\n  public void run() {\n    JTable table = new JTable();\n    table.getColumnModel().addColumnModelListener( new WrapColListener( table ) );\n    table.setDefaultRenderer( Object.class, new JTPRenderer() );\n\n    // examples:\n//    table.setIntercellSpacing( new Dimension( 40, 20 ));\n//    table.setIntercellSpacing( new Dimension( 4, 2 ));\n\n    Vector&lt;Vector&lt;String&gt;&gt; dataVector = new Vector&lt;Vector&lt;String&gt;&gt;();\n    String lorem1 = \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore\";\n    String lorem2 = \"et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum\";\n\n    for (int i = 0; i &lt; 12; i++) {\n      Vector&lt;String&gt; row = null;\n      if (i % 4 == 0) {\n        row = new Vector&lt;String&gt;(Arrays.asList(new String[] { \"iggle\", lorem1, \"poggle\", \"poke\" }));\n      } else if (i % 4 == 1) {\n        row = new Vector&lt;String&gt;(Arrays.asList(new String[] { lorem2, \"piggle\", \"poggle\", lorem1 }));\n      } else if (i % 4 == 2) {\n        row = new Vector&lt;String&gt;(Arrays.asList(new String[] { lorem1, \"piggle\", lorem2, \"poke\" }));\n      } else\n        row = new Vector&lt;String&gt;(Arrays.asList(new String[] { \"iggle\", lorem2, \"poggle\", lorem2 }));\n      dataVector.add(row);\n    }\n    Vector&lt;String&gt; columnIdentifiers = new Vector&lt;String&gt;(Arrays.asList(new String[] { \"iggle\", \"piggle\", \"poggle\",\n        \"poke\" }));\n    table.getTableHeader().setFont(table.getTableHeader().getFont().deriveFont(20f).deriveFont(Font.BOLD));\n    ((DefaultTableModel) table.getModel()).setDataVector(dataVector, columnIdentifiers);\n    JFrame frame = new JFrame(\"MultiWrapColTable\");\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JScrollPane jsp = new JScrollPane(table);\n    frame.getContentPane().add(jsp);\n    frame.pack();\n    frame.setBounds(50, 50, 800, 500);\n    frame.setVisible(true);\n  }\n}\n\n\n// if the renderer on a column (or the whole table) is not a JTextComponent calculating its preferredSize will not do \n// any wrapping ... but it won't do any harm....\nclass JTPRenderer extends JTextPane implements TableCellRenderer {\n  @Override\n  public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\n      int row, int column) {\n    setText(value.toString());\n    return this;\n  }\n}\n\nclass WrapColListener implements TableColumnModelListener {\n\n  JTable m_table;\n\n  WrapColListener( JTable table ){\n    m_table = table;\n  }\n\n  void refresh_row_heights() {\n    int n_rows = m_table.getRowCount();\n    int n_cols = m_table.getColumnCount();\n    int intercell_width = m_table.getIntercellSpacing().width;\n    int intercell_height = m_table.getIntercellSpacing().height;\n    TableColumnModel col_model = m_table.getColumnModel();\n    // these null checks are due to concurrency considerations... much can change between the col margin change\n    // event and the call to refresh_row_heights (although not in this SSCCE...)\n    if( col_model == null ) return;\n    // go through ALL rows, calculating row heights\n    for (int row = 0; row &lt; n_rows; row++) {\n      int pref_row_height = 1;\n      // calculate row heights from cell, setting width constraint by means of setBounds...\n      for (int col = 0; col &lt; n_cols; col++) {\n        Object value = m_table.getValueAt(row, col);\n        TableCellRenderer renderer = m_table.getCellRenderer(row, col);\n        if( renderer == null ) return;\n        Component comp = renderer.getTableCellRendererComponent( m_table, value, false, false,\n            row, col);\n        if( comp == null ) return;\n        int col_width = col_model.getColumn(col).getWidth();\n        // constrain width of component\n        comp.setBounds(new Rectangle(0, 0, col_width - intercell_width, Integer.MAX_VALUE ));\n        // getPreferredSize then returns \"true\" height as a function of attributes (e.g. font) and word-wrapping\n        int pref_cell_height = comp.getPreferredSize().height  + intercell_height;\n        if (pref_cell_height &gt; pref_row_height) {\n          pref_row_height = pref_cell_height;\n        }\n      }\n      if (pref_row_height != m_table.getRowHeight(row)) {\n        m_table.setRowHeight(row, pref_row_height);\n      }\n    }\n  }\n\n  @Override\n  public void columnAdded(TableColumnModelEvent e) {\n    refresh_row_heights();\n\n  }\n\n  @Override\n  public void columnRemoved(TableColumnModelEvent e) {\n    // probably no need to call refresh_row_heights\n\n  }\n\n  @Override\n  public void columnMoved(TableColumnModelEvent e) {\n    // probably no need to call refresh_row_heights\n\n  }\n\n  @Override\n  public void columnMarginChanged(ChangeEvent e) {\n    refresh_row_heights();\n  }\n\n  @Override\n  public void columnSelectionChanged(ListSelectionEvent e) {\n    // probably no need to call refresh_row_heights\n\n  }\n\n}\n</code></pre>\n\n<p>The above works fine in this SSCCE... but in the real world, with more complex fonts, more text and larger tables you start to run into problems.  I therefore propose below a new version of the Listener class along with a new version of the renderer (just to introduce the use of a complex font...).  Substitute these into the above SSCCE if interested...</p>\n\n<pre><code>/*\n * This class reflects the fact that 1) when you drag a column boundary using the mouse a very large number of\n * ChangeEvents are generated and 2) with more complex fonts, more text and larger tables (\"real world\") the amount\n * of computation in calculating the row heights becomes significant and leads to an unresponsive GUI, or worse.\n * This \"first\" strategy to address this involves setting a pause between the detection of a change event and the\n * refreshing of the rows.  Naturally this involves a Timer, the run() method of which is not the EDT, so it\n * must then submit to EventQueue.invokeLater...\n * The larger the table, the more text involved, and the more complex the fonts... the more ingenuity will have to \n * be used in coping with the potentially vast amount of computation involved in getting the ideal row heights.  This\n * is in the nature of the beast.  Ideas might involve: \n * 1) adjusting the row heights immediately only for rows which are visible or likely to be visible (Viewport), and \n * then making successive calls to EventQueue.invokeLater to deal with all the other rows\n * 2) giving cells a \"memory\" of their heights as a function of the allowed width.  Unfortunately it will not allow\n * the possibility of interpolating intermediate values because the question of whether a line wraps may hinge on a \n * single pixel difference, although an imperfect solution to this would be err on the side of caution, i.e. pretend\n * that a column is a little thinner than it is to cause wrapping before it is strictly necessary... particularly when \n * cells are out of view...\n * ... other ideas...(?)  \n */\nclass FirstRealWorldWrapColListener implements TableColumnModelListener {\n\n  JTable m_table;\n  final static long PAUSE_TIME = 50L;\n  java.util.Timer m_pause_timer = new java.util.Timer( \"pause timer\", true );\n  TimerTask m_pause_task;\n\n  class PauseTask extends TimerTask{\n    @Override\n    public void run() {\n      EventQueue.invokeLater( new Runnable(){\n        @Override\n        public void run() {\n          refresh_row_heights();\n          System.out.println( \"=== setting m_pause_task to null...\" );\n          m_pause_task = null;\n        }});\n    }\n  }\n\n  FirstRealWorldWrapColListener( JTable table ){\n    m_table = table;\n  }\n\n\n  void queue_refresh(){\n    if( m_pause_task != null ){\n      return;\n    }\n    System.out.println( \"=== scheduling...\" );\n    m_pause_task = new PauseTask();\n    m_pause_timer.schedule( m_pause_task, PAUSE_TIME ); \n\n  }\n\n  void refresh_row_heights() {\n\n    int n_rows = m_table.getRowCount();\n    int n_cols = m_table.getColumnCount();\n    int intercell_width = m_table.getIntercellSpacing().width;\n    int intercell_height = m_table.getIntercellSpacing().height;\n    TableColumnModel col_model = m_table.getColumnModel();\n    // these null checks are due to concurrency considerations... much can change between the col margin change\n    // event and the call to refresh_row_heights (although not in this SSCCE...)\n    if( col_model == null ) return;\n    // go through ALL rows, calculating row heights\n    for (int row = 0; row &lt; n_rows; row++) {\n      int pref_row_height = 1;\n      // calculate row heights from cell, setting width constraint by means of setBounds...\n      for (int col = 0; col &lt; n_cols; col++) {\n        Object value = m_table.getValueAt(row, col);\n        TableCellRenderer renderer = m_table.getCellRenderer(row, col);\n        if( renderer == null ) return;\n        Component comp = renderer.getTableCellRendererComponent( m_table, value, false, false,\n            row, col);\n        if( comp == null ) return;\n        int col_width = col_model.getColumn(col).getWidth();\n        // constrain width of component\n        comp.setBounds(new Rectangle(0, 0, col_width - intercell_width, Integer.MAX_VALUE ));\n        // getPreferredSize then returns \"true\" height as a function of attributes (e.g. font) and word-wrapping\n        int pref_cell_height = comp.getPreferredSize().height  + intercell_height;\n        if (pref_cell_height &gt; pref_row_height) {\n          pref_row_height = pref_cell_height;\n        }\n      }\n      if (pref_row_height != m_table.getRowHeight(row)) {\n        m_table.setRowHeight(row, pref_row_height);\n      }\n    }\n  }\n\n  @Override\n  public void columnAdded(TableColumnModelEvent e) {\n//    refresh_row_heights();\n    queue_refresh();\n\n  }\n\n  @Override\n  public void columnRemoved(TableColumnModelEvent e) {\n    // probably no need to call refresh_row_heights\n\n  }\n\n  @Override\n  public void columnMoved(TableColumnModelEvent e) {\n    // probably no need to call refresh_row_heights\n\n  }\n\n  @Override\n  public void columnMarginChanged(ChangeEvent e) {\n//    refresh_row_heights();\n    queue_refresh();\n  }\n\n  @Override\n  public void columnSelectionChanged(ListSelectionEvent e) {\n    // probably no need to call refresh_row_heights\n\n  }\n\n}\n\n// if the renderer on a column (or the whole table) is not a JTextComponent calculating its preferredSize will not do \n// any wrapping ... but it won't do any harm....\nclass JTPRenderer extends JTextPane implements TableCellRenderer {\n  Font m_default_font, m_big_font, m_default_alternate_font, m_big_alternate_font;\n  HashMap&lt;AttributedCharacterIterator.Attribute, Object&gt;  m_red_serif_attr_map;\n  //\n  JTPRenderer() {\n    m_default_font = getFont();\n    m_big_font = m_default_font.deriveFont(m_default_font.getSize() * 1.5f);\n    m_red_serif_attr_map = new HashMap&lt;AttributedCharacterIterator.Attribute, Object &gt;();\n    m_red_serif_attr_map.put( TextAttribute.FAMILY, Font.SERIF );\n    m_red_serif_attr_map.put( TextAttribute.FOREGROUND, Color.RED );\n    m_red_serif_attr_map.put( TextAttribute.WIDTH, TextAttribute.WIDTH_EXTENDED );\n    m_default_alternate_font = m_default_font.deriveFont( m_red_serif_attr_map );\n    m_big_alternate_font = m_big_font.deriveFont( m_red_serif_attr_map );\n    // simpler alternate font:\n//    m_default_alternate_font = m_default_font.deriveFont( Font.BOLD | Font.ITALIC );\n//    m_big_alternate_font = m_big_font.deriveFont( Font.BOLD | Font.ITALIC );\n  }\n\n  @Override\n  public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\n      int row, int column) {\n    int rc = row + column;\n    if( rc % 4 == 2 )\n      setFont( rc % 5 == 1 ?  m_big_alternate_font : m_default_alternate_font );\n    else \n      setFont( rc % 5 == 1 ?  m_big_font : m_default_font );\n    setText(value.toString());\n    return this;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288344,"reputation":296,"user_id":588702,"display_name":"Bodey Baker"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388222088,"creation_date":1388222088,"answer_id":20812845,"question_id":965023,"body_markdown":"As noted above the row height needs to be calculated but the current solution could be improved. In fact, it wasn&#39;t working for me. `jtxt.getColumns()` was returning zero causing a divide by zero. Here&#39;s some code I think is cleaner:\r\n\r\n    // set the width on the jTextArea causing a calc of preferred height\r\n    jtxt.setSize(table.getWidth(), Short.MAX_VALUE);\r\n    int prefH = jtxt.getPreferredSize().height;\r\n    table.setRowHeight(row, prefH);","title":"How to wrap lines in a jtable cell?","body":"<p>As noted above the row height needs to be calculated but the current solution could be improved. In fact, it wasn't working for me. <code>jtxt.getColumns()</code> was returning zero causing a divide by zero. Here's some code I think is cleaner:</p>\n\n<pre><code>// set the width on the jTextArea causing a calc of preferred height\njtxt.setSize(table.getWidth(), Short.MAX_VALUE);\nint prefH = jtxt.getPreferredSize().height;\ntable.setRowHeight(row, prefH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215678,"reputation":539,"user_id":1183327,"accept_rate":60,"display_name":"Arrvi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422473664,"creation_date":1422473664,"answer_id":28200862,"question_id":965023,"body_markdown":"In addition to this question I&#39;d like to share with you solution for multiline cell editor. It&#39;s a bit hacky (stores reference to edited row), but does the job.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.table.TableCellEditor;\r\n    import java.awt.*;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    class MultilineTableCellEditor extends AbstractCellEditor implements TableCellEditor {\r\n    \r\n        JComponent component = new JTextArea();\r\n        JTable table;\r\n        int lastRowIndex;\r\n        \r\n        public MultilineTableCellEditor() {\r\n            JTextArea textArea = ((JTextArea) component);\r\n            textArea.setLineWrap(true);\r\n            textArea.setWrapStyleWord(true);\r\n            textArea.addComponentListener(new ComponentAdapter() {\r\n                @Override\r\n                public void componentResized(ComponentEvent e) {\r\n                    super.componentResized(e);\r\n                    table.setRowHeight(lastRowIndex, (int) (textArea.getPreferredSize().getHeight()));\r\n                }\r\n            });\r\n            textArea.addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyTyped(KeyEvent e) {\r\n                    super.keyTyped(e);\r\n                    table.setRowHeight(lastRowIndex, (int) (textArea.getPreferredSize().getHeight()));\r\n                }\r\n            });\r\n        }\r\n    \r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected,\r\n                                                     int rowIndex, int vColIndex) {\r\n            this.table = table;\r\n            lastRowIndex = rowIndex;\r\n            \r\n            ((JTextArea) component).setText((String) value);\r\n            component.setFont(table.getFont());\r\n    \r\n            return component;\r\n        }\r\n    \r\n        public Object getCellEditorValue() {\r\n            return ((JTextArea) component).getText();\r\n        }\r\n    }\r\n\r\nUsed as so:\r\n\r\n        JTable table = new JTable(tableModel) {\r\n            // Cell renderer by Alessandro Rossi (posted as solution to this question)\r\n            MultilineTableCell renderer = new MultilineTableCell();\r\n            MultilineTableCellEditor editor = new MultilineTableCellEditor();\r\n            \r\n            @Override\r\n            public TableCellRenderer getCellRenderer(int row, int column) {\r\n                if (column == multilineColumn) {\r\n                    return renderer;\r\n                }\r\n                return super.getCellRenderer(row, column);\r\n            }\r\n\r\n            @Override\r\n            public TableCellEditor getCellEditor(int row, int column) {\r\n                if ( column == multilineColumn ) {\r\n                    return editor;\r\n                }\r\n                return super.getCellEditor(row, column);\r\n            }\r\n        };","title":"How to wrap lines in a jtable cell?","body":"<p>In addition to this question I'd like to share with you solution for multiline cell editor. It's a bit hacky (stores reference to edited row), but does the job.</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.table.TableCellEditor;\nimport java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\nclass MultilineTableCellEditor extends AbstractCellEditor implements TableCellEditor {\n\n    JComponent component = new JTextArea();\n    JTable table;\n    int lastRowIndex;\n\n    public MultilineTableCellEditor() {\n        JTextArea textArea = ((JTextArea) component);\n        textArea.setLineWrap(true);\n        textArea.setWrapStyleWord(true);\n        textArea.addComponentListener(new ComponentAdapter() {\n            @Override\n            public void componentResized(ComponentEvent e) {\n                super.componentResized(e);\n                table.setRowHeight(lastRowIndex, (int) (textArea.getPreferredSize().getHeight()));\n            }\n        });\n        textArea.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyTyped(KeyEvent e) {\n                super.keyTyped(e);\n                table.setRowHeight(lastRowIndex, (int) (textArea.getPreferredSize().getHeight()));\n            }\n        });\n    }\n\n    public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected,\n                                                 int rowIndex, int vColIndex) {\n        this.table = table;\n        lastRowIndex = rowIndex;\n\n        ((JTextArea) component).setText((String) value);\n        component.setFont(table.getFont());\n\n        return component;\n    }\n\n    public Object getCellEditorValue() {\n        return ((JTextArea) component).getText();\n    }\n}\n</code></pre>\n\n<p>Used as so:</p>\n\n<pre><code>    JTable table = new JTable(tableModel) {\n        // Cell renderer by Alessandro Rossi (posted as solution to this question)\n        MultilineTableCell renderer = new MultilineTableCell();\n        MultilineTableCellEditor editor = new MultilineTableCellEditor();\n\n        @Override\n        public TableCellRenderer getCellRenderer(int row, int column) {\n            if (column == multilineColumn) {\n                return renderer;\n            }\n            return super.getCellRenderer(row, column);\n        }\n\n        @Override\n        public TableCellEditor getCellEditor(int row, int column) {\n            if ( column == multilineColumn ) {\n                return editor;\n            }\n            return super.getCellEditor(row, column);\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2505128,"reputation":363,"user_id":2886411,"accept_rate":80,"display_name":"sboda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424778196,"creation_date":1424778196,"answer_id":28694914,"question_id":965023,"body_markdown":"I stumbled in this same problem, and I needed to modify a little the code that it was written here, so I attach my own version:\r\n\r\n    import java.awt.Component;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.table.TableCellRenderer;\r\n\r\n     public class LineWrapCellRenderer extends JTextArea implements TableCellRenderer {\r\n\r\n\t\t@Override\r\n\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\r\n\t\t\tint row, int column) {\r\n\t\tthis.setText((String) value);\r\n\t\tthis.setWrapStyleWord(true);\r\n\t\tthis.setLineWrap(true);\r\n\r\n\t\tint fontHeight = this.getFontMetrics(this.getFont()).getHeight();\r\n\t\tint textLength = this.getText().length();\r\n\t\tint lines = textLength / this.getColumnWidth();\r\n\t\tif (lines == 0) {\r\n\t\t\tlines = 1;\r\n\t\t}\r\n\r\n\t\tint height = fontHeight * lines;\r\n\t\ttable.setRowHeight(row, height);\r\n\r\n\t\treturn this;\r\n\t }\r\n\r\n    }\r\n\r\n","title":"How to wrap lines in a jtable cell?","body":"<p>I stumbled in this same problem, and I needed to modify a little the code that it was written here, so I attach my own version:</p>\n\n<pre><code>import java.awt.Component;\nimport javax.swing.JTable;\nimport javax.swing.JTextArea;\nimport javax.swing.table.TableCellRenderer;\n\n public class LineWrapCellRenderer extends JTextArea implements TableCellRenderer {\n\n    @Override\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus,\n        int row, int column) {\n    this.setText((String) value);\n    this.setWrapStyleWord(true);\n    this.setLineWrap(true);\n\n    int fontHeight = this.getFontMetrics(this.getFont()).getHeight();\n    int textLength = this.getText().length();\n    int lines = textLength / this.getColumnWidth();\n    if (lines == 0) {\n        lines = 1;\n    }\n\n    int height = fontHeight * lines;\n    table.setRowHeight(row, height);\n\n    return this;\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3923,"reputation":1205,"user_id":5751,"accept_rate":100,"display_name":"Arvodan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57707,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":965049,"answer_count":8,"score":33,"last_activity_date":1647205721,"creation_date":1244469219,"question_id":965023,"body_markdown":"I&#39;m trying to implement a custom TableRenderer as described in [this tutorial][1]. \r\nI&#39;d like to have the renderer line-wrap each text that is to long for the given cell. \r\nThe idea is, to use a TextArea as renderer, as it supports line wrapping. However, the following code does not behave as expected:\r\n\r\n    public class LineWrapCellRenderer  extends JTextArea implements TableCellRenderer {\r\n\r\n\t\t@Override\r\n\t\tpublic Component getTableCellRendererComponent(\r\n\t\t\t\tJTable table,\r\n\t\t\t\tObject value,\r\n\t\t\t\tboolean isSelected,\r\n\t\t\t\tboolean hasFocus,\r\n\t\t\t\tint row,\r\n\t\t\t\tint column) {\r\n\t\t\tthis.setText((String)value);\r\n\t\t\tthis.setWrapStyleWord(true);\t\t\t\r\n\t\t\tthis.setLineWrap(true);\t\t\t\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n    }\r\n\r\nI set this renderer with \r\n\r\n    table.setDefaultRenderer(String.class, new LineWrapCellRenderer());\r\n\r\n\r\nBut the cell entries stay unwrapped.\r\nIf I add `this.setBackground(Color.YELLOW)` to the `getTableCellRendererComponent()` method, \r\nall cells are yellow as expected, but not wrapped.\r\n\r\nAny ideas? \r\n\r\n**UPDATE:** As Michael Borgwardt stated in the comments, the problem is not the line wrap, but the row height: JTables rows are fixed size, so if a cell is getting higher (cause the text is now multi-lined), we have to increase the row height.\r\nBut how much? I will check if this is worth another SO-question. If not, I will add this solution here.\r\n\r\n\r\n**Update2:** The following code will determine the row height (if placed in `getTableCellRendererComponent()`): \r\n\r\n\tint fontHeight = this.getFontMetrics(this.getFont()).getHeight();\r\n\tint textLength = this.getText().length();\r\n\tint lines = textLength / this.getColumns() +1;//+1, cause we need at least 1 row.\t\t\t\r\n\tint height = fontHeight * lines;\t\t\t\r\n\ttable.setRowHeight(row, height);\r\n\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/components/table.html#renderer\r\n\r\n\r\n\r\n","title":"How to wrap lines in a jtable cell?","body":"<p>I'm trying to implement a custom TableRenderer as described in <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/table.html#renderer\" rel=\"noreferrer\">this tutorial</a>. \nI'd like to have the renderer line-wrap each text that is to long for the given cell. \nThe idea is, to use a TextArea as renderer, as it supports line wrapping. However, the following code does not behave as expected:</p>\n\n<pre><code>public class LineWrapCellRenderer  extends JTextArea implements TableCellRenderer {\n\n    @Override\n    public Component getTableCellRendererComponent(\n            JTable table,\n            Object value,\n            boolean isSelected,\n            boolean hasFocus,\n            int row,\n            int column) {\n        this.setText((String)value);\n        this.setWrapStyleWord(true);            \n        this.setLineWrap(true);         \n        return this;\n    }\n\n}\n</code></pre>\n\n<p>I set this renderer with </p>\n\n<pre><code>table.setDefaultRenderer(String.class, new LineWrapCellRenderer());\n</code></pre>\n\n<p>But the cell entries stay unwrapped.\nIf I add <code>this.setBackground(Color.YELLOW)</code> to the <code>getTableCellRendererComponent()</code> method, \nall cells are yellow as expected, but not wrapped.</p>\n\n<p>Any ideas? </p>\n\n<p><strong>UPDATE:</strong> As Michael Borgwardt stated in the comments, the problem is not the line wrap, but the row height: JTables rows are fixed size, so if a cell is getting higher (cause the text is now multi-lined), we have to increase the row height.\nBut how much? I will check if this is worth another SO-question. If not, I will add this solution here.</p>\n\n<p><strong>Update2:</strong> The following code will determine the row height (if placed in <code>getTableCellRendererComponent()</code>): </p>\n\n<pre><code>int fontHeight = this.getFontMetrics(this.getFont()).getHeight();\nint textLength = this.getText().length();\nint lines = textLength / this.getColumns() +1;//+1, cause we need at least 1 row.           \nint height = fontHeight * lines;            \ntable.setRowHeight(row, height);\n</code></pre>\n"},{"tags":["java","java-stream","counting","collectors","groupingby"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646996640,"creation_date":1646993517,"answer_id":71436900,"question_id":71428945,"body_markdown":"To achieve that, first you have to group by **department**, and only then by **gender**, not the opposite.\r\n\r\nThe first collector `groupingBy(Employee::getDepartment, _downstream_ )` will split the data set into groups based on department. As it downstream collector `partitioningBy(employee -&gt; employee.getGender() == Employee.Gender.MALE, _downstream_ )` will be applied, it&#39;ll divide the data mapped to each department into **two** parts based on the employee gender. And finally, `Collectors.counting()` applied as a downstream will provide the *total number* of employees of each **gender** for every **department**.\r\n\r\nSo the intermediate *map* produced by the `collect()` operation will be of type `Map&lt;String, Map&lt;Boolean, Long&gt;&gt;` - *employee count* by **gender** (`Boolean`) for each **department** (*for simplicity, department is a plain string*).\r\n\r\nThe next step in transform this map into `Map&lt;Employee.Gender, Map&lt;String, Long&gt;&gt;` - *employee count* by **department** for each **gender**.\r\n\r\nMy approach is to create a stream over the entry set and replace *each entry* with a new one, which will hold a **gender** as its *key* and in order to preserve the information about a **department** its *value*  in turn will be an entry with a **department** as a key and a with a **count by department** as its value.\r\n\r\nThen collect the *stream of entries* with `groupingBy` by the *entry key*. Apply `mapping` as a downstream collector to extract the *nested entry*. And then apply `Collectors.toMap()` to collect entries of type `Map.Entry&lt;String, Long&gt;` into map.\r\n\r\n&gt; all **departments** are included in a **sorted** order\r\n\r\nTo insure the order in the nested map (*department by count*) a `NavigableMap` should be used.\r\n\r\nIn order to do that, a flavor of `toMap()` that expects a `mapFactory` needs to be used (*it also expects a `mergeFunction` which isn&#39;t really useful for this task since there will be no duplicates, but it has to be provided as well*).\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Employee&gt; employeeRepository = \r\n                List.of(new Employee(&quot;IT&quot;, Employee.Gender.MALE),\r\n                        new Employee(&quot;HR&quot;, Employee.Gender.MALE),\r\n                        new Employee(&quot;MGMT&quot;, Employee.Gender.FEMALE));\r\n\r\n        Map&lt;Employee.Gender, NavigableMap&lt;String, Long&gt;&gt; departmentCountByGender = employeeRepository\r\n                .stream()\r\n                .collect(Collectors.groupingBy(Employee::getDepartment, // Map&lt;String, Map&lt;Boolean, Long&gt;&gt; - department to *employee count* by gender\r\n                            Collectors.partitioningBy(employee -&gt; employee.getGender() == Employee.Gender.MALE,\r\n                                                      Collectors.counting())))\r\n                .entrySet().stream()\r\n                .flatMap(entryDep -&gt; entryDep.getValue().entrySet().stream()\r\n                        .map(entryGen -&gt; Map.entry(entryGen.getKey() ? Employee.Gender.MALE : Employee.Gender.FEMALE,\r\n                                                   Map.entry(entryDep.getKey(), entryGen.getValue()))))\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                            Collectors.mapping(Map.Entry::getValue,\r\n                                    Collectors.toMap(Map.Entry::getKey,\r\n                                                     Map.Entry::getValue,\r\n                                                     (v1, v2) -&gt; v1,\r\n                                                     TreeMap::new))));\r\n\r\n        System.out.println(departmentCountByGender);\r\n    }\r\n\r\nDummy `Employee` *class* used for demo-purposes:\r\n```\r\nclass Employee {\r\n    enum Gender {FEMALE, MALE};\r\n\r\n    private String department;\r\n    private Gender gender;\r\n    // etc.\r\n    \r\n    // constructor, getters\r\n}\r\n```\r\n**Output**\r\n```\r\n{FEMALE={HR=0, IT=0, MGMT=1}, MALE={HR=1, IT=1, MGMT=0}}\r\n```","title":"How to preserve all Subgroups while applying nested groupingBy collector","body":"<p>To achieve that, first you have to group by <strong>department</strong>, and only then by <strong>gender</strong>, not the opposite.</p>\n<p>The first collector <code>groupingBy(Employee::getDepartment, _downstream_ )</code> will split the data set into groups based on department. As it downstream collector <code>partitioningBy(employee -&gt; employee.getGender() == Employee.Gender.MALE, _downstream_ )</code> will be applied, it'll divide the data mapped to each department into <strong>two</strong> parts based on the employee gender. And finally, <code>Collectors.counting()</code> applied as a downstream will provide the <em>total number</em> of employees of each <strong>gender</strong> for every <strong>department</strong>.</p>\n<p>So the intermediate <em>map</em> produced by the <code>collect()</code> operation will be of type <code>Map&lt;String, Map&lt;Boolean, Long&gt;&gt;</code> - <em>employee count</em> by <strong>gender</strong> (<code>Boolean</code>) for each <strong>department</strong> (<em>for simplicity, department is a plain string</em>).</p>\n<p>The next step in transform this map into <code>Map&lt;Employee.Gender, Map&lt;String, Long&gt;&gt;</code> - <em>employee count</em> by <strong>department</strong> for each <strong>gender</strong>.</p>\n<p>My approach is to create a stream over the entry set and replace <em>each entry</em> with a new one, which will hold a <strong>gender</strong> as its <em>key</em> and in order to preserve the information about a <strong>department</strong> its <em>value</em>  in turn will be an entry with a <strong>department</strong> as a key and a with a <strong>count by department</strong> as its value.</p>\n<p>Then collect the <em>stream of entries</em> with <code>groupingBy</code> by the <em>entry key</em>. Apply <code>mapping</code> as a downstream collector to extract the <em>nested entry</em>. And then apply <code>Collectors.toMap()</code> to collect entries of type <code>Map.Entry&lt;String, Long&gt;</code> into map.</p>\n<blockquote>\n<p>all <strong>departments</strong> are included in a <strong>sorted</strong> order</p>\n</blockquote>\n<p>To insure the order in the nested map (<em>department by count</em>) a <code>NavigableMap</code> should be used.</p>\n<p>In order to do that, a flavor of <code>toMap()</code> that expects a <code>mapFactory</code> needs to be used (<em>it also expects a <code>mergeFunction</code> which isn't really useful for this task since there will be no duplicates, but it has to be provided as well</em>).</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Employee&gt; employeeRepository = \n            List.of(new Employee(&quot;IT&quot;, Employee.Gender.MALE),\n                    new Employee(&quot;HR&quot;, Employee.Gender.MALE),\n                    new Employee(&quot;MGMT&quot;, Employee.Gender.FEMALE));\n\n    Map&lt;Employee.Gender, NavigableMap&lt;String, Long&gt;&gt; departmentCountByGender = employeeRepository\n            .stream()\n            .collect(Collectors.groupingBy(Employee::getDepartment, // Map&lt;String, Map&lt;Boolean, Long&gt;&gt; - department to *employee count* by gender\n                        Collectors.partitioningBy(employee -&gt; employee.getGender() == Employee.Gender.MALE,\n                                                  Collectors.counting())))\n            .entrySet().stream()\n            .flatMap(entryDep -&gt; entryDep.getValue().entrySet().stream()\n                    .map(entryGen -&gt; Map.entry(entryGen.getKey() ? Employee.Gender.MALE : Employee.Gender.FEMALE,\n                                               Map.entry(entryDep.getKey(), entryGen.getValue()))))\n            .collect(Collectors.groupingBy(Map.Entry::getKey,\n                        Collectors.mapping(Map.Entry::getValue,\n                                Collectors.toMap(Map.Entry::getKey,\n                                                 Map.Entry::getValue,\n                                                 (v1, v2) -&gt; v1,\n                                                 TreeMap::new))));\n\n    System.out.println(departmentCountByGender);\n}\n</code></pre>\n<p>Dummy <code>Employee</code> <em>class</em> used for demo-purposes:</p>\n<pre><code>class Employee {\n    enum Gender {FEMALE, MALE};\n\n    private String department;\n    private Gender gender;\n    // etc.\n    \n    // constructor, getters\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{FEMALE={HR=0, IT=0, MGMT=1}, MALE={HR=1, IT=1, MGMT=0}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647205495,"creation_date":1647204360,"answer_id":71460706,"question_id":71428945,"body_markdown":"You can continue to work on the result of your code:\r\n\r\n    List&lt;String&gt; deptList = employees.stream().map(Employee::getDepartment).sorted().toList();\r\n\r\n    Map&lt;Gender, Map&lt;String, Long&gt;&gt; tmpResult = employees.stream()\r\n            .collect(Collectors.groupingBy(Employee::getGender, Collectors.groupingBy(Employee::getDepartment, Collectors.counting())));\r\n    \r\n    Map&lt;Gender, Map&lt;String, Long&gt;&gt; finalResult = new HashMap&lt;&gt;();\r\n    \r\n    for (Map.Entry&lt;Gender, Map&lt;String, Long&gt;&gt; entry : tmpResult.entrySet()) {\r\n        Map&lt;String, Long&gt; val = new LinkedHashMap&lt;&gt;();\r\n        for (String dept : deptList) {\r\n            val.put(dept, entry.getValue().getOrDefault(dept, 0L));\r\n        }\r\n    \r\n        finalResult.put(entry.getKey(), val);\r\n    }\r\n    \r\n    System.out.print(finalResult);\r\n\r\nProbably readability or maintainability of code won&#39;t be good if you want to achieve result with one line of code.\r\n\r\nHowever, there is one alternative if you don&#39;t mind to use third-party library: [abacus-common][1]\r\n\r\n    Map&lt;Gender, Map&lt;String, Integer&gt;&gt; result = Stream.of(employees)\r\n            .groupByToEntry(Employee::getGender, MoreCollectors.countingIntBy(Employee::getDepartment)) // step 1) group by gender \r\n            .mapValue(it -&gt; Maps.newMap(deptList, Fn.identity(), dept -&gt; it.getOrDefault(dept, 0), IntFunctions.ofLinkedHashMap())) // step 2) process the value.\r\n            .toMap();\r\n\r\n\r\nDeclaration: I&#39;m the developer of abacus-common\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to preserve all Subgroups while applying nested groupingBy collector","body":"<p>You can continue to work on the result of your code:</p>\n<pre><code>List&lt;String&gt; deptList = employees.stream().map(Employee::getDepartment).sorted().toList();\n\nMap&lt;Gender, Map&lt;String, Long&gt;&gt; tmpResult = employees.stream()\n        .collect(Collectors.groupingBy(Employee::getGender, Collectors.groupingBy(Employee::getDepartment, Collectors.counting())));\n\nMap&lt;Gender, Map&lt;String, Long&gt;&gt; finalResult = new HashMap&lt;&gt;();\n\nfor (Map.Entry&lt;Gender, Map&lt;String, Long&gt;&gt; entry : tmpResult.entrySet()) {\n    Map&lt;String, Long&gt; val = new LinkedHashMap&lt;&gt;();\n    for (String dept : deptList) {\n        val.put(dept, entry.getValue().getOrDefault(dept, 0L));\n    }\n\n    finalResult.put(entry.getKey(), val);\n}\n\nSystem.out.print(finalResult);\n</code></pre>\n<p>Probably readability or maintainability of code won't be good if you want to achieve result with one line of code.</p>\n<p>However, there is one alternative if you don't mind to use third-party library: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Map&lt;Gender, Map&lt;String, Integer&gt;&gt; result = Stream.of(employees)\n        .groupByToEntry(Employee::getGender, MoreCollectors.countingIntBy(Employee::getDepartment)) // step 1) group by gender \n        .mapValue(it -&gt; Maps.newMap(deptList, Fn.identity(), dept -&gt; it.getOrDefault(dept, 0), IntFunctions.ofLinkedHashMap())) // step 2) process the value.\n        .toMap();\n</code></pre>\n<p>Declaration: I'm the developer of abacus-common</p>\n"}],"owner":{"account_id":3022288,"reputation":367,"user_id":2563020,"accept_rate":44,"display_name":"Roshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71436900,"answer_count":2,"score":2,"last_activity_date":1647205495,"creation_date":1646936283,"question_id":71428945,"body_markdown":"I am trying to group a *list of employees* by the **gender** and **department**. \r\n\r\nHow do I ensure all **departments** are included in a *sorted order* for each **gender**, even when the relevant gender *count is zero*?\r\n\r\nCurrently, I have the following code and output\r\n\r\n    employeeRepository.findAll().stream()\r\n                .collect(Collectors.groupingBy(Employee::getGender, \r\n                            Collectors.groupingBy(Employee::getDepartment, \r\n                                                  Collectors.counting())));\r\n    \r\n    //output\r\n    //{MALE={HR=1, IT=1}, FEMALE={MGMT=1}}\r\n\r\n*Preferred output is:*\r\n\r\n    {MALE={HR=1, IT=1, MGMT=0}, FEMALE={HR=0, IT=0, MGMT=1}}","title":"How to preserve all Subgroups while applying nested groupingBy collector","body":"<p>I am trying to group a <em>list of employees</em> by the <strong>gender</strong> and <strong>department</strong>.</p>\n<p>How do I ensure all <strong>departments</strong> are included in a <em>sorted order</em> for each <strong>gender</strong>, even when the relevant gender <em>count is zero</em>?</p>\n<p>Currently, I have the following code and output</p>\n<pre><code>employeeRepository.findAll().stream()\n            .collect(Collectors.groupingBy(Employee::getGender, \n                        Collectors.groupingBy(Employee::getDepartment, \n                                              Collectors.counting())));\n\n//output\n//{MALE={HR=1, IT=1}, FEMALE={MGMT=1}}\n</code></pre>\n<p><em>Preferred output is:</em></p>\n<pre><code>{MALE={HR=1, IT=1, MGMT=0}, FEMALE={HR=0, IT=0, MGMT=1}}\n</code></pre>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1607922751,"post_id":65283893,"comment_id":115414890,"body_markdown":"`CharSequence` is just the interface for `java.lang.String`.  Most likely, your framework is just trying to code to an interface, rather than returning you an implementation.  My advice: maybe don&#39;t even attempt what you are doing.","body":"<code>CharSequence</code> is just the interface for <code>java.lang.String</code>.  Most likely, your framework is just trying to code to an interface, rather than returning you an implementation.  My advice: maybe don&#39;t even attempt what you are doing."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1607923257,"post_id":65283893,"comment_id":115414987,"body_markdown":"@TimBiegeleisen I generally agree with you, but if `CharSequence` is the _return_ type of a property (or in this case, of a public field), it&#39;ll be a hassle to interoperate with everything else that expects `String`.","body":"@TimBiegeleisen I generally agree with you, but if <code>CharSequence</code> is the <i>return</i> type of a property (or in this case, of a public field), it&#39;ll be a hassle to interoperate with everything else that expects <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":1075770,"reputation":111,"user_id":1073964,"accept_rate":100,"display_name":"icecreamhead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608045862,"creation_date":1608045862,"answer_id":65308772,"question_id":65283893,"body_markdown":"Have you tried upgrading to Avro version `1.10.0`? I don&#39;t see the issue in this version. Setting the `stringType` field in the pom fixed it for me, so I expect it&#39;s just a version problem.","title":"Using string instead of java.lang.charsequence","body":"<p>Have you tried upgrading to Avro version <code>1.10.0</code>? I don't see the issue in this version. Setting the <code>stringType</code> field in the pom fixed it for me, so I expect it's just a version problem.</p>\n"},{"tags":[],"owner":{"account_id":3524000,"reputation":2587,"user_id":2945616,"accept_rate":83,"display_name":"Radix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647205391,"creation_date":1647205391,"answer_id":71460834,"question_id":65283893,"body_markdown":"If you want all you string fields be instances of `java.lang.String` then you only have to configure the compiler:\r\n\r\n\r\n    java -jar /path/to/avro-tools-1.7.7.jar compile -string schema \r\n\r\n\r\nor if you are using the Maven plugin\r\n\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.7&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;stringType&gt;String&lt;/stringType&gt;\r\n      &lt;/configuration&gt;\r\n      [...]\r\n    &lt;/plugin&gt;        \r\n\r\n\r\nMore details: https://stackoverflow.com/a/25315412/2945616","title":"Using string instead of java.lang.charsequence","body":"<p>If you want all you string fields be instances of <code>java.lang.String</code> then you only have to configure the compiler:</p>\n<pre><code>java -jar /path/to/avro-tools-1.7.7.jar compile -string schema \n</code></pre>\n<p>or if you are using the Maven plugin</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n  &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.7.7&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;stringType&gt;String&lt;/stringType&gt;\n  &lt;/configuration&gt;\n  [...]\n&lt;/plugin&gt;        \n</code></pre>\n<p>More details: <a href=\"https://stackoverflow.com/a/25315412/2945616\">https://stackoverflow.com/a/25315412/2945616</a></p>\n"}],"owner":{"account_id":20207055,"reputation":1,"user_id":14821164,"display_name":"Gyeongeon Yun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647205391,"creation_date":1607922504,"question_id":65283893,"body_markdown":"(apache avro 1.8.2, avro-maven-plugin 1.8.2)\r\n\r\nI&#39;m having problem with avro:schema. \r\n\r\nI declared a field like under below\r\n```\r\n{\r\n            &quot;name&quot;: &quot;type&quot;,\r\n            &quot;type&quot;: {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;avro.java.string&quot;: &quot;java.lang.String&quot;\r\n            }\r\n        },\r\n```\r\n\r\nbut avro:schema converts like \r\n\r\n```\r\n@Deprecated public java.lang.CharSequence type;\r\n\r\n...\r\n\r\npublic OptionDetail(..., java.lang.CharSequence type, ...) {\r\n    ...\r\n    this.type = type;\r\n    ...\r\n  }\r\n```\r\n\r\n---\r\n\r\nWhat I tried:\r\n1. `&quot;avro.java.string&quot;: &quot;java.lang.String&quot;`\r\n2. (pom.xml, &lt;configuration&gt;)\r\n```\r\n&lt;stringType&gt;String&lt;/stringType&gt;\r\n```\r\n\r\nBoth of above doesn&#39;t work properly. Please let me know what should I try more. \r\nThanks.","title":"Using string instead of java.lang.charsequence","body":"<p>(apache avro 1.8.2, avro-maven-plugin 1.8.2)</p>\n<p>I'm having problem with avro:schema.</p>\n<p>I declared a field like under below</p>\n<pre><code>{\n            &quot;name&quot;: &quot;type&quot;,\n            &quot;type&quot;: {\n                &quot;type&quot;: &quot;string&quot;,\n                &quot;avro.java.string&quot;: &quot;java.lang.String&quot;\n            }\n        },\n</code></pre>\n<p>but avro:schema converts like</p>\n<pre><code>@Deprecated public java.lang.CharSequence type;\n\n...\n\npublic OptionDetail(..., java.lang.CharSequence type, ...) {\n    ...\n    this.type = type;\n    ...\n  }\n</code></pre>\n<hr />\n<p>What I tried:</p>\n<ol>\n<li><code>&quot;avro.java.string&quot;: &quot;java.lang.String&quot;</code></li>\n<li>(pom.xml, )</li>\n</ol>\n<pre><code>&lt;stringType&gt;String&lt;/stringType&gt;\n</code></pre>\n<p>Both of above doesn't work properly. Please let me know what should I try more.\nThanks.</p>\n"},{"tags":["java","json","object","jackson"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647205358,"creation_date":1647205358,"answer_id":71460831,"question_id":71460083,"body_markdown":"If keys can be different, one option is to use a `Map`. Your `Result` class won&#39;t be needed, parse the result property into `Map&lt;String, Object&gt;`. Then extract like this:\r\n```\r\nMap&lt;String, Object&gt; result = deserialize();\r\nArrayList&lt;ArrayList&lt;Object&gt;&gt; arrays = (ArrayList&lt;ArrayList&lt;Object&gt;&gt;) result.get(&quot;XXBTZUSD&quot;);\r\n```\r\nJust change property depending on which currency pair you need.\r\n\r\nAnother option is writing custom deserializer, in which to always put value in your `candles` field, regardless of how the property is named in json.","title":"Generate different Java Objects from JSON API Response using Jackson","body":"<p>If keys can be different, one option is to use a <code>Map</code>. Your <code>Result</code> class won't be needed, parse the result property into <code>Map&lt;String, Object&gt;</code>. Then extract like this:</p>\n<pre><code>Map&lt;String, Object&gt; result = deserialize();\nArrayList&lt;ArrayList&lt;Object&gt;&gt; arrays = (ArrayList&lt;ArrayList&lt;Object&gt;&gt;) result.get(&quot;XXBTZUSD&quot;);\n</code></pre>\n<p>Just change property depending on which currency pair you need.</p>\n<p>Another option is writing custom deserializer, in which to always put value in your <code>candles</code> field, regardless of how the property is named in json.</p>\n"}],"owner":{"account_id":16842940,"reputation":23,"user_id":12177891,"display_name":"Joseph Moulton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71460831,"answer_count":1,"score":1,"last_activity_date":1647205358,"creation_date":1647199285,"question_id":71460083,"body_markdown":"I&#39;m working on a project at the moment that requires me to take in a various currency pairs and generate a response object from an API call response. I&#39;m using jackson to map the JSON response to java objects then reading data from an ArrayList generated. The problem is the JSON response can have the different currency pairing strings as a key for the list of pairing data. Here&#39;s what a typical response looks like:\r\n\r\n    {&quot;error&quot;:[],&quot;result&quot;:{&quot;XXBTZUSD&quot;:[[1647062100,&quot;39091.2&quot;,&quot;39184.9&quot;,&quot;39088.9&quot;,&quot;39139.0&quot;,&quot;39150.9&quot;,&quot;59.22447291&quot;,161],}[1647063000,&quot;39138.9&quot;,&quot;39188.4&quot;,&quot;39138.9&quot;,&quot;39151.2&quot;,&quot;39174.2&quot;,&quot;2.92905848&quot;,126]]}\r\n\r\nThe problem arises  when I try to pull data from a different currency pair as my result object is hard coded to pull the data for the JSON key XXBTZUSD. Here&#39;s what my result object looks like:\r\n    \r\n        public class Result{\r\n        \r\n            @JsonProperty(&quot;XXBTZUSD&quot;)\r\n            public ArrayList&lt;ArrayList&lt;Object&gt;&gt; candles;\r\n            public int last;\r\n        }\r\n\r\nI was thinking having the @JsonProperty be variable and pass in the key from the json response to correct pull the currnecy pair I set it to, but JsonProperty needs to be a constant. The only way around this I can see is to have a ton of different classes for each currency pair but that would be inefficient and take around 15 separate classes to do. I&#39;m not too familiar with the jackson library. If anyone has any ideas of how to solve this I would be greatly appreciative, I&#39;ve been trying to figure out a way around this for awhile now. Thank you!","title":"Generate different Java Objects from JSON API Response using Jackson","body":"<p>I'm working on a project at the moment that requires me to take in a various currency pairs and generate a response object from an API call response. I'm using jackson to map the JSON response to java objects then reading data from an ArrayList generated. The problem is the JSON response can have the different currency pairing strings as a key for the list of pairing data. Here's what a typical response looks like:</p>\n<pre><code>{&quot;error&quot;:[],&quot;result&quot;:{&quot;XXBTZUSD&quot;:[[1647062100,&quot;39091.2&quot;,&quot;39184.9&quot;,&quot;39088.9&quot;,&quot;39139.0&quot;,&quot;39150.9&quot;,&quot;59.22447291&quot;,161],}[1647063000,&quot;39138.9&quot;,&quot;39188.4&quot;,&quot;39138.9&quot;,&quot;39151.2&quot;,&quot;39174.2&quot;,&quot;2.92905848&quot;,126]]}\n</code></pre>\n<p>The problem arises  when I try to pull data from a different currency pair as my result object is hard coded to pull the data for the JSON key XXBTZUSD. Here's what my result object looks like:</p>\n<pre><code>    public class Result{\n    \n        @JsonProperty(&quot;XXBTZUSD&quot;)\n        public ArrayList&lt;ArrayList&lt;Object&gt;&gt; candles;\n        public int last;\n    }\n</code></pre>\n<p>I was thinking having the @JsonProperty be variable and pass in the key from the json response to correct pull the currnecy pair I set it to, but JsonProperty needs to be a constant. The only way around this I can see is to have a ton of different classes for each currency pair but that would be inefficient and take around 15 separate classes to do. I'm not too familiar with the jackson library. If anyone has any ideas of how to solve this I would be greatly appreciative, I've been trying to figure out a way around this for awhile now. Thank you!</p>\n"},{"tags":["java","spring","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647205026,"creation_date":1647205026,"answer_id":71460787,"question_id":71457302,"body_markdown":"As you said its an Array. Cast the node to an ArrayNode. Select the first element [0] and call the getter. Should be it.\r\nOr check out this: [https://stackoverflow.com/a/16793133/15565539][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16793133/15565539","title":"How do I get a value from a JsonNode array?","body":"<p>As you said its an Array. Cast the node to an ArrayNode. Select the first element [0] and call the getter. Should be it.\nOr check out this: <a href=\"https://stackoverflow.com/a/16793133/15565539\">https://stackoverflow.com/a/16793133/15565539</a></p>\n"}],"owner":{"account_id":15696142,"reputation":499,"user_id":13916802,"display_name":"Alpharius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647205026,"creation_date":1647178715,"question_id":71457302,"body_markdown":"I have such a json response:\r\n\r\n```\r\n&quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;1&quot;,\r\n            &quot;login&quot;: &quot;name&quot;,\r\n            &quot;display_name&quot;: &quot;dName&quot;,\r\n            &quot;type&quot;: &quot;&quot;,\r\n            &quot;broadcaster_type&quot;: &quot;&quot;,\r\n            &quot;description&quot;: &quot;&quot;,\r\n            &quot;profile_image_url&quot;: &quot;...&quot;,\r\n            &quot;offline_image_url&quot;: &quot;&quot;,\r\n            &quot;view_count&quot;: 1,\r\n            &quot;created_at&quot;: &quot;2017-09-11T20:36:17Z&quot;\r\n        }\r\n    ]\r\n```\r\nI get it using a WebClient get request:\r\n\r\n```\r\ndateRequest\r\n                .execute(sendBy)\r\n                .log()\r\n                .map(jsonNode -&gt; {\r\n                    String createdAt = &quot;&quot;;\r\n                    \r\n                    return createdAt;\r\n                })\r\n                .subscribe();\r\n```\r\nAnd inside the map I want to pull out the creation date.The function says that it is an array, but it cannot be iterated. That is ``` JsonNode data = jsonNode.path(&quot;data&quot;);``` writes everything into one solid value:\r\n\r\n```\r\n{&quot;id&quot;:&quot;&quot;,&quot;login&quot;:&quot;name&quot;,&quot;display_name&quot;:&quot;dName&quot;,&quot;type&quot;:&quot;&quot;,&quot;broadcaster_type&quot;:&quot;&quot;,&quot;description&quot;:&quot;&quot;,&quot;profile_image_url&quot;:&quot;...&quot;,&quot;offline_image_url&quot;:&quot;&quot;,&quot;view_count&quot;:1,&quot;created_at&quot;:&quot;2017-09-11T20:36:17Z&quot;}\r\n```\r\nAnd it is not possible to pull out the value normally , that is , calls ```data.path(&quot;id&quot;).textValue() ``` return *null*.\r\n\r\nThe only way that turns out to use:\r\n\r\n```\r\nIterator&lt;JsonNode&gt; iterator = data.iterator();\r\nJsonNode next = iterator.next();\r\nJsonNode id = next.path(&quot;id&quot;);\r\nString stringId = id.textValue();\r\n```\r\n\r\nIs it possible to pull out these values normally without using an iterator for 1 value?\r\n\r\n\r\n","title":"How do I get a value from a JsonNode array?","body":"<p>I have such a json response:</p>\n<pre><code>&quot;data&quot;: [\n        {\n            &quot;id&quot;: &quot;1&quot;,\n            &quot;login&quot;: &quot;name&quot;,\n            &quot;display_name&quot;: &quot;dName&quot;,\n            &quot;type&quot;: &quot;&quot;,\n            &quot;broadcaster_type&quot;: &quot;&quot;,\n            &quot;description&quot;: &quot;&quot;,\n            &quot;profile_image_url&quot;: &quot;...&quot;,\n            &quot;offline_image_url&quot;: &quot;&quot;,\n            &quot;view_count&quot;: 1,\n            &quot;created_at&quot;: &quot;2017-09-11T20:36:17Z&quot;\n        }\n    ]\n</code></pre>\n<p>I get it using a WebClient get request:</p>\n<pre><code>dateRequest\n                .execute(sendBy)\n                .log()\n                .map(jsonNode -&gt; {\n                    String createdAt = &quot;&quot;;\n                    \n                    return createdAt;\n                })\n                .subscribe();\n</code></pre>\n<p>And inside the map I want to pull out the creation date.The function says that it is an array, but it cannot be iterated. That is <code> JsonNode data = jsonNode.path(&quot;data&quot;);</code> writes everything into one solid value:</p>\n<pre><code>{&quot;id&quot;:&quot;&quot;,&quot;login&quot;:&quot;name&quot;,&quot;display_name&quot;:&quot;dName&quot;,&quot;type&quot;:&quot;&quot;,&quot;broadcaster_type&quot;:&quot;&quot;,&quot;description&quot;:&quot;&quot;,&quot;profile_image_url&quot;:&quot;...&quot;,&quot;offline_image_url&quot;:&quot;&quot;,&quot;view_count&quot;:1,&quot;created_at&quot;:&quot;2017-09-11T20:36:17Z&quot;}\n</code></pre>\n<p>And it is not possible to pull out the value normally , that is , calls <code>data.path(&quot;id&quot;).textValue() </code> return <em>null</em>.</p>\n<p>The only way that turns out to use:</p>\n<pre><code>Iterator&lt;JsonNode&gt; iterator = data.iterator();\nJsonNode next = iterator.next();\nJsonNode id = next.path(&quot;id&quot;);\nString stringId = id.textValue();\n</code></pre>\n<p>Is it possible to pull out these values normally without using an iterator for 1 value?</p>\n"},{"tags":["java","concurrency","lombok"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647204999,"creation_date":1647204999,"answer_id":71460782,"question_id":71460470,"body_markdown":"The `expensive()` implementation is just a demo. The idea is to allow the computation to return null and have it cached by the getter. To differentiate from the uninitialized state, it caches the `AtomicReference` itself as an indication that the computation was done and returned null. It&#39;s a hacky approach, but it gets the job done.","title":"Is the null check necessary in the following context?","body":"<p>The <code>expensive()</code> implementation is just a demo. The idea is to allow the computation to return null and have it cached by the getter. To differentiate from the uninitialized state, it caches the <code>AtomicReference</code> itself as an indication that the computation was done and returned null. It's a hacky approach, but it gets the job done.</p>\n"}],"owner":{"account_id":19864235,"reputation":13,"user_id":14819662,"display_name":"Nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71460782,"answer_count":1,"score":1,"last_activity_date":1647204999,"creation_date":1647202291,"question_id":71460470,"body_markdown":"I was reading the [lazy getter example][1] of the Lombok library, but could not figure out why the null check is applied to `actualValue`, as marked below:\r\n\r\n```java\r\n\r\npublic class GetterLazyExample {\r\n  private final java.util.concurrent.AtomicReference&lt;java.lang.Object&gt; cached = new java.util.concurrent.AtomicReference&lt;java.lang.Object&gt;();\r\n  \r\n  public double[] getCached() {\r\n    java.lang.Object value = this.cached.get();\r\n    if (value == null) {\r\n      synchronized(this.cached) {\r\n        value = this.cached.get();\r\n        if (value == null) {\r\n          final double[] actualValue = expensive(); // the `actualValue can&#39;t be null here, right?\r\n          value = actualValue == null ? this.cached : actualValue;  // why null check `actualValue`?\r\n          this.cached.set(value);\r\n        }\r\n      }\r\n    }\r\n    return (double[])(value == this.cached ? null : value);\r\n  }\r\n  \r\n  private double[] expensive() {\r\n    double[] result = new double[1000000]; // `new` won&#39;t return null, if not throwing OutOfMemoryError, right? \r\n    for (int i = 0; i &lt; result.length; i++) {\r\n      result[i] = Math.asin(i);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://projectlombok.org/features/GetterLazy","title":"Is the null check necessary in the following context?","body":"<p>I was reading the <a href=\"https://projectlombok.org/features/GetterLazy\" rel=\"nofollow noreferrer\">lazy getter example</a> of the Lombok library, but could not figure out why the null check is applied to <code>actualValue</code>, as marked below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class GetterLazyExample {\n  private final java.util.concurrent.AtomicReference&lt;java.lang.Object&gt; cached = new java.util.concurrent.AtomicReference&lt;java.lang.Object&gt;();\n  \n  public double[] getCached() {\n    java.lang.Object value = this.cached.get();\n    if (value == null) {\n      synchronized(this.cached) {\n        value = this.cached.get();\n        if (value == null) {\n          final double[] actualValue = expensive(); // the `actualValue can't be null here, right?\n          value = actualValue == null ? this.cached : actualValue;  // why null check `actualValue`?\n          this.cached.set(value);\n        }\n      }\n    }\n    return (double[])(value == this.cached ? null : value);\n  }\n  \n  private double[] expensive() {\n    double[] result = new double[1000000]; // `new` won't return null, if not throwing OutOfMemoryError, right? \n    for (int i = 0; i &lt; result.length; i++) {\n      result[i] = Math.asin(i);\n    }\n    return result;\n  }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","jar"],"comments":[{"owner":{"account_id":20588925,"reputation":61,"user_id":15113111,"display_name":"Thomas Basile"},"score":0,"creation_date":1647442622,"post_id":71456453,"comment_id":126372940,"body_markdown":"After looking on the web(where i found no fix) i&#39;ve found a solution myself.\n1. Go on the import statement that you&#39;re trying to use.\n2. Click on the error symbol on the left side of the line.\n3. Click &quot;Add &#39;requires libraryname&#39; directive to module-info.java&quot;\nThat&#39;s it!","body":"After looking on the web(where i found no fix) i&#39;ve found a solution myself. 1. Go on the import statement that you&#39;re trying to use. 2. Click on the error symbol on the left side of the line. 3. Click &quot;Add &#39;requires libraryname&#39; directive to module-info.java&quot; That&#39;s it!"}],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647204866,"creation_date":1647204866,"answer_id":71460767,"question_id":71456453,"body_markdown":"You may add it as module dependency: https://www.jetbrains.com/help/idea/working-with-module-dependencies.html","title":"How to add jar to classpath in IntelliJ?","body":"<p>You may add it as module dependency: <a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/working-with-module-dependencies.html</a></p>\n"}],"owner":{"account_id":20588925,"reputation":61,"user_id":15113111,"display_name":"Thomas Basile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2701,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647204866,"creation_date":1647172181,"question_id":71456453,"body_markdown":"after downloading a .jar file i need to include it in my classpath as the creator says in this page:\r\nhttps://arnaudnouard.wordpress.com/2013/02/02/undecorator-add-a-better-look-to-your-javafx-stages-part-i/\r\n\r\nBut how can i do it in IntelliJ IDEA?","title":"How to add jar to classpath in IntelliJ?","body":"<p>after downloading a .jar file i need to include it in my classpath as the creator says in this page:\n<a href=\"https://arnaudnouard.wordpress.com/2013/02/02/undecorator-add-a-better-look-to-your-javafx-stages-part-i/\" rel=\"nofollow noreferrer\">https://arnaudnouard.wordpress.com/2013/02/02/undecorator-add-a-better-look-to-your-javafx-stages-part-i/</a></p>\n<p>But how can i do it in IntelliJ IDEA?</p>\n"},{"tags":["java","jsoup","textnode"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1647204546,"creation_date":1510763875,"answer_id":47312767,"question_id":47312320,"body_markdown":"How about:\r\n\r\n\tprivate static void myfunction(Node element) {\r\n\t\tfor (Node n : element.childNodes()) {\r\n\t\t\tif (n instanceof TextNode &amp;&amp; !((TextNode) n).isBlank()) {\r\n\t\t\t\tSystem.out.println(((TextNode) n).text());\r\n\t\t\t} else {\r\n\t\t\t\tmyfunction(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nDemo: \r\n\r\n    String html = &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;A&lt;strong&gt;B&lt;/strong&gt;C&lt;strong&gt;D&lt;/strong&gt;E&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    myfunction(doc.body());\r\n\r\nOutput:\r\n\r\n    A\r\n    B\r\n    C\r\n    D\r\n    E\r\n\r\n---\r\nJava 15 update to avoid casting `(TextNode) n` (for more details see [JEP 375: Pattern Matching for instanceof (Second Preview)][1])\r\n\r\n\tprivate static void myfunction(Node element) {\r\n\t\tfor (Node n : element.childNodes()) {\r\n\t\t\tif (n instanceof TextNode tNode &amp;&amp; !tNode.isBlank()) {\r\n\t\t\t\tSystem.out.println(tNode.text());\r\n\t\t\t} else {\r\n\t\t\t\tmyfunction(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/375","title":"Jsoup. Print all text nodes in order","body":"<p>How about:</p>\n<pre><code>private static void myfunction(Node element) {\n    for (Node n : element.childNodes()) {\n        if (n instanceof TextNode &amp;&amp; !((TextNode) n).isBlank()) {\n            System.out.println(((TextNode) n).text());\n        } else {\n            myfunction(n);\n        }\n    }\n}\n</code></pre>\n<p>Demo:</p>\n<pre><code>String html = &quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;A&lt;strong&gt;B&lt;/strong&gt;C&lt;strong&gt;D&lt;/strong&gt;E&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\nDocument doc = Jsoup.parse(html);\nmyfunction(doc.body());\n</code></pre>\n<p>Output:</p>\n<pre><code>A\nB\nC\nD\nE\n</code></pre>\n<hr />\n<p>Java 15 update to avoid casting <code>(TextNode) n</code> (for more details see <a href=\"https://openjdk.java.net/jeps/375\" rel=\"nofollow noreferrer\">JEP 375: Pattern Matching for instanceof (Second Preview)</a>)</p>\n<pre><code>private static void myfunction(Node element) {\n    for (Node n : element.childNodes()) {\n        if (n instanceof TextNode tNode &amp;&amp; !tNode.isBlank()) {\n            System.out.println(tNode.text());\n        } else {\n            myfunction(n);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8006925,"reputation":1423,"user_id":6039974,"display_name":"johnII"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510764010,"creation_date":1510764010,"answer_id":47312811,"question_id":47312320,"body_markdown":"The `text()` method will do the trick e.g. below\r\n\r\n        public static void main(String[] args) {\r\n                Document doc = Jsoup.parse(&quot;&lt;html&gt;&lt;body&gt;&lt;p&gt;A&lt;strong&gt;B&lt;/strong&gt;C&lt;strong&gt;D&lt;/strong&gt;E&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n                String texts = doc.body().text();\r\n                System.out.println(texts);\r\n       }","title":"Jsoup. Print all text nodes in order","body":"<p>The <code>text()</code> method will do the trick e.g. below</p>\n\n<pre><code>    public static void main(String[] args) {\n            Document doc = Jsoup.parse(\"&lt;html&gt;&lt;body&gt;&lt;p&gt;A&lt;strong&gt;B&lt;/strong&gt;C&lt;strong&gt;D&lt;/strong&gt;E&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\");\n            String texts = doc.body().text();\n            System.out.println(texts);\n   }\n</code></pre>\n"}],"owner":{"account_id":3867479,"reputation":556,"user_id":3203665,"accept_rate":92,"display_name":"Marcos Fernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47312767,"answer_count":2,"score":4,"last_activity_date":1647204546,"creation_date":1510762611,"question_id":47312320,"body_markdown":"I want to parse this with Jsoup (this is a simplification, I would be parsing entire web pages)\r\n\r\n    &lt;html&gt;&lt;body&gt;&lt;p&gt;A&lt;strong&gt;B&lt;/strong&gt;C&lt;strong&gt;D&lt;/strong&gt;E&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nto obtain all text elements in the order they appear, this is:\r\n\r\n    A B C D E\r\n\r\nI have tried two approaches:\r\n\r\n    Elements elements = doc.children().select(&quot;*&quot;);\r\n    for (Element el : elements)\r\n        System.out.println(el.ownText());\r\n        \r\nwhich returns:\r\n\r\n    A C E B D\r\n\r\nThis is, the elements between &quot;strong&quot; tags go at the end.\r\n\r\nI have also tried a recursive version:\r\n\r\n    myfunction(doc.children());\r\n\r\n    private void myfunction(Elements elements) {\r\n      for (Element el : elements){\r\n        List&lt;Node&gt; nodos = el.childNodes();       \r\n        for (Node nodo : nodos) {                \r\n          if (nodo instanceof TextNode &amp;&amp; !((TextNode) nodo).isBlank()) {\r\n          System.out.println(((TextNode) nodo).text()); \r\n        }\r\n      }\r\n      myfunction(el.children());\r\n    } \r\n\r\nBut the result is the same as before.\r\n\r\nHow can this be accomplished? I feel I am making difficult something simple ...","title":"Jsoup. Print all text nodes in order","body":"<p>I want to parse this with Jsoup (this is a simplification, I would be parsing entire web pages)</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;&lt;p&gt;A&lt;strong&gt;B&lt;/strong&gt;C&lt;strong&gt;D&lt;/strong&gt;E&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>to obtain all text elements in the order they appear, this is:</p>\n\n<pre><code>A B C D E\n</code></pre>\n\n<p>I have tried two approaches:</p>\n\n<pre><code>Elements elements = doc.children().select(\"*\");\nfor (Element el : elements)\n    System.out.println(el.ownText());\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>A C E B D\n</code></pre>\n\n<p>This is, the elements between \"strong\" tags go at the end.</p>\n\n<p>I have also tried a recursive version:</p>\n\n<pre><code>myfunction(doc.children());\n\nprivate void myfunction(Elements elements) {\n  for (Element el : elements){\n    List&lt;Node&gt; nodos = el.childNodes();       \n    for (Node nodo : nodos) {                \n      if (nodo instanceof TextNode &amp;&amp; !((TextNode) nodo).isBlank()) {\n      System.out.println(((TextNode) nodo).text()); \n    }\n  }\n  myfunction(el.children());\n} \n</code></pre>\n\n<p>But the result is the same as before.</p>\n\n<p>How can this be accomplished? I feel I am making difficult something simple ...</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5702568,"reputation":826,"user_id":4507149,"display_name":"TobiasR."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427446594,"creation_date":1427445710,"answer_id":29296415,"question_id":29296229,"body_markdown":"    while (cal1.getTime().after(cal.getTime()))\r\n\r\nAs soon as `cal1.getTime()` is &quot;01-Apr-2015&quot; it isnt &quot;after&quot; `cal.getTime()` anymore so the while loop will stop.\r\nThats why it doesnt make the last iteration which would give you the last Quarter.\r\n\r\nyou could go like:\r\n\r\n    while (cal1.getTime().after(cal.getTime()) || cal1.getTime().equals(cal.getTime()))","title":"How to get number of quarters between two dates in Java","body":"<pre><code>while (cal1.getTime().after(cal.getTime()))\n</code></pre>\n\n<p>As soon as <code>cal1.getTime()</code> is \"01-Apr-2015\" it isnt \"after\" <code>cal.getTime()</code> anymore so the while loop will stop.\nThats why it doesnt make the last iteration which would give you the last Quarter.</p>\n\n<p>you could go like:</p>\n\n<pre><code>while (cal1.getTime().after(cal.getTime()) || cal1.getTime().equals(cal.getTime()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1901481,"reputation":2745,"user_id":1717259,"accept_rate":100,"display_name":"user1717259"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427445839,"creation_date":1427445839,"answer_id":29296453,"question_id":29296229,"body_markdown":"On the first iteration of the loop, you increment fromDate by three months. This makes it equal to toDate, so you don&#39;t get another iteration.\r\n\r\nYou need  \r\n`(cal1.getTime().after(cal.getTime())||(cal1.getTime().equals(cal.getTime())`","title":"How to get number of quarters between two dates in Java","body":"<p>On the first iteration of the loop, you increment fromDate by three months. This makes it equal to toDate, so you don't get another iteration.</p>\n\n<p>You need<br>\n<code>(cal1.getTime().after(cal.getTime())||(cal1.getTime().equals(cal.getTime())</code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487831312,"creation_date":1487629199,"answer_id":42355252,"question_id":29296229,"body_markdown":"**UPDATE** See [the Answer by Meno Hochschild](https://stackoverflow.com/a/42408143/642706) for a much simpler shorter solution. \r\n\r\nI leave my Answer here to demonstrate the [`YearQuarter`][1] class that is likely to be handy in related work.\r\n\r\n# Using java.time\r\n\r\nMuch easier with the modern java.time classes rather than the troublesome old date-time classes. Those old classes are now legacy.\r\n\r\nThis Answer assumes by “quarter” you mean the standard ISO 8601 quarters, the first, second, third, and fourth groups of three months across the calendar year. \r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    LocalDate start = LocalDate.of ( 2015 , Month.JANUARY , 1 );\r\n    LocalDate stop = LocalDate.of ( 2015 , Month.APRIL , 1 );\r\n\r\n# `YearQuarter`\r\n\r\nAdd the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project library to your project to access the [`YearQuarter`][1] class. \r\n\r\nGet start and stop quarters of your dates. \r\n\r\n    YearQuarter yqStart = YearQuarter.from ( start );\r\n    YearQuarter yqStop = YearQuarter.from ( stop );\r\n\r\nLoop one quarter at a time until reaching the limit.\r\n\r\nThe code here bases the loop on the *Half-Open* approach to defining a span of time, commonly used in date-time work. The beginning is *inclusive* while the ending is *exclusive*. I recommend using this approach consistently throughout your logic to avoid ambiguity, confusion, and errors. If instead you insist on the *Closed* approach (both beginning and ending are inclusive), change the `while` test to “while not after”, `while( ! yq.isAfter( yqStop ) )`.\r\n\r\n    int initialCapacity = ( int ) ( ( ChronoUnit.MONTHS.between ( start , stop ) / 3 ) + 3 ); // Probably `+1` is good enough, but I&#39;ve not thought it through.\r\n    List&lt;YearQuarter&gt; yqs = new ArrayList&lt;&gt; ( initialCapacity );\r\n    YearQuarter yq = yqStart;\r\n    while ( yq.isBefore ( yqStop ) ) {  // Using Half-Open approach where the beginning is *inclusive* while the ending is *exclusive*.\r\n        yqs.add ( yq );  // Collect this quarter.\r\n        // Set up next loop.\r\n        yq = yq.plusQuarters ( 1 );  // Move to next quarter.\r\n    }\r\n\r\nDump to console.\r\n\r\n    System.out.println ( &quot;start/stop: &quot; + start + &quot;/&quot; + stop );\r\n    System.out.println ( &quot;yqStart/yqStop: &quot; + yqStart + &quot;/&quot; + yqStop );\r\n    System.out.println ( &quot;yqs: &quot; + yqs );\r\n\r\n&gt;start/stop: 2015-01-01/2015-04-01\r\n\r\n&gt;yqStart/yqStop: 2015-Q1/2015-Q2\r\n\r\n&gt;yqs: [2015-Q1]\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html","title":"How to get number of quarters between two dates in Java","body":"<p><strong>UPDATE</strong> See <a href=\"https://stackoverflow.com/a/42408143/642706\">the Answer by Meno Hochschild</a> for a much simpler shorter solution. </p>\n\n<p>I leave my Answer here to demonstrate the <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a> class that is likely to be handy in related work.</p>\n\n<h1>Using java.time</h1>\n\n<p>Much easier with the modern java.time classes rather than the troublesome old date-time classes. Those old classes are now legacy.</p>\n\n<p>This Answer assumes by “quarter” you mean the standard ISO 8601 quarters, the first, second, third, and fourth groups of three months across the calendar year. </p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>LocalDate start = LocalDate.of ( 2015 , Month.JANUARY , 1 );\nLocalDate stop = LocalDate.of ( 2015 , Month.APRIL , 1 );\n</code></pre>\n\n<h1><code>YearQuarter</code></h1>\n\n<p>Add the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project library to your project to access the <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a> class. </p>\n\n<p>Get start and stop quarters of your dates. </p>\n\n<pre><code>YearQuarter yqStart = YearQuarter.from ( start );\nYearQuarter yqStop = YearQuarter.from ( stop );\n</code></pre>\n\n<p>Loop one quarter at a time until reaching the limit.</p>\n\n<p>The code here bases the loop on the <em>Half-Open</em> approach to defining a span of time, commonly used in date-time work. The beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. I recommend using this approach consistently throughout your logic to avoid ambiguity, confusion, and errors. If instead you insist on the <em>Closed</em> approach (both beginning and ending are inclusive), change the <code>while</code> test to “while not after”, <code>while( ! yq.isAfter( yqStop ) )</code>.</p>\n\n<pre><code>int initialCapacity = ( int ) ( ( ChronoUnit.MONTHS.between ( start , stop ) / 3 ) + 3 ); // Probably `+1` is good enough, but I've not thought it through.\nList&lt;YearQuarter&gt; yqs = new ArrayList&lt;&gt; ( initialCapacity );\nYearQuarter yq = yqStart;\nwhile ( yq.isBefore ( yqStop ) ) {  // Using Half-Open approach where the beginning is *inclusive* while the ending is *exclusive*.\n    yqs.add ( yq );  // Collect this quarter.\n    // Set up next loop.\n    yq = yq.plusQuarters ( 1 );  // Move to next quarter.\n}\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println ( \"start/stop: \" + start + \"/\" + stop );\nSystem.out.println ( \"yqStart/yqStop: \" + yqStart + \"/\" + yqStop );\nSystem.out.println ( \"yqs: \" + yqs );\n</code></pre>\n\n<blockquote>\n  <p>start/stop: 2015-01-01/2015-04-01</p>\n  \n  <p>yqStart/yqStop: 2015-Q1/2015-Q2</p>\n  \n  <p>yqs: [2015-Q1]</p>\n</blockquote>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647204497,"creation_date":1487829435,"answer_id":42408143,"question_id":29296229,"body_markdown":"# `IsoFields.QUARTER_YEARS`\r\n\r\nA special unit exists for this purpose in Java 8 and later: [`java.time.temporal.IsoFields.QUARTER_YEARS`][1] implementing [`TemporalUnit`][2] and its [`between`][3] method.\r\n\r\n    long delta = \r\n        IsoFields.QUARTER_YEARS.between(\r\n            LocalDate.of(2015, 1, 1), \r\n            LocalDate.of(2015, 4, 1));\r\n    System.out.println(delta); // 1\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/IsoFields.html#QUARTER_YEARS\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-","title":"How to get number of quarters between two dates in Java","body":"<h1><code>IsoFields.QUARTER_YEARS</code></h1>\n<p>A special unit exists for this purpose in Java 8 and later: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/IsoFields.html#QUARTER_YEARS\" rel=\"nofollow noreferrer\"><code>java.time.temporal.IsoFields.QUARTER_YEARS</code></a> implementing <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"nofollow noreferrer\"><code>TemporalUnit</code></a> and its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\"><code>between</code></a> method.</p>\n<pre><code>long delta = \n    IsoFields.QUARTER_YEARS.between(\n        LocalDate.of(2015, 1, 1), \n        LocalDate.of(2015, 4, 1));\nSystem.out.println(delta); // 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16118882,"reputation":1,"user_id":11635296,"display_name":"Vijay Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560324669,"creation_date":1560324669,"answer_id":56556812,"question_id":29296229,"body_markdown":"Try these methods , Worked for me\r\n\r\n    public int getQuartersBetweenDates(Date startDate, Date endDate) {\r\n\r\n\t\tint numofquarters=0;\r\n\t\tString[] yearquarter=null;\r\n\t\tDate temp=startDate;\r\n\t\tString[] targetYearQuarter= getYearQuarter(endDate);\r\n\t\tif(endDate.after(startDate)){\r\n\t\t\tyearquarter=getYearQuarter(temp);\r\n\t\t\twhile(!(targetYearQuarter[0].equalsIgnoreCase(yearquarter[0])\r\n\t\t\t\t\t      &amp;&amp; targetYearQuarter[1].equalsIgnoreCase(yearquarter[1]))){\r\n\t\t\t\tyearquarter=addQuarters(1,yearquarter[0],yearquarter[1]);\r\n\t\t\t\tnumofquarters++;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tyearquarter=getYearQuarter(temp);\r\n\t\t\twhile(!(targetYearQuarter[0].equalsIgnoreCase(yearquarter[0])\r\n\t\t\t\t\t      &amp;&amp; targetYearQuarter[1].equalsIgnoreCase(yearquarter[1]))){\r\n\t\t\t\tyearquarter=addQuarters(-1,yearquarter[0],yearquarter[1]);\r\n\t\t\t\tnumofquarters--;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn  numofquarters;\r\n\t}\r\n\r\n    public String[] addQuarters(int numofQuarters,String year,String quarter){\r\n\r\n\t\tint tempyear=Integer.parseInt(year)+(numofQuarters/4);\r\n\t\tint tempquarter=Integer.parseInt(quarter.replace(&quot;Q&quot;,&quot;&quot;))+(numofQuarters%4);\r\n\t\tif(tempquarter&gt;4){\r\n\t\t\ttempquarter=tempquarter-4;\r\n\t\t\ttempyear+=1;\r\n\t\t}\r\n\t\tif(tempquarter&lt;1){\r\n\t\t\ttempquarter=tempquarter+4;\r\n\t\t\ttempyear-=1;\r\n\t\t}\r\n\t\tyear=String.valueOf(tempyear);\r\n\t\tquarter=&quot;Q&quot;+tempquarter;\r\n\t\treturn new String[]{year,quarter};\r\n\t}","title":"How to get number of quarters between two dates in Java","body":"<p>Try these methods , Worked for me</p>\n\n<pre><code>public int getQuartersBetweenDates(Date startDate, Date endDate) {\n\n    int numofquarters=0;\n    String[] yearquarter=null;\n    Date temp=startDate;\n    String[] targetYearQuarter= getYearQuarter(endDate);\n    if(endDate.after(startDate)){\n        yearquarter=getYearQuarter(temp);\n        while(!(targetYearQuarter[0].equalsIgnoreCase(yearquarter[0])\n                      &amp;&amp; targetYearQuarter[1].equalsIgnoreCase(yearquarter[1]))){\n            yearquarter=addQuarters(1,yearquarter[0],yearquarter[1]);\n            numofquarters++;\n        }\n    }\n    else{\n        yearquarter=getYearQuarter(temp);\n        while(!(targetYearQuarter[0].equalsIgnoreCase(yearquarter[0])\n                      &amp;&amp; targetYearQuarter[1].equalsIgnoreCase(yearquarter[1]))){\n            yearquarter=addQuarters(-1,yearquarter[0],yearquarter[1]);\n            numofquarters--;\n        }\n    }\n    return  numofquarters;\n}\n\npublic String[] addQuarters(int numofQuarters,String year,String quarter){\n\n    int tempyear=Integer.parseInt(year)+(numofQuarters/4);\n    int tempquarter=Integer.parseInt(quarter.replace(\"Q\",\"\"))+(numofQuarters%4);\n    if(tempquarter&gt;4){\n        tempquarter=tempquarter-4;\n        tempyear+=1;\n    }\n    if(tempquarter&lt;1){\n        tempquarter=tempquarter+4;\n        tempyear-=1;\n    }\n    year=String.valueOf(tempyear);\n    quarter=\"Q\"+tempquarter;\n    return new String[]{year,quarter};\n}\n</code></pre>\n"}],"owner":{"account_id":2991702,"reputation":157,"user_id":2539159,"accept_rate":56,"display_name":"Sarvesh V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4167,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29296415,"answer_count":5,"score":4,"last_activity_date":1647204497,"creation_date":1427444890,"question_id":29296229,"body_markdown":"I am having `fromDate` as `&quot;01-Jan-2015&quot;` and `toDate` as `&quot;01-Apr-2015&quot;`. I want to find number of quarters between `fromDate` and `toDate`. My code is like \r\n\r\n```\r\n\r\nString fromDate = &quot;01-Jan-2015&quot;;\r\n\t\t\tString toDate = &quot;01-Apr-2015&quot;;\r\n\r\n\t\t\tArrayList&lt;String&gt; quarters = new ArrayList&lt;String&gt;();\r\n\t\t\tDateFormat df = new SimpleDateFormat(&quot;dd-MMM-yyyy&quot;);\r\n\t\t\tDateFormat dfYY = new SimpleDateFormat(&quot;yy&quot;);\r\n\r\n\t\t\tCalendar cal = Calendar.getInstance();\r\n\t\t\tcal.setTime(df.parse(fromDate));\r\n\r\n\t\t\tCalendar cal1 = Calendar.getInstance();\r\n\t\t\tcal1.setTime(df.parse(toDate));\r\n\r\n\t\t\twhile (cal1.getTime().after(cal.getTime())) {\r\n\t\t\t\tint month = cal.get(Calendar.MONTH) + 1;\r\n\r\n\t\t\t\tint quarter = month % 3 == 0 ? (month / 3) : (month / 3) + 1;\r\n\r\n\t\t\t\tquarters.add(&quot;Q&quot; + quarter + &quot;-&quot; + dfYY.format(cal.getTime()));\r\n\t\t\t\tcal.add(Calendar.MONTH, 3);\r\n\t\t\t}\r\n\r\n```\r\nBut it is giving output as Q1-15, Q2-15 is missing. If I enter `toDate` as&quot;02-Apr-2015&quot; then it is giving Q1-15, Q2-15. Please help me where I am going wrong.","title":"How to get number of quarters between two dates in Java","body":"<p>I am having <code>fromDate</code> as <code>\"01-Jan-2015\"</code> and <code>toDate</code> as <code>\"01-Apr-2015\"</code>. I want to find number of quarters between <code>fromDate</code> and <code>toDate</code>. My code is like </p>\n\n<pre><code>\nString fromDate = \"01-Jan-2015\";\n            String toDate = \"01-Apr-2015\";\n\n            ArrayList&lt;String&gt; quarters = new ArrayList&lt;String&gt;();\n            DateFormat df = new SimpleDateFormat(\"dd-MMM-yyyy\");\n            DateFormat dfYY = new SimpleDateFormat(\"yy\");\n\n            Calendar cal = Calendar.getInstance();\n            cal.setTime(df.parse(fromDate));\n\n            Calendar cal1 = Calendar.getInstance();\n            cal1.setTime(df.parse(toDate));\n\n            while (cal1.getTime().after(cal.getTime())) {\n                int month = cal.get(Calendar.MONTH) + 1;\n\n                int quarter = month % 3 == 0 ? (month / 3) : (month / 3) + 1;\n\n                quarters.add(\"Q\" + quarter + \"-\" + dfYY.format(cal.getTime()));\n                cal.add(Calendar.MONTH, 3);\n            }\n\n</code></pre>\n\n<p>But it is giving output as Q1-15, Q2-15 is missing. If I enter <code>toDate</code> as\"02-Apr-2015\" then it is giving Q1-15, Q2-15. Please help me where I am going wrong.</p>\n"},{"tags":["java","pdf-generation","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1597935706,"post_id":63507162,"comment_id":112300766,"body_markdown":"Please share an example result PDF with that behavior for analysis.","body":"Please share an example result PDF with that behavior for analysis."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1597946172,"creation_date":1597946172,"answer_id":63510755,"question_id":63507162,"body_markdown":"When you embedded the images into your html using base64 URIs, something weird happened to the image of the barcode: Instead of the 205&#215;59 bitmap image in `labelData/barcode.png` you embedded a 39578&#215;44 image! (Yes, an image nearly a thousand times wider than high...)\r\n\r\nThe iText `HtmlConverter` embedded that image just fine but apparently Firefox has issues displaying an image with those dimensions even though (or probably because?) it is transformed into the desired dimensions (about four times wider than high) on the label. At least my Firefox installation stops drawing label contents right here. (Beware, the order of drawing in the PDF content is *not* identical to the of the HTML elements; in particular in the PDF the number `3232000...` is drawn right before the barcode, not afterwards!)\r\n\r\nOn Firefox:\r\n\r\n[![screenshot][1]][1]\r\n\r\nOn Acrobat Reader:\r\n\r\n[![screenshot][2]][2]\r\n\r\nThus, you may want to check the transformation of the bar code image to the base64 image URI in your HTML file.\r\n\r\n  [1]: https://i.stack.imgur.com/EZm8K.png\r\n  [2]: https://i.stack.imgur.com/pqcKA.png","title":"iText 7 : This pdf document might not be displayed correctly Firefox","body":"<p>When you embedded the images into your html using base64 URIs, something weird happened to the image of the barcode: Instead of the 205×59 bitmap image in <code>labelData/barcode.png</code> you embedded a 39578×44 image! (Yes, an image nearly a thousand times wider than high...)</p>\n<p>The iText <code>HtmlConverter</code> embedded that image just fine but apparently Firefox has issues displaying an image with those dimensions even though (or probably because?) it is transformed into the desired dimensions (about four times wider than high) on the label. At least my Firefox installation stops drawing label contents right here. (Beware, the order of drawing in the PDF content is <em>not</em> identical to the of the HTML elements; in particular in the PDF the number <code>3232000...</code> is drawn right before the barcode, not afterwards!)</p>\n<p>On Firefox:</p>\n<p><a href=\"https://i.stack.imgur.com/EZm8K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EZm8K.png\" alt=\"screenshot\" /></a></p>\n<p>On Acrobat Reader:</p>\n<p><a href=\"https://i.stack.imgur.com/pqcKA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pqcKA.png\" alt=\"screenshot\" /></a></p>\n<p>Thus, you may want to check the transformation of the bar code image to the base64 image URI in your HTML file.</p>\n"}],"owner":{"account_id":4670447,"reputation":331,"user_id":3782348,"accept_rate":60,"display_name":"Amol Bais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63510755,"answer_count":1,"score":2,"last_activity_date":1647203878,"creation_date":1597933294,"question_id":63507162,"body_markdown":"I am running into strange issue with generated pdf&#39;s from `iText7`. The generated pdf&#39;s are opening properly in `Adobe reader` and `Chrome browser`. But the same pdf is opening partially in the `Firefox` browser. I am getting the below message in Firefox. The strange thing is other pdf, which are not generated via `iText` are properly rendering in firefox.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nJava code\r\n\r\n    public static byte[] createPdf(List&lt;String&gt; htmlPages, PageSize pageSize, boolean rotate) throws IOException {\r\n\r\n        ConverterProperties properties = new ConverterProperties();\r\n\r\n        // Register classpath protocol handler to be able to load HTML resources from class patch\r\n        org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register();\r\n        properties.setBaseUri(&quot;classpath:/&quot;);\r\n        // properties.setBaseUri(baseUri);\r\n\r\n        FontProvider fontProvider = new DefaultFontProvider(true,false,false);\r\n        properties.setFontProvider(fontProvider);\r\n\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        PdfDocument pdf = new PdfDocument(new PdfWriter(byteArrayOutputStream));\r\n        PdfMerger merger = new PdfMerger(pdf);\r\n\r\n        for (String htmlPage : htmlPages) {\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            PdfDocument temp = new PdfDocument(new PdfWriter(baos));\r\n            if(rotate) {\r\n                temp.setDefaultPageSize(pageSize.rotate()); /** Page Size and Orientation */\r\n            } else {\r\n                temp.setDefaultPageSize(pageSize); /** Page Size and Orientation */\r\n            }\r\n             HtmlConverter.convertToPdf(htmlPage, temp, properties);\r\n            temp = new PdfDocument(new PdfReader(new ByteArrayInputStream(baos.toByteArray())));\r\n            merger.merge(temp, 1, temp.getNumberOfPages());\r\n            temp.close();\r\n        }\r\n        pdf.close();\r\n\r\n        byteArrayOutputStream.flush(); // Tried this\r\n\r\n        byteArrayOutputStream.close(); // Tried this\r\n\r\n        byte[] byteArray = byteArrayOutputStream.toByteArray();\r\n\r\n        Timestamp timestamp = new Timestamp(System.currentTimeMillis());\r\n        try (FileOutputStream fileOuputStream = new FileOutputStream(&quot;D:\\\\Labels\\\\Label_&quot;+timestamp.getTime()+&quot;.pdf&quot;)){\r\n            fileOuputStream.write(byteArray);\r\n        }\r\n        return byteArray;\r\n    }\r\n\r\nThanks in advance. \r\n\r\nEdit 1:\r\nYou can find pdf and html/css for reproducing issue [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5sYQF.jpg\r\n  [2]: https://github.com/amolbais05/pdf","title":"iText 7 : This pdf document might not be displayed correctly Firefox","body":"<p>I am running into strange issue with generated pdf's from <code>iText7</code>. The generated pdf's are opening properly in <code>Adobe reader</code> and <code>Chrome browser</code>. But the same pdf is opening partially in the <code>Firefox</code> browser. I am getting the below message in Firefox. The strange thing is other pdf, which are not generated via <code>iText</code> are properly rendering in firefox.</p>\n<p><a href=\"https://i.stack.imgur.com/5sYQF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5sYQF.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Java code</p>\n<pre><code>public static byte[] createPdf(List&lt;String&gt; htmlPages, PageSize pageSize, boolean rotate) throws IOException {\n\n    ConverterProperties properties = new ConverterProperties();\n\n    // Register classpath protocol handler to be able to load HTML resources from class patch\n    org.apache.catalina.webresources.TomcatURLStreamHandlerFactory.register();\n    properties.setBaseUri(&quot;classpath:/&quot;);\n    // properties.setBaseUri(baseUri);\n\n    FontProvider fontProvider = new DefaultFontProvider(true,false,false);\n    properties.setFontProvider(fontProvider);\n\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    PdfDocument pdf = new PdfDocument(new PdfWriter(byteArrayOutputStream));\n    PdfMerger merger = new PdfMerger(pdf);\n\n    for (String htmlPage : htmlPages) {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        PdfDocument temp = new PdfDocument(new PdfWriter(baos));\n        if(rotate) {\n            temp.setDefaultPageSize(pageSize.rotate()); /** Page Size and Orientation */\n        } else {\n            temp.setDefaultPageSize(pageSize); /** Page Size and Orientation */\n        }\n         HtmlConverter.convertToPdf(htmlPage, temp, properties);\n        temp = new PdfDocument(new PdfReader(new ByteArrayInputStream(baos.toByteArray())));\n        merger.merge(temp, 1, temp.getNumberOfPages());\n        temp.close();\n    }\n    pdf.close();\n\n    byteArrayOutputStream.flush(); // Tried this\n\n    byteArrayOutputStream.close(); // Tried this\n\n    byte[] byteArray = byteArrayOutputStream.toByteArray();\n\n    Timestamp timestamp = new Timestamp(System.currentTimeMillis());\n    try (FileOutputStream fileOuputStream = new FileOutputStream(&quot;D:\\\\Labels\\\\Label_&quot;+timestamp.getTime()+&quot;.pdf&quot;)){\n        fileOuputStream.write(byteArray);\n    }\n    return byteArray;\n}\n</code></pre>\n<p>Thanks in advance.</p>\n<p>Edit 1:\nYou can find pdf and html/css for reproducing issue <a href=\"https://github.com/amolbais05/pdf\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647203741,"creation_date":1647027785,"answer_id":71443893,"question_id":71442906,"body_markdown":"I ran the application here and it worked fine. You didn&#39;t provide your application.properties configurarion for the database, so I figured it could be the problem.\r\n\r\nI&#39;ll leave the configuration that I used to run.\r\n\r\nOn **pom.xml** add the h2 database dependency\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nAnd on **application.properties** the database configuration\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.sql.init.platform=h2\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n\r\nYou can access the database console on **http://localhost:8080/h2-console**\r\n\r\nIn case it doesn&#39;t solve the problem, could you provide your database configs like I provided above, or if you have, the github repo for this project so I can try to help you ?\r\n\r\n**EDIT**\r\n\r\nYou have to have docker installed on your machine, once you have it. \r\n\r\nInstallation can be found [here][1]\r\n\r\nAdd a **docker-compose.yml** file to the root of your project\r\n\r\ndocker-compose.yml\r\n\r\n    version: &#39;2&#39;\r\n\r\n    services:\r\n\r\n      db:\r\n      image: &#39;postgres:13.1-alpine&#39;\r\n      container_name: db\r\n      environment:\r\n        - POSTGRES_USER=compose-postgres\r\n        - POSTGRES_PASSWORD=compose-postgres\r\n      ports:\r\n        - 5432:5432\r\n\r\nChange the **postgresql configuration** in order to connect to the database running on the docker container.\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:postgresql://0.0.0.0:5432/compose-postgres\r\n    spring.datasource.username=compose-postgres\r\n    spring.datasource.password=compose-postgres\r\n\r\n\r\n  [1]: https://www.docker.com/products/docker-desktop","title":"CrudRepository findAll()","body":"<p>I ran the application here and it worked fine. You didn't provide your application.properties configurarion for the database, so I figured it could be the problem.</p>\n<p>I'll leave the configuration that I used to run.</p>\n<p>On <strong>pom.xml</strong> add the h2 database dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And on <strong>application.properties</strong> the database configuration</p>\n<pre><code>spring.h2.console.enabled=true\nspring.sql.init.platform=h2\nspring.jpa.defer-datasource-initialization=true\nspring.datasource.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>You can access the database console on <strong>http://localhost:8080/h2-console</strong></p>\n<p>In case it doesn't solve the problem, could you provide your database configs like I provided above, or if you have, the github repo for this project so I can try to help you ?</p>\n<p><strong>EDIT</strong></p>\n<p>You have to have docker installed on your machine, once you have it.</p>\n<p>Installation can be found <a href=\"https://www.docker.com/products/docker-desktop\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Add a <strong>docker-compose.yml</strong> file to the root of your project</p>\n<p>docker-compose.yml</p>\n<pre><code>version: '2'\n\nservices:\n\n  db:\n  image: 'postgres:13.1-alpine'\n  container_name: db\n  environment:\n    - POSTGRES_USER=compose-postgres\n    - POSTGRES_PASSWORD=compose-postgres\n  ports:\n    - 5432:5432\n</code></pre>\n<p>Change the <strong>postgresql configuration</strong> in order to connect to the database running on the docker container.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:postgresql://0.0.0.0:5432/compose-postgres\nspring.datasource.username=compose-postgres\nspring.datasource.password=compose-postgres\n</code></pre>\n"}],"owner":{"account_id":23727823,"reputation":51,"user_id":17747500,"display_name":"MJSasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71443893,"answer_count":1,"score":0,"last_activity_date":1647203741,"creation_date":1647022047,"question_id":71442906,"body_markdown":"I&#39;m new to java and I&#39;m facing the following problem:\r\nWhen trying to get all records from my table using CrudRepository, I get the following error:\r\n\r\n    2022-03-11 20:31:53.416 ERROR 13788 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: antlr/RecognitionException] with root cause\r\n\r\n    java.lang.ClassNotFoundException: antlr.RecognitionException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.16.jar:5.3.16]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy95.createQuery(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.16.jar:5.3.16]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy95.createQuery(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:791) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:769) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:407) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:84) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.16.jar:5.3.16]\r\n    \tat jdk.proxy4/jdk.proxy4.$Proxy98.findAll(Unknown Source) ~[na:na]\r\n    \tat com.example.handmadeapi.services.HouseService.getAllHouses(HouseService.java:21) ~[classes/:na]\r\n    \tat com.example.handmadeapi.controllers.HousesController.getHouses(HousesController.java:30) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nMy entity looks like this:\r\n\r\n    @Getter @Setter\r\n    @Entity\r\n    @Table(name = &quot;houses&quot;)\r\n    public class HouseEntity implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n    }\r\nRepository:\r\n\r\n    @Repository\r\n    public interface HousesRepository extends CrudRepository&lt;HouseEntity, Long&gt; {\r\n    }\r\nService:\r\n\r\n    @Service\r\n    public class HouseService {\r\n    \r\n        private final HousesRepository housesRepository;\r\n    \r\n        @Autowired\r\n        public HouseService(HousesRepository housesRepository) {\r\n            this.housesRepository = housesRepository;\r\n        }\r\n    \r\n        public List&lt;HouseEntity&gt; getAllHouses() {\r\n            return (List&lt;HouseEntity&gt;) housesRepository.findAll();\r\n        }\r\n    }\r\nAnd my controller with request:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/houses&quot;)\r\n    public class HousesController {\r\n    \r\n        private final HouseService houseService;\r\n    \r\n        @Autowired\r\n        public HousesController(HouseService houseService) {\r\n            this.houseService = houseService;\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity getHouses() {\r\n            return ResponseEntity.ok(houseService.getAllHouses());\r\n        }\r\n    }\r\nI tried to just get an iterator, and then translate it into a ```List&lt;&gt;```, tried to register in the ```List&lt;HousesEntity&gt; findAll()``` repository, tried to do ```@Autowired``` not in the constructor, but over the field. Did not help. The ```save()```, ```getById()``` methods work, but for example the ```count()``` method returns the same error. What am I doing wrong?","title":"CrudRepository findAll()","body":"<p>I'm new to java and I'm facing the following problem:\nWhen trying to get all records from my table using CrudRepository, I get the following error:</p>\n<pre><code>2022-03-11 20:31:53.416 ERROR 13788 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: antlr/RecognitionException] with root cause\n\njava.lang.ClassNotFoundException: antlr.RecognitionException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.16.jar:5.3.16]\n    at jdk.proxy4/jdk.proxy4.$Proxy95.createQuery(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.16.jar:5.3.16]\n    at jdk.proxy4/jdk.proxy4.$Proxy95.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:791) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:769) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:407) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:84) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.2.jar:2.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.16.jar:5.3.16]\n    at jdk.proxy4/jdk.proxy4.$Proxy98.findAll(Unknown Source) ~[na:na]\n    at com.example.handmadeapi.services.HouseService.getAllHouses(HouseService.java:21) ~[classes/:na]\n    at com.example.handmadeapi.controllers.HousesController.getHouses(HousesController.java:30) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My entity looks like this:</p>\n<pre><code>@Getter @Setter\n@Entity\n@Table(name = &quot;houses&quot;)\npublic class HouseEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface HousesRepository extends CrudRepository&lt;HouseEntity, Long&gt; {\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class HouseService {\n\n    private final HousesRepository housesRepository;\n\n    @Autowired\n    public HouseService(HousesRepository housesRepository) {\n        this.housesRepository = housesRepository;\n    }\n\n    public List&lt;HouseEntity&gt; getAllHouses() {\n        return (List&lt;HouseEntity&gt;) housesRepository.findAll();\n    }\n}\n</code></pre>\n<p>And my controller with request:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/houses&quot;)\npublic class HousesController {\n\n    private final HouseService houseService;\n\n    @Autowired\n    public HousesController(HouseService houseService) {\n        this.houseService = houseService;\n    }\n\n    @GetMapping\n    public ResponseEntity getHouses() {\n        return ResponseEntity.ok(houseService.getAllHouses());\n    }\n}\n</code></pre>\n<p>I tried to just get an iterator, and then translate it into a <code>List&lt;&gt;</code>, tried to register in the <code>List&lt;HousesEntity&gt; findAll()</code> repository, tried to do <code>@Autowired</code> not in the constructor, but over the field. Did not help. The <code>save()</code>, <code>getById()</code> methods work, but for example the <code>count()</code> method returns the same error. What am I doing wrong?</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647203390,"creation_date":1647203390,"answer_id":71460588,"question_id":71459021,"body_markdown":"    spring.datasource.username=ante\r\n\r\nIn most other contexts, the field must be called `user`, not `username`.  I don&#39;t know spring-boot, but have you tried spelling it `spring.datasource.user=`?","title":"FATAL: password authentication failed for user SpringBoot PSQL","body":"<pre><code>spring.datasource.username=ante\n</code></pre>\n<p>In most other contexts, the field must be called <code>user</code>, not <code>username</code>.  I don't know spring-boot, but have you tried spelling it <code>spring.datasource.user=</code>?</p>\n"}],"owner":{"account_id":20809277,"reputation":31,"user_id":15500827,"display_name":"Ceki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647203390,"creation_date":1647191512,"question_id":71459021,"body_markdown":"I&#39;m having a problem lately without possibility to solve it. I recently installed my psql and have to use it with my SpringBoot application. The problem started happening immediately after running a program and giving me **FATAL: password authentication failed for user..** error. I was searching on multiple places and even asked others without being able to solve it and I thought maybe I need my default username and pw of my psql to make it work, but the problem still occurs. I tried logging with terminal and everything works perfectly, everything works except for my **application.properties**. This is my file\r\n```\r\nspring.datasource.url=jdbc:postgresql://malta1518.startdedicated.net:5432/ante?currentSchema=public\r\nspring.datasource.username=ante\r\nspring.datasource.password=ante123\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\n```\r\nI set this exactly username, password and url, bcs I have to, it&#39;s part of my project I&#39;m doing. Like I said I also tried only changing my username and password but still no luck. Any help is acceptable and I&#39;ll post part of my error.\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.4)\r\n\r\n2022-03-13 17:58:40.890  INFO 17396 --- [           main] c.a.d.h.HeraProgramApplication           : Starting HeraProgramApplication using Java 17.0.1 on DESKTOP-4K4SO57 with PID 17396 (D:\\hera-program\\hera-program\\target\\classes started by Ante in D:\\hera-program\\hera-program)\r\n2022-03-13 17:58:40.892  INFO 17396 --- [           main] c.a.d.h.HeraProgramApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-03-13 17:58:41.730  INFO 17396 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-03-13 17:58:41.829  INFO 17396 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 1 JPA repository interfaces.\r\n2022-03-13 17:58:42.692  INFO 17396 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-03-13 17:58:42.707  INFO 17396 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-03-13 17:58:42.707  INFO 17396 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\r\n2022-03-13 17:58:42.823  INFO 17396 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-03-13 17:58:42.824  INFO 17396 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1886 ms\r\n2022-03-13 17:58:42.979  INFO 17396 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-03-13 17:58:44.283 ERROR 17396 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:400) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.Driver.connect(Driver.java:259) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:162) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.ante.demo.heraprogram.HeraProgramApplication.main(HeraProgramApplication.java:18) ~[classes/:na]\r\n\r\n2022-03-13 17:58:44.321  INFO 17396 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-03-13 17:58:44.381  INFO 17396 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\r\n2022-03-13 17:58:44.581  INFO 17396 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2022-03-13 17:58:44.717  INFO 17396 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-03-13 17:58:45.959 ERROR 17396 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:400) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.Driver.connect(Driver.java:259) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.ante.demo.heraprogram.HeraProgramApplication.main(HeraProgramApplication.java:18) ~[classes/:na]\r\n\r\n2022-03-13 17:58:45.960  WARN 17396 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:400) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat org.postgresql.Driver.connect(Driver.java:259) ~[postgresql-42.3.3.jar:42.3.3]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\tat com.ante.demo.heraprogram.HeraProgramApplication.main(HeraProgramApplication.java:18) ~[classes/:na]\r\n\r\n2022-03-13 17:58:45.963 ERROR 17396 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n2022-03-13 17:58:45.963  WARN 17396 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n ```","title":"FATAL: password authentication failed for user SpringBoot PSQL","body":"<p>I'm having a problem lately without possibility to solve it. I recently installed my psql and have to use it with my SpringBoot application. The problem started happening immediately after running a program and giving me <strong>FATAL: password authentication failed for user..</strong> error. I was searching on multiple places and even asked others without being able to solve it and I thought maybe I need my default username and pw of my psql to make it work, but the problem still occurs. I tried logging with terminal and everything works perfectly, everything works except for my <strong>application.properties</strong>. This is my file</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://malta1518.startdedicated.net:5432/ante?currentSchema=public\nspring.datasource.username=ante\nspring.datasource.password=ante123\nspring.datasource.driverClassName=org.postgresql.Driver\n</code></pre>\n<p>I set this exactly username, password and url, bcs I have to, it's part of my project I'm doing. Like I said I also tried only changing my username and password but still no luck. Any help is acceptable and I'll post part of my error.</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.4)\n\n2022-03-13 17:58:40.890  INFO 17396 --- [           main] c.a.d.h.HeraProgramApplication           : Starting HeraProgramApplication using Java 17.0.1 on DESKTOP-4K4SO57 with PID 17396 (D:\\hera-program\\hera-program\\target\\classes started by Ante in D:\\hera-program\\hera-program)\n2022-03-13 17:58:40.892  INFO 17396 --- [           main] c.a.d.h.HeraProgramApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-13 17:58:41.730  INFO 17396 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-13 17:58:41.829  INFO 17396 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 1 JPA repository interfaces.\n2022-03-13 17:58:42.692  INFO 17396 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-03-13 17:58:42.707  INFO 17396 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-03-13 17:58:42.707  INFO 17396 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\n2022-03-13 17:58:42.823  INFO 17396 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-03-13 17:58:42.824  INFO 17396 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1886 ms\n2022-03-13 17:58:42.979  INFO 17396 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-13 17:58:44.283 ERROR 17396 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.Driver.makeConnection(Driver.java:400) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.Driver.connect(Driver.java:259) ~[postgresql-42.3.3.jar:42.3.3]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.16.jar:5.3.16]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.16.jar:5.3.16]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.16.jar:5.3.16]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.16.jar:5.3.16]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:162) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.ante.demo.heraprogram.HeraProgramApplication.main(HeraProgramApplication.java:18) ~[classes/:na]\n\n2022-03-13 17:58:44.321  INFO 17396 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-03-13 17:58:44.381  INFO 17396 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\n2022-03-13 17:58:44.581  INFO 17396 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-03-13 17:58:44.717  INFO 17396 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-13 17:58:45.959 ERROR 17396 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.Driver.makeConnection(Driver.java:400) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.Driver.connect(Driver.java:259) ~[postgresql-42.3.3.jar:42.3.3]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.ante.demo.heraprogram.HeraProgramApplication.main(HeraProgramApplication.java:18) ~[classes/:na]\n\n2022-03-13 17:58:45.960  WARN 17396 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;postgres&quot;\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.Driver.makeConnection(Driver.java:400) ~[postgresql-42.3.3.jar:42.3.3]\n    at org.postgresql.Driver.connect(Driver.java:259) ~[postgresql-42.3.3.jar:42.3.3]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at com.ante.demo.heraprogram.HeraProgramApplication.main(HeraProgramApplication.java:18) ~[classes/:na]\n\n2022-03-13 17:58:45.963 ERROR 17396 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n2022-03-13 17:58:45.963  WARN 17396 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n</code></pre>\n"},{"tags":["java","android","android-activity","bottom-navigation-bar"],"owner":{"account_id":24478508,"reputation":11,"user_id":18397246,"display_name":"Krish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647203280,"creation_date":1647154133,"question_id":71454491,"body_markdown":"I am trying to accomodate my bottom navigation view into my Home activity. I am not sure how do i link it to display the feature. So basically, once I log in, my activity_home.xml runs. I just want to add my Bottom_nav_view.xml inside it to display. \r\n\r\nI am not sure what are the code needed for this, but Ill add the ones which I think are relevant. \r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n       &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.fd_v1&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.FD_V1&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Bottom_Nav_View&quot;\r\n            android:label=&quot;@string/title_activity_bottom_nav_view&quot; /&gt;\r\n        &lt;activity android:name=&quot;.SplashScreen&quot; /&gt;\r\n        &lt;activity android:name=&quot;.HomeActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.LoginActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n      &lt;/application&gt;\r\n\r\n      &lt;/manifest&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nActivity_home.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.HomeActivity&quot;\r\n    android:backgroundTint=&quot;@color/yellow&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/relativeLayout&quot;\r\n        android:layout_width=&quot;410dp&quot;\r\n        android:layout_height=&quot;400dp&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/profile_pic&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/yellow&quot;\r\n            android:paddingVertical=&quot;95dp&quot;\r\n            android:src=&quot;@drawable/profile&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.card.MaterialCardView\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;125dp&quot;\r\n            android:layout_marginEnd=&quot;75dp&quot; /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;20dp&quot;\r\n        android:layout_marginStart=&quot;74dp&quot;\r\n        android:layout_marginEnd=&quot;74dp&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:text=&quot;Welcome!&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/relativeLayout&quot; /&gt;\r\n\r\n\r\n         &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\nactivity_Bottom_nav_view.xml\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/yellow&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:id=&quot;@+id/fragment_layout&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/bottomNavView&quot;&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;70dp&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:itemIconSize=&quot;40dp&quot;\r\n        app:itemIconTint=&quot;@color/black&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/menu&quot; &gt;\r\n      &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n\r\n      &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; \r\n\r\n\r\n\r\n\r\nHome_actvity.class\r\n\r\n\r\n    package com.example.fd_v1;\r\n\r\n       import androidx.appcompat.app.AppCompatActivity;\r\n\r\n       import android.os.Bundle;\r\n\r\n      public class HomeActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n      }\r\n      }\r\n\r\n\r\n\r\n","title":"How do I combine Bottom Navigation Bar with my Home activity after my Login Activity?","body":"<p>I am trying to accomodate my bottom navigation view into my Home activity. I am not sure how do i link it to display the feature. So basically, once I log in, my activity_home.xml runs. I just want to add my Bottom_nav_view.xml inside it to display.</p>\n<p>I am not sure what are the code needed for this, but Ill add the ones which I think are relevant.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n   &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\npackage=&quot;com.example.fd_v1&quot;&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.FD_V1&quot;&gt;\n    &lt;activity\n        android:name=&quot;.Bottom_Nav_View&quot;\n        android:label=&quot;@string/title_activity_bottom_nav_view&quot; /&gt;\n    &lt;activity android:name=&quot;.SplashScreen&quot; /&gt;\n    &lt;activity android:name=&quot;.HomeActivity&quot; /&gt;\n    &lt;activity android:name=&quot;.LoginActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n  &lt;/application&gt;\n\n  &lt;/manifest&gt;\n</code></pre>\n<p>Activity_home.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;androidx.constraintlayout.widget.ConstraintLayout \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.HomeActivity&quot;\nandroid:backgroundTint=&quot;@color/yellow&quot;&gt;\n\n&lt;RelativeLayout\n    android:id=&quot;@+id/relativeLayout&quot;\n    android:layout_width=&quot;410dp&quot;\n    android:layout_height=&quot;400dp&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/profile_pic&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/yellow&quot;\n        android:paddingVertical=&quot;95dp&quot;\n        android:src=&quot;@drawable/profile&quot; /&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;125dp&quot;\n        android:layout_marginEnd=&quot;75dp&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;20dp&quot;\n    android:layout_marginStart=&quot;74dp&quot;\n    android:layout_marginEnd=&quot;74dp&quot;\n    android:padding=&quot;20dp&quot;\n    android:text=&quot;Welcome!&quot;\n    android:textColor=&quot;@color/black&quot;\n    android:textSize=&quot;50sp&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/relativeLayout&quot; /&gt;\n\n\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>activity_Bottom_nav_view.xml</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/yellow&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:id=&quot;@+id/fragment_layout&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/bottomNavView&quot;&gt;\n&lt;/FrameLayout&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottomNavView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;70dp&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    android:background=&quot;?android:attr/windowBackground&quot;\n    app:itemIconSize=&quot;40dp&quot;\n    app:itemIconTint=&quot;@color/black&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:menu=&quot;@menu/menu&quot; &gt;\n  &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n\n  &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; \n</code></pre>\n<p>Home_actvity.class</p>\n<pre><code>package com.example.fd_v1;\n\n   import androidx.appcompat.app.AppCompatActivity;\n\n   import android.os.Bundle;\n\n  public class HomeActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n  }\n  }\n</code></pre>\n"},{"tags":["java","maven","jitpack"],"answers":[{"tags":[],"owner":{"account_id":11682490,"reputation":13,"user_id":8821774,"display_name":"Iuri De Lima Marques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647202228,"creation_date":1647202228,"answer_id":71460460,"question_id":71432369,"body_markdown":"The **auth-chatapp** started working after adding the following under the tag **plugins** in the pom: \r\n```\r\n      &lt;plugin&gt;\r\n         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n         &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;1.1.0&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n           &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n           &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\r\n         &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;flatten&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;flatten&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;flatten.clean&lt;/id&gt;\r\n            &lt;phase&gt;clean&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;clean&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"Having problems to build maven application","body":"<p>The <strong>auth-chatapp</strong> started working after adding the following under the tag <strong>plugins</strong> in the pom:</p>\n<pre><code>      &lt;plugin&gt;\n         &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n         &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;1.1.0&lt;/version&gt;\n         &lt;configuration&gt;\n           &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n           &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\n         &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;flatten&lt;/id&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;flatten&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;flatten.clean&lt;/id&gt;\n            &lt;phase&gt;clean&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;clean&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":11682490,"reputation":13,"user_id":8821774,"display_name":"Iuri De Lima Marques"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71460460,"answer_count":1,"score":0,"last_activity_date":1647202228,"creation_date":1646958583,"question_id":71432369,"body_markdown":"I have a project called [**auth-chatapp**](https://github.com/iurilimamarques/auth-chatapp) which I&#39;m trying to run the following command line (in order to build and download all of the dependencies): ```mvn clean install -DskipTests=true -X -U```.\r\n\r\nOne of the dependencies points to a multi module maven project called [**chat-components**](https://github.com/iurilimamarques/chat-components) in which I use the **Jitpack** to build and make the artifact available to use as a dependency.\r\n\r\nWhen I try to run the command line or even when it runs the build on **Travis ci**, it generates the following log file: https://drive.google.com/file/d/1gXV96n2dL_aypvDUqV28GomYnOjhtulV/view?usp=sharing\r\n\r\nWhen I run the command line above, the dependencies inside the **chat-components** are resolved (just search for the jitpack repository inside the log and you can see that) but there seems to be a problem inside the **chat-entities** submodule (I&#39;m not sure it&#39;s a problem inside the project because the build runs perfectly in the Jitpack) which can be seen in the log towards the end of the file: ```Could not find artifact com.chatcomponents:chat-components:pom:${revision} in google-maven-central (https://maven-central.storage-download.googleapis.com/maven2/) -&gt; [Help 1]```.\r\n\r\nAnother thing that I am not sure why is happening is why it is trying to get this artifact ```com.chatcomponents:chat-components:pom:${revision}``` from **google-maven-central** when the dependencies I have declared inside the **auth-chatapp** do not point to there.","title":"Having problems to build maven application","body":"<p>I have a project called <a href=\"https://github.com/iurilimamarques/auth-chatapp\" rel=\"nofollow noreferrer\"><strong>auth-chatapp</strong></a> which I'm trying to run the following command line (in order to build and download all of the dependencies): <code>mvn clean install -DskipTests=true -X -U</code>.</p>\n<p>One of the dependencies points to a multi module maven project called <a href=\"https://github.com/iurilimamarques/chat-components\" rel=\"nofollow noreferrer\"><strong>chat-components</strong></a> in which I use the <strong>Jitpack</strong> to build and make the artifact available to use as a dependency.</p>\n<p>When I try to run the command line or even when it runs the build on <strong>Travis ci</strong>, it generates the following log file: <a href=\"https://drive.google.com/file/d/1gXV96n2dL_aypvDUqV28GomYnOjhtulV/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1gXV96n2dL_aypvDUqV28GomYnOjhtulV/view?usp=sharing</a></p>\n<p>When I run the command line above, the dependencies inside the <strong>chat-components</strong> are resolved (just search for the jitpack repository inside the log and you can see that) but there seems to be a problem inside the <strong>chat-entities</strong> submodule (I'm not sure it's a problem inside the project because the build runs perfectly in the Jitpack) which can be seen in the log towards the end of the file: <code>Could not find artifact com.chatcomponents:chat-components:pom:${revision} in google-maven-central (https://maven-central.storage-download.googleapis.com/maven2/) -&gt; [Help 1]</code>.</p>\n<p>Another thing that I am not sure why is happening is why it is trying to get this artifact <code>com.chatcomponents:chat-components:pom:${revision}</code> from <strong>google-maven-central</strong> when the dependencies I have declared inside the <strong>auth-chatapp</strong> do not point to there.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646510333,"creation_date":1646510333,"answer_id":71365556,"question_id":71365481,"body_markdown":"HTTP Code 405 means `Method not Allowed`. In your spring you are mentioning `GET` method but in your Form you are mentioning to submit a `PATCH` method.\r\n\r\nChange your  form to\r\n```\r\n&lt;form\r\n   th:action=&quot;@{/users/profile/update/{id}(id=*{userId})}&quot;\r\n   th:method=&quot;GET&quot;\r\n   th:object=&quot;${profileUpdateBindingModel}&quot;\r\n   enctype=&quot;multipart/form-data&quot;&gt;\r\n```","title":"Request method &#39;PATCH&#39; not supported","body":"<p>HTTP Code 405 means <code>Method not Allowed</code>. In your spring you are mentioning <code>GET</code> method but in your Form you are mentioning to submit a <code>PATCH</code> method.</p>\n<p>Change your  form to</p>\n<pre><code>&lt;form\n   th:action=&quot;@{/users/profile/update/{id}(id=*{userId})}&quot;\n   th:method=&quot;GET&quot;\n   th:object=&quot;${profileUpdateBindingModel}&quot;\n   enctype=&quot;multipart/form-data&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19072383,"reputation":21,"user_id":13926277,"display_name":"Shaif Chowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646530056,"creation_date":1646530056,"answer_id":71367090,"question_id":71365481,"body_markdown":"I&#39;d use the pathvariable like this :\r\n\r\n@PathVariable Long id\r\n\r\nor like this ::\r\n\r\n@PatchMapping(params = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)","title":"Request method &#39;PATCH&#39; not supported","body":"<p>I'd use the pathvariable like this :</p>\n<p>@PathVariable Long id</p>\n<p>or like this ::</p>\n<p>@PatchMapping(params = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)</p>\n"},{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646566936,"creation_date":1646566936,"answer_id":71369943,"question_id":71365481,"body_markdown":"I am not confident about thymeleaf, but you can check this syntax[in second html page]:\r\n\r\n    th:action=&quot;@{/users/profile/update/{id}(id=*{userId})}&quot;\r\n\r\nAs in your home.html form, you have assigned the value using `$` sign but here it is in `*`.\r\n\r\nAlso, make sure your forms are enclosed properly with `&lt;/form&gt;` tags.","title":"Request method &#39;PATCH&#39; not supported","body":"<p>I am not confident about thymeleaf, but you can check this syntax[in second html page]:</p>\n<pre><code>th:action=&quot;@{/users/profile/update/{id}(id=*{userId})}&quot;\n</code></pre>\n<p>As in your home.html form, you have assigned the value using <code>$</code> sign but here it is in <code>*</code>.</p>\n<p>Also, make sure your forms are enclosed properly with <code>&lt;/form&gt;</code> tags.</p>\n"}],"owner":{"account_id":23575143,"reputation":35,"user_id":17614890,"display_name":"sjs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647202223,"creation_date":1646509570,"question_id":71365481,"body_markdown":"I have a profile update page which is supposed to show errors on the fields.\r\nHowever, when I remove the value from an input field instead of getting an error below, I get 405 - `Request method &#39;PATCH&#39; not supported`.\r\nI have no idea what could be the problem, any advice is appreciated.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    @GetMapping(&quot;/profile/update/{id}&quot;)\r\n        public String showUpdateForm(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n            ProfileUpdateServiceModel profileServiceModel = this.userService.getProfileUpdateServiceModelById(id);\r\n            ProfileUpdateBindingModel profileUpdateBindingModel = this.mapper.map(profileServiceModel, ProfileUpdateBindingModel.class);\r\n            if (!model.containsAttribute(&quot;profileUpdateBindingModel&quot;)) {\r\n                model.addAttribute(&quot;profileUpdateBindingModel&quot;, profileUpdateBindingModel);\r\n            }\r\n    //        model.addAttribute(&quot;profileUpdateBindingModel&quot;, profileUpdateBindingModel);\r\n            return &quot;update-profile&quot;;\r\n        }\r\n\r\n        @PatchMapping(&quot;/profile/update/{id}&quot;)\r\n        public String update(@PathVariable(&quot;id&quot;) Long id,\r\n                             @Valid ProfileUpdateBindingModel profileUpdateBindingModel,\r\n                             BindingResult br,\r\n                             RedirectAttributes rAtt) {\r\n\r\n            if (br.hasErrors()) {\r\n                rAtt\r\n                        .addFlashAttribute(&quot;profileUpdateBindingModel&quot;, profileUpdateBindingModel)\r\n                        .addFlashAttribute(&quot;org.springframework.validation.BindingResult.profileUpdateBindingModel&quot;, br);\r\n                return &quot;redirect:/users/profile/update/&quot; + id;\r\n            }\r\n            return &quot;profile&quot;;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nprofile.html:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form\r\n       th:method=&quot;GET&quot;\r\n       th:action=&quot;@{/users/profile/update/{id}(id=${session.currentUserId})}&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nupdate-profile.html:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form\r\n       th:action=&quot;@{/users/profile/update/{id}(id=*{userId})}&quot;\r\n       th:method=&quot;PATCH&quot;\r\n       th:object=&quot;${profileUpdateBindingModel}&quot;\r\n       enctype=&quot;multipart/form-data&quot;&gt;\r\n\r\n    &lt;div class=&quot;col-sm-6&quot;&gt;\r\n       &lt;label class=&quot;label-align&quot;&gt;First Name&lt;span\r\n          class=&quot;required&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n       &lt;input\r\n          th:field=&quot;*{firstName}&quot;\r\n          type=&quot;text&quot;\r\n          class=&quot;form-control&quot;\r\n          name=&quot;name&quot;/&gt;\r\n       &lt;div class=&quot;col-auto&quot;&gt;\r\n          &lt;small th:if=&quot;${#fields.hasErrors(&#39;firstName&#39;)}&quot;\r\n             th:errors=&quot;*{firstName}&quot;\r\n             id=&quot;first-nameError&quot;\r\n             class=&quot;text-light form-text bg-danger rounded&quot;&gt;xxx&lt;/small&gt;\r\n       &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nLOGS:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    2022-03-06 11:57:45.050 DEBUG 9492 --- [nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]\r\n    2022-03-06 11:57:45.077 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2022-03-06 11:57:45.131 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/css/style.css&quot;, parameters={}\r\n    2022-03-06 11:57:45.131 DEBUG 9492 --- [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\r\n    2022-03-06 11:57:45.135 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2022-03-06 11:57:45.138 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/images/undraw_profile_1.svg&quot;, parameters={}\r\n    2022-03-06 11:57:45.138 DEBUG 9492 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\r\n    2022-03-06 11:57:45.138 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2022-03-06 11:57:45.168 DEBUG 9492 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/images/1915.jpg&quot;, parameters={}\r\n    2022-03-06 11:57:45.169 DEBUG 9492 --- [nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\r\n    2022-03-06 11:57:45.178 DEBUG 9492 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2022-03-06 11:57:59.981 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PATCH &quot;/users/profile/update/&quot;, parameters={multipart}\r\n    2022-03-06 11:57:59.984  WARN 9492 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;PATCH&#39; not supported]\r\n    2022-03-06 11:57:59.984 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\r\n    2022-03-06 11:57:59.986 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={multipart}\r\n    2022-03-06 11:57:59.986 DEBUG 9492 --- [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2022-03-06 11:57:59.995 DEBUG 9492 --- [nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2022-03-06 11:58:00.022 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\r\n    2022-03-06 11:58:00.077 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/css/style.css&quot;, parameters={}\r\n    2022-03-06 11:58:00.078 DEBUG 9492 --- [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\r\n    2022-03-06 11:58:00.083 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n    2022-03-06 11:58:00.132 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/images/undraw_profile_1.svg&quot;, parameters={}\r\n    2022-03-06 11:58:00.134 DEBUG 9492 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\r\n    2022-03-06 11:58:00.137 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Request method &#39;PATCH&#39; not supported","body":"<p>I have a profile update page which is supposed to show errors on the fields.\nHowever, when I remove the value from an input field instead of getting an error below, I get 405 - <code>Request method 'PATCH' not supported</code>.\nI have no idea what could be the problem, any advice is appreciated.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Controller\n@RequestMapping(\"/users\")\npublic class UserController {\n@GetMapping(\"/profile/update/{id}\")\n    public String showUpdateForm(@PathVariable(\"id\") Long id, Model model) {\n        ProfileUpdateServiceModel profileServiceModel = this.userService.getProfileUpdateServiceModelById(id);\n        ProfileUpdateBindingModel profileUpdateBindingModel = this.mapper.map(profileServiceModel, ProfileUpdateBindingModel.class);\n        if (!model.containsAttribute(\"profileUpdateBindingModel\")) {\n            model.addAttribute(\"profileUpdateBindingModel\", profileUpdateBindingModel);\n        }\n//        model.addAttribute(\"profileUpdateBindingModel\", profileUpdateBindingModel);\n        return \"update-profile\";\n    }\n\n    @PatchMapping(\"/profile/update/{id}\")\n    public String update(@PathVariable(\"id\") Long id,\n                         @Valid ProfileUpdateBindingModel profileUpdateBindingModel,\n                         BindingResult br,\n                         RedirectAttributes rAtt) {\n\n        if (br.hasErrors()) {\n            rAtt\n                    .addFlashAttribute(\"profileUpdateBindingModel\", profileUpdateBindingModel)\n                    .addFlashAttribute(\"org.springframework.validation.BindingResult.profileUpdateBindingModel\", br);\n            return \"redirect:/users/profile/update/\" + id;\n        }\n        return \"profile\";\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>profile.html:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form\n   th:method=\"GET\"\n   th:action=\"@{/users/profile/update/{id}(id=${session.currentUserId})}\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>update-profile.html:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form\n   th:action=\"@{/users/profile/update/{id}(id=*{userId})}\"\n   th:method=\"PATCH\"\n   th:object=\"${profileUpdateBindingModel}\"\n   enctype=\"multipart/form-data\"&gt;\n\n&lt;div class=\"col-sm-6\"&gt;\n   &lt;label class=\"label-align\"&gt;First Name&lt;span\n      class=\"required\"&gt;*&lt;/span&gt;&lt;/label&gt;\n   &lt;input\n      th:field=\"*{firstName}\"\n      type=\"text\"\n      class=\"form-control\"\n      name=\"name\"/&gt;\n   &lt;div class=\"col-auto\"&gt;\n      &lt;small th:if=\"${#fields.hasErrors('firstName')}\"\n         th:errors=\"*{firstName}\"\n         id=\"first-nameError\"\n         class=\"text-light form-text bg-danger rounded\"&gt;xxx&lt;/small&gt;\n   &lt;/div&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>LOGS:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>2022-03-06 11:57:45.050 DEBUG 9492 --- [nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.9, */*;q=0.8]\n2022-03-06 11:57:45.077 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2022-03-06 11:57:45.131 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET \"/css/style.css\", parameters={}\n2022-03-06 11:57:45.131 DEBUG 9492 --- [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\n2022-03-06 11:57:45.135 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2022-03-06 11:57:45.138 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET \"/images/undraw_profile_1.svg\", parameters={}\n2022-03-06 11:57:45.138 DEBUG 9492 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\n2022-03-06 11:57:45.138 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2022-03-06 11:57:45.168 DEBUG 9492 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET \"/images/1915.jpg\", parameters={}\n2022-03-06 11:57:45.169 DEBUG 9492 --- [nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\n2022-03-06 11:57:45.178 DEBUG 9492 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2022-03-06 11:57:59.981 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PATCH \"/users/profile/update/\", parameters={multipart}\n2022-03-06 11:57:59.984  WARN 9492 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PATCH' not supported]\n2022-03-06 11:57:59.984 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\n2022-03-06 11:57:59.986 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : \"ERROR\" dispatch for POST \"/error\", parameters={multipart}\n2022-03-06 11:57:59.986 DEBUG 9492 --- [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2022-03-06 11:57:59.995 DEBUG 9492 --- [nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]\n2022-03-06 11:58:00.022 DEBUG 9492 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from \"ERROR\" dispatch, status 405\n2022-03-06 11:58:00.077 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET \"/css/style.css\", parameters={}\n2022-03-06 11:58:00.078 DEBUG 9492 --- [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\n2022-03-06 11:58:00.083 DEBUG 9492 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n2022-03-06 11:58:00.132 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET \"/images/undraw_profile_1.svg\", parameters={}\n2022-03-06 11:58:00.134 DEBUG 9492 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/], ServletContext [/]]\n2022-03-06 11:58:00.137 DEBUG 9492 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","jersey-2.0"],"comments":[{"owner":{"account_id":7865942,"reputation":5058,"user_id":5944754,"display_name":"Deendayal Garg"},"score":0,"creation_date":1473223884,"post_id":39361306,"comment_id":66052076,"body_markdown":"what are you expecting? only values?","body":"what are you expecting? only values?"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1473224010,"post_id":39361306,"comment_id":66052111,"body_markdown":"DO you know which JSON serializer you are using?  Moxy, Jackson, Gson, etc...?","body":"DO you know which JSON serializer you are using?  Moxy, Jackson, Gson, etc...?"},{"owner":{"account_id":178253,"reputation":28994,"user_id":410102,"accept_rate":93,"display_name":"akonsu"},"score":0,"creation_date":1473225040,"post_id":39361306,"comment_id":66052403,"body_markdown":"I expect `{&quot;hello&quot;: &quot;world&quot;}`. I do not know which serializer I am using. How to find out?","body":"I expect <code>{&quot;hello&quot;: &quot;world&quot;}</code>. I do not know which serializer I am using. How to find out?"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1473226142,"post_id":39361306,"comment_id":66052755,"body_markdown":"Check out this link:  https://jersey.java.net/documentation/latest/media.html#json","body":"Check out this link:  <a href=\"https://jersey.java.net/documentation/latest/media.html#json\" rel=\"nofollow noreferrer\">jersey.java.net/documentation/latest/media.html#json</a>"}],"answers":[{"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1473226096,"creation_date":1473226096,"answer_id":39361801,"question_id":39361306,"body_markdown":"I wish I had a better answer for you, this more of a hint until a better answer arrives.  There are a few moving parts here.  JsonObject is an interface.  Its implementation is not described.  Furthermore there is a Json serializer that is turning your returned objects into Json text.  It is both these things together that is leading to this Json schema output.  When you did the `.toString()` variation, the serializer just returned the String as is.  But when you return the JsonObject now you have these two dynamics at play, the implementation of the JsonObject and the implementation of the serializer.  Since you are using Jersey 2.0 you could be using Jackson, Moxy, or Jettison serializers.  These all might have different output when serializing the JsonObject, but we would have to test to be sure.  Furthermore, the JsonObject implementation might be configured in a way that when serialized by your chosen serializer leads to its output being a Json schema, versus just regular Json.  This can be done using annotations that are specific to the chosen Json serializer.\r\n\r\nIn my career I have used multiple Json serializers.  Jackson is probably the most popular one out there.  But I have also used Gson extensively.  In one project we configured Gson in some way where its serialized Json output came out as a Json schema when serializing POJO&#39;s.  So its not far fetched to have a Json serializer output Json schema under certain conditions.  \r\n\r\nWhen serializing POJO&#39;s (aka Java Beans), you expect a regular Json output when using default settings of your serializer on a Java Bean.  But when sending back objects that could have complex interworkings with specific Json serializers you may get varying Json output.\r\n\r\nIn this situation you would have to run tests to dive deeper into what is going on.  For example, I would first test out the serializer against a POJO that matches the JsonObject you created.  Then I would also test out other Json serializers on the same JsonObject.  See if you can pick up on a pattern.","title":"using JsonObject as entity for Jersey 2 response","body":"<p>I wish I had a better answer for you, this more of a hint until a better answer arrives.  There are a few moving parts here.  JsonObject is an interface.  Its implementation is not described.  Furthermore there is a Json serializer that is turning your returned objects into Json text.  It is both these things together that is leading to this Json schema output.  When you did the <code>.toString()</code> variation, the serializer just returned the String as is.  But when you return the JsonObject now you have these two dynamics at play, the implementation of the JsonObject and the implementation of the serializer.  Since you are using Jersey 2.0 you could be using Jackson, Moxy, or Jettison serializers.  These all might have different output when serializing the JsonObject, but we would have to test to be sure.  Furthermore, the JsonObject implementation might be configured in a way that when serialized by your chosen serializer leads to its output being a Json schema, versus just regular Json.  This can be done using annotations that are specific to the chosen Json serializer.</p>\n\n<p>In my career I have used multiple Json serializers.  Jackson is probably the most popular one out there.  But I have also used Gson extensively.  In one project we configured Gson in some way where its serialized Json output came out as a Json schema when serializing POJO's.  So its not far fetched to have a Json serializer output Json schema under certain conditions.  </p>\n\n<p>When serializing POJO's (aka Java Beans), you expect a regular Json output when using default settings of your serializer on a Java Bean.  But when sending back objects that could have complex interworkings with specific Json serializers you may get varying Json output.</p>\n\n<p>In this situation you would have to run tests to dive deeper into what is going on.  For example, I would first test out the serializer against a POJO that matches the JsonObject you created.  Then I would also test out other Json serializers on the same JsonObject.  See if you can pick up on a pattern.</p>\n"},{"tags":[],"owner":{"account_id":4922,"reputation":4885,"user_id":7641,"accept_rate":83,"display_name":"Jens Bannmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647201302,"creation_date":1647201302,"answer_id":71460330,"question_id":39361306,"body_markdown":"The datatype module [jackson-datatype-jsr353](https://github.com/FasterXML/jackson-datatype-jsr353/tree/2.2) provides support for `javax.json` types. The page includes instructions how to add the dependency and register the module with Jackson&#39;s `ObjectMapper`.\r\n\r\nStarting with Jackson 2.11.0, the module moved under the umbrella of [jackson-datatypes-misc](https://github.com/FasterXML/jackson-datatypes-misc).","title":"using JsonObject as entity for Jersey 2 response","body":"<p>The datatype module <a href=\"https://github.com/FasterXML/jackson-datatype-jsr353/tree/2.2\" rel=\"nofollow noreferrer\">jackson-datatype-jsr353</a> provides support for <code>javax.json</code> types. The page includes instructions how to add the dependency and register the module with Jackson's <code>ObjectMapper</code>.</p>\n<p>Starting with Jackson 2.11.0, the module moved under the umbrella of <a href=\"https://github.com/FasterXML/jackson-datatypes-misc\" rel=\"nofollow noreferrer\">jackson-datatypes-misc</a>.</p>\n"}],"owner":{"account_id":178253,"reputation":28994,"user_id":410102,"accept_rate":93,"display_name":"akonsu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39361801,"answer_count":2,"score":1,"last_activity_date":1647201302,"creation_date":1473223101,"question_id":39361306,"body_markdown":"I have this simple code:\r\n\r\n\r\n    package com.example\r\n\r\n    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n\r\n    ...\r\n\r\n    @Path(&quot;/&quot;)\r\n    public class Resource {\r\n        @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response defaultEntry() {\r\n            JsonObject result = (Json.createObjectBuilder()\r\n                                 .add(&quot;hello&quot;, &quot;world&quot;)\r\n                                 .build());\r\n\r\n            return Response.status(200).entity(result.toString()).build();\r\n        }\r\n    }\r\n\r\nI am new to Java, could someone please explain why, if I omit the call to `result.toString()` and simply pass `result` to `.entity` (like so: `return Response.status(200).entity(result).build()`), I get JSON on the client that includes type information etc, but not what I expected:\r\n\r\n    {&quot;hello&quot;:{&quot;chars&quot;:&quot;world&quot;,&quot;string&quot;:&quot;world&quot;,&quot;valueType&quot;:&quot;STRING&quot;}}\r\n\r\nwhat is the intention of this? How is passing `JsonObject` to it different from passing a string?\r\n\r\nAlso, I did not find `Response.entity` method in the documentation (https://jersey.java.net/apidocs/2.11/jersey/javax/ws/rs/core/Response.html). I copied this code from a tutorial, that did not explain properly what is going on...\r\n","title":"using JsonObject as entity for Jersey 2 response","body":"<p>I have this simple code:</p>\n\n<pre><code>package com.example\n\nimport javax.json.Json;\nimport javax.json.JsonObject;\n\n...\n\n@Path(\"/\")\npublic class Resource {\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response defaultEntry() {\n        JsonObject result = (Json.createObjectBuilder()\n                             .add(\"hello\", \"world\")\n                             .build());\n\n        return Response.status(200).entity(result.toString()).build();\n    }\n}\n</code></pre>\n\n<p>I am new to Java, could someone please explain why, if I omit the call to <code>result.toString()</code> and simply pass <code>result</code> to <code>.entity</code> (like so: <code>return Response.status(200).entity(result).build()</code>), I get JSON on the client that includes type information etc, but not what I expected:</p>\n\n<pre><code>{\"hello\":{\"chars\":\"world\",\"string\":\"world\",\"valueType\":\"STRING\"}}\n</code></pre>\n\n<p>what is the intention of this? How is passing <code>JsonObject</code> to it different from passing a string?</p>\n\n<p>Also, I did not find <code>Response.entity</code> method in the documentation (<a href=\"https://jersey.java.net/apidocs/2.11/jersey/javax/ws/rs/core/Response.html\" rel=\"nofollow\">https://jersey.java.net/apidocs/2.11/jersey/javax/ws/rs/core/Response.html</a>). I copied this code from a tutorial, that did not explain properly what is going on...</p>\n"},{"tags":["java","weka","tf-idf","tfidfvectorizer"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647201194,"creation_date":1645760533,"answer_id":71260777,"question_id":71036021,"body_markdown":"The [StringToWordVector](https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/StringToWordVector.html) filter uses the [weka.core.DictionaryBuilder](https://weka.sourceforge.io/doc.dev/weka/core/DictionaryBuilder.html) class under the hood for the TF/IDF computation. \r\n\r\nAs long as you create a `weka.core.Instance` object with the text that you want to have converted, you can do that using the builder&#39;s `vectorizeInstance(Instance)` method.\r\n\r\n**Edit 1:**\r\n\r\nBelow is an example based on your code (but with Weka classes), which shows how to either use the filter or the DictionaryBuilder for the TF/IDF transformation. Both get serialized, deserialized and re-used as well to demonstrate that these classes are serializable:\r\n\r\n```java\r\nimport weka.core.DictionaryBuilder;\r\nimport weka.core.Instance;\r\nimport weka.core.Instances;\r\nimport weka.core.SerializationHelper;\r\nimport weka.core.converters.ConverterUtils;\r\nimport weka.core.stemmers.LovinsStemmer;\r\nimport weka.core.stopwords.Rainbow;\r\nimport weka.filters.Filter;\r\nimport weka.filters.unsupervised.attribute.StringToWordVector;\r\n\r\npublic class TFIDF {\r\n\r\n  // just exposes the internal DictionaryBuilder member\r\n  public static class StringToWordVectorExposed\r\n    extends StringToWordVector {\r\n\r\n    public DictionaryBuilder getDictionary() {\r\n      return m_dictionaryBuilder;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    // load data\r\n    Instances train = ConverterUtils.DataSource.read(&quot;/some/where/train.arff&quot;);\r\n    train.setClassIndex(train.numAttributes() - 1);\r\n    Instances test = ConverterUtils.DataSource.read(&quot;/some/where/test.arff&quot;);\r\n    test.setClassIndex(test.numAttributes() - 1);\r\n    // init filter\r\n    StringToWordVectorExposed filter = new StringToWordVectorExposed();\r\n    int words2keep = 100;\r\n    filter.setInputFormat(train);\r\n    filter.setIDFTransform(true);\r\n    filter.setStopwordsHandler(new Rainbow());\r\n    filter.setLowerCaseTokens(true);\r\n    filter.setStemmer(new LovinsStemmer());\r\n    filter.setWordsToKeep(words2keep);\r\n    filter.setInputFormat(train);\r\n    Instances trainFiltered = Filter.useFilter(train, filter);\r\n    DictionaryBuilder builder = filter.getDictionary();\r\n    // apply filter/dictionary\r\n    Instances testFiltered = Filter.useFilter(test, filter);\r\n    System.out.println(testFiltered.instance(0));\r\n    Instance tfidf = builder.vectorizeInstance(test.instance(0));\r\n    System.out.println(tfidf);\r\n    // serialize\r\n    SerializationHelper.write(&quot;/some/where/filter.ser&quot;, filter);\r\n    SerializationHelper.write(&quot;/some/where/dictionary.ser&quot;, filter.getDictionary());\r\n    // deserialize\r\n    StringToWordVectorExposed filter2 = (StringToWordVectorExposed) SerializationHelper.read(&quot;/some/where/filter.ser&quot;);\r\n    DictionaryBuilder builder2 = (DictionaryBuilder) SerializationHelper.read(&quot;/some/where/dictionary.ser&quot;);\r\n    // re-apply\r\n    testFiltered = Filter.useFilter(test, filter2);\r\n    System.out.println(testFiltered.instance(0));\r\n    tfidf = builder2.vectorizeInstance(test.instance(0));\r\n    System.out.println(tfidf);\r\n  }\r\n}\r\n```","title":"Calculate TF-IDF in WEKA API for single document to predict classification","body":"<p>The <a href=\"https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/StringToWordVector.html\" rel=\"nofollow noreferrer\">StringToWordVector</a> filter uses the <a href=\"https://weka.sourceforge.io/doc.dev/weka/core/DictionaryBuilder.html\" rel=\"nofollow noreferrer\">weka.core.DictionaryBuilder</a> class under the hood for the TF/IDF computation.</p>\n<p>As long as you create a <code>weka.core.Instance</code> object with the text that you want to have converted, you can do that using the builder's <code>vectorizeInstance(Instance)</code> method.</p>\n<p><strong>Edit 1:</strong></p>\n<p>Below is an example based on your code (but with Weka classes), which shows how to either use the filter or the DictionaryBuilder for the TF/IDF transformation. Both get serialized, deserialized and re-used as well to demonstrate that these classes are serializable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import weka.core.DictionaryBuilder;\nimport weka.core.Instance;\nimport weka.core.Instances;\nimport weka.core.SerializationHelper;\nimport weka.core.converters.ConverterUtils;\nimport weka.core.stemmers.LovinsStemmer;\nimport weka.core.stopwords.Rainbow;\nimport weka.filters.Filter;\nimport weka.filters.unsupervised.attribute.StringToWordVector;\n\npublic class TFIDF {\n\n  // just exposes the internal DictionaryBuilder member\n  public static class StringToWordVectorExposed\n    extends StringToWordVector {\n\n    public DictionaryBuilder getDictionary() {\n      return m_dictionaryBuilder;\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n    // load data\n    Instances train = ConverterUtils.DataSource.read(&quot;/some/where/train.arff&quot;);\n    train.setClassIndex(train.numAttributes() - 1);\n    Instances test = ConverterUtils.DataSource.read(&quot;/some/where/test.arff&quot;);\n    test.setClassIndex(test.numAttributes() - 1);\n    // init filter\n    StringToWordVectorExposed filter = new StringToWordVectorExposed();\n    int words2keep = 100;\n    filter.setInputFormat(train);\n    filter.setIDFTransform(true);\n    filter.setStopwordsHandler(new Rainbow());\n    filter.setLowerCaseTokens(true);\n    filter.setStemmer(new LovinsStemmer());\n    filter.setWordsToKeep(words2keep);\n    filter.setInputFormat(train);\n    Instances trainFiltered = Filter.useFilter(train, filter);\n    DictionaryBuilder builder = filter.getDictionary();\n    // apply filter/dictionary\n    Instances testFiltered = Filter.useFilter(test, filter);\n    System.out.println(testFiltered.instance(0));\n    Instance tfidf = builder.vectorizeInstance(test.instance(0));\n    System.out.println(tfidf);\n    // serialize\n    SerializationHelper.write(&quot;/some/where/filter.ser&quot;, filter);\n    SerializationHelper.write(&quot;/some/where/dictionary.ser&quot;, filter.getDictionary());\n    // deserialize\n    StringToWordVectorExposed filter2 = (StringToWordVectorExposed) SerializationHelper.read(&quot;/some/where/filter.ser&quot;);\n    DictionaryBuilder builder2 = (DictionaryBuilder) SerializationHelper.read(&quot;/some/where/dictionary.ser&quot;);\n    // re-apply\n    testFiltered = Filter.useFilter(test, filter2);\n    System.out.println(testFiltered.instance(0));\n    tfidf = builder2.vectorizeInstance(test.instance(0));\n    System.out.println(tfidf);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":392433,"reputation":3,"user_id":753697,"display_name":"Kostis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71260777,"answer_count":1,"score":0,"last_activity_date":1647201194,"creation_date":1644332203,"question_id":71036021,"body_markdown":"For some reason I am using the WEKA API...\r\n\r\nI have generated tf-idf scores for a set of documents, \r\n``` \r\nStringToWordVector filter = new StringToWordVector();\r\nfilter.setInputFormat(data);\r\nfilter.setIDFTransform(true);\r\nfilter.setStopwordsHandler(new StopWordsHandlerEN());//just a simple handler for stop words I created\r\nfilter.setLowerCaseTokens(true);\r\nfilter.setStemmer(new MyStemmer());//a stemmer I created\r\nfilter.setWordsToKeep(words2keep);\r\nInstances result = Filter.useFilter(data, filter);\r\n``` \r\nthen split them into train and test subsets, did training, testing and all that...\r\n\r\nOnce I had a trained ready-to-go model for classification I wanted to create a plain API that would classify any incoming document. But the thing is the new tf-idf scores need to be calculated based on the tf-idf vector and the words of the starting set of documents, right? In other words, if I am not mistaken, I need to load a counterpart of the scikit-learn&#39;s ```tfidfvectorizer```.\r\n\r\nI cannot find anything like it in WEKA... Is there?..","title":"Calculate TF-IDF in WEKA API for single document to predict classification","body":"<p>For some reason I am using the WEKA API...</p>\n<p>I have generated tf-idf scores for a set of documents,</p>\n<pre><code>StringToWordVector filter = new StringToWordVector();\nfilter.setInputFormat(data);\nfilter.setIDFTransform(true);\nfilter.setStopwordsHandler(new StopWordsHandlerEN());//just a simple handler for stop words I created\nfilter.setLowerCaseTokens(true);\nfilter.setStemmer(new MyStemmer());//a stemmer I created\nfilter.setWordsToKeep(words2keep);\nInstances result = Filter.useFilter(data, filter);\n</code></pre>\n<p>then split them into train and test subsets, did training, testing and all that...</p>\n<p>Once I had a trained ready-to-go model for classification I wanted to create a plain API that would classify any incoming document. But the thing is the new tf-idf scores need to be calculated based on the tf-idf vector and the words of the starting set of documents, right? In other words, if I am not mistaken, I need to load a counterpart of the scikit-learn's <code>tfidfvectorizer</code>.</p>\n<p>I cannot find anything like it in WEKA... Is there?..</p>\n"},{"tags":["java","arrays","algorithm","permutation"],"comments":[{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1502049876,"post_id":45536091,"comment_id":78032293,"body_markdown":"So you want to find all the possible permutations of a given number (given as a string) using the logic for finding next permutation?","body":"So you want to find all the possible permutations of a given number (given as a string) using the logic for finding next permutation?"},{"owner":{"account_id":5339685,"reputation":39,"user_id":4257278,"accept_rate":0,"display_name":"Zoralikecury"},"score":0,"creation_date":1502049915,"post_id":45536091,"comment_id":78032304,"body_markdown":"no given as int, but yes use basically then run nextPerm again to get the next perm, which manipulates array again to produce another permutation","body":"no given as int, but yes use basically then run nextPerm again to get the next perm, which manipulates array again to produce another permutation"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1502050219,"post_id":45536091,"comment_id":78032386,"body_markdown":"I don&#39;t get it. Can you provide the example of your input?","body":"I don&#39;t get it. Can you provide the example of your input?"},{"owner":{"account_id":5339685,"reputation":39,"user_id":4257278,"accept_rate":0,"display_name":"Zoralikecury"},"score":0,"creation_date":1502050258,"post_id":45536091,"comment_id":78032400,"body_markdown":"So basically the code should work like this: you start off with an array of lets say: {1,2,3,4} all those are ints. After the first iteration the array changes to 1243, then gets changed to 1324, and so on. I will give the sudo code that he gave us in a sec:","body":"So basically the code should work like this: you start off with an array of lets say: {1,2,3,4} all those are ints. After the first iteration the array changes to 1243, then gets changed to 1324, and so on. I will give the sudo code that he gave us in a sec:"},{"owner":{"account_id":5339685,"reputation":39,"user_id":4257278,"accept_rate":0,"display_name":"Zoralikecury"},"score":0,"creation_date":1502050441,"post_id":45536091,"comment_id":78032451,"body_markdown":"scan the array from right-to-left\n if the current element is less than its right-hand neighbor\n call the current element the pivot\n stop scanning\nif the left end was reached without finding a pivot\n reverse the array (permutation was lexicographically last, so start over)\n return\nscan the array from right-to-left again\n if the current element is larger than the pivot\n call the current element the successor\n stop scanning\nswap the pivot and the successor\nreverse the portion of the array to the right of where the pivot was found\nreturn .... this  be in better format pg 3 with link","body":"scan the array from right-to-left  if the current element is less than its right-hand neighbor  call the current element the pivot  stop scanning if the left end was reached without finding a pivot  reverse the array (permutation was lexicographically last, so start over)  return scan the array from right-to-left again  if the current element is larger than the pivot  call the current element the successor  stop scanning swap the pivot and the successor reverse the portion of the array to the right of where the pivot was found return .... this  be in better format pg 3 with link"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1502050453,"post_id":45536091,"comment_id":78032456,"body_markdown":"No need. I get it. You are just passing the output you obtained in the previous step as an input for the next step. That&#39;s it.","body":"No need. I get it. You are just passing the output you obtained in the previous step as an input for the next step. That&#39;s it."},{"owner":{"account_id":5339685,"reputation":39,"user_id":4257278,"accept_rate":0,"display_name":"Zoralikecury"},"score":0,"creation_date":1502050536,"post_id":45536091,"comment_id":78032480,"body_markdown":"yes and sorry for bad explanation......will try my best to improve clarity in future questions","body":"yes and sorry for bad explanation......will try my best to improve clarity in future questions"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1502051195,"post_id":45536091,"comment_id":78032646,"body_markdown":"change return type of your method from void to int[] and return the array which you are printing in your method.","body":"change return type of your method from void to int[] and return the array which you are printing in your method."}],"answers":[{"tags":[],"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502050971,"creation_date":1502050971,"answer_id":45536256,"question_id":45536091,"body_markdown":"You just need to pass the output obtained in previous step as input to next step until you iterate over all possible permutations. Here is an explanation and pseudo code for the same.\r\n\r\nLets say that you have an array `[1,2,3,4]`. Total permutations possible with 4 elements in array would be 4! assuming all elements are distinct. So, just iterate the above code for nextPerm 4! times.\r\n\r\n    int fact = factorial(array.length);\r\n    for(int i = 0;i&lt;fact;i++){\r\n\t    int[] b  = nextPerm(array);\r\n        array = b;\r\n    }\r\n\r\nassuming that your nextPrem returns you the next permutated array.","title":"How to find permutations of array of ints with java","body":"<p>You just need to pass the output obtained in previous step as input to next step until you iterate over all possible permutations. Here is an explanation and pseudo code for the same.</p>\n\n<p>Lets say that you have an array <code>[1,2,3,4]</code>. Total permutations possible with 4 elements in array would be 4! assuming all elements are distinct. So, just iterate the above code for nextPerm 4! times.</p>\n\n<pre><code>int fact = factorial(array.length);\nfor(int i = 0;i&lt;fact;i++){\n    int[] b  = nextPerm(array);\n    array = b;\n}\n</code></pre>\n\n<p>assuming that your nextPrem returns you the next permutated array.</p>\n"}],"owner":{"account_id":5339685,"reputation":39,"user_id":4257278,"accept_rate":0,"display_name":"Zoralikecury"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647201190,"creation_date":1502049650,"question_id":45536091,"body_markdown":"I am doing some practice where I have to find all the permutations of n numbers. I was given pseudo code, however, I am having difficulties translating it.\r\n\r\n    public void nextPerm(int[] a,int pivot,int suc){\r\n\t\tsuc = 0;\r\n\t\tpivot = 0; \r\n\t\tfor(int i = a.length-1;; i--){\r\n\t\t\tif( i+1 != a.length)\r\n\t\t\t\tif(a[i] &lt; a[i+1]){\r\n\t\t\t\t\tpivot = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(pivot == 0){\r\n\t\t\t\t\treverseArray(a,pivot);//this just reverses the array from the right of the pivot point\r\n\t\t\t\t\tSystem.out.println(a);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i = a.length-1;;i--){\r\n\t\t\tif(a[i] &gt; a[pivot]){\r\n\t\t\t\tsuc = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//swap pivot and suc\r\n\t\tint place = a[pivot];\r\n\t\ta[pivot] = a[suc];\r\n\t\ta[place] = a[pivot];\r\n\t\treverseArray(a,pivot);\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\n\tprivate void reverseArray(int[] a,int pivot) {//make pivot the index which it will reverse to the right of\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint[] place = new int[a.length-pivot-1];\r\n\t\tint counter = 0;\r\n\t\tfor(int i = a.length-1; i &gt; pivot;i--){\r\n\t\t\tplace[counter] = a[i];\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\tcounter = 0;\r\n\t\tint[] hold = new int[a.length];\r\n\t\tfor(int i = 0; i &lt;= pivot;i++){\r\n\t\t\thold[i] = a[i];\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\tfor(int i = 0; i &lt; place.length;i++){\r\n\t\t\thold[counter] = place[i];\r\n\t\t\tcounter++;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(hold));\r\n\t}\r\n\r\nThis is what I have so far. Basically each time I run `nextPerm` it adjusts an array to be another permutation. For more info check out the pages here: [link to more info][1]\r\n\r\nSummary: `nextPerm` finds all the possible perms one at a time by manually changing the array.\r\n\r\n\r\n  [1]: https://classes.soe.ucsc.edu/cmps012a/Fall15/pa5.pdf","title":"How to find permutations of array of ints with java","body":"<p>I am doing some practice where I have to find all the permutations of n numbers. I was given pseudo code, however, I am having difficulties translating it.</p>\n<pre><code>public void nextPerm(int[] a,int pivot,int suc){\n    suc = 0;\n    pivot = 0; \n    for(int i = a.length-1;; i--){\n        if( i+1 != a.length)\n            if(a[i] &lt; a[i+1]){\n                pivot = i;\n                break;\n            } else if(pivot == 0){\n                reverseArray(a,pivot);//this just reverses the array from the right of the pivot point\n                System.out.println(a);\n        }\n    }\n    for(int i = a.length-1;;i--){\n        if(a[i] &gt; a[pivot]){\n            suc = i;\n            break;\n        }\n    }\n    //swap pivot and suc\n    int place = a[pivot];\n    a[pivot] = a[suc];\n    a[place] = a[pivot];\n    reverseArray(a,pivot);\n    System.out.println(Arrays.toString(a));\n    \n    \n}\n\n\n\nprivate void reverseArray(int[] a,int pivot) {//make pivot the index which it will reverse to the right of\n    // TODO Auto-generated method stub\n    int[] place = new int[a.length-pivot-1];\n    int counter = 0;\n    for(int i = a.length-1; i &gt; pivot;i--){\n        place[counter] = a[i];\n        counter++;\n    }\n    counter = 0;\n    int[] hold = new int[a.length];\n    for(int i = 0; i &lt;= pivot;i++){\n        hold[i] = a[i];\n        counter++;\n    }\n    for(int i = 0; i &lt; place.length;i++){\n        hold[counter] = place[i];\n        counter++;\n    }\n    \n    System.out.println(Arrays.toString(hold));\n}\n</code></pre>\n<p>This is what I have so far. Basically each time I run <code>nextPerm</code> it adjusts an array to be another permutation. For more info check out the pages here: <a href=\"https://classes.soe.ucsc.edu/cmps012a/Fall15/pa5.pdf\" rel=\"nofollow noreferrer\">link to more info</a></p>\n<p>Summary: <code>nextPerm</code> finds all the possible perms one at a time by manually changing the array.</p>\n"},{"tags":["java","hashmap","minecraft","spigot"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1647150613,"post_id":71453710,"comment_id":126295765,"body_markdown":"Consider having immutable, unmodifiable types so it&#39;s impossible to mess this up.","body":"Consider having immutable, unmodifiable types so it&#39;s impossible to mess this up."}],"answers":[{"tags":[],"owner":{"account_id":16019624,"reputation":26,"user_id":11561413,"display_name":"yao Mr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647137954,"creation_date":1647137954,"answer_id":71453936,"question_id":71453710,"body_markdown":"you should create a new object of deep clone. Using orika framework like below.\r\n\r\n    MapperFactory mapperFactory = new DefaultMapperFactory.Builder().build();\r\n\r\n    @Test\r\n    public void t() {\r\n\r\n        Map&lt;Integer, User&gt; map = new HashMap&lt;&gt;();\r\n\r\n        User one = new User();\r\n        one.setName(&quot;one&quot;);\r\n\r\n        System.out.println(one);\r\n        User two = new User();\r\n        two.setName(&quot;two&quot;);\r\n\r\n        System.out.println(two);\r\n        map.put(1,one);\r\n        map.put(2,two);\r\n\r\n\r\n\r\n        TypeBuilder&lt;Map&lt;Integer,User&gt;&gt; typeBuilder = new TypeBuilder&lt;Map&lt;Integer,User&gt;&gt;() {\r\n\r\n        };\r\n        Type&lt;Map&lt;Integer,User&gt;&gt; type = typeBuilder.build();\r\n        Map&lt;Integer,User&gt; copyMap = mapperFactory.getMapperFacade().mapAsMap(map, type,type);\r\n\r\n        System.out.println(copyMap.get(1));\r\n        System.out.println(copyMap.get(2));\r\n\r\n    }","title":"How can I make a new HashMap that won&#39;t change the one I&#39;ve copied from?","body":"<p>you should create a new object of deep clone. Using orika framework like below.</p>\n<pre><code>MapperFactory mapperFactory = new DefaultMapperFactory.Builder().build();\n\n@Test\npublic void t() {\n\n    Map&lt;Integer, User&gt; map = new HashMap&lt;&gt;();\n\n    User one = new User();\n    one.setName(&quot;one&quot;);\n\n    System.out.println(one);\n    User two = new User();\n    two.setName(&quot;two&quot;);\n\n    System.out.println(two);\n    map.put(1,one);\n    map.put(2,two);\n\n\n\n    TypeBuilder&lt;Map&lt;Integer,User&gt;&gt; typeBuilder = new TypeBuilder&lt;Map&lt;Integer,User&gt;&gt;() {\n\n    };\n    Type&lt;Map&lt;Integer,User&gt;&gt; type = typeBuilder.build();\n    Map&lt;Integer,User&gt; copyMap = mapperFactory.getMapperFacade().mapAsMap(map, type,type);\n\n    System.out.println(copyMap.get(1));\n    System.out.println(copyMap.get(2));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647138870,"creation_date":1647138870,"answer_id":71453988,"question_id":71453710,"body_markdown":"You need to make new CustomItem instances.  If you only make a copy of the Map, you’re just copying the references stored in the Map;  they’ll still refer to the same CustomItem instances.\r\n\r\nYou can make this easier by adding a copy constructor or `clone()` method to CustomItem.  Example of a copy constructor:\r\n\r\n    public class CustomItem {\r\n        public CustomItem(CustomItem other) {\r\n            this.name = other.name;\r\n            this.baseHealth = other.baseHealth;\r\n            this.multiplier = other.multiplier;\r\n            // Don&#39;t want two instances to refer to the same List!\r\n            this.inventoryList = new ArrayList&lt;&gt;(other.inventoryList);\r\n            // etc.\r\n        }\r\n    }\r\n\r\nExample of a `clone()` method:\r\n\r\n    public class CustomItem\r\n    implements Cloneable {\r\n\r\n        @Override\r\n        public CustomItem clone()() {\r\n            try {\r\n                CustomItem copy = (CustomItem) super.clone();\r\n\r\n                // Don&#39;t want two instances to refer to the same List!\r\n                copy.inventoryList = new ArrayList&lt;&gt;(copy.inventoryList);\r\n                // etc.\r\n\r\n                return copy;\r\n            } catch (CloneNotSupportedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nOnce you have a way to copy CustomItem instances, you need to use it in your new Map:\r\n\r\n    Map&lt;String, CustomItem&gt; newMap = new HashMap&lt;&gt;();\r\n\r\n    for (Map.Entry&lt;String, CustomItem&gt; entry : db) {\r\n        String key = entry.getKey();\r\n        CustomItem value = entry.getValue()\r\n\r\n        value = value.clone();\r\n\r\n        newMap.put(key, value);\r\n    }\r\n\r\nA shorter way:\r\n\r\n    Map&lt;String, CustomItem&gt; newMap = new HashMap&lt;&gt;(db);\r\n    newMap.replaceAll((k, v) -&gt; v.clone());\r\n","title":"How can I make a new HashMap that won&#39;t change the one I&#39;ve copied from?","body":"<p>You need to make new CustomItem instances.  If you only make a copy of the Map, you’re just copying the references stored in the Map;  they’ll still refer to the same CustomItem instances.</p>\n<p>You can make this easier by adding a copy constructor or <code>clone()</code> method to CustomItem.  Example of a copy constructor:</p>\n<pre><code>public class CustomItem {\n    public CustomItem(CustomItem other) {\n        this.name = other.name;\n        this.baseHealth = other.baseHealth;\n        this.multiplier = other.multiplier;\n        // Don't want two instances to refer to the same List!\n        this.inventoryList = new ArrayList&lt;&gt;(other.inventoryList);\n        // etc.\n    }\n}\n</code></pre>\n<p>Example of a <code>clone()</code> method:</p>\n<pre><code>public class CustomItem\nimplements Cloneable {\n\n    @Override\n    public CustomItem clone()() {\n        try {\n            CustomItem copy = (CustomItem) super.clone();\n\n            // Don't want two instances to refer to the same List!\n            copy.inventoryList = new ArrayList&lt;&gt;(copy.inventoryList);\n            // etc.\n\n            return copy;\n        } catch (CloneNotSupportedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Once you have a way to copy CustomItem instances, you need to use it in your new Map:</p>\n<pre><code>Map&lt;String, CustomItem&gt; newMap = new HashMap&lt;&gt;();\n\nfor (Map.Entry&lt;String, CustomItem&gt; entry : db) {\n    String key = entry.getKey();\n    CustomItem value = entry.getValue()\n\n    value = value.clone();\n\n    newMap.put(key, value);\n}\n</code></pre>\n<p>A shorter way:</p>\n<pre><code>Map&lt;String, CustomItem&gt; newMap = new HashMap&lt;&gt;(db);\nnewMap.replaceAll((k, v) -&gt; v.clone());\n</code></pre>\n"}],"owner":{"account_id":24539328,"reputation":1,"user_id":18449897,"display_name":"Endistic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647201129,"creation_date":1647133409,"question_id":71453710,"body_markdown":"I have a HashMap called the Item Database, which stores data about all of the items.\r\n\r\nHowever, these items can have modifiers (in this case, the stat multiplier is important). Whenever I change an item to just one specific item drop, it ends up changing the base item from the HashMap.\r\n\r\nFor example, whenever a player creates a Katana, it does something like this.\r\n```\r\nHashMap&lt;String, CustomItem&gt; db = new HashMap&lt;String, CustomItem&gt;();\r\ndb.putAll(ItemDatabase.database);\r\nCustomItem ci = db.get(&quot;KATANA&quot;);\r\n```\r\nFrom there, modifiers are applied via a getBukkitItem function on the CustomItem ci, basically multiplying a lot of the stats on that CustomItem and applying it.\r\n\r\n```\r\nbaseHealth = (int) ((abbaseHealth / 100.0) * multiplier);\r\n```\r\nand other stats like that.\r\n\r\nHowever, whenever I make changes to this new CustomItem, it also applies to the ItemDatabase hashmap. This means that whenever somebody makes another Katana, those multiplied stats become the new base stats to be multiplied.\r\n\r\nTL;DR Whenever I&#39;m changing a variable I got from a HashMap (db), that change also applies to the HashMap (itemdb). This happens even if the HashMap (db) it&#39;s from, is a copy of another HashMap (itemdb)\r\n\r\nI have tried the method above, and using .clone() on a HashMap and casting it back to HashMap. Unfortunately I&#39;m not really sure what else to try.\r\n","title":"How can I make a new HashMap that won&#39;t change the one I&#39;ve copied from?","body":"<p>I have a HashMap called the Item Database, which stores data about all of the items.</p>\n<p>However, these items can have modifiers (in this case, the stat multiplier is important). Whenever I change an item to just one specific item drop, it ends up changing the base item from the HashMap.</p>\n<p>For example, whenever a player creates a Katana, it does something like this.</p>\n<pre><code>HashMap&lt;String, CustomItem&gt; db = new HashMap&lt;String, CustomItem&gt;();\ndb.putAll(ItemDatabase.database);\nCustomItem ci = db.get(&quot;KATANA&quot;);\n</code></pre>\n<p>From there, modifiers are applied via a getBukkitItem function on the CustomItem ci, basically multiplying a lot of the stats on that CustomItem and applying it.</p>\n<pre><code>baseHealth = (int) ((abbaseHealth / 100.0) * multiplier);\n</code></pre>\n<p>and other stats like that.</p>\n<p>However, whenever I make changes to this new CustomItem, it also applies to the ItemDatabase hashmap. This means that whenever somebody makes another Katana, those multiplied stats become the new base stats to be multiplied.</p>\n<p>TL;DR Whenever I'm changing a variable I got from a HashMap (db), that change also applies to the HashMap (itemdb). This happens even if the HashMap (db) it's from, is a copy of another HashMap (itemdb)</p>\n<p>I have tried the method above, and using .clone() on a HashMap and casting it back to HashMap. Unfortunately I'm not really sure what else to try.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1647201037,"post_id":71460272,"comment_id":126306119,"body_markdown":"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#CASE_INSENSITIVE_ORDER","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#CASE_INSENSITIVE_ORDER\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647201050,"creation_date":1647201050,"answer_id":71460298,"question_id":71460272,"body_markdown":"Just use `a.compareToIgnoreCase(b)`\r\n\r\n[Documentation link](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareToIgnoreCase(java.lang.String))","title":"How to use .compareTo() with capital letters and lowercase letters but treating the capital letters as though they are lowercase?","body":"<p>Just use <code>a.compareToIgnoreCase(b)</code></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareToIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">Documentation link</a></p>\n"}],"owner":{"account_id":24064619,"reputation":7,"user_id":18041384,"display_name":"Annihilator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1647219217,"answer_count":1,"score":-2,"last_activity_date":1647201050,"creation_date":1647200873,"question_id":71460272,"body_markdown":"I&#39;m trying to sort some data. The data is a bunch of first and second names. We are sorting the second names by alphabetical order and then if the second names are the same we sort the first names by alphabetical order. When I do the following:\r\n\r\n    string a = ABC\r\n    string b = aab\r\n    string c = abcd\r\n\r\n    a.compareTo(b) = -32\r\n    c.compareTo(b)=1\r\n\r\nUsing this method the order returned from my implemented merge sort would be: \r\n \r\n    ABC\r\n    aab\r\n    abcd\r\n\r\nas it would result in adding the order of strings from lowest to highest to my array. How would I go about possibly converting the capitals or implementing additional checks to order it like:\r\n\r\n    aab\r\n    ABC\r\n    abcd","title":"How to use .compareTo() with capital letters and lowercase letters but treating the capital letters as though they are lowercase?","body":"<p>I'm trying to sort some data. The data is a bunch of first and second names. We are sorting the second names by alphabetical order and then if the second names are the same we sort the first names by alphabetical order. When I do the following:</p>\n<pre><code>string a = ABC\nstring b = aab\nstring c = abcd\n\na.compareTo(b) = -32\nc.compareTo(b)=1\n</code></pre>\n<p>Using this method the order returned from my implemented merge sort would be:</p>\n<pre><code>ABC\naab\nabcd\n</code></pre>\n<p>as it would result in adding the order of strings from lowest to highest to my array. How would I go about possibly converting the capitals or implementing additional checks to order it like:</p>\n<pre><code>aab\nABC\nabcd\n</code></pre>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":34019,"reputation":14592,"user_id":95699,"accept_rate":73,"display_name":"Rob H"},"score":0,"creation_date":1260753416,"post_id":1897900,"comment_id":1801332,"body_markdown":"I doubt anyone&#39;s invested the effort to create such a tool. Converting it manually isn&#39;t that hard.","body":"I doubt anyone&#39;s invested the effort to create such a tool. Converting it manually isn&#39;t that hard."}],"answers":[{"tags":[],"owner":{"account_id":73808,"reputation":114,"user_id":212351,"display_name":"blackanchorage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260743968,"creation_date":1260743968,"answer_id":1898067,"question_id":1897900,"body_markdown":"Presumably you must have a lot of properties files you need to convert. When I wanted to switch to xml (many years ago) I couldn&#39;t find much documentation. I did find sample xml files in the log4j distribution which were very useful.","title":"Script to convert log4j.properties to log4j.xml","body":"<p>Presumably you must have a lot of properties files you need to convert. When I wanted to switch to xml (many years ago) I couldn't find much documentation. I did find sample xml files in the log4j distribution which were very useful.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260806838,"creation_date":1260806838,"answer_id":1901806,"question_id":1897900,"body_markdown":"Here is something that *may* help you. Ceki G&#252;lc&#252;, the creator of log4j, started another logger project named [logback][1], and he provides an [online translator][2] for log4j.properties files to xml config files for logback. It looks like the configuration file schemas of log4j.xml and logback.xml are pretty close.\r\n\r\nAt least it should produce something that can easily be converted to the log4j.xml format.\r\n\r\nFor your convenience: here&#39;s a sample log4j.properties file from the log4j documentation. Just paste it into the translator and check the output:\r\n\r\n    log4j.rootLogger=debug, stdout, R\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    \r\n    # Pattern to output the caller&#39;s file name and line number.\r\n    log4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\r\n    \r\n    log4j.appender.R=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.R.File=example.log\r\n    \r\n    log4j.appender.R.MaxFileSize=100KB\r\n    # Keep one backup file\r\n    log4j.appender.R.MaxBackupIndex=1\r\n    \r\n    log4j.appender.R.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\r\n\r\n\r\n  [1]: http://logback.qos.ch/\r\n  [2]: http://logback.qos.ch/translator/","title":"Script to convert log4j.properties to log4j.xml","body":"<p>Here is something that <em>may</em> help you. Ceki Gülcü, the creator of log4j, started another logger project named <a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">logback</a>, and he provides an <a href=\"http://logback.qos.ch/translator/\" rel=\"nofollow noreferrer\">online translator</a> for log4j.properties files to xml config files for logback. It looks like the configuration file schemas of log4j.xml and logback.xml are pretty close.</p>\n\n<p>At least it should produce something that can easily be converted to the log4j.xml format.</p>\n\n<p>For your convenience: here's a sample log4j.properties file from the log4j documentation. Just paste it into the translator and check the output:</p>\n\n<pre><code>log4j.rootLogger=debug, stdout, R\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n\n# Pattern to output the caller's file name and line number.\nlog4j.appender.stdout.layout.ConversionPattern=%5p [%t] (%F:%L) - %m%n\n\nlog4j.appender.R=org.apache.log4j.RollingFileAppender\nlog4j.appender.R.File=example.log\n\nlog4j.appender.R.MaxFileSize=100KB\n# Keep one backup file\nlog4j.appender.R.MaxBackupIndex=1\n\nlog4j.appender.R.layout=org.apache.log4j.PatternLayout\nlog4j.appender.R.layout.ConversionPattern=%p %t %c - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95377,"reputation":231,"user_id":259100,"display_name":"Jason Royals"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1264497544,"creation_date":1264497544,"answer_id":2138419,"question_id":1897900,"body_markdown":"I needed to do this as well, but couldn&#39;t find a tool. Migrating by hand dozens of log4j.properties was not a palatable option. So, I bashed together a tool that can do it and released it for others to use.\r\n\r\n[http://code.google.com/p/log4j-properties-converter/][1]\r\n\r\nIt&#39;s a bit rough but did the trick for the log4j properties I gave it, so any problems log them on the issue tracker. Hope you find it useful.\r\n\r\n\r\n  [1]: http://code.google.com/p/log4j-properties-converter/","title":"Script to convert log4j.properties to log4j.xml","body":"<p>I needed to do this as well, but couldn't find a tool. Migrating by hand dozens of log4j.properties was not a palatable option. So, I bashed together a tool that can do it and released it for others to use.</p>\n\n<p><a href=\"http://code.google.com/p/log4j-properties-converter/\" rel=\"noreferrer\">http://code.google.com/p/log4j-properties-converter/</a></p>\n\n<p>It's a bit rough but did the trick for the log4j properties I gave it, so any problems log them on the issue tracker. Hope you find it useful.</p>\n"},{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553547739,"creation_date":1553547739,"answer_id":55346362,"question_id":1897900,"body_markdown":"Recently used https://github.com/balent/Log4j-Convert-Configuration to convert a log4j.xml file to a log4j.properties file (an ancient jar I had to use was explicitly looking for log4j.properties). The configuration allows going both ways: xml to properties OR properties to xml.\r\n\r\nDownload the binary build from https://github.com/balent/Log4j-Convert-Configuration/blob/master/binaries/full-with-dependencies/log4j-convert-full.jar and then just type:\r\n\r\n    java -jar log4j-convert-full.jar -i log4j.properties -o log4j.xml\r\n\r\nLeaving this on here for future me to find.","title":"Script to convert log4j.properties to log4j.xml","body":"<p>Recently used <a href=\"https://github.com/balent/Log4j-Convert-Configuration\" rel=\"nofollow noreferrer\">https://github.com/balent/Log4j-Convert-Configuration</a> to convert a log4j.xml file to a log4j.properties file (an ancient jar I had to use was explicitly looking for log4j.properties). The configuration allows going both ways: xml to properties OR properties to xml.</p>\n\n<p>Download the binary build from <a href=\"https://github.com/balent/Log4j-Convert-Configuration/blob/master/binaries/full-with-dependencies/log4j-convert-full.jar\" rel=\"nofollow noreferrer\">https://github.com/balent/Log4j-Convert-Configuration/blob/master/binaries/full-with-dependencies/log4j-convert-full.jar</a> and then just type:</p>\n\n<pre><code>java -jar log4j-convert-full.jar -i log4j.properties -o log4j.xml\n</code></pre>\n\n<p>Leaving this on here for future me to find.</p>\n"},{"tags":[],"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647200918,"creation_date":1645030860,"answer_id":71146138,"question_id":1897900,"body_markdown":"Late answer, but nowadays a [class][1] named **Log4j1ConfigurationConverter** from the log4j bridge API offers batch(recursive) conversion **from log4jv1 .properties to log4jv2.xml config.** \r\n\r\nFrom the javadocs:\r\n***&quot;Tool for converting a Log4j 1.x properties configuration file to Log4j 2.x XML configuration file.&quot;***\r\n\r\n**Example call that converts all files named log4j.properties found recursively in a given path:**\r\n\r\n     java org.apache.log4j.config.Log4j1ConfigurationConverter --recurse\r\n     &lt;directory-path-to-convert&gt; --in log4j.properties --verbose\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/config/Log4j1ConfigurationConverter.html","title":"Script to convert log4j.properties to log4j.xml","body":"<p>Late answer, but nowadays a <a href=\"https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/org/apache/log4j/config/Log4j1ConfigurationConverter.html\" rel=\"nofollow noreferrer\">class</a> named <strong>Log4j1ConfigurationConverter</strong> from the log4j bridge API offers batch(recursive) conversion <strong>from log4jv1 .properties to log4jv2.xml config.</strong></p>\n<p>From the javadocs:\n<em><strong>&quot;Tool for converting a Log4j 1.x properties configuration file to Log4j 2.x XML configuration file.&quot;</strong></em></p>\n<p><strong>Example call that converts all files named log4j.properties found recursively in a given path:</strong></p>\n<pre><code> java org.apache.log4j.config.Log4j1ConfigurationConverter --recurse\n &lt;directory-path-to-convert&gt; --in log4j.properties --verbose\n</code></pre>\n"}],"owner":{"account_id":52217,"reputation":229,"user_id":155979,"accept_rate":0,"display_name":"sbrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12652,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1647200918,"creation_date":1260741054,"question_id":1897900,"body_markdown":"I need to use custom filters, so I need to convert some long log4j.properties files to log4j.xml.\r\n\r\nIs anyone aware of a tool to do this, or willing to contribute one they have used?  Searching has thus far turned up no such tool.\r\n\r\n","title":"Script to convert log4j.properties to log4j.xml","body":"<p>I need to use custom filters, so I need to convert some long log4j.properties files to log4j.xml.</p>\n\n<p>Is anyone aware of a tool to do this, or willing to contribute one they have used?  Searching has thus far turned up no such tool.</p>\n"},{"tags":["java","android","mapbox","mapbox-android"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636559697,"creation_date":1636259109,"answer_id":69869809,"question_id":69805425,"body_markdown":"    mapboxMap.loadStyle(\r\n        styleExtension = style(Style.SATELLITE_STREETS) {\r\n        +rasterDemSource(&quot;TERRAIN_SOURCE&quot;) {\r\n        url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;)\r\n        }\r\n        +terrain(&quot;TERRAIN_SOURCE&quot;) {\r\n          exaggeration(1.1) \r\n        }\r\n    )\r\n\r\ninstead of this, try using \r\n\r\n    mapboxMap.loadStyle(\r\n        styleExtension = style(Style.SATELLITE) {\r\n        +rasterDemSource(&quot;TERRAIN_SOURCE&quot;) {\r\n        url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;)\r\n        }\r\n        +terrain(&quot;TERRAIN_SOURCE&quot;) {\r\n          exaggeration(1.1) \r\n        }\r\n    )\r\n\r\nHope it helps as it worked perfect for me without any issue.","title":"Display 3D Terrain Mapbox v10 Android","body":"<pre><code>mapboxMap.loadStyle(\n    styleExtension = style(Style.SATELLITE_STREETS) {\n    +rasterDemSource(&quot;TERRAIN_SOURCE&quot;) {\n    url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;)\n    }\n    +terrain(&quot;TERRAIN_SOURCE&quot;) {\n      exaggeration(1.1) \n    }\n)\n</code></pre>\n<p>instead of this, try using</p>\n<pre><code>mapboxMap.loadStyle(\n    styleExtension = style(Style.SATELLITE) {\n    +rasterDemSource(&quot;TERRAIN_SOURCE&quot;) {\n    url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;)\n    }\n    +terrain(&quot;TERRAIN_SOURCE&quot;) {\n      exaggeration(1.1) \n    }\n)\n</code></pre>\n<p>Hope it helps as it worked perfect for me without any issue.</p>\n"},{"tags":[],"owner":{"account_id":418579,"reputation":8272,"user_id":795231,"accept_rate":96,"display_name":"Reafidy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1647200800,"creation_date":1636326639,"answer_id":69877224,"question_id":69805425,"body_markdown":"Turns out I was using the style extension incorrectly, the following now works:\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    mapView = findViewById(R.id.mapView);\r\n    MapboxMap mapboxMap = mapView.getMapboxMap();\r\n\r\n    mapboxMap.loadStyle(createStyle());\r\n}\r\n\r\nprivate StyleContract.StyleExtension createStyle() {\r\n    StyleExtensionImpl.Builder builder = new StyleExtensionImpl.Builder(Style.SATELLITE);\r\n\r\n    RasterDemSource rasterDemSource = new RasterDemSource(new RasterDemSource.Builder(&quot;TERRAIN_SOURCE&quot;).tileSize(514));\r\n    rasterDemSource.url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;);\r\n    builder.addSource(rasterDemSource);\r\n\r\n    Terrain terrain = new Terrain(&quot;TERRAIN_SOURCE&quot;);\r\n    terrain.exaggeration(1.1);\r\n    builder.setTerrain(terrain);\r\n\r\n    return builder.build();\r\n}\r\n```","title":"Display 3D Terrain Mapbox v10 Android","body":"<p>Turns out I was using the style extension incorrectly, the following now works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mapView = findViewById(R.id.mapView);\n    MapboxMap mapboxMap = mapView.getMapboxMap();\n\n    mapboxMap.loadStyle(createStyle());\n}\n\nprivate StyleContract.StyleExtension createStyle() {\n    StyleExtensionImpl.Builder builder = new StyleExtensionImpl.Builder(Style.SATELLITE);\n\n    RasterDemSource rasterDemSource = new RasterDemSource(new RasterDemSource.Builder(&quot;TERRAIN_SOURCE&quot;).tileSize(514));\n    rasterDemSource.url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;);\n    builder.addSource(rasterDemSource);\n\n    Terrain terrain = new Terrain(&quot;TERRAIN_SOURCE&quot;);\n    terrain.exaggeration(1.1);\n    builder.setTerrain(terrain);\n\n    return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":418579,"reputation":8272,"user_id":795231,"accept_rate":96,"display_name":"Reafidy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":69877224,"answer_count":2,"score":7,"last_activity_date":1647200800,"creation_date":1635827586,"question_id":69805425,"body_markdown":"I am trying to use the new mapbox for android v10 with specifically the new 3d terrain feature.  All the examples are in Kotlin, I have followed the online guide below but I keep running into the same error message.\r\n\r\nOnline example:\r\n\r\n    mapboxMap.loadStyle(\r\n     styleExtension = style(Style.SATELLITE_STREETS) {\r\n       +rasterDemSource(&quot;TERRAIN_SOURCE&quot;) {\r\n         url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;)\r\n       }\r\n       +terrain(&quot;TERRAIN_SOURCE&quot;) {\r\n         exaggeration(1.1) \r\n       }\r\n    )\r\n\r\nThe following is the code I am using:\r\n\r\n    public class MainActivity extends AppCompatActivity {    \r\n        private MapView mapView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mapView = findViewById(R.id.mapView);\r\n            //mapView.getMapboxMap().loadStyleUri(Style.OUTDOORS);\r\n    \r\n            MapboxMap mapboxMap = mapView.getMapboxMap();\r\n    \r\n    \r\n            StyleContract.StyleExtension styleExtension = new StyleContract.StyleExtension() {\r\n                @NonNull\r\n                @Override\r\n                public String getStyleUri() {\r\n                    return Style.SATELLITE;\r\n                }\r\n    \r\n                @NonNull\r\n                @Override\r\n                public List&lt;StyleContract.StyleSourceExtension&gt; getSources() {\r\n                    RasterDemSource rasterDemSource = new RasterDemSource(new RasterDemSource.Builder(&quot;TERRAIN_SOURCE&quot;));\r\n                    rasterDemSource.url(&quot;mapbox://mapbox.mapbox-terrain-v2&quot;);\r\n    \r\n                    List&lt;StyleContract.StyleSourceExtension&gt; ex = new ArrayList&lt;StyleContract.StyleSourceExtension&gt;();\r\n                    ex.add(rasterDemSource);\r\n    \r\n                    return ex;\r\n                }\r\n    \r\n                @NonNull\r\n                @Override\r\n                public List&lt;StyleContract.StyleImageExtension&gt; getImages() {\r\n    \r\n                    return null;\r\n                }\r\n    \r\n                @NonNull\r\n                @Override\r\n                public List&lt;Pair&lt;StyleContract.StyleLayerExtension, LayerPosition&gt;&gt; getLayers() {\r\n                    return null;\r\n                }\r\n    \r\n                @Nullable\r\n                @Override\r\n                public StyleContract.StyleLightExtension getLight() {\r\n                    return null;\r\n                }\r\n    \r\n                @Nullable\r\n                @Override\r\n                public StyleContract.StyleTerrainExtension getTerrain() {\r\n                    Terrain terrain = new Terrain(&quot;TERRAIN_SOURCE&quot;);\r\n                    terrain.exaggeration(1.1);\r\n    \r\n                    return null;\r\n                }\r\n            };\r\n    \r\n            mapboxMap.loadStyle(styleExtension);\r\n        }\r\n    }\r\n\r\nI keep getting the following error code:\r\n&gt; 2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\r\n&gt; W/System.err: java.lang.NullPointerException: Attempt to invoke\r\n&gt; interface method &#39;java.util.Iterator java.lang.Iterable.iterator()&#39; on\r\n&gt; a null object reference 2021-11-02 17:21:39.439\r\n&gt; 23646-23646/com.example.myapplication W/System.err:     at\r\n&gt; com.mapbox.maps.MapboxMap.onFinishLoadingStyleExtension$sdk_release(MapboxMap.kt:1349)\r\n&gt; 2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\r\n&gt; W/System.err:     at\r\n&gt; com.mapbox.maps.MapboxMap$loadStyle$1.onStyleLoaded(MapboxMap.kt:163)\r\n&gt; 2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\r\n&gt; W/System.err:     at\r\n&gt; com.mapbox.maps.MapboxMap$initializeStyleLoad$1.onStyleLoaded(MapboxMap.kt:214)\r\n&gt; 2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\r\n&gt; W/System.err:     at\r\n&gt; com.mapbox.maps.StyleObserver.onStyleLoaded(StyleObserver.kt:58)\r\n&gt; 2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\r\n&gt; W/System.err:     at\r\n&gt; com.mapbox.maps.NativeObserver.notify(NativeObserver.kt:61) 2021-11-02\r\n&gt; 17:21:39.439 23646-23646/com.example.myapplication W/System.err:    \r\n&gt; at android.os.MessageQueue.nativePollOnce(Native Method) 2021-11-02\r\n&gt; 17:21:39.439 23646-23646/com.example.myapplication W/System.err:    \r\n&gt; at android.os.MessageQueue.next(MessageQueue.java:335) 2021-11-02\r\n&gt; 17:21:39.440 23646-23646/com.example.myapplication W/System.err:    \r\n&gt; at android.os.Looper.loop(Looper.java:206) 2021-11-02 17:21:39.440\r\n&gt; 23646-23646/com.example.myapplication W/System.err:     at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:8633) 2021-11-02\r\n&gt; 17:21:39.440 23646-23646/com.example.myapplication W/System.err:    \r\n&gt; at java.lang.reflect.Method.invoke(Native Method) 2021-11-02\r\n&gt; 17:21:39.440 23646-23646/com.example.myapplication W/System.err:    \r\n&gt; at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n&gt; 2021-11-02 17:21:39.440 23646-23646/com.example.myapplication\r\n&gt; W/System.err:     at\r\n&gt; com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n&gt; 2021-11-02 17:21:39.446 23646-23646/com.example.myapplication\r\n&gt; E/libc++abi: terminating with uncaught exception of type\r\n&gt; jni::PendingJavaException 2021-11-02 17:21:39.447\r\n&gt; 23646-23646/com.example.myapplication A/libc: Fatal signal 6\r\n&gt; (SIGABRT), code -1 (SI_QUEUE) in tid 23646 (e.myapplication), pid\r\n&gt; 23646 (e.myapplication)","title":"Display 3D Terrain Mapbox v10 Android","body":"<p>I am trying to use the new mapbox for android v10 with specifically the new 3d terrain feature.  All the examples are in Kotlin, I have followed the online guide below but I keep running into the same error message.</p>\n<p>Online example:</p>\n<pre><code>mapboxMap.loadStyle(\n styleExtension = style(Style.SATELLITE_STREETS) {\n   +rasterDemSource(&quot;TERRAIN_SOURCE&quot;) {\n     url(&quot;mapbox://mapbox.mapbox-terrain-dem-v1&quot;)\n   }\n   +terrain(&quot;TERRAIN_SOURCE&quot;) {\n     exaggeration(1.1) \n   }\n)\n</code></pre>\n<p>The following is the code I am using:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {    \n    private MapView mapView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n        mapView = findViewById(R.id.mapView);\n        //mapView.getMapboxMap().loadStyleUri(Style.OUTDOORS);\n\n        MapboxMap mapboxMap = mapView.getMapboxMap();\n\n\n        StyleContract.StyleExtension styleExtension = new StyleContract.StyleExtension() {\n            @NonNull\n            @Override\n            public String getStyleUri() {\n                return Style.SATELLITE;\n            }\n\n            @NonNull\n            @Override\n            public List&lt;StyleContract.StyleSourceExtension&gt; getSources() {\n                RasterDemSource rasterDemSource = new RasterDemSource(new RasterDemSource.Builder(&quot;TERRAIN_SOURCE&quot;));\n                rasterDemSource.url(&quot;mapbox://mapbox.mapbox-terrain-v2&quot;);\n\n                List&lt;StyleContract.StyleSourceExtension&gt; ex = new ArrayList&lt;StyleContract.StyleSourceExtension&gt;();\n                ex.add(rasterDemSource);\n\n                return ex;\n            }\n\n            @NonNull\n            @Override\n            public List&lt;StyleContract.StyleImageExtension&gt; getImages() {\n\n                return null;\n            }\n\n            @NonNull\n            @Override\n            public List&lt;Pair&lt;StyleContract.StyleLayerExtension, LayerPosition&gt;&gt; getLayers() {\n                return null;\n            }\n\n            @Nullable\n            @Override\n            public StyleContract.StyleLightExtension getLight() {\n                return null;\n            }\n\n            @Nullable\n            @Override\n            public StyleContract.StyleTerrainExtension getTerrain() {\n                Terrain terrain = new Terrain(&quot;TERRAIN_SOURCE&quot;);\n                terrain.exaggeration(1.1);\n\n                return null;\n            }\n        };\n\n        mapboxMap.loadStyle(styleExtension);\n    }\n}\n</code></pre>\n<p>I keep getting the following error code:</p>\n<blockquote>\n<p>2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\nW/System.err: java.lang.NullPointerException: Attempt to invoke\ninterface method 'java.util.Iterator java.lang.Iterable.iterator()' on\na null object reference 2021-11-02 17:21:39.439\n23646-23646/com.example.myapplication W/System.err:     at\ncom.mapbox.maps.MapboxMap.onFinishLoadingStyleExtension$sdk_release(MapboxMap.kt:1349)\n2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\nW/System.err:     at\ncom.mapbox.maps.MapboxMap$loadStyle$1.onStyleLoaded(MapboxMap.kt:163)\n2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\nW/System.err:     at\ncom.mapbox.maps.MapboxMap$initializeStyleLoad$1.onStyleLoaded(MapboxMap.kt:214)\n2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\nW/System.err:     at\ncom.mapbox.maps.StyleObserver.onStyleLoaded(StyleObserver.kt:58)\n2021-11-02 17:21:39.439 23646-23646/com.example.myapplication\nW/System.err:     at\ncom.mapbox.maps.NativeObserver.notify(NativeObserver.kt:61) 2021-11-02\n17:21:39.439 23646-23646/com.example.myapplication W/System.err:<br />\nat android.os.MessageQueue.nativePollOnce(Native Method) 2021-11-02\n17:21:39.439 23646-23646/com.example.myapplication W/System.err:<br />\nat android.os.MessageQueue.next(MessageQueue.java:335) 2021-11-02\n17:21:39.440 23646-23646/com.example.myapplication W/System.err:<br />\nat android.os.Looper.loop(Looper.java:206) 2021-11-02 17:21:39.440\n23646-23646/com.example.myapplication W/System.err:     at\nandroid.app.ActivityThread.main(ActivityThread.java:8633) 2021-11-02\n17:21:39.440 23646-23646/com.example.myapplication W/System.err:<br />\nat java.lang.reflect.Method.invoke(Native Method) 2021-11-02\n17:21:39.440 23646-23646/com.example.myapplication W/System.err:<br />\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n2021-11-02 17:21:39.440 23646-23646/com.example.myapplication\nW/System.err:     at\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n2021-11-02 17:21:39.446 23646-23646/com.example.myapplication\nE/libc++abi: terminating with uncaught exception of type\njni::PendingJavaException 2021-11-02 17:21:39.447\n23646-23646/com.example.myapplication A/libc: Fatal signal 6\n(SIGABRT), code -1 (SI_QUEUE) in tid 23646 (e.myapplication), pid\n23646 (e.myapplication)</p>\n</blockquote>\n"},{"tags":["java","apache-spark","google-cloud-dataproc","mssql-jdbc","dataproc"],"owner":{"account_id":24546703,"reputation":41,"user_id":18456448,"display_name":"user18456448"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647200499,"creation_date":1647200499,"question_id":71460235,"body_markdown":"I am stuck with a problem with Java security setting preventing my Dataproc cluster (Image 2.0.32-debian10) running PySpark to connect to SQL Server 2019 with Spark/JDBC connector (spark:spark.jars.packages=com.microsoft.azure:spark-mssql-connector_2.12:1.2.0 and sqljdbc4-2.0.jar). It seems the security level of the cluster and SQL Server 2019 (running on a GCE) do not match and there is this SSL/TLS error during handshake.\r\n\r\n&gt; Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver\r\n&gt; could not establish a secure connection to SQL Server by using Secure\r\n&gt; Sockets Layer (SSL) encryption. Error: &quot;No appropriate protocol\r\n&gt; (protocol is disabled or cipher suites are inappropriate)&quot;.\r\n&gt;         at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1368)\r\n&gt;         at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1412)\r\n&gt;         at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1058)\r\n&gt;         at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\r\n&gt;         at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\r\n&gt;         at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)\r\n\r\nI could bypass this by using Jupyter Notebook to directly modify &quot;Local Disk/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/security/java.security&quot; and comment out this part of the code &quot;jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\nDH keySize lessThan 1024, EC keySize lessThan 224, 3DES_EDE_CBC, anon, NULL, \\\r\ninclude jdk.disabled.namedCurves&quot;, and I will be able to connect to SQL Server successfully.\r\n\r\nHowever this would work only if my Dataproc cluster is a single node cluster. If it&#39;s a standard cluster (e.g. 1 master+2 workers), it seems the node doesn&#39;t recognize this change in security properties and I faced the same error as before (perhaps because the job is distributed to a worker node which does not recognize the change in java.security in the master node local disk). \r\n\r\nI tried passing these as the cluster properties hoping it would apply the change in security properties to worker nodes as well:\r\n\r\nspark:spark.driver.extraJavaOptions=&#39;-Djava.security.properties==gs://greenline-demo-341617-spark-src/Demo/02_Microsoft_SQL/java.security&#39;,spark:spark.executor.extraJavaOptions=&#39;-Djava.security.properties==gs://greenline-demo-341617-spark-src/Demo/02_Microsoft_SQL/java.security&#39; \r\n\r\nBut I&#39;m stuck at this error instead &#129315;\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.InternalError: internal error:\r\n&gt; SHA-1 not available.\r\n&gt;         at sun.security.provider.SecureRandom.init(SecureRandom.java:108)\r\n&gt;         at sun.security.provider.SecureRandom.&lt;init&gt;(SecureRandom.java:79)\r\n&gt;         at java.security.SecureRandom.getDefaultPRNG(SecureRandom.java:198)\r\n&gt;         at java.security.SecureRandom.&lt;init&gt;(SecureRandom.java:162)\r\n&gt;         at java.util.UUID$Holder.&lt;clinit&gt;(UUID.java:96)\r\n&gt;         at java.util.UUID.randomUUID(UUID.java:142)\r\n\r\nConnection string url_db = &quot;jdbc:sqlserver://10.148.xx.xx:1433;databaseName=AdventureWorks2019;sslProtocol=TLSv1;encrypt=false&quot;\r\n","title":"Overriding Java security properties on a Dataproc cluster to overcome SSL handshake issue with MS SQL 2019","body":"<p>I am stuck with a problem with Java security setting preventing my Dataproc cluster (Image 2.0.32-debian10) running PySpark to connect to SQL Server 2019 with Spark/JDBC connector (spark:spark.jars.packages=com.microsoft.azure:spark-mssql-connector_2.12:1.2.0 and sqljdbc4-2.0.jar). It seems the security level of the cluster and SQL Server 2019 (running on a GCE) do not match and there is this SSL/TLS error during handshake.</p>\n<blockquote>\n<p>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The driver\ncould not establish a secure connection to SQL Server by using Secure\nSockets Layer (SSL) encryption. Error: &quot;No appropriate protocol\n(protocol is disabled or cipher suites are inappropriate)&quot;.\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1368)\nat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1412)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1058)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)</p>\n</blockquote>\n<p>I could bypass this by using Jupyter Notebook to directly modify &quot;Local Disk/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/security/java.security&quot; and comment out this part of the code &quot;jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, <br />\nDH keySize lessThan 1024, EC keySize lessThan 224, 3DES_EDE_CBC, anon, NULL, <br />\ninclude jdk.disabled.namedCurves&quot;, and I will be able to connect to SQL Server successfully.</p>\n<p>However this would work only if my Dataproc cluster is a single node cluster. If it's a standard cluster (e.g. 1 master+2 workers), it seems the node doesn't recognize this change in security properties and I faced the same error as before (perhaps because the job is distributed to a worker node which does not recognize the change in java.security in the master node local disk).</p>\n<p>I tried passing these as the cluster properties hoping it would apply the change in security properties to worker nodes as well:</p>\n<p>spark:spark.driver.extraJavaOptions='-Djava.security.properties==gs://greenline-demo-341617-spark-src/Demo/02_Microsoft_SQL/java.security',spark:spark.executor.extraJavaOptions='-Djava.security.properties==gs://greenline-demo-341617-spark-src/Demo/02_Microsoft_SQL/java.security'</p>\n<p>But I'm stuck at this error instead 🤣</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.InternalError: internal error:\nSHA-1 not available.\nat sun.security.provider.SecureRandom.init(SecureRandom.java:108)\nat sun.security.provider.SecureRandom.(SecureRandom.java:79)\nat java.security.SecureRandom.getDefaultPRNG(SecureRandom.java:198)\nat java.security.SecureRandom.(SecureRandom.java:162)\nat java.util.UUID$Holder.(UUID.java:96)\nat java.util.UUID.randomUUID(UUID.java:142)</p>\n</blockquote>\n<p>Connection string url_db = &quot;jdbc:sqlserver://10.148.xx.xx:1433;databaseName=AdventureWorks2019;sslProtocol=TLSv1;encrypt=false&quot;</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","hikaricp"],"comments":[{"owner":{"account_id":18469478,"reputation":1,"user_id":13454766,"display_name":"mervfar"},"score":0,"creation_date":1647199880,"post_id":71459699,"comment_id":126305869,"body_markdown":"Maybe someone else coded it custom before, any suggestions are ok.","body":"Maybe someone else coded it custom before, any suggestions are ok."},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1666903668,"post_id":71459699,"comment_id":131051747,"body_markdown":"These event listeners are listening to the activity in *that EntityManager* only. So it will only be events that originate in the same service that will show up. If you want to have one service notified of changes made from a different service, you will need to use something like [pgjdbc-ng](http://impossibl.github.io/pgjdbc-ng/) which is capable of hooking into the Postgres LISTEN/NOTIFY features.","body":"These event listeners are listening to the activity in <i>that EntityManager</i> only. So it will only be events that originate in the same service that will show up. If you want to have one service notified of changes made from a different service, you will need to use something like <a href=\"http://impossibl.github.io/pgjdbc-ng/\" rel=\"nofollow noreferrer\">pgjdbc-ng</a> which is capable of hooking into the Postgres LISTEN/NOTIFY features."}],"owner":{"account_id":18469478,"reputation":1,"user_id":13454766,"display_name":"mervfar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647200089,"creation_date":1647196477,"question_id":71459699,"body_markdown":"I was looking for database listener for my microservice based java project. Some of the services are sharing the same remote jdbc connection.\r\nI tried this but its not giving logs of remote DB, just inside listener of project:\r\n```java \r\n\r\n@PostConstruct\r\n    private void init() {\r\n        SessionFactoryImpl sessionFactory = entityManagerFactory.unwrap(SessionFactoryImpl.class);\r\n        EventListenerRegistry registry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\r\n        registry.getEventListenerGroup(EventType.POST_INSERT).appendListener(new InsertEventListener());\r\n        registry.getEventListenerGroup(EventType.POST_UPDATE).appendListener(new UpdateEventListener());\r\n    }\r\n```\r\n\r\nThis listener should connect to a remote postgresql DB and start listening events like &quot;some entity inserted&quot; or &quot;some entity updated&quot; etc.\r\n\r\nIs there any maven dep. that already done this before ?\r\n","title":"Remote database event listener Java Spring Boot, PostgreSQL","body":"<p>I was looking for database listener for my microservice based java project. Some of the services are sharing the same remote jdbc connection.\nI tried this but its not giving logs of remote DB, just inside listener of project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@PostConstruct\n    private void init() {\n        SessionFactoryImpl sessionFactory = entityManagerFactory.unwrap(SessionFactoryImpl.class);\n        EventListenerRegistry registry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\n        registry.getEventListenerGroup(EventType.POST_INSERT).appendListener(new InsertEventListener());\n        registry.getEventListenerGroup(EventType.POST_UPDATE).appendListener(new UpdateEventListener());\n    }\n</code></pre>\n<p>This listener should connect to a remote postgresql DB and start listening events like &quot;some entity inserted&quot; or &quot;some entity updated&quot; etc.</p>\n<p>Is there any maven dep. that already done this before ?</p>\n"},{"tags":["java","jakarta-ee","design-patterns","jndi","service-locator"],"comments":[{"owner":{"account_id":3332716,"reputation":2082,"user_id":2801237,"display_name":"mawalker"},"score":0,"creation_date":1451688458,"post_id":34559687,"comment_id":56865199,"body_markdown":"Not sure why the down votes, sure the question isn&#39;t &#39;right&#39; but the &#39;question&#39; itself isn&#39;t &quot;bad&quot; It is worth asking if they are confused.","body":"Not sure why the down votes, sure the question isn&#39;t &#39;right&#39; but the &#39;question&#39; itself isn&#39;t &quot;bad&quot; It is worth asking if they are confused."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1451688631,"post_id":34559687,"comment_id":56865248,"body_markdown":"@mawalker It is worth asking if there is some universally agreed meaning of &#39;evil&#39; in software (which there isn&#39;t, as using it in this context is a category mistake), and if there is some broadly agreed reason why the service locator pattern exhibits it, which I have never heard of. Otherwise the OP is just using words at random without explanation and asking whether he&#39;s right.","body":"@mawalker It is worth asking if there is some universally agreed meaning of &#39;evil&#39; in software (which there isn&#39;t, as using it in this context is a category mistake), and if there is some broadly agreed reason why the service locator pattern exhibits it, which I have never heard of. Otherwise the OP is just using words at random without explanation and asking whether he&#39;s right."},{"owner":{"account_id":4516456,"reputation":173,"user_id":3671122,"accept_rate":57,"display_name":"La VloZ Merrill"},"score":0,"creation_date":1451694205,"post_id":34559687,"comment_id":56866483,"body_markdown":"@mawalker thank you for comment, me too i didn&#39;t understand why especially without a comment which clear it, i&#39;m not here for points nor up vote :)","body":"@mawalker thank you for comment, me too i didn&#39;t understand why especially without a comment which clear it, i&#39;m not here for points nor up vote :)"},{"owner":{"account_id":3332716,"reputation":2082,"user_id":2801237,"display_name":"mawalker"},"score":0,"creation_date":1451694500,"post_id":34559687,"comment_id":56866550,"body_markdown":"your wording is a bit hyperbolic, but the general question remains the same. (I don&#39;t know too much about JNDI to comment on the question itself) but edit out the &#39;evil&#39; part of the question, and try to explain in more detail why you think it is an anti-pattern, etc. might be of use.","body":"your wording is a bit hyperbolic, but the general question remains the same. (I don&#39;t know too much about JNDI to comment on the question itself) but edit out the &#39;evil&#39; part of the question, and try to explain in more detail why you think it is an anti-pattern, etc. might be of use."},{"owner":{"account_id":4516456,"reputation":173,"user_id":3671122,"accept_rate":57,"display_name":"La VloZ Merrill"},"score":0,"creation_date":1451694618,"post_id":34559687,"comment_id":56866567,"body_markdown":"@EJP thank you for answer, there is alots of resources in the internet claim that service locator design pattern is an anti-pattern because it hide classes dependencies and more, and about the term &quot;evil&quot; i&#39;ve googled and found an answer who the user used the term evil : http://programmers.stackexchange.com/questions/138144/are-service-locators-really-that-bad, there many people in this world think like me :)","body":"@EJP thank you for answer, there is alots of resources in the internet claim that service locator design pattern is an anti-pattern because it hide classes dependencies and more, and about the term &quot;evil&quot; i&#39;ve googled and found an answer who the user used the term evil : <a href=\"http://programmers.stackexchange.com/questions/138144/are-service-locators-really-that-bad\" title=\"are service locators really that bad\">programmers.stackexchange.com/questions/138144/&hellip;</a>, there many people in this world think like me :)"},{"owner":{"account_id":4516456,"reputation":173,"user_id":3671122,"accept_rate":57,"display_name":"La VloZ Merrill"},"score":0,"creation_date":1451694757,"post_id":34559687,"comment_id":56866590,"body_markdown":"@mawalker okey thank you for your time :)","body":"@mawalker okey thank you for your time :)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1451701469,"post_id":34559687,"comment_id":56867690,"body_markdown":"It wasn&#39;t an answer, it was a comment. Merely claiming there are many such resources without citing any of them is not sufficient here, and I don&#39;t see why SO should become a validation site for arbitrary Internet junk.","body":"It wasn&#39;t an answer, it was a comment. Merely claiming there are many such resources without citing any of them is not sufficient here, and I don&#39;t see why SO should become a validation site for arbitrary Internet junk."},{"owner":{"account_id":4516456,"reputation":173,"user_id":3671122,"accept_rate":57,"display_name":"La VloZ Merrill"},"score":0,"creation_date":1459670736,"post_id":34559687,"comment_id":60383077,"body_markdown":"@EJP thank you for your time.","body":"@EJP thank you for your time."}],"answers":[{"tags":[],"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647199169,"creation_date":1452205197,"answer_id":34666235,"question_id":34559687,"body_markdown":"I think that the one part of your question, whether service locator is good or not or whether JNDI is about this pattern is a bit esoteric. I can give a general advice here as being a software architect for some years now, that a pattern by itself is not good and not bad, it is just a piece of solution that was successfully used before in many cases and thus be declared a pattern in order to be used for future cases which are similar. And another thing is, as opposed to many years ago, when one had to know the GoF book by heart in order to survive an interview, nowadays it is much more important to understand the underlying concepts of a framework like Java EE than to implement all those patterns, because what you have to implement is very often very simple and straightforward, but using them relies on those concepts.\r\n\r\nConcerning the second part of your question, you are almost never in need of directly using JNDI, but to use concepts built on top of it, as injection - that is what you should use in your application.\r\n","title":"Is JNDI bad as service locator design pattern?","body":"<p>I think that the one part of your question, whether service locator is good or not or whether JNDI is about this pattern is a bit esoteric. I can give a general advice here as being a software architect for some years now, that a pattern by itself is not good and not bad, it is just a piece of solution that was successfully used before in many cases and thus be declared a pattern in order to be used for future cases which are similar. And another thing is, as opposed to many years ago, when one had to know the GoF book by heart in order to survive an interview, nowadays it is much more important to understand the underlying concepts of a framework like Java EE than to implement all those patterns, because what you have to implement is very often very simple and straightforward, but using them relies on those concepts.</p>\n<p>Concerning the second part of your question, you are almost never in need of directly using JNDI, but to use concepts built on top of it, as injection - that is what you should use in your application.</p>\n"},{"tags":[],"owner":{"account_id":11470754,"reputation":81,"user_id":9274531,"display_name":"Mister Mister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640034424,"creation_date":1640034424,"answer_id":70428048,"question_id":34559687,"body_markdown":"It&#39;s a horrible pattern IMHO since it is a massive security flaw. If dependencies are known at compile time and do not change, then its much easier to audit, gate and control possible vulenrabilities. Even within an organization JDNI is a Trojan horse waiting to be put to nefarious use, if a bad actor ca compromise some other area and your network, then get load whatever they want via a poorly/unwittingly implemented app. This log4j debacle is proof of that: don&#39;t allow apps to look-up and load whatever, whenever. It&#39;s a stupid idea. It&#39;s unsafe.","title":"Is JNDI bad as service locator design pattern?","body":"<p>It's a horrible pattern IMHO since it is a massive security flaw. If dependencies are known at compile time and do not change, then its much easier to audit, gate and control possible vulenrabilities. Even within an organization JDNI is a Trojan horse waiting to be put to nefarious use, if a bad actor ca compromise some other area and your network, then get load whatever they want via a poorly/unwittingly implemented app. This log4j debacle is proof of that: don't allow apps to look-up and load whatever, whenever. It's a stupid idea. It's unsafe.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640973210,"creation_date":1640036786,"answer_id":70428407,"question_id":34559687,"body_markdown":"In a business environment we end up needing different kinds of data across applications so that it makes sense to store them in a shared location. For instance you may have a set of applications that share the same set of users, and we need authorization information for each of them listing what roles they have so we can know what they need to access. That kind of thing goes into an LDAP data store, you can think of it as a hierarchical database optimized for fast read access. \r\n\r\nAll sorts of things can go in these datastores, it&#39;s normal for an application server to stash connection pools in them, for instance. A lot of these, like users, roles, and connection pools, are vital things you need to do your job.\r\n\r\nJNDI is the standard Java API for accessing these LDAP datastores. \r\n\r\nThe nasty thing about the service locator design pattern is that the client code doing the lookup has to know too much about the thing it is querying (mainly, where to get it from), and having that lookup hard-coded in the client makes the code inflexible and hard to test. But if we use dependency injection (whether it&#39;s CDI, Spring, whatever) we can have the framework inject the value we want into the code, while the JNDI lookups are handled within the framework code and not in the application. That means you can use JNDI without your application code having to use the service locator pattern.\r\n\r\n\r\n ","title":"Is JNDI bad as service locator design pattern?","body":"<p>In a business environment we end up needing different kinds of data across applications so that it makes sense to store them in a shared location. For instance you may have a set of applications that share the same set of users, and we need authorization information for each of them listing what roles they have so we can know what they need to access. That kind of thing goes into an LDAP data store, you can think of it as a hierarchical database optimized for fast read access.</p>\n<p>All sorts of things can go in these datastores, it's normal for an application server to stash connection pools in them, for instance. A lot of these, like users, roles, and connection pools, are vital things you need to do your job.</p>\n<p>JNDI is the standard Java API for accessing these LDAP datastores.</p>\n<p>The nasty thing about the service locator design pattern is that the client code doing the lookup has to know too much about the thing it is querying (mainly, where to get it from), and having that lookup hard-coded in the client makes the code inflexible and hard to test. But if we use dependency injection (whether it's CDI, Spring, whatever) we can have the framework inject the value we want into the code, while the JNDI lookups are handled within the framework code and not in the application. That means you can use JNDI without your application code having to use the service locator pattern.</p>\n"}],"owner":{"account_id":4516456,"reputation":173,"user_id":3671122,"accept_rate":57,"display_name":"La VloZ Merrill"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":34666235,"answer_count":3,"score":1,"last_activity_date":1647199169,"creation_date":1451679632,"question_id":34559687,"body_markdown":"I&#39;m a Java EE nooby developer, According to many resources on the internet which claim that service locator design pattern is an anti-pattern because it hides classes dependecies and more things and should be avoided as many as possbile and using Dependecy Injection instead, as we know JNDI is an implemantation of service locator pattern.\r\n\r\nI googled to check that JNDI is an implementation of service locator and i found this response which claims this : https://stackoverflow.com/questions/5143499/understanding-jndi\r\n\r\nAlthought i see that JNDI is used in Java EE application for many purposes (Datasources, EJB lookup ...), So should i use it or should i avoid it as more as possible?, if JNDI isn&#39;t bad then service locator isn&#39;t?","title":"Is JNDI bad as service locator design pattern?","body":"<p>I'm a Java EE nooby developer, According to many resources on the internet which claim that service locator design pattern is an anti-pattern because it hides classes dependecies and more things and should be avoided as many as possbile and using Dependecy Injection instead, as we know JNDI is an implemantation of service locator pattern.</p>\n\n<p>I googled to check that JNDI is an implementation of service locator and i found this response which claims this : <a href=\"https://stackoverflow.com/questions/5143499/understanding-jndi\">Understanding JNDI</a></p>\n\n<p>Althought i see that JNDI is used in Java EE application for many purposes (Datasources, EJB lookup ...), So should i use it or should i avoid it as more as possible?, if JNDI isn't bad then service locator isn't?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263921,"post_id":71458598,"comment_id":126320125,"body_markdown":"Have you tried to use blazc&#39;s answer?","body":"Have you tried to use blazc&#39;s answer?"},{"owner":{"account_id":24479130,"reputation":33,"user_id":18397793,"display_name":"Ugusu"},"score":0,"creation_date":1647277100,"post_id":71458598,"comment_id":126325641,"body_markdown":"@AlexMamo Yes. Didn&#39;t work.","body":"@AlexMamo Yes. Didn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":23642054,"reputation":69,"user_id":17672171,"display_name":"blaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647196993,"creation_date":1647196993,"answer_id":71459764,"question_id":71458598,"body_markdown":"You can try this:\r\n\r\n    Toast.makeText(requireActivity(), &quot;Failed&quot;, Toast.LENGTH_LONG).show();\r\n\r\nOr:\r\n\r\n    Toast.makeText(requireContext(), &quot;Failed&quot;, Toast.LENGTH_LONG).show();","title":"Toast makeText can&#39;t resolve symbol &quot;MyActivity.this&quot;","body":"<p>You can try this:</p>\n<pre><code>Toast.makeText(requireActivity(), &quot;Failed&quot;, Toast.LENGTH_LONG).show();\n</code></pre>\n<p>Or:</p>\n<pre><code>Toast.makeText(requireContext(), &quot;Failed&quot;, Toast.LENGTH_LONG).show();\n</code></pre>\n"}],"owner":{"account_id":24479130,"reputation":33,"user_id":18397793,"display_name":"Ugusu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1647279081,"answer_count":1,"score":-1,"last_activity_date":1647196993,"creation_date":1647188195,"question_id":71458598,"body_markdown":" I was trying to set `Toast`, to show is registratiion was succesful of failed. But couldn&#39;t make it resolve the `context`. There is the code:\r\n    \r\n    private void RegisterAccount() {\r\n            String username = RegisterUsername.getText().toString();\r\n            String mail = RegisterMail.getText().toString();\r\n            String password = RegisterPassword.getText().toString();\r\n\r\n        mAuth.createUserWithEmailAndPassword(mail, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                        if (task.isSuccessful()) {\r\n\r\n                            User user = new User(username, mail);\r\n\r\n                            FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n\r\n                                    .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n\r\n                                    .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                    if (task.isSuccessful()) {\r\n                                        Toast.makeText(RegisterAccount.this, &quot;Success&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n\r\n                                    else {\r\n                                        Toast.makeText(RegisterAccount.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        else {\r\n                            Toast.makeText(RegisterAccount.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\nError: `Cannot resolve symbol &#39;RegisterAccount&#39;`\r\nfor all 3 `Toast`-s\r\n\r\nI tried `Toast.makeText(RegisterAccount(), &quot;Failed&quot;, Toast.LENGTH_LONG).show();`, `RegisterAccount()` instead of `RegisterAccount.this` and got error: `Cannot resolve method &#39;makeText(void, java.lang.String, int)&#39;`.","title":"Toast makeText can&#39;t resolve symbol &quot;MyActivity.this&quot;","body":"<p>I was trying to set <code>Toast</code>, to show is registratiion was succesful of failed. But couldn't make it resolve the <code>context</code>. There is the code:</p>\n<pre><code>private void RegisterAccount() {\n        String username = RegisterUsername.getText().toString();\n        String mail = RegisterMail.getText().toString();\n        String password = RegisterPassword.getText().toString();\n\n    mAuth.createUserWithEmailAndPassword(mail, password)\n            .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                    if (task.isSuccessful()) {\n\n                        User user = new User(username, mail);\n\n                        FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n\n                                .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n\n                                .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                if (task.isSuccessful()) {\n                                    Toast.makeText(RegisterAccount.this, &quot;Success&quot;, Toast.LENGTH_LONG).show();\n                                }\n\n                                else {\n                                    Toast.makeText(RegisterAccount.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\n                                }\n                            }\n                        });\n                    }\n\n                    else {\n                        Toast.makeText(RegisterAccount.this, &quot;Failed&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n            });\n\n}\n</code></pre>\n<p>Error: <code>Cannot resolve symbol 'RegisterAccount'</code>\nfor all 3 <code>Toast</code>-s</p>\n<p>I tried <code>Toast.makeText(RegisterAccount(), &quot;Failed&quot;, Toast.LENGTH_LONG).show();</code>, <code>RegisterAccount()</code> instead of <code>RegisterAccount.this</code> and got error: <code>Cannot resolve method 'makeText(void, java.lang.String, int)'</code>.</p>\n"},{"tags":["java","sql","spring","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":16238391,"reputation":11,"user_id":11725359,"display_name":"Ume Habiba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647196816,"creation_date":1647196816,"answer_id":71459744,"question_id":71452717,"body_markdown":"    CREATE PROCEDURE dbo.addStudent\r\n    @id varchar(32),@name varchar(60),@surname varchar(60),@idGroup int    AS    \r\n    BEGIN     SET NOCOUNT ON;    \r\n    INSERT into student(id, name, surname, idGroup)     VALUES (@id, @name, \r\n    @surname, @idGroup);     \r\n    END\r\n\r\n    public void save(Student student) {    \r\n    long uuid = UUID.randomUUID().getMostSignificantBits() &amp; Long.MAX_VALUE;    \r\n    String uniqueID = Long.toString(uuid);    \r\n    String sqlQuery=&quot;EXECUTE addStudent @id,=?,@name=?,@surname =?,@idGroup =?&quot;;    \r\n    this.getJdbcTemplate().queryForRowSet(sqlQuery,uniqueID \r\n    ,student.getName(),student.getSurname(),student.getIdGroup());    \r\n    }  ","title":"Jdbc template and Stored procedure","body":"<pre><code>CREATE PROCEDURE dbo.addStudent\n@id varchar(32),@name varchar(60),@surname varchar(60),@idGroup int    AS    \nBEGIN     SET NOCOUNT ON;    \nINSERT into student(id, name, surname, idGroup)     VALUES (@id, @name, \n@surname, @idGroup);     \nEND\n\npublic void save(Student student) {    \nlong uuid = UUID.randomUUID().getMostSignificantBits() &amp; Long.MAX_VALUE;    \nString uniqueID = Long.toString(uuid);    \nString sqlQuery=&quot;EXECUTE addStudent @id,=?,@name=?,@surname =?,@idGroup =?&quot;;    \nthis.getJdbcTemplate().queryForRowSet(sqlQuery,uniqueID \n,student.getName(),student.getSurname(),student.getIdGroup());    \n}  \n</code></pre>\n"}],"owner":{"account_id":17100514,"reputation":1,"user_id":13547873,"display_name":"Adamson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647244897,"answer_count":1,"score":0,"last_activity_date":1647196816,"creation_date":1647116832,"question_id":71452717,"body_markdown":"How do I perform an insert query using jdbctemplate?\r\n\r\n    public void save(Student student) {\r\n            jdbcTemplate.update(&quot;{call addStudent(default,?,?,?)}&quot;, student.getName(), student.getSurname(),student.getIdGroup());\r\n        }\r\n\r\n    create procedure addStudent(IN name varchar(60), surname varchar(60), idGroup int)\r\n    BEGIN\r\n        INSERT into student(id, name, surname, idGroup)\r\n        VALUES (default , name, surname, idGroup);\r\n    end;","title":"Jdbc template and Stored procedure","body":"<p>How do I perform an insert query using jdbctemplate?</p>\n<pre><code>public void save(Student student) {\n        jdbcTemplate.update(&quot;{call addStudent(default,?,?,?)}&quot;, student.getName(), student.getSurname(),student.getIdGroup());\n    }\n\ncreate procedure addStudent(IN name varchar(60), surname varchar(60), idGroup int)\nBEGIN\n    INSERT into student(id, name, surname, idGroup)\n    VALUES (default , name, surname, idGroup);\nend;\n</code></pre>\n"},{"tags":["java","xml","kotlin","jackson","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647196433,"creation_date":1647191296,"answer_id":71458997,"question_id":71458854,"body_markdown":"Here&#39;s a working solution. Note that I&#39;ve made the mapper case insensitive to cope with the capitalised Simple property in the XML. You could do this with an annotation on the property instead to override the default lower case name. Note also the use of data classes that do away with any need to use lateinit vars or suchlike: \r\n\r\n    import com.fasterxml.jackson.databind.DeserializationFeature\r\n    import com.fasterxml.jackson.databind.MapperFeature\r\n    import com.fasterxml.jackson.dataformat.xml.JacksonXmlModule\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper\r\n    import com.fasterxml.jackson.module.kotlin.registerKotlinModule\r\n    \r\n    \r\n    data class Simple(val x: String, val y: String)\r\n    data class Test(val simple: Simple)\r\n    \r\n    \r\n    fun main() {\r\n    \r\n        val xmlDeserializer = XmlMapper(JacksonXmlModule().apply {\r\n            setDefaultUseWrapper(false)\r\n        }).registerKotlinModule()\r\n            .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n    \r\n        val simple = Simple(&quot;x&quot;,&quot;y&quot;)\r\n        val test = Test(simple)\r\n        println(xmlDeserializer.writeValueAsString(test))\r\n    \r\n        val stringToParse = &quot;&lt;Test&gt;&lt;Simple&gt;&lt;x&gt;1&lt;/x&gt;&lt;y&gt;2&lt;/y&gt;&lt;/Simple&gt;&lt;/Test&gt;&quot;\r\n        val finalObject = xmlDeserializer.readValue(stringToParse, Test::class.java)\r\n        println(finalObject.simple.x)\r\n    }\r\n\r\n\r\nmake sure your build.gradle.kts has these dependencies if they aren&#39;t there already:\r\n\r\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.13.1&quot;)\r\n    implementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.1&quot;)\r\n\r\n","title":"Kotlin - Deserializing with Jackson XmlMapper","body":"<p>Here's a working solution. Note that I've made the mapper case insensitive to cope with the capitalised Simple property in the XML. You could do this with an annotation on the property instead to override the default lower case name. Note also the use of data classes that do away with any need to use lateinit vars or suchlike:</p>\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature\nimport com.fasterxml.jackson.databind.MapperFeature\nimport com.fasterxml.jackson.dataformat.xml.JacksonXmlModule\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper\nimport com.fasterxml.jackson.module.kotlin.registerKotlinModule\n\n\ndata class Simple(val x: String, val y: String)\ndata class Test(val simple: Simple)\n\n\nfun main() {\n\n    val xmlDeserializer = XmlMapper(JacksonXmlModule().apply {\n        setDefaultUseWrapper(false)\n    }).registerKotlinModule()\n        .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n\n    val simple = Simple(&quot;x&quot;,&quot;y&quot;)\n    val test = Test(simple)\n    println(xmlDeserializer.writeValueAsString(test))\n\n    val stringToParse = &quot;&lt;Test&gt;&lt;Simple&gt;&lt;x&gt;1&lt;/x&gt;&lt;y&gt;2&lt;/y&gt;&lt;/Simple&gt;&lt;/Test&gt;&quot;\n    val finalObject = xmlDeserializer.readValue(stringToParse, Test::class.java)\n    println(finalObject.simple.x)\n}\n</code></pre>\n<p>make sure your build.gradle.kts has these dependencies if they aren't there already:</p>\n<pre><code>implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.13.1&quot;)\nimplementation(&quot;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.1&quot;)\n</code></pre>\n"}],"owner":{"account_id":19261735,"reputation":75,"user_id":14077479,"display_name":"NicolaM94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71458997,"answer_count":1,"score":1,"last_activity_date":1647196433,"creation_date":1647190067,"question_id":71458854,"body_markdown":"I&#39;m having some trouble to parse correctly an XML file with Jackson XML Mapper.\r\nSuppose I have this simple XML:\r\n\r\n```\r\n&lt;Test&gt;\r\n    &lt;Simple&gt;\r\n        &lt;x&gt;I am x&lt;/x&gt;\r\n        &lt;y&gt;I am y&lt;/y&gt;\r\n    &lt;/Simple&gt;\r\n&lt;/Test&gt;\r\n```\r\n\r\nand this simple class:\r\n```\r\n@Root(name=&quot;Simple&quot;,strict = false)\r\nclass Simple {\r\n\r\n    @Element(name = &quot;x&quot;, required = false)\r\n    lateinit var x :String\r\n\r\n    @Element(name = &quot;y&quot;, required = false)\r\n    lateinit var y :String\r\n    \r\n}\r\n\r\n```\r\nThe compiler keeps throwing this error:\r\n\r\n`Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Simple&quot; (class Simple), not marked as ignorable (2 known properties: &quot;x&quot;, &quot;y&quot;])`\r\n\r\nI guess it&#39;s because Kotlin can&#39;t find the proper structure of the file within the class?\r\nProblem is I need to parse a much more big xml file, and need to avoid to mirror every single Element of the xml, otherwise it will become huge.\r\n\r\nSo how can I &quot;partially&quot; parse the xml, setting the root to the `&lt;Simple&gt;` tag, avoiding the `&lt;Test&gt;` tag?\r\n\r\nThank you so much!\r\n","title":"Kotlin - Deserializing with Jackson XmlMapper","body":"<p>I'm having some trouble to parse correctly an XML file with Jackson XML Mapper.\nSuppose I have this simple XML:</p>\n<pre><code>&lt;Test&gt;\n    &lt;Simple&gt;\n        &lt;x&gt;I am x&lt;/x&gt;\n        &lt;y&gt;I am y&lt;/y&gt;\n    &lt;/Simple&gt;\n&lt;/Test&gt;\n</code></pre>\n<p>and this simple class:</p>\n<pre><code>@Root(name=&quot;Simple&quot;,strict = false)\nclass Simple {\n\n    @Element(name = &quot;x&quot;, required = false)\n    lateinit var x :String\n\n    @Element(name = &quot;y&quot;, required = false)\n    lateinit var y :String\n    \n}\n\n</code></pre>\n<p>The compiler keeps throwing this error:</p>\n<p><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Simple&quot; (class Simple), not marked as ignorable (2 known properties: &quot;x&quot;, &quot;y&quot;])</code></p>\n<p>I guess it's because Kotlin can't find the proper structure of the file within the class?\nProblem is I need to parse a much more big xml file, and need to avoid to mirror every single Element of the xml, otherwise it will become huge.</p>\n<p>So how can I &quot;partially&quot; parse the xml, setting the root to the <code>&lt;Simple&gt;</code> tag, avoiding the <code>&lt;Test&gt;</code> tag?</p>\n<p>Thank you so much!</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":15838670,"reputation":222,"user_id":11427796,"display_name":"Simon2215"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647194973,"creation_date":1647194973,"answer_id":71459504,"question_id":71457172,"body_markdown":"https://docs.gradle.org/current/userguide/java_library_plugin.html\r\n\r\nSolves the issue. \r\n\r\nIt&#39;s necessary to use the plugin before &quot;api&quot; is available","title":"Gradle: include &quot;subdependencies&quot; as well?","body":"<p><a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_library_plugin.html</a></p>\n<p>Solves the issue.</p>\n<p>It's necessary to use the plugin before &quot;api&quot; is available</p>\n"}],"owner":{"account_id":15838670,"reputation":222,"user_id":11427796,"display_name":"Simon2215"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647194973,"creation_date":1647177873,"question_id":71457172,"body_markdown":"I created a multi module project with gradle:\r\n\r\n```\r\nrootProject.name = &#39;test_gradle&#39;\r\n\r\ninclude &#39;modul_A&#39;\r\ninclude &#39;modul_B&#39;\r\n\r\nproject(&#39;:modul_A&#39;).name = &#39;Opel&#39;\r\n```\r\n\r\nProject Opel uses apache log4j2 as dependency. \r\n```\r\nimplementation &#39;org.apache.logging.log4j:log4j-core:2.17.2&#39;\r\n```\r\n\r\nIn module_B Opel is used as dependency:\r\n```\r\nimplementation project(&#39;:Opel&#39;)\r\n```\r\n\r\nIn module_B the IDE finds any classes created in Opel, but can&#39;t access any of these which uses log4j components. It seems the implementation keyword just included classes of module Opel and not its sub-dependencies(here: log4j2). How can I change that? And no, I don&#39;t want to include log4j2 by hand in module_B\r\n ","title":"Gradle: include &quot;subdependencies&quot; as well?","body":"<p>I created a multi module project with gradle:</p>\n<pre><code>rootProject.name = 'test_gradle'\n\ninclude 'modul_A'\ninclude 'modul_B'\n\nproject(':modul_A').name = 'Opel'\n</code></pre>\n<p>Project Opel uses apache log4j2 as dependency.</p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-core:2.17.2'\n</code></pre>\n<p>In module_B Opel is used as dependency:</p>\n<pre><code>implementation project(':Opel')\n</code></pre>\n<p>In module_B the IDE finds any classes created in Opel, but can't access any of these which uses log4j components. It seems the implementation keyword just included classes of module Opel and not its sub-dependencies(here: log4j2). How can I change that? And no, I don't want to include log4j2 by hand in module_B</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1647191313,"post_id":71458955,"comment_id":126303891,"body_markdown":"As it happens, a `Scanner` on `System.in` should not be closed","body":"As it happens, a <code>Scanner</code> on <code>System.in</code> should not be closed"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1647191479,"post_id":71458955,"comment_id":126303934,"body_markdown":"`Scanner` is tool for reading, not for validation. Also **do not** close `Scanner sc = new Scanner(System.in)`, it will close the underlying input stream as well, and you don&#39;t want to close `System.in`","body":"<code>Scanner</code> is tool for reading, not for validation. Also <b>do not</b> close <code>Scanner sc = new Scanner(System.in)</code>, it will close the underlying input stream as well, and you don&#39;t want to close <code>System.in</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1647191762,"post_id":71458955,"comment_id":126304014,"body_markdown":"This may help https://stackoverflow.com/questions/70867771/how-to-make-a-single-input-satisfy-2-scanners-at-the-same-time/70868080#70868080","body":"This may help <a href=\"https://stackoverflow.com/questions/70867771/how-to-make-a-single-input-satisfy-2-scanners-at-the-same-time/70868080#70868080\" title=\"how to make a single input satisfy 2 scanners at the same time\">stackoverflow.com/questions/70867771/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647192784,"post_id":71458955,"comment_id":126304264,"body_markdown":"Scanner was added so students could have an &quot;easy&quot; source of input.  (Well, and other people I suppose.)  Normally you want to close all input streams but in this case it&#39;s ok to make an exception.  As it&#39;s &quot;easy mode&quot; you&#39;re allowed to break a few rules.","body":"Scanner was added so students could have an &quot;easy&quot; source of input.  (Well, and other people I suppose.)  Normally you want to close all input streams but in this case it&#39;s ok to make an exception.  As it&#39;s &quot;easy mode&quot; you&#39;re allowed to break a few rules."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647194957,"post_id":71458955,"comment_id":126304821,"body_markdown":"Remove the `sc.close()` from your while loop. And although in general a `Scanner` should be closed, it should not be closed when it uses `System.in`.","body":"Remove the <code>sc.close()</code> from your while loop. And although in general a <code>Scanner</code> should be closed, it should not be closed when it uses <code>System.in</code>."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1647201519,"post_id":71458955,"comment_id":126306222,"body_markdown":"In any case, the point of try-with-resources is that you don&#39;t have to manage the &#39;close&#39; yourself.","body":"In any case, the point of try-with-resources is that you don&#39;t have to manage the &#39;close&#39; yourself."},{"owner":{"account_id":13029826,"reputation":1,"user_id":9416520,"display_name":"Melissa J Kipp"},"score":0,"creation_date":1647313592,"post_id":71458955,"comment_id":126334541,"body_markdown":"Thank you everyone for responding. This has helped clear up my misconceptions on the topic.","body":"Thank you everyone for responding. This has helped clear up my misconceptions on the topic."}],"owner":{"account_id":13029826,"reputation":1,"user_id":9416520,"display_name":"Melissa J Kipp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647194870,"creation_date":1647190872,"question_id":71458955,"body_markdown":"I&#39;m having a hard time figure out how to use the Scanner to correctly validate the user input and how to close the Scanner properly. I have tried placing ```close()``` function in multiple places. The output either closes to quickly, the output doesn&#39;t close at all or I get the error shown below.\r\n\r\n```\r\nimport java.text.NumberFormat;\r\nimport java.util.Currency;\r\nimport java.util.Locale;\r\nimport java.util.Scanner;\r\n\r\npublic class Interest {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        userInputCalculator();\r\n\r\n    }\r\n\r\n    private static double calculateInterest(double amount, double interestRate) {\r\n\r\n        return (amount * (interestRate / 100));\r\n\r\n    }\r\n\r\n   public static void userInputCalculator() {\r\n\r\n       try (Scanner sc = new Scanner(System.in)) {\r\n           System.out.println(&quot;Enter Loan Amount: &quot;);\r\n           while (sc.hasNextDouble()) {\r\n               double amount = sc.nextDouble();\r\n               if (amount &gt; 0) {\r\n                   Locale usa = new Locale(&quot;en&quot;, &quot;US&quot;);\r\n                   Currency dollars = Currency.getInstance(usa);\r\n                   NumberFormat formatDollars = NumberFormat.getCurrencyInstance(usa);\r\n                   String amountPrint;\r\n                   amountPrint = formatDollars.format(amount);\r\n\r\n                   for (double interestRate = 2.0; interestRate &lt;= 8.0; interestRate++) {\r\n                       System.out.println(dollars.getDisplayName() + &quot;: &quot; + amountPrint + &quot; at &quot; + interestRate + &quot;% = &quot; + String.format(&quot;%.2f&quot;, calculateInterest(amount, interestRate)));\r\n                   }\r\n                   System.out.println(&quot;==== Going Backwards ====&quot;);\r\n                   for (double interestRate = 8.0; interestRate &gt;= 2.0; interestRate--) {\r\n                       System.out.println(dollars.getDisplayName() + &quot;: &quot; + amountPrint + &quot; at &quot; + interestRate + &quot;% = &quot; + String.format(&quot;%.2f&quot;, calculateInterest(amount, interestRate)));\r\n\r\n                   }\r\n               } else {\r\n\r\n                   System.out.println(&quot;You have entered an invalid amount. Please enter a dollar amount of one dollar or greater.&quot;);\r\n                   System.out.println(amount);\r\n                   System.out.println(&quot;Please enter a valid dollar amount: &quot;);\r\n\r\n               }\r\n               sc.close();\r\n           }\r\n\r\n       }\r\n\r\n   }\r\n}\r\n```\r\n\r\n**Error**\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Scanner closed\r\n\tat java.base/java.util.Scanner.ensureOpen(Scanner.java:1150)\r\n\tat java.base/java.util.Scanner.hasNext(Scanner.java:1540)\r\n\tat java.base/java.util.Scanner.hasNextDouble(Scanner.java:2514)\r\n\tat com.examples.exercises.section_5.Interest.userInputCalculator(Interest.java:26)\r\n\tat com.examples.exercises.section_5.Interest.main(Interest.java:12)\r\n```","title":"How to properly validate user input and close Scanner?","body":"<p>I'm having a hard time figure out how to use the Scanner to correctly validate the user input and how to close the Scanner properly. I have tried placing <code>close()</code> function in multiple places. The output either closes to quickly, the output doesn't close at all or I get the error shown below.</p>\n<pre><code>import java.text.NumberFormat;\nimport java.util.Currency;\nimport java.util.Locale;\nimport java.util.Scanner;\n\npublic class Interest {\n\n    public static void main(String[] args) {\n\n        userInputCalculator();\n\n    }\n\n    private static double calculateInterest(double amount, double interestRate) {\n\n        return (amount * (interestRate / 100));\n\n    }\n\n   public static void userInputCalculator() {\n\n       try (Scanner sc = new Scanner(System.in)) {\n           System.out.println(&quot;Enter Loan Amount: &quot;);\n           while (sc.hasNextDouble()) {\n               double amount = sc.nextDouble();\n               if (amount &gt; 0) {\n                   Locale usa = new Locale(&quot;en&quot;, &quot;US&quot;);\n                   Currency dollars = Currency.getInstance(usa);\n                   NumberFormat formatDollars = NumberFormat.getCurrencyInstance(usa);\n                   String amountPrint;\n                   amountPrint = formatDollars.format(amount);\n\n                   for (double interestRate = 2.0; interestRate &lt;= 8.0; interestRate++) {\n                       System.out.println(dollars.getDisplayName() + &quot;: &quot; + amountPrint + &quot; at &quot; + interestRate + &quot;% = &quot; + String.format(&quot;%.2f&quot;, calculateInterest(amount, interestRate)));\n                   }\n                   System.out.println(&quot;==== Going Backwards ====&quot;);\n                   for (double interestRate = 8.0; interestRate &gt;= 2.0; interestRate--) {\n                       System.out.println(dollars.getDisplayName() + &quot;: &quot; + amountPrint + &quot; at &quot; + interestRate + &quot;% = &quot; + String.format(&quot;%.2f&quot;, calculateInterest(amount, interestRate)));\n\n                   }\n               } else {\n\n                   System.out.println(&quot;You have entered an invalid amount. Please enter a dollar amount of one dollar or greater.&quot;);\n                   System.out.println(amount);\n                   System.out.println(&quot;Please enter a valid dollar amount: &quot;);\n\n               }\n               sc.close();\n           }\n\n       }\n\n   }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Scanner closed\n    at java.base/java.util.Scanner.ensureOpen(Scanner.java:1150)\n    at java.base/java.util.Scanner.hasNext(Scanner.java:1540)\n    at java.base/java.util.Scanner.hasNextDouble(Scanner.java:2514)\n    at com.examples.exercises.section_5.Interest.userInputCalculator(Interest.java:26)\n    at com.examples.exercises.section_5.Interest.main(Interest.java:12)\n</code></pre>\n"},{"tags":["java","kotlin","caching","android-recyclerview","android-glide"],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647194840,"creation_date":1647178282,"question_id":71457230,"body_markdown":"I&#39;m trying to optimize my recyclerview, I&#39;m loading in pdf thumbnails generated from a function, I manage to display these bitmaps from a function which return me one’s but impossible to save them in the Glide cache. A new one is regenerated each time, I achieved this result using the piece of code bellow. The goal is to load the thumbnail from the cache if it already exists, otherwise generate it. I heard about signatures also with Glide but when I add this parameter I get an error... Also I heard about coil library which seems to offers this kind of features too.\r\nSomeone know how to do it?\r\n\r\nThank you\r\n\r\n    val bitmapPdf: Bitmap = BitmapFactory.decodeResource(context.resources,R.drawable.ic_pdf)\r\n\r\n            Glide.with(context).asBitmap().load(bitmapPdf).into(object : CustomTarget&lt;Bitmap&gt;() {\r\n                override fun onLoadCleared(placeholder: Drawable?) {\r\n                }\r\n\r\n                override fun onResourceReady(\r\n                    resource: Bitmap,\r\n                    transition: com.bumptech.glide.request.transition.Transition&lt;in Bitmap&gt;?\r\n                ) {\r\n                    val bitmapPdf = pdfToBitmap(currentFile)  //My bitmap generator\r\n                    holder.file_img.setImageBitmap(bitmapPdf)\r\n                }\r\n\r\n            })","title":"Use Glide or coil to display and caching generated bitmap","body":"<p>I'm trying to optimize my recyclerview, I'm loading in pdf thumbnails generated from a function, I manage to display these bitmaps from a function which return me one’s but impossible to save them in the Glide cache. A new one is regenerated each time, I achieved this result using the piece of code bellow. The goal is to load the thumbnail from the cache if it already exists, otherwise generate it. I heard about signatures also with Glide but when I add this parameter I get an error... Also I heard about coil library which seems to offers this kind of features too.\nSomeone know how to do it?</p>\n<p>Thank you</p>\n<pre><code>val bitmapPdf: Bitmap = BitmapFactory.decodeResource(context.resources,R.drawable.ic_pdf)\n\n        Glide.with(context).asBitmap().load(bitmapPdf).into(object : CustomTarget&lt;Bitmap&gt;() {\n            override fun onLoadCleared(placeholder: Drawable?) {\n            }\n\n            override fun onResourceReady(\n                resource: Bitmap,\n                transition: com.bumptech.glide.request.transition.Transition&lt;in Bitmap&gt;?\n            ) {\n                val bitmapPdf = pdfToBitmap(currentFile)  //My bitmap generator\n                holder.file_img.setImageBitmap(bitmapPdf)\n            }\n\n        })\n</code></pre>\n"},{"tags":["java","multithreading","asynchronous","completable-future","runtimeexception"],"comments":[{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":1,"creation_date":1647194217,"post_id":71458505,"comment_id":126304652,"body_markdown":"The code doesn&#39;t compile. This will not help anyone answer the request","body":"The code doesn&#39;t compile. This will not help anyone answer the request"}],"answers":[{"tags":[],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647194829,"creation_date":1647194829,"answer_id":71459480,"question_id":71458505,"body_markdown":"The calling code doesn&#39;t wait for the Future to complete or get the status. Here&#39;s the core of what needs to be added.\r\n\r\n```java\r\nCompletableFuture&lt;Void&gt; future = asyncTask.process(msg)\r\n  .thenAccept(this::postProcessTasks);\r\ntry {\r\n  future.get();\r\n} catch (ExecutionException e) {\r\n  Throwable asyncException = e.getCause();\r\n  // .. do something here\r\n}\r\n```\r\n\r\nIf you intend to propagate an asynchronous Exception back to the caller then `whenComplete` is probably not the call to use; It is meant to handle exceptions _within_ the asynch call.","title":"How To throw RuntimeExcpetions from CompletableFuture.whenComplete exception block?","body":"<p>The calling code doesn't wait for the Future to complete or get the status. Here's the core of what needs to be added.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; future = asyncTask.process(msg)\n  .thenAccept(this::postProcessTasks);\ntry {\n  future.get();\n} catch (ExecutionException e) {\n  Throwable asyncException = e.getCause();\n  // .. do something here\n}\n</code></pre>\n<p>If you intend to propagate an asynchronous Exception back to the caller then <code>whenComplete</code> is probably not the call to use; It is meant to handle exceptions <em>within</em> the asynch call.</p>\n"}],"owner":{"account_id":11894102,"reputation":61,"user_id":8704060,"display_name":"m23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71459480,"answer_count":1,"score":-1,"last_activity_date":1647194829,"creation_date":1647187553,"question_id":71458505,"body_markdown":"I need to re-throw the runtime exception from the CompletableFuture Exception block to the parent method, but looks like the runtimeException is getting logged at the exception block itself and not propagating back to the parent method. Can anyone please advise/suggest me what I am doing wrong here or is this the right way to throw?\r\nI have a function call like below :\r\n\r\n``` \r\nvoid method1(String msg)\r\n{\r\n   try\r\n   {\r\n    method2(msg);\r\n    }\r\n    catch(RuntimeException e)\r\n    {\r\n       throw new CustomException(&quot;&quot;);\r\n     }\r\n}\r\nvoid method2(String msg)\r\n{\r\n  CompletableFuture&lt;Void&gt; future = asyncTask.process(msg);\r\n  future.whenComplete((res,ex) -&gt;\r\n        if(ex != null)\r\n        {\r\n           log.error(&quot;&quot;);\r\n           throw RuntimeException(&quot;abc&quot;);\r\n         }\r\n        else\r\n         { postProcessTasks(msg);\r\n         }\r\n       );\r\n}","title":"How To throw RuntimeExcpetions from CompletableFuture.whenComplete exception block?","body":"<p>I need to re-throw the runtime exception from the CompletableFuture Exception block to the parent method, but looks like the runtimeException is getting logged at the exception block itself and not propagating back to the parent method. Can anyone please advise/suggest me what I am doing wrong here or is this the right way to throw?\nI have a function call like below :</p>\n<pre><code>void method1(String msg)\n{\n   try\n   {\n    method2(msg);\n    }\n    catch(RuntimeException e)\n    {\n       throw new CustomException(&quot;&quot;);\n     }\n}\nvoid method2(String msg)\n{\n  CompletableFuture&lt;Void&gt; future = asyncTask.process(msg);\n  future.whenComplete((res,ex) -&gt;\n        if(ex != null)\n        {\n           log.error(&quot;&quot;);\n           throw RuntimeException(&quot;abc&quot;);\n         }\n        else\n         { postProcessTasks(msg);\n         }\n       );\n}\n</code></pre>\n"},{"tags":["java","integer","integer-overflow"],"comments":[{"owner":{"account_id":12585,"reputation":303272,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":31,"creation_date":1345494620,"post_id":3001836,"comment_id":16080860,"body_markdown":"It&#39;s too bad that Java doesn&#39;t provide indirect access to the CPU&#39;s [overflow flag](http://en.wikipedia.org/wiki/Overflow_flag), as [is done in C#](http://msdn.microsoft.com/en-us/library/khy08726.aspx).","body":"It&#39;s too bad that Java doesn&#39;t provide indirect access to the CPU&#39;s <a href=\"http://en.wikipedia.org/wiki/Overflow_flag\" rel=\"nofollow noreferrer\">overflow flag</a>, as <a href=\"http://msdn.microsoft.com/en-us/library/khy08726.aspx\" rel=\"nofollow noreferrer\">is done in C#</a>."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1466599705,"post_id":3001836,"comment_id":63382689,"body_markdown":"@DrewNoakes And it&#39;s too bad that C# doesn&#39;t default to `checked` as far as I know. I don&#39;t see it used much, and typing `checked { code; }` is about as much work as calling a method.","body":"@DrewNoakes And it&#39;s too bad that C# doesn&#39;t default to <code>checked</code> as far as I know. I don&#39;t see it used much, and typing <code>checked { code; }</code> is about as much work as calling a method."},{"owner":{"account_id":12585,"reputation":303272,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":3,"creation_date":1466725702,"post_id":3001836,"comment_id":63451159,"body_markdown":"@MaartenBodewes, you can set it as the default during compilation of an assemblye. `csc /checked ...` or set the property in the project&#39;s properties pane in Visual Studio.","body":"@MaartenBodewes, you can set it as the default during compilation of an assemblye. <code>csc &#47;checked ...</code> or set the property in the project&#39;s properties pane in Visual Studio."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1466725840,"post_id":3001836,"comment_id":63451192,"body_markdown":"@DrewNoakes OK, interesting. A bit strange that it is a setting outside the code though. In general I&#39;d like to have the same behavior of a program regardless of such settings (possibly except assertions).","body":"@DrewNoakes OK, interesting. A bit strange that it is a setting outside the code though. In general I&#39;d like to have the same behavior of a program regardless of such settings (possibly except assertions)."},{"owner":{"account_id":12585,"reputation":303272,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":1,"creation_date":1466726564,"post_id":3001836,"comment_id":63451352,"body_markdown":"@MaartenBodewes, I think the reasoning is that there&#39;s a non-trivial perf overhead for checking. So perhaps you&#39;d enable it in debug builds, then disable it in release builds, just like many other kinds of assertions.","body":"@MaartenBodewes, I think the reasoning is that there&#39;s a non-trivial perf overhead for checking. So perhaps you&#39;d enable it in debug builds, then disable it in release builds, just like many other kinds of assertions."},{"owner":{"account_id":480845,"reputation":71,"user_id":894319,"display_name":"user894319twitter"},"score":0,"creation_date":1700110253,"post_id":3001836,"comment_id":136615173,"body_markdown":"@DrewNoakes this can be irrelevant when programmers shouldn&#39;t trust their input or sensors...","body":"@DrewNoakes this can be irrelevant when programmers shouldn&#39;t trust their input or sensors..."}],"answers":[{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1276037035,"creation_date":1276037035,"answer_id":3001873,"question_id":3001836,"body_markdown":"It doesn&#39;t do anything -- the under/overflow just happens.\r\n\r\nA &quot;-1&quot; that is the result of a computation that overflowed is no different from the &quot;-1&quot; that resulted from any other information. So you can&#39;t tell via some status or by inspecting just a value whether it&#39;s overflowed.\r\n\r\nBut you can be smart about your computations in order to avoid overflow, if it matters, or at least know when it will happen. What&#39;s your situation?","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>It doesn't do anything -- the under/overflow just happens.</p>\n\n<p>A \"-1\" that is the result of a computation that overflowed is no different from the \"-1\" that resulted from any other information. So you can't tell via some status or by inspecting just a value whether it's overflowed.</p>\n\n<p>But you can be smart about your computations in order to avoid overflow, if it matters, or at least know when it will happen. What's your situation?</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":8,"up_vote_count":250,"is_accepted":true,"score":242,"last_activity_date":1430491359,"creation_date":1276037115,"answer_id":3001879,"question_id":3001836,"body_markdown":"If it overflows, it goes back to the [minimum value][1] and continues from there. If it underflows, it goes back to the [maximum value][2] and continues from there.\r\n\r\nYou can check that beforehand as follows:\r\n\r\n    public static boolean willAdditionOverflow(int left, int right) {\r\n        if (right &lt; 0 &amp;&amp; right != Integer.MIN_VALUE) {\r\n            return willSubtractionOverflow(left, -right);\r\n        } else {\r\n            return (~(left ^ right) &amp; (left ^ (left + right))) &lt; 0;\r\n        }\r\n    }\r\n\r\n    public static boolean willSubtractionOverflow(int left, int right) {\r\n        if (right &lt; 0) {\r\n            return willAdditionOverflow(left, -right);\r\n        } else {\r\n            return ((left ^ right) &amp; (left ^ (left - right))) &lt; 0;\r\n        }\r\n    }\r\n\r\n*(you can substitute `int` by `long` to perform the same checks for `long`)*\r\n\r\nIf you think that this may occur more than often, then consider using a datatype or object which can store larger values, e.g. `long` or maybe [`java.math.BigInteger`][3]. The last one doesn&#39;t overflow, practically, the available JVM memory is the limit.\r\n\r\n---\r\n\r\nIf you happen to be on Java8 already, then you can make use of the new [`Math#addExact()`][4] and [`Math#subtractExact()`][5] methods which will throw an `ArithmeticException` on overflow.\r\n\r\n\tpublic static boolean willAdditionOverflow(int left, int right) {\r\n\t    try {\r\n\t    \tMath.addExact(left, right);\r\n\t    \treturn false;\r\n\t    } catch (ArithmeticException e) {\r\n\t    \treturn true;\r\n\t    }\r\n\t}\r\n\r\n\tpublic static boolean willSubtractionOverflow(int left, int right) {\r\n\t    try {\r\n\t    \tMath.subtractExact(left, right);\r\n\t    \treturn false;\r\n\t    } catch (ArithmeticException e) {\r\n\t    \treturn true;\r\n\t    }\r\n\t}\r\n\r\nThe source code can be found [here][6] and [here][7] respectively.\r\n\r\nOf course, you could also just use them right away instead of hiding them in a `boolean` utility method.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MAX_VALUE\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#addExact-int-int-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#subtractExact-int-int-\r\n  [6]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/Math.java#Math.addExact%28int%2Cint%29\r\n  [7]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/Math.java#Math.subtractExact%28int%2Cint%29","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>If it overflows, it goes back to the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE\" rel=\"noreferrer\">minimum value</a> and continues from there. If it underflows, it goes back to the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MAX_VALUE\" rel=\"noreferrer\">maximum value</a> and continues from there.</p>\n\n<p>You can check that beforehand as follows:</p>\n\n<pre><code>public static boolean willAdditionOverflow(int left, int right) {\n    if (right &lt; 0 &amp;&amp; right != Integer.MIN_VALUE) {\n        return willSubtractionOverflow(left, -right);\n    } else {\n        return (~(left ^ right) &amp; (left ^ (left + right))) &lt; 0;\n    }\n}\n\npublic static boolean willSubtractionOverflow(int left, int right) {\n    if (right &lt; 0) {\n        return willAdditionOverflow(left, -right);\n    } else {\n        return ((left ^ right) &amp; (left ^ (left - right))) &lt; 0;\n    }\n}\n</code></pre>\n\n<p><em>(you can substitute <code>int</code> by <code>long</code> to perform the same checks for <code>long</code>)</em></p>\n\n<p>If you think that this may occur more than often, then consider using a datatype or object which can store larger values, e.g. <code>long</code> or maybe <a href=\"http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html\" rel=\"noreferrer\"><code>java.math.BigInteger</code></a>. The last one doesn't overflow, practically, the available JVM memory is the limit.</p>\n\n<hr>\n\n<p>If you happen to be on Java8 already, then you can make use of the new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#addExact-int-int-\" rel=\"noreferrer\"><code>Math#addExact()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#subtractExact-int-int-\" rel=\"noreferrer\"><code>Math#subtractExact()</code></a> methods which will throw an <code>ArithmeticException</code> on overflow.</p>\n\n<pre><code>public static boolean willAdditionOverflow(int left, int right) {\n    try {\n        Math.addExact(left, right);\n        return false;\n    } catch (ArithmeticException e) {\n        return true;\n    }\n}\n\npublic static boolean willSubtractionOverflow(int left, int right) {\n    try {\n        Math.subtractExact(left, right);\n        return false;\n    } catch (ArithmeticException e) {\n        return true;\n    }\n}\n</code></pre>\n\n<p>The source code can be found <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/Math.java#Math.addExact%28int%2Cint%29\" rel=\"noreferrer\">here</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/Math.java#Math.subtractExact%28int%2Cint%29\" rel=\"noreferrer\">here</a> respectively.</p>\n\n<p>Of course, you could also just use them right away instead of hiding them in a <code>boolean</code> utility method.</p>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1647194796,"creation_date":1276037419,"answer_id":3001913,"question_id":3001836,"body_markdown":"It wraps around.\r\n\r\ne.g:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            int i = Integer.MAX_VALUE;\r\n            int j = Integer.MIN_VALUE;\r\n\r\n            System.out.println(i+1);\r\n            System.out.println(j-1);\r\n        }\r\n    }\r\n\r\nprints\r\n\r\n    -2147483648\r\n    2147483647\r\n\r\n\r\nSince java8 the **java.lang.Math** package has methods like `addExact()` and `multiplyExact()` which will throw an `ArithmeticException` when an overflow occurs.","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>It wraps around.</p>\n<p>e.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        int i = Integer.MAX_VALUE;\n        int j = Integer.MIN_VALUE;\n\n        System.out.println(i+1);\n        System.out.println(j-1);\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>-2147483648\n2147483647\n</code></pre>\n<p>Since java8 the <strong>java.lang.Math</strong> package has methods like <code>addExact()</code> and <code>multiplyExact()</code> which will throw an <code>ArithmeticException</code> when an overflow occurs.</p>\n"},{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1400696072,"creation_date":1276038381,"answer_id":3001995,"question_id":3001836,"body_markdown":"Well, as far as primitive integer types go, Java doesnt handle Over/Underflow at all (for float and double the behaviour is different, it will flush to +/- infinity just as IEEE-754 mandates).\r\n\r\nWhen adding two int&#39;s, you will get no indication when an overflow occurs. A simple method to check for overflow is to use the next bigger type to actually perform the operation and check if the result is still in range for the source type:\r\n\r\n    public int addWithOverflowCheck(int a, int b) {\r\n        // the cast of a is required, to make the + work with long precision,\r\n        // if we just added (a + b) the addition would use int precision and\r\n        // the result would be cast to long afterwards!\r\n        long result = ((long) a) + b;\r\n        if (result &gt; Integer.MAX_VALUE) {\r\n             throw new RuntimeException(&quot;Overflow occured&quot;);\r\n        } else if (result &lt; Integer.MIN_VALUE) {\r\n             throw new RuntimeException(&quot;Underflow occured&quot;);\r\n        }\r\n        // at this point we can safely cast back to int, we checked before\r\n        // that the value will be withing int&#39;s limits\r\n        return (int) result;\r\n    }\r\n\r\nWhat you would do in place of the throw clauses, depends on your applications requirements (throw, flush to min/max or just log whatever). If you want to detect overflow on long operations, you&#39;re out of luck with primitives, use BigInteger instead.\r\n\r\n---\r\n\r\nEdit (2014-05-21): Since this question seems to be referred to quite frequently and I had to solve the same problem myself, its quite easy to evaluate the overflow condition by the same method a CPU would calculate its V flag.\r\n\r\nIts basically a boolean expression that involves the sign of both operands as well as the result: \r\n\r\n    /**\r\n     * Add two int&#39;s with overflow detection (r = s + d)\r\n     */\r\n    public static int add(final int s, final int d) throws ArithmeticException {\r\n        int r = s + d;\r\n        if (((s &amp; d &amp; ~r) | (~s &amp; ~d &amp; r)) &lt; 0)\r\n            throw new ArithmeticException(&quot;int overflow add(&quot; + s + &quot;, &quot; + d + &quot;)&quot;);\t\r\n        return r;\r\n    }\r\n\r\nIn java its simpler to apply the expression (in the if) to the entire 32 bits, and check the result using &lt; 0 (this will effectively test the sign bit). The principle works exactly the same for *all integer primitive types*, changing all declarations in above method to long makes it work for long.\r\n\r\nFor smaller types, due to the implicit conversion to int (see the JLS for bitwise operations for details), instead of checking &lt; 0, the check needs to mask the sign bit explicitly (0x8000 for short operands, 0x80 for byte operands, adjust casts and parameter declaration appropiately):\r\n\r\n    /**\r\n     * Subtract two short&#39;s with overflow detection (r = d - s)\r\n     */\r\n    public static short sub(final short d, final short s) throws ArithmeticException {\r\n        int r = d - s;\r\n        if ((((~s &amp; d &amp; ~r) | (s &amp; ~d &amp; r)) &amp; 0x8000) != 0)\r\n            throw new ArithmeticException(&quot;short overflow sub(&quot; + s + &quot;, &quot; + d + &quot;)&quot;);\r\n        return (short) r;\r\n    }\r\n\r\n(Note that above example uses the expression need for *subtract* overflow detection)\r\n\r\n---\r\n\r\nSo how/why do these boolean expressions work? First, some logical thinking reveals that an overflow can *only* occur if the signs of both arguments are the same. Because, if one argument is negative and one positive, the result (of add) *must* be closer to zero, or in the extreme case one argument is zero, the same as the other argument. Since the arguments by themselves *can&#39;t* create an overflow condition, their sum can&#39;t create an overflow either.\r\n\r\nSo what happens if both arguments have the same sign? Lets take a look at the case both are positive: adding two arguments that create a sum larger than the types MAX_VALUE, will always yield a negative value, so an overflow occurs *if* arg1 + arg2 &gt; MAX_VALUE. Now the maximum value that could result would be MAX_VALUE + MAX_VALUE (the extreme case both arguments are MAX_VALUE). For a byte (example) that would mean 127 + 127 = 254. Looking at the bit representations of all values that can result from adding two positive values, one finds that those that overflow (128 to 254) all have bit 7 set, while all that do not overflow (0 to 127) have bit 7 (topmost, sign) cleared. Thats exactly what the first (right) part of the expression checks:\r\n\r\n    if (((s &amp; d &amp; ~r) | (~s &amp; ~d &amp; r)) &lt; 0)\r\n\r\n(~s &amp; ~d &amp; r) becomes true, *only if*, both operands (s, d) are positive and the result (r) is negative (the expression works on all 32 bits, but the only bit we&#39;re interested in is the topmost (sign) bit, which is checked against by the &lt; 0).\r\n\r\nNow if both arguments are negative, their sum can never be closer to zero than any of the arguments, the sum *must* be closer to minus infinity. The most extreme value we can produce is MIN_VALUE + MIN_VALUE, which (again for byte example) shows that for any in range value (-1 to -128) the sign bit is set, while any possible overflowing value (-129 to -256) has the sign bit cleared. So the sign of the result again reveals the overflow condition. Thats what the left half (s &amp; d &amp; ~r) checks for the case where both arguments (s, d) are negative and a result that is positive. The logic is largely equivalent to the positive case; all bit patterns that can result from adding two negative values will have the sign bit cleared *if and only if* an underflow occured.\r\n\r\n\r\n\r\n","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>Well, as far as primitive integer types go, Java doesnt handle Over/Underflow at all (for float and double the behaviour is different, it will flush to +/- infinity just as IEEE-754 mandates).</p>\n\n<p>When adding two int's, you will get no indication when an overflow occurs. A simple method to check for overflow is to use the next bigger type to actually perform the operation and check if the result is still in range for the source type:</p>\n\n<pre><code>public int addWithOverflowCheck(int a, int b) {\n    // the cast of a is required, to make the + work with long precision,\n    // if we just added (a + b) the addition would use int precision and\n    // the result would be cast to long afterwards!\n    long result = ((long) a) + b;\n    if (result &gt; Integer.MAX_VALUE) {\n         throw new RuntimeException(\"Overflow occured\");\n    } else if (result &lt; Integer.MIN_VALUE) {\n         throw new RuntimeException(\"Underflow occured\");\n    }\n    // at this point we can safely cast back to int, we checked before\n    // that the value will be withing int's limits\n    return (int) result;\n}\n</code></pre>\n\n<p>What you would do in place of the throw clauses, depends on your applications requirements (throw, flush to min/max or just log whatever). If you want to detect overflow on long operations, you're out of luck with primitives, use BigInteger instead.</p>\n\n<hr>\n\n<p>Edit (2014-05-21): Since this question seems to be referred to quite frequently and I had to solve the same problem myself, its quite easy to evaluate the overflow condition by the same method a CPU would calculate its V flag.</p>\n\n<p>Its basically a boolean expression that involves the sign of both operands as well as the result: </p>\n\n<pre><code>/**\n * Add two int's with overflow detection (r = s + d)\n */\npublic static int add(final int s, final int d) throws ArithmeticException {\n    int r = s + d;\n    if (((s &amp; d &amp; ~r) | (~s &amp; ~d &amp; r)) &lt; 0)\n        throw new ArithmeticException(\"int overflow add(\" + s + \", \" + d + \")\");    \n    return r;\n}\n</code></pre>\n\n<p>In java its simpler to apply the expression (in the if) to the entire 32 bits, and check the result using &lt; 0 (this will effectively test the sign bit). The principle works exactly the same for <em>all integer primitive types</em>, changing all declarations in above method to long makes it work for long.</p>\n\n<p>For smaller types, due to the implicit conversion to int (see the JLS for bitwise operations for details), instead of checking &lt; 0, the check needs to mask the sign bit explicitly (0x8000 for short operands, 0x80 for byte operands, adjust casts and parameter declaration appropiately):</p>\n\n<pre><code>/**\n * Subtract two short's with overflow detection (r = d - s)\n */\npublic static short sub(final short d, final short s) throws ArithmeticException {\n    int r = d - s;\n    if ((((~s &amp; d &amp; ~r) | (s &amp; ~d &amp; r)) &amp; 0x8000) != 0)\n        throw new ArithmeticException(\"short overflow sub(\" + s + \", \" + d + \")\");\n    return (short) r;\n}\n</code></pre>\n\n<p>(Note that above example uses the expression need for <em>subtract</em> overflow detection)</p>\n\n<hr>\n\n<p>So how/why do these boolean expressions work? First, some logical thinking reveals that an overflow can <em>only</em> occur if the signs of both arguments are the same. Because, if one argument is negative and one positive, the result (of add) <em>must</em> be closer to zero, or in the extreme case one argument is zero, the same as the other argument. Since the arguments by themselves <em>can't</em> create an overflow condition, their sum can't create an overflow either.</p>\n\n<p>So what happens if both arguments have the same sign? Lets take a look at the case both are positive: adding two arguments that create a sum larger than the types MAX_VALUE, will always yield a negative value, so an overflow occurs <em>if</em> arg1 + arg2 > MAX_VALUE. Now the maximum value that could result would be MAX_VALUE + MAX_VALUE (the extreme case both arguments are MAX_VALUE). For a byte (example) that would mean 127 + 127 = 254. Looking at the bit representations of all values that can result from adding two positive values, one finds that those that overflow (128 to 254) all have bit 7 set, while all that do not overflow (0 to 127) have bit 7 (topmost, sign) cleared. Thats exactly what the first (right) part of the expression checks:</p>\n\n<pre><code>if (((s &amp; d &amp; ~r) | (~s &amp; ~d &amp; r)) &lt; 0)\n</code></pre>\n\n<p>(~s &amp; ~d &amp; r) becomes true, <em>only if</em>, both operands (s, d) are positive and the result (r) is negative (the expression works on all 32 bits, but the only bit we're interested in is the topmost (sign) bit, which is checked against by the &lt; 0).</p>\n\n<p>Now if both arguments are negative, their sum can never be closer to zero than any of the arguments, the sum <em>must</em> be closer to minus infinity. The most extreme value we can produce is MIN_VALUE + MIN_VALUE, which (again for byte example) shows that for any in range value (-1 to -128) the sign bit is set, while any possible overflowing value (-129 to -256) has the sign bit cleared. So the sign of the result again reveals the overflow condition. Thats what the left half (s &amp; d &amp; ~r) checks for the case where both arguments (s, d) are negative and a result that is positive. The logic is largely equivalent to the positive case; all bit patterns that can result from adding two negative values will have the sign bit cleared <em>if and only if</em> an underflow occured.</p>\n"},{"tags":[],"owner":{"account_id":429843,"reputation":141,"user_id":812952,"display_name":"Dusan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1310919905,"creation_date":1310915324,"answer_id":6724707,"question_id":3001836,"body_markdown":"I think you should use something like this and it is called Upcasting:\r\n\r\n    public int multiplyBy2(int x) throws ArithmeticException {\r\n        long result = 2 * (long) x;    \r\n        if (result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE){\r\n            throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n        }\r\n        return (int) result;\r\n    }\r\n\r\nYou can read further here:\r\n[Detect or prevent integer overflow][1]\r\n\r\nIt is quite reliable source.\r\n\r\n\r\n  [1]: https://www.securecoding.cert.org/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>I think you should use something like this and it is called Upcasting:</p>\n\n<pre><code>public int multiplyBy2(int x) throws ArithmeticException {\n    long result = 2 * (long) x;    \n    if (result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE){\n        throw new ArithmeticException(\"Integer overflow\");\n    }\n    return (int) result;\n}\n</code></pre>\n\n<p>You can read further here:\n<a href=\"https://www.securecoding.cert.org/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow\" rel=\"noreferrer\">Detect or prevent integer overflow</a></p>\n\n<p>It is quite reliable source.</p>\n"},{"tags":[],"owner":{"account_id":154135,"reputation":1698,"user_id":369858,"accept_rate":57,"display_name":"fragorl"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1322396986,"creation_date":1322390709,"answer_id":8285010,"question_id":3001836,"body_markdown":"Having just kinda run into this problem myself, here&#39;s my solution (for both multiplication and addition):\r\n\r\n    static boolean wouldOverflowOccurwhenMultiplying(int a, int b) {\r\n        // If either a or b are Integer.MIN_VALUE, then multiplying by anything other than 0 or 1 will result in overflow\r\n        if (a == 0 || b == 0) {\r\n            return false;\r\n        } else if (a &gt; 0 &amp;&amp; b &gt; 0) { // both positive, non zero\r\n            return a &gt; Integer.MAX_VALUE / b;\r\n        } else if (b &lt; 0 &amp;&amp; a &lt; 0) { // both negative, non zero\r\n            return a &lt; Integer.MAX_VALUE / b;\r\n        } else { // exactly one of a,b is negative and one is positive, neither are zero\r\n            if (b &gt; 0) { // this last if statements protects against Integer.MIN_VALUE / -1, which in itself causes overflow.\r\n                return a &lt; Integer.MIN_VALUE / b;\r\n            } else { // a &gt; 0\r\n                return b &lt; Integer.MIN_VALUE / a;\r\n            }\r\n        }\r\n    }\r\n\r\n    boolean wouldOverflowOccurWhenAdding(int a, int b) {\r\n        if (a &gt; 0 &amp;&amp; b &gt; 0) {\r\n            return a &gt; Integer.MAX_VALUE - b;\r\n        } else if (a &lt; 0 &amp;&amp; b &lt; 0) {\r\n            return a &lt; Integer.MIN_VALUE - b;\r\n        }\r\n        return false;\r\n    }\r\n\r\nfeel free to correct if wrong or if can be simplified. I&#39;ve done some testing with the multiplication method, mostly edge cases, but it could still be wrong.\r\n    ","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>Having just kinda run into this problem myself, here's my solution (for both multiplication and addition):</p>\n\n<pre><code>static boolean wouldOverflowOccurwhenMultiplying(int a, int b) {\n    // If either a or b are Integer.MIN_VALUE, then multiplying by anything other than 0 or 1 will result in overflow\n    if (a == 0 || b == 0) {\n        return false;\n    } else if (a &gt; 0 &amp;&amp; b &gt; 0) { // both positive, non zero\n        return a &gt; Integer.MAX_VALUE / b;\n    } else if (b &lt; 0 &amp;&amp; a &lt; 0) { // both negative, non zero\n        return a &lt; Integer.MAX_VALUE / b;\n    } else { // exactly one of a,b is negative and one is positive, neither are zero\n        if (b &gt; 0) { // this last if statements protects against Integer.MIN_VALUE / -1, which in itself causes overflow.\n            return a &lt; Integer.MIN_VALUE / b;\n        } else { // a &gt; 0\n            return b &lt; Integer.MIN_VALUE / a;\n        }\n    }\n}\n\nboolean wouldOverflowOccurWhenAdding(int a, int b) {\n    if (a &gt; 0 &amp;&amp; b &gt; 0) {\n        return a &gt; Integer.MAX_VALUE - b;\n    } else if (a &lt; 0 &amp;&amp; b &lt; 0) {\n        return a &lt; Integer.MIN_VALUE - b;\n    }\n    return false;\n}\n</code></pre>\n\n<p>feel free to correct if wrong or if can be simplified. I've done some testing with the multiplication method, mostly edge cases, but it could still be wrong.</p>\n"},{"tags":[],"owner":{"account_id":1644191,"reputation":2702,"user_id":1516042,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1342687762,"creation_date":1342656378,"answer_id":11552162,"question_id":3001836,"body_markdown":"Java doesn&#39;t do anything with integer overflow for either int or long primitive types and ignores overflow with positive and negative integers. \r\n\r\nThis answer first describes the of integer overflow, gives an example of how it can happen, even with intermediate values in expression evaluation, and then gives links to resources that give detailed techniques for preventing and detecting integer overflow. \r\n\r\nInteger arithmetic and expressions reslulting in unexpected or undetected overflow are a common programming error. Unexpected or undetected integer overflow is also a well-known exploitable security issue, especially as it affects array, stack and list objects. \r\n\r\nOverflow can occur in either a positive or negative direction where the positive or negative value would be beyond the maximum or minimum values for the primitive type in question. Overflow can occur in an intermediate value during expression or operation evaluation and affect the outcome of an expression or operation where the final value would be expected to be within range. \r\n\r\nSometimes negative overflow is mistakenly called underflow. Underflow is what happens when a value would be closer to zero than the representation allows. Underflow occurs in integer arithmetic and is expected. Integer underflow happens when an integer evaluation would be between -1 and 0 or 0 and 1. What would be a fractional result truncates to 0. This is normal and expected with integer arithmetic and not considered an error. However, it can lead to code throwing an exception. One example is an &quot;ArithmeticException: / by zero&quot; exception if the result of integer underflow is used as a divisor in an expression. \r\n\r\nConsider the following code:\r\n\r\n    int bigValue = Integer.MAX_VALUE;\r\n    int x = bigValue * 2 / 5;\r\n    int y = bigValue / x;\r\n\r\nwhich results in x being assigned 0 and the subsequent evaluation of bigValue / x throws an exception, &quot;ArithmeticException: / by zero&quot; (i.e. divide by zero), instead of y being assigned the value 2. \r\n\r\nThe expected result for x would be 858,993,458 which is less than the maximum int value of 2,147,483,647. However, the intermediate result from evaluating Integer.MAX_Value * 2, would be 4,294,967,294, which exceeds the maximum int value and is -2 in accordance with 2s complement integer representations. The subsequent evaluation of -2 / 5 evaluates to 0 which gets assigned to x. \r\n\r\nRearranging the expression for computing x to an expression that, when evaluated, divides before multiplying, the following code:\r\n\r\n    int bigValue = Integer.MAX_VALUE;\r\n    int x = bigValue / 5 * 2;\r\n    int y = bigValue / x;\r\n\r\nresults in x being assigned 858,993,458 and y being assigned 2, which is expected.\r\n\r\nThe intermediate result from bigValue / 5 is 429,496,729 which does not exceed the maximum value for an int. Subsequent evaluation of 429,496,729 * 2 doesn&#39;t exceed the maximum value for an int and the expected result gets assigned to x. The evaluation for y then does not divide by zero. The evaluations for x and y work as expected.\r\n\r\nJava integer values are stored as and behave in accordance with 2s complement signed integer representations. When a resulting value would be larger or smaller than the maximum or minimum integer values, a 2&#39;s complement integer value results instead. In situations not expressly designed to use 2s complement behavior, which is most ordinary integer arithmetic situations, the resulting 2s complement value will cause a programming logic or computation error as was shown in the example above. An excellent Wikipedia article describes 2s compliment binary integers here: [Two&#39;s complement - Wikipedia](http://en.wikipedia.org/wiki/Two&#39;s_complement)\r\n\r\nThere are techniques for avoiding unintentional integer overflow. Techinques may be categorized as using pre-condition testing, upcasting and BigInteger. \r\n\r\nPre-condition testing comprises examining the values going into an arithmetic operation or expression to ensure that an overflow won&#39;t occur with those values. Programming and design will need to create testing that ensures input values won&#39;t cause overflow and then determine what to do if input values occur that will cause overflow. \r\n\r\nUpcasting comprises using a larger primitive type to perform the arithmetic operation or expression and then determining if the resulting value is beyond the maximum or minimum values for an integer. Even with upcasting, it is still possible that the value or some intermediate value in an operation or expression will be beyond the maximum or minimum values for the upcast type and cause overflow, which will also not be detected and will cause unexpected and undesired results. Through analysis or pre-conditions, it may be possible to prevent overflow with upcasting when prevention without upcasting is not possible or practical. If the integers in question are already long primitive types, then upcasting is not possible with primitive types in Java.\r\n\r\nThe BigInteger technique comprises using BigInteger for the arithmetic operation or expression using library methods that use BigInteger. BigInteger does not overflow. It will use all available memory, if necessary. Its arithmetic methods are normally only slightly less efficient than integer operations. It is still possible that a result using BigInteger may be beyond the maximum or minimum values for an integer, however, overflow will not occur in the arithmetic leading to the result. Programming and design will still need to determine what to do if a BigInteger result is beyond the maximum or minimum values for the desired primitive result type, e.g., int or long. \r\n\r\nThe Carnegie Mellon Software Engineering Institute&#39;s CERT program and Oracle have created a set of standards for secure Java programming. Included in the standards are techniques for preventing and detecting integer overflow. The standard is published as a freely accessible online resource here: [The CERT Oracle Secure Coding Standard for Java](https://www.securecoding.cert.org/confluence/display/java/The+CERT+Oracle+Secure+Coding+Standard+for+Java)\r\n\r\nThe standard&#39;s section that describes and contains practical examples of coding techniques for preventing or detecting integer overflow is here: [NUM00-J. Detect or prevent integer overflow](https://www.securecoding.cert.org/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow)\r\n\r\nBook form and PDF form of The CERT Oracle Secure Coding Standard for Java are also available.\r\n","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>Java doesn't do anything with integer overflow for either int or long primitive types and ignores overflow with positive and negative integers. </p>\n\n<p>This answer first describes the of integer overflow, gives an example of how it can happen, even with intermediate values in expression evaluation, and then gives links to resources that give detailed techniques for preventing and detecting integer overflow. </p>\n\n<p>Integer arithmetic and expressions reslulting in unexpected or undetected overflow are a common programming error. Unexpected or undetected integer overflow is also a well-known exploitable security issue, especially as it affects array, stack and list objects. </p>\n\n<p>Overflow can occur in either a positive or negative direction where the positive or negative value would be beyond the maximum or minimum values for the primitive type in question. Overflow can occur in an intermediate value during expression or operation evaluation and affect the outcome of an expression or operation where the final value would be expected to be within range. </p>\n\n<p>Sometimes negative overflow is mistakenly called underflow. Underflow is what happens when a value would be closer to zero than the representation allows. Underflow occurs in integer arithmetic and is expected. Integer underflow happens when an integer evaluation would be between -1 and 0 or 0 and 1. What would be a fractional result truncates to 0. This is normal and expected with integer arithmetic and not considered an error. However, it can lead to code throwing an exception. One example is an \"ArithmeticException: / by zero\" exception if the result of integer underflow is used as a divisor in an expression. </p>\n\n<p>Consider the following code:</p>\n\n<pre><code>int bigValue = Integer.MAX_VALUE;\nint x = bigValue * 2 / 5;\nint y = bigValue / x;\n</code></pre>\n\n<p>which results in x being assigned 0 and the subsequent evaluation of bigValue / x throws an exception, \"ArithmeticException: / by zero\" (i.e. divide by zero), instead of y being assigned the value 2. </p>\n\n<p>The expected result for x would be 858,993,458 which is less than the maximum int value of 2,147,483,647. However, the intermediate result from evaluating Integer.MAX_Value * 2, would be 4,294,967,294, which exceeds the maximum int value and is -2 in accordance with 2s complement integer representations. The subsequent evaluation of -2 / 5 evaluates to 0 which gets assigned to x. </p>\n\n<p>Rearranging the expression for computing x to an expression that, when evaluated, divides before multiplying, the following code:</p>\n\n<pre><code>int bigValue = Integer.MAX_VALUE;\nint x = bigValue / 5 * 2;\nint y = bigValue / x;\n</code></pre>\n\n<p>results in x being assigned 858,993,458 and y being assigned 2, which is expected.</p>\n\n<p>The intermediate result from bigValue / 5 is 429,496,729 which does not exceed the maximum value for an int. Subsequent evaluation of 429,496,729 * 2 doesn't exceed the maximum value for an int and the expected result gets assigned to x. The evaluation for y then does not divide by zero. The evaluations for x and y work as expected.</p>\n\n<p>Java integer values are stored as and behave in accordance with 2s complement signed integer representations. When a resulting value would be larger or smaller than the maximum or minimum integer values, a 2's complement integer value results instead. In situations not expressly designed to use 2s complement behavior, which is most ordinary integer arithmetic situations, the resulting 2s complement value will cause a programming logic or computation error as was shown in the example above. An excellent Wikipedia article describes 2s compliment binary integers here: <a href=\"http://en.wikipedia.org/wiki/Two%27s_complement\">Two's complement - Wikipedia</a></p>\n\n<p>There are techniques for avoiding unintentional integer overflow. Techinques may be categorized as using pre-condition testing, upcasting and BigInteger. </p>\n\n<p>Pre-condition testing comprises examining the values going into an arithmetic operation or expression to ensure that an overflow won't occur with those values. Programming and design will need to create testing that ensures input values won't cause overflow and then determine what to do if input values occur that will cause overflow. </p>\n\n<p>Upcasting comprises using a larger primitive type to perform the arithmetic operation or expression and then determining if the resulting value is beyond the maximum or minimum values for an integer. Even with upcasting, it is still possible that the value or some intermediate value in an operation or expression will be beyond the maximum or minimum values for the upcast type and cause overflow, which will also not be detected and will cause unexpected and undesired results. Through analysis or pre-conditions, it may be possible to prevent overflow with upcasting when prevention without upcasting is not possible or practical. If the integers in question are already long primitive types, then upcasting is not possible with primitive types in Java.</p>\n\n<p>The BigInteger technique comprises using BigInteger for the arithmetic operation or expression using library methods that use BigInteger. BigInteger does not overflow. It will use all available memory, if necessary. Its arithmetic methods are normally only slightly less efficient than integer operations. It is still possible that a result using BigInteger may be beyond the maximum or minimum values for an integer, however, overflow will not occur in the arithmetic leading to the result. Programming and design will still need to determine what to do if a BigInteger result is beyond the maximum or minimum values for the desired primitive result type, e.g., int or long. </p>\n\n<p>The Carnegie Mellon Software Engineering Institute's CERT program and Oracle have created a set of standards for secure Java programming. Included in the standards are techniques for preventing and detecting integer overflow. The standard is published as a freely accessible online resource here: <a href=\"https://www.securecoding.cert.org/confluence/display/java/The+CERT+Oracle+Secure+Coding+Standard+for+Java\">The CERT Oracle Secure Coding Standard for Java</a></p>\n\n<p>The standard's section that describes and contains practical examples of coding techniques for preventing or detecting integer overflow is here: <a href=\"https://www.securecoding.cert.org/confluence/display/java/NUM00-J.+Detect+or+prevent+integer+overflow\">NUM00-J. Detect or prevent integer overflow</a></p>\n\n<p>Book form and PDF form of The CERT Oracle Secure Coding Standard for Java are also available.</p>\n"},{"tags":[],"owner":{"account_id":44379,"reputation":14328,"user_id":130224,"accept_rate":84,"display_name":"reprogrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522064826,"creation_date":1354491271,"answer_id":13675186,"question_id":3001836,"body_markdown":"There are libraries that provide safe arithmetic operations, which check integer overflow/underflow . For example, Guava&#39;s [IntMath.checkedAdd(int a, int b)][1] returns the sum of `a` and `b`, provided it does not overflow, and throws `ArithmeticException` if `a + b` overflows in signed `int` arithmetic.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/math/IntMath.html#checkedAdd-int-int-","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>There are libraries that provide safe arithmetic operations, which check integer overflow/underflow . For example, Guava's <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/math/IntMath.html#checkedAdd-int-int-\" rel=\"nofollow noreferrer\">IntMath.checkedAdd(int a, int b)</a> returns the sum of <code>a</code> and <code>b</code>, provided it does not overflow, and throws <code>ArithmeticException</code> if <code>a + b</code> overflows in signed <code>int</code> arithmetic.</p>\n"},{"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1457852304,"creation_date":1413246910,"answer_id":26350973,"question_id":3001836,"body_markdown":"By default, Java&#39;s int and long math silently wrap around on overflow and underflow.  (Integer operations on other integer types are performed by first promoting the operands to int or long, per [JLS 4.2.2](http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.2).)\r\n\r\nAs of Java 8, `java.lang.Math` provides [`addExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#addExact-int-int-), [`subtractExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#subtractExact-int-int-), [`multiplyExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#multiplyExact-int-int-), [`incrementExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#incrementExact-int-), [`decrementExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#decrementExact-int-) and [`negateExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-) static methods for both int and long arguments that perform the named operation, throwing ArithmeticException on overflow.  (There&#39;s no divideExact method -- you&#39;ll have to check the one special case (`MIN_VALUE / -1`) yourself.)\r\n\r\nAs of Java 8, java.lang.Math also provides [`toIntExact`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-) to cast a long to an int, throwing ArithmeticException if the long&#39;s value does not fit in an int.  This can be useful for e.g. computing the sum of ints using unchecked long math, then using `toIntExact` to cast to int at the end (but be careful not to let your sum overflow).\r\n\r\nIf you&#39;re still using an older version of Java, Google Guava provides [IntMath and LongMath](https://code.google.com/p/guava-libraries/wiki/MathExplained) static methods for checked addition, subtraction, multiplication and exponentiation (throwing on overflow).  These classes also provide methods to compute factorials and binomial coefficients that return `MAX_VALUE` on overflow (which is less convenient to check).  Guava&#39;s primitive utility classes, `SignedBytes`, `UnsignedBytes`, `Shorts` and `Ints`, provide `checkedCast` methods for narrowing larger types (throwing IllegalArgumentException on under/overflow, _not_ ArithmeticException), as well as `saturatingCast` methods that return `MIN_VALUE` or `MAX_VALUE` on overflow.","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>By default, Java's int and long math silently wrap around on overflow and underflow.  (Integer operations on other integer types are performed by first promoting the operands to int or long, per <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.2\" rel=\"noreferrer\">JLS 4.2.2</a>.)</p>\n\n<p>As of Java 8, <code>java.lang.Math</code> provides <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#addExact-int-int-\" rel=\"noreferrer\"><code>addExact</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#subtractExact-int-int-\" rel=\"noreferrer\"><code>subtractExact</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#multiplyExact-int-int-\" rel=\"noreferrer\"><code>multiplyExact</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#incrementExact-int-\" rel=\"noreferrer\"><code>incrementExact</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#decrementExact-int-\" rel=\"noreferrer\"><code>decrementExact</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-\" rel=\"noreferrer\"><code>negateExact</code></a> static methods for both int and long arguments that perform the named operation, throwing ArithmeticException on overflow.  (There's no divideExact method -- you'll have to check the one special case (<code>MIN_VALUE / -1</code>) yourself.)</p>\n\n<p>As of Java 8, java.lang.Math also provides <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-\" rel=\"noreferrer\"><code>toIntExact</code></a> to cast a long to an int, throwing ArithmeticException if the long's value does not fit in an int.  This can be useful for e.g. computing the sum of ints using unchecked long math, then using <code>toIntExact</code> to cast to int at the end (but be careful not to let your sum overflow).</p>\n\n<p>If you're still using an older version of Java, Google Guava provides <a href=\"https://code.google.com/p/guava-libraries/wiki/MathExplained\" rel=\"noreferrer\">IntMath and LongMath</a> static methods for checked addition, subtraction, multiplication and exponentiation (throwing on overflow).  These classes also provide methods to compute factorials and binomial coefficients that return <code>MAX_VALUE</code> on overflow (which is less convenient to check).  Guava's primitive utility classes, <code>SignedBytes</code>, <code>UnsignedBytes</code>, <code>Shorts</code> and <code>Ints</code>, provide <code>checkedCast</code> methods for narrowing larger types (throwing IllegalArgumentException on under/overflow, <em>not</em> ArithmeticException), as well as <code>saturatingCast</code> methods that return <code>MIN_VALUE</code> or <code>MAX_VALUE</code> on overflow.</p>\n"},{"tags":[],"owner":{"account_id":5354054,"reputation":21,"user_id":4267316,"display_name":"user4267316"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416344167,"creation_date":1416344167,"answer_id":27003856,"question_id":3001836,"body_markdown":"    static final int safeAdd(int left, int right)\r\n                     throws ArithmeticException {\r\n      if (right &gt; 0 ? left &gt; Integer.MAX_VALUE - right\r\n                    : left &lt; Integer.MIN_VALUE - right) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return left + right;\r\n    }\r\n     \r\n    static final int safeSubtract(int left, int right)\r\n                     throws ArithmeticException {\r\n      if (right &gt; 0 ? left &lt; Integer.MIN_VALUE + right\r\n                    : left &gt; Integer.MAX_VALUE + right) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return left - right;\r\n    }\r\n     \r\n    static final int safeMultiply(int left, int right)\r\n                     throws ArithmeticException {\r\n      if (right &gt; 0 ? left &gt; Integer.MAX_VALUE/right\r\n                      || left &lt; Integer.MIN_VALUE/right\r\n                    : (right &lt; -1 ? left &gt; Integer.MIN_VALUE/right\r\n                                    || left &lt; Integer.MAX_VALUE/right\r\n                                  : right == -1\r\n                                    &amp;&amp; left == Integer.MIN_VALUE) ) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return left * right;\r\n    }\r\n     \r\n    static final int safeDivide(int left, int right)\r\n                     throws ArithmeticException {\r\n      if ((left == Integer.MIN_VALUE) &amp;&amp; (right == -1)) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return left / right;\r\n    }\r\n     \r\n    static final int safeNegate(int a) throws ArithmeticException {\r\n      if (a == Integer.MIN_VALUE) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return -a;\r\n    }\r\n    static final int safeAbs(int a) throws ArithmeticException {\r\n      if (a == Integer.MIN_VALUE) {\r\n        throw new ArithmeticException(&quot;Integer overflow&quot;);\r\n      }\r\n      return Math.abs(a);\r\n    }","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<pre><code>static final int safeAdd(int left, int right)\n                 throws ArithmeticException {\n  if (right &gt; 0 ? left &gt; Integer.MAX_VALUE - right\n                : left &lt; Integer.MIN_VALUE - right) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return left + right;\n}\n\nstatic final int safeSubtract(int left, int right)\n                 throws ArithmeticException {\n  if (right &gt; 0 ? left &lt; Integer.MIN_VALUE + right\n                : left &gt; Integer.MAX_VALUE + right) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return left - right;\n}\n\nstatic final int safeMultiply(int left, int right)\n                 throws ArithmeticException {\n  if (right &gt; 0 ? left &gt; Integer.MAX_VALUE/right\n                  || left &lt; Integer.MIN_VALUE/right\n                : (right &lt; -1 ? left &gt; Integer.MIN_VALUE/right\n                                || left &lt; Integer.MAX_VALUE/right\n                              : right == -1\n                                &amp;&amp; left == Integer.MIN_VALUE) ) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return left * right;\n}\n\nstatic final int safeDivide(int left, int right)\n                 throws ArithmeticException {\n  if ((left == Integer.MIN_VALUE) &amp;&amp; (right == -1)) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return left / right;\n}\n\nstatic final int safeNegate(int a) throws ArithmeticException {\n  if (a == Integer.MIN_VALUE) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return -a;\n}\nstatic final int safeAbs(int a) throws ArithmeticException {\n  if (a == Integer.MIN_VALUE) {\n    throw new ArithmeticException(\"Integer overflow\");\n  }\n  return Math.abs(a);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3495438,"reputation":10994,"user_id":2923816,"display_name":"lobzik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417764556,"creation_date":1417764556,"answer_id":27310928,"question_id":3001836,"body_markdown":"There is one case, that is not mentioned above:\r\n\r\n    int res = 1;\r\n    while (res != 0) {\r\n        res *= 2;\r\n        \r\n    }\r\n    System.out.println(res);\r\n\r\nwill produce:\r\n\r\n    0\r\n   \r\nThis case was discussed here:\r\n[Integer overflow produces Zero.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5317732/when-calculating-the-factorial-of-100-100-with-java-using-integers-i-get-0","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>There is one case, that is not mentioned above:</p>\n\n<pre><code>int res = 1;\nwhile (res != 0) {\n    res *= 2;\n\n}\nSystem.out.println(res);\n</code></pre>\n\n<p>will produce:</p>\n\n<pre><code>0\n</code></pre>\n\n<p>This case was discussed here:\n<a href=\"https://stackoverflow.com/questions/5317732/when-calculating-the-factorial-of-100-100-with-java-using-integers-i-get-0\">Integer overflow produces Zero.</a></p>\n"},{"tags":[],"owner":{"account_id":6287771,"reputation":446,"user_id":4886367,"display_name":"John Woo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472353590,"creation_date":1472353590,"answer_id":39187665,"question_id":3001836,"body_markdown":"I think this should be fine.\r\n\r\n    static boolean addWillOverFlow(int a, int b) {\r\n    \treturn (Integer.signum(a) == Integer.signum(b)) &amp;&amp; \r\n    \t\t\t(Integer.signum(a) != Integer.signum(a+b));\t\r\n    }\r\n","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>I think this should be fine.</p>\n\n<pre><code>static boolean addWillOverFlow(int a, int b) {\n    return (Integer.signum(a) == Integer.signum(b)) &amp;&amp; \n            (Integer.signum(a) != Integer.signum(a+b)); \n}\n</code></pre>\n"}],"owner":{"account_id":51097,"reputation":11016,"user_id":152583,"accept_rate":100,"display_name":"KushalP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207238,"favorite_count":0,"down_vote_count":2,"up_vote_count":270,"accepted_answer_id":3001879,"answer_count":12,"score":268,"last_activity_date":1647194796,"creation_date":1276036636,"question_id":3001836,"body_markdown":"How does Java handle integer underflows and overflows?\r\n\r\nLeading on from that, how would you check/test that this is occurring?","title":"How does Java handle integer underflows and overflows and how would you check for it?","body":"<p>How does Java handle integer underflows and overflows?</p>\n\n<p>Leading on from that, how would you check/test that this is occurring?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1647152226,"post_id":71453636,"comment_id":126295917,"body_markdown":"This Question could use a contrived example, after simplifying to a few fields rather than 20.","body":"This Question could use a contrived example, after simplifying to a few fields rather than 20."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1647190666,"post_id":71453636,"comment_id":126303705,"body_markdown":"When you say, &quot;duplicate&quot;, are you referring to field names in common or field values in common?","body":"When you say, &quot;duplicate&quot;, are you referring to field names in common or field values in common?"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1647207619,"post_id":71453636,"comment_id":126307426,"body_markdown":"@phatfingers field values in common.","body":"@phatfingers field values in common."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1647214333,"post_id":71453636,"comment_id":126308512,"body_markdown":"A bitmap of which fields have the same value for a given pair of records would be functionally equivalent to a &quot;Concatenated string of all similar attributes&quot; and would only take up an int.  I fear I&#39;m not quite understanding a deterministic goal, though.  For example, `[{a:1,b:1,c:1}, {a:1,b:1,c:2}, {a:2,b:1,c:2}]` have two different ways that records could be merged with 2 fields in common and one not in common.  Can you articulate some sort of test or example to know if you merged correctly?","body":"A bitmap of which fields have the same value for a given pair of records would be functionally equivalent to a &quot;Concatenated string of all similar attributes&quot; and would only take up an int.  I fear I&#39;m not quite understanding a deterministic goal, though.  For example, <code>[{a:1,b:1,c:1}, {a:1,b:1,c:2}, {a:2,b:1,c:2}]</code> have two different ways that records could be merged with 2 fields in common and one not in common.  Can you articulate some sort of test or example to know if you merged correctly?"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647194794,"creation_date":1647194794,"answer_id":71459467,"question_id":71453636,"body_markdown":"If you&#39;re looking for an efficient way to identify how similar one field collection is to another field collection, you could associate each collection of fields with a bitmap.  You mention around 20 potential fields, which would fit comfortably within an int.\r\n\r\nThis method would generate a lookup of values to associate with each field.\r\n\r\n    private Map&lt;String,Integer&gt; bitmapFields(String[] fieldList) {\r\n        Map&lt;String,Integer&gt; bitValue=new HashMap&lt;&gt;();\r\n        for (int i=0; i&lt;fieldList.length; i++) {\r\n            bitValue.put(fieldList[i],(2&lt;&lt;i));\r\n        }\r\n        return bitValue;\r\n    }\r\n    private int bitmap(String[] customFields, Map&lt;String,Integer&gt; mappedValues) {\r\n        int fieldBitmap=0;\r\n        for (String customField : customFields) {\r\n            fieldBitmap+=mappedValues(customField);\r\n        }\r\n        return fieldBitmap;\r\n    }\r\n\r\nAssuming your CustomObject maintained a value, int fieldBitmap, whenever it&#39;s collection of fields is defined.  Then, the effort of comparing field commonalities between two CustomObjects is reduced.\r\n\r\n    public static int fieldsInCommon(int bitmapA, int bitmapB) {\r\n        return Integer.bitCount(bitmapA &amp; bitmapB);\r\n    }\r\n    public static int fieldsNotInCommon(int bitmapA, int bitmapB) {\r\n        return Integer.bitCount(bitmapA ^ bitmapB);\r\n    }\r\n\r\nYou&#39;d still face an NxN comparison, but both the memory and compute costs would be trivial, even for a large dataset.","title":"Efficient way to merge two similar objects (where only few fields are different)","body":"<p>If you're looking for an efficient way to identify how similar one field collection is to another field collection, you could associate each collection of fields with a bitmap.  You mention around 20 potential fields, which would fit comfortably within an int.</p>\n<p>This method would generate a lookup of values to associate with each field.</p>\n<pre><code>private Map&lt;String,Integer&gt; bitmapFields(String[] fieldList) {\n    Map&lt;String,Integer&gt; bitValue=new HashMap&lt;&gt;();\n    for (int i=0; i&lt;fieldList.length; i++) {\n        bitValue.put(fieldList[i],(2&lt;&lt;i));\n    }\n    return bitValue;\n}\nprivate int bitmap(String[] customFields, Map&lt;String,Integer&gt; mappedValues) {\n    int fieldBitmap=0;\n    for (String customField : customFields) {\n        fieldBitmap+=mappedValues(customField);\n    }\n    return fieldBitmap;\n}\n</code></pre>\n<p>Assuming your CustomObject maintained a value, int fieldBitmap, whenever it's collection of fields is defined.  Then, the effort of comparing field commonalities between two CustomObjects is reduced.</p>\n<pre><code>public static int fieldsInCommon(int bitmapA, int bitmapB) {\n    return Integer.bitCount(bitmapA &amp; bitmapB);\n}\npublic static int fieldsNotInCommon(int bitmapA, int bitmapB) {\n    return Integer.bitCount(bitmapA ^ bitmapB);\n}\n</code></pre>\n<p>You'd still face an NxN comparison, but both the memory and compute costs would be trivial, even for a large dataset.</p>\n"}],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647194794,"creation_date":1647132126,"question_id":71453636,"body_markdown":"I am having a challenge (or) confusion on good/efficient way to solve this challenge.\r\n\r\nI have List. Here CustomObject has around 20 filed/attribute. In this list I might have sort of duplicate items (means except 4 fields every field would be same). Need to merge these two records into one record and merge 4 fields (which is business logic I can deal).\r\n\r\nNow identifying these **&quot;sort of duplicate items&quot;** is what I am struggling with. Here are few approaches I am thinking of:\r\n\r\nUse HashMap and use &quot;Concatenated string of all similar attributes&quot; as key and store the &quot;sort of duplicates as value List for the given key. The problem I feel is, KEY for the map will be HUGE (like around 3000+ characters and could be clumsy)\r\n\r\nOverride equals method and make a Set to store the CustomObject. If exists, override the 4 fields based on business logic and save this new object. Lookup cost for if exists.\r\n\r\nN X N approach. Looping through NX N which I feel doesn&#39;t make sense and expensive as number of items in the list increases.\r\n\r\nAppreciate any other thoughts on best way to resolve this. Thank you!","title":"Efficient way to merge two similar objects (where only few fields are different)","body":"<p>I am having a challenge (or) confusion on good/efficient way to solve this challenge.</p>\n<p>I have List. Here CustomObject has around 20 filed/attribute. In this list I might have sort of duplicate items (means except 4 fields every field would be same). Need to merge these two records into one record and merge 4 fields (which is business logic I can deal).</p>\n<p>Now identifying these <strong>&quot;sort of duplicate items&quot;</strong> is what I am struggling with. Here are few approaches I am thinking of:</p>\n<p>Use HashMap and use &quot;Concatenated string of all similar attributes&quot; as key and store the &quot;sort of duplicates as value List for the given key. The problem I feel is, KEY for the map will be HUGE (like around 3000+ characters and could be clumsy)</p>\n<p>Override equals method and make a Set to store the CustomObject. If exists, override the 4 fields based on business logic and save this new object. Lookup cost for if exists.</p>\n<p>N X N approach. Looping through NX N which I feel doesn't make sense and expensive as number of items in the list increases.</p>\n<p>Appreciate any other thoughts on best way to resolve this. Thank you!</p>\n"},{"tags":["java","android","android-studio","uinavigationcontroller","navigation-drawer"],"owner":{"account_id":15765122,"reputation":391,"user_id":11375743,"display_name":"Sachz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647194740,"creation_date":1647192072,"question_id":71459097,"body_markdown":"I tried to add a new project using the existing template **Navigation Drawer Activity**. It really works well. However, I accidentally deleted the **mobile_navigation.xml in res/navigation**. Now that every time I tried to open a simple template (even if it is not  Navigation Drawer Activity) I&#39;m getting the below error message.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI tried:\r\n 1. File/Invalidate Cache/Restart: but it doesn&#39;t work \r\n 2. I found this `implementation &#39;androidx.navigation:navigation-fragment-ktx:2.3.5&#39;\r\nimplementation &#39;androidx.navigation:navigation-ui-ktx:2.3.5&#39;` to update gradle but I think it is for kotlin. I&#39;m using **Java** on **Android Studio 3.6.2**\r\n 3. I even tried creating a new project using templates **Botton Navigation Activity**. However, it is also not working and the same error occurs. \r\n 4. I even tried Empty Activity. Then it is weird that I&#39;m getting an `Android resource linking failed` error. And it directs to a .XML (value.xml) of some of my other projects in a different folder which is not even related to this new project. I didn&#39;t even open it. \r\n\r\nI would appreciate any suggestion to fix this. Thank you! \r\n\r\nbuild.gradle is as below\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.test&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.4.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.4.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csezW.png\r\n  [2]: https://i.stack.imgur.com/7nAV9.png","title":"How to fix failed to add navigation dependency android studio java","body":"<p>I tried to add a new project using the existing template <strong>Navigation Drawer Activity</strong>. It really works well. However, I accidentally deleted the <strong>mobile_navigation.xml in res/navigation</strong>. Now that every time I tried to open a simple template (even if it is not  Navigation Drawer Activity) I'm getting the below error message.</p>\n<p><a href=\"https://i.stack.imgur.com/csezW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csezW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7nAV9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7nAV9.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried:</p>\n<ol>\n<li>File/Invalidate Cache/Restart: but it doesn't work</li>\n<li>I found this <code>implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5' implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'</code> to update gradle but I think it is for kotlin. I'm using <strong>Java</strong> on <strong>Android Studio 3.6.2</strong></li>\n<li>I even tried creating a new project using templates <strong>Botton Navigation Activity</strong>. However, it is also not working and the same error occurs.</li>\n<li>I even tried Empty Activity. Then it is weird that I'm getting an <code>Android resource linking failed</code> error. And it directs to a .XML (value.xml) of some of my other projects in a different folder which is not even related to this new project. I didn't even open it.</li>\n</ol>\n<p>I would appreciate any suggestion to fix this. Thank you!</p>\n<p>build.gradle is as below</p>\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.test&quot;\n        minSdkVersion 16\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.vectordrawable:vectordrawable:1.1.0'\n    implementation 'androidx.navigation:navigation-fragment:2.4.1'\n    implementation 'androidx.navigation:navigation-ui:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","linux","memory","opengl-es-2.0","jogl"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1408101665,"post_id":25325492,"comment_id":39478857,"body_markdown":"Can you not just reuse the texture?","body":"Can you not just reuse the texture?"},{"owner":{"account_id":420389,"reputation":373,"user_id":798070,"accept_rate":88,"display_name":"Peter Flower"},"score":0,"creation_date":1408117858,"post_id":25325492,"comment_id":39487030,"body_markdown":"I&#39;ve tried re-using IDs for buffers, textures, renderbuffers &amp; framebuffers. All but re-using framebuffers are working so far, but memory is still being eaten.. Is there something else I have to call to free the resources assigned to the IDs previously?","body":"I&#39;ve tried re-using IDs for buffers, textures, renderbuffers &amp; framebuffers. All but re-using framebuffers are working so far, but memory is still being eaten.. Is there something else I have to call to free the resources assigned to the IDs previously?"},{"owner":{"account_id":4322362,"reputation":53578,"user_id":3530129,"display_name":"Reto Koradi"},"score":3,"creation_date":1408167646,"post_id":25325492,"comment_id":39501637,"body_markdown":"You shouldn&#39;t see any leaks with what you are doing. The answer you link is correct about the texture memory not necessarily being freed immediately, but if you read the whole answer, it will become clearer what this means. I answered a similar question here: http://stackoverflow.com/questions/25269383/opengl-es-1-1-android-does-gl-gldeletetextures-free-video-memory/25278262#25278262, and the message is consistent with the answer you link.","body":"You shouldn&#39;t see any leaks with what you are doing. The answer you link is correct about the texture memory not necessarily being freed immediately, but if you read the whole answer, it will become clearer what this means. I answered a similar question here: <a href=\"http://stackoverflow.com/questions/25269383/opengl-es-1-1-android-does-gl-gldeletetextures-free-video-memory/25278262#25278262\" title=\"opengl es 1 1 android does gl gldeletetextures free video memory\">stackoverflow.com/questions/25269383/&hellip;</a>, and the message is consistent with the answer you link."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1408189335,"post_id":25325492,"comment_id":39506107,"body_markdown":"Reto Koradi is right, the texture should be deleted on the VRAM. It is up to you to manage the direct NIO buffer you use when creating a texture but I think it isn&#39;t the culprit in your case.","body":"Reto Koradi is right, the texture should be deleted on the VRAM. It is up to you to manage the direct NIO buffer you use when creating a texture but I think it isn&#39;t the culprit in your case."},{"owner":{"account_id":420389,"reputation":373,"user_id":798070,"accept_rate":88,"display_name":"Peter Flower"},"score":0,"creation_date":1408356679,"post_id":25325492,"comment_id":39542921,"body_markdown":"All sorted now, thanks for pointing me in the right direction, it was a huge help.","body":"All sorted now, thanks for pointing me in the right direction, it was a huge help."}],"answers":[{"tags":[],"owner":{"account_id":420389,"reputation":373,"user_id":798070,"accept_rate":88,"display_name":"Peter Flower"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647193820,"creation_date":1408354865,"answer_id":25360316,"question_id":25325492,"body_markdown":"The problem was indeed as Reto Koradi suggested in the comments via his answer to &lt;https://stackoverflow.com/questions/25269383/opengl-es-1-1-android-does-gl-gldeletetextures-free-video-memory/25278262#25278262&gt; whereby not detaching textures &amp; render buffers from frame buffers before deletion was keeping them in memory.\r\n\r\nTo anyone else who is creating off screen frame buffers with textures &amp;/or render buffers, make sure you detach them first! E.g:\r\n\r\n - `glBindFramebuffer( GL2ES2.GL_FRAMEBUFFER, theFrameBufferID);`\r\n - `glFramebufferTexture2D( GL2ES2.GL_FRAMEBUFFER,\r\n   GL2ES2.GL_COLOR_ATTACHMENT0, GL2ES2.GL_TEXTURE_2D, 0, 0);`\r\n - `glFramebufferRenderbuffer( GL2ES2.GL_FRAMEBUFFER,\r\n   GL2ES2.GL_STENCIL_ATTACHMENT, GL2ES2.GL_RENDERBUFFER, 0);`\r\n - `glDeleteFramebuffers.. theFrameBufferID..`\r\n - `glDeleteTextures..`\r\n - `glDeleteRenderbuffers..`\r\n - `glBindFramebuffer( GL2ES2.GL_FRAMEBUFFER, 0);`","title":"How to correctly load/unload textures from video memory?","body":"<p>The problem was indeed as Reto Koradi suggested in the comments via his answer to <a href=\"https://stackoverflow.com/questions/25269383/opengl-es-1-1-android-does-gl-gldeletetextures-free-video-memory/25278262#25278262\">OpenGL es 1.1 - android - does gl.glDeleteTextures free video memory?</a> whereby not detaching textures &amp; render buffers from frame buffers before deletion was keeping them in memory.</p>\n<p>To anyone else who is creating off screen frame buffers with textures &amp;/or render buffers, make sure you detach them first! E.g:</p>\n<ul>\n<li><code>glBindFramebuffer( GL2ES2.GL_FRAMEBUFFER, theFrameBufferID);</code></li>\n<li><code>glFramebufferTexture2D( GL2ES2.GL_FRAMEBUFFER, GL2ES2.GL_COLOR_ATTACHMENT0, GL2ES2.GL_TEXTURE_2D, 0, 0);</code></li>\n<li><code>glFramebufferRenderbuffer( GL2ES2.GL_FRAMEBUFFER, GL2ES2.GL_STENCIL_ATTACHMENT, GL2ES2.GL_RENDERBUFFER, 0);</code></li>\n<li><code>glDeleteFramebuffers.. theFrameBufferID..</code></li>\n<li><code>glDeleteTextures..</code></li>\n<li><code>glDeleteRenderbuffers..</code></li>\n<li><code>glBindFramebuffer( GL2ES2.GL_FRAMEBUFFER, 0);</code></li>\n</ul>\n"}],"owner":{"account_id":420389,"reputation":373,"user_id":798070,"accept_rate":88,"display_name":"Peter Flower"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25360316,"answer_count":1,"score":2,"last_activity_date":1647194731,"creation_date":1408101334,"question_id":25325492,"body_markdown":"I have a Java OpenGL application - backed by JOGL, running on Linux slitaz 3.2.53-slitaz #4 SMP Europe 2014 i686 GNU/Linux.\r\n\r\nOpenGL details:\r\n\r\n - Vendor: Intel Open Source Technology Center\r\n - Renderer: Mesa DRI\r\n - Intel(R) Ivybridge Mobile x86/MMX/SSE2\r\n - Version: 2.1 Mesa 9.1.3 GL\r\n - Profile: GLProfile[GL2/GL2.hw]\r\n\r\nWhen running loading &amp; deleting textures on the GPU, it crashes after a certain amount of time - proportional to the frequency of loads &amp; unloads, more loads crash sooner etc.\r\n\r\nThe error given: intel_do_flush_locked failed: No space left on device\r\n\r\nIn this case I&#39;m:\r\n\r\n - Creating a frame buffer, glGenFramebuffers..\r\n - Creating a backing texture, glGenTextures.. glFramebufferTexture2D..\r\n - Binding &amp; drawing into this off-screen frame buffer..\r\n - Deleting the buffer, glDeleteFramebuffers\r\n - Keeping the texture to draw to screen for a few frames\r\n - Deleting the texture, glDeleteTextures\r\n\r\nAfter searching around, I&#39;ve found sources suggesting that glDeleteTextures doesn&#39;t guarantee the free-ing of the VRAM used by the texture, just the ID returned by glGenTextures so it can be reused. For example: \r\n&lt;https://gamedev.stackexchange.com/questions/63629/how-to-deallocate-release-delete-of-a-gltexstorage2d&gt;\r\n\r\nBut I&#39;ve also found articles reporting potential/bugs in the Mesa driver &amp; versions of Lunix that report the same exception: intel_do_flush_locked failed: No space left on device\r\n\r\nIn conclusion I&#39;m asking:\r\n\r\n 1. Am I correctly using the OpenGL commands to load &amp; delete textures?\r\n 2. Has anyone else had problems with this error &amp; found it to be device/distro related?\r\n\r\n","title":"How to correctly load/unload textures from video memory?","body":"<p>I have a Java OpenGL application - backed by JOGL, running on Linux slitaz 3.2.53-slitaz #4 SMP Europe 2014 i686 GNU/Linux.</p>\n<p>OpenGL details:</p>\n<ul>\n<li>Vendor: Intel Open Source Technology Center</li>\n<li>Renderer: Mesa DRI</li>\n<li>Intel(R) Ivybridge Mobile x86/MMX/SSE2</li>\n<li>Version: 2.1 Mesa 9.1.3 GL</li>\n<li>Profile: GLProfile[GL2/GL2.hw]</li>\n</ul>\n<p>When running loading &amp; deleting textures on the GPU, it crashes after a certain amount of time - proportional to the frequency of loads &amp; unloads, more loads crash sooner etc.</p>\n<p>The error given: intel_do_flush_locked failed: No space left on device</p>\n<p>In this case I'm:</p>\n<ul>\n<li>Creating a frame buffer, glGenFramebuffers..</li>\n<li>Creating a backing texture, glGenTextures.. glFramebufferTexture2D..</li>\n<li>Binding &amp; drawing into this off-screen frame buffer..</li>\n<li>Deleting the buffer, glDeleteFramebuffers</li>\n<li>Keeping the texture to draw to screen for a few frames</li>\n<li>Deleting the texture, glDeleteTextures</li>\n</ul>\n<p>After searching around, I've found sources suggesting that glDeleteTextures doesn't guarantee the free-ing of the VRAM used by the texture, just the ID returned by glGenTextures so it can be reused. For example:\n<a href=\"https://gamedev.stackexchange.com/questions/63629/how-to-deallocate-release-delete-of-a-gltexstorage2d\">https://gamedev.stackexchange.com/questions/63629/how-to-deallocate-release-delete-of-a-gltexstorage2d</a></p>\n<p>But I've also found articles reporting potential/bugs in the Mesa driver &amp; versions of Lunix that report the same exception: intel_do_flush_locked failed: No space left on device</p>\n<p>In conclusion I'm asking:</p>\n<ol>\n<li>Am I correctly using the OpenGL commands to load &amp; delete textures?</li>\n<li>Has anyone else had problems with this error &amp; found it to be device/distro related?</li>\n</ol>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":1,"creation_date":1579018508,"post_id":59735470,"comment_id":105624225,"body_markdown":"Ensure that you don&#39;t have any dependency conflicts, e.g., another library which would depend on an older version of Spring. Given that the method in question has been a part of Spring since version [5.2](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html#isCandidateClass-java.lang.Class-java.util.Collection-), I would look for any occurrences of an older version of Spring in the classpath.","body":"Ensure that you don&#39;t have any dependency conflicts, e.g., another library which would depend on an older version of Spring. Given that the method in question has been a part of Spring since version <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html#isCandidateClass-java.lang.Class-java.util.Collection-\" rel=\"nofollow noreferrer\">5.2</a>, I would look for any occurrences of an older version of Spring in the classpath."},{"owner":{"account_id":15000879,"reputation":111,"user_id":10828599,"display_name":"Saurabh Thakur"},"score":0,"creation_date":1579077084,"post_id":59735470,"comment_id":105642057,"body_markdown":"Classpath -&gt; External Dependencies also show the same versions of all the Spring components. I even cleared the gradle and maven caches to get rid of any older versions.","body":"Classpath -&gt; External Dependencies also show the same versions of all the Spring components. I even cleared the gradle and maven caches to get rid of any older versions."},{"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"score":0,"creation_date":1579162397,"post_id":59735470,"comment_id":105675027,"body_markdown":"Is that the runtime classpath, or just some IDE output? I would check the actual runtime classpath","body":"Is that the runtime classpath, or just some IDE output? I would check the actual runtime classpath"}],"answers":[{"tags":[],"owner":{"account_id":10774326,"reputation":1,"user_id":7926890,"display_name":"Vivek Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647194689,"creation_date":1647194689,"answer_id":71459458,"question_id":59735470,"body_markdown":"I was also having the same problem for version 5.1.4.RELEASE, I saw that AnnotationUtils class was not having isCandidateClass() method. I added the latest version of 5.3.4 of spring-webmvc and this errors got resolved because here AnnotationUtils is having isCandidateClass method.","title":"NoSuchMethodError for AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection) while upgrading to Spring 5.2.2.RELEASE","body":"<p>I was also having the same problem for version 5.1.4.RELEASE, I saw that AnnotationUtils class was not having isCandidateClass() method. I added the latest version of 5.3.4 of spring-webmvc and this errors got resolved because here AnnotationUtils is having isCandidateClass method.</p>\n"}],"owner":{"account_id":15000879,"reputation":111,"user_id":10828599,"display_name":"Saurabh Thakur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2862,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647194689,"creation_date":1579010985,"question_id":59735470,"body_markdown":"I am trying to upgrade a project to Spring 5.2.2.RELEASE.\r\n\r\nFollowing are the Spring dependencies in the build.gradle file:\r\n\r\n```\r\n    compile &#39;org.springframework:spring-test:5.2.2.RELEASE&#39;\t\r\n    compile &#39;org.springframework:spring-webmvc:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-beans:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-core:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-context:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-expression:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-context-support:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-oxm:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-tx:5.2.2.RELEASE&#39;\r\n\tcompile &#39;org.springframework:spring-orm:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-aop:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-websocket:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-messaging:5.2.2.RELEASE&#39;\r\n    compile &#39;org.springframework:spring-web:5.2.2.RELEASE&#39;\r\n```\r\n\r\nThe compilation succeeds and a war is generated at the end of the build but when try to run the application on tomcat server 9.0.29 i get the following error:\r\n\r\n```\r\n2020-01-14 18:16:43,665 [main:]          ERROR []\r\n\t\t\t\torg.springframework.web.context.ContextLoader   :: Context initialization failed\r\njava.lang.NoSuchMethodError: &#39;boolean org.springframework.core.annotation.AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection)&#39;\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:409)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:929)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220)\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:619)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext listenerStart\r\nSEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\njava.lang.NoSuchMethodError: &#39;boolean org.springframework.core.annotation.AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection)&#39;\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:409)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:929)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220)\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:619)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\n\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext listenerStart\r\nSEVERE: Exception sending context initialized event to listener instance of class [com.azuga.listener.WebServletContextListener]\r\njava.lang.NoSuchMethodError: &#39;boolean org.springframework.core.annotation.AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection)&#39;\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:409)\r\n\tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:929)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220)\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:619)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\n\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext startInternal\r\nSEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext startInternal\r\nSEVERE: Context [/NotificationService] startup failed due to previous errors\r\n2020-01-14 18:16:43,671 [main:]          INFO  []\r\n\t\t\t\tcom.azuga.listener.WebServletContextListener    :: Stopping thread : main\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.ContainerBase startInternal\r\nSEVERE: A child container failed during start\r\njava.util.concurrent.ExecutionException: java.lang.ThreadDeath\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\nCaused by: java.lang.ThreadDeath\r\n\tat java.base/java.lang.Thread.stop(Thread.java:942)\r\n\tat com.azuga.listener.WebServletContextListener.contextDestroyed(WebServletContextListener.java:57)\r\n\tat org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4732)\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5396)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\t... 21 more\r\n\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.ContainerBase startInternal\r\nSEVERE: A child container failed during start\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\t... 13 more\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.ThreadDeath\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n\t... 21 more\r\nCaused by: java.lang.ThreadDeath\r\n\tat java.base/java.lang.Thread.stop(Thread.java:942)\r\n\tat com.azuga.listener.WebServletContextListener.contextDestroyed(WebServletContextListener.java:57)\r\n\tat org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4732)\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5396)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\t... 21 more\r\n\r\nJan 14, 2020 6:16:43 PM org.apache.catalina.startup.Catalina start\r\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\r\norg.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n\t... 13 more\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\t... 13 more\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.ThreadDeath\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n\t... 21 more\r\nCaused by: java.lang.ThreadDeath\r\n\tat java.base/java.lang.Thread.stop(Thread.java:942)\r\n\tat com.azuga.listener.WebServletContextListener.contextDestroyed(WebServletContextListener.java:57)\r\n\tat org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4732)\r\n\tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5396)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\t... 21 more\r\n```\r\n\r\nAny thoughts on what might be going wrong?","title":"NoSuchMethodError for AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection) while upgrading to Spring 5.2.2.RELEASE","body":"<p>I am trying to upgrade a project to Spring 5.2.2.RELEASE.</p>\n\n<p>Following are the Spring dependencies in the build.gradle file:</p>\n\n<pre><code>    compile 'org.springframework:spring-test:5.2.2.RELEASE' \n    compile 'org.springframework:spring-webmvc:5.2.2.RELEASE'\n    compile 'org.springframework:spring-beans:5.2.2.RELEASE'\n    compile 'org.springframework:spring-core:5.2.2.RELEASE'\n    compile 'org.springframework:spring-context:5.2.2.RELEASE'\n    compile 'org.springframework:spring-expression:5.2.2.RELEASE'\n    compile 'org.springframework:spring-context-support:5.2.2.RELEASE'\n    compile 'org.springframework:spring-oxm:5.2.2.RELEASE'\n    compile 'org.springframework:spring-tx:5.2.2.RELEASE'\n    compile 'org.springframework:spring-orm:5.2.2.RELEASE'\n    compile 'org.springframework:spring-aop:5.2.2.RELEASE'\n    compile 'org.springframework:spring-websocket:5.2.2.RELEASE'\n    compile 'org.springframework:spring-messaging:5.2.2.RELEASE'\n    compile 'org.springframework:spring-web:5.2.2.RELEASE'\n</code></pre>\n\n<p>The compilation succeeds and a war is generated at the end of the build but when try to run the application on tomcat server 9.0.29 i get the following error:</p>\n\n<pre><code>2020-01-14 18:16:43,665 [main:]          ERROR []\n                org.springframework.web.context.ContextLoader   :: Context initialization failed\njava.lang.NoSuchMethodError: 'boolean org.springframework.core.annotation.AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection)'\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:409)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:929)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:619)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\njava.lang.NoSuchMethodError: 'boolean org.springframework.core.annotation.AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection)'\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:409)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:929)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:619)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\n\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class [com.azuga.listener.WebServletContextListener]\njava.lang.NoSuchMethodError: 'boolean org.springframework.core.annotation.AnnotationUtils.isCandidateClass(java.lang.Class, java.util.Collection)'\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:418)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:409)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:929)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:512)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:220)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:619)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:465)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\n\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/NotificationService] startup failed due to previous errors\n2020-01-14 18:16:43,671 [main:]          INFO  []\n                com.azuga.listener.WebServletContextListener    :: Stopping thread : main\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: java.lang.ThreadDeath\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\nCaused by: java.lang.ThreadDeath\n    at java.base/java.lang.Thread.stop(Thread.java:942)\n    at com.azuga.listener.WebServletContextListener.contextDestroyed(WebServletContextListener.java:57)\n    at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4732)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5396)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 21 more\n\nJan 14, 2020 6:16:43 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 13 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.ThreadDeath\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    ... 21 more\nCaused by: java.lang.ThreadDeath\n    at java.base/java.lang.Thread.stop(Thread.java:942)\n    at com.azuga.listener.WebServletContextListener.contextDestroyed(WebServletContextListener.java:57)\n    at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4732)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5396)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 21 more\n\nJan 14, 2020 6:16:43 PM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    ... 13 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:928)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 13 more\nCaused by: java.util.concurrent.ExecutionException: java.lang.ThreadDeath\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    ... 21 more\nCaused by: java.lang.ThreadDeath\n    at java.base/java.lang.Thread.stop(Thread.java:942)\n    at com.azuga.listener.WebServletContextListener.contextDestroyed(WebServletContextListener.java:57)\n    at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4732)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5396)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:187)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    ... 21 more\n</code></pre>\n\n<p>Any thoughts on what might be going wrong?</p>\n"},{"tags":["java","android","in-app-billing"],"comments":[{"owner":{"account_id":4629972,"reputation":504,"user_id":3866424,"display_name":"can.do"},"score":0,"creation_date":1654522543,"post_id":71459414,"comment_id":128103737,"body_markdown":"I don&#39;t have an answer, but how did you enable the multi-quantity; after updating to billing lib v5,  I can&#39;t check that option it&#39;s disabled, even when I create a new in-app product.","body":"I don&#39;t have an answer, but how did you enable the multi-quantity; after updating to billing lib v5,  I can&#39;t check that option it&#39;s disabled, even when I create a new in-app product."},{"owner":{"account_id":5454353,"reputation":718,"user_id":4338278,"accept_rate":67,"display_name":"Avinta"},"score":0,"creation_date":1655036455,"post_id":71459414,"comment_id":128230277,"body_markdown":"I can help you with that @can.do I just had the same issue and talked to the dev team at google. This is the answer  `According to our technical team, the checkbox is disabled since multi-quantity is only enabled when one of the local prices is below multi-quantity thresholds. Please kindly configure the available countries to make sure there are local prices below some regions in the pricing of the in-app product.` After changing the template and set the amount for countries specifically I could activate it. But I now have the same problem as @Jacob Zviagin. So any information on that one?","body":"I can help you with that @can.do I just had the same issue and talked to the dev team at google. This is the answer  <code>According to our technical team, the checkbox is disabled since multi-quantity is only enabled when one of the local prices is below multi-quantity thresholds. Please kindly configure the available countries to make sure there are local prices below some regions in the pricing of the in-app product.</code> After changing the template and set the amount for countries specifically I could activate it. But I now have the same problem as @Jacob Zviagin. So any information on that one?"},{"owner":{"account_id":4629972,"reputation":504,"user_id":3866424,"display_name":"can.do"},"score":0,"creation_date":1655130669,"post_id":71459414,"comment_id":128251741,"body_markdown":"Thanks for the explanation Avinta.  It seems a template is required, I was trying to set a price directly, once I chose the template it enabled it.  FYI, afterwards, you can choose a direct price (without template) and it remains enabled.  Unfortunately I don&#39;t have an answer for the original question, I suggest handling the quantity internally and using it in the purchase -- if that&#39;s possible, test and see if the proper quantity is used up. Thanks.","body":"Thanks for the explanation Avinta.  It seems a template is required, I was trying to set a price directly, once I chose the template it enabled it.  FYI, afterwards, you can choose a direct price (without template) and it remains enabled.  Unfortunately I don&#39;t have an answer for the original question, I suggest handling the quantity internally and using it in the purchase -- if that&#39;s possible, test and see if the proper quantity is used up. Thanks."}],"owner":{"account_id":11076965,"reputation":11,"user_id":8133385,"display_name":"Jacob Zviagin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647194364,"creation_date":1647194364,"question_id":71459414,"body_markdown":"According to the documentation of Android billing library v4.0+, google has added the ability to purchase multi-quantity of an item.\r\n\r\nI enabled the option in Play Console:\r\nhttps://i.stack.imgur.com/OQ6OA.png\r\n\r\n\r\nBut unfortunately the dialog won&#39;t allow me to select quantity:\r\n\r\nhttps://i.stack.imgur.com/OQEzA.png\r\n\r\nthe invoking code looks like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            billingClient.querySkuDetailsAsync(params.build(),\r\n                    new SkuDetailsResponseListener() {\r\n                        @Override\r\n                        public void onSkuDetailsResponse(BillingResult billingResult,\r\n                                                         List&lt;SkuDetails&gt; skuDetailsList) {\r\n                            Log.d(TAG, &quot;billingDebug: size&quot; + skuDetailsList.size());\r\n\r\n                            if (skuDetailsList.size() &gt; 0){\r\n                                BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n                                        .setSkuDetails(skuDetailsList.get(0))\r\n\r\n\r\n                                        .build();\r\n                                String responseCode = billingClient.launchBillingFlow(DetailActivity.this, billingFlowParams).toString();\r\n                                Log.d(TAG, &quot;billingDebug: response: &quot; + responseCode);\r\n                            }\r\n\r\n\r\n\r\n                        }\r\n            });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHow can i use the billing library to purchase multiple SKUs / multi quantity of a single SKU?\r\nAny help would be appreciated. Thanks in Advance.\r\n","title":"Purchasing multiple items/multi quantity of item in one transaction with android billing library","body":"<p>According to the documentation of Android billing library v4.0+, google has added the ability to purchase multi-quantity of an item.</p>\n<p>I enabled the option in Play Console:\n<a href=\"https://i.stack.imgur.com/OQ6OA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OQ6OA.png</a></p>\n<p>But unfortunately the dialog won't allow me to select quantity:</p>\n<p><a href=\"https://i.stack.imgur.com/OQEzA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OQEzA.png</a></p>\n<p>the invoking code looks like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        billingClient.querySkuDetailsAsync(params.build(),\n                new SkuDetailsResponseListener() {\n                    @Override\n                    public void onSkuDetailsResponse(BillingResult billingResult,\n                                                     List&lt;SkuDetails&gt; skuDetailsList) {\n                        Log.d(TAG, \"billingDebug: size\" + skuDetailsList.size());\n\n                        if (skuDetailsList.size() &gt; 0){\n                            BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n                                    .setSkuDetails(skuDetailsList.get(0))\n\n\n                                    .build();\n                            String responseCode = billingClient.launchBillingFlow(DetailActivity.this, billingFlowParams).toString();\n                            Log.d(TAG, \"billingDebug: response: \" + responseCode);\n                        }\n\n\n\n                    }\n        });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>How can i use the billing library to purchase multiple SKUs / multi quantity of a single SKU?\nAny help would be appreciated. Thanks in Advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":53113,"reputation":687,"user_id":158758,"display_name":"Pratik Bhatt"},"score":0,"creation_date":1647229039,"post_id":71459303,"comment_id":126310239,"body_markdown":"Please avoid posting homework questions here.","body":"Please avoid posting homework questions here."}],"answers":[{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647194112,"creation_date":1647194112,"answer_id":71459377,"question_id":71459303,"body_markdown":"Review `j&lt;list.size();j++` and `list.remove(j)`, which skip over the second `2` entry when remove shortens the list.","title":"Problem removing duplicates from an ArrayList using public static void removeDuplicate(ArrayList&lt;Integer&gt; list)","body":"<p>Review <code>j&lt;list.size();j++</code> and <code>list.remove(j)</code>, which skip over the second <code>2</code> entry when remove shortens the list.</p>\n"}],"owner":{"account_id":11386511,"reputation":1,"user_id":8348116,"display_name":"Jake Robertson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647194112,"creation_date":1647193599,"question_id":71459303,"body_markdown":"I know it is better ways to remove duplicates from a list but my teacher for some reason wants us to use this certain method.\r\n\r\nMy code works to an extent. For example if I enter &quot;34 2 12 5 2 2 34 12 34 2&quot; as my ten numbers the output will be, &quot;The distinct integers are: 34 2 12 5 2&quot;. For some reason 2 comes up twice and I can&#39;t figure out why.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class RemoveDuplicate {\r\n    public static void main(String[] args){\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n        System.out.print(&quot;Enter ten numbers: &quot;);\r\n        for(int i=0;i&lt;10;i++) {\r\n            list.add(input.nextInt());\r\n        }\r\n\r\n        input.close();\r\n\r\n        removeDuplicate(list);\r\n\r\n        System.out.print(&quot;The distinct integers are: &quot;);\r\n        for(int i=0; i&lt;list.size();i++){\r\n            System.out.print(list.get(i)+&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static void removeDuplicate(ArrayList&lt;Integer&gt; list){\r\n        for(int i=0; i&lt;list.size()-1;i++){\r\n            for(int j=i+1;j&lt;list.size();j++){\r\n                if(list.get(j) == list.get(i)) {\r\n                    list.remove(j);\r\n                }\r\n            }\r\n        }\r\n    }\r\n   \r\n\r\nThanks for the help!","title":"Problem removing duplicates from an ArrayList using public static void removeDuplicate(ArrayList&lt;Integer&gt; list)","body":"<p>I know it is better ways to remove duplicates from a list but my teacher for some reason wants us to use this certain method.</p>\n<p>My code works to an extent. For example if I enter &quot;34 2 12 5 2 2 34 12 34 2&quot; as my ten numbers the output will be, &quot;The distinct integers are: 34 2 12 5 2&quot;. For some reason 2 comes up twice and I can't figure out why.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class RemoveDuplicate {\npublic static void main(String[] args){\n    Scanner input = new Scanner(System.in);\n\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n    System.out.print(&quot;Enter ten numbers: &quot;);\n    for(int i=0;i&lt;10;i++) {\n        list.add(input.nextInt());\n    }\n\n    input.close();\n\n    removeDuplicate(list);\n\n    System.out.print(&quot;The distinct integers are: &quot;);\n    for(int i=0; i&lt;list.size();i++){\n        System.out.print(list.get(i)+&quot; &quot;);\n    }\n}\n\npublic static void removeDuplicate(ArrayList&lt;Integer&gt; list){\n    for(int i=0; i&lt;list.size()-1;i++){\n        for(int j=i+1;j&lt;list.size();j++){\n            if(list.get(j) == list.get(i)) {\n                list.remove(j);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Thanks for the help!</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":10627234,"reputation":1376,"user_id":7827519,"display_name":"dfour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647000841,"creation_date":1647000841,"answer_id":71438358,"question_id":71428587,"body_markdown":"For mouse buttons you would use\r\n\r\n    Gdx.input.isButtonPressed\r\n\r\nFor keyboard input you use\r\n\r\n    Gdx.input.isKeyPressed","title":"Libgdx - isButtonPressed isn&#39;t using the input button but rather a different button","body":"<p>For mouse buttons you would use</p>\n<pre><code>Gdx.input.isButtonPressed\n</code></pre>\n<p>For keyboard input you use</p>\n<pre><code>Gdx.input.isKeyPressed\n</code></pre>\n"}],"owner":{"account_id":24175531,"reputation":1,"user_id":18136954,"display_name":"eldoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647193783,"creation_date":1646934367,"question_id":71428587,"body_markdown":"I have my input set to this currently:\r\n\r\n    if(Gdx.input.isButtonPressed(Input.Keys.D)) { x += 5; }\r\n\r\nThe `x` is set to the Circle&#39;s position:\r\n\r\n    shapeRenderer.circle(x,y,50);\r\n\r\nI would like it so that every time I press D it will move right. However when I ran my code the circle only moves when I press the left mouse click button rather than D. What do I do?","title":"Libgdx - isButtonPressed isn&#39;t using the input button but rather a different button","body":"<p>I have my input set to this currently:</p>\n<pre><code>if(Gdx.input.isButtonPressed(Input.Keys.D)) { x += 5; }\n</code></pre>\n<p>The <code>x</code> is set to the Circle's position:</p>\n<pre><code>shapeRenderer.circle(x,y,50);\n</code></pre>\n<p>I would like it so that every time I press D it will move right. However when I ran my code the circle only moves when I press the left mouse click button rather than D. What do I do?</p>\n"},{"tags":["java","jquery","spring-boot","datatables","thymeleaf"],"comments":[{"owner":{"account_id":207285,"reputation":4872,"user_id":457069,"accept_rate":71,"display_name":"markpsmith"},"score":0,"creation_date":1555337381,"post_id":55642229,"comment_id":98064965,"body_markdown":"When you specify `serverside: true`, additional parameters are included in the `draw` request, see the [docs](https://datatables.net/manual/server-side).  If you look in the network panel of your browser tools you&#39;ll be able to see this when the datatable loads.  The parameters are what your controller needs to use.","body":"When you specify <code>serverside: true</code>, additional parameters are included in the <code>draw</code> request, see the <a href=\"https://datatables.net/manual/server-side\" rel=\"nofollow noreferrer\">docs</a>.  If you look in the network panel of your browser tools you&#39;ll be able to see this when the datatable loads.  The parameters are what your controller needs to use."},{"owner":{"account_id":14971476,"reputation":162,"user_id":10808216,"display_name":"Miss Kitty"},"score":0,"creation_date":1555344244,"post_id":55642229,"comment_id":98069048,"body_markdown":"@markpsmith Thanks for your comment. Yeah, I am on track to getting this working now, though it seems like for whatever reason my application wants to use the older (I think) version of these variables, even though I am pulling in the webjars for datatables `&lt;version&gt;1.10.19&lt;/version&gt;`.\n\nIn any case, once I get it working entirely I plan to post an answer to my own question. Assuming all works out...","body":"@markpsmith Thanks for your comment. Yeah, I am on track to getting this working now, though it seems like for whatever reason my application wants to use the older (I think) version of these variables, even though I am pulling in the webjars for datatables <code>&lt;version&gt;1.10.19&lt;&#47;version&gt;</code>.  In any case, once I get it working entirely I plan to post an answer to my own question. Assuming all works out..."},{"owner":{"account_id":14971476,"reputation":162,"user_id":10808216,"display_name":"Miss Kitty"},"score":0,"creation_date":1555355533,"post_id":55642229,"comment_id":98074110,"body_markdown":"@markpsmith Since you seem to know what you&#39;re talking about, maybe you can help me with another question? I&#39;ve been going through the documentation on DataTables and can&#39;t find it. Is there a way to add a custom sort parameter string into the columns list, sort of like the following example.... &#39;columns&#39;: [ { **&#39;data&#39; : &#39;name&#39;, &#39;customSortableParamer&#39; : &#39;FIRST_NAME&#39;** }, { &#39;data&#39; : &#39;gender&#39; } ], and have that value returned to me in the request parameters with the user sorts?","body":"@markpsmith Since you seem to know what you&#39;re talking about, maybe you can help me with another question? I&#39;ve been going through the documentation on DataTables and can&#39;t find it. Is there a way to add a custom sort parameter string into the columns list, sort of like the following example.... &#39;columns&#39;: [ { <b>&#39;data&#39; : &#39;name&#39;, &#39;customSortableParamer&#39; : &#39;FIRST_NAME&#39;</b> }, { &#39;data&#39; : &#39;gender&#39; } ], and have that value returned to me in the request parameters with the user sorts?"},{"owner":{"account_id":4369724,"reputation":1687,"user_id":3564455,"display_name":"the hand of NOD"},"score":0,"creation_date":1566999954,"post_id":55642229,"comment_id":101831893,"body_markdown":"Could you add which versions of DataTable, Spring-Boot, Java, Thymeleaf and so on you used for this?","body":"Could you add which versions of DataTable, Spring-Boot, Java, Thymeleaf and so on you used for this?"}],"answers":[{"tags":[],"owner":{"account_id":14971476,"reputation":162,"user_id":10808216,"display_name":"Miss Kitty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1555354861,"creation_date":1555354861,"answer_id":55695719,"question_id":55642229,"body_markdown":"I have managed to solve my issue.\r\n\r\nMy **HTML** for the table remained the same, as follows:\r\n\r\n```\r\n&lt;table id=&quot;myDataTable&quot; class=&quot;dataTable display compact&quot;&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Social Security&lt;/th&gt;                                        \r\n            &lt;th&gt;Birthdate&lt;/th&gt;\r\n            &lt;th&gt;Gender&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n&lt;/table&gt;\r\n```\r\n\r\nMy **Controller for the page** remained the same, as follows:\r\n\r\n```\r\n@GetMapping(&quot;/ApplicationName/MyDataTablePage&quot;)\r\npublic String myDataTablePage(Model model) {\r\n\r\n    return &quot;/pages/MyDataTablePage&quot;;\r\n}\r\n```\r\n\r\nMy **Controller for the Table** which retrieves the data needed to change. First, it needed to get the `@RequestParam` that datatables was sending, which included all the parameters that I needed regarding how many records I needed to show, which record I needed to sort at, and which cell was being sorted on. Second, instead of just returning a `List&lt;Person&gt;`, it needed to return a well-formed JSON object with certain parameters that Datatable uses to decide how many pages to show on screen, as well as the data `List&lt;Person&gt;` itself.\r\n\r\n```\r\n@RequestMapping(path = &quot;/ApplicationName/Data/Person&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n@ResponseBody\r\npublic TableBean getPersonData(@RequestParam Map&lt;String, String&gt; allRequestParams) {\r\n\r\n\tTableParameters tableParameters = myMapperService\r\n\t\t\t.getTableParameters(allRequestParams);\r\n\t\r\n\treturn myMapperService.mapTableBean(tableParameters); //returns an TableBean which contains the ArrayList&lt;Person&gt;\r\n}\r\n```\r\n\r\nIn order for this to work, I needed to make a few new classes and methods. First, I made a **TableParameters** bean which holds all of the parameters for my Data Table:\r\n\r\n```\r\npublic class TableParameters implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate Integer iDisplayStart;\r\n\r\n\tprivate Integer iDisplayLength;\r\n\r\n\tprivate Integer iColumns;\r\n\r\n\tprivate String sSearch;\r\n\r\n\tprivate Boolean bRegex;\r\n\r\n\tprivate Integer iSortingCols;\r\n\r\n\tprivate Integer sEcho;\r\n\r\n\tprivate Integer sortedColumnNumber;\r\n\r\n\tprivate String sortedColumnName;\r\n\r\n\tprivate String sortedColumnDirection;\r\n\t\r\n\t\r\n\t// ... getters and setters\r\n\r\n}\r\n```\r\n\r\nAnd then I needed to make a **method** that would pull these variables off of the Request Parms and map them to the new bean. This tells me what to use in my SQL as far as how to sort, and which numbers to start on and return.\r\n\r\n```\r\nprivate static String iDisplayLength = &quot;iDisplayLength&quot;;\r\nprivate static String iDisplayStart = &quot;iDisplayStart&quot;;\r\nprivate static String iColumns = &quot;iColumns&quot;;\r\nprivate static String sSearch = &quot;sSearch&quot;;\r\nprivate static String bRegex = &quot;bRegex&quot;;\r\nprivate static String iSortingCols = &quot;iSortingCols&quot;;\r\nprivate static String sEcho = &quot;sEcho&quot;;\r\nprivate static String iSortCol_0 = &quot;iSortCol_0&quot;;\r\nprivate static String sSortDir_0 = &quot;sSortDir_0&quot;;\r\n\t\r\npublic TableParameters getTableParameters(Map&lt;String, String&gt; allRequestParams) {\r\n\r\n\tTableParameters finalBean = new TableParameters();\r\n\t\r\n\tif (null != allRequestParams.get(bRegex)) {\r\n\t\tfinalBean.setbRegex(new Boolean(allRequestParams.get(bRegex)));\r\n\t}\r\n\tif (null != allRequestParams.get(iColumns)) {\r\n\t\tfinalBean.setiColumns(new Integer(allRequestParams.get(iColumns)));\r\n\t}\r\n\tif (null != allRequestParams.get(iDisplayLength)) {\r\n\t\tfinalBean.setiDisplayLength(new Integer(allRequestParams.get(iDisplayLength)));\r\n\t}\r\n\tif (null != allRequestParams.get(iDisplayStart)) {\r\n\t\tfinalBean.setiDisplayStart(new Integer(allRequestParams.get(iDisplayStart)));\r\n\t}\r\n\tif (null != allRequestParams.get(iSortingCols)) {\r\n\t\tfinalBean.setiSortingCols(new Integer(allRequestParams.get(iSortingCols)));\r\n\t}\r\n\tif (null != allRequestParams.get(sEcho)) {\r\n\t\ttry {\r\n\t\t\tfinalBean.setsEcho(new Integer(allRequestParams.get(sEcho)));\r\n\t\t} catch (Exception e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t}\r\n\tif (null != allRequestParams.get(sSearch)) {\r\n\t\tfinalBean.setsSearch(allRequestParams.get(sSearch));\r\n\t}\r\n\r\n\tint numberOfColumnsSortedOn = 0;\r\n\tif (allRequestParams.containsKey(iSortingCols) &amp;&amp; null != allRequestParams.get(iSortingCols)) {\r\n\t\tnumberOfColumnsSortedOn = new Integer(allRequestParams.get(&quot;iSortingCols&quot;)).intValue();\r\n\t}\r\n\r\n\tif (numberOfColumnsSortedOn &gt; 0) {\r\n\t\tif (null != allRequestParams.get(iSortCol_0)) {\r\n\t\t\tfinalBean.setSortedColumnNumber(new Integer(allRequestParams.get(iSortCol_0)));\r\n\t\t}\r\n\t\tif (null != allRequestParams.get(sSortDir_0)) {\r\n\t\t\tfinalBean.setSortedColumnDirection(allRequestParams.get(sSortDir_0));\r\n\t\t}\r\n\t\tString keyForName = &quot;mDataProp_&quot; + finalBean.getSortedColumnNumber();\r\n\t\tif (null != allRequestParams.get(keyForName)) {\r\n\t\t\tfinalBean.setSortedColumnName(allRequestParams.get(keyForName).toUpperCase());\r\n\t\t}\r\n\t}\r\n\treturn finalBean;\r\n}\r\n```\r\n\r\nSimilarly, the **Return json object TableBean** needed to be created which has, not lonly a `List&lt;Person&gt;` on it, but also the necessary count information that datatable uses to show page numbers to the user. This is what is now returned in the table controller method, instead of just the basic list.\r\n\r\n```\r\npublic class TableBean implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprivate int iTotalRecords;\r\n\r\n\tprivate int iTotalDisplayRecords;\r\n\r\n\tprivate String sEcho;\r\n\r\n\tprivate List data;\r\n\r\n\tpublic TableBean(int iTotalRecords, int iTotalDisplayRecords, String sEcho, List data) {\r\n\t\tsuper();\r\n\t\tthis.iTotalRecords = iTotalRecords;\r\n\t\tthis.iTotalDisplayRecords = iTotalDisplayRecords;\r\n\t\tthis.sEcho = sEcho;\r\n\t\tthis.data = data;\r\n\t}\r\n\t\r\n\t// ... getters and setters\r\n}\r\n```\r\n\r\nAnd the **mapTableBean method** that pulls it all together by actually calling the database to get the records.\r\n\r\n```\r\npublic TableBean mapTableBean(TableParameters tableParameters) {\r\n\tint iTotalRecords = database.getCount();\r\n\tint iTotalDisplayRecords = iTotalRecords;\r\n\tif (null != tableParameters.getsEcho()){\r\n\t\tString sEcho = tableParameters.getsEcho().toString(); \r\n\t}\r\n\tList data = database.search(tableParameters.getiDisplayStart(), tableParameters.getiDisplayLength(),\r\n\t\t\ttableParameters.getSortedColumnName(),\r\n\t\t\ttableParameters.getSortedColumnDirection().equalsIgnoreCase(&quot;asc&quot;));\r\n\t\r\n\treturn new TableBean(iTotalRecords, iTotalDisplayRecords, sEcho, data);\r\n}\r\n```\r\n\r\nFinally, the **Javascript** had to be altered so that DataTables knows to look at the variable titled &#39;data&#39; for its list of Beans shown in the table itself, by adding the `&#39;sAjaxDataProp&#39;: &#39;data&#39;,` configuration.\r\n\r\n```\r\n$(document).ready(function () {\r\n     $(&#39;#myDataTable&#39;).DataTable({ \r\n         &#39;destroy&#39; : true,\r\n         &#39;serverSide&#39; : true,\r\n         &#39;sAjaxSource&#39;: &#39;/ApplicationName/Data/Person&#39;,\r\n         &#39;sAjaxDataProp&#39;: &#39;data&#39;,\r\n         &#39;order&#39;: [ [ 0, &#39;asc&#39; ] ],\r\n         &#39;columns&#39;: \r\n         [ \r\n            {  &#39;data&#39;: &#39;name&#39;,\r\n                &#39;render&#39;: function(data, type, row, meta){ \r\n                    if(type === &#39;display&#39;){ \r\n                        data = &#39;&lt;a href=&quot;javascript:openPersonDetail(&amp;apos;&#39;+ row.socialSecurity +&#39;&amp;apos;);&quot;&gt;&#39; + data + &#39;&lt;/a&gt;&#39; \r\n                    }  \r\n                    return data; \r\n                } \r\n            } ,\r\n            { &#39;data&#39;: &#39;socialSecurity&#39;} ,\r\n            { &#39;data&#39;: &#39;birthdate&#39;} ,\r\n            { &#39;data&#39;: &#39;gender&#39;} \r\n         ],\r\n         &#39;scrollY&#39; : 300,\r\n         &#39;scrollCollapse&#39; : true,\r\n         &#39;paging&#39; : true,\r\n         &#39;autoWidth&#39; : true,\r\n         &#39;ordering&#39; : true,\r\n         &#39;searching&#39; : false,\r\n         &#39;pageLength&#39; : 20,\r\n         &#39;lengthChange&#39; : false,\r\n         &#39;pagingType&#39; : &#39;full_numbers&#39;,\r\n         &#39;dom&#39; : &#39;&lt;&quot;top&quot;ip&gt;rt&lt;&quot;bottom&quot;fl&gt;&lt;&quot;clear&quot;&gt;&#39; \r\n     }); \r\n });\r\n```\r\n\r\nAnd voila, now the server side processing is functional.","title":"JQuery DataTables with ServerSide Processing in Spring (with Java and Thymeleaf)","body":"<p>I have managed to solve my issue.</p>\n\n<p>My <strong>HTML</strong> for the table remained the same, as follows:</p>\n\n<pre><code>&lt;table id=\"myDataTable\" class=\"dataTable display compact\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Social Security&lt;/th&gt;                                        \n            &lt;th&gt;Birthdate&lt;/th&gt;\n            &lt;th&gt;Gender&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>My <strong>Controller for the page</strong> remained the same, as follows:</p>\n\n<pre><code>@GetMapping(\"/ApplicationName/MyDataTablePage\")\npublic String myDataTablePage(Model model) {\n\n    return \"/pages/MyDataTablePage\";\n}\n</code></pre>\n\n<p>My <strong>Controller for the Table</strong> which retrieves the data needed to change. First, it needed to get the <code>@RequestParam</code> that datatables was sending, which included all the parameters that I needed regarding how many records I needed to show, which record I needed to sort at, and which cell was being sorted on. Second, instead of just returning a <code>List&lt;Person&gt;</code>, it needed to return a well-formed JSON object with certain parameters that Datatable uses to decide how many pages to show on screen, as well as the data <code>List&lt;Person&gt;</code> itself.</p>\n\n<pre><code>@RequestMapping(path = \"/ApplicationName/Data/Person\", method = RequestMethod.GET, produces = \"application/json\")\n@ResponseBody\npublic TableBean getPersonData(@RequestParam Map&lt;String, String&gt; allRequestParams) {\n\n    TableParameters tableParameters = myMapperService\n            .getTableParameters(allRequestParams);\n\n    return myMapperService.mapTableBean(tableParameters); //returns an TableBean which contains the ArrayList&lt;Person&gt;\n}\n</code></pre>\n\n<p>In order for this to work, I needed to make a few new classes and methods. First, I made a <strong>TableParameters</strong> bean which holds all of the parameters for my Data Table:</p>\n\n<pre><code>public class TableParameters implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private Integer iDisplayStart;\n\n    private Integer iDisplayLength;\n\n    private Integer iColumns;\n\n    private String sSearch;\n\n    private Boolean bRegex;\n\n    private Integer iSortingCols;\n\n    private Integer sEcho;\n\n    private Integer sortedColumnNumber;\n\n    private String sortedColumnName;\n\n    private String sortedColumnDirection;\n\n\n    // ... getters and setters\n\n}\n</code></pre>\n\n<p>And then I needed to make a <strong>method</strong> that would pull these variables off of the Request Parms and map them to the new bean. This tells me what to use in my SQL as far as how to sort, and which numbers to start on and return.</p>\n\n<pre><code>private static String iDisplayLength = \"iDisplayLength\";\nprivate static String iDisplayStart = \"iDisplayStart\";\nprivate static String iColumns = \"iColumns\";\nprivate static String sSearch = \"sSearch\";\nprivate static String bRegex = \"bRegex\";\nprivate static String iSortingCols = \"iSortingCols\";\nprivate static String sEcho = \"sEcho\";\nprivate static String iSortCol_0 = \"iSortCol_0\";\nprivate static String sSortDir_0 = \"sSortDir_0\";\n\npublic TableParameters getTableParameters(Map&lt;String, String&gt; allRequestParams) {\n\n    TableParameters finalBean = new TableParameters();\n\n    if (null != allRequestParams.get(bRegex)) {\n        finalBean.setbRegex(new Boolean(allRequestParams.get(bRegex)));\n    }\n    if (null != allRequestParams.get(iColumns)) {\n        finalBean.setiColumns(new Integer(allRequestParams.get(iColumns)));\n    }\n    if (null != allRequestParams.get(iDisplayLength)) {\n        finalBean.setiDisplayLength(new Integer(allRequestParams.get(iDisplayLength)));\n    }\n    if (null != allRequestParams.get(iDisplayStart)) {\n        finalBean.setiDisplayStart(new Integer(allRequestParams.get(iDisplayStart)));\n    }\n    if (null != allRequestParams.get(iSortingCols)) {\n        finalBean.setiSortingCols(new Integer(allRequestParams.get(iSortingCols)));\n    }\n    if (null != allRequestParams.get(sEcho)) {\n        try {\n            finalBean.setsEcho(new Integer(allRequestParams.get(sEcho)));\n        } catch (Exception e) {\n            // ignore\n        }\n    }\n    if (null != allRequestParams.get(sSearch)) {\n        finalBean.setsSearch(allRequestParams.get(sSearch));\n    }\n\n    int numberOfColumnsSortedOn = 0;\n    if (allRequestParams.containsKey(iSortingCols) &amp;&amp; null != allRequestParams.get(iSortingCols)) {\n        numberOfColumnsSortedOn = new Integer(allRequestParams.get(\"iSortingCols\")).intValue();\n    }\n\n    if (numberOfColumnsSortedOn &gt; 0) {\n        if (null != allRequestParams.get(iSortCol_0)) {\n            finalBean.setSortedColumnNumber(new Integer(allRequestParams.get(iSortCol_0)));\n        }\n        if (null != allRequestParams.get(sSortDir_0)) {\n            finalBean.setSortedColumnDirection(allRequestParams.get(sSortDir_0));\n        }\n        String keyForName = \"mDataProp_\" + finalBean.getSortedColumnNumber();\n        if (null != allRequestParams.get(keyForName)) {\n            finalBean.setSortedColumnName(allRequestParams.get(keyForName).toUpperCase());\n        }\n    }\n    return finalBean;\n}\n</code></pre>\n\n<p>Similarly, the <strong>Return json object TableBean</strong> needed to be created which has, not lonly a <code>List&lt;Person&gt;</code> on it, but also the necessary count information that datatable uses to show page numbers to the user. This is what is now returned in the table controller method, instead of just the basic list.</p>\n\n<pre><code>public class TableBean implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    private int iTotalRecords;\n\n    private int iTotalDisplayRecords;\n\n    private String sEcho;\n\n    private List data;\n\n    public TableBean(int iTotalRecords, int iTotalDisplayRecords, String sEcho, List data) {\n        super();\n        this.iTotalRecords = iTotalRecords;\n        this.iTotalDisplayRecords = iTotalDisplayRecords;\n        this.sEcho = sEcho;\n        this.data = data;\n    }\n\n    // ... getters and setters\n}\n</code></pre>\n\n<p>And the <strong>mapTableBean method</strong> that pulls it all together by actually calling the database to get the records.</p>\n\n<pre><code>public TableBean mapTableBean(TableParameters tableParameters) {\n    int iTotalRecords = database.getCount();\n    int iTotalDisplayRecords = iTotalRecords;\n    if (null != tableParameters.getsEcho()){\n        String sEcho = tableParameters.getsEcho().toString(); \n    }\n    List data = database.search(tableParameters.getiDisplayStart(), tableParameters.getiDisplayLength(),\n            tableParameters.getSortedColumnName(),\n            tableParameters.getSortedColumnDirection().equalsIgnoreCase(\"asc\"));\n\n    return new TableBean(iTotalRecords, iTotalDisplayRecords, sEcho, data);\n}\n</code></pre>\n\n<p>Finally, the <strong>Javascript</strong> had to be altered so that DataTables knows to look at the variable titled 'data' for its list of Beans shown in the table itself, by adding the <code>'sAjaxDataProp': 'data',</code> configuration.</p>\n\n<pre><code>$(document).ready(function () {\n     $('#myDataTable').DataTable({ \n         'destroy' : true,\n         'serverSide' : true,\n         'sAjaxSource': '/ApplicationName/Data/Person',\n         'sAjaxDataProp': 'data',\n         'order': [ [ 0, 'asc' ] ],\n         'columns': \n         [ \n            {  'data': 'name',\n                'render': function(data, type, row, meta){ \n                    if(type === 'display'){ \n                        data = '&lt;a href=\"javascript:openPersonDetail(&amp;apos;'+ row.socialSecurity +'&amp;apos;);\"&gt;' + data + '&lt;/a&gt;' \n                    }  \n                    return data; \n                } \n            } ,\n            { 'data': 'socialSecurity'} ,\n            { 'data': 'birthdate'} ,\n            { 'data': 'gender'} \n         ],\n         'scrollY' : 300,\n         'scrollCollapse' : true,\n         'paging' : true,\n         'autoWidth' : true,\n         'ordering' : true,\n         'searching' : false,\n         'pageLength' : 20,\n         'lengthChange' : false,\n         'pagingType' : 'full_numbers',\n         'dom' : '&lt;\"top\"ip&gt;rt&lt;\"bottom\"fl&gt;&lt;\"clear\"&gt;' \n     }); \n });\n</code></pre>\n\n<p>And voila, now the server side processing is functional.</p>\n"},{"tags":[],"owner":{"account_id":3167866,"reputation":617,"user_id":2677449,"display_name":"Murat Kurbanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600251430,"creation_date":1600152861,"answer_id":63896605,"question_id":55642229,"body_markdown":"I found 2 solutions:\r\n\r\n1. Look at this post: [Spring Boot + Bootstrap + Thymeleaf Datatable][1]\r\n\r\n```\r\n&lt;script&gt;\r\n    $(&#39;#example&#39;).DataTable({\r\n        &quot;processing&quot;: true,\r\n        &quot;serverSide&quot;: true,\r\n        &quot;ajax&quot;: {\r\n            &quot;url&quot;: &quot;/employees&quot;,\r\n            &quot;type&quot;: &quot;POST&quot;,\r\n            &quot;dataType&quot;: &quot;json&quot;,\r\n            &quot;contentType&quot;: &quot;application/json&quot;,\r\n            &quot;data&quot;: function (d) {\r\n                return JSON.stringify(d);\r\n            }\r\n        },\r\n        &quot;columns&quot;: [\r\n            {&quot;data&quot;: &quot;name&quot;, &quot;width&quot;: &quot;20%&quot;},\r\n            {&quot;data&quot;: &quot;position&quot;,&quot;width&quot;: &quot;20%&quot;},\r\n            {&quot;data&quot;: &quot;office&quot;, &quot;width&quot;: &quot;20%&quot;},\r\n            {&quot;data&quot;: &quot;start_date&quot;, &quot;width&quot;: &quot;20%&quot;},\r\n            {&quot;data&quot;: &quot;salary&quot;, &quot;width&quot;: &quot;20%&quot;}\r\n        ]\r\n    });\r\n&lt;/script&gt;\r\n```\r\n\r\n2. Look at this github project: [spring-data-jpa-datatables][2]\r\n\r\n\r\n  [1]: https://frontbackend.com/thymeleaf/spring-boot-bootstrap-thymeleaf-datatable\r\n  [2]: https://github.com/darrachequesne/spring-data-jpa-datatables","title":"JQuery DataTables with ServerSide Processing in Spring (with Java and Thymeleaf)","body":"<p>I found 2 solutions:</p>\n<ol>\n<li>Look at this post: <a href=\"https://frontbackend.com/thymeleaf/spring-boot-bootstrap-thymeleaf-datatable\" rel=\"nofollow noreferrer\">Spring Boot + Bootstrap + Thymeleaf Datatable</a></li>\n</ol>\n<pre><code>&lt;script&gt;\n    $('#example').DataTable({\n        &quot;processing&quot;: true,\n        &quot;serverSide&quot;: true,\n        &quot;ajax&quot;: {\n            &quot;url&quot;: &quot;/employees&quot;,\n            &quot;type&quot;: &quot;POST&quot;,\n            &quot;dataType&quot;: &quot;json&quot;,\n            &quot;contentType&quot;: &quot;application/json&quot;,\n            &quot;data&quot;: function (d) {\n                return JSON.stringify(d);\n            }\n        },\n        &quot;columns&quot;: [\n            {&quot;data&quot;: &quot;name&quot;, &quot;width&quot;: &quot;20%&quot;},\n            {&quot;data&quot;: &quot;position&quot;,&quot;width&quot;: &quot;20%&quot;},\n            {&quot;data&quot;: &quot;office&quot;, &quot;width&quot;: &quot;20%&quot;},\n            {&quot;data&quot;: &quot;start_date&quot;, &quot;width&quot;: &quot;20%&quot;},\n            {&quot;data&quot;: &quot;salary&quot;, &quot;width&quot;: &quot;20%&quot;}\n        ]\n    });\n&lt;/script&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Look at this github project: <a href=\"https://github.com/darrachequesne/spring-data-jpa-datatables\" rel=\"nofollow noreferrer\">spring-data-jpa-datatables</a></li>\n</ol>\n"}],"owner":{"account_id":14971476,"reputation":162,"user_id":10808216,"display_name":"Miss Kitty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19310,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55695719,"answer_count":2,"score":5,"last_activity_date":1647192983,"creation_date":1555022930,"question_id":55642229,"body_markdown":"I have a Spring Boot application using Java and Thymeleaf. In it, I have a page with a JQuery DataTable. This table has thousands of rows in it, and so while I currently just put it all on the page and let JQuery handle it entirely, I want to switch to using ServerSide processing for the paging, sorting, etc.\r\n\r\nI am set up to do this on the back-end, where I can pass a start and end row number and sort information dynamically to my SQL query. However, my issue is that I just can&#39;t figure out exactly how DataTables is trying to notify me via controller when the user clicks the &#39;next page&#39; button, or a sort button. **Where/how can my controller pick up this information, so that I can plug it into my SQL query and return what is necessary?**\r\n\r\nSo, lets say I have an example **object**, like a &quot;Person&quot;.\r\n\r\n```\r\npublic class Person {\r\n\r\n\tprivate static String PERSON_IMAGE = &quot;&lt;img th:src=\\&quot;@{/images/personimage.png}\\&quot; alt=\\&quot;icon\\&quot;/&gt;&quot;;\r\n\tprivate static String PERSON_IMAGE_2 = &quot;&lt;img th:src=\\&quot;@{/images/personimage2.png}\\&quot; alt=\\&quot;icon\\&quot;/&gt;&quot;;\r\n\t\r\n\tprivate String name;\r\n\tprivate String socialSecurity;\r\n\tprivate String birthdate;\r\n\tprivate String gender;\r\n\tprivate String personImage;\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getSocialSecurity() {\r\n\t\treturn socialSecurity;\r\n\t}\r\n\r\n\tpublic void setSocialSecurity(String socialSecurity) {\r\n\t\tthis.socialSecurity = socialSecurity;\r\n\t}\r\n\r\n\tpublic String getBirthdate() {\r\n\t\treturn birthdate;\r\n\t}\r\n\r\n\tpublic void setBirthdate(String birthdate) {\r\n\t\tthis.birthdate = birthdate;\r\n\t}\r\n\r\n\tpublic String getGender() {\r\n\t\treturn gender;\r\n\t}\r\n\r\n\tpublic void setGender(String gender) {\r\n\t\tthis.gender = gender;\r\n\t}\r\n\r\n\tpublic String getPersonImage() {\r\n\t\tif(null != birthdate) {\r\n\t\t\treturn PERSON_IMAGE;\r\n\t\t} else {\r\n\t\t\treturn PERSON_IMAGE_2;\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\nSo, on my Thymeleaf **HTML** page, I used to have the following: **(Version 1)**\r\n\r\n```\r\n&lt;table id=&quot;myDataTable&quot; class=&quot;dataTable display compact&quot;&gt;\r\n\t&lt;thead&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;th&gt;Name&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Social Security&lt;/th&gt;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;th&gt;Birthdate&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Gender&lt;/th&gt;\r\n\t\t&lt;/tr&gt;\r\n\t&lt;/thead&gt;\r\n\t&lt;tbody&gt;\r\n\t\t&lt;tr th:each=&quot;person : ${peopleList}&quot;&gt;\r\n\t\t\t&lt;td th:attr=&quot;data-order=${person.name}&quot;&gt;&lt;a th:href=&quot;|javascript:openPersonDetail(&#39;${person.socialSecurity}&#39;);|&quot;&gt;&lt;span th:text=&quot;${person.name}&quot;&gt;name&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\r\n\t\t\t&lt;td th:text=&quot;${person.socialSecurity}&quot;&gt;socialSecurity&lt;/td&gt;\t\t\t\t\t\t\r\n\t\t\t&lt;td class=&quot;dt-body-center&quot; th:text=&quot;${person.birthdate}&quot;&gt;birthdate&lt;/td&gt;\r\n\t\t\t&lt;td class=&quot;dt-body-center&quot; th:text=&quot;${person.gender}&quot;&gt;gender&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\t&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\nMy page **controller** was very simple, and just passed in a full list of people, as follows: **(Version 1)**\r\n\r\n```\r\n@GetMapping(&quot;/ApplicationName/MyDataTablePage&quot;)\r\npublic String myDataTablePage(Model model) {\r\n\r\n\tSearchCriteria searchCriteria = new SearchCriteria();\r\n\tsearchCriteria.setOrderByString(&quot;name&quot;);\r\n\tsearchCriteria.setUsePaging(false);\r\n\tsearchCriteria.setFIRST_NUMBER(null);\r\n\tsearchCriteria.setLAST_NUMBER(null);\r\n\r\n\tmodel.addAttribute(&quot;peopleList&quot;, myMapperService.getPeople(searchCriteria)); //returns an ArrayList&lt;Person&gt;\r\n\r\n\treturn &quot;/pages/MyDataTablePage&quot;;\r\n}\r\n```\r\n\r\nAnd finally, my Javascript used to have the following: **(Version 1)**\r\n\r\n```\r\n$(document).ready(function() {\r\n\t$(&#39;#myDataTable&#39;).DataTable({\r\n\t\t&quot;destroy&quot; : true,\r\n\t\t&quot;scrollY&quot; : 300,\r\n\t\t&quot;scrollCollapse&quot; : true,\r\n\t\t&quot;paging&quot; : true,\r\n\t\t&quot;autoWidth&quot; : true,\r\n\t\t&quot;ordering&quot; : true,\r\n\t\t&quot;searching&quot; : false,\r\n\t\t&quot;order&quot; : [ [ 0, &#39;asc&#39; ] ],\r\n\t\t&quot;pageLength&quot; : 20,\r\n\t\t&quot;lengthChange&quot; : false,\r\n\t\t&quot;pagingType&quot; : &quot;full_numbers&quot;,\r\n\t\t&quot;dom&quot; : &#39;&lt;&quot;top&quot;ip&gt;rt&lt;&quot;bottom&quot;fl&gt;&lt;&quot;clear&quot;&gt;&#39;\r\n\t});\r\n});\r\n```\r\n\r\nThis worked, but I wanted to switch the DataTable to use serverside processing, and so the first step was to (1) change the main page controller to stop appending the list of People to the model, (2) to create a new controller which would return my ArrayList&lt;Person&gt; as JSON for the DataTable to call by itself, (3) to change the html of the main page to no longer provide any *tbody* tag to the DataTable, and (4) to change the javascript where the table is created to put the data in by itself.\r\n\r\n=============================================================\r\n\r\nThat led me to **version 2** of the following elements.\r\n\r\nMy changed Thymeleaf **HTML** page: **(Version 2)**\r\n\r\n```\r\n&lt;table id=&quot;myDataTable&quot; class=&quot;dataTable display compact&quot;&gt;\r\n\t&lt;thead&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;th&gt;Name&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Social Security&lt;/th&gt;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;th&gt;Birthdate&lt;/th&gt;\r\n\t\t\t&lt;th&gt;Gender&lt;/th&gt;\r\n\t\t&lt;/tr&gt;\r\n\t&lt;/thead&gt;\r\n&lt;/table&gt;\r\n```\r\nMy changed page **controller**: **(Version 2)**\r\n\r\n```\r\n@GetMapping(&quot;/ApplicationName/MyDataTablePage&quot;)\r\npublic String myDataTablePage(Model model) {\r\n\r\n\treturn &quot;/pages/MyDataTablePage&quot;;\r\n}\r\n```\r\n\r\nMy new DataTables **controller**:\r\n\r\n```\r\n@RequestMapping(path = &quot;/ApplicationName/Data/Person&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n@ResponseBody\r\npublic List&lt;Person&gt; getPersonData() {\r\n\tSystem.out.println(&quot;I was called!&quot;);\r\n\r\n\tSearchCriteria searchCriteria = new SearchCriteria();\r\n\tsearchCriteria.setOrderByString(&quot;name&quot;);\r\n\tsearchCriteria.setUsePaging(false);\r\n\tsearchCriteria.setFIRST_NUMBER(null);\r\n\tsearchCriteria.setLAST_NUMBER(null);\r\n\r\n\treturn myMapperService.getPeople(searchCriteria); //returns an ArrayList&lt;Person&gt;\r\n}\r\n```\r\n\r\nMy changed (much more complicated) Javascript: **(Version 2)**\r\n\r\n```\r\n$(document).ready(function () {\r\n\t $(&#39;#myDataTable&#39;).DataTable({ \r\n\t\t &#39;destroy&#39; : true,\r\n\t\t &#39;serverSide&#39; : true,\r\n\t\t &#39;sAjaxSource&#39;: &#39;/ApplicationName/Data/Person&#39;,\r\n\t\t &#39;sAjaxDataProp&#39;: &#39;&#39;,\r\n\t\t &#39;order&#39;: [ [ 0, &#39;asc&#39; ] ],\r\n\t\t &#39;columns&#39;: \r\n\t\t [ \r\n\t\t\t{  &#39;data&#39;: &#39;name&#39;,\r\n\t\t\t\t&#39;render&#39;: function(data, type, row, meta){ \r\n\t\t\t\t\tif(type === &#39;display&#39;){ \r\n\t\t\t\t\t\tdata = &#39;&lt;a href=&quot;javascript:openPersonDetail(&amp;apos;&#39;+ row.socialSecurity +&#39;&amp;apos;);&quot;&gt;&#39; + data + &#39;&lt;/a&gt;&#39; \r\n\t\t\t\t\t}  \r\n\t\t\t\t\treturn data; \r\n\t\t\t\t} \r\n\t\t\t} ,\r\n\t\t\t{ &#39;data&#39;: &#39;socialSecurity&#39;} ,\r\n\t\t\t{ &#39;data&#39;: &#39;birthdate&#39;} ,\r\n\t\t\t{ &#39;data&#39;: &#39;gender&#39;} \r\n\t\t ],\r\n\t\t &#39;scrollY&#39; : 300,\r\n\t\t &#39;scrollCollapse&#39; : true,\r\n\t\t &#39;paging&#39; : true,\r\n\t\t &#39;autoWidth&#39; : true,\r\n\t\t &#39;ordering&#39; : true,\r\n\t\t &#39;searching&#39; : false,\r\n\t\t &#39;pageLength&#39; : 20,\r\n\t\t &#39;lengthChange&#39; : false,\r\n\t\t &#39;pagingType&#39; : &#39;full_numbers&#39;,\r\n\t\t &#39;dom&#39; : &#39;&lt;&quot;top&quot;ip&gt;rt&lt;&quot;bottom&quot;fl&gt;&lt;&quot;clear&quot;&gt;&#39; \r\n\t }); \r\n });\r\n```\r\n\r\n=============================================================\r\n\r\nAnd that works, too. Especially if I remove the &quot;&#39;serverSide&#39; : true,&quot; configuration - the DataTable works exactly like it used to before I made the above changes, but now it calls my new Data JSON controller instead of using a model attribute. \r\n\r\n**Problem:**\r\n\r\nHowever, with the &quot;&#39;serverSide&#39; : true,&quot; configuration added to the DataTable, each time I go to a new &#39;page&#39; of the table, it just recalls my &quot;/Clinic/Detail/Data/Patient&quot; controller each time. \r\n\r\nBut, I need DataTables to pass my controller information about what page the user has selected, or what column the user tried to sort on. I also need to pass the table (dynamically) the total number of rows there are (count) so that DataTables can properly set up the page numbers for the user. \r\n\r\nIs DataTables sending some additional parameters to my controller that I can pick up? Something like a @PathVariable(&quot;whatever&quot;)?\r\n\r\nI feel like I am so close to getting this working, but I&#39;m stuck at this point.\r\n\r\nI would really appreciate any help!","title":"JQuery DataTables with ServerSide Processing in Spring (with Java and Thymeleaf)","body":"<p>I have a Spring Boot application using Java and Thymeleaf. In it, I have a page with a JQuery DataTable. This table has thousands of rows in it, and so while I currently just put it all on the page and let JQuery handle it entirely, I want to switch to using ServerSide processing for the paging, sorting, etc.</p>\n\n<p>I am set up to do this on the back-end, where I can pass a start and end row number and sort information dynamically to my SQL query. However, my issue is that I just can't figure out exactly how DataTables is trying to notify me via controller when the user clicks the 'next page' button, or a sort button. <strong>Where/how can my controller pick up this information, so that I can plug it into my SQL query and return what is necessary?</strong></p>\n\n<p>So, lets say I have an example <strong>object</strong>, like a \"Person\".</p>\n\n<pre><code>public class Person {\n\n    private static String PERSON_IMAGE = \"&lt;img th:src=\\\"@{/images/personimage.png}\\\" alt=\\\"icon\\\"/&gt;\";\n    private static String PERSON_IMAGE_2 = \"&lt;img th:src=\\\"@{/images/personimage2.png}\\\" alt=\\\"icon\\\"/&gt;\";\n\n    private String name;\n    private String socialSecurity;\n    private String birthdate;\n    private String gender;\n    private String personImage;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSocialSecurity() {\n        return socialSecurity;\n    }\n\n    public void setSocialSecurity(String socialSecurity) {\n        this.socialSecurity = socialSecurity;\n    }\n\n    public String getBirthdate() {\n        return birthdate;\n    }\n\n    public void setBirthdate(String birthdate) {\n        this.birthdate = birthdate;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    public String getPersonImage() {\n        if(null != birthdate) {\n            return PERSON_IMAGE;\n        } else {\n            return PERSON_IMAGE_2;\n        }\n\n    }\n}\n</code></pre>\n\n<p>So, on my Thymeleaf <strong>HTML</strong> page, I used to have the following: <strong>(Version 1)</strong></p>\n\n<pre><code>&lt;table id=\"myDataTable\" class=\"dataTable display compact\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Social Security&lt;/th&gt;                                        \n            &lt;th&gt;Birthdate&lt;/th&gt;\n            &lt;th&gt;Gender&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr th:each=\"person : ${peopleList}\"&gt;\n            &lt;td th:attr=\"data-order=${person.name}\"&gt;&lt;a th:href=\"|javascript:openPersonDetail('${person.socialSecurity}');|\"&gt;&lt;span th:text=\"${person.name}\"&gt;name&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;\n            &lt;td th:text=\"${person.socialSecurity}\"&gt;socialSecurity&lt;/td&gt;                      \n            &lt;td class=\"dt-body-center\" th:text=\"${person.birthdate}\"&gt;birthdate&lt;/td&gt;\n            &lt;td class=\"dt-body-center\" th:text=\"${person.gender}\"&gt;gender&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>My page <strong>controller</strong> was very simple, and just passed in a full list of people, as follows: <strong>(Version 1)</strong></p>\n\n<pre><code>@GetMapping(\"/ApplicationName/MyDataTablePage\")\npublic String myDataTablePage(Model model) {\n\n    SearchCriteria searchCriteria = new SearchCriteria();\n    searchCriteria.setOrderByString(\"name\");\n    searchCriteria.setUsePaging(false);\n    searchCriteria.setFIRST_NUMBER(null);\n    searchCriteria.setLAST_NUMBER(null);\n\n    model.addAttribute(\"peopleList\", myMapperService.getPeople(searchCriteria)); //returns an ArrayList&lt;Person&gt;\n\n    return \"/pages/MyDataTablePage\";\n}\n</code></pre>\n\n<p>And finally, my Javascript used to have the following: <strong>(Version 1)</strong></p>\n\n<pre><code>$(document).ready(function() {\n    $('#myDataTable').DataTable({\n        \"destroy\" : true,\n        \"scrollY\" : 300,\n        \"scrollCollapse\" : true,\n        \"paging\" : true,\n        \"autoWidth\" : true,\n        \"ordering\" : true,\n        \"searching\" : false,\n        \"order\" : [ [ 0, 'asc' ] ],\n        \"pageLength\" : 20,\n        \"lengthChange\" : false,\n        \"pagingType\" : \"full_numbers\",\n        \"dom\" : '&lt;\"top\"ip&gt;rt&lt;\"bottom\"fl&gt;&lt;\"clear\"&gt;'\n    });\n});\n</code></pre>\n\n<p>This worked, but I wanted to switch the DataTable to use serverside processing, and so the first step was to (1) change the main page controller to stop appending the list of People to the model, (2) to create a new controller which would return my ArrayList as JSON for the DataTable to call by itself, (3) to change the html of the main page to no longer provide any <em>tbody</em> tag to the DataTable, and (4) to change the javascript where the table is created to put the data in by itself.</p>\n\n<p>=============================================================</p>\n\n<p>That led me to <strong>version 2</strong> of the following elements.</p>\n\n<p>My changed Thymeleaf <strong>HTML</strong> page: <strong>(Version 2)</strong></p>\n\n<pre><code>&lt;table id=\"myDataTable\" class=\"dataTable display compact\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Social Security&lt;/th&gt;                                        \n            &lt;th&gt;Birthdate&lt;/th&gt;\n            &lt;th&gt;Gender&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>My changed page <strong>controller</strong>: <strong>(Version 2)</strong></p>\n\n<pre><code>@GetMapping(\"/ApplicationName/MyDataTablePage\")\npublic String myDataTablePage(Model model) {\n\n    return \"/pages/MyDataTablePage\";\n}\n</code></pre>\n\n<p>My new DataTables <strong>controller</strong>:</p>\n\n<pre><code>@RequestMapping(path = \"/ApplicationName/Data/Person\", method = RequestMethod.GET, produces = \"application/json\")\n@ResponseBody\npublic List&lt;Person&gt; getPersonData() {\n    System.out.println(\"I was called!\");\n\n    SearchCriteria searchCriteria = new SearchCriteria();\n    searchCriteria.setOrderByString(\"name\");\n    searchCriteria.setUsePaging(false);\n    searchCriteria.setFIRST_NUMBER(null);\n    searchCriteria.setLAST_NUMBER(null);\n\n    return myMapperService.getPeople(searchCriteria); //returns an ArrayList&lt;Person&gt;\n}\n</code></pre>\n\n<p>My changed (much more complicated) Javascript: <strong>(Version 2)</strong></p>\n\n<pre><code>$(document).ready(function () {\n     $('#myDataTable').DataTable({ \n         'destroy' : true,\n         'serverSide' : true,\n         'sAjaxSource': '/ApplicationName/Data/Person',\n         'sAjaxDataProp': '',\n         'order': [ [ 0, 'asc' ] ],\n         'columns': \n         [ \n            {  'data': 'name',\n                'render': function(data, type, row, meta){ \n                    if(type === 'display'){ \n                        data = '&lt;a href=\"javascript:openPersonDetail(&amp;apos;'+ row.socialSecurity +'&amp;apos;);\"&gt;' + data + '&lt;/a&gt;' \n                    }  \n                    return data; \n                } \n            } ,\n            { 'data': 'socialSecurity'} ,\n            { 'data': 'birthdate'} ,\n            { 'data': 'gender'} \n         ],\n         'scrollY' : 300,\n         'scrollCollapse' : true,\n         'paging' : true,\n         'autoWidth' : true,\n         'ordering' : true,\n         'searching' : false,\n         'pageLength' : 20,\n         'lengthChange' : false,\n         'pagingType' : 'full_numbers',\n         'dom' : '&lt;\"top\"ip&gt;rt&lt;\"bottom\"fl&gt;&lt;\"clear\"&gt;' \n     }); \n });\n</code></pre>\n\n<p>=============================================================</p>\n\n<p>And that works, too. Especially if I remove the \"'serverSide' : true,\" configuration - the DataTable works exactly like it used to before I made the above changes, but now it calls my new Data JSON controller instead of using a model attribute. </p>\n\n<p><strong>Problem:</strong></p>\n\n<p>However, with the \"'serverSide' : true,\" configuration added to the DataTable, each time I go to a new 'page' of the table, it just recalls my \"/Clinic/Detail/Data/Patient\" controller each time. </p>\n\n<p>But, I need DataTables to pass my controller information about what page the user has selected, or what column the user tried to sort on. I also need to pass the table (dynamically) the total number of rows there are (count) so that DataTables can properly set up the page numbers for the user. </p>\n\n<p>Is DataTables sending some additional parameters to my controller that I can pick up? Something like a @PathVariable(\"whatever\")?</p>\n\n<p>I feel like I am so close to getting this working, but I'm stuck at this point.</p>\n\n<p>I would really appreciate any help!</p>\n"},{"tags":["java","compare","domain-model"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647192913,"creation_date":1647192913,"answer_id":71459222,"question_id":71458912,"body_markdown":"Your design is flawed - you have misused `equals()` by only comparing name.\r\n\r\nIf all attributes must be compared to know if the object has changed, then it is not true that objects with the same name are “equal”, because the use of the word  “changed” implies there’s a difference, and if there’s a difference they’re not equal.\r\n\r\n*Finding* something by using an identifier is different to two objects being equal if they have the same identifier.\r\n\r\nImplement `equals()` and `hashCode()` using all attributes that matter for determining if an object is “different”.\r\n\r\nTo facilitate convenience and performance, populate a `Map&lt;String, ConfigArtefact&lt;?&gt;&gt;` for each environment using the name as the key.\r\n\r\nFinding differences between 2 such maps is a fairly trivial O(n) task.\r\n","title":"What to do for objects that are equal but not identical?","body":"<p>Your design is flawed - you have misused <code>equals()</code> by only comparing name.</p>\n<p>If all attributes must be compared to know if the object has changed, then it is not true that objects with the same name are “equal”, because the use of the word  “changed” implies there’s a difference, and if there’s a difference they’re not equal.</p>\n<p><em>Finding</em> something by using an identifier is different to two objects being equal if they have the same identifier.</p>\n<p>Implement <code>equals()</code> and <code>hashCode()</code> using all attributes that matter for determining if an object is “different”.</p>\n<p>To facilitate convenience and performance, populate a <code>Map&lt;String, ConfigArtefact&lt;?&gt;&gt;</code> for each environment using the name as the key.</p>\n<p>Finding differences between 2 such maps is a fairly trivial O(n) task.</p>\n"}],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647192913,"creation_date":1647190568,"question_id":71458912,"body_markdown":"This is either a Java coding design question, or a domain modelling question, I&#39;m not sure yet!\r\n\r\nBackground, simplified as I can&#39;t share all the detail:\r\n\r\nThe system I&#39;m working on is deployed in multiple instances (e.g. at different customers, and at one customer there may be development, test, preprod, prod instances)\r\n\r\nThe system configuration is a list of `ConfigArtefact&lt;T&gt;`, where T indicates that it might be a database connection configuration, or a predefined-query, or.... \r\n\r\nConfigArtefacts are named. The names are semantically meaningful/well-known (e.g there could be an object for &quot;Console.translations.en&quot;, &quot;Console.translations.fr&quot;) or &quot;Application.Database.connection.credentials&quot;, &quot;Reporting.Database.connection.credentials&quot;) and are distinct for each deployment- no two different ConfigArtefacts will have the same name for a given deployment\r\n\r\nConfigArtefacts have other attributes (e.g. for the database, username and password) depending on the type used for `&lt;T&gt;`. The value of the attributes could be different in different deployments of this system.\r\n\r\nThere&#39;s no natural ordering of artefacts, even ones of the same type `&lt;T&gt;`. Where some arbitrary ordering is needed, I use the name.\r\n\r\nGoal:\r\n\r\nI need to write something that compares the configuration of two deployments of this system and identify Artifacts that have been added, removed, or changed. In order to find the same artefact on each deployment, I need to compare by name only (I always know what type of artefact I&#39;m working with). In order to say if they&#39;ve changed, I need to compare by all other attributes.\r\n\r\nSo, two kinds of comparison. One can be modelled with equals/hashcode, but not the other. Which should use equals()? (I think the one by name, as then added and deleted are just set subtraction, using one of the many collection libraries).\r\n\r\nWould that be the normal choice? And if so, is there a conventional name for the other (&quot;full compare&quot;) one? I&#39;m considering `identicalTo()` (so two objects are changed if `one.identicalTo(two)` is false)\r\n\r\n\r\n\r\n","title":"What to do for objects that are equal but not identical?","body":"<p>This is either a Java coding design question, or a domain modelling question, I'm not sure yet!</p>\n<p>Background, simplified as I can't share all the detail:</p>\n<p>The system I'm working on is deployed in multiple instances (e.g. at different customers, and at one customer there may be development, test, preprod, prod instances)</p>\n<p>The system configuration is a list of <code>ConfigArtefact&lt;T&gt;</code>, where T indicates that it might be a database connection configuration, or a predefined-query, or....</p>\n<p>ConfigArtefacts are named. The names are semantically meaningful/well-known (e.g there could be an object for &quot;Console.translations.en&quot;, &quot;Console.translations.fr&quot;) or &quot;Application.Database.connection.credentials&quot;, &quot;Reporting.Database.connection.credentials&quot;) and are distinct for each deployment- no two different ConfigArtefacts will have the same name for a given deployment</p>\n<p>ConfigArtefacts have other attributes (e.g. for the database, username and password) depending on the type used for <code>&lt;T&gt;</code>. The value of the attributes could be different in different deployments of this system.</p>\n<p>There's no natural ordering of artefacts, even ones of the same type <code>&lt;T&gt;</code>. Where some arbitrary ordering is needed, I use the name.</p>\n<p>Goal:</p>\n<p>I need to write something that compares the configuration of two deployments of this system and identify Artifacts that have been added, removed, or changed. In order to find the same artefact on each deployment, I need to compare by name only (I always know what type of artefact I'm working with). In order to say if they've changed, I need to compare by all other attributes.</p>\n<p>So, two kinds of comparison. One can be modelled with equals/hashcode, but not the other. Which should use equals()? (I think the one by name, as then added and deleted are just set subtraction, using one of the many collection libraries).</p>\n<p>Would that be the normal choice? And if so, is there a conventional name for the other (&quot;full compare&quot;) one? I'm considering <code>identicalTo()</code> (so two objects are changed if <code>one.identicalTo(two)</code> is false)</p>\n"},{"tags":["java","eclipse","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647187318,"post_id":71458355,"comment_id":126302856,"body_markdown":"Nothing being added to the empty Set...","body":"Nothing being added to the empty Set..."},{"owner":{"account_id":24545016,"reputation":1,"user_id":18455002,"display_name":"Mariah Sowunmi"},"score":0,"creation_date":1647192362,"post_id":71458355,"comment_id":126304180,"body_markdown":"My bad. Im a beginner. Thank you, I added to the set but Im still receiving the same error. Will update my code","body":"My bad. Im a beginner. Thank you, I added to the set but Im still receiving the same error. Will update my code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647192694,"post_id":71458355,"comment_id":126304244,"body_markdown":"Your `if` block is empty. What are your intentions? A method called `doesWordExist` (method names begin lower case in Java) implies a `boolean` return value, yet you return the `Set` you filled...","body":"Your <code>if</code> block is empty. What are your intentions? A method called <code>doesWordExist</code> (method names begin lower case in Java) implies a <code>boolean</code> return value, yet you return the <code>Set</code> you filled..."},{"owner":{"account_id":24545016,"reputation":1,"user_id":18455002,"display_name":"Mariah Sowunmi"},"score":0,"creation_date":1647192992,"post_id":71458355,"comment_id":126304326,"body_markdown":"Im trying to use the hash set to store the dictionary text file and read from it to check if the words (String s) are in the set aka the dictionary. If the word is in there the score should stay the same (why I left it empty) else the score should decrease by 5. I was prompted by eclipse to remove the void which I meant I had to add a return statement.","body":"Im trying to use the hash set to store the dictionary text file and read from it to check if the words (String s) are in the set aka the dictionary. If the word is in there the score should stay the same (why I left it empty) else the score should decrease by 5. I was prompted by eclipse to remove the void which I meant I had to add a return statement."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647193724,"post_id":71458355,"comment_id":126304511,"body_markdown":"Then you need to return the new review score. You can&#39;t alter the one you pass as Java passes parameters by value. You *could* pass a `Review` object and have the method act upon its &#39;score&#39; attribute. At the moment, be aware that 5 is being subtracted for every word in the dictionary until `s` is found. And the algorithm is possibly otherwise dubious","body":"Then you need to return the new review score. You can&#39;t alter the one you pass as Java passes parameters by value. You <i>could</i> pass a <code>Review</code> object and have the method act upon its &#39;score&#39; attribute. At the moment, be aware that 5 is being subtracted for every word in the dictionary until <code>s</code> is found. And the algorithm is possibly otherwise dubious"}],"owner":{"account_id":24545016,"reputation":1,"user_id":18455002,"display_name":"Mariah Sowunmi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647192407,"creation_date":1647186295,"question_id":71458355,"body_markdown":"Im trying a dictionary text file and return said result if the word is found or not. But its not reading it I&#39;ve been trying to find solutions for 3 days. Ive tried moving my dictionary file to main/java and using get class.get resource. Below is my code\r\n\r\n    public static HashSet &lt;String&gt; DoesWordExist(int ReviewScore, String s) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\tHashSet&lt;String&gt; set = new HashSet&lt;&gt;();\r\n\t\t\t\r\n\t\t\ttry (var resource = Review.class.getResourceAsStream(&quot;resources/dictionary/dictionary.txt&quot;)){\r\n\t\t\t\ttry (Scanner sc = new Scanner(resource)) {\r\n\t\t\t\t\twhile (sc.hasNextLine()) {\r\n\t\t\t\t\t\t set.add(sc.next());\r\n\t\t\t\t\t\t\t   // Reading dictionary\r\n\t\t\t\t\t\t\t\t  if (set.contains (s)) { // Checking word is in dictionary\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tReviewScore -= 5;\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore); // each word that is not found due to either typo or non-existence deduct 5pts\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tcatch (IOException e) {\r\n\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\treturn set;\r\n\r\n\t\t\t}\r\n\r\n[hierarchy][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1QMZX.png","title":"SPRINGBOOT- Reading textile as input stream. Null pointer exception","body":"<p>Im trying a dictionary text file and return said result if the word is found or not. But its not reading it I've been trying to find solutions for 3 days. Ive tried moving my dictionary file to main/java and using get class.get resource. Below is my code</p>\n<pre><code>public static HashSet &lt;String&gt; DoesWordExist(int ReviewScore, String s) {\n            // TODO Auto-generated method stub\n            \n            \n            \n        HashSet&lt;String&gt; set = new HashSet&lt;&gt;();\n        \n        try (var resource = Review.class.getResourceAsStream(&quot;resources/dictionary/dictionary.txt&quot;)){\n            try (Scanner sc = new Scanner(resource)) {\n                while (sc.hasNextLine()) {\n                     set.add(sc.next());\n                           // Reading dictionary\n                              if (set.contains (s)) { // Checking word is in dictionary\n                            \n                              }\n                        else {\n                            ReviewScore -= 5;\n                            System.out.println(&quot;Score is &quot;+ ReviewScore); // each word that is not found due to either typo or non-existence deduct 5pts\n                        }\n                        \n                    }\n            } \n            }\n                \n            catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n        return set;\n\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1QMZX.png\" rel=\"nofollow noreferrer\">hierarchy</a></p>\n"},{"tags":["java","multithreading","synchronization"],"answers":[{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572566730,"creation_date":1572559235,"answer_id":58651692,"question_id":58651619,"body_markdown":"&gt; But what if I want to have two different threads of the same class, which run different methods of this class? I can only override the run method once, so do I have to make a distinction of for example the name of the thread in order to run the right method?\r\n\r\nYou need to distinguish between threads of execution and the code being executed. You can have a single `Runnable` with a single `run()`, and have 1000 threads execute that `Runnable`. That means that you have 1000 threads executing the same code, although you could have just a single `Runnable` instance for all of them.\r\n\r\n&gt; I want to have two Threads wich run the methods printNewState() and setValue(12) simultaneously, each one in a different thread.\r\n\r\nYou could do something like this. Note I&#39;m using lambdas to create the `Runnables`:\r\n\r\n    PrintState ps = new ...\r\n    Thread t1 = new Thread(ps::printNewState); //t1 will call printNewState\r\n    Thread t2 = new Thread(() -&gt; ps.setValue(12)); //t2 will call setValue(12)\r\n    t1.start();\r\n    t2.start();\r\n","title":"How to run different Methods of same class in different threads?","body":"<blockquote>\n  <p>But what if I want to have two different threads of the same class, which run different methods of this class? I can only override the run method once, so do I have to make a distinction of for example the name of the thread in order to run the right method?</p>\n</blockquote>\n\n<p>You need to distinguish between threads of execution and the code being executed. You can have a single <code>Runnable</code> with a single <code>run()</code>, and have 1000 threads execute that <code>Runnable</code>. That means that you have 1000 threads executing the same code, although you could have just a single <code>Runnable</code> instance for all of them.</p>\n\n<blockquote>\n  <p>I want to have two Threads wich run the methods printNewState() and setValue(12) simultaneously, each one in a different thread.</p>\n</blockquote>\n\n<p>You could do something like this. Note I'm using lambdas to create the <code>Runnables</code>:</p>\n\n<pre><code>PrintState ps = new ...\nThread t1 = new Thread(ps::printNewState); //t1 will call printNewState\nThread t2 = new Thread(() -&gt; ps.setValue(12)); //t2 will call setValue(12)\nt1.start();\nt2.start();\n</code></pre>\n"}],"owner":{"account_id":16144258,"reputation":30,"user_id":11654458,"display_name":"Zepcon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58651692,"answer_count":1,"score":0,"last_activity_date":1647191917,"creation_date":1572558841,"question_id":58651619,"body_markdown":"I am trying to understand the way of how to implement threads in java.  \r\nRight now I know that you can use the interface `runnable` with the run method to implement Threads.  \r\n  \r\nBut what if I want to have two different threads of the same class, which run different methods of this class? I can only override the run method once, so do I have to make a distinction of for example the name of the thread in order to run the right method?\r\n\r\n```java\r\npublic class PrintState {\r\n\tprivate int state = 0;\r\n\r\n\tpublic synchronized void printNewState() throws InterruptedException {\r\n\t\twait();\r\n\t\tSystem.out.println(state);\r\n\t}\r\n\r\n\tpublic synchronized void setValue(int v) {\r\n\t\tstate = v;\r\n\t\tnotify();\r\n\t\tSystem.out.println(&quot;value set&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nI want to have two Threads which run the methods `printNewState()` and `setValue(12)` simultaneously, each one in a different thread.  \r\nHow do I implement the `run()` method and the threads in a main-method in order to achieve this?  \r\nThe result later should be:  \r\n`value set`  \r\n`12`\r\n","title":"How to run different Methods of same class in different threads?","body":"<p>I am trying to understand the way of how to implement threads in java.<br />\nRight now I know that you can use the interface <code>runnable</code> with the run method to implement Threads.</p>\n<p>But what if I want to have two different threads of the same class, which run different methods of this class? I can only override the run method once, so do I have to make a distinction of for example the name of the thread in order to run the right method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrintState {\n    private int state = 0;\n\n    public synchronized void printNewState() throws InterruptedException {\n        wait();\n        System.out.println(state);\n    }\n\n    public synchronized void setValue(int v) {\n        state = v;\n        notify();\n        System.out.println(&quot;value set&quot;);\n    }\n}\n</code></pre>\n<p>I want to have two Threads which run the methods <code>printNewState()</code> and <code>setValue(12)</code> simultaneously, each one in a different thread.<br />\nHow do I implement the <code>run()</code> method and the threads in a main-method in order to achieve this?<br />\nThe result later should be:<br />\n<code>value set</code><br />\n<code>12</code></p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647151582,"post_id":71453882,"comment_id":126295858,"body_markdown":"Have you read &quot;https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy &quot; ??","body":"Have you read &quot;<a href=\"https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy\" rel=\"nofollow noreferrer\">docs.gradle.org/7.2/dsl/&hellip;</a> &quot; ??"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1647160364,"post_id":71453882,"comment_id":126297119,"body_markdown":"See also https://stackoverflow.com/a/68922734/8203759","body":"See also <a href=\"https://stackoverflow.com/a/68922734/8203759\">stackoverflow.com/a/68922734/8203759</a>"}],"answers":[{"tags":[],"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647191621,"creation_date":1647191621,"answer_id":71459037,"question_id":71453882,"body_markdown":"Answer from @Konstantin Annikov\r\nIn the Build.Gradle of my application I added \r\n```\r\n duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n```\r\nTo exclude this duplication, and it then built my program successfully. \r\n","title":"I get this error when building my application with Gradle, task faled at &#39;:Jar&#39;","body":"<p>Answer from @Konstantin Annikov\nIn the Build.Gradle of my application I added</p>\n<pre><code> duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n</code></pre>\n<p>To exclude this duplication, and it then built my program successfully.</p>\n"}],"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71459037,"answer_count":1,"score":-1,"last_activity_date":1647191621,"creation_date":1647136851,"question_id":71453882,"body_markdown":"Whenever I try to &#39;build&#39; my program  from Gradle, I get this error. Previous to this error, I had an error that was telling me my openJDK17 did not fit with the program. I then had it run a option to fix this error, but I do not remember what option I chose. \r\n\r\nThis is on a VM that is running Ubuntu. I have Docker installed/in use as well.  \r\n```\r\nExecution failed for task &#39;:jar&#39;.\r\n&gt; Entry Log4j-config.xsd is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n```\r\n","title":"I get this error when building my application with Gradle, task faled at &#39;:Jar&#39;","body":"<p>Whenever I try to 'build' my program  from Gradle, I get this error. Previous to this error, I had an error that was telling me my openJDK17 did not fit with the program. I then had it run a option to fix this error, but I do not remember what option I chose.</p>\n<p>This is on a VM that is running Ubuntu. I have Docker installed/in use as well.</p>\n<pre><code>Execution failed for task ':jar'.\n&gt; Entry Log4j-config.xsd is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\n</code></pre>\n"},{"tags":["java","swing","mouseevent","trigonometry"],"comments":[{"owner":{"account_id":19159097,"reputation":2505,"user_id":13995311,"display_name":"Jakub D&#243;ka"},"score":2,"creation_date":1647185733,"post_id":71458266,"comment_id":126302460,"body_markdown":"Check out `atan2` function in math","body":"Check out <code>atan2</code> function in math"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1647186238,"post_id":71458266,"comment_id":126302599,"body_markdown":"The y-axis goes from top to bottom in Swing, where the top-left corner is (0,0)","body":"The y-axis goes from top to bottom in Swing, where the top-left corner is (0,0)"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647191015,"creation_date":1647188750,"answer_id":71458676,"question_id":71458266,"body_markdown":"You can do it like this.\r\n- For a window size of `500x500`, top left being at point `0,0` and bottom right being at `500,500`.\r\n- The tangent is the change in `Y` over the change in `X` of two points. Also known as the slope it is the ratio of the `sin` to `cos` of a specific angle. To find that angle, the `arctan` (`Math.atan` or `Math.atan2`) can be used.  The second method takes two arguments and is used below.\r\n\r\n```\r\nBiFunction&lt;Point2D, Point2D, Double&gt; angle = (c,\r\n\t\tm) -&gt; (Math.toDegrees(Math.atan2(c.getY() - m.getY(),\r\n\t\t\t\tc.getX() - m.getX())) + 270)%360;\r\n\t\t\r\nBiFunction&lt;Point2D, Point2D, Double&gt; distance = (c,\r\n\t\t\t\tm) -&gt; Math.hypot(c.getY() - m.getY(),\r\n\t\t\t\t\t\tc.getX() - m.getX());\r\n\t\t\t\t\r\nint screenWidth = 500;\r\nint screenHeight = 500;\r\nint ctrY = screenHeight/2;\r\nint ctrX = screenWidth/2;\r\n\r\nPoint2D center = new Point2D.Double(ctrX,ctrY );\r\n\r\nPoint2D mouse = new Point2D.Double(ctrX, ctrY-100);\r\ndouble straightAbove = angle.apply(center, mouse);\r\nSystem.out.println(&quot;StraightAbove: &quot; + straightAbove);\r\n\r\nmouse = new Point2D.Double(ctrX+100, ctrY);\r\ndouble straightRight = angle.apply(center, mouse);\r\nSystem.out.println(&quot;StraightRight: &quot; + straightRight);\r\n\r\nmouse = new Point2D.Double(ctrX, ctrY+100);\r\ndouble straightBelow = angle.apply(center, mouse);\r\nSystem.out.println(&quot;StraightBelow: &quot; + straightBelow);\r\n\r\nmouse = new Point2D.Double(ctrX-100, ctrY);\r\ndouble straightLeft = angle.apply(center, mouse);\r\nSystem.out.println(&quot;Straightleft: &quot; + straightLeft);\r\n\t  \r\n```\r\nprints\r\n```\r\nStraightAbove: 0.0\r\nStraightRight: 90.0\r\nStraightBelow: 180.0\r\nStraightleft: 270.0\r\n```\r\nI converted the radian output from `Math.atan2` to degrees. For your application it may be more convenient to leave them in radians.\r\n\r\nHere is a similar `Function` to find the distance using `Math.hypot`\r\n```\r\nBiFunction&lt;Point2D, Point2D, Double&gt; distance = (c,m) -&gt;\r\n             Math.hypot(c.getY() - m.getY(),\r\n\t\t\t\t\t\tc.getX() - m.getX());\r\n``` ","title":"Java Swing - Calculating what angle the mouse position is to the center of the screen","body":"<p>You can do it like this.</p>\n<ul>\n<li>For a window size of <code>500x500</code>, top left being at point <code>0,0</code> and bottom right being at <code>500,500</code>.</li>\n<li>The tangent is the change in <code>Y</code> over the change in <code>X</code> of two points. Also known as the slope it is the ratio of the <code>sin</code> to <code>cos</code> of a specific angle. To find that angle, the <code>arctan</code> (<code>Math.atan</code> or <code>Math.atan2</code>) can be used.  The second method takes two arguments and is used below.</li>\n</ul>\n<pre><code>BiFunction&lt;Point2D, Point2D, Double&gt; angle = (c,\n        m) -&gt; (Math.toDegrees(Math.atan2(c.getY() - m.getY(),\n                c.getX() - m.getX())) + 270)%360;\n        \nBiFunction&lt;Point2D, Point2D, Double&gt; distance = (c,\n                m) -&gt; Math.hypot(c.getY() - m.getY(),\n                        c.getX() - m.getX());\n                \nint screenWidth = 500;\nint screenHeight = 500;\nint ctrY = screenHeight/2;\nint ctrX = screenWidth/2;\n\nPoint2D center = new Point2D.Double(ctrX,ctrY );\n\nPoint2D mouse = new Point2D.Double(ctrX, ctrY-100);\ndouble straightAbove = angle.apply(center, mouse);\nSystem.out.println(&quot;StraightAbove: &quot; + straightAbove);\n\nmouse = new Point2D.Double(ctrX+100, ctrY);\ndouble straightRight = angle.apply(center, mouse);\nSystem.out.println(&quot;StraightRight: &quot; + straightRight);\n\nmouse = new Point2D.Double(ctrX, ctrY+100);\ndouble straightBelow = angle.apply(center, mouse);\nSystem.out.println(&quot;StraightBelow: &quot; + straightBelow);\n\nmouse = new Point2D.Double(ctrX-100, ctrY);\ndouble straightLeft = angle.apply(center, mouse);\nSystem.out.println(&quot;Straightleft: &quot; + straightLeft);\n      \n</code></pre>\n<p>prints</p>\n<pre><code>StraightAbove: 0.0\nStraightRight: 90.0\nStraightBelow: 180.0\nStraightleft: 270.0\n</code></pre>\n<p>I converted the radian output from <code>Math.atan2</code> to degrees. For your application it may be more convenient to leave them in radians.</p>\n<p>Here is a similar <code>Function</code> to find the distance using <code>Math.hypot</code></p>\n<pre><code>BiFunction&lt;Point2D, Point2D, Double&gt; distance = (c,m) -&gt;\n             Math.hypot(c.getY() - m.getY(),\n                        c.getX() - m.getX());\n</code></pre>\n"}],"owner":{"account_id":20952722,"reputation":121,"user_id":15394010,"display_name":"devor110"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71458676,"answer_count":1,"score":0,"last_activity_date":1647191015,"creation_date":1647185655,"question_id":71458266,"body_markdown":"I&#39;m making a 2D topdown view shooter game with Java Swing. I want to calculate what angle the mouse pointer is compared to the center of the screen so some of my Sprites can look toward the pointer and so that I can create projectiles described by an angle and a speed. Additionally If the pointer is straight above the middle of the screen, I want my angle to be 0&#176;, if straight to its right, 90&#176;, if straight below 180&#176;, and straight left 270&#176;. \r\n  \r\nI have made a function to calculate this:  \r\n  \r\n```java\r\npublic static float calculateMouseToPlayerAngle(float x, float y){\r\n        float mouseX = (float) MouseInfo.getPointerInfo().getLocation().getX();\r\n        float mouseY = (float)MouseInfo.getPointerInfo().getLocation().getY();\r\n        float hypotenuse = (float) Point2D.distance(mouseX, mouseY, x, y);\r\n        return (float)(Math.acos(Math.abs(mouseY-y)/hypotenuse)*(180/Math.PI));\r\n    }\r\n```\r\n\r\nThe idea behind it is that I calculate the length of the hypotenuse then the length of the side opposite of the angle in question. The fraction of the 2 should be a `cos` of my angle, so taking that result&#39;s `arc cos` then multiplying that by 180/Pi should give me the angle in degrees. This does work for above and to the right, but straight below returns 0 and straight left returns 90. That means that I currently have 2 problems where the domain of my output is only [0,90] instead of [0,360) and that it&#39;s mirrored through the y (height) axis. Where did I screw up? ","title":"Java Swing - Calculating what angle the mouse position is to the center of the screen","body":"<p>I'm making a 2D topdown view shooter game with Java Swing. I want to calculate what angle the mouse pointer is compared to the center of the screen so some of my Sprites can look toward the pointer and so that I can create projectiles described by an angle and a speed. Additionally If the pointer is straight above the middle of the screen, I want my angle to be 0°, if straight to its right, 90°, if straight below 180°, and straight left 270°.</p>\n<p>I have made a function to calculate this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static float calculateMouseToPlayerAngle(float x, float y){\n        float mouseX = (float) MouseInfo.getPointerInfo().getLocation().getX();\n        float mouseY = (float)MouseInfo.getPointerInfo().getLocation().getY();\n        float hypotenuse = (float) Point2D.distance(mouseX, mouseY, x, y);\n        return (float)(Math.acos(Math.abs(mouseY-y)/hypotenuse)*(180/Math.PI));\n    }\n</code></pre>\n<p>The idea behind it is that I calculate the length of the hypotenuse then the length of the side opposite of the angle in question. The fraction of the 2 should be a <code>cos</code> of my angle, so taking that result's <code>arc cos</code> then multiplying that by 180/Pi should give me the angle in degrees. This does work for above and to the right, but straight below returns 0 and straight left returns 90. That means that I currently have 2 problems where the domain of my output is only [0,90] instead of [0,360) and that it's mirrored through the y (height) axis. Where did I screw up?</p>\n"},{"tags":["java","android","user-interface","button","slider"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1645076394,"post_id":71152889,"comment_id":125775872,"body_markdown":"set touch listener on the button and check touch contains an area of the button bounds.","body":"set touch listener on the button and check touch contains an area of the button bounds."},{"owner":{"account_id":19651912,"reputation":43,"user_id":14385491,"display_name":"levi"},"score":0,"creation_date":1645092315,"post_id":71152889,"comment_id":125780814,"body_markdown":"@EAS I tried to use setOnTouchListener, but it did not do anything different. how can i check if it contains the area of the button bounds?","body":"@EAS I tried to use setOnTouchListener, but it did not do anything different. how can i check if it contains the area of the button bounds?"}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645094756,"creation_date":1645094756,"answer_id":71156644,"question_id":71152889,"body_markdown":"you have to create it manually\r\n\r\n\r\n    public Rect btn1Rect= new Rect((int) btn1.getX(), (int) btn1.getY(), (int) btn1.getX() + btn1.getWidth(), (int) btn1.getY() + btn1.getHeight()); //bound of button 1\r\n\r\n\r\n    View.OnTouchListener buttonTouch = new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            int action = event.getActionMasked();\r\n            int x= (int) event.getRawX(),y= (int) event.getRawY();\r\n    \r\n            switch (action) {\r\n                case MotionEvent.ACTION_DOWN:\r\n    \r\n                    break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                    if(btn1Rect.contains(x,y)){\r\n                        Log.d(TAG, &quot;onTouch: your touch contains btn1 bound&quot;);\r\n                    }\r\n                        break;\r\n                case MotionEvent.ACTION_UP:\r\n                    break;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    };\r\n\r\nmake sure that set touch listener to your buttons and remove click listener from it.\r\n","title":"press sequence of buttons by sliding the finger on them?","body":"<p>you have to create it manually</p>\n<pre><code>public Rect btn1Rect= new Rect((int) btn1.getX(), (int) btn1.getY(), (int) btn1.getX() + btn1.getWidth(), (int) btn1.getY() + btn1.getHeight()); //bound of button 1\n\n\nView.OnTouchListener buttonTouch = new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        int action = event.getActionMasked();\n        int x= (int) event.getRawX(),y= (int) event.getRawY();\n\n        switch (action) {\n            case MotionEvent.ACTION_DOWN:\n\n                break;\n            case MotionEvent.ACTION_MOVE:\n                if(btn1Rect.contains(x,y)){\n                    Log.d(TAG, &quot;onTouch: your touch contains btn1 bound&quot;);\n                }\n                    break;\n            case MotionEvent.ACTION_UP:\n                break;\n        }\n\n        return true;\n    }\n};\n</code></pre>\n<p>make sure that set touch listener to your buttons and remove click listener from it.</p>\n"}],"owner":{"account_id":19651912,"reputation":43,"user_id":14385491,"display_name":"levi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647190777,"creation_date":1645075368,"question_id":71152889,"body_markdown":"I have a 2 dimensional recyclerview that contains buttons. \r\nwhen the user **clicks** on the button it changes the layout color to green and vice versa.\r\n\r\nI&#39;m trying to add a feature that allows the user to slide the finger on the buttons row, and make the buttons get pressed.\r\ncouldn&#39;t find documentation about it.\r\nI don&#39;t want to use slider widget because I would like to keep the buttons formation.\r\nany ideas? \r\n\r\n[![enter image description here][1]][1]\r\n\r\nthanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F5JJl.png\r\n\r\n\r\nThis is my setOnClickListener for the button ( the button is a circular layout):\r\n\r\n\r\n        holder.linearLayout.setOnClickListener(new View.OnClickListener() {\r\n            Intent intent = new Intent(mContext,WorkoutInterface.class);\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(isPressed[0] ==false){//check if the button is already pressed\r\n                    isPressed[0] =true;\r\n                    actualReps+=1;// add rep count to the actual reps variable\r\n                    if(workout.pressedButtons==null){//save the number of presses in list\r\n                        workout.pressedButtons=&quot;&quot;;\r\n                    }else {\r\n                        workout.pressedButtons+=&quot;,&quot;+String.valueOf(verticalIndex) + String.valueOf(position);\r\n                        buttonColorCheck(holder, position, verticalIndex);//if button is pressed in the past, keep it green\r\n                    }\r\n                }else{\r\n                    holder.linearLayout.setBackgroundColor(Color.argb(255,166, 172, 175) );\r\n                    isPressed[0] =false;\r\n                    actualReps-=1;\r\n                    changeButtonStatus(String.valueOf(verticalIndex)+String.valueOf(position));\r\n                    \r\n                }\r\n            }\r\n        });\r\n\r\n","title":"press sequence of buttons by sliding the finger on them?","body":"<p>I have a 2 dimensional recyclerview that contains buttons.\nwhen the user <strong>clicks</strong> on the button it changes the layout color to green and vice versa.</p>\n<p>I'm trying to add a feature that allows the user to slide the finger on the buttons row, and make the buttons get pressed.\ncouldn't find documentation about it.\nI don't want to use slider widget because I would like to keep the buttons formation.\nany ideas?</p>\n<p><a href=\"https://i.stack.imgur.com/F5JJl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F5JJl.png\" alt=\"enter image description here\" /></a></p>\n<p>thanks</p>\n<p>This is my setOnClickListener for the button ( the button is a circular layout):</p>\n<pre><code>    holder.linearLayout.setOnClickListener(new View.OnClickListener() {\n        Intent intent = new Intent(mContext,WorkoutInterface.class);\n        @Override\n        public void onClick(View v) {\n            if(isPressed[0] ==false){//check if the button is already pressed\n                isPressed[0] =true;\n                actualReps+=1;// add rep count to the actual reps variable\n                if(workout.pressedButtons==null){//save the number of presses in list\n                    workout.pressedButtons=&quot;&quot;;\n                }else {\n                    workout.pressedButtons+=&quot;,&quot;+String.valueOf(verticalIndex) + String.valueOf(position);\n                    buttonColorCheck(holder, position, verticalIndex);//if button is pressed in the past, keep it green\n                }\n            }else{\n                holder.linearLayout.setBackgroundColor(Color.argb(255,166, 172, 175) );\n                isPressed[0] =false;\n                actualReps-=1;\n                changeButtonStatus(String.valueOf(verticalIndex)+String.valueOf(position));\n                \n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","android","file","resources"],"comments":[{"owner":{"account_id":146433,"reputation":50504,"user_id":356895,"accept_rate":66,"display_name":"JJD"},"score":0,"creation_date":1381243195,"post_id":4081763,"comment_id":28496739,"body_markdown":"Consider using [Apache Commons](http://commons.apache.org/proper/commons-io/). Search for `IOUtils` there.","body":"Consider using <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons</a>. Search for <code>IOUtils</code> there."}],"answers":[{"tags":[],"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1288734501,"creation_date":1288732775,"answer_id":4082182,"question_id":4081763,"body_markdown":"If you have a file in `res/raw/textfile.txt` from your Activity/Widget call:\r\n\r\n`getResources().openRawResource(...)` returns an `InputStream`\r\n\r\nThe dots should actually be an integer found in R.raw... corresponding to your filename, possibly `R.raw.textfile` (it&#39;s usually the name of the file without extension)\r\n\r\n`new BufferedInputStream(getResources().openRawResource(...));` then read the content of the file as a stream","title":"Access resource files in Android","body":"<p>If you have a file in <code>res/raw/textfile.txt</code> from your Activity/Widget call:</p>\n\n<p><code>getResources().openRawResource(...)</code> returns an <code>InputStream</code></p>\n\n<p>The dots should actually be an integer found in R.raw... corresponding to your filename, possibly <code>R.raw.textfile</code> (it's usually the name of the file without extension)</p>\n\n<p><code>new BufferedInputStream(getResources().openRawResource(...));</code> then read the content of the file as a stream</p>\n"}],"owner":{"account_id":198211,"reputation":101,"user_id":442743,"accept_rate":50,"display_name":"Selzier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93820,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":4082182,"answer_count":1,"score":40,"last_activity_date":1647190734,"creation_date":1288729328,"question_id":4081763,"body_markdown":"I have a resource file in my /res/raw/ folder (/res/raw/textfile.txt) which I am trying to read from my android app for processing.\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t    File file = new File(&quot;res/raw/textfile.txt&quot;);\r\n\t    \r\n\t    FileInputStream fis = null;\r\n\t    BufferedInputStream bis = null;\r\n\t    DataInputStream dis = null;\r\n\r\n\t    try {\r\n\t      fis = new FileInputStream(file);\r\n\t      bis = new BufferedInputStream(fis);\r\n\t      dis = new DataInputStream(bis);\r\n\r\n\t      while (dis.available() != 0) {\r\n                  // Do something with file\r\n\t    \t  Log.d(&quot;GAME&quot;, dis.readLine()); \r\n\t      }\r\n\r\n\t      fis.close();\r\n\t      bis.close();\r\n\t      dis.close();\r\n\r\n\t    } catch (FileNotFoundException e) {\r\n\t      e.printStackTrace();\r\n\t    } catch (IOException e) {\r\n\t      e.printStackTrace();\r\n\t    }\r\n\t  }\r\n\r\nI have tried different path syntax but always get a **java.io.FileNotFoundException** error. How can I access /res/raw/textfile.txt for processing? Is **File file = new File(&quot;res/raw/textfile.txt&quot;);** the wrong method in Android?\r\n\r\n\r\n\r\n________________\r\n\r\n***** Answer: *****\r\n\r\n    // Call the LoadText method and pass it the resourceId\r\n    LoadText(R.raw.textfile);\r\n           \r\n    public void LoadText(int resourceId) {\r\n        // The InputStream opens the resourceId and sends it to the buffer\r\n        InputStream is = this.getResources().openRawResource(resourceId);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n        String readLine = null;\r\n    \t\r\n        try {\r\n            // While the BufferedReader readLine is not null \r\n            while ((readLine = br.readLine()) != null) {\r\n                Log.d(&quot;TEXT&quot;, readLine);\r\n            }\r\n    \r\n            // Close the InputStream and BufferedReader\r\n            is.close();\r\n            br.close();\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nNote this will return nothing, but will print the contents line by line as a `DEBUG` string in the log.","title":"Access resource files in Android","body":"<p>I have a resource file in my /res/raw/ folder (/res/raw/textfile.txt) which I am trying to read from my android app for processing.</p>\n<pre><code>public static void main(String[] args) {\n\n    File file = new File(&quot;res/raw/textfile.txt&quot;);\n    \n    FileInputStream fis = null;\n    BufferedInputStream bis = null;\n    DataInputStream dis = null;\n\n    try {\n      fis = new FileInputStream(file);\n      bis = new BufferedInputStream(fis);\n      dis = new DataInputStream(bis);\n\n      while (dis.available() != 0) {\n              // Do something with file\n          Log.d(&quot;GAME&quot;, dis.readLine()); \n      }\n\n      fis.close();\n      bis.close();\n      dis.close();\n\n    } catch (FileNotFoundException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n</code></pre>\n<p>I have tried different path syntax but always get a <strong>java.io.FileNotFoundException</strong> error. How can I access /res/raw/textfile.txt for processing? Is <strong>File file = new File(&quot;res/raw/textfile.txt&quot;);</strong> the wrong method in Android?</p>\n<hr />\n<p>***** Answer: *****</p>\n<pre><code>// Call the LoadText method and pass it the resourceId\nLoadText(R.raw.textfile);\n       \npublic void LoadText(int resourceId) {\n    // The InputStream opens the resourceId and sends it to the buffer\n    InputStream is = this.getResources().openRawResource(resourceId);\n    BufferedReader br = new BufferedReader(new InputStreamReader(is));\n    String readLine = null;\n    \n    try {\n        // While the BufferedReader readLine is not null \n        while ((readLine = br.readLine()) != null) {\n            Log.d(&quot;TEXT&quot;, readLine);\n        }\n\n        // Close the InputStream and BufferedReader\n        is.close();\n        br.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Note this will return nothing, but will print the contents line by line as a <code>DEBUG</code> string in the log.</p>\n"},{"tags":["java","memory-management","jvm","stack"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1647189434,"post_id":71458675,"comment_id":126303404,"body_markdown":"Why are you confused? You haven&#39;t shown any code. But when the last reference of an object goes out of scope **it is *eligible*** for GC. The method that it is in (or that it is even in a method) is immaterial. It could be in a block in a method. **Count** the references. When the count is 0 it is eligible for garbage collection. Exactly when the references will be counted is an implementation detail.","body":"Why are you confused? You haven&#39;t shown any code. But when the last reference of an object goes out of scope <b>it is <i>eligible</i></b> for GC. The method that it is in (or that it is even in a method) is immaterial. It could be in a block in a method. <b>Count</b> the references. When the count is 0 it is eligible for garbage collection. Exactly when the references will be counted is an implementation detail."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1647190341,"post_id":71458675,"comment_id":126303635,"body_markdown":"@ElliottFrisch I&#39;m not aware of any JVMs that implement garbage collection using reference counting.","body":"@ElliottFrisch I&#39;m not aware of any JVMs that implement garbage collection using reference counting."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1647191565,"post_id":71458675,"comment_id":126303958,"body_markdown":"@boneill But a perfect garbage collector **could**. I interpret the question as when &quot;objects will become eligible for garbage collection&quot;; and that&#39;s when they&#39;re eligible.","body":"@boneill But a perfect garbage collector <b>could</b>. I interpret the question as when &quot;objects will become eligible for garbage collection&quot;; and that&#39;s when they&#39;re eligible."}],"answers":[{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647190094,"creation_date":1647190094,"answer_id":71458857,"question_id":71458675,"body_markdown":"Think of the thread call stack as a doubly linked list of stack frame nodes. Each node references all the local variables for a given method, and these in turn reference any live objects. The GC root for the thread is essentially the head node of the linked list, and garbage collection traces the nodes that are still linked, thus finding all live objects. When a method returns, the tail node of the linked list is removed, and thus it&#39;s not discoverable by GC anymore.\r\n\r\nIn practice, the call stack isn&#39;t implemented this way, but the behavior is essentially the same.","title":"Garbage collection of objects created locally in a method","body":"<p>Think of the thread call stack as a doubly linked list of stack frame nodes. Each node references all the local variables for a given method, and these in turn reference any live objects. The GC root for the thread is essentially the head node of the linked list, and garbage collection traces the nodes that are still linked, thus finding all live objects. When a method returns, the tail node of the linked list is removed, and thus it's not discoverable by GC anymore.</p>\n<p>In practice, the call stack isn't implemented this way, but the behavior is essentially the same.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647190567,"creation_date":1647190567,"answer_id":71458911,"question_id":71458675,"body_markdown":"Method local objects are eligible for garbage collection as soon as they stop being used, whether or not the method is finished.\r\n\r\nMethods really have almost nothing to do with garbage collection.","title":"Garbage collection of objects created locally in a method","body":"<p>Method local objects are eligible for garbage collection as soon as they stop being used, whether or not the method is finished.</p>\n<p>Methods really have almost nothing to do with garbage collection.</p>\n"}],"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647190567,"creation_date":1647188744,"question_id":71458675,"body_markdown":"I think if an object gets created locally within a method and is never leaked outside then that object will be eligible for garbage collection as soon as that method executed is completed.\r\n\r\nBut I am confused because I read that there are 4 GC roots - and one of then is the thread object, so I am confused that is it the case that method local objects will become eligible for garbage collection only when the thread in which it got created is complete and the GC Root of that thread is taken off?\r\n\r\nAlso, if someone can throw some light on how method local objects are linked to stack area of the heap.\r\n\r\nPLEASE NOTE that I have read about GC of method local objects but nowhere I got a clear and detailed answer so I raised this question.","title":"Garbage collection of objects created locally in a method","body":"<p>I think if an object gets created locally within a method and is never leaked outside then that object will be eligible for garbage collection as soon as that method executed is completed.</p>\n<p>But I am confused because I read that there are 4 GC roots - and one of then is the thread object, so I am confused that is it the case that method local objects will become eligible for garbage collection only when the thread in which it got created is complete and the GC Root of that thread is taken off?</p>\n<p>Also, if someone can throw some light on how method local objects are linked to stack area of the heap.</p>\n<p>PLEASE NOTE that I have read about GC of method local objects but nowhere I got a clear and detailed answer so I raised this question.</p>\n"},{"tags":["java","recursion","ascii-art"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647139548,"creation_date":1647139548,"answer_id":71454033,"question_id":71453993,"body_markdown":"Currently, when you should end the recursion at your base case you don&#39;t. Basically, change\r\n\r\n    if( n == 0 ) \r\n        System.out.println(&quot;&quot;);\r\n\r\nto\r\n\r\n\tif (n == 0) {\r\n\t\tSystem.out.println();\r\n\t\treturn; // Add this. Otherwise your code will recurse forever.\r\n\t}\r\n\r\n\r\n","title":"Print an upside down triangle recursively","body":"<p>Currently, when you should end the recursion at your base case you don't. Basically, change</p>\n<pre><code>if( n == 0 ) \n    System.out.println(&quot;&quot;);\n</code></pre>\n<p>to</p>\n<pre><code>if (n == 0) {\n    System.out.println();\n    return; // Add this. Otherwise your code will recurse forever.\n}\n</code></pre>\n"}],"owner":{"account_id":21535358,"reputation":35,"user_id":15874030,"display_name":"Wolf Of Media"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71454033,"answer_count":1,"score":-1,"last_activity_date":1647190224,"creation_date":1647138926,"question_id":71453993,"body_markdown":"I am trying to figure out how to print an upside-down triangle recursively, using only one for-loop. I keep getting an error. I&#39;m able to print the first row but I&#39;m having a hard time recalling the function to print the remaining rows and decrementing n. \r\n\r\n\r\n```\r\n    public static void printTriangle (int n) {\r\n        if( n == 0 ) \r\n            System.out.println(&quot;&quot;);\r\n        for (int i = n; i &gt;0; i--) {\r\n            System.out.print(&quot;*&quot;);    \r\n        }\r\n        System.out.println();\r\n        printTriangle(n-1);\r\n    }\r\n```","title":"Print an upside down triangle recursively","body":"<p>I am trying to figure out how to print an upside-down triangle recursively, using only one for-loop. I keep getting an error. I'm able to print the first row but I'm having a hard time recalling the function to print the remaining rows and decrementing n.</p>\n<pre><code>    public static void printTriangle (int n) {\n        if( n == 0 ) \n            System.out.println(&quot;&quot;);\n        for (int i = n; i &gt;0; i--) {\n            System.out.print(&quot;*&quot;);    \n        }\n        System.out.println();\n        printTriangle(n-1);\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647189329,"creation_date":1520828419,"answer_id":49228115,"question_id":49227730,"body_markdown":"You already set the title of the marker here:\r\n\r\n    markerOptions.title(title);\r\n\r\nAs the doc says: https://developers.google.com/android/reference/com/google/android/gms/maps/model/MarkerOptions\r\n\r\n       String getTitle()\r\n        Gets the title set for this MarkerOptions object.\r\n\r\n\r\nYou can use `markerOptions.getTitle()` to get the title of that marker, and it will be stored as String.\r\n\r\nSo, you can do this:\r\n\r\n     public void addMarker(LatLng latlng, final String title) {\r\n        markerOptions.position(latlng);\r\n        markerOptions.title(title);\r\n        final String TimeNot = markerOptions.getTitle();\r\n","title":"How pass marker title to String","body":"<p>You already set the title of the marker here:</p>\n<pre><code>markerOptions.title(title);\n</code></pre>\n<p>As the doc says: <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/MarkerOptions\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/maps/model/MarkerOptions</a></p>\n<pre><code>   String getTitle()\n    Gets the title set for this MarkerOptions object.\n</code></pre>\n<p>You can use <code>markerOptions.getTitle()</code> to get the title of that marker, and it will be stored as String.</p>\n<p>So, you can do this:</p>\n<pre><code> public void addMarker(LatLng latlng, final String title) {\n    markerOptions.position(latlng);\n    markerOptions.title(title);\n    final String TimeNot = markerOptions.getTitle();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8278643,"reputation":14,"user_id":6223988,"display_name":"kIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520858424,"creation_date":1520858424,"answer_id":49235501,"question_id":49227730,"body_markdown":"  Try **markerOptions.getTitle()** to get the title of the marker\r\n\r\n  \r\n\r\n    public void addMarker(LatLng latlng, final String title) {\r\n        markerOptions.position(latlng);\r\n        markerOptions.title(title);\r\n        final String TimeNot = markerOptions.getTitle();\r\n\r\nor\r\n--\r\n\r\n \r\n\r\n     public void addMarker(LatLng latlng, final String title) {\r\n        markerOptions.position(latlng);\r\n        markerOptions.title(title);\r\n        final String TimeNot = title;","title":"How pass marker title to String","body":"<p>Try <strong>markerOptions.getTitle()</strong> to get the title of the marker</p>\n\n<pre><code>public void addMarker(LatLng latlng, final String title) {\n    markerOptions.position(latlng);\n    markerOptions.title(title);\n    final String TimeNot = markerOptions.getTitle();\n</code></pre>\n\n<h2>or</h2>\n\n<pre><code> public void addMarker(LatLng latlng, final String title) {\n    markerOptions.position(latlng);\n    markerOptions.title(title);\n    final String TimeNot = title;\n</code></pre>\n"}],"owner":{"account_id":12578239,"reputation":1,"user_id":9149901,"accept_rate":50,"display_name":"Andres Arango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647189329,"creation_date":1520824980,"question_id":49227730,"body_markdown":"I built an app with google maps, that displays 40 markers titles loaded from MySQL, and I need to convert `marker.title` into a string\r\n\r\nI tried the following but couldn&#39;t get it to work:\r\n\r\n     public void addMarker(LatLng latlng, final String title) {\r\n        markerOptions.position(latlng);\r\n        markerOptions.title(title);\r\n        final String TimeNot = String.valueOf(markerOptions.title(title));\r\n\r\n\r\n\r\n","title":"How pass marker title to String","body":"<p>I built an app with google maps, that displays 40 markers titles loaded from MySQL, and I need to convert <code>marker.title</code> into a string</p>\n\n<p>I tried the following but couldn't get it to work:</p>\n\n<pre><code> public void addMarker(LatLng latlng, final String title) {\n    markerOptions.position(latlng);\n    markerOptions.title(title);\n    final String TimeNot = String.valueOf(markerOptions.title(title));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647189045,"creation_date":1647189045,"answer_id":71458716,"question_id":71457784,"body_markdown":"Basically, you&#39;ll need to implement your own `AuthenticationProvider` &#39;s `authenticate` method, and register this provider.\r\n\r\n```\r\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n  // Get user details from authentication\r\n  MyCustomAuthentication customAuthentication = new MyCustomAuthentication();\r\n  customAuthentication.setPrincipal(yourPrincipal);\r\n  return customAuthentication;\r\n}\r\n```\r\n\r\nThen you can use `@AuthenticationPrincipal` at Controller methods ","title":"Custom principle extractor from OAuth2 resource server","body":"<p>Basically, you'll need to implement your own <code>AuthenticationProvider</code> 's <code>authenticate</code> method, and register this provider.</p>\n<pre><code>public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n  // Get user details from authentication\n  MyCustomAuthentication customAuthentication = new MyCustomAuthentication();\n  customAuthentication.setPrincipal(yourPrincipal);\n  return customAuthentication;\n}\n</code></pre>\n<p>Then you can use <code>@AuthenticationPrincipal</code> at Controller methods</p>\n"}],"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647189045,"creation_date":1647182278,"question_id":71457784,"body_markdown":"I&#39;m trying to implement a custom principle extractor for my web application. I have a different application for the authentication and from that, I&#39;m validating the token that im passing. For the token validation im using `/oauth/check_token` path mapping. From internally this API is giving the below response once the token is valid.\r\n\r\n    {\r\n    &quot;user_id&quot;: 13,\r\n    &quot;user_name&quot;: &quot;test@gmail.com&quot;,\r\n    &quot;scope&quot;: [\r\n        &quot;read&quot;,\r\n        &quot;write&quot;\r\n    ],\r\n    &quot;active&quot;: true,\r\n    &quot;exp&quot;: 1649874072,\r\n    &quot;authorities&quot;: [\r\n        &quot;ROLE_ADMIN&quot;,\r\n        &quot;ROLE_USER&quot;,\r\n    ],\r\n    &quot;client_id&quot;: &quot;test&quot;}\r\nI have customized this request and added the user_id key value from the authentication app. I want to get this user-id value from the `@AuthenticationPrincipal Principal principal`. from this principle object I&#39;m only getting logged user username. I want to use the custom principle to extract this user id from the check_token API. Currently, I&#39;m trying to implement a principle extractor from this [refernce][1] but I&#39;m unable to extract the user id from the check_token API. Any help would be great.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-security-oauth-principal-authorities-extractor","title":"Custom principle extractor from OAuth2 resource server","body":"<p>I'm trying to implement a custom principle extractor for my web application. I have a different application for the authentication and from that, I'm validating the token that im passing. For the token validation im using <code>/oauth/check_token</code> path mapping. From internally this API is giving the below response once the token is valid.</p>\n<pre><code>{\n&quot;user_id&quot;: 13,\n&quot;user_name&quot;: &quot;test@gmail.com&quot;,\n&quot;scope&quot;: [\n    &quot;read&quot;,\n    &quot;write&quot;\n],\n&quot;active&quot;: true,\n&quot;exp&quot;: 1649874072,\n&quot;authorities&quot;: [\n    &quot;ROLE_ADMIN&quot;,\n    &quot;ROLE_USER&quot;,\n],\n&quot;client_id&quot;: &quot;test&quot;}\n</code></pre>\n<p>I have customized this request and added the user_id key value from the authentication app. I want to get this user-id value from the <code>@AuthenticationPrincipal Principal principal</code>. from this principle object I'm only getting logged user username. I want to use the custom principle to extract this user id from the check_token API. Currently, I'm trying to implement a principle extractor from this <a href=\"https://www.baeldung.com/spring-security-oauth-principal-authorities-extractor\" rel=\"nofollow noreferrer\">refernce</a> but I'm unable to extract the user id from the check_token API. Any help would be great.</p>\n"},{"tags":["java","maven","visual-studio-code","maven-dependency","djl"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647188909,"creation_date":1647188909,"answer_id":71458705,"question_id":71457274,"body_markdown":"You can always download the jar files stored in the Maven repository and put them manually on your classpath.  \r\n\r\nRemember to do so recursively for all artifacts referred to until you have all the jar files that Maven would have downloaded for you.\r\n\r\nFor instance if you need commons lang you can get 2.1 from https://search.maven.org/artifact/org.mod4j.org.apache.commons/lang/2.1.0/jar - note the Downloads link in the upper right.\r\n\r\nYou might find it easier to rework what you have into being a Maven project, so your tooling does it for you.","title":"How do I add a Maven dependency in VS Code for a simple Java project (i.e. an unmanaged folder without any build tools)?","body":"<p>You can always download the jar files stored in the Maven repository and put them manually on your classpath.</p>\n<p>Remember to do so recursively for all artifacts referred to until you have all the jar files that Maven would have downloaded for you.</p>\n<p>For instance if you need commons lang you can get 2.1 from <a href=\"https://search.maven.org/artifact/org.mod4j.org.apache.commons/lang/2.1.0/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.mod4j.org.apache.commons/lang/2.1.0/jar</a> - note the Downloads link in the upper right.</p>\n<p>You might find it easier to rework what you have into being a Maven project, so your tooling does it for you.</p>\n"}],"owner":{"account_id":22205967,"reputation":3,"user_id":16445870,"display_name":"alex-gdv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71458705,"answer_count":1,"score":0,"last_activity_date":1647188909,"creation_date":1647178579,"question_id":71457274,"body_markdown":"I&#39;m trying to build an AI model for the [Mario-AI-Framework][1] using the [Deep Java Library][2] (DJL). I&#39;m using VS Code with the Java extension, as this is part of a larger project, mainly in Python. Now I have a Pytorch model trained and ready to go but I need the DJL Pytorch engine to load it in Java. The problem is, the only info I can find on how to import this thing uses [Maven][3] or they build it from source using [Gradle][4]. I&#39;m not used to working with Java projects and importing libraries so I&#39;m at a complete lost here. If anyone could point me in the right direction I would appreciate it.\r\n\r\n\r\n  [1]: https://github.com/amidos2006/Mario-AI-Framework\r\n  [2]: https://github.com/deepjavalibrary/djl/\r\n  [3]: https://towardsdatascience.com/pytorch-model-in-deep-java-library-a9ca18d8ce51#:~:text=1%20%3A%20Get%20all%20the%20required%20maven%20dependencies.%20DJL%20supports%20pytorch%20models%20out%20of%20the%20box.%20SLF4J%20is%20for%20logging%20purposes.\r\n  [4]: https://docs.djl.ai/#:~:text=Initial%20release%20(Code)-,Building%20From%20Source,-%C2%B6","title":"How do I add a Maven dependency in VS Code for a simple Java project (i.e. an unmanaged folder without any build tools)?","body":"<p>I'm trying to build an AI model for the <a href=\"https://github.com/amidos2006/Mario-AI-Framework\" rel=\"nofollow noreferrer\">Mario-AI-Framework</a> using the <a href=\"https://github.com/deepjavalibrary/djl/\" rel=\"nofollow noreferrer\">Deep Java Library</a> (DJL). I'm using VS Code with the Java extension, as this is part of a larger project, mainly in Python. Now I have a Pytorch model trained and ready to go but I need the DJL Pytorch engine to load it in Java. The problem is, the only info I can find on how to import this thing uses <a href=\"https://towardsdatascience.com/pytorch-model-in-deep-java-library-a9ca18d8ce51#:%7E:text=1%20%3A%20Get%20all%20the%20required%20maven%20dependencies.%20DJL%20supports%20pytorch%20models%20out%20of%20the%20box.%20SLF4J%20is%20for%20logging%20purposes.\" rel=\"nofollow noreferrer\">Maven</a> or they build it from source using <a href=\"https://docs.djl.ai/#:%7E:text=Initial%20release%20(Code)-,Building%20From%20Source,-%C2%B6\" rel=\"nofollow noreferrer\">Gradle</a>. I'm not used to working with Java projects and importing libraries so I'm at a complete lost here. If anyone could point me in the right direction I would appreciate it.</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646980625,"post_id":71434497,"comment_id":126262149,"body_markdown":"This is an example of recursion.","body":"This is an example of recursion."}],"answers":[{"tags":[],"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647188626,"creation_date":1646980956,"answer_id":71434568,"question_id":71434497,"body_markdown":"Focusing reply on your question around `result` being incremented.\r\nThis is the code you mentioned:\r\n\r\n        int result = 0;\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            if (target &gt;= nums[i]) {\r\n                result += combinations(nums, dp, target - nums[i]);\r\n            }\r\n        }\r\n        dp[target] = result;\r\n\r\nThere is a `for` loop that increments `i` from `0` to `nums.length-1`. For each such `i`, if this condition is met `(target &gt;= nums[i])`, then `result` is updated by each call to `combinations(nums, dp, target - nums[i])`. You can see from the signature that `combinations()` returns an `int` value.\r\n\r\nWhen `dp[target] = result` is reached, the `result` has sum of the values returned by each of the calls to `combinations()`.\r\n\r\nThe following code may help you. It counts the total even numbers between `1` to `n`. I wrote it to match the flavor of recursion used in your post. Hope it helps.\r\n\r\n    public class SumDemo {\r\n        int checkEven(int n) {\r\n            return (n % 2 == 0) ? 1 : 0;\r\n        }\r\n    \r\n        int countEven(int n) {\r\n            int result = 0;\r\n            for (int i = 1; i &lt;=n; i++) {\r\n                result += checkEven(i);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SumDemo demo = new SumDemo();\r\n            System.out.println(demo.countEven(10));\r\n        }\r\n    }\r\n\r\n    Result:\r\n    5\r\n\r\n(Since there are 5 even numbers between 1 to 10 (both inclusive)): 2, 4, 6, 8, 10\r\n","title":"Leetcode #377 Dynamic Programming Logic Question","body":"<p>Focusing reply on your question around <code>result</code> being incremented.\nThis is the code you mentioned:</p>\n<pre><code>    int result = 0;\n    for (int i = 0; i &lt; nums.length; i++) {\n        if (target &gt;= nums[i]) {\n            result += combinations(nums, dp, target - nums[i]);\n        }\n    }\n    dp[target] = result;\n</code></pre>\n<p>There is a <code>for</code> loop that increments <code>i</code> from <code>0</code> to <code>nums.length-1</code>. For each such <code>i</code>, if this condition is met <code>(target &gt;= nums[i])</code>, then <code>result</code> is updated by each call to <code>combinations(nums, dp, target - nums[i])</code>. You can see from the signature that <code>combinations()</code> returns an <code>int</code> value.</p>\n<p>When <code>dp[target] = result</code> is reached, the <code>result</code> has sum of the values returned by each of the calls to <code>combinations()</code>.</p>\n<p>The following code may help you. It counts the total even numbers between <code>1</code> to <code>n</code>. I wrote it to match the flavor of recursion used in your post. Hope it helps.</p>\n<pre><code>public class SumDemo {\n    int checkEven(int n) {\n        return (n % 2 == 0) ? 1 : 0;\n    }\n\n    int countEven(int n) {\n        int result = 0;\n        for (int i = 1; i &lt;=n; i++) {\n            result += checkEven(i);\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        SumDemo demo = new SumDemo();\n        System.out.println(demo.countEven(10));\n    }\n}\n\nResult:\n5\n</code></pre>\n<p>(Since there are 5 even numbers between 1 to 10 (both inclusive)): 2, 4, 6, 8, 10</p>\n"}],"owner":{"account_id":21012969,"reputation":33,"user_id":15441166,"display_name":"unsaturatedgoods1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71434568,"answer_count":1,"score":0,"last_activity_date":1647188626,"creation_date":1646980494,"question_id":71434497,"body_markdown":"I have been struggling to comprehend one of the discussion solutions shown from [LC #377](https://leetcode.com/problems/combination-sum-iv/). I&#39;m not grasping how result is being incremented. I can see that there is the line: \r\n\r\n&gt; result += combinations(nums, dp, target - nums[i])\r\n\r\nwhich obviously is incrementing result, but *how exactly is result being incremented?* All I can see that is result is initialized to 0 then the line is executed if that if condition is satisfied, so wouldn&#39;t the line: \r\n\r\n&gt; dp[target] = result\r\n\r\nalways be set to 0?. Really struggling comprehending, so would appreciate any help.\r\n\r\nCode:\r\n\r\n    class Solution {\r\n    public int combinationSum4(int[] nums, int target) {\r\n        int[] dp = new int[target + 1];\r\n        Arrays.fill(dp, -1);\r\n        dp[0] = 1;\r\n        return combinations(nums, dp, target);\r\n    }\r\n    \r\n    public int combinations(int[] nums, int[] dp, int target) {\r\n        if (dp[target] != -1) {\r\n            return dp[target];\r\n        }\r\n        int result = 0;\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            if (target &gt;= nums[i]) {\r\n                result += combinations(nums, dp, target - nums[i]);\r\n            }\r\n        }\r\n        dp[target] = result;\r\n        return result;\r\n    }\r\n}","title":"Leetcode #377 Dynamic Programming Logic Question","body":"<p>I have been struggling to comprehend one of the discussion solutions shown from <a href=\"https://leetcode.com/problems/combination-sum-iv/\" rel=\"nofollow noreferrer\">LC #377</a>. I'm not grasping how result is being incremented. I can see that there is the line:</p>\n<blockquote>\n<p>result += combinations(nums, dp, target - nums[i])</p>\n</blockquote>\n<p>which obviously is incrementing result, but <em>how exactly is result being incremented?</em> All I can see that is result is initialized to 0 then the line is executed if that if condition is satisfied, so wouldn't the line:</p>\n<blockquote>\n<p>dp[target] = result</p>\n</blockquote>\n<p>always be set to 0?. Really struggling comprehending, so would appreciate any help.</p>\n<p>Code:</p>\n<pre><code>class Solution {\npublic int combinationSum4(int[] nums, int target) {\n    int[] dp = new int[target + 1];\n    Arrays.fill(dp, -1);\n    dp[0] = 1;\n    return combinations(nums, dp, target);\n}\n\npublic int combinations(int[] nums, int[] dp, int target) {\n    if (dp[target] != -1) {\n        return dp[target];\n    }\n    int result = 0;\n    for (int i = 0; i &lt; nums.length; i++) {\n        if (target &gt;= nums[i]) {\n            result += combinations(nums, dp, target - nums[i]);\n        }\n    }\n    dp[target] = result;\n    return result;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["javascript","java","spring","stomp","stompjs"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647188546,"creation_date":1647188546,"answer_id":71458651,"question_id":71456518,"body_markdown":"When a STOMP client sends a `MESSAGE` frame it usually won&#39;t get any response back from the broker at all. However, it *may* get back a [`RECEIPT` frame][1] if the `MESSAGE` frame included the `receipt` header. You aren&#39;t setting this header so you shouldn&#39;t expect any response back from the broker.\r\n\r\nIf you wanted to get some kind of application-specific response then you would need to create a subsriber in your JavaScript app and the server-side app would need to send a message to wherever that consumer was listening. This is the classic [request/reply messaging pattern][2].\r\n\r\n\r\n  [1]: https://stomp.github.io/stomp-specification-1.2.html#RECEIPT\r\n  [2]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html","title":"stompjs how to get status after sending message","body":"<p>When a STOMP client sends a <code>MESSAGE</code> frame it usually won't get any response back from the broker at all. However, it <em>may</em> get back a <a href=\"https://stomp.github.io/stomp-specification-1.2.html#RECEIPT\" rel=\"nofollow noreferrer\"><code>RECEIPT</code> frame</a> if the <code>MESSAGE</code> frame included the <code>receipt</code> header. You aren't setting this header so you shouldn't expect any response back from the broker.</p>\n<p>If you wanted to get some kind of application-specific response then you would need to create a subsriber in your JavaScript app and the server-side app would need to send a message to wherever that consumer was listening. This is the classic <a href=\"https://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html\" rel=\"nofollow noreferrer\">request/reply messaging pattern</a>.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71458651,"answer_count":1,"score":1,"last_activity_date":1647188546,"creation_date":1647172688,"question_id":71456518,"body_markdown":"i&#39;m creating a chat application with spring boot websocket, STOMP and stompjs, here is my js code:\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n        //some code\r\n\r\n        //send message\r\n        stompClient.send(&quot;/app/chat.sendMessage&quot;, {}, JSON.stringify(chatMessage));\r\n    &lt;/script&gt;\r\n\r\nBackend code:\r\n\r\n    @MessageMapping(&quot;/chat.sendMessage&quot;)\r\n    public MessageDTO sendMessage(@Payload MessageDTO chatMessage) {\r\n        //HERE\r\n        if(!validatorService.validate(chatMessage)) {\r\n            throw new RuntimeException(&quot;invalid&quot;);\r\n        }\r\n        messagingTemplate.convertAndSend(&quot;/topic/public&quot;, chatMessage);\r\n        return chatMessage;\r\n    }\r\n\r\nYou can see I return the message. In js side is there anyway to receive this object, something like\r\n\r\n    stompClient.send(&quot;/app/chat.sendMessage&quot;, {}, JSON.stringify(chatMessage), callback);","title":"stompjs how to get status after sending message","body":"<p>i'm creating a chat application with spring boot websocket, STOMP and stompjs, here is my js code:</p>\n<pre><code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n    //some code\n\n    //send message\n    stompClient.send(&quot;/app/chat.sendMessage&quot;, {}, JSON.stringify(chatMessage));\n&lt;/script&gt;\n</code></pre>\n<p>Backend code:</p>\n<pre><code>@MessageMapping(&quot;/chat.sendMessage&quot;)\npublic MessageDTO sendMessage(@Payload MessageDTO chatMessage) {\n    //HERE\n    if(!validatorService.validate(chatMessage)) {\n        throw new RuntimeException(&quot;invalid&quot;);\n    }\n    messagingTemplate.convertAndSend(&quot;/topic/public&quot;, chatMessage);\n    return chatMessage;\n}\n</code></pre>\n<p>You can see I return the message. In js side is there anyway to receive this object, something like</p>\n<pre><code>stompClient.send(&quot;/app/chat.sendMessage&quot;, {}, JSON.stringify(chatMessage), callback);\n</code></pre>\n"},{"tags":["java","macos","javafx"],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647181580,"creation_date":1647181580,"answer_id":71457687,"question_id":71457627,"body_markdown":"Instead of creating your own stage you should use the primaryStage provide to you. Why don&#39;t you just start with a working template from one of the many sources? And what is your stage going to show anyway? It contains just a scene with an empty group.","title":"Java FX stage show function not working on mac","body":"<p>Instead of creating your own stage you should use the primaryStage provide to you. Why don't you just start with a working template from one of the many sources? And what is your stage going to show anyway? It contains just a scene with an empty group.</p>\n"},{"tags":[],"owner":{"account_id":24544251,"reputation":3,"user_id":18454341,"display_name":"AyaJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647188525,"creation_date":1647186800,"answer_id":71458417,"question_id":71457627,"body_markdown":"After 5 hours of googling I found it. You need to go to Run-&gt;Run configurations-&gt;Argument and to uncheck &quot;Use the -XstartOnFirstThread argument when launching with SWT&quot;","title":"Java FX stage show function not working on mac","body":"<p>After 5 hours of googling I found it. You need to go to Run-&gt;Run configurations-&gt;Argument and to uncheck &quot;Use the -XstartOnFirstThread argument when launching with SWT&quot;</p>\n"}],"owner":{"account_id":24544251,"reputation":3,"user_id":18454341,"display_name":"AyaJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1647188525,"creation_date":1647181124,"question_id":71457627,"body_markdown":"I hope somebody will be able to help me with this : I&#39;m on macOS and even though I put stage.show() at the end of my start method, when I run my program a strange &quot;java&quot; folder appears at the bottom but I can&#39;t open it nor close it\r\n\r\n    public class Main extends Application {\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception {\r\n\t\t\r\n\t\tGroup root = new Group();\r\n\t\tScene scene = new Scene(root);\r\n\t\tStage stage = new Stage();\r\n\t\t\r\n\t\t\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t}\r\n}\r\n\r\nIs there a way to fix this ? ","title":"Java FX stage show function not working on mac","body":"<p>I hope somebody will be able to help me with this : I'm on macOS and even though I put stage.show() at the end of my start method, when I run my program a strange &quot;java&quot; folder appears at the bottom but I can't open it nor close it</p>\n<pre><code>public class Main extends Application {\n\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage primaryStage) throws Exception {\n    \n    Group root = new Group();\n    Scene scene = new Scene(root);\n    Stage stage = new Stage();\n    \n    \n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n<p>Is there a way to fix this ?</p>\n"},{"tags":["java","spring-boot","encoding","utf-8","http-headers"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647111409,"post_id":71452225,"comment_id":126293043,"body_markdown":"Perhaps you should post your intended result.","body":"Perhaps you should post your intended result."},{"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"score":0,"creation_date":1647111726,"post_id":71452225,"comment_id":126293058,"body_markdown":"I want the response should have (I&#39;m using this ) instead of (I���m using this)","body":"I want the response should have (I&#39;m using this ) instead of (I���m using this)"},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1647121404,"post_id":71452225,"comment_id":126294097,"body_markdown":"Maybe your _apostrophe_ is `‘` (U+2018,  *Left Single Quotation Mark*), UTF-8 byte sequence `&#39;\\xe2\\x80\\x98&#39;`?","body":"Maybe your <i>apostrophe</i> is <code>‘</code> (U+2018,  <i>Left Single Quotation Mark</i>), UTF-8 byte sequence <code>&#39;\\xe2\\x80\\x98&#39;</code>?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647186980,"post_id":71452225,"comment_id":126302785,"body_markdown":"Regarding _&quot;Basically &#39; is getting encoded as ���&quot;_, that is definitely not the case. Instead, &#39; is getting _rendered_ as ���. Those black diamonds are [replacement characters](https://www.fileformat.info/info/unicode/char/fffd/index.htm), and are being shown because your output contains unrecognized characters which cannot be displayed. That in itself doesn&#39;t solve your problem at all, but it is essential for properly understanding it.","body":"Regarding <i>&quot;Basically &#39; is getting encoded as ���&quot;</i>, that is definitely not the case. Instead, &#39; is getting <i>rendered</i> as ���. Those black diamonds are <a href=\"https://www.fileformat.info/info/unicode/char/fffd/index.htm\" rel=\"nofollow noreferrer\">replacement characters</a>, and are being shown because your output contains unrecognized characters which cannot be displayed. That in itself doesn&#39;t solve your problem at all, but it is essential for properly understanding it."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1647191217,"post_id":71452225,"comment_id":126303853,"body_markdown":"Did you really use that character? By the way, `I’m` in json would be `I&#226;€™m`.","body":"Did you really use that character? By the way, <code>I’m</code> in json would be <code>I&#226;€™m</code>."}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647188450,"creation_date":1647109569,"question_id":71452225,"body_markdown":"The desired response that I need to return from my API is (I’m) but instead of this I am getting I���m.\r\nBasically &#39; is getting encoded as ���. \r\nThe response of the API is coming from a JSON file.\r\nWhen I run the API on my localhost it is giving desired response, but on an open-shift cluster where it is deployed I am getting ���.\r\n\r\nTo be clear:\r\n- My desired output is **`I’m`**\r\n- My actual output is **`I���m`**\r\n\r\nIn my Spring Boot Application, for this API I have made the HTTP Headers as \r\n\r\n    httpHeaders.add(HttpHeaders.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;);\r\n\r\nbut still the encoding is not resolved.\r\n\r\nAny suggestions on how to make this work?","title":"Character &#39; getting encoded to ��� in Java","body":"<p>The desired response that I need to return from my API is (I’m) but instead of this I am getting I���m.\nBasically ' is getting encoded as ���.\nThe response of the API is coming from a JSON file.\nWhen I run the API on my localhost it is giving desired response, but on an open-shift cluster where it is deployed I am getting ���.</p>\n<p>To be clear:</p>\n<ul>\n<li>My desired output is <strong><code>I’m</code></strong></li>\n<li>My actual output is <strong><code>I���m</code></strong></li>\n</ul>\n<p>In my Spring Boot Application, for this API I have made the HTTP Headers as</p>\n<pre><code>httpHeaders.add(HttpHeaders.CONTENT_TYPE, &quot;application/json; charset=UTF-8&quot;);\n</code></pre>\n<p>but still the encoding is not resolved.</p>\n<p>Any suggestions on how to make this work?</p>\n"},{"tags":["java","java-stream","unordered"],"comments":[{"owner":{"account_id":9635091,"reputation":12808,"user_id":7151494,"display_name":"Fureeish"},"score":7,"creation_date":1647175125,"post_id":71456757,"comment_id":126300121,"body_markdown":"Why do you think that your example &quot;doesn&#39;t agree&quot; with the quote? There is no guarantee that it will return `25000000`. Neither there is a guarantee that it *won&#39;t* simply return `25000000`, given the nature of your stream.","body":"Why do you think that your example &quot;doesn&#39;t agree&quot; with the quote? There is no guarantee that it will return <code>25000000</code>. Neither there is a guarantee that it <i>won&#39;t</i> simply return <code>25000000</code>, given the nature of your stream."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647177837,"post_id":71456757,"comment_id":126300698,"body_markdown":"Your code works correctly. It should return some element from your list, and so it does. You have no guarantees beyond that. This also means that *theoretically* with the next Java version it may behave differently. I’d be surprised if it does, but it’s not to be ruled out.","body":"Your code works correctly. It should return some element from your list, and so it does. You have no guarantees beyond that. This also means that <i>theoretically</i> with the next Java version it may behave differently. I’d be surprised if it does, but it’s not to be ruled out."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1647179709,"post_id":71456757,"comment_id":126301091,"body_markdown":"*unordered* does not imply *shuffled*.","body":"<i>unordered</i> does not imply <i>shuffled</i>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647187361,"creation_date":1647183213,"answer_id":71457915,"question_id":71456757,"body_markdown":"Unordered simply says &quot;don&#39;t bother ordering this stream.&quot; It is there to prevent final ordering operations that are unnecessary and therefore might incur additional overhead and impact performance. An example of how this might be used would be joining different pieces of an ordered stream in a parallel operation. For an ordered stream, having to wait for certain threads to finish processing to preserve order could take longer than if the output of each thread was used as it finished.\r\n\r\nBut as was said/implied in the comments, no operation goes out of its way to change the order of the stream unless it is specifically directed to (e.g. sort). The output of a sort operation would be marked as ordered because order preservation is required.\r\n\r\nStreams are initially ordered as values are placed on the stream as they are encountered.\r\n```\r\nint ch = IntStream.range(0,2).unordered().spliterator().characteristics();\r\nSystem.out.println(ch&amp;Spliterator.ORDERED);\r\n```\r\nprints `0` so ordered bit not set\r\n\r\nSet&#39;s are unordered data structures so sorting forces them to be ordered.\r\n```\r\nint ch =Set.of(1,2,3,4,5).stream().sorted().spliterator().characteristics();\r\nSystem.out.println(ch&amp;Spliterator.ORDERED);\r\n```\r\nprints `16` so ordered bit (bit 4) is set.\r\n\t    ","title":"Why does an unordered sequential stream always return the same thing to me when it shouldn&#39;t?","body":"<p>Unordered simply says &quot;don't bother ordering this stream.&quot; It is there to prevent final ordering operations that are unnecessary and therefore might incur additional overhead and impact performance. An example of how this might be used would be joining different pieces of an ordered stream in a parallel operation. For an ordered stream, having to wait for certain threads to finish processing to preserve order could take longer than if the output of each thread was used as it finished.</p>\n<p>But as was said/implied in the comments, no operation goes out of its way to change the order of the stream unless it is specifically directed to (e.g. sort). The output of a sort operation would be marked as ordered because order preservation is required.</p>\n<p>Streams are initially ordered as values are placed on the stream as they are encountered.</p>\n<pre><code>int ch = IntStream.range(0,2).unordered().spliterator().characteristics();\nSystem.out.println(ch&amp;Spliterator.ORDERED);\n</code></pre>\n<p>prints <code>0</code> so ordered bit not set</p>\n<p>Set's are unordered data structures so sorting forces them to be ordered.</p>\n<pre><code>int ch =Set.of(1,2,3,4,5).stream().sorted().spliterator().characteristics();\nSystem.out.println(ch&amp;Spliterator.ORDERED);\n</code></pre>\n<p>prints <code>16</code> so ordered bit (bit 4) is set.</p>\n"}],"owner":{"account_id":24543348,"reputation":15,"user_id":18453536,"display_name":"JackStar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":71457915,"answer_count":1,"score":-4,"last_activity_date":1647187361,"creation_date":1647174467,"question_id":71456757,"body_markdown":"```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; 100_000_000; i++) {\r\n    list.add(i);\r\n}\r\n\r\n\r\nlist.stream().unordered().limit(50_000_000).skip(25_000_000).findFirst().ifPresent(System.out::println); // 25000000 always\r\n```\r\n\r\n&gt; For **sequential** streams, the presence or absence of an encounter order does not affect performance, **only determinism**.\r\n\r\nBut no matter how many times I run this code, I always get the same result, which does not agree with the above statement. Why? ","title":"Why does an unordered sequential stream always return the same thing to me when it shouldn&#39;t?","body":"<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; 100_000_000; i++) {\n    list.add(i);\n}\n\n\nlist.stream().unordered().limit(50_000_000).skip(25_000_000).findFirst().ifPresent(System.out::println); // 25000000 always\n</code></pre>\n<blockquote>\n<p>For <strong>sequential</strong> streams, the presence or absence of an encounter order does not affect performance, <strong>only determinism</strong>.</p>\n</blockquote>\n<p>But no matter how many times I run this code, I always get the same result, which does not agree with the above statement. Why?</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1647180897,"post_id":71457386,"comment_id":126301345,"body_markdown":"You will need to run a load balancer in front of your instances (e.g. traefik)","body":"You will need to run a load balancer in front of your instances (e.g. traefik)"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1647195746,"post_id":71457386,"comment_id":126305013,"body_markdown":"Each pod has its own ip number.","body":"Each pod has its own ip number."}],"answers":[{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647186825,"creation_date":1647186825,"answer_id":71458420,"question_id":71457386,"body_markdown":"You would not use different listening ports, each pod has a dedicated IP address (Pod IP) and therefore the container can use whatever port is desired.\r\n\r\nThe kubernetes concept of a _Service_ aggregates all Pods (using labels as criteria) and load balances tcp connections across all pods.\r\n\r\nIn order to access the service externally you can use an _Ingress_ or _LoadBalancer_.","title":"Multiple instances of java web app share the same route","body":"<p>You would not use different listening ports, each pod has a dedicated IP address (Pod IP) and therefore the container can use whatever port is desired.</p>\n<p>The kubernetes concept of a <em>Service</em> aggregates all Pods (using labels as criteria) and load balances tcp connections across all pods.</p>\n<p>In order to access the service externally you can use an <em>Ingress</em> or <em>LoadBalancer</em>.</p>\n"}],"owner":{"account_id":8602812,"reputation":769,"user_id":7390103,"display_name":"Spaceship222"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647186825,"creation_date":1647179323,"question_id":71457386,"body_markdown":"Suppose I have a java web app which has a endpoint `/hello`, I want to start multi instance of the web app at the same time which can be achieved by using different listening port on each instance.   \r\n\r\nBut what I want is that all instances can share same route, i.e. when I make a request to `http://lcoalhost/hello`, it will automatically (load balance)route to one of multi instances. Why I want this is that when deploying micro service by k8s, we can have many pods for one application and these pods share single service(i.e single delicated url)\r\n\r\nIn java, is there any way to achieve this?","title":"Multiple instances of java web app share the same route","body":"<p>Suppose I have a java web app which has a endpoint <code>/hello</code>, I want to start multi instance of the web app at the same time which can be achieved by using different listening port on each instance.</p>\n<p>But what I want is that all instances can share same route, i.e. when I make a request to <code>http://lcoalhost/hello</code>, it will automatically (load balance)route to one of multi instances. Why I want this is that when deploying micro service by k8s, we can have many pods for one application and these pods share single service(i.e single delicated url)</p>\n<p>In java, is there any way to achieve this?</p>\n"},{"tags":["java","elasticsearch","osgi-bundle","bnd","maven-bundle-plugin"],"owner":{"account_id":16636145,"reputation":69,"user_id":12022768,"display_name":"kurious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647185227,"creation_date":1647185227,"question_id":71458210,"body_markdown":"I want to convert Elasticsearch Java API Client into an OSGI bundle as it is not readily available anywhere. I tried the following command to create one on my own but it not work. I also tried maven bundle plugins but it resulted in the same error. What am I doing wrong? \r\n\r\n    jar cvfm osgi-elasticsearch-java-8.0.1.jar ./MANIFEST.txt elasticsearch-java-8.0.1.jar\r\n\r\nThe MANIFEST use is as follows:\r\n\r\n    Manifest-Version: 1.0\r\n    \r\n    Bundle-Category: OSGI ELK\r\n    \r\n    Bundle-Description: Elastic Search Client Bundle\r\n    \r\n    Bundle-ManifestVersion: 2\r\n    \r\n    Bundle-Name: OSGI ELK - HG\r\n    \r\n    Bundle-SymbolicName: osgi-elk.hg\r\n    \r\n    Bundle-Version: 1.7.0\r\n    \r\n    Bundle-ClassPath: .,elasticsearch-java-8.0.1.jar\r\n    \r\n    Export-Package: co.elastic.clients.elasticsearch, co.elastic.clients.elasticsearch.indices, co.elastic.clients.json, co.elastic.clients.json.jackson, co.elastic.clients.transport, co.elastic.clients.transport.rest_client\r\n\r\nThe following classes are not available after installing the manually created Elasticsearch Java API Client OSGI bundle to a OSGI container. \r\n\r\n    co.elastic.clients.elasticsearch -- Cannot be resolved\r\n    co.elastic.clients.elasticsearch.indices -- Cannot be resolved\r\n    co.elastic.clients.json -- Cannot be resolved\r\n    co.elastic.clients.json.jackson -- Cannot be resolved\r\n    co.elastic.clients.transport -- Cannot be resolved\r\n    co.elastic.clients.transport.rest_client -- Cannot be resolved","title":"How to convert Elasticsearch Java API Client into OSGI bundle?","body":"<p>I want to convert Elasticsearch Java API Client into an OSGI bundle as it is not readily available anywhere. I tried the following command to create one on my own but it not work. I also tried maven bundle plugins but it resulted in the same error. What am I doing wrong?</p>\n<pre><code>jar cvfm osgi-elasticsearch-java-8.0.1.jar ./MANIFEST.txt elasticsearch-java-8.0.1.jar\n</code></pre>\n<p>The MANIFEST use is as follows:</p>\n<pre><code>Manifest-Version: 1.0\n\nBundle-Category: OSGI ELK\n\nBundle-Description: Elastic Search Client Bundle\n\nBundle-ManifestVersion: 2\n\nBundle-Name: OSGI ELK - HG\n\nBundle-SymbolicName: osgi-elk.hg\n\nBundle-Version: 1.7.0\n\nBundle-ClassPath: .,elasticsearch-java-8.0.1.jar\n\nExport-Package: co.elastic.clients.elasticsearch, co.elastic.clients.elasticsearch.indices, co.elastic.clients.json, co.elastic.clients.json.jackson, co.elastic.clients.transport, co.elastic.clients.transport.rest_client\n</code></pre>\n<p>The following classes are not available after installing the manually created Elasticsearch Java API Client OSGI bundle to a OSGI container.</p>\n<pre><code>co.elastic.clients.elasticsearch -- Cannot be resolved\nco.elastic.clients.elasticsearch.indices -- Cannot be resolved\nco.elastic.clients.json -- Cannot be resolved\nco.elastic.clients.json.jackson -- Cannot be resolved\nco.elastic.clients.transport -- Cannot be resolved\nco.elastic.clients.transport.rest_client -- Cannot be resolved\n</code></pre>\n"},{"tags":["java","loops","textarea","awt"],"comments":[{"owner":{"account_id":973568,"reputation":4442,"user_id":995548,"accept_rate":88,"display_name":"Alexandre"},"score":0,"creation_date":1328016411,"post_id":9080125,"comment_id":11400022,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/291115/java-swing-using-jscrollpane-and-having-it-scroll-back-to-top","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/291115/java-swing-using-jscrollpane-and-having-it-scroll-back-to-top\" title=\"java swing using jscrollpane and having it scroll back to top\">stackoverflow.com/questions/291115/&hellip;</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328016477,"post_id":9080125,"comment_id":11400054,"body_markdown":"Are you referring to an AWT based `TextArea` or a Swing based `JTextArea`?  Please be specific.","body":"Are you referring to an AWT based <code>TextArea</code> or a Swing based <code>JTextArea</code>?  Please be specific."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1328017969,"post_id":9080125,"comment_id":11400541,"body_markdown":"Why are you using AWT components in this millennium?  The few people that did use them have largely forgotten how!","body":"Why are you using AWT components in this millennium?  The few people that did use them have largely forgotten how!"},{"owner":{"account_id":1191359,"reputation":1033,"user_id":1164058,"accept_rate":73,"display_name":"Mark Tickner"},"score":0,"creation_date":1328026803,"post_id":9080125,"comment_id":11404100,"body_markdown":"I&#39;m only using the AWT TextArea as I don&#39;t like the way Swing displays without a border, all my other components are Swing!","body":"I&#39;m only using the AWT TextArea as I don&#39;t like the way Swing displays without a border, all my other components are Swing!"}],"answers":[{"tags":[],"owner":{"account_id":1191359,"reputation":1033,"user_id":1164058,"accept_rate":73,"display_name":"Mark Tickner"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1328048253,"creation_date":1328048253,"answer_id":9087841,"question_id":9080125,"body_markdown":"I have solved this problem by creating a new TextArea which acts as a sort of buffer (and isn&#39;t displayed). The loop writes to this area and when completed gets the text from that and sets it to the required TextArea.","title":"Scroll text area to top after it has been filled","body":"<p>I have solved this problem by creating a new TextArea which acts as a sort of buffer (and isn't displayed). The loop writes to this area and when completed gets the text from that and sets it to the required TextArea.</p>\n"},{"tags":[],"owner":{"account_id":2211292,"reputation":61,"user_id":1953061,"display_name":"Magnus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1357489017,"creation_date":1357487623,"answer_id":14183821,"question_id":9080125,"body_markdown":"You can use `setCaretPosition()` to set the cursor at position 0 of the TextArea. That usually works for me.","title":"Scroll text area to top after it has been filled","body":"<p>You can use <code>setCaretPosition()</code> to set the cursor at position 0 of the TextArea. That usually works for me.</p>\n"},{"tags":[],"owner":{"account_id":6314293,"reputation":21,"user_id":6317238,"display_name":"Ilan Granot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647184785,"creation_date":1647184785,"answer_id":71458138,"question_id":9080125,"body_markdown":"Use setUpdatePolicy with NEVER_UPDATE, and make sure the setUpdatePolicy comes before setting any text to the JTextArea. In my example I initialize a JTextArea without any text and call setUpdatePolicy right after.\r\n\r\n    JTextArea jTextArea = new JTextArea();\r\n    ((DefaultCaret)jTextArea.getCaret()).setUpdatePolicy(DefaultCaret.NEVER_UPDATE);","title":"Scroll text area to top after it has been filled","body":"<p>Use setUpdatePolicy with NEVER_UPDATE, and make sure the setUpdatePolicy comes before setting any text to the JTextArea. In my example I initialize a JTextArea without any text and call setUpdatePolicy right after.</p>\n<pre><code>JTextArea jTextArea = new JTextArea();\n((DefaultCaret)jTextArea.getCaret()).setUpdatePolicy(DefaultCaret.NEVER_UPDATE);\n</code></pre>\n"}],"owner":{"account_id":1191359,"reputation":1033,"user_id":1164058,"accept_rate":73,"display_name":"Mark Tickner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4684,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":9087841,"answer_count":3,"score":2,"last_activity_date":1647184785,"creation_date":1328015637,"question_id":9080125,"body_markdown":"I have a few text areas that are filled with loops of information. Is it possible to make it &#39;jump&#39; or scroll back to the top automatically after the loop has completed, so that the user sees it from the start and not the end?","title":"Scroll text area to top after it has been filled","body":"<p>I have a few text areas that are filled with loops of information. Is it possible to make it 'jump' or scroll back to the top automatically after the loop has completed, so that the user sees it from the start and not the end?</p>\n"},{"tags":["java","selenium","maven","jenkins","testng"],"owner":{"account_id":10717245,"reputation":21,"user_id":7887427,"display_name":"מירון ברנד"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647163184,"answer_count":0,"score":1,"last_activity_date":1647183819,"creation_date":1647155613,"question_id":71454608,"body_markdown":"I am trying to run from CMD with mvn test some classes from selenium testng.\r\n\r\nMy chrome driver was last updeted to ver. 99 and from that point I got this error message in the CMD :\r\n\r\n    [ERROR] ShufersalMiron.Sprod.PInfo_Add_Delete_Address.initializeDriver  Time elapsed: 3.489 s  &lt;&lt;&lt; FAILURE!\r\n    org.openqa.selenium.SessionNotCreatedException:\r\n    session not created: This version of ChromeDriver only supports Chrome version 97\r\n    Current browser version is 99.0.4844.51 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\n\r\nI can see a mismatch between the versions but what this sentence : \r\n&quot;This version of ChromeDriver only supports Chrome version 97&quot; mean ? what is the meaning &quot;This version&quot; ?\r\n\r\nPlease help me solve it. ","title":"session not created: This version of ChromeDriver only supports Chrome version 97","body":"<p>I am trying to run from CMD with mvn test some classes from selenium testng.</p>\n<p>My chrome driver was last updeted to ver. 99 and from that point I got this error message in the CMD :</p>\n<pre><code>[ERROR] ShufersalMiron.Sprod.PInfo_Add_Delete_Address.initializeDriver  Time elapsed: 3.489 s  &lt;&lt;&lt; FAILURE!\norg.openqa.selenium.SessionNotCreatedException:\nsession not created: This version of ChromeDriver only supports Chrome version 97\nCurrent browser version is 99.0.4844.51 with binary path C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n</code></pre>\n<p>I can see a mismatch between the versions but what this sentence :\n&quot;This version of ChromeDriver only supports Chrome version 97&quot; mean ? what is the meaning &quot;This version&quot; ?</p>\n<p>Please help me solve it.</p>\n"},{"tags":["java","if-statement","android-edittext"],"comments":[{"owner":{"account_id":8614459,"reputation":1129,"user_id":6451874,"accept_rate":60,"display_name":"Ofer Arial"},"score":0,"creation_date":1646603715,"post_id":71365129,"comment_id":126158782,"body_markdown":"It&#39;s a bit difficult to understand what exactly do you want to achieve. Please add a minimal, reproducable example, which has the complete code flow :)","body":"It&#39;s a bit difficult to understand what exactly do you want to achieve. Please add a minimal, reproducable example, which has the complete code flow :)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1646610524,"post_id":71365129,"comment_id":126159825,"body_markdown":"If `getText()` returns a `String` (likely), there&#39;s no need to add `.toString()` to it. What class is `View`? Does it have something like a `getName()` method that you want to compare to user input? If so, try `if (userGuess.getText().equals(view,getName()))`. Note the use of `.equals()` instead of `==` when comparing Strings.","body":"If <code>getText()</code> returns a <code>String</code> (likely), there&#39;s no need to add <code>.toString()</code> to it. What class is <code>View</code>? Does it have something like a <code>getName()</code> method that you want to compare to user input? If so, try <code>if (userGuess.getText().equals(view,getName()))</code>. Note the use of <code>.equals()</code> instead of <code>==</code> when comparing Strings."},{"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"score":0,"creation_date":1646659610,"post_id":71365129,"comment_id":126171016,"body_markdown":"@OferArial I understand i didn&#39;t explain this well. In my app there is a random picture from an array on the top of the screen and under it is an editText. The user enters in the edittext what they think is in that picture and gets a toast displaying whether they are right or wrong. The if statement for this is a bit hard. how do I say if the entered text is equal to that picture? I&#39;m not sure if I should use the items id or?","body":"@OferArial I understand i didn&#39;t explain this well. In my app there is a random picture from an array on the top of the screen and under it is an editText. The user enters in the edittext what they think is in that picture and gets a toast displaying whether they are right or wrong. The if statement for this is a bit hard. how do I say if the entered text is equal to that picture? I&#39;m not sure if I should use the items id or?"},{"owner":{"account_id":8614459,"reputation":1129,"user_id":6451874,"accept_rate":60,"display_name":"Ofer Arial"},"score":0,"creation_date":1646745848,"post_id":71365129,"comment_id":126195787,"body_markdown":"@husky7110 Give me a concrete example. What will appear in the image, and what do you want the user to write? And also - what is the bigger picture here - what is the purpose of the app?","body":"@husky7110 Give me a concrete example. What will appear in the image, and what do you want the user to write? And also - what is the bigger picture here - what is the purpose of the app?"},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1646747247,"post_id":71365129,"comment_id":126196354,"body_markdown":"Is this a sort of a captcha, or is it more like AI training?  It seems like you&#39;re asking the user to see a picture of a toaster, and then type &#39;toaster&#39; in the text box...  Does the app already know that the expected response is &#39;toaster&#39; somehow?","body":"Is this a sort of a captcha, or is it more like AI training?  It seems like you&#39;re asking the user to see a picture of a toaster, and then type &#39;toaster&#39; in the text box...  Does the app already know that the expected response is &#39;toaster&#39; somehow?"},{"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"score":0,"creation_date":1646747902,"post_id":71365129,"comment_id":126196627,"body_markdown":"@OferArial Let&#39;s say I have an array with 3 drawables in it. I use a piece of code to get a random drawable out of those (Say an image of a cat) and set it as the background of the imageView in my app. Now, the user sees the cat and starts typing in an editText &quot;cat&quot; and clicks on the enter button. Then they get a toast displaying whether their guess was right or wrong.","body":"@OferArial Let&#39;s say I have an array with 3 drawables in it. I use a piece of code to get a random drawable out of those (Say an image of a cat) and set it as the background of the imageView in my app. Now, the user sees the cat and starts typing in an editText &quot;cat&quot; and clicks on the enter button. Then they get a toast displaying whether their guess was right or wrong."},{"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"score":0,"creation_date":1646747992,"post_id":71365129,"comment_id":126196666,"body_markdown":"@Gus No its just a simple guessing game but there is more to it.","body":"@Gus No its just a simple guessing game but there is more to it."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1646750298,"post_id":71365129,"comment_id":126197611,"body_markdown":"OK, so you can put the image and the correct guess for that image in the same object -- so your image display would display the picture from `imageObj.image` and compare the user&#39;s guess to `imageObj.correctGuess`","body":"OK, so you can put the image and the correct guess for that image in the same object -- so your image display would display the picture from <code>imageObj.image</code> and compare the user&#39;s guess to <code>imageObj.correctGuess</code>"}],"answers":[{"tags":[],"owner":{"account_id":8614459,"reputation":1129,"user_id":6451874,"accept_rate":60,"display_name":"Ofer Arial"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646769996,"creation_date":1646751480,"answer_id":71397080,"question_id":71365129,"body_markdown":"Based on the detailed explanation the PO gave in the question&#39;s comments, this is my proposal:\r\n\r\nBasically we have an image with something in it (e.g. a cat), and the user needs to insert his guess, saying what&#39;s in the image. The app should display a feedback message - if the user was right or wrong.\r\n\r\nI propose this edit to your code, which is based on an object `imageDrawable`. This object will contain a field which is the `imageTitle`, which is the field you will compare to the user&#39;s guess.\r\n\r\nThe `imageDrawable` object should be a object you create. It can wrap the basic `Drawable`, and it can be a whole new object that has the path to the actual `Drawable` resource. I think that using a custom object will be the clearest way write it, and it also makes it easy to control the image title. \r\n\r\n```java\r\npublic void enterButton(View view) {\r\n    String imageTitle = imageDrawable.getTitle(); // TODO: implement imageDrawable with ImageDrawable class and initialize it\r\n    String guess = userGuess.getText().toString();\r\n\r\n    if (imageTitle == guess)) {\r\n        Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n    } else {\r\n        Toast.makeText(this, &quot;Try Again!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nFor example, if we have a `Drawables` array, we can transform it to an `ImageDrawables` array, also using image titles, and then use that array. (You should still implement `ImageDrawable` class).\r\n\r\n```java\r\nDrawables[] drawables = ...;\r\nString[] titles = ...;\r\nImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\r\nif (drawables.length != titles.length) {\r\n    throw ...;\r\n}\r\nfor (int i=0;i&lt;drawables.length;i++) {\r\n    imageDrawables[i] = new ImageDrawable(drawable, titles[i]); \r\n}\r\n```\r\n\r\nAnd then use `imageDrawables`.","title":"How to take the users input and see if it matches random image showing on screen","body":"<p>Based on the detailed explanation the PO gave in the question's comments, this is my proposal:</p>\n<p>Basically we have an image with something in it (e.g. a cat), and the user needs to insert his guess, saying what's in the image. The app should display a feedback message - if the user was right or wrong.</p>\n<p>I propose this edit to your code, which is based on an object <code>imageDrawable</code>. This object will contain a field which is the <code>imageTitle</code>, which is the field you will compare to the user's guess.</p>\n<p>The <code>imageDrawable</code> object should be a object you create. It can wrap the basic <code>Drawable</code>, and it can be a whole new object that has the path to the actual <code>Drawable</code> resource. I think that using a custom object will be the clearest way write it, and it also makes it easy to control the image title.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void enterButton(View view) {\n    String imageTitle = imageDrawable.getTitle(); // TODO: implement imageDrawable with ImageDrawable class and initialize it\n    String guess = userGuess.getText().toString();\n\n    if (imageTitle == guess)) {\n        Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\n\n    } else {\n        Toast.makeText(this, &quot;Try Again!&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>For example, if we have a <code>Drawables</code> array, we can transform it to an <code>ImageDrawables</code> array, also using image titles, and then use that array. (You should still implement <code>ImageDrawable</code> class).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Drawables[] drawables = ...;\nString[] titles = ...;\nImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\nif (drawables.length != titles.length) {\n    throw ...;\n}\nfor (int i=0;i&lt;drawables.length;i++) {\n    imageDrawables[i] = new ImageDrawable(drawable, titles[i]); \n}\n</code></pre>\n<p>And then use <code>imageDrawables</code>.</p>\n"}],"owner":{"account_id":24204154,"reputation":23,"user_id":18161590,"display_name":"Husky7110"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647183733,"creation_date":1646506681,"question_id":71365129,"body_markdown":"I would like to get the users input from an editText and check if it&#39;s equal to a random array image. How can I take the users input and see if it matches the image showing?\r\n\r\nThis is the code I use to get a random image from the array:\r\n\r\n    images[rand.nextInt(images.length)] \r\n\r\nhere is my code:\r\n\r\n\r\n    public void enterButton(View view) {\r\n        String imageTitle = ImageDrawable.getTitle(); \r\n        String guess = userGuess.getText().toString();\r\n\r\n        if (imageTitle == guess) {\r\n            Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        } else {\r\n            Toast.makeText(this, &quot;Try Again!&quot;, \r\n    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    Drawables[] drawables = ...;\r\n    String[] titles = ...;\r\n    ImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\r\n     if (drawables.length != titles.length) {\r\n        throw ...;\r\n    }\r\n    for (int i=0;i&lt;drawables.length;i++) {\r\n        imageDrawables[i] = new ImageDrawable(drawable, titles[i]);\r\n    }","title":"How to take the users input and see if it matches random image showing on screen","body":"<p>I would like to get the users input from an editText and check if it's equal to a random array image. How can I take the users input and see if it matches the image showing?</p>\n<p>This is the code I use to get a random image from the array:</p>\n<pre><code>images[rand.nextInt(images.length)] \n</code></pre>\n<p>here is my code:</p>\n<pre><code>public void enterButton(View view) {\n    String imageTitle = ImageDrawable.getTitle(); \n    String guess = userGuess.getText().toString();\n\n    if (imageTitle == guess) {\n        Toast.makeText(this, &quot;Correct!&quot;, Toast.LENGTH_SHORT).show();\n\n    } else {\n        Toast.makeText(this, &quot;Try Again!&quot;, \nToast.LENGTH_SHORT).show();\n    }\n}\n\n\nDrawables[] drawables = ...;\nString[] titles = ...;\nImageDrawable[] imageDrawables = new ImageDrawable[drawables.length];\n if (drawables.length != titles.length) {\n    throw ...;\n}\nfor (int i=0;i&lt;drawables.length;i++) {\n    imageDrawables[i] = new ImageDrawable(drawable, titles[i]);\n}\n</code></pre>\n"},{"tags":["java","android","android-alertdialog"],"answers":[{"tags":[],"owner":{"account_id":9876770,"reputation":303,"user_id":17935543,"display_name":"Mr.Droid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647183256,"creation_date":1647183256,"answer_id":71457924,"question_id":71457618,"body_markdown":"I think you forgot to set the adapter\r\n\r\n      Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\r\n    \r\n            String[] values = {&quot;Kilogram&quot;,&quot;Celsius&quot;,&quot;other&quot;};\r\n    \r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1,values);\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n    \r\n            spinner.setAdapter(adapter);\r\n    \r\n            ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\r\n    \r\n            tapeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String spinnerValue = spinner.getSelectedItem().toString();\r\n                    if (spinnerValue.equals(&quot;Kilogram&quot;) || spinnerValue.equals(&quot;Celsius&quot;)){\r\n                        createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\r\n                    }\r\n                }\r\n            });\r\n\r\n","title":"Android alert dialog won&#39;t open in emulator","body":"<p>I think you forgot to set the adapter</p>\n<pre><code>  Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\n\n        String[] values = {&quot;Kilogram&quot;,&quot;Celsius&quot;,&quot;other&quot;};\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1,values);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n        spinner.setAdapter(adapter);\n\n        ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\n\n        tapeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String spinnerValue = spinner.getSelectedItem().toString();\n                if (spinnerValue.equals(&quot;Kilogram&quot;) || spinnerValue.equals(&quot;Celsius&quot;)){\n                    createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":24544356,"reputation":1,"user_id":18454426,"display_name":"brooklynxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647183256,"creation_date":1647181052,"question_id":71457618,"body_markdown":"I have been trying to debug the issue of an alert dialog not opening on click of an image button when certain options in a spinner are selected.\r\n\r\nThe below is my MainActivity.java file which includes the relevant code for the alert dialog (left out code for the spinner as this is working as intended), any help would be much appreciated!\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n        public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            // Initialise Inputs &amp; Fields\r\n            this.UnitSelector();\r\n            Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\r\n    \r\n            // UI Relationships\r\n            ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\r\n    \r\n            Log.d(&quot;SpinnerValue&quot;, spinner.getSelectedItem().toString());\r\n    \r\n            EditText editText = (EditText) findViewById(R.id.value);\r\n            String message = editText.getText().toString();\r\n    \r\n            // Listeners &amp; Actions\r\n            tapeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String spinnerValue = spinner.getSelectedItem().toString();\r\n    //                float messageFloat = Float.parseFloat(message);\r\n                    Log.d(&quot;Button Clicked&quot;, spinnerValue);\r\n                    if (spinnerValue == &quot;Kilogram&quot; || spinnerValue == &quot;Celsius&quot;){\r\n                        createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n    void createDialog( String title, String msg, Context context){\r\n            AlertDialog.Builder builder\r\n                    = new AlertDialog\r\n                    .Builder(context);\r\n    \r\n            // Set the message show for the Alert time\r\n            builder.setMessage(msg);\r\n    \r\n            // Set Alert Title\r\n            builder.setTitle(title);\r\n    \r\n            // Set Cancelable false\r\n            // for when the user clicks on the outside\r\n            // the Dialog Box then it will remain show\r\n            builder.setCancelable(true);\r\n   \r\n    \r\n            builder.setNeutralButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                @Override public void onClick(DialogInterface dialog, int which){\r\n                    dialog.cancel();\r\n                }\r\n            });\r\n    \r\n    \r\n            // Create the Alert dialog\r\n            AlertDialog alertDialog = builder.create();\r\n            alertDialog.show();\r\n        }\r\n    }","title":"Android alert dialog won&#39;t open in emulator","body":"<p>I have been trying to debug the issue of an alert dialog not opening on click of an image button when certain options in a spinner are selected.</p>\n<p>The below is my MainActivity.java file which includes the relevant code for the alert dialog (left out code for the spinner as this is working as intended), any help would be much appreciated!</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n    public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Initialise Inputs &amp; Fields\n        this.UnitSelector();\n        Spinner spinner = (Spinner) findViewById(R.id.options_spinner);\n\n        // UI Relationships\n        ImageButton tapeButton = (ImageButton)findViewById(R.id.imageButton_tape);\n\n        Log.d(&quot;SpinnerValue&quot;, spinner.getSelectedItem().toString());\n\n        EditText editText = (EditText) findViewById(R.id.value);\n        String message = editText.getText().toString();\n\n        // Listeners &amp; Actions\n        tapeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String spinnerValue = spinner.getSelectedItem().toString();\n//                float messageFloat = Float.parseFloat(message);\n                Log.d(&quot;Button Clicked&quot;, spinnerValue);\n                if (spinnerValue == &quot;Kilogram&quot; || spinnerValue == &quot;Celsius&quot;){\n                    createDialog(&quot;Nah mate&quot;, &quot;Okay&quot;, MainActivity.this);\n                }\n            }\n        });\n    }\n\nvoid createDialog( String title, String msg, Context context){\n        AlertDialog.Builder builder\n                = new AlertDialog\n                .Builder(context);\n\n        // Set the message show for the Alert time\n        builder.setMessage(msg);\n\n        // Set Alert Title\n        builder.setTitle(title);\n\n        // Set Cancelable false\n        // for when the user clicks on the outside\n        // the Dialog Box then it will remain show\n        builder.setCancelable(true);\n\n\n        builder.setNeutralButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n            @Override public void onClick(DialogInterface dialog, int which){\n                dialog.cancel();\n            }\n        });\n\n\n        // Create the Alert dialog\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","class","android-activity","cannot-find-symbol"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1647164894,"post_id":71454104,"comment_id":126297940,"body_markdown":"First look if there is an `import`. Second is `MessageRVAdapter` in the right package ? Third let Android Studio find the import for you.","body":"First look if there is an <code>import</code>. Second is <code>MessageRVAdapter</code> in the right package ? Third let Android Studio find the import for you."},{"owner":{"account_id":23957203,"reputation":3,"user_id":17947903,"display_name":"Daniel_devil"},"score":0,"creation_date":1647184413,"post_id":71454104,"comment_id":126302150,"body_markdown":"I figured it out!! For some reason it had MessageRVAdapter down as private but it should have been public in the code within MainActivity.java.","body":"I figured it out!! For some reason it had MessageRVAdapter down as private but it should have been public in the code within MainActivity.java."}],"owner":{"account_id":23957203,"reputation":3,"user_id":17947903,"display_name":"Daniel_devil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647183238,"creation_date":1647140884,"question_id":71454104,"body_markdown":"I do have a MessageRVAdapter in my project directory but I don&#39;t know why my app isn&#39;t finding this class.\r\nI get the following problem in MainActivity.java within app\\src\\main\\java\\com\\example\\chatbot:\r\n\r\n    cannot find symbol\r\n        private MessageRVAdapter messageRVAdapter;\r\n                ^\r\n      symbol:   class MessageRVAdapter\r\n      location: class MainActivity \r\n\r\n******************\r\nHere is my code:\r\n\r\n    // creating a variable for array list and adapter class.\r\n    private ArrayList&lt;com.example.chatbot.MessageModal&gt; messageModalArrayList;\r\n    private MessageRVAdapter messageRVAdapter;\r\n\r\n******************\r\nHere is what my directory looks like\r\n\r\nhttps://i.stack.imgur.com/JPAMe.jpg","title":"Cannot find symbol class MessageRVAdapter","body":"<p>I do have a MessageRVAdapter in my project directory but I don't know why my app isn't finding this class.\nI get the following problem in MainActivity.java within app\\src\\main\\java\\com\\example\\chatbot:</p>\n<pre><code>cannot find symbol\n    private MessageRVAdapter messageRVAdapter;\n            ^\n  symbol:   class MessageRVAdapter\n  location: class MainActivity \n</code></pre>\n<hr />\n<p>Here is my code:</p>\n<pre><code>// creating a variable for array list and adapter class.\nprivate ArrayList&lt;com.example.chatbot.MessageModal&gt; messageModalArrayList;\nprivate MessageRVAdapter messageRVAdapter;\n</code></pre>\n<hr />\n<p>Here is what my directory looks like</p>\n<p><a href=\"https://i.stack.imgur.com/JPAMe.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JPAMe.jpg</a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1647170367,"post_id":71456197,"comment_id":126299055,"body_markdown":"Can you explain what error you are seeing and from where in your code?","body":"Can you explain what error you are seeing and from where in your code?"},{"owner":{"account_id":24542497,"reputation":1,"user_id":18452755,"display_name":"CEPHAS"},"score":0,"creation_date":1647260208,"post_id":71456197,"comment_id":126318635,"body_markdown":"The code is running but I can not register user. Keeps showing **registration failed try again later**","body":"The code is running but I can not register user. Keeps showing <b>registration failed try again later</b>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263693,"post_id":71456197,"comment_id":126320029,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **400 (four hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>400 (four hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1647263708,"post_id":71456197,"comment_id":126320036,"body_markdown":"Besides that, what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"Besides that, what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24542497,"reputation":1,"user_id":18452755,"display_name":"CEPHAS"},"score":0,"creation_date":1647457132,"post_id":71456197,"comment_id":126378939,"body_markdown":"**W/RenderThread: type=1400 audit(0.0:1475618): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950 scontext=u:r:untrusted_app:s0:c236,c258,c512,c768 tcontext=u:object_r:sysfs_batteryinfo:s0 tclass=dir permissive=0\nE/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\nE/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\nW/RenderThread: type=1400 audit(0.0:1475620): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950** this is the error am getting","body":"<b>W/RenderThread: type=1400 audit(0.0:1475618): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950 scontext=u:r:untrusted_app:s0:c236,c258,c512,c768 tcontext=u:object_r:sysfs_batteryinfo:s0 tclass=dir permissive=0 E/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length E/SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length W/RenderThread: type=1400 audit(0.0:1475620): avc: denied { search } for name=&quot;battery&quot; dev=&quot;sysfs&quot; ino=6950</b> this is the error am getting"}],"answers":[{"tags":[],"owner":{"account_id":19586199,"reputation":206,"user_id":14334255,"display_name":"Batman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647171567,"creation_date":1647171567,"answer_id":71456373,"question_id":71456197,"body_markdown":"When you return from a function, the code written after is never executed. In your method ```registerUser()``` every if condition that is true, returns. That means the actual code to register user is never reached.","title":"Am trying to register but keep getting errors in my android application please what is the solution","body":"<p>When you return from a function, the code written after is never executed. In your method <code>registerUser()</code> every if condition that is true, returns. That means the actual code to register user is never reached.</p>\n"}],"owner":{"account_id":24542497,"reputation":1,"user_id":18452755,"display_name":"CEPHAS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647183005,"creation_date":1647170094,"question_id":71456197,"body_markdown":"I am not too good at android applications so most of the code are from the Youtube videos I watched while trying to learn how to code android application. I made some adjustment to what I want. \r\n\r\nHere I am stuck trying to create a library management system. Every thing seems to be\r\nworking, except for the fact that I can&#39;t create a new user or sign in.\r\n\r\nCode is running fine, but still do not understand the errors. From my Sign Activity there seems to be a misplacement of code, which I don&#39;t understand.\r\n\r\n```\r\npublic class SignUpActivity extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private TextInputLayout editName;\r\n    private TextInputLayout editEnrollNo;\r\n    private TextInputLayout editCardNo;\r\n    private TextInputLayout editPass1;\r\n    private TextInputLayout editID;\r\n    private TextInputLayout editPass;\r\n    private Button buttonRegister;\r\n    private TextView toSignIn;\r\n    private ProgressDialog progressDialog;\r\n    private FirebaseAuth firebaseAuth;\r\n    private CheckBox check1;\r\n    private FirebaseFirestore db;\r\n    private Spinner userType;\r\n    private String type;\r\n    private int type1;\r\n    private int temp;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_signup);\r\n\r\n        editID = (TextInputLayout) findViewById(R.id.editID);\r\n        editPass = (TextInputLayout) findViewById(R.id.editPass);\r\n        editPass1=(TextInputLayout)findViewById(R.id.editPass1);\r\n        editName=(TextInputLayout)findViewById(R.id.editName);\r\n        editEnrollNo=(TextInputLayout)findViewById(R.id.editEnrollNo);\r\n        editCardNo=(TextInputLayout)findViewById(R.id.editCardNo);\r\n        buttonRegister = (Button) findViewById(R.id.buttonRegister);\r\n        toSignIn = (TextView) findViewById(R.id.toSignIn);\r\n        progressDialog=new ProgressDialog(this);\r\n        progressDialog.setCancelable(false);\r\n        check1=(CheckBox)findViewById(R.id.check1);\r\n        userType=(Spinner)findViewById(R.id.userType);\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;Select Account Type&quot;);\r\n        list.add(&quot;User&quot;);\r\n        list.add(&quot;Admin&quot;);\r\n\r\n        ArrayAdapter adapter =new ArrayAdapter(this,android.R.layout.simple_spinner_dropdown_item,list);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        userType.setAdapter(adapter);\r\n        userType.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                if(parent.getItemAtPosition(position).toString().equals(&quot;Select Account Type&quot;))\r\n                {\r\n                    type=parent.getItemAtPosition(position).toString();\r\n                    editPass1.setEnabled(false);\r\n                    editPass.setEnabled(false);\r\n                    editName.setEnabled(false);\r\n                    editID.setEnabled(false);\r\n                    editEnrollNo.setEnabled(false);\r\n                    editCardNo.setEnabled(false);\r\n\r\n                    editCardNo.setErrorEnabled(false);\r\n                    editEnrollNo.setErrorEnabled(false);\r\n                    editID.setErrorEnabled(false);\r\n                    editName.setErrorEnabled(false);\r\n                    editPass.setErrorEnabled(false);\r\n                    editPass1.setErrorEnabled(false);\r\n                }\r\n                else if(parent.getItemAtPosition(position).toString().equals(&quot;User&quot;))\r\n                {\r\n                    type=parent.getItemAtPosition(position).toString();\r\n                    editPass1.setEnabled(true);\r\n                    editPass.setEnabled(true);\r\n                    editName.setEnabled(true);\r\n                    editID.setEnabled(true);\r\n                    editEnrollNo.setEnabled(true);\r\n                    editCardNo.setEnabled(true);\r\n\r\n                    editCardNo.setErrorEnabled(false);\r\n                    editEnrollNo.setErrorEnabled(false);\r\n                    editID.setErrorEnabled(false);\r\n                    editName.setErrorEnabled(false);\r\n                    editPass.setErrorEnabled(false);\r\n                    editPass1.setErrorEnabled(false);\r\n                }\r\n                else\r\n                {\r\n                    type=parent.getItemAtPosition(position).toString();\r\n                    editPass1.setEnabled(true);\r\n                    editPass.setEnabled(true);\r\n                    editName.setEnabled(true);\r\n                    editID.setEnabled(true);\r\n                    editEnrollNo.setEnabled(false);\r\n                    editCardNo.setEnabled(false);\r\n\r\n                    editCardNo.setErrorEnabled(false);\r\n                    editEnrollNo.setErrorEnabled(false);\r\n                    editID.setErrorEnabled(false);\r\n                    editName.setErrorEnabled(false);\r\n                    editPass.setErrorEnabled(false);\r\n                    editPass1.setErrorEnabled(false);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n            }\r\n        });\r\n        FirebaseApp.initializeApp(this);\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n        db=FirebaseFirestore.getInstance();\r\n        buttonRegister.setOnClickListener(this);\r\n        toSignIn.setOnClickListener(this);\r\n        check1.setOnClickListener(this);\r\n    }\r\n\r\n    private boolean verifyName()\r\n    {\r\n\r\n        String name=editName.getEditText().getText().toString().trim();\r\n        if(name.isEmpty())\r\n        {   editName.setErrorEnabled(true);\r\n            editName.setError(&quot;Name Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editName.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyCardNo()\r\n    {\r\n        String cardNo=editCardNo.getEditText().getText().toString().trim();\r\n        if(cardNo.isEmpty())\r\n        {   editCardNo.setErrorEnabled(true);\r\n            editCardNo.setError(&quot;Card No. Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editCardNo.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyEnrollNo()\r\n    {\r\n        String enrollNo=editEnrollNo.getEditText().getText().toString().trim();\r\n        if(enrollNo.isEmpty())\r\n        {   editEnrollNo.setErrorEnabled(true);\r\n            editEnrollNo.setError(&quot;Enrollment No. Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editEnrollNo.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyEmailId()\r\n    {\r\n        String emailId=editID.getEditText().getText().toString().trim();\r\n        if(emailId.isEmpty())\r\n        {   editID.setErrorEnabled(true);\r\n            editID.setError(&quot; Email ID Required&quot;);\r\n            return true;\r\n        }\r\n        else if(!emailId.endsWith(&quot;@iiitnr.edu.in&quot;))\r\n        {\r\n            editID.setErrorEnabled(true);\r\n            editID.setError(&quot; Enter Valid Email ID&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editID.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyPass()\r\n    {\r\n        String pass=editPass.getEditText().getText().toString().trim();\r\n        if(pass.isEmpty())\r\n        {   editPass.setErrorEnabled(true);\r\n            editPass.setError(&quot; Password Required&quot;);\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            editPass.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private boolean verifyPass1()\r\n    {\r\n        String pass1=editPass1.getEditText().getText().toString().trim();\r\n        String pass=editPass.getEditText().getText().toString().trim();\r\n        if(pass1.isEmpty())\r\n        {   editPass1.setErrorEnabled(true);\r\n            editPass1.setError(&quot;Confirm Password Required&quot;);\r\n            return true;\r\n        }\r\n        else if(pass.equals(pass1))\r\n        {\r\n            editPass1.setErrorEnabled(false);\r\n            return false;\r\n        }\r\n        else\r\n        {\r\n            editPass1.setErrorEnabled(true);\r\n            editPass1.setError(&quot;Passwords do not match&quot;);\r\n            return true;\r\n        }\r\n    }\r\n\r\n  private boolean verifyType()\r\n    {\r\n       if (type.equals(&quot;Select Account Type&quot;))\r\n       {\r\n           Toast.makeText(this, &quot;Please select account type !&quot;, Toast.LENGTH_SHORT).show();\r\n           return true;\r\n       }\r\n       return false;\r\n    }\r\n\r\n    private boolean verifyCard1()\r\n    {\r\n        db.collection(&quot;User&quot;).whereEqualTo(&quot;card&quot;,Integer.parseInt(editCardNo.getEditText().getText().toString().trim())).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                   temp=task.getResult().size();\r\n                }\r\n            }\r\n        });\r\n        if(temp==0)\r\n            return false;\r\n        else\r\n            return true;\r\n\r\n    }\r\n\r\n    private void registerUser()\r\n    {\r\n        if(verifyType())\r\n           return;\r\n\r\n        if(type.equals(&quot;User&quot;))\r\n        {\r\n            boolean res= (verifyName()|verifyCardNo()|verifyEmailId()|verifyEnrollNo()|verifyPass()|verifyPass1());\r\n            if(res==true)\r\n                return;\r\n        }\r\n        if(type.equals(&quot;Admin&quot;))\r\n        {\r\n            boolean res= (verifyName()|verifyEmailId()|verifyPass()|verifyPass1());\r\n            if(res==true)\r\n                return;\r\n        }\r\n\r\n        String id=editID.getEditText().getText().toString().trim();\r\n        String pass=editPass.getEditText().getText().toString().trim();\r\n        if(type.equals(&quot;User&quot;)){\r\n            type1=0;\r\n        }\r\n        else\r\n            type1=1;\r\n\r\n        progressDialog.setMessage(&quot;Registering User ... &quot;);\r\n        progressDialog.show();\r\n\r\n        firebaseAuth.createUserWithEmailAndPassword(id,pass).addOnCompleteListener(SignUpActivity.this, new OnCompleteListener&lt;AuthResult&gt;()\r\n        {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                if(task.isSuccessful())\r\n                {\r\n                    String id=editID.getEditText().getText().toString().trim();\r\n                    String name=editName.getEditText().getText().toString().trim();\r\n                    if(type1==0)\r\n                    {\r\n                        int enroll=Integer.parseInt(editEnrollNo.getEditText().getText().toString().trim());\r\n                        int card=Integer.parseInt(editCardNo.getEditText().getText().toString().trim());\r\n                        db.collection(&quot;User&quot;).document(id).set(new User(name,id,enroll,card,type1)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                progressDialog.cancel();\r\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\r\n                                firebaseAuth.signOut();\r\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\r\n                                finish();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n\r\n                        db.collection(&quot;User&quot;).document(id).set(new Admin(type1,name,id)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                progressDialog.cancel();\r\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\r\n                                firebaseAuth.signOut();\r\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\r\n                                finish();\r\n                            }\r\n                        }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }\r\n\r\n                else\r\n                {   progressDialog.cancel();\r\n                if(task.getException() instanceof FirebaseAuthUserCollisionException)\r\n                {\r\n                    Toast.makeText(SignUpActivity.this,&quot;Already Registered ! &quot;,Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(SignUpActivity.this, &quot;Registration Failed ! Try Again &quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        if(v==check1)\r\n        {\r\n            if(check1.isChecked())\r\n                buttonRegister.setEnabled(true);\r\n            else\r\n                buttonRegister.setEnabled(false);\r\n        }\r\n        else if(v==buttonRegister)\r\n            registerUser();\r\n\r\n        else if(v==toSignIn) {\r\n            startActivity(new Intent(getApplicationContext(),SignInActivity.class));\r\n            finish();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nPlease can any one help? ","title":"Am trying to register but keep getting errors in my android application please what is the solution","body":"<p>I am not too good at android applications so most of the code are from the Youtube videos I watched while trying to learn how to code android application. I made some adjustment to what I want.</p>\n<p>Here I am stuck trying to create a library management system. Every thing seems to be\nworking, except for the fact that I can't create a new user or sign in.</p>\n<p>Code is running fine, but still do not understand the errors. From my Sign Activity there seems to be a misplacement of code, which I don't understand.</p>\n<pre><code>public class SignUpActivity extends AppCompatActivity implements View.OnClickListener{\n\n    private TextInputLayout editName;\n    private TextInputLayout editEnrollNo;\n    private TextInputLayout editCardNo;\n    private TextInputLayout editPass1;\n    private TextInputLayout editID;\n    private TextInputLayout editPass;\n    private Button buttonRegister;\n    private TextView toSignIn;\n    private ProgressDialog progressDialog;\n    private FirebaseAuth firebaseAuth;\n    private CheckBox check1;\n    private FirebaseFirestore db;\n    private Spinner userType;\n    private String type;\n    private int type1;\n    private int temp;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_signup);\n\n        editID = (TextInputLayout) findViewById(R.id.editID);\n        editPass = (TextInputLayout) findViewById(R.id.editPass);\n        editPass1=(TextInputLayout)findViewById(R.id.editPass1);\n        editName=(TextInputLayout)findViewById(R.id.editName);\n        editEnrollNo=(TextInputLayout)findViewById(R.id.editEnrollNo);\n        editCardNo=(TextInputLayout)findViewById(R.id.editCardNo);\n        buttonRegister = (Button) findViewById(R.id.buttonRegister);\n        toSignIn = (TextView) findViewById(R.id.toSignIn);\n        progressDialog=new ProgressDialog(this);\n        progressDialog.setCancelable(false);\n        check1=(CheckBox)findViewById(R.id.check1);\n        userType=(Spinner)findViewById(R.id.userType);\n\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(&quot;Select Account Type&quot;);\n        list.add(&quot;User&quot;);\n        list.add(&quot;Admin&quot;);\n\n        ArrayAdapter adapter =new ArrayAdapter(this,android.R.layout.simple_spinner_dropdown_item,list);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        userType.setAdapter(adapter);\n        userType.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n                if(parent.getItemAtPosition(position).toString().equals(&quot;Select Account Type&quot;))\n                {\n                    type=parent.getItemAtPosition(position).toString();\n                    editPass1.setEnabled(false);\n                    editPass.setEnabled(false);\n                    editName.setEnabled(false);\n                    editID.setEnabled(false);\n                    editEnrollNo.setEnabled(false);\n                    editCardNo.setEnabled(false);\n\n                    editCardNo.setErrorEnabled(false);\n                    editEnrollNo.setErrorEnabled(false);\n                    editID.setErrorEnabled(false);\n                    editName.setErrorEnabled(false);\n                    editPass.setErrorEnabled(false);\n                    editPass1.setErrorEnabled(false);\n                }\n                else if(parent.getItemAtPosition(position).toString().equals(&quot;User&quot;))\n                {\n                    type=parent.getItemAtPosition(position).toString();\n                    editPass1.setEnabled(true);\n                    editPass.setEnabled(true);\n                    editName.setEnabled(true);\n                    editID.setEnabled(true);\n                    editEnrollNo.setEnabled(true);\n                    editCardNo.setEnabled(true);\n\n                    editCardNo.setErrorEnabled(false);\n                    editEnrollNo.setErrorEnabled(false);\n                    editID.setErrorEnabled(false);\n                    editName.setErrorEnabled(false);\n                    editPass.setErrorEnabled(false);\n                    editPass1.setErrorEnabled(false);\n                }\n                else\n                {\n                    type=parent.getItemAtPosition(position).toString();\n                    editPass1.setEnabled(true);\n                    editPass.setEnabled(true);\n                    editName.setEnabled(true);\n                    editID.setEnabled(true);\n                    editEnrollNo.setEnabled(false);\n                    editCardNo.setEnabled(false);\n\n                    editCardNo.setErrorEnabled(false);\n                    editEnrollNo.setErrorEnabled(false);\n                    editID.setErrorEnabled(false);\n                    editName.setErrorEnabled(false);\n                    editPass.setErrorEnabled(false);\n                    editPass1.setErrorEnabled(false);\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n            }\n        });\n        FirebaseApp.initializeApp(this);\n        firebaseAuth=FirebaseAuth.getInstance();\n        db=FirebaseFirestore.getInstance();\n        buttonRegister.setOnClickListener(this);\n        toSignIn.setOnClickListener(this);\n        check1.setOnClickListener(this);\n    }\n\n    private boolean verifyName()\n    {\n\n        String name=editName.getEditText().getText().toString().trim();\n        if(name.isEmpty())\n        {   editName.setErrorEnabled(true);\n            editName.setError(&quot;Name Required&quot;);\n            return true;\n        }\n        else\n        {\n            editName.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyCardNo()\n    {\n        String cardNo=editCardNo.getEditText().getText().toString().trim();\n        if(cardNo.isEmpty())\n        {   editCardNo.setErrorEnabled(true);\n            editCardNo.setError(&quot;Card No. Required&quot;);\n            return true;\n        }\n        else\n        {\n            editCardNo.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyEnrollNo()\n    {\n        String enrollNo=editEnrollNo.getEditText().getText().toString().trim();\n        if(enrollNo.isEmpty())\n        {   editEnrollNo.setErrorEnabled(true);\n            editEnrollNo.setError(&quot;Enrollment No. Required&quot;);\n            return true;\n        }\n        else\n        {\n            editEnrollNo.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyEmailId()\n    {\n        String emailId=editID.getEditText().getText().toString().trim();\n        if(emailId.isEmpty())\n        {   editID.setErrorEnabled(true);\n            editID.setError(&quot; Email ID Required&quot;);\n            return true;\n        }\n        else if(!emailId.endsWith(&quot;@iiitnr.edu.in&quot;))\n        {\n            editID.setErrorEnabled(true);\n            editID.setError(&quot; Enter Valid Email ID&quot;);\n            return true;\n        }\n        else\n        {\n            editID.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyPass()\n    {\n        String pass=editPass.getEditText().getText().toString().trim();\n        if(pass.isEmpty())\n        {   editPass.setErrorEnabled(true);\n            editPass.setError(&quot; Password Required&quot;);\n            return true;\n        }\n        else\n        {\n            editPass.setErrorEnabled(false);\n            return false;\n        }\n    }\n\n    private boolean verifyPass1()\n    {\n        String pass1=editPass1.getEditText().getText().toString().trim();\n        String pass=editPass.getEditText().getText().toString().trim();\n        if(pass1.isEmpty())\n        {   editPass1.setErrorEnabled(true);\n            editPass1.setError(&quot;Confirm Password Required&quot;);\n            return true;\n        }\n        else if(pass.equals(pass1))\n        {\n            editPass1.setErrorEnabled(false);\n            return false;\n        }\n        else\n        {\n            editPass1.setErrorEnabled(true);\n            editPass1.setError(&quot;Passwords do not match&quot;);\n            return true;\n        }\n    }\n\n  private boolean verifyType()\n    {\n       if (type.equals(&quot;Select Account Type&quot;))\n       {\n           Toast.makeText(this, &quot;Please select account type !&quot;, Toast.LENGTH_SHORT).show();\n           return true;\n       }\n       return false;\n    }\n\n    private boolean verifyCard1()\n    {\n        db.collection(&quot;User&quot;).whereEqualTo(&quot;card&quot;,Integer.parseInt(editCardNo.getEditText().getText().toString().trim())).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if(task.isSuccessful())\n                {\n                   temp=task.getResult().size();\n                }\n            }\n        });\n        if(temp==0)\n            return false;\n        else\n            return true;\n\n    }\n\n    private void registerUser()\n    {\n        if(verifyType())\n           return;\n\n        if(type.equals(&quot;User&quot;))\n        {\n            boolean res= (verifyName()|verifyCardNo()|verifyEmailId()|verifyEnrollNo()|verifyPass()|verifyPass1());\n            if(res==true)\n                return;\n        }\n        if(type.equals(&quot;Admin&quot;))\n        {\n            boolean res= (verifyName()|verifyEmailId()|verifyPass()|verifyPass1());\n            if(res==true)\n                return;\n        }\n\n        String id=editID.getEditText().getText().toString().trim();\n        String pass=editPass.getEditText().getText().toString().trim();\n        if(type.equals(&quot;User&quot;)){\n            type1=0;\n        }\n        else\n            type1=1;\n\n        progressDialog.setMessage(&quot;Registering User ... &quot;);\n        progressDialog.show();\n\n        firebaseAuth.createUserWithEmailAndPassword(id,pass).addOnCompleteListener(SignUpActivity.this, new OnCompleteListener&lt;AuthResult&gt;()\n        {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if(task.isSuccessful())\n                {\n                    String id=editID.getEditText().getText().toString().trim();\n                    String name=editName.getEditText().getText().toString().trim();\n                    if(type1==0)\n                    {\n                        int enroll=Integer.parseInt(editEnrollNo.getEditText().getText().toString().trim());\n                        int card=Integer.parseInt(editCardNo.getEditText().getText().toString().trim());\n                        db.collection(&quot;User&quot;).document(id).set(new User(name,id,enroll,card,type1)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n                                progressDialog.cancel();\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\n                                firebaseAuth.signOut();\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\n                                finish();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                    else {\n\n                        db.collection(&quot;User&quot;).document(id).set(new Admin(type1,name,id)).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                            @Override\n                            public void onSuccess(Void aVoid) {\n                                progressDialog.cancel();\n                                Toast.makeText(SignUpActivity.this,&quot;Registered Successfully !&quot;,Toast.LENGTH_SHORT).show();\n                                firebaseAuth.signOut();\n                                startActivity(new Intent(getApplicationContext(),SignInActivity.class));\n                                finish();\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                            @Override\n                            public void onFailure(@NonNull Exception e) {\n                                Toast.makeText(SignUpActivity.this, &quot;Please Try Again !&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n\n                }\n\n                else\n                {   progressDialog.cancel();\n                if(task.getException() instanceof FirebaseAuthUserCollisionException)\n                {\n                    Toast.makeText(SignUpActivity.this,&quot;Already Registered ! &quot;,Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Toast.makeText(SignUpActivity.this, &quot;Registration Failed ! Try Again &quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        if(v==check1)\n        {\n            if(check1.isChecked())\n                buttonRegister.setEnabled(true);\n            else\n                buttonRegister.setEnabled(false);\n        }\n        else if(v==buttonRegister)\n            registerUser();\n\n        else if(v==toSignIn) {\n            startActivity(new Intent(getApplicationContext(),SignInActivity.class));\n            finish();\n        }\n    }\n}\n</code></pre>\n<p>Please can any one help?</p>\n"},{"tags":["java","spring","unit-testing","mockito","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647182697,"creation_date":1647182697,"answer_id":71457840,"question_id":71419972,"body_markdown":"&gt; Does it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn&#39;t found.\r\n\r\nTo some extent...\r\nThe rationale is that when you do `StepVerifier.create(...)`, the publisher parameter is not checked for null by any of the overloads, therefore nulls get lazily propagated to `DefaultStepVerifierBuilder.java:867`.\r\nSounds like a design issue that probably won&#39;t be ever fixed at least for a minor version upgrade because such a fix may break existing projects.\r\n\r\n#### Option 1\r\n\r\nSo, having that in mind, you can create guarded versions of the create method overloads and somehow mark the `StepVerifier.create` methods deprecated for your project:\r\n\r\n```java\r\n@UtilityClass\r\npublic final class GuardedStepVerifier {\r\n\r\n\tpublic static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher) {\r\n\t\tif ( publisher == null ) {\r\n\t\t\tthrow new AssertionError(&quot;publisher not set up&quot;);\r\n\t\t}\r\n\t\treturn StepVerifier.create(publisher);\r\n\t}\r\n\r\n\tpublic static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final long n) {\r\n\t\tif ( publisher == null ) {\r\n\t\t\tthrow new AssertionError(&quot;publisher not set up&quot;);\r\n\t\t}\r\n\t\treturn StepVerifier.create(publisher, n);\r\n\t}\r\n\r\n\tpublic static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final StepVerifierOptions options) {\r\n\t\tif ( publisher == null ) {\r\n\t\t\tthrow new AssertionError(&quot;publisher not set up&quot;);\r\n\t\t}\r\n\t\treturn StepVerifier.create(publisher, options);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nCompare the following tests:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic final class DefaultFooServiceTest {\r\n\r\n\tprivate static final Foo foo1 = new Foo(UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;));\r\n\tprivate static final Foo foo2 = new Foo(UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;));\r\n\r\n\t@Mock\r\n\tprivate FooRepository fooRepositoryMock;\r\n\r\n\t@InjectMocks\r\n\tprivate DefaultFooService unit;\r\n\r\n\t@BeforeEach\r\n\tvoid beforeEach() {\r\n\t\tif ( false ) {\r\n\t\t\tMockito.doReturn(Flux.just(foo1, foo2))\r\n\t\t\t\t\t.when(fooRepositoryMock)\r\n\t\t\t\t\t.findAll();\r\n\t\t}\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testFindAllWithStepVerifier() {\r\n\t\tStepVerifier.create(unit.findAll())\r\n\t\t\t\t.expectNext(foo1, foo2)\r\n\t\t\t\t.verifyComplete();\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testFindAllWithGuardedStepVerifier() {\r\n\t\tGuardedStepVerifier.create(unit.findAll())\r\n\t\t\t\t.expectNext(foo1, foo2)\r\n\t\t\t\t.verifyComplete();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n`testFindAllWithStepVerifier` output:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.reactivestreams.Publisher.subscribe(org.reactivestreams.Subscriber)&quot; because &quot;publisher&quot; is null\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\r\n\tat q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:40)\r\n\t...\r\n```\r\n\r\n`testFindAllWithGuardedStepVerifier` output:\r\n\r\n```\r\njava.lang.AssertionError: publisher not set up\r\n\tat q71419972.GuardedStepVerifier.create(GuardedStepVerifier.java:15)\r\n\tat q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:45)\r\n\t...\r\n```\r\n\r\nThe former is really obscure even for a simple test, but the latter _can_ point something set up wrong at least by spotting the mistake (sure, not literally right in the logs, but only peeking into the source code using the stacktrace).\r\nAttempting to make it a bit more informative and meaningful probably won&#39;t work too because there is no a way to take that info from.\r\n\r\nHowever...\r\nHere goes the following:\r\n\r\n#### Option 2\r\n\r\nMake your mocks annotated with `@Mock(answer = Answers.RETURNS_SMART_NULLS)`.\r\nThis will produce the following outputs for the default and &quot;guarded&quot; versions respectively (I marked the diffs with `&#128293;`):\r\n\r\n```\r\njava.lang.AssertionError: expectation &quot;expectNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773))&quot; failed (expected: onNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773)); actual: onError(org.mockito.exceptions.verification.SmartNullPointerException: \r\nYou have a NullPointerException here:\r\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\nbecause this method call was *not* stubbed correctly:\r\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\r\nfooRepositoryMock.findAll();\r\n))\r\n\r\n\tat reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\r\n\tat reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\r\n\tat reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\r\n\tat reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\r\n\tat reactor.test.DefaultStepVerifierBuilder.lambda$addExpectedValue$10(DefaultStepVerifierBuilder.java:501)\r\n\tat reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2218)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1490)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1438)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1091)\r\n\tat reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8472)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\r\n&#128293;\tat q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:41)\r\n&#128293; OR\r\n&#128293;\tat q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:48)\r\n\t...\r\n\tSuppressed: org.mockito.exceptions.verification.SmartNullPointerException: \r\nYou have a NullPointerException here:\r\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\nbecause this method call was *not* stubbed correctly:\r\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\r\nfooRepositoryMock.findAll();\r\n```\r\n\r\nAs you can see, the error above reports that the `FooRepository.findAll` method was not stubbed, but the overall stack trace is longer.\r\n\r\nYou choose.\r\n","title":"How receive meaningful error from StepVerifier when mock object didn&#39;t setup in JUnit test?","body":"<blockquote>\n<p>Does it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn't found.</p>\n</blockquote>\n<p>To some extent...\nThe rationale is that when you do <code>StepVerifier.create(...)</code>, the publisher parameter is not checked for null by any of the overloads, therefore nulls get lazily propagated to <code>DefaultStepVerifierBuilder.java:867</code>.\nSounds like a design issue that probably won't be ever fixed at least for a minor version upgrade because such a fix may break existing projects.</p>\n<h4>Option 1</h4>\n<p>So, having that in mind, you can create guarded versions of the create method overloads and somehow mark the <code>StepVerifier.create</code> methods deprecated for your project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic final class GuardedStepVerifier {\n\n    public static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher) {\n        if ( publisher == null ) {\n            throw new AssertionError(&quot;publisher not set up&quot;);\n        }\n        return StepVerifier.create(publisher);\n    }\n\n    public static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final long n) {\n        if ( publisher == null ) {\n            throw new AssertionError(&quot;publisher not set up&quot;);\n        }\n        return StepVerifier.create(publisher, n);\n    }\n\n    public static &lt;T&gt; StepVerifier.FirstStep&lt;T&gt; create(final Publisher&lt;? extends T&gt; publisher, final StepVerifierOptions options) {\n        if ( publisher == null ) {\n            throw new AssertionError(&quot;publisher not set up&quot;);\n        }\n        return StepVerifier.create(publisher, options);\n    }\n\n}\n</code></pre>\n<p>Compare the following tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic final class DefaultFooServiceTest {\n\n    private static final Foo foo1 = new Foo(UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;));\n    private static final Foo foo2 = new Foo(UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;));\n\n    @Mock\n    private FooRepository fooRepositoryMock;\n\n    @InjectMocks\n    private DefaultFooService unit;\n\n    @BeforeEach\n    void beforeEach() {\n        if ( false ) {\n            Mockito.doReturn(Flux.just(foo1, foo2))\n                    .when(fooRepositoryMock)\n                    .findAll();\n        }\n    }\n\n    @Test\n    void testFindAllWithStepVerifier() {\n        StepVerifier.create(unit.findAll())\n                .expectNext(foo1, foo2)\n                .verifyComplete();\n    }\n\n    @Test\n    void testFindAllWithGuardedStepVerifier() {\n        GuardedStepVerifier.create(unit.findAll())\n                .expectNext(foo1, foo2)\n                .verifyComplete();\n    }\n\n}\n</code></pre>\n<p><code>testFindAllWithStepVerifier</code> output:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.reactivestreams.Publisher.subscribe(org.reactivestreams.Subscriber)&quot; because &quot;publisher&quot; is null\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\n    at q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:40)\n    ...\n</code></pre>\n<p><code>testFindAllWithGuardedStepVerifier</code> output:</p>\n<pre><code>java.lang.AssertionError: publisher not set up\n    at q71419972.GuardedStepVerifier.create(GuardedStepVerifier.java:15)\n    at q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:45)\n    ...\n</code></pre>\n<p>The former is really obscure even for a simple test, but the latter <em>can</em> point something set up wrong at least by spotting the mistake (sure, not literally right in the logs, but only peeking into the source code using the stacktrace).\nAttempting to make it a bit more informative and meaningful probably won't work too because there is no a way to take that info from.</p>\n<p>However...\nHere goes the following:</p>\n<h4>Option 2</h4>\n<p>Make your mocks annotated with <code>@Mock(answer = Answers.RETURNS_SMART_NULLS)</code>.\nThis will produce the following outputs for the default and &quot;guarded&quot; versions respectively (I marked the diffs with <code>🔥</code>):</p>\n<pre><code>java.lang.AssertionError: expectation &quot;expectNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773))&quot; failed (expected: onNext(Foo(id=e00ab7f4-14eb-40d4-9cdb-109e8f88c773)); actual: onError(org.mockito.exceptions.verification.SmartNullPointerException: \nYou have a NullPointerException here:\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\nbecause this method call was *not* stubbed correctly:\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\nfooRepositoryMock.findAll();\n))\n\n    at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\n    at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\n    at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\n    at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\n    at reactor.test.DefaultStepVerifierBuilder.lambda$addExpectedValue$10(DefaultStepVerifierBuilder.java:501)\n    at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2218)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1490)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1438)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1091)\n    at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8472)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\n🔥  at q71419972.DefaultFooServiceTest.testFindAllWithStepVerifier(DefaultFooServiceTest.java:41)\n🔥 OR\n🔥  at q71419972.DefaultFooServiceTest.testFindAllWithGuardedStepVerifier(DefaultFooServiceTest.java:48)\n    ...\n    Suppressed: org.mockito.exceptions.verification.SmartNullPointerException: \nYou have a NullPointerException here:\n-&gt; at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\nbecause this method call was *not* stubbed correctly:\n-&gt; at q71419972.DefaultFooService.findAll(DefaultFooService.java:22)\nfooRepositoryMock.findAll();\n</code></pre>\n<p>As you can see, the error above reports that the <code>FooRepository.findAll</code> method was not stubbed, but the overall stack trace is longer.</p>\n<p>You choose.</p>\n"}],"owner":{"account_id":7512163,"reputation":349,"user_id":5706763,"accept_rate":93,"display_name":"Stanislav Matšel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647182697,"creation_date":1646895456,"question_id":71419972,"body_markdown":"I have simple example for demonstration of problem. Here is simple example of service depending on repository, very common for Spring Framework.\r\n\r\n**Foo.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport java.util.UUID;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Foo {\r\n\r\n    @Id\r\n    private UUID   id;\r\n    private String name;\r\n\r\n}\r\n\r\n```\r\n\r\n**FooRepository.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.repositories;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\n\r\nimport java.util.UUID;\r\n\r\npublic interface FooRepository extends ReactiveCrudRepository&lt;Foo, UUID&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n**DefaultFooService.java**\r\n\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.services;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@Service\r\npublic class DefaultFooService implements FooService {\r\n\r\n    private final FooRepository fooRepository;\r\n\r\n    public DefaultFooService(FooRepository fooRepository) {\r\n        this.fooRepository = fooRepository;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;Foo&gt; findAll() {\r\n        return fooRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**DefaultFooService.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.services;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@Service\r\npublic class DefaultFooService implements FooService {\r\n\r\n    private final FooRepository fooRepository;\r\n\r\n    public DefaultFooService(FooRepository fooRepository) {\r\n        this.fooRepository = fooRepository;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;Foo&gt; findAll() {\r\n        return fooRepository.findAll();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**DefaultFooServiceTest.java**\r\n\r\n```java\r\npackage dev.stanislavmachel.reactiveexperements.services;\r\n\r\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\r\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.test.StepVerifier;\r\n\r\nimport java.util.UUID;\r\n\r\n@ExtendWith(MockitoExtension.class)\r\nclass DefaultFooServiceTest {\r\n\r\n    @Mock\r\n    FooRepository fooRepository;\r\n\r\n    @InjectMocks\r\n    DefaultFooService fooService;\r\n\r\n    @Test\r\n    void testFindAll() {\r\n\r\n        var id1 = UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;);\r\n        var id2 = UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;);\r\n\r\n        var foo1 = new Foo();\r\n        foo1.setId(id1);\r\n\r\n        var foo2 = new Foo();\r\n        foo2.setId(id2);\r\n\r\n        var publisher = fooService.findAll();\r\n\r\n        var fooExpected1 = new Foo();\r\n        fooExpected1.setId(id1);\r\n\r\n        var fooExpected2 = new Foo();\r\n        fooExpected2.setId(id2);\r\n\r\n        StepVerifier.create(publisher)\r\n                    .expectNext(fooExpected1, fooExpected2)\r\n                    .verifyComplete();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can see that mock for `dev.stanislavmachel.reactiveexperements.services.DefaultFooService#findAll` haven&#39;t been setup in `dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest#testFindAll`.\r\n\r\nWhen I run test I will receive such error:\r\n\r\n```sh\r\n&gt; Task :compileJava UP-TO-DATE\r\n&gt; Task :processResources UP-TO-DATE\r\n&gt; Task :classes UP-TO-DATE\r\n&gt; Task :compileTestJava UP-TO-DATE\r\n&gt; Task :processTestResources NO-SOURCE\r\n&gt; Task :testClasses UP-TO-DATE\r\n&gt; Task :test FAILED\r\nMar 10, 2022 8:36:14 AM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\nINFO: 0 containers and 1 tests were Method or class mismatch\r\n\r\njava.lang.NullPointerException\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\r\n\tat dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest.testFindAll(DefaultFooServiceTest.java:75)\r\n\r\n\r\nDefaultFooServiceTest &gt; testFindAll() FAILED\r\n    java.lang.NullPointerException at DefaultFooServiceTest.java:75\r\n```\r\n\r\nAs you can see output from test only point to `DefaultFooServiceTest.java:75` -&gt; to `reactor.test.StepVerifier.LastStep#verifyComplete` call in test itself and not provide any useful information. If go with debugger to some methods provided in call stack it also not give any useful information.\r\n\r\nThis test is simple and it is really easy to find not properly setup mock, but if class have more than 3 dependencies it can be challenging sometimes.\r\n\r\nDoes it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn&#39;t found. \r\n\r\n\r\n","title":"How receive meaningful error from StepVerifier when mock object didn&#39;t setup in JUnit test?","body":"<p>I have simple example for demonstration of problem. Here is simple example of service depending on repository, very common for Spring Framework.</p>\n<p><strong>Foo.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.util.UUID;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Foo {\n\n    @Id\n    private UUID   id;\n    private String name;\n\n}\n\n</code></pre>\n<p><strong>FooRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.repositories;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\n\nimport java.util.UUID;\n\npublic interface FooRepository extends ReactiveCrudRepository&lt;Foo, UUID&gt; {\n\n}\n\n</code></pre>\n<p><strong>DefaultFooService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.services;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Flux;\n\n@Service\npublic class DefaultFooService implements FooService {\n\n    private final FooRepository fooRepository;\n\n    public DefaultFooService(FooRepository fooRepository) {\n        this.fooRepository = fooRepository;\n    }\n\n    @Override\n    public Flux&lt;Foo&gt; findAll() {\n        return fooRepository.findAll();\n    }\n\n}\n</code></pre>\n<p><strong>DefaultFooService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.services;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Flux;\n\n@Service\npublic class DefaultFooService implements FooService {\n\n    private final FooRepository fooRepository;\n\n    public DefaultFooService(FooRepository fooRepository) {\n        this.fooRepository = fooRepository;\n    }\n\n    @Override\n    public Flux&lt;Foo&gt; findAll() {\n        return fooRepository.findAll();\n    }\n\n}\n</code></pre>\n<p><strong>DefaultFooServiceTest.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.stanislavmachel.reactiveexperements.services;\n\nimport dev.stanislavmachel.reactiveexperements.model.Foo;\nimport dev.stanislavmachel.reactiveexperements.repositories.FooRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport reactor.core.publisher.Flux;\nimport reactor.test.StepVerifier;\n\nimport java.util.UUID;\n\n@ExtendWith(MockitoExtension.class)\nclass DefaultFooServiceTest {\n\n    @Mock\n    FooRepository fooRepository;\n\n    @InjectMocks\n    DefaultFooService fooService;\n\n    @Test\n    void testFindAll() {\n\n        var id1 = UUID.fromString(&quot;e00ab7f4-14eb-40d4-9cdb-109e8f88c773&quot;);\n        var id2 = UUID.fromString(&quot;809359bd-2d5b-4eb7-b666-f520c628027b&quot;);\n\n        var foo1 = new Foo();\n        foo1.setId(id1);\n\n        var foo2 = new Foo();\n        foo2.setId(id2);\n\n        var publisher = fooService.findAll();\n\n        var fooExpected1 = new Foo();\n        fooExpected1.setId(id1);\n\n        var fooExpected2 = new Foo();\n        fooExpected2.setId(id2);\n\n        StepVerifier.create(publisher)\n                    .expectNext(fooExpected1, fooExpected2)\n                    .verifyComplete();\n\n    }\n\n}\n</code></pre>\n<p>You can see that mock for <code>dev.stanislavmachel.reactiveexperements.services.DefaultFooService#findAll</code> haven't been setup in <code>dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest#testFindAll</code>.</p>\n<p>When I run test I will receive such error:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; Task :compileJava UP-TO-DATE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :compileTestJava UP-TO-DATE\n&gt; Task :processTestResources NO-SOURCE\n&gt; Task :testClasses UP-TO-DATE\n&gt; Task :test FAILED\nMar 10, 2022 8:36:14 AM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 1 tests were Method or class mismatch\n\njava.lang.NullPointerException\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:867)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:815)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:682)\n    at dev.stanislavmachel.reactiveexperements.services.DefaultFooServiceTest.testFindAll(DefaultFooServiceTest.java:75)\n\n\nDefaultFooServiceTest &gt; testFindAll() FAILED\n    java.lang.NullPointerException at DefaultFooServiceTest.java:75\n</code></pre>\n<p>As you can see output from test only point to <code>DefaultFooServiceTest.java:75</code> -&gt; to <code>reactor.test.StepVerifier.LastStep#verifyComplete</code> call in test itself and not provide any useful information. If go with debugger to some methods provided in call stack it also not give any useful information.</p>\n<p>This test is simple and it is really easy to find not properly setup mock, but if class have more than 3 dependencies it can be challenging sometimes.</p>\n<p>Does it possible to somehow turn on more meaningful errors with Reactor Project? May be here is more suitable testing approach or framework which can give more descriptive information to developer? For example point to method which mock wasn't found.</p>\n"},{"tags":["java","swing","state","jtabbedpane","jradiobutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1647182297,"post_id":71457697,"comment_id":126301672,"body_markdown":"Read the `JTabbedPane` API, especially all the &quot;getter&quot; methods. There are methods to return the selected tab index and another method to get the component of the selected tab index. Once you have the selected component you check the state of the radio button using methods of the JRadioButtron. This is basic programming. Follow the methods of the API.","body":"Read the <code>JTabbedPane</code> API, especially all the &quot;getter&quot; methods. There are methods to return the selected tab index and another method to get the component of the selected tab index. Once you have the selected component you check the state of the radio button using methods of the JRadioButtron. This is basic programming. Follow the methods of the API."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647182586,"post_id":71457697,"comment_id":126301735,"body_markdown":"`f.setLayout(null);` Use. *Layouts!* If not now, then certainly before you come asking us why the layout breaks. **Edit:** Also, please read the helpful tag pop-ups before slapping them on a post, and also look at the other tags suggested as possible alternates - for a more specific one.","body":"<code>f.setLayout(null);</code> Use. <i>Layouts!</i> If not now, then certainly before you come asking us why the layout breaks. <b>Edit:</b> Also, please read the helpful tag pop-ups before slapping them on a post, and also look at the other tags suggested as possible alternates - for a more specific one."}],"owner":{"account_id":24038741,"reputation":1,"user_id":18018693,"display_name":"Hussain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647182446,"creation_date":1647181650,"question_id":71457697,"body_markdown":"    import javax.swing.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class TabbedPaneExample {\r\n    JFrame f;\r\n    TabbedPaneExample(){\r\n    f=new JFrame();\r\n\r\n        JButton check = new JButton(&quot;Check state of RadioButton&quot;);\r\n        check.setBounds(50,280,200,60);\r\n        //selected tabbed radio button is selected ?\r\n\r\n        JPanel p1=new JPanel();\r\n        JPanel p2=new JPanel();\r\n        JPanel p3=new JPanel();\r\n        JRadioButton rb1 = new JRadioButton(&quot;Radio&quot;);\r\n        JRadioButton rb2= new JRadioButton(&quot;Radio&quot;);\r\n        JRadioButton rb3 = new JRadioButton(&quot;Radio&quot;);\r\n        rb1.setBounds(150,170,80,100);\r\n        rb2.setBounds(150,170,80,100);\r\n        rb3.setBounds(150,170,80,100);\r\n        p1.add(rb1);\r\n        p2.add(rb2);\r\n        p3.add(rb3);\r\n        JTabbedPane tp=new JTabbedPane();\r\n        tp.setBounds(50,50,200,200);\r\n        tp.add(&quot;main&quot;,p1);\r\n        tp.add(&quot;visit&quot;,p2);\r\n        tp.add(&quot;help&quot;,p3);\r\n\r\n        check.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                \r\n                // Q: is the radio button of the selected tab is checked\r\n                // what is the logic i can put here to get result\r\n                // show result into JOptionPane\r\n            }\r\n        });\r\n\r\n\r\n        f.add(tp);\r\n        f.add(check);\r\n        f.setSize(400,400);\r\n        f.setLayout(null);\r\n        f.setVisible(true);\r\n    }\r\n    public static void main(String[] args) {\r\n        new TabbedPaneExample();\r\n\r\n    }}\r\n\r\nQ: show radio button state(selected or unselected) of the active tab:\r\n\r\n[![https://i.stack.imgur.com/0pjIM.jpg][1]][1]\r\n\r\nI have three tab and these tab have the radio button, I want to get state(selected or unselected) of the radio button with respect to any active tab!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0pjIM.jpg","title":"Active Tabbed Radio is selected?","body":"<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class TabbedPaneExample {\nJFrame f;\nTabbedPaneExample(){\nf=new JFrame();\n\n    JButton check = new JButton(&quot;Check state of RadioButton&quot;);\n    check.setBounds(50,280,200,60);\n    //selected tabbed radio button is selected ?\n\n    JPanel p1=new JPanel();\n    JPanel p2=new JPanel();\n    JPanel p3=new JPanel();\n    JRadioButton rb1 = new JRadioButton(&quot;Radio&quot;);\n    JRadioButton rb2= new JRadioButton(&quot;Radio&quot;);\n    JRadioButton rb3 = new JRadioButton(&quot;Radio&quot;);\n    rb1.setBounds(150,170,80,100);\n    rb2.setBounds(150,170,80,100);\n    rb3.setBounds(150,170,80,100);\n    p1.add(rb1);\n    p2.add(rb2);\n    p3.add(rb3);\n    JTabbedPane tp=new JTabbedPane();\n    tp.setBounds(50,50,200,200);\n    tp.add(&quot;main&quot;,p1);\n    tp.add(&quot;visit&quot;,p2);\n    tp.add(&quot;help&quot;,p3);\n\n    check.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            \n            // Q: is the radio button of the selected tab is checked\n            // what is the logic i can put here to get result\n            // show result into JOptionPane\n        }\n    });\n\n\n    f.add(tp);\n    f.add(check);\n    f.setSize(400,400);\n    f.setLayout(null);\n    f.setVisible(true);\n}\npublic static void main(String[] args) {\n    new TabbedPaneExample();\n\n}}\n</code></pre>\n<p>Q: show radio button state(selected or unselected) of the active tab:</p>\n<p><a href=\"https://i.stack.imgur.com/0pjIM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pjIM.jpg\" alt=\"https://i.stack.imgur.com/0pjIM.jpg\" /></a></p>\n<p>I have three tab and these tab have the radio button, I want to get state(selected or unselected) of the radio button with respect to any active tab!</p>\n"},{"tags":["java","sockets","outputstream","broken-pipe"],"comments":[{"owner":{"account_id":775150,"reputation":3424,"user_id":822718,"accept_rate":77,"display_name":"Vahid"},"score":0,"creation_date":1504587316,"post_id":27788521,"comment_id":79053960,"body_markdown":"Would you please describe, how can you solve the problem?","body":"Would you please describe, how can you solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1420500864,"creation_date":1420500864,"answer_id":27789756,"question_id":27788521,"body_markdown":"&#39;Broken pipe&#39; means that you&#39;ve written data to a connection that has already been closed by the other end.\r\n\r\nErgo the problem lies at the other end, not in this code. Possibly the other end doesn&#39;t really understand your length-word protocol for example, or doesn&#39;t implement it correctly.\r\n\r\nIf it&#39;s anything like this code it won&#39;t, because you&#39;re ignoring the result returned by `read()` and assuming that it fills the buffer. It isn&#39;t specified to do that, only to transfer at least one byte. ","title":"java socket outputstream and broken pipe","body":"<p>'Broken pipe' means that you've written data to a connection that has already been closed by the other end.</p>\n\n<p>Ergo the problem lies at the other end, not in this code. Possibly the other end doesn't really understand your length-word protocol for example, or doesn't implement it correctly.</p>\n\n<p>If it's anything like this code it won't, because you're ignoring the result returned by <code>read()</code> and assuming that it fills the buffer. It isn't specified to do that, only to transfer at least one byte. </p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647182012,"creation_date":1647182012,"answer_id":71457753,"question_id":27788521,"body_markdown":"In common, receiving huge blocks is not supported by &lt;code&gt;DataInputStream&lt;/code&gt;, because the &lt;code&gt;read&lt;/code&gt;method just delegates to the underlying socket input stream and that socket input stream does not complain about not having read all. E.g. in Oracle Java 8 you get some 2^16 bytes and the rest is ignored. So when you close the socket after &lt;code&gt;DataInputStream.read&lt;/code&gt; has returned, the sender node observes a &quot;pipe broken&quot; while still trying the send the rest of the huge block. Solution is a windowed read. Below is a &lt;code&gt;DataInputStream&lt;/code&gt;-subclass, which does precisely this.\r\n\r\n    import java.io.DataInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class HugeDataInputStream extends DataInputStream\r\n    {\r\n    \tint maxBlockLength;\r\n    \r\n    \tpublic HugeDataInputStream(InputStream in)\r\n    \t{\r\n    \t\tthis(in, 0x8000);\r\n    \t}\r\n    \r\n    \tpublic HugeDataInputStream(InputStream in, int maxBlockLength)\r\n    \t{\r\n    \t\tsuper(in);\r\n    \t\tthis.maxBlockLength = maxBlockLength;\r\n    \t}\r\n    \r\n    \tpublic int readHuge(byte[] block) throws IOException\r\n    \t{\r\n    \t\tint n = block.length;\r\n    \t\tif (n &gt; maxBlockLength)\r\n    \t\t{\r\n    \t\t\tint cr = 0;\r\n    \t\t\twhile (cr &lt; n)\r\n    \t\t\t{\r\n    \t\t\t\tcr += super.read(block, cr, Math.min(n - cr, maxBlockLength));\r\n    \t\t\t}\r\n    \t\t\treturn cr;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn super.read(block);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"java socket outputstream and broken pipe","body":"<p>In common, receiving huge blocks is not supported by <code>DataInputStream</code>, because the <code>read</code>method just delegates to the underlying socket input stream and that socket input stream does not complain about not having read all. E.g. in Oracle Java 8 you get some 2^16 bytes and the rest is ignored. So when you close the socket after <code>DataInputStream.read</code> has returned, the sender node observes a &quot;pipe broken&quot; while still trying the send the rest of the huge block. Solution is a windowed read. Below is a <code>DataInputStream</code>-subclass, which does precisely this.</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class HugeDataInputStream extends DataInputStream\n{\n    int maxBlockLength;\n\n    public HugeDataInputStream(InputStream in)\n    {\n        this(in, 0x8000);\n    }\n\n    public HugeDataInputStream(InputStream in, int maxBlockLength)\n    {\n        super(in);\n        this.maxBlockLength = maxBlockLength;\n    }\n\n    public int readHuge(byte[] block) throws IOException\n    {\n        int n = block.length;\n        if (n &gt; maxBlockLength)\n        {\n            int cr = 0;\n            while (cr &lt; n)\n            {\n                cr += super.read(block, cr, Math.min(n - cr, maxBlockLength));\n            }\n            return cr;\n        }\n        else\n        {\n            return super.read(block);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1572275,"reputation":2365,"user_id":1459725,"accept_rate":94,"display_name":"J.R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8032,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":27789756,"answer_count":2,"score":5,"last_activity_date":1647182012,"creation_date":1420494731,"question_id":27788521,"body_markdown":"I have to send a dynamic buffer size to the socket stream.\r\nIt works correctly, but when I try to send multiple buffers with a size \r\nbigger than \r\n`int my_buffer_size =18 * 1024`; (this is an indicative value)\r\n\r\nI get the error (for some write):\r\n\r\n    Java.net.SocketException: Broken pipe\r\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\r\n\r\nMy code is very simple:\r\nFor example If I want to send a big file I read a file stream with \r\n\r\n    byte[] bs = new byte[my_buffer_size];\r\n    while (... ){ \r\n    fileInputStream.read(bs);\r\n    byte[] myBufferToSend = new byte[sizeBuffer];\r\n    DataOutputStream out = new DataOutputStream(cclient.getoutputStream());\r\n    out.writeInt(myBufferToSend.length);\r\n    out.write(myBufferToSend);\r\n    out.flush();\r\n    }\r\n\r\n(The file is just a test the buffer size can be variable)\r\n\r\nthe SendBufferSize is 146988.\r\n\r\nIs there a way to fix the broken pipe error? I read around but actually I didn’t solve the problem.\r\n\r\nThank you\r\nany help is appreciated\r\n\r\nI use the classic ServerSocket serverSocket;\r\nand Socket cclient","title":"java socket outputstream and broken pipe","body":"<p>I have to send a dynamic buffer size to the socket stream.\nIt works correctly, but when I try to send multiple buffers with a size \nbigger than \n<code>int my_buffer_size =18 * 1024</code>; (this is an indicative value)</p>\n\n<p>I get the error (for some write):</p>\n\n<pre><code>Java.net.SocketException: Broken pipe\nat java.net.SocketOutputStream.socketWrite0(Native Method)\n</code></pre>\n\n<p>My code is very simple:\nFor example If I want to send a big file I read a file stream with </p>\n\n<pre><code>byte[] bs = new byte[my_buffer_size];\nwhile (... ){ \nfileInputStream.read(bs);\nbyte[] myBufferToSend = new byte[sizeBuffer];\nDataOutputStream out = new DataOutputStream(cclient.getoutputStream());\nout.writeInt(myBufferToSend.length);\nout.write(myBufferToSend);\nout.flush();\n}\n</code></pre>\n\n<p>(The file is just a test the buffer size can be variable)</p>\n\n<p>the SendBufferSize is 146988.</p>\n\n<p>Is there a way to fix the broken pipe error? I read around but actually I didn’t solve the problem.</p>\n\n<p>Thank you\nany help is appreciated</p>\n\n<p>I use the classic ServerSocket serverSocket;\nand Socket cclient</p>\n"},{"tags":["java","jboss","jndi","hornetq"],"comments":[{"owner":{"account_id":1454095,"reputation":1249,"user_id":1370195,"display_name":"dreamwagon"},"score":8,"creation_date":1452716975,"post_id":34596069,"comment_id":57298042,"body_markdown":"Where are your client(s) running? Are they running on the same AS instances or from another instance/JVM, or both?","body":"Where are your client(s) running? Are they running on the same AS instances or from another instance/JVM, or both?"},{"owner":{"account_id":1801936,"reputation":9373,"user_id":1640038,"accept_rate":98,"display_name":"gravetii"},"score":3,"creation_date":1452834001,"post_id":34596069,"comment_id":57352037,"body_markdown":"@jjhavokk they would be running on another JVM","body":"@jjhavokk they would be running on another JVM"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":4,"creation_date":1458639357,"post_id":34596069,"comment_id":59938522,"body_markdown":"Could you enable HornetQ in High Availability mode (active - passive replication)? Couple that with server dynamic discovery and you should have reliable fallback. See http://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/ha.html\nand\nhttp://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/clusters.html","body":"Could you enable HornetQ in High Availability mode (active - passive replication)? Couple that with server dynamic discovery and you should have reliable fallback. See <a href=\"http://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/ha.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/&hellip;</a> and <a href=\"http://docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/clusters.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hornetq/2.4.0.Final/docs/user-manual/html/&hellip;</a>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":4,"creation_date":1499158792,"post_id":34596069,"comment_id":76780183,"body_markdown":"What version of jboss are you running?","body":"What version of jboss are you running?"},{"owner":{"account_id":1549831,"reputation":305,"user_id":1442498,"accept_rate":100,"display_name":"user1442498"},"score":5,"creation_date":1507598728,"post_id":34596069,"comment_id":80263543,"body_markdown":"I see this is really old, but I&#39;m wondering if you found the answer.  By now you probably know that the HA requires &lt;forward-when-no-consumers&gt;true&lt;/forward-when-no-consumers&gt; to propagate messages, but that the failback to master doesn&#39;t work. I&#39;ve had the same config in weblogic and websphere where the failback works, but does not with jboss.  Is there something to set to allow the master to sync and update missed messages so that a proper failback works?","body":"I see this is really old, but I&#39;m wondering if you found the answer.  By now you probably know that the HA requires &lt;forward-when-no-consumers&gt;true&lt;/forward-when-no-consumers&gt; to propagate messages, but that the failback to master doesn&#39;t work. I&#39;ve had the same config in weblogic and websphere where the failback works, but does not with jboss.  Is there something to set to allow the master to sync and update missed messages so that a proper failback works?"}],"answers":[{"tags":[],"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1518628232,"creation_date":1518626950,"answer_id":48792294,"question_id":34596069,"body_markdown":"With the architecture described it seems difficult to me, because indeed you need to reconfigure the slave as master and then you will have a certain outage.\r\n\r\n&gt; HornetQ HA is provided via a live-backup pair and load-balancing is\r\n&gt; provided via a cluster. \r\n&gt; \r\n&gt; If you want both HA and load-balancing then you will need 2\r\n&gt; live-backup pairs clustered together.\r\n&gt; \r\n&gt; Source: https://developer.jboss.org/thread/254232\r\n\r\nYou can reference the master not by the hostname but using a **virtual IP address**, so that in case the master is down, you can reconfigure one of the slaves as master, and start the virtual ip so you don&#39;t have to reconfigure the rest of the slaves. (To keep HA even when the master is down, you want to have 2 slaves, so that you can restart one of them as master and still one will be running).\r\n\r\nAnother way to achieve the same result is with a DNS hostname specific for the master that you can reconfigure to point to a different IP if one host is down. Since DNS is cached, this entries should better be in the &#39;hosts&#39; file.\r\n\r\nIf 3 hosts per HA-domain is too much hardware, you can accomplish this easier with virtual servers without the need to purchase more hardware.\r\n","title":"Steps to make an existing JNDI HornetQ service as HA?","body":"<p>With the architecture described it seems difficult to me, because indeed you need to reconfigure the slave as master and then you will have a certain outage.</p>\n\n<blockquote>\n  <p>HornetQ HA is provided via a live-backup pair and load-balancing is\n  provided via a cluster. </p>\n  \n  <p>If you want both HA and load-balancing then you will need 2\n  live-backup pairs clustered together.</p>\n  \n  <p>Source: <a href=\"https://developer.jboss.org/thread/254232\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/254232</a></p>\n</blockquote>\n\n<p>You can reference the master not by the hostname but using a <strong>virtual IP address</strong>, so that in case the master is down, you can reconfigure one of the slaves as master, and start the virtual ip so you don't have to reconfigure the rest of the slaves. (To keep HA even when the master is down, you want to have 2 slaves, so that you can restart one of them as master and still one will be running).</p>\n\n<p>Another way to achieve the same result is with a DNS hostname specific for the master that you can reconfigure to point to a different IP if one host is down. Since DNS is cached, this entries should better be in the 'hosts' file.</p>\n\n<p>If 3 hosts per HA-domain is too much hardware, you can accomplish this easier with virtual servers without the need to purchase more hardware.</p>\n"}],"owner":{"account_id":1801936,"reputation":9373,"user_id":1640038,"accept_rate":98,"display_name":"gravetii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3109,"favorite_count":0,"down_vote_count":1,"up_vote_count":179,"answer_count":1,"score":178,"last_activity_date":1647181448,"creation_date":1451926800,"question_id":34596069,"body_markdown":"TL;DR\r\n\r\nWhat are the steps to configure a HA-JNDI service with a HornetQ setup? I believe the documentation is a little scattered. I have read through the docs [here][1] but doesn&#39;t seem to illustrate in detail.\r\n\r\nLonger version:\r\n\r\nSo we have a HornetQ JMS setup along with JNDI. We have say 5 servers, that run the HornetQ JMS primary instance with JNDI service on each. On each of these 5 servers, we also have a secondary instance running for some other HornetQ primary instance. \r\n\r\nTo illustrate:\r\n\r\n    Server A - HornetQa_primary, JNDI, HornetQb_secondary\r\n    Server B - HornetQb_primary, JNDI, HornetQc_secondary\r\n    Server C - HornetQc_primary, JNDI, HornetQd_secondary\r\n    Server D - HornetQd_primary, JNDI, HornetQe_secondary\r\n    Server E - HornetQe_primary, JNDI, HornetQa_secondary\r\n\r\nEach of these HornetQ servers serve as middleware for our various backend needs, so that means 5 servers, 5 HornetQ primary instances, 5 HornetQ secondary instances and 5 JNDI servers. The problem, however, with this setup is that if a server host (not just the process, the host itself), say A goes down, ideally the service should fallback to the HornetQ running on server E which hosts A&#39;s HornetQ secondary. However, to resume as HornetQ primary, the HornetQa_secondary needs to talk to the JNDI process running on server A (I presume to replicate messages). Since the host A is itself down, the HornetQa_secondary running on E has no way to talk to the JNDI on A, and thus, cannot resume as the primary process. \r\n\r\nHad the JNDI service been highly available, the secondary HornetQ process could resume as primary as expected. Can anyone point to the docs or illustrate in simple steps how we could convert our existing setup to a HA-JNDI? For what it&#39;s worth, I have read multiple [sources][1], but it doesn&#39;t seem to illustrate in much detail about how to get going with configuring a HA-JNDI. Please let me know if you need more info about our current setup.\r\n\r\n  [1]: https://docs.jboss.org/jbossclustering/cluster_guide/5.1/html/clustering-jndi.html#clustering-jndi-jboss","title":"Steps to make an existing JNDI HornetQ service as HA?","body":"<p>TL;DR</p>\n<p>What are the steps to configure a HA-JNDI service with a HornetQ setup? I believe the documentation is a little scattered. I have read through the docs <a href=\"https://docs.jboss.org/jbossclustering/cluster_guide/5.1/html/clustering-jndi.html#clustering-jndi-jboss\" rel=\"nofollow noreferrer\">here</a> but doesn't seem to illustrate in detail.</p>\n<p>Longer version:</p>\n<p>So we have a HornetQ JMS setup along with JNDI. We have say 5 servers, that run the HornetQ JMS primary instance with JNDI service on each. On each of these 5 servers, we also have a secondary instance running for some other HornetQ primary instance.</p>\n<p>To illustrate:</p>\n<pre><code>Server A - HornetQa_primary, JNDI, HornetQb_secondary\nServer B - HornetQb_primary, JNDI, HornetQc_secondary\nServer C - HornetQc_primary, JNDI, HornetQd_secondary\nServer D - HornetQd_primary, JNDI, HornetQe_secondary\nServer E - HornetQe_primary, JNDI, HornetQa_secondary\n</code></pre>\n<p>Each of these HornetQ servers serve as middleware for our various backend needs, so that means 5 servers, 5 HornetQ primary instances, 5 HornetQ secondary instances and 5 JNDI servers. The problem, however, with this setup is that if a server host (not just the process, the host itself), say A goes down, ideally the service should fallback to the HornetQ running on server E which hosts A's HornetQ secondary. However, to resume as HornetQ primary, the HornetQa_secondary needs to talk to the JNDI process running on server A (I presume to replicate messages). Since the host A is itself down, the HornetQa_secondary running on E has no way to talk to the JNDI on A, and thus, cannot resume as the primary process.</p>\n<p>Had the JNDI service been highly available, the secondary HornetQ process could resume as primary as expected. Can anyone point to the docs or illustrate in simple steps how we could convert our existing setup to a HA-JNDI? For what it's worth, I have read multiple <a href=\"https://docs.jboss.org/jbossclustering/cluster_guide/5.1/html/clustering-jndi.html#clustering-jndi-jboss\" rel=\"nofollow noreferrer\">sources</a>, but it doesn't seem to illustrate in much detail about how to get going with configuring a HA-JNDI. Please let me know if you need more info about our current setup.</p>\n"},{"tags":["java","string","unit-testing","junit","assert"],"comments":[{"owner":{"account_id":3044796,"reputation":3439,"user_id":2580773,"display_name":"David SN"},"score":0,"creation_date":1647168215,"post_id":71455857,"comment_id":126298593,"body_markdown":"You should put the errors you got in the question, that would help people to understand your problem.","body":"You should put the errors you got in the question, that would help people to understand your problem."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647169603,"creation_date":1647169011,"answer_id":71456036,"question_id":71455857,"body_markdown":"`isPalindrome(String)` accepts a string parameter, but you call it without param - `assertEquals(&quot;madam&quot;, a.isPalindrome());`\r\n\r\nAnother thing - you don&#39;t use static methods from instance, you use them from class itself. You should remove `a = new StringUtility();` and\r\n```\r\nString reversedString = a.reverse(&quot;abc&quot;);\r\n```\r\nshould become\r\n```\r\nString reversedString = StringUtility.reverse(&quot;abc&quot;);\r\n```\r\nThe same applies for the rest of your tests.","title":"JUnit testing for Strings","body":"<p><code>isPalindrome(String)</code> accepts a string parameter, but you call it without param - <code>assertEquals(&quot;madam&quot;, a.isPalindrome());</code></p>\n<p>Another thing - you don't use static methods from instance, you use them from class itself. You should remove <code>a = new StringUtility();</code> and</p>\n<pre><code>String reversedString = a.reverse(&quot;abc&quot;);\n</code></pre>\n<p>should become</p>\n<pre><code>String reversedString = StringUtility.reverse(&quot;abc&quot;);\n</code></pre>\n<p>The same applies for the rest of your tests.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647180949,"creation_date":1647180949,"answer_id":71457602,"question_id":71455857,"body_markdown":"I can&#39;t say anything about `testMaxOccuringCharacterException()` because you didn&#39;t share that test.\r\n\r\nThe `testIsPalindrome()` doesn&#39;t compile because it is missing a parameter to the `StringUtility.isPalindrome()` method: which string should be checked whether it is a palindrome or not?\r\n\r\nTo make the test class compile you need to change the `testIsPalindrome()` method into\r\n\r\n    @Test\r\n    public void testIsPalindrome() {\r\n        assertEquals(&quot;madam&quot;, StringUtility.isPalindrome(&quot;madam&quot;));\r\n    }\r\n\r\nPlease note that this change will make your test class compile but the `testIsPalindrome()` test will fail. This is because the `isPalindrome()` method returns a boolean (either true or false), but your test expects the returned value to be a string.\r\n\r\n----\r\n\r\nThe `testReverse()` test fails because what the test verifies is not what the `reverse()` method does:\r\n\r\n- The `reverse()` methods splits the input sentence into space separeted chunks (words) and reverses the sequence of those chunks (words) (i.e. it changes &quot;hello world&quot; into &quot;world hello&quot;).\r\n- The `testReverse()` tries to verify that &quot;abc&quot; is changed to &quot;cba&quot;.\r\n\r\n","title":"JUnit testing for Strings","body":"<p>I can't say anything about <code>testMaxOccuringCharacterException()</code> because you didn't share that test.</p>\n<p>The <code>testIsPalindrome()</code> doesn't compile because it is missing a parameter to the <code>StringUtility.isPalindrome()</code> method: which string should be checked whether it is a palindrome or not?</p>\n<p>To make the test class compile you need to change the <code>testIsPalindrome()</code> method into</p>\n<pre><code>@Test\npublic void testIsPalindrome() {\n    assertEquals(&quot;madam&quot;, StringUtility.isPalindrome(&quot;madam&quot;));\n}\n</code></pre>\n<p>Please note that this change will make your test class compile but the <code>testIsPalindrome()</code> test will fail. This is because the <code>isPalindrome()</code> method returns a boolean (either true or false), but your test expects the returned value to be a string.</p>\n<hr />\n<p>The <code>testReverse()</code> test fails because what the test verifies is not what the <code>reverse()</code> method does:</p>\n<ul>\n<li>The <code>reverse()</code> methods splits the input sentence into space separeted chunks (words) and reverses the sequence of those chunks (words) (i.e. it changes &quot;hello world&quot; into &quot;world hello&quot;).</li>\n<li>The <code>testReverse()</code> tries to verify that &quot;abc&quot; is changed to &quot;cba&quot;.</li>\n</ul>\n"}],"owner":{"account_id":24541681,"reputation":11,"user_id":18451976,"display_name":"Kingie Vo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647180949,"creation_date":1647167640,"question_id":71455857,"body_markdown":"I&#39;m writing these methods for the class of StringUtility, but I get really stuck at writing some JUnit test for them.\r\nThe first method is reverse():\r\n```\r\n/**\r\n * @author Nguyen Vo\r\n */\r\npublic class StringUtility {\r\n    public static String reverse(String sentence){\r\n        sentence = sentence.toLowerCase();\r\n        String[] sentenceArray = sentence.split(&quot;\\\\s+&quot;);\r\n        String reversedSentence = &quot;&quot;;\r\n        \r\n        for (int i = sentenceArray.length - 1; i&gt;=0; i--){\r\n            reversedSentence += sentenceArray[i] + &quot; &quot;;\r\n        }\r\n        return reversedSentence;\r\n    }\r\n```\r\nThe second one is maxOccuringCharacter(), which returns the max occuring char from a string:\r\n```\r\n    public static char maxOccuringCharacter(String sentence) throws IllegalArgumentException{\r\n        \r\n        sentence = sentence.toLowerCase();\r\n        if (sentence == null || sentence.length() == 0)\r\n        throw new IllegalArgumentException();\r\n\r\n        char max_occuring_char = &#39; &#39;;\r\n        int max_count = 0;\r\n\r\n        for (int i = 0; i &lt; sentence.length(); i++) {\r\n            if (Character.isAlphabetic(sentence.charAt(i))) {\r\n                int count = 0;\r\n                for (int j = 0; j &lt; sentence.length(); j++) {\r\n                    if (sentence.charAt(i) == sentence.charAt(j))\r\n                    count++;\r\n                }\r\n                if (count &gt; max_count) {\r\n                    max_occuring_char = sentence.charAt(i);\r\n                    max_count = count;\r\n                }\r\n            }\r\n        }\r\n        return max_occuring_char;\r\n    }\r\n```\r\nAnd the last one is isPalindrome(). A palindrome is a sequence of characters that read the same backward as forward, such as madam or racecar.\r\n```\r\n    public static boolean isPalindrome(String sentence){\r\n        \r\n        if (sentence.equals(&quot;&quot;)){\r\n            return true;\r\n        }\r\n        \r\n        String anotherSentence = &quot;&quot;;\r\n        for (int i = sentence.length() - 1; i &gt;= 0; i--){\r\n            anotherSentence += sentence.charAt(i);\r\n        }\r\n        \r\n        return sentence.equals(anotherSentence);       \r\n    }\r\n}\r\n```\r\nThose code&#39;s syntax from StringUtility  is correct, but I get some trouble writing these JUnit testing: testReverse(), testMaxOccuringCharacterException(), textMaxOccuringCharacter(), and testIsPalindrome(). These at least looks good to me, but it keeps showing errors. Probably I got wrong somewhere somehow. Could anyone please give me a hand ?\r\nThanks for all your helps here!\r\n```\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotEquals;\r\nimport static org.junit.Assert.assertFalse;\r\nimport static org.junit.Assert.assertTrue;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\npublic class StringUtilityTester{\r\n\tprivate StringUtility a;\r\n\r\n/**\r\n * Nguyen Vo\r\n */\r\n\t@Before\r\n\tpublic void setup(){\r\n\t\ta = new StringUtility();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testReverse(){\r\n\t\tString reversedString = a.reverse(&quot;abc&quot;);\r\n\t\tassertEquals(&quot;cba&quot;, reversedString);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testMaxOccuringCharacter(){\r\n\t\tassertEquals(&#39;a&#39;, a.maxOccuringCharacter(&quot;aaaaaab&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testIsPalindrome(){\r\n\t\tassertEquals(&quot;madam&quot;, a.isPalindrome());\r\n\t}\r\n}\r\n```\r\n","title":"JUnit testing for Strings","body":"<p>I'm writing these methods for the class of StringUtility, but I get really stuck at writing some JUnit test for them.\nThe first method is reverse():</p>\n<pre><code>/**\n * @author Nguyen Vo\n */\npublic class StringUtility {\n    public static String reverse(String sentence){\n        sentence = sentence.toLowerCase();\n        String[] sentenceArray = sentence.split(&quot;\\\\s+&quot;);\n        String reversedSentence = &quot;&quot;;\n        \n        for (int i = sentenceArray.length - 1; i&gt;=0; i--){\n            reversedSentence += sentenceArray[i] + &quot; &quot;;\n        }\n        return reversedSentence;\n    }\n</code></pre>\n<p>The second one is maxOccuringCharacter(), which returns the max occuring char from a string:</p>\n<pre><code>    public static char maxOccuringCharacter(String sentence) throws IllegalArgumentException{\n        \n        sentence = sentence.toLowerCase();\n        if (sentence == null || sentence.length() == 0)\n        throw new IllegalArgumentException();\n\n        char max_occuring_char = ' ';\n        int max_count = 0;\n\n        for (int i = 0; i &lt; sentence.length(); i++) {\n            if (Character.isAlphabetic(sentence.charAt(i))) {\n                int count = 0;\n                for (int j = 0; j &lt; sentence.length(); j++) {\n                    if (sentence.charAt(i) == sentence.charAt(j))\n                    count++;\n                }\n                if (count &gt; max_count) {\n                    max_occuring_char = sentence.charAt(i);\n                    max_count = count;\n                }\n            }\n        }\n        return max_occuring_char;\n    }\n</code></pre>\n<p>And the last one is isPalindrome(). A palindrome is a sequence of characters that read the same backward as forward, such as madam or racecar.</p>\n<pre><code>    public static boolean isPalindrome(String sentence){\n        \n        if (sentence.equals(&quot;&quot;)){\n            return true;\n        }\n        \n        String anotherSentence = &quot;&quot;;\n        for (int i = sentence.length() - 1; i &gt;= 0; i--){\n            anotherSentence += sentence.charAt(i);\n        }\n        \n        return sentence.equals(anotherSentence);       \n    }\n}\n</code></pre>\n<p>Those code's syntax from StringUtility  is correct, but I get some trouble writing these JUnit testing: testReverse(), testMaxOccuringCharacterException(), textMaxOccuringCharacter(), and testIsPalindrome(). These at least looks good to me, but it keeps showing errors. Probably I got wrong somewhere somehow. Could anyone please give me a hand ?\nThanks for all your helps here!</p>\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class StringUtilityTester{\n    private StringUtility a;\n\n/**\n * Nguyen Vo\n */\n    @Before\n    public void setup(){\n        a = new StringUtility();\n    }\n\n    @Test\n    public void testReverse(){\n        String reversedString = a.reverse(&quot;abc&quot;);\n        assertEquals(&quot;cba&quot;, reversedString);\n    }\n    \n    @Test\n    public void testMaxOccuringCharacter(){\n        assertEquals('a', a.maxOccuringCharacter(&quot;aaaaaab&quot;));\n    }\n\n    @Test\n    public void testIsPalindrome(){\n        assertEquals(&quot;madam&quot;, a.isPalindrome());\n    }\n}\n</code></pre>\n"},{"tags":["java","rotation","binary-tree","avl-tree"],"answers":[{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412071274,"creation_date":1412062281,"answer_id":26115166,"question_id":26113441,"body_markdown":"If you have such a bug then it is always helpful to imagine what is done. I&#39;ve added (personal) comments to you implementation:\r\n\r\n    private void balanceRight() {\r\n      TreeNode oldRoot = root;     // Save the current root (1)\r\n      if (root.left != null)       // This does not matter as first an assignment of null does not matter\r\n                                   // second the next assignment is a NoOp\r\n        oldRoot.left = root.left;  // this is an assignment with no effect (2)\r\n      if (root.right != null)\r\n        root = root.right;         // Setting the new root (3)\r\n      if (root.left != null)       // Now root.left is the left part of the previous root.right\r\n                                   // the left part of the previous root is discarded this way\r\n        oldRoot.right = root.left; // oldRoot will be invalid after this operation therefore it does not matter (4)\r\n    }\r\n\r\nI&#39;ve corrected your algorithm (at least for the right balancing. The left balancing can be done by you if you follow my guidelines). To create such an algorithm you can use a technique that I introduce in the following:\r\n\r\n    private void balanceRight() {\r\n      TreeNode oldRoot = root;     // Save the current root (1)\r\n      if (root.right != null) {    // Can this ever happen? (*)\r\n        root = root.right;         // Setting the new root  (2)\r\n      }\r\n      oldRoot.right = root.left; // Assign the left sub tree to the previous root right tree (3)\r\n      root.left = oldRoot;       // Assign to the new left tree the prevouis left tree (4)\r\n    }\r\n\r\n(*) This should never happen as if we balance right then the right tree is larger than the left one.\r\n\r\nTo understand the algorithm it is helpful to write down what happens in the algorithm:\r\n\r\nFirst I draw a tree that is as simple as needed for this algorithm.\r\n\r\n      1\r\n     / \\\r\n    2   3\r\n       / \\\r\n      4   5\r\n\r\nNow I write down all pointers link at every stage of the algorithm (the numbers correspondent with the numbers in the algorithm):\r\n\r\n(1)\r\n\r\n    root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(2)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(3)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\r\n\r\n(4)\r\n\r\n    root    -&gt; 3 / left -&gt; 1 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\r\n\r\nNow I compose the tree back again:\r\n\r\n        3\r\n       / \\\r\n      1   5\r\n     / \\\r\n    2   4\r\n\r\nWith your algorithm it looks like (the numbers reference to the numbers I inserted in your algorithm):\r\n\r\n      1\r\n     / \\\r\n    2   3\r\n       / \\\r\n      4   5\r\n\r\n(1)\r\n\r\n    root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(2)\r\n\r\n    root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(3)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\r\n\r\n(4)\r\n\r\n    root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\r\n    oldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\r\n\r\nThe result of your algorithm is then:\r\n\r\n      3\r\n     / \\\r\n    4   5\r\n\r\nEspecially such algorithm can be evaluated at best when using paper and pencil ;)","title":"Rotating a binary search tree","body":"<p>If you have such a bug then it is always helpful to imagine what is done. I've added (personal) comments to you implementation:</p>\n\n<pre><code>private void balanceRight() {\n  TreeNode oldRoot = root;     // Save the current root (1)\n  if (root.left != null)       // This does not matter as first an assignment of null does not matter\n                               // second the next assignment is a NoOp\n    oldRoot.left = root.left;  // this is an assignment with no effect (2)\n  if (root.right != null)\n    root = root.right;         // Setting the new root (3)\n  if (root.left != null)       // Now root.left is the left part of the previous root.right\n                               // the left part of the previous root is discarded this way\n    oldRoot.right = root.left; // oldRoot will be invalid after this operation therefore it does not matter (4)\n}\n</code></pre>\n\n<p>I've corrected your algorithm (at least for the right balancing. The left balancing can be done by you if you follow my guidelines). To create such an algorithm you can use a technique that I introduce in the following:</p>\n\n<pre><code>private void balanceRight() {\n  TreeNode oldRoot = root;     // Save the current root (1)\n  if (root.right != null) {    // Can this ever happen? (*)\n    root = root.right;         // Setting the new root  (2)\n  }\n  oldRoot.right = root.left; // Assign the left sub tree to the previous root right tree (3)\n  root.left = oldRoot;       // Assign to the new left tree the prevouis left tree (4)\n}\n</code></pre>\n\n<p>(*) This should never happen as if we balance right then the right tree is larger than the left one.</p>\n\n<p>To understand the algorithm it is helpful to write down what happens in the algorithm:</p>\n\n<p>First I draw a tree that is as simple as needed for this algorithm.</p>\n\n<pre><code>  1\n / \\\n2   3\n   / \\\n  4   5\n</code></pre>\n\n<p>Now I write down all pointers link at every stage of the algorithm (the numbers correspondent with the numbers in the algorithm):</p>\n\n<p>(1)</p>\n\n<pre><code>root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(2)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(3)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\n</code></pre>\n\n<p>(4)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 1 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\n</code></pre>\n\n<p>Now I compose the tree back again:</p>\n\n<pre><code>    3\n   / \\\n  1   5\n / \\\n2   4\n</code></pre>\n\n<p>With your algorithm it looks like (the numbers reference to the numbers I inserted in your algorithm):</p>\n\n<pre><code>  1\n / \\\n2   3\n   / \\\n  4   5\n</code></pre>\n\n<p>(1)</p>\n\n<pre><code>root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(2)</p>\n\n<pre><code>root    -&gt; 1 / left -&gt; 2 / right -&gt; 3\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(3)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 3\n</code></pre>\n\n<p>(4)</p>\n\n<pre><code>root    -&gt; 3 / left -&gt; 4 / right -&gt; 5\noldRoot -&gt; 1 / left -&gt; 2 / right -&gt; 4\n</code></pre>\n\n<p>The result of your algorithm is then:</p>\n\n<pre><code>  3\n / \\\n4   5\n</code></pre>\n\n<p>Especially such algorithm can be evaluated at best when using paper and pencil ;)</p>\n"}],"owner":{"account_id":5105461,"reputation":43,"user_id":4093651,"accept_rate":40,"display_name":"colobia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647180215,"creation_date":1412055287,"question_id":26113441,"body_markdown":"I am implementing a binary search tree. I have created a method to rotate the tree if I find that the tree is out of balance. Somehow this method is not working correctly and my tree is emptied. Only the last two values I added to make the tree unbalanced are still left in the tree. Can you tell me what is wrong with my algorithm? I have not posted the entire class because it is very long and do not want to confuse anyone.\r\n\r\n \r\n\r\n     public boolean balanceBST(){\r\n    \t  if (root == null){\r\n    \t\t  return false;\r\n    \t  }\r\n    \t  \r\n    \t  int right = treeHeight(root.right);\r\n    \t  int left = treeHeight(root.left);\r\n    \t  \r\n    \t  if (nodeBalanceLevel(root) &gt; 1){\r\n    \t\t  \r\n    \t\t        if (right - left &gt; 1){\r\n    \t\t        \tthis.balanceRight();\r\n            }\r\n            if ( left - right &gt; 1){\r\n            this.balanceLeft();\t\r\n            }\r\n            return balanceBST();  \r\n            \r\n    \t  }\r\n    \t\r\n    \treturn true;\r\n    \t  \r\n      }\r\n      \r\n      private void balanceRight(){\r\n    \t    \r\n    \t        TreeNode oldRoot = root;\r\n    \t        if (root.left != null)\r\n    \t        oldRoot.left = root.left;\r\n    \t        if (root.right != null)\r\n    \t        root = root.right;\r\n    \t        if (root.left != null)\r\n    \t         oldRoot.right = root.left; \r\n      }\r\n      \r\n      public void balanceLeft(){\r\n    \t  TreeNode oldRoot = root;\r\n    \t  if (root.right != null)\r\n          oldRoot.right = root.right;\r\n    \t  if (root.left != null)\r\n          root = root.left;\r\n    \t  if (root.right != null)\r\n           oldRoot.left = root.right;   \r\n      }","title":"Rotating a binary search tree","body":"<p>I am implementing a binary search tree. I have created a method to rotate the tree if I find that the tree is out of balance. Somehow this method is not working correctly and my tree is emptied. Only the last two values I added to make the tree unbalanced are still left in the tree. Can you tell me what is wrong with my algorithm? I have not posted the entire class because it is very long and do not want to confuse anyone.</p>\n\n<pre><code> public boolean balanceBST(){\n      if (root == null){\n          return false;\n      }\n\n      int right = treeHeight(root.right);\n      int left = treeHeight(root.left);\n\n      if (nodeBalanceLevel(root) &gt; 1){\n\n                if (right - left &gt; 1){\n                    this.balanceRight();\n        }\n        if ( left - right &gt; 1){\n        this.balanceLeft(); \n        }\n        return balanceBST();  \n\n      }\n\n    return true;\n\n  }\n\n  private void balanceRight(){\n\n            TreeNode oldRoot = root;\n            if (root.left != null)\n            oldRoot.left = root.left;\n            if (root.right != null)\n            root = root.right;\n            if (root.left != null)\n             oldRoot.right = root.left; \n  }\n\n  public void balanceLeft(){\n      TreeNode oldRoot = root;\n      if (root.right != null)\n      oldRoot.right = root.right;\n      if (root.left != null)\n      root = root.left;\n      if (root.right != null)\n       oldRoot.left = root.right;   \n  }\n</code></pre>\n"},{"tags":["java","android","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647111786,"post_id":71451423,"comment_id":126293067,"body_markdown":"You should use IS_PENDING twice.","body":"You should use IS_PENDING twice."}],"answers":[{"tags":[],"owner":{"account_id":2565653,"reputation":649,"user_id":2225812,"accept_rate":14,"display_name":"Jerry Agin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647180138,"creation_date":1647116245,"answer_id":71452653,"question_id":71451423,"body_markdown":"As pointed out by blackapps, the solution is to add IS_PENDING to the ContentValues.\r\nThe code that now works correctly is:\r\n\r\n\tprivate static Uri contentUri = null;\r\n\tpublic void onClick( DialogInterface dialog, int whichButton )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString fileName = &quot;mySoundFile.mp3&quot;;\r\n\t\t\tContentValues values = new ContentValues();\r\n\t\t\tvalues.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\r\n\t\t\tvalues.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\r\n\t\t\tvalues.put( MediaStore.Audio.Media.IS_PENDING, 1 );\r\n\t\t\tUri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\r\n\t\t\t\tMediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n\t\t\t\t: MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n\t\t\tcontentUri = Utils.getContentResolver().insert( audioCollection, values );\r\n\t\t\tOutputStream stream = Utils.getContentResolver().openOutputStream( contentUri );\r\n\t\t\tdoSave( getActivity(), stream );\r\n\t\t}\r\n\t\tcatch ( IOException e )\r\n\t\t{\r\n\t\t\tLog.i( &quot;MyApp&quot;, &quot;save failed&quot; );\r\n\t\t}\r\n\t}\r\n\tprotected void onPostExecute( Boolean success )\t// part of the ASyncTask that does the saving\r\n\t{\r\n\t\tif ( success )\r\n\t\t{\r\n\t\t\tContentValues details = new ContentValues();\r\n\t\t\tdetails.put( MediaStore.Audio.Media.IS_PENDING, 0 );\r\n\t\t\tUtils.getContentResolver().update( contentUri, details, null, null );\r\n\t\t}\r\n\t}\r\n","title":"Why are new MediaStore files empty?","body":"<p>As pointed out by blackapps, the solution is to add IS_PENDING to the ContentValues.\nThe code that now works correctly is:</p>\n<pre><code>private static Uri contentUri = null;\npublic void onClick( DialogInterface dialog, int whichButton )\n{\n    try\n    {\n        String fileName = &quot;mySoundFile.mp3&quot;;\n        ContentValues values = new ContentValues();\n        values.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\n        values.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\n        values.put( MediaStore.Audio.Media.IS_PENDING, 1 );\n        Uri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\n            MediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n            : MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        contentUri = Utils.getContentResolver().insert( audioCollection, values );\n        OutputStream stream = Utils.getContentResolver().openOutputStream( contentUri );\n        doSave( getActivity(), stream );\n    }\n    catch ( IOException e )\n    {\n        Log.i( &quot;MyApp&quot;, &quot;save failed&quot; );\n    }\n}\nprotected void onPostExecute( Boolean success ) // part of the ASyncTask that does the saving\n{\n    if ( success )\n    {\n        ContentValues details = new ContentValues();\n        details.put( MediaStore.Audio.Media.IS_PENDING, 0 );\n        Utils.getContentResolver().update( contentUri, details, null, null );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2565653,"reputation":649,"user_id":2225812,"accept_rate":14,"display_name":"Jerry Agin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647180138,"creation_date":1647103068,"question_id":71451423,"body_markdown":"I&#39;m trying to upgrade my app to use use scoped storage.  (Yes, I should have\r\ndone this a year ago.)  The old version writes to a File in a directory\r\nrelative to Environment.getExternalStorageDirectory().  The new version\r\nwrites to a uri from MediaStore.Audio.Media.getContentUri().  My code has no\r\nproblem creating files in the mediastore destination directory, but the\r\nfiles are empty.\r\n\r\nMy code is below.  I&#39;m compiling under targetSdkVersion 29.  I&#39;ve set it up\r\nso I can compare the old version and the new version by setting\r\nuseMediaStore to either true or false.  Both versions call the same doSave()\r\nroutine.\r\n\r\ndoSave starts an asynchronous process to write the files, display a\r\nprogress bar, and report the result.  At the working end of the process\r\nOutputStream.write is called, and we keep track of the number of bytes\r\nwritten.  After the entire file is written, we call OutputStream.close(), and\r\nreport the number of bytes written.\r\n\r\nWhen userMediaStore is false, fileName evaluates to\r\n/storage/emulated/0/MyApp/mySoundFile.mp3 and the file gets created with the\r\nexpected length.  When useMediaStore is true, uri evaluates to\r\ncontent://media/external_primary/audio/media/112, which turns out to be the\r\nsame as /Music.  The file is created but it is empty.  doSave() runs the\r\nsame in either case, and reports same number of bytes written.\r\n\r\nThe curious thing about it is that occasionally the MediaStore version works\r\ncorrectly.  Then I change something and it stops working, and putting the\r\ncode back to where it was doesn&#39;t restore the function.\r\n\r\n\tpublic static boolean useMediaStore = true;\r\n\tpublic void onClick( DialogInterface dialog, int whichButton )\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tString fileName = &quot;mySoundFile.mp3&quot;;\r\n\t\t\tif ( useMediaStore )\r\n\t\t\t{\r\n\t\t\t\tContentValues values = new ContentValues();\r\n\t\t\t\tvalues.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\r\n\t\t\t\tvalues.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\r\n\t\t\t\tUri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\r\n\t\t\t\t\tMediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n\t\t\t\t\t: MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n\t\t\t\tUri uri = Utils.getContentResolver().insert( audioCollection, values );\r\n\t\t\t\tOutputStream stream = Utils.getContentResolver().openOutputStream( uri );\r\n\t\t\t\tdoSave( getActivity(), stream );\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tFile outputDir = new File( Environment.getExternalStorageDirectory(), &quot;MyApp&quot; );\r\n\t\t\t\tif ( outputDir != null &amp;&amp; ( outputDir.exists() || outputDir.mkdirs() ) )\r\n\t\t\t\t{\r\n\t\t\t\t\tFile outputFile = new File( outputDir, fileName );\r\n\t\t\t\t\tOutputStream stream = new FileOutputStream( outputFile );\r\n\t\t\t\t\tdoSave( getActivity(), stream );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch ( IOException e )\r\n\t\t{\r\n\t\t\tLog.i( &quot;MyApp&quot;, &quot;save failed&quot; );\r\n\t\t}\r\n\t}\r\n","title":"Why are new MediaStore files empty?","body":"<p>I'm trying to upgrade my app to use use scoped storage.  (Yes, I should have\ndone this a year ago.)  The old version writes to a File in a directory\nrelative to Environment.getExternalStorageDirectory().  The new version\nwrites to a uri from MediaStore.Audio.Media.getContentUri().  My code has no\nproblem creating files in the mediastore destination directory, but the\nfiles are empty.</p>\n<p>My code is below.  I'm compiling under targetSdkVersion 29.  I've set it up\nso I can compare the old version and the new version by setting\nuseMediaStore to either true or false.  Both versions call the same doSave()\nroutine.</p>\n<p>doSave starts an asynchronous process to write the files, display a\nprogress bar, and report the result.  At the working end of the process\nOutputStream.write is called, and we keep track of the number of bytes\nwritten.  After the entire file is written, we call OutputStream.close(), and\nreport the number of bytes written.</p>\n<p>When userMediaStore is false, fileName evaluates to\n/storage/emulated/0/MyApp/mySoundFile.mp3 and the file gets created with the\nexpected length.  When useMediaStore is true, uri evaluates to\ncontent://media/external_primary/audio/media/112, which turns out to be the\nsame as /Music.  The file is created but it is empty.  doSave() runs the\nsame in either case, and reports same number of bytes written.</p>\n<p>The curious thing about it is that occasionally the MediaStore version works\ncorrectly.  Then I change something and it stops working, and putting the\ncode back to where it was doesn't restore the function.</p>\n<pre><code>public static boolean useMediaStore = true;\npublic void onClick( DialogInterface dialog, int whichButton )\n{\n    try\n    {\n        String fileName = &quot;mySoundFile.mp3&quot;;\n        if ( useMediaStore )\n        {\n            ContentValues values = new ContentValues();\n            values.put( MediaStore.Audio.Media.DISPLAY_NAME, fileName );\n            values.put( MediaStore.Images.Media.MIME_TYPE, &quot;audio/mpeg&quot; );\n            Uri audioCollection = Build.VERSION.SDK_INT &gt;= 29 ?\n                MediaStore.Audio.Media .getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n                : MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n            Uri uri = Utils.getContentResolver().insert( audioCollection, values );\n            OutputStream stream = Utils.getContentResolver().openOutputStream( uri );\n            doSave( getActivity(), stream );\n        }\n        else\n        {\n            File outputDir = new File( Environment.getExternalStorageDirectory(), &quot;MyApp&quot; );\n            if ( outputDir != null &amp;&amp; ( outputDir.exists() || outputDir.mkdirs() ) )\n            {\n                File outputFile = new File( outputDir, fileName );\n                OutputStream stream = new FileOutputStream( outputFile );\n                doSave( getActivity(), stream );\n            }\n        }\n    }\n    catch ( IOException e )\n    {\n        Log.i( &quot;MyApp&quot;, &quot;save failed&quot; );\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","gradle","buildship"],"answers":[{"tags":[],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492513252,"creation_date":1492513252,"answer_id":43470356,"question_id":43464862,"body_markdown":"Multi projects are not supported by BuildShip plugin of eclipse. And they have no plans to include this support.\r\n\r\n[Link][1] to the blog post that confirms this\r\n\r\n  [1]: https://discuss.gradle.org/t/multibuild-projects-do-not-work-with-buildship/10595/5\r\n\r\nI will find out which plugin supports eclipse and update this answer.","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<p>Multi projects are not supported by BuildShip plugin of eclipse. And they have no plans to include this support.</p>\n\n<p><a href=\"https://discuss.gradle.org/t/multibuild-projects-do-not-work-with-buildship/10595/5\" rel=\"nofollow noreferrer\">Link</a> to the blog post that confirms this</p>\n\n<p>I will find out which plugin supports eclipse and update this answer.</p>\n"},{"tags":[],"owner":{"account_id":11593964,"reputation":166,"user_id":8493257,"display_name":"Darlesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503294219,"creation_date":1503294219,"answer_id":45790019,"question_id":43464862,"body_markdown":"So I noticed that the **&quot;settings.gradle&quot;** file was setting the root project name, and after the project rename, it still had the old name. Once I changed that name to the new name and refreshed the project, that error went away.\r\n\r\nActually this error is because of Eclipse,Ideallyeclips should refactor a whole project but it not refactoring settings.gradle file.","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<p>So I noticed that the <strong>\"settings.gradle\"</strong> file was setting the root project name, and after the project rename, it still had the old name. Once I changed that name to the new name and refreshed the project, that error went away.</p>\n\n<p>Actually this error is because of Eclipse,Ideallyeclips should refactor a whole project but it not refactoring settings.gradle file.</p>\n"},{"tags":[],"owner":{"account_id":4488682,"reputation":93,"user_id":4055672,"display_name":"sudeep biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647180002,"creation_date":1647180002,"answer_id":71457477,"question_id":43464862,"body_markdown":"there is an issue with your .project file generated by eclipse, delete the project from eclipse(not directory), reopen existing gradle project, rebuild it, issue will resolve.","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<p>there is an issue with your .project file generated by eclipse, delete the project from eclipse(not directory), reopen existing gradle project, rebuild it, issue will resolve.</p>\n"}],"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2059,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647180002,"creation_date":1492496050,"question_id":43464862,"body_markdown":"    Synchronize Gradle projects with workspace failed due to an unsupported configuration in the referenced Gradle build.\r\n    Project at &#39;/home/jsiddharth/workspace/v2/mnoxwebservicesv2&#39; can&#39;t be named &#39;mnoxwebserviceendpoints-..&#39; because it&#39;s located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name &#39;mnoxwebservicesv2&#39;.\r\n    org.eclipse.buildship.core.UnsupportedConfigurationException: Project at &#39;/home/jsiddharth/workspace/v2/mnoxwebservicesv2&#39; can&#39;t be named &#39;mnoxwebserviceendpoints-..&#39; because it&#39;s located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name &#39;mnoxwebservicesv2&#39;.\r\n    \tat org.eclipse.buildship.core.workspace.internal.DefaultWorkspaceOperations.validateProjectName(DefaultWorkspaceOperations.java:183)\r\n    \tat org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.checkProjectName(ProjectNameUpdater.java:107)\r\n    \tat org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.ensureProjectNameIsFree(ProjectNameUpdater.java:71)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.addNewEclipseProjectToWorkspace(SynchronizeGradleBuildOperation.java:275)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeNonWorkspaceProject(SynchronizeGradleBuildOperation.java:259)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeGradleProjectWithWorkspaceProject(SynchronizeGradleBuildOperation.java:175)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.access$000(SynchronizeGradleBuildOperation.java:99)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation$1.run(SynchronizeGradleBuildOperation.java:134)\r\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2241)\r\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2225)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeProjectsWithWorkspace(SynchronizeGradleBuildOperation.java:131)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.run(SynchronizeGradleBuildOperation.java:115)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.synchronizeBuild(SynchronizeGradleBuildsJob.java:81)\r\n    \tat org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.runToolingApiJob(SynchronizeGradleBuildsJob.java:72)\r\n    \tat org.eclipse.buildship.core.util.progress.ToolingApiJob$1.run(ToolingApiJob.java:73)\r\n    \tat org.eclipse.buildship.core.util.progress.ToolingApiInvoker.invoke(ToolingApiInvoker.java:62)\r\n    \tat org.eclipse.buildship.core.util.progress.ToolingApiJob.run(ToolingApiJob.java:70)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\r\n\r\nMy settings.gradle is\r\n\r\n    rootProject.name = &#39;mnoxwebserviceendpoints&#39;\r\n    \r\n    include &#39;..:..:mnoxbackendv2:coregeneral&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:databasepojos&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:backendcommons&#39;,\r\n        &#39;..:..:mnoxbackendv2:corehttpclient&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:corehibernate&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:mnoxcache&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:coreemailservice&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:coresmsservice&#39;, \r\n    \t&#39;..:..:mnoxbackendv2:databasecrud&#39;, \r\n            &#39;..:..:mnoxwebservicesv2:mnoxwebservicescommons&#39;,\r\n    \t&#39;..:..:mnoxbackendv2:operationserverendpoints&#39; \r\n\r\nMy build.gradle has\r\n\r\n\t\tcompile project(&#39;..:..:mnoxbackendv2:coregeneral&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:databasepojos&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:backendcommons&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:corehttpclient&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:corehibernate&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:mnoxcache&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:coreemailservice&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:coresmsservice&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:databasecrud&#39;)\r\n        compile project(&#39;..:..:mnoxwebservicesv2:mnoxwebservicescommons&#39;)\r\n        compile project(&#39;..:..:mnoxbackendv2:operationserverendpoints&#39;)\r\n","title":"BuildShip Gradle plugin on Eclipse, reports &quot;syncrhonize gradle project workspace failed&quot;","body":"<pre><code>Synchronize Gradle projects with workspace failed due to an unsupported configuration in the referenced Gradle build.\nProject at '/home/jsiddharth/workspace/v2/mnoxwebservicesv2' can't be named 'mnoxwebserviceendpoints-..' because it's located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name 'mnoxwebservicesv2'.\norg.eclipse.buildship.core.UnsupportedConfigurationException: Project at '/home/jsiddharth/workspace/v2/mnoxwebservicesv2' can't be named 'mnoxwebserviceendpoints-..' because it's located directly under the workspace root. If such a project is renamed, Eclipse would move the container directory. To resolve this problem, move the project out of the workspace root or configure it to have the name 'mnoxwebservicesv2'.\n    at org.eclipse.buildship.core.workspace.internal.DefaultWorkspaceOperations.validateProjectName(DefaultWorkspaceOperations.java:183)\n    at org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.checkProjectName(ProjectNameUpdater.java:107)\n    at org.eclipse.buildship.core.workspace.internal.ProjectNameUpdater.ensureProjectNameIsFree(ProjectNameUpdater.java:71)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.addNewEclipseProjectToWorkspace(SynchronizeGradleBuildOperation.java:275)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeNonWorkspaceProject(SynchronizeGradleBuildOperation.java:259)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeGradleProjectWithWorkspaceProject(SynchronizeGradleBuildOperation.java:175)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.access$000(SynchronizeGradleBuildOperation.java:99)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation$1.run(SynchronizeGradleBuildOperation.java:134)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2241)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2225)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.synchronizeProjectsWithWorkspace(SynchronizeGradleBuildOperation.java:131)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildOperation.run(SynchronizeGradleBuildOperation.java:115)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.synchronizeBuild(SynchronizeGradleBuildsJob.java:81)\n    at org.eclipse.buildship.core.workspace.internal.SynchronizeGradleBuildsJob.runToolingApiJob(SynchronizeGradleBuildsJob.java:72)\n    at org.eclipse.buildship.core.util.progress.ToolingApiJob$1.run(ToolingApiJob.java:73)\n    at org.eclipse.buildship.core.util.progress.ToolingApiInvoker.invoke(ToolingApiInvoker.java:62)\n    at org.eclipse.buildship.core.util.progress.ToolingApiJob.run(ToolingApiJob.java:70)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n</code></pre>\n\n<p>My settings.gradle is</p>\n\n<pre><code>rootProject.name = 'mnoxwebserviceendpoints'\n\ninclude '..:..:mnoxbackendv2:coregeneral',\n    '..:..:mnoxbackendv2:databasepojos', \n    '..:..:mnoxbackendv2:backendcommons',\n    '..:..:mnoxbackendv2:corehttpclient',\n    '..:..:mnoxbackendv2:corehibernate', \n    '..:..:mnoxbackendv2:mnoxcache', \n    '..:..:mnoxbackendv2:coreemailservice',\n    '..:..:mnoxbackendv2:coresmsservice', \n    '..:..:mnoxbackendv2:databasecrud', \n        '..:..:mnoxwebservicesv2:mnoxwebservicescommons',\n    '..:..:mnoxbackendv2:operationserverendpoints' \n</code></pre>\n\n<p>My build.gradle has</p>\n\n<pre><code>    compile project('..:..:mnoxbackendv2:coregeneral')\n    compile project('..:..:mnoxbackendv2:databasepojos')\n    compile project('..:..:mnoxbackendv2:backendcommons')\n    compile project('..:..:mnoxbackendv2:corehttpclient')\n    compile project('..:..:mnoxbackendv2:corehibernate')\n    compile project('..:..:mnoxbackendv2:mnoxcache')\n    compile project('..:..:mnoxbackendv2:coreemailservice')\n    compile project('..:..:mnoxbackendv2:coresmsservice')\n    compile project('..:..:mnoxbackendv2:databasecrud')\n    compile project('..:..:mnoxwebservicesv2:mnoxwebservicescommons')\n    compile project('..:..:mnoxbackendv2:operationserverendpoints')\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647179967,"creation_date":1647179967,"answer_id":71457474,"question_id":71457368,"body_markdown":"According to [this page](https://www.eclipse.org/cdo/downloads/versions.php?sr=4.17) CDO 4.17 is based on 4.22 and EMF 2.28. It is part of the simrel (simultaneous release) 2021-12.\r\n\r\nFor that release [Eclipse says](https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.22_.282021-12.29):\r\n\r\n&gt; A Java 11 or newer JRE/JDK is required, LTS release are preferred to run all Eclipse 2021-12 packages based on Eclipse 4.22, with certain packages choosing to provide one by default. ","title":"CDO 4.17 and Java 11","body":"<p>According to <a href=\"https://www.eclipse.org/cdo/downloads/versions.php?sr=4.17\" rel=\"nofollow noreferrer\">this page</a> CDO 4.17 is based on 4.22 and EMF 2.28. It is part of the simrel (simultaneous release) 2021-12.</p>\n<p>For that release <a href=\"https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.22_.282021-12.29\" rel=\"nofollow noreferrer\">Eclipse says</a>:</p>\n<blockquote>\n<p>A Java 11 or newer JRE/JDK is required, LTS release are preferred to run all Eclipse 2021-12 packages based on Eclipse 4.22, with certain packages choosing to provide one by default.</p>\n</blockquote>\n"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71457474,"answer_count":1,"score":-2,"last_activity_date":1647179975,"creation_date":1647179160,"question_id":71457368,"body_markdown":"Does anybody know which Java version I need to use with Eclipse CDO 4.17? I can&#39;t find any information on its official page. Currently I&#39;m using CDO 3.0 and Java 6 and I&#39;m going to upgrade my tools and I try to understand minimum requirements for CDO 4.17 - Java, Eclipse, EMF, etc.\r\n\r\nAlso, I tried to find differences between CDO versions and its vulnerabilities but I found nothing. If anyone knows something about it, please share it with me.\r\n\r\nI just try to understand the best versions of CDO, Java, etc for my project.","title":"CDO 4.17 and Java 11","body":"<p>Does anybody know which Java version I need to use with Eclipse CDO 4.17? I can't find any information on its official page. Currently I'm using CDO 3.0 and Java 6 and I'm going to upgrade my tools and I try to understand minimum requirements for CDO 4.17 - Java, Eclipse, EMF, etc.</p>\n<p>Also, I tried to find differences between CDO versions and its vulnerabilities but I found nothing. If anyone knows something about it, please share it with me.</p>\n<p>I just try to understand the best versions of CDO, Java, etc for my project.</p>\n"},{"tags":["java","selenium","select","dropdown"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647154518,"post_id":71454493,"comment_id":126296206,"body_markdown":"How long is your implicit wait? Are you sure that the dropdown is ready to be clicked when you call `driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();`? You are probably calling that function prematurely. The page might be still loading which explains why the element is not interactable. You will probably be better off using `WebDriverWait` to obtain the dropdown when the `ExpectedConditions` is met (i.e. `elementToBeClickable`).","body":"How long is your implicit wait? Are you sure that the dropdown is ready to be clicked when you call <code>driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();</code>? You are probably calling that function prematurely. The page might be still loading which explains why the element is not interactable. You will probably be better off using <code>WebDriverWait</code> to obtain the dropdown when the <code>ExpectedConditions</code> is met (i.e. <code>elementToBeClickable</code>)."},{"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"score":0,"creation_date":1647154972,"post_id":71454493,"comment_id":126296274,"body_markdown":"Yes, I have used also explicit wait with condition &quot;elementToBeClickable &quot;for 10 sec, but it is not becoming clickable)","body":"Yes, I have used also explicit wait with condition &quot;elementToBeClickable &quot;for 10 sec, but it is not becoming clickable)"},{"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"score":0,"creation_date":1647155059,"post_id":71454493,"comment_id":126296283,"body_markdown":"Actually this step `driver.findElement(By.cssSelector(&quot;div.select&quot;)).click()` is successful, and it is openning the dropdown box, but the rest is not","body":"Actually this step <code>driver.findElement(By.cssSelector(&quot;div.select&quot;)).click()</code> is successful, and it is openning the dropdown box, but the rest is not"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647155329,"post_id":71454493,"comment_id":126296322,"body_markdown":"Can you copy and paste the part of the DOM that contains this dropdown?","body":"Can you copy and paste the part of the DOM that contains this dropdown?"},{"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"score":0,"creation_date":1647156017,"post_id":71454493,"comment_id":126296437,"body_markdown":"`                          &lt;div class=&quot;login-input-outer&quot;&gt;\n                                &lt;div class=&quot;input-control&quot;&gt;\n                                    &lt;select class=&quot;phonePrefix&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;&lt;/select&gt;\n                                    &lt;label for=&quot;phonePrefix&quot; data-tr-code=&quot;countryCode&quot; class=&quot;active&quot;&gt;&lt;/label&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;input-control tel&quot;&gt;\n`","body":"`                          &lt;div class=&quot;login-input-outer&quot;&gt;                                 &lt;div class=&quot;input-control&quot;&gt;                                     &lt;select class=&quot;phonePrefix&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;&lt;/select&gt;                                     &lt;label for=&quot;phonePrefix&quot; data-tr-code=&quot;countryCode&quot; class=&quot;active&quot;&gt;&lt;/label&gt;                                 &lt;/div&gt;                                 &lt;div class=&quot;input-control tel&quot;&gt; `"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1647156306,"post_id":71454493,"comment_id":126296490,"body_markdown":"Give me a minute to update my answer....","body":"Give me a minute to update my answer...."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647179792,"creation_date":1647156179,"answer_id":71454668,"question_id":71454493,"body_markdown":"Based on the image you posted with the HTML code, you should select the item from the dropdown in this manner:\r\n```\r\npublic class DropDownDemo {\r\n    public static void main(String[] args) throws Exception {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;YOUR_PATH_TO_DRIVER_EXE_HERE&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://banking.idram.am/Account/login&quot;);\r\n        driver.manage().window().maximize();\r\n        WebElement divSelect = new WebDriverWait(driver, Duration.ofSeconds(5), Duration.ofMillis(100)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div.select&quot;)));\r\n        divSelect.click();\r\n        WebElement option = new WebDriverWait(driver, Duration.ofSeconds(10), Duration.ofMillis(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//li[text()=&#39;+93 Afghanistan&#39;]&quot;)));\r\n        option.click();\r\n        Thread.sleep(5000); // only to see the result\r\n        driver.close();\r\n    }\r\n}\r\n```\r\n\r\nIf using Selenium 3, remove the `Duration.ofXXX()` and just pass the numeric values directly to the constructor.\r\n\r\n&gt; ***why I cannot use Select class** and select.getFirstSelectedOption() and how to handle this?* \r\n\r\n```\r\n&lt;select class=&quot;phonePrefix select-hidden&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;\r\n\t...\r\n&lt;/select&gt;\r\n```\r\nAs you can see from the posted snippet, `Select` element is using `select-hidden` class to implement the dropdown. Therefore, Selenium cannot interact with it. What this application is using is called a *[Bootstrap Dropdown][1]*. Also, the easiest way to figure out which one to use (i.e. select vs. ul/li) is by inspecting the page and select one of the options. When you do this, it goes to the `li` element rather than to the `option` element.\r\n\r\n\r\n  [1]: https://www.w3schools.com/bootstrap/bootstrap_dropdowns.asp","title":"How to handle hidden select dropdown","body":"<p>Based on the image you posted with the HTML code, you should select the item from the dropdown in this manner:</p>\n<pre><code>public class DropDownDemo {\n    public static void main(String[] args) throws Exception {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;YOUR_PATH_TO_DRIVER_EXE_HERE&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://banking.idram.am/Account/login&quot;);\n        driver.manage().window().maximize();\n        WebElement divSelect = new WebDriverWait(driver, Duration.ofSeconds(5), Duration.ofMillis(100)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div.select&quot;)));\n        divSelect.click();\n        WebElement option = new WebDriverWait(driver, Duration.ofSeconds(10), Duration.ofMillis(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//li[text()='+93 Afghanistan']&quot;)));\n        option.click();\n        Thread.sleep(5000); // only to see the result\n        driver.close();\n    }\n}\n</code></pre>\n<p>If using Selenium 3, remove the <code>Duration.ofXXX()</code> and just pass the numeric values directly to the constructor.</p>\n<blockquote>\n<p><em><strong>why I cannot use Select class</strong> and select.getFirstSelectedOption() and how to handle this?</em></p>\n</blockquote>\n<pre><code>&lt;select class=&quot;phonePrefix select-hidden&quot; required=&quot;required&quot; name=&quot;phonePrefix&quot; id=&quot;phonePrefix&quot;&gt;\n    ...\n&lt;/select&gt;\n</code></pre>\n<p>As you can see from the posted snippet, <code>Select</code> element is using <code>select-hidden</code> class to implement the dropdown. Therefore, Selenium cannot interact with it. What this application is using is called a <em><a href=\"https://www.w3schools.com/bootstrap/bootstrap_dropdowns.asp\" rel=\"nofollow noreferrer\">Bootstrap Dropdown</a></em>. Also, the easiest way to figure out which one to use (i.e. select vs. ul/li) is by inspecting the page and select one of the options. When you do this, it goes to the <code>li</code> element rather than to the <code>option</code> element.</p>\n"}],"owner":{"account_id":14154823,"reputation":3,"user_id":10225876,"display_name":"Leon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71454668,"answer_count":1,"score":0,"last_activity_date":1647179792,"creation_date":1647154149,"question_id":71454493,"body_markdown":"    Faced the situation when using Select class, selenium complains that &quot;element not interactable&quot;.\r\n[HTML code][1]\r\n\r\n\r\n\r\n\r\n```\r\n    \tdriver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\r\n\t\tSelect select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\r\n\t\tselect.selectByIndex(5);\r\n```\t\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[Output from the console][2]\r\n\r\n\r\n\r\nanyway I found a way to select element from dropdown by looping through the List&lt;WebElement&gt; and selecting by text.....\r\n\r\n```\t\r\ndriver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\r\n\t\t\r\n\t\tWebElement drop = driver.findElement(By.cssSelector(&quot;select&quot;));\r\n\t\t\r\n\t\tList&lt;WebElement&gt; countryies = driver.findElements(By.cssSelector(&quot;ul[class=&#39;select-options&#39;] li&quot;));\r\n\t\tfor(WebElement i:countryies) {\r\n\t\t\tSystem.out.println(i.getText());\r\n\t\t\tif(i.getText().contains(&quot;+93 Afghanistan&quot;)) {\r\n\t\t\t\ti.click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\nBut the question is why i cannot use Select class and select.getFirstSelectedOption() and how to handle this?\r\nThnx\r\n\r\nP.s Also tried some explicit wait.\r\n\r\n```\r\n\tdriver.get(&quot;https://banking.idram.am/Account/login&quot;);\r\n\t\tdriver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;phonePrefix&quot;)));\r\n\t\tSelect select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\r\n\t\tselect.selectByIndex(5);\r\n```\r\n\r\n[Output][3]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nePVX.png\r\n  [2]: https://i.stack.imgur.com/w8G2N.png\r\n  [3]: https://i.stack.imgur.com/JvnMZ.png","title":"How to handle hidden select dropdown","body":"<pre><code>Faced the situation when using Select class, selenium complains that &quot;element not interactable&quot;.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nePVX.png\" rel=\"nofollow noreferrer\">HTML code</a></p>\n<pre><code>        driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\n        Select select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\n        select.selectByIndex(5);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/w8G2N.png\" rel=\"nofollow noreferrer\">Output from the console</a></p>\n<p>anyway I found a way to select element from dropdown by looping through the List and selecting by text.....</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\n        \n        WebElement drop = driver.findElement(By.cssSelector(&quot;select&quot;));\n        \n        List&lt;WebElement&gt; countryies = driver.findElements(By.cssSelector(&quot;ul[class='select-options'] li&quot;));\n        for(WebElement i:countryies) {\n            System.out.println(i.getText());\n            if(i.getText().contains(&quot;+93 Afghanistan&quot;)) {\n                i.click();\n                break;\n            }\n        }\n</code></pre>\n<p>But the question is why i cannot use Select class and select.getFirstSelectedOption() and how to handle this?\nThnx</p>\n<p>P.s Also tried some explicit wait.</p>\n<pre><code>    driver.get(&quot;https://banking.idram.am/Account/login&quot;);\n        driver.findElement(By.cssSelector(&quot;div.select&quot;)).click();\n        wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;phonePrefix&quot;)));\n        Select select = new Select(driver.findElement(By.id(&quot;phonePrefix&quot;)));\n        select.selectByIndex(5);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JvnMZ.png\" rel=\"nofollow noreferrer\">Output</a></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":1,"creation_date":1642009532,"post_id":70686074,"comment_id":124960858,"body_markdown":"Does your process call list on the s3 bucket/prefix? Typically it&#39;s only list operations that get slower for this reason.","body":"Does your process call list on the s3 bucket/prefix? Typically it&#39;s only list operations that get slower for this reason."},{"owner":{"account_id":18078154,"reputation":21,"user_id":13140813,"display_name":"Anonymous"},"score":0,"creation_date":1642011477,"post_id":70686074,"comment_id":124961563,"body_markdown":"It does only putObject call of AmazonS3 class for each request","body":"It does only putObject call of AmazonS3 class for each request"}],"owner":{"account_id":18078154,"reputation":21,"user_id":13140813,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647179206,"creation_date":1642009364,"question_id":70686074,"body_markdown":"I am trying to store each input payload received to my Java REST API as a separate file into s3. A parent level folder will be created for storing request payloads per day under the s3 bucket.\r\n\r\nInput can range between 1 request to upto one million requests per day. Each payload file is tiny, just around 500 bytes.\r\n\r\nStorage structure is as below,\r\n   \r\n    s3\r\n    |_ bucket \r\n          |_ parent_folder_1 -&gt; (will contain all requests as separate files received on day 1)\r\n          |_ parent_folder_2 -&gt; (will contain all requests as separate files received on day 2)\r\n\r\n\r\nThe code is currently handling it by uploading each file in parallel and letting S3 handle the load. I am surprised to see that the time for each upload is increasing, not in correlation to the file size (which is small) but in correlation to the number of objects I am trying to upload.\r\n\r\nIs the upload latency due to increased folder size? Is there any best practice to create sub directories under each parent level folder to increase upload speed based on prefix names?\r\n\r\n","title":"Uploading files to AWS S3 is taking too much time","body":"<p>I am trying to store each input payload received to my Java REST API as a separate file into s3. A parent level folder will be created for storing request payloads per day under the s3 bucket.</p>\n<p>Input can range between 1 request to upto one million requests per day. Each payload file is tiny, just around 500 bytes.</p>\n<p>Storage structure is as below,</p>\n<pre><code>s3\n|_ bucket \n      |_ parent_folder_1 -&gt; (will contain all requests as separate files received on day 1)\n      |_ parent_folder_2 -&gt; (will contain all requests as separate files received on day 2)\n</code></pre>\n<p>The code is currently handling it by uploading each file in parallel and letting S3 handle the load. I am surprised to see that the time for each upload is increasing, not in correlation to the file size (which is small) but in correlation to the number of objects I am trying to upload.</p>\n<p>Is the upload latency due to increased folder size? Is there any best practice to create sub directories under each parent level folder to increase upload speed based on prefix names?</p>\n"},{"tags":["java","android","android-launcher"],"answers":[{"tags":[],"owner":{"account_id":1895762,"reputation":4296,"user_id":10214381,"display_name":"Amirhosein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647178787,"creation_date":1647178787,"answer_id":71457313,"question_id":71455723,"body_markdown":"    PackageManager packageManager = activity.getPackageManager();\r\n    ComponentName componentName = new ComponentName(activity, YourLauncher.class);\r\n    packageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\r\n    \r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    intent.addCategory(Intent.CATEGORY_HOME)\r\n            .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n    activity.startActivity(intent);\r\n    activity.finishAndRemoveTask();\r\n\r\nand launcher activity in the manifest:\r\n\r\n            &lt;activity\r\n            ...\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;","title":"How to open Default Home App screen intent on Android","body":"<pre><code>PackageManager packageManager = activity.getPackageManager();\nComponentName componentName = new ComponentName(activity, YourLauncher.class);\npackageManager.setComponentEnabledSetting(componentName, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP);\n\nIntent intent = new Intent(Intent.ACTION_MAIN);\nintent.addCategory(Intent.CATEGORY_HOME)\n        .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\nactivity.startActivity(intent);\nactivity.finishAndRemoveTask();\n</code></pre>\n<p>and launcher activity in the manifest:</p>\n<pre><code>        &lt;activity\n        ...\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":7510935,"reputation":749,"user_id":5705891,"accept_rate":18,"display_name":"DanielJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71457313,"answer_count":1,"score":0,"last_activity_date":1647178787,"creation_date":1647166364,"question_id":71455723,"body_markdown":"I&#39;m developing an app to use as a home launcher. I understand that I am unable to programmatically clear the current home app launcher, but I wish to guide the user into choosing my app.\r\n\r\nI understand how to check if my app is set as a home launcher by using the `PackageManager`, however this does not give me a way to set the home App.\r\n\r\nI also have tried to use an `Intent` to select a home launcher, however this dialog which opens does not provide the user a mean to choose a default home launcher\r\n\r\n     final Intent startMain = new Intent(Intent.ACTION_MAIN);\r\n                startMain.addCategory(Intent.CATEGORY_HOME);\r\n                startActivity(Intent.createChooser(startMain, &quot;Choose Home App));\r\n\r\nHowever looking at a **Launcher (Nova)** I can see it seems to run an intent to open a native launcher screen. How do I do this?\r\n\r\n[![Default Home App Chooser][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tGakb.png","title":"How to open Default Home App screen intent on Android","body":"<p>I'm developing an app to use as a home launcher. I understand that I am unable to programmatically clear the current home app launcher, but I wish to guide the user into choosing my app.</p>\n<p>I understand how to check if my app is set as a home launcher by using the <code>PackageManager</code>, however this does not give me a way to set the home App.</p>\n<p>I also have tried to use an <code>Intent</code> to select a home launcher, however this dialog which opens does not provide the user a mean to choose a default home launcher</p>\n<pre><code> final Intent startMain = new Intent(Intent.ACTION_MAIN);\n            startMain.addCategory(Intent.CATEGORY_HOME);\n            startActivity(Intent.createChooser(startMain, &quot;Choose Home App));\n</code></pre>\n<p>However looking at a <strong>Launcher (Nova)</strong> I can see it seems to run an intent to open a native launcher screen. How do I do this?</p>\n<p><a href=\"https://i.stack.imgur.com/tGakb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tGakb.png\" alt=\"Default Home App Chooser\" /></a></p>\n"},{"tags":["java","spring-boot","maven","installation"],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635767864,"creation_date":1635767098,"answer_id":69796466,"question_id":69796060,"body_markdown":"I cannot reproduce it. Try this:\r\n```sh\r\njava -jar [target].jar --param.date=01-11-2021\r\n```\r\nIf tests failing, try [`@SpringBootTest(args = &quot;--param.date=01-11-2021&quot;)`](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments).\r\n\r\n([sample code](https://github.com/yukihane/stackoverflow-qa/tree/master/so69796060))\r\n\r\nRefs:\r\n- [7.2.1. Accessing Command Line Properties](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.external-config.command-line-args)\r\n&gt; By default, `SpringApplication` converts any command line option arguments (that is, arguments starting with `--`, such as `--server.port=9000`) to a `property` and adds them to the Spring `Environment`.\r\n- [7.26.3. Testing Spring Boot Applications &gt; Using Application Arguments](https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments)","title":"Create a Jar From a Spring Boot Console App That Requires Injection From Custom Arguments","body":"<p>I cannot reproduce it. Try this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar [target].jar --param.date=01-11-2021\n</code></pre>\n<p>If tests failing, try <a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments\" rel=\"nofollow noreferrer\"><code>@SpringBootTest(args = &quot;--param.date=01-11-2021&quot;)</code></a>.</p>\n<p>(<a href=\"https://github.com/yukihane/stackoverflow-qa/tree/master/so69796060\" rel=\"nofollow noreferrer\">sample code</a>)</p>\n<p>Refs:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.external-config.command-line-args\" rel=\"nofollow noreferrer\">7.2.1. Accessing Command Line Properties</a></li>\n</ul>\n<blockquote>\n<p>By default, <code>SpringApplication</code> converts any command line option arguments (that is, arguments starting with <code>--</code>, such as <code>--server.port=9000</code>) to a <code>property</code> and adds them to the Spring <code>Environment</code>.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.5.6/reference/htmlsingle/#features.testing.spring-boot-applications.using-application-arguments\" rel=\"nofollow noreferrer\">7.26.3. Testing Spring Boot Applications &gt; Using Application Arguments</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5707458,"reputation":354,"user_id":4510492,"accept_rate":64,"display_name":"Logos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647178552,"creation_date":1647178552,"answer_id":71457265,"question_id":69796060,"body_markdown":"The command `mvnw package` was failed because of the spring unit test. I just had to skip the unit test using the `-Dmaven.test.skip=true` parameter. So, the complete command would be `mvnw package -Dmaven.test.skip=true`. As for on how to run the .jar with the parameters once the jar is created, can be seen in DEWA Kazuyuki - 出羽和之\r\n&#39;s answer.","title":"Create a Jar From a Spring Boot Console App That Requires Injection From Custom Arguments","body":"<p>The command <code>mvnw package</code> was failed because of the spring unit test. I just had to skip the unit test using the <code>-Dmaven.test.skip=true</code> parameter. So, the complete command would be <code>mvnw package -Dmaven.test.skip=true</code>. As for on how to run the .jar with the parameters once the jar is created, can be seen in DEWA Kazuyuki - 出羽和之\n's answer.</p>\n"}],"owner":{"account_id":5707458,"reputation":354,"user_id":4510492,"accept_rate":64,"display_name":"Logos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69796466,"answer_count":2,"score":0,"last_activity_date":1647178552,"creation_date":1635764924,"question_id":69796060,"body_markdown":"I am making an app that requires an argument from the command line using Spring Boot, the passed argument then will be passed on to a field as follow:\r\n\r\n    @Value(&quot;#{new java.text.SimpleDateFormat(&#39;dd-MM-yyyy&#39;).parse(&#39;${param.date}&#39;)}&quot;)\r\n    private Date date;\r\n\r\nHowever, when I tried to create the Jar file using the command `mvnw package`, the following error is shown:\r\n\r\n    java.lang.IllegalArgumentException: Could not resolve placeholder &#39;param.date&#39; in value &quot;#{new java.text.SimpleDateFormat(&#39;dd-MM-yyyy&#39;).parse(&#39;${param.date}&#39;)}&quot;\r\n\r\nHow can I tell the compiler that the aforementioned field is from an argument? And, if the jar is made then, how do I inject the field when running the jar using command line arguments?\r\n\r\nThank you!","title":"Create a Jar From a Spring Boot Console App That Requires Injection From Custom Arguments","body":"<p>I am making an app that requires an argument from the command line using Spring Boot, the passed argument then will be passed on to a field as follow:</p>\n<pre><code>@Value(&quot;#{new java.text.SimpleDateFormat('dd-MM-yyyy').parse('${param.date}')}&quot;)\nprivate Date date;\n</code></pre>\n<p>However, when I tried to create the Jar file using the command <code>mvnw package</code>, the following error is shown:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve placeholder 'param.date' in value &quot;#{new java.text.SimpleDateFormat('dd-MM-yyyy').parse('${param.date}')}&quot;\n</code></pre>\n<p>How can I tell the compiler that the aforementioned field is from an argument? And, if the jar is made then, how do I inject the field when running the jar using command line arguments?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1647183734,"post_id":71454641,"comment_id":126302005,"body_markdown":"I don&#39;t see the annotation @Entity.","body":"I don&#39;t see the annotation @Entity."}],"answers":[{"tags":[],"owner":{"account_id":3214803,"reputation":531,"user_id":2846307,"display_name":"almac777"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647176912,"creation_date":1647158632,"answer_id":71454901,"question_id":71454641,"body_markdown":"This is a very general question, so I will try to point you in the right direction. For this I assume:\r\n\r\n- you are using `spring-data-jpa`\r\n- you have a datasource already configured\r\n- your application starts up correctly\r\n- you already configured the `@Repository` or you know how to use the `EntityManager` via `@PersistenceContext`\r\n- I will assume the `Repository` solution\r\n\r\nThe good news is: Persisting objects that are marked using `OneToOne`, `OneToMany`, `ManyToOne` and `ManyToMany` is a core feature, so most of this is already handled by JPA/Hibernate. All you have to ensure is that you _read the documentation_ and _follow it_.\r\n\r\nFirst step is to understand `Cascading`. Cascading is _not_ turned on by default. There are tons of resources on the web, that help you understand this, I will point you to [this one](https://www.baeldung.com/jpa-cascade-types). This means that you will need to set the `cascade` attribute on the `OneToOne` annotation (see referenced tutorial).\r\n\r\n`Student.java`\r\n\r\n```java\r\nclass Student{\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private int id;\r\n\r\n   private String firstName;\r\n\r\n   @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\r\n   private Address address;\r\n}\r\n```\r\n\r\nThen, using a normal `@Repository`:\r\n\r\n```java\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\nNow you have correctly working mapping and the repository.\r\n\r\nOnce you have done this, you should be ready to roll, given the above assumptions hold. You can now write a small testcase for a student, e.g.\r\n\r\n```java\r\n@DataJpaTest\r\nclass StudentRepositoryTest {\r\n\r\n@Autowired\r\nprivate StudentRepository studentRepository;\r\n\r\n@Autowired\r\nprivate AddressRepository addressRepository;\r\n\r\n@BeforeEach\r\nvoid setup() {\r\n    assumeThat(studentRepository).isNotNull();\r\n    assumeThat(addressRepository).isNotNull();\r\n}\r\n\r\n@Test\r\nvoid testSaveStudent {\r\n   assumeThat(studentRepository.count()).isZero();\r\n   assumeThat(addressRepository.count()).isZero();\r\n   var student = new Student();\r\n   var address = new Address();\r\n   address.setCity(&quot;New York&quot;);\r\n   student.setFirstName(&quot;Max&quot;);\r\n   student.setAddress(address);\r\n   studentRepository.save(student);\r\n   assertThat(studentRepository.count()).isOne();\r\n   assertThat(addressRepository.count()).isOne();\r\n}\r\n```\r\n\r\nSecond: In regards to your transaction question. Per default when you invoke a repository&#39;s `save` method a transaction is started. So in the very base case you don&#39;t necessarily need a transaction. Although, once you deal with more complex business cases it&#39;s necessary to understand JPA&#39;s transaction manager. Transactions usually happen on the service layer. See links below for more info on Transactions.\r\n\r\n```java\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class StudentService {\r\n   @Autowired\r\n   private StudentRepository studentRepository;\r\n\r\n   @Transactional\r\n   public Student assignStudentToAddress(Student s, Address a) {\r\n      s.setAddress(a);\r\n      return studentRepository.save(s);\r\n   }\r\n}\r\n```\r\n\r\nSome thoughts: \r\n- Are you sure that one student can only stay at one address? This would mean that living arrangements like in Big Bang Theory (shared apartment) wouldn&#39;t work. For testing purposes this works of course.\r\n- Consider the reverse: what if we have an address screen and we want to add students to it?\r\n\r\nMore resources:\r\n- Beginner&#39;s guide to mapping [by VladMihalcea](https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/)\r\n- Mapping `OneToOne` beginner friendly: [by Baeldung](https://www.baeldung.com/jpa-one-to-one) and slightly more advanced [by VladMihalcea](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/)\r\n- Mapping `OneToMany` beginner friendly: [by baeldung](https://www.baeldung.com/hibernate-one-to-many) and slightly more advanced: [by VladMihalcea](https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/)\r\n- Using `Transactional` [by VladMihalcea](https://vladmihalcea.com/spring-transactional-annotation/) and [by MarcoBehler](https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth)","title":"I want to save two entities in one transaction with JPA if any error occure while inserting the data the changes should be rolled back","body":"<p>This is a very general question, so I will try to point you in the right direction. For this I assume:</p>\n<ul>\n<li>you are using <code>spring-data-jpa</code></li>\n<li>you have a datasource already configured</li>\n<li>your application starts up correctly</li>\n<li>you already configured the <code>@Repository</code> or you know how to use the <code>EntityManager</code> via <code>@PersistenceContext</code></li>\n<li>I will assume the <code>Repository</code> solution</li>\n</ul>\n<p>The good news is: Persisting objects that are marked using <code>OneToOne</code>, <code>OneToMany</code>, <code>ManyToOne</code> and <code>ManyToMany</code> is a core feature, so most of this is already handled by JPA/Hibernate. All you have to ensure is that you <em>read the documentation</em> and <em>follow it</em>.</p>\n<p>First step is to understand <code>Cascading</code>. Cascading is <em>not</em> turned on by default. There are tons of resources on the web, that help you understand this, I will point you to <a href=\"https://www.baeldung.com/jpa-cascade-types\" rel=\"nofollow noreferrer\">this one</a>. This means that you will need to set the <code>cascade</code> attribute on the <code>OneToOne</code> annotation (see referenced tutorial).</p>\n<p><code>Student.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student{\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int id;\n\n   private String firstName;\n\n   @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\n   private Address address;\n}\n</code></pre>\n<p>Then, using a normal <code>@Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<p>Now you have correctly working mapping and the repository.</p>\n<p>Once you have done this, you should be ready to roll, given the above assumptions hold. You can now write a small testcase for a student, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\nclass StudentRepositoryTest {\n\n@Autowired\nprivate StudentRepository studentRepository;\n\n@Autowired\nprivate AddressRepository addressRepository;\n\n@BeforeEach\nvoid setup() {\n    assumeThat(studentRepository).isNotNull();\n    assumeThat(addressRepository).isNotNull();\n}\n\n@Test\nvoid testSaveStudent {\n   assumeThat(studentRepository.count()).isZero();\n   assumeThat(addressRepository.count()).isZero();\n   var student = new Student();\n   var address = new Address();\n   address.setCity(&quot;New York&quot;);\n   student.setFirstName(&quot;Max&quot;);\n   student.setAddress(address);\n   studentRepository.save(student);\n   assertThat(studentRepository.count()).isOne();\n   assertThat(addressRepository.count()).isOne();\n}\n</code></pre>\n<p>Second: In regards to your transaction question. Per default when you invoke a repository's <code>save</code> method a transaction is started. So in the very base case you don't necessarily need a transaction. Although, once you deal with more complex business cases it's necessary to understand JPA's transaction manager. Transactions usually happen on the service layer. See links below for more info on Transactions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional(readOnly = true)\npublic class StudentService {\n   @Autowired\n   private StudentRepository studentRepository;\n\n   @Transactional\n   public Student assignStudentToAddress(Student s, Address a) {\n      s.setAddress(a);\n      return studentRepository.save(s);\n   }\n}\n</code></pre>\n<p>Some thoughts:</p>\n<ul>\n<li>Are you sure that one student can only stay at one address? This would mean that living arrangements like in Big Bang Theory (shared apartment) wouldn't work. For testing purposes this works of course.</li>\n<li>Consider the reverse: what if we have an address screen and we want to add students to it?</li>\n</ul>\n<p>More resources:</p>\n<ul>\n<li>Beginner's guide to mapping <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"nofollow noreferrer\">by VladMihalcea</a></li>\n<li>Mapping <code>OneToOne</code> beginner friendly: <a href=\"https://www.baeldung.com/jpa-one-to-one\" rel=\"nofollow noreferrer\">by Baeldung</a> and slightly more advanced <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">by VladMihalcea</a></li>\n<li>Mapping <code>OneToMany</code> beginner friendly: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">by baeldung</a> and slightly more advanced: <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">by VladMihalcea</a></li>\n<li>Using <code>Transactional</code> <a href=\"https://vladmihalcea.com/spring-transactional-annotation/\" rel=\"nofollow noreferrer\">by VladMihalcea</a> and <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">by MarcoBehler</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647178533,"creation_date":1647162027,"answer_id":71455245,"question_id":71454641,"body_markdown":"With Stateless EJB :\r\n\r\n    @Stateless\r\n    public StudentDAO {\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\r\n    \r\n    \tpublic Student createStudent(StudentRequest studentRequest) {\r\n    \r\n    \t\tStudent student=new Student(studentRequest);\r\n    \r\n    \t\tAddress address=new Address();\r\n    \r\n    \t\taddress.setCity(studentRequest.getCity());\r\n    \t\taddress.setStreet(studentRequest.getStreet());\r\n    \t\tem.persist(address);\r\n    \r\n    \t\tstudent.setAddress(address);\r\n    \t\tem.persist(student);\r\n    \r\n    \t\treturn student;\r\n    \r\n    \t}    \r\n    }","title":"I want to save two entities in one transaction with JPA if any error occure while inserting the data the changes should be rolled back","body":"<p>With Stateless EJB :</p>\n<pre><code>@Stateless\npublic StudentDAO {\n    @PersistenceContext\n    private EntityManager em;\n\n    public Student createStudent(StudentRequest studentRequest) {\n\n        Student student=new Student(studentRequest);\n\n        Address address=new Address();\n\n        address.setCity(studentRequest.getCity());\n        address.setStreet(studentRequest.getStreet());\n        em.persist(address);\n\n        student.setAddress(address);\n        em.persist(student);\n\n        return student;\n\n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":23707915,"reputation":37,"user_id":17730160,"display_name":"Manoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71455245,"answer_count":2,"score":1,"last_activity_date":1647178533,"creation_date":1647155967,"question_id":71454641,"body_markdown":"for example i have two entities: first is student and another is address. i want to insert data on both tables with foreign key relationship, but their is one condition: if any error occurs while inserting the data in any tables the all changes should be roll back.\r\n\r\nhow can i do please help\r\n```\r\nclass Student{\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private int id;\r\n\r\n   private String firstName;\r\n\r\n   @OneToOne(fetch = FetchType.EAGER)\r\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\r\n   private Address address;\r\n}\r\n\r\nclass Address {\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private int id;\r\n\r\n   private String city;\r\n\r\n}\r\n\r\n@Service\r\npublic class StudentService {\r\n\t\r\n\t@Autowired\r\n\tprivate StudentRepo studentRepo;\r\n\t\r\n\t@Autowired\r\n\tprivate AddressRepo addressRepo;\r\n\r\n\tpublic Student createStudent(StudentRequest studentRequest) {\r\n\t\t\r\n\t\tStudent student=new Student(studentRequest);\r\n\t\t\r\n\t\tAddress address=new Address();\r\n\t\t\r\n\t\taddress.setCity(studentRequest.getCity());\r\n\t\taddress.setStreet(studentRequest.getStreet());\r\n\t\taddress=addressRepo.save(address);\r\n\t\t\r\n\t\tstudent.setAddress(address);\r\n\t\t\r\n\t\tstudent=studentRepo.save(student);\r\n\t\t\r\n\t\treturn student;\r\n\t\t\r\n\t}\r\n\r\n```\r\n","title":"I want to save two entities in one transaction with JPA if any error occure while inserting the data the changes should be rolled back","body":"<p>for example i have two entities: first is student and another is address. i want to insert data on both tables with foreign key relationship, but their is one condition: if any error occurs while inserting the data in any tables the all changes should be roll back.</p>\n<p>how can i do please help</p>\n<pre><code>class Student{\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int id;\n\n   private String firstName;\n\n   @OneToOne(fetch = FetchType.EAGER)\n   @JoinColumn(name=&quot;address_id&quot;,referencedColumnName = &quot;id&quot;)\n   private Address address;\n}\n\nclass Address {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private int id;\n\n   private String city;\n\n}\n\n@Service\npublic class StudentService {\n    \n    @Autowired\n    private StudentRepo studentRepo;\n    \n    @Autowired\n    private AddressRepo addressRepo;\n\n    public Student createStudent(StudentRequest studentRequest) {\n        \n        Student student=new Student(studentRequest);\n        \n        Address address=new Address();\n        \n        address.setCity(studentRequest.getCity());\n        address.setStreet(studentRequest.getStreet());\n        address=addressRepo.save(address);\n        \n        student.setAddress(address);\n        \n        student=studentRepo.save(student);\n        \n        return student;\n        \n    }\n\n</code></pre>\n"},{"tags":["java","selenium","window","webdriver","switch-statement"],"comments":[{"owner":{"account_id":1363756,"reputation":4981,"user_id":1300626,"accept_rate":95,"display_name":"Franz Ebner"},"score":0,"creation_date":1341565651,"post_id":11359118,"comment_id":14962677,"body_markdown":"you iterate over your open windows switching to everyone and at the end you go on with the last in the list.... what&#39;s that for?","body":"you iterate over your open windows switching to everyone and at the end you go on with the last in the list.... what&#39;s that for?"},{"owner":{"account_id":1504099,"reputation":4829,"user_id":1407907,"accept_rate":45,"display_name":"khris"},"score":0,"creation_date":1341566218,"post_id":11359118,"comment_id":14962906,"body_markdown":"i just don&#39;t know another way switch to child window. It works for me, but i couldn&#39;t switch back to parent","body":"i just don&#39;t know another way switch to child window. It works for me, but i couldn&#39;t switch back to parent"}],"answers":[{"tags":[],"owner":{"account_id":1582561,"reputation":555,"user_id":1467591,"display_name":"Sherwin Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341895182,"creation_date":1341895182,"answer_id":11406716,"question_id":11359118,"body_markdown":"Try this before you click the link that opens the new window:\r\n\r\n    parent_h = browser.current_window\r\n    # click on the link that opens a new window\r\n    handles = browser.window_handles # before the pop-up window closes\r\n    handles.remove(parent_h)\r\n    browser.switch_to_window(handles.pop())\r\n    # do stuff in the popup\r\n    # popup window closes\r\n    browser.switch_to_window(parent_h)\r\n    # and you&#39;re back","title":"selenium web driver - switch to parent window","body":"<p>Try this before you click the link that opens the new window:</p>\n\n<pre><code>parent_h = browser.current_window\n# click on the link that opens a new window\nhandles = browser.window_handles # before the pop-up window closes\nhandles.remove(parent_h)\nbrowser.switch_to_window(handles.pop())\n# do stuff in the popup\n# popup window closes\nbrowser.switch_to_window(parent_h)\n# and you're back\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2564701,"reputation":1,"user_id":2225088,"display_name":"Chintu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364575293,"creation_date":1364575293,"answer_id":15707517,"question_id":11359118,"body_markdown":"public boolean switchBackParentWindowTitle(String windowTitle){\r\n\r\n\t\tboolean executedActionStatus = false;\r\n\t\ttry {\r\n\r\n\t\t\tThread.sleep(1000);\r\n\t\t\tWebDriver popup = null;\r\n\t\t\tSet&lt;String&gt; handles = null;\r\n\r\n\t\t\thandles =driver.getWindowHandles();\r\n\t\t\tIterator&lt;String&gt; it = handles.iterator();\r\n\t\t\twhile (it.hasNext()){\r\n\r\n\t\t\t\tString switchWin = it.next();\r\n\t\t\t\tpopup = driver.switchTo().window(switchWin);\r\n\r\n\t\t\t\tSystem.out.println(popup.getTitle());\r\n\t\t\t\tif(popup.getTitle().equalsIgnoreCase(windowTitle)){\r\n\r\n\t\t\t\t\tlog.info(&quot;Current switched window title is &quot;+popup.getTitle());\r\n\t\t\t\t\tlog.info(&quot;Time taken to switch window is &quot;+sw.elapsedTime());\r\n\t\t\t\t\texecutedActionStatus = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tlog.info(&quot;WindowTitle does not found to switch over&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception er) {\r\n\t\t\ter.printStackTrace();\r\n\t\t\tlog.error(&quot;Ex: &quot;+er);\r\n\t\t}\t\r\n\t\treturn executedActionStatus;\r\n\t}","title":"selenium web driver - switch to parent window","body":"<p>public boolean switchBackParentWindowTitle(String windowTitle){</p>\n\n<pre><code>    boolean executedActionStatus = false;\n    try {\n\n        Thread.sleep(1000);\n        WebDriver popup = null;\n        Set&lt;String&gt; handles = null;\n\n        handles =driver.getWindowHandles();\n        Iterator&lt;String&gt; it = handles.iterator();\n        while (it.hasNext()){\n\n            String switchWin = it.next();\n            popup = driver.switchTo().window(switchWin);\n\n            System.out.println(popup.getTitle());\n            if(popup.getTitle().equalsIgnoreCase(windowTitle)){\n\n                log.info(\"Current switched window title is \"+popup.getTitle());\n                log.info(\"Time taken to switch window is \"+sw.elapsedTime());\n                executedActionStatus = true;\n                break;\n            }\n            else\n                log.info(\"WindowTitle does not found to switch over\");\n        }\n    }\n    catch (Exception er) {\n        er.printStackTrace();\n        log.error(\"Ex: \"+er);\n    }   \n    return executedActionStatus;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16344337,"reputation":185,"user_id":11880235,"display_name":"user613"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647178321,"creation_date":1647178321,"answer_id":71457238,"question_id":11359118,"body_markdown":"This will not answer your question, however it might answer a similar one. &lt;br&gt;\r\nWith `SeleniumBase` all you need to do is write: \r\n\r\n    self.switch_to_default_window()\r\nAnd you&#39;re back to the parent window.","title":"selenium web driver - switch to parent window","body":"<p>This will not answer your question, however it might answer a similar one. <br>\nWith <code>SeleniumBase</code> all you need to do is write:</p>\n<pre><code>self.switch_to_default_window()\n</code></pre>\n<p>And you're back to the parent window.</p>\n"}],"owner":{"account_id":1504099,"reputation":4829,"user_id":1407907,"accept_rate":45,"display_name":"khris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1647178321,"creation_date":1341565343,"question_id":11359118,"body_markdown":"I use selenium Web Driver. I have opened a parent window. After I click on the link the new window opens. I choose some value from the list and this window automatically closes. Now I need to operate in my parent window. How can I do this? I tried the following code:\r\n\r\n    String HandleBefore = driver.getWindowHandle();\r\n    driver.findElement(By.xpath(&quot;...&quot;)).click();\r\n\t for (String Handle : driver.getWindowHandles()) {\r\n\t\t    driver.switchTo().window(Handle);}\r\n\t driver.findElement(By.linkText(&quot;...&quot;)).click();\r\n\t driver.switchTo().window(HandleBefore);\r\n\r\nThis does not work though. ","title":"selenium web driver - switch to parent window","body":"<p>I use selenium Web Driver. I have opened a parent window. After I click on the link the new window opens. I choose some value from the list and this window automatically closes. Now I need to operate in my parent window. How can I do this? I tried the following code:</p>\n\n<pre><code>String HandleBefore = driver.getWindowHandle();\ndriver.findElement(By.xpath(\"...\")).click();\n for (String Handle : driver.getWindowHandles()) {\n        driver.switchTo().window(Handle);}\n driver.findElement(By.linkText(\"...\")).click();\n driver.switchTo().window(HandleBefore);\n</code></pre>\n\n<p>This does not work though. </p>\n"},{"tags":["java","spring-boot","generics","spring-data-jpa"],"owner":{"account_id":22642173,"reputation":113,"user_id":16818097,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647178076,"creation_date":1646092362,"question_id":71302323,"body_markdown":"I have an entity class as follows. What I need is, I need to use generics, and by using it I need to pass some classes that extend the SomeInfo class and persist a common field inside the SubClass table and when returning data I can populate `T` parameter and send it easily. But I can&#39;t extend SomeInfo class directly because it contains fields that I don&#39;t need to be created in the SubClass table and even I don&#39;t need to use the `Inheritance Single Table solution`. I have tried using `@AttributeOverride` but it threw an error and I used `@Type` annotation and the error was gone, but the field `info_name` isn&#39;t created.\r\n\r\n    @Entity\r\n    public class SubClass&lt;T extends SomeInfo&gt; extends ParentClass {\r\n    \r\n        @Type(type = &quot;com.package.SomeInfo&quot;)\r\n        @AttributeOverrides({\r\n                @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;info_name&quot;, nullable = false))\r\n        })\r\n        private T info;\r\n    }\r\n    \r\n    @MappedSuperClass\r\n    public abstract class SomeInfo extends ParentClass {\r\n    \r\n        // some fields\r\n    }\r\n\r\nIs there a way to achieve what I need? Thanks in advance.","title":"How to persist some fields in Generic class in Spring Data JPA?","body":"<p>I have an entity class as follows. What I need is, I need to use generics, and by using it I need to pass some classes that extend the SomeInfo class and persist a common field inside the SubClass table and when returning data I can populate <code>T</code> parameter and send it easily. But I can't extend SomeInfo class directly because it contains fields that I don't need to be created in the SubClass table and even I don't need to use the <code>Inheritance Single Table solution</code>. I have tried using <code>@AttributeOverride</code> but it threw an error and I used <code>@Type</code> annotation and the error was gone, but the field <code>info_name</code> isn't created.</p>\n<pre><code>@Entity\npublic class SubClass&lt;T extends SomeInfo&gt; extends ParentClass {\n\n    @Type(type = &quot;com.package.SomeInfo&quot;)\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;name&quot;, column = @Column(name = &quot;info_name&quot;, nullable = false))\n    })\n    private T info;\n}\n\n@MappedSuperClass\npublic abstract class SomeInfo extends ParentClass {\n\n    // some fields\n}\n</code></pre>\n<p>Is there a way to achieve what I need? Thanks in advance.</p>\n"},{"tags":["java","android","apache-poi","proguard"],"comments":[{"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"score":0,"creation_date":1409409671,"post_id":25582741,"comment_id":39958449,"body_markdown":"http://stackoverflow.com/questions/25469560/android-proguard-issues-for-release/25470047#25470047   do the same keep/ign warn for org.apache.poi.","body":"<a href=\"http://stackoverflow.com/questions/25469560/android-proguard-issues-for-release/25470047#25470047\" title=\"android proguard issues for release\">stackoverflow.com/questions/25469560/&hellip;</a>   do the same keep/ign warn for org.apache.poi."},{"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"score":0,"creation_date":1409410285,"post_id":25582741,"comment_id":39958580,"body_markdown":"It works when I don&#39;t use obfuscation, however I want obfuscation","body":"It works when I don&#39;t use obfuscation, however I want obfuscation"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1409496517,"post_id":25582741,"comment_id":39976021,"body_markdown":"Given that Apache POI is open source, and therefore the code is freely available to everyone, why on earth would you want to obfuscate the compiled POI classes?","body":"Given that Apache POI is open source, and therefore the code is freely available to everyone, why on earth would you want to obfuscate the compiled POI classes?"},{"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"score":0,"creation_date":1409839147,"post_id":25582741,"comment_id":40110927,"body_markdown":"I don&#39;t need to obfuscate POI, however I need it to be shrunk by ProGuard, so I have no choice but to also obfuscate it","body":"I don&#39;t need to obfuscate POI, however I need it to be shrunk by ProGuard, so I have no choice but to also obfuscate it"}],"answers":[{"tags":[],"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1409405023,"creation_date":1409405023,"answer_id":25582815,"question_id":25582741,"body_markdown":"I ended up adding the following line:\r\n\r\n    -keep public class org.apache.poi.** {*;}\r\n\r\n\r\nThat seems to fix the problem","title":"ProGuard settings for Apache POI","body":"<p>I ended up adding the following line:</p>\n\n<pre><code>-keep public class org.apache.poi.** {*;}\n</code></pre>\n\n<p>That seems to fix the problem</p>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550654718,"creation_date":1534341918,"answer_id":51860275,"question_id":25582741,"body_markdown":"for read/write excel [xls|xlsx] files. \r\nI use below in proguard\r\n\r\n    # poi\r\n    # https://github.com/centic9/poi-on-android/blob/master/poitest/proguard-rules.pro\r\n        -keeppackagenames aavax.**\r\n    -keeppackagenames org.apache.poi.**\r\n    -keeppackagenames org.apache.poi.ss.formula.function\r\n    -keeppackagenames org.openxmlformats.**\r\n    -keeppackagenames org.openxmlformats.schemas.**\r\n    \r\n    -keep class aavax.** {*;}\r\n    -keep class org.apache.poi.** {*;}\r\n    -keep class org.apache.xmlbeans.** {*;}\r\n    -keep class com.fasterxml.** {*;}\r\n    -keep class com.microsoft.schemas.** {*;}\r\n    \r\n    -keep class org.openxmlformats.** {*;}\r\n    -keep class org.openxmlformats.schemas.** {*;}\r\n    -keep class schemaorg_apache_xmlbeans.** {*;}\r\n    -keep class schemasMicrosoftComVml.** {*;}\r\n    -keep class schemasMicrosoftComOfficeExcel.** {*;}\r\n    -keep class schemasMicrosoftComOfficeOffice.** {*;}\r\n    \r\n    -keepclasseswithmembers class aavax.** {*;}\r\n    -keepclasseswithmembers class org.apache.poi.** {*;}\r\n    -keepclasseswithmembers class org.apache.xmlbeans.** {*;}\r\n    -keepclasseswithmembers class com.fasterxml.** {*;}\r\n    -keepclasseswithmembers class com.microsoft.schemas.** {*;}\r\n    \r\n    -keepclasseswithmembers class org.openxmlformats.** {*;}\r\n    -keepclasseswithmembers class org.openxmlformats.schemas.** {*;}\r\n    -keepclasseswithmembers class schemaorg_apache_xmlbeans.** {*;}\r\n    -keepclasseswithmembers class schemasMicrosoftComVml.** {*;}\r\n    -keepclasseswithmembers class schemasMicrosoftComOfficeExcel.** {*;}\r\n    -keepclasseswithmembers class schemasMicrosoftComOfficeOffice.** {*;}\r\n    \r\n    -keep class org.w3c.** {*;}\r\n    -keep class org.dom4j.** {*;}\r\n    -keep class org.etsi.** {*;}\r\n    -keep class com.graphbuilder.** {*;}\r\n    -dontwarn org.etsi.**\r\n    -dontnote com.microsoft.schemas.**\r\n    -dontnote com.graphbuilder.**\r\n    -dontwarn org.openxmlformats.**\r\n    -dontwarn org.w3c.**\r\n    -dontwarn org.dom4j.**\r\n    -dontwarn schemasMicrosoftComVml.**\r\n    -dontwarn schemasMicrosoftComOfficeExcel.**\r\n    -dontwarn schemasMicrosoftComOfficeOffice.**\r\n    -dontwarn schemasMicrosoftComOfficeWord.**\r\n\r\n\r\n","title":"ProGuard settings for Apache POI","body":"<p>for read/write excel [xls|xlsx] files. \nI use below in proguard</p>\n\n<pre><code># poi\n# https://github.com/centic9/poi-on-android/blob/master/poitest/proguard-rules.pro\n    -keeppackagenames aavax.**\n-keeppackagenames org.apache.poi.**\n-keeppackagenames org.apache.poi.ss.formula.function\n-keeppackagenames org.openxmlformats.**\n-keeppackagenames org.openxmlformats.schemas.**\n\n-keep class aavax.** {*;}\n-keep class org.apache.poi.** {*;}\n-keep class org.apache.xmlbeans.** {*;}\n-keep class com.fasterxml.** {*;}\n-keep class com.microsoft.schemas.** {*;}\n\n-keep class org.openxmlformats.** {*;}\n-keep class org.openxmlformats.schemas.** {*;}\n-keep class schemaorg_apache_xmlbeans.** {*;}\n-keep class schemasMicrosoftComVml.** {*;}\n-keep class schemasMicrosoftComOfficeExcel.** {*;}\n-keep class schemasMicrosoftComOfficeOffice.** {*;}\n\n-keepclasseswithmembers class aavax.** {*;}\n-keepclasseswithmembers class org.apache.poi.** {*;}\n-keepclasseswithmembers class org.apache.xmlbeans.** {*;}\n-keepclasseswithmembers class com.fasterxml.** {*;}\n-keepclasseswithmembers class com.microsoft.schemas.** {*;}\n\n-keepclasseswithmembers class org.openxmlformats.** {*;}\n-keepclasseswithmembers class org.openxmlformats.schemas.** {*;}\n-keepclasseswithmembers class schemaorg_apache_xmlbeans.** {*;}\n-keepclasseswithmembers class schemasMicrosoftComVml.** {*;}\n-keepclasseswithmembers class schemasMicrosoftComOfficeExcel.** {*;}\n-keepclasseswithmembers class schemasMicrosoftComOfficeOffice.** {*;}\n\n-keep class org.w3c.** {*;}\n-keep class org.dom4j.** {*;}\n-keep class org.etsi.** {*;}\n-keep class com.graphbuilder.** {*;}\n-dontwarn org.etsi.**\n-dontnote com.microsoft.schemas.**\n-dontnote com.graphbuilder.**\n-dontwarn org.openxmlformats.**\n-dontwarn org.w3c.**\n-dontwarn org.dom4j.**\n-dontwarn schemasMicrosoftComVml.**\n-dontwarn schemasMicrosoftComOfficeExcel.**\n-dontwarn schemasMicrosoftComOfficeOffice.**\n-dontwarn schemasMicrosoftComOfficeWord.**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9189189,"reputation":163,"user_id":6830323,"display_name":"kaiv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647177899,"creation_date":1647177899,"answer_id":71457177,"question_id":25582741,"body_markdown":"Adding next classes will be enough:\r\n\r\n    -keep class org.apache.poi.** {*;}\r\n    -keep class org.apache.xmlbeans.** {*;}\r\n    -keep class com.fasterxml.** {*;}\r\n    -keep class com.microsoft.schemas.** {*;}\r\n    -keep class org.openxmlformats.** {*;}\r\n    -keep class org.openxmlformats.schemas.** {*;}\r\n    -keep class schemaorg_apache_xmlbeans.** {*;}","title":"ProGuard settings for Apache POI","body":"<p>Adding next classes will be enough:</p>\n<pre><code>-keep class org.apache.poi.** {*;}\n-keep class org.apache.xmlbeans.** {*;}\n-keep class com.fasterxml.** {*;}\n-keep class com.microsoft.schemas.** {*;}\n-keep class org.openxmlformats.** {*;}\n-keep class org.openxmlformats.schemas.** {*;}\n-keep class schemaorg_apache_xmlbeans.** {*;}\n</code></pre>\n"}],"owner":{"account_id":2259164,"reputation":3411,"user_id":1989647,"accept_rate":66,"display_name":"mittelmania"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25582815,"answer_count":3,"score":3,"last_activity_date":1647177899,"creation_date":1409404321,"question_id":25582741,"body_markdown":"I&#39;m building an application that uses the Apache POI library. When I debug the app (compile it without running Proguard) everything is working great, however after exporting the APK, when I run the application and open an Excel file I get the following exception:\r\n\r\n`RuntimeException - Caused by: java.lang.ExceptionInInitializerError at org.apache.poi.hssf.usermodel.HSSFWorkbook.&lt;init&gt;(HSSFWorkbook.java:301)`\r\n\r\n\r\nHere is my proguard settings file:\r\n\r\n    -injars      bin/classes\r\n    -injars      libs/android-support-v13.jar\r\n    -outjars     bin/classes-processed.jar\r\n    -libraryjars /usr/bin/adt/sdk/platforms/android-19/android.jar\r\n    -libraryjars libs/poi-3.10.1.jar\r\n    \r\n    -dontpreverify\r\n    -repackageclasses &#39;&#39;\r\n    -allowaccessmodification\r\n    -optimizations !code/simplification/arithmetic\r\n    -keepattributes *Annotation*\r\n    \r\n    -dontwarn org.apache.poi.**\r\n    -dontwarn com.google.**\r\n    -dontwarn android.support.**\r\n    \r\n    -keep public class * extends android.app.Activity\r\n    -keep public class * extends android.support.v4.app.FragmentActivity\r\n    -keep public class * extends android.support.v4.app.Fragment\r\n    -keep public class * extends android.app.Application\r\n    -keep public class * extends android.app.Service\r\n    -keep public class * extends android.content.BroadcastReceiver\r\n    \r\n    -keep class com.android.vending.billing.**\r\n    \r\n    -keep public class * extends android.view.View {\r\n        public &lt;init&gt;(android.content.Context);\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\r\n        public void set*(...);\r\n    }\r\n    \r\n    -keepclasseswithmembers class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\r\n    }\r\n    \r\n    -keepclasseswithmembers class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\r\n    }\r\n    \r\n    -keepclassmembers class * implements android.os.Parcelable {\r\n        static android.os.Parcelable$Creator CREATOR;\r\n    }\r\n    \r\n    -keepclassmembers class **.R$* {\r\n        public static &lt;fields&gt;;\r\n    }\r\n\r\nWhat is the correct configuration for Apache POI in Proguard? I use POI to only read the old (Excel 97) format so I don&#39;t need all the other jars.","title":"ProGuard settings for Apache POI","body":"<p>I'm building an application that uses the Apache POI library. When I debug the app (compile it without running Proguard) everything is working great, however after exporting the APK, when I run the application and open an Excel file I get the following exception:</p>\n\n<p><code>RuntimeException - Caused by: java.lang.ExceptionInInitializerError at org.apache.poi.hssf.usermodel.HSSFWorkbook.&lt;init&gt;(HSSFWorkbook.java:301)</code></p>\n\n<p>Here is my proguard settings file:</p>\n\n<pre><code>-injars      bin/classes\n-injars      libs/android-support-v13.jar\n-outjars     bin/classes-processed.jar\n-libraryjars /usr/bin/adt/sdk/platforms/android-19/android.jar\n-libraryjars libs/poi-3.10.1.jar\n\n-dontpreverify\n-repackageclasses ''\n-allowaccessmodification\n-optimizations !code/simplification/arithmetic\n-keepattributes *Annotation*\n\n-dontwarn org.apache.poi.**\n-dontwarn com.google.**\n-dontwarn android.support.**\n\n-keep public class * extends android.app.Activity\n-keep public class * extends android.support.v4.app.FragmentActivity\n-keep public class * extends android.support.v4.app.Fragment\n-keep public class * extends android.app.Application\n-keep public class * extends android.app.Service\n-keep public class * extends android.content.BroadcastReceiver\n\n-keep class com.android.vending.billing.**\n\n-keep public class * extends android.view.View {\n    public &lt;init&gt;(android.content.Context);\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n    public void set*(...);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n}\n\n-keepclassmembers class * implements android.os.Parcelable {\n    static android.os.Parcelable$Creator CREATOR;\n}\n\n-keepclassmembers class **.R$* {\n    public static &lt;fields&gt;;\n}\n</code></pre>\n\n<p>What is the correct configuration for Apache POI in Proguard? I use POI to only read the old (Excel 97) format so I don't need all the other jars.</p>\n"},{"tags":["java","spring","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1646592137,"post_id":71372928,"comment_id":126156455,"body_markdown":"You can catch the exception in the test.","body":"You can catch the exception in the test."}],"answers":[{"tags":[],"owner":{"account_id":18078154,"reputation":21,"user_id":13140813,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647177379,"creation_date":1647177379,"answer_id":71457109,"question_id":71372928,"body_markdown":"If you are using Mockito **doThrow()** and want to assert the exception message, you can add the below annotation to you test\r\n\r\n    @Test(expected=MyException.class)\r\n\r\nThis will assert that an exception has occurred. \r\n\r\n\r\nElse, if your intention is to stub the method which makes database call, you can try using Mockito&#39;s **doNothing()**\r\n\r\n    Mockito.doNothing().when(mock).method()","title":"Handling a failure with mockito","body":"<p>If you are using Mockito <strong>doThrow()</strong> and want to assert the exception message, you can add the below annotation to you test</p>\n<pre><code>@Test(expected=MyException.class)\n</code></pre>\n<p>This will assert that an exception has occurred.</p>\n<p>Else, if your intention is to stub the method which makes database call, you can try using Mockito's <strong>doNothing()</strong></p>\n<pre><code>Mockito.doNothing().when(mock).method()\n</code></pre>\n"}],"owner":{"account_id":24406961,"reputation":3,"user_id":18335027,"display_name":"newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647177379,"creation_date":1646589707,"question_id":71372928,"body_markdown":"I implemented an endpoint which has to make changes on the database. I now want to check if the rollback works if something goes wrong during the transaction. I have mocked a success and the next step in the test should mock a test failure. The problem is: If I tell Mockito to throw an exception, I can&#39;t check the results later, because then it terminates with the exception. But I want to make sure that the data in the database has not changed. So Mockito should continue, despite failure. How can this be done? \r\n","title":"Handling a failure with mockito","body":"<p>I implemented an endpoint which has to make changes on the database. I now want to check if the rollback works if something goes wrong during the transaction. I have mocked a success and the next step in the test should mock a test failure. The problem is: If I tell Mockito to throw an exception, I can't check the results later, because then it terminates with the exception. But I want to make sure that the data in the database has not changed. So Mockito should continue, despite failure. How can this be done?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8472,"page":1520,"page_size":100}
